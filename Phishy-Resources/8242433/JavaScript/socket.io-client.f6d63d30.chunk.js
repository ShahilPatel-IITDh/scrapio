(this["webpackJsonpdefi-insight-react"]=this["webpackJsonpdefi-insight-react"]||[]).push([[23],{"2qj+":function(t,e,n){"use strict";var i=n("VezB");var s=n("2bPg"),o=n("BRlI"),r=n("tquP"),c=n("tLe6"),a=n("00an"),h=n("OfKe"),u=n("Q5Ww"),f=n("5PnP"),l=n("mbxr");function p(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var y=n("sAfb"),d=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),v=function(t){Object(a.a)(n,t);var e=Object(c.a)(n);function n(t,i,o){var r;return Object(s.a)(this,n),(r=e.call(this)).connected=!1,r.receiveBuffer=[],r.sendBuffer=[],r.ids=0,r.acks={},r.flags={},r.io=t,r.nsp=i,o&&o.auth&&(r.auth=o.auth),r.io._autoConnect&&r.open(),r}return Object(o.a)(n,[{key:"subEvents",value:function(){if(!this.subs){var t=this.io;this.subs=[p(t,"open",this.onopen.bind(this)),p(t,"packet",this.onpacket.bind(this)),p(t,"error",this.onerror.bind(this)),p(t,"close",this.onclose.bind(this))]}}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}},{key:"emit",value:function(t){if(d.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.unshift(t);var s={type:l.PacketType.EVENT,data:n,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var o=this.ids++,r=n.pop();this._registerAckCallback(o,r),s.id=o}var c=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,a=this.flags.volatile&&(!c||!this.connected);return a||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}},{key:"_registerAckCallback",value:function(t,e){var n=this,i=this.flags.timeout;if(void 0!==i){var s=this.io.setTimeoutFn((function(){delete n.acks[t];for(var i=0;i<n.sendBuffer.length;i++)n.sendBuffer[i].id===t&&n.sendBuffer.splice(i,1);e.call(n,new Error("operation has timed out"))}),i);this.acks[t]=function(){n.io.clearTimeoutFn(s);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];e.apply(n,[null].concat(i))}}else this.acks[t]=e}},{key:"packet",value:function(t){t.nsp=this.nsp,this.io._packet(t)}},{key:"onopen",value:function(){var t=this;"function"==typeof this.auth?this.auth((function(e){t.packet({type:l.PacketType.CONNECT,data:e})})):this.packet({type:l.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(t){this.connected||this.emitReserved("connect_error",t)}},{key:"onclose",value:function(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}},{key:"onpacket",value:function(t){if(t.nsp===this.nsp)switch(t.type){case l.PacketType.CONNECT:if(t.data&&t.data.sid){var e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case l.PacketType.EVENT:case l.PacketType.BINARY_EVENT:this.onevent(t);break;case l.PacketType.ACK:case l.PacketType.BINARY_ACK:this.onack(t);break;case l.PacketType.DISCONNECT:this.ondisconnect();break;case l.PacketType.CONNECT_ERROR:this.destroy();var n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}},{key:"emitEvent",value:function(t){if(this._anyListeners&&this._anyListeners.length){var e,i=this._anyListeners.slice(),s=Object(h.a)(i);try{for(s.s();!(e=s.n()).done;){e.value.apply(this,t)}}catch(o){s.e(o)}finally{s.f()}}Object(f.a)(Object(u.a)(n.prototype),"emit",this).apply(this,t)}},{key:"ack",value:function(t){var e=this,n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];e.packet({type:l.PacketType.ACK,id:t,data:s})}}}},{key:"onack",value:function(t){var e=this.acks[t.id];"function"===typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}},{key:"onconnect",value:function(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach((function(e){return t.emitEvent(e)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(e){t.notifyOutgoingListeners(e),t.packet(e)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(t){return t()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:l.PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(t){return this.flags.compress=t,this}},{key:"timeout",value:function(t){return this.flags.timeout=t,this}},{key:"onAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}},{key:"prependAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}},{key:"offAny",value:function(t){if(!this._anyListeners)return this;if(t){for(var e=this._anyListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}},{key:"prependAnyOutgoing",value:function(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}},{key:"offAnyOutgoing",value:function(t){if(!this._anyOutgoingListeners)return this;if(t){for(var e=this._anyOutgoingListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var e,n=this._anyOutgoingListeners.slice(),i=Object(h.a)(n);try{for(i.s();!(e=i.n()).done;){e.value.apply(this,t.data)}}catch(s){i.e(s)}finally{i.f()}}}},{key:"disconnected",get:function(){return!this.connected}},{key:"active",get:function(){return!!this.subs}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}}]),n}(y.a);function k(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}k.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},k.prototype.reset=function(){this.attempts=0},k.prototype.setMin=function(t){this.ms=t},k.prototype.setMax=function(t){this.max=t},k.prototype.setJitter=function(t){this.jitter=t};var g=function(t){Object(a.a)(n,t);var e=Object(c.a)(n);function n(t,o){var c,a;Object(s.a)(this,n),(c=e.call(this)).nsps={},c.subs=[],t&&"object"===typeof t&&(o=t,t=void 0),(o=o||{}).path=o.path||"/socket.io",c.opts=o,Object(i.b)(Object(r.a)(c),o),c.reconnection(!1!==o.reconnection),c.reconnectionAttempts(o.reconnectionAttempts||1/0),c.reconnectionDelay(o.reconnectionDelay||1e3),c.reconnectionDelayMax(o.reconnectionDelayMax||5e3),c.randomizationFactor(null!==(a=o.randomizationFactor)&&void 0!==a?a:.5),c.backoff=new k({min:c.reconnectionDelay(),max:c.reconnectionDelayMax(),jitter:c.randomizationFactor()}),c.timeout(null==o.timeout?2e4:o.timeout),c._readyState="closed",c.uri=t;var h=o.parser||l;return c.encoder=new h.Encoder,c.decoder=new h.Decoder,c._autoConnect=!1!==o.autoConnect,c._autoConnect&&c.open(),c}return Object(o.a)(n,[{key:"reconnection",value:function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}},{key:"reconnectionAttempts",value:function(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}},{key:"reconnectionDelay",value:function(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}},{key:"randomizationFactor",value:function(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}},{key:"reconnectionDelayMax",value:function(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}},{key:"timeout",value:function(t){return arguments.length?(this._timeout=t,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var e=this;if(~this._readyState.indexOf("open"))return this;this.engine=new i.a(this.uri,this.opts);var n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;var o=p(n,"open",(function(){s.onopen(),t&&t()})),r=p(n,"error",(function(n){s.cleanup(),s._readyState="closed",e.emitReserved("error",n),t?t(n):s.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;0===c&&o();var a=this.setTimeoutFn((function(){o(),n.close(),n.emit("error",new Error("timeout"))}),c);this.opts.autoUnref&&a.unref(),this.subs.push((function(){clearTimeout(a)}))}return this.subs.push(o),this.subs.push(r),this}},{key:"connect",value:function(t){return this.open(t)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var t=this.engine;this.subs.push(p(t,"ping",this.onping.bind(this)),p(t,"data",this.ondata.bind(this)),p(t,"error",this.onerror.bind(this)),p(t,"close",this.onclose.bind(this)),p(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(t){this.decoder.add(t)}},{key:"ondecoded",value:function(t){this.emitReserved("packet",t)}},{key:"onerror",value:function(t){this.emitReserved("error",t)}},{key:"socket",value:function(t,e){var n=this.nsps[t];return n||(n=new v(this,t,e),this.nsps[t]=n),n}},{key:"_destroy",value:function(t){for(var e=0,n=Object.keys(this.nsps);e<n.length;e++){var i=n[e];if(this.nsps[i].active)return}this._close()}},{key:"_packet",value:function(t){for(var e=this.encoder.encode(t),n=0;n<e.length;n++)this.engine.write(e[n],t.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(t){return t()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var i=this.setTimeoutFn((function(){e.skipReconnect||(t.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((function(n){n?(e._reconnecting=!1,e.reconnect(),t.emitReserved("reconnect_error",n)):e.onreconnect()})))}),n);this.opts.autoUnref&&i.unref(),this.subs.push((function(){clearTimeout(i)}))}}},{key:"onreconnect",value:function(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}]),n}(y.a);n.d(e,"a",(function(){return _}));var m={};function _(t,e){"object"===typeof t&&(e=t,t=void 0);var n,s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,s=t;n=n||"undefined"!==typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t="undefined"!==typeof n?n.protocol+"//"+t:"https://"+t),s=Object(i.c)(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";var o=-1!==s.host.indexOf(":"),r=o?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+e,s.href=s.protocol+"://"+r+(n&&n.port===s.port?"":":"+s.port),s}(t,(e=e||{}).path||"/socket.io"),o=s.source,r=s.id,c=s.path,a=m[r]&&c in m[r].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||a?n=new g(o,e):(m[r]||(m[r]=new g(o,e)),n=m[r]),s.query&&!e.query&&(e.query=s.queryKey),n.socket(s.path,e)}Object.assign(_,{Manager:g,Socket:v,io:_,connect:_})}}]);