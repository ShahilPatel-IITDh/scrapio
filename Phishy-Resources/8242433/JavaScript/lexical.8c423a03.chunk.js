(this["webpackJsonpdefi-insight-react"]=this["webpackJsonpdefi-insight-react"]||[]).push([[18],{"/WL6":function(e,t,n){"use strict";var r=n("p5zw");e.exports=r},"1XQn":function(e,t,n){"use strict";var r=n("SB/r");e.exports=r},"49Fm":function(e,t,n){"use strict";var r=n("FdF9"),i=r.createContext(null);t.LexicalComposerContext=i,t.createLexicalComposerContext=function(e,t){var n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}},t.useLexicalComposerContext=function(){var e=r.useContext(i);if(null==e)throw Error("Minified Lexical error #8; visit https://lexical.dev/docs/error?code=8 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return e}},"5/1/":function(e,t,n){"use strict";var r=n("yMAQ"),i=n("dv3j"),o=n("FdF9"),l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?o.useLayoutEffect:o.useEffect;t.OnChangePlugin=function(e){var t=e.ignoreHistoryMergeTagChange,n=void 0===t||t,o=e.ignoreSelectionChange,a=void 0!==o&&o,s=e.onChange,u=i.useLexicalComposerContext(),c=r(u,1)[0];return l((function(){if(s)return c.registerUpdateListener((function(e){var t=e.editorState,r=e.dirtyElements,i=e.dirtyLeaves,o=e.prevEditorState,l=e.tags;a&&0===r.size&&0===i.size||n&&l.has("history-merge")||o.isEmpty()||s(t,c,l)}))}),[c,n,a,s]),null}},"7JAP":function(e,t,n){"use strict";var r=n("MIq5"),i=n("yMAQ"),o=n("aOS9"),l=n("abPH"),a=new Map;function s(e){for(;null!=e;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function u(e){var t=e.parentNode;if(null==t)throw Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function c(e){var t={};e=e.split(";");var n,r=o(e);try{for(r.s();!(n=r.n()).done;){var l=n.value;if(""!==l){var a=l.split(/:([^]+)/),s=i(a,2),u=s[0],c=s[1];t[u.trim()]=c.trim()}}}catch(f){r.e(f)}finally{r.f()}return t}function f(e){var t=a.get(e);return void 0===t&&(t=c(e),a.set(e,t)),t}function d(e,t){var n=f("getStyle"in e?e.getStyle():e.style);n=function(e){var t="";for(var n in e)n&&(t+="".concat(n,": ").concat(e[n],";"));return t}(t=Object.entries(t).reduce((function(e,t){var n=i(t,2),r=n[0],o=n[1];return null===o?delete e[r]:e[r]=o,e}),r({},n))),e.setStyle(n),a.set(n,t)}function g(e){for(;null!==e&&!l.$isRootOrShadowRoot(e);){var t=e.getLatest(),n=e.getParent();0===t.getChildrenSize()&&e.remove(!0),e=n}}function h(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(0!==t.length){var o=t[0],a=new Map,s=[];(o=l.$isElementNode(o)?o:o.getParentOrThrow()).isInline()&&(o=o.getParentOrThrow());for(var u=!1;null!==o;){var c=o.getPreviousSibling();if(null!==c){o=c,u=!0;break}if(o=o.getParentOrThrow(),l.$isRootOrShadowRoot(o))break}c=new Set;for(var f=0;f<n;f++){var d=t[f];l.$isElementNode(d)&&0===d.getChildrenSize()&&c.add(d.getKey())}var h=new Set;for(f=0;f<n;f++){var v=(d=t[f]).getParent();null!==v&&v.isInline()&&(v=v.getParent()),null!==v&&l.$isLeafNode(d)&&!h.has(d.getKey())?(d=v.getKey(),void 0===a.get(d)&&function(){var e=r();e.setFormat(v.getFormatType()),e.setIndent(v.getIndent()),s.push(e),a.set(d,e),v.getChildren().forEach((function(t){e.append(t),h.add(t.getKey()),l.$isElementNode(t)&&t.getChildrenKeys().forEach((function(e){return h.add(e)}))})),g(v)}()):c.has(d.getKey())&&((v=r()).setFormat(d.getFormatType()),v.setIndent(d.getIndent()),s.push(v),d.remove(!0))}if(null!==i)for(t=0;t<s.length;t++)i.append(s[t]);if(t=null,l.$isRootOrShadowRoot(o))if(u)if(null!==i)o.insertAfter(i);else for(i=s.length-1;0<=i;i--)o.insertAfter(s[i]);else if(u=o.getFirstChild(),l.$isElementNode(u)&&(o=u),null===u)if(i)o.append(i);else for(i=0;i<s.length;i++)u=s[i],o.append(u),t=u;else if(null!==i)u.insertBefore(i);else for(o=0;o<s.length;o++)i=s[o],u.insertBefore(i),t=i;else if(i)o.insertAfter(i);else for(i=s.length-1;0<=i;i--)u=s[i],o.insertAfter(u),t=u;s=l.$getPreviousSelection(),l.$isRangeSelection(s)&&s.anchor.getNode().isAttached()&&s.focus.getNode().isAttached()?l.$setSelection(s.clone()):null!==t?t.selectEnd():e.dirty=!0}}function v(e,t,n,r){e.modify(t?"extend":"move",n,r)}function _(e){return e=e.anchor.getNode(),"rtl"===(l.$isRootNode(e)?e:e.getParentOrThrow()).getDirection()}t.$addNodeStyle=function(e){var t=c(e=e.getStyle());a.set(e,t)},t.$cloneWithProperties=function(e){var t=(e=e.getLatest()).constructor.clone(e);return t.__parent=e.__parent,t.__next=e.__next,t.__prev=e.__prev,l.$isElementNode(e)&&l.$isElementNode(t)?(t.__first=e.__first,t.__last=e.__last,t.__size=e.__size,t.__format=e.__format,t.__indent=e.__indent,t.__dir=e.__dir,t):(l.$isTextNode(e)&&l.$isTextNode(t)&&(t.__format=e.__format,t.__style=e.__style,t.__mode=e.__mode,t.__detail=e.__detail),t)},t.$getSelectionStyleValueForProperty=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=null,i=e.getNodes(),o=e.anchor,a=e.focus,s=e.isBackward(),u=s?a.offset:o.offset;if(o=s?a.getNode():o.getNode(),""!==e.style&&(null!==(e=f(e.style))&&t in e))return e[t];for(e=0;e<i.length;e++){var c=i[e];if((0===e||0!==u||!c.is(o))&&l.$isTextNode(c))if(a=t,s=n,a=null!==(c=f(c=c.getStyle()))&&c[a]||s,null===r)r=a;else if(r!==a){r="";break}}return null===r?n:r},t.$isAtNodeEnd=function(e){return"text"===e.type?e.offset===e.getNode().getTextContentSize():e.offset===e.getNode().getChildrenSize()},t.$isParentElementRTL=_,t.$moveCaretSelection=v,t.$moveCharacter=function(e,t,n){var r=_(e);v(e,t,n?!r:r,"character")},t.$patchStyleText=function(e,t){var n=e.getNodes(),r=n.length-1,o=n[0],a=n[r];if(e.isCollapsed())d(e,t);else{var s=e.anchor,u=e.focus,c=o.getTextContent().length,f=u.offset,g=s.offset,h=s.isBefore(u),v=h?g:f;e=h?f:g;var _=h?s.type:u.type,p=h?u.type:s.type;if(s=h?u.key:s.key,l.$isTextNode(o)&&v===c&&(u=o.getNextSibling(),l.$isTextNode(u)&&(v=g=0,o=u)),1===n.length)l.$isTextNode(o)&&((v="element"===_?0:g>f?f:g)!==(e="element"===p?c:g>f?g:f)&&(0===v&&e===c?(d(o,t),o.select(v,e)):(n=o.splitText(v,e),d(n=0===v?n[0]:n[1],t),n.select(0,e-v))));else for(l.$isTextNode(o)&&v<o.getTextContentSize()&&(0!==v&&(o=o.splitText(v)[1]),d(o,t)),l.$isTextNode(a)&&(v=a.getTextContent().length,a.__key!==s&&0!==e&&(e=v),e!==v&&(y=a.splitText(e),a=i(y,1)[0]),0!==e&&d(a,t)),e=1;e<r;e++){var y;c=(v=n[e]).getKey(),l.$isTextNode(v)&&c!==o.getKey()&&c!==a.getKey()&&!v.isToken()&&d(v,t)}}},t.$selectAll=function(e){var t=e.anchor;e=e.focus;var n=t.getNode().getTopLevelElementOrThrow().getParentOrThrow(),r=n.getFirstDescendant();n=n.getLastDescendant();var i="element",o="element",a=0;l.$isTextNode(r)?i="text":l.$isElementNode(r)||null===r||(r=r.getParentOrThrow()),l.$isTextNode(n)?(o="text",a=n.getTextContentSize()):l.$isElementNode(n)||null===n||(n=n.getParentOrThrow()),r&&n&&(t.set(r.getKey(),0,i),e.set(n.getKey(),a,o))},t.$setBlocksType=function(e,t){if("root"===e.anchor.key){t=t();var n=l.$getRoot();(e=n.getFirstChild())?e.replace(t,!0):n.append(t)}else for(n=e.getNodes(),e=e.anchor.getNode().getParentOrThrow(),-1===n.indexOf(e)&&n.push(e),e.isInline()&&(e=e.getParentOrThrow(),-1===n.indexOf(e)&&n.push(e)),e=0;e<n.length;e++){var r=n[e],i=r;if(!l.$isElementNode(i)||l.$isRootOrShadowRoot(i))i=!1;else{var o=i.getFirstChild();o=null===o||l.$isTextNode(o)||o.isInline(),i=!i.isInline()&&!1!==i.canBeEmpty()&&o}i&&((i=t()).setFormat(r.getFormatType()),i.setIndent(r.getIndent()),r.replace(i,!0))}},t.$shouldOverrideDefaultCharacterSelection=function(e,t){return e=l.$getAdjacentNode(e.focus,t),l.$isDecoratorNode(e)&&!e.isIsolated()||l.$isElementNode(e)&&!e.isInline()&&!e.canBeEmpty()},t.$sliceSelectedTextNodeContent=function(e,t){if(t.isSelected()&&!t.isSegmented()&&!t.isToken()&&(l.$isRangeSelection(e)||l.DEPRECATED_$isGridSelection(e))){var n=e.anchor.getNode(),r=e.focus.getNode(),o=t.is(n),a=t.is(r);if(o||a){o=e.isBackward();var s=e.getCharacterOffsets(),u=i(s,2),c=u[0],f=u[1];e=n.is(r),a=t.is(o?r:n),r=t.is(o?n:r),n=0;var d=void 0;e?(n=c>f?f:c,d=c>f?c:f):a?(n=o?f:c,d=void 0):r&&(n=0,d=o=o?c:f),t.__text=t.__text.slice(n,d)}}return t},t.$wrapNodes=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.getNodes(),i=r.length,o=e.anchor;if(0===i||1===i&&"element"===o.type&&0===o.getNode().getChildrenSize()){r=(e="text"===o.type?o.getNode().getParentOrThrow():o.getNode()).getChildren();var a=t();a.setFormat(e.getFormatType()),a.setIndent(e.getIndent()),r.forEach((function(e){return a.append(e)})),n&&(a=n.append(a)),e.replace(a)}else{o=null;for(var s=[],u=0;u<i;u++){var c=r[u];l.$isRootOrShadowRoot(c)?(h(e,s,s.length,t,n),s=[],o=c):null===o||null!==o&&l.$hasAncestor(c,o)?s.push(c):(h(e,s,s.length,t,n),s=[c])}h(e,s,s.length,t,n)}},t.createDOMRange=function(e,t,n,r,o){var a,c,f,d,g=t.getKey(),h=r.getKey(),v=document.createRange(),_=e.getElementByKey(g);if(e=e.getElementByKey(h),l.$isTextNode(t)&&(_=s(_)),l.$isTextNode(r)&&(e=s(e)),void 0===t||void 0===r||null===_||null===e)return null;"BR"===_.nodeName&&(a=u(_),_=(c=i(a,2))[0],n=c[1]),"BR"===e.nodeName&&(f=u(e),e=(d=i(f,2))[0],o=d[1]),t=_.firstChild,_===e&&null!=t&&"BR"===t.nodeName&&0===n&&0===o&&(o=1);try{v.setStart(_,n),v.setEnd(e,o)}catch(p){return null}return!v.collapsed||n===o&&g===h||(v.setStart(e,o),v.setEnd(_,n)),v},t.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];e=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);var r,i=(t=Array.from(t.getClientRects())).length;t.sort((function(e,t){var n=e.top-t.top;return 3>=Math.abs(n)?e.left-t.left:n}));for(var o=0;o<i;o++){var l=t[o],a=l.width+n===e.width;r&&r.top<=l.top&&r.top+r.height>l.top&&r.left+r.width>l.left||a?(t.splice(o--,1),i--):r=l}return t},t.getStyleObjectFromCSS=f,t.trimTextContentFromAnchor=function(e,t,n){var r=t.getNode();if(l.$isElementNode(r)){var o=r.getDescendantByIndex(t.offset);null!==o&&(r=o)}for(;0<n&&null!==r;){var a=r.getPreviousSibling(),s=0;if(null===a){for(var u=(o=r.getParentOrThrow()).getPreviousSibling();null===u;){if(null===(o=o.getParent())){a=null;break}u=o.getPreviousSibling()}null!==o&&(s=o.isInline()?0:2,a=l.$isElementNode(u)?u.getLastDescendant():u)}""===(u=r.getTextContent())&&l.$isElementNode(r)&&!r.isInline()&&(u="\n\n"),o=r.getTextContentSize(),!l.$isTextNode(r)||n>=o?(u=r.getParent(),r.remove(),null==u||0!==u.getChildrenSize()||l.$isRootNode(u)||u.remove(),n-=o+s,r=a):function(){var c,f,d,g,h=r.getKey();s=e.getEditorState().read((function(){var e=l.$getNodeByKey(h);return l.$isTextNode(e)&&e.isSimpleText()?e.getTextContent():null})),a=o-n;var v=u.slice(0,a);null!==s&&s!==u?(n=l.$getPreviousSelection(),o=r,r.isSimpleText()?r.setTextContent(s):(o=l.$createTextNode(s),r.replace(o)),l.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,o.select(n,n))):r.isSimpleText()?(s=t.key===h,(u=t.offset)<n&&(u=o),n=s?u-n:0,o=s?u:a,s&&0===n?(c=r.splitText(n,o),f=i(c,1),(n=f[0]).remove()):(d=r.splitText(n,o),g=i(d,2),(n=g[1]).remove())):(n=l.$createTextNode(v),r.replace(n)),n=0}()}}},"7wGS":function(e,t,n){"use strict";var r=n("G9dW");e.exports=r},"8OMv":function(e,t,n){"use strict";var r=n("yMAQ"),i=n("rhDr"),o=n("dv3j"),l=n("FdF9");function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?l.useLayoutEffect:l.useEffect;t.ContentEditable=function(e){var t=e.ariaActiveDescendant,n=e.ariaAutoComplete,u=e.ariaControls,c=e.ariaDescribedBy,f=e.ariaExpanded,d=e.ariaLabel,g=e.ariaLabelledBy,h=e.ariaMultiline,v=e.ariaOwns,_=e.ariaRequired,p=e.autoCapitalize,y=e.className,m=e.id,C=e.role,N=void 0===C?"textbox":C,x=e.spellCheck,T=void 0===x||x,E=e.style,k=e.tabIndex,S=e["data-testid"],O=i(e,["ariaActiveDescendant","ariaAutoComplete","ariaControls","ariaDescribedBy","ariaExpanded","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwns","ariaRequired","autoCapitalize","className","id","role","spellCheck","style","tabIndex","data-testid"]),D=o.useLexicalComposerContext(),R=r(D,1)[0],M=l.useState(!1),A=r(M,2),b=A[0],w=A[1],P=l.useCallback((function(e){R.setRootElement(e)}),[R]);return s((function(){return w(R.isEditable()),R.registerEditableListener((function(e){w(e)}))}),[R]),l.createElement("div",a({},O,{"aria-activedescendant":b?t:void 0,"aria-autocomplete":b?n:"none","aria-controls":b?u:void 0,"aria-describedby":c,"aria-expanded":b&&"combobox"===N?!!f:void 0,"aria-label":d,"aria-labelledby":g,"aria-multiline":h,"aria-owns":b?v:void 0,"aria-required":_,autoCapitalize:p,className:y,contentEditable:b,"data-testid":S,id:m,ref:P,role:b?N:void 0,spellCheck:T,style:E,tabIndex:k}))}},B4tO:function(e,t,n){"use strict";var r=n("IdMA");e.exports=r},F2pS:function(e,t,n){"use strict";var r=n("yMAQ"),i=n("dv3j"),o=n("abPH"),l=n("FdF9"),a="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?l.useLayoutEffect:l.useEffect;t.ClearEditorPlugin=function(e){var t=e.onClear,n=i.useLexicalComposerContext(),l=r(n,1)[0];return a((function(){return l.registerCommand(o.CLEAR_EDITOR_COMMAND,(function(){return l.update((function(){if(null==t){var e=o.$getRoot(),n=o.$getSelection(),r=o.$createParagraphNode();e.clear(),e.append(r),null!==n&&r.select()}else t()})),!0}),o.COMMAND_PRIORITY_EDITOR)}),[l,t]),null}},"FAO+":function(e,t,n){"use strict";var r=n("iJoy"),i=n("yMAQ"),o=n("aOS9"),l=n("yP/N"),a=n("abPH");function s(e,t){var n,r=o(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.type.startsWith(i))return!0}}catch(l){r.e(l)}finally{r.f()}return!1}function u(e,t){for(;e!==a.$getRoot()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}function c(e){return 1===e.nodeType}t.$splitNode=a.$splitNode,t.$dfs=function(e,t){var n=[];e=(e||a.$getRoot()).getLatest(),t=t||(a.$isElementNode(e)?e.getLastDescendant():e);for(var r=e,i=0;null!==(r=r.getParent());)i++;for(r=i;null!==e&&!e.is(t);)if(n.push({depth:r,node:e}),a.$isElementNode(e)&&0<e.getChildrenSize())e=e.getFirstChild(),r++;else for(i=null;null===i&&null!==e;)null===(i=e.getNextSibling())?(e=e.getParent(),r--):e=i;return null!==e&&e.is(t)&&n.push({depth:r,node:e}),n},t.$findMatchingParent=u,t.$getNearestBlockElementAncestorOrThrow=function(e){if(e=u(e,(function(e){return a.$isElementNode(e)&&!e.isInline()})),!a.$isElementNode(e))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return e},t.$getNearestNodeOfType=function(e,t){for(;null!=e;){if(e instanceof t)return e;e=e.getParent()}return null},t.$insertNodeToNearestRoot=function(e){var t=a.$getSelection();if(a.$isRangeSelection(t)){var n=t.focus;if(t=n.getNode(),n=n.offset,a.$isRootOrShadowRoot(t))null==(n=t.getChildAtIndex(n))?t.append(e):n.insertBefore(e),e.selectNext();else{var r,o;a.$isTextNode(t)?(r=t.getParentOrThrow(),o=t.getIndexWithinParent(),0<n&&(o+=1,t.splitText(n))):(r=t,o=n);var l=a.$splitNode(r,o);(t=i(l,2)[1]).insertBefore(e),t.selectStart()}}else a.$isNodeSelection(t)||a.DEPRECATED_$isGridSelection(t)?(t=t.getNodes())[t.length-1].getTopLevelElementOrThrow().insertAfter(e):a.$getRoot().append(e),t=a.$createParagraphNode(),e.insertAfter(t),t.select();return e.getLatest()},t.$restoreEditorState=function(e,t){var n,r=new Map,s=e._pendingEditorState,u=o(t._nodeMap);try{for(u.s();!(n=u.n()).done;){var c=i(n.value,2),f=c[0],d=c[1],g=l.$cloneWithProperties(d);a.$isTextNode(g)&&(g.__text=d.__text),r.set(f,g)}}catch(h){u.e(h)}finally{u.f()}s&&(s._nodeMap=r),e._dirtyType=2,e=t._selection,a.$setSelection(null===e?null:e.clone())},t.$wrapNodeInElement=function(e,t){return t=t(),e.replace(t),t.append(e),t},t.addClassNamesToElement=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){var n;"string"===typeof t&&(t=t.split(" ").filter((function(e){return""!==e})),(n=e.classList).add.apply(n,r(t)))}))},t.isHTMLAnchorElement=function(e){return c(e)&&"A"===e.tagName},t.isHTMLElement=c,t.isMimeType=s,t.mediaFileReader=function(e,t){var n=e[Symbol.iterator]();return new Promise((function(e,r){var i=[];!function o(){var l=n.next(),a=l.done,u=l.value;if(a)return e(i);var c=new FileReader;c.addEventListener("error",r),c.addEventListener("load",(function(){var e=c.result;"string"===typeof e&&i.push({file:u,result:e}),o()})),s(u,t)?c.readAsDataURL(u):o()}()}))},t.mergeRegister=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){t.forEach((function(e){return e()}))}},t.registerNestedElementResolver=function(e,t,n,r){return e.registerNodeTransform(t,(function(e){e:{for(var i=e.getChildren(),o=0;o<i.length;o++)if(i[o]instanceof t){i=null;break e}for(i=e;null!==i;)if(o=i,(i=i.getParent())instanceof t){i={child:o,parent:i};break e}i=null}if(null!==i){var l=i,a=l.child,s=l.parent;if(a.is(e)){if(r(s,e),i=(e=a.getNextSiblings()).length,s.insertAfter(a),0!==i){o=n(s),a.insertAfter(o);for(var u=0;u<i;u++)o.append(e[u])}s.canBeEmpty()||0!==s.getChildrenSize()||s.remove()}}}))},t.removeClassNamesFromElement=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){var n;"string"===typeof t&&(n=e.classList).remove.apply(n,r(t.split(" ")))}))}},G9dW:function(e,t,n){"use strict";var r=n("FdF9");function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var o={error:null},l=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state=o,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.setState(o)},n.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},n.componentDidUpdate=function(e,t){var n,r,i=this.props.resetKeys;null!==this.state.error&&null!==t.error&&function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,i)&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,i),this.reset())},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,i=t.FallbackComponent;if(t=t.fallback,null!==e){if(e={error:e,resetErrorBoundary:this.resetErrorBoundary},r.isValidElement(t))return t;if("function"===typeof n)return n(e);if(i)return r.createElement(i,e);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(r.Component);e.exports=function(e){var t=e.children,n=e.onError;return r.createElement(l,{fallback:r.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:n},t)}},GHEj:function(e,t,n){"use strict";var r=n("yMAQ"),i=n("B4tO"),o=n("dv3j"),l=n("xnsE"),a=n("abPH"),s=n("FdF9");function u(e,t){for(var n=0;n<t.length;n++){var r=t[n](e);if(r)return r}return null}var c=/[.,;\s]/;function f(e){var t;return e=e.getPreviousSibling(),a.$isElementNode(e)&&(e=e.getLastDescendant()),!(t=null===e||a.$isLineBreakNode(e))&&(t=a.$isTextNode(e))&&(e=e.getTextContent(),t=c.test(e[e.length-1])),t}function d(e){return e=e.getNextSibling(),a.$isElementNode(e)&&(e=e.getFirstDescendant()),null===e||a.$isLineBreakNode(e)||a.$isTextNode(e)&&c.test(e.getTextContent()[0])}function g(e,t,n){for(var r=e.getChildren(),i=r.length,o=0;o<i;o++){var l=r[o];if(!a.$isTextNode(l)||!l.isSimpleText())return h(e),void n(null,e.getURL())}null===(t=u(r=e.getTextContent(),t))||t.text!==r?(h(e),n(null,e.getURL())):f(e)&&d(e)?((r=e.getURL())!==t.url&&(e.setURL(t.url),n(t.url,r)),t.attributes&&((r=e.getRel())!==t.attributes.rel&&(e.setRel(t.attributes.rel||null),n(t.attributes.rel||null,r)),(r=e.getTarget())!==t.attributes.target&&(e.setTarget(t.attributes.target||null),n(t.attributes.target||null,r)))):(h(e),n(null,e.getURL()))}function h(e){var t=e.getChildren(),n=t.length;for(--n;0<=n;n--)e.insertAfter(t[n]);return e.remove(),t.map((function(e){return e.getLatest()}))}t.AutoLinkPlugin=function(e){var t=e.matchers,n=e.onChange,v=o.useLexicalComposerContext();return function(e,t,n){s.useEffect((function(){if(!e.hasNodes([i.AutoLinkNode]))throw Error("Minified Lexical error #77; visit https://lexical.dev/docs/error?code=77 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");var o=function(e,t){n&&n(e,t)};return l.mergeRegister(e.registerNodeTransform(a.TextNode,(function(e){var l=e.getParentOrThrow(),s=e.getPreviousSibling();if(i.$isAutoLinkNode(l))g(l,t,o);else if(!i.$isLinkNode(l)){if(e.isSimpleText()&&(c.test(e.getTextContent()[0])||!i.$isAutoLinkNode(s))){s=l=e.getTextContent();for(var v,_=0,p=e;(v=u(s,t))&&null!==v;){var y=v.index,m=v.length,C=y+m,N=_+y,x=_+C,T=l,E=e;if((0<N?c.test(T[N-1]):f(E))&&(x<T.length?c.test(T[x]):d(E))){var k,S,O,D,R=void 0;0===_+y?(k=p.splitText(_+m),R=(S=r(k,2))[0],p=S[1]):(O=p.splitText(_+y,_+y+m),R=(D=r(O,3))[1],p=D[2]),N=i.$createAutoLinkNode(v.url,v.attributes),(x=a.$createTextNode(v.text)).setFormat(R.getFormat()),x.setDetail(R.getDetail()),N.append(x),R.replace(N),n&&n(v.url,null),_=0}else _+=C;s=s.substring(C)}}l=e.getPreviousSibling(),v=e.getNextSibling(),R=e.getTextContent(),i.$isAutoLinkNode(l)&&!c.test(R[0])&&(l.append(e),g(l,t,o),e=l.getURL(),n&&n(null,e)),i.$isAutoLinkNode(v)&&!c.test(R[R.length-1])&&(h(v),g(v,t,o),e=v.getURL(),n&&n(null,e))}})))}),[e,t,n])}(r(v,1)[0],t,n),null},t.createLinkMatcherWithRegExp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(n){var r=e.exec(n);return null===r?null:{index:r.index,length:r[0].length,text:r[0],url:t(n)}}}},HBLN:function(e,t,n){"use strict";var r=n("5/1/");e.exports=r},I7M0:function(e,t,n){"use strict";var r=n("yMAQ"),i=n("abPH");t.registerDragonSupport=function(e){var t=window.location.origin,n=function(n){if(n.origin===t){var o=e.getRootElement();if(document.activeElement===o&&"string"===typeof(o=n.data)){try{var l=JSON.parse(o)}catch(s){return}if(l&&"nuanria_messaging"===l.protocol&&"request"===l.type&&(l=l.payload)&&"makeChanges"===l.functionId&&(l=l.args)){var a=r(l,5),s=a[0],u=a[1],c=a[2],f=a[3],d=a[4];e.update((function(){var e=i.$getSelection();if(i.$isRangeSelection(e)){var t=e.anchor,r=t.getNode(),o=0,l=0;i.$isTextNode(r)&&0<=s&&0<=u&&(o=s,l=s+u,e.setTextNodeRange(r,o,r,l)),o===l&&""===c||(e.insertRawText(c),r=t.getNode()),i.$isTextNode(r)&&(l=f+d,o=(o=f)>(t=r.getTextContentSize())?t:o,l=l>t?t:l,e.setTextNodeRange(r,o,r,l)),n.stopImmediatePropagation()}}))}}}};return window.addEventListener("message",n,!0),function(){window.removeEventListener("message",n,!0)}}},IdMA:function(e,t,n){"use strict";var r=n("MIq5"),i=n("8ZkK"),o=n("n3k3"),l=n("/75L"),a=n("tQZz"),s=n("MMxs"),u=n("10u2"),c=n("xnsE"),f=n("abPH"),d=new Set(["http:","https:","mailto:","sms:","tel:"]),g=function(e){u(n,e);var t=s(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;i(this,n),r=t.call(this,l);var a=o.target,s=void 0===a?null:a,u=o.rel,c=void 0===u?null:u,f=o.title,d=void 0===f?null:f;return r.__url=e,r.__target=s,r.__rel=c,r.__title=d,r}return a(n,null,[{key:"getType",value:function(){return"link"}},{key:"clone",value:function(e){return new n(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}}]),a(n,[{key:"createDOM",value:function(e){var t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),null!==this.__target&&(t.target=this.__target),null!==this.__rel&&(t.rel=this.__rel),null!==this.__title&&(t.title=this.__title),c.addClassNamesToElement(t,e.theme.link),t}},{key:"updateDOM",value:function(e,t){var n=this.__url,r=this.__target,i=this.__rel,o=this.__title;return n!==e.__url&&(t.href=n),r!==e.__target&&(r?t.target=r:t.removeAttribute("target")),i!==e.__rel&&(i?t.rel=i:t.removeAttribute("rel")),o!==e.__title&&(o?t.title=o:t.removeAttribute("title")),!1}},{key:"sanitizeUrl",value:function(e){try{var t=new URL(e);if(!d.has(t.protocol))return"about:blank"}catch(n){}return e}},{key:"exportJSON",value:function(){return r({},l(o(n.prototype),"exportJSON",this).call(this),{rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1})}},{key:"getURL",value:function(){return this.getLatest().__url}},{key:"setURL",value:function(e){this.getWritable().__url=e}},{key:"getTarget",value:function(){return this.getLatest().__target}},{key:"setTarget",value:function(e){this.getWritable().__target=e}},{key:"getRel",value:function(){return this.getLatest().__rel}},{key:"setRel",value:function(e){this.getWritable().__rel=e}},{key:"getTitle",value:function(){return this.getLatest().__title}},{key:"setTitle",value:function(e){this.getWritable().__title=e}},{key:"insertNewAfter",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=this.getParentOrThrow().insertNewAfter(e,t),f.$isElementNode(e)?(t=v(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),e.append(t),t):null}},{key:"canInsertTextBefore",value:function(){return!1}},{key:"canInsertTextAfter",value:function(){return!1}},{key:"canBeEmpty",value:function(){return!1}},{key:"isInline",value:function(){return!0}},{key:"extractWithChild",value:function(e,t){if(!f.$isRangeSelection(t))return!1;e=t.anchor.getNode();var n=t.focus.getNode();return this.isParentOf(e)&&this.isParentOf(n)&&0<t.getTextContent().length}}],[{key:"importDOM",value:function(){return{a:function(){return{conversion:h,priority:1}}}}},{key:"importJSON",value:function(e){var t=v(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}}]),n}(f.ElementNode);function h(e){var t=null;if(c.isHTMLAnchorElement(e)){var n=e.textContent;null!==n&&""!==n&&(t=v(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function v(e,t){return f.$applyNodeReplacement(new g(e,t))}function _(e){return e instanceof g}var p=function(e){u(n,e);var t=s(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"exportJSON",value:function(){return r({},l(o(n.prototype),"exportJSON",this).call(this),{type:"autolink",version:1})}},{key:"insertNewAfter",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=this.getParentOrThrow().insertNewAfter(e,t),f.$isElementNode(e)?(t=y(this.__url,{rel:this._rel,target:this.__target,title:this.__title}),e.append(t),t):null}}],[{key:"getType",value:function(){return"autolink"}},{key:"clone",value:function(e){return new n(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}},{key:"importJSON",value:function(e){var t=y(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}},{key:"importDOM",value:function(){return null}}]),n}(g);function y(e,t){return f.$applyNodeReplacement(new p(e,t))}var m=f.createCommand("TOGGLE_LINK_COMMAND");function C(e,t){for(;null!==e&&null!==(e=e.getParent())&&!t(e););return e}t.$createAutoLinkNode=y,t.$createLinkNode=v,t.$isAutoLinkNode=function(e){return e instanceof p},t.$isLinkNode=_,t.AutoLinkNode=p,t.LinkNode=g,t.TOGGLE_LINK_COMMAND=m,t.toggleLink=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t,r=n.target,i=n.title,o=void 0===t.rel?"noopener":t.rel;if(t=f.$getSelection(),f.$isRangeSelection(t))if(t=t.extract(),null===e)t.forEach((function(e){if(_(e=e.getParent())){for(var t=e.getChildren(),n=0;n<t.length;n++)e.insertBefore(t[n]);e.remove()}}));else{if(1===t.length){var l=t[0];if(null!==(l=_(l)?l:C(l,_)))return l.setURL(e),void 0!==r&&l.setTarget(r),null!==o&&l.setRel(o),void(void 0!==i&&l.setTitle(i))}var a=null,s=null;t.forEach((function(t){var n=t.getParent();if(n!==s&&null!==n&&(!f.$isElementNode(t)||t.isInline()))if(_(n))s=n,n.setURL(e),void 0!==r&&n.setTarget(r),null!==o&&s.setRel(o),void 0!==i&&s.setTitle(i);else if(n.is(a)||(a=n,s=v(e,{rel:o,target:r}),_(n)?null===t.getPreviousSibling()?n.insertBefore(s):n.insertAfter(s):t.insertBefore(s)),_(t)){if(!t.is(s)){if(null!==s){n=t.getChildren();for(var l=0;l<n.length;l++)s.append(n[l])}t.remove()}}else null!==s&&s.append(t)}))}}},L1dl:function(e,t,n){"use strict";var r=n("yMAQ"),i=n("iJoy"),o=n("aOS9"),l=n("yP/N"),a=n("abPH");function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null==r||t.isSelected(r),o=a.$isElementNode(t)&&t.excludeFromCopy("html"),u=t;null!==r&&(u=l.$cloneWithProperties(t),u=a.$isTextNode(u)&&null!=r?l.$sliceSelectedTextNodeContent(r,u):u);var c=a.$isElementNode(u)?u.getChildren():[],f=u.exportDOM(e),d=f.element,g=f.after;if(!d)return!1;for(var h=document.createDocumentFragment(),v=0;v<c.length;v++){var _=c[v],p=s(e,_,h,r);!i&&a.$isElementNode(t)&&p&&t.extractWithChild(_,r,"html")&&(i=!0)}return i&&!o?(d.append(h),n.append(d),g&&(e=g.call(u,d))&&d.replaceWith(e)):n.append(h),i}var u=new Set(["STYLE","SCRIPT"]);function c(e,t){var n,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,s=arguments.length>3?arguments[3]:void 0,f=[];if(u.has(e.nodeName))return f;var d,g=null,h=e,v=h.nodeName,_=t._htmlConversions.get(v.toLowerCase());if(v=null,void 0!==_){var p,y=o(_);try{for(y.s();!(p=y.n()).done;)null!==(_=(d=p.value)(e))&&(null===v||v.priority<_.priority)&&(v=_)}catch(k){y.e(k)}finally{y.f()}}if(v=(d=null!==v?v.conversion:null)?d(e):null,d=null,null!==v){if(d=v.after,_=v.node,null!==(g=Array.isArray(_)?_[_.length-1]:_)){var m,C,N=o(l);try{for(N.s();!(C=N.n()).done;){var x=r(C.value,2),T=x[1];if(!(g=T(g,s)))break}}catch(k){N.e(k)}finally{N.f()}g&&(m=f).push.apply(m,i(Array.isArray(_)?_:[g]))}null!=v.forChild&&l.set(e.nodeName,v.forChild)}for(e=e.childNodes,s=[],T=0;T<e.length;T++){var E;(E=s).push.apply(E,i(c(e[T],t,new Map(l),g)))}return null!=d&&(s=d(s)),null==g?f=f.concat(s):a.$isElementNode(g)&&(n=g).append.apply(n,i(s)),f}t.$generateHtmlFromNodes=function(e,t){if("undefined"===typeof document||"undefined"===typeof window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");for(var n=document.createElement("div"),r=a.$getRoot().getChildren(),i=0;i<r.length;i++)s(e,r[i],n,t);return n.innerHTML},t.$generateNodesFromDOM=function(e,t){t=t.body?t.body.childNodes:[];for(var n=[],r=0;r<t.length;r++){var i=t[r];u.has(i.nodeName)||null!==(i=c(i,e))&&(n=n.concat(i))}return n}},Mk5L:function(e,t,n){"use strict";var r=n("F2pS");e.exports=r},Opgp:function(e,t,n){"use strict";var r=n("ryE6");e.exports=r},Pcod:function(e,t,n){"use strict";var r=n("yMAQ"),i=n("abPH");function o(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!e&&(e=l(),t&&(e=e.trim()),""===e)}function l(){return i.$getRoot().getTextContent()}function a(e){if(!o(e,!1))return!1;var t=(e=i.$getRoot().getChildren()).length;if(1<t)return!1;for(var n=0;n<t;n++){var r=e[n];if(i.$isDecoratorNode(r))return!1;if(i.$isElementNode(r)){if(!i.$isParagraphNode(r)||0!==r.__indent)return!1;for(var l=(r=r.getChildren()).length,a=0;a<l;a++)if(!i.$isTextNode(r[n]))return!1}}return!0}t.$canShowPlaceholder=a,t.$canShowPlaceholderCurry=function(e){return function(){return a(e)}},t.$findTextIntersectionFromCharacters=function(e,t){var n=e.getFirstChild();e=0;e:for(;null!==n;){if(i.$isElementNode(n)){var r=n.getFirstChild();if(null!==r){n=r;continue}}else if(i.$isTextNode(n)){if(e+(r=n.getTextContentSize())>t)return{node:n,offset:t-e};e+=r}if(null===(r=n.getNextSibling())){for(n=n.getParent();null!==n;){if(null!==(r=n.getNextSibling())){n=r;continue e}n=n.getParent()}break}n=r}return null},t.$isRootTextContentEmpty=o,t.$isRootTextContentEmptyCurry=function(e,t){return function(){return o(e,t)}},t.$rootTextContent=l,t.registerLexicalTextEntity=function(e,t,n,o){var l=function(e){var t=i.$createTextNode(e.getTextContent());t.setFormat(e.getFormat()),e.replace(t)};return[e.registerNodeTransform(i.TextNode,(function(e){if(e.isSimpleText()){var a=e.getPreviousSibling(),s=e.getTextContent(),u=e;if(i.$isTextNode(a)){var c=a.getTextContent(),f=t(c+s);if(a instanceof n){if(null===f||0!==a.getLatest().__mode)return void l(a);if(0<(f=f.end-c.length))return u=c+(u=s.slice(0,f)),a.select(),a.setTextContent(u),void(f===s.length?e.remove():(a=s.slice(f),e.setTextContent(a)))}else if(null===f||f.start<c.length)return}for(;;){var d,g,h,v;if(s=f=null===(e=t(s))?"":s.slice(e.end),""===f){if(c=u.getNextSibling(),i.$isTextNode(c)){if(f=u.getTextContent()+c.getTextContent(),null===(f=t(f))){c instanceof n?l(c):c.markDirty();break}if(0!==f.start)break}}else if(null!==(c=t(f))&&0===c.start)break;if(null===e)break;if(0!==e.start||!i.$isTextNode(a)||!a.isTextEntity()){var _=void 0;if(0===e.start?(d=u.splitText(e.end),_=(g=r(d,2))[0],u=g[1]):(h=u.splitText(e.start,e.end),_=(v=r(h,3))[1],u=v[2]),(e=o(_)).setFormat(_.getFormat()),_.replace(e),null==u)break}}}})),e=e.registerNodeTransform(n,(function(e){var r=e.getTextContent(),o=t(r);null===o||0!==o.start?l(e):r.length>o.end?e.splitText(o.end):(r=e.getPreviousSibling(),i.$isTextNode(r)&&r.isTextEntity()&&(l(r),l(e)),r=e.getNextSibling(),i.$isTextNode(r)&&r.isTextEntity()&&(l(r),e instanceof n&&l(e)))}))]}},PsdK:function(e,t,n){"use strict";var r=n("Pcod");e.exports=r},Rc8S:function(e,t,n){"use strict";var r=n("MIq5"),i=n("n3k3"),o=n("/75L"),l=n("MMxs"),a=n("10u2"),s=n("8ZkK"),u=n("tQZz"),c=n("iJoy"),f=n("yMAQ"),d=n("aOS9"),g={},h={},v={},_={},p={},y={},m={},C={},N={},x={},T={},E={},k={},S={},O={},D={},R={},M={},A={},b={},w={},P={},I={},$={},L={},F={},B={},W={},z={},K={},Y={},H={},U={},G={},J={};function j(e){throw Error("Minified Lexical error #".concat(e,"; visit https://lexical.dev/docs/error?code=").concat(e," for the full message or ")+"use the non-minified dev environment for full errors and additional helpful warnings.")}var V="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Q=V&&"documentMode"in document?document.documentMode:null,q=V&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),X=V&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Z=!(!V||!("InputEvent"in window)||Q)&&"getTargetRanges"in new window.InputEvent("input"),ee=V&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),te=V&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ne=V&&/^(?=.*Chrome).*/i.test(navigator.userAgent),re=V&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ne,ie=ee||te||re?"\xa0":"\u200b",oe=X?"\xa0":ie,le=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,ae=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,se={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},ue={directionless:1,unmergeable:2},ce={center:2,end:6,justify:4,left:1,right:3,start:5},fe={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},de={normal:0,segmented:2,token:1},ge={0:"normal",2:"segmented",1:"token"},he=!1,ve=0;function _e(e){ve=e.timeStamp}function pe(e,t,n){return t.__lexicalLineBreak===e||void 0!==e["__lexicalKey_".concat(n._key)]}function ye(e,t,n){he=!0;var r=100<performance.now()-ve;try{Ir(e,(function(){for(var i=cr()||function(e){return e.getEditorState().read((function(){var e=cr();return null!==e?e.clone():null}))}(e),o=new Map,l=e.getRootElement(),a=e._editorState,s=e._blockCursorElement,u=!1,c="",g=0;g<t.length;g++){var h=t[g],v=h.type,_=h.target,p=Le(_,a);if(!(null===p&&_!==l||Lr(p)))if("characterData"===v){if(h=r&&Bn(p))e:{v=_;var y=p;if(jn(h=i)){var m=h.anchor.getNode();if(m.is(y)&&h.format!==m.getFormat()){h=!1;break e}}h=3===v.nodeType&&y.isAttached()}h&&(v=h=null,null!==(y=ft(e._window))&&y.anchorNode===_&&(h=y.anchorOffset,v=y.focusOffset),null!==(_=_.nodeValue)&&Je(p,_,h,v,!1))}else if("childList"===v){for(u=!0,v=h.addedNodes,y=0;y<v.length;y++){var C=$e(m=v[y]),N=m.parentNode;null==N||m===s||null!==C||"BR"===m.nodeName&&pe(m,N,e)||(X&&(C=m.innerText||m.nodeValue)&&(c+=C),N.removeChild(m))}if(0<(v=(h=h.removedNodes).length)){for(y=0,m=0;m<v;m++)("BR"===(N=h[m]).nodeName&&pe(N,_,e)||s===N)&&(_.appendChild(N),y++);v!==y&&(_===l&&(p=a._nodeMap.get("root")),o.set(_,p))}}}if(0<o.size){var x,T=d(o);try{for(T.s();!(x=T.n()).done;){var E=f(x.value,2),k=E[0],S=E[1];if(Br(S))for(o=S.getChildrenKeys(),l=k.firstChild,a=0;a<o.length;a++)null!==(s=e.getElementByKey(o[a]))&&(null==l?(k.appendChild(s),l=s):l!==s&&k.replaceChild(s,l),l=l.nextSibling);else Bn(S)&&S.markDirty()}}catch(O){T.e(O)}finally{T.f()}}if(0<(o=n.takeRecords()).length){for(l=0;l<o.length;l++)for(a=(s=o[l]).addedNodes,s=s.target,g=0;g<a.length;g++)null==(_=(p=a[g]).parentNode)||"BR"!==p.nodeName||pe(p,s,e)||_.removeChild(p);n.takeRecords()}null!==i&&(u&&(i.dirty=!0,ze(i)),X&&Xe(e)&&i.insertRawText(c))}))}finally{he=!1}}function me(e){var t=e._observer;null!==t&&ye(e,t.takeRecords(),t)}function Ce(e){0===ve&&rt(e).addEventListener("textInput",_e,!0),e._observer=new MutationObserver((function(t,n){ye(e,t,n)}))}var Ne=1,xe="function"===typeof queueMicrotask?queueMicrotask:function(e){Promise.resolve().then(e)};function Te(e){var t=document.activeElement;if(null===t)return!1;var n=t.nodeName;return Lr(Le(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function Ee(e,t,n){var r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!Te(t)&&ke(t)===e}catch(i){return!1}}function ke(e){for(;null!=e;){var t=e.__lexicalEditor;if(null!=t)return t;e=tt(e)}return null}function Se(e){return e.isToken()||e.isSegmented()}function Oe(e){for(;null!=e;){if(3===e.nodeType)return e;e=e.firstChild}return null}function De(e,t,n){return e&(t=se[t])&&(null===n||0===(n&t))?e^t:null===n||n&t?e|t:e}function Re(e){return Bn(e)||Tn(e)||Lr(e)}function Me(e,t){if(null!=t)e.__key=t;else{Er(),99<Nr&&j(14),t=Sr();var n=kr(),r=""+Ne++;n._nodeMap.set(r,e),Br(e)?t._dirtyElements.set(r,!0):t._dirtyLeaves.add(r),t._cloneNotNeeded.add(r),t._dirtyType=1,e.__key=r}}function Ae(e){var t=e.getParent();if(null!==t){var n=e.getWritable();t=t.getWritable();var r=e.getPreviousSibling();if(e=e.getNextSibling(),null===r)if(null!==e){var i=e.getWritable();t.__first=e.__key,i.__prev=null}else t.__first=null;else{if(i=r.getWritable(),null!==e){var o=e.getWritable();o.__prev=i.__key,i.__next=o.__key}else i.__next=null;n.__prev=null}null===e?null!==r?(e=r.getWritable(),t.__last=r.__key,e.__next=null):t.__last=null:(e=e.getWritable(),null!==r?((r=r.getWritable()).__next=e.__key,e.__prev=r.__key):e.__prev=null,n.__next=null),t.__size--,n.__parent=null}}function be(e){99<Nr&&j(14);var t=e.getLatest(),n=t.__parent,r=kr(),i=Sr(),o=r._nodeMap;if(r=i._dirtyElements,null!==n)e:for(;null!==n&&!r.has(n);){var l=o.get(n);if(void 0===l)break;r.set(n,!1),n=l.__parent}t=t.__key,i._dirtyType=1,Br(e)?r.set(t,!0):i._dirtyLeaves.add(t)}function we(e){Er();var t=Sr(),n=t._compositionKey;e!==n&&(t._compositionKey=e,null!==n&&(null!==(t=Ie(n))&&t.getWritable()),null!==e&&(null!==(e=Ie(e))&&e.getWritable()))}function Pe(){return Tr()?null:Sr()._compositionKey}function Ie(e,t){return void 0===(e=(t||kr())._nodeMap.get(e))?null:e}function $e(e,t){var n=Sr();return void 0!==(e=e["__lexicalKey_".concat(n._key)])?Ie(e,t):null}function Le(e,t){for(;null!=e;){var n=$e(e,t);if(null!==n)return n;e=tt(e)}return null}function Fe(e){var t=Object.assign({},e._decorators);return e._pendingDecorators=t}function Be(e){return e.read((function(){return We().getTextContent()}))}function We(){return kr()._nodeMap.get("root")}function ze(e){Er();var t=kr();null!==e&&(e.dirty=!0,e._cachedNodes=null),t._selection=e}function Ke(e){var t,n=Sr();e:{for(t=e;null!=t;){var r=t["__lexicalKey_".concat(n._key)];if(void 0!==r){t=r;break e}t=tt(t)}t=null}return null===t?e===(n=n.getRootElement())?Ie("root"):null:Ie(t)}function Ye(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function He(e){for(var t=[];null!==e;)t.push(e),e=e._parentEditor;return t}function Ue(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Ge(e,t,n){if(null!==(t=ft(t._window))){var r=t.anchorNode,i=t,o=i.anchorOffset,l=i.focusOffset;if(null!==r&&(t=3===r.nodeType?r.nodeValue:null,r=Le(r),null!==t&&Bn(r))){if(t===ie&&n)t=n,l=o=n.length;null!==t&&Je(r,t,o,l,e)}}}function Je(e,t,n,r,i){var o=e;if(o.isAttached()&&(i||!o.isDirty())){var l=o.isComposing(),a=t;if((l||i)&&t[t.length-1]===ie&&(a=t.slice(0,-1)),t=o.getTextContent(),i||a!==t)if(""===a)if(we(null),ee||te||re)o.remove();else{var s=Sr();setTimeout((function(){s.update((function(){o.isAttached()&&o.remove()}))}),20)}else{i=o.getParent(),t=fr();var u=o.getTextContentSize(),c=Pe(),f=o.getKey();o.isToken()||null!==c&&f===c&&!l||jn(t)&&(null!==i&&!i.canInsertTextBefore()&&0===t.anchor.offset||t.anchor.key===e.__key&&0===t.anchor.offset&&!o.canInsertTextBefore()||t.focus.key===e.__key&&t.focus.offset===u&&!o.canInsertTextAfter())?o.markDirty():(jn(e=cr())&&null!==n&&null!==r&&(e.setTextNodeRange(o,n,o,r),o.isSegmented()&&(n=Fn(n=o.getTextContent()),o.replace(n),o=n)),o.setTextContent(a))}}}function je(e,t){var n=e[t];return"string"===typeof n?(n=n.split(" "),e[t]=n):n}function Ve(e,t,n,r,i){0!==n.size&&(n=r.__key,void 0===(t=t.get(r.__type))&&j(33),r=t.klass,void 0===(t=e.get(r))&&(t=new Map,e.set(r,t)),r="destroyed"===(e=t.get(n))&&"created"===i,(void 0===e||r)&&t.set(n,r?"updated":i))}function Qe(e,t,n){var r=e.getParent(),i=n;return null!==r&&(t&&0===n?(i=e.getIndexWithinParent(),e=r):t||n!==e.getChildrenSize()||(i=e.getIndexWithinParent()+1,e=r)),e.getChildAtIndex(t?i-1:i)}function qe(e,t){var n=e.offset;return"element"===e.type?Qe(e=e.getNode(),t,n):(e=e.getNode(),t&&0===n||!t&&n===e.getTextContentSize()?null===(n=t?e.getPreviousSibling():e.getNextSibling())?Qe(e.getParentOrThrow(),t,e.getIndexWithinParent()+(t?0:1)):n:null)}function Xe(e){return"insertFromPaste"===(e=(e=rt(e).event)&&e.inputType)||"insertFromPasteAsQuotation"===e}function Ze(e){return!Kr(e)&&!e.isLastChild()&&!e.isInline()}function et(e,t){return void 0===(e=e._keyToDOMMap.get(t))&&j(75),e}function tt(e){return null!==(e=e.assignedSlot||e.parentElement)&&11===e.nodeType?e.host:e}function nt(e,t){for(e=e.getParent();null!==e;){if(e.is(t))return!0;e=e.getParent()}return!1}function rt(e){return null===(e=e._window)&&j(78),e}function it(e){for(e=e.getParentOrThrow();null!==e&&!ot(e);)e=e.getParentOrThrow();return e}function ot(e){return Kr(e)||Br(e)&&e.isShadowRoot()}function lt(e){return Me(e=e.constructor.clone(e),null),e}function at(e){var t=Sr(),n=e.constructor.getType();return void 0===(t=t._nodes.get(n))&&j(97),null!==(t=t.replace)?((t=t(e))instanceof e.constructor||j(98),t):e}function st(e,t){!Kr(e=e.getParent())||Br(t)||Lr(t)||j(99)}function ut(e){return(Lr(e)||Br(e)&&!e.canBeEmpty())&&!e.isInline()}function ct(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null,null!==(t=e.parentElement)&&t.removeChild(e)}function ft(e){return V?(e||window).getSelection():null}function dt(e,t){var n=e.getChildAtIndex(t);null==n&&(n=e),ot(e)&&j(102);var r=function e(t){var r=t.getParentOrThrow(),i=ot(r),o=t!==n||i?lt(t):t;if(i)return t.insertAfter(o),[t,o,o];var l=e(r),a=f(l,3),s=a[0],u=a[1],d=a[2];return t=t.getNextSiblings(),d.append.apply(d,[o].concat(c(t))),[s,u,o]}(n),i=f(r,2);return[i[0],i[1]]}function gt(e,t){for(;e!==We()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}function ht(e){for(var t=[],n=[e];0<n.length;){var r=n.pop();void 0===r&&j(112),Br(r)&&n.unshift.apply(n,c(r.getChildren())),r!==e&&t.push(r)}return t}function vt(e,t,n,r,i,o){for(e=e.getFirstChild();null!==e;){var l=e.__key;e.__parent===t&&(Br(e)&&vt(e,l,n,r,i,o),n.has(l)||o.delete(l),i.push(l)),e=e.getNextSibling()}}function _t(e,t){var n=e.__mode,r=e.__format;e=e.__style;var i=t.__mode,o=t.__format;return t=t.__style,(null===n||n===i)&&(null===r||r===o)&&(null===e||e===t)}function pt(e,t){var n=e.mergeWithSibling(t),r=Sr()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function yt(e){if(""===e.__text&&e.isSimpleText()&&!e.isUnmergeable())e.remove();else{for(var t;null!==(t=e.getPreviousSibling())&&Bn(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){_t(t,e)&&(e=pt(t,e));break}t.remove()}for(var n;null!==(n=e.getNextSibling())&&Bn(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){_t(e,n)&&pt(e,n);break}n.remove()}}}function mt(e){return Ct(e.anchor),Ct(e.focus),e}function Ct(e){for(;"element"===e.type;){var t=e.getNode(),n=e.offset;if(n===t.getChildrenSize()?(t=t.getChildAtIndex(n-1),n=!0):(t=t.getChildAtIndex(n),n=!1),Bn(t)){e.set(t.__key,n?t.getTextContentSize():0,"text");break}if(!Br(t))break;e.set(t.__key,n?t.getChildrenSize():0,"element")}}var Nt,xt,Tt,Et,kt,St,Ot,Dt,Rt,Mt,At="",bt="",wt="",Pt=!1,It=!1,$t=null;function Lt(e,t){var n=Ot.get(e);if(null!==t){var r=Qt(e);r.parentNode===t&&t.removeChild(r)}Dt.has(e)||xt._keyToDOMMap.delete(e),Br(n)&&Ft(e=Jt(n,Ot),0,e.length-1,null),void 0!==n&&Ve(Mt,Tt,Et,n,"destroyed")}function Ft(e,t,n,r){for(;t<=n;++t){var i=e[t];void 0!==i&&Lt(i,r)}}function Bt(e,t){e.setProperty("text-align",t)}function Wt(e,t){var n=Nt.theme.indent;if("string"===typeof n){var r=e.classList.contains(n);0<t&&!r?e.classList.add(n):1>t&&r&&e.classList.remove(n)}n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"40px",e.style.setProperty("padding-inline-start",0===t?"":"calc(".concat(t," * ").concat(n,")"))}function zt(e,t){e=e.style,0===t?Bt(e,""):1===t?Bt(e,"left"):2===t?Bt(e,"center"):3===t?Bt(e,"right"):4===t?Bt(e,"justify"):5===t?Bt(e,"start"):6===t&&Bt(e,"end")}function Kt(e,t,n){var r=Dt.get(e);void 0===r&&j(60);var i=r.createDOM(Nt,xt),o=xt._keyToDOMMap;if(i["__lexicalKey_"+xt._key]=e,o.set(e,i),Bn(r)?i.setAttribute("data-lexical-text","true"):Lr(r)&&i.setAttribute("data-lexical-decorator","true"),Br(r)){if(e=r.__indent,o=r.__size,0!==e&&Wt(i,e),0!==o){--o,e=Jt(r,Dt);var l=bt;bt="",Yt(e,r,0,o,i,null),Gt(r,i),bt=l}0!==(e=r.__format)&&zt(i,e),r.isInline()||Ut(null,r,i),Ze(r)&&(At+="\n\n",wt+="\n\n")}else o=r.getTextContent(),Lr(r)?(null!==(l=r.decorate(xt,Nt))&&jt(e,l),i.contentEditable="false"):Bn(r)&&(r.isDirectionless()||(bt+=o)),At+=o,wt+=o;return null!==t&&(null!=n?t.insertBefore(i,n):null!=(n=t.__lexicalLineBreak)?t.insertBefore(i,n):t.appendChild(i)),Ve(Mt,Tt,Et,r,"created"),i}function Yt(e,t,n,r,i,o){var l=At;for(At="";n<=r;++n)Kt(e[n],i,o);Ze(t)&&(At+="\n\n"),i.__lexicalTextContent=At,At=l+At}function Ht(e,t){return Tn(e=t.get(e))||Lr(e)&&e.isInline()}function Ut(e,t,n){e=null!==e&&(0===e.__size||Ht(e.__last,Ot)),t=0===t.__size||Ht(t.__last,Dt),e?t||(null!=(t=n.__lexicalLineBreak)&&n.removeChild(t),n.__lexicalLineBreak=null):t&&(t=document.createElement("br"),n.__lexicalLineBreak=t,n.appendChild(t))}function Gt(e,t){var n=t.__lexicalDir;if(t.__lexicalDirTextContent!==bt||n!==$t){var r=""===bt;if(r)var i=$t;else i=bt,i=le.test(i)?"rtl":ae.test(i)?"ltr":null;if(i!==n){var o=t.classList,l=Nt.theme,a=null!==n?l[n]:void 0,s=null!==i?l[i]:void 0;void 0!==a&&("string"===typeof a&&(a=a.split(" "),a=l[n]=a),o.remove.apply(o,c(a))),null===i||r&&"ltr"===i?t.removeAttribute("dir"):(void 0!==s&&("string"===typeof s&&(n=s.split(" "),s=l[i]=n),void 0!==s&&o.add.apply(o,c(s))),t.dir=i),It||(e.getWritable().__dir=i)}$t=i,t.__lexicalDirTextContent=bt,t.__lexicalDir=i}}function Jt(e,t){var n=[];for(e=e.__first;null!==e;){var r=t.get(e);void 0===r&&j(101),n.push(e),e=r.__next}return n}function jt(e,t){var n=xt._pendingDecorators,r=xt._decorators;if(null===n){if(r[e]===t)return;n=Fe(xt)}n[e]=t}function Vt(e){return null!==(e=e.nextSibling)&&e===xt._blockCursorElement&&(e=e.nextSibling),e}function Qt(e){return void 0===(e=Rt.get(e))&&j(75),e}var qt=Object.freeze({}),Xt=[["keydown",function(e,t){if(Zt=e.timeStamp,en=e.keyCode,!t.isComposing()){var n=e.keyCode,r=e.shiftKey,i=e.ctrlKey,o=e.metaKey,l=e.altKey;if(!br(t,S,e)){if(39!==n||i||o||l)if(39!==n||l||r||!i&&!o)if(37!==n||i||o||l)if(37!==n||l||r||!i&&!o)if(38!==n||i||o)if(40!==n||i||o)if(13===n&&r)an=!0,br(t,w,e);else if(32===n)br(t,P,e);else if(q&&i&&79===n)e.preventDefault(),an=!0,br(t,_,!0);else if(13!==n||r)if(q?l||o||!(8===n||72===n&&i):i||l||o||8!==n)if(27===n)br(t,$,e);else if(q?r||l||o||!(46===n||68===n&&i):i||l||o||46!==n)if(8===n&&(q?l:i))e.preventDefault(),br(t,N,!0);else if(46===n&&(q?l:i))e.preventDefault(),br(t,N,!1);else if(q&&o&&8===n)e.preventDefault(),br(t,x,!0);else if(q&&o&&46===n)e.preventDefault(),br(t,x,!1);else if(66===n&&!l&&(q?o:i))e.preventDefault(),br(t,T,"bold");else if(85===n&&!l&&(q?o:i))e.preventDefault(),br(t,T,"underline");else if(73===n&&!l&&(q?o:i))e.preventDefault(),br(t,T,"italic");else if(9!==n||l||i||o)if(90===n&&!r&&(q?o:i))e.preventDefault(),br(t,E,void 0);else{var a=q?90===n&&o&&r:89===n&&i||90===n&&i&&r;a?(e.preventDefault(),br(t,k,void 0)):Xn(t._editorState._selection)&&((a=!r&&(67===n&&(q?o:i)))?(e.preventDefault(),br(t,Y,e)):(a=!r&&(88===n&&(q?o:i)))?(e.preventDefault(),br(t,H,e)):65===n&&(q?o:i)&&(e.preventDefault(),t.update((function(){var e=We();e.select(0,e.getChildrenSize())}))))}else br(t,F,e);else 46===n?br(t,L,e):(e.preventDefault(),br(t,v,!1));else 8===n?br(t,I,e):(e.preventDefault(),br(t,v,!0));else an=!1,br(t,w,e);else br(t,b,e);else br(t,A,e);else br(t,M,e);else br(t,R,e);else br(t,D,e);else br(t,O,e);(i||r||l||o)&&br(t,J,e)}}}],["pointerdown",function(e,t){var n=e.target;e=e.pointerType,n instanceof Node&&"touch"!==e&&Ir(t,(function(){Lr(Le(n))||(ln=!0)}))}],["compositionstart",function(e,t){Ir(t,(function(){var n=cr();if(jn(n)&&!t.isComposing()){var r=n.anchor,i=n.anchor.getNode();we(r.key),(e.timeStamp<Zt+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&br(t,y,oe)}}))}],["compositionend",function(e,t){X?sn=!0:Ir(t,(function(){hn(t,e.data)}))}],["input",function(e,t){e.stopPropagation(),Ir(t,(function(){var n=cr(),r=e.data,i=gn(e);if(null!=r&&jn(n)&&cn(n,i,r,e.timeStamp,!1)){sn&&(hn(t,r),sn=!1);var o=n.anchor,l=o.getNode();if(null===(i=ft(t._window)))return;var a=o.offset;(o=Z&&!n.isCollapsed()&&Bn(l)&&null!==i.anchorNode)&&(o=(l=l.getTextContent().slice(0,a)+r+l.getTextContent().slice(a+n.focus.offset))===(3===(i=i.anchorNode).nodeType?i.nodeValue:null)),o||br(t,y,r),r=r.length,X&&1<r&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=r),ee||te||re||!t.isComposing()||(Zt=0,we(null))}else Ge(!1,t,null!==r?r:void 0),sn&&(hn(t,r||void 0),sn=!1);Er(),me(n=Sr())})),nn=null}],["click",function(e,t){Ir(t,(function(){var n=cr(),r=ft(t._window),i=fr();if(r)if(jn(n)){var o=n.anchor,l=o.getNode();"element"===o.type&&0===o.offset&&n.isCollapsed()&&!Kr(l)&&1===We().getChildrenSize()&&l.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i)?(r.removeAllRanges(),n.dirty=!0):3!==e.detail||n.isCollapsed()||l!==(r=n.focus.getNode())&&(Br(l)?l.select(0):l.getParentOrThrow().select(0))}else"touch"===e.pointerType&&(null!==(l=r.anchorNode)&&(1===(l=l.nodeType)||3===l))&&ze(r=ur(i,r,t));br(t,h,e)}))}],["cut",qt],["copy",qt],["dragstart",qt],["dragover",qt],["dragend",qt],["paste",qt],["focus",qt],["blur",qt],["drop",qt]];Z&&Xt.push(["beforeinput",function(e,t){return function(e,t){var n=e.inputType,r=gn(e);"deleteCompositionText"===n||X&&Xe(t)||"insertCompositionText"!==n&&Ir(t,(function(){var i=cr();if("deleteContentBackward"===n){if(null===i){var o=fr();if(!jn(o))return;ze(o.clone())}if(jn(i))return void(229===en&&e.timeStamp<Zt+30&&t.isComposing()&&i.anchor.key===i.focus.key?(we(null),Zt=0,setTimeout((function(){Ir(t,(function(){we(null)}))}),30),jn(i)&&(o=i.anchor.getNode(),o.markDirty(),i.format=o.getFormat(),i.style=o.getStyle())):(e.preventDefault(),br(t,v,!0)))}if(jn(i)){o=e.data,null!==nn&&Ge(!1,t,nn),i.dirty&&null===nn||!i.isCollapsed()||Kr(i.anchor.getNode())||null===r||i.applyDOMRange(r),nn=null;var l=i.focus,a=i.anchor.getNode();if(l=l.getNode(),"insertText"===n||"insertTranspose"===n)"\n"===o?(e.preventDefault(),br(t,_,!1)):"\n\n"===o?(e.preventDefault(),br(t,p,void 0)):null==o&&e.dataTransfer?(o=e.dataTransfer.getData("text/plain"),e.preventDefault(),i.insertRawText(o)):null!=o&&cn(i,r,o,e.timeStamp,!0)?(e.preventDefault(),br(t,y,o)):nn=o,tn=e.timeStamp;else switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":br(t,y,e);break;case"insertFromComposition":we(null),br(t,y,e);break;case"insertLineBreak":we(null),br(t,_,!1);break;case"insertParagraph":we(null),an?(an=!1,br(t,_,!1)):br(t,p,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":br(t,m,e);break;case"deleteByComposition":(function(e,t){return e!==t||Br(e)||Br(t)||!e.isToken()||!t.isToken()})(a,l)&&br(t,C,void 0);break;case"deleteByDrag":case"deleteByCut":br(t,C,void 0);break;case"deleteContent":br(t,v,!1);break;case"deleteWordBackward":br(t,N,!0);break;case"deleteWordForward":br(t,N,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":br(t,x,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":br(t,x,!1);break;case"formatStrikeThrough":br(t,T,"strikethrough");break;case"formatBold":br(t,T,"bold");break;case"formatItalic":br(t,T,"italic");break;case"formatUnderline":br(t,T,"underline");break;case"historyUndo":br(t,E,void 0);break;case"historyRedo":br(t,k,void 0)}}}))}(e,t)}]);var Zt=0,en=0,tn=0,nn=null,rn=0,on=!1,ln=!1,an=!1,sn=!1,un=[0,"",0,"root",0];function cn(e,t,n,r,i){var o=e.anchor,l=e.focus,a=o.getNode(),s=Sr(),u=ft(s._window),c=null!==u?u.anchorNode:null,f=o.key;s=s.getElementByKey(f);var d=n.length;return f!==l.key||!Bn(a)||(!i&&(!Z||tn<r+50)||a.isDirty()&&2>d||Ye(n))&&o.offset!==l.offset&&!a.isComposing()||Se(a)||a.isDirty()&&1<d||(i||!Z)&&null!==s&&!a.isComposing()&&c!==Oe(s)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||a.getFormat()!==e.format||a.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;e=e.anchor.offset;var n=t.getParentOrThrow(),r=t.isToken();return 0===e?((e=!t.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=(Bn(t=t.getPreviousSibling())||Br(t)&&t.isInline())&&!t.canInsertTextAfter()),e):e===t.getTextContentSize()&&(!t.canInsertTextAfter()||!n.canInsertTextAfter()||r)}(e,a)}function fn(e,t){return null!==e&&null!==e.nodeValue&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function dn(e,t,n){var r=e.anchorNode,i=e.anchorOffset,o=e.focusNode,l=e.focusOffset;on&&(on=!1,fn(r,i)&&fn(o,l))||Ir(t,(function(){if(n){if(Ee(t,r,o)){var i=cr();if(jn(i)){var l=i.anchor,a=l.getNode();if(i.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(i.dirty=!0);var s=rt(t).event;s=s?s.timeStamp:performance.now();var u=f(un,5),c=u[0],d=u[1],h=u[2],v=u[3];s<u[4]+200&&l.offset===h&&l.key===v?(i.format=c,i.style=d):"text"===l.type?(i.format=a.getFormat(),i.style=a.getStyle()):"element"===l.type&&(i.format=0,i.style="")}else{l=255,a=!1;for(var _=(s=i.getNodes()).length,p=0;p<_;p++){var y=s[p];if(Bn(y)&&(a=!0,0===(l&=y.getFormat())))break}i.format=a?l:0}}br(t,g,void 0)}}else ze(null)}))}function gn(e){return e.getTargetRanges?0===(e=e.getTargetRanges()).length?null:e[0]:null}function hn(e,t){var n=e._compositionKey;if(we(null),null!==n&&null!=t){if(""===t)return t=Ie(n),void(null!==(e=Oe(e.getElementByKey(n)))&&null!==e.nodeValue&&Bn(t)&&Je(t,e.nodeValue,null,null,!0));if("\n"===t[t.length-1]&&jn(n=cr()))return t=n.focus,n.anchor.set(t.key,t.offset,t.type),void br(e,w,null)}Ge(!0,e,t)}function vn(e){var t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}var _n=new Map;function pn(e){var t=ft(null==(e=e.target)?null:9===e.nodeType?e.defaultView:e.ownerDocument.defaultView);if(null!==t){var n=ke(t.anchorNode);if(null!==n){ln&&(ln=!1,Ir(n,(function(){var e=fr(),r=t.anchorNode;null!==r&&(1===(r=r.nodeType)||3===r)&&ze(e=ur(e,t,n))})));var r=(e=(e=He(n))[e.length-1])._key,i=_n.get(r),o=i||e;o!==n&&dn(t,o,!1),dn(t,n,!0),n!==e?_n.set(r,n):i&&_n.delete(r)}}}function yn(e,t,n){Er();var r=e.__key,i=e.getParent();if(null!==i){var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0!==t&&j(1),!jn(t=cr())||!Br(e))return t;var n=t,r=n.anchor,i=n.focus,o=r.getNode(),l=i.getNode();return nt(o,e)&&r.set(e.__key,0,"element"),nt(l,e)&&i.set(e.__key,0,"element"),t}(e),l=!1;if(jn(o)&&t){var a=o.anchor,s=o.focus;a.key===r&&(hr(a,e,i,e.getPreviousSibling(),e.getNextSibling()),l=!0),s.key===r&&(hr(s,e,i,e.getPreviousSibling(),e.getNextSibling()),l=!0)}jn(o)&&t&&!l?(r=e.getIndexWithinParent(),Ae(e),dr(o,i,r,-1)):Ae(e),n||ot(i)||i.canBeEmpty()||!i.isEmpty()||yn(i,t),t&&Kr(i)&&i.isEmpty()&&i.selectEnd()}}var mn=function(){function e(t){s(this,e),this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Me(this,t)}return u(e,null,[{key:"getType",value:function(){j(64)}},{key:"clone",value:function(){j(65)}}]),u(e,[{key:"getType",value:function(){return this.__type}},{key:"isAttached",value:function(){for(var e=this.__key;null!==e;){if("root"===e)return!0;if(null===(e=Ie(e)))break;e=e.__parent}return!1}},{key:"isSelected",value:function(e){var t=this;if(null==(e=e||cr()))return!1;var n=e.getNodes().some((function(e){return e.__key===t.__key}));return(Bn(this)||!jn(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&n}},{key:"getKey",value:function(){return this.__key}},{key:"getIndexWithinParent",value:function(){var e=this.getParent();if(null===e)return-1;e=e.getFirstChild();for(var t=0;null!==e;){if(this.is(e))return t;t++,e=e.getNextSibling()}return-1}},{key:"getParent",value:function(){var e=this.getLatest().__parent;return null===e?null:Ie(e)}},{key:"getParentOrThrow",value:function(){var e=this.getParent();return null===e&&j(66),e}},{key:"getTopLevelElement",value:function(){for(var e=this;null!==e;){var t=e.getParent();if(ot(t))return e;e=t}return null}},{key:"getTopLevelElementOrThrow",value:function(){var e=this.getTopLevelElement();return null===e&&j(67),e}},{key:"getParents",value:function(){for(var e=[],t=this.getParent();null!==t;)e.push(t),t=t.getParent();return e}},{key:"getParentKeys",value:function(){for(var e=[],t=this.getParent();null!==t;)e.push(t.__key),t=t.getParent();return e}},{key:"getPreviousSibling",value:function(){var e=this.getLatest().__prev;return null===e?null:Ie(e)}},{key:"getPreviousSiblings",value:function(){var e=[],t=this.getParent();if(null===t)return e;for(t=t.getFirstChild();null!==t&&!t.is(this);)e.push(t),t=t.getNextSibling();return e}},{key:"getNextSibling",value:function(){var e=this.getLatest().__next;return null===e?null:Ie(e)}},{key:"getNextSiblings",value:function(){for(var e=[],t=this.getNextSibling();null!==t;)e.push(t),t=t.getNextSibling();return e}},{key:"getCommonAncestor",value:function(e){var t=this.getParents(),n=e.getParents();Br(this)&&t.unshift(this),Br(e)&&n.unshift(e),e=t.length;var r=n.length;if(0===e||0===r||t[e-1]!==n[r-1])return null;for(n=new Set(n),r=0;r<e;r++){var i=t[r];if(n.has(i))return i}return null}},{key:"is",value:function(e){return null!=e&&this.__key===e.__key}},{key:"isBefore",value:function(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;for(var t=this.getCommonAncestor(e),n=this;;){var r=n.getParentOrThrow();if(r===t){r=n.getIndexWithinParent();break}n=r}for(n=e;;){if((e=n.getParentOrThrow())===t){t=n.getIndexWithinParent();break}n=e}return r<t}},{key:"isParentOf",value:function(e){var t=this.__key;if(t===e.__key)return!1;for(;null!==e;){if(e.__key===t)return!0;e=e.getParent()}return!1}},{key:"getNodesBetween",value:function(e){for(var t=this.isBefore(e),n=[],r=new Set,i=this;;){var o=i.__key;if(r.has(o)||(r.add(o),n.push(i)),i===e)break;if(null!==(o=Br(i)?t?i.getFirstChild():i.getLastChild():null))i=o;else if(null!==(o=t?i.getNextSibling():i.getPreviousSibling()))i=o;else{if(i=i.getParentOrThrow(),r.has(i.__key)||n.push(i),i===e)break;o=i;do{null===o&&j(68),i=t?o.getNextSibling():o.getPreviousSibling(),null!==(o=o.getParent())&&(null!==i||r.has(o.__key)||n.push(o))}while(null===i)}}return t||n.reverse(),n}},{key:"isDirty",value:function(){var e=Sr()._dirtyLeaves;return null!==e&&e.has(this.__key)}},{key:"getLatest",value:function(){var e=Ie(this.__key);return null===e&&j(113),e}},{key:"getWritable",value:function(){Er();var e=kr(),t=Sr();e=e._nodeMap;var n=this.__key,r=this.getLatest(),i=r.__parent;t=t._cloneNotNeeded;var o=cr();return null!==o&&(o._cachedNodes=null),t.has(n)?(be(r),r):((o=r.constructor.clone(r)).__parent=i,o.__next=r.__next,o.__prev=r.__prev,Br(r)&&Br(o)?(o.__first=r.__first,o.__last=r.__last,o.__size=r.__size,o.__indent=r.__indent,o.__format=r.__format,o.__dir=r.__dir):Bn(r)&&Bn(o)&&(o.__format=r.__format,o.__style=r.__style,o.__mode=r.__mode,o.__detail=r.__detail),t.add(n),o.__key=n,be(o),e.set(n,o),o)}},{key:"getTextContent",value:function(){return""}},{key:"getTextContentSize",value:function(){return this.getTextContent().length}},{key:"createDOM",value:function(){j(70)}},{key:"updateDOM",value:function(){j(71)}},{key:"exportDOM",value:function(e){return{element:this.createDOM(e._config,e)}}},{key:"exportJSON",value:function(){j(72)}},{key:"remove",value:function(e){yn(this,!0,e)}},{key:"replace",value:function(e,t){Er();var n=cr();null!==n&&(n=n.clone()),st(this,e);var r=this.getLatest(),i=this.__key,o=e.__key,l=e.getWritable(),a=(e=this.getParentOrThrow().getWritable()).__size;Ae(l);var s=r.getPreviousSibling(),u=r.getNextSibling(),c=r.__prev,f=r.__next,d=r.__parent;return yn(r,!1,!0),null===s?e.__first=o:s.getWritable().__next=o,l.__prev=c,null===u?e.__last=o:u.getWritable().__prev=o,l.__next=f,l.__parent=d,e.__size=a,t&&this.getChildren().forEach((function(e){l.append(e)})),jn(n)&&(ze(n),t=n.anchor,n=n.focus,t.key===i&&Hn(t,l),n.key===i&&Hn(n,l)),Pe()===i&&we(o),l}},{key:"insertAfter",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Er(),st(this,e);var n=this.getWritable(),r=e.getWritable(),i=r.getParent(),o=cr(),l=!1,a=!1;if(null!==i){var s=e.getIndexWithinParent();Ae(r),jn(o)&&(a=i.__key,l=o.anchor,i=o.focus,l="element"===l.type&&l.key===a&&l.offset===s+1,a="element"===i.type&&i.key===a&&i.offset===s+1)}i=this.getNextSibling(),s=this.getParentOrThrow().getWritable();var u=r.__key,c=n.__next;return null===i?s.__last=u:i.getWritable().__prev=u,s.__size++,n.__next=u,r.__next=c,r.__prev=n.__key,r.__parent=n.__parent,t&&jn(o)&&(dr(o,s,(t=this.getIndexWithinParent())+1),n=s.__key,l&&o.anchor.set(n,t+2,"element"),a&&o.focus.set(n,t+2,"element")),e}},{key:"insertBefore",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Er(),st(this,e);var n=this.getWritable(),r=e.getWritable(),i=r.__key;Ae(r);var o=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=n.__prev,s=this.getIndexWithinParent();return null===o?l.__first=i:o.getWritable().__next=i,l.__size++,n.__prev=i,r.__prev=a,r.__next=n.__key,r.__parent=n.__parent,n=cr(),t&&jn(n)&&dr(n,t=this.getParentOrThrow(),s),e}},{key:"isParentRequired",value:function(){return!1}},{key:"createParentElementNode",value:function(){return jr()}},{key:"selectPrevious",value:function(e,t){Er();var n=this.getPreviousSibling(),r=this.getParentOrThrow();return null===n?r.select(0,0):Br(n)?n.select():Bn(n)?n.select(e,t):(e=n.getIndexWithinParent()+1,r.select(e,e))}},{key:"selectNext",value:function(e,t){Er();var n=this.getNextSibling(),r=this.getParentOrThrow();return null===n?r.select():Br(n)?n.select(0,0):Bn(n)?n.select(e,t):(e=n.getIndexWithinParent(),r.select(e,e))}},{key:"markDirty",value:function(){this.getWritable()}}],[{key:"importJSON",value:function(){j(18)}},{key:"transform",value:function(){return null}}]),e}(),Cn=function(e){a(n,e);var t=l(n);function n(e){return s(this,n),t.call(this,e)}return u(n,null,[{key:"getType",value:function(){return"linebreak"}},{key:"clone",value:function(e){return new n(e.__key)}}]),u(n,[{key:"getTextContent",value:function(){return"\n"}},{key:"createDOM",value:function(){return document.createElement("br")}},{key:"updateDOM",value:function(){return!1}},{key:"exportJSON",value:function(){return{type:"linebreak",version:1}}}],[{key:"importDOM",value:function(){return{br:function(e){var t,n,r=e.parentElement;return null!==r&&((t=r.firstChild)===e||t.nextSibling===e&&3===t.nodeType&&null!==(t.textContent||"").match(/^[\s|\r?\n|\t]+$/))&&((n=r.lastChild)===e||n.previousSibling===e&&3===n.nodeType&&null!==(n.textContent||"").match(/^[\s|\r?\n|\t]+$/))?null:{conversion:Nn,priority:0}}}}},{key:"importJSON",value:function(){return xn()}}]),n}(mn);function Nn(){return{node:xn()}}function xn(){return at(new Cn)}function Tn(e){return e instanceof Cn}function En(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function kn(e,t){return 1&t?"strong":2&t?"em":"span"}function Sn(e,t,n,r,i){var o,l,a;e=r.classList,void 0!==(r=je(i,"base"))&&(o=e).add.apply(o,c(r)),r=je(i,"underlineStrikethrough");var s=!1,u=8&t&&4&t,f=8&n&&4&n;for(var d in void 0!==r&&(f?(s=!0,u||(l=e).add.apply(l,c(r))):u&&(a=e).remove.apply(a,c(r))),se){var g,h,v;f=se[d],void 0!==(r=je(i,d))&&(n&f?!s||"underline"!==d&&"strikethrough"!==d?(0===(t&f)||u&&"underline"===d||"strikethrough"===d)&&(g=e).add.apply(g,c(r)):t&f&&(h=e).remove.apply(h,c(r)):t&f&&(v=e).remove.apply(v,c(r)))}}function On(e,t,n){var r=t.firstChild;if(e+=(n=n.isComposing())?ie:"",null==r)t.textContent=e;else if((t=r.nodeValue)!==e)if(n||X){n=t.length;for(var i=e.length,o=0,l=0;o<n&&o<i&&t[o]===e[o];)o++;for(;l+o<n&&l+o<i&&t[n-l-1]===e[i-l-1];)l++;e=[o,n-o-l,e.slice(o,i-l)];var a=f(e,3),s=a[0],u=a[1],c=a[2];0!==u&&r.deleteData(s,u),r.insertData(s,c)}else r.nodeValue=e}function Dn(e,t){return(t=document.createElement(t)).appendChild(e),t}var Rn=function(e){a(n,e);var t=l(n);function n(e,r){var i;return s(this,n),(i=t.call(this,r)).__text=e,i.__format=0,i.__style="",i.__detail=i.__mode=0,i}return u(n,null,[{key:"getType",value:function(){return"text"}},{key:"clone",value:function(e){return new n(e.__text,e.__key)}}]),u(n,[{key:"getFormat",value:function(){return this.getLatest().__format}},{key:"getDetail",value:function(){return this.getLatest().__detail}},{key:"getMode",value:function(){var e=this.getLatest();return ge[e.__mode]}},{key:"getStyle",value:function(){return this.getLatest().__style}},{key:"isToken",value:function(){return 1===this.getLatest().__mode}},{key:"isComposing",value:function(){return this.__key===Pe()}},{key:"isSegmented",value:function(){return 2===this.getLatest().__mode}},{key:"isDirectionless",value:function(){return 0!==(1&this.getLatest().__detail)}},{key:"isUnmergeable",value:function(){return 0!==(2&this.getLatest().__detail)}},{key:"hasFormat",value:function(e){return e=se[e],0!==(this.getFormat()&e)}},{key:"isSimpleText",value:function(){return"text"===this.__type&&0===this.__mode}},{key:"getTextContent",value:function(){return this.getLatest().__text}},{key:"getFormatFlags",value:function(e,t){return De(this.getLatest().__format,e,t)}},{key:"createDOM",value:function(e){var t=this.__format,n=En(0,t),r=kn(0,t),i=document.createElement(null===n?r:n),o=i;return null!==n&&(o=document.createElement(r),i.appendChild(o)),n=o,On(this.__text,n,this),void 0!==(e=e.theme.text)&&Sn(r,0,t,n,e),""!==(t=this.__style)&&(i.style.cssText=t),i}},{key:"updateDOM",value:function(e,t,n){var r=this.__text,i=e.__format,o=this.__format,l=En(0,i),a=En(0,o),s=kn(0,i),u=kn(0,o);return(null===l?s:l)!==(null===a?u:a)||(l===a&&s!==u?(null==(i=t.firstChild)&&j(48),On(r,e=l=document.createElement(u),this),void 0!==(n=n.theme.text)&&Sn(u,0,o,e,n),t.replaceChild(l,i),!1):(s=t,null!==a&&null!==l&&(null==(s=t.firstChild)&&j(49)),On(r,s,this),void 0!==(n=n.theme.text)&&i!==o&&Sn(u,i,o,s,n),o=this.__style,e.__style!==o&&(t.style.cssText=o),!1))}},{key:"exportDOM",value:function(e){return null!==(e=o(i(n.prototype),"exportDOM",this).call(this,e).element)&&(this.hasFormat("bold")&&(e=Dn(e,"b")),this.hasFormat("italic")&&(e=Dn(e,"i")),this.hasFormat("strikethrough")&&(e=Dn(e,"s")),this.hasFormat("underline")&&(e=Dn(e,"u"))),{element:e}}},{key:"exportJSON",value:function(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}},{key:"selectionTransform",value:function(){}},{key:"setFormat",value:function(e){var t=this.getWritable();return t.__format="string"===typeof e?se[e]:e,t}},{key:"setDetail",value:function(e){var t=this.getWritable();return t.__detail="string"===typeof e?ue[e]:e,t}},{key:"setStyle",value:function(e){var t=this.getWritable();return t.__style=e,t}},{key:"toggleFormat",value:function(e){return e=se[e],this.setFormat(this.getFormat()^e)}},{key:"toggleDirectionless",value:function(){var e=this.getWritable();return e.__detail^=1,e}},{key:"toggleUnmergeable",value:function(){var e=this.getWritable();return e.__detail^=2,e}},{key:"setMode",value:function(e){if(e=de[e],this.__mode===e)return this;var t=this.getWritable();return t.__mode=e,t}},{key:"setTextContent",value:function(e){if(this.__text===e)return this;var t=this.getWritable();return t.__text=e,t}},{key:"select",value:function(e,t){Er();var n=cr(),r=this.getTextContent(),i=this.__key;return"string"===typeof r?(r=r.length,void 0===e&&(e=r),void 0===t&&(t=r)):t=e=0,jn(n)?((r=Pe())!==n.anchor.key&&r!==n.focus.key||we(i),n.setTextNodeRange(this,e,this,t),n):ar(i,e,i,t,"text","text")}},{key:"spliceText",value:function(e,t,n,r){var i=this.getWritable(),o=i.__text,l=n.length,a=e;0>a&&(0>(a=l+a)&&(a=0));var s=cr();return r&&jn(s)&&(e+=l,s.setTextNodeRange(i,e,i,e)),t=o.slice(0,a)+n+o.slice(a+t),i.__text=t,i}},{key:"canInsertTextBefore",value:function(){return!0}},{key:"canInsertTextAfter",value:function(){return!0}},{key:"splitText",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Er();var r=this.getLatest(),i=r.getTextContent(),o=r.__key,l=Pe(),a=new Set(t);t=[];for(var s=i.length,u="",c=0;c<s;c++)""!==u&&a.has(c)&&(t.push(u),u=""),u+=i[c];if(""!==u&&t.push(u),0===(a=t.length))return[];if(t[0]===i)return[r];var f=t[0];i=r.getParentOrThrow(),c=r.getFormat();var d=r.getStyle(),g=r.__detail;s=!1,r.isSegmented()?((u=Fn(f)).__format=c,u.__style=d,u.__detail=g,s=!0):(u=r.getWritable()).__text=f,r=cr(),u=[u],f=f.length;for(var h=1;h<a;h++){var v=t[h],_=v.length;(v=Fn(v).getWritable()).__format=c,v.__style=d,v.__detail=g;var p=v.__key;if(_=f+_,jn(r)){var y=r.anchor,m=r.focus;y.key===o&&"text"===y.type&&y.offset>f&&y.offset<=_&&(y.key=p,y.offset-=f,r.dirty=!0),m.key===o&&"text"===m.type&&m.offset>f&&m.offset<=_&&(m.key=p,m.offset-=f,r.dirty=!0)}l===o&&we(p),f=_,u.push(v)}return o=this.getPreviousSibling(),l=this.getNextSibling(),null!==o&&be(o),null!==l&&be(l),o=i.getWritable(),l=this.getIndexWithinParent(),s?(o.splice(l,0,u),this.remove()):o.splice(l,1,u),jn(r)&&dr(r,i,l,a-1),u}},{key:"mergeWithSibling",value:function(e){var t=e===this.getPreviousSibling();t||e===this.getNextSibling()||j(50);var n=this.__key,r=e.__key,i=this.__text,o=i.length;Pe()===r&&we(n);var l=cr();if(jn(l)){var a=l.anchor,s=l.focus;null!==a&&a.key===r&&(vr(a,t,n,e,o),l.dirty=!0),null!==s&&s.key===r&&(vr(s,t,n,e,o),l.dirty=!0)}return n=e.__text,this.setTextContent(t?n+i:i+n),t=this.getWritable(),e.remove(),t}},{key:"isTextEntity",value:function(){return!1}}],[{key:"importDOM",value:function(){return{"#text":function(){return{conversion:wn,priority:0}},b:function(){return{conversion:An,priority:0}},code:function(){return{conversion:Ln,priority:0}},em:function(){return{conversion:Ln,priority:0}},i:function(){return{conversion:Ln,priority:0}},s:function(){return{conversion:Ln,priority:0}},span:function(){return{conversion:Mn,priority:0}},strong:function(){return{conversion:Ln,priority:0}},sub:function(){return{conversion:Ln,priority:0}},sup:function(){return{conversion:Ln,priority:0}},u:function(){return{conversion:Ln,priority:0}}}}},{key:"importJSON",value:function(e){var t=Fn(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}}]),n}(mn);function Mn(e){var t="700"===e.style.fontWeight,n="line-through"===e.style.textDecoration,r="italic"===e.style.fontStyle,i="underline"===e.style.textDecoration,o=e.style.verticalAlign;return{forChild:function(e){return Bn(e)?(t&&e.toggleFormat("bold"),n&&e.toggleFormat("strikethrough"),r&&e.toggleFormat("italic"),i&&e.toggleFormat("underline"),"sub"===o&&e.toggleFormat("subscript"),"super"===o&&e.toggleFormat("superscript"),e):e},node:null}}function An(e){var t="normal"===e.style.fontWeight;return{forChild:function(e){return Bn(e)&&!t&&e.toggleFormat("bold"),e},node:null}}var bn=new WeakMap;function wn(e){if(null===e.parentElement)throw Error("Expected parentElement of Text not to be null");for(var t,n=e.textContent||"",r=e.parentNode,i=[e];null!==r&&void 0===(t=bn.get(r))&&!("PRE"===r.nodeName||1===r.nodeType&&r.style.whiteSpace.startsWith("pre"));)i.push(r),r=r.parentNode;for(t=void 0===t?r:t,r=0;r<i.length;r++)bn.set(i[r],t);if(null!==t){for(e=[],i=(n=n.split(/(\r?\n|\t)/)).length,t=0;t<i;t++)"\n"===(r=n[t])||"\r\n"===r?e.push(xn()):"\t"===r?e.push(zn()):""!==r&&e.push(Fn(r));return{node:e}}if(""===(n=n.replace(/\r?\n|\t/gm," ").replace("\r","").replace(/\s+/g," ")))return{node:null};if(" "===n[0]){for(i=e,t=!0;null!==i&&null!==(i=In(i,!1));)if(0<(r=i.textContent||"").length){r.match(/(?:\s|\r?\n|\t)$/)&&(n=n.slice(1)),t=!1;break}t&&(n=n.slice(1))}if(" "===n[n.length-1]){for(i=!0;null!==e&&null!==(e=In(e,!0));)if(0<(e.textContent||"").replace(/^[\s|\r?\n|\t]+/,"").length){i=!1;break}i&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:Fn(n)}}var Pn=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function In(e,t){for(;;){for(var n=void 0;null===(n=t?e.nextSibling:e.previousSibling);)if(null===(e=e.parentElement))return null;if(1===(e=n).nodeType&&(""===(n=e.style.display)&&null===e.nodeName.match(Pn)||""!==n&&!n.startsWith("inline")))return null;for(;null!==(n=t?e.firstChild:e.lastChild);)e=n;if(3===e.nodeType)return e;if("BR"===e.nodeName)return null}}var $n={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Ln(e){var t=$n[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:function(e){return Bn(e)&&!e.hasFormat(t)&&e.toggleFormat(t),e},node:null}}function Fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return at(new Rn(e))}function Bn(e){return e instanceof Rn}var Wn=function(e){a(n,e);var t=l(n);function n(e){var r;return s(this,n),(r=t.call(this,"\t",e)).__detail=2,r}return u(n,null,[{key:"getType",value:function(){return"tab"}},{key:"clone",value:function(e){var t=new n(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}}]),u(n,[{key:"exportJSON",value:function(){return r({},o(i(n.prototype),"exportJSON",this).call(this),{type:"tab",version:1})}},{key:"setTextContent",value:function(){throw Error("TabNode does not support setTextContent")}},{key:"setDetail",value:function(){throw Error("TabNode does not support setDetail")}},{key:"setMode",value:function(){throw Error("TabNode does not support setMode")}},{key:"canInsertTextBefore",value:function(){return!1}},{key:"canInsertTextAfter",value:function(){return!1}}],[{key:"importDOM",value:function(){return null}},{key:"importJSON",value:function(e){var t=zn();return t.setFormat(e.format),t.setStyle(e.style),t}}]),n}(Rn);function zn(){return at(new Wn)}var Kn=function(){function e(t,n,r){s(this,e),this._selection=null,this.key=t,this.offset=n,this.type=r}return u(e,[{key:"is",value:function(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}},{key:"isBefore",value:function(e){var t=this.getNode(),n=e.getNode(),r=this.offset;if(e=e.offset,Br(t)){var i=t.getDescendantByIndex(r);t=null!=i?i:t}return Br(n)&&(i=n.getDescendantByIndex(e),n=null!=i?i:n),t===n?r<e:t.isBefore(n)}},{key:"getNode",value:function(){var e=Ie(this.key);return null===e&&j(20),e}},{key:"set",value:function(e,t,n){var r=this._selection,i=this.key;this.key=e,this.offset=t,this.type=n,Tr()||(Pe()===i&&we(e),null!==r&&(r._cachedNodes=null,r.dirty=!0))}}]),e}();function Yn(e,t){var n=t.__key,r=e.offset,i="element";if(Bn(t))i="text",r>(t=t.getTextContentSize())&&(r=t);else if(!Br(t)){var o=t.getNextSibling();Bn(o)?(n=o.__key,r=0,i="text"):(o=t.getParent())&&(n=o.__key,r=t.getIndexWithinParent()+1)}e.set(n,r,i)}function Hn(e,t){if(Br(t)){var n=t.getLastDescendant();Br(n)||Bn(n)?Yn(e,n):Yn(e,t)}else Yn(e,t)}function Un(e,t,n,r){var i=e.getNode(),o=i.getChildAtIndex(e.offset),l=Fn(),a=Kr(i)?jr().append(l):l;l.setFormat(n),l.setStyle(r),null===o?i.append(a):o.insertBefore(a),e.is(t)&&t.set(l.__key,0,"text"),e.set(l.__key,0,"text")}function Gn(e,t,n,r){e.key=t,e.offset=n,e.type=r}var Jn=function(){function e(t){s(this,e),this.dirty=!1,this._nodes=t,this._cachedNodes=null}return u(e,[{key:"is",value:function(e){if(!Xn(e))return!1;var t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((function(e){return n.has(e)}))}},{key:"add",value:function(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}},{key:"delete",value:function(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}},{key:"clear",value:function(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}},{key:"has",value:function(e){return this._nodes.has(e)}},{key:"clone",value:function(){return new e(new Set(this._nodes))}},{key:"extract",value:function(){return this.getNodes()}},{key:"insertRawText",value:function(){}},{key:"insertText",value:function(){}},{key:"insertNodes",value:function(e,t){var n=this.getNodes(),r=n.length,i=n[r-1];if(Bn(i))i=i.select();else{var o=i.getIndexWithinParent()+1;i=i.getParentOrThrow().select(o,o)}for(i.insertNodes(e,t),e=0;e<r;e++)n[e].remove();return!0}},{key:"getNodes",value:function(){var e=this._cachedNodes;if(null!==e)return e;var t=this._nodes;e=[];var n,r=d(t);try{for(r.s();!(n=r.n()).done;){null!==(t=Ie(n.value))&&e.push(t)}}catch(i){r.e(i)}finally{r.f()}return Tr()||(this._cachedNodes=e),e}},{key:"getTextContent",value:function(){for(var e=this.getNodes(),t="",n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}]),e}();function jn(e){return e instanceof qn}var Vn=function(){function e(t,n,r){s(this,e),this.gridKey=t,this.anchor=n,this.focus=r,this.dirty=!1,this._cachedNodes=null,n._selection=this,r._selection=this}return u(e,[{key:"is",value:function(e){return!!Qn(e)&&(this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus))}},{key:"set",value:function(e,t,n){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}},{key:"clone",value:function(){return new e(this.gridKey,this.anchor,this.focus)}},{key:"isCollapsed",value:function(){return!1}},{key:"isBackward",value:function(){return this.focus.isBefore(this.anchor)}},{key:"getCharacterOffsets",value:function(){return er(this)}},{key:"extract",value:function(){return this.getNodes()}},{key:"insertRawText",value:function(){}},{key:"insertText",value:function(){}},{key:"insertNodes",value:function(e,t){var n=this.focus.getNode();return mt(n.select(0,n.getChildrenSize())).insertNodes(e,t)}},{key:"getShape",value:function(){var e=Ie(this.anchor.key);null===e&&j(21);var t=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var n=Ie(this.focus.key);null===n&&j(22);var r=n.getIndexWithinParent(),i=n.getParentOrThrow().getIndexWithinParent();return n=Math.min(t,r),t=Math.max(t,r),r=Math.min(e,i),e=Math.max(e,i),{fromX:Math.min(n,t),fromY:Math.min(r,e),toX:Math.max(n,t),toY:Math.max(r,e)}}},{key:"getNodes",value:function(){function e(e){var t=e.cell,n=e.startColumn,r=e.startRow;u=Math.min(u,n),d=Math.min(d,r),g=Math.max(g,n+t.__colSpan-1),h=Math.max(h,r+t.__rowSpan-1)}var t=this._cachedNodes;if(null!==t)return t;var n=this.anchor.getNode();t=this.focus.getNode(),n=gt(n,Xr);var r=gt(t,Xr);Xr(n)||j(103),Xr(r)||j(104),ni(t=n.getParent())||j(105),ei(t=t.getParent())||j(106);var i=_r(t,n,r),o=f(i,3),l=o[0],a=o[1],s=o[2],u=Math.min(a.startColumn,s.startColumn),d=Math.min(a.startRow,s.startRow),g=Math.max(a.startColumn+a.cell.__colSpan-1,s.startColumn+s.cell.__colSpan-1),h=Math.max(a.startRow+a.cell.__rowSpan-1,s.startRow+s.cell.__rowSpan-1);n=u,r=d;for(var v=u,_=d;u<n||d<r||g>v||h>_;){if(u<n){var p=_-r;--n;for(var y=0;y<=p;y++)e(l[r+y][n])}if(d<r)for(p=v-n,--r,y=0;y<=p;y++)e(l[r][n+y]);if(g>v)for(p=_-r,v+=1,y=0;y<=p;y++)e(l[r+y][v]);if(h>_)for(p=v-n,_+=1,y=0;y<=p;y++)e(l[_][n+y])}for(t=[t],n=null,r=d;r<=h;r++)for(v=u;v<=g;v++){var m;ni(p=(_=l[r][v].cell).getParent())||j(107),p!==n&&t.push(p),(m=t).push.apply(m,[_].concat(c(ht(_)))),n=p}return Tr()||(this._cachedNodes=t),t}},{key:"getTextContent",value:function(){for(var e=this.getNodes(),t="",n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}]),e}();function Qn(e){return e instanceof Vn}var qn=function(){function e(t,n,r,i){s(this,e),this.anchor=t,this.focus=n,this.dirty=!1,this.format=r,this.style=i,this._cachedNodes=null,t._selection=this,n._selection=this}return u(e,[{key:"is",value:function(e){return!!jn(e)&&(this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style)}},{key:"isBackward",value:function(){return this.focus.isBefore(this.anchor)}},{key:"isCollapsed",value:function(){return this.anchor.is(this.focus)}},{key:"getNodes",value:function(){var e=this._cachedNodes;if(null!==e)return e;e=this.anchor;var t=this.focus,n=e.isBefore(t),r=n?e:t;n=n?t:e,e=r.getNode(),t=n.getNode();var i=r.offset;return r=n.offset,Br(e)&&(n=e.getDescendantByIndex(i),e=null!=n?n:e),Br(t)&&(null!==(n=t.getDescendantByIndex(r))&&n!==e&&t.getChildAtIndex(r)===n&&(n=n.getPreviousSibling()),t=null!=n?n:t),e=e.is(t)?Br(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(t),Tr()||(this._cachedNodes=e),e}},{key:"setTextNodeRange",value:function(e,t,n,r){Gn(this.anchor,e.__key,t,"text"),Gn(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}},{key:"getTextContent",value:function(){var e=this.getNodes();if(0===e.length)return"";for(var t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,o=r.isBefore(i),l=er(this),a=f(l,2),s=a[0],u=a[1],c="",d=!0,g=0;g<e.length;g++){var h=e[g];if(Br(h)&&!h.isInline())d||(c+="\n"),d=!h.isEmpty();else if(d=!1,Bn(h)){var v=h.getTextContent();h===t?h===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(v=s<u?v.slice(s,u):v.slice(u,s)):v=o?v.slice(s):v.slice(u):h===n&&(v=o?v.slice(0,u):v.slice(0,s)),c+=v}else!Lr(h)&&!Tn(h)||h===n&&this.isCollapsed()||(c+=h.getTextContent())}return c}},{key:"applyDOMRange",value:function(e){var t=Sr(),n=t.getEditorState()._selection;if(null!==(e=or(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n))){var r=f(e,2),i=r[0],o=r[1];Gn(this.anchor,i.key,i.offset,i.type),Gn(this.focus,o.key,o.offset,o.type),this._cachedNodes=null}}},{key:"clone",value:function(){var t=this.anchor,n=this.focus;return new e(new Kn(t.key,t.offset,t.type),new Kn(n.key,n.offset,n.type),this.format,this.style)}},{key:"toggleFormat",value:function(e){this.format=De(this.format,e,null),this.dirty=!0}},{key:"setStyle",value:function(e){this.style=e,this.dirty=!0}},{key:"hasFormat",value:function(e){return 0!==(this.format&se[e])}},{key:"insertRawText",value:function(e){for(var t=[],n=(e=e.split(/(\r?\n|\t)/)).length,r=0;r<n;r++){var i=e[r];"\n"===i||"\r\n"===i?t.push(xn()):"\t"===i?t.push(zn()):t.push(Fn(i))}this.insertNodes(t)}},{key:"insertText",value:function(e){var t=this.anchor,n=this.focus,r=this.isCollapsed()||t.isBefore(n),i=this.format,o=this.style;r&&"element"===t.type?Un(t,n,i,o):r||"element"!==n.type||Un(n,t,i,o);var l=this.getNodes(),a=l.length,s=r?n:t;n=(r?t:n).offset;var u=s.offset;Bn(t=l[0])||j(26),r=t.getTextContent().length;var d=t.getParentOrThrow(),g=l[a-1];if(this.isCollapsed()&&n===r&&(t.isSegmented()||t.isToken()||!t.canInsertTextAfter()||!d.canInsertTextAfter()&&null===t.getNextSibling())){var h=t.getNextSibling();if(Bn(h)&&h.canInsertTextBefore()&&!Se(h)||((h=Fn()).setFormat(i),d.canInsertTextAfter()?t.insertAfter(h):d.insertAfter(h)),h.select(0,0),t=h,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===n&&(t.isSegmented()||t.isToken()||!t.canInsertTextBefore()||!d.canInsertTextBefore()&&null===t.getPreviousSibling())){if(Bn(h=t.getPreviousSibling())&&!Se(h)||((h=Fn()).setFormat(i),d.canInsertTextBefore()?t.insertBefore(h):d.insertBefore(h)),h.select(),t=h,""!==e)return void this.insertText(e)}else if(t.isSegmented()&&n!==r)(d=Fn(t.getTextContent())).setFormat(i),t.replace(d),t=d;else if(!(this.isCollapsed()||""===e||(h=g.getParent(),d.canInsertTextBefore()&&d.canInsertTextAfter()&&(!Br(h)||h.canInsertTextBefore()&&h.canInsertTextAfter()))))return this.insertText(""),ir(this.anchor,this.focus,null),void this.insertText(e);if(1===a)if(t.isToken())(e=Fn(e)).select(),t.replace(e);else{if(l=t.getFormat(),a=t.getStyle(),n===u&&(l!==i||a!==o)){var v;if(""!==t.getTextContent())return(l=Fn(e)).setFormat(i),l.setStyle(o),l.select(),0===n?t.insertBefore(l,!1):(v=t.splitText(n),(a=f(v,1)[0]).insertAfter(l,!1)),void(l.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length));t.setFormat(i),t.setStyle(o)}""===(t=t.spliceText(n,u-n,e,!0)).getTextContent()?t.remove():"text"===this.anchor.type&&(t.isComposing()?this.anchor.offset-=e.length:(this.format=l,this.style=a))}else{if(i=new Set([].concat(c(t.getParentKeys()),c(g.getParentKeys()))),h=Br(t)?t:t.getParentOrThrow(),o=Br(g)?g:g.getParentOrThrow(),d=g,!h.is(o)&&o.isInline())do{d=o,o=o.getParentOrThrow()}while(o.isInline());"text"===s.type&&(0!==u||""===g.getTextContent())||"element"===s.type&&g.getIndexWithinParent()<u?Bn(g)&&!g.isToken()&&u!==g.getTextContentSize()?(g.isSegmented()&&(s=Fn(g.getTextContent()),g.replace(s),g=s),g=g.spliceText(0,u,""),i.add(g.__key)):(s=g.getParentOrThrow()).canBeEmpty()||1!==s.getChildrenSize()?g.remove():s.remove():i.add(g.__key),s=o.getChildren(),u=new Set(l),g=h.is(o),h=h.isInline()&&null===t.getNextSibling()?h:t;for(var _=s.length-1;0<=_;_--){var p=s[_];if(p.is(t)||Br(p)&&p.isParentOf(t))break;p.isAttached()&&(!u.has(p)||p.is(d)?g||h.insertAfter(p,!1):p.remove())}if(!g)for(s=o,u=null;null!==s;)(0===(g=(o=s.getChildren()).length)||o[g-1].is(u))&&(i.delete(s.__key),u=s),s=s.getParent();for(t.isToken()?n===r?t.select():((e=Fn(e)).select(),t.replace(e)):""===(t=t.spliceText(n,r-n,e,!0)).getTextContent()?t.remove():t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length),e=1;e<a;e++)t=l[e],i.has(t.__key)||t.remove()}}},{key:"removeText",value:function(){this.insertText("")}},{key:"formatText",value:function(e){if(this.isCollapsed())this.toggleFormat(e),we(null);else{var t,n=this.getNodes(),r=[],i=d(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;Bn(o)&&r.push(o)}}catch(C){i.e(C)}finally{i.f()}var l=r.length;if(0===l)this.toggleFormat(e),we(null);else{o=this.anchor;var a=this.focus,s=this.isBackward();n=s?a:o,o=s?o:a;var u=0,c=r[0];if(a="element"===n.type?0:n.offset,"text"===n.type&&a===c.getTextContentSize()&&(u=1,c=r[1],a=0),null!=c){s=c.getFormatFlags(e,null);var g=l-1,h=r[g];if(l="text"===o.type?o.offset:h.getTextContentSize(),c.is(h))a!==l&&(0===a&&l===c.getTextContentSize()?c.setFormat(s):(e=c.splitText(a,l),(e=0===a?e[0]:e[1]).setFormat(s),"text"===n.type&&n.set(e.__key,0,"text"),"text"===o.type&&o.set(e.__key,l-a,"text")),this.format=s);else{var v,_;0!==a&&(v=c.splitText(a),c=f(v,2)[1],a=0),c.setFormat(s);var p=h.getFormatFlags(e,s);for(0<l&&(l!==h.getTextContentSize()&&(_=h.splitText(l),h=f(_,1)[0]),h.setFormat(p)),u+=1;u<g;u++){var y=r[u];if(!y.isToken()){var m=y.getFormatFlags(e,p);y.setFormat(m)}}"text"===n.type&&n.set(c.__key,a,"text"),"text"===o.type&&o.set(h.__key,l,"text"),this.format=s|p}}}}}},{key:"insertNodes",value:function(e,t){var n;if(!this.isCollapsed()){var r=this.isBackward()?this.anchor:this.focus,i=r.getNode().getNextSibling();if(i=i?i.getKey():null,r=(r=r.getNode().getPreviousSibling())?r.getKey():null,this.removeText(),this.isCollapsed()&&"element"===this.focus.type){if(this.focus.key===i&&0===this.focus.offset){var o=Fn();this.focus.getNode().insertBefore(o)}else this.focus.key===r&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(o=Fn(),this.focus.getNode().insertAfter(o));o&&(this.focus.set(o.__key,0,"text"),this.anchor.set(o.__key,0,"text"))}}r=(o=this.anchor).offset;var l=o.getNode();i=l,"element"===o.type&&(i=null===(i=(o=o.getNode()).getChildAtIndex(r-1))?o:i),o=[];var a=l.getNextSiblings(),s=ot(l)?null:l.getTopLevelElementOrThrow();if(Bn(l))if(i=l.getTextContent().length,0===r&&0!==i)i=null!==(i=l.getPreviousSibling())?i:l.getParentOrThrow(),o.push(l);else if(r===i)i=l;else{if(l.isToken())return!1;var u=l.splitText(r),d=f(u,2);i=d[0],l=d[1],o.push(l)}l=i,(n=o).push.apply(n,c(a)),a=e[0];for(var g=!1,h=null,v=0;v<e.length;v++){var _,p,y=e[v];if(ot(i)||Lr(i)||!Br(y)||y.isInline())g&&!Br(y)&&!Lr(y)&&ot(i.getParent())&&j(28);else{if(y.is(a)){if(Br(i)&&i.isEmpty()&&i.canReplaceWith(y)){i.replace(y),i=y,g=!0;continue}if(Re(g=y.getFirstDescendant())){for(var m=g.getParentOrThrow();m.isInline();)m=m.getParentOrThrow();if(g=(h=m.getChildren()).length,Br(i))for(var C=i.getFirstChild(),N=0;N<g;N++){var x=h[N];null===C?i.append(x):C.insertAfter(x),C=x}else{for(C=g-1;0<=C;C--)i.insertAfter(h[C]);i=i.getParentOrThrow()}if(h=h[g-1],m.remove(),g=!0,m.is(y))continue}}Bn(i)&&(null===s&&j(27),i=s)}g=!1,Br(i)&&!i.isInline()?(h=y,Lr(y)&&!y.isInline()?i=i.insertAfter(y,!1):Br(y)?!y.canBeEmpty()&&y.isEmpty()||(Kr(i)?(null!==(m=i.getChildAtIndex(r))?m.insertBefore(y):i.append(y),i=y):y.isInline()?(i.append(y),i=y):i=i.insertAfter(y,!1)):(null!==(m=i.getFirstChild())?m.insertBefore(y):i.append(y),i=y)):!Br(y)||Br(y)&&y.isInline()||Lr(i)&&!i.isInline()?(h=y,jn(this)&&Lr(y)&&(Br(i)||Bn(i))&&!y.isInline()?(Bn(i)?(m=i.getParentOrThrow(),_=i.splitText(r),i=(i=f(_,1)[0]).getIndexWithinParent()+1):(m=i,i=r),p=dt(m,i),i=(i=f(p,2)[1]).insertBefore(y)):i=i.insertAfter(y,!1)):(y=i.getParentOrThrow(),Tn(i)&&i.remove(),i=y,v--)}if(t&&(Bn(l)?l.select():Bn(e=i.getPreviousSibling())?e.select():(e=i.getIndexWithinParent(),i.getParentOrThrow().select(e,e))),Br(i)){if(e=Bn(h)?h:Br(h)&&h.isInline()?h.getLastDescendant():i.getLastDescendant(),t||(null===e?i.select():Bn(e)?""===e.getTextContent()?e.selectPrevious():e.select():e.selectNext()),0!==o.length)for(t=i,e=o.length-1;0<=e;e--)s=(r=o[e]).getParentOrThrow(),!Br(i)||lr(r)||Lr(r)&&(!r.isInline()||r.isIsolated())?Br(i)||lr(r)?Br(r)&&!r.canInsertAfter(i)?(Br(l=s.constructor.clone(s))||j(29),l.append(r),i.insertAfter(l)):i.insertAfter(r):(i.insertBefore(r),i=r):(t===i?i.append(r):i.insertBefore(r),i=r),s.isEmpty()&&!s.canBeEmpty()&&s.remove()}else t||(Bn(i)?i.select():(t=i.getParentOrThrow(),e=i.getIndexWithinParent()+1,t.select(e,e)));return!0}},{key:"insertParagraph",value:function(){this.isCollapsed()||this.removeText();var e=this.anchor,t=e.offset,n=[];if("text"===e.type){var r,i=e.getNode(),o=i.getNextSiblings().reverse(),l=i.getParentOrThrow(),a=l.isInline(),s=a?l.getTextContentSize():i.getTextContentSize();0===t?o.push(i):(a&&(n=l.getNextSiblings()),t===s||a&&t===i.getTextContentSize()||(r=i.splitText(t),i=f(r,2)[1],o.push(i)))}else{if(ot(l=e.getNode()))return o=jr(),n=l.getChildAtIndex(t),o.select(),void(null!==n?n.insertBefore(o,!1):l.append(o));o=l.getChildren().slice(t).reverse()}if(i=o.length,0===t&&0<i&&l.isInline()){if(Br(o=(n=l.getParentOrThrow()).insertNewAfter(this,!1)))for(n=n.getChildren(),l=0;l<n.length;l++)o.append(n[l])}else if(null===(a=l.insertNewAfter(this,!1)))this.insertLineBreak();else if(Br(a))if(s=l.getFirstChild(),0===t&&(l.is(e.getNode())||s&&s.is(e.getNode()))&&0<i)l.insertBefore(a);else{if(l=null,t=n.length,e=a.getParentOrThrow(),0<t)for(s=0;s<t;s++)e.append(n[s]);if(0!==i)for(n=0;n<i;n++)t=o[n],null===l?a.append(t):l.insertBefore(t),l=t;a.canBeEmpty()||0!==a.getChildrenSize()?a.selectStart():(a.selectPrevious(),a.remove())}}},{key:"insertLineBreak",value:function(e){var t=xn(),n=this.anchor;"element"===n.type&&(Kr(n=n.getNode())&&this.insertParagraph()),e?this.insertNodes([t],!0):this.insertNodes([t])&&t.selectNext(0,0)}},{key:"getCharacterOffsets",value:function(){return er(this)}},{key:"extract",value:function(){var e,t,n=this.getNodes(),r=n.length,i=r-1,o=this.anchor,l=this.focus,a=n[0],s=n[i],u=er(this),c=f(u,2),d=c[0],g=c[1];return 0===r?[]:1===r?Bn(a)&&!this.isCollapsed()?(n=d>g?g:d,i=a.splitText(n,d>g?d:g),null!=(n=0===n?i[0]:i[1])?[n]:[]):[a]:(r=o.isBefore(l),Bn(a)&&((o=r?d:g)===a.getTextContentSize()?n.shift():0!==o&&(e=a.splitText(o),a=f(e,2)[1],n[0]=a)),Bn(s)&&(a=s.getTextContent().length,0===(r=r?g:d)?n.pop():r!==a&&(t=s.splitText(r),s=f(t,1)[0],n[i]=s)),n)}},{key:"modify",value:function(e,t,n){var r=this.focus,i=this.anchor,o="move"===e,l=qe(r,t);if(Lr(l)&&!l.isIsolated())o&&l.isKeyboardSelectable()?((t=sr()).add(l.__key),ze(t)):Bn(e=t?l.getPreviousSibling():l.getNextSibling())?(l=e.__key,t=t?e.getTextContent().length:0,r.set(l,t,"text"),o&&i.set(l,t,"text")):(n=l.getParentOrThrow(),Br(e)?(n=e.__key,l=t?e.getChildrenSize():0):(l=l.getIndexWithinParent(),n=n.__key,t||l++),r.set(n,l,"element"),o&&i.set(n,l,"element"));else if(r=ft((i=Sr())._window)){var a=i._blockCursorElement,s=i._rootElement;if(null===s||null===a||!Br(l)||l.isInline()||l.canBeEmpty()||ct(a,i,s),r.modify(e,t?"backward":"forward",n),0<r.rangeCount&&(l=r.getRangeAt(0),i=Kr(i=this.anchor.getNode())?i:it(i),this.applyDOMRange(l),this.dirty=!0,!o)){for(o=this.getNodes(),e=[],n=!1,a=0;a<o.length;a++)nt(s=o[a],i)?e.push(s):n=!0;n&&0<e.length&&(t?Br(t=e[0])?t.selectStart():t.getParentOrThrow().selectStart():Br(t=e[e.length-1])?t.selectEnd():t.getParentOrThrow().selectEnd()),r.anchorNode===l.startContainer&&r.anchorOffset===l.startOffset||(t=this.focus,r=(o=this.anchor).key,l=o.offset,i=o.type,Gn(o,t.key,t.offset,t.type),Gn(t,r,l,i),this._cachedNodes=null)}}}},{key:"deleteCharacter",value:function(e){var t=this.isCollapsed();if(this.isCollapsed()){var n=this.anchor,r=this.focus,i=n.getNode();if(!e&&("element"===n.type&&Br(i)&&n.offset===i.getChildrenSize()||"text"===n.type&&n.offset===i.getTextContentSize())){var o=i.getParent();if(Br(o=i.getNextSibling()||(null===o?null:o.getNextSibling()))&&o.isShadowRoot())return}if(Lr(o=qe(r,e))&&!o.isIsolated())return void(o.isKeyboardSelectable()&&Br(i)&&0===i.getChildrenSize()?(i.remove(),e=sr(),e.add(o.__key),ze(e)):(o.remove(),Sr().dispatchCommand(g,void 0)));if(!e&&Br(o)&&Br(i)&&i.isEmpty())return i.remove(),void o.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===n.offset&&("element"===n.type?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(o="text"===r.type?r.getNode():null,i="text"===n.type?n.getNode():null,null!==o&&o.isSegmented()){if(n=r.offset,r=o.getTextContentSize(),o.is(i)||e&&n!==r||!e&&0!==n)return void tr(o,e,n)}else if(null!==i&&i.isSegmented()&&(n=n.offset,r=i.getTextContentSize(),i.is(o)||e&&0!==n||!e&&n!==r))return void tr(i,e,n);if(i=this.anchor,o=this.focus,(n=i.getNode())===(r=o.getNode())&&"text"===i.type&&"text"===o.type){var l=i.offset,a=o.offset,s=l<a;(r=s?l:a)!==(l=(a=s?a:l)-1)&&(Ye(n=n.getTextContent().slice(r,a))||(e?o.offset=l:i.offset=l))}}}this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset&&((e=this.anchor.getNode()).isEmpty()&&Kr(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this))}},{key:"deleteLine",value:function(e){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",e,"lineboundary"),0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character")),this.removeText()}},{key:"deleteWord",value:function(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}]),e}();function Xn(e){return e instanceof Jn}function Zn(e){var t=e.offset;return"text"===e.type?t:t===(e=e.getNode()).getChildrenSize()?e.getTextContent().length:0}function er(e){var t=e.anchor;return e=e.focus,"element"===t.type&&"element"===e.type&&t.key===e.key&&t.offset===e.offset?[0,0]:[Zn(t),Zn(e)]}function tr(e,t,n){for(var r=e.getTextContent().split(/(?=\s)/g),i=r.length,o=0,l=0,a=0;a<i;a++){var s=a===i-1;if(l=o,o+=r[a].length,t&&o===n||o>n||s){r.splice(a,1),s&&(l=void 0);break}}""===(t=r.join("").trim())?e.remove():(e.setTextContent(t),e.select(l,l))}function nr(e,t,n,r){var i=t;if(1===e.nodeType){var o=!1,l=e.childNodes,a=l.length;i===a&&(o=!0,i=a-1);var s=l[i];if(a=!1,s===r._blockCursorElement?(s=l[i+1],a=!0):null!==r._blockCursorElement&&i--,Bn(r=Ke(s)))i=o?r.getTextContentSize():0;else{if(null===(l=Ke(e)))return null;if(Br(l)?((t=Br(e=l.getChildAtIndex(i)))&&(t=e.getParent(),t=null===n||null===t||!t.canBeEmpty()||t!==n.getNode()),t&&(null===(n=o?e.getLastDescendant():e.getFirstDescendant())?(l=e,i=0):l=Br(e=n)?e:e.getParentOrThrow()),Bn(e)?(r=e,l=null,i=o?e.getTextContentSize():0):e!==l&&o&&!a&&i++):(i=l.getIndexWithinParent(),i=0===t&&Lr(l)&&Ke(e)===l?i:i+1,l=l.getParentOrThrow()),Br(l))return new Kn(l.__key,i,"element")}}else r=Ke(e);return Bn(r)?new Kn(r.__key,i,"text"):null}function rr(e,t,n){var r=e.offset,i=e.getNode();0===r?(r=i.getPreviousSibling(),i=i.getParent(),t?(n||!t)&&null===r&&Br(i)&&i.isInline()&&(Bn(t=i.getPreviousSibling())&&(e.key=t.__key,e.offset=t.getTextContent().length)):Br(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):Bn(r)&&(e.key=r.__key,e.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),t&&Br(r)&&r.isInline()?(e.key=r.__key,e.offset=0,e.type="element"):(n||t)&&null===r&&Br(i)&&i.isInline()&&!i.canInsertTextAfter()&&(Bn(t=i.getNextSibling())&&(e.key=t.__key,e.offset=0)))}function ir(e,t,n){if("text"===e.type&&"text"===t.type){var r=e.isBefore(t),i=e.is(t);rr(e,r,i),rr(t,!r,i),i&&(t.key=e.key,t.offset=e.offset,t.type=e.type),(r=Sr()).isComposing()&&r._compositionKey!==e.key&&jn(n)&&(r=n.anchor,n=n.focus,Gn(e,r.key,r.offset,r.type),Gn(t,n.key,n.offset,n.type))}}function or(e,t,n,r,i,o){return null!==e&&null!==n&&Ee(i,e,n)?null===(t=nr(e,t,jn(o)?o.anchor:null,i))||null===(r=nr(n,r,jn(o)?o.focus:null,i))||"element"===t.type&&"element"===r.type&&(e=Ke(e),n=Ke(n),Lr(e)&&Lr(n))?null:(ir(t,r,o),[t,r]):null}function lr(e){return Br(e)&&!e.isInline()}function ar(e,t,n,r,i,o){var l=kr();return(e=new qn(new Kn(e,t,i),new Kn(n,r,o),0,"")).dirty=!0,l._selection=e}function sr(){return new Jn(new Set)}function ur(e,t,n){var r=n._window;if(null===r)return null;var i,o=r.event,l=o?o.type:void 0;if(r="selectionchange"===l,o=!he&&(r||"beforeinput"===l||"compositionstart"===l||"compositionend"===l||"click"===l&&o&&3===o.detail||"drop"===l||void 0===l),jn(e)&&!o)return e.clone();if(null===t)return null;if(o=t.anchorNode,l=t.focusNode,i=t.anchorOffset,t=t.focusOffset,r&&jn(e)&&!Ee(n,o,l))return e.clone();if(null===(n=or(o,i,l,t,n,e)))return null;var a=f(n,2),s=a[0],u=a[1];return new qn(s,u,jn(e)?e.format:0,jn(e)?e.style:"")}function cr(){return kr()._selection}function fr(){return Sr()._editorState._selection}function dr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=e.anchor,o=e.focus,l=i.getNode(),a=o.getNode();if(t.is(l)||t.is(a)){if(l=t.__key,e.isCollapsed())(n<=(t=i.offset)&&0<r||n<t&&0>r)&&(n=Math.max(0,t+r),i.set(l,n,"element"),o.set(l,n,"element"),gr(e));else{var s=e.isBackward(),u=(a=s?o:i).getNode();o=(i=s?i:o).getNode(),t.is(u)&&((n<=(u=a.offset)&&0<r||n<u&&0>r)&&a.set(l,Math.max(0,u+r),"element")),t.is(o)&&((n<=(t=i.offset)&&0<r||n<t&&0>r)&&i.set(l,Math.max(0,t+r),"element"))}gr(e)}}function gr(e){var t=e.anchor,n=t.offset,r=e.focus,i=r.offset,o=t.getNode(),l=r.getNode();if(e.isCollapsed())Br(o)&&(Bn(l=(i=n>=(l=o.getChildrenSize()))?o.getChildAtIndex(l-1):o.getChildAtIndex(n))&&(n=0,i&&(n=l.getTextContentSize()),t.set(l.__key,n,"text"),r.set(l.__key,n,"text")));else{if(Br(o)){var a=o.getChildrenSize();Bn(n=(e=n>=a)?o.getChildAtIndex(a-1):o.getChildAtIndex(n))&&(o=0,e&&(o=n.getTextContentSize()),t.set(n.__key,o,"text"))}Br(l)&&(Bn(i=(t=i>=(n=l.getChildrenSize()))?l.getChildAtIndex(n-1):l.getChildAtIndex(i))&&(l=0,t&&(l=i.getTextContentSize()),r.set(i.__key,l,"text")))}}function hr(e,t,n,r,i){var o=null,l=0,a=null;null!==r?(o=r.__key,Bn(r)?(l=r.getTextContentSize(),a="text"):Br(r)&&(l=r.getChildrenSize(),a="element")):null!==i&&(o=i.__key,Bn(i)?a="text":Br(i)&&(a="element")),null!==o&&null!==a?e.set(o,l,a):(-1===(l=t.getIndexWithinParent())&&(l=n.getChildrenSize()),e.set(n.__key,l,"element"))}function vr(e,t,n,r,i){"text"===e.type?(e.key=n,t||(e.offset+=i)):e.offset>r.getIndexWithinParent()&&--e.offset}function _r(e,t,n){var r=[],i=null,o=null;e=e.getChildren();for(var l=0;l<e.length;l++){var a=e[l];ni(a)||j(108);var s=a.getChildren();a=0;var u,c=d(s);try{for(c.s();!(u=c.n()).done;){var f=u.value;for(Xr(f)||j(109);void 0!==r[l]&&void 0!==r[l][a];)a++;for(var g=a,h=f,v={cell:h,startColumn:g,startRow:s=l},_=h.__rowSpan,p=h.__colSpan,y=0;y<_;y++){void 0===r[s+y]&&(r[s+y]=[]);for(var m=0;m<p;m++)r[s+y][g+m]=v}t.is(h)&&(i=v),n.is(h)&&(o=v),a+=f.__colSpan}}catch(C){c.e(C)}finally{c.f()}}return null===i&&j(110),null===o&&j(111),[r,i,o]}var pr=null,yr=null,mr=!1,Cr=!1,Nr=0,xr={characterData:!0,childList:!0,subtree:!0};function Tr(){return mr||null!==pr&&pr._readOnly}function Er(){mr&&j(13)}function kr(){return null===pr&&j(15),pr}function Sr(){return null===yr&&j(16),yr}function Or(e,t,n){var r=t.__type,i=e._nodes.get(r);for(void 0===i&&j(30),void 0===(e=n.get(r))&&(e=Array.from(i.transforms),n.set(r,e)),n=e.length,r=0;r<n&&(e[r](t),t.isAttached());r++);}function Dr(e,t){var n=t.get(e.type);if(void 0===n&&j(17),n=n.klass,e.type!==n.getType()&&j(18),n=n.importJSON(e),e=e.children,Br(n)&&Array.isArray(e))for(var r=0;r<e.length;r++){var i=Dr(e[r],t);n.append(i)}return n}function Rr(e,t){var n=pr,r=mr,i=yr;pr=e,mr=!0,yr=null;try{return t()}finally{pr=n,mr=r,yr=i}}function Mr(e){var t=e._pendingEditorState,n=e._rootElement,r=e._headless||null===n;if(null!==t){var i=e._editorState,o=i._selection,l=t._selection,a=0!==e._dirtyType,s=pr,u=mr,d=yr,h=e._updating,v=e._observer,_=null;if(e._pendingEditorState=null,e._editorState=t,!r&&a&&null!==v){yr=e,pr=t,mr=!1,e._updating=!0;try{var p=e._dirtyType,y=e._dirtyElements,m=e._dirtyLeaves;v.disconnect();var C=y,N=m;bt=wt=At="",Pt=2===p,$t=null,xt=e,Nt=e._config,Tt=e._nodes,Et=xt._listeners.mutation,kt=C,St=N,Ot=i._nodeMap,Dt=t._nodeMap,It=t._readOnly,Rt=new Map(e._keyToDOMMap);var x=new Map;Mt=x,function e(t,n){var r=Ot.get(t),i=Dt.get(t);void 0!==r&&void 0!==i||j(61);var o=Pt||St.has(t)||kt.has(t),l=et(xt,t);if(r===i&&!o)return Br(r)?(void 0!==(i=l.__lexicalTextContent)&&(At+=i,wt+=i),void 0!==(i=l.__lexicalDirTextContent)&&(bt+=i)):(i=r.getTextContent(),Bn(r)&&!r.isDirectionless()&&(bt+=i),wt+=i,At+=i),l;if(r!==i&&o&&Ve(Mt,Tt,Et,i,"updated"),i.updateDOM(r,l,Nt))return i=Kt(t,null,null),null===n&&j(62),n.replaceChild(i,l),Lt(t,null),i;if(Br(r)&&Br(i)){if((t=i.__indent)!==r.__indent&&Wt(l,t),(t=i.__format)!==r.__format&&zt(l,t),o){t=i,o=bt,bt="",n=At;var a=r.__size,s=t.__size;if(At="",1===a&&1===s){var u=r.__first,c=t.__first;if(u===c)e(u,l);else{var f=Qt(u);c=Kt(c,null,null),l.replaceChild(c,f),Lt(u,null)}}else{c=Jt(r,Ot);var d=Jt(t,Dt);if(0===a)0!==s&&Yt(d,t,0,s-1,l,null);else if(0===s)0!==a&&(Ft(c,0,a-1,(u=null==l.__lexicalLineBreak)?null:l),u&&(l.textContent=""));else{var g=c;c=d,d=a-1,a=s-1;var h=l.firstChild,v=0;for(s=0;v<=d&&s<=a;){var _=g[v],p=c[s];if(_===p)h=Vt(e(p,l)),v++,s++;else{void 0===u&&(u=new Set(g)),void 0===f&&(f=new Set(c));var y=f.has(_),m=u.has(p);y?(m?((_=et(xt,p))===h?h=Vt(e(p,l)):(null!=h?l.insertBefore(_,h):l.appendChild(_),e(p,l)),v++):Kt(p,l,h),s++):(h=Vt(Qt(_)),Lt(_,l),v++)}}f=s>a,(u=v>d)&&!f?Yt(c,t,s,a,l,u=void 0===(u=c[a+1])?null:xt.getElementByKey(u)):f&&!u&&Ft(g,v,d,l)}}Ze(t)&&(At+="\n\n"),l.__lexicalTextContent=At,At=n+At,Gt(t,l),bt=o,Kr(i)||i.isInline()||Ut(r,i,l)}Ze(i)&&(At+="\n\n",wt+="\n\n")}else r=i.getTextContent(),Lr(i)?null!==(o=i.decorate(xt,Nt))&&jt(t,o):Bn(i)&&!i.isDirectionless()&&(bt+=r),At+=r,wt+=r;return!It&&Kr(i)&&i.__cachedText!==wt&&((i=i.getWritable()).__cachedText=wt),l}("root",null),Mt=Rt=Nt=Dt=Ot=St=kt=Tt=xt=void 0,_=x}catch(p){if(p instanceof Error&&e._onError(p),Cr)throw p;return Vr(e,null,n,t),Ce(e),e._dirtyType=2,Cr=!0,Mr(e),void(Cr=!1)}finally{v.observe(n,xr),e._updating=h,pr=s,mr=u,yr=d}}t._readOnly||(t._readOnly=!0);var T=e._dirtyLeaves,E=e._dirtyElements,k=e._normalizedNodes,S=e._updateTags,O=e._deferred;a&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set);var D,R=e._decorators,M=e._pendingDecorators||R,A=t._nodeMap;for(D in M)A.has(D)||(M===R&&(M=Fe(e)),delete M[D]);var b=r?null:ft(e._window);if(e._editable&&null!==b&&(a||null===l||l.dirty)){yr=e,pr=t;try{if(null!==v&&v.disconnect(),a||null===l||l.dirty){var w=e._blockCursorElement;null!==w&&ct(w,e,n);e:{var P=b.anchorNode,I=b.focusNode,$=b.anchorOffset,L=b.focusOffset,F=document.activeElement;if(!(S.has("collaboration")&&F!==n||null!==F&&Te(F)))if(jn(l)){var B=l.anchor,W=l.focus,z=B.key,K=W.key,Y=et(e,z),H=et(e,K),U=B.offset,G=W.offset,J=l.format,V=l.style,Q=l.isCollapsed(),q=Y,X=H,Z=!1;if("text"===B.type){q=Oe(Y);var ee=B.getNode();Z=ee.getFormat()!==J||ee.getStyle()!==V}else jn(o)&&"text"===o.anchor.type&&(Z=!0);if("text"===W.type&&(X=Oe(H)),null!==q&&null!==X){if(Q&&(null===o||Z||jn(o)&&(o.format!==J||o.style!==V))){var te=performance.now();un=[J,V,U,z,te]}if($===U&&L===G&&P===q&&I===X&&("Range"!==b.type||!Q)&&(null!==F&&n.contains(F)||n.focus({preventScroll:!0}),"element"!==B.type))break e;try{b.setBaseAndExtent(q,U,X,G)}catch(ee){}if(!S.has("skip-scroll-into-view")&&l.isCollapsed()&&null!==n&&n===document.activeElement){var ne=l instanceof qn&&"element"===l.anchor.type?q.childNodes[U]||null:0<b.rangeCount?b.getRangeAt(0):null;if(null!==ne){var re;if(ne instanceof Text){var ie=document.createRange();ie.selectNode(ne),re=ie.getBoundingClientRect()}else re=ne.getBoundingClientRect();var oe=n.ownerDocument,le=oe.defaultView;if(null!==le)for(var ae,se,ue=re,ce=ue.top,fe=ue.bottom,de=n;null!==de;){var ge=de===oe.body;if(ge)ae=0,se=rt(e).innerHeight;else{var he=de.getBoundingClientRect();ae=he.top,se=he.bottom}var ve=0;if(ce<ae?ve=-(ae-ce):fe>se&&(ve=fe-se),0!==ve)if(ge)le.scrollBy(0,ve);else{var _e=de.scrollTop;de.scrollTop+=ve;var pe=de.scrollTop-_e;ce-=pe,fe-=pe}if(ge)break;de=tt(de)}}}on=!0}}else null!==o&&Ee(e,P,I)&&b.removeAllRanges()}}e:{var ye=e._blockCursorElement;if(jn(l)&&l.isCollapsed()&&"element"===l.anchor.type&&n.contains(document.activeElement)){var me=l.anchor,Ne=me.getNode(),xe=me.offset,ke=Ne.getChildrenSize(),Se=!1,De=null;if(xe===ke){ut(Ne.getChildAtIndex(xe-1))&&(Se=!0)}else{var Re=Ne.getChildAtIndex(xe);if(ut(Re)){var Me=Re.getPreviousSibling();(null===Me||ut(Me))&&(Se=!0,De=e.getElementByKey(Re.__key))}}if(Se){var Ae=e.getElementByKey(Ne.__key);if(null===ye){var be=e._config.theme,we=document.createElement("div");we.contentEditable="false",we.setAttribute("data-lexical-cursor","true");var Pe=be.blockCursor;if(void 0!==Pe){var Ie;if("string"===typeof Pe){var $e=Pe.split(" ");Pe=be.blockCursor=$e}void 0!==Pe&&(Ie=we.classList).add.apply(Ie,c(Pe))}e._blockCursorElement=ye=we}n.style.caretColor="transparent",null===De?Ae.appendChild(ye):Ae.insertBefore(ye,De);break e}}null!==ye&&ct(ye,e,n)}null!==v&&v.observe(n,xr)}finally{yr=d,pr=s}}if(null!==_)for(var Le=_,We=Array.from(e._listeners.mutation),ze=We.length,Ke=0;Ke<ze;Ke++){var Ye=f(We[Ke],2),He=Ye[0],Ue=Ye[1],Ge=Le.get(Ue);void 0!==Ge&&He(Ge,{dirtyLeaves:T,updateTags:S})}jn(l)||null===l||null!==o&&o.is(l)||e.dispatchCommand(g,void 0);var Je=e._pendingDecorators;null!==Je&&(e._decorators=Je,e._pendingDecorators=null,Ar("decorator",e,!0,Je));var je=Be(i),Qe=Be(t);if(je!==Qe&&Ar("textcontent",e,!0,Qe),Ar("update",e,!0,{dirtyElements:E,dirtyLeaves:T,editorState:t,normalizedNodes:k,prevEditorState:i,tags:S}),e._deferred=[],0!==O.length){var qe=e._updating;e._updating=!0;try{for(var Xe=0;Xe<O.length;Xe++)O[Xe]()}finally{e._updating=qe}}var nt=e._updates;if(0!==nt.length){var it=nt.shift();if(it){var ot=f(it,2);Pr(e,ot[0],ot[1])}}}}function Ar(e,t,n){var r=t._updating;t._updating=n;try{for(var i=Array.from(t._listeners[e]),o=arguments.length,l=new Array(o>3?o-3:0),a=3;a<o;a++)l[a-3]=arguments[a];for(e=0;e<i.length;e++)i[e].apply(null,l)}finally{t._updating=r}}function br(e,t,n){if(!1===e._updating||yr!==e){var r=!1;return e.update((function(){r=br(e,t,n)})),r}for(var i=He(e),o=4;0<=o;o--)for(var l=0;l<i.length;l++){var a=i[l]._commands.get(t);if(void 0!==a&&void 0!==(a=a[o]))for(var s=(a=Array.from(a)).length,u=0;u<s;u++)if(!0===a[u](n,e))return!0}return!1}function wr(e,t){var n=e._updates;for(t=t||!1;0!==n.length;){var r=n.shift();if(r){var i=f(r,2),o=i[0],l=i[1],a=void 0;void 0!==l&&(r=l.onUpdate,a=l.tag,l.skipTransforms&&(t=!0),r&&e._deferred.push(r),a&&e._updateTags.add(a)),o()}}return t}function Pr(e,t,n){var r,i=e._updateTags,o=r=!1;if(void 0!==n){var l=n.onUpdate;null!=(r=n.tag)&&i.add(r),r=n.skipTransforms||!1,o=n.discrete||!1}l&&e._deferred.push(l),n=e._editorState;var a=!1;(null===(l=e._pendingEditorState)||l._readOnly)&&(l=e._pendingEditorState=new Ur(new Map((l||n)._nodeMap)),a=!0),l._flushSync=o,o=pr;var s=mr,u=yr,c=e._updating;pr=l,mr=!1,e._updating=!0,yr=e;try{a&&(e._headless?null!=n._selection&&(l._selection=n._selection.clone()):l._selection=function(e){var t=e.getEditorState()._selection,n=ft(e._window);return Xn(t)||Qn(t)?t.clone():ur(t,n,e)}(e));var g=e._compositionKey;t(),r=wr(e,r),function(e,t){if(t=t.getEditorState()._selection,jn(e=e._selection)){var n,r=e.anchor,i=e.focus;"text"===r.type&&(n=r.getNode()).selectionTransform(t,e),"text"===i.type&&(n!==(r=i.getNode())&&r.selectionTransform(t,e))}}(l,e),0!==e._dirtyType&&(r?function(e,t){t=t._dirtyLeaves,e=e._nodeMap;var n,r=d(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;Bn(t=e.get(i))&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&yt(t)}}catch(o){r.e(o)}finally{r.f()}}(l,e):function(e,t){var n=t._dirtyLeaves,r=t._dirtyElements;e=e._nodeMap;for(var i=Pe(),o=new Map,l=n,a=l.size,s=r,u=s.size;0<a||0<u;){if(0<a){t._dirtyLeaves=new Set;var c,f=d(l);try{for(f.s();!(c=f.n()).done;){var g=c.value;Bn(l=e.get(g))&&l.isAttached()&&l.isSimpleText()&&!l.isUnmergeable()&&yt(l),void 0!==l&&void 0!==l&&l.__key!==i&&l.isAttached()&&Or(t,l,o),n.add(g)}}catch(p){f.e(p)}finally{f.f()}if(0<(a=(l=t._dirtyLeaves).size)){Nr++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;var h,v=d(s);try{for(v.s();!(h=v.n()).done;){var _=h.value;s=_[0],u=_[1],("root"===s||u)&&(void 0!==(l=e.get(s))&&void 0!==l&&l.__key!==i&&l.isAttached()&&Or(t,l,o),r.set(s,u))}}catch(p){v.e(p)}finally{v.f()}a=(l=t._dirtyLeaves).size,u=(s=t._dirtyElements).size,Nr++}t._dirtyLeaves=n,t._dirtyElements=r}(l,e),wr(e),function(e,t,n,r){e=e._nodeMap,t=t._nodeMap;var i,o=[],l=d(r);try{for(l.s();!(i=l.n()).done;){var a=f(i.value,1)[0],s=t.get(a);void 0===s||s.isAttached()||(Br(s)&&vt(s,a,e,t,o,r),e.has(a)||r.delete(a),o.push(a))}}catch(p){l.e(p)}finally{l.f()}for(var u=0,c=o;u<c.length;u++){var g=c[u];t.delete(g)}var h,v=d(n);try{for(v.s();!(h=v.n()).done;){var _=h.value;void 0===(r=t.get(_))||r.isAttached()||(e.has(_)||n.delete(_),t.delete(_))}}catch(p){v.e(p)}finally{v.f()}}(n,l,e._dirtyLeaves,e._dirtyElements)),g!==e._compositionKey&&(l._flushSync=!0);var h=l._selection;if(jn(h)){var v=l._nodeMap,_=h.focus.key;void 0!==v.get(h.anchor.key)&&void 0!==v.get(_)||j(19)}else Xn(h)&&0===h._nodes.size&&(l._selection=null)}catch(g){return g instanceof Error&&e._onError(g),e._pendingEditorState=n,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Mr(e)}finally{pr=o,mr=s,yr=u,e._updating=c,Nr=0}0!==e._dirtyType||function(e,t){if(t=t.getEditorState()._selection,null!==(e=e._selection)){if(e.dirty||!e.is(t))return!0}else if(null!==t)return!0;return!1}(l,e)?l._flushSync?(l._flushSync=!1,Mr(e)):a&&xe((function(){Mr(e)})):(l._flushSync=!1,a&&(i.clear(),e._deferred=[],e._pendingEditorState=null))}function Ir(e,t,n){e._updating?e._updates.push([t,n]):Pr(e,t,n)}var $r=function(e){a(n,e);var t=l(n);function n(e){return s(this,n),t.call(this,e)}return u(n,[{key:"decorate",value:function(){j(47)}},{key:"isIsolated",value:function(){return!1}},{key:"isInline",value:function(){return!0}},{key:"isKeyboardSelectable",value:function(){return!0}}]),n}(mn);function Lr(e){return e instanceof $r}var Fr=function(e){a(n,e);var t=l(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).__last=r.__first=null,r.__indent=r.__format=r.__size=0,r.__dir=null,r}return u(n,[{key:"getFormat",value:function(){return this.getLatest().__format}},{key:"getFormatType",value:function(){var e=this.getFormat();return fe[e]||""}},{key:"getIndent",value:function(){return this.getLatest().__indent}},{key:"getChildren",value:function(){for(var e=[],t=this.getFirstChild();null!==t;)e.push(t),t=t.getNextSibling();return e}},{key:"getChildrenKeys",value:function(){for(var e=[],t=this.getFirstChild();null!==t;)e.push(t.__key),t=t.getNextSibling();return e}},{key:"getChildrenSize",value:function(){return this.getLatest().__size}},{key:"isEmpty",value:function(){return 0===this.getChildrenSize()}},{key:"isDirty",value:function(){var e=Sr()._dirtyElements;return null!==e&&e.has(this.__key)}},{key:"isLastChild",value:function(){var e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}},{key:"getAllTextNodes",value:function(){for(var e=[],t=this.getFirstChild();null!==t;){if(Bn(t)&&e.push(t),Br(t)){var n=t.getAllTextNodes();e.push.apply(e,c(n))}t=t.getNextSibling()}return e}},{key:"getFirstDescendant",value:function(){for(var e=this.getFirstChild();null!==e;){if(Br(e)){var t=e.getFirstChild();if(null!==t){e=t;continue}}break}return e}},{key:"getLastDescendant",value:function(){for(var e=this.getLastChild();null!==e;){if(Br(e)){var t=e.getLastChild();if(null!==t){e=t;continue}}break}return e}},{key:"getDescendantByIndex",value:function(e){var t=this.getChildren(),n=t.length;return e>=n?Br(e=t[n-1])&&e.getLastDescendant()||e||null:Br(e=t[e])&&e.getFirstDescendant()||e||null}},{key:"getFirstChild",value:function(){var e=this.getLatest().__first;return null===e?null:Ie(e)}},{key:"getFirstChildOrThrow",value:function(){var e=this.getFirstChild();return null===e&&j(45),e}},{key:"getLastChild",value:function(){var e=this.getLatest().__last;return null===e?null:Ie(e)}},{key:"getLastChildOrThrow",value:function(){var e=this.getLastChild();return null===e&&j(96),e}},{key:"getChildAtIndex",value:function(e){var t,n=this.getChildrenSize();if(e<n/2){for(t=this.getFirstChild(),n=0;null!==t&&n<=e;){if(n===e)return t;t=t.getNextSibling(),n++}return null}for(t=this.getLastChild(),--n;null!==t&&n>=e;){if(n===e)return t;t=t.getPreviousSibling(),n--}return null}},{key:"getTextContent",value:function(){for(var e="",t=this.getChildren(),n=t.length,r=0;r<n;r++){var i=t[r];e+=i.getTextContent(),Br(i)&&r!==n-1&&!i.isInline()&&(e+="\n\n")}return e}},{key:"getTextContentSize",value:function(){for(var e=0,t=this.getChildren(),n=t.length,r=0;r<n;r++){var i=t[r];e+=i.getTextContentSize(),Br(i)&&r!==n-1&&!i.isInline()&&(e+=2)}return e}},{key:"getDirection",value:function(){return this.getLatest().__dir}},{key:"hasFormat",value:function(e){return""!==e&&(e=ce[e],0!==(this.getFormat()&e))}},{key:"select",value:function(e,t){Er();var n=cr(),r=e,i=t,o=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){if(Bn(e=this.getFirstChild())||Br(e))return e.select(0,0)}else if(!(void 0!==e&&e!==o||void 0!==t&&t!==o)&&(Bn(e=this.getLastChild())||Br(e)))return e.select();return void 0===r&&(r=o),void 0===i&&(i=o),o=this.__key,jn(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,i,"element"),n.dirty=!0,n):ar(o,r,o,i,"element","element")}},{key:"selectStart",value:function(){var e=this.getFirstDescendant();return Br(e)||Bn(e)?e.select(0,0):null!==e?e.selectPrevious():this.select(0,0)}},{key:"selectEnd",value:function(){var e=this.getLastDescendant();return Br(e)||Bn(e)?e.select():null!==e?e.selectNext():this.select()}},{key:"clear",value:function(){var e=this.getWritable();return this.getChildren().forEach((function(e){return e.remove()})),e}},{key:"append",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.splice(this.getChildrenSize(),0,t)}},{key:"setDirection",value:function(e){var t=this.getWritable();return t.__dir=e,t}},{key:"setFormat",value:function(e){return this.getWritable().__format=""!==e?ce[e]:0,this}},{key:"setIndent",value:function(e){return this.getWritable().__indent=e,this}},{key:"splice",value:function(e,t,n){var r=n.length,i=this.getChildrenSize(),o=this.getWritable(),l=o.__key,a=[],s=[],u=this.getChildAtIndex(e+t),c=null,f=i-t+r;if(0!==e)if(e===i)c=this.getLastChild();else{var d=this.getChildAtIndex(e);null!==d&&(c=d.getPreviousSibling())}if(0<t){var g=null===c?this.getFirstChild():c.getNextSibling();for(d=0;d<t;d++){null===g&&j(100);var h=g.getNextSibling(),v=g.__key;Ae(g=g.getWritable()),s.push(v),g=h}}for(d=c,h=0;h<r;h++){v=n[h],null!==d&&v.is(d)&&(c=d=d.getPreviousSibling()),(g=v.getWritable()).__parent===l&&f--,Ae(g);var _=v.__key;null===d?(o.__first=_,g.__prev=null):((d=d.getWritable()).__next=_,g.__prev=d.__key),v.__key===l&&j(76),g.__parent=l,a.push(_),d=v}if(e+t===i?null!==d&&(d.getWritable().__next=null,o.__last=d.__key):null!==u&&(e=u.getWritable(),null!==d?(t=d.getWritable(),e.__prev=d.__key,t.__next=u.__key):e.__prev=null),o.__size=f,s.length&&jn(e=cr())){s=new Set(s),a=new Set(a);var p=e,y=p.anchor,m=p.focus;Wr(y,s,a)&&hr(y,y.getNode(),this,c,u),Wr(m,s,a)&&hr(m,m.getNode(),this,c,u),0!==f||this.canBeEmpty()||ot(this)||this.remove()}return o}},{key:"exportJSON",value:function(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}},{key:"insertNewAfter",value:function(){return null}},{key:"canIndent",value:function(){return!0}},{key:"collapseAtStart",value:function(){return!1}},{key:"excludeFromCopy",value:function(){return!1}},{key:"canExtractContents",value:function(){return!0}},{key:"canReplaceWith",value:function(){return!0}},{key:"canInsertAfter",value:function(){return!0}},{key:"canBeEmpty",value:function(){return!0}},{key:"canInsertTextBefore",value:function(){return!0}},{key:"canInsertTextAfter",value:function(){return!0}},{key:"isInline",value:function(){return!1}},{key:"isShadowRoot",value:function(){return!1}},{key:"canMergeWith",value:function(){return!1}},{key:"extractWithChild",value:function(){return!1}}]),n}(mn);function Br(e){return e instanceof Fr}function Wr(e,t,n){for(e=e.getNode();e;){var r=e.__key;if(t.has(r)&&!n.has(r))return!0;e=e.getParent()}return!1}var zr=function(e){a(n,e);var t=l(n);function n(){var e;return s(this,n),(e=t.call(this,"root")).__cachedText=null,e}return u(n,null,[{key:"getType",value:function(){return"root"}},{key:"clone",value:function(){return new n}}]),u(n,[{key:"getTopLevelElementOrThrow",value:function(){j(51)}},{key:"getTextContent",value:function(){var e=this.__cachedText;return!Tr()&&0!==Sr()._dirtyType||null===e?o(i(n.prototype),"getTextContent",this).call(this):e}},{key:"remove",value:function(){j(52)}},{key:"replace",value:function(){j(53)}},{key:"insertBefore",value:function(){j(54)}},{key:"insertAfter",value:function(){j(55)}},{key:"updateDOM",value:function(){return!1}},{key:"append",value:function(){for(var e,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];for(var a=0;a<r.length;a++){var s=r[a];Br(s)||Lr(s)||j(56)}return(e=o(i(n.prototype),"append",this)).call.apply(e,[this].concat(r))}},{key:"exportJSON",value:function(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}},{key:"collapseAtStart",value:function(){return!0}}],[{key:"importJSON",value:function(e){var t=We();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}}]),n}(Fr);function Kr(e){return e instanceof zr}function Yr(){return new Ur(new Map([["root",new zr]]))}function Hr(e){var t=e.exportJSON();t.type!==e.constructor.getType()&&j(58);var n=t.children;if(Br(e)){Array.isArray(n)||j(59),e=e.getChildren();for(var r=0;r<e.length;r++){var i=Hr(e[r]);n.push(i)}}return t}var Ur=function(){function e(t,n){s(this,e),this._nodeMap=t,this._selection=n||null,this._readOnly=this._flushSync=!1}return u(e,[{key:"isEmpty",value:function(){return 1===this._nodeMap.size&&null===this._selection}},{key:"read",value:function(e){return Rr(this,e)}},{key:"clone",value:function(t){return(t=new e(this._nodeMap,void 0===t?this._selection:t))._readOnly=!0,t}},{key:"toJSON",value:function(){return Rr(this,(function(){return{root:Hr(We())}}))}}]),e}(),Gr=function(e){a(n,e);var t=l(n);function n(){return s(this,n),t.apply(this,arguments)}return u(n,[{key:"createDOM",value:function(e){var t,n=document.createElement("p");return void 0!==(e=je(e.theme,"paragraph"))&&(t=n.classList).add.apply(t,c(e)),n}},{key:"updateDOM",value:function(){return!1}},{key:"exportDOM",value:function(e){if((e=o(i(n.prototype),"exportDOM",this).call(this,e).element)&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t),0<(t=this.getIndent())&&(e.style.textIndent="".concat(20*t,"px"))}return{element:e}}},{key:"exportJSON",value:function(){return r({},o(i(n.prototype),"exportJSON",this).call(this),{type:"paragraph",version:1})}},{key:"insertNewAfter",value:function(e,t){e=jr();var n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}},{key:"collapseAtStart",value:function(){var e=this.getChildren();if(0===e.length||Bn(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}],[{key:"getType",value:function(){return"paragraph"}},{key:"clone",value:function(e){return new n(e.__key)}},{key:"importDOM",value:function(){return{p:function(){return{conversion:Jr,priority:0}}}}},{key:"importJSON",value:function(e){var t=jr();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}}]),n}(Fr);function Jr(e){var t=jr();return e.style&&(t.setFormat(e.style.textAlign),0<(e=parseInt(e.style.textIndent,10)/20)&&t.setIndent(e)),{node:t}}function jr(){return at(new Gr)}function Vr(e,t,n,r){var i=e._keyToDOMMap;i.clear(),e._editorState=Yr(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null,null!==(r=e._observer)&&(r.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}var Qr=function(){function e(t,n,r,i,o,l,a){s(this,e),this._parentEditor=n,this._rootElement=null,this._editorState=t,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Ue(),this._onError=o,this._htmlConversions=l,this._editable=a,this._headless=null!==n&&n._headless,this._blockCursorElement=this._window=null}return u(e,[{key:"isComposing",value:function(){return null!=this._compositionKey}},{key:"registerUpdateListener",value:function(e){var t=this._listeners.update;return t.add(e),function(){t.delete(e)}}},{key:"registerEditableListener",value:function(e){var t=this._listeners.editable;return t.add(e),function(){t.delete(e)}}},{key:"registerDecoratorListener",value:function(e){var t=this._listeners.decorator;return t.add(e),function(){t.delete(e)}}},{key:"registerTextContentListener",value:function(e){var t=this._listeners.textcontent;return t.add(e),function(){t.delete(e)}}},{key:"registerRootListener",value:function(e){var t=this,n=this._listeners.root;return e(this._rootElement,null),n.add(e),function(){e(null,t._rootElement),n.delete(e)}}},{key:"registerCommand",value:function(e,t,n){void 0===n&&j(35);var r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);var i=r.get(e);void 0===i&&j(36);var o=i[n];return o.add(t),function(){o.delete(t),i.every((function(e){return 0===e.size}))&&r.delete(e)}}},{key:"registerMutationListener",value:function(e,t){void 0===this._nodes.get(e.getType())&&j(37);var n=this._listeners.mutation;return n.set(t,e),function(){n.delete(t)}}},{key:"registerNodeTransformToKlass",value:function(e,t){return e=e.getType(),void 0===(e=this._nodes.get(e))&&j(37),e.transforms.add(t),e}},{key:"registerNodeTransform",value:function(e,t){var n=this.registerNodeTransformToKlass(e,t),r=[n];return null!=(n=n.replaceWithKlass)&&(n=this.registerNodeTransformToKlass(n,t),r.push(n)),function(e,t){Ir(e,(function(){var e=kr();if(!e.isEmpty())if("root"===t)We().markDirty();else{e=e._nodeMap;var n,r=d(e);try{for(r.s();!(n=r.n()).done;){f(n.value,2)[1].markDirty()}}catch(i){r.e(i)}finally{r.f()}}}),null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,e.getType()),function(){r.forEach((function(e){return e.transforms.delete(t)}))}}},{key:"hasNodes",value:function(e){for(var t=0;t<e.length;t++){var n=e[t].getType();if(!this._nodes.has(n))return!1}return!0}},{key:"dispatchCommand",value:function(e,t){return br(this,e,t)}},{key:"getDecorators",value:function(){return this._decorators}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getKey",value:function(){return this._key}},{key:"setRootElement",value:function(e){var t=this._rootElement;if(e!==t){var n,r=je(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=e,Vr(this,t,e,i),null!==t){var o;if(!this._config.disableEvents){if(0!==rn&&(0===--rn&&t.ownerDocument.removeEventListener("selectionchange",pn)),null!==(i=t.__lexicalEditor)&&void 0!==i){if(null!==i._parentEditor){var l=He(i);l=l[l.length-1]._key,_n.get(l)===i&&_n.delete(l)}else _n.delete(i._key);t.__lexicalEditor=null}for(i=vn(t),l=0;l<i.length;l++)i[l]();t.__lexicalEventHandles=[]}null!=r&&(o=t.classList).remove.apply(o,c(r))}null!==e?(i=(i=e.ownerDocument)&&i.defaultView||null,(l=e.style).userSelect="text",l.whiteSpace="pre-wrap",l.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=i,this._dirtyType=2,Ce(this),this._updateTags.add("history-merge"),Mr(this),this._config.disableEvents||function(e,t){0===rn&&e.ownerDocument.addEventListener("selectionchange",pn),rn++,e.__lexicalEditor=t;for(var n=vn(e),r=function(r){var i=f(Xt[r],2),o=i[0],l=i[1],a="function"===typeof l?function(e){!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()&&l(e,t))}:function(e){if(!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()))switch(o){case"cut":return br(t,H,e);case"copy":return br(t,Y,e);case"paste":return br(t,m,e);case"dragstart":return br(t,W,e);case"dragover":return br(t,z,e);case"dragend":return br(t,K,e);case"focus":return br(t,U,e);case"blur":return br(t,G,e);case"drop":return br(t,B,e)}};e.addEventListener(o,a),n.push((function(){e.removeEventListener(o,a)}))},i=0;i<Xt.length;i++)r(i)}(e,this),null!=r&&(n=e.classList).add.apply(n,c(r))):this._window=null,Ar("root",this,!1,e,t)}}},{key:"getElementByKey",value:function(e){return this._keyToDOMMap.get(e)||null}},{key:"getEditorState",value:function(){return this._editorState}},{key:"setEditorState",value:function(e,t){e.isEmpty()&&j(38),me(this);var n=this._pendingEditorState,r=this._updateTags;t=void 0!==t?t.tag:null,null===n||n.isEmpty()||(null!=t&&r.add(t),Mr(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=t&&r.add(t),Mr(this)}},{key:"parseEditorState",value:function(e,t){e="string"===typeof e?JSON.parse(e):e;var n=Yr(),r=pr,i=mr,o=yr,l=this._dirtyElements,a=this._dirtyLeaves,s=this._cloneNotNeeded,u=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,pr=n,mr=!1,yr=this;try{Dr(e.root,this._nodes),t&&t(),n._readOnly=!0}catch(c){c instanceof Error&&this._onError(c)}finally{this._dirtyElements=l,this._dirtyLeaves=a,this._cloneNotNeeded=s,this._dirtyType=u,pr=r,mr=i,yr=o}return n}},{key:"update",value:function(e,t){Ir(this,e,t)}},{key:"focus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Ir(this,(function(){var e=cr(),n=We();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:function(){n.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}},{key:"blur",value:function(){var e=this._rootElement;null!==e&&e.blur(),null!==(e=ft(this._window))&&e.removeAllRanges()}},{key:"isEditable",value:function(){return this._editable}},{key:"setEditable",value:function(e){this._editable!==e&&(this._editable=e,Ar("editable",this,!0,e))}},{key:"toJSON",value:function(){return{editorState:this._editorState.toJSON()}}}]),e}(),qr=function(e){a(n,e);var t=l(n);function n(e,r){var i;return s(this,n),(i=t.call(this,r)).__colSpan=e,i.__rowSpan=1,i}return u(n,[{key:"exportJSON",value:function(){return r({},o(i(n.prototype),"exportJSON",this).call(this),{colSpan:this.__colSpan,rowSpan:this.__rowSpan})}},{key:"getColSpan",value:function(){return this.__colSpan}},{key:"setColSpan",value:function(e){return this.getWritable().__colSpan=e,this}},{key:"getRowSpan",value:function(){return this.__rowSpan}},{key:"setRowSpan",value:function(e){return this.getWritable().__rowSpan=e,this}}]),n}(Fr);function Xr(e){return e instanceof qr}var Zr=function(e){a(n,e);var t=l(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(Fr);function ei(e){return e instanceof Zr}var ti=function(e){a(n,e);var t=l(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(Fr);function ni(e){return e instanceof ti}t.$addUpdateTag=function(e){Er(),Sr()._updateTags.add(e)},t.$applyNodeReplacement=at,t.$copyNode=lt,t.$createLineBreakNode=xn,t.$createNodeSelection=sr,t.$createParagraphNode=jr,t.$createRangeSelection=function(){var e=new Kn("root",0,"element"),t=new Kn("root",0,"element");return new qn(e,t,0,"")},t.$createTabNode=zn,t.$createTextNode=Fn,t.$getAdjacentNode=qe,t.$getNearestNodeFromDOMNode=Le,t.$getNearestRootOrShadowRoot=it,t.$getNodeByKey=Ie,t.$getPreviousSelection=fr,t.$getRoot=We,t.$getSelection=cr,t.$getTextContent=function(){var e=cr();return null===e?"":e.getTextContent()},t.$hasAncestor=nt,t.$hasUpdateTag=function(e){return Sr()._updateTags.has(e)},t.$insertNodes=function(e,t){var n=cr();return null===n&&(n=We().selectEnd()),n.insertNodes(e,t)},t.$isBlockElementNode=lr,t.$isDecoratorNode=Lr,t.$isElementNode=Br,t.$isInlineElementOrDecoratorNode=function(e){return Br(e)&&e.isInline()||Lr(e)&&e.isInline()},t.$isLeafNode=Re,t.$isLineBreakNode=Tn,t.$isNodeSelection=Xn,t.$isParagraphNode=function(e){return e instanceof Gr},t.$isRangeSelection=jn,t.$isRootNode=Kr,t.$isRootOrShadowRoot=ot,t.$isTabNode=function(e){return e instanceof Wn},t.$isTextNode=Bn,t.$nodesOfType=function(e){var t=kr(),n=t._readOnly,r=e.getType();t=t._nodeMap;var i,o=[],l=d(t);try{for(l.s();!(i=l.n()).done;){var a=f(i.value,2)[1];a instanceof e&&a.__type===r&&(n||a.isAttached())&&o.push(a)}}catch(s){l.e(s)}finally{l.f()}return o},t.$normalizeSelection__EXPERIMENTAL=mt,t.$parseSerializedNode=function(e){return Dr(e,Sr()._nodes)},t.$setCompositionKey=we,t.$setSelection=ze,t.$splitNode=dt,t.BLUR_COMMAND=G,t.CAN_REDO_COMMAND={},t.CAN_UNDO_COMMAND={},t.CLEAR_EDITOR_COMMAND={},t.CLEAR_HISTORY_COMMAND={},t.CLICK_COMMAND=h,t.COMMAND_PRIORITY_CRITICAL=4,t.COMMAND_PRIORITY_EDITOR=0,t.COMMAND_PRIORITY_HIGH=3,t.COMMAND_PRIORITY_LOW=1,t.COMMAND_PRIORITY_NORMAL=2,t.CONTROLLED_TEXT_INSERTION_COMMAND=y,t.COPY_COMMAND=Y,t.CUT_COMMAND=H,t.DELETE_CHARACTER_COMMAND=v,t.DELETE_LINE_COMMAND=x,t.DELETE_WORD_COMMAND=N,t.DEPRECATED_$computeGridMap=_r,t.DEPRECATED_$createGridSelection=function(){var e=new Kn("root",0,"element"),t=new Kn("root",0,"element");return new Vn("root",e,t)},t.DEPRECATED_$getNodeTriplet=function(e){e instanceof qr||(e instanceof mn?Xr(e=gt(e,Xr))||j(114):Xr(e=gt(e.getNode(),Xr))||j(114));var t=e.getParent();ni(t)||j(115);var n=t.getParent();return ei(n)||j(116),[e,t,n]},t.DEPRECATED_$isGridCellNode=Xr,t.DEPRECATED_$isGridNode=ei,t.DEPRECATED_$isGridRowNode=ni,t.DEPRECATED_$isGridSelection=Qn,t.DEPRECATED_GridCellNode=qr,t.DEPRECATED_GridNode=Zr,t.DEPRECATED_GridRowNode=ti,t.DRAGEND_COMMAND=K,t.DRAGOVER_COMMAND=z,t.DRAGSTART_COMMAND=W,t.DROP_COMMAND=B,t.DecoratorNode=$r,t.ElementNode=Fr,t.FOCUS_COMMAND=U,t.FORMAT_ELEMENT_COMMAND={},t.FORMAT_TEXT_COMMAND=T,t.INDENT_CONTENT_COMMAND={},t.INSERT_LINE_BREAK_COMMAND=_,t.INSERT_PARAGRAPH_COMMAND=p,t.INSERT_TAB_COMMAND={},t.KEY_ARROW_DOWN_COMMAND=b,t.KEY_ARROW_LEFT_COMMAND=R,t.KEY_ARROW_RIGHT_COMMAND=O,t.KEY_ARROW_UP_COMMAND=A,t.KEY_BACKSPACE_COMMAND=I,t.KEY_DELETE_COMMAND=L,t.KEY_DOWN_COMMAND=S,t.KEY_ENTER_COMMAND=w,t.KEY_ESCAPE_COMMAND=$,t.KEY_MODIFIER_COMMAND=J,t.KEY_SPACE_COMMAND=P,t.KEY_TAB_COMMAND=F,t.LineBreakNode=Cn,t.MOVE_TO_END=D,t.MOVE_TO_START=M,t.OUTDENT_CONTENT_COMMAND={},t.PASTE_COMMAND=m,t.ParagraphNode=Gr,t.REDO_COMMAND=k,t.REMOVE_TEXT_COMMAND=C,t.RootNode=zr,t.SELECTION_CHANGE_COMMAND=g,t.TabNode=Wn,t.TextNode=Rn,t.UNDO_COMMAND=E,t.createCommand=function(){return{}},t.createEditor=function(e){var t=e||{},n=yr,r=t.theme||{},i=void 0===e?n:t.parentEditor||null,o=t.disableEvents||!1,l=Yr(),a=t.namespace||(null!==i?i._config.namespace:Ue()),s=t.editorState,u=[zr,Rn,Cn,Wn,Gr].concat(c(t.nodes||[])),f=t.onError;if(t=void 0===t.editable||t.editable,void 0===e&&null!==n)e=n._nodes;else for(e=new Map,n=0;n<u.length;n++){var d=u[n],g=null,h=null;"function"!==typeof d&&(d=(h=d).replace,g=h.with,h=h.withKlass?h.withKlass:null);var v=d.getType(),_=d.transform(),p=new Set;null!==_&&p.add(_),e.set(v,{klass:d,replace:g,replaceWithKlass:h,transforms:p})}return r=new Qr(l,i,e,{disableEvents:o,namespace:a,theme:r},f||console.error,function(e){var t=new Map,n=new Set;return e.forEach((function(e){if(null!=(e=null!=e.klass.importDOM?e.klass.importDOM.bind(e.klass):null)&&!n.has(e)){n.add(e);var r=e();null!==r&&Object.keys(r).forEach((function(e){var n=t.get(e);void 0===n&&(n=[],t.set(e,n)),n.push(r[e])}))}})),t}(e),t),void 0!==s&&(r._pendingEditorState=s,r._dirtyType=2),r},t.getNearestEditorFromDOMNode=ke,t.isSelectionCapturedInDecoratorInput=Te,t.isSelectionWithinEditor=Ee},Rcae:function(e,t,n){"use strict";var r=n("yMAQ"),i=n("8ZkK"),o=n("tQZz"),l=n("dv3j"),a=n("abPH"),s=n("FdF9"),u=n("xnsE"),c="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?s.useLayoutEffect:s.useEffect,f=function(){function e(t){i(this,e),this.key=t,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}return o(e,[{key:"setRefElement",value:function(e){this.ref={current:e}}}]),e}(),d=function(e){var t=document.getElementById("typeahead-menu");if(t){var n=t.getBoundingClientRect();n.top+n.height>window.innerHeight&&t.scrollIntoView({block:"center"}),0>n.top&&t.scrollIntoView({block:"center"}),e.scrollIntoView({block:"nearest"})}};function g(e,t){return e=e.getBoundingClientRect(),t=t.getBoundingClientRect(),e.top>t.top&&e.top<t.bottom}function h(e,t,n,i){var o=l.useLexicalComposerContext(),a=r(o,1)[0];s.useEffect((function(){if(null!=t&&null!=e){var r=a.getRootElement(),o=null!=r?function(e,t){var n=getComputedStyle(e),r="absolute"===n.position;if(t=t?/(auto|scroll|hidden)/:/(auto|scroll)/,"fixed"===n.position)return document.body;for(;e=e.parentElement;)if(n=getComputedStyle(e),(!r||"static"!==n.position)&&t.test(n.overflow+n.overflowY+n.overflowX))return e;return document.body}(r,!1):document.body,l=!1,s=g(t,o),u=function(){l||(window.requestAnimationFrame((function(){n(),l=!1})),l=!0);var e=g(t,o);e!==s&&(s=e,null!=i&&i(e))},c=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",u,{capture:!0,passive:!0}),c.observe(t),function(){c.unobserve(t),window.removeEventListener("resize",n),document.removeEventListener("scroll",u)}}}),[t,a,i,n,e])}var v=a.createCommand("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function _(e){var t=e.close,n=e.editor,i=e.anchorElementRef,o=e.resolution,l=e.options,f=e.menuRenderFn,g=e.onSelectOption,h=e.shouldSplitNodeWithQuery,_=void 0!==h&&h,p=s.useState(null),y=r(p,2),m=y[0],C=y[1];s.useEffect((function(){C(0)}),[o.match&&o.match.matchingString]);var N=s.useCallback((function(e){n.update((function(){var n=null!=o.match&&_?function(e){var t,n,i=a.$getSelection();if(!a.$isRangeSelection(i)||!i.isCollapsed())return null;var o=i.anchor;if("text"!==o.type)return null;if(!(i=o.getNode()).isSimpleText())return null;o=o.offset;for(var l,s=i.getTextContent().slice(0,o),u=e.matchingString,c=e=e.replaceableString.length;c<=u.length;c++)s.substr(-c)===u.substr(0,c)&&(e=c);return 0>(e=o-e)?null:(0===e?(t=i.splitText(o),l=r(t,1)[0]):(n=i.splitText(e,o),l=r(n,2)[1]),l)}(o.match):null;g(e,n,t,o.match?o.match.matchingString:"")}))}),[n,_,o.match,g,t]),x=s.useCallback((function(e){var t=n.getRootElement();null!==t&&(t.setAttribute("aria-activedescendant","typeahead-item-"+e),C(e))}),[n]);return s.useEffect((function(){return function(){var e=n.getRootElement();null!==e&&e.removeAttribute("aria-activedescendant")}}),[n]),c((function(){null===l?C(null):null===m&&x(0)}),[l,m,x]),s.useEffect((function(){return u.mergeRegister(n.registerCommand(v,(function(e){var t=e.option;return!(!t.ref||null==t.ref.current)&&(d(t.ref.current),!0)}),a.COMMAND_PRIORITY_LOW))}),[n,x]),s.useEffect((function(){return u.mergeRegister(n.registerCommand(a.KEY_ARROW_DOWN_COMMAND,(function(e){if(null!==l&&l.length&&null!==m){var t=m!==l.length-1?m+1:0;x(t);var r=l[t];null!=r.ref&&r.ref.current&&n.dispatchCommand(v,{index:t,option:r}),e.preventDefault(),e.stopImmediatePropagation()}return!0}),a.COMMAND_PRIORITY_LOW),n.registerCommand(a.KEY_ARROW_UP_COMMAND,(function(e){if(null!==l&&l.length&&null!==m){var t=0!==m?m-1:l.length-1;x(t),null!=(t=l[t]).ref&&t.ref.current&&d(t.ref.current),e.preventDefault(),e.stopImmediatePropagation()}return!0}),a.COMMAND_PRIORITY_LOW),n.registerCommand(a.KEY_ESCAPE_COMMAND,(function(e){return e.preventDefault(),e.stopImmediatePropagation(),t(),!0}),a.COMMAND_PRIORITY_LOW),n.registerCommand(a.KEY_TAB_COMMAND,(function(e){return null!==l&&null!==m&&null!=l[m]&&(e.preventDefault(),e.stopImmediatePropagation(),N(l[m]),!0)}),a.COMMAND_PRIORITY_LOW),n.registerCommand(a.KEY_ENTER_COMMAND,(function(e){return null!==l&&null!==m&&null!=l[m]&&(null!==e&&(e.preventDefault(),e.stopImmediatePropagation()),N(l[m]),!0)}),a.COMMAND_PRIORITY_LOW))}),[N,t,n,l,m,x]),f(i,s.useMemo((function(){return{options:l,selectOptionAndCleanUp:N,selectedIndex:m,setHighlightedIndex:C}}),[N,m,l]),o.match?o.match.matchingString:"")}function p(e,t){var n=getComputedStyle(e),r="absolute"===n.position;if(t=t?/(auto|scroll|hidden)/:/(auto|scroll)/,"fixed"===n.position)return document.body;for(;e=e.parentElement;)if(n=getComputedStyle(e),(!r||"static"!==n.position)&&t.test(n.overflow+n.overflowY+n.overflowX))return e;return document.body}function y(e,t){return e=e.getBoundingClientRect(),t=t.getBoundingClientRect(),e.top>t.top&&e.top<t.bottom}var m=a.createCommand("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");t.LexicalTypeaheadMenuPlugin=function(e){var t=e.options,n=e.onQueryChange,i=e.onSelectOption,o=e.onOpen,u=e.onClose,c=e.menuRenderFn,f=e.triggerFn,d=e.anchorClassName,g=l.useLexicalComposerContext(),v=r(g,1)[0],p=s.useState(null),y=r(p,2),m=y[0],C=y[1];d=function(e,t,n){var i=l.useLexicalComposerContext(),o=r(i,1)[0],a=s.useRef(document.createElement("div")),u=s.useCallback((function(){var t=o.getRootElement(),r=a.current,i=r.firstChild;if(null!==t&&null!==e){var l=e.getRect(),s=l.left,u=l.top,c=l.width,f=l.height;if(r.style.top="".concat(u+window.pageYOffset,"px"),r.style.left="".concat(s+window.pageXOffset,"px"),r.style.height="".concat(f,"px"),r.style.width="".concat(c,"px"),null!==i){var d=i.getBoundingClientRect();i=d.height,d=d.width;var g=t.getBoundingClientRect();s+d>g.right&&(r.style.left="".concat(s-d+window.pageXOffset,"px")),(u+i>window.innerHeight||u+i>g.bottom)&&u-g.top>i&&(r.style.top="".concat(u-i+window.pageYOffset-(f+10),"px"))}r.isConnected||(null!=n&&(r.className=n),r.setAttribute("aria-label","Typeahead menu"),r.setAttribute("id","typeahead-menu"),r.setAttribute("role","listbox"),r.style.display="block",r.style.position="absolute",document.body.append(r)),a.current=r,t.setAttribute("aria-controls","typeahead-menu")}}),[o,e,n]);s.useEffect((function(){var t=o.getRootElement();if(null!==e)return u(),function(){null!==t&&t.removeAttribute("aria-controls");var e=a.current;null!==e&&e.isConnected&&e.remove()}}),[o,u,e]);var c=s.useCallback((function(n){null!==e&&(n||t(null))}),[e,t]);return h(e,a.current,u,c),a}(m,C,d);var N=s.useCallback((function(){C(null),null!=u&&null!==m&&u()}),[u,m]),x=s.useCallback((function(e){C(e),null!=o&&null===m&&o(e)}),[o,m]);return s.useEffect((function(){var e=v.registerUpdateListener((function(){v.getEditorState().read((function(){var e=document.createRange(),t=a.$getSelection(),r=function(e){var t=null;return e.getEditorState().read((function(){var e=a.$getSelection();if(a.$isRangeSelection(e)){var n=e.anchor;"text"!==n.type?t=null:(e=n.getNode()).isSimpleText()?(n=n.offset,t=e.getTextContent().slice(0,n)):t=null}})),t}(v);if(a.$isRangeSelection(t)&&t.isCollapsed()&&null!==r&&null!==e){var i=f(r,v);n(i?i.matchingString:null),null===i||function(e,t){return 0===t&&e.getEditorState().read((function(){var e=a.$getSelection();return!!a.$isRangeSelection(e)&&(e=e.anchor.getNode().getPreviousSibling(),a.$isTextNode(e)&&e.isTextEntity())}))}(v,i.leadOffset)||null===function(e,t){var n=window.getSelection();if(null===n||!n.isCollapsed)return!1;var r=n.anchorNode;if(n=n.anchorOffset,null==r||null==n)return!1;try{t.setStart(r,e),t.setEnd(r,n)}catch(u){return!1}return!0}(i.leadOffset,e)?N():function(e){s.startTransition?s.startTransition(e):e()}((function(){return x({getRect:function(){return e.getBoundingClientRect()},match:i})}))}else N()}))}));return function(){e()}}),[v,f,n,m,N,x]),null===m||null===v?null:s.createElement(_,{close:N,resolution:m,editor:v,anchorElementRef:d,options:t,menuRenderFn:c,shouldSplitNodeWithQuery:!0,onSelectOption:i})},t.MenuOption=f,t.PUNCTUATION="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",t.SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND=m,t.getScrollParent=p,t.useBasicTypeaheadTriggerMatch=function(e,t){var n=t.minLength,r=void 0===n?1:n,i=t.maxLength,o=void 0===i?75:i;return s.useCallback((function(t){if(null!==(t=new RegExp("(^|\\s|\\()(["+e+"]((?:[^"+e+"\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;\\s]){0,"+o+"}))$").exec(t))){var n=t[1],i=t[3];if(i.length>=r)return{leadOffset:t.index+n.length,matchingString:i,replaceableString:t[2]}}return null}),[o,r,e])},t.useDynamicPositioning=function(e,t,n,i){var o=l.useLexicalComposerContext(),a=r(o,1)[0];s.useEffect((function(){if(null!=t&&null!=e){var r=a.getRootElement(),o=null!=r?p(r,!1):document.body,l=!1,s=y(t,o),u=function(){l||(window.requestAnimationFrame((function(){n(),l=!1})),l=!0);var e=y(t,o);e!==s&&(s=e,null!=i&&i(e))},c=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",u,{capture:!0,passive:!0}),c.observe(t),function(){c.unobserve(t),window.removeEventListener("resize",n),document.removeEventListener("scroll",u)}}}),[t,a,i,n,e])}},"SB/r":function(e,t,n){"use strict";var r=n("yMAQ"),i=n("dv3j"),o=n("Opgp"),l=n("FdF9"),a=n("PsdK"),s=n("xnsE"),u=n("FdF9"),c=n("hW7W"),f=n("iDdS"),d="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?l.useLayoutEffect:l.useEffect;function g(e){return e.getEditorState().read(a.$canShowPlaceholderCurry(e.isComposing()))}function h(e){var t=e.content,n=i.useLexicalComposerContext(),a=r(n,1)[0];a=function(e){var t=l.useState((function(){return g(e)})),n=r(t,2),i=n[0],o=n[1];return d((function(){function t(){var t=g(e);o(t)}return t(),s.mergeRegister(e.registerUpdateListener((function(){t()})),e.registerEditableListener((function(){t()})))}),[e]),i}(a);var u=o();return a?"function"===typeof t?t(u):t:null}t.RichTextPlugin=function(e){var t=e.contentEditable,n=e.placeholder,o=e.ErrorBoundary,a=i.useLexicalComposerContext(),g=r(a,1)[0];return o=function(e,t){var n=l.useState((function(){return e.getDecorators()})),i=r(n,2),o=i[0],a=i[1];return d((function(){return e.registerDecoratorListener((function(e){u.flushSync((function(){a(e)}))}))}),[e]),l.useEffect((function(){a(e.getDecorators())}),[e]),l.useMemo((function(){for(var n=[],r=Object.keys(o),i=0;i<r.length;i++){var a=r[i],s=l.createElement(t,{onError:function(t){return e._onError(t)}},l.createElement(l.Suspense,{fallback:null},o[a])),c=e.getElementByKey(a);null!==c&&n.push(u.createPortal(s,c,a))}return n}),[t,o,e])}(g,o),function(e){d((function(){return s.mergeRegister(f.registerRichText(e),c.registerDragonSupport(e))}),[e])}(g),l.createElement(l.Fragment,null,t,l.createElement(h,{content:n}),o)}},TPq9:function(e,t,n){"use strict";var r=n("fyJO");e.exports=r},Zc40:function(e,t,n){"use strict";var r=n("jQsN"),i=n("tcRq"),o=n("uOo9"),l=n("yP/N"),a=n("xnsE"),s=n("abPH");function u(e){throw Error("Minified Lexical error #".concat(e,"; visit https://lexical.dev/docs/error?code=").concat(e," for the full message or ")+"use the non-minified dev environment for full errors and additional helpful warnings.")}function c(e){var t=s.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return s.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?"":o.$generateHtmlFromNodes(e,t)}function f(e){var t=s.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return s.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(h(e,t))}function d(e,t,n){(s.DEPRECATED_$isGridSelection(n)||null!==a.$findMatchingParent(n.anchor.getNode(),(function(e){return s.DEPRECATED_$isGridCellNode(e)}))&&null!==a.$findMatchingParent(n.focus.getNode(),(function(e){return s.DEPRECATED_$isGridCellNode(e)})))&&1===t.length&&s.DEPRECATED_$isGridNode(t[0])?function(e,t,n,r){1===e.length&&s.DEPRECATED_$isGridNode(e[0])||u(42);var i=e[0];e=i.getChildren(),n=i.getFirstChildOrThrow().getChildrenSize();var o=i.getChildrenSize(),l=a.$findMatchingParent(t.anchor.getNode(),(function(e){return s.DEPRECATED_$isGridCellNode(e)}));t=(i=l&&a.$findMatchingParent(l,(function(e){return s.DEPRECATED_$isGridRowNode(e)})))&&a.$findMatchingParent(i,(function(e){return s.DEPRECATED_$isGridNode(e)})),s.DEPRECATED_$isGridCellNode(l)&&s.DEPRECATED_$isGridRowNode(i)&&s.DEPRECATED_$isGridNode(t)||u(43);var c,f,d=i.getIndexWithinParent(),g=Math.min(t.getChildrenSize()-1,d+o-1);o=l.getIndexWithinParent(),l=Math.min(i.getChildrenSize()-1,o+n-1),n=Math.min(o,l),i=Math.min(d,g),o=Math.max(o,l),d=Math.max(d,g),g=t.getChildren(),l=0;for(var h=i;h<=d;h++){var v=g[h];s.DEPRECATED_$isGridRowNode(v)||u(24);var _=e[l];s.DEPRECATED_$isGridRowNode(_)||u(24),v=v.getChildren(),_=_.getChildren();for(var p=0,y=function(e){var t=v[e];s.DEPRECATED_$isGridCellNode(t)||u(25);var r=_[p];s.DEPRECATED_$isGridCellNode(r)||u(25),h===i&&e===n?c=t.getKey():h===d&&e===o&&(f=t.getKey());var l=t.getChildren();r.getChildren().forEach((function(e){s.$isTextNode(e)&&s.$createParagraphNode().append(e),t.append(e)})),l.forEach((function(e){return e.remove()})),p++},m=n;m<=o;m++)y(m);l++}c&&f&&((e=s.DEPRECATED_$createGridSelection()).set(t.getKey(),c,f),s.$setSelection(e),r.dispatchCommand(s.SELECTION_CHANGE_COMMAND,void 0))}(t,n,!1,e):function(e,t){for(var n,r=[],i=null,o=0;o<e.length;o++){var l=e[o],a=s.$isLineBreakNode(l);if(a||s.$isDecoratorNode(l)&&l.isInline()||s.$isElementNode(l)&&l.isInline()||s.$isTextNode(l)||l.isParentRequired()){if(null===i&&(i=l.createParentElementNode(),r.push(i),a))continue;null!==i&&i.append(l)}else r.push(l),i=null}s.$isRangeSelection(t)?t.insertNodes(r):s.DEPRECATED_$isGridSelection(t)&&(e=t.anchor.getNode(),s.DEPRECATED_$isGridCellNode(e)||u(41),(n=e).append.apply(n,r))}(t,n)}function g(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=null==t||n.isSelected(t),o=s.$isElementNode(n)&&n.excludeFromCopy("html"),a=n;if(null!==t){var c=l.$cloneWithProperties(n);a=c=s.$isTextNode(c)&&null!=t?l.$sliceSelectedTextNodeContent(t,c):c}var f=s.$isElementNode(a)?a.getChildren():[],d=a;(c=d.exportJSON()).type!==d.constructor.getType()&&u(58);var h=c.children;for(s.$isElementNode(d)&&(Array.isArray(h)||u(59)),s.$isTextNode(a)&&(0<(a=a.__text).length?c.text=a:i=!1),a=0;a<f.length;a++)h=g(e,t,d=f[a],c.children),!i&&s.$isElementNode(n)&&h&&n.extractWithChild(d,t,"clone")&&(i=!0);if(i&&!o)r.push(c);else if(Array.isArray(c.children))for(e=0;e<c.children.length;e++)r.push(c.children[e]);return i}function h(e,t){for(var n=[],r=s.$getRoot().getChildren(),i=0;i<r.length;i++)g(e,t,r[i],n);return{namespace:e._config.namespace,nodes:n}}function v(e){for(var t=[],n=0;n<e.length;n++){var r=s.$parseSerializedNode(e[n]);s.$isTextNode(r)&&l.$addNodeStyle(r),t.push(r)}return t}var _=null;function p(e,t){var n=window.getSelection();if(!n)return!1;var r=n.anchorNode;if(n=n.focusNode,null!==r&&null!==n&&!s.isSelectionWithinEditor(e,r,n))return!1;if(t.preventDefault(),t=t.clipboardData,r=s.$getSelection(),null===t||null===r)return!1;n=c(e),e=f(e);var i="";return null!==r&&(i=r.getTextContent()),null!==n&&t.setData("text/html",n),null!==e&&t.setData("application/x-lexical-editor",e),t.setData("text/plain",i),!0}t.$generateJSONFromSelectedNodes=h,t.$generateNodesFromSerializedNodes=v,t.$getHtmlContent=c,t.$getLexicalContent=f,t.$insertDataTransferForPlainText=function(e,t){null!=(e=e.getData("text/plain")||e.getData("text/uri-list"))&&t.insertRawText(e)},t.$insertDataTransferForRichText=function(e,t,n){var r=e.getData("application/x-lexical-editor");if(r)try{var i=JSON.parse(r);if(i.namespace===n._config.namespace&&Array.isArray(i.nodes))return d(n,v(i.nodes),t)}catch(u){}if(r=e.getData("text/html"))try{var l=(new DOMParser).parseFromString(r,"text/html"),a=o.$generateNodesFromDOM(n,l);return d(n,a,t)}catch(c){}if(null!=(e=e.getData("text/plain")||e.getData("text/uri-list")))if(s.$isRangeSelection(t))for(n=(e=e.split(/(\r?\n|\t)/)).length,l=0;l<n;l++)"\n"===(a=e[l])||"\r\n"===a?t.insertParagraph():"\t"===a?t.insertNodes([s.$createTabNode()]):t.insertText(a);else t.insertRawText(e)},t.$insertGeneratedNodes=d,t.copyToClipboard=function(){var e=i(r.mark((function e(t,n){var i,o,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===_){e.next=2;break}return e.abrupt("return",!1);case 2:if(null===n){e.next=4;break}return e.abrupt("return",new Promise((function(e){t.update((function(){e(p(t,n))}))})));case 4:if(i=t.getRootElement(),o=document.getSelection(),null!==i&&null!==o){e.next=8;break}return e.abrupt("return",!1);case 8:return(l=document.createElement("span")).style.cssText="position: fixed; top: -1000px;",l.append(document.createTextNode("#")),i.append(l),(i=new Range).setStart(l,0),i.setEnd(l,1),o.removeAllRanges(),o.addRange(i),e.abrupt("return",new Promise((function(e){var n=t.registerCommand(s.COPY_COMMAND,(function(r){return r instanceof ClipboardEvent&&(n(),null!==_&&(window.clearTimeout(_),_=null),e(p(t,r))),!0}),s.COMMAND_PRIORITY_CRITICAL);_=window.setTimeout((function(){n(),_=null,e(!1)}),50),document.execCommand("copy"),l.remove()})));case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},abPH:function(e,t,n){"use strict";var r=n("Rc8S");e.exports=r},c9U5:function(e,t,n){"use strict";var r=n("Zc40");e.exports=r},dv3j:function(e,t,n){"use strict";var r=n("49Fm");e.exports=r},fyJO:function(e,t,n){"use strict";var r=n("yMAQ"),i=n("dv3j"),o=n("abPH"),l=n("FdF9"),a="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,s=a?l.useLayoutEffect:l.useEffect,u={tag:"history-merge"};t.LexicalComposer=function(e){var t=e.initialConfig,n=e.children,c=l.useMemo((function(){var e=t.theme,n=t.namespace,r=t.editor__DEPRECATED,l=t.nodes,s=t.onError,c=t.editorState,f=i.createLexicalComposerContext(null,e),d=r||null;if(null===d){var g=o.createEditor({editable:t.editable,namespace:n,nodes:l,onError:function(e){return s(e,g)},theme:e});!function(e,t){if(null!==t)if(void 0===t)e.update((function(){var t=o.$getRoot();if(t.isEmpty()){var n=o.$createParagraphNode();t.append(n),t=a?document.activeElement:null,(null!==o.$getSelection()||null!==t&&t===e.getRootElement())&&n.select()}}),u);else if(null!==t)switch(typeof t){case"string":var n=e.parseEditorState(t);e.setEditorState(n,u);break;case"object":e.setEditorState(t,u);break;case"function":e.update((function(){o.$getRoot().isEmpty()&&t(e)}),u)}}(g,c),d=g}return[d,f]}),[]);return s((function(){var e=t.editable;r(c,1)[0].setEditable(void 0===e||e)}),[]),l.createElement(i.LexicalComposerContext.Provider,{value:c},n)}},hW7W:function(e,t,n){"use strict";var r=n("I7M0");e.exports=r},iDdS:function(e,t,n){"use strict";var r=n("szwE");e.exports=r},jPIi:function(e,t,n){"use strict";var r=n("q4j+");e.exports=r},nJth:function(e,t,n){"use strict";var r=n("8OMv");e.exports=r},p5zw:function(e,t,n){"use strict";var r=n("yMAQ"),i=n("dv3j"),o=n("jPIi"),l=n("FdF9");t.createEmptyHistoryState=o.createEmptyHistoryState,t.HistoryPlugin=function(e){var t=e.externalHistoryState,n=i.useLexicalComposerContext();return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=l.useMemo((function(){return t||o.createEmptyHistoryState()}),[t]);l.useEffect((function(){return o.registerHistory(e,r,n)}),[n,e,r])}(r(n,1)[0],t),null}},pjrA:function(e,t,n){"use strict";var r=n("Rcae");e.exports=r},"q4j+":function(e,t,n){"use strict";var r=n("MIq5"),i=n("yMAQ"),o=n("aOS9"),l=n("xnsE"),a=n("abPH");function s(e,t){var n=Date.now(),r=0;return function(l,s,u,c,f,d){var g=Date.now();if(d.has("historic"))return r=0,n=g,2;var h=function(e,t,n,r,l){if(null===e||0===n.size&&0===r.size&&!l)return 0;var s=t._selection,u=e._selection;if(l)return 1;if(!(a.$isRangeSelection(s)&&a.$isRangeSelection(u)&&u.isCollapsed()&&s.isCollapsed()))return 0;l=t._nodeMap;var c,f=[],d=o(n);try{for(d.s();!(c=d.n()).done;){var g=c.value;void 0!==(n=l.get(g))&&f.push(n)}}catch(y){d.e(y)}finally{d.f()}var h,v=o(r);try{for(v.s();!(h=v.n()).done;){var _=i(h.value,2),p=_[0];_[1]&&(void 0===(r=l.get(p))||a.$isRootNode(r)||f.push(r))}}catch(y){v.e(y)}finally{v.f()}return 0===f.length?0:1<f.length?(t=(r=t._nodeMap).get(s.anchor.key),u=r.get(u.anchor.key),t&&u&&!e._nodeMap.has(t.__key)&&a.$isTextNode(t)&&1===t.__text.length&&1===s.anchor.offset?2:0):(t=f[0],e=e._nodeMap.get(t.__key),a.$isTextNode(e)&&a.$isTextNode(t)&&e.__mode===t.__mode?(e=e.__text)===(t=t.__text)?0:(s=s.anchor,u=u.anchor,s.key!==u.key||"text"!==s.type?0:(s=s.offset,u=u.offset,1===(e=t.length-e.length)&&u===s-1?2:-1===e&&u===s+1?3:-1===e&&u===s?4:0)):0)}(l,s,c,f,e.isComposing()),v=function(){var i=null===u||u.editor===e,o=d.has("history-push");if(!o&&i&&d.has("history-merge"))return 0;if(null===l)return 1;var v=s._selection;if(!(0<c.size||0<f.size))return null!==v?0:2;if(!1===o&&0!==h&&h===r&&g<n+t&&i)return 0;if(1===c.size){o=Array.from(c)[0],i=l._nodeMap.get(o),o=s._nodeMap.get(o),v=l._selection;var _=s._selection,p=!1;if(a.$isRangeSelection(v)&&a.$isRangeSelection(_)&&(p="element"===v.anchor.type&&"element"===v.focus.type&&"text"===_.anchor.type&&"text"===_.focus.type),i=!(p||!a.$isTextNode(i)||!a.$isTextNode(o))&&(i.__type===o.__type&&i.__text===o.__text&&i.__mode===o.__mode&&i.__detail===o.__detail&&i.__style===o.__style&&i.__format===o.__format&&i.__parent===o.__parent))return 0}return 1}();return n=g,r=h,v}}t.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}},t.registerHistory=function(e,t,n){var i=s(e,n);n=function(n){var o=n.editorState,l=n.prevEditorState,s=n.dirtyLeaves,u=n.dirtyElements,c=n.tags,f=t.current,d=t.redoStack,g=t.undoStack,h=null===f?null:f.editorState;if(null===f||o!==h){if(1===(l=i(l,o,f,s,u,c)))0!==d.length&&(t.redoStack=[],e.dispatchCommand(a.CAN_REDO_COMMAND,!1)),null!==f&&(g.push(r({},f)),e.dispatchCommand(a.CAN_UNDO_COMMAND,!0));else if(2===l)return;t.current={editor:e,editorState:o}}};var o=l.mergeRegister(e.registerCommand(a.UNDO_COMMAND,(function(){var n=t.redoStack,r=t.undoStack;if(0!==r.length){var i=t.current,o=r.pop();null!==i&&(n.push(i),e.dispatchCommand(a.CAN_REDO_COMMAND,!0)),0===r.length&&e.dispatchCommand(a.CAN_UNDO_COMMAND,!1),t.current=o||null,o&&o.editor.setEditorState(o.editorState,{tag:"historic"})}return!0}),a.COMMAND_PRIORITY_EDITOR),e.registerCommand(a.REDO_COMMAND,(function(){var n=t.redoStack,r=t.undoStack;if(0!==n.length){var i=t.current;null!==i&&(r.push(i),e.dispatchCommand(a.CAN_UNDO_COMMAND,!0)),r=n.pop(),0===n.length&&e.dispatchCommand(a.CAN_REDO_COMMAND,!1),t.current=r||null,r&&r.editor.setEditorState(r.editorState,{tag:"historic"})}return!0}),a.COMMAND_PRIORITY_EDITOR),e.registerCommand(a.CLEAR_EDITOR_COMMAND,(function(){return t.undoStack=[],t.redoStack=[],t.current=null,!1}),a.COMMAND_PRIORITY_EDITOR),e.registerCommand(a.CLEAR_HISTORY_COMMAND,(function(){return t.undoStack=[],t.redoStack=[],t.current=null,e.dispatchCommand(a.CAN_REDO_COMMAND,!1),e.dispatchCommand(a.CAN_UNDO_COMMAND,!1),!0}),a.COMMAND_PRIORITY_EDITOR),e.registerUpdateListener(n)),u=e.registerUpdateListener(n);return function(){o(),u()}}},ryE6:function(e,t,n){"use strict";var r=n("yMAQ"),i=n("dv3j"),o=n("FdF9"),l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?o.useLayoutEffect:o.useEffect;function a(e){return{initialValueFn:function(){return e.isEditable()},subscribe:function(t){return e.registerEditableListener(t)}}}e.exports=function(){return function(e){var t=i.useLexicalComposerContext(),n=r(t,1)[0],a=o.useMemo((function(){return e(n)}),[n,e]),s=o.useRef(a.initialValueFn()),u=o.useState(s.current),c=r(u,2),f=c[0],d=c[1];return l((function(){var e=a.initialValueFn,t=a.subscribe,n=e();return s.current!==n&&(s.current=n,d(n)),t((function(e){s.current=e,d(e)}))}),[a,e]),f}(a)}},szwE:function(e,t,n){"use strict";var r=n("jQsN"),i=n("yMAQ"),o=n("aOS9"),l=n("tcRq"),a=n("MIq5"),s=n("8ZkK"),u=n("n3k3"),c=n("/75L"),f=n("tQZz"),d=n("MMxs"),g=n("10u2"),h=n("c9U5"),v=n("yP/N"),_=n("xnsE"),p=n("abPH");function y(e,t){return"undefined"!==typeof document.caretRangeFromPoint?null===(e=document.caretRangeFromPoint(e,t))?null:{node:e.startContainer,offset:e.startOffset}:"undefined"!==document.caretPositionFromPoint?null===(e=document.caretPositionFromPoint(e,t))?null:{node:e.offsetNode,offset:e.offset}:null}var m="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,C=m&&"documentMode"in document?document.documentMode:null;m&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),m&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);var N=!(!m||!("InputEvent"in window)||C)&&"getTargetRanges"in new window.InputEvent("input"),x=m&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),T=m&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,E=m&&/^(?=.*Chrome).*/i.test(navigator.userAgent),k=m&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!E,S=p.createCommand("DRAG_DROP_PASTE_FILE"),O=function(e){g(n,e);var t=d(n);function n(e){return s(this,n),t.call(this,e)}return f(n,null,[{key:"getType",value:function(){return"quote"}},{key:"clone",value:function(e){return new n(e.__key)}}]),f(n,[{key:"createDOM",value:function(e){var t=document.createElement("blockquote");return _.addClassNamesToElement(t,e.theme.quote),t}},{key:"updateDOM",value:function(){return!1}},{key:"exportDOM",value:function(e){if((e=c(u(n.prototype),"exportDOM",this).call(this,e).element)&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t)}return{element:e}}},{key:"exportJSON",value:function(){return a({},c(u(n.prototype),"exportJSON",this).call(this),{type:"quote"})}},{key:"insertNewAfter",value:function(e,t){e=p.$createParagraphNode();var n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}},{key:"collapseAtStart",value:function(){var e=p.$createParagraphNode();return this.getChildren().forEach((function(t){return e.append(t)})),this.replace(e),!0}}],[{key:"importDOM",value:function(){return{blockquote:function(){return{conversion:b,priority:0}}}}},{key:"importJSON",value:function(e){var t=D();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}}]),n}(p.ElementNode);function D(){return p.$applyNodeReplacement(new O)}var R=function(e){g(n,e);var t=d(n);function n(e,r){var i;return s(this,n),(i=t.call(this,r)).__tag=e,i}return f(n,null,[{key:"getType",value:function(){return"heading"}},{key:"clone",value:function(e){return new n(e.__tag,e.__key)}}]),f(n,[{key:"getTag",value:function(){return this.__tag}},{key:"createDOM",value:function(e){var t=this.__tag,n=document.createElement(t);return void 0!==(e=e.theme.heading)&&_.addClassNamesToElement(n,e[t]),n}},{key:"updateDOM",value:function(){return!1}},{key:"exportDOM",value:function(e){if((e=c(u(n.prototype),"exportDOM",this).call(this,e).element)&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t)}return{element:e}}},{key:"exportJSON",value:function(){return a({},c(u(n.prototype),"exportJSON",this).call(this),{tag:this.getTag(),type:"heading",version:1})}},{key:"insertNewAfter",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=0<(e=e?e.anchor.offset:0)&&e<this.getTextContentSize()?w(this.getTag()):p.$createParagraphNode();var n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}},{key:"collapseAtStart",value:function(){var e=this.isEmpty()?p.$createParagraphNode():w(this.getTag());return this.getChildren().forEach((function(t){return e.append(t)})),this.replace(e),!0}},{key:"extractWithChild",value:function(){return!0}}],[{key:"importDOM",value:function(){return{h1:function(){return{conversion:A,priority:0}},h2:function(){return{conversion:A,priority:0}},h3:function(){return{conversion:A,priority:0}},h4:function(){return{conversion:A,priority:0}},h5:function(){return{conversion:A,priority:0}},h6:function(){return{conversion:A,priority:0}},p:function(e){return null!==(e=e.firstChild)&&M(e)?{conversion:function(){return{node:null}},priority:3}:null},span:function(e){return M(e)?{conversion:function(){return{node:w("h1")}},priority:3}:null}}}},{key:"importJSON",value:function(e){var t=w(e.tag);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}}]),n}(p.ElementNode);function M(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function A(e){var t=null;return"h1"!==(e=e.nodeName.toLowerCase())&&"h2"!==e&&"h3"!==e&&"h4"!==e&&"h5"!==e&&"h6"!==e||(t=w(e)),{node:t}}function b(){return{node:D()}}function w(e){return p.$applyNodeReplacement(new R(e))}function P(){return(P=l(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.copyToClipboard(n,t instanceof ClipboardEvent?t:null);case 2:n.update((function(){var e=p.$getSelection();p.$isRangeSelection(e)?e.removeText():p.$isNodeSelection(e)&&e.getNodes().forEach((function(e){return e.remove()}))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t=null;if(e instanceof DragEvent?t=e.dataTransfer:e instanceof ClipboardEvent&&(t=e.clipboardData),null===t)return[!1,[],!1];var n=t.types;return e=n.includes("Files"),n=n.includes("text/html")||n.includes("text/plain"),[e,Array.from(t.files),n]}function $(e){var t=p.$getSelection();if(!p.$isRangeSelection(t))return!1;var n=new Set;t=t.getNodes();for(var r=0;r<t.length;r++){var i=t[r],o=i.getKey();n.has(o)||(o=(i=_.$getNearestBlockElementAncestorOrThrow(i)).getKey(),i.canIndent()&&!n.has(o)&&(n.add(o),e(i)))}return 0<n.size}function L(e){return e=p.$getNearestNodeFromDOMNode(e),p.$isDecoratorNode(e)}t.$createHeadingNode=w,t.$createQuoteNode=D,t.$isHeadingNode=function(e){return e instanceof R},t.$isQuoteNode=function(e){return e instanceof O},t.DRAG_DROP_PASTE=S,t.HeadingNode=R,t.QuoteNode=O,t.eventFiles=I,t.registerRichText=function(e){return _.mergeRegister(e.registerCommand(p.CLICK_COMMAND,(function(){var e=p.$getSelection();return!!p.$isNodeSelection(e)&&(e.clear(),!0)}),0),e.registerCommand(p.DELETE_CHARACTER_COMMAND,(function(e){var t=p.$getSelection();return!!p.$isRangeSelection(t)&&(t.deleteCharacter(e),!0)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.DELETE_WORD_COMMAND,(function(e){var t=p.$getSelection();return!!p.$isRangeSelection(t)&&(t.deleteWord(e),!0)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.DELETE_LINE_COMMAND,(function(e){var t=p.$getSelection();return!!p.$isRangeSelection(t)&&(t.deleteLine(e),!0)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.CONTROLLED_TEXT_INSERTION_COMMAND,(function(t){var n=p.$getSelection();if("string"===typeof t)p.$isRangeSelection(n)?n.insertText(t):p.DEPRECATED_$isGridSelection(n);else{if(!p.$isRangeSelection(n)&&!p.DEPRECATED_$isGridSelection(n))return!1;var r=t.dataTransfer;null!=r?h.$insertDataTransferForRichText(r,n,e):p.$isRangeSelection(n)&&(t=t.data)&&n.insertText(t)}return!0}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.REMOVE_TEXT_COMMAND,(function(){var e=p.$getSelection();return!!p.$isRangeSelection(e)&&(e.removeText(),!0)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.FORMAT_TEXT_COMMAND,(function(e){var t=p.$getSelection();return!!p.$isRangeSelection(t)&&(t.formatText(e),!0)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.FORMAT_ELEMENT_COMMAND,(function(e){var t=p.$getSelection();if(!p.$isRangeSelection(t)&&!p.$isNodeSelection(t))return!1;t=t.getNodes();var n,r=o(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;_.$getNearestBlockElementAncestorOrThrow(i).setFormat(e)}}catch(l){r.e(l)}finally{r.f()}return!0}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.INSERT_LINE_BREAK_COMMAND,(function(e){var t=p.$getSelection();return!!p.$isRangeSelection(t)&&(t.insertLineBreak(e),!0)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.INSERT_PARAGRAPH_COMMAND,(function(){var e=p.$getSelection();return!!p.$isRangeSelection(e)&&(e.insertParagraph(),!0)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.INSERT_TAB_COMMAND,(function(){return p.$insertNodes([p.$createTabNode()]),!0}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.INDENT_CONTENT_COMMAND,(function(){return $((function(e){var t=e.getIndent();e.setIndent(t+1)}))}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.OUTDENT_CONTENT_COMMAND,(function(){return $((function(e){var t=e.getIndent();0<t&&e.setIndent(t-1)}))}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.KEY_ARROW_UP_COMMAND,(function(e){var t=p.$getSelection();if(p.$isNodeSelection(t)&&!L(e.target)){if(0<(e=t.getNodes()).length)return e[0].selectPrevious(),!0}else if(p.$isRangeSelection(t)&&(t=p.$getAdjacentNode(t.focus,!0),p.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline()))return t.selectPrevious(),e.preventDefault(),!0;return!1}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.KEY_ARROW_DOWN_COMMAND,(function(e){var t=p.$getSelection();if(p.$isNodeSelection(t)){if(0<(e=t.getNodes()).length)return e[0].selectNext(0,0),!0}else if(p.$isRangeSelection(t)){var n=t.focus;if("root"===n.key&&n.offset===p.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(t=p.$getAdjacentNode(t.focus,!1),p.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline())return t.selectNext(),e.preventDefault(),!0}return!1}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.KEY_ARROW_LEFT_COMMAND,(function(e){var t=p.$getSelection();if(p.$isNodeSelection(t)){var n=t.getNodes();if(0<n.length)return e.preventDefault(),n[0].selectPrevious(),!0}return!!p.$isRangeSelection(t)&&(!!v.$shouldOverrideDefaultCharacterSelection(t,!0)&&(n=e.shiftKey,e.preventDefault(),v.$moveCharacter(t,n,!0),!0))}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.KEY_ARROW_RIGHT_COMMAND,(function(e){var t=p.$getSelection();if(p.$isNodeSelection(t)&&!L(e.target)){var n=t.getNodes();if(0<n.length)return e.preventDefault(),n[0].selectNext(0,0),!0}return!!p.$isRangeSelection(t)&&(n=e.shiftKey,!!v.$shouldOverrideDefaultCharacterSelection(t,!1)&&(e.preventDefault(),v.$moveCharacter(t,n,!1),!0))}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.KEY_BACKSPACE_COMMAND,(function(t){if(L(t.target))return!1;var n=p.$getSelection();if(!p.$isRangeSelection(n))return!1;t.preventDefault();var r=(t=n.anchor).getNode();return n.isCollapsed()&&0===t.offset&&!p.$isRootNode(r)&&0<_.$getNearestBlockElementAncestorOrThrow(r).getIndent()?e.dispatchCommand(p.OUTDENT_CONTENT_COMMAND,void 0):e.dispatchCommand(p.DELETE_CHARACTER_COMMAND,!0)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.KEY_DELETE_COMMAND,(function(t){if(L(t.target))return!1;var n=p.$getSelection();return!!p.$isRangeSelection(n)&&(t.preventDefault(),e.dispatchCommand(p.DELETE_CHARACTER_COMMAND,!1))}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.KEY_ENTER_COMMAND,(function(t){var n=p.$getSelection();if(!p.$isRangeSelection(n))return!1;if(null!==t){if((T||x||k)&&N)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(p.INSERT_LINE_BREAK_COMMAND,!1)}return e.dispatchCommand(p.INSERT_PARAGRAPH_COMMAND,void 0)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.KEY_ESCAPE_COMMAND,(function(){var t=p.$getSelection();return!!p.$isRangeSelection(t)&&(e.blur(),!0)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.DROP_COMMAND,(function(t){var n=I(t),r=i(n,2)[1];if(0<r.length){var o=y(t.clientX,t.clientY);if(null!==o){var l=o,a=l.offset,s=l.node,u=p.$getNearestNodeFromDOMNode(s);if(null!==u){if(o=p.$createRangeSelection(),p.$isTextNode(u))o.anchor.set(u.getKey(),a,"text"),o.focus.set(u.getKey(),a,"text");else{var c=u.getParentOrThrow().getKey();u=u.getIndexWithinParent()+1,o.anchor.set(c,u,"element"),o.focus.set(c,u,"element")}o=p.$normalizeSelection__EXPERIMENTAL(o),p.$setSelection(o)}e.dispatchCommand(S,r)}return t.preventDefault(),!0}return t=p.$getSelection(),!!p.$isRangeSelection(t)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.DRAGSTART_COMMAND,(function(e){var t=I(e);e=i(t,1)[0];var n=p.$getSelection();return!(e&&!p.$isRangeSelection(n))}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.DRAGOVER_COMMAND,(function(e){var t=I(e),n=i(t,1)[0],r=p.$getSelection();return!(n&&!p.$isRangeSelection(r))&&(null!==(n=y(e.clientX,e.clientY))&&(n=p.$getNearestNodeFromDOMNode(n.node),p.$isDecoratorNode(n)&&e.preventDefault()),!0)}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.COPY_COMMAND,(function(t){return h.copyToClipboard(e,t instanceof ClipboardEvent?t:null),!0}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.CUT_COMMAND,(function(t){return function(e,t){P.apply(this,arguments)}(t,e),!0}),p.COMMAND_PRIORITY_EDITOR),e.registerCommand(p.PASTE_COMMAND,(function(t){var n=I(t),r=i(n,3),o=r[1],l=r[2];if(0<o.length&&!l)return e.dispatchCommand(S,o),!0;if(p.isSelectionCapturedInDecoratorInput(t.target))return!1;var a=p.$getSelection();return!(!p.$isRangeSelection(a)&&!p.DEPRECATED_$isGridSelection(a))&&(function(e,t){e.preventDefault(),t.update((function(){var n=p.$getSelection(),r=e instanceof InputEvent||e instanceof KeyboardEvent?null:e.clipboardData;null!=r&&(p.$isRangeSelection(n)||p.DEPRECATED_$isGridSelection(n))&&h.$insertDataTransferForRichText(r,n,t)}),{tag:"paste"})}(t,e),!0)}),p.COMMAND_PRIORITY_EDITOR))}},uOo9:function(e,t,n){"use strict";var r=n("L1dl");e.exports=r},xnsE:function(e,t,n){"use strict";var r=n("FAO+");e.exports=r},"yP/N":function(e,t,n){"use strict";var r=n("7JAP");e.exports=r},zzkZ:function(e,t,n){"use strict";var r=n("GHEj");e.exports=r}}]);