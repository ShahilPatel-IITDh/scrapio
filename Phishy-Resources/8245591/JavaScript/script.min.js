try { window == window.top && eraseCookie("documentdomain"); var captionAnimationTimeout, ourInterval, igObj, scrollTop, scrollLeft, documentdomain = getParameterByName("documentdomain"); documentdomain || (documentdomain = readCookie("documentdomain")), documentdomain && "" != documentdomain && (document.domain = documentdomain, createCookie("documentdomain", documentdomain, 1)) } catch (e) { } var skr = null, skrOptions = { forceHeight: !1 }, isMobileDevice = !1, enumCaptionAnimation = { NoAnimation: "No Animation", FadeIn: "Fade In", SlideUp: "Slide Up", SlideDown: "Slide Down", SlideRight: "Slide Right", SlideLeft: "Slide Left", SlideHorizontally: "Slide Horizontally", SlideVertically: "Slide Vertically" }, $bp_data = null, _lastBreakpoint = "", scrollWidth = 0, windowWidth = 0; function toInt(e, t) { returnValue = 0, t || (t = 0); try { returnValue = parseInt(e) || t } catch (a) { log(a) } return returnValue } function reinitParallaxAccordingToBreakpoint() { skrollr.get() ? skrollr.get().destroy(function () { skrollr.init(skrOptions), skr = skrollr.get() }) : (skrollr.init(skrOptions), skr = skrollr.get()) } function prepareFixedMobileMenu() { $(".mobile-menu").closest(".dataTypeMenu").filter(function () { return "fixed" == window.getComputedStyle(this).position }).each(function () { $(this).css("overflow-y", "auto").css("overflow-x", "hidden"), getMobileMenuToggleByMenu(this.id)[0]; var e = Math.floor(.7 * (document.documentElement.clientHeight - window.getComputedStyle(this).top.replace("px", ""))); $(this).css("max-height", e), $(this).css("height", "auto") }) } function UpdateStylesForNonParallaxBreakpoint(e) { if (e.length > 0) { var t = $(".dataTypeMainContent")[0] || $('[data-type="MainContent"]')[0]; e.each(function () { if (this.getAttribute("data-initbr") && this.getAttribute("data-initbr") != _currentBreakpoint && !($(this).hasClass("video_fit_to_bg") || $(this).hasClass("video_fit_to_width"))) { if ($(this).hasClass("fit_to_bg_new")) this.style.width = "auto", this.style.right = "0px", this.style.left = "0px"; else { $(this).css({ top: "", left: "" }); var e = toInt(getStyle(this, "left")) - toInt(getStyle(this, "borderLeftWidth")) + t.offsetLeft, a = toInt(getStyle(this, "top")) - toInt(getStyle(this, "borderTopWidth")); $(this).css({ top: a, left: e }) } } }) } } function handleresizeDefaultGallery() { var e = { OriginalSize: 0, FitToWidth: 1, FitToHeight: 2, Stretch: 3, Pattern: 4, None: 5, RepeatX: 6, RepeatY: 7 }, t = { TopLeft: 0, TopRight: 1, BottomRight: 2, BottomLeft: 3, Center: 4, None: 5, TopCenter: 6, BottomCenter: 7, Right: 8, Left: 9 }; $(".DefaultGallery").each(function (a) { var n = this.children[0], r = { at: "slide", iw: 0, im: 0, ft: 3, pt: 4 }; properties = GetParamsFromClassName(this, r); var s = $(n).find("ul.slides li").children("img"); s.css("display", "inline"), s.parent().css("background-repeat", "no-repeat").css("background-image", "none"); var o = n.clientWidth, l = n.clientHeight; s.each(function (a, n) { var s = this.getAttribute("data-initialWidth"), c = this.getAttribute("data-initialHeight"), d = 1 * r.ft; switch (d) { case e.OriginalSize: $(this).css("width", s + "px").css("height", c + "px"); break; case e.FitToWidth: var h = c / s, p = o, g = p * h; $(this).css("width", p + "px").css("height", g + "px"); break; case e.FitToHeight: var h = c / s, g = l, p = g / h; $(this).css("width", p + "px").css("height", g + "px"); break; case e.Stretch: var g = l, p = o; $(this).css("width", p + "px").css("height", g + "px"); break; case e.Pattern: this.style.display = "none", this.parentNode.style.width = o + "px", this.parentNode.style.height = l + "px", this.parentNode.style.backgroundRepeat = "repeat", this.parentNode.style.backgroundImage = "url(" + this.src + ")" }var u = 1 * r.pt; switch (u) { case t.TopLeft: $(this).css("margin-left", "0px").css("margin-top", "0px"); break; case t.TopRight: $(this).css("margin-left", o - toInt($(this).css("width")) + "px").css("margin-top", "0px"); break; case t.BottomRight: $(this).css("margin-left", o - toInt($(this).css("width")) + "px").css("margin-top", l - toInt($(this).css("height")) + "px"); break; case t.BottomLeft: $(this).css("margin-left", "0px").css("margin-top", l - toInt($(this).css("height")) + "px"); break; case t.Center: $(this).css("margin-left", (o - toInt($(this).css("width"))) / 2 + "px").css("margin-top", (l - toInt($(this).css("height"))) / 2 + "px") } }) }) } function removeZoomForNotMobileDevices() { if (navigator.userAgent.match(/iPad/i) && (isMobileDevice = !0), navigator.userAgent.match(/iPod/i) && (isMobileDevice = !0), navigator.userAgent.match(/iPhone/i) && (isMobileDevice = !0), navigator.userAgent.match(/Android/i) && (isMobileDevice = !0), navigator.userAgent.match(/BlackBerry/i) && (isMobileDevice = !0), navigator.userAgent.match(/Windows Phone/i) && (isMobileDevice = !0), navigator.userAgent.match(/Opera Mobi/i) && (isMobileDevice = !0), navigator.userAgent.match(/webOS/i) && (isMobileDevice = !0), !1 == isMobileDevice) try { document.getElementsByTagName("html")[0].style.zoom = 1, navigator.userAgent.match(/firefox/i) && document.getElementsByTagName("html")[0].setAttribute("style", "-moz-transform:none"), window.innerWidth && (scrollWidth = window.innerWidth - document.documentElement.clientWidth) } catch (e) { } } $(window).resize(function () { if (!0 != dontResize && $(window).width() != windowWidth) { windowWidth = $(window).width(), removeZoomForNotMobileDevices(); var e = $("[data-parallax]").filter(function () { return !0 == $(this).is(":visible") }); e.removeClass("show-parallax"), updateMainPanelWidth(), e.length > 0 && UpdateStylesForNonParallaxBreakpoint(e), updateVideoWidth(!0), updateVideoBackground(!0), handleresizeDefaultGallery(), e.addClass("show-parallax"), prepareFixedMobileMenu(), $(".mobile-menu") && "none" == $(".mobile-toggle").css("display") && $(".mobile-menu").closest(".mobile").hide(), $(window).trigger("windowResize") } }), $(window).scroll(function () { }); var dontResize = !1; function LeftFix() { dontResize = !0; try { prevMainContentOffsetLeft = 0, $(".dataTypeMainContent")[0] || $('[data-type="MainContent"]')[0], $("[data-type]").filter(function () { return "fixed" == $(this).css("position") }).each(function () { $(this).hasClass("fit_to_bg_new") || $($(this)[0]).css("left", "") }); var e = $("[data-parallax]").filter(function () { return !0 == $(this).is(":visible") }); e.removeClass("show-parallax"), e.each(function () { this.getAttribute("data-initbr") && this.getAttribute("data-initbr") != _currentBreakpoint || (this.style.left = "", this.style.top = "") }), e.length > 0 && reinitParallaxAccordingToBreakpoint(), e.addClass("show-parallax") } catch (t) { } finally { dontResize = !1 } } function AddMatchMediaListenersForMediaQuery() { window.matchMedia && ["screen and (max-width:959px)", "screen and (max-width:767px)", "screen and (max-width:479px)"].forEach(function (e) { window.matchMedia(e).addListener(function (e) { resetPushEventListeners(), handleMainAndFooterContentHeightAccordingToChildrenBottom(), SetCurrentBreakPointBodyClass(), LeftFix(), SetDefaultRepeaterPage(), createPushEventListeners(!0), $(window).trigger("mediaQueriesChange") }) }) } function setBreakPoint() { var e = document.querySelector("meta[name=viewport]"); if (e) { e.setAttribute("content", "width=device-width, initial-scale=1"); var t = document.body.scrollWidth, a = null, n = null, r = null, s = $(".bp_data"); for (i = 0; i < s.length; i++) { var o = s[i], l = o.getAttribute("data-startsfrom"), c = o.getAttribute("data-value"), d = o.getAttribute("data-bp"); l > t && !n && (a = l, n = c), "pc" != d || n || (n = c) } n > t && (initial = t / n, e.setAttribute("content", "width=device-width, initial-scale=" + initial)) } } function handleMainAndFooterContentHeightAccordingToChildrenBottom() { var e = $("main"), t = e.find('[data-type="MainContent"]'), a = t[0]; a.style.height = ""; var n = a.clientHeight + e[0].offsetTop; t.children("[data-type]:visible").each(function () { if ($(this).hasClass("block_important")) { if ($(this).removeClass("block_important"), "none" != $(this).css("display")) { var e = this.clientHeight + this.offsetTop; n = Math.max(e, n) } $(this).addClass("block_important") } else { var e = this.clientHeight + this.offsetTop; n = Math.max(e, n) } }), a.style.height = n - e[0].offsetTop + "px" } function SetCurrentBreakPointBodyClass() { var e = document.body.scrollWidth + scrollWidth - 1, t = null, a = "pc"; for (i = 0; i < $bp_data.length; i++) { var n = $bp_data[i], r = n.getAttribute("data-startsfrom"), s = n.getAttribute("data-value"), o = n.getAttribute("data-bp"); r > e && !t && (t = s, a = o), "pc" != o || t || (t = s, a = o) } _lastBreakpoint != (_currentBreakpoint = a) && (_lastBreakpoint = _currentBreakpoint, document.body.setAttribute("class", a + "_view")) } function getStyle(e, t) { return isIE && isWin && !isOpera && "" != window.getComputedStyle(e, null).getPropertyValue(t) ? window.getComputedStyle(e, null).getPropertyValue(t) : window.getComputedStyle(e, null)[t] } setTimeout(function () { "none" == document.body.style.display && (document.body.style.display = "block") }, 2500), window.onload = function () { handleMainAndFooterContentHeightAccordingToChildrenBottom() }, $(document).ready(function () { document.body.style.display = "block", $bp_data = $(".bp_data"), removeZoomForNotMobileDevices(), SetCurrentBreakPointBodyClass(), AddMatchMediaListenersForMediaQuery(); var e = $("[data-parallax]").filter(function () { return !0 == $(this).is(":visible") }); handleMainAndFooterContentHeightAccordingToChildrenBottom(), updateMainPanelWidth(), fixHideVimeoControl(), updateVideoBackground(!0), updateVideoWidth(!0), updateVideoHeight(), e.length > 0 && UpdateStylesForNonParallaxBreakpoint(e), handleImageTextCaption(), handleDefaultGallery(), handleMatrixGallery(), $('div[data-reference="body"]').each(function () { $(this).removeAttr("contenteditable") }); var t = $(window).height(); $(document).height() > t && $("html").css("height", "auto"), $(".width_height_max").css("width", "100%", "height", "100%"), $(".popup_anchor").closest(".image_text_caption").find(".inner_text_con").mouseover(function (e) { $(this).css("cursor", "pointer") }), ($.browser && $.browser.msie || isIE11) && (FixTextRtlForIE(), $("ul.image_wa").each(function () { $(this).css("width", $(this).find("li").first().css("width")) })), $(".block_important").removeClass("block_important"), $("[data-formmode='MessageMode']").addClass("none_important"), e.addClass("show-parallax"); for (var a = document.getElementsByClassName("galleryTextCaption"), n = 0; n < a.length; n++)a[n] && a[n].children[0] && (a[n].style.height = a[n].children[0].offsetHeight + "px"); $(".mobile-toggle").click(mobileMenuToggle), $(".mobile button").click(mobileMenuExpand), $(".mobile a").click(function () { $(this).closest(".mobile").hide() }), prepareFixedMobileMenu(), createPushEventListeners(!1), windowWidth = $(window).width(), $(window).trigger("documentReady") }), window.getComputedStyle || (window.getComputedStyle = function (e, t) { return this.el = e, this.getPropertyValue = function (t) { var a = /(\-([a-z]){1})/g; return "float" == t && (t = "styleFloat"), a.test(t) && (t = t.replace(a, function () { return arguments[2].toUpperCase() })), e.currentStyle[t] ? e.currentStyle[t] : null }, this }); var prevMainContentOffsetLeft = 0; function handleImageTextCaption() { $(".imageTextCaption").each(function e() { 0 != $(this)[0].children[0].offsetWidth && $(this).css("width", $(this)[0].children[0].offsetWidth), 0 != $(this)[0].children[0].offsetHeight && $(this).css("height", $(this)[0].children[0].offsetHeight); var t = $(this)[0].children[0].getAttribute("data-captionAnimationType"); switch (t) { case enumCaptionAnimation.SlideUp: $(this.children[0]).css("top", $(this)[0].offsetHeight); break; case enumCaptionAnimation.SlideDown: $(this.children[0]).css("top", -$(this)[0].offsetHeight); break; case enumCaptionAnimation.SlideRight: $(this.children[0]).css("left", -$(this)[0].offsetWidth); break; case enumCaptionAnimation.SlideLeft: $(this.children[0]).css("left", $(this)[0].offsetWidth) } }), $(".imageTextCaption").click(function (e) { $(this).closest(".image_text_caption").find("a.popup_anchor").trigger("click") }), $(".imageTextCaption .text_caption").click(function (e) { var t = $(this).closest(".image_text_caption").find(".popup_anchor")[0]; if (t) { var a, n, r = t.getAttribute("data-src"), s = t.getAttribute("data-title"); PopUpImage(r, s, t.getAttribute("data-originalWidth"), t.getAttribute("data-originalHeight")) } }) } function handleImageEvent(e, t) { var a = $((e = e || event).srcElement || e.target).closest(".image_text_caption"); if (0 != a.length) { var n = a[0], r = $(n).find(".dataTypeText")[0] || $(n).find("[data-type='text']")[0]; if (!t && $(n).find(e.relatedTarget).length > 0) return; var s = 1e3 * r.getAttribute("data-captionAnimationDuration"), o = 1e3 * r.getAttribute("data-captionAnimationDelay"), l = t ? o : 0; switch (r.getAttribute("data-captionAnimationType")) { case enumCaptionAnimation.FadeIn: c(t ? { opacity: 1 } : { opacity: 0 }, !0); break; case enumCaptionAnimation.SlideUp: c(t ? { top: 0 } : { top: r.offsetHeight }); break; case enumCaptionAnimation.SlideDown: c(t ? { top: 0 } : { top: -r.offsetHeight }); break; case enumCaptionAnimation.SlideRight: c(t ? { left: 0 } : { left: -r.offsetWidth }); break; case enumCaptionAnimation.SlideLeft: c(t ? { left: 0 } : { left: r.offsetWidth }) } } function c(e, a) { var n = a ? $(r.parentNode) : $(r); o > 0 && captionAnimationTimeout && clearTimeout(captionAnimationTimeout); var c = "animating", d = "finishedEntranceAnimation"; if (t || n.hasClass(c) || n.hasClass(d)) { function h() { n.removeClass(d).addClass(c), n.animate(e, s, function () { t && n.addClass(d), n.removeClass(c) }) } n.hasClass(c) && (n.stop().removeClass(c), l = 0), 0 == l ? h() : captionAnimationTimeout = setTimeout(function () { h() }, l) } } } function MenuOver(e, t, a, n) { (t = t || event).srcElement || t.target; var r = GETGLOBALPOSITION(e); if (0 == e.id.indexOf("menuElement")) for (var s = e.parentNode.children, o = 0; o < s.length; o++) { var l = s[o].getAttribute("childMenu") ? s[o].getAttribute("childMenu") : s[o].getAttribute("data-childMenu"); l && (document.getElementById(l).style.display = "none") } else if (0 == e.id.indexOf("mainMenuElement")) for (var c = e.parentNode.children, o = 0; o < c.length; o++) { var d = c[o].getAttribute("childmenu") ? c[o].getAttribute("childMenu") : c[o].getAttribute("data-childMenu"); if (d) for (var l = document.getElementById(d), h = l.children, p = 0; p < h.length; p++)HideMenuFromParent(h[p]) } else if (n && 0 == e.id.indexOf("mainMenuElement")) for (var s = document.getElementById(n).children, o = 0; o < s.length; o++) { var l = s[o].getAttribute("childMenu") ? s[o].getAttribute("childMenu") : s[o].getAttribute("data-childMenu"); l && (document.getElementById(l).style.display = "none") } if (n) { var g, u = document.getElementById(n); u.style.position = "absolute", u.style.display = "block"; for (var f = u.childNodes, o = 0; o < f.length; o++)f[o].parentMenu = e; if (0 == e.id.indexOf("mainMenuElement")) { var m = 0, v = 0; $(e).closest(".menu").hasClass("vertical") && (v = $(e).closest(".menu").hasClass("right") ? -$(u).outerWidth(!0) : $(e).outerWidth(!0), m = -$(e).outerHeight(!0)), u.style.top = r.top + m + e.offsetHeight + "px", u.style.left = r.left + v + "px" } else u.style.top = r.top + "px", "rtl" == a ? u.style.left = r.left - u.scrollWidth + "px" : u.style.left = r.left + e.offsetWidth + "px" } } function MenuOverTest(e, t, a, n, r) { if (GETGLOBALPOSITION(e), n) { var s, o = document.getElementById(n); o.style.position = "absolute", o.style.display = "block"; for (var l = o.childNodes, c = 0; c < l.length; c++)l[c].parentMenu = e; 0 == e.id.indexOf("mainMenuElement") && (o.style.top = e.clientHeight + "px") } } function MenuOut(e, t, a) { (t = t || event).srcElement || t.target; var n = GetMenuElement(t); !n && (HideChildMenu(e, n, a), HideMenu(e, n)) } function menuLiClick(e, t, a, n) { var r = t.srcElement || t.target; "li" == r.tagName.toLowerCase() && (r.children[0].onclick && r.children[0].onclick.toString().indexOf("scrollToElement('") > "-1" ? r.children[0].click() : "true" == n ? window.open("", "_new").location.href = a : window.location.href = a) } function HideChildMenu(e, t, a) { if (0 == e.id.indexOf("mainMenu")) { if ((!t || t == e.nextSibling || t == e.previousSibling) && a) { var n = document.getElementById(a); n.style.display = "none" } } else if (0 == e.id.indexOf("menuElement") && a) { var n = document.getElementById(a); n.style.display = "none" } } function HideMenu(e, t) { !t && 0 != e.id.indexOf("mainMenuElement") && 0 != e.id.indexOf("mainMenuVerElement") && (e.parentNode.style.display = "none", e.parentMenu && HideMenu(e.parentMenu)) } function HideMenuFromParent(e) { if (e) { e.parentNode.style.display = "none"; var t = e.getAttribute("childmenu") ? e.getAttribute("childmenu") : e.getAttribute("data-childmenu"); if (t) { var a = document.getElementById(t); a && HideMenuFromParent(a.children[0]) } } } function GETGLOBALPOSITION(e, t) { for (var a = 0, n = 0; e && e != t;)a += e.offsetLeft, n += e.offsetTop, e = e.offsetParent; return { top: n, left: a } } function GetMenuElement(e) { var t = (e = e || event).toElement || e.relatedTarget || e.currentTarget; for ("li" == t.tagName.toLowerCase() && (t = t.parentNode), "ul" == t.tagName.toLowerCase() && (t = t.children[0]); t;) { if (!t.getAttribute) return null; if (0 == t.id.indexOf("menuElement")) break; t = t.parentNode } return t } function AjaxHandler() { this.Send = function (e, t, a, n, r, s, o = !1) { var l; return window.XMLHttpRequest ? l = new XMLHttpRequest : window.ActiveXObject && (l = new ActiveXObject("Microsoft.XMLHTTP")), n && (l.onreadystatechange = function () { 4 == l.readyState && (l.status < 400 ? r && r(l) : s && s(l.status, l.statusText, l.responseText)) }), l.open(e, t, n), window.XMLHttpRequest && (l.setRequestHeader("X-Requested-With", "XMLHttpRequest"), l.setRequestHeader("Access-Control-Allow-Origin", "*")), a ? (o ? l.setRequestHeader("Content-Type", "application/json; charset=utf-8") : (l.setRequestHeader("Content-Type", "application/soap+xml; charset=utf-8"), l.setRequestHeader("Content-Length", a.length)), l.send(a)) : l.send(), l } } function Encode(e) { return e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/''/g, "&quot;").replace(/''/g, "&apos;") } function IsEmail(e) { if ("" == e) return !1; for (var t, a = 0; a < e.length; a++)if (((t = e.charAt(a)) < "a" || t > "z") && (t < "A" || t > "Z") && (t < "0" || t > "9") && "_" != t && "-" != t && "@" != t && "." != t) return !1; var n = e.indexOf("@"); return !(n < 1 || n < e.lastIndexOf("@") || n > e.lastIndexOf(".") - 2 || e.lastIndexOf(".") > e.length - 3) } function IsDate(e) { try { var t, a, n; if (/\b\d{1,2}[\/|\-|\.]\d{1,2}[\/|\-|\.]\d{2,4}\b/.test(e)) { var r = -1 != e.indexOf("/") ? "/" : -1 != e.indexOf(".") ? "." : "-", s = e.indexOf(r), o = e.lastIndexOf(r); t = parseInt(e.substring(0, s), 10), a = parseInt(e.substring(s + 1, o), 10), n = parseInt(e.substring(o + 1), 10); var l = new Date(n, t - 1, a); if (l.getDate() == a && l.getMonth() + 1 == t && (l.getFullYear() == n || l.getYear() == n)) return !0 } } catch (c) { } return !1 } function IsNumber(e) { return !!/^[0-9]+$/.test(e) } function IsPhone(e) { return e = e.replace(/\./g, "").replace(/ /g, "").replace(/-/g, "").replace(/\+/g, "").replace(/\(/g, "").replace(/\)/g, ""), !!/^[0-9]+$/.test(e) && !(e.length < 7) } function GenerateEnvelope(e, t, a, n, r, s, o, l = !1) { var c; return s || (s = "no-reply@design-editor.com"), o = o ? o.replace("&", "and") : "New Form Submission From Your Website", c = l ? JSON.stringify({ siteId: e, pageName: t, formId: a, formFields: Encode(n), recievingEmailAddress: r, recievingEmailSubject: o, recievingEmailFrom: s }) : '<?xml version="1.0" encoding="utf-8"?><soap12:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap12="http://www.w3.org/2003/05/soap-envelope"><soap12:Body><SaveForm xmlns="http://tempuri.org/"><siteId>' + e + "</siteId><pageName>" + t + "</pageName><formId>" + a + "</formId><formFields>" + Encode(n) + "</formFields><recievingEmailAddress>" + r + "</recievingEmailAddress><recievingEmailFrom>" + s + "</recievingEmailFrom><recievingEmailSubject>" + o + "</recievingEmailSubject></SaveForm></soap12:Body></soap12:Envelope>" } function showMessageMode(e) { var t; if (e.getAttribute) { "FormMode" == (t = e.getAttribute("data-formmode")) ? ($(e).removeClass("block_important"), $(e).addClass("none_important")) : "MessageMode" == t && ($(e).removeClass("none_important"), $(e).addClass("block_important")); for (var a = 0; a < e.children.length; a++)showMessageMode(e.children[a]) } } function hideErrorMessages(e) { var t; if (e.getAttribute) { "FormErrorMessage" == (t = e.getAttribute("data-etc")) && (e.style.display = "none"); for (var a = 0; a < e.children.length; a++)hideErrorMessages(e.children[a]) } } $(window).keydown(function (e) { if (27 === ((e = e || window.event).charCode || e.keyCode)) { var t = document.getElementById("imagepopup_overlay"); t && t.parentNode.removeChild(t) } }); var isIE = -1 != navigator.appVersion.indexOf("MSIE"), isWin = -1 != navigator.appVersion.toLowerCase().indexOf("win"), isOpera = -1 != navigator.userAgent.indexOf("Opera"), isIE11 = !!navigator.userAgent.match(/Trident.*rv[ :]*11\./); function ControlVersion() { var e, t; try { e = (t = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version") } catch (a) { } if (!e) try { t = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"), e = "WIN 6,0,21,0", t.AllowScriptAccess = "always", e = t.GetVariable("$version") } catch (n) { } if (!e) try { e = (t = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3")).GetVariable("$version") } catch (r) { } if (!e) try { t = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"), e = "WIN 3,0,18,0" } catch (s) { } if (!e) try { t = new ActiveXObject("ShockwaveFlash.ShockwaveFlash"), e = "WIN 2,0,0,11" } catch (o) { e = -1 } return e } function GetSwfVer() { var e = -1; if (null != navigator.plugins && navigator.plugins.length > 0) { if (navigator.plugins["Shockwave Flash 2.0"] || navigator.plugins["Shockwave Flash"]) { var t = navigator.plugins["Shockwave Flash 2.0"] ? " 2.0" : "", a = navigator.plugins["Shockwave Flash" + t].description.split(" "), n = a[2].split("."), r = n[0], s = n[1], o = a[3]; "" == o && (o = a[4]), "d" == o[0] ? o = o.substring(1) : "r" == o[0] && (o = o.substring(1)).indexOf("d") > 0 && (o = o.substring(0, o.indexOf("d"))); var e = r + "." + s + "." + o } } else -1 != navigator.userAgent.toLowerCase().indexOf("webtv/2.6") ? e = 4 : -1 != navigator.userAgent.toLowerCase().indexOf("webtv/2.5") ? e = 3 : -1 != navigator.userAgent.toLowerCase().indexOf("webtv") ? e = 2 : isIE && isWin && !isOpera && (e = ControlVersion()); return e } function DetectFlashVer(e, t, a) { if (-1 == (versionStr = GetSwfVer())) return !1; if (0 != versionStr) { var n = (versionArray = isIE && isWin && !isOpera ? (tempString = (tempArray = versionStr.split(" "))[1]).split(",") : versionStr.split("."))[0], r = versionArray[1], s = versionArray[2]; return !!(n > parseFloat(e) || n == parseFloat(e) && (r > parseFloat(t) || r == parseFloat(t) && s >= parseFloat(a))) } } function AC_AddExtension(e, t) { return -1 != e.indexOf("?") ? e.replace(/\?/, t + "?") : e + t } function AC_Generateobj(e, t, a) { var n = ""; if (isIE && isWin && !isOpera) { for (var r in n += "<object ", e) n += r + '="' + e[r] + '" '; for (var r in n += ">", t) n += '<param name="' + r + '" value="' + t[r] + '" /> '; n += "</object>" } else { for (var r in n += "<embed ", a) n += r + '="' + a[r] + '" '; n += "> </embed>" } document.write(n) } function AC_FL_RunContent() { var e = AC_GetArgs(arguments, ".swf", "movie", "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000", "application/x-shockwave-flash"); AC_Generateobj(e.objAttrs, e.params, e.embedAttrs) } function AC_SW_RunContent() { var e = AC_GetArgs(arguments, ".dcr", "src", "clsid:166B1BCA-3F9C-11CF-8075-444553540000", null); AC_Generateobj(e.objAttrs, e.params, e.embedAttrs) } function AC_GetArgs(e, t, a, n, r) { var s = {}; s.embedAttrs = {}, s.params = {}, s.objAttrs = {}; for (var o = 0; o < e.length; o += 2) { var l = e[o].toLowerCase(); switch (l) { case "classid": break; case "pluginspage": s.embedAttrs[e[o]] = e[o + 1]; break; case "src": case "movie": e[o + 1] = AC_AddExtension(e[o + 1], t), s.embedAttrs.src = e[o + 1], s.params[a] = e[o + 1]; break; case "onafterupdate": case "onbeforeupdate": case "onblur": case "oncellchange": case "onclick": case "ondblclick": case "ondrag": case "ondragend": case "ondragenter": case "ondragleave": case "ondragover": case "ondrop": case "onfinish": case "onfocus": case "onhelp": case "onmousedown": case "onmouseup": case "onmouseover": case "onmousemove": case "onmouseout": case "onkeypress": case "onkeydown": case "onkeyup": case "onload": case "onlosecapture": case "onpropertychange": case "onreadystatechange": case "onrowsdelete": case "onrowenter": case "onrowexit": case "onrowsinserted": case "onstart": case "onscroll": case "onbeforeeditfocus": case "onactivate": case "onbeforedeactivate": case "ondeactivate": case "type": case "codebase": case "id": s.objAttrs[e[o]] = e[o + 1]; break; case "width": case "height": case "align": case "vspace": case "hspace": case "class": case "title": case "accesskey": case "name": case "tabindex": s.embedAttrs[e[o]] = s.objAttrs[e[o]] = e[o + 1]; break; default: s.embedAttrs[e[o]] = s.params[e[o]] = e[o + 1] } } return s.objAttrs.classid = n, r && (s.embedAttrs.type = r), s } var scrollSpeed = 10, scrollDelta = 5, Scroller = { Init: function (e) { igObj = document.getElementById(e) }, Start: function (e, t) { ourInterval = setInterval("Scroller." + e + "('" + t + "')", scrollSpeed) }, End: function () { clearInterval(ourInterval) }, Right: function (e) { this.Init(e), igObj.scrollLeft -= scrollDelta }, Left: function (e) { this.Init(e), igObj.scrollLeft += scrollDelta }, Up: function (e) { this.Init(e), igObj.scrollTop -= scrollDelta }, Down: function (e) { this.Init(e), igObj.scrollTop += scrollDelta } }, pageNumber = 1, totalPages = 1, currPage = 1; function OnSearchBoxClick(e, t, a, n, r, s) { var o = "", l = document.getElementById(r); l && l.value && (l.value = TrimFunctions.All(l.value)); var c = location.href; c.indexOf("_SearchResults") > -1 ? GetSearchResults(s, o = l && "" != l.value ? l.value : c.substring(c.indexOf("?q=") + 3)) : (e += "_" + a + "_SearchResults.html", l && "" != l.value && (o = e + "?q=" + l.value, location.href = o)) } function GetSearchResults(siteId, query) { var ajaxHandler = new AjaxHandler, params = GetSearchParams(siteId, query), response = ajaxHandler.Send("POST", "LuceneSearch.asmx", params, !1), allData = {}; response.responseText && (allData = eval("(" + (response = SearchUtils.ParseResponse(response.responseText, "SearchResult")) + ")")), pageNumber = 1, totalPages = 1, currPage = 1, BuildResultsGrid(allData), showPage(1) } function BuildResultsGrid(e) { var t = document.getElementById("SearchResults"); if (t) { SetBoxStyle(t); var a = "", n = Math.ceil(t.offsetHeight / 60), r = 0; if (navigatorObj && (r += parseInt(navigatorObj.height || 0), r += parseInt(navigatorObj.marginTop || 0), r += parseInt(navigatorObj.marginBottom || 0)), e.results && e.results.length > 0) { Math.floor(e.results.length / n) > 1 && (n = Math.ceil((t.offsetHeight - r) / 60)); for (var s = SetResultsDivMargin(), o = 0; o < e.results.length; o++) { o % n == 0 && (o > 0 && (totalPages++, a += "</div>"), a += '<div id="resultsPage' + totalPages + '" style="display:none;' + s + '">'); var l = e.results[o]; a += SearchUtils.AddLink(l.title, l.filename) + "<br/>", a += SearchUtils.FixChars(l.sample) + "<br/>" } a += "</div>", totalPages > 1 && (a += BuildNavigator()) } else a = resultsBox && "ltr" == resultsBox.direction ? "No results were found" : "לא נמצאו תשובות"; t.innerHTML = a } } function BuildNavigator() { var e = "", t = '<div style="position:absolute;width:' + navigatorObj.width + "px;height:" + navigatorObj.height + "px;top:" + navigatorObj.top + "px;left:" + navigatorObj.left + 'px;">'; t += '<table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="center">', t += '<table border="0" cellspacing="0" cellpadding="0" align="center" style="height:' + navigatorObj.height + 'px;">', t += "<tbody>", t += "<tr>", navigatorObj.navPrevBackgroundRepeat && (e += "background-repeat:" + navigatorObj.navPrevBackgroundRepeat + ";"), navigatorObj.navPrevBackgroundColor && (e += "background-color:" + navigatorObj.navPrevBackgroundColor + ";"), navigatorObj.navPrevBackgroundImage && (e += "background-image:" + TGalleryManager.GetBgImageUrl(navigatorObj, navigatorObj.navPrevBackgroundImage) + ";"), navigatorObj.navPrevBackgroundImageWidth && (e += "width:" + navigatorObj.navPrevBackgroundImageWidth + "px;"), navigatorObj.navPrevBorderColor && (e += "border-color:" + navigatorObj.navPrevBorderColor + ";"), navigatorObj.navPrevBorderStyle && (e += "border-style:" + navigatorObj.navPrevBorderStyle + ";"), navigatorObj.navFontColor && (e += "color:" + navigatorObj.navFontColor + ";"), navigatorObj.navPrevBorderWidth && (e += "border-width:" + navigatorObj.navPrevBorderWidth + "px;", navigatorObj.navPrevBorderStyle || (e += "border-style:solid;")), t += '<td align="center" style="' + e + '"><span style="cursor:pointer;" onclick="pagination(\'prev\')">', navigatorObj.navPrevText ? t += navigatorObj.navPrevText : navigatorObj.navPrevBackgroundImage || navigatorObj.navPrevBackgroundColor || (t += "Prev"), t += "</span></td>", t += '<td width="10px">&nbsp;</td>'; for (var a = 1; a <= totalPages; a++)t += '<td align="center">', t += '<span style="cursor:pointer;" onclick="showPage(' + a + ')" id="pager' + a + '">' + a + "</span>&nbsp;", t += "</td>"; return t += '<td width="10px">&nbsp;</td>', e = "", navigatorObj.navNextBackgroundRepeat && (e += "background-repeat:" + navigatorObj.navNextBackgroundRepeat + ";"), navigatorObj.navNextBackgroundColor && (e += "background-color:" + navigatorObj.navNextBackgroundColor + ";"), navigatorObj.navNextBackgroundImage && (e += "background-image:" + TGalleryManager.GetBgImageUrl(navigatorObj, navigatorObj.navNextBackgroundImage) + ";"), navigatorObj.navNextBackgroundImageWidth && (e += "width:" + navigatorObj.navNextBackgroundImageWidth + "px;"), navigatorObj.navNextBorderColor && (e += "border-color:" + navigatorObj.navNextBorderColor + ";"), navigatorObj.navNextBorderStyle && (e += "border-style:" + navigatorObj.navNextBorderStyle + ";"), navigatorObj.navFontColor && (e += "color:" + navigatorObj.navFontColor + ";"), navigatorObj.navNextBorderWidth && (e += "border-width:" + navigatorObj.navNextBorderWidth + "px;", navigatorObj.navNextBorderStyle || (e += "border-style:solid;")), t += '<td align="center" style="' + e + '"><span style="cursor:pointer;" onclick="pagination(\'next\')">', navigatorObj.navNextText ? t += navigatorObj.navNextText : navigatorObj.navNextBackgroundImage || navigatorObj.navNextBackgroundColor || (t += "Next"), t += "</span></td>", t += "</tr>", t += "</tbody>", t += "</table>", t += "</td></tr></tbody></table>", t += "</div>" } function pagination(e) { "next" == e && currPage < totalPages && showPage(currPage + 1), "prev" == e && currPage > 1 && showPage(currPage - 1) } function showPage(e) { currPage = e; for (var t = 1; t <= totalPages; t++) { var a = document.getElementById("pager" + t), n = document.getElementById("resultsPage" + t); t == currPage ? (a && (a.style.color = navigatorObj.navSelectedFontColor ? navigatorObj.navSelectedFontColor : "black", a.style.fontWeight = navigatorObj.navSelectedFontWeight ? navigatorObj.navSelectedFontWeight : "bold", navigatorObj.navSelectedFontSize && (a.style.fontSize = navigatorObj.navSelectedFontSize + "px;")), n && (n.style.display = "block")) : (a && (a.style.color = navigatorObj.navFontColor ? navigatorObj.navFontColor : "black", a.style.fontWeight = navigatorObj.navFontWeight ? navigatorObj.navFontWeight : "normal", navigatorObj.navFontSize && (a.style.fontSize = navigatorObj.navFontSize + "px;")), n && (n.style.display = "none")) } } function SetBoxStyle(e) { resultsBox.direction || (resultsBox.direction = "ltr"), e.style.direction = resultsBox.direction, e.style.dir = resultsBox.direction, e.style.textAlign = "rtl" == resultsBox.direction ? "right" : "left" } function SetResultsDivMargin() { var e = ""; return resultsBox.paddingTop && (e += "margin-top:" + resultsBox.paddingTop + "px;"), resultsBox.paddingLeft && (e += "margin-left:" + resultsBox.paddingLeft + "px;"), resultsBox.paddingRight && (e += "margin-right:" + resultsBox.paddingRight + "px;"), resultsBox.paddingBottom && (e += "margin-bottom:" + resultsBox.paddingBottom + "px;"), e } var GetSearchParams = function (e, t) { var a = '<?xml version="1.0" encoding="utf-8"?>'; return a += '<soap12:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap12="http://www.w3.org/2003/05/soap-envelope">', a += "<soap12:Body>", a += '<Search xmlns="http://tempuri.org/">', a += "<siteId>" + e + "</siteId>", a += "<searchString>" + t + "</searchString>", a += "</Search>", a += "</soap12:Body>", a += "</soap12:Envelope>" }, SearchUtils = { FixChars: function (e) { return e.replace(/&gt;/g, ">").replace(/&lt;/g, "<").replace(/&amp;/g, "&") }, AddLink: function (e, t) { return '<a href="' + t + '" style="text-decoration:underline;">' + e + "</a>" }, ParseResponse: function (e, t) { var a = "<" + t + ">(.*)</" + t + ">", n = e.toString().match(a); return n.length && 2 == n.length ? n[1] : "Error" } }; function ResetValue(e, t) { e.value && e.value == t ? e.value = "" : "" == e.value && (e.value = t) } function PopUpImage(e, t, a, n, r) { document.getElementById("imagepopup_overlay") && document.getElementById("imagepopup_overlay").parentNode.removeChild(document.getElementById("imagepopup_overlay")); var s = document.createElement("div"); s.id = "imagepopup_overlay", s.className = "imagepopup_overlay imagepopup_overlay_fixed", s.style.width = "auto", s.style.height = "auto"; var o = n, l = a; s.style.display = "block", s.onclick = function (e) { "imagepopup_overlay" == (e.srcElement || e.target).id && s.parentNode.removeChild(s) }; var c = document.createElement("div"); c.className = "imagepopup_wrap imagepopup_desktop imagepopup_type_image imagepopup_opened"; var d = $(window).width() / a, h = $(window).height() / n; if (d < h) { if (l > .85 * $(window).width()) { var p = .85 * $(window).width() / l; l = .85 * $(window).width(), o *= p } } else if (o > .85 * $(window).height()) { var p = .85 * $(window).height() / o; o = .85 * $(window).height(), l *= p } c.style.width = l + "px", c.style.height = o + "px", c.style.position = "absolute", c.style.top = "50%", c.style.left = "50%", c.style.opacity = 0, c.style.filter = "alpha(opacity=0)", c.style.overflow = "visible"; try { parseFloat($("html").css("zoom")) > 1 && !0 == isMobileDevice && (c.style.zoom = 1 / parseFloat($("html").css("zoom")), navigator.userAgent.match(/firefox/i) && c.setAttribute("style", "-moz-transform:none")) } catch (g) { } var u = document.createElement("div"); if (u.className = "imagepopup_skin", u.style.width = "auto", u.style.height = "auto", r) { var f = document.createElement("img"); f.src = "//images.design-editor.com/-1/imagepopup/fancybox_sprite_left.png", f.className = "imagepopup_leftArrow"; var m = document.createElement("div"); m.className = "leftArrow"; var v = document.createElement("img"); v.src = "//images.design-editor.com/-1/imagepopup/fancybox_sprite_right.png", v.className = "imagepopup_rightArrow"; var y = document.createElement("div"); y.className = "rightArrow" } var b = document.createElement("div"); b.className = "imagepopup_outer"; var x = document.createElement("div"); x.className = "imagepopup_inner", x.style.overflow = "visible", x.style.width = l + "px", x.style.height = o + "px"; var w = new Image; w.src = e, w.onload = function () { c.style.marginTop = -(c.clientHeight / 2) + "px", c.style.marginLeft = -(c.clientWidth / 2) + "px", c.style.opacity = 1, c.style.filter = "alpha(opacity=100)" }; var C = document.createElement("img"); C.src = e, C.className = "imagepopup_image", C.style.width = "100%", C.style.height = "100%", C.alt = ""; var S = document.createElement("div"); S.className = "imagepopup_title imagepopup_title_float_wrap", S.style.overflow = "visible", S.style.width = l + "px", S.style.height = o + "px"; var k = document.createElement("span"); k.className = "imagepopup_title_text", k.innerHTML = t; var A = document.createElement("a"); A.className = "imagepopup_item imagepopup_close", A.href = "javascript:void(0);", A.title = "Close", A.onclick = function () { s.parentNode.removeChild(s) }, x.appendChild(C), b.appendChild(x), S.appendChild(k), r && (m.appendChild(f), y.appendChild(v), u.appendChild(m), u.appendChild(y)), u.appendChild(b), "" != t || (S.style.opacity = 0, S.style.pointerEvents = "none"), u.appendChild(S), u.appendChild(A), c.appendChild(u), s.appendChild(c), document.body.appendChild(s) } function PopUpImageResize(e, t) { if (document.getElementById("imagepopup_overlay")) { var a, n, r = new Image; if (r.src = e, !t) { var s = [], o = (s = e.split("/"))[s.length - 1]; $("img[u]").each(function () { if (-1 !== $(this).attr("src").indexOf(o)) { var e = this; e.click(); return } }) } r.onload = function () { a = r.width; var s = n = r.height, o = a, l = document.getElementsByClassName("imagepopup_wrap")[0]; if (l) { var c = $(window).width() / a, d = $(window).height() / n; if (c < d) { if (o > .85 * $(window).width()) { var h = .85 * $(window).width() / o; o = .85 * $(window).width(), s *= h } } else if (s > .85 * $(window).height()) { var h = .85 * $(window).height() / s; s = .85 * $(window).height(), o *= h } l.style.width = o + "px", l.style.height = s + "px", l.style.marginTop = -(l.clientHeight / 2) + "px", l.style.marginLeft = -(l.clientWidth / 2) + "px"; var p, g = document.getElementsByClassName("imagepopup_inner")[0]; g.style.width = o + "px", g.style.height = s + "px", document.getElementsByClassName("imagepopup_image")[0].src = e; var u, f = document.getElementsByClassName("imagepopup_title")[0]; f.style.width = o + "px", f.style.height = s + "px", document.getElementsByClassName("imagepopup_title_text")[0].innerHTML = t, "" != t ? (f.style.opacity = 1, f.style.pointerEvents = "initial") : (f.style.opacity = 0, f.style.pointerEvents = "none") } } } } var TrimFunctions = { Left: function (e) { return e.replace(/^\s+/, "") }, Right: function (e) { return e.replace(/\s+$/, "") }, All: function (e) { return e.replace(/^\s+|\s+$/g, "") } }, PaddingFunctions = { Left: function (e, t, a) { var n = RegExp(".{" + a + "}$"), r = ""; t || (t = " "); do r += t; while (r.length < a); return n.exec(r + val)[0] }, Right: function (e, t, a) { var n = RegExp("^.{" + a + "}"), r = ""; t || (t = " "); do r += t; while (r.length < a); return n.exec(val + r)[0] } }; function scrollToElement(e, t) { var a = $("#" + e); if (0 == a.length && (a = $('[data-id="' + e + '"]')), a.length > 0 && a.offset()) { if (_isMobile) { var n = _mobileOffset, r = { property: n }, s = { property: n + a.offset().top }; jQuery(r).animate(s, { duration: 1e3, step: function () { _mobileOffset = this.property } }, function () { _mobileOffset = 0 }) } else /Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent || navigator.vendor || window.opera) ? (window.location.hash = "", window.location.hash = a[0].id) : $("html, body").animate({ scrollTop: a.offset().top }, 1500) } if (t) return (t = t || window.event).cancelBubble = !0, !1 } function updateMainPanelWidth() { var e = $(".dataTypeMainContent")[0] || $('[data-type="MainContent"]')[0], t = $("[data-parallax]").filter(function () { return !0 == $(this).is(":visible") && (!this.getAttribute("data-initbr") || this.getAttribute("data-initbr") == _currentBreakpoint) }); t.each(function () { if (!($(this).hasClass("video_fit_to_bg") || $(this).hasClass("video_fit_to_width"))) { if ($(this).hasClass("fit_to_bg_new")) this.style.width = "auto", this.style.right = "0px", this.style.left = "0px"; else { var t = this, a = $(this).data(); $.each(a, function (a, n) { if (n.toString()) { var r = n.toString().match("left:(.*?)px;"); if (r) { var s = r[1]; if (s) { var o = parseInt(s) - toInt(getStyle(t, "borderLeftWidth")) + e.offsetLeft; n = n.replace(r[0], "left:" + o + "px;"), $(t).attr("data-" + a, n) } } var l = n.toString().match("top:(.*?)px;"); if (l) { var c = l[1]; if (c) { var d = parseInt(c) - toInt(getStyle(t, "borderTopWidth")); n = n.replace(l[0], "top:" + d + "px;"), $(t).attr("data-" + a, n) } } } }) } } }), t.length > 0 && reinitParallaxAccordingToBreakpoint(); var a = document.body.scrollWidth; document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight; var n = $(".fit_to_bg"), r = $(".fit_to_bg_new").filter(function () { var e = $(this).parent(), t = e.data("type"); return "MainContent" == t || "MainPanel" == t || void 0 !== e.attr("data-linkToAnchor") }); n.css("width", a), n.removeAttr("style"); var s = $(e).offset().left; r.each(function () { var t = ""; if ($(this).hasClass("pushedElement") && (t = getStyle(this, "top")), $(this).css({ top: t, width: "", left: "", "-webkit-transform": "translateZ(0)" }), "fixed" == getStyle(this, "position")) return !0; this.parentNode.offsetLeft; var n = getStyle(this, "borderRightWidth").replace("px", ""), r = getStyle(this, "borderLeftWidth").replace("px", ""); e.clientWidth, a > e.clientWidth ? (this.style.width = a - n - r + "px", this.style.left = -s + "px") : (this.style.width = e.clientWidth - n - r + "px", this.style.left = "0"), "MagicWidget" == $(this).attr("data-type") && !0 == isMobileDevice && parseFloat($("html").css("zoom")) > 1 && (this.style.width = e.clientWidth - n - r + "px", this.style.left = e.offsetLeft) }), $("[data-type]").filter(function () { return "fixed" == $(this).css("position") }).each(function () { this.style.cssText, $(this).hasClass("fit_to_bg_new") ? (this.style.width = "auto", this.style.right = "0px", this.style.left = "0px") : this.style.left = parseInt(getStyle(this, "left")) + e.offsetLeft - prevMainContentOffsetLeft + "px" }), prevMainContentOffsetLeft = e.offsetLeft } function updateVideoHeight() { document.body.scrollWidth, document.body.clientHeight, $(".video_fit_to_height").each(function () { if ("fixed" == getStyle($(this)[0], "position")) return !0; $(this).removeAttr("style"); var e = $(this)[0].parentNode.parentNode.offsetHeight, t = getStyle($(this)[0], "borderTopWidth").replace("px", ""), a = getStyle($(this)[0], "borderBottomWidth").replace("px", ""); getStyle($(this)[0], "borderRightWidth").replace("px", ""), getStyle($(this)[0], "borderLeftWidth").replace("px", ""); var n = e - t - a, r = this.getAttribute("data-ratioaspect"); isNaN(r) && (r = 9 / 16); var s = (n / r - $(this)[0].clientWidth) / 2; $(this)[0].children[0].style.marginLeft = -s + "px", $(this)[0].children[0].style.width = n / r + "px", $(this)[0].style.height = n + "px", $(this)[0].style.top = "0" }) } function updateVideoWidth(e) { var t = document.body.clientWidth, a = $(".video_fit_to_width"), a = $(".video_fit_to_width").filter(function () { var e = $(this).parent(), t = e.data("type"); return "MainContent" == t || "MainPanel" == t || void 0 !== e.attr("data-linkToAnchor") }); a.each(function () { var a = t; if (getStyle($(this)[0], "position"), $(this).hasClass("pushedElement")) var n = getStyle(this, "top"); $(this).removeAttr("style"), $(this).hasClass("pushedElement") && (this.style.top = n), $(this)[0].parentNode.parentNode.offsetTop; var r = this.offsetHeight, s = $(this)[0].parentNode.offsetLeft; if ("RepeaterItem" === $(this)[0].parentNode.getAttribute("data-type")) { if (!e) return !0; a = $($(this)[0]).parents(".dataTypeRepeaterItem")[0].offsetWidth, r = $($(this)[0]).parents(".dataTypeRepeaterItem")[0].offsetHeight, s = 0 } var o = getStyle($(this)[0], "borderTopWidth").replace("px", ""), l = getStyle($(this)[0], "borderBottomWidth").replace("px", ""), c = getStyle($(this)[0], "borderRightWidth").replace("px", ""), d = getStyle($(this)[0], "borderLeftWidth").replace("px", ""), h = r - o - l, p = a - c - d, g = this.getAttribute("data-ratioaspect"); if ($(this)[0].style.width = p + "px", isNaN(g) && (g = 9 / 16), h < p * g) { $(this)[0].children[0].style.width = p + "px", $(this)[0].children[0].style.height = p * g + "px"; var u = (p * g - h) / 2; $(this)[0].children[0].style.marginTop = -u + "px", $(this)[0].children[0].style.marginLeft = "0px", $(this)[0].children[0].style.left = "0", $(this)[0].style.left = -s + "px" } else $(this)[0].children[0].style.height = h + "px", $(this)[0].children[0].style.width = h / g + "px", $(this)[0].style.left = -s + "px", $(this)[0].children[0].style.top = "0", $(this)[0].children[0].style.marginTop = "0px", $(this)[0].children[0].style.marginLeft = -((h / g - a) / 2) + "px" }) } function updateVideoBackground(e) { var t = document.body.clientWidth; document.body.clientHeight, $(".video_fit_to_bg").each(function () { var a = t; if ("fixed" == getStyle($(this)[0], "position")) return !0; $(this).removeAttr("style"), $(this)[0].parentNode.parentNode.offsetTop; var n = $(this)[0].parentNode.parentNode.offsetHeight, r = $(this)[0].parentNode.offsetLeft; if ("RepeaterItem" === $(this)[0].parentNode.getAttribute("data-type")) { if (!e) return !0; a = $($(this)[0]).parents(".dataTypeRepeaterItem")[0].offsetWidth, n = $($(this)[0]).parents(".dataTypeRepeaterItem")[0].offsetHeight, r = 0 } var s = getStyle($(this)[0], "borderTopWidth").replace("px", ""), o = getStyle($(this)[0], "borderBottomWidth").replace("px", ""), l = getStyle($(this)[0], "borderRightWidth").replace("px", ""), c = getStyle($(this)[0], "borderLeftWidth").replace("px", ""), d = n - s - o, h = a - l - c, p = this.getAttribute("data-ratioaspect"); if (isNaN(p) && (p = 9 / 16), d < h * p) { $(this)[0].children[0].style.width = h + "px", $(this)[0].children[0].style.height = h * p + "px"; var g = (h * p - d) / 2; $(this)[0].children[0].style.marginTop = -g + "px", $(this)[0].children[0].style.left = "0", $(this)[0].style.width = h + "px", $(this)[0].style.left = -r + "px" } else $(this)[0].children[0].style.height = d + "px", $(this)[0].children[0].style.width = d / p + "px", $(this)[0].style.width = d / p + "px", $(this)[0].style.left = -r - (d / p - a) / 2 + "px", $(this)[0].children[0].style.top = "0", $(this)[0].children[0].style.marginTop = "0px"; $(this)[0].style.height = d + "px" }) } function fixHideVimeoControl() { $(".video_fit_to_bg").each(function () { if ("fixed" == getStyle($(this)[0], "position")) return !0 }) } function handleDefaultGallery() { $(".DefaultGallery").each(function (e) { var t = this, a = { at: "slide", iw: 0, im: 0, ft: 3, pt: 4 }; function n(e, a, n) { $(t).find(e).click(function (e) { a.resetInterval(); var t = a.getTarget(n); a.flexAnimate(t), a.doAnimation(a[0].parentNode, t), e.preventDefault() }) } properties = GetParamsFromClassName(this, a), $(this.children[0]).flexslider({ animation: a.at, itemWidth: parseInt(a.iw), itemMargin: parseInt(a.im), fittingType: parseInt(a.ft), positionType: parseInt(a.pt), minItems: 1, maxItems: 1, directionNav: !1, controlNav: !1, start: function (e) { n(".flex-nav-left", e, "prev"), n(".flex-nav-right", e, "next") } }) }), $(".galleryTextCaption .text_caption").each(function (e) { var t; if (0 != $(this).closest(".dataTypeGallery").length) { var a = $(this).closest(".dataTypeGallery").find(".flex-caption")[0]; t = a ? a.innerHTML : "" } else { var a = $(this).closest('[data-type="gallery"]').find(".flex-caption")[0]; t = a ? a.innerHTML : "" } if (-1 == t.indexOf("data-reference%3D")) try { decoded = decodeURI(t) } catch (n) { decoded = unescape(t) } else decoded = unescape(t); $(this.children[0]).html(decoded) }), $("ul.slides").css("position", "absolute"), $("ul.slides").children().css("margin-left", "0").css("margin-top", "0").css("margin-bottom", "0").css("right", "0").css("left", "0").css("top", "0").css("bottom", "0"), $(".gallery_arrow_left").click(function (e) { $(this.parentNode).find("a.flex-nav-left").click() }), $(".gallery_arrow_right").click(function (e) { $(this.parentNode).find("a.flex-nav-right").click() }) } function handleMatrixGallery() { $(".MatrixGallery").each(function (e) { var t = { i: "0", nt: 4 }; properties = GetParamsFromClassName(this, t); var a = $("#thumbs" + t.i).galleriffic({ delay: 3500, numThumbs: parseInt(t.nt), preloadAhead: 10, enableTopPager: !1, enableBottomPager: !1, maxPagesToShow: 7, imageContainerSel: "#slideshow" + t.i, controlsContainerSel: "#controls", captionContainerSel: "#caption", loadingContainerSel: "#loading", renderSSControls: !0, renderNavControls: !0, playLinkText: "Play Slideshow", pauseLinkText: "Pause Slideshow", enableHistory: !1, autoStart: !0, syncTransitions: !0, defaultTransitionDuration: 900, enableKeyboardNavigation: !1 }); a.find("a.left_arrow_page").click(function (e) { a.previousPage(), e.preventDefault() }), a.find("a.right_arrow_page").click(function (e) { a.nextPage(), e.preventDefault() }) }) } function GetParamsFromClassName(e, t) { return $($(e).attr("class").split(" ")).each(function () { if (this !== "" && this.indexOf("_") > -1) { var e = this.split("_"), a = e[0], n = e[1]; a && n && (t[a] = n) } }), t } function FixTextRtlForIE() { var e = $(".dataTypeText"); 0 == e.length && (e = $("[data-type='text']")), e.each(function () { var e = $(this).first(); e.find("div[dir='rtl']").length > 0 && e.attr("dir", "rtl") }) } function shapelinkto(e, t, a) { if ($(e.target).hasClass("dataTypeShape") || "Shape" == e.target.getAttribute("data-type") || 0 != $(e.target).closest(".dataTypeShape").length) { var n = window.location.hostname.indexOf("www.design-editor.com") > -1; "true" == a && (!n || 0 > t.indexOf("www.design-editor.com")) ? window.open(t, "_blank") : window.location.href = t } } var prevScrollX = 0, prevScrollY = 0, scrollDeltaX = 0, scrollDeltaY = 0, backgroundAttachmentElements = []; function SetBackgroundAttachment() { backgroundAttachmentElements.length = 0, $.each($("div.backgroundAttachmentFixed"), function (e, t) { backgroundAttachmentElements.push(CreateBackgroundAttachmentStructure(this)) }) } function CreateBackgroundAttachmentStructure(e) { var t = {}, a = new Image; return a.src = $(e).css("background-image").split(",")[0].replace(/url\("|url\(|"\)|\)$/ig, ""), a.onload = function () { t.width = $(e).width(), t.height = $(e).height(), t.bgWidth = a.width, t.bgHeight = a.height, t.obj = e, a = null }, t } function UpdatesizeForCoverContain(e, t) { if (!e.updatedForCoverContain) { var a = e.bgHeight / e.bgWidth; e.bgWidth = e.width, e.bgHeight = e.width * a, (e.bgHeight < e.height && "cover" == t || e.bgHeight > e.height && "contain" == t) && (e.bgHeight = e.height, e.bgWidth = e.height / a), e.updatedForCoverContain = !0 } } function fixBackgroundPositionForAttachment() { scrollTop = $(window).scrollTop(), scrollDeltaX = (scrollLeft = $(window).scrollLeft()) - prevScrollX, scrollDeltaY = scrollTop - prevScrollY, $.each(backgroundAttachmentElements, function (e, t) { var a = $(this.obj).css("background-position").split(",")[0].split(" ")[0], n = $(this.obj).css("background-position").split(",")[0].split(" ")[1], r = $(this.obj).css("background-position").split(",")[1], s = $(this.obj).css("background-size"); /%$/.test(a) ? a = GetBackgroundPosition(this, a.split("%")[0], "X", s) : /px$/.test(a) && (a = parseInt(a.replace("px", ""))), /%$/.test(n) ? n = GetBackgroundPosition(this, n.split("%")[0], "Y", s) : /px$/.test(n) && (n = parseInt(n.replace("px", ""))), "fixed" == $(this.obj).css("position") ? r ? $(this.obj).css("background-position", -scrollDeltaX + a + "px " + (-scrollDeltaY + n) + "px , " + r) : $(this.obj).css("background-position", -scrollDeltaX + a + "px " + (-scrollDeltaY + n) + "px") : r ? $(this.obj).css("background-position", scrollDeltaX + a + "px " + (scrollDeltaY + n) + "px , " + r) : $(this.obj).css("background-position", scrollDeltaX + a + "px " + (scrollDeltaY + n) + "px"), prevScrollX = scrollLeft, prevScrollY = scrollTop }) } function GetBackgroundPosition(e, t, a, n) { switch (n) { case "100% 100%": t = "0"; break; case "cover": case "contain": UpdatesizeForCoverContain(e, n) }if ("Y" == a) switch (t) { case "0": return 0; case "50": return e.height / 2 - e.bgHeight / 2; case "100": return e.height - e.bgHeight; default: return t } else if ("X" == a) switch (t) { case "0": return 0; case "50": return e.width / 2 - e.bgWidth / 2; case "100": return e.width - e.bgWidth; default: return t } } function fixMobilePixelPerfect(e) { if (!$(e).attr("data-perfect")) { var t = $(e).closest(".menu").width(); $(e).find(">li").each(function (e, t) { var a = 0; a += parseInt($(t).css("border-left-width")), a += parseInt($(t).css("border-right-width")), $(t).width($(t).width() - a) }), $(e).attr("data-perfect", "1"), $(".mobile-menu-children").each(function (e, t) { 0 == $(t).children().length && console.log($(t).parent().find("button").remove()) }) } } function getMobileMenuToggleByMenu(e) { var t = e.replace("mainMenu", "").replace("innerMenu", ""); return $(".mobile-toggle").filter(function () { return $(this).attr("data-reference") == t }) } function mobileMenuToggle(e) { if ($(this).hasClass("mobile-toggle")) { var t = $(this).attr("data-reference"), a = ".innerMenu" + t; $(a).length || (a = ".mainMenu" + t), $(a).length && ("none" == $(a).css("display") ? ($(a).show(), fixMobilePixelPerfect($(a))) : $(a).hide()) } } function mobileMenuExpand(e) { if ($(this).hasClass("open")) { var t = parseInt($(this).attr("data-padding-tumb")), a = parseInt($(this).parent().find("ul").first().css("margin-top")); $(this).parent().find("ul").first().css("margin-top", a - t + "px"), $(this).parent().find("ul").first().slideUp(200), $(this).parent().animate({ paddingBottom: t }, { duration: 200 }), $(this).removeClass("open") } else { var t = parseInt($(this).parent().css("padding-bottom")), a = parseInt($(this).parent().find("ul").first().css("margin-top")); $(this).parent().find("ul").first().css("margin-top", a + t + "px"), $(this).attr("data-padding-tumb", t), $(this).parent().find("ul").first().slideDown(200), $(this).parent().animate({ paddingBottom: 0 }, { duration: 200 }), $(this).addClass("open") } } function IsSubElement(e) { try { if ($("#" + e).parent().closest("[data-type='Repeater']").length > 0 || $("#" + e).parent().closest("[data-type='gallery']").length > 0 || $("#" + e).parent().closest("[data-type='Form']").length > 0 || $("#" + e).parent().closest("[data-type='Image']").length > 0) return !0 } catch (t) { } return !1 } function GotoPrevPage(e) { var t = $(e).parent().closest("[data-current-page]"); t.removeClass("page" + t.attr("data-current-page")).addClass("page" + (parseInt(t.attr("data-current-page")) - 1)), t.attr("data-current-page", parseInt(t.attr("data-current-page")) - 1) } function GotoNextPage(e) { var t = $(e).parent().closest("[data-current-page]"); t.removeClass("page" + t.attr("data-current-page")).addClass("page" + (parseInt(t.attr("data-current-page")) + 1)), t.attr("data-current-page", parseInt(t.attr("data-current-page")) + 1) } function GotoPage(e, t) { var a = $(e).parent().closest("[data-current-page]"); a.removeClass("page" + a.attr("data-current-page")).addClass("page" + t), a.attr("data-current-page", t) } function SetDefaultRepeaterPage() { $("[data-current-page]").each(function () { $(this).removeClass("page" + $(this).attr("data-current-page")).addClass("page1").attr("data-current-page", 1) }) } function getParameterByName(e) { var t = RegExp("[\\?&]" + (e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]")) + "=([^&#]*)").exec(location.search); return null === t ? "" : decodeURIComponent(t[1].replace(/\+/g, " ")) } var pushers = {}; function createPushEventListeners(e) { var t = $("main").find('[data-type="MainContent"]'); t.children("[data-type]").each(function () { var e = this; $(window).on("doPush", function (a, n, r, s) { if (e == n || 0 == s) { 0 != s && $(t).height($(t).height() + s); return } offsetTop(e) >= r && ($(e).addClass("pushedElement"), $(e).css("top", offsetTop(e) + s), pushers[e.id] && (pushers[e.id].prevBottom = offsetBottom(e))) }) }), t.children("[data-pusher=true]:visible").each(function () { var t = this, a = getDataPusherBPvalue(t); if (a) { if (pushers[t.id] = {}, pushers[t.id].prevBottom = offsetTop(t) + a, e) { var n = pushers[t.id].prevBottom; $(t).css("height", ""); var r = offsetBottom(t) - n; pushers[t.id].prevBottom = offsetBottom(t), $(window).trigger("doPush", [t, n, r]) } addResizeListener(t, function () { var e = pushers[t.id].prevBottom, a = offsetBottom(t) - e; pushers[t.id].prevBottom = offsetBottom(t), $(window).trigger("doPush", [t, e, a]) }) } }) } function resetPushEventListeners() { var e = $("main").find('[data-type="MainContent"]'); pushers = {}, e.children(".pushedElement").each(function () { $(window).off("doPush"), $(this).css("top", "").removeClass("pushedElement") }), e.children("[data-pusher=true]").each(function () { removeResizeListener(this); var e = getDataPusherBPvalue(this); $(this).css("cssText", $(this).css("cssText") + "height: " + e + "px !important") }) } function getDataPusherBPvalue(e) { var t = { portrait: 0, landscape: 1, tablet: 2, pc: 3 }; if ($(e).attr("data-pusher-" + _currentBreakpoint)) return parseInt($(e).attr("data-pusher-" + _currentBreakpoint)); for (var a = t[_currentBreakpoint], n = a + 1; n < Object.keys(t).length; n++) { var r = getKeyByValue(t, n); if ($(e).attr("data-pusher-" + r)) return parseInt($(e).attr("data-pusher-" + r)) } return null } function getKeyByValue(e, t) { for (var a in e) if (e.hasOwnProperty(a) && e[a] === t) return a } function offsetTop(e) { if (window.getComputedStyle) var t = getComputedStyle(e, null); else t = e.currentStyle; return parseInt(t.getPropertyValue("top")) } function offsetBottom(e) { if (window.getComputedStyle) var t = getComputedStyle(e, null); else t = e.currentStyle; return parseInt(t.getPropertyValue("top")) + $(e).outerHeight(!0) } function createCookie(e, t, a) { if (a) { var n = new Date; n.setTime(n.getTime() + 864e5 * a); var r = "; expires=" + n.toGMTString() } else var r = ""; document.cookie = e + "=" + t + r + "; path=/" } function readCookie(e) { for (var t = e + "=", a = document.cookie.split(";"), n = 0; n < a.length; n++) { for (var r = a[n]; " " == r.charAt(0);)r = r.substring(1, r.length); if (0 == r.indexOf(t)) return r.substring(t.length, r.length) } return null } function eraseCookie(e) { createCookie(e, "", -1) } !function () { var e = document.attachEvent, t = !1; if (!e) { var a, n, r = (a = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (e) { return window.setTimeout(e, 20) }, function (e) { return a(e) }), s = (n = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.clearTimeout, function (e) { return n(e) }); function o(e) { var t = e.__resizeTriggers__, a = t.firstElementChild, n = t.lastElementChild, r = a.firstElementChild; n.scrollLeft = n.scrollWidth, n.scrollTop = n.scrollHeight, r.style.width = a.offsetWidth + 1 + "px", r.style.height = a.offsetHeight + 1 + "px", a.scrollLeft = a.scrollWidth, a.scrollTop = a.scrollHeight } function l(e) { return e.offsetWidth != e.__resizeLast__.width || e.offsetHeight != e.__resizeLast__.height } function c(e) { var t = this; o(this), this.__resizeRAF__ && s(this.__resizeRAF__), this.__resizeRAF__ = r(function () { l(t) && (t.__resizeLast__.width = t.offsetWidth, t.__resizeLast__.height = t.offsetHeight, t.__resizeListeners__.forEach(function (a) { a.call(t, e) })) }) } var d = !1, h = "animation", p = "", g = "animationstart", u = "Webkit Moz O ms".split(" "), f = "webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "), m = "", v = document.createElement("fakeelement"); if (void 0 !== v.style.animationName && (d = !0), !1 === d) { for (var y = 0; y < u.length; y++)if (void 0 !== v.style[u[y] + "AnimationName"]) { h = (m = u[y]) + "Animation", p = "-" + m.toLowerCase() + "-", g = f[y], d = !0; break } } var b = "resizeanim", x = "@" + p + "keyframes " + b + " { from { opacity: 0; } to { opacity: 0; } } ", w = p + "animation: 1ms " + b + "; " } function C() { if (!t) { var e = (x || "") + ".resize-triggers { " + (w || "") + 'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }', a = document.head || document.getElementsByTagName("head")[0], n = document.createElement("style"); n.type = "text/css", n.styleSheet ? n.styleSheet.cssText = e : n.appendChild(document.createTextNode(e)), a.appendChild(n), t = !0 } } window.addResizeListener = function (t, a) { e ? t.attachEvent("onresize", a) : (!t.__resizeTriggers__ && ("static" == getComputedStyle(t).position && (t.style.position = "relative"), C(), t.__resizeLast__ = {}, t.__resizeListeners__ = [], (t.__resizeTriggers__ = document.createElement("div")).className = "resize-triggers", t.__resizeTriggers__.innerHTML = '<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>', t.appendChild(t.__resizeTriggers__), o(t), t.addEventListener("scroll", c, !0), g && t.__resizeTriggers__.addEventListener(g, function (e) { e.animationName == b && o(t) })), t.__resizeListeners__.push(a)) }, window.removeResizeListener = function (t, a) { e ? t.detachEvent("onresize", a) : (t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(a), 1), t.__resizeListeners__.length || (t.removeEventListener("scroll", c), t.__resizeTriggers__ = !t.removeChild(t.__resizeTriggers__))) } }();
