"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38921],{69233:function(e,n,t){var r,o,a,i;t.d(n,{_:function(){return o},t:function(){return r}}),(a=r||(r={})).BULK_CODE_CREATION="bulk-code-creation",a.CODE_CREATION_ADDITIONAL_COLORS="code-creation-additional-colors",a.CODE_CREATION_HEX_COLORS="code-creation-hex-colors",a.CODE_MANAGEMENT_CREATE_CODE="code-management-create-code",a.CODE_MANAGEMENT_DUPLICATE_CODE="code-management-duplicate-code",a.CODE_MANAGEMENT_FOLDER_CREATE_CODE="code-management-folder-create-code",a.CODE_MANAGEMENT_FOLDER_ROW_DUPLICATE_CODE="code-management-folder-row-duplicate-code",a.CODE_MANAGEMENT_MOBILE_FAB_CREATE_CODE="code-management-mobile-fab-create-code",a.CODE_MANAGEMENT_RESTORE_DELETED_CODE="code-management-restore-deleted-code",a.DASHBOARD_PRO_UPSELL_CARD="dashboard-pro-upsell-card",a.FLOWPAGE_CREATION_ADDITIONAL_COLORS="flowpage-creation-additional-colors",a.FLOWPAGE_CREATION_ADDITIONAL_COLORS_MOBILE="flowpage-creation-additional-colors-mobile",a.LEFT_NAV_CREATE_CODE="left-nav-create-code",a.LEFT_NAV_CREATE_PAGE="left-nav-create-page",a.PAGES_CREATE_PAGE="pages-create-page",a.FLOWPAGE_CHANGE_FONT="flowpage-change-font",a.FLOWPAGE_STYLE_FONT="flowpage-style-font",a.FLOWPAGE_CRM_INTEGRATIONS="flowpage-crm-integrations",a.FLOWPAGE_CRM_CUSTOM_FIELD="flowpage_crm_custom_field",a.FLOWPAGE_CRM_CUSTOM_TERMS="flowpage_crm_custom_terms",a.FLOWPAGE_SSO_MAX_PAGES="flowpage-sso-max-pages",a.FLOWPAGE_DUPLICATE_PAGE="flowpage-duplicate",a.PLANS_PAGE_QUERY_PARAM="plans-page-query-param",a.PLANS_PLUS_PAGE_QUERY_PARAM="plans-plus-page-query-param",a.PLANS_PAGE_PRO_SIGN_UP="plans-page-pro-sign-up",a.PRINT_STORE_PDP_CREATE_CODE="print-store-pdp-create-code",a.PRINT_STORE_DISCOUNT_UPSELL="print-store-discount-upsell",a.PRO_LANDING_PAGE_ANALYTICS="pro-landing-page-analytics",a.PRO_LANDING_PAGE_BULK_CREATION="pro-landing-page-bulk-creation",a.PRO_LANDING_PAGE_BULK_CREATION_MOBILE="pro-landing-page-bulk-creation-mobile",a.PRO_LANDING_PAGE_CUSTOM_DESIGN="pro-landing-page-custom-design",a.PRO_LANDING_PAGE_CUSTOM_DESIGN_MOBILE="pro-landing-page-custom-design-mobile",a.PRO_LANDING_PAGE_FLOWPAGE="pro-landing-page-flowpage",a.PRO_LANDING_PAGE_FOOTER="pro-landing-page-footer",a.PRO_LANDING_PAGE_GET_STARTED="pro-landing-page-get-started",a.PRO_LANDING_PAGE_QUERY_PARAM="pro-landing-page-query-param",a.PRO_LANDING_PAGE_RULE_BASED="pro-landing-page-rule-based",a.PRO_UPSELL_CARD="pro-upsell-card",a.STARTER_KIT_LANDING_PAGE="starter-kit-landing-page",a.FLOWPAGE_DEINDEX_FROM_GOOGLE="flowpage-deindex-from-google",a.CODE_FREE_TEXT_RIM="free-text-rim",a.CODE_FREE_TEXT_CENTER="free-text-center",a.FLOWPAGE_PRO_CRM_INTEGRATION="flowpage-pro-crm-integration",a.NAV_STORAGE_SECTION="nav-storage-section",a.NAV_MOBILE_MORE_MENU="nav-mobile-more-menu",a.ASSET_CREATION_MODAL="asset-creation-modal",a.PLATFORM_FEATURE_LANDING_PAGE="platform-feature-landing-page",a.FLOWCODE_PRO_REMOVE_WHITELABEL="flowcode-pro-remove-whitelabel",a.FLOWPAGE_PRO_REMOVE_WHITELABEL="flowpage-pro-remove-whitelabel",(i=o||(o={})).FLOWPAGE_CREATE_TEMPLATE_MENU="flowpage-create-template-menu",i.FLOWPAGE_SETTINGS_CREATE_TEMPLATE="flowpage-settings-create-template"},58887:function(e,n,t){t.d(n,{j:function(){return i}});var r=t(91225),o=t(15597);let a=async e=>(0,o.l3)(r.f,e.configInput),i=async e=>{try{await a({configInput:e})}catch(e){console.error(e.message)}}},90896:function(e,n,t){t.d(n,{c:function(){return r},l:function(){return o}});let r="INVITATION_ID",o="INVITATION_LINK_ID"},38921:function(e,n,t){t.d(n,{j:function(){return G}});var r=t(90896),o=t(29809),a=t(69233),i=t(25088),l=t(85001),u=t(41950),d=t(15597),s=t(63971),c=t(92777),g=t(62814),p=t(11186),E=t(53336),v=t(72713),_=t(58887);let f=/(\/)?\[.*?\]/,m=Object.values(i.Z5).filter(e=>f.test(e));var A=t(90427),I=t(52318),O=t(67629),P=t(77591);let T=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z5.CODES,t=Boolean((0,A.G)(i.Z5,e))||function(e){let n=e.split("/");for(let e of m){let t=e.split("/");if(n.length===t.length){let e=!0;for(let r=0;r<n.length;r++)if(!(t[r].startsWith("[")&&t[r].endsWith("]"))&&t[r]!==n[r]){e=!1;break}if(e)return!0}}return!1}(e);return t?e:n},h=()=>{let e=(0,I.D)(),n=e.getString("productId"),t=e.getString("redirectTo"),r=t?decodeURIComponent(t):"",{url:o,query:a}=O.parseUrl(r),[l,u]=(0,g.useState)(!1),d=(0,E.v9)(e=>e.appReducer.userReducer.isNewUser),{data:s}=(0,P.ZP)(()=>l?v.e:null,{revalidateOnFocus:!1}),c=o.startsWith("/store/templates");(0,g.useEffect)(()=>{if(!c&&n&&s){let t=0===s.me.flowcodeCount;t?e.push({pathname:i.Z5.CREATE_FLOWCODE,query:{productId:n}}):e.push({pathname:i.Z5.PRINT_STORE_LANDING_PRODUCT_DETAILS,query:{productId:n}})}},[s,n,e,c]);let p=(0,g.useCallback)(async()=>{var n;let t=e.query,l={option:t.option},s={configId:String(t.configid)},g={batchId:t.batchId},p=null===(n=t.redirectTo)||void 0===n?void 0:n.toString(),E=null==r?void 0:r.startsWith(i.Z5.PRINT_STORE_LANDING_PAGE),v=null==r?void 0:r.startsWith(i.Z5.CANVA_REDIRECT);t.option&&t.configid?(await (0,_.j)(s),e.push({pathname:i.Z5.CREATE_FLOWCODE,query:l})):t.batchId&&"create"===t.source?e.push({pathname:i.Z5.CODES,query:{batchId:t.batchId}}):t.batchId&&!p?e.push({pathname:i.Z5.STO_GENERIC,query:g}):!c&&t.productId?u(!0):r?e.push({pathname:E?o:T(o),query:O.stringify({...a,...v&&{isExternalDrivenSignUp:d}})}):e.push(i.Z5.CODES)},[e,r,c,o,a,d]);return p};var R=t(49820),C=t(51996),N=t(43980),y=t(38270),D=t(37113),L=t(20065);let S=[i.Z5.SIGN_IN,i.Z5.SIGN_UP,i.Z5.ACCEPT_INVITE];function G(){var e,n,t,v,_,f;let m=arguments.length>0&&void 0!==arguments[0]&&arguments[0],A=arguments.length>1&&void 0!==arguments[1]&&arguments[1],I=arguments.length>2&&void 0!==arguments[2]&&arguments[2],O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",P=(0,D.useRouter)(),T=P.pathname!==i.Z5.ACCEPT_INVITE&&S.includes(P.pathname),G=P.pathname===i.Z5.SSO_LOGIN,k=function(){var e;let n=(0,D.useRouter)(),t="true"===n.query.flowpage,r=n.asPath.includes(i.Z5.SIGN_UP),o=n.asPath.includes(i.Z5.SIGN_IN)&&t,v=(0,p.Wo)(),_=null!==(e=null==v?void 0:v.slugName)&&void 0!==e?e:"",{jwt:f}=(0,c.F)(),m=(0,E.I0)(),A=Boolean(_)||Boolean(v),I=(0,g.useMemo)(()=>r?{postPublish:!0}:{},[r]),O=h(),{userHasReachedMaxPages:P}=(0,N.j)(e=>e.fpFunnelReducer),T=o&&A,R=(0,L.$)(),{handleProtectedActionClick:y}=(0,C.g)({openProModalCondition:Boolean(P),sourceId:a.t.FLOWPAGE_SSO_MAX_PAGES,onClose:()=>{n.push(i.Z5.PAGES)},action:async e=>{let{isPaymentSuccessful:t}=e;if(t){let e=await R();n.push({pathname:i.Z5.PAGE_EDITOR,query:{...I,id:null==e?void 0:e.id}});return}(0,s._p)("Error processing payment"),n.push(i.Z5.PAGES)}}),S=(0,g.useCallback)(async()=>{var e;let r=decodeURIComponent(null==n?void 0:null===(e=n.query)||void 0===e?void 0:e.redirectTo);if(P&&T){y();return}if(A){let{slugReserved:e}=await (0,d.N9)(l.tT,{slug:_},null==f?void 0:f.token),t=null==v?void 0:v.id;if(!e){let e=await R();e&&(t=null==e?void 0:e.id),m((0,u.Ri)({}))}if(r&&"undefined"!==r){let e=n.query;delete e.redirectTo;let t={},o=r,a=r.split("&");if(a[0]){let n=a[0].split("?");if(n[0]&&n[1]){o=n[0],a.unshift(n[1]);let r=a.reduce((e,n)=>{if(n){let[t,r]=n.split("=");e[t]=r}return e},{});t=Object.assign({},e,r)}}n.push({pathname:o,query:t})}else n.push({pathname:i.Z5.PAGE_EDITOR,query:{...I,id:t}})}else t?n.push(i.Z5.PAGES):O()},[n,P,T,A,t,y,_,null==f?void 0:f.token,null==v?void 0:v.id,R,m,I,O]);return S}(),b=function(){let e=(0,D.useRouter)(),n=(0,g.useCallback)(()=>{e.push({pathname:i.Z5.SIGN_IN,query:{...e.query,redirectTo:encodeURIComponent(e.asPath)}})},[e]);return n}(),w=function(){let e=(0,D.useRouter)(),n=(0,g.useCallback)(()=>{e.push({pathname:i.Z5.SIGN_UP,query:{...e.query,redirectTo:encodeURIComponent(e.asPath)}})},[e]);return n}(),F=(0,R.A)(),M=(0,y.K)(),[U,Z]=(0,g.useState)(!1),{isAuthenticated:W,jwt:q,isAuthChecked:B}=(0,c.F)(),x=null==q?void 0:null===(e=q.org)||void 0===e?void 0:e.status,j="true"===P.query.flowpage,Y=P.asPath.includes(i.Z5.SIGN_IN)&&j,V=(0,p.Wo)(),K=null!==(v=null==V?void 0:V.slugName)&&void 0!==v?v:"",Q=null===(n=null!==(_=P.query.invitationId)&&void 0!==_?_:"")||void 0===n?void 0:n.toString(),H=null===(t=null!==(f=P.query.inviteId)&&void 0!==f?f:"")||void 0===t?void 0:t.toString(),X=Boolean(K)||Boolean(V),{userHasReachedMaxPages:z}=(0,N.j)(e=>e.fpFunnelReducer),$=!j||!X||!Y||void 0!==z;(0,g.useEffect)(()=>{B&&!U&&!A&&(W&&T&&$?(k(),Z(!0)):!W&&B&&O?(window.location.href=O,Z(!0)):m&&!W&&B?(Q&&P.pathname===i.Z5.ACCEPT_INVITE&&localStorage.setItem(r.c,null==Q?void 0:Q.toString()),H&&P.pathname===i.Z5.ACCEPT_ORG_INVITE&&localStorage.setItem(r.l,null==H?void 0:H.toString()),I?w():b(),Z(!0)):F&&m?(M(),Z(!0)):W&&!j&&o.E3.includes(P.pathname)&&(P.push(i.Z5.CODES),Z(!0)))},[U,Z,G,B,W,P,T,k,m,b,$,A,j,x,Q,H,w,I,F,M,O])}},46222:function(e,n,t){t.d(n,{v:function(){return v}});var r=t(75759),o=t(15874),a=t(36272),i=t(37591),l=t(3118),u=t(92777),d=t(31957),s=t(43980);let c=()=>(0,s.j)(e=>e.pageEditorReducer.tempPage);var g=t(53336),p=t(39246),E=t.n(p);function v(){let e=c(),n=(0,s.j)(e=>e.fpFunnelReducer.placeholders),t=(0,g.I0)(),[p]=(0,d.mp)(),{token:v}=(0,u.F)();return async u=>{var d,s,c,g,_;let{slugName:f,pageType:m,domainServiceSubdomainId:A,createFlowcode:I,templateId:O,pageInput:P,path:T}=u,h=P||e;if(!h)return;let{__typename:R,id:C,backgroundImgUrl:N,...y}=h.theme||{};f&&(h={...h,slugName:f}),m&&(h={...h,pageType:m});let D=(0,r.b2)(n||{},null!==(_=null==h?void 0:null===(d=h.links)||void 0===d?void 0:d.length)&&void 0!==_?_:0);t((0,i.o4)({isLoading:!0}));let L=(0,l.EW)([...(null==h?void 0:h.links)?h.links:[]]),S=await p({page:{...O&&{createdFromTemplateId:O},...E()(h,["displayName","caption","share","isIndexed","gateId"]),path:T,pageType:(null==h?void 0:h.pageType)||void 0,createFlowcode:null==I||I,theme:y,domainServiceSubdomainId:A,slugName:(0,a.s3)((null==h?void 0:h.slugName)||f,"cannot initialize page without slugname"),links:(null===(s=null===(c=(0,a.B5)([...L,...D]))||void 0===c?void 0:c.map(o.BC))||void 0===s?void 0:s.map(o.lN))||[]}}),G=S&&"data"in S?null===(g=S.data.createPage)||void 0===g?void 0:g.id:"";if(!G||!S||"error"in S){let e="error"in S?S.error.message:"No page id";throw Error("Error creating page ".concat(e))}return await (0,o.Z0)({...h,links:null==L?void 0:L.map((e,n)=>{var t,r;return{...e,id:(null===(t=S.data.createPage)||void 0===t?void 0:null===(r=t.links)||void 0===r?void 0:r[n].id)||e.id}}),id:G},!0,v),G&&t((0,i.v_)(G)),t((0,i.o4)({isLoading:!1})),{id:G}}}},76953:function(e,n,t){t.d(n,{I:function(){return o}});var r=t(43980);function o(){let{pageId:e}=(0,r.j)(e=>{var n,t;return{pageId:null!==(t=null===(n=e.pageEditorReducer)||void 0===n?void 0:n.pageId)&&void 0!==t?t:null}});return e}},49820:function(e,n,t){t.d(n,{A:function(){return o}});var r=t(92777);let o=()=>{var e;let{jwt:n}=(0,r.F)();return(null==n?void 0:null===(e=n.org)||void 0===e?void 0:e.status)==="CHURNED"}},69554:function(e,n,t){t.d(n,{h:function(){return o}});var r=t(92777);let o=()=>{var e,n,t;let o=(0,r.F)(),a=null===(e=o.jwt)||void 0===e?void 0:null===(n=e.org)||void 0===n?void 0:null===(t=n.userOrgRoleExtras)||void 0===t?void 0:t.includes("org_role_extra:billing_admin");return Boolean(a)}},23993:function(e,n,t){t.d(n,{K:function(){return a}});var r=t(25088),o=t(37113);function a(){let e=(0,o.useRouter)(),n=e.pathname===r.Z5.PAGE_TEMPLATE_EDITOR,t=Array.isArray(e.query.id)?e.query.id[0]:e.query.id;return{isTemplateEditor:n,templateId:n?t:void 0}}},38270:function(e,n,t){t.d(n,{K:function(){return d}});var r=t(25088),o=t(62814),a=t(49820),i=t(81362),l=t(69554),u=t(37113);let d=()=>{let e=(0,u.useRouter)(),n=(0,l.h)(),t=(0,a.A)(),d=(0,i.Kk)(),s=n&&[r.Z5.ACCOUNT].includes(e.pathname),c=s||d,g=(0,o.useCallback)(()=>{!c&&t&&e.push({pathname:r.Z5.PAUSED_ACCOUNT})},[e,c,t]);return g}},31957:function(e,n,t){t.d(n,{D5:function(){return g},JV:function(){return _},hD:function(){return v},mp:function(){return p},xY:function(){return E}});var r=t(6413),o=t(31272),a=t(65755),i=t(84061),l=t(44937),u=t(84260),d=t(63971),s=t(37591);let c=a.t.injectEndpoints({endpoints:e=>({createPageFromTemplate:e.mutation({query:e=>({document:r.vr,variables:e,authOnly:!0}),invalidatesTags:["pageManagement","pageCount"]}),createPage:e.mutation({query:e=>{let{page:n}=e;return{document:r.EZ,variables:{page:n},authOnly:!0}},invalidatesTags:["pageManagement","pageCount"]}),deletePage:e.mutation({query:e=>{let{id:n}=e;return{document:r.$j,variables:{id:n},authOnly:!0}},invalidatesTags:["PageDetail","pageManagement","pageCount"],async onCacheEntryAdded(e,n){let{dispatch:t}=n;t((0,s.v_)(null))},async onQueryStarted(e,n){let{queryFulfilled:t}=n;try{await t,(0,d.Qp)(i.gW.deletePage.success)}catch(e){(0,d._p)(i.gW.deletePage.error)}}}),editPageInfo:e.mutation({query:e=>{let{editPage:n}=e;return{document:r.Ut,authOnly:!0,variables:{editPage:n}}},async onCacheEntryAdded(e,n){let{uploadImage:t,deleteImage:r}=e,{getState:a,cacheDataLoaded:i}=n,u=(0,l.a)(a());try{await i;let e=a().pageReducer.pageEditorReducer.pageId;t&&(0,o.gg)(t,null!=e?e:"",null==u?void 0:u.token),r&&(0,o._Q)(null!=e?e:"",null==u?void 0:u.token)}catch(e){console.error(e),(0,d._p)("Error uploading background image")}},async onQueryStarted(e,n){let{editPage:t,uploadImage:r,deleteImage:o,isTemplateEditor:a}=e,{dispatch:l,getState:s,queryFulfilled:c}=n,g=s().pageReducer.pageEditorReducer.pageId,p=s().pageReducer.pageEditorReducer.templateId,E=l(u.k_.util.updateQueryData("pageDetail",{id:a?p:g,isPageTemplate:Boolean(a)},e=>{var n;Object.assign(e,{Page:{...e.Page,...t,profileImage:o?null:r||(null===(n=e.Page)||void 0===n?void 0:n.profileImage)}})}));try{await c,(0,d.Qp)(i.gW.editPageInfo.success)}catch(e){E.undo(),(0,d._p)(i.gW.editPageInfo.error)}}}),renameSlug:e.mutation({query:e=>({document:r.lu,variables:e}),invalidatesTags:["pageManagement"],async onQueryStarted(e,n){let{newSlug:t,oldSlug:r}=e,{dispatch:o,getState:a,queryFulfilled:i}=n,l=a().pageReducer.pageEditorReducer.pageId,s=o(u.k_.util.updateQueryData("pageDetail",{id:l,isPageTemplate:!1},e=>{Object.assign(e,{Page:{...e.Page,slugName:t}})}));try{await i,(0,d.Qp)("URL slug renamed from ".concat(r," to ").concat(t))}catch(e){s.undo(),(0,d._p)("Error: Failed to rename url from ".concat(r," to ").concat(t))}}})}),overrideExisting:!0}),{useEditPageInfoMutation:g,useCreatePageMutation:p,useRenameSlugMutation:E,useDeletePageMutation:v,useCreatePageFromTemplateMutation:_}=c},75759:function(e,n,t){t.d(n,{Kq:function(){return a},b2:function(){return l},nO:function(){return i}});var r=t(94559),o=t(80839);function a(e){var n,t,r,o,a;if(!e)return!1;let i=null==e?void 0:e.actionData;return(null==i?void 0:null===(n=i.instagram)||void 0===n?void 0:n.link)||(null==i?void 0:null===(t=i.tiktok)||void 0===t?void 0:t.link)||(null==i?void 0:null===(r=i.snapchat)||void 0===r?void 0:r.link)||(null==i?void 0:null===(o=i.twitter)||void 0===o?void 0:o.link)||(null==i?void 0:null===(a=i.linkedin)||void 0===a?void 0:a.link)}function i(e){if(!e)return!1;let n=null==e?void 0:e.actionData;return(null==n?void 0:n.call)||(null==n?void 0:n.text)||(null==n?void 0:n.email)}function l(e,n){if(!e)return[null];let t=Object.entries(e),l=0;return t&&(null==t?void 0:t.length)!==0?null==t?void 0:t.map(e=>{var t,u,d,s;let[c,g]=e,p={...r.dS,order:(null!==(t=null==g?void 0:g.order)&&void 0!==t?t:0)+n+l};switch(c){case"socialLink":if(!a(g))return null;{let{iconSize:e,iconStyle:n,...t}=null!==(d=null==g?void 0:g.actionData)&&void 0!==d?d:{},r=null===(u=Object.entries(t))||void 0===u?void 0:u.reduce((e,n)=>{let[t,r]=n;return{...e,[t]:{...r,order:(null==r?void 0:r.link)?r.order:-1}}},{});return l+=1,{...p,...g,actionData:{...r,iconSize:e,iconStyle:n},type:"socialLink",id:(0,o.Z)()}}case"destination":if(null==g?void 0:null===(s=g.actionData)||void 0===s?void 0:s.link)return l+=1,{...p,provider:"link",displayType:"default",...g,id:(0,o.Z)()};return null;case"contactInfo":if(i(g))return l+=1,{...p,type:"contactInfo",displayType:"default",...g,id:(0,o.Z)()};return null;default:return null}}):[null]}},11186:function(e,n,t){t.d(n,{Og:function(){return _},Oz:function(){return v},Sw:function(){return f},Wo:function(){return p},Yu:function(){return g},cY:function(){return E},hj:function(){return c}});var r=t(27080),o=t(92777),a=t(76953);t(53336);var i=t(61050),l=t(61779),u=t(84260),d=t(43980),s=t(23993);function c(){var e,n,t,r;let o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0,{refetch:i,totalCount:d}=(0,l.mf)(a),{data:s,isLoading:c}=(0,u.B6)({first:d,ithacaFilter:a},{skip:o});return(null==s?void 0:null===(e=s.me)||void 0===e?void 0:null===(n=e.pageConnection)||void 0===n?void 0:n.edges)?{pages:Object.values(null==s?void 0:null===(t=s.me)||void 0===t?void 0:null===(r=t.pageConnection)||void 0===r?void 0:r.edges).reduce((e,n)=>({...e,...(null==n?void 0:n.id)&&{[n.id]:n}}),{}),isLoading:c,refetch:i}:{isLoading:c,pages:{},refetch:i}}function g(){var e,n;let t=(0,l.V7)(),{data:r,isLoading:o}=(0,u.B6)({first:t});return{pages:null==r?void 0:null===(e=r.me)||void 0===e?void 0:null===(n=e.pageConnection)||void 0===n?void 0:n.edges,isLoading:o}}function p(e){let n=(0,a.I)(),{isAuthChecked:t}=(0,o.F)(),{isTemplateEditor:l,templateId:c}=(0,s.K)(),g=(0,i.H)(),p=l?c:n||e||(null==g?void 0:g.id),{data:E}=(0,u.Cf)({id:p||"",isPageTemplate:l},{skip:!p||!t||p===r.nd||"[id]"===p}),v=(0,d.j)(e=>e.pageEditorReducer.tempPage);return"default-page"!==n||l?null==E?void 0:E.Page:v}function E(){let e=(0,a.I)(),{isAuthChecked:n}=(0,o.F)(),t=(0,i.H)(),{isTemplateEditor:l,templateId:c}=(0,s.K)(),g=l?c:e||(null==t?void 0:t.id),{data:p}=(0,u.Cf)({id:g||"",isPageTemplate:l},{skip:!g||!n||g===r.nd}),E=(0,d.j)(e=>e.pageEditorReducer.tempPage);return"default-page"!==e||l?(null==p?void 0:p.Page)||null:E}function v(e){let n=(0,a.I)(),{isTemplateEditor:t,templateId:l}=(0,s.K)(),{isAuthChecked:c}=(0,o.F)(),g=(0,i.H)(),p=t?l:n||e||(null==g?void 0:g.id)||"",{data:E,isLoading:v}=(0,u.Cf)({id:p||"",isPageTemplate:t},{skip:!p||!c||p===r.nd}),_=(0,d.j)(e=>e.pageEditorReducer.tempPage);return n!==r.nd||t?{currentPage:null==E?void 0:E.Page,isLoading:v}:{currentPage:_,isLoading:v}}function _(e){let n=(0,l.V7)();return!!n&&e>0&&n>=e}function f(e){let n=(0,l.V7)();return -1===e?1/0:n?e-n:0}},61050:function(e,n,t){t.d(n,{F:function(){return c},H:function(){return g}});var r=t(1286),o=t(35757),a=t(92777),i=t(84260),l=t(62814),u=t(12931),d=t.n(u);function s(e){switch(e){case o.fF.ASC:return r.II.Asc;case o.fF.DSC:default:return r.II.Desc}}function c(e,n,t){var o,a,u;let c=!(arguments.length>3)||void 0===arguments[3]||arguments[3],{direction:g,name:p,contains:E}=n,[v,_]=l.useState([]),[f,{data:m,isFetching:A}]=(0,i._D)({}),I=Boolean(null===(o=null==m?void 0:m.me.pageConnection)||void 0===o?void 0:null===(a=o.pageInfo)||void 0===a?void 0:a.hasNextPage),O=e=>({OR:[{slugName:{value:e,expression:r.Su.Ilike,pattern:r.cf.Prefix}},{title:{value:e,expression:r.Su.Ilike,pattern:r.cf.Prefix}},{assetTags:{tagName:{value:e,expression:r.Su.Ilike,pattern:r.cf.Prefix}}}]}),P=()=>{var n,r;let o=null===(n=null==m?void 0:m.me.pageConnection)||void 0===n?void 0:null===(r=n.pageInfo)||void 0===r?void 0:r.endCursor;f({first:e,after:o,ithacaFilter:t,orderBy:p,orderDirection:s(g),...E&&{where:O(E)}})},T=()=>{_([])};return l.useEffect(()=>{if(!c)return;let n=new AbortController;return T(),f({first:e,ithacaFilter:t,orderBy:p,orderDirection:s(g),...E&&{where:O(E)}}),()=>n.abort()},[c,E,g,p,e,f,t]),l.useEffect(()=>{var e,n;(null===(e=null==m?void 0:m.me.pageConnection)||void 0===e?void 0:e.edges)&&_(e=>{var t;return d()([...e,...null!==(n=null===(t=null==m?void 0:m.me.pageConnection)||void 0===t?void 0:t.edges)&&void 0!==n?n:{}],"id")})},[null===(u=null==m?void 0:m.me.pageConnection)||void 0===u?void 0:u.edges]),{pages:v,clearPages:T,getNextPage:P,hasNextPage:I,loading:A}}function g(){var e,n,t;let{isAuthenticated:r}=(0,a.F)(),{data:o}=(0,i.B6)({first:1},{skip:!r});return(null==o?void 0:null===(e=o.me)||void 0===e?void 0:null===(n=e.pageConnection)||void 0===n?void 0:null===(t=n.edges)||void 0===t?void 0:t[0])||null}},20065:function(e,n,t){t.d(n,{$:function(){return a}});var r=t(46222),o=t(11186);let a=()=>{let e=(0,o.Wo)(),n=(0,r.v)();return async()=>{var t,r,o,a;return await n({slugName:null!==(r=null==e?void 0:e.slugName)&&void 0!==r?r:"",pageType:null!==(o=null==e?void 0:e.pageType)&&void 0!==o?o:void 0,domainServiceSubdomainId:null!==(a=null==e?void 0:null===(t=e.domain)||void 0===t?void 0:t.domainServiceSubdomainId)&&void 0!==a?a:void 0})}}},84061:function(e,n,t){t.d(n,{gW:function(){return r}});let r={editTemplate:{success:"Your template has been updated",error:"Error deleting your template"},deletePage:{success:"Your page has been deleted",error:"Error deleting your Flowpage"},editPageInfo:{success:"Your changes have been saved",error:"Error saving your Flowpage"},editTheme:{success:"Your Flowpage design has been saved",error:"Error saving your Flowpage design"},reorderLinks:{success:"Your links have been reordered",error:"Error reordering your links"},deleteLink:{success:"Your link has been deleted",error:"Error deleting your link"},editLink:{success:"Your link has been edited",error:"Error editing your link"},createLink:{success:"Your link has been created",error:"Error creating your link"},indexToggle:{success:"Your indexing settings have been updated",error:"Error updating your indexing settings"},createOrEditLinkTheme:{success:"Your link style has been updated/created",error:"Error updating/creating your link style"},resetLinkThemes:{success:"Your link styles have been reset",error:"Error resetting your link styles"}};n.ZP={flowpage:{noAccount:"You Don't Have a Flowpage Account Yet",linkTaken:"That link was just taken! Try another one...",copied:"Flowpage URL copied to clipboard!",added:"Flowpage created successfully!",deleted:"Flowpage deleted successfully!",deleteLastAccountError:"Delete not allowed. This is your account's only Flowpage!"},theme:{success:"Theme Saved!",error:"Error saving theme",backgroundImage:{delete:{success:"Background image deleted",error:"Error deleting background image"}}},savePage:{success:"Page Saved and Published!",error:"Error publishing page"},savePageImages:{success:"Page Images Uploaded!",error:"Error uploading page images"},collection:{success:"Contact Information Submitted",error:"Error submitting contact information"},viewCollection:{empty:"No contacts submitted yet",error:"Error viewing CSV",script:"Error loading google api script"},profile:{info:{update:{success:"Profile updated",error:"Error updating profile"}},image:{update:{success:"Profile image updated",errors:{size:"Uploaded file must be <10mb"}},delete:{success:"Profile image deleted",error:"Error deleting profile image"}},link:{add:"Link added",update:"Link updated",delete:"Link deleted"},textBox:{delete:"Text Box deleted"},referral:{copied:"Invite link copied to clipboard!"}},resetPassword:{sent:"Reset email sent  \uD83D\uDCE8",success:"Reset password successfully, sending you back to sign in",invalidLink:"Invalid password reset link, please try again"}}},90427:function(e,n,t){t.d(n,{G:function(){return r}});function r(e,n){if(!n)return null;let t=Object.keys(e).filter(t=>e[t]==n.toString());return t.length>0?t[0]:null}}}]);