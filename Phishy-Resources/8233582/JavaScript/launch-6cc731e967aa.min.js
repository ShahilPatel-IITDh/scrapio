// For license information, see `https://assets.adobedtm.com/15ff638fdec4/7a0c4d63ddff/launch-6cc731e967aa.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2023-07-17T11:54:51Z",turbineBuildDate:"2023-02-22T20:37:26Z",turbineVersion:"27.5.0"},environment:{id:"EN5e016830178d4b9c86161a54a8f919f2",stage:"production"},dataElements:{"digitalDataLayer.page.attributes.errorCode":{defaultValue:"",modulePath:"fm-sbb-dlc/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.errorCode",callback:function(){},doCustomCode:!1,convertToString:!1}},"digitalDataLayer.page.pageInfo.destinationURI":{defaultValue:"",modulePath:"fm-sbb-dlc/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.pageInfo.destinationURI",callback:function(e){return e},doCustomCode:!0,convertToString:!1}},"digitalDataLayer.user.0.profile.0.profileInfo.loginStatus":{defaultValue:"",modulePath:"fm-sbb-dlc/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.0.profile.0.profileInfo.loginStatus",callback:function(){},doCustomCode:!1,convertToString:!1}},"customScript.cookieDomain":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";try{var t=document.location.hostname.split("."),n=t[t.length-1];e="."+t[t.length-2]+"."+n}catch(e){}return e}}},"digitalDataLayer.page.pageInfo.language":{defaultValue:"",modulePath:"fm-sbb-dlc/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.pageInfo.language",callback:function(){},doCustomCode:!1,convertToString:!1}},"customScript.ATILevel2":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"swisspass.ch"}},"digitalDataLayer.page.pageInfo.destinationURL":{defaultValue:"",modulePath:"fm-sbb-dlc/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.pageInfo.destinationURL",callback:function(){},doCustomCode:!1,convertToString:!1}},"customScript.ATILevel1":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"production"===_satellite.environment.stage?611076:611184}}},"digitalDataLayer.page.pageInfo.pageName":{defaultValue:"",modulePath:"fm-sbb-dlc/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.pageInfo.pageName",callback:function(){},doCustomCode:!1,convertToString:!1}},"digitalDataLayer.page.pageInfo.referringURL":{defaultValue:"",modulePath:"fm-sbb-dlc/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.pageInfo.referringURL",callback:function(){},doCustomCode:!1,convertToString:!1}},"customScript.consent.ATI":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return!0===window._satellite.analyticsHelpers.consentStatus.performance}catch(e){return!1}}}},"customScript.consent.dataLayerEvents":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return!0===window._satellite.analyticsHelpers.consentStatus.performance||!0===window._satellite.analyticsHelpers.consentStatus.functional||!0===window._satellite.analyticsHelpers.consentStatus.targeting}catch(e){return!1}}}}},extensions:{core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd22815afd48447aa955be6a3a012e3b5/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,n,r){"use strict";var o={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var n=o[e];if(n){var i={identifier:e,detail:t};n.forEach((function(e){e(i)}));var a=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&a.push(t),r.logger.log.apply(r.logger,a)}else r.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var n=o[e.identifier];n||(n=o[e.identifier]=[]),n.push(t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,n){"use strict";var r=n("../helpers/stringAndNumberUtils").isString,o=n("../helpers/stringAndNumberUtils").isNumber,i=n("../helpers/stringAndNumberUtils").castToStringIfNumber,a=n("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&r(e)?e.toLowerCase():e},c=function(e){return function(t,n,o){return t=i(t),n=i(n),r(t)&&r(n)&&e(t,n,o)}},u=function(e){return function(t,n){return t=a(t),n=a(n),o(t)&&o(n)&&e(t,n)}},l=function(e){return function(t,n,r){return e(s(t,r),s(n,r))}},d={equals:l((function(e,t){return e==t})),doesNotEqual:function(){return!d.equals.apply(null,arguments)},contains:c(l((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!d.contains.apply(null,arguments)},startsWith:c(l((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!d.startsWith.apply(null,arguments)},endsWith:c(l((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!d.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!d.matchesRegex.apply(null,arguments)},lessThan:u((function(e,t){return e<t})),lessThanOrEqual:u((function(e,t){return e<=t})),greaterThan:u((function(e,t){return e>t})),greaterThanOrEqual:u((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return d[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),o=n("@adobe/reactor-document"),i=-1!==r.navigator.appVersion.indexOf("MSIE 10"),a="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",u=[c,s,a],l=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};u.forEach((function(e){d[e]=[]}));var f=function(e,t){u.slice(0,g(e)+1).forEach((function(e){v(t,e)}))},p=function(){return"complete"===o.readyState?a:"interactive"===o.readyState?i?null:s:void 0},g=function(e){return u.indexOf(e)},v=function(e,t){d[t].forEach((function(t){m(e,t)})),d[t]=[]},m=function(e,t){var n=t.trigger,r=t.syntheticEventFn;n(r?r(e):null)};r._satellite=r._satellite||{},r._satellite.pageBottom=f.bind(null,c),o.addEventListener("DOMContentLoaded",f.bind(null,s),!0),r.addEventListener("load",f.bind(null,a),!0),r.setTimeout((function(){var e=p();e&&f(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[c].push({trigger:e})},registerDomReadyTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:l.bind(null,o)})},registerWindowLoadedTrigger:function(e){d[a].push({trigger:e,syntheticEventFn:l.bind(null,r)})}}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},r=function(e){return t(e)?String(e):e},o=function(e){return n(e)?Number(e):e};e.exports={isNumber:t,isString:n,castToStringIfNumber:r,castToNumberIfString:o}}}}},"fm-sbb-dlc":{displayName:"Data Layer Constructor",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP90cbd99929ab4040b3e9ad0123de74d4/",settings:{doPreMerge:!0,defaultMode:"merge",codePreMerge:function(e,t){var n=t.user;if(void 0!==n){var r=!0;try{r=["[object Array]"===Object.prototype.toString.call(n),n[0].hasOwnProperty("profile"),"[object Array]"===Object.prototype.toString.call(n[0].profile),n[0].profile[0].hasOwnProperty("profileInfo")].reduce((function(e,t){return e&&t}))}catch(e){r=!1}if(!r){var o=["[digitalDataLayer] Wrong user object format:",n,"should be:",[{profile:[{profileInfo:{}}]}]];("production"===_satellite.environment.stage?_satellite.logger.error:console.error).apply(void 0,o)}}},dataLayerRoot:"digitalDataLayer",eventRootPath:"event",delayOnlyFirst:"",doPreEventMerge:!1,eventActionPath:"event.eventInfo.eventName",clearEventObject:!0,constructorDebug:"2",doPostEventMerge:!1,maxDataLayerSize:"",codePreEventMerge:function(e,t,n){return"page data layer ready"===n&&(_satellite.analyticsHelpers=_satellite.analyticsHelpers||{},_satellite.analyticsHelpers.consentStore=_satellite.analyticsHelpers.consentStore||{},_satellite.analyticsHelpers.consentStore.lastAttemptedURI=e&&e.page&&e.page.pageInfo&&e.page.pageInfo.destinationURI),!(void 0===_satellite.analyticsHelpers.consentStatus&&(_satellite.logger.debug("Ignoring Event before consent has initialized:",n),1))},codePostEventMerge:function(){},delayBetweenEvents:"",doOnActivateEvents:!0,codeOnActivateEvents:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];"page data layer ready"===(o&&o.event&&o.event.eventInfo&&o.event.eventInfo.eventName)&&(t=n)}e.splice(0,t)}},modules:{"fm-sbb-dlc/src/lib/dataElements/glyphDataElement.js":{name:"glyph-data-element",displayName:"Dropdown",script:function(e,t,n,r){"use strict";function o(e){return null!=e&&"function"==typeof e.toString?e.toString():e}function i(e,t){for(var n=0,r=t.length;n<r;n++){if(!e.hasOwnProperty(t[n]))return null;e=e[t[n]]}return e}e.exports=function(e,t){n("../constructor/init")(r,"dataelement>glyphDataElement");try{var a=!(!t||"fm-sbb-dlc.data-layer-push"!==t.$type),s=a?t.detail.state:window[r.getExtensionSettings().dataLayerRoot].getState(),c=e.value.split("."),u=r.getExtensionSettings(),l=(isNaN(parseInt(u.constructorDebug))?0:parseInt(u.constructorDebug))>=2,d=s&&i(s,c);return d=e.convertToString?o(d):d,d=e.doCustomCode&&"function"==typeof e.callback?e.callback(d):d,l&&r.logger.debug("Resolving",{value:d,path:e.value,isContext:a,convertToString:e.convertToString,modify:e.doCustomCode&&e.callback,state:s}),d}catch(t){return r.logger.error("Error Resolving Data Definition",e,"\n",t),null}}}},"fm-sbb-dlc/src/lib/actions/synchronousCode.js":{name:"synchronous-code",displayName:"Synchronous Code",script:function(e,t,n,r){"use strict";e.exports=function(e,t){try{e.callback(t)}catch(n){r.logger.error("Error running synchronous code event",e,t,"\n",n)}}}},"fm-sbb-dlc/src/lib/events/dataLayerPush.js":{name:"data-layer-push",displayName:"Data Layer Push",script:function(e,t,n,r){"use strict";function o(e,t){"string"==typeof e&&""!==e&&(a[e]=a[e]||[],a[e].push(t))}function i(e){a.hasOwnProperty(e.detail.eventName)&&a[e.detail.eventName].forEach((function(t){t({detail:e.detail})}))}var a={};window.removeEventListener("DataLayerConstructorEvent",i),window.addEventListener("DataLayerConstructorEvent",i),e.exports=function(e,t){n("../constructor/init")(r,"event>push"),o(e.eventName,t)}}},"fm-sbb-dlc/src/lib/main.js":{script:function(e,t,n,r){n("./constructor/init")(r,"main")}},"fm-sbb-dlc/src/lib/constructor/init.js":{script:function(e,t,n){"use strict";function r(e){!0!==o&&(o=!0,n("./polyfills")(),n("./constructor")(n("./defaultConfig")(e)))}var o=!1;e.exports=r}},"fm-sbb-dlc/src/lib/constructor/polyfills.js":{script:function(e){"use strict";e.exports=function(){return function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=e}(),!0}}},"fm-sbb-dlc/src/lib/constructor/constructor.js":{script:function(e,t){!function(n,r){"object"==typeof t&&void 0!==e?e.exports=r():"function"==typeof define&&define.amd?define(r):(n="undefined"!=typeof globalThis?globalThis:n||self).DataLayerConstructor=r()}(this,(function(){"use strict";var e=function(e){function t(e){var t={};return w(t,e),t}function n(e){for(var t in e)delete e[t]}function r(e,t){var n=_.getType(e);if("string"===n)e=e.split(".");else if("array"!==n)return void m("unsupported path type",e,n);for(var r=t,o=0,i=e.length;o<i;o++){if(void 0===r[e[o]])return;r=r[e[o]]}return r}function o(e,t){for(var n=e.split("."),r={},o=r,i=0,a=n.length-1;i<a;i++)o=o[n[i]]={};return o[n[n.length-1]]=t,r}function i(e,t){if("array"===_.getType(e))for(;e.length>0;)try{var r=e.shift(),o=_.getType(r);"array"===o?k.metaCommand(r,t):"function"===o?k.methodCommand(r,t):"object"===o?k.mergeCommand(r,t):"reset"===r?n(t):m("invalid command type pushed:",r)}catch(e){m("processQueue error",e)}else m("queue must be an array",e)}var a="1.9.1",s={debug:!1,defaultMode:"merge",clearEventBeforeMerge:!0,eventActionPath:"event.action",eventRootPath:"event",dataLayerKey:"digitalData",eventsActivated:!1,delayBetweenEvents:-1,delayOnlyFirst:!1,loggingFunction:void 0,eventTriggerCallBack:void 0,eventPreMergeCallBack:void 0,eventPostMergeCallBack:void 0,pushCallBack:void 0,modifyInactiveEventsCallBack:void 0,maxDataLayerSize:50};for(var c in e)s[c]=e[c];var u=!0,l=[],d=null,f={},p=[],g=!0,v=["merge","replace","append","arrayReplace"],m=function(){};s.debug&&(m=s.loggingFunction?s.loggingFunction:Function.prototype.bind.apply(console.debug,[console,"[Constructor]"])),"number"!=typeof s.delayBetweenEvents&&(s.delayBetweenEvents=-1),l.push=function(){var e=Array.prototype.push.apply(l,arguments);return l.length>s.maxDataLayerSize&&l.splice(0,this.length-s.maxDataLayerSize),e},-1===v.indexOf(s.defaultMode)&&(m("unknown default mode:",[s.defaultMode],"setting fallback mode:",["merge"]),s.defaultMode="merge");var h,y,b=s.defaultMode,_=(h=/\[object (Object|Boolean|Number|String|Function|Array|Date|RegExp)\]/,y=/\[object (Object|Boolean|Number|String|Function|Array|Date)\]/,{getType:function(e,t){if(null===e)return"null";if(void 0===e)return"undefined";if(e.nodeType>=1&&void 0!==e.nodeName)return"node";var n=Object.prototype.toString.call(Object(e)),r=(t?y:h).exec(n);return r?r[1].toLocaleLowerCase():"unsupported"},isNonEmptyString:function(e){return"string"==typeof e&&""!==e}}),w=function(){function e(r,i){if(++t>n)return m("recursion limit reached!"),!0;var a=!1;for(var s in i){var c=i[s],u=s;if(_.isNonEmptyString(s)&&-1!==s.indexOf(".")){var l=o(s,c);c=l[u=Object.keys(l)[0]]}var d=_.getType(c,!0);if("object"===d)"replace"!==b&&_.getType(r[u],!0)===d||(r[u]={}),a=e(r[u],c)||a;else if("array"===d)if("arrayReplace"!==b&&"replace"!==b&&_.getType(r[u],!0)===d||(r[u]=[]),"append"===b){var f=[];a=e(f,c)||a,r[u]=r[u].concat(f)}else a=e(r[u],c)||a;else"unsupported"===d?m("unsupported type detected > ignoring ",c):r[u]=c}return--t,a}var t=0,n=20;return function(n,r){return t=0,!e(n,r)}}(),C=function(e){return{set:function(t,n){var r=b;b="merge",i([o(t,n)],e),b=r},get:function(t){return r(t,e)}}},P=C(f),k={mergeCommand:function(e,o){if(e=t(e),"function"==typeof s.pushCallBack)try{s.pushCallBack(o,e)}catch(e){m("callback error:",e)}var i=r(s.eventActionPath,e),a=_.isNonEmptyString(i);if(a&&s.clearEventBeforeMerge&&n(r(s.eventRootPath,o)),a&&"function"==typeof s.eventPreMergeCallBack){try{a=s.eventPreMergeCallBack(o,r(s.eventRootPath,e),i)}catch(e){a=!1,m("callback error:",e)}a||m("event cancelled by eventPreMergeCallBack",i,e)}if(w(o,e),a){var c=t(o),d=r(s.eventRootPath,c);i=r(s.eventActionPath,c);var v=l.length>=1;if(o===f&&(s.debug&&p.push(c),(v&&s.eventsActivated||!s.eventsActivated&&u)&&l.push(c)),g&&s.eventsActivated&&!v)try{m("firing event:",i,d),"function"==typeof s.eventTriggerCallBack&&s.eventTriggerCallBack(c,d,i)}catch(e){m("callback error:",e)}else s.debug&&m("event disregarded"+(u?" and stored:":":"),d);if("function"==typeof s.eventPostMergeCallBack){var h=t(c);try{s.eventPostMergeCallBack(h,r(s.eventRootPath,h),i)}catch(e){m("callback error:",e)}}}},metaCommand:function(e,t){if(_.isNonEmptyString(e[0])){var n=e[0],o=e.slice(1);if(0===n.indexOf("mode:")){var a=n.split(":")[1];-1===v.indexOf(a)&&(m("unknown mode:",[a],"applying fallback mode:",[s.defaultMode]),a=s.defaultMode);var c=b;b=a,i(o,t),b=c}else{var u=n.split("."),l=u.pop(),d=r(u,t);try{d[l].apply(d,o)}catch(e){m("meta command",e)}}}else m("invalid command >",e[0],"<, must be non-empty string")},methodCommand:function(e,t){e.call(t===f?P:C(t))}};window[s.dataLayerKey]=window[s.dataLayerKey]||[];var E={getVersion:function(){return a},getState:function(){return f},getEventHistory:function(){return s.debug||console.warn("[Constructor] .getEventHistory() only stores events in debug mode"),p},clearEventHistory:function(){p=[]},compress:function(){window[s.dataLayerKey].splice(0,window[s.dataLayerKey].length),window[s.dataLayerKey][0]=f},activateEvents:function(e){if(!s.eventsActivated)if(s.eventsActivated=!0,u=!1,m("activating events. firing",l.length,"previously stored events?",e),e){var t=l.length;if("function"==typeof s.modifyInactiveEventsCallBack)try{s.modifyInactiveEventsCallBack(l)}catch(o){m("callback error:",o)}function n(){try{if(l.length<1)return;var e=l.shift(),t=r(s.eventRootPath,e),o=r(s.eventActionPath,e);m("firing event:",o,t);try{"function"==typeof s.eventTriggerCallBack&&s.eventTriggerCallBack(e,t,o)}catch(e){m("callback error",e)}}catch(e){m("trigger event error",e)}d=null,s.delayBetweenEvents>=0?(d=setTimeout(n,s.delayBetweenEvents),!0===s.delayOnlyFirst&&(s.delayBetweenEvents=-1)):n()}l.length!==t&&m("event history modified. Firing",l.length,"events"),n()}else l.length=0},deactivateEvents:function(e){m("Deactivating Events. Events will be stored?",e),s.eventsActivated=!1,u=e;var t=l.length;!e&&t>0&&(m("clearing",t,"stored events"),l.length=0),clearTimeout(d),d=null},processExternal:function(e,t,n,r){var o=g;g=n;var a=b,c=s.delayBetweenEvents;return s.delayBetweenEvents=-1,"string"==typeof r&&(-1!==v.indexOf(r)?b=r:(b=s.defaultMode,m("Invalid mode",[r],"using default",[s.defaultMode]))),t=t||{},i(e.slice(),t),s.delayBetweenEvents=c,g=o,b=a,t},push:function(){i(Array.prototype.slice.call(arguments),f);var e=Array.prototype.push.apply(this,arguments);return this.length>s.maxDataLayerSize&&this.splice(0,this.length-s.maxDataLayerSize),e}};for(var O in E)"function"==typeof E[O]&&(window[s.dataLayerKey][O]=E[O]);m("init",s),i(window[s.dataLayerKey].slice(),f)};return e}))}},"fm-sbb-dlc/src/lib/constructor/defaultConfig.js":{script:function(e){"use strict";e.exports=function(e){var t=e.getExtensionSettings(),n=isNaN(parseInt(t.constructorDebug))?0:parseInt(t.constructorDebug);return{debug:e.debugEnabled&&("true"===t.constructorDebug||!0===t.constructorDebug||n>=1),defaultMode:t.defaultMode||"merge",clearEventBeforeMerge:t.clearEventObject,eventActionPath:t.eventActionPath,eventRootPath:t.eventRootPath,dataLayerKey:t.dataLayerRoot,eventPreMergeCallBack:t.doPreEventMerge&&"function"==typeof t.codePreEventMerge?t.codePreEventMerge:void 0,eventPostMergeCallBack:t.doPostEventMerge&&"function"==typeof t.codePostEventMerge?t.codePostEventMerge:void 0,pushCallBack:t.doPreMerge&&"function"==typeof t.codePreMerge?t.codePreMerge:void 0,modifyInactiveEventsCallBack:t.doOnActivateEvents&&"function"==typeof t.codeOnActivateEvents?t.codeOnActivateEvents:void 0,eventTriggerCallBack:function(e,t,n){var r=new CustomEvent("DataLayerConstructorEvent",{detail:{state:e,eventObject:t,eventName:n}});window.dispatchEvent(r)},maxDataLayerSize:isNaN(parseInt(t.maxDataLayerSize),10)?50:parseInt(t.maxDataLayerSize,10),loggingFunction:e.logger.debug,eventsActivated:!1,delayBetweenEvents:isNaN(parseInt(t.delayBetweenEvents),10)?-1:parseInt(t.delayBetweenEvents,10),delayOnlyFirst:!0===t.delayOnlyFirst||"true"===t.delayOnlyFirst}}}}}}},company:{orgId:"65B67CAF5ABEB5A30A495CC8@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"swisspass.ch (digitalDataLayer)",settings:{domains:["swisspass.ch"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1},id:"PRe40fc13f697a4b979ab744f540e9c2a9"},rules:[{id:"RL00879d47ca5a42668a78e1592dac59a6",name:"DLC - 002 - Activate Events - DC: consentChange [100] - Commence Handling of Data Layer Events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"consentChange"},ruleOrder:100}],conditions:[],actions:[{modulePath:"fm-sbb-dlc/src/lib/actions/synchronousCode.js",settings:{callback:function(){!0===_satellite.getVar("customScript.consent.dataLayerEvents")?digitalDataLayer.activateEvents(!0):digitalDataLayer.deactivateEvents(!0)}}}]},{id:"RLde45aa331ead45488cc4fcc982ba3c39",name:"LIB - 000 - Analytics Helper - Library Loaded [0] - creates _satellite.analyticsHelper synchronously",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:0}],conditions:[],actions:[{modulePath:"fm-sbb-dlc/src/lib/actions/synchronousCode.js",settings:{callback:function(){function e(e){try{return decodeURIComponent(e),!0}catch(e){return!1}}window._satellite=window._satellite||{},window._satellite.analyticsHelpers=window._satellite.analyticsHelpers||{},window._satellite.analyticsHelpers.Url=function(){"use strict";function e(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function t(e){return(e||"").toString().replace(f,"")}function n(e){var t,n=("undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:{}).location||{},r={},i=typeof(e=e||n);if("blob:"===e.protocol)r=new o(unescape(e.pathname),{});else if("string"===i)for(t in r=new o(e,{}),g)delete r[t];else if("object"===i){for(t in e)t in g||(r[t]=e[t]);void 0===r.slashes&&(r.slashes=l.test(e.href))}return r}function r(e){e=t(e);var n=d.exec(e);return{protocol:n[1]?n[1].toLowerCase():"",slashes:!!n[2],rest:n[3]}}function o(e,i,a){if(e=t(e),!(this instanceof o))return new o(e,i,a);var c,l,d,f,g,v,m=p.slice(),h=typeof i,y=this,b=0;for("object"!==h&&"string"!==h&&(a=i,i=null),a&&"function"!=typeof a&&(a=u.parse),i=n(i),c=!(l=r(e||"")).protocol&&!l.slashes,y.slashes=l.slashes||c&&i.slashes,y.protocol=l.protocol||i.protocol||"",e=l.rest,l.slashes||(m[3]=[/(.*)/,"pathname"]);b<m.length;b++)"function"!=typeof(f=m[b])?(d=f[0],v=f[1],d!=d?y[v]=e:"string"==typeof d?~(g=e.indexOf(d))&&("number"==typeof f[2]?(y[v]=e.slice(0,g),e=e.slice(g+f[2])):(y[v]=e.slice(g),e=e.slice(0,g))):(g=d.exec(e))&&(y[v]=g[1],e=e.slice(0,g.index)),y[v]=y[v]||c&&f[3]&&i[v]||"",f[4]&&(y[v]=y[v].toLowerCase())):e=f(e);a&&(y.query=a(y.query)),c&&i.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==i.pathname)&&(y.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(y.pathname,i.pathname)),s(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(f=y.auth.split(":"),y.username=f[0]||"",y.password=f[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}var i,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e},c=Object.prototype.hasOwnProperty,u={stringify:function(e,t){t=t||"";var n,r,o=[];for(r in"string"!=typeof t&&(t="?"),e)if(c.call(e,r)){if((n=e[r])||null!==n&&n!==i&&!isNaN(n)||(n=""),r=encodeURIComponent(r),n=encodeURIComponent(n),null===r||null===n)continue;o.push(r+"="+n)}return o.length?t+o.join("&"):""},parse:function(t){for(var n,r=/([^=?&]+)=?([^&]*)/g,o={};n=r.exec(t);){var i=e(n[1]),a=e(n[2]);null===i||null===a||i in o||(o[i]=a)}return o}},l=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,d=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,f=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+"),p=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],g={hash:1,query:1};return o.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||u.parse)(t)),r[e]=t;break;case"port":r[e]=t,s(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";r[e]=t.charAt(0)!==o?o+t:t}else r[e]=t;break;default:r[e]=t}for(var i=0;i<p.length;i++){var a=p[i];a[4]&&(r[a[1]]=r[a[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=u.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},o.extractProtocol=r,o.location=n,o.trimLeft=t,o.qs=u,o}(),_satellite.logger.debug("UrlLib loaded"),window._satellite.analyticsHelpers.getCanonicalURL=function(e){var t=window._satellite.analyticsHelpers.Url(e),n=t.hostname;return"string"==typeof t.pathname&&"/"!==t.pathname&&""!==t.pathname&&(n+=t.pathname),n},window._satellite.analyticsHelpers.limitObjectStrings=function(t,n,r){return n.forEach((function(n){var o=t[n];if("string"==typeof n&&"string"==typeof o){if(o.length>r){o=o.slice(0,r);for(var i=0;i<r;i++)e(o)||(o=o.slice(0,-1));t[n]=o,console.warn("Limited",n,"to",o)}r-=o.length}})),t}}}}]},{id:"RL869dd3535e8348bf8610d54d5a33930f",name:"CONSENT - 000 - Consent Logic (OneTrust) - Library Loaded [1] - setup status and emit consentChange events",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[],actions:[{modulePath:"fm-sbb-dlc/src/lib/actions/synchronousCode.js",settings:{callback:function(){function e(e){var t={necessary:-1!==e.indexOf("C0001"),performance:-1!==e.indexOf("C0002"),functional:-1!==e.indexOf("C0003"),targeting:-1!==e.indexOf("C0004")};window._satellite.analyticsHelpers=_satellite.analyticsHelpers||{},window._satellite.analyticsHelpers.consentStatus=t,_satellite.logger.debug("Consent: Update",t),_satellite.track("consentChange")}if(window._satellite=window._satellite||{},window._satellite.analyticsHelpers=_satellite.analyticsHelpers||{},window._satellite.analyticsHelpers.consentStatus={strictlyNecessary:!1,performance:!1,functional:!1,targeting:!1},"string"==typeof window.OptanonActiveGroups)_satellite.logger.debug("Consent: Immediately ready"),e(window.OptanonActiveGroups.split(","));else{var t=!1;function n(){if(!t){t=!0;var n=!!document.querySelector('[src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"]');_satellite.logger.debug("Consent: At DOM",document.readyState,"tool will load?",n),n||e(["C0001","C0002","C0003","C0004"])}}"loading"===document.readyState?document.addEventListener("readystatechange",n):n()}window.addEventListener("consent.onetrust",(function(t){e(t.detail)}))}}}]},{id:"RLe5f2906ec10c48edbae1611fd7c9cc73",name:"SDK NEW | Piano - 80 - Persistent properties - DL Event: any event [0]",events:[{modulePath:"fm-sbb-dlc/src/lib/events/dataLayerPush.js",settings:{eventName:"page data layer ready"},ruleOrder:0},{modulePath:"fm-sbb-dlc/src/lib/events/dataLayerPush.js",settings:{eventName:"ecommerce"},ruleOrder:0},{modulePath:"fm-sbb-dlc/src/lib/events/dataLayerPush.js",settings:{eventName:"click"},ruleOrder:0},{modulePath:"fm-sbb-dlc/src/lib/events/dataLayerPush.js",settings:{eventName:"impression"},ruleOrder:0},{modulePath:"fm-sbb-dlc/src/lib/events/dataLayerPush.js",settings:{eventName:"timetable enquiry"},ruleOrder:0}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%customScript.consent.ATI%"}}],actions:[{modulePath:"fm-sbb-dlc/src/lib/actions/synchronousCode.js",settings:{callback:function(e){function t(){var e=window._satellite.analyticsHelpers.getCanonicalURL(n);return"string"==typeof e&&(e=e.split(";jsessionid=")[0]),e}var n=_satellite.getVar("digitalDataLayer.page.pageInfo.destinationURL",e),r=_satellite.getVar("digitalDataLayer.page.pageInfo.destinationURI",e).split("/");""===r[0]&&r.shift(),r=r.map((function(e){return e||""})),pa.setProperties({page:_satellite.getVar("digitalDataLayer.page.pageInfo.pageName",e),page_chapter1:r[0]||"home",page_chapter2:r[1],page_chapter3:r[2],site_level2:_satellite.getVar("customScript.ATILevel2",e),url:t(),uri:_satellite.getVar("digitalDataLayer.page.pageInfo.destinationURI",e),content_language:_satellite.getVar("digitalDataLayer.page.pageInfo.language",e),subsite:_satellite.getVar("digitalDataLayer.page.category.primaryCategory",e),full_url:n,login_status:_satellite.getVar("digitalDataLayer.user.0.profile.0.profileInfo.loginStatus",e).toString(),tms_version:[_satellite.property.name,_satellite.environment.stage,_satellite.buildInfo.buildDate].join("::")},{persistent:!0})}}}]},{id:"RL6ec6b0eab30044e0b4d252713be801ec",name:"SDK NEW | Piano - 100 - Page Load - DL Event: page data layer ready [50]",events:[{modulePath:"fm-sbb-dlc/src/lib/events/dataLayerPush.js",settings:{eventName:"page data layer ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%customScript.consent.ATI%"}}],actions:[{modulePath:"fm-sbb-dlc/src/lib/actions/synchronousCode.js",settings:{callback:function(e){var t=_satellite.getVar("digitalDataLayer.page.pageInfo.referringURL",e),n=_satellite.getVar("queryParameter.marketingURL")||"",r=_satellite.getVar("__lastMarketingURL");n&&r!==n&&(_satellite.setVar("__lastMarketingURL",n),n="www.sbb.ch/"+n),pa.sendEvent("page.display",{referrer:t,referrer_domain:""!==t&&"string"==typeof t?_satellite.analyticsHelpers.Url(t).hostname:"",error_code:_satellite.getVar("digitalDataLayer.page.attributes.errorCode",e),marketing_url:n})}}}]},{id:"RL78a24231c188428cac055ab09c6dd84f",name:"SDK NEW | Piano - 000 - Load Piano SDK - DC: consentChange [50]  - Launch Hosted ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"consentChange"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%customScript.consent.ATI%"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){_satellite.analyticsStore=_satellite.analyticsStore||{};var t=_satellite.analyticsStore,n=e.$rule.id,r=!0===t[n];return t[n]=!0,!r}}}],actions:[{modulePath:"fm-sbb-dlc/src/lib/actions/synchronousCode.js",settings:{callback:function(){window._pac=window._pac||{},_pac.cookieDomain=_satellite.getVar("customScript.cookieDomain"),_pac.cookieSecure=!0,_pac.isVisitorClientSide=!1,function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){var r,o,i,a,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return o=!(r=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return r=e.done,e},e:function(e){o=!0,i=e},f:function(){try{r||null==s.return||s.return()}finally{if(o)throw i}}};if(Array.isArray(e)||(s=function(e,t){var r;if(e)return"string"==typeof e?n(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}
;throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){function t(e,t){null!==t&&""!==t&&void 0!==t&&(n[e]=t)}var n=e;return{setConfiguration:t,setConfigurations:function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},getConfiguration:function(e){return void 0!==n[e]?Re(n[e]):null},cloneData:function(){return Re(n)},deleteProperty:function(e){delete n[e]}}}function i(e){var t=[];return{push:function(n){t.push(n),1===t.length&&e[n[0]].apply(e,n.slice(1))},next:function(){var n;t.shift(),0<t.length&&e[(n=t[0])[0]].apply(e,n.slice(1))}}}function a(e,t,n){this.properties=Re(e._properties),this.setProperty=function(t,n,r){e._privacy.call("isPropAllowed",t)&&(this.properties[t]={value:n,options:r||{}})},this.hasProperty=function(e){return Object.prototype.hasOwnProperty.call(this.properties,e)},this.getConfiguration=n.getConfiguration,this.setConfiguration=n.setConfiguration,this.options=t.options||{},this.visitorId=null,this.build={url:"",data:{}},this.events=t.events||[]}function s(e,t,n,r){!1!==r&&0<n.length&&"function"==typeof n[0]?n[0](e,t,n.slice(1)):e._queue.next()}function c(e,t,n){var r=(o=t.getConfiguration("collectDomain")).startsWith("https://")||o.startsWith("http://")?"":"https://",o=(r="".concat(r).concat(o,"/").concat(t.getConfiguration("path")),"?s=".concat(t.getConfiguration("site")).concat(t.visitorId?"&idclient="+t.visitorId:""));t.build.url=r+o,t.build.data={events:t.events},s(e,t,n)}function u(e,t,n,r,o){var i,a=function(e,t,n){for(var r={},o=new RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),i=o.exec(t);null!==i;)0===i[1].indexOf(e)&&(r[n+i[1].substring(e.length)]=window.decodeURIComponent(i[2])),i=o.exec(t);return r}(r,n,o),s=!1;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&!t.properties[i]&&t.setProperty(i,a[i],{persistent:!0}),s=!0;return s}function l(e,t,n){var o,i=document.location.href,a=r(t.getConfiguration("campaignPrefix"));try{for(a.s();!(o=a.n()).done&&!u(0,t,i,o.value,"src_"););}catch(e){a.e(e)}finally{a.f()}t.getConfiguration("enableUTMTracking")&&u(0,t,i,"utm_","utm_"),s(e,t,n)}function d(e){return 0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),Ke(e)}function f(e,t,n){var r=(n=void 0===n?{}:n).path,o=n.domain,i=n.expires,a=n.secure,s=n.samesite;return((n=n.raw)?e:encodeURIComponent(e))+"="+(n?t:encodeURIComponent(t))+(i?"; expires=".concat(Fe(i).toUTCString()):"")+(r?"; path=".concat(r):"")+(o?"; domain=".concat(o):"")+(a?"; secure":"")+(s?"boolean"==typeof s?"; sameSite":"; sameSite=".concat(s):"")}function p(e,t,n,r){void 0===t||void 0!==r&&encodeURI(t).split(/%(?:u[\dA-F]{2})?[\dA-F]{2}|./).length-1>r||(document.cookie=f(e,t,n))}function g(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(e(Ke(r[0]),r[1]||""))return}}function v(e){var t=null,n={};return g((function(r,o){if(e)return r===e&&(t=d(o),1);n[r]=d(o)})),e?t:n}function m(e,t){p(e,"",Object.assign({},t,{expires:-1}))}function h(){var e=y(),t=Ye(),n={};t&&(Object.keys(t).forEach((function(r){if(e.includes(r)){var o=t[r]?parseInt(t[r],36):null;if(!o||o>Date.now())n[r]=t[r];else try{window.localStorage.removeItem(r)}catch(r){}}})),JSON.stringify(t)!==JSON.stringify(n))&&ze(n)}function y(){try{return Object.keys(window.localStorage)}catch(e){return[]}}function b(e,t){return{cookieName:t=void 0===t?"_pctx":t,readonly:!1,init:function(t){return null!=(t=null!=t?t:e)?t:null},refresh:function(e){return e},update:function(e){return e},set:function(e){return e},get:function(e){return e}}}function _(e){return Xe(Xe({},b(e)),{cookieName:null})}function w(){var e={};return{add:function(t){e[t]=!0},values:function(){return et(e)}}}function C(e,t){var n,r=NaN,o=NaN;return function(i){var a=null==t?void 0:t();return i===o&&r===a||(r=a,n=e(o=i)),n}}function P(e){var t;return function(n){var r=e();r!==t&&n(t=r)}}function k(e){return at(e,(function(e){return"CX"!==(null==e?void 0:e.type)}))}function E(e,t){return t({protect:!0}),it()}function O(e,t){return function(n){return t(e+n)}}function S(e,t){void 0===t&&(t=Ct);var n=yt[e.toLowerCase()];return void 0!==n?ht[n].name:(t('"'.concat(e,'" is not found')),null)}function A(e,t){var n;return void 0===t&&(t=Ct),e?(n={},e.products&&(tt(e.products)?n.products=e.products.reduce((function(e,n){return(n=S(n,O("consent.products: ",t)))&&e.push(n),e}),[]):t("consent.products: should be an array")),e.defaultPreset&&(n.defaultPreset=et(e.defaultPreset).reduce((function(n,r){var o=S(r,O("consent.defaultPreset: ",t)),i=Pt(e.defaultPreset[r]);return i||t("consent.defaultPreset: "+wt(r,bt)),o&&i&&(n[o]=i),n}),{})),n):null}function x(e){return e.reduce((function(e,t,n){return Xe(Xe({},e),((e={})[n]={mode:St[t]},e))}),{})}function I(){return Dt()[0].preset}function D(){return gt().consent_modifiers||null}function j(){return!!gt().requireConsent}function L(e){return Lt().reduce((function(t,n){return t[n.id]=e[n.id]||I()[n.id],t}),{})}function N(e){var t=Number(e);return Number.isNaN(t)?String(e):t}function T(e){return tt(e)?e:e.split(",").map((function(e){return e.trim().replace(/^['"](.+)['"]$/,"$1")}))}function M(e){return e}function R(e,t){return void 0===e&&(e="meta"),Ut(t)?document.querySelector(e):(e=document.querySelectorAll(e),Ht(t)?e[e.length-1]:Array.from(e))}function B(e){var n=e.getContent||function(e){return e.content};if(e.selector)return(o=R(e.selector,e.take||"first"))&&n(o)||null;var r=Kt.find(e.attr||["name"],e.hasContent),o=e.names||[],i=!("all"===e.take),a=Ht(e.take);if(r)for(var s=0,c=o;s<c.length;s++){var u=function(e){var t,o=[];if(e=r[e]){if(i)return t=e[a?e.length-1:0],{value:n(t)||""};e.forEach((function(e){o=o.concat(n(e)||"")}))}if(o.length)return{value:o}}(c[s]);if("object"===t(u))return u.value}return null}function U(e){var t=e.replace(/DAY/g,"(0?[1-9]|[12][0-9]|3[01])").replace(/MONTHLONG/g,"("+et(Jt).join("|")+")").replace(/MONTH/g,"(0?[1-9]|1[012])").replace(/YEAR2/g,"([0-9][0-9])").replace(/YEAR/g,"(197[1-9]|19[8-9][0-9]|20[0-9][0-9])").replace(/TIME/g,"([0-9][0-9]):([0-9][0-9]):([0-9][0-9])(?:\\.[0-9][0-9][0-9])?([zZ]|[+-][0-9][0-9](?::?[0-9][0-9])?)?");return e=e.replace(/.*?([YMD])(EAR|ONTH|AY).*?/g,"$1").substring(0,3),[new RegExp(t),e]}function H(e){return e&&parseInt(e,10)||0}function V(e,t,n,r,o,i,a){return e=new Date(Date.UTC(H(e),H(t)-1,H(n),H(r),H(o),H(i))),(t=(a||"").match(/^([+-][0-9][0-9])(?::?([0-9][0-9])?)$/))&&(e=new Date(e.getTime()-36e5*Number(t[1])-6e4*(Number(t[2])||0))),0<(n=Date.now()-e.getTime())||-n<1728e5?e.toISOString():null}function F(e){return Zt((e=void 0===e?"":e).replace(/,(?=\s*(jr|sr)(\.?)\b)/g," "))}function K(e){return Xe(Xe({},e),{take:"last"})}function q(e){return Xe(Xe({},e),{take:"last",hasContent:!0,getContent:function(e){return Zt(e.content||"")}})}function W(e){Wt(e,"createdAt",(function(){if(!(e=qt(Xt)))return null;var e,t=e.toLowerCase();if(e=(t=t.toLowerCase()).match(Gt))return V(e[1],e[2],e[3],e[4],e[5],e[6],e[7]);for(var n=0,r=$t;n<r.length;n++){var o=r[n],i=t.match(o[0]);if(i)return V(2===(i="DMY"===o[1]?["",i[3],i[2],i[1]]:"MDY"===o[1]?["",i[3],i[1],i[2]]:i)[1].length?(H(i[1])<60?"20":"19")+i[1]:i[1],i[2].length<=2?i[2]:Jt[i[2]],i[3])}})),Wt(e,"modifiedAt",Qt),Wt(e,"authors",en),Wt(e,"keywords",(function(){var e=qt(tn);return e&&e.length<=1024?e:null})),Wt(e,"title",rn),Wt(e,"description",nn)}function Y(){var e,t=Array.from(document.querySelectorAll("meta[property^=content]")).reduce((function(e,t){var n=null==(n=null==t?void 0:t.getAttribute("property"))?void 0:n.split(":").pop(),r=Bt[n];return r&&t&&(e[n]=r((null==t?void 0:t.getAttribute("content"))||"")),e}),{});return Kt.refresh(),Wt(e=t,"type",Yt("og:type")),Wt(e,"section",zt("section")),Wt(e,"id",zt("id")),Wt(e,"authors",zt("author")),W(t),t}function z(e){return e.getTime().toString(36)}function J(e){return e?ut((function(){return new Date(parseInt(e,36))})):null}function $(e,t,n){return void 0===n&&(n=!1),{cookieName:e,consent:t=void 0===t?"optional":t,encode:function(e){return dt(e,n)},decode:function(e){return lt(e,!0)}}}function G(e){function t(e){return Xe(Xe({},d),at(e||{},nt))}function n(e,t){var n=e&&t;!p()&&n&&g(),p()&&!n&&v(),p()&&n&&!c&&g(),a=e,u=t}var r=e.cookieName,o=e.consent,i=qe.get(r),a=!!i,s=cn(i,e),c=!!s.fixedAt,u=a,l=null,d=Xe({},sn),f=null,p=function(){return a&&u},g=function(e){e=t(e);var n,o=l||(f?s.encode(f,e):"");o||(n=qe.get(r),o=(n=s.decode(n||""))?s.encode(n,e):""),o&&(c=!0,qe.set(r,o,s.bindOptions(e)))},v=function(e){qe.remove(r,t(e))};return s.onChange((function(){p()&&(c=!1,g())})),{get cookieName(){return r},get cookieEnabled(){return p()},get fixedAt(){return s.fixedAt},get consent(){return o},set:function(e,t){f=e,p()&&g(t)},get:function(){return s.decode(qe.get(r)||"")},remove:v,setCookieOptions:function(e){d=t(e),p()&&g()},setCookieEnabled:function(e,t){void 0===t&&(t=null),l=e?t:null,n(e,u)},lazyActive:function(){n(a,!0)},setFixedMode:function(e){s.setMode(e)}}}function Z(){function e(e,t,n){void 0===n&&(n=!1);var r=[];return et(t).forEach((function(o){var a=t[o],s=!i.has(o)||i.get(o)===e||n;a&&s?i.set(o,e):!a&&s?i.delete(o):r.push(o)})),0<r.length?r:null}var t=Nn(),n={},r=null,o=new Map,i=new Map,a=[];return function(s,c){var u=it();return o.set(u,s),c&&t.register(c),n=Xe(Xe({},t.get()),n),{getInitCookieData:function(){return n},getCachedData:function(){return r||Bn},setProtectionData:function(t){return e(u,t)},setProtectionDataUnsafe:function(t){return e(u,t,!0)},updateData:function(e){return s={},c={},et(o=e).forEach((function(e){i.has(e)?s[e]=(null==r?void 0:r[e])||null:c[e]=o[e]})),e=r||n,u=Xe(Xe({},r),c),Rn(u,e)||(t.set(u,e),r=u,a.forEach((function(e){return(0,e[1])(c)}))),0<et(s).length?s:null;var o,s,c,u},onUpdateData:function(e){a.push([u,e])},terminate:function(){var e;e=u,a=a.filter((function(t){return t[0]!==e})),o.delete(u)},setCookieOptions:function(){return null},setCookieEnabled:function(){return null},get registeredCookiesWrapper(){return t.wrappers}}}}function X(e){return et(e).filter(Hn).map((function(t){return Vn(t,e[t])}))}function Q(e,t){switch(e){case"opt-in":default:return!0;case"essential":return"essential"===t||"mandatory"===t;case"opt-out":return"mandatory"===t}}function ee(e){function t(e){return ut((function(){return window.localStorage.getItem(e)}))}var n=t(e),r=ut((function(){return parseInt(lt(t("_ls_ttl"))[e],36)}));return r&&r<=Date.now()?null:n}function te(e){var t=e&&e.length;return 16===t||36===t?e:null}function ne(e){var t,n=Xe(Xe({},Yn),Ot(null==(t=gt())?void 0:t.migration));et(n).forEach((function(t){var r=e.params.get(t),o=n[t]===Yn[t],i=(i=null==(i=n[t])?void 0:i.source)&&(null==(i=Wn[i])?void 0:i[t])||[];r&&i.length&&(i=qn(i))&&(r.readonly=!1,e.updateValues(t,i,!0),r.readonly=!o)}))}function re(){function e(e){return st(e,{path:String,domain:String,secure:ct,expires:function(e){return e instanceof Date?e:Number(e)},samesite:function(e){return ot(e)?e:ct(e)}})}var t=Xe({},window[pt]);return null!=t&&t.cookies&&(t.cookies=et(t.cookies).reduce((function(n,r){return n[r]=e(t.cookies[r]),n}),{})),null!=t&&t.cookieDefault&&(t.cookieDefault=e(t.cookieDefault)),t}function oe(e){function t(t){return t||(null==(t=e.get("consent"))?void 0:t.DL)||null}function n(t){var n,r=$n(),i=null==(n=e.getConnection())?void 0:n.registeredCookiesWrapper;i&&(n=et(i).map((function(e){return i[e].cookieName})),o(n,t).forEach((function(e){var t=e.name,n=e.allowed;e=e.data,n=n&&!r[t],i[t].setCookieEnabled(n,e||null)})))}var r=et(Ln).reduce((function(e,t){return e[t]=Ln[t].consent,e}),{}),o=Kn({items:r,type:"cookie",getConsent:t}),i=t();e.addChangeListener("consent",(function(e){e=(null==e?void 0:e.DL)||null,(null==i?void 0:i.mode)!==(null===e?void 0:e.mode)&&n(i=e)})),n(i)}function ie(){var e=null;return On((function(t){e=et(t).reduce((function(e,n){var r=t[n].cookieEnabled,o=t[n].fixedAt||null;return e[t[n].cookieName]=r?{enabled:r,fixedAt:o}:null,e}),{})})),e}function ae(){return{params:kn,getConnection:En,addChangeListener:de,get:ce,updateValues:In}}function se(e){var t=!1;et(e).forEach((function(n){var r,o=kn.get(n);o&&(r=e[n],yn[n]!==r)&&(yn[n]=r,t=!0,null!=(n=Cn.get(n)))&&n.forEach((function(e){return e(o.get(r))}))})),t&&Pn.forEach((function(e){return e(xn(yn))}))}function ce(e){var t=w(),n=ot(e),r=void 0===e?yn:n?((r={})[e]=yn[e],r):e.reduce((function(e,t){return kn.has(t)&&(e[t]=yn[t]),e}),{});return r=xn(r,(function(e,n){return e.cookieName&&t.add(e.cookieName),e.get(n)})),Sn(t.values()),n?r[e]:r}function ue(e,t){void 0===t&&(t=!1);var n=e;return tt(e)||(n=[e]),In(n.reduce((function(e,t){return e[t]=zn,e}),{}),void 0,t)}function le(e,t,n){n=(n=void 0!==n&&n)?En().setProtectionDataUnsafe:En().setProtectionData;var r,o=e;return ot(e)&&((r={})[e]=t,o=r),n(o)}function de(e,t){var n;ot(e)?null!=(n=Cn.get(e))&&n.add(t):Pn.add(e)}function fe(e,t,n){t.setProperty("event_collection_platform","js"),t.setProperty("event_collection_version",t.getConfiguration("version"));var o,i,a=new Date,c=(t.setProperty("device_timestamp_utc",a.getTime()),t.setProperty("device_local_hour",a.getTime()),t.setProperty("device_hour",a.getHours()),Gn.get("content"));for(o in c)if(Object.prototype.hasOwnProperty.call(c,o)){var u,l="createdAt"===o||"tags"===o?{createdAt:"content_publication_date",tags:"tags_array"}[o]:"content_".concat(o).replace(/[\w]([A-Z])/g,(function(e){return e[0]+"_"+e[1]})).toLowerCase(),d=r(t.events);try{for(d.s();!(u=d.n()).done;){var f=u.value,p=!1;if(t.hasProperty(l)){var g=t.properties[l].options.events;if(g)if(-1<g.indexOf(f.name))p=!0;else{var v,m=r(g);try{for(m.s();!(v=m.n()).done;){var h=v.value;if("*"===h.charAt(h.length-1)&&0===f.name.indexOf(h.substring(0,h.length-1))){p=!0;break}}}catch(o){m.e(o)}finally{m.f()}}else p=!0}var y=void 0!==f.data[l];p||y||e._privacy.call("isPropAllowed",l)&&(f.data[l]=c[o])}}catch(o){d.e(o)}finally{d.f()}}t.setProperty("has_access",Gn.get("userStatus")),t.setProperty("pageview_id",Gn.get("pageViewId")),t.setProperty("device_screen_width",window.screen.width),t.setProperty("device_screen_height",window.screen.height),t.setProperty("device_display_width",window.innerWidth||document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:""),t.setProperty("device_display_height",window.innerHeight||document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:""),a=function(e){var t,n=r(["-","_"]);try{for(n.s();!(t=n.n()).done;){var o,i=t.value;if(-1<e.indexOf(i))return[(o=e.split(i))[0],o.slice(1).join(i)]}}catch(e){n.e(e)}finally{n.f()}return["",""]}(window.navigator?window.navigator.language||window.navigator.userLanguage:""),t.setProperty("browser_language",a[0]),t.setProperty("browser_language_local",a[1]),t.setProperty("previous_url",document.referrer||""),document.title&&t.setProperty("page_title_html",document.title),!(a="true"===t.getConfiguration("addEventURL").toString())&&"withoutQS"!==t.getConfiguration("addEventURL")||t.setProperty("event_url_full",a?window.location.href.split("#")[0]:"".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname));try{e.getConfiguration("allowHighEntropyClientHints")?window.navigator.userAgentData.getHighEntropyValues(["architecture","bitness","brands","mobile","model","platform","platformVersion","uaFullVersion","fullVersionList"]).then((function(e){ge(t,e)})).finally((function(){s(e,t,n)})):(i={brands:window.navigator.userAgentData.brands,platform:window.navigator.userAgentData.platform,mobile:window.navigator.userAgentData.mobile},ge(t,i),s(e,t,n))}catch(o){s(e,t,n)}}function pe(e){return void 0!==e}function ge(e,t){var n=[{metric:"brands",property:"ch_ua"},{metric:"architecture",property:"ch_ua_arch"},{metric:"bitness",property:"ch_ua_bitness"},{metric:"fullVersionList",property:"ch_ua_full_version_list"},{metric:"mobile",property:"ch_ua_mobile"},{metric:"model",property:"ch_ua_model"},{metric:"platform",property:"ch_ua_platform"},{metric:"platformVersion",property:"ch_ua_platform_version"},{metric:"uaFullVersion",property:"ch_ua_full_version"}];if(pe(t))for(var r=0;r<n.length;r++)pe(t[n[r].metric])&&e.setProperty(n[r].property,t[n[r].metric])}function ve(e,t,n){function r(r){s(e,t,n,r)}t.options&&t.options.onBeforeBuild?t.options.onBeforeBuild(e,t,r):r()}function me(e,t,n){function r(r){s(e,t,n,r)}t.options&&t.options.onBeforeSend?t.options.onBeforeSend(e,t,r):r()}function he(e,t,n){e._privacy.call("filterEvents",t.events),e._privacy.call("filterProps",t.properties);for(var r=t.events,o=0;o<r.length;o++){e._privacy.call("filterProps",r[o].data,r[o].name);var i,a=e._privacy.call("getModeMetadata")||{};for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.setProperty(i,a[i])}s(e,t,n)}function ye(e,t,n){var o,i=[];for(o in t.properties)if(Object.prototype.hasOwnProperty.call(t.properties,o)){var a,c=!1,u=r(t.events);try{for(u.s();!(a=u.n()).done;){var l=a.value,d=!1,f=t.properties[o].options.events;if(f)if(-1<f.indexOf(l.name))d=!0;else{var p,g=r(f);try{for(g.s();!(p=g.n()).done;){var v=p.value;if("*"===v.charAt(v.length-1)&&0===l.name.indexOf(v.substring(0,v.length-1))){d=!0;break}}}catch(e){g.e(e)}finally{g.f()}}else d=!0;d&&(l.data[o]=t.properties[o].value,c=!0)}}catch(e){u.e(e)}finally{u.f()}c&&!t.properties[o].options.persistent&&i.push(o)}for(var m=0,h=i;m<h.length;m++)delete e._properties[h[m]];if(!t.getConfiguration("sendEmptyProperties")){var y,b=r(t.events);try{for(b.s();!(y=b.n()).done;){var _,w=y.value;for(_ in w.data)!Object.prototype.hasOwnProperty.call(w.data,_)||""!==w.data[_]&&void 0!==w.data[_]||delete w.data[_]}}catch(e){b.e(e)}finally{b.f()}}s(e,t,n)}function be(e,t,n){(e._privacy.call("getMode")!==e._privacy.modeEnum.OPTOUT||e._privacy.call("getMode")===e._privacy.modeEnum.OPTOUT&&t.getConfiguration("sendEventWhenOptout"))&&0<t.build.data.events.length&&Be.post(t.build.url,JSON.stringify(t.build.data)),s(e,t,n)}function _e(e,t,n){void 0!==t.properties.user_id?s(e,t,n):e.getUser((function(r){var o;null!==r&&(t.setProperty("user_id",r.id,o={persistent:!0}),t.setProperty("user_category",r.category,o),t.setProperty("user_recognition",!0,o)),s(e,t,n)}))}function we(e,t,n){e._storage.getItem(t.getConfiguration("storageVisitor"),(function(){var r;t.getConfiguration("isVisitorClientSide")&&(t.visitorId=t.getConfiguration("visitorId")||Gn.get("browserId"),t.getConfiguration("isLegacyPrivacy")||"opt-out"!==e.consent.getMode()||(t.visitorId="OPT-OUT"),r="OPT-OUT"!==t.visitorId&&"no-consent"!==t.visitorId&&"no-storage"!==t.visitorId&&t.visitorId!==t.getConfiguration("visitorId"),t.visitorId!==Gn.get("browserId"))&&r&&(t.visitorId=t.visitorId+"-NO"),s(e,t,n)}))}function Ce(e,t,n){function r(t){null!=(t=i(tr(n.dataLayer,n.items,e.getNames),t))&&t.forEach((function(t){t.allowed?t.data&&e.set(t.name,t.data):e.remove(t.name)}))}var o=Xn(n),i=er(n.dataLayer,{items:n.items,type:t,getConsent:o});return t=void 0===n.checkConsentOnInit&&n.enableAutoRemove,n.enableAutoRemove&&Qn(n,r),t&&r(o()),Object.assign({},e,{set:function(t,n,r){var o=i(t);null!=o&&o.allowed&&(o=null!=(o=o.data)?o:n,e.set.apply(null,r?[t,o,r]:[t,o]))},check:i})}function Pe(e,t){return{check:er(t.dataLayer,{items:t.items,type:e,getConsent:Xn(t)})}}function ke(e,t){var n;return n=t,window.pdl&&window.pdl.consent_items&&window.pdl.consent_items.PA&&window.pdl.consent_items.PA[n]&&Object.assign(e,window.pdl.consent_items.PA[t]),e}function Ee(e){this.storageKeys=["pa_vid","pa_user","pa_privacy","atuserid"],this.propertyConsent={},this.eventConsent={},this.storageConsent={},this.consentItems={propertyItems:{},eventItems:{},cookieItems:{}},this.modeMetadata={"opt-in":{visitor_privacy_consent:!0,visitor_privacy_mode:"optin"},"opt-out":{visitor_privacy_consent:!1,visitor_privacy_mode:"optout"},essential:{visitor_privacy_consent:!1,visitor_privacy_mode:"exempt"},custom:{visitor_privacy_consent:!1,visitor_privacy_mode:"custom"}},this.init=function(){this.consentItems={propertyItems:ke(ir,"properties"),eventItems:ke(or,"events"),cookieItems:ke(rr,"storages")},this.propertyConsent=nr.createProperty({dataLayer:Gn,productName:"PA",items:this.consentItems.propertyItems}),this.eventConsent=nr.createEvent({dataLayer:Gn,productName:"PA",items:this.consentItems.eventItems}),this.storageConsent=nr.createCookie({dataLayer:Gn,productName:"PA",items:this.consentItems.cookieItems}),e.getConfiguration("isLegacyPrivacy")||(this.initMode(),this.filterKeys())},this.initMode=function(){null===Gn.get("consent")&&(window.pdl.consent&&window.pdl.consent.defaultPreset?Gn.set("consent",0):this.setMode("opt-in"))},this.setMode=function(e){Gn.set("consent",{PA:{mode:e}}),this.filterKeys()},this.setPresets=function(e){Gn.set("consent",e),this.filterKeys()},this.getMode=function(){var e="opt-in",t=Gn.get("consent");return t&&t.PA&&t.PA.mode?Gn.get("consent").PA.mode:e},this.setCustomModeMetadata=function(e,t){this.modeMetadata.custom.visitor_privacy_mode=t||"custom",this.modeMetadata.custom.visitor_privacy_consent=e},this.getModeMetadata=function(){return this.modeMetadata[this.getMode()]||{}},this.getConsentItems=function(){return this.consentItems},this.isPropAllowed=function(e){return this.propertyConsent.check(e).allowed}.bind(this),this.isEventAllowed=function(e){return this.eventConsent.check(e).allowed}.bind(this),this.isKeyAllowed=function(e){return this.storageConsent.check(e).allowed}.bind(this),this.filterProps=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&!this.isPropAllowed(t)&&delete e[t]},this.filterEvents=function(e){for(var t=e.length-1;0<=t;t--)this.isEventAllowed(e[t].name)||e.splice(t,1)},this.filterKeys=function(){var t,n=r(this.storageKeys);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.isKeyAllowed(o)||e._storage.deleteItem(o)}}catch(t){n.e(t)}finally{n.f()}},this.setItem=function(t,n,r,o){this.isKeyAllowed(t)?e._storage.setItem(t,n,r,o):o&&o()},this.dl=Gn,this.init()}function Oe(e,t,n,r){var o=e[t[0]];return void 0===o||(1===t.length?(o.apply(r||e,n),!1):Oe(o,t.slice(1),n,r))}function Se(e,t,n,r){var o=n?null:e,i=t||[],a=!1,s=!1;if(0<i.length){for(var c=0;c<i.length;c++){var u=i[c];Oe(e,u[0].split("."),u.slice(1),o)?s=!0:a=!0}s&&a&&console.error("Piano Analytics SDK - window.".concat(r,' is used for Piano Analytics integration and somewhere else. Please check "queueVarName" configuration if needed.'))}n&&(window[r]={push:function(t){Oe(e,t[0].split("."),t.slice(1))}})}function Ae(e){function t(e,t,n,r){return n=a(t[n].events[e],r),t=a(t["*"].events[e],r),n||t}function n(e,t,n,r,o){var i;return o=o?(i=s(t[n].properties,e,r,o),s(t["*"].properties,e,r,o)):(i=c(t[n].properties,e,r),c(t["*"].properties,e,r)),i||o}function r(e,t,n,r){return n=u(t[n].storage,e,r),t=u(t["*"].storage,e,r),n||t}var o=e.getConfiguration("privacy"),i=(this.currentMode="",this.modes=o.modes,this._storageKeys=Object.assign(o.legacyKeys,o.storageKeys),this.init=function(){e.getConfiguration("isLegacyPrivacy")&&(window._pac=window._pac||{privacy:[]},Se(this,window._pac.privacy),e._storage.getItem(o.storageKey,function(t){this.setMode(t&&this.modes[t]?t:e.getConfiguration("privacyDefaultMode"))}.bind(this)))},this.setMode=function(t){t!==this.currentMode&&this.modes[t]&&(this.currentMode=t,e._storage.getItem(o.storageKey,function(n){"optout"===t||"no-consent"===t||"no-storage"===t?e.setConfiguration("visitorId",this.modes[t].visitorId):"OPT-OUT"!==e.getConfiguration("visitorId")&&"no-consent"!==e.getConfiguration("visitorId")&&"no-storage"!==e.getConfiguration("visitorId")||e.cfg.deleteProperty("visitorId"),this.filterProps(e._properties),this.filterKeys(),n!==t&&((n=new Date).setTime(n.getTime()+24*e.getConfiguration("storageLifetimePrivacy")*60*60*1e3),this.setItem(o.storageKey,t,n))}.bind(this)))},this.createMode=function(e,t){var n;this.modes[e]||((n=Re(this.modes.exempt)).name=e,n.properties.include.visitor_privacy_mode=e,n.properties.include.visitor_privacy_consent=t,this.modes[e]=n)},this.getMode=function(){return this.currentMode},function(e,t,n,r,o,i){var a=["*"],s=["*"],c="properties",u=r?"forbidden":"allowed";t&&(a="string"==typeof t?[t]:t),n&&(s="string"==typeof n?[n]:n),o&&(c="storage"),i&&(c="events");for(var l=0;l<a.length;l++)if(void 0!==this.modes[a[l]])for(var d=this.modes[a[l]],f=0;f<s.length;f++){var p=d[c][u];void 0!==p[s[f]]||o||i||(p[s[f]]={});for(var g=0;g<e.length;g++)o||i?p[e[g]]=!0:p[s[f]][e[g]]=!0}}.bind(this)),a=(this.include={properties:function(e,t,n){i(e,t,n)},property:function(e,t,n){i([e],t,n)},storageKeys:function(e,t){i(e,t,null,!1,!0)},storageKey:function(e,t){i([e],t,null,!1,!0)},events:function(e,t){i(e,t,null,!1,!1,!0)},event:function(e,t){i([e],t,null,!1,!1,!0)}},this.exclude={properties:function(e,t,n){i(e,t,n,!0)},property:function(e,t,n){i([e],t,n,!0)},storageKeys:function(e,t){i(e,t,null,!0,!0)},storageKey:function(e,t){i([e],t,null,!0,!0)},events:function(e,t){i(e,t,null,!0,!1,!0)},event:function(e,t){i([e],t,null,!0,!1,!0)}},function(e,t){if(e[t])return!0;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"*"===n.charAt(n.length-1)&&0===t.indexOf(n.substring(0,n.length-1)))return!0;return!1}),s=(this.isEventAllowed=function(e){var n=t("forbidden",this.modes,this.currentMode,e);return e=t("allowed",this.modes,this.currentMode,e),!n&&e},function(e,t,n,r){var o,i=e[t];if(i[r]&&i[r][n]||i["*"][n])return!0;for(o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&"*"===o.charAt(o.length-1)&&0===r.indexOf(o.substring(0,o.length-1))||o===r)for(var a in i[o])if(Object.prototype.hasOwnProperty.call(i[o],a)&&("*"===a.charAt(a.length-1)&&0===n.indexOf(a.substring(0,a.length-1))||n===a))return!0;return!1}),c=function(e,t,n){if("forbidden"===t&&e[t]["*"][n])return!0;for(var r in e[t])if(Object.prototype.hasOwnProperty.call(e[t],r)){if(e[t][r][n])return!0;for(var o in e[t][r])if("*"===o.charAt(o.length-1)&&0===n.indexOf(o.substring(0,o.length-1)))return!0}return!1},u=(this.isPropAllowed=function(e,t){var r=n("forbidden",this.modes,this.currentMode,e,t);return e=n("allowed",this.modes,this.currentMode,e,t),!r&&e},function(e,t,n){var r,o=e[t];if(o[n])return!0;for(r in o)if(Object.prototype.hasOwnProperty.call(o,r)&&"*"===r.charAt(r.length-1)&&0===n.indexOf(r.substring(0,r.length-1)))return!0;return!1});this.isKeyAllowed=function(e){var t=r("forbidden",this.modes,this.currentMode,e);return e=r("allowed",this.modes,this.currentMode,e),!t&&e},this.setItem=function(t,n,r,o){this.isKeyAllowed(t)?e._storage.setItem(t,n,r,o):o&&o()},this.filterProps=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!this.isPropAllowed(n,t||void 0)&&delete e[n]},this.filterKeys=function(){for(var t in this._storageKeys)Object.prototype.hasOwnProperty.call(this._storageKeys,t)&&!this.isKeyAllowed(t)&&e._storage.deleteItem(t)},this.filterEvents=function(e){for(var t=e.length-1;0<=t;t--)this.isEventAllowed(e[t].name)||e.splice(t,1)},this.getModeMetadata=function(){return this.modes[this.getMode()].properties.include},this.init()}function xe(e){this.modeEnum={OPTOUT:e.getConfiguration("isLegacyPrivacy")?"optout":"opt-out"},this.call=function(t){for(var n=e.getConfiguration("isLegacyPrivacy")?"privacy":"consent",r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e[n][t].apply(e[n],o)}}function Ie(e){var t=e.getConfiguration("storageUser");this.setUser=function(n,r,o){var i={id:n,category:r};e.setProperties({user_id:n,user_category:r,user_recognition:!1},{persistent:!0}),!1!==o&&((n=new Date).setTime(n.getTime()+24*e.getConfiguration("storageLifetimeUser")*60*60*1e3),e._privacy.call("setItem",t,i,n))},this.getUser=function(n){e._storage.getItem(t,(function(t){var r=t;!t&&e._properties.user_id&&(r={id:e._properties.user_id.value,category:e._properties.user_category.value}),n&&n(r)}))},this.deleteUser=function(n){e.deleteProperty("user_id"),e.deleteProperty("user_category"),e.deleteProperty("user_recognition"),e._storage.deleteItem(t,(function(){n&&n()}))}}function De(e){function n(){this.debugError={trigger:"AvInsights:Media:setContentValues:Error",level:"ERROR",messageObject:"Not an object"},this.processHeartbeatValue=function(e,t){return(e=parseInt(e,10))?Math.max(e,t):0},this.value2Number=function(e){var t=0;return isNaN(Number(e))||(t=Number(e)),Math.max(t,0)}}function r(e,t){var n;return e=e.length<2||":"!==e[1]?(n="",e):e.length<4||":"!==e[3]?(n=e.substring(0,1),e.substring(2,e.length)):(n=e.substring(0,3),e.substring(4,e.length)),t&&(n=n.toLowerCase(),e=e.toLowerCase()),{prefix:n,key:e}}function o(e){return null!==e&&"object"===t(e)&&!(e instanceof Array)}function i(e,t,n,a,u){var l,d,f,p="",g="",v="",m=0;for(f in e)if(Object.prototype.hasOwnProperty.call(e,f))if(p=(l=r(f,u)).prefix||a||"",g=(t?t+"_":"")+l.key,o(e[f]))i(e[f],g,n,p,u);else{for(d=g.split("_"),v="",m=0;m<d.length;m++)p=(l=r(d[m],u)).prefix||p,v+=l.key+(m<d.length-1?"_":"");n[g=v||g]=n[g]||{},n[g][s]=e[f],n[g][c]=p}}var a={minHeartbeat:e.getConfiguration("minHeartbeat"),minBufferingHeartbeat:e.getConfiguration("minBufferingHeartbeat")},s="_ATVALUE",c="_ATPREFIX";e.avInsights={},e.avInsights.Media=function(t,u,l){function d(e){e?_.delayBufferingConfiguration=Re(_.delayBufferingConfigurationBackup):_.delayConfiguration=Re(_.delayConfigurationBackup)}function f(e,t){if(t){k(e);var n,r={};for(n in o(t)?r=t:isNaN(t)?r=JSON.parse(t):r[0]=t,r)Object.prototype.hasOwnProperty.call(r,n)&&(e?_.delayBufferingConfiguration.push({delay:b.processHeartbeatValue(n,0),number:0,timeout:-1,refresh:b.processHeartbeatValue(r[n],a.minBufferingHeartbeat)}):_.delayConfiguration.push({delay:b.processHeartbeatValue(n,0),number:0,timeout:-1,refresh:b.processHeartbeatValue(r[n],a.minHeartbeat)}));E(e),P(e)}}function p(t,n,r,a){var u=Re(C);u.av_session_id={},u.av_session_id[s]=_.sessionId,u.av_session_id[c]="",n&&(S(u),_.previousEvent=t),o(a)&&i(a,null,u,null,!0),n=A(u),e.sendEvent(t,n,r)}function g(){var e=this,t=0,n=0;e.getEventDuration=function(){var e=(new Date).getTime()-t-n;return n+=e,e},e.initBaseTime=function(){0===t&&(t=(new Date).getTime())},e.resetProperties=function(){n=t=0},e.initHeartbeatTimer=function(e,t){var n=t?_.delayBufferingConfiguration:_.delayConfiguration;0<n.length&&(O(t),clearTimeout(n[0].timeout),n[0].timeout=setTimeout((function(){0===n[0].number&&n.splice(0,1),e&&e()}),1e3*n[0].refresh))},e.stopHeartbeatTimer=function(e){for(var t=e?_.delayBufferingConfiguration:_.delayConfiguration,n=0;n<t.length;n++)clearTimeout(t[n].timeout),t[n].timeout=-1}}function v(e,t,n,r,o){w.initBaseTime(),_.eventDuration=w.getEventDuration(),_.previousCursorPosition=_.currentCursorPosition,_.currentCursorPosition=e?_.previousCursorPosition+Math.floor(_.playbackSpeed*_.eventDuration):n,t&&w.initHeartbeatTimer((function(){v(!0,!0)}),!1),p("av.heartbeat",!0,r,o)}function m(e,t,n){w.initBaseTime(),_.eventDuration=w.getEventDuration(),e&&w.initHeartbeatTimer((function(){m(!0)}),!0),p("av.buffer.heartbeat",!0,t,n)}function h(e,t,n){w.initBaseTime(),_.eventDuration=w.getEventDuration(),_.previousCursorPosition=_.currentCursorPosition,e&&w.initHeartbeatTimer((function(){h(!0)}),!0),p("av.rebuffer.heartbeat",!0,t,n)}var y=this,b=new n,_=null,w=null,C=null,P=function(e){e?_.delayBufferingConfigurationBackup=Re(_.delayBufferingConfiguration):_.delayConfigurationBackup=Re(_.delayConfiguration)},k=function(e){e?(_.delayBufferingConfiguration=[],_.delayBufferingConfigurationBackup=[]):(_.delayConfiguration=[],_.delayConfigurationBackup=[])},E=function(e){(e?_.delayBufferingConfiguration:_.delayConfiguration).sort((function(e,t){return e.delay<t.delay?-1:e.delay>t.delay?1:0}))},O=function(e){var t;void 0===(t=void 0!==(e=e?_.delayBufferingConfiguration:_.delayConfiguration)[1]?e[1].delay:t)?e[0].number=1:0<e[0].number?e[0].number--:"number"==typeof t&&(e[0].number=Math.floor(60*(t-e[0].delay)/e[0].refresh)-1)},S=function(e){e.av_previous_position={},e.av_previous_position[s]=_.previousCursorPosition,e.av_previous_position[c]="",e.av_position={},e.av_position[s]=_.currentCursorPosition,e.av_position[c]="",e.av_duration={},e.av_duration[s]=_.eventDuration,e.av_duration[c]="",e.av_previous_event={},e.av_previous_event[s]=_.previousEvent,e.av_previous_event[c]=""},A=function(e){var t,n={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(Object.prototype.hasOwnProperty.call(e[t],s)?n[e[t][c]?"".concat(e[t][c],":").concat(t):t]=e[t][s]:n[t]=e[t]);return n};y.set=function(e,t){e=r(e,!0),C[e.key]=C[e.key]||{},C[e.key][s]=t,C[e.key][c]=e.prefix},y.get=function(e){var t=null;return e=r(e,!0),void 0!==C[e.key]?C[e.key][s]:t},y.del=function(e){e=r(e,!0),void 0!==C[e.key]&&delete C[e.key]},y.setProps=function(e){o(e)&&i(e,null,C,null,!0)},y.getProps=function(){var e,t=null
;for(e in C)Object.prototype.hasOwnProperty.call(C,e)&&((t=t||{})[e]=C[e][s]);return t},y.delProps=function(){C={}},y.setPlaybackSpeed=function(e){(e=b.value2Number(e)||_.playbackSpeed)!==_.playbackSpeed&&(w.stopHeartbeatTimer(!1),_.isPlaying&&(v(!0,!1),w.initHeartbeatTimer((function(){v(!0,!0)}),!1)),_.playbackSpeed=e)},y.getSessionID=function(){return _.sessionId},y.track=function(e,t,n,r){var o=t||{};switch(e){case"av.heartbeat":y.heartbeat(o.av_position,n,r);break;case"av.buffer.heartbeat":y.bufferHeartbeat(n,r);break;case"av.rebuffer.heartbeat":y.rebufferHeartbeat(n,r);break;case"av.play":y.play(o.av_position,n,r);break;case"av.buffer.start":y.bufferStart(o.av_position,n,r);break;case"av.start":y.playbackStart(o.av_position,n,r);break;case"av.resume":y.playbackResumed(o.av_position,n,r);break;case"av.pause":y.playbackPaused(o.av_position,n,r);break;case"av.stop":y.playbackStopped(o.av_position,n,r);break;case"av.backward":y.seekBackward(o.av_previous_position,o.av_position,n,r);break;case"av.forward":y.seekForward(o.av_previous_position,o.av_position,n,r);break;case"av.seek.start":y.seekStart(o.av_previous_position,n,r);break;case"av.error":y.error(o.av_player_error,n,r);break;default:p(e,!1,n,r)}},y.heartbeat=function(e,t,n){var r,o=!0;null!=e&&0<=e&&(o=!1,r=b.value2Number(e)),v(o,!1,r,t,n)},y.bufferHeartbeat=function(e,t){m(!1,e,t)},y.rebufferHeartbeat=function(e,t){h(!1,e,t)},y.play=function(e,t,n){w.initBaseTime(),e=b.value2Number(e),_.eventDuration=0,_.previousCursorPosition=e,_.currentCursorPosition=e,_.isPlaying=!1,_.isPlaybackActivated=!1,w.stopHeartbeatTimer(!1),w.stopHeartbeatTimer(!0),p("av.play",!0,t,n)},y.bufferStart=function(e,t,n){w.initBaseTime(),e=b.value2Number(e),_.eventDuration=w.getEventDuration(),_.previousCursorPosition=_.currentCursorPosition,_.currentCursorPosition=e,w.stopHeartbeatTimer(!1),w.stopHeartbeatTimer(!0),_.isPlaybackActivated?(w.initHeartbeatTimer((function(){h(!0)}),!0),p("av.rebuffer.start",!0,t,n)):(w.initHeartbeatTimer((function(){m(!0)}),!0),p("av.buffer.start",!0,t,n))},y.playbackStart=function(e,t,n){w.initBaseTime(),e=b.value2Number(e),_.eventDuration=w.getEventDuration(),_.previousCursorPosition=e,_.currentCursorPosition=e,_.isPlaying=!0,_.isPlaybackActivated=!0,w.stopHeartbeatTimer(!1),w.stopHeartbeatTimer(!0),w.initHeartbeatTimer((function(){v(!0,!0)}),!1),p("av.start",!0,t,n)},y.playbackResumed=function(e,t,n){w.initBaseTime(),e=b.value2Number(e),_.eventDuration=w.getEventDuration(),_.previousCursorPosition=_.currentCursorPosition,_.currentCursorPosition=e,_.isPlaying=!0,_.isPlaybackActivated=!0,w.stopHeartbeatTimer(!1),w.stopHeartbeatTimer(!0),w.initHeartbeatTimer((function(){v(!0,!0)}),!1),p("av.resume",!0,t,n)},y.playbackPaused=function(e,t,n){w.initBaseTime(),e=b.value2Number(e),_.eventDuration=w.getEventDuration(),_.previousCursorPosition=_.currentCursorPosition,_.currentCursorPosition=e,_.isPlaying=!1,_.isPlaybackActivated=!0,w.stopHeartbeatTimer(!1),w.stopHeartbeatTimer(!0),p("av.pause",!0,t,n)},y.playbackStopped=function(e,t,n){w.initBaseTime(),e=b.value2Number(e),_.eventDuration=w.getEventDuration(),_.previousCursorPosition=_.currentCursorPosition,_.currentCursorPosition=e,_.isPlaying=!1,_.isPlaybackActivated=!1,w.stopHeartbeatTimer(!1),w.stopHeartbeatTimer(!0),w.resetProperties(),d(!1),d(!0),p("av.stop",!0,t,n),_.previousCursorPosition=0,_.currentCursorPosition=0,_.eventDuration=0,_.previousEvent="",_.sessionId=Ve.v4()},y.seek=function(e,t,n,r){e=b.value2Number(e),(t=b.value2Number(t))<e?y.seekBackward(e,t,n,r):y.seekForward(e,t,n,r)},y.seekBackward=function(e,t,n,r){y.seekStart(e,null,r),_.eventDuration=0,_.previousCursorPosition=b.value2Number(e),_.currentCursorPosition=b.value2Number(t),p("av.backward",!0,n,r)},y.seekForward=function(e,t,n,r){y.seekStart(e,null,r),_.eventDuration=0,_.previousCursorPosition=b.value2Number(e),_.currentCursorPosition=b.value2Number(t),p("av.forward",!0,n,r)},y.seekStart=function(e,t,n){e=b.value2Number(e),_.previousCursorPosition=_.currentCursorPosition,_.currentCursorPosition=e,_.isPlaying?_.eventDuration=w.getEventDuration():_.eventDuration=0,p("av.seek.start",!0,t,n)},y.adClick=function(e,t){p("av.ad.click",!1,e,t)},y.adSkip=function(e,t){p("av.ad.skip",!1,e,t)},y.error=function(e,t,n){var r={};(r=o(n)?n:r).av_player_error=String(e),p("av.error",!1,t,r)},y.display=function(e,t){p("av.display",!1,e,t)},y.close=function(e,t){p("av.close",!1,e,t)},y.volume=function(e,t){p("av.volume",!1,e,t)},y.subtitleOn=function(e,t){p("av.subtitle.on",!1,e,t)},y.subtitleOff=function(e,t){p("av.subtitle.off",!1,e,t)},y.fullscreenOn=function(e,t){p("av.fullscreen.on",!1,e,t)},y.fullscreenOff=function(e,t){p("av.fullscreen.off",!1,e,t)},y.quality=function(e,t){p("av.quality",!1,e,t)},y.speed=function(e,t){p("av.speed",!1,e,t)},y.share=function(e,t){p("av.share",!1,e,t)},f(!(_={previousCursorPosition:0,currentCursorPosition:0,eventDuration:0,playbackSpeed:1,previousEvent:"",isPlaybackActivated:!1,isPlaying:!1,sessionId:"",delayConfiguration:[],delayConfigurationBackup:[],delayBufferingConfiguration:[],delayBufferingConfigurationBackup:[]}),t),f(!0,u),_.sessionId=l||Ve.v4(),w=new g,u="unload",l=function(){w.stopHeartbeatTimer(!1),w.stopHeartbeatTimer(!0)},(t=window).addEventListener?t.addEventListener(u,l,!1):t.attachEvent&&t.attachEvent("on"+u,l),C={}}}function je(e){var t,n,r=this;for(t in r.cfg=new o(Re(e)||Me),r.setConfiguration=r.cfg.setConfiguration,r.setConfigurations=r.cfg.setConfigurations,r.getConfiguration=r.cfg.getConfiguration,window._pac=window._pac||{privacy:[]},window._pac)Object.prototype.hasOwnProperty.call(window._pac,t)&&"privacy"!==t&&r.setConfiguration(t,window._pac[t]);this._storage=new Zn(this),this._queue=new i(this),this._properties={},this._sendEvent=Le,(e=this).setConfiguration("isLegacyPrivacy",!0),void 0===window.pdl?window.pdl={migration:{browserId:{source:"PA"}},cookies:{storageMode:"fixed"}}:window.pdl&&window.pdl.requireConsent&&e.setConfiguration("isLegacyPrivacy",!1),Gn.init({cookieDefault:{domain:e.getConfiguration("cookieDomain"),secure:e.getConfiguration("cookieSecure"),path:e.getConfiguration("cookiePath"),samesite:e.getConfiguration("cookieSameSite")},cookies:{_pcid:{expires:e.getConfiguration("storageLifetimeVisitor")}}}),e.privacy=new Ae(e),e.consent=new Ee(e),e._privacy=new xe(e),this.user=new Ie(this),De(this),n=(e=this).getConfiguration("queueVarName"),window[n]=window[n]||[],Se(e,window[n],!0,n)}function Le(e,t){for(var n=[he,we,_e,l,fe,ye,ve,c,me,be],r=0;r<e.length;r++){var i={name:"",data:{}};if("string"==typeof e[r])i.name=e[r];else{if(void 0!==e[r].data)continue;i.name=e[r].name}e[r]=i}var s;t={events:e,options:t},0<n.length&&"function"==typeof n[0]&&(s=new o(this.cfg.cloneData()),n[0](this,new a(this,t,s),n.slice(1)))}var Ne,Te,Me={site:"",collectDomain:"",path:"event",visitorStorageMode:"fixed",storageLifetimeVisitor:395,storageLifetimeUser:395,storageLifetimePrivacy:395,privacyDefaultMode:"optin",sendEventWhenOptout:!0,isVisitorClientSide:!0,enableCallbacks:!0,cookieDomain:"",cookieSecure:!0,cookiePath:"/",cookieSameSite:"lax",encodeStorageBase64:!1,addEventURL:"withoutQS",clickAutoManagement:!0,enableUTMTracking:!0,campaignPrefix:["at_"],storageVisitor:"pa_vid",storageUser:"pa_user",version:"6.10.0",minHeartbeat:5,minBufferingHeartbeat:1,queueVarName:"_paqueue",allowHighEntropyClientHints:!0,sendEmptyProperties:!0,privacy:{storageKey:"pa_privacy",legacyKeys:{pa_vid:!0,pa_privacy:!0,atuserid:!0},storageKeys:{pa_user:!0},modes:{optin:{name:"optin",properties:{include:{visitor_privacy_consent:!0,visitor_privacy_mode:"optin"},allowed:{"*":{"*":!0}},forbidden:{"*":{}}},storage:{allowed:{"*":!0},forbidden:{}},events:{allowed:{"*":!0},forbidden:{}}},optout:{name:"optout",visitorId:"OPT-OUT",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"optout"},allowed:{"*":{}},forbidden:{"*":{}}},storage:{allowed:{pa_vid:!0,pa_privacy:!0},forbidden:{}},events:{allowed:{"*":!0},forbidden:{}}},"no-consent":{name:"no-consent",visitorId:"no-consent",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"no-consent"},allowed:{"*":{}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{"*":!0}},events:{allowed:{"*":!0},forbidden:{}}},"no-storage":{name:"no-storage",visitorId:"no-storage",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"no-storage"},allowed:{"*":{"*":!0}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{"*":!0}},events:{allowed:{"*":!0},forbidden:{}}},exempt:{name:"exempt",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"exempt"},allowed:{"*":{app_crash:!0,app_crash_class:!0,app_crash_screen:!0,app_version:!0,browser:!0,browser_cookie_acceptance:!0,browser_group:!0,browser_version:!0,click:!0,click_chapter1:!0,click_chapter2:!0,click_chapter3:!0,click_full_name:!0,connection_monitor:!0,connection_organisation:!0,date:!0,date_day:!0,date_daynumber:!0,date_month:!0,date_monthnumber:!0,date_week:!0,date_year:!0,date_yearofweek:!0,device_brand:!0,device_display_height:!0,device_display_width:!0,device_name:!0,device_name_tech:!0,device_screen_diagonal:!0,device_screen_height:!0,device_screen_width:!0,device_type:!0,event_collection_platform:!0,event_collection_version:!0,event_hour:!0,event_id:!0,event_minute:!0,event_position:!0,event_second:!0,event_time:!0,event_time_utc:!0,event_url:!0,event_url_domain:!0,event_url_full:!0,exclusion_cause:!0,exclusion_type:!0,geo_city:!0,geo_continent:!0,geo_country:!0,geo_metro:!0,geo_region:!0,goal_type:!0,hit_time_utc:!0,os:!0,os_group:!0,os_version:!0,os_version_name:!0,page:!0,page_chapter1:!0,page_chapter2:!0,page_chapter3:!0,page_duration:!0,page_full_name:!0,page_position:!0,page_title_html:!0,page_url:!0,pageview_id:!0,previous_url:!0,privacy_status:!0,site:!0,site_env:!0,site_id:!0,site_platform:!0,src:!0,src_detail:!0,src_direct_access:!0,src_organic:!0,src_organic_detail:!0,src_portal_domain:!0,src_portal_site:!0,src_portal_site_id:!0,src_portal_url:!0,src_referrer_site_domain:!0,src_referrer_site_url:!0,src_referrer_url:!0,src_se:!0,src_se_category:!0,src_se_country:!0,src_type:!0,src_url:!0,src_url_domain:!0,src_webmail:!0}},forbidden:{"*":{}}},storage:{allowed:{pa_vid:!0,pa_privacy:!0,atuserid:!0},forbidden:{}},events:{allowed:{"click.exit":!0,"click.navigation":!0,"click.download":!0,"click.action":!0,"page.display":!0},forbidden:{}}},"*":{properties:{allowed:{"*":{connection_type:!0,device_timestamp_utc:!0,visitor_privacy_consent:!0,visitor_privacy_mode:!0,"ch_ua*":!0}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{}},events:{allowed:{},forbidden:{}}}}}},Re=function e(n,r){if("object"!==t(n)||null===n||n instanceof Date)return n;var o,i=new n.constructor;for(o in n)!Object.prototype.hasOwnProperty.call(n,o)||void 0===o||r&&void 0===n[o]||(i[o]=e(n[o]));return i},Be={post:function(e,t){var n=!1;!(n=window.navigator&&"function"==typeof window.navigator.sendBeacon?window.navigator.sendBeacon(e,t):n)&&window.fetch&&window.fetch(e,{method:"POST",body:t,headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},Ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",He={encodeURIComponent:window.encodeURIComponent,utf8:{encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):t=127<r&&r<2048?(t+=String.fromCharCode(r>>6|192))+String.fromCharCode(63&r|128):(t=(t+=String.fromCharCode(r>>12|224))+String.fromCharCode(r>>6&63|128))+String.fromCharCode(63&r|128)}return t},decode:function(e){var t,n,r,o="",i=0;for(t=0;i<e.length;)(r=e.charCodeAt(i))<128?(o+=String.fromCharCode(r),i++):191<r&&r<224?(t=e.charCodeAt(i+1),o+=String.fromCharCode((31&r)<<6|63&t),i+=2):(t=e.charCodeAt(i+1),n=e.charCodeAt(i+2),o+=String.fromCharCode((15&r)<<12|(63&t)<<6|63&n),i+=3);return o}},base64:{encode:function(e){var t,n,r,o,i,a,s="",c=0;for(e=He.utf8.encode(e);c<e.length;)r=(t=e.charCodeAt(c++))>>2,o=(3&t)<<4|(t=e.charCodeAt(c++))>>4,i=(15&t)<<2|(n=e.charCodeAt(c++))>>6,a=63&n,isNaN(t)?i=a=64:isNaN(n)&&(a=64),s=s+Ue.charAt(r)+Ue.charAt(o)+Ue.charAt(i)+Ue.charAt(a);return s},decode:function(e){var t,n,r,o,i,a,s="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)r=Ue.indexOf(e.charAt(c++)),t=(15&(o=Ue.indexOf(e.charAt(c++))))<<4|(i=Ue.indexOf(e.charAt(c++)))>>2,n=(3&i)<<6|(a=Ue.indexOf(e.charAt(c++))),s+=String.fromCharCode(r<<2|o>>4),64!=i&&(s+=String.fromCharCode(t)),64!=a&&(s+=String.fromCharCode(n));return He.utf8.decode(s)}}},Ve=(Ne=window.crypto||window.msCrypto,{v4:function(){try{if(null!==Ne&&"object"===t(Ne))return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^Ne.getRandomValues(new Uint32Array(1))[0]&15>>e/4).toString(16)}))}catch(e){console.error(e)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}),Fe=function(e){function t(e){e&&r.setDate(r.getDate()+e)}var n,r=new Date;return e instanceof Date?r=e:"number"==typeof e?t(e):(n=e.days,e=e.minutes,t(n),e&&r.setMinutes(r.getMinutes()+e)),r},Ke=function(e){e=e.replace(/\+/g," ").replace(/^\s+|\s+$/g,"");try{return decodeURIComponent(e)}catch(t){return e}},qe=(Te="_cookie_test",{set:p,get:v,getNames:function(){var e=[];return g((function(t){e.push(t)})),e},remove:m,getTopLevelDomain:function(e){void 0===e&&(e=[]);var t=window.location.hostname.split("."),n=(new Date).getTime().toString(36)+Math.round(2147483647*Math.random()).toString(36),r=new Date;r.setSeconds(r.getSeconds()+30);for(var o=0;o<t.length;o++)try{var i=t.slice(-(o+1)).join(".");if(!e.includes(i)){p(Te,n,{expires:r,path:"/",domain:i});var a=v(Te)===n;if(m(Te,{path:"/",domain:i}),a)return i}}catch(e){}},__private__:{_generateCookieString:f}});We="_ls_ttl",Ye=function(){try{var e=window.localStorage.getItem(We);return e?JSON.parse(e):null}catch(e){return null}},ze=function(e){try{Object.keys(e).length?window.localStorage.setItem(We,JSON.stringify(e)):window.localStorage.removeItem(We)}catch(e){}},h();var We,Ye,ze,Je,$e,Ge={get:function(e){var t;h();try{return null!=(t=window.localStorage.getItem(e))?t:null}catch(e){return null}},set:function(e,t,n){if(r=e,n=(n=void 0===n?{}:n).expires,o=Ye(),void 0===n?(null!=o&&o[r]&&(delete o[r],ze(o)),1):(n=Fe(n).getTime())>Date.now()&&((o=o||{})[r]=n.toString(36),ze(o),1))try{window.localStorage.setItem(e,t)}catch(e){}var r,o},getNames:y,remove:function(e){try{window.localStorage.removeItem(e)}catch(e){}h()},expires:h,__protected__:{get ttlName(){return We}}},Ze={get:function(e){try{return window.sessionStorage.getItem(e)}catch(e){return null}},set:function(e,t){try{window.sessionStorage.setItem(e,t)}catch(e){}},getNames:function(){try{return Object.keys(window.sessionStorage)}catch(e){return[]}},remove:function(e){try{window.sessionStorage.removeItem(e)}catch(e){}}},Xe=function(){return(Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Qe=b("anon"),et=function(e){return Object.keys(e)},tt=function(e){return Array.isArray(e)},nt=function(e){return null!=e},rt=function(e){return"object"===t(e)},ot=function(e){return"string"==typeof e},it=function(){for(var e=(new Date).getTime().toString(36);e.length<16;)e+=Math.round(2147483647*Math.random()).toString(36);return e.substr(0,16)},at=function(e,t){return e&&et(e).filter((function(n){return t(e[n])})).reduce((function(t,n){return Xe(Xe({},t),((t={})[n]=e[n],t))}),{})},st=function(e,t){return rt(e)?et(e).reduce((function(n,r){var o,i=e[r];return void 0!==(o=(o=t[r])&&o(i))&&(n[r]=o),n}),{}):e},ct=function(e){return"true"===e||!0===e},ut=function e(t,n){try{return t()}catch(t){return n?e(n):null}},lt=function(e,t){return void 0===t&&(t=!1),ut((function(){return JSON.parse(e)}),(function(){return t?JSON.parse(window.atob(e)):null}))||null},dt=function(e,t){void 0===t&&(t=!1);var n=JSON.stringify(e);return ut((function(){return t?window.btoa(n):n}))||n},ft=Xe(Xe({},b(null)),{init:function(e){return k(e||null)},refresh:k,set:function(e,t){return null===e?null:at(Xe(Xe({},t),e),(function(e){return null!==e}))}}),pt="pdl",gt=function(){return window[pt]||{}},vt=Xe(Xe({},_()),{init:function(e,t){return t({protect:!0}),gt().pageViewId||it()},refresh:E,update:E,set:function(e,t,n){return n({protect:!0}),e}}),mt=Xe(Xe({},b(null,"_pcid")),{init:function(e,t){return t({protect:!0}),e||it()},update:function(e,t){return t({protect:!0}),it()},set:function(e,t,n){return n({protect:!0}),e}}),ht=["PA","DMP","COMPOSER","ID","VX","ESP","Social Flow","DL"].map((function(e,t){return{name:e,id:t}})),yt=ht.reduce((function(e,t,n){return t=t.name,Xe(Xe({},e),((e={})[t]=n,e[t.toLowerCase()]=n,e))}),{}),bt=["opt-in","opt-out","essential"],_t=["include","exclude","obfuscate"],wt=function(e,t){return'"'.concat(e,'" should be one of ').concat(t.join(", "))},Ct=function(){},Pt=function(e){return bt.includes(e)?e:null},kt=function(e,t){void 0===t&&(t=Ct);var n=e.source;return e=e.patches||[],Pt(n)||(t(wt("source",bt)),n="opt-in"),tt(e)||(t('"patches" should be an array'),e=[]),{source:n,patches:e=e.reduce((function(e,n,r){var o,i;return!rt(n)||tt(n)?t("patch[".concat(r,"]: should be type of {action, item, with?}")):(o=n.action,i=n.item,_t.includes(o)?i&&rt(i)&&i.key&&i.type?e.push(n):t("patch[".concat(r,']: "item" should be type of {key, type}')):t("patch[".concat(r,"]: ")+wt("action",_t))),e}),[])}},Et=C(A),Ot=function(e,t){return void 0===t&&(t=Ct),et(e||{}).reduce((function(n,r){var o=null==e?void 0:e[r],i=S((null==o?void 0:o.source)||"",t);return n[r]=Xe(Xe({},o),{source:i}),n}),{})},St=["opt-in","essential","opt-out"].reduce((function(e,t,n){return Xe(Xe({},e),((e={})[n]=t,e))}),{}),At=[[0,0,0,0,0,0,0,0],[0,0,2,2,2,2,2,0],[1,2,2,2,2,2,2,1],[0,2,0,2,2,2,0,0],[1,2,2,2,2,2,1,1],[2,0,0,2,2,2,2,0],[2,0,2,2,2,2,2,0],[2,2,2,2,2,2,0,2],[2,2,0,0,0,0,2,0],[2,2,1,2,1,2,2,1],[2,2,1,1,2,2,2,1]],xt=At.map((function(e,t){return{id:t,preset:x(e)}})),It=P((function(){var e;return null==(e=Et(gt().consent))?void 0:e.defaultPreset})),Dt=(Je=xt,function(){return It((function(e){Je=xt.slice(),e&&(Je[0]={id:0,preset:Xe({},Je[0].preset)},et(e).forEach((function(t){var n=e[t];t=yt[t],Je[0].preset[t]={mode:n}})))})),Je}),jt=P((function(){var e;return null==(e=Et(gt().consent))?void 0:e.products})),Lt=($e=ht,function(){return jt((function(e){$e=e?ht.filter((function(t){return e.includes(t.name)||"DL"===t.name})):ht})),$e}),Nt=Xe(Xe({},b(null,"_pprv")),{init:function(e){return j()&&e?L(Xe(Xe({},I()),e)):null},set:function(e,t){var n,r,o;return j()?null!=e&&(n="number"==typeof e?(null==(n=Dt()[e])?void 0:n.preset)||null:tt(e)?(o=null,e.forEach((function(e){var t=At[e];!o&&t?o=t:o&&t&&(o=o.map((function(e,n){return void 0===t[n]?e:Math.min(e,t[n])})))})),o&&x(o)):et(r=e).reduce((function(e,t){var n=r[t],o=Number(t);return Number.isNaN(o)&&void 0===(o=yt[t.toLowerCase()])||(t=n.mode,!["opt-in","essential","opt-out","custom"].includes(t))?e:Xe(Xe({},e),((t={})[o]={mode:n.mode},t))}),null))?L(Xe(Xe({},t),n)):t:null},get:C((function(e){return e&&et(e).reduce((function(t,n){var r,o=ht[Number(n)].name;return"custom"===(n=Xe({},e[Number(n)])).mode&&(n.modifier=(null==(r=D())?void 0:r[o])||null),t[o]=n,t}),{})}),D)}),Tt=Xe(Xe({},_()),{init:Dt,set:Dt}),Mt=Xe(Xe({},_()),{init:Lt,set:Lt}),Rt=Xe(Xe({},_(null)),{readonly:!0,set:function(){return null},get:D}),Bt={id:M,type:M,zone:M,createdAt:N,modifiedAt:N,authors:T,section:M,tags:T,keywords:T,title:M,description:M,isNative:ct},Ut=function(e){return"first"===e},Ht=function(e){return"last"===e};Vt=null;var Vt,Ft,Kt={refresh:function(){(Vt=R()||null)&&setTimeout((function(){Vt=null}),0)},find:function(e,t){return void 0===t&&(t=!1),Vt?Vt.reduce((function(n,r){for(var o=0,i=e;o<i.length;o++){var a=(("name"===(a=i[o])?r.name:r.getAttribute(a))||"").trim().toLowerCase(),s=r.content;if(a&&(!t||s)){n[a]||(n[a]=[]),n[a].push(r);break}}return n}),{}):null}},qt=function(e){for(var t=0,n=e;t<n.length;t++){var r;if(r=B(r=n[t]))return r}},Wt=function(e,t,n){var r,o=Bt[t];!Boolean(e[t])&&o&&(o=(r=("function"==typeof n?n:function(){return(tt(n)?qt:B)(n)})())&&o(r))&&(e[t]=o)},Yt=function(e){return{attr:["property"],names:[e]}},zt=function(e){return{names:[e]}},Jt={januar:"01",january:"01",jan:"01",februar:"02",february:"02",feb:"02",mars:"03",march:"03",mar:"03",april:"04",apr:"04",mai:"05",may:"05",juni:"06",june:"06",jun:"06",juli:"07",july:"07",jul:"07",august:"08",aug:"08",september:"09",sept:"09",sep:"09",oktober:"10",october:"10",okt:"10",oct:"10",november:"11",nov:"11",desember:"12",december:"12",dec:"12",des:"12"},$t=["\\bDAY\\.MONTH\\.YEAR\\b","\\bDAY\\.?\\s{0,3}MONTHLONG\\.?\\s{1,3}YEAR\\b","\\bYEAR-MONTH-DAY(?:[tT]|\\b)","\\bMONTHLONG\\.?\\s{0,3}DAY(?:st|nd|rd|th)?,?\\s{1,3}YEAR\\b","\\bDAY(?:st|nd|rd|th|\\.)?\\s{0,3}MONTHLONG\\.?,?\\s{1,3}YEAR\\b","\\bYEAR[/\u5e74]MONTH[/\u6708]DAY(?=\\b|\u65e5)","\\bDAY\\.MONTH\\.YEAR2\\b","\\bDAY/MONTH/YEAR\\b"].map(U),Gt=U("YEAR-MONTH-DAY[tT]TIME")[0],Zt=function(e){return e.replace(/<\/?[^>?]*\/?>/g," ").replace(/\s+/g," ").trim()},Xt=[K({attr:["name","property","itemprop"],names:["cxenseparse:publishtime","cxenseparse:recs:publishtime","article:published_time","date","dc.date","dc.date.created","dc.terms.issued","pub_date","article.published","datepublished","og:article:published_time"]}),K({selector:"time.published[datetime],time[pubdate][datetime]",getContent:function(e){return e.getAttribute("datetime")}}),K({selector:"time[datetime]",getContent:function(e){return e.getAttribute("datetime")}})],Qt={selector:'meta[property="article:modified_time"]'},en=[{attr:["property","name"],names:["cxenseparse:author","og:article:author","article:author","og:book:author","book:author","author","dc.creator","article.author"],take:"all",getContent:function(e){var t=e.getAttribute("data-separator");return e=e.content,t?F(e).split(t):F((t=void 0===(t=e)?"":t).replace(/\n+/,";").replace(/(\<|&lt;)br(\>|&gt;)/,";").replace(/\b(and|und|og)\b/g,";")).split(/[,;]/)}}],tn=[q({names:["cxenseparse:keywords"]}),q({attr:["property","name"],names:["news_keywords"]}),q({names:["keywords"]})],nn=[q({names:["cxenseparse:description"]}),q({attr:["property"],names:["og:description"]}),q({names:["description"]})],rn=[{names:["cxenseparse:title"]},K({attr:["property","name"],names:["og:title"]})],on=Xe(Xe({},_(null)),{init:Y,set:function(e,t){return null===e?{}:at(Xe(Xe({},t),e),(function(e){return null!=e}))}}),an=Xe(Xe({},b(null,"_pcus")),{init:function(e){return(e=void 0===e?null:e)&&at(e,(function(e){return rt(e)&&Array.isArray(e.segments)}))}}),sn=(vt={pageViewId:vt,browserId:mt,users:ft,userStatus:Qe,siteId:b(),consent:Nt,consentPresets:Tt,products:Mt,consentModifiers:Rt,content:on,userSegments:an},{path:"/",expires:395,samesite:"lax",secure:"https:"===window.location.protocol,domain:qe.getTopLevelDomain(["pantheon.io","go-vip.net","go-vip.co"])}),cn=function(e,t){function n(e){return a=a||function(e){var t=new Date;if(e instanceof Date)t=e;else{if("number"!=typeof e)return null;t.setDate(t.getDate()+e)}return t}(e.expires)}var r=t.encode,o=t.decode,i=!1,a=null,s=null,c=null;return(t=null==(t=o(e||""))?void 0:t._t)&&(t=t.split("|"),a=J(t[0]),s=J(t[1]),i=!!a),{get fixedAt(){return i?[s,a]:null},onChange:function(e){c=e},setMode:function(e){var t=i;(i=e)!==t&&(s=a=null)!=c&&c(i)},bindOptions:function(e){return i&&(a=n(e))?Xe(Xe({},e),{expires:a}):e},decode:function(e){return null!=(e=o(e))&&e._t&&delete e._t,e},encode:function(e,t){return i?(a=n(t))&&(e._t=z(a)+"|"+z(s=s||new Date)):delete e._t,r(e)}}},un=String.fromCharCode,ln="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",dn={};(Ft=Ft||{}).URI="URI";var fn,pn,gn,vn,mn,hn,yn,bn,_n,wn,Cn,Pn,kn,En,On,Sn,An,xn,In,Dn={URI:{prefix:"{u}",compress:function(e){if(null==e)return"";var t=e,n=6,r=function(e){return ln.charAt(e)};if(null==t)return"";for(var o,i,a,s,c={},u={},l="",d=2,f=3,p=2,g=[],v=0,m=0,h=0;h<t.length;h+=1)if(a=t.charAt(h),Object.prototype.hasOwnProperty.call(c,a)||(c[a]=f++,u[a]=!0),s=l+a,Object.prototype.hasOwnProperty.call(c,s))l=s;else{if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(o=0;o<p;o++)v<<=1,m==n-1?(m=0,g.push(r(v)),v=0):m++;for(i=l.charCodeAt(0),o=0;o<8;o++)v=v<<1|1&i,m==n-1?(m=0,g.push(r(v)),v=0):m++,i>>=1}else{for(i=1,o=0;o<p;o++)v=v<<1|i,m==n-1?(m=0,g.push(r(v)),v=0):m++,i=0;for(i=l.charCodeAt(0),o=0;o<16;o++)v=v<<1|1&i,m==n-1?(m=0,g.push(r(v)),v=0):m++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete u[l]}else for(i=c[l],o=0;o<p;o++)v=v<<1|1&i,m==n-1?(m=0,g.push(r(v)),v=0):m++,i>>=1;0==--d&&(d=Math.pow(2,p),p++),c[s]=f++,l=String(a)}if(""!==l){if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(o=0;o<p;o++)v<<=1,m==n-1?(m=0,g.push(r(v)),v=0):m++;for(i=l.charCodeAt(0),o=0;o<8;o++)v=v<<1|1&i,m==n-1?(m=0,g.push(r(v)),v=0):m++,i>>=1}else{for(i=1,o=0;o<p;o++)v=v<<1|i,m==n-1?(m=0,g.push(r(v)),v=0):m++,i=0;for(i=l.charCodeAt(0),o=0;o<16;o++)v=v<<1|1&i,m==n-1?(m=0,g.push(r(v)),v=0):m++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete u[l]}else for(i=c[l],o=0;o<p;o++)v=v<<1|1&i,m==n-1?(m=0,g.push(r(v)),v=0):m++,i>>=1;0==--d&&(d=Math.pow(2,p),p++)}for(i=2,o=0;o<p;o++)v=v<<1|1&i,m==n-1?(m=0,g.push(r(v)),v=0):m++,i>>=1;for(;;){if(v<<=1,m==n-1){g.push(r(v));break}m++}return g.join("")},decompress:function(e){if(null==e)return"";if(""==e)return null;for(var t,n,r,o,i,a,s=(e=e.replace(/ /g,"+")).length,c=32,u=function(t){var n=ln;if(t=e.charAt(t),!dn[n]){dn[n]={};for(var r=0;r<n.length;r++)dn[n][n.charAt(r)]=r}return dn[n][t]},l=[],d=4,f=4,p=3,g="",v=[],m={val:u(0),position:c,index:1},h=0;h<3;h+=1)l[h]=h;for(n=0,o=Math.pow(2,2),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;switch(n){case 0:for(n=0,o=Math.pow(2,8),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;a=un(n);break;case 1:for(n=0,o=Math.pow(2,16),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;a=un(n);break;case 2:return""}for(t=l[3]=a,v.push(a);;){if(s<m.index)return"";for(n=0,o=Math.pow(2,p),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;switch(a=n){case 0:for(n=0,o=Math.pow(2,8),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;l[f++]=un(n),a=f-1,d--;break;case 1:for(n=0,o=Math.pow(2,16),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;l[f++]=un(n),a=f-1,d--;break;case 2:return v.join("")}if(0==d&&(d=Math.pow(2,p),p++),l[a])g=l[a];else{if(a!==f)return null;g=t+t.charAt(0)}v.push(g),l[f++]=t+g.charAt(0),t=g,0==--d&&(d=Math.pow(2,p),p++)}}}},jn=et(Dn).reduce((function(e,t){return e[Dn[t].prefix]=Dn[t],e}),{}),Ln=(mt={cookieName:"_pctx",consent:"mandatory",encode:function(e,t){return void 0===t&&(t=Ft.URI),e=JSON.stringify(e),e=Dn[t].compress(e),Dn[t].prefix+e},decode:function(e){return e=function(e){var t=e.slice(0,3);if(e=e.slice(3),!jn[t])return null;if(!(t=jn[t].decompress(e)))return null;try{return JSON.parse(t)}catch(e){return null}}(e||""),rt(e)?e:null}},{_pprv:$("_pprv","mandatory",!(null!=(ft=null==(ft=gt().cookies)?void 0:ft._pprv)&&ft.jsonOnly)),_pcid:$("_pcid","essential"),_pcus:$("_pcus","optional",!0),_pctx:mt}),Nn=(Qe=et(fn=Ln).reduce((function(e,t){return e[t]=G(fn[t]),e}),{}),function(){var e=null,t=null;return{register:function(n){return e=Xe(Xe({},n.fields),e),t=Xe(Xe({},n.cookieByName),t)},get wrappers(){return t},get:function(){var e={};return t&&et(t).forEach((function(n){e=Xe(Xe({},e),t[n].get())})),e},set:function(n,r){void 0===r&&(r=null);var o={};et(n).forEach((function(i){var a=n[i],s=null==e?void 0:e[i];s&&(o[s]||(o[s]={wrapper:null==t?void 0:t[s],data:{},update:!1}),o[s].data[i]=a,r&&(o[s].update||a===r[i])||(o[s].update=!0))})),et(o).forEach((function(e){var t=o[e],n=t.wrapper;t.update&&n.set(o[e].data)}))}}}),Tn="__pctx_connection__",Mn="uvm42pas28m",Rn=function(e,t){var n,r;return e===t||(e&&t?(n=et(e),r=et(t),n.length===r.length&&!n.some((function(n){return e[n]!==t[n]}))):null)},Bn={},Un=(void 0===pn&&(pn=!1),function(e,t){var n=Z();try{Object.defineProperty(window,Tn,{configurable:pn,set:function(e){var t=e();t===Mn?e(n):"mrlqf5trgho"===t&&(n=Z())}})}catch(e){}return window[Tn]=function(e){return e&&(n=e),Mn},n(e,t)}),Hn=function(e){return e.includes("*")},Vn=function(e,t){return[new RegExp("^"+e.replace(/\*/g,".*")+"$"),t]},Fn=function(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o[0].test(e))return o[1]}return null},Kn=function(e){function t(e){return n[e]||Fn(e,r)||"optional"}var n=Object.assign({},e.items),r=X(n);return function(n,r){function o(){return l.map((function(e){return{name:e,allowed:!c}}))}var i,a,s,c=gt().requireConsent,u=!tt(n),l=u?[n]:n;return n=(s=r||e.getConsent())?"custom"===s.mode?(i=function(e,t,n){if(!(t=t&&kt(t,n)))return null;for(var r=[],o={},i=0,a=t.patches;i<a.length;i++){var s,c=(s=a[i]).action,u=s.with;(s=s.item).type===e&&(o[s.key]=c={action:c,data:void 0===u?null:u},Hn(s.key))&&r.push(Vn(s.key,c))}return{source:t.source,getModifier:function(e){return o[e]||Fn(e,r)}}}(e.type,s.modifier,e.log))?(a=i.source,l.map((function(e){var n=i.getModifier(e),r=(r=null==n?void 0:n.action,o=null==n?void 0:n.data,"obfuscate"===r?o:null),o={name:e,allowed:null!=n&&n.action?function(e){switch(e){case"include":case"obfuscate":return!0;case"exclude":return!1}}(n.action):Q(a,t(e))};return null!==r&&(o.data=r),o}))):o():l.map((function(e){return{name:e,allowed:Q(s.mode,t(e))}})):o(),u?n[0]:n}},qn=(Nt=Object.freeze({__proto__:null,createCheckConsentWrapper:Kn,createMask:Vn,getByMask:Fn,isMask:Hn,itemsToMask:X}),gn={pa_vid:function(e){return te(lt(e||"",!0)||e)},atuserid:function(e){return te((null==(e=lt(e||"",!0))?void 0:e.val)||"")}},function(e){for(var n=0,r=e;n<r.length;n++){var o=function(e){try{var t=e.ls?ee(e.ls)||null:(n=qe.get(e),gn[e]&&n?gn[e](n):n);if(t)return{value:t}}catch(e){}var n}(r[n]);if("object"===t(o))return o.value}return null}),Wn=(Tt=[{ls:"_cX_P"},"cX_P"],{PA:{browserId:["pa_vid","atuserid"].concat(Tt)},DMP:{browserId:Tt}}),Yn={browserId:{source:"DMP"}},zn=(Mt="@@Data-layer/")+"update_value",Jn=Mt+"refresh_value",$n=function(){return{_pprv:!gt().requireConsent}},Gn=(mn=function(e){oe(e),ne(e)},Rt=Rt=Qe,bn={fields:et(hn=vn=vt).reduce((function(e,t){var n=hn[t].cookieName;return null!==n&&(e[t]=n),e}),{}),cookieByName:Rt},_n=Un("data-layer",bn),wn=!1,Cn=new Map,Pn=new Set,kn=new Map,En=function(){if(_n)return _n;throw new Error("DataLayer can't be connected")},On=function(e){var t=En().registeredCookiesWrapper;t&&e(t)},Sn=function(e){On((function(t){e.forEach((function(e){(e=t[e])&&e.lazyActive()}))}))},An=function(){function e(e){return et(t).reduce((function(n,r){var o=t[r];return void 0!==o[e]&&(n[r]=o[e]),n}),{})}var t={};return{add:function(e,n){t[e]=n},call:function(){var t;t=e("protect"),0<et(t).length&&En().setProtectionData(t),t=e("protectUnsafe"),0<et(t).length&&En().setProtectionDataUnsafe(t)}}},xn=function(e,t){return et(e).reduce((function(n,r){var o=kn.get(r),i=e[r];return o&&(n[r]=t?t(o,i):o.get(i)),n}),{})},In=function(e,t,n){void 0===n&&(n=!1);var r,o=e,i=w(),a=(ot(e)&&((r={})[e]=t,o=r),An()),s=An();return o=et(o).reduce((function(e,t){var n=o[t],r=kn.get(t),c=t;return null!=r&&r.readonly||(r&&r.cookieName&&i.add(r.cookieName),r&&n!==yn[t]&&(n===Jn?(e[t]=r.refresh(yn[t],(function(e){s.add(c,e)})),e[t]!==yn[t]&&a.add(c,{protectUnsafe:!1})):e[t]=n===zn?r.update(yn[t],(function(e){s.add(c,e)})):r.set(n,yn[t],(function(e){s.add(c,e)})))),e}),{}),Sn(i.values()),a.call(),(e=En().updateData(o))&&n&&(t=et(e).reduce((function(e,t){return Xe(Xe({},e),((e={})[t]=!1,e))}),{}),En().setProtectionDataUnsafe(t),En().updateData(o)),s.call(),e&&xn(e)},{init:function(e){var t,n,r,o,i,a;void 0===e&&(e={}),wn||(_n=_n||Un("data-layer",bn),t=Xe(Xe({},e),re()),n=t.cookieDefault,On((function(e){et(e).forEach((function(r){var o,i,a=e[r].cookieName,s=null==(s=t.cookies)?void 0:s[a];a="fixed"===(null==(a=t.cookies)?void 0:a.storageMode),null!=(i=(o=e[r]).setFixedMode)&&i.call(o,a),(n||s)&&e[r].setCookieOptions(Xe(Xe({},n),s))}))})),wn=!0,et(vn).forEach((function(e){var t=vn[e];Cn.set(e,new Set),kn.set(e,t)})),r=!1,o=En().getInitCookieData(),i=En().getCachedData(),a=An(),e=et(vn).reduce((function(e,t){var n=t,s=vn[t];return e[t]=(null==i?void 0:i[n])||s.init(null==o?void 0:o[n],(function(e){a.add(n,e)})),null!=i&&i[n]||(r=!0),e}),{}),yn=e,r&&En().updateData(e),a.call(),En().onUpdateData(se),null!=mn&&mn(ae()))},set:function(e,t){return In(e,t,!1)},get:ce,
update:function(e){return ue(e)},refresh:function(){var e,t;return!En().setProtectionData(((t={})["@@Data-layer/refresh_locked_key"]=!0,t))&&(e=[],kn.forEach((function(t,n){return e.push(n)})),t=e.reduce((function(e,t){return e[t]=Jn,e}),{}),In(t),!0)},protect:function(e,t){return le(e,t)},addChangeListener:de,removeChangeListener:function(e){Pn.delete(e),Cn.forEach((function(t){return t.delete(e)}))},terminate:function(){null!=_n&&_n.terminate(),Cn.clear(),Pn.clear(),_n=null,wn=!1,yn={}},updateMigration:function(){wn&&ne(ae())},get isReady(){return wn},utils:{validateModifier:kt,validateConsent:A,checkConsent:Nt},get cookies(){return ie()},get cookieEnabled(){return ie()},setUnsafe:function(e,t){In(e,t,!0)},protectUnsafe:function(e,t){return le(e,t,!0)},updateUnsafe:function(e){return ue(e,!0)},setCookieEnabled:function(e){On((function(t){var n=et(e);n.length?n.forEach((function(n){var r=t[n];r&&r.setCookieEnabled(e[n])})):et(t).forEach((function(n){t[n].setCookieEnabled(e)}))}))}}),Zn=function(e){this.setItem=function(t,n,r,o){t="".concat(t,"=").concat(e.getConfiguration("encodeStorageBase64")?He.base64.encode(JSON.stringify(n)):encodeURIComponent(JSON.stringify(n))),t=(t=(t=(t=(t+=";path=".concat(e.getConfiguration("cookiePath")))+";domain=".concat(e.getConfiguration("cookieDomain")))+(e.getConfiguration("cookieSecure")?";secure":""))+";samesite=".concat(e.getConfiguration("cookieSameSite")))+(r?";expires=".concat(r.toUTCString()):""),document.cookie=t,o&&o()},this.getItem=function(e,t){var n=null;if(e=new RegExp("(?:^| )".concat(e,"=([^;]+)")).exec(document.cookie)||null)try{n=JSON.parse(decodeURIComponent(e[1]))}catch(t){n=JSON.parse(He.base64.decode(e[1]))}t&&t(n)},this.deleteItem=function(e,t){var n=new Date;n.setTime(n.getTime()-1e3),this.setItem(e,"",n,t)}},Xn=function(e){return function(){var t=e.dataLayer.get("consent");return t&&t[e.productName]||null}},Qn=function(e,t){function n(n){(n=(null==n?void 0:n[e.productName])||null)!==r&&t(r=n)}var r=null;return e.dataLayer.addChangeListener("consent",n),function(){e.dataLayer.removeChangeListener(n)}},er=function(e,t){return e.utils.checkConsent.createCheckConsentWrapper(t)},tr=function(e,t,n){var r=e.utils.checkConsent,o=r.itemsToMask(t),i=Object.keys(t).filter((function(e){return!r.isMask(e)}));return n().filter((function(e){return i.includes(e)||r.getByMask(e,o)}))},nr={createLocalStorage:function(e){function t(){(s=a())||Ge.remove(i)}n=e.dataLayer,i=Ge.__protected__.ttlName,o=er((n={dataLayer:n,productName:"DL"}).dataLayer,{items:((r={})[i]="mandatory",r),type:"localStorage",getConsent:Xn(n)}),a=function(){var e=o(i);return e.allowed&&!e.data},s=!0,Qn(n,t),t();var n,r,o,i,a,s,c=function(){return s},u=Ce(Ge,"localStorage",e);return Object.assign({},u,{set:function(e,t,n){var r=n;return null!=n&&n.expires&&!c()&&delete(r=Object.assign({},n)).expires,u.set(e,t,r)}})},createProperty:function(e){return Pe("property",e)},createCookie:function(e){function t(t){null!=(t=u(tr(e.dataLayer,s,qe.getNames),t))&&t.forEach((function(e){function t(){return i[e.name]||r.getByMask(e.name,a)||c}e.allowed?e.data&&qe.set(e.name,e.data,t()):qe.remove(e.name,t())}))}var n,r=e.dataLayer.utils.checkConsent,o=Xn(e),i={},a=[],s={},c={},u=(Object.keys(e.items).forEach((function(t){var n,o,c,u,l=e.items[t];l.type?(n=l.type,o=l.domain,c=l.path,u={},s[t]=n,o&&(u.domain=o),c&&(u.path=c),r.isMask(t)?a.push(r.createMask(t,u)):i[t]=u):s[t]=l})),er(e.dataLayer,{items:s,type:"cookie",getConsent:o}));return n=!(void 0!==e.checkConsentOnInit||!e.enableAutoRemove),e.enableAutoRemove&&(c=e.enableAutoRemove,Qn(e,t)),n&&t(o()),Object.assign({},qe,{check:u,set:function(e,t,n,r){var o=u(e);null!=o&&o.allowed&&qe.set(e,null!=(e=o.data)?e:t,n,r)}})},createSessionStorage:function(e){return Ce(Ze,"sessionStorage",e)},createEvent:function(e){return Pe("event",e)}},rr={"*":"optional",pa_vid:"mandatory",pa_privacy:"mandatory",atuserid:"essential"},or={"click.exit":"mandatory","click.navigation":"mandatory","click.download":"mandatory","click.action":"mandatory","page.display":"mandatory"},ir={"*":"optional",connection_type:"mandatory",device_timestamp_utc:"mandatory",visitor_privacy_consent:"mandatory",visitor_privacy_mode:"mandatory",ch_ua:"mandatory",ch_ua_arch:"mandatory",ch_ua_bitness:"mandatory",ch_ua_full_version:"mandatory",ch_ua_full_version_list:"mandatory",ch_ua_mobile:"mandatory",ch_ua_model:"mandatory",ch_ua_platform:"mandatory",ch_ua_platform_version:"mandatory",app_crash:"essential",app_crash_class:"essential",app_crash_screen:"essential",app_version:"essential",browser:"essential",browser_cookie_acceptance:"essential",browser_group:"essential",browser_version:"essential",click:"essential",click_chapter1:"essential",click_chapter2:"essential",click_chapter3:"essential",click_full_name:"essential",connection_monitor:"essential",connection_organisation:"essential",date:"essential",date_day:"essential",date_daynumber:"essential",date_month:"essential",date_monthnumber:"essential",date_week:"essential",date_year:"essential",date_yearofweek:"essential",device_brand:"essential",device_display_height:"essential",device_display_width:"essential",device_name:"essential",device_name_tech:"essential",device_screen_diagonal:"essential",device_screen_height:"essential",device_screen_width:"essential",device_type:"essential",event_collection_platform:"essential",event_collection_version:"essential",event_hour:"essential",event_id:"essential",event_minute:"essential",event_position:"essential",event_second:"essential",event_time:"essential",event_time_utc:"essential",event_url:"essential",event_url_domain:"essential",event_url_full:"essential",exclusion_cause:"essential",exclusion_type:"essential",geo_city:"essential",geo_continent:"essential",geo_country:"essential",geo_metro:"essential",geo_region:"essential",goal_type:"essential",hit_time_utc:"essential",os:"essential",os_group:"essential",os_version:"essential",os_version_name:"essential",page:"essential",page_chapter1:"essential",page_chapter2:"essential",page_chapter3:"essential",page_duration:"essential",page_full_name:"essential",page_position:"essential",page_title_html:"essential",page_url:"essential",pageview_id:"essential",previous_url:"essential",privacy_status:"essential",site:"essential",site_env:"essential",site_id:"essential",site_platform:"essential",src:"essential",src_detail:"essential",src_direct_access:"essential",src_organic:"essential",src_organic_detail:"essential",src_portal_domain:"essential",src_portal_site:"essential",src_portal_site_id:"essential",src_portal_url:"essential",src_referrer_site_domain:"essential",src_referrer_site_url:"essential",src_referrer_url:"essential",src_se:"essential",src_se_category:"essential",src_se_country:"essential",src_type:"essential",src_url:"essential",src_url_domain:"essential",src_webmail:"essential"};je.prototype.setProperty=function(e,t,n){this._privacy.call("isPropAllowed",e)&&(this._properties[e]={value:t,options:n||{}})},je.prototype.setProperties=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.setProperty(n,e[n],t)},je.prototype.deleteProperty=function(e){delete this._properties[e]},je.prototype.sendEvent=function(e,t,n){this._queue.push(["_sendEvent",[{name:e,data:t}],n])},je.prototype.sendEvents=function(e,t){this._queue.push(["_sendEvent",e,t])},je.prototype.getVisitorId=function(e){var t,n=this.getConfiguration("visitorId")||null;if(n=n||Gn.get("browserId"),(t=e)&&t(n),void 0===e)return n},je.prototype.setVisitorId=function(e){this.setConfiguration("visitorId",e);var t=new Date;t.setTime(t.getTime()+24*this.getConfiguration("storageLifetimeVisitor")*60*60*1e3),this._privacy.call("setItem",this.getConfiguration("storageVisitor"),e,t,(function(){Gn.updateMigration()}))},je.prototype.setUser=function(e,t,n){this.user.setUser(e,t,n)},je.prototype.getUser=function(e){this.user.getUser(e)},je.prototype.deleteUser=function(){this.user.deleteUser()},(je.prototype.PA=je).prototype.refresh=function(){Gn.refresh()},je.prototype.setContentProperty=function(e,t){var n={};"content_publication_date"===e||"tags_array"===e?n[{content_publication_date:"createdAt",tags_array:"tags"}[e]]=t:n[e]=t,Gn.set("content",n)},je.prototype.setContentProperties=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.setContentProperty(t,e[t])},on=new je(Me),window&&!window.pa&&(window.pa=on),an=on,e.pianoAnalytics=an,Object.defineProperty(e,"__esModule",{value:!0})}({}),window.pa=pa,_satellite.track("Piano Loaded")}}}]},{id:"RLd3352ca2ca9745fd9d3e990beb826d60",name:"SDK NEW | Piano - 001 - Initialize Piano Tracker - DC: Piano Loaded [50] - runs when smarttags.js has loaded (Special collectDomain for swisspass)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Piano Loaded"},ruleOrder:50}],conditions:[],actions:[{modulePath:"fm-sbb-dlc/src/lib/actions/synchronousCode.js",settings:{callback:function(){pa.setConfigurations({site:_satellite.getVar("customScript.ATILevel1"),collectDomain:"https://logs1407.xiti.com",addEventURL:"true",sendEventWhenOptout:"true"})}}}]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}function n(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function r(e){var t={exports:{}};return e(t,t.exports),t.exports}function o(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function i(e){return Boolean(e&&void 0!==e.length)}function a(){}function s(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void d(t.promise,e)}l(t.promise,r)}else(1===e._state?l:d)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void f(e);if("function"==typeof n)return void g(s(n,t),e)}e._state=1,e._value=t,f(e)}catch(t){d(e,t)}}function d(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function g(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(e){if(n)return;n=!0,d(t,e)}}function v(e){return!0===He(e)&&"[object Object]"===Object.prototype.toString.call(e)}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function y(e){return e.substr(0,e.indexOf("["))}function b(e,t,n){if(e.length&&Ve(t)){var r=e[0];if(1!==e.length){var o=e.slice(1);if(!h(r))return b(o,t[r],n);var i=t[r=y(r)];Array.isArray(i)&&i.forEach((function(e){return b(o,e,n)}))}else t.hasOwnProperty(r)&&"string"==typeof t[r]&&(t[r]=n(t[r]))}}if(window.atob){var _=document,w=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,k=t()?Object.assign:function(t){for(var n,r,o=e(t),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))C.call(n,a)&&(o[a]=n[a]);if(w){r=w(n);for(var s=0;s<r.length;s++)P.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o},E=k,O=window,S=function(e,t,n,r){var o,i=Boolean(t&&Array.isArray(n)),a=Boolean(i&&e),s=document.createElement("a");if(i){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=O.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var u=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw u.code="dynamic_host_not_allowed",u}}var l=function(){if(null!=o)return o;if(a){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),o=s.protocol+"//"+e}else o="";return o},d=function(e){return a&&"string"==typeof e?[l(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},f={getTurbineHost:l,decorateWithDynamicHost:d,get isDynamicEnforced(){return i}};return O&&r.onDebugChanged((function(e){e?O.dynamicHostResolver=f:delete O.dynamicHostResolver})),f},A=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},x="debug",I=function(e,t){var n=function(){return"true"===e.getItem(x)},r=function(t){e.setItem(x,t)},o=[],i=function(e){o.push(e)};return t.outputEnabled=n(),{onDebugChanged:i,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(r(e),t.outputEnabled=e,o.forEach((function(t){t(e)})))}}},D="Module did not export a function.",j=function(e,t,n){return function(r,o,i){i=i||[];var a=e.getModuleExports(r.modulePath);if("function"!=typeof a)throw new Error(D);var s=e.getModuleDefinition(r.modulePath),c=r.settings||{};!r.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,r.modulePath),r.hasTransformedFilePaths=!0);var u=t(c,o);return a.bind(null,u).apply(null,i)}},L=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},N={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},T="\ud83d\ude80",M=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":T,R=!1,B=function(e){if(R&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(M),e!==N.DEBUG||window.console[e]||(e=N.INFO),window.console[e].apply(window.console,t)}},U=B.bind(null,N.LOG),H=B.bind(null,N.INFO),V=B.bind(null,N.DEBUG),F=B.bind(null,N.WARN),K=B.bind(null,N.ERROR),q=function(){var e=R;R=!0,B.apply(null,Array.prototype.concat(N.WARN,Array.prototype.slice.call(arguments))),e||(R=!1)},W={log:U,info:H,debug:V,warn:F,error:K,deprecation:q,get outputEnabled(){return R},set outputEnabled(e){R=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:U.bind(null,t),info:H.bind(null,t),debug:V.bind(null,t),warn:F.bind(null,t),error:K.bind(null,t)}}},Y="com.adobe.reactor.",z=function(e,t){var n=Y+(t||"");return{getItem:function(t){try{return O[e].getItem(n+t)}catch(e){return null}},setItem:function(t,r){try{return O[e].setItem(n+t,r),!0}catch(e){return!1}}}},J="dataElements.",$=z("sessionStorage",J),G=z("localStorage",J),Z={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},X={},Q=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},ee={setValue:function(e,t,n){var r;switch(t){case Z.PAGEVIEW:return void(X[e]=n);case Z.SESSION:return void((r=Q(n))&&$.setItem(e,r));case Z.VISITOR:return void((r=Q(n))&&G.setItem(e,r))}},getValue:function(e,t){var n;switch(t){case Z.PAGEVIEW:return X.hasOwnProperty(e)?X[e]:null;case Z.SESSION:return null===(n=$.getItem(e))?n:JSON.parse(n);case Z.VISITOR:return null===(n=G.getItem(e))?n:JSON.parse(n)}}},te=function(e,t,n,r){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(r?"\n"+r:"")},ne=function(e,t,n,r,o){return function(i,a){var s=t(i);if(!s)return r?"":void 0;var c,u,l=s.storageDuration;try{c=e.getModuleExports(s.modulePath),u=e.getModuleDefinition(s.modulePath)}catch(e){return void W.error(te(s,i,e.message,e.stack))}if("function"==typeof c){var d,f=s.settings||{};!s.hasTransformedFilePaths&&u.filePaths&&(o(f,u.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{d=c(n(f,a),a)}catch(e){return void W.error(te(s,i,e.message,e.stack))}return l&&(null!=d?ee.setValue(i,l,d):d=ee.getValue(i,l)),null==d&&null!=s.defaultValue&&(d=s.defaultValue),"string"==typeof d&&(s.cleanText&&(d=L(d)),s.forceLowerCase&&(d=d.toLowerCase())),d}W.error(te(s,i,"Module did not export a function."))}},re={text:function(e){return e.textContent},cleanText:function(e){return L(e.textContent)}},oe=function(e,t,n){for(var r,o=e,i=0,a=t.length;i<a;i++){if(null==o)return;var s=t[i];if(n&&"@"===s.charAt(0)){var c=s.slice(1);o=re[c](o)}else if(o.getAttribute&&(r=s.match(/^getAttribute\((.+)\)$/))){var u=r[1];o=o.getAttribute(u)}else o=o[s]}return o},ie=function(e,t,n){return function(r,o){var i;if(t(r))i=n(r,o);else{var a=r.split("."),s=a.shift();"this"===s?o&&(i=oe(o.element,a,!0)):"event"===s?o&&(i=oe(o,a)):"target"===s?o&&(i=oe(o.target,a)):i=oe(e[s],a)}return i}},ae=function(e,t){return function(n){var r=n.split(".")[0];return Boolean(t(n)||"this"===r||"event"===r||"target"===r||e.hasOwnProperty(r))}},se=function(e,t,n){var r={exports:{}};return e.call(r.exports,r,r.exports,t,n),r.exports},ce=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{r(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");W.error(t)}}))},r=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=se(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,r,o,i){var a={definition:n,extensionName:r,require:o,turbine:i};a.require=o,e[t]=a},hydrateCache:n,getModuleExports:r,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ue=!1,le=function(e){return function(t,n){var r=e._monitors;r&&(ue||(W.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),ue=!0),r.forEach((function(e){e[t]&&e[t](n)})))}},de=function(e,t,n){var r,o,i,a,s=[],c=function(r,o,i){if(!e(o))return r;s.push(o);var a=t(o,i);return s.pop(),null==a&&n?"":a};return r=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},o=function(e,t){for(var n={},r=Object.keys(e),o=0;o<r.length;o++){var i=r[o],s=e[i];n[i]=a(s,t)}return n},i=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++)n.push(a(e[r],t));return n},a=function(e,t){return"string"==typeof e?r(e,t):Array.isArray(e)?i(e,t):"object"==typeof e&&null!==e?o(e,t):e},function(e,t){return s.length>10?(W.error("Data element circular reference detected: "+s.join(" -> ")),e):a(e,t)}},fe=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ge=setTimeout;c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(a);return u(this,new p(e,t,n)),n},c.prototype.finally=o,c.all=function(e){return new c((function(t,n){function r(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(t){r(e,t)}),n)}o[e]=i,0==--a&&t(o)}catch(e){n(e)}}if(!i(e))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);for(var a=o.length,s=0;s<o.length;s++)r(s,o[s])}))},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!i(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)c.resolve(e[r]).then(t,n)}))},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){ge(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var ve=n(Object.freeze({__proto__:null,default:c})),me="undefined"!=typeof window&&window.Promise||void 0!==pe&&pe.Promise||ve.default||ve,he=function(e,t,n){return function(r,o,i,a){return a.then((function(){var a,s=r.delayNext;return new me((function(t,n){var o=e(r,i,[i]);if(!s)return t();var c=r.timeout,u=new me((function(e,t){a=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));me.race([o,u]).then(t,n)})).catch((function(e){return clearTimeout(a),e=t(e),n(r,o,e),me.reject(e)})).then((function(){clearTimeout(a)}))}))}},ye=function(e,t,n,r,o){return function(i,a,s,c){return c.then((function(){var c;return new me((function(t,n){var r=e(i,s,[s]),o=i.timeout,a=new me((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+o/1e3+" seconds to complete. "))}),o)}));me.race([r,a]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),r(i,a,e),me.reject(e)})).then((function(e){if(clearTimeout(c),!n(i,e))return o(i,a),me.reject()}))}))}},be=me.resolve(),_e=function(e,t,n){return function(r,o){return r.conditions&&r.conditions.forEach((function(t){be=e(t,r,o,be)})),r.actions&&r.actions.forEach((function(e){be=t(e,r,o,be)})),be=(be=be.then((function(){n(r)}))).catch((function(){}))}},we=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},Ce=function(e,t,n,r){return function(o,i){var a;if(o.conditions)for(var s=0;s<o.conditions.length;s++){a=o.conditions[s];try{var c=e(a,i,[i]);if(we(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(a,c))return n(a,o),!1}catch(e){return r(a,o,e),!1}}return!0}},Pe=function(e,t){return function(n,r){e(n,r)&&t(n,r)}},ke=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},Ee=function(e){return function(t){var n=t.rule,r=t.event,o=e.getModuleDefinition(r.modulePath).name;return{$type:e.getModuleExtensionName(r.modulePath)+"."+o,$rule:{id:n.id,name:n.name}}}},Oe=function(e,t,n,r,o,i){return function(a,s){var c=s.rule,u=s.event;u.settings=u.settings||{};try{var l=o(s);t(u,null,[function(t){var r=n(l,t);a((function(){e(r,c)}))}])}catch(e){i.error(r(u,c,e))}}},Se=function(e,t,n,r){return function(o,i,a){var s=t(o);n.error(e(s,i.name,a)),r("ruleActionFailed",{rule:i,action:o})}},Ae=function(e,t,n,r){return function(o,i,a){var s=t(o);n.error(e(s,i.name,a)),r("ruleConditionFailed",{rule:i,condition:o})}},xe=function(e,t,n){return function(r,o){var i=e(r);t.log('Condition "'+i+'" for rule "'+o.name+'" was not met.'),n("ruleConditionFailed",{rule:o,condition:r})}},Ie=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},De=function(e,t,n){return function(r,o){var i;if(r.actions)for(var a=0;a<r.actions.length;a++){i=r.actions[a];try{e(i,o,[o])}catch(e){return void t(i,r,e)}}n(r)}},je=function(e,t,n,r){return function(o,i){r("ruleTriggered",{rule:i}),e?n(i,o):t(i,o)}},Le=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Ne=function(e,t){return t&&!e.negate||!t&&e.negate},Te=[],Me=!1,Re=function(e){Me?e():Te.push(e)},Be=function(e,t,n){e(t).forEach((function(e){n(Re,e)})),Me=!0,Te.forEach((function(e){e()})),Te=[]},Ue=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},He=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Ve=function(e){var t,n;return!1!==v(e)&&("function"==typeof(t=e.constructor)&&(!1!==v(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},Fe=function(e,t){return Ve(t=t||{})?t=E({},t,e):E(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return W.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ke=function(e,t){return function(n,r){var o=e[n];if(o){var i=o.modules;if(i)for(var a=Object.keys(i),s=0;s<a.length;s++){var c=a[s],u=i[c];if(u.shared&&u.name===r)return t.getModuleExports(c)}}}},qe=function(e,t){return function(){return t?e(t):{}}},We=function(e,t,n){return function(r){if(n){var o=r.split(".");o.splice(o.length-1||1,0,"min"),r=o.join(".")}return e(t)+r}},Ye=".js",ze=function(e){return e.substr(0,e.lastIndexOf("/"))},Je=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},$e=function(e,t){Je(t,Ye)||(t+=Ye);var n=t.split("/"),r=ze(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?r.length&&r.pop():r.push(e))})),r.join("/")},Ge=r((function(e){!function(t){if(e.exports=t(),!!0){var n=window.Cookies,r=window.Cookies=t();r.noConflict=function(){return window.Cookies=n,r}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[u]=c,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}return n((function(){}))}))})),Ze={get:Ge.get,set:Ge.set,remove:Ge.remove},Xe=function(e,t){return new me((function(n,r){t.onload=function(){n(t)},t.onerror=function(){r(new Error("Failed to load script "+e))}}))},Qe=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Xe(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},et=function(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var c=0;c<s;++c){var u,l,d,f,p=e[c].replace(i,"%20"),g=p.indexOf(n);g>=0?(u=p.substr(0,g),l=p.substr(g+1)):(u=p,l=""),d=decodeURIComponent(u),f=decodeURIComponent(l),m(o,d)?Array.isArray(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o},tt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},nt=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var o=encodeURIComponent(tt(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return o+encodeURIComponent(tt(e))})).join(t):o+encodeURIComponent(tt(e[r]))})).join(t):r?encodeURIComponent(tt(r))+n+encodeURIComponent(tt(e)):""},rt=r((function(e,t){t.decode=t.parse=et,t.encode=t.stringify=nt})),ot="@adobe/reactor-",it={cookie:Ze,document:_,"load-script":Qe,"object-assign":E,promise:me,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),rt.parse(e)},stringify:function(e){return rt.stringify(e)}},window:O},at=function(e){return function(t){if(0===t.indexOf(ot)){var n=t.substr(ot.length),r=it[n];if(r)return r}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},st=function(e,t,n,r,o,i,a){var s=e.extensions,c=e.buildInfo,u=e.environment,l=e.property.settings;if(s){var d=Ke(s,t);Object.keys(s).forEach((function(f){var p=s[f],g=p.settings;Array.isArray(p.filePaths)&&(g=i(g,p.filePaths));var v=qe(r,g);if(p.modules){var m=W.createPrefixedLogger(p.displayName),h=We(a,p.hostedLibFilesBaseUrl,c.minified),y={buildInfo:c,environment:u,property:{name:e.property.name,id:e.property.id},getDataElementValue:o,getExtensionSettings:v,getHostedLibFileUrl:h,getSharedModule:d,logger:m,propertySettings:l,replaceTokens:r,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(p.modules).forEach((function(e){var n=p.modules[e],r=at((function(n){var r=$e(e,n);return t.getModuleExports(r)}));t.registerModule(e,n,f,r,y)}))}})),t.hydrateCache()}return t},ct=function(e,t,n,r,o){var i=W.createPrefixedLogger("Custom Script");e.track=function(e){W.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=i,e.notify=function(e,t){switch(W.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=r,e.setVar=o,e.setCookie=function(e,t,n){var r="",o={};n&&(r=", { expires: "+n+" }",o.expires=n);var i='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+r+").";W.deprecation(i),Ze.set(e,t,o)},e.readCookie=function(e){return W.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),Ze.get(e)},e.removeCookie=function(e){W.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),Ze.remove(e)},e.cookie=Ze,e.pageBottom=function(){},e.setDebug=n;var a=!1;Object.defineProperty(e,"_container",{get:function(){return a||(W.warn("_satellite._container may change at any time and should only be used for debugging."),a=!0),t}})},ut=function(e,t){return function(n,r,o){return e&&Ve(n)&&Object.keys(n).length&&Array.isArray(r)&&r.length?(r.forEach((function(e){Boolean(null!=o&&/^core\/.*actions.*\/customCode\.js$/.test(o))&&"source"===e&&!n.isExternal||b(e.split("."),n,t)})),n):n}},lt=window._satellite;if(lt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var dt=lt.container;delete lt.container;var ft=E({},dt.buildInfo);Object.defineProperty(ft,"environment",{get:function(){return W.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),dt.environment.stage}}),dt.buildInfo=ft;var pt,gt=I(z("localStorage"),W),vt="";_.currentScript&&_.currentScript.getAttribute("src")&&(vt=_.currentScript.getAttribute("src"));try{pt=S(vt,Boolean(dt.company.dynamicCdnEnabled),dt.company.cdnAllowList,gt)}catch(e){throw W.warn("Please review the following error:"),e}var mt,ht=ut(pt.isDynamicEnforced,pt.decorateWithDynamicHost),yt=ce(),bt=dt.property.settings.undefinedVarsReturnEmpty,_t=dt.property.settings.ruleComponentSequencingEnabled,wt=dt.dataElements||{},Ct=function(e){return wt[e]},Pt=function(){return mt.apply(null,arguments)},kt=ne(yt,Ct,Pt,bt,ht),Et={},Ot=fe(Et),St=ae(Et,Ct),At=ie(Et,Ct,kt);mt=de(St,At,bt),ct(lt,dt,gt.setDebugEnabled,At,Ot),st(dt,yt,gt,mt,kt,ht,pt.decorateWithDynamicHost)
;var xt=le(lt),It=j(yt,mt,ht),Dt=ke(yt),jt=xe(Dt,W,xt),Lt=Ae(Le,Dt,W,xt),Nt=Se(Le,Dt,W,xt),Tt=Ie(W,xt),Mt=Oe(je(_t,Pe(Ce(It,Ne,jt,Lt),De(It,Nt,Tt)),_e(ye(It,Ue,Ne,Lt,jt),he(It,Ue,Nt),Tt),xt),It,Fe,Le,Ee(yt),W);Be(A,dt.rules||[],Mt)}return lt}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();