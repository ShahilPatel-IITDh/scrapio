var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

!function(t){"use strict";({id:"aws",version:3.03,initialize:function(){this.bindListeners()},debug:function(){if(window.trackingDebug){var t=[].slice.call(arguments);t.unshift("Data Layer ("+this.id+" Plugin): "),console.log.apply(this,t)}},bindListeners:function(){document.addEventListener("c-tracking-trigger",this.executeTrackingCall.bind(this),!1),document.addEventListener("c-tracking-load-defaults",this.setDefaults.bind(this),!1)},setDefaults:function(t){t.detail.plugins.push({name:this.id,version:this.version,description:"Pass Data-Layer information to aws end point",errorDetected:this.checkErrors()})},checkErrors:function(){return(this.pluginError||"function"!=typeof XMLHttpRequest)&&(this.pluginError=!0),this.pluginError},sendAjax:function(t,e,i){var n=new XMLHttpRequest;if(!n)return this.debug('Send Data ERROR - No Request, Method: "',t,'"'),!1;n.onreadystatechange=n.ontimeout=function(i){i.target.readyState===XMLHttpRequest.DONE&&this.debug("Send Data: ",200===n.status?"SUCCESS":"FAILED",', Type: "',i.type,'", Method: "',t,'", Data: ',e,", Request Obj: ",i.target)}.bind(this),n.open("PUT","https://web.archive.org/web/20190208035139/https://dl.cws.xfinity.com/event/"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(i)),this.debug('Send Data, Method: "',t,'", Payload: "',i,'"')},sendRequest:function(t,e){var i={method:e,Data:JSON.stringify(t)};this.sendAjax(e,t,i)},executeTrackingCall:function(e){try{var i,n=t.merge({},e.detail.data.eventInfo),a=t.get(e,"detail.type",""),s=!0,o=t.get(n,"eventMethod","")||"send-Event";switch(a){case"page":o="PageLoadEvent",i=t.merge({},window.digitalData,{eventMethod:o});break;default:if("c-tracking-init-start"!==a||""===t.get(window,"digitalData.siteInfo.visitorID","")&&!t.get(window,"digitalData.siteInfo.sessionID","")){if(t.startsWith(a,"c-tracking-init-")){s=!1;break}}else o="Start-PageLoadEvent";t.merge(n,{schemaVersion:t.get(window,"digitalData.schemaVersion",void 0),version:t.get(window,"digitalData.version",void 0),subSchemas:t.get(window,"digitalData.subSchemas",void 0),eventMethod:o,siteInfo:{visitorID:t.get(window,"digitalData.siteInfo.visitorID",void 0),sessionID:t.get(window,"digitalData.siteInfo.sessionID",void 0)},browserInfo:{location:t.get(window,"digitalData.browserInfo.location",void 0)},page:{pageInfo:{pageName:t.get(window,"digitalData.page.pageInfo.pageName",void 0),pageurl:location.href}}}),i=n}s&&!this.pluginError&&this.sendRequest(i,o)}catch(t){this.debug("EXCEPTION:",t,this.pluginError?"AWS NOT AVAILABLE!":"")}}}).initialize()}(window._dl||window._);

}
/*
     FILE ARCHIVED ON 03:51:39 Feb 08, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 10:21:53 Aug 04, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 98.836
  exclusion.robots: 0.153
  exclusion.robots.policy: 0.142
  cdx.remote: 0.073
  esindex: 0.01
  LoadShardBlock: 64.915 (3)
  PetaboxLoader3.datanode: 508.675 (5)
  load_resource: 1034.231 (2)
  PetaboxLoader3.resolve: 528.944 (2)
*/