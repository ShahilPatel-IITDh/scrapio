"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38921],{69233:function(e,t,n){var r,o,a,i;n.d(t,{_:function(){return o},t:function(){return r}}),(a=r||(r={})).BULK_CODE_CREATION="bulk-code-creation",a.CODE_CREATION_ADDITIONAL_COLORS="code-creation-additional-colors",a.CODE_CREATION_HEX_COLORS="code-creation-hex-colors",a.CODE_MANAGEMENT_CREATE_CODE="code-management-create-code",a.CODE_MANAGEMENT_DUPLICATE_CODE="code-management-duplicate-code",a.CODE_MANAGEMENT_FOLDER_CREATE_CODE="code-management-folder-create-code",a.CODE_MANAGEMENT_FOLDER_ROW_DUPLICATE_CODE="code-management-folder-row-duplicate-code",a.CODE_MANAGEMENT_MOBILE_FAB_CREATE_CODE="code-management-mobile-fab-create-code",a.CODE_MANAGEMENT_RESTORE_DELETED_CODE="code-management-restore-deleted-code",a.CREATE_RULE_BASED_SCANS="create-rule-based-scans",a.DASHBOARD_PRO_UPSELL_CARD="dashboard-pro-upsell-card",a.FLOWPAGE_CREATION_ADDITIONAL_COLORS="flowpage-creation-additional-colors",a.FLOWPAGE_CREATION_ADDITIONAL_COLORS_MOBILE="flowpage-creation-additional-colors-mobile",a.LEFT_NAV_CREATE_CODE="left-nav-create-code",a.LEFT_NAV_CREATE_PAGE="left-nav-create-page",a.PAGES_CREATE_PAGE="pages-create-page",a.FLOWPAGE_CHANGE_FONT="flowpage-change-font",a.FLOWPAGE_STYLE_FONT="flowpage-style-font",a.FLOWPAGE_CRM_INTEGRATIONS="flowpage-crm-integrations",a.FLOWPAGE_CRM_CUSTOM_FIELD="flowpage_crm_custom_field",a.FLOWPAGE_CRM_CUSTOM_TERMS="flowpage_crm_custom_terms",a.FLOWPAGE_SSO_MAX_PAGES="flowpage-sso-max-pages",a.FLOWPAGE_DUPLICATE_PAGE="flowpage-duplicate",a.PLANS_PAGE_QUERY_PARAM="plans-page-query-param",a.PLANS_PLUS_PAGE_QUERY_PARAM="plans-plus-page-query-param",a.PLANS_PAGE_PRO_SIGN_UP="plans-page-pro-sign-up",a.PRINT_STORE_PDP_CREATE_CODE="print-store-pdp-create-code",a.PRINT_STORE_DISCOUNT_UPSELL="print-store-discount-upsell",a.PRO_LANDING_PAGE_ANALYTICS="pro-landing-page-analytics",a.PRO_LANDING_PAGE_BULK_CREATION="pro-landing-page-bulk-creation",a.PRO_LANDING_PAGE_BULK_CREATION_MOBILE="pro-landing-page-bulk-creation-mobile",a.PRO_LANDING_PAGE_CUSTOM_DESIGN="pro-landing-page-custom-design",a.PRO_LANDING_PAGE_CUSTOM_DESIGN_MOBILE="pro-landing-page-custom-design-mobile",a.PRO_LANDING_PAGE_FLOWPAGE="pro-landing-page-flowpage",a.PRO_LANDING_PAGE_FOOTER="pro-landing-page-footer",a.PRO_LANDING_PAGE_GET_STARTED="pro-landing-page-get-started",a.PRO_LANDING_PAGE_QUERY_PARAM="pro-landing-page-query-param",a.PRO_LANDING_PAGE_RULE_BASED="pro-landing-page-rule-based",a.PRO_UPSELL_CARD="pro-upsell-card",a.STARTER_KIT_LANDING_PAGE="starter-kit-landing-page",a.FLOWPAGE_DEINDEX_FROM_GOOGLE="flowpage-deindex-from-google",a.CODE_FREE_TEXT_RIM="free-text-rim",a.CODE_FREE_TEXT_CENTER="free-text-center",a.FLOWPAGE_PRO_CRM_INTEGRATION="flowpage-pro-crm-integration",a.NAV_STORAGE_SECTION="nav-storage-section",a.NAV_MOBILE_MORE_MENU="nav-mobile-more-menu",a.ASSET_CREATION_MODAL="asset-creation-modal",a.PLATFORM_FEATURE_LANDING_PAGE="platform-feature-landing-page",a.FLOWCODE_PRO_REMOVE_WHITELABEL="flowcode-pro-remove-whitelabel",a.FLOWPAGE_PRO_REMOVE_WHITELABEL="flowpage-pro-remove-whitelabel",(i=o||(o={})).FLOWPAGE_CREATE_TEMPLATE_MENU="flowpage-create-template-menu",i.FLOWPAGE_SETTINGS_CREATE_TEMPLATE="flowpage-settings-create-template"},58887:function(e,t,n){n.d(t,{j:function(){return i}});var r=n(91225),o=n(15597);let a=async e=>(0,o.l3)(r.f,e.configInput),i=async e=>{try{await a({configInput:e})}catch(e){console.error(e.message)}}},94559:function(e,t,n){n.d(t,{IY:function(){return p},dS:function(){return g},f8:function(){return l},hz:function(){return v},lN:function(){return d},m7:function(){return u},om:function(){return s},v_:function(){return c}});var r=n(27080),o=n(71350),a=n(6249),i=n(87286);let l="flow.page/",u="".concat("https","://").concat(l);"".concat("https","://").concat("flow.page","/"),a.Is;let d="hide_widget",c=30,s={...r.LW,backgroundImgUrl:null,__typename:"Theme"};r.Dp;let p={slugName:"",active:!0,links:[],__typename:"User",id:"demo",profileImage:"",caption:"",email:"",shortUrl:"",share:!0,displayName:"",theme:s},g={type:"default",provider:i.kB.WIDGET,id:"default-link",actionData:{},order:0,embed:!1,displayType:"default",active:!0,title:null,description:null,thumbNailImgUrl:null,linkTheme:null,__typename:"Link"},v={blm:{title:"Show your support for Black Lives Matter",description:"Enable this link to give visitors an easy way to support the cause and learn more about the justice movement.",cta:"Add a Black Lives Matter Link",category:null,style:{background:"#2c3436",color:"primary.white",ctaColor:"primary.skyBlue"},link:{category:null,defaultFields:{imageUrl:"/icons/social-media/feature.png",link:"https://flow.page/blmdonate",title:"Support Black Lives Matter",meta:{provider:i.kB.FEATURE,type:"blm",pattern:i.dR}},provider:i.kB.FEATURE,type:"blm",displayText:"a Black Lives Matter Link"}},aapi:{title:"Show your support for the AAPI Community",description:"Enable this link to give visitors an easy way to support the cause and learn more about the Stop AAPI Hate movement.",cta:"Add a Stop AAPI Hate link",category:null,style:{background:"#2c3436",color:"primary.white",ctaColor:"#f4c33e"},link:{category:null,defaultFields:{imageUrl:"/images/aapi_feature.png",link:o.bp+"/page/aapi.community",title:"Support the AAPI Community",meta:{provider:i.kB.FEATURE,type:"aapi",pattern:i.dR}},provider:i.kB.FEATURE,type:"aapi",displayText:"a Stop AAPI Hate Link"}}}},90896:function(e,t,n){n.d(t,{c:function(){return r},l:function(){return o}});let r="INVITATION_ID",o="INVITATION_LINK_ID"},38921:function(e,t,n){n.d(t,{j:function(){return D}});var r=n(90896),o=n(29809),a=n(69233),i=n(25088),l=n(85001),u=n(41950),d=n(15597),c=n(63971),s=n(92777),p=n(62814),g=n(11186),v=n(53336),E=n(72713),_=n(58887);let f=/(\/)?\[.*?\]/,m=Object.values(i.Z5).filter(e=>f.test(e));var A=n(90427),I=n(52318),P=n(67629),T=n(77591);let h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z5.CODES,n=Boolean((0,A.G)(i.Z5,e))||function(e){let t=e.split("/");for(let e of m){let n=e.split("/");if(t.length===n.length){let e=!0;for(let r=0;r<t.length;r++)if(!(n[r].startsWith("[")&&n[r].endsWith("]"))&&n[r]!==t[r]){e=!1;break}if(e)return!0}}return!1}(e);return n?e:t},O=()=>{let e=(0,I.D)(),t=e.getString("productId"),n=e.getString("redirectTo"),r=n?decodeURIComponent(n):"",{url:o,query:a}=P.parseUrl(r),[l,u]=(0,p.useState)(!1),d=(0,v.v9)(e=>e.appReducer.userReducer.isNewUser),{data:c}=(0,T.ZP)(()=>l?E.e:null,{revalidateOnFocus:!1}),s=o.startsWith("/store/templates");(0,p.useEffect)(()=>{if(!s&&t&&c){let n=0===c.me.flowcodeCount;n?e.push({pathname:i.Z5.CREATE_FLOWCODE,query:{productId:t}}):e.push({pathname:i.Z5.PRINT_STORE_LANDING_PRODUCT_DETAILS,query:{productId:t}})}},[c,t,e,s]);let g=(0,p.useCallback)(async()=>{var t;let n=e.query,l={option:n.option},c={configId:String(n.configid)},p={batchId:n.batchId},g=null===(t=n.redirectTo)||void 0===t?void 0:t.toString(),v=null==r?void 0:r.startsWith(i.Z5.PRINT_STORE_LANDING_PAGE),E=null==r?void 0:r.startsWith(i.Z5.CANVA_REDIRECT);n.option&&n.configid?(await (0,_.j)(c),e.push({pathname:i.Z5.CREATE_FLOWCODE,query:l})):n.batchId&&"create"===n.source?e.push({pathname:i.Z5.CODES,query:{batchId:n.batchId}}):n.batchId&&!g?e.push({pathname:i.Z5.STO_GENERIC,query:p}):!s&&n.productId?u(!0):r?e.push({pathname:v?o:h(o),query:P.stringify({...a,...E&&{isExternalDrivenSignUp:d}})}):e.push(i.Z5.CODES)},[e,r,s,o,a,d]);return g};var y=n(49820),R=n(51996),C=n(43980),N=n(38270),k=n(37113),L=n(20065);let S=[i.Z5.SIGN_IN,i.Z5.SIGN_UP,i.Z5.ACCEPT_INVITE];function D(){var e,t,n,E,_,f;let m=arguments.length>0&&void 0!==arguments[0]&&arguments[0],A=arguments.length>1&&void 0!==arguments[1]&&arguments[1],I=arguments.length>2&&void 0!==arguments[2]&&arguments[2],P=(0,k.useRouter)(),T=P.pathname!==i.Z5.ACCEPT_INVITE&&S.includes(P.pathname),h=P.pathname===i.Z5.SSO_LOGIN,D=function(){var e;let t=(0,k.useRouter)(),n="true"===t.query.flowpage,r=t.asPath.includes(i.Z5.SIGN_UP),o=t.asPath.includes(i.Z5.SIGN_IN)&&n,E=(0,g.Wo)(),_=null!==(e=null==E?void 0:E.slugName)&&void 0!==e?e:"",{jwt:f}=(0,s.F)(),m=(0,v.I0)(),A=Boolean(_)||Boolean(E),I=(0,p.useMemo)(()=>r?{postPublish:!0}:{},[r]),P=O(),{userHasReachedMaxPages:T}=(0,C.j)(e=>e.fpFunnelReducer),h=o&&A,y=(0,L.$)(),{handleProtectedActionClick:N}=(0,R.g)({openProModalCondition:Boolean(T),sourceId:a.t.FLOWPAGE_SSO_MAX_PAGES,onClose:()=>{t.push(i.Z5.PAGES)},action:async e=>{let{isPaymentSuccessful:n}=e;if(n){let e=await y();t.push({pathname:i.Z5.PAGE_EDITOR,query:{...I,id:null==e?void 0:e.id}});return}(0,c._p)("Error processing payment"),t.push(i.Z5.PAGES)}}),S=(0,p.useCallback)(async()=>{var e;let r=decodeURIComponent(null==t?void 0:null===(e=t.query)||void 0===e?void 0:e.redirectTo);if(T&&h){N();return}if(A){let{slugReserved:e}=await (0,d.N9)(l.tT,{slug:_},null==f?void 0:f.token),n=null==E?void 0:E.id;if(!e){let e=await y();e&&(n=null==e?void 0:e.id),m((0,u.Ri)({}))}if(r&&"undefined"!==r){let e=t.query;delete e.redirectTo;let n={},o=r,a=r.split("&");if(a[0]){let t=a[0].split("?");if(t[0]&&t[1]){o=t[0],a.unshift(t[1]);let r=a.reduce((e,t)=>{if(t){let[n,r]=t.split("=");e[n]=r}return e},{});n=Object.assign({},e,r)}}t.push({pathname:o,query:n})}else t.push({pathname:i.Z5.PAGE_EDITOR,query:{...I,id:n}})}else n?t.push(i.Z5.PAGES):P()},[t,T,h,A,n,N,_,null==f?void 0:f.token,null==E?void 0:E.id,y,m,I,P]);return S}(),G=function(){let e=(0,k.useRouter)(),t=(0,p.useCallback)(()=>{e.push({pathname:i.Z5.SIGN_IN,query:{...e.query,redirectTo:encodeURIComponent(e.asPath)}})},[e]);return t}(),b=function(){let e=(0,k.useRouter)(),t=(0,p.useCallback)(()=>{e.push({pathname:i.Z5.SIGN_UP,query:{...e.query,redirectTo:encodeURIComponent(e.asPath)}})},[e]);return t}(),w=(0,y.A)(),F=(0,N.K)(),[U,M]=(0,p.useState)(!1),{isAuthenticated:B,jwt:W,isAuthChecked:Z}=(0,s.F)(),q=null==W?void 0:null===(e=W.org)||void 0===e?void 0:e.status,x="true"===P.query.flowpage,j=P.asPath.includes(i.Z5.SIGN_IN)&&x,Y=(0,g.Wo)(),V=null!==(E=null==Y?void 0:Y.slugName)&&void 0!==E?E:"",H=null===(t=null!==(_=P.query.invitationId)&&void 0!==_?_:"")||void 0===t?void 0:t.toString(),K=null===(n=null!==(f=P.query.inviteId)&&void 0!==f?f:"")||void 0===n?void 0:n.toString(),Q=Boolean(V)||Boolean(Y),{userHasReachedMaxPages:X}=(0,C.j)(e=>e.fpFunnelReducer),z=!x||!Q||!j||void 0!==X;(0,p.useEffect)(()=>{Z&&!U&&!A&&(B&&T&&z?(D(),M(!0)):m&&!B&&Z?(H&&P.pathname===i.Z5.ACCEPT_INVITE&&localStorage.setItem(r.c,null==H?void 0:H.toString()),K&&P.pathname===i.Z5.ACCEPT_ORG_INVITE&&localStorage.setItem(r.l,null==K?void 0:K.toString()),I?b():G(),M(!0)):w&&m?(F(),M(!0)):B&&!x&&o.E3.includes(P.pathname)&&(P.push(i.Z5.CODES),M(!0)))},[U,M,h,Z,B,P,T,D,m,G,z,A,x,q,H,K,b,I,w,F])}},46222:function(e,t,n){n.d(t,{v:function(){return E}});var r=n(75759),o=n(15874),a=n(36272),i=n(37591),l=n(3118),u=n(92777),d=n(31957),c=n(43980);let s=()=>(0,c.j)(e=>e.pageEditorReducer.tempPage);var p=n(53336),g=n(39246),v=n.n(g);function E(){let e=s(),t=(0,c.j)(e=>e.fpFunnelReducer.placeholders),n=(0,p.I0)(),[g]=(0,d.mp)(),{token:E}=(0,u.F)();return async u=>{var d,c,s,p,_;let{slugName:f,pageType:m,domainServiceSubdomainId:A,createFlowcode:I,templateId:P,pageInput:T,path:h}=u,O=T||e;if(!O)return;let{__typename:y,id:R,backgroundImgUrl:C,...N}=O.theme||{};f&&(O={...O,slugName:f}),m&&(O={...O,pageType:m});let k=(0,r.b2)(t||{},null!==(_=null==O?void 0:null===(d=O.links)||void 0===d?void 0:d.length)&&void 0!==_?_:0);n((0,i.o4)({isLoading:!0}));let L=(0,l.EW)([...(null==O?void 0:O.links)?O.links:[]]),S=await g({page:{...P&&{createdFromTemplateId:P},...v()(O,["displayName","caption","share","isIndexed","gateId"]),path:h,pageType:(null==O?void 0:O.pageType)||void 0,createFlowcode:null==I||I,theme:N,domainServiceSubdomainId:A,slugName:(0,a.s3)((null==O?void 0:O.slugName)||f,"cannot initialize page without slugname"),links:(null===(c=null===(s=(0,a.B5)([...L,...k]))||void 0===s?void 0:s.map(o.BC))||void 0===c?void 0:c.map(o.lN))||[]}}),D=S&&"data"in S?null===(p=S.data.createPage)||void 0===p?void 0:p.id:"";if(!D||!S||"error"in S){let e="error"in S?S.error.message:"No page id";throw Error("Error creating page ".concat(e))}return await (0,o.Z0)({...O,links:null==L?void 0:L.map((e,t)=>{var n,r;return{...e,id:(null===(n=S.data.createPage)||void 0===n?void 0:null===(r=n.links)||void 0===r?void 0:r[t].id)||e.id}}),id:D},!0,E),D&&n((0,i.v_)(D)),n((0,i.o4)({isLoading:!1})),{id:D}}}},76953:function(e,t,n){n.d(t,{I:function(){return o}});var r=n(43980);function o(){let{pageId:e}=(0,r.j)(e=>{var t,n;return{pageId:null!==(n=null===(t=e.pageEditorReducer)||void 0===t?void 0:t.pageId)&&void 0!==n?n:null}});return e}},49820:function(e,t,n){n.d(t,{A:function(){return o}});var r=n(92777);let o=()=>{var e;let{jwt:t}=(0,r.F)();return(null==t?void 0:null===(e=t.org)||void 0===e?void 0:e.status)==="CHURNED"}},69554:function(e,t,n){n.d(t,{h:function(){return o}});var r=n(92777);let o=()=>{var e,t,n;let o=(0,r.F)(),a=null===(e=o.jwt)||void 0===e?void 0:null===(t=e.org)||void 0===t?void 0:null===(n=t.userOrgRoleExtras)||void 0===n?void 0:n.includes("org_role_extra:billing_admin");return Boolean(a)}},23993:function(e,t,n){n.d(t,{K:function(){return a}});var r=n(25088),o=n(37113);function a(){let e=(0,o.useRouter)(),t=e.pathname===r.Z5.PAGE_TEMPLATE_EDITOR,n=Array.isArray(e.query.id)?e.query.id[0]:e.query.id;return{isTemplateEditor:t,templateId:t?n:void 0}}},38270:function(e,t,n){n.d(t,{K:function(){return d}});var r=n(25088),o=n(62814),a=n(49820),i=n(81362),l=n(69554),u=n(37113);let d=()=>{let e=(0,u.useRouter)(),t=(0,l.h)(),n=(0,a.A)(),d=(0,i.Kk)(),c=t&&[r.Z5.ACCOUNT].includes(e.pathname),s=c||d,p=(0,o.useCallback)(()=>{!s&&n&&e.push({pathname:r.Z5.PAUSED_ACCOUNT})},[e,s,n]);return p}},31957:function(e,t,n){n.d(t,{D5:function(){return p},JV:function(){return _},hD:function(){return E},mp:function(){return g},xY:function(){return v}});var r=n(6413),o=n(31272),a=n(65755),i=n(84061),l=n(44937),u=n(84260),d=n(63971),c=n(37591);let s=a.t.injectEndpoints({endpoints:e=>({createPageFromTemplate:e.mutation({query:e=>({document:r.vr,variables:e,authOnly:!0}),invalidatesTags:["pageManagement","pageCount"]}),createPage:e.mutation({query:e=>{let{page:t}=e;return{document:r.EZ,variables:{page:t},authOnly:!0}},invalidatesTags:["pageManagement","pageCount"]}),deletePage:e.mutation({query:e=>{let{id:t}=e;return{document:r.$j,variables:{id:t},authOnly:!0}},invalidatesTags:["PageDetail","pageManagement","pageCount"],async onCacheEntryAdded(e,t){let{id:n}=e,{dispatch:r,getState:a}=t,i=(0,l.a)(a());r((0,c.v_)(null)),(0,o._Q)(n,null==i?void 0:i.token),(0,o.qn)(n,null==i?void 0:i.token)},async onQueryStarted(e,t){let{queryFulfilled:n}=t;try{await n,(0,d.Qp)(i.gW.deletePage.success)}catch(e){(0,d._p)(i.gW.deletePage.error)}}}),editPageInfo:e.mutation({query:e=>{let{editPage:t}=e;return{document:r.Ut,authOnly:!0,variables:{editPage:t}}},async onCacheEntryAdded(e,t){let{uploadImage:n,deleteImage:r}=e,{getState:a,cacheDataLoaded:i}=t,u=(0,l.a)(a());try{await i;let e=a().pageReducer.pageEditorReducer.pageId;n&&(0,o.gg)(n,null!=e?e:"",null==u?void 0:u.token),r&&(0,o._Q)(null!=e?e:"",null==u?void 0:u.token)}catch(e){console.error(e),(0,d._p)("Error uploading background image")}},async onQueryStarted(e,t){let{editPage:n,uploadImage:r,deleteImage:o,isTemplateEditor:a}=e,{dispatch:l,getState:c,queryFulfilled:s}=t,p=c().pageReducer.pageEditorReducer.pageId,g=c().pageReducer.pageEditorReducer.templateId,v=l(u.k_.util.updateQueryData("pageDetail",{id:a?g:p,isPageTemplate:Boolean(a)},e=>{var t;Object.assign(e,{Page:{...e.Page,...n,profileImage:o?null:r||(null===(t=e.Page)||void 0===t?void 0:t.profileImage)}})}));try{await s,(0,d.Qp)(i.gW.editPageInfo.success)}catch(e){v.undo(),(0,d._p)(i.gW.editPageInfo.error)}}}),renameSlug:e.mutation({query:e=>({document:r.lu,variables:e}),invalidatesTags:["pageManagement"],async onQueryStarted(e,t){let{newSlug:n,oldSlug:r}=e,{dispatch:o,getState:a,queryFulfilled:i}=t,l=a().pageReducer.pageEditorReducer.pageId,c=o(u.k_.util.updateQueryData("pageDetail",{id:l,isPageTemplate:!1},e=>{Object.assign(e,{Page:{...e.Page,slugName:n}})}));try{await i,(0,d.Qp)("URL slug renamed from ".concat(r," to ").concat(n))}catch(e){c.undo(),(0,d._p)("Error: Failed to rename url from ".concat(r," to ").concat(n))}}})}),overrideExisting:!0}),{useEditPageInfoMutation:p,useCreatePageMutation:g,useRenameSlugMutation:v,useDeletePageMutation:E,useCreatePageFromTemplateMutation:_}=s},75759:function(e,t,n){n.d(t,{Kq:function(){return a},b2:function(){return l},nO:function(){return i}});var r=n(94559),o=n(80839);function a(e){var t,n,r,o,a;if(!e)return!1;let i=null==e?void 0:e.actionData;return(null==i?void 0:null===(t=i.instagram)||void 0===t?void 0:t.link)||(null==i?void 0:null===(n=i.tiktok)||void 0===n?void 0:n.link)||(null==i?void 0:null===(r=i.snapchat)||void 0===r?void 0:r.link)||(null==i?void 0:null===(o=i.twitter)||void 0===o?void 0:o.link)||(null==i?void 0:null===(a=i.linkedin)||void 0===a?void 0:a.link)}function i(e){if(!e)return!1;let t=null==e?void 0:e.actionData;return(null==t?void 0:t.call)||(null==t?void 0:t.text)||(null==t?void 0:t.email)}function l(e,t){if(!e)return[null];let n=Object.entries(e),l=0;return n&&(null==n?void 0:n.length)!==0?null==n?void 0:n.map(e=>{var n,u,d,c;let[s,p]=e,g={...r.dS,order:(null!==(n=null==p?void 0:p.order)&&void 0!==n?n:0)+t+l};switch(s){case"socialLink":if(!a(p))return null;{let{iconSize:e,iconStyle:t,...n}=null!==(d=null==p?void 0:p.actionData)&&void 0!==d?d:{},r=null===(u=Object.entries(n))||void 0===u?void 0:u.reduce((e,t)=>{let[n,r]=t;return{...e,[n]:{...r,order:(null==r?void 0:r.link)?r.order:-1}}},{});return l+=1,{...g,...p,actionData:{...r,iconSize:e,iconStyle:t},type:"socialLink",id:(0,o.Z)()}}case"destination":if(null==p?void 0:null===(c=p.actionData)||void 0===c?void 0:c.link)return l+=1,{...g,provider:"link",displayType:"default",...p,id:(0,o.Z)()};return null;case"contactInfo":if(i(p))return l+=1,{...g,type:"contactInfo",displayType:"default",...p,id:(0,o.Z)()};return null;default:return null}}):[null]}},11186:function(e,t,n){n.d(t,{Og:function(){return _},Oz:function(){return E},Sw:function(){return f},Wo:function(){return g},Yu:function(){return p},cY:function(){return v},hj:function(){return s}});var r=n(27080),o=n(92777),a=n(76953);n(53336);var i=n(61050),l=n(61779),u=n(84260),d=n(43980),c=n(23993);function s(){var e,t,n,r;let o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0,{refetch:i,totalCount:d}=(0,l.mf)(a),{data:c,isLoading:s}=(0,u.B6)({first:d,ithacaFilter:a},{skip:o});return(null==c?void 0:null===(e=c.me)||void 0===e?void 0:null===(t=e.pageConnection)||void 0===t?void 0:t.edges)?{pages:Object.values(null==c?void 0:null===(n=c.me)||void 0===n?void 0:null===(r=n.pageConnection)||void 0===r?void 0:r.edges).reduce((e,t)=>({...e,...(null==t?void 0:t.id)&&{[t.id]:t}}),{}),isLoading:s,refetch:i}:{isLoading:s,pages:{},refetch:i}}function p(){var e,t;let n=(0,l.V7)(),{data:r,isLoading:o}=(0,u.B6)({first:n});return{pages:null==r?void 0:null===(e=r.me)||void 0===e?void 0:null===(t=e.pageConnection)||void 0===t?void 0:t.edges,isLoading:o}}function g(e){let t=(0,a.I)(),{isAuthChecked:n}=(0,o.F)(),{isTemplateEditor:l,templateId:s}=(0,c.K)(),p=(0,i.H)(),g=l?s:t||e||(null==p?void 0:p.id),{data:v}=(0,u.Cf)({id:g||"",isPageTemplate:l},{skip:!g||!n||g===r.nd||"[id]"===g}),E=(0,d.j)(e=>e.pageEditorReducer.tempPage);return"default-page"!==t||l?null==v?void 0:v.Page:E}function v(){let e=(0,a.I)(),{isAuthChecked:t}=(0,o.F)(),n=(0,i.H)(),{isTemplateEditor:l,templateId:s}=(0,c.K)(),p=l?s:e||(null==n?void 0:n.id),{data:g}=(0,u.Cf)({id:p||"",isPageTemplate:l},{skip:!p||!t||p===r.nd}),v=(0,d.j)(e=>e.pageEditorReducer.tempPage);return"default-page"!==e||l?(null==g?void 0:g.Page)||null:v}function E(e){let t=(0,a.I)(),{isTemplateEditor:n,templateId:l}=(0,c.K)(),{isAuthChecked:s}=(0,o.F)(),p=(0,i.H)(),g=n?l:t||e||(null==p?void 0:p.id)||"",{data:v,isLoading:E}=(0,u.Cf)({id:g||"",isPageTemplate:n},{skip:!g||!s||g===r.nd}),_=(0,d.j)(e=>e.pageEditorReducer.tempPage);return t!==r.nd||n?{currentPage:null==v?void 0:v.Page,isLoading:E}:{currentPage:_,isLoading:E}}function _(e){let t=(0,l.V7)();return!!t&&e>0&&t>=e}function f(e){let t=(0,l.V7)();return -1===e?1/0:t?e-t:0}},61050:function(e,t,n){n.d(t,{F:function(){return s},H:function(){return p}});var r=n(1286),o=n(35757),a=n(92777),i=n(84260),l=n(62814),u=n(12931),d=n.n(u);function c(e){switch(e){case o.fF.ASC:return r.II.Asc;case o.fF.DSC:default:return r.II.Desc}}function s(e,t,n){var o,a,u;let s=!(arguments.length>3)||void 0===arguments[3]||arguments[3],{direction:p,name:g,contains:v}=t,[E,_]=l.useState([]),[f,{data:m,isFetching:A}]=(0,i._D)({}),I=Boolean(null===(o=null==m?void 0:m.me.pageConnection)||void 0===o?void 0:null===(a=o.pageInfo)||void 0===a?void 0:a.hasNextPage),P=e=>({OR:[{slugName:{value:e,expression:r.Su.Ilike,pattern:r.cf.Prefix}},{title:{value:e,expression:r.Su.Ilike,pattern:r.cf.Prefix}},{assetTags:{tagName:{value:e,expression:r.Su.Ilike,pattern:r.cf.Prefix}}}]}),T=()=>{var t,r;let o=null===(t=null==m?void 0:m.me.pageConnection)||void 0===t?void 0:null===(r=t.pageInfo)||void 0===r?void 0:r.endCursor;f({first:e,after:o,ithacaFilter:n,orderBy:g,orderDirection:c(p),...v&&{where:P(v)}})},h=()=>{_([])};return l.useEffect(()=>{if(!s)return;let t=new AbortController;return h(),f({first:e,ithacaFilter:n,orderBy:g,orderDirection:c(p),...v&&{where:P(v)}}),()=>t.abort()},[s,v,p,g,e,f,n]),l.useEffect(()=>{var e,t;(null===(e=null==m?void 0:m.me.pageConnection)||void 0===e?void 0:e.edges)&&_(e=>{var n;return d()([...e,...null!==(t=null===(n=null==m?void 0:m.me.pageConnection)||void 0===n?void 0:n.edges)&&void 0!==t?t:{}],"id")})},[null===(u=null==m?void 0:m.me.pageConnection)||void 0===u?void 0:u.edges]),{pages:E,clearPages:h,getNextPage:T,hasNextPage:I,loading:A}}function p(){var e,t,n;let{isAuthenticated:r}=(0,a.F)(),{data:o}=(0,i.B6)({first:1},{skip:!r});return(null==o?void 0:null===(e=o.me)||void 0===e?void 0:null===(t=e.pageConnection)||void 0===t?void 0:null===(n=t.edges)||void 0===n?void 0:n[0])||null}},20065:function(e,t,n){n.d(t,{$:function(){return a}});var r=n(46222),o=n(11186);let a=()=>{let e=(0,o.Wo)(),t=(0,r.v)();return async()=>{var n,r,o,a;return await t({slugName:null!==(r=null==e?void 0:e.slugName)&&void 0!==r?r:"",pageType:null!==(o=null==e?void 0:e.pageType)&&void 0!==o?o:void 0,domainServiceSubdomainId:null!==(a=null==e?void 0:null===(n=e.domain)||void 0===n?void 0:n.domainServiceSubdomainId)&&void 0!==a?a:void 0})}}},84061:function(e,t,n){n.d(t,{gW:function(){return r}});let r={editTemplate:{success:"Your template has been updated",error:"Error deleting your template"},deletePage:{success:"Your page has been deleted",error:"Error deleting your Flowpage"},editPageInfo:{success:"Your changes have been saved",error:"Error saving your Flowpage"},editTheme:{success:"Your Flowpage design has been saved",error:"Error saving your Flowpage design"},reorderLinks:{success:"Your links have been reordered",error:"Error reordering your links"},deleteLink:{success:"Your link has been deleted",error:"Error deleting your link"},editLink:{success:"Your link has been edited",error:"Error editing your link"},createLink:{success:"Your link has been created",error:"Error creating your link"},indexToggle:{success:"Your indexing settings have been updated",error:"Error updating your indexing settings"},createOrEditLinkTheme:{success:"Your link style has been updated/created",error:"Error updating/creating your link style"},resetLinkThemes:{success:"Your link styles have been reset",error:"Error resetting your link styles"}};t.ZP={flowpage:{noAccount:"You Don't Have a Flowpage Account Yet",linkTaken:"That link was just taken! Try another one...",copied:"Flowpage URL copied to clipboard!",added:"Flowpage created successfully!",deleted:"Flowpage deleted successfully!",deleteLastAccountError:"Delete not allowed. This is your account's only Flowpage!"},theme:{success:"Theme Saved!",error:"Error saving theme",backgroundImage:{delete:{success:"Background image deleted",error:"Error deleting background image"}}},savePage:{success:"Page Saved and Published!",error:"Error publishing page"},savePageImages:{success:"Page Images Uploaded!",error:"Error uploading page images"},collection:{success:"Contact Information Submitted",error:"Error submitting contact information"},viewCollection:{empty:"No contacts submitted yet",error:"Error viewing CSV",script:"Error loading google api script"},profile:{info:{update:{success:"Profile updated",error:"Error updating profile"}},image:{update:{success:"Profile image updated",errors:{size:"Uploaded file must be <10mb"}},delete:{success:"Profile image deleted",error:"Error deleting profile image"}},link:{add:"Link added",update:"Link updated",delete:"Link deleted"},textBox:{delete:"Text Box deleted"},referral:{copied:"Invite link copied to clipboard!"}},resetPassword:{sent:"Reset email sent  \uD83D\uDCE8",success:"Reset password successfully, sending you back to sign in",invalidLink:"Invalid password reset link, please try again"}}},90427:function(e,t,n){n.d(t,{G:function(){return r}});function r(e,t){if(!t)return null;let n=Object.keys(e).filter(n=>e[n]==t.toString());return n.length>0?n[0]:null}}}]);