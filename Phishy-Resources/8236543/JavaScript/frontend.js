function exit_notifier_leave_now(t){t.preventDefault(),ExitBoxSettings.debugtoconsole&&console.log("exit_notifier_leave_now event: ",t);const e=t;var n=jQuery(t.target.id),i="";i=t.currentTarget.href,t.currentTarget.href.length>40&&(i=t.currentTarget.href.substr(0,40)+"...");var o=ExitBoxSettings.body.replace("{target}",t.currentTarget.href),r=ExitBoxSettings.title.replace("{target}",t.currentTarget.href),s=ExitBoxSettings.GoButtonText;"on"===ExitBoxSettings.Include_URL&&(s=ExitBoxSettings.GoButtonText+" "+i);var x=ExitBoxSettings.CancelButtonText;if(jQuery(t.currentTarget).hasClass(ExitBoxSettings.alt_classname)&&(o=ExitBoxSettings.alt_body.replace("{target}",t.currentTarget.href),r=ExitBoxSettings.alt_title.replace("{target}",t.currentTarget.href),s=ExitBoxSettings.alt_GoButtonText,x=ExitBoxSettings.alt_CancelButtonText,"on"===ExitBoxSettings.alt_Include_URL&&(s=ExitBoxSettings.alt_GoButtonText+" "+i)),"on"===ExitBoxSettings.activate_custom_content&&(void 0!==jQuery(t.currentTarget).attr("exit-notifier-title")&&(r=jQuery(t.currentTarget).attr("exit-notifier-title").replace("{target}",t.currentTarget.href)),void 0!==jQuery(t.currentTarget).attr("exit-notifier-body")&&(o=jQuery(t.currentTarget).attr("exit-notifier-body").replace("{target}",t.currentTarget.href))),"on"===ExitBoxSettings.enable_timeout)if(o="on"===ExitBoxSettings.enable_progressbar?o+'<progress value="0" max="'+ExitBoxSettings.timeout_seconds+'" id="ExitNotifierProgressBar" style="width: 100%"></progress>':o+'<progress value="0" max="'+ExitBoxSettings.timeout_seconds+'" id="ExitNotifierProgressBar" style="width: 0px;height: 0px;"></progress>',"on"===ExitBoxSettings.timeout_statement){o=o+'<br><p style="text-align: center;" id="continueorcancelcountdown">'+("continue"===ExitBoxSettings.continue_or_cancel?ExitBoxSettings.timeout_text_continue.replace("{seconds}",ExitBoxSettings.timeout_seconds):ExitBoxSettings.timeout_text_cancel.replace("{seconds}",ExitBoxSettings.timeout_seconds))+"</p>"}else o=o+'<progress value="0" max="'+ExitBoxSettings.timeout_seconds+'" id="ExitNotifierProgressBar" style="width: 0px;height: 0px;"></progress>';var a="",c=!1;if("on"===ExitBoxSettings.blurbackground&&(c=!0),"sa2"===ExitBoxSettings.sa2_or_jAlert?Swal.fire({title:r,html:o,confirmButtonText:s,cancelButtonText:x,showCancelButton:!0,width:"50%"}).then((function(t){if(t.value){let t="";e.currentTarget,"_blank"===e.currentTarget.target&&(t="new"),"on"===ExitBoxSettings.new_window||"new"===t?window.open(e.currentTarget.href,"New Window"):location.href=e.currentTarget.href}})):jQuery.jAlert({type:"confirm",title:r,content:o,confirmBtnText:s,denyBtnText:x,theme:ExitBoxSettings.theme,backgroundColor:ExitBoxSettings.backgroundcolor,blurBackground:c,size:ExitBoxSettings.size,showAnimation:ExitBoxSettings.showAnimation,hideAnimation:ExitBoxSettings.hideAnimation,onConfirm:function(){let e="";t.currentTarget,"_blank"===t.currentTarget.target&&(e="new"),"on"===ExitBoxSettings.new_window||"new"===e?window.open(t.currentTarget.href,"New Window"):location.href=t.currentTarget.href},onDeny:function(){jQuery(n).focus()},onClose:function(){clearInterval(a)}}),"on"===ExitBoxSettings.enable_timeout){var l=ExitBoxSettings.timeout_seconds;"continue"===ExitBoxSettings.continue_or_cancel?a=setInterval((function(){document.getElementById("ExitNotifierProgressBar").value=ExitBoxSettings.timeout_seconds- --l,"on"===ExitBoxSettings.timeout_statement&&jQuery("#continueorcancelcountdown").html(ExitBoxSettings.timeout_text_continue.replace("{seconds}",l)),l<=0&&(clearInterval(a),jQuery(".confirmBtn").click())}),1e3):"cancel"===ExitBoxSettings.continue_or_cancel&&(a=setInterval((function(){document.getElementById("ExitNotifierProgressBar").value=ExitBoxSettings.timeout_seconds- --l,"on"===ExitBoxSettings.timeout_statement&&jQuery("#continueorcancelcountdown").html(ExitBoxSettings.timeout_text_cancel.replace("{seconds}",l)),l<=0&&(clearInterval(a),jQuery(".denyBtn").click())}),1e3))}return!1}function exit_notifier_submit_now(t){t.currentTarget;var e="";jQuery(t.currentTarget).parentsUntil("form");e=t.srcElement.form.action,t.srcElement.form.action.length>40&&(e=t.srcElement.form.action.substr(0,40)+"...");var n=ExitBoxSettings.body.replace("{target}",t.srcElement.form.action),i=ExitBoxSettings.title.replace("{target}",t.srcElement.form.action),o=ExitBoxSettings.GoButtonText;"on"===ExitBoxSettings.Include_URL&&(o=ExitBoxSettings.GoButtonText+" "+e);var r=ExitBoxSettings.CancelButtonText;if(jQuery(t.currentTarget).hasClass(ExitBoxSettings.alt_classname)&&(n=ExitBoxSettings.alt_body.replace("{target}",t.srcElement.form.action),i=ExitBoxSettings.alt_title.replace("{target}",t.srcElement.form.action),o=ExitBoxSettings.alt_GoButtonText,r=ExitBoxSettings.alt_CancelButtonText),"on"===ExitBoxSettings.activate_custom_content&&(void 0!==jQuery(t.currentTarget).attr("exit-notifier-title")&&(i=jQuery(t.currentTarget).attr("exit-notifier-title").replace("{target}",t.srcElement.form.action)),void 0!==jQuery(t.currentTarget).attr("exit-notifier-body")&&(n=jQuery(t.currentTarget).attr("exit-notifier-body").replace("{target}",t.srcElement.form.action))),"on"===ExitBoxSettings.enable_timeout)if(n="on"===ExitBoxSettings.enable_progressbar?n+'<progress value="0" max="'+ExitBoxSettings.timeout_seconds+'" id="ExitNotifierProgressBar" style="width: 100%"></progress>':n+'<progress value="0" max="'+ExitBoxSettings.timeout_seconds+'" id="ExitNotifierProgressBar" style="width: 0px;height: 0px;"></progress>',"on"===ExitBoxSettings.timeout_statement){n=n+'<br><p style="text-align: center;" id="continueorcancelcountdown">'+("continue"===ExitBoxSettings.continue_or_cancel?ExitBoxSettings.timeout_text_continue.replace("{seconds}",ExitBoxSettings.timeout_seconds):ExitBoxSettings.timeout_text_cancel.replace("{seconds}",ExitBoxSettings.timeout_seconds))+"</p>"}else n=n+'<progress value="0" max="'+ExitBoxSettings.timeout_seconds+'" id="ExitNotifierProgressBar" style="width: 0px;height: 0px;"></progress>';var s="",x=!1;if("on"===ExitBoxSettings.blurbackground&&(x=!0),jQuery.jAlert({id:"exitbox",type:"confirm",title:i,content:n,confirmBtnText:o,denyBtnText:r,theme:ExitBoxSettings.theme,backgroundColor:ExitBoxSettings.backgroundcolor,blurBackground:x,size:ExitBoxSettings.size,showAnimation:ExitBoxSettings.showAnimation,hideAnimation:ExitBoxSettings.hideAnimation,onConfirm:function(){jQuery(t.srcElement.form).submit()},onDeny:function(){t.preventDefault()},onClose:function(){clearInterval(s)}}),"on"===ExitBoxSettings.enable_timeout){var a=ExitBoxSettings.timeout_seconds;"continue"===ExitBoxSettings.continue_or_cancel?s=setInterval((function(){document.getElementById("ExitNotifierProgressBar").value=ExitBoxSettings.timeout_seconds- --a,"on"===ExitBoxSettings.timeout_statement&&jQuery("#continueorcancelcountdown").html(ExitBoxSettings.timeout_text_continue.replace("{seconds}",a)),a<=0&&(clearInterval(s),jQuery(".confirmBtn").click())}),1e3):"cancel"===ExitBoxSettings.continue_or_cancel&&(s=setInterval((function(){document.getElementById("ExitNotifierProgressBar").value=ExitBoxSettings.timeout_seconds- --a,"on"===ExitBoxSettings.timeout_statement&&jQuery("#continueorcancelcountdown").html(ExitBoxSettings.timeout_text_cancel.replace("{seconds}",a)),a<=0&&(clearInterval(s),jQuery(".denyBtn").click())}),1e3))}return!1}function exit_notifier_js(t){ExitBoxSettings.debugtoconsole&&console.log("exit_notifier_js parameters: ",t);let e="";e=t.href,t.href.length>40&&(e=t.href.substr(0,40)+"...");var n=ExitBoxSettings.body.replace("{target}",t.href),i=ExitBoxSettings.title.replace("{target}",t.href),o=ExitBoxSettings.GoButtonText;"on"===ExitBoxSettings.Include_URL&&(o=ExitBoxSettings.GoButtonText+" "+e);var r=ExitBoxSettings.CancelButtonText;if(jQuery(t).hasClass(ExitBoxSettings.alt_classname)&&(n=ExitBoxSettings.alt_body.replace("{target}",t.href),i=ExitBoxSettings.alt_title.replace("{target}",t.href),o=ExitBoxSettings.alt_GoButtonText,r=ExitBoxSettings.alt_CancelButtonText,"on"===ExitBoxSettings.alt_Include_URL&&(o=ExitBoxSettings.alt_GoButtonText+" "+e)),"on"===ExitBoxSettings.activate_custom_content&&(void 0!==jQuery(t).attr("exit-notifier-title")&&(i=jQuery(t).attr("exit-notifier-title").replace("{target}",t.href)),void 0!==jQuery(t).attr("exit-notifier-body")&&(n=jQuery(t).attr("exit-notifier-body").replace("{target}",t.href))),"on"===ExitBoxSettings.enable_timeout)if(n="on"===ExitBoxSettings.enable_progressbar?n+'<progress value="0" max="'+ExitBoxSettings.timeout_seconds+'" id="ExitNotifierProgressBar" style="width: 100%"></progress>':n+'<progress value="0" max="'+ExitBoxSettings.timeout_seconds+'" id="ExitNotifierProgressBar" style="width: 0px;height: 0px;"></progress>',"on"===ExitBoxSettings.timeout_statement){n=n+'<br><p style="text-align: center;" id="continueorcancelcountdown">'+("continue"===ExitBoxSettings.continue_or_cancel?ExitBoxSettings.timeout_text_continue.replace("{seconds}",ExitBoxSettings.timeout_seconds):ExitBoxSettings.timeout_text_cancel.replace("{seconds}",ExitBoxSettings.timeout_seconds))+"</p>"}else n=n+'<progress value="0" max="'+ExitBoxSettings.timeout_seconds+'" id="ExitNotifierProgressBar" style="width: 0px;height: 0px;"></progress>';var s="",x=!1;if("on"===ExitBoxSettings.blurbackground&&(x=!0),"sa2"===ExitBoxSettings.sa2_or_jAlert?Swal.fire({title:i,html:n,confirmButtonText:o,cancelButtonText:r,showCancelButton:!0,width:"50%"}).then((e=>{if(e.value){let e="_blank";e=void 0!==t.target?t.target:"on"===ExitBoxSettings.new_window?"_blank":"_self",ExitBoxSettings.debugtoconsole&&(console.log("linktarget: ",e),alert("Debug delay so you can check the developer's console. Once you dismiss this dialog, the new link will load. Turn off this alert by turning off the debug option in Exit Notifier settings.")),window.open(t.href,e)}})):jQuery.jAlert({type:"confirm",title:i,content:n,confirmBtnText:o,denyBtnText:r,theme:ExitBoxSettings.theme,backgroundColor:ExitBoxSettings.backgroundcolor,blurBackground:x,size:ExitBoxSettings.size,showAnimation:ExitBoxSettings.showAnimation,hideAnimation:ExitBoxSettings.hideAnimation,onConfirm:function(){let e="_blank";e=void 0!==t.target?t.target:"on"===ExitBoxSettings.new_window?"_blank":"_self",ExitBoxSettings.debugtoconsole&&(console.log("linktarget: ",e),alert("Debug delay so you can check the developer's console. Once you dismiss this dialog, the new link will load. Turn off this alert by turning off the debug option in Exit Notifier settings.")),window.open(t.href,e)},onDeny:function(){},onClose:function(){clearInterval(s)}}),"on"===ExitBoxSettings.enable_timeout){var a=ExitBoxSettings.timeout_seconds;"continue"===ExitBoxSettings.continue_or_cancel?s=setInterval((function(){document.getElementById("ExitNotifierProgressBar").value=ExitBoxSettings.timeout_seconds- --a,"on"===ExitBoxSettings.timeout_statement&&jQuery("#continueorcancelcountdown").html(ExitBoxSettings.timeout_text_continue.replace("{seconds}",a)),a<=0&&(clearInterval(s),jQuery(".confirmBtn").click())}),1e3):"cancel"===ExitBoxSettings.continue_or_cancel&&(s=setInterval((function(){document.getElementById("ExitNotifierProgressBar").value=ExitBoxSettings.timeout_seconds- --a,"on"===ExitBoxSettings.timeout_statement&&jQuery("#continueorcancelcountdown").html(ExitBoxSettings.timeout_text_cancel.replace("{seconds}",a)),a<=0&&(clearInterval(s),jQuery(".denyBtn").click())}),1e3))}return!1}function stopcountdown(){clearInterval(jQuery.data("dev.ja_body",exitNotifierTimer)),jQuery("#continueorcancelcountdown").toggle("slow")}jQuery(document).ready((function(){jQuery.noConflict(),jQuery("head").append("<style>.ja_custom {"+ExitBoxSettings.custom_css+"}</style>"),jQuery("head").append("<style>"+ExitBoxSettings.advanced_custom_css+"</style>"),jQuery((function(t){var e='a[href*="//"]:not([href*="'+ExitBoxSettings.siteroot+'"])';if("on"!==ExitBoxSettings.apply_to_all_offsite_links&&(e=ExitBoxSettings.jquery_selector_field),e=e.replace(":",':not(".'+ExitBoxSettings.css_exclusion_class+'"):'),jQuery("head").append("\x3c!-- EN jQuery Selector: "+e+" --\x3e"),ExitBoxSettings.debugtoconsole&&(console.log("Exit Notifier jQuery selector: "+e),console.log("Exit Notifier Theme: ",ExitBoxSettings.theme),console.log("Exit Notifier alert utility: ",ExitBoxSettings.sa2_or_jAlert)),jQuery(e).addClass("exitNotifierLink"),"on"===ExitBoxSettings.addclasses&&jQuery(e).addClass(ExitBoxSettings.classestoadd),jQuery(document).on("click",e,exit_notifier_leave_now),"on"===ExitBoxSettings.visual&&jQuery(e).append('&nbsp;<img class="flat" src="'+ExitBoxSettings.siteurl+'/wp-content/plugins/exit-notifier/external-link.png" border=0>'),"on"===ExitBoxSettings.relnofollow&&jQuery(e).attr("rel",(function(){return"nofollow "+jQuery(this).attr("rel")})),"on"===ExitBoxSettings.enable_notifier_for_forms){var n='form[action*="//"]:not([action*="'+ExitBoxSettings.siteroot+'"])';"on"!==ExitBoxSettings.apply_to_all_offsite_forms&&(n=ExitBoxSettings.jquery_form_selector_field),jQuery(n).addClass("exitNotifierForm");var i=jQuery(n).find(":submit");jQuery(document).on("click",i,exit_notifier_submit_now),"on"===ExitBoxSettings.visual&&jQuery(n).append('&nbsp;<img class="flat" src="'+ExitBoxSettings.siteurl+'/wp-content/plugins/exit-notifier/external-link.png" border=0>')}}))}));