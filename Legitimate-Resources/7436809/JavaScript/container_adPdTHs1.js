(function(){var documentAlias=document;var windowAlias=window;/*!! previewModeHook */if(typeof window.MatomoTagManager!=='object'){if(typeof window._mtm!=='object'){window._mtm=[]}
window.MatomoTagManager=(function(){var timeScriptLoaded=new Date().getTime();function pushDebugLogMessage()
{if(window.mtmPreviewWindow&&'object'===typeof window.mtmPreviewWindow.mtmLogs){var now=new Date();var messages=[];for(var i=0;i<arguments.length;i++){messages.push(JSON.stringify(arguments[i]))}
window.mtmPreviewWindow.mtmLogs.push({time:now.toLocaleTimeString()+'.'+now.getMilliseconds(),messages:messages})}}
function pushDebugEvent(event)
{if(window.mtmPreviewWindow&&'object'===typeof window.mtmPreviewWindow.mtmEvents&&event){var now=new Date();event.time=now.toLocaleTimeString()+'.'+now.getMilliseconds();window.mtmPreviewWindow.mtmEvents.push(event)}}
var Debug={enabled:!!window.mtmPreviewWindow,log:function(){pushDebugLogMessage.apply(windowAlias,arguments);if(this.enabled&&'undefined'!==typeof console&&console&&console.debug){console.debug.apply(console,arguments)}},error:function(){pushDebugLogMessage.apply(windowAlias,arguments);if('undefined'!==typeof console&&console&&console.error){console.error.apply(console,arguments)}},};function throwError(message){Debug.error(message);if(typeof TagManager!=='object'||TagManager.THROW_ERRORS){throw new Error(message)}}
function resolveNestedDotVar(key,obj)
{if(utils.isString(key)&&key.indexOf('.')!==-1){var parts=key.split('.');var i;for(i=0;i<parts.length;i++){if(parts[i]in obj){obj=obj[parts[i]]}else{return}}
return obj}}
function Storage(storageInterface){var namespace='mtm:';var values={};function hasStorage(method){return storageInterface in windowAlias&&utils.isObject(windowAlias[storageInterface])}
function hasFeature(method){return hasStorage()&&utils.isFunction(windowAlias[storageInterface][method])}
function set(group,value){if(hasFeature('setItem')){try{windowAlias[storageInterface].setItem(namespace+group,JSON.stringify(value))}catch(e){}}else{values[group]=value}}
function get(group){if(hasFeature('getItem')){try{var value=windowAlias[storageInterface].getItem(namespace+group);if(value){value=JSON.parse(value);if(utils.isObject(value)){return value}}}catch(e){}
return{}}else{if(group in values){return values[group]}}}
function remove(group){if(hasFeature('removeItem')){try{windowAlias[storageInterface].removeItem(namespace+group)}catch(e){}}else{if(group in values){delete values[group]}}}
this.set=function(group,key,val,ttl){var expireTime=null;if(ttl){expireTime=(new Date().getTime())+(parseInt(ttl,10)*1000)}
var value=get(group);value[key]={value:val,expire:expireTime};set(group,value)};this.get=function(group,key){var value=get(group);if(value&&key in value&&'value' in value[key]){if(value[key].expire&&value[key].expire<(new Date().getTime())){delete value[key];set(group)
return}
return value[key].value}};this.clearAll=function(){values={};if(hasStorage()&&utils.isFunction(Object.keys)){var items=Object.keys(windowAlias[storageInterface]);if(items){for(var i=0;i<items.length;i++){if(String(items[i]).substr(0,namespace.length)===namespace){remove(String(items[i]).substr(namespace.length))}}}}}}
var localStorage=new Storage('localStorage');var sessionStorage=new Storage('sessionStorage');var utils={_compare:function(actualValue,expectedValue,comparison){var comparisonsToTreatLowerCase=['equals','starts_with','contains','ends_with'];if(this.indexOfArray(comparisonsToTreatLowerCase,comparison)!==-1){actualValue=String(actualValue).toLowerCase();expectedValue=String(expectedValue).toLowerCase()}
switch(comparison){case 'equals':return String(actualValue)===String(expectedValue);case 'equals_exactly':return String(actualValue)===String(expectedValue);case 'regexp':return null!==(String(actualValue).match(new RegExp(expectedValue)));case 'regexp_ignore_case':return null!==(String(actualValue).match(new RegExp(expectedValue,'i')));case 'lower_than':return actualValue<expectedValue;case 'lower_than_or_equals':return actualValue<=expectedValue;case 'greater_than':return actualValue>expectedValue;case 'greater_than_or_equals':return actualValue>=expectedValue;case 'contains':return String(actualValue).indexOf(expectedValue)!==-1;case 'match_css_selector':if(!expectedValue||!actualValue){return!1}
var nodes=DOM.bySelector(expectedValue)
return utils.indexOfArray(nodes,actualValue)!==-1;case 'starts_with':return String(actualValue).indexOf(expectedValue)===0;case 'ends_with':return String(actualValue).substring(actualValue.length-expectedValue.length,actualValue.length)===expectedValue}
return!1},compare:function(actualValue,expectedValue,comparison){var isInverted=String(comparison).indexOf('not_')===0;if(isInverted){comparison=String(comparison).substr('not_'.length)}
var result=this._compare(actualValue,expectedValue,comparison);if(isInverted){return!result}
return result},trim:function(text)
{if(text&&String(text)===text){return text.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'')}
return text},isDefined:function(property){var propertyType=typeof property;return propertyType!=='undefined'},isFunction:function(property){return typeof property==='function'},isObject:function(property){return typeof property==='object'&&property!==null},isString:function(property){return typeof property==='string'},isNumber:function(property){return typeof property==='number'},isArray:function(property){if(!utils.isObject(property)){return!1}
if('function'===typeof Array.isArray&&Array.isArray){return Array.isArray(property)}
var toString=Object.prototype.toString;var arrayString=toString.call([]);return toString.call(property)===arrayString},hasProperty:function(object,key){return Object.prototype.hasOwnProperty.call(object,key)},indexOfArray:function(anArray,element){if(!anArray){return-1}
if('function'===typeof anArray.indexOf&&anArray.indexOf){return anArray.indexOf(element)}
if(!this.isArray(anArray)){return-1}
for(var i=0;i<anArray.length;i++){if(anArray[i]===element){return i}}
return-1},setMethodWrapIfNeeded:function(contextObject,methodNameToReplace,callback)
{if(!(methodNameToReplace in contextObject)){contextObject[methodNameToReplace]=callback;return}
var oldMethodBackup=contextObject[methodNameToReplace];if(!TagManager.utils.isFunction(oldMethodBackup)){contextObject[methodNameToReplace]=callback;return}
try{contextObject[methodNameToReplace]=function(){try{var value=oldMethodBackup.apply(contextObject,[].slice.call(arguments,0))}catch(e){callback.apply(contextObject,[].slice.call(arguments,0));throw e}
callback.apply(contextObject,[].slice.call(arguments,0));return value}}catch(error){}}};var DataLayer=function(){this.values={};this.events=[];this.callbacks=[];this.reset=function(){this.values={};this.events=[];this.callbacks=[]};this.push=function(value){if(!utils.isObject(value)){Debug.log('pushed dataLayer value is not an object',value);return}
this.events.push(value);var i;for(i in value){if(utils.hasProperty(value,i)){this.set(i,value[i])}}
for(i=0;i<this.callbacks.length;i++){if(this.callbacks[i]){this.callbacks[i](value)}}};this.on=function(callback){this.callbacks.push(callback);return this.callbacks.length-1};this.off=function(callbackIndex){if(callbackIndex in this.callbacks){this.callbacks[callbackIndex]=null}};this.set=function(key,value){this.values[key]=value};this.getAllEvents=function(container){return this.events};this.get=function(name){if(name in this.values){if(utils.isFunction(this.values[name])){return this.values[name]()}else if(utils.isObject(this.values[name])&&utils.isFunction(this.values[name].get)){return this.values[name].get()}
return this.values[name]}
var val=resolveNestedDotVar(name,this.values);if(utils.isDefined(val)){return val}}};var dataLayer=new DataLayer();var dateHelper={matchesDateRange:function(now,startDateTime,endDateTime){var currentTimestampUTC=now.getTime()+(now.getTimezoneOffset()*60000);if(startDateTime){startDateTime=String(startDateTime).replace(/-/g,'/')}
if(endDateTime){endDateTime=String(endDateTime).replace(/-/g,'/')}
var start,end;try{start=new Date(startDateTime)}catch(e){if(startDateTime){throwError('Invalid startDateTime given')}}
try{end=new Date(endDateTime)}catch(e){if(endDateTime){throwError('Invalid startDateTime given')}}
if(startDateTime&&isNaN&&isNaN(start.getTime())){throwError('Invalid startDateTime given')}
if(endDateTime&&isNaN&&isNaN(end.getTime())){throwError('Invalid endDateTime given')}
if(startDateTime&&currentTimestampUTC<(start.getTime()+(start.getTimezoneOffset()*60000))){return!1}
if(endDateTime&&currentTimestampUTC>(end.getTime()+(end.getTimezoneOffset()*60000))){return!1}
return!0}};var urlHelper={parseUrl:function(urlToParse,urlPart){try{var loc=document.createElement("a");loc.href=urlToParse;var absUrl=loc.href;loc=document.createElement("a");loc.href=absUrl;if(urlPart&&urlPart in loc){if('hash'===urlPart){return String(loc[urlPart]).replace('#','')}else if('protocol'===urlPart){return String(loc[urlPart]).replace(':','')}else if('search'===urlPart){return String(loc[urlPart]).replace('?','')}else if('port'===urlPart&&!loc[urlPart]){if(loc.protocol==='https:'){return'443'}else if(loc.protocol==='http:'){return'80'}}
if('pathname'===urlPart&&loc[urlPart]&&String(loc[urlPart]).substr(0,1)!=='/'){return'/'+loc[urlPart]}
if('port'===urlPart&&loc[urlPart]){return String(loc[urlPart])}
return loc[urlPart]}
if('origin'===urlPart&&'protocol' in loc&&loc.protocol){return loc.protocol+"//"+loc.hostname+(loc.port?':'+loc.port:'')}
return}catch(e){if('function'===typeof URL){var theUrl=new URL(urlToParse);if(urlPart&&urlPart in theUrl){if('hash'===urlPart){return String(theUrl[urlPart]).replace('#','')}else if('protocol'===urlPart){return String(theUrl[urlPart]).replace(':','')}else if('search'===urlPart){return String(theUrl[urlPart]).replace('?','')}else if('port'===urlPart&&!theUrl[urlPart]){if(theUrl.protocol==='https:'){return 443}else if(theUrl.protocol==='http:'){return 80}}
return theUrl[urlPart]}
return}}},decodeSafe:function(text){try{return windowAlias.decodeURIComponent(text)}catch(e){return windowAlias.unescape(text)}},getQueryParameter:function(parameter,locationSearch){if(!utils.isDefined(locationSearch)){locationSearch=windowAlias.location.search}
if(!locationSearch||!utils.isDefined(parameter)||parameter===null||parameter===!1||parameter===''){return null}
var locationStart=locationSearch.substr(0,1);if(locationSearch!=='?'&&locationSearch!=='&'){locationSearch='?'+locationSearch}
parameter=parameter.replace('[','\\[');parameter=parameter.replace(']','\\]');var regexp=new RegExp('[?&]'+parameter+'(=([^&#]*)|&|#|$)');var matches=regexp.exec(locationSearch);if(!matches){return null}
if(!matches[2]){return''}
var value=matches[2].replace(/\+/g," ");return this.decodeSafe(value)}};var windowHelperScrollTimeout;var windowHelper={hasSetupScroll:!1,scrollCallbacks:[],scrollListenEvents:['scroll','resize'],offScroll:function(scrollIndex){if(scrollIndex in this.scrollCallbacks){this.scrollCallbacks[scrollIndex]=null}
var i=0,numCallbacks=0;for(i in this.scrollCallbacks){if(this.scrollCallbacks[i]){numCallbacks++}}
if(!numCallbacks){for(i=0;i<this.scrollListenEvents.length;i++){if(documentAlias.removeEventListener){windowAlias.removeEventListener(this.scrollListenEvents[i],this.didScroll,!0)}else{windowAlias.detachEvent('on'+this.scrollListenEvents[i],this.didScroll)}}
this.hasSetupScroll=!1}},didScroll:function(event){if(windowHelperScrollTimeout){return}
if(event&&event.type&&event.type==='scroll'&&event.target&&event.target!==documentAlias&&event.target!==windowAlias){return}
windowHelperScrollTimeout=setTimeout(function(){windowHelperScrollTimeout=null;var i;for(i=0;i<windowHelper.scrollCallbacks.length;i++){if(windowHelper.scrollCallbacks[i]){windowHelper.scrollCallbacks[i](event)}}},120)},onScroll:function(callback){this.scrollCallbacks.push(callback);if(!this.hasSetupScroll){this.hasSetupScroll=!0;var index=0;for(index=0;index<this.scrollListenEvents.length;index++){if(documentAlias.addEventListener){windowAlias.addEventListener(this.scrollListenEvents[index],this.didScroll,!0)}else{windowAlias.attachEvent('on'+this.scrollListenEvents[index],this.didScroll)}}}
return this.scrollCallbacks.length-1},getScreenHeight:function(){return windowAlias.screen.height},getScreenWidth:function(){return windowAlias.screen.width},getViewportWidth:function(){var width=windowAlias.innerWidth||documentAlias.documentElement.clientWidth||documentAlias.body.clientWidth;if(!width){return 0}
return width},getViewportHeight:function(){var height=windowAlias.innerHeight||documentAlias.documentElement.clientHeight||documentAlias.body.clientHeight;if(!height){return 0}
return height},getPerformanceTiming:function(keyword){if('performance' in windowAlias&&utils.isObject(windowAlias.performance)&&utils.isObject(windowAlias.performance.timing)&&keyword in windowAlias.performance.timing){return windowAlias.performance.timing[keyword]}
return 0}};var DOM={loadScriptUrl:function(url,options){if(!options){options={}}
if(!utils.isDefined(options.defer)){options.defer=!0}
if(!utils.isDefined(options.async)){options.async=!0}
if(!utils.isDefined(options.type)){options.type='text/javascript'}
var script=document.createElement('script');script.src=url;script.type=options.type;script.defer=!!options.defer;script.async=!!options.async;if(utils.isFunction(options.onload)){script.onload=options.onload}
if(utils.isFunction(options.onerror)){script.onerror=options.onerror}
if(utils.isDefined(options.charset)){script.charset=options.charset}
if(utils.isDefined(options.id)){script.id=options.id}
documentAlias.head.appendChild(script)},getScrollLeft:function(){return windowAlias.document.body.scrollLeft||windowAlias.document.documentElement.scrollLeft},getScrollTop:function(){return windowAlias.document.body.scrollTop||windowAlias.document.documentElement.scrollTop},getDocumentHeight:function(){return Math.max(documentAlias.body.offsetHeight,documentAlias.body.scrollHeight,documentAlias.documentElement.offsetHeight,documentAlias.documentElement.clientHeight,documentAlias.documentElement.scrollHeight,1)},getDocumentWidth:function(){return Math.max(documentAlias.body.offsetWidth,documentAlias.body.scrollWidth,documentAlias.documentElement.offsetWidth,documentAlias.documentElement.clientWidth,documentAlias.documentElement.scrollWidth,1)},addEventListener:function(element,eventType,eventHandler,useCapture){if(!element){Debug.log('element not found, cannot add event listener',element,this);return}
if(element.addEventListener){useCapture=useCapture||!1;element.addEventListener(eventType,eventHandler,useCapture);return!0}
if(element.attachEvent){return element.attachEvent('on'+eventType,eventHandler)}
element['on'+eventType]=eventHandler},getElementText:function(node){if(!node){return}
var content=node.innerText||node.textContent||'';content=content.replace(/([\s\uFEFF\xA0])+/g," ");content=content.replace(/(\s)+/g," ");return utils.trim(content)},getElementClassNames:function(node){if(node&&node.className){return utils.trim(String(node.className).replace(/\s{2,}/g,' '))}
return''},getElementAttribute:function(node,attributeName){if(node&&node.getAttribute){return node.getAttribute(attributeName)}
if(!node||!node.attributes){return}
var typeOfAttr=(typeof node.attributes[attributeName]);if('undefined'===typeOfAttr){return null}
if(node.attributes[attributeName].value){return node.attributes[attributeName].value}
if(node.attributes[attributeName].nodeValue){return node.attributes[attributeName].nodeValue}
return null},_htmlCollectionToArray:function(foundNodes)
{var nodes=[];if(!foundNodes||!foundNodes.length){return nodes}
var index;for(index=0;index<foundNodes.length;index++){nodes.push(foundNodes[index])}
return nodes},byId:function(id){if(utils.isString(id)&&id.substr(0,1)==='#'){id=id.substr(1)}
return documentAlias.getElementById(id)},byClassName:function(className){if(className&&'getElementsByClassName' in documentAlias){return this._htmlCollectionToArray(documentAlias.getElementsByClassName(className))}
return[]},byTagName:function(tagName){if(tagName&&'getElementsByTagName' in documentAlias){return this._htmlCollectionToArray(documentAlias.getElementsByTagName(tagName))}
return[]},bySelector:function(selector){if(selector&&'querySelectorAll' in documentAlias){return this._htmlCollectionToArray(documentAlias.querySelectorAll(selector))}
return[]},isElementContext:function(htmlString,tag){if(!htmlString||!tag){return!1}
htmlString=String(htmlString).toLowerCase();tag=String(tag).toLowerCase();var lastScriptPos=htmlString.lastIndexOf('<'+tag);if(lastScriptPos===-1){return!1}
var lastPiece=htmlString.substring(lastScriptPos);return!lastPiece.match(new RegExp('<\\s*/\\s*'+tag+'>'))},isAttributeContext:function(htmlString,attr){if(!htmlString||!attr){return!1}
htmlString=String(htmlString).replace(/([\s\uFEFF\xA0]*=[\s\uFEFF\xA0]*)/g,'=');var lastScriptPos=htmlString.lastIndexOf('<');if(lastScriptPos===-1){return!1}
var lastPiece=htmlString.substring(lastScriptPos);var endingElementPos=lastPiece.indexOf('>');if(endingElementPos!==-1){return!1}
var posAttrEnd=lastPiece.lastIndexOf('=');if(posAttrEnd===-1){return!1}
var posAttrStart=lastPiece.lastIndexOf(' ',posAttrEnd);var attrName=lastPiece.substring(posAttrStart,posAttrEnd);attrName=utils.trim(attrName);if(attrName.toLowerCase()!==attr.toLowerCase()){return!1}
var attrValue=lastPiece.substring(posAttrEnd).replace('=','');var quote=attrValue.substring(0,1);if('"'===quote){return-1===attrValue.substring(1).indexOf('"')}else if("'"===quote){return-1===attrValue.substring(1).indexOf("'")}
return-1===attrValue.indexOf(' ')},onLoad:function(callback){if(documentAlias.readyState==='complete'){callback()}else if(windowAlias.addEventListener){windowAlias.addEventListener('load',callback)}else if(windowAlias.attachEvent){windowAlias.attachEvent('onload',callback)}},onReady:function(callback){var loaded=!1;if(documentAlias.attachEvent){loaded=documentAlias.readyState==='complete'}else{loaded=documentAlias.readyState!=='loading'}
if(loaded){callback();return}
if(documentAlias.addEventListener){this.addEventListener(documentAlias,'DOMContentLoaded',function ready(){documentAlias.removeEventListener('DOMContentLoaded',ready,!1);if(!loaded){loaded=!0;callback()}})}else if(documentAlias.attachEvent){documentAlias.attachEvent('onreadystatechange',function ready(){if(documentAlias.readyState==='complete'){documentAlias.detachEvent('onreadystatechange',ready);if(!loaded){loaded=!0;callback()}}})}
this.onLoad(function(){if(!loaded){loaded=!0;callback()}})}};function TemplateParameters(params)
{this.window=windowAlias;this.document=documentAlias;this.set=function(index,value){this[index]=value};this.get=function(key,defaultValue){if(key===null||key===!1||!utils.isDefined(key)){return defaultValue}
if(key in this){if(utils.isObject(this[key])&&'get' in this[key]&&utils.isFunction(this[key].get)){return this[key].get()}
return this[key]}
var value=resolveNestedDotVar(key,this);if(utils.isDefined(value)){return value}
return defaultValue};this.buildVariable=function(variable){return buildVariable(variable,this.get('container'))};if(utils.isObject(params)){for(var i in params){if(utils.hasProperty(params,i)){this.set(i,params[i])}}}}
function Condition(condition,container){this.isValid=function(){var actualValue=buildVariable(condition.actual,container).get();var expectedValue=buildVariable(condition.expected,container).get();return utils.compare(actualValue,expectedValue,condition.comparison)}}
function buildVariable(variable,container)
{if(utils.isObject(variable)&&variable.joinedVariable&&utils.isArray(variable.joinedVariable)){return new JoinedVariable(variable.joinedVariable,container)}else if(utils.isObject(variable)&&variable.type){return new Variable(variable,container)}
return new ConstantVariable(variable,container)}
function JoinedVariable(variables,container)
{this.name='';this.type='JoinedVariable';this.getDefinition=function(){return variables};this.get=function(){var value='',varReturn;for(var i=0;i<variables.length;i++){varReturn=buildVariable(variables[i],container).toString();if(varReturn!==!1&&varReturn!==null&&utils.isDefined(varReturn)){value+=varReturn}}
return value};this.toString=function(){return this.get()};this.addDebugValues=function(variables){variables.push({name:null,type:'_joined',value:this.get()})}}
function ConstantVariable(value,container)
{this.name='';this.type='ConstantVariable';this.getDefinition=function(){return value};function isVariableDefinition(value){return value&&utils.isObject(value)&&!utils.isArray(value)&&(utils.hasProperty(value,'type')||utils.hasProperty(value,'joinedVariable'))}
function deepClone(value)
{if(value==null||typeof value!=='object'){return value}
var newVal=new value.constructor();var key;for(key in value){if(utils.hasProperty(value,key)){newVal[key]=deepClone(value[key])}}
return newVal}
function convertVariableTemplateIfNeeded(value)
{var i;if(isVariableDefinition(value)){value=buildVariable(value,container).get()}else if(value&&utils.isArray(value)){for(i=0;i<value.length;i++){value[i]=convertVariableTemplateIfNeeded(value[i])}}else if(value&&utils.isObject(value)){for(i in value){if(utils.hasProperty(value,i)){value[i]=convertVariableTemplateIfNeeded(value[i])}}}
return value}
this.get=function(){var result=value;if(utils.isObject(result)){result=deepClone(result);result=convertVariableTemplateIfNeeded(result)}
return result};this.toString=function(){return value};this.addDebugValues=function(variables){variables.push({name:null,type:'_constant',value:this.get()})}}
function Variable(variable,container){this.type=variable.type;this.name=variable.name;this.lookUpTable=variable.lookUpTable||[];this.defaultValue=undefined;this.parameters=variable.parameters||{};this.getDefinition=function(){return variable};this.get=function(){var value;try{value=this.theVariable.get()}catch(e){Debug.error('Failed to get value of variable',e,this);value=undefined}
if((!utils.isDefined(value)||value===null||value===!1)&&utils.isDefined(this.defaultValue)){value=this.defaultValue}
var i;for(i=0;i<this.lookUpTable.length;i++){var lookUp=this.lookUpTable[i];if(utils.compare(value,lookUp.matchValue,lookUp.comparison)){return lookUp.outValue}}
return value};this.toString=function(){if(this.theVariable&&utils.hasProperty(this.theVariable,'toString')&&utils.isFunction(this.theVariable.toString)){try{return this.theVariable.toString()}catch(e){Debug.error('Failed to get toString of variable',e,this);return}}
return this.get()};this.addDebugValues=function(variables){variables.push({name:this.name,type:this.type,value:this.get()})};if('undefined'!==typeof variable.defaultValue){this.defaultValue=variable.defaultValue}
if(!utils.isDefined(variable.Variable)||!variable.Variable){Debug.log('no template defined for variable ',variable);return}
var i,parameters=new TemplateParameters({variable:this,container:container});if(utils.isObject(variable.parameters)){for(i in variable.parameters){if(utils.hasProperty(variable.parameters,i)){parameters.set(i,buildVariable(variable.parameters[i],container))}}}
if(utils.isFunction(variable.Variable)){this.theVariable=new variable.Variable(parameters,TagManager)}else if(utils.isObject(variable.Variable)){this.theVariable=variable.Variable}else if(variable.Variable in container.templates){this.theVariable=new container.templates[variable.Variable](parameters,TagManager)}else{throwError('No matching variable template found')}}
function Trigger(trigger,container){this.referencedTags=[];this.id=trigger.id;this.type=trigger.type;this.name=trigger.name;this.conditions=[];this.parameters=trigger.parameters||{};var self=this;this.getId=function(){return this.id};this.setUp=function(){if(this.theTrigger&&this.theTrigger.setUp&&utils.isFunction(this.theTrigger.setUp)){this.theTrigger.setUp(function(event){dataLayer.push(event);if(!('event' in event)){return}
var result={tags:[],variables:[],metTrigger:null,name:event.event,eventData:event,container:{}};var i,j;if(self.meetsConditions()){Debug.log('The condition is met for trigger '+self.name,self);result.metTrigger={name:self.name,type:self.type};var tags=self.getReferencedTags();for(j=0;j<tags.length;j++){if(tags[j].hasBlockTrigger(self)){tags[j].block();tags[j].addDebugValues(result.tags,'Block')}else if(tags[j].hasFireTrigger(self)){tags[j].fire();tags[j].addDebugValues(result.tags,'Fire')}}}
if(window.mtmPreviewWindow||Debug.enabled){container.addDebugValues(result.container);pushDebugEvent(result);if(Debug.enabled){Debug.log('event: ',result)}}})}};this.addReferencedTag=function(tag){this.referencedTags.push(tag)};this.getReferencedTags=function(){return this.referencedTags};this.meetsConditions=function(){var i,condition;for(i=0;i<this.conditions.length;i++){condition=new Condition(this.conditions[i],container);if(!condition.isValid()){return!1}}
return!0};if(trigger.conditions&&utils.isArray(trigger.conditions)){this.conditions=trigger.conditions}
var i,parameters=new TemplateParameters({trigger:this,container:container});if(utils.isObject(trigger.parameters)){for(i in trigger.parameters){if(utils.hasProperty(trigger.parameters,i)){parameters.set(i,buildVariable(trigger.parameters[i],container))}}}
if(!utils.isDefined(trigger.Trigger)||!trigger.Trigger){Debug.error('no template defined for trigger ',trigger);return}
if(utils.isFunction(trigger.Trigger)){this.theTrigger=new trigger.Trigger(parameters,TagManager)}else if(utils.isObject(trigger.Trigger)){this.theTrigger=trigger.Trigger}else if(trigger.Trigger in container.templates){this.theTrigger=new container.templates[trigger.Trigger](parameters,TagManager)}else{throwError('No matching trigger template found')}
parameters=null}
function Tag(tag,container){this.type=tag.type;this.name=tag.name;this.fireTriggerIds=tag.fireTriggerIds?tag.fireTriggerIds:[];this.blockTriggerIds=tag.blockTriggerIds?tag.blockTriggerIds:[];this.fireLimit=tag.fireLimit?tag.fireLimit:Tag.FIRE_LIMIT_UNLIMITED;this.fireDelay=tag.fireDelay?parseInt(tag.fireDelay,10):0;this.startDate=tag.startDate?tag.startDate:null;this.endDate=tag.endDate?tag.endDate:null;this.numExecuted=0;this.blocked=!1;this.parameters=tag.parameters||{};var self=this;this.addDebugValues=function(tags,action){tags.push({action:action,type:this.type,name:this.name,numExecuted:this.numExecuted,})};this._doFire=function(){if(this.blocked){Debug.log('not firing as this tag is blocked',this);return'tag is blocked'}
if(this.fireLimit!==Tag.FIRE_LIMIT_UNLIMITED&&this.numExecuted){Debug.log('not firing as this tag has limit reached',this);return'fire limit is restricted'}
var storageKey='tag';if(container.id){storageKey+='_'+container.id}
if(this.fireLimit===Tag.FIRE_LIMIT_ONCE_24HOURS&&!window.mtmPreviewWindow){if(localStorage.get(storageKey,this.name)){Debug.log('not firing as this tag has 24hours limit reached',this);return'fire limit 24hours is restricted'}}
if(this.fireLimit===Tag.FIRE_LIMIT_ONCE_LIFETIME&&!window.mtmPreviewWindow){if(localStorage.get(storageKey,this.name)){Debug.log('not firing as this tag has limit reached',this);return'fire limit lifetime is restricted'}}
if(!dateHelper.matchesDateRange(new Date(),this.startDate,this.endDate)){Debug.log('not firing as this tag does not match date',this);return'date range does not match'}
if(!this.theTag||!this.theTag.fire){Debug.log('not firing as tag does not exist anymore',this);return'tag not found'}
Debug.log('firing this tag',this);this.numExecuted++;if(this.fireLimit===Tag.FIRE_LIMIT_ONCE_24HOURS){var ttl24Hours=24*60*60;localStorage.set(storageKey,this.name,'1',ttl24Hours)}
if(this.fireLimit===Tag.FIRE_LIMIT_ONCE_LIFETIME){localStorage.set(storageKey,this.name,'1')}
this.theTag.fire();Debug.log('fired this tag',this)};this.fire=function(){if(this.fireDelay){setTimeout(function(){self._doFire()},this.fireDelay)}else{return this._doFire()}};this.block=function(){this.blocked=!0};this.hasFireTrigger=function(trigger){if(!this.fireTriggerIds||!this.fireTriggerIds.length){return!1}
if(!trigger){return!1}
var id=trigger.getId();return utils.indexOfArray(this.fireTriggerIds,id)!==-1};this.hasBlockTrigger=function(trigger){if(!this.blockTriggerIds||!this.blockTriggerIds.length){return!1}
if(!trigger){return!1}
var id=trigger.getId();return utils.indexOfArray(this.blockTriggerIds,id)!==-1};if(!utils.isDefined(tag.Tag)||!tag.Tag){Debug.error('no template defined for tag ',tag);return}
var i,parameters=new TemplateParameters({tag:this,container:container});if(utils.isObject(tag.parameters)){for(i in tag.parameters){if(utils.hasProperty(tag.parameters,i)){parameters.set(i,buildVariable(tag.parameters[i],container))}}}
if(utils.isFunction(tag.Tag)){this.theTag=new tag.Tag(parameters,TagManager)}else if(utils.isObject(tag.Tag)){this.theTag=tag.Tag}else if(tag.Tag in container.templates){this.theTag=new container.templates[tag.Tag](parameters,TagManager)}else{throwError('No matching tag template found')}}
Tag.FIRE_LIMIT_ONCE_PAGE='once_page';Tag.FIRE_LIMIT_ONCE_24HOURS='once_24hours';Tag.FIRE_LIMIT_ONCE_LIFETIME='once_lifetime';Tag.FIRE_LIMIT_UNLIMITED='unlimited';function Container(container,templates){var self=this;this.id=container.id;this.idsite=container.idsite||null;this.versionName=container.versionName||null;this.revision=container.revision||null;this.environment=container.environment||null;this.templates=templates||{};this.dataLayer=new DataLayer();this.variables=[];this.triggers=[];this.tags=[];this.onNewGlobalDataLayerValue=function(value){this.dataLayer.push(value)};dataLayer.on(function(value){self.onNewGlobalDataLayerValue(value)});this.addDebugValues=function(container){container.variables=[];var i;for(i=0;i<this.variables.length;i++){this.variables[i].addDebugValues(container.variables)}
container.tags=[];for(i=0;i<this.tags.length;i++){this.tags[i].addDebugValues(container.tags,'Not Fired Yet')}
container.id=this.id;container.versionName=this.versionName;container.dataLayer=JSON.parse(JSON.stringify(this.dataLayer.values))};this.getTriggerById=function(idTrigger){if(!idTrigger){return}
var i;for(i=0;i<this.triggers.length;i++){if(this.triggers[i].getId()===idTrigger){return this.triggers[i]}}};this.addTrigger=function(triggerObj){if(!triggerObj){return}
var triggerInstance=this.getTriggerById(triggerObj.id);if(!triggerInstance){triggerInstance=new Trigger(triggerObj,this);this.triggers.push(triggerInstance)}
return triggerInstance};var i,j,tag,tagDefinition,trigger;if(container.variables&&utils.isArray(container.variables)){for(i=0;i<container.variables.length;i++){this.variables.push(buildVariable(container.variables[i],this))}}
if(container.triggers&&utils.isArray(container.triggers)){for(i=0;i<container.triggers.length;i++){this.addTrigger(container.triggers[i])}}
if(container.tags&&utils.isArray(container.tags)){for(i=0;i<container.tags.length;i++){tagDefinition=container.tags[i];tag=new Tag(tagDefinition,this);this.tags.push(tag);if(tagDefinition.blockTriggerIds&&utils.isArray(tagDefinition.blockTriggerIds)){for(j=0;j<tagDefinition.blockTriggerIds.length;j++){trigger=this.getTriggerById(tagDefinition.blockTriggerIds[j]);if(trigger){trigger.addReferencedTag(tag)}}}
if(tagDefinition.fireTriggerIds&&utils.isArray(tagDefinition.fireTriggerIds)){for(j=0;j<tagDefinition.fireTriggerIds.length;j++){trigger=this.getTriggerById(tagDefinition.fireTriggerIds[j]);if(trigger){trigger.addReferencedTag(tag)}}}}}
this.run=function(){var missedEvents=dataLayer.getAllEvents();var i;for(i=0;i<missedEvents.length;i++){this.onNewGlobalDataLayerValue(missedEvents[i])}
for(i=0;i<this.triggers.length;i++){this.triggers[i].setUp()}}}
var TagManager={THROW_ERRORS:!0,dataLayer:dataLayer,containers:[],url:urlHelper,date:dateHelper,utils:utils,debug:Debug,dom:DOM,window:windowHelper,Variable:Variable,storage:{local:localStorage,session:sessionStorage},_buildVariable:buildVariable,Condition:Condition,TemplateParameters:TemplateParameters,Trigger:Trigger,Tag:Tag,throwError:throwError,Container:Container,addContainer:function(containerConfig,templates){if(!window.mtmPreviewWindow){var previewFrame=documentAlias.getElementById('mtmDebugFrame');if(previewFrame&&previewFrame.contentWindow){window.mtmPreviewWindow=previewFrame.contentWindow}}
Debug.log('creating container');var container=new Container(containerConfig,templates);this.containers.push(container);container.dataLayer.push({'mtm.containerId':container.id});Debug.log('running container');container.run();return container},enableDebugMode:function(){Debug.enabled=!0}};if('matomoTagManagerAsyncInit' in windowAlias&&utils.isFunction(windowAlias.matomoTagManagerAsyncInit)){windowAlias.matomoTagManagerAsyncInit()}
var methodsToApply=windowAlias._mtm;windowAlias._mtm={push:function(){var i,j,methodName,parameterArray,theCall;for(i=0;i<arguments.length;i+=1){theCall=null;if(arguments[i]&&arguments[i].slice){theCall=arguments[i].slice()}
parameterArray=arguments[i];if(utils.isObject(parameterArray)&&!utils.isArray(parameterArray)){dataLayer.push(parameterArray);continue}
methodName=parameterArray.shift();var isStaticPluginCall=utils.isString(methodName)&&methodName.indexOf('::')>0;if(isStaticPluginCall){var fParts,context;fParts=methodName.split('::');context=fParts[0];methodName=fParts[1];if('object'===typeof TagManager[context]&&utils.isFunction(TagManager[context][methodName])){TagManager[context][methodName].apply(TagManager[context],parameterArray)}}else{if(methodName&&methodName in TagManager&&utils.isFunction(TagManager[methodName])){TagManager[methodName].apply(TagManager,parameterArray)}else{Debug.error('method '+methodName+' is not valid')}}}}};var i;for(i=0;i<methodsToApply.length;i++){windowAlias._mtm.push(methodsToApply[i])}
dataLayer.push({'mtm.mtmScriptLoadedTime':timeScriptLoaded});if('undefined'!==typeof windowAlias.dataLayer&&utils.isArray(windowAlias.dataLayer)){for(i=0;i<windowAlias.dataLayer.length;i++){if(utils.isObject(windowAlias.dataLayer[i])){dataLayer.push(windowAlias.dataLayer[i])}}}
return TagManager})()}
function AlrightUtils(){"use strict";function _instanceof(left,right){if(right!=null&&typeof Symbol!=="undefined"&&right[Symbol.hasInstance]){return!!right[Symbol.hasInstance](left)}else{return left instanceof right}}
function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}
function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor)){throw new TypeError("Cannot call a class as a function")}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}
var Utils=function(){function Utils(){_classCallCheck(this,Utils);_defineProperty(this,"debug",window.location.search.includes('supertag_debug=true')||!1)}
_createClass(Utils,null,[{key:"randomId",value:function randomId(){return'supertag-ad-'+Math.random().toString(36).substr(2,9)}},{key:"loadScript",value:function loadScript(options){try{var _ref=options||{},async=_ref.async,_url=_ref.url,id=_ref.id,rest=_objectWithoutProperties(_ref,["async","url","id"]);return new Promise(function(resolve,reject){var script=document.createElement('script');script.async=async||!0;script.src=_url;script.id=id||'';document.head.insertAdjacentElement('afterbegin',script);script.addEventListener('load',function(){resolve()})})}catch(e){if(debug)console.log("N\xE3o foi poss\xEDvel carregar o script ".concat(url,": ").concat(e))}}},{key:"includeLink",value:function includeLink(options){try{var type=options.type,href=options.href;return new Promise(function(resolve,reject){var link=document.createElement('link');link.rel=type;link.href=href;document.head.insertAdjacentElement('beforeend',link);link.addEventListener('load',function(){resolve()})})}catch(e){if(debug)console.log("N\xE3o foi poss\xEDvel carregar o link ".concat(url,": ").concat(e))}}},{key:"includeCss",value:function includeCss(css){try{var alrightGlobalStyleEl=document.querySelector('.alright-global-css');if(!alrightGlobalStyleEl){var styleEl=document.createElement('style');styleEl.classList.add('alright-global-css');styleEl.innerHTML+=css;document.head.insertAdjacentElement('beforeend',styleEl)}else{alrightGlobalStyleEl.innerHTML+=css}}catch(e){if(debug)console.log('Não foi possível inserir o css ao DOM: '+e)}}},{key:"isMobile",value:function isMobile(){var isMobile=!1;(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))isMobile=!0})(navigator.userAgent||navigator.vendor||window.opera);return isMobile}}]);return Utils}();return Utils}
window.supertag=window.supertag||{};window.supertag.utils=AlrightUtils();(function(){
var Templates = {};
Templates['GAM_Prebid_ControlTag'] = (function(){return function(parameters,TagManager){const isMobile=supertag.utils.isMobile();const MY_SELECTOR=".supertag-alright-ad";const PREBID_TIMEOUT=3000;const debug=window.location.search.includes('supertag_debug=true')||false;let googletagExists=false;window.googletag=window.googletag||{};window.googletag.apiReady?googletagExists=true:googletagExists=false;googletag.cmd=googletag.cmd||[];googletag.cmd.push(function(){if(typeof dataLayer!=='undefined'&&location.host.includes('martinsatacado')){configureCategoryTargetingGrupoMartins();}
if(parameters.get('disableInitialLoad'))googletag.pubads().disableInitialLoad();googletag.pubads().enableSingleRequest();googletag.pubads().collapseEmptyDivs();googletag.pubads().setForceSafeFrame(false);googletag.enableServices();});window.apbjs=window.apbjs||{};apbjs.que=apbjs.que||[];apbjs.bidderSettings=apbjs.bidderSettings||{};apbjs.bidderSettings.appnexus={sendStandardTargeting:true,adserverTargeting:[{key:"hb_buyer_member_id",val:function(bidResponse){return bidResponse.appnexus.buyerMemberId;}}]};apbjs.que.push(function(){apbjs.setConfig({enableSendAllBids:true,debug:debug,currency:{"adServerCurrency":parameters.get('prebidCurrency')||"USD","bidderCurrencyDefault":{"rubicon":"USD","appnexus":"USD",}},priceGranularity:{"buckets":[{"precision":2,"max":100,"increment":0.01}]}});apbjs.setConfig({floors:{enforcement:{floorDeals:false,bidAdjustment:true},data:{skipRate:0,modelVersion:'static version',schema:{fields:['mediaType']},values:{'banner':parameters.get('bannerFloor')||0.05,'native':parameters.get('nativeFloor')||0.05,'video':parameters.get('videoFloor')||1,}}}});apbjs.setConfig({userSync:{userIds:[{name:"criteo",}],filterSettings:{iframe:{bidders:'*',filter:'include'}}}});if(parameters.get('prebidServer')){apbjs.setConfig({s2sConfig:{accountId:'1',enabled:true,bidders:['appnexus'],timeout:1000,adapter:'prebidServer',endpoint:'//pbserver.alright.network/openrtb2/auction',syncEndpoint:'//pbserver.alright.network/cookie_sync'}})}
if(parameters.get('prebidAnalytics')){apbjs.enableAnalytics([{provider:'adagio',}]);}
apbjs.setConfig({yahoossp:{mode:'all'}});});this.fire=function(){if(parameters.get('prebidEnabled')){supertag.utils.loadScript({url:'https://tagmanager.alright.network/prebid_alright.js',async:true});}
if(!googletagExists){debug?console.log('GoogleTag não existe, adicionando lib dinamicamente.'):false;supertag.utils.loadScript({url:'https://securepubads.g.doubleclick.net/tag/js/gpt.js',async:true});}
this.main();};this.main=function(){}
window.getPrebidPartners=function(){if(parameters.get('prebidEnabled')){let enableVidoomy=parameters.get('enableVidoomy');let enableEplanning=parameters.get('enableEplanning');let enableOnetag=parameters.get('enableOnetag');let enablePubmatic=parameters.get('enablePubmatic');let prebidPartners={"vidoomy":enableVidoomy,"eplanning":enableEplanning,"onetag":enableOnetag,"pubmatic":enablePubmatic,}
return prebidPartners}
return false;}
window.adUnitVideoConfig=(config,container,callback)=>{if(Object.keys(config).length!==0){let apbVideoTag="";apbjs.que.push(function(){apbjs.addAdUnits(config.videoAdUnit);apbjs.setConfig({debug:true,cache:{url:'https://prebid.adnxs.com/pbc/v1/cache',ignoreBidderCacheKey:true}});apbjs.requestBids({bidsBackHandler:async function(bids){console.log("Config VideoAd Unit: "+config.videoAdUnit)
console.log("Config Vast Tag: "+config.vastTag)
apbVideoTag=await apbjs.adServers.dfp.buildVideoUrl({adUnit:config.videoAdUnit,url:config.vastTag});callback(apbVideoTag+"%26hb_prebidmanage%3D1",container)}});});}}
window.adUnitConfig=(config)=>{if(config.bidders.length){let adUnit=[{code:config.id,mediaTypes:{},bids:config.bidders}];if(config.formats){if(config.formats.display){adUnit[0].mediaTypes.banner={sizes:config.sizes.filter(function(val){return val!='fluid'})}}
if(config.formats.video){adUnit[0].mediaTypes.video={context:'outstream'}
isMobile?adUnit[0].mediaTypes.video.playerSize=[1,1]:adUnit[0].mediaTypes.video.playerSize=[400,400]}
if(config.formats.native){adUnit[0].mediaTypes.native={title:{required:true,sendId:true,},body:{required:true,sendId:true,},image:{required:true,},sponsoredBy:{required:true,},icon:{required:false,},clickUrl:{required:true,sendId:true,},cta:{sendId:true,}}}}else{adUnit[0].mediaTypes.banner={sizes:config.sizes.filter(function(val){return val!='fluid'})}}
apbjs.que.push(function(){apbjs.addAdUnits(adUnit);});}}
window.call=(config)=>{const ADMANAGER_BLOCO_CODE=config.adManagerCode||'/21830119956/ca-pub-9153399113741741-tag';let slot={};googletag.cmd.push(function(){if(config?.isInterstitial){slot=googletag.defineOutOfPageSlot(ADMANAGER_BLOCO_CODE,googletag.enums.OutOfPageFormat.INTERSTITIAL);}else{slot=googletag.defineSlot(ADMANAGER_BLOCO_CODE,config.sizes,config.id);config?.segmentation?.map(function(seg){slot.setTargeting(seg[0],seg[1]);})
let context=getPageContext();context?slot.setTargeting("iabtaxonomy",context):false;slot.setTargeting("iabsafe",`${getPageSafety()}`)}
slot.addService(googletag.pubads());if(!config?.isInterstitial){if(config.isExclusiveAd||!parameters.get('prebidEnabled')){googletag.display(config.id);if(googletag.pubads().isInitialLoadDisabled()){googletag.pubads().refresh([slot]);}}else{refreshBid(config.id,slot);}}else{googletag.pubads().refresh([slot]);}
return slot;});return slot;}
window.generateId=()=>{return'supertag-ad-'+Math.random().toString(36).substr(2,9);}
window.refreshBid=(divId,slot)=>{apbjs.que.push(function(){apbjs.requestBids({timeout:PREBID_TIMEOUT,adUnitCodes:[divId],bidsBackHandler:function(bid){let winner=apbjs.getHighestCpmBids([divId]);if(!winner[0]){let event=new CustomEvent('noVideo',{'detail':{'id':divId}});document.dispatchEvent(event);}
apbjs.setTargetingForGPTAsync([divId]);googletag.pubads().refresh([slot]);}});});}
this.addGPTHeadTag=function(){!function(e,f,u){e.async=1;e.src=u;f.parentNode.insertBefore(e,f);}(document.createElement('script'),document.getElementsByTagName('script')[0],'//www.googletagservices.com/tag/js/gpt.js');};function configureCategoryTargetingGrupoMartins(){let categories=[];dataLayer.map((e)=>{if(e.categoryId){categories.push(e.categoryId)}});window.googletag.pubads().setTargeting("cat",categories);}
function configureTailTargeting(){window.googletag.pubads().setTargeting("ttLS",getTailTargetParam('LS'));window.googletag.pubads().setTargeting("ttS",getTailTargetParam('S'));window.googletag.pubads().setTargeting("ttT",getTailTargetParam('T'));window.googletag.pubads().setTargeting("ttC",getTailTargetParam('C'));window.googletag.pubads().setTargeting("ttU",getTailTargetParam('U'));window.googletag.pubads().setTargeting("ttCA",getTailTargetParam('CA'));window.googletag.pubads().setTargeting("ttE",getTailTargetParam('E'));window.googletag.pubads().setTargeting("ttA",getTailTargetParam('A'))
window.googletag.pubads().setTargeting("ttG",getTailTargetParam('G'))}
function getPageContext(){let helper={"automotivo":"Automotive","carro":"Automotive","veiculos":"Automotive","auto":"Automotive","moto":"Automotive","carrosemotos":"Automotive","motor":"Automotive","negocio":"Business and Finance","negocios":"Business and Finance","economia":"Business and Finance","agro":"Business and Finance","agronegocio":"Business and Finance","rural":"Business and Finance","business":"Business and Finance","economiaefinancas":"Business and Finance","money":"Business and Finance","dinheiro":"Business and Finance","emprego":"Careers","vagas":"Careers","vaga":"Careers","empregos":"Careers","concurso":"Careers","concursos":"Careers","empregoecarreira":"Careers","curriculos":"Careers","curriculo":"Careers","educacao":"Education","geografia":"Education","historia":"Education","portugues":"Education","matematica":"Education","exercicios":"Education","ingles":"Education","quimica":"Education","biologia":"Education","trivia":"Entertainment","quiz":"Entertainment","quizz":"Entertainment","entretenimento":"Entertainment","cultura":"Entertainment","comportamento":"Entertainment","gastronomia":"Food & Drink","receita":"Food & Drink","receitas":"Food & Drink","culinaria":"Food & Drink","saude":"Medical Health","bula":"Medical Health","saudeebemestar":"Medical Health","politica":"Politics","eleicao":"Politics","eleicoes":"Politics","variedade":"Pop Culture","varieades":"Pop Culture","famosos":"Pop Culture","celebridade":"Pop Culture","celebridades":"Pop Culture","tv":"Pop Culture","famosos":"Pop Culture","policia":"Sensitive Topics","obituario":"Sensitive Topics","transito":"Sensitive Topics","drogas":"Sensitive Topics","funebres":"Sensitive Topics","falecimentos":"Sensitive Topics","bicho":"Sensitive Topics","jogodobicho":"Sensitive Topics","seguranca":"Sensitive Topics","esporte":"Sports","esportes":"Sports","futebol":"Sports","times":"Sports","time":"Sports",}
let pathname=window.location.pathname;let aux=pathname.split("/");let words=[];aux.forEach(element=>{words=[...words,...element.toLowerCase().split("-")];})
words=words.filter((word)=>{return!!word})
let context=""
words.every(word=>{if(Object.keys(helper).includes(word)){context=helper[word];return false;}
return true})
return context}
function getPageSafety(){let helper=["acidente","acidentes","acusada","acusado","agressao","agressao","alcool","alcoolica","apreende","apreendido","apreensao","arma","armas","assasinado","assasinato","assassinada","assassinadas","atropelada","atropelado","atropelamento","atropelou","bomba","bombas","carbonizado","carcere","cigarro","cigarros","cocaina","colide","colidir","colidiu","condenada","condenado","condenados","crack","crime","detida","detido","detidos","droga","drogas","enterrado","enterro","esfaqueada","esfaqueado","estupro","explicito","facada","facadas","faleceu","falecida","falecido","feminicidio","ferido","feridos","feto","furtada ","furtado","furtados","furto","golpe","golpes","incendio","insulto","insultos","latrocinio","maconha","matam","mataram","morre","morreram","morreu","morte","mortes","morto","municao","neonazista","neonazistas","nudez","obituario","obsceno","odio","pancadaria","pirataria","policia","policiais","prende","prender","preso","presos","prisao","profanacao","propina","revolver","roubada","roubado","roubar","roubo","sexo","sexuais","sexual","suborno","suspeito","suspeitos","tabaco","terrorismo","tortura","torturada","torturado","torturados","torturam","traficante","traficantes","trafico","vape","velado","velorio",]
let pathname=window.location.pathname;let aux=pathname.split("/");let words=[];aux.forEach(element=>{words=[...words,...element.toLowerCase().split("-")];})
words=words.filter((word)=>{return!!word})
let safe=true;words.every(word=>{if(helper.includes(word)){safe=false;return false;}
return true})
return safe}
function getTailTargetParam(a){var ttStorageName="_ttdmp";if(!window._ttprofilescache){window._ttprofilescache={};try{var j=JSON.parse(window.localStorage.getItem(ttStorageName));if(j&&j.ttl&&j.ttl<(new Date()).getTime()/ 1000){window.localStorage.removeItem(ttStorageName);}
if(j.data){var c=j.data;var d=c?c.split('|'):[];for(var i=0;i<d.length;i++){var kv=d[i].split(":");if(kv[1]&&kv[1].indexOf(",")>0){window._ttprofilescache[kv[0]]=kv[1].split(",");}else{window._ttprofilescache[kv[0]]=kv[1];}}}}catch(e){}}
return window._ttprofilescache[a]?window._ttprofilescache[a]:'na';}};})(); 
Templates['CustomHtmlTag'] = (function(){/*!
    * secure-filters from https://github.com/salesforce/secure-filters/blob/master/lib/secure-filters.js
    * license: BSD-3-Clause https://github.com/salesforce/secure-filters/blob/master/LICENSE.txt
    * */
function convertControlCharacters(str){return String(str).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,' ');};var secureFilters={};secureFilters.css=function(val){var str=String(val);str=convertControlCharacters(str);return str.replace(/[^a-zA-Z0-9\uD800-\uDFFF]/g,function(match){var code=match.charCodeAt(0);if(code===0){return'\\fffd ';}else{var hex=code.toString(16).toLowerCase();return'\\'+hex+' ';}});};secureFilters.html=function(val){var str=String(val);str=convertControlCharacters(str);return str.replace(/[^\t\n\v\f\r ,\.0-9A-Z_a-z\-\u00A0-\uFFFF]/g,function(match){var code=match.charCodeAt(0);switch(code){case 0x22:return'&quot;';case 0x26:return'&amp;';case 0x3C:return'&lt;';case 0x3E:return'&gt;';default:if(code<100){var dec=code.toString(10);return'&#'+dec+';';}else{var hex=code.toString(16).toUpperCase();return'&#x'+hex+';';}}});};secureFilters.style=function(val){return secureFilters.html(secureFilters.css(val));};secureFilters.uri=function(val){var QUOT=/\x22/g;var APOS=/\x27/g;var AST=/\*/g;var TILDE=/~/g;var BANG=/!/g;var LPAREN=/\(/g;var RPAREN=/\)/g;var encode=encodeURI(String(val));return encode.replace(BANG,'%21').replace(QUOT,'%27').replace(APOS,'%27').replace(LPAREN,'%28').replace(RPAREN,'%29').replace(AST,'%2A').replace(TILDE,'%7E');};/*! end secure filters */
return function(parameters,TagManager){function moveChildrenToArray(element){var children=[];var j=0;while(j in element.childNodes&&element.childNodes.length){children.push(element.removeChild(element.childNodes[j]));}
return children;}
function cloneScript(element){var newScript=parameters.document.createElement('script');var src=TagManager.dom.getElementAttribute(element,'src');if(src){newScript.src=src;}else{newScript.text=element.text||element.textContent||element.innerHTML||'';}
if(element.id){newScript.id=element.id;}
if(element.charset){newScript.charset=element.charset;}
if(element.defer){newScript.defer=element.defer;}
if(element.async){newScript.async=element.async;}
newScript.type="text/javascript";return newScript;}
function isJavaScriptElement(element){if(element&&element.nodeName&&element.nodeName.toLowerCase()==='script'){var type=TagManager.dom.getElementAttribute(element,'type');if(!type||String(type).toLowerCase()==='text/javascript'){return true;}}
return false;}
function doChildrenContainJavaScript(element){return element&&element.innerHTML&&element.innerHTML.toLowerCase().indexOf("<script")!==-1;}
function insertNode(parent,child,append){if(append||!parent.firstChild){parent.appendChild(child);}else{parent.insertBefore(child,parent.firstChild);}}
function moveNodes(parent,children,append){var limit=5000;var counter=0;var child;while(counter in children&&children[counter]&&counter<limit){child=children[counter];counter++;if(isJavaScriptElement(child)){insertNode(parent,cloneScript(child),append);}else if(doChildrenContainJavaScript(child)){var subChildren=moveChildrenToArray(child);insertNode(parent,child,append);moveNodes(child,subChildren);}else{insertNode(parent,child,append);}}}
this.fire=function(){var html=parameters.customHtml;if(html&&html.type==='JoinedVariable'){var variables=html.getDefinition();var value='',varReturn,theVarValue,isVariable,hasValueSet;for(var i=0;i<variables.length;i++){varReturn=parameters.buildVariable(variables[i]);isVariable=TagManager.utils.isObject(variables[i]);theVarValue=varReturn.get();hasValueSet=theVarValue!==false&&theVarValue!==null&&TagManager.utils.isDefined(theVarValue);if(isVariable){if(TagManager.dom.isElementContext(value,'script')){if(!TagManager.utils.isDefined(TagManager.customHtmlDataStore)){TagManager.customHtmlDataStore=[];}
TagManager.customHtmlDataStore.push(theVarValue);value+='window.MatomoTagManager.customHtmlDataStore['+(TagManager.customHtmlDataStore.length-1)+']';}else if(TagManager.dom.isElementContext(value,'style')||TagManager.dom.isAttributeContext(value,'style')){if(hasValueSet){value+=secureFilters.css(theVarValue);}else{value+='mTmKpwoqM';}}else if(TagManager.dom.isAttributeContext(value,'href')||TagManager.dom.isAttributeContext(value,'src')){if(hasValueSet){value+=secureFilters.uri(theVarValue);}}else if(hasValueSet){value+=secureFilters.html(theVarValue);}}else if(hasValueSet){value+=theVarValue;}}
html=value;}else{html=html.get();}
if(html){var div=parameters.document.createElement('div');div.innerHTML=html;if(div.childNodes){var children=moveChildrenToArray(div);var htmlPosition=parameters.get('htmlPosition','bodyEnd');var append=true;if(htmlPosition==='headStart'||htmlPosition==='bodyStart'){append=false;}
if(htmlPosition==='headStart'||htmlPosition==='headEnd'){moveNodes(parameters.document.head,children,append);}else if(parameters.document.body){moveNodes(parameters.document.body,children,append);}else{TagManager.dom.onReady(function(){moveNodes(parameters.document.body,children,append);});}}}};};})(); 
Templates['Widescreen_EngageTag'] = (function(){return function(parameters,TagManager){const device=parameters.get('device');const isMobile=screen.width<=1000;const debug=window.location.search.includes('supertag_debug=true')||false;let config={};window.googletag=window.googletag||{};googletag.cmd=googletag.cmd||[];if((isMobile&&device=='mobile')||(!isMobile&&device=='desktop')||device=='all'){if(debug)console.log('Widescreen Engage: Iniciando configuração.');let sizes=isMobile?parameters.get('sizesMobile'):parameters.get('sizesDesktop');sizes=sizes.map(function(e){if(e!=='fluid'){return JSON.parse(e);}
return'fluid';});let minWidth=isMobile?'320px':'728px';let bidders=[];let rubiconConfig=parameters.get('rubiconSiteId')&&parameters.get('rubiconZoneId')?{siteId:parameters.get('rubiconSiteId'),zoneId:parameters.get('rubiconZoneId')}:false;let appnexusConfig=false;let smartConfig=parameters.get('smartPageId')&&parameters.get('smartFormatId');let teadsConfig=parameters.get('teadsPageId')&&parameters.get('teadsPlacementId');let adponeConfig=parameters.get('adponePlacementId')||false;let yahooConfig=parameters.get('yahooSiteId')&&parameters.get('yahooPlacementId');let seedtagConfig=parameters.get('seedtagAdUnitId')&&parameters.get('seedtagPlacement')&&parameters.get('seedtagPublisherId');let medianetConfig=parameters.get('medianetCrid')||false;rubiconConfig?bidders.push({bidder:"rubicon",params:{accountId:"16794",siteId:rubiconConfig.siteId,zoneId:rubiconConfig.zoneId,floor:0.2}}):false;smartConfig?bidders.push({bidder:"smartadserver",params:{domain:"https://prg.smartadserver.com",siteId:385838,pageId:parameters.get('smartPageId'),formatId:parameters.get('smartFormatId')}}):false;teadsConfig?bidders.push({bidder:"teads",params:{placementId:parameters.get('teadsPlacementId'),pageId:parameters.get('teadsPageId')}}):false;adponeConfig?bidders.push({bidder:"adpone",params:{placementId:adponeConfig}}):false;yahooConfig?bidders.push({bidder:"yahoossp",params:{pubId:"59485",siteId:parameters.get('yahooSiteId'),placementId:parameters.get('yahooPlacementId')}}):false;seedtagConfig?bidders.push({bidder:"seedtag",params:{publisherId:parameters.get('seedtagPublisherId'),adUnitId:parameters.get('seedtagAdUnitId'),placement:parameters.get('seedtagPlacement')}}):false;medianetConfig?bidders.push({bidder:"medianet",params:{cid:"8CU46X80R",crid:parameters.get('medianetCrid')}}):false;this.fire=function(){googletag.cmd.push(function(){main();});if(window.alrPub){window.alrPub.on('articleFocused',val=>{main();});window.alrPub.on('feedFocused',val=>{main();});}
window.addEventListener('pageChange',main);}
function main(){config=configureSlot();if(debug)console.log(config);configureAdagioBidder();window.adUnitConfig(config);loadWidescreen();}
function configureSlot(){let config={id:window.generateId(),sizes:sizes,isExclusiveAd:false,adManagerCode:parameters.get('adunit'),bidders:getNetworkPartner(bidders),segmentation:getSegmentation(),minWidth:minWidth,formats:{display:true,video:false,native:false,},}
return config;}
function getSegmentation(){let siteUrl=parameters.get('siteurl');let categoria=parameters.get('categoria');let segmentation=[['siteurl',siteUrl],['sitestructure',['RON']],['pageposition',['abovefold']],['categoria',categoria],['adposition',['widescreen']]];return segmentation;}
function loadWidescreen(){if(debug)console.log('loadWidescreen called.');window.googletag=window.googletag||{};googletag.cmd=googletag.cmd||[];let body=document.getElementsByTagName('body')[0];let wrapBanner=document.createElement('div');let divBanner=document.createElement('div');let closeBtn=document.createElement('button');let divMain=document.createElement('div');if(document.querySelector('#widescreen-main')){document.querySelector('#widescreen-main').remove();}
let spaces={"bottom":parameters.get("spaceBottom")?parameters.get("spaceBottom"):0,"top":parameters.get("spaceTop")?parameters.get("spaceTop"):0}
let position=parameters.get('position')?parameters.get('position'):"bottom";let space=spaces[position];divMain.id='widescreen-main';wrapBanner.style='display: none; width: fit-content;width: intrinsic; width: -moz-max-content;width: -webkit-max-content;height: fit-content;height: intrinsic; height: -moz-max-content;height: -webkit-max-content;margin: 0 auto;';divMain.style=`width: 100%;height: intrinsic; height: -moz-max-content;height: -webkit-max-content;z-index: 99999999999999999;position: fixed; ${position}: ${space}px;left: 0;right: 0;margin: 0 auto; background: rgba(255,255,255,0.4);`;divBanner.id=config.id;divBanner.style=`min-width: ${minWidth}; width: fit-content;width: intrinsic; width: -moz-max-content;width: -webkit-max-content;height: fit-content;height: intrinsic; height: -moz-max-content;height: -webkit-max-content;margin: 0 auto;`;closeBtn.innerHTML='x';closeBtn.style=`color: #000;width: fit-content;padding: 0px 5px;background: #fff;border: 0px;cursor: pointer;position: absolute;${position}: 100%;font-size: 14px;height: 19px;width: 16px;`;wrapBanner.insertAdjacentElement('afterbegin',divBanner);divMain.insertAdjacentElement('afterbegin',wrapBanner);body.insertAdjacentElement('afterbegin',divMain);setTimeout(function(){wrapBanner.insertAdjacentElement('afterbegin',closeBtn);},2000);googletag.cmd.push(function(){var pageConfig={allowOverlayExpansion:true,allowPushExpansion:true};googletag.pubads().setSafeFrameConfig(pageConfig);config.isExclusiveAd=!parameters.get('prebid')?true:false;let adUnitSlot=buildSlotAndRefresh(config,wrapBanner);googletag.pubads().addEventListener('slotOnload',event=>{if(!event.isEmpty&&event.slot===adUnitSlot)wrapBanner.style.display='block';});closeBtn.addEventListener("click",function(){googletag.destroySlots([adUnitSlot]);divMain.remove();});});}
const buildSlotAndRefresh=(adSlotConfig,div)=>{let refresh=parameters.get('autoRefreshAds');let interval=parameters.get('refreshInterval');interval*=1000
let adUnitSlot=window.call(adSlotConfig);if(refresh){autoRefreshAd(adSlotConfig.id,adUnitSlot,div,interval);}
return adUnitSlot}
function autoRefreshAd(id,adUnitSlot,element,timeout=25000,once=false){let interval=setInterval(()=>{window.refreshBid(id,adUnitSlot);if(once)clearInterval(interval);},timeout);}
function configureAdagioBidder(){if(parameters.get('adagioEnabled')){let adagioConfig={bidder:"adagio",params:{organizationId:'1095',site:getSiteName(),adUnitElementId:config.id,placement:getPlacementForAdagio(),}}
bidders.push(adagioConfig);}}
function getPlacementForAdagio(){let placementParts=config.adManagerCode.split('/');return placementParts[placementParts.length-1];}
function getSiteName(){let hostname=window.location.hostname;hostname=hostname.replace("www.","");hostname=hostname.replace(".com","");hostname=hostname.replace(".br","");hostname=hostname.replace(".net","");hostname=hostname.replace(".co","");hostname=hostname.replace(".gov","");hostname=hostname.replace(".info","");hostname=hostname.replace(".uol","");hostname=hostname.replace(".io","");hostname=hostname.replace(".dev","");hostname=hostname.replace(".fm","");hostname=hostname.replace(".news","");hostname=hostname.replace(".tv","");hostname=hostname.replace(".live","");hostname=hostname.replace(".online","");hostname=hostname.replace(".inf","");hostname=hostname.split('.');return hostname[hostname.length-1];}
function getNetworkPartner(bidders){let prebid=window.getPrebidPartners();prebid.eplanning?bidders.push({bidder:"eplanning",params:{ci:"4d628"}}):false;prebid.onetag?bidders.push({bidder:"onetag",params:{pubId:"757775d2f056f3e"}}):false;prebid.vidoomy?bidders.push({bidder:"vidoomy",params:{id:15029,pid:51743}}):false;prebid.pubmatic?bidders.push({bidder:"pubmatic",params:{publisherId:"160638"}}):false;return bidders}}};})(); 
Templates['Easy_AdTag'] = (function(){return function(parameters,TagManager){const device=parameters.get('device');const isMobile=screen.width<=1000;const debug=window.location.search.includes('supertag_debug=true')||false;window.googletag=window.googletag||{};googletag.cmd=googletag.cmd||[];if((isMobile&&device=='mobile')||(!isMobile&&device=='desktop')||device=='all'&&supertag){debug?console.log('Iniciando configuração Easy Ad.'):false;let sizesMobile=parameters.get('sizesMobile');let sizesDesktop=parameters.get('sizesDesktop');let floatOption=parameters.get('floatVideoOption');let enableFloat=(floatOption==='withFloat')?true:false;let startWithFloat=(floatOption==='floatFixed')?true:false;let videoSkippable=parameters.get('skippable');let adSlotConfig={id:'',sizes:[],isExclusiveAd:parameters.get('prebid')?false:true,adPlacement:null,adManagerCode:parameters.get('adunit'),bidders:[],segmentation:getSegmentation(),isInterstitial:parameters.get('isInterstitial'),formats:{display:parameters.get('displayEnabled'),video:parameters.get('videoEnabled'),native:false,},video:{skippable:videoSkippable,startInSideStream:startWithFloat,enableFloat:enableFloat,floatSide:parameters.get('floatingPosition')}}
sizesMobile=sizesMobile.map(function(val){if(val==='fluid'){return'fluid';}
return JSON.parse(val);});sizesDesktop=sizesDesktop.map(function(val){if(val==='fluid'){return'fluid';}
return JSON.parse(val);});let sizes=isMobile?sizesMobile:sizesDesktop;if(sizes.includes('fluid')&&adSlotConfig.adManagerCode.includes('/21830119956/')){adSlotConfig.formats.native=true;sizes.push([1,1]);}
adSlotConfig.sizes=sizes;let bidders=[];if(!adSlotConfig.isExclusiveAd){let rubiconConfig=parameters.get('rubiconSiteId')&&parameters.get('rubiconZoneId')?{siteId:parameters.get('rubiconSiteId'),zoneId:parameters.get('rubiconZoneId')}:false;let appnexusConfig=false;let smartConfig=parameters.get('smartPageId')&&parameters.get('smartFormatId');let teadsConfig=parameters.get('teadsPageId')&&parameters.get('teadsPlacementId');let adponeConfig=parameters.get('adponePlacementId')||false;let yahooConfig=parameters.get('yahooSiteId')&&parameters.get('yahooPlacementId');let seedtagConfig=parameters.get('seedtagAdUnitId')&&parameters.get('seedtagPlacement')&&parameters.get('seedtagPublisherId');let medianetConfig=parameters.get('medianetCrid')||false;rubiconConfig?bidders.push({bidder:"rubicon",params:{accountId:"16794",siteId:rubiconConfig.siteId,zoneId:rubiconConfig.zoneId,floor:0.2}}):false;smartConfig?bidders.push({bidder:"smartadserver",params:{domain:"https://prg.smartadserver.com",siteId:385838,pageId:parameters.get('smartPageId'),formatId:parameters.get('smartFormatId')}}):false;teadsConfig?bidders.push({bidder:"teads",params:{placementId:parameters.get('teadsPlacementId'),pageId:parameters.get('teadsPageId')}}):false;adponeConfig?bidders.push({bidder:"adpone",params:{placementId:adponeConfig}}):false;yahooConfig?bidders.push({bidder:"yahoossp",params:{pubId:"59485",siteId:parameters.get('yahooSiteId'),placementId:parameters.get('yahooPlacementId')}}):false;seedtagConfig?bidders.push({bidder:"seedtag",params:{publisherId:parameters.get('seedtagPublisherId'),adUnitId:parameters.get('seedtagAdUnitId'),placement:parameters.get('seedtagPlacement')}}):false;medianetConfig?bidders.push({bidder:"medianet",params:{cid:"8CU46X80R",crid:parameters.get('medianetCrid')}}):false;}
this.fire=function(){googletag.cmd.push(function(){main();});if(window.alrPub){window.alrPub.on('articleFocused',val=>{let referenceElement=parameters.get('reference');adSlotConfig.adPlacement=val.container.querySelector(referenceElement);if(adSlotConfig.adPlacement){adSlotConfig.adPlacement.innerHTML="";main();}});window.alrPub.on('feedFocused',val=>{let referenceElement=parameters.get('reference');adSlotConfig.adPlacement=val.container.querySelector(referenceElement);if(adSlotConfig.adPlacement){adSlotConfig.adPlacement.innerHTML="";main();}});}
window.addEventListener('pageChange',main);}
function main(){adSlotConfig.id=supertag.utils.randomId();adSlotConfig.bidders=getNetworkPartner(bidders);debug?console.log(adSlotConfig):false;let div=document.createElement('div');div.id=adSlotConfig.id;div.style.textAlign='center';div.style.position='relative';if(parameters.get("marginTop")!=0){div.style.marginTop=`${parameters.get("marginTop")}px`;}
if(parameters.get("marginBottom")!=0){div.style.marginBottom=`${parameters.get("marginBottom")}px`;}
if(adSlotConfig.formats.native&&adSlotConfig.adManagerCode.includes('/21830119956/')){div.style.margin='0 auto';}
let referenceElement=adSlotConfig.adPlacement||document.querySelector(parameters.get('reference'));let position=parameters.get('position');if(!referenceElement){return;}
let floatingPosition=parameters.get('floatingPosition');if(parameters.get('videoEnabled')&&!parameters.get('displayEnabled')&&startWithFloat===true){supertag.utils.includeCss(`@keyframes fade-in-up{0%{opacity: 0;}100%{transform: translateY(0); opacity: 1;}}.stuck{position: fixed; bottom: 105px; ${floatingPosition}: 20px; transform: translateY(100%); width: 400px; height: fit-content; animation: fade-in-up 0.25s ease forwards; z-index: 9999999999999;}.stuck video{height: auto!important;}@media screen and (max-width: 600px){.stuck{width: 300px; bottom: 100px; right: 5px;}}@media screen and (max-width: 375px){.stuck{width: 250px;}}@media screen and (max-width: 350px){.stuck{width: 220px;}}`);div.classList.add('stuck');}
if(adSlotConfig.formats.video){let videoContainer=document.createElement('div');videoContainer.id='alright-video-container';videoContainer.append(div);referenceElement.insertAdjacentElement(position,videoContainer);}else{referenceElement.insertAdjacentElement(position,div);}
if(!adSlotConfig.isExclusiveAd){configureAdagioBidder();window.adUnitConfig(adSlotConfig);}
let lazyload=parameters.get("lazyload");googletag.cmd.push(function(){if(lazyload){buildAdLazy(adSlotConfig,div);}else{buildSlotAndRefresh(adSlotConfig,div)}});}
const buildSlotAndRefresh=(adSlotConfig,div)=>{let refresh=parameters.get('autoRefreshAds');let interval=parameters.get('refreshInterval');interval*=1000
let adUnitSlot=window.call(adSlotConfig);if(refresh){autoRefreshAd(adSlotConfig.id,adUnitSlot,div,interval);}}
const buildAdLazy=(configs,div)=>{let observer_ads=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{buildSlotAndRefresh(configs,div)
observer.unobserve(entry.target);})},{rootMargin:"150px 0px 150px 0px"})
observer_ads.observe(div);}
function getSegmentation(){let supertagJsonData=document.querySelector('#post-supertag-data');let wpPostSegementation=supertagJsonData?JSON.parse(supertagJsonData.innerHTML):{};let siteUrl=parameters.get('siteurl');let siteStructure=parameters.get('sitestructure');let pagePosition=parameters.get('pageposition');let adPosition=parameters.get('adposition');let segmentation=[['siteurl',siteUrl],['sitestructure',siteStructure],['pageposition',pagePosition],['adposition',adPosition]];if(wpPostSegementation?.post_category){segmentation.push(['content_category',wpPostSegementation?.post_category]);}
return segmentation;}
function autoRefreshAd(id,adUnitSlot,element,timeout=25000,once=false){let interval=setInterval(()=>{if(isCloseToUserScreen(element)){window.refreshBid(id,adUnitSlot);if(once)clearInterval(interval);}},timeout);}
function isCloseToUserScreen(element,maxDistanceY=0){let disTop=window.pageYOffset+element.getBoundingClientRect().top+element.getBoundingClientRect().height;if(((disTop+maxDistanceY)>scrollY&&(disTop-maxDistanceY)<(scrollY+window.screen.height))){return true;}
return false;}
function configureAdagioBidder(){if(parameters.get('adagioEnabled')){let config={bidder:"adagio",params:{organizationId:'1095',site:getSiteName(),adUnitElementId:adSlotConfig.id,placement:getPlacementForAdagio(),}}
bidders.push(config);}}
function getPlacementForAdagio(){let placementParts=adSlotConfig.adManagerCode.split('/');return placementParts[placementParts.length-1];}
function getSiteName(){let hostname=window.location.hostname;hostname=hostname.replace("www.","");hostname=hostname.replace(".com","");hostname=hostname.replace(".br","");hostname=hostname.replace(".net","");hostname=hostname.replace(".co","");hostname=hostname.replace(".gov","");hostname=hostname.replace(".info","");hostname=hostname.replace(".uol","");hostname=hostname.replace(".io","");hostname=hostname.replace(".dev","");hostname=hostname.replace(".fm","");hostname=hostname.replace(".news","");hostname=hostname.replace(".tv","");hostname=hostname.replace(".live","");hostname=hostname.replace(".online","");hostname=hostname.replace(".inf","");hostname=hostname.split('.');return hostname[hostname.length-1];}
function getNetworkPartner(bidders){let prebid=window.getPrebidPartners();prebid.eplanning?bidders.push({bidder:"eplanning",params:{ci:"4d628"}}):false;prebid.onetag?bidders.push({bidder:"onetag",params:{pubId:"757775d2f056f3e"}}):false;prebid.vidoomy?bidders.push({bidder:"vidoomy",params:{id:15029,pid:51743}}):false;prebid.pubmatic?bidders.push({bidder:"pubmatic",params:{publisherId:"160638"}}):false;return bidders}}};})(); 
Templates['PageViewTrigger'] = (function(){return function(parameters,TagManager){this.setUp=function(triggerEvent){triggerEvent({event:'mtm.PageView'});};};})(); 
Templates['DomReadyTrigger'] = (function(){return function(parameters,TagManager){this.setUp=function(triggerEvent){TagManager.dom.onReady(function(){triggerEvent({event:'DOMReady'});});};};})(); 
Templates['PagePathVariable'] = (function () { return function (parameters, TagManager) { this.get = function () { return parameters.window.location.pathname;   }; } })(); 
Templates['MatomoConfigurationVariable'] = (function(){return function(parameters,TagManager){this.get=function(){var config={};for(var i in parameters){if(i==='document'||i==='window'||i==='container'||i==='variable'||TagManager.utils.isFunction(parameters[i])){continue;}
if(TagManager.utils.hasProperty(parameters,i)){config[i]=parameters.get(i);}}
return config;};this.toString=function(){return'';};};})(); 
window.MatomoTagManager.addContainer({"id":"adPdTHs1","idsite":444,"versionName":"15","revision":18,"environment":"live","tags":[{"id":583274,"type":"GAM_Prebid_Control","name":"cf48e81f4eae788173b9b6c35ab98305","parameters":{"disableInitialLoad":false,"lazyload":false,"prebidEnabled":true,"prebidServer":false,"prebidAnalytics":false,"prebidCurrency":"USD","enableVidoomy":true,"enableEplanning":true,"enableOnetag":true,"enablePubmatic":true,"bannerFloor":0.03,"nativeFloor":0.03,"videoFloor":1},"blockTriggerIds":[],"fireTriggerIds":[304928],"fireLimit":"unlimited","fireDelay":0,"startDate":null,"endDate":null,"Tag":"GAM_Prebid_ControlTag"},{"id":583275,"type":"CustomHtml","name":"ee52d8d26b4bf7bfe57fa2b88504b152","parameters":{"customHtml":"<script>\nvar apbjs = apbjs || {};\napbjs.que = apbjs.que || [];\napbjs.que.push(function() {\n    apbjs.setConfig({\n      \"schain\": {\n        \"validation\": \"strict\",\n        \"config\": {\n          \"ver\":\"1.0\",\n          \"complete\": 1,\n          \"nodes\": [\n            {\n              \"asi\":\"alright.com.br\",\n              \"sid\":\"1fcdb6a9e8d7c6b5a4e3d2c1b0a9f8e7\",\n              \"hp\":1\n            }\n          ]\n        }\n      }\n    });\n});\n<\/script>\n","htmlPosition":"headStart"},"blockTriggerIds":[],"fireTriggerIds":[304928],"fireLimit":"unlimited","fireDelay":0,"startDate":null,"endDate":null,"Tag":"CustomHtmlTag"},{"id":583276,"type":"Widescreen_Engage","name":"2b51f81b4121be9f093a58c8d6eeabb8","parameters":{"adunit":"\/21830119956,22638707948\/ECBahia\/23n_STICKY_DESK","device":"desktop","sizesMobile":["[300,100]","[320,50]","[320,100]","[300,50]"],"sizesDesktop":["[728,90]","[970,90]"],"siteurl":["ecbahia"],"categoria":[],"iabtaxonomy":[],"position":"bottom","spaceTop":0,"spaceBottom":0,"prebid":true,"appnexusConfig":0,"rubiconSiteId":"484066","rubiconZoneId":"2869798","smartPageId":1825346,"smartFormatId":96546,"teadsPageId":0,"teadsPlacementId":0,"adagioEnabled":true,"adponePlacementId":123416125714308,"yahooSiteId":"","yahooPlacementId":"","seedtagPublisherId":"8630-6868-01","seedtagAdUnitId":"30041765","seedtagPlacement":"inScreen","medianetCrid":"557237108","autoRefreshAds":true,"refreshInterval":60},"blockTriggerIds":[304929],"fireTriggerIds":[304929],"fireLimit":"unlimited","fireDelay":0,"startDate":null,"endDate":null,"Tag":"Widescreen_EngageTag"},{"id":583277,"type":"Widescreen_Engage","name":"4d26079802817c1561866ba8cf1e5c64","parameters":{"adunit":"\/21830119956,22638707948\/ECBahia\/23n_STICKY_MOB","device":"mobile","sizesMobile":["[300,100]","[320,50]","[320,100]","[300,50]"],"sizesDesktop":["[728,90]","[970,90]"],"siteurl":["ecbahia"],"categoria":[],"iabtaxonomy":[],"position":"bottom","spaceTop":0,"spaceBottom":0,"prebid":true,"appnexusConfig":0,"rubiconSiteId":"484066","rubiconZoneId":"2869798","smartPageId":1825346,"smartFormatId":96546,"teadsPageId":0,"teadsPlacementId":0,"adagioEnabled":true,"adponePlacementId":12341612571622,"yahooSiteId":"","yahooPlacementId":"","seedtagPublisherId":"8630-6868-01","seedtagAdUnitId":"30041765","seedtagPlacement":"inScreen","medianetCrid":"613687993","autoRefreshAds":true,"refreshInterval":45},"blockTriggerIds":[304929],"fireTriggerIds":[304929],"fireLimit":"unlimited","fireDelay":0,"startDate":null,"endDate":null,"Tag":"Widescreen_EngageTag"},{"id":583278,"type":"Easy_Ad","name":"64ea37b9d7842bc3bf5ee6fe75d6646a","parameters":{"adunit":"\/21830119956,22638707948\/ECBahia\/23n_SIDEBAR_DESK","device":"desktop","isInterstitial":false,"sizesMobile":[],"sizesDesktop":["[300,250]","fluid"],"siteurl":["ecbahia"],"sitestructure":["RON"],"pageposition":[],"iabtaxonomy":[],"adposition":[],"reference":"div.banner_a","position":"afterbegin","floatingPosition":"left","prebid":true,"displayEnabled":true,"videoEnabled":false,"floatVideoOption":"floatFixed","skippable":true,"appnexusPlacementId":0,"rubiconSiteId":"484066","rubiconZoneId":"2869798","smartPageId":1825346,"smartFormatId":96547,"teadsPageId":0,"teadsPlacementId":0,"adagioEnabled":true,"adponePlacementId":0,"yahooSiteId":"","yahooPlacementId":"","seedtagPublisherId":"8630-6868-01","seedtagAdUnitId":"30041769","seedtagPlacement":"inBanner","medianetCrid":"434205035","lazyLoad":false,"autoRefreshAds":false,"refreshInterval":35,"marginTop":10,"marginBottom":10},"blockTriggerIds":[],"fireTriggerIds":[304929],"fireLimit":"unlimited","fireDelay":0,"startDate":null,"endDate":null,"Tag":"Easy_AdTag"},{"id":583279,"type":"CustomHtml","name":"f156363984ad8163325234150e3947e2","parameters":{"customHtml":"<script>\nwindow.googletag = window.googletag || {cmd: []};\ngoogletag.cmd.push(function() {\n    googletag.pubads().addEventListener('impressionViewable', function(event) {\n        var slot = event.slot;\n        if(slot.getAdUnitPath().search(\"21830119956\")!=-1){\n            setTimeout(function() {\n                if(document.getElementById(slot.getSlotElementId())!=null){\n                    apbjs.que.push(function() {\n                        apbjs.requestBids({\n                            timeout: 3000,\n                            adUnitCodes: [slot.getSlotElementId()],\n                            bidsBackHandler: function() {\n                                apbjs.setTargetingForGPTAsync([slot.getSlotElementId()]);\n                                googletag.pubads().refresh([slot]);\n                                console.log(\"AL\/: Refreshed > \" + slot.getSlotElementId() + ' \/ ' + slot.getAdUnitPath());\n                            }\n                        });\n                    });\n                } else { console.log(\"AL\/: Refresh ERROR!\"); }\n            }, 40 * 1000);\n        }\n    });\n    googletag.enableServices();\n});\n\n\/\/LAZYLOAD\ngoogletag.cmd.push(function() {\n    googletag.pubads().enableLazyLoad({\n        fetchMarginPercent: 35,\n        renderMarginPercent: 25,\n        mobileScaling: 2.0\n    });\n});\n<\/script>","htmlPosition":"headStart"},"blockTriggerIds":[],"fireTriggerIds":[304928],"fireLimit":"unlimited","fireDelay":0,"startDate":null,"endDate":null,"Tag":"CustomHtmlTag"},{"id":583280,"type":"Easy_Ad","name":"c3f0bf67590195b090328ac0e3d4fb48","parameters":{"adunit":"\/21830119956,22638707948\/ECBahia\/23u_D3_MOB_INTERNA","device":"mobile","isInterstitial":false,"sizesMobile":["[300,250]","[320,250]","[300,100]","[320,50]","[336,280]","[250,250]","[200,200]","[320,100]","[300,50]","fluid"],"sizesDesktop":[],"siteurl":["ecbahia"],"sitestructure":["RON"],"pageposition":[],"iabtaxonomy":[],"adposition":[],"reference":"#conteudo > div.col-a > article > div.conteudo_post.wid","position":"afterend","floatingPosition":"left","prebid":true,"displayEnabled":true,"videoEnabled":false,"floatVideoOption":"floatFixed","skippable":true,"appnexusPlacementId":0,"rubiconSiteId":"484066","rubiconZoneId":"2869798","smartPageId":1825346,"smartFormatId":96550,"teadsPageId":0,"teadsPlacementId":0,"adagioEnabled":true,"adponePlacementId":0,"yahooSiteId":"","yahooPlacementId":"","seedtagPublisherId":"","seedtagAdUnitId":"","seedtagPlacement":"inScreen","medianetCrid":"","lazyLoad":false,"autoRefreshAds":false,"refreshInterval":35,"marginTop":10,"marginBottom":10},"blockTriggerIds":[],"fireTriggerIds":[304930],"fireLimit":"unlimited","fireDelay":0,"startDate":null,"endDate":null,"Tag":"Easy_AdTag"},{"id":583281,"type":"Easy_Ad","name":"0e33c784c9e96ebb196cc5df449f2a19","parameters":{"adunit":"\/21830119956,22638707948\/ECBahia\/23u_D3_DESK_INTERNA","device":"desktop","isInterstitial":false,"sizesMobile":["[300,250]"],"sizesDesktop":["[250,250]","[300,250]","[320,250]","[728,90]","fluid","[468,60]","[480,75]"],"siteurl":["ecbahia"],"sitestructure":["RON"],"pageposition":[],"iabtaxonomy":[],"adposition":[],"reference":"#conteudo > div.col-a > article > div.conteudo_post.wid","position":"afterend","floatingPosition":"left","prebid":true,"displayEnabled":true,"videoEnabled":false,"floatVideoOption":"floatFixed","skippable":true,"appnexusPlacementId":0,"rubiconSiteId":"484066","rubiconZoneId":"2869798","smartPageId":1825346,"smartFormatId":96550,"teadsPageId":0,"teadsPlacementId":0,"adagioEnabled":true,"adponePlacementId":0,"yahooSiteId":"","yahooPlacementId":"","seedtagPublisherId":"","seedtagAdUnitId":"","seedtagPlacement":"inScreen","medianetCrid":"","lazyLoad":false,"autoRefreshAds":false,"refreshInterval":35,"marginTop":10,"marginBottom":10},"blockTriggerIds":[],"fireTriggerIds":[304930],"fireLimit":"unlimited","fireDelay":0,"startDate":null,"endDate":null,"Tag":"Easy_AdTag"},{"id":583282,"type":"Easy_Ad","name":"0daf12774e4ccd9a3ea23d3e0a57cb0b","parameters":{"adunit":"\/21830119956,22638707948\/ECBahia\/23u_D2_MOB_INTERNA","device":"mobile","isInterstitial":false,"sizesMobile":["[300,250]","[320,250]","[300,100]","[320,50]","[336,280]","[250,250]","[200,200]","[320,100]","[300,50]","fluid"],"sizesDesktop":[],"siteurl":["ecbahia"],"sitestructure":["RON"],"pageposition":[],"iabtaxonomy":[],"adposition":[],"reference":"#conteudo > div.col-a > article > div.conteudo_post.wid > p:first-of-type","position":"afterend","floatingPosition":"left","prebid":true,"displayEnabled":true,"videoEnabled":false,"floatVideoOption":"floatFixed","skippable":true,"appnexusPlacementId":0,"rubiconSiteId":"484066","rubiconZoneId":"2869798","smartPageId":1825346,"smartFormatId":96549,"teadsPageId":0,"teadsPlacementId":0,"adagioEnabled":true,"adponePlacementId":0,"yahooSiteId":"","yahooPlacementId":"","seedtagPublisherId":"","seedtagAdUnitId":"","seedtagPlacement":"inScreen","medianetCrid":"","lazyLoad":false,"autoRefreshAds":false,"refreshInterval":35,"marginTop":10,"marginBottom":10},"blockTriggerIds":[],"fireTriggerIds":[304930],"fireLimit":"unlimited","fireDelay":0,"startDate":null,"endDate":null,"Tag":"Easy_AdTag"},{"id":583283,"type":"Easy_Ad","name":"08988d4724dd291365198913d3d2f12f","parameters":{"adunit":"\/21830119956,22638707948\/ECBahia\/23u_D2_DESK_INTERNA","device":"desktop","isInterstitial":false,"sizesMobile":[],"sizesDesktop":["[300,250]","[320,250]","fluid","[468,60]","[480,75]"],"siteurl":[],"sitestructure":["RON"],"pageposition":[],"iabtaxonomy":[],"adposition":[],"reference":"#conteudo > div.col-a > article > div.conteudo_post.wid > p:first-of-type","position":"afterend","floatingPosition":"left","prebid":true,"displayEnabled":true,"videoEnabled":false,"floatVideoOption":"floatFixed","skippable":true,"appnexusPlacementId":0,"rubiconSiteId":"484066","rubiconZoneId":"2869798","smartPageId":1825346,"smartFormatId":96549,"teadsPageId":0,"teadsPlacementId":0,"adagioEnabled":true,"adponePlacementId":0,"yahooSiteId":"","yahooPlacementId":"","seedtagPublisherId":"","seedtagAdUnitId":"","seedtagPlacement":"inScreen","medianetCrid":"","lazyLoad":false,"autoRefreshAds":false,"refreshInterval":35,"marginTop":10,"marginBottom":10},"blockTriggerIds":[],"fireTriggerIds":[304930],"fireLimit":"unlimited","fireDelay":0,"startDate":null,"endDate":null,"Tag":"Easy_AdTag"},{"id":583284,"type":"Easy_Ad","name":"10ad59df7e6b4e9aa416da0b5123a385","parameters":{"adunit":"\/21830119956,22638707948\/ECBahia\/23u_D2_MOB_HOME","device":"mobile","isInterstitial":false,"sizesMobile":["[300,250]","[320,250]","[300,100]","[320,50]","[336,280]","[250,250]","[200,200]","[320,100]","[300,50]","fluid"],"sizesDesktop":[],"siteurl":["ecbahia"],"sitestructure":["RON"],"pageposition":[],"iabtaxonomy":[],"adposition":[],"reference":"#jogos","position":"beforebegin","floatingPosition":"left","prebid":true,"displayEnabled":true,"videoEnabled":false,"floatVideoOption":"floatFixed","skippable":true,"appnexusPlacementId":0,"rubiconSiteId":"484066","rubiconZoneId":"2869798","smartPageId":1825346,"smartFormatId":96549,"teadsPageId":0,"teadsPlacementId":0,"adagioEnabled":true,"adponePlacementId":0,"yahooSiteId":"","yahooPlacementId":"","seedtagPublisherId":"","seedtagAdUnitId":"","seedtagPlacement":"inScreen","medianetCrid":"","lazyLoad":false,"autoRefreshAds":false,"refreshInterval":35,"marginTop":10,"marginBottom":10},"blockTriggerIds":[],"fireTriggerIds":[304931],"fireLimit":"unlimited","fireDelay":0,"startDate":null,"endDate":null,"Tag":"Easy_AdTag"}],"triggers":[{"id":304928,"type":"PageView","name":"PageView","parameters":[],"conditions":[],"Trigger":"PageViewTrigger"},{"id":304929,"type":"DomReady","name":"DomReady","parameters":[],"conditions":[],"Trigger":"DomReadyTrigger"},{"id":304930,"type":"DomReady","name":"DomReady","parameters":[],"conditions":[{"actual":{"name":"PagePath","type":"PagePath","lookUpTable":[],"defaultValue":null,"parameters":[],"Variable":"PagePathVariable"},"comparison":"not_equals","expected":"\/"}],"Trigger":"DomReadyTrigger"},{"id":304931,"type":"DomReady","name":"DomReady","parameters":[],"conditions":[{"actual":{"name":"PagePath","type":"PagePath","lookUpTable":[],"defaultValue":null,"parameters":[],"Variable":"PagePathVariable"},"comparison":"equals","expected":"\/"}],"Trigger":"DomReadyTrigger"}],"variables":[{"name":"PagePath","type":"PagePath","lookUpTable":[],"defaultValue":null,"parameters":[],"Variable":"PagePathVariable"},{"name":"MatomoConfiguration","type":"MatomoConfiguration","lookUpTable":[],"defaultValue":"","parameters":{"matomoUrl":"\/\/analytics.alright.network\/manager\/","idSite":"444","enableLinkTracking":true,"enableCrossDomainLinking":false,"enableDoNotTrack":false,"enableJSErrorTracking":false,"enableHeartBeatTimer":false,"trackAllContentImpressions":false,"trackVisibleContentImpressions":false,"disableCookies":false,"setSecureCookie":false,"cookieDomain":"","cookiePath":"","domains":[],"alwaysUseSendBeacon":false,"userId":"","customDimensions":[],"bundleTracker":true,"registerAsDefaultTracker":true,"jsEndpoint":"matomo.js","trackingEndpoint":"matomo.php"},"Variable":"MatomoConfigurationVariable"}]}, Templates);})()})()
