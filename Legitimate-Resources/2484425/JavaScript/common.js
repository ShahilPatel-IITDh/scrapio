var modalVerticalCenterClass=".modal.modal-vcenter";function centerModals(t){(t.length?t:$(modalVerticalCenterClass+":visible")).each(function(t){var a=$(this).clone().css("display","block").appendTo("body"),o=Math.round((a.height()-a.find(".modal-content").height())/3);o=0<o?o:0,a.remove(),$(this).find(".modal-content").css("margin-top",o)})}$(modalVerticalCenterClass).on("show.bs.modal",function(t){centerModals($(this))}),$(window).on("resize",centerModals),function(h){h(document).ready(function(){var o=h("#mainModal");o.on("show.bs.modal",function(t){var a=h(this),o=a.find(".modal-content"),i=h(t.relatedTarget);if("#"==i.attr("href")){var n=i.data("value");cid=i.data("cid")?i.data("cid"):"#defaultModal",content=h(cid).children(),o.html(content),a.data({from:cid,jump:n})}}),o.on("click",".modal-submit",function(){var t=o.find("form"),a=o.data("jump");window.location.href=t.size()?a+(-1<a.indexOf("?")?"&":"?")+t.serialize():a,o.modal("hide")}),o.on("hidden.bs.modal",function(t){var a=h(this),o=a.data("from");o&&h(o).html(a.find(".modal-content").children()),a.removeData(["from","jump","bs.modal"])});var t=h(".nav-toggle"),a=h(".menu-panel"),i=a.find(">ul>li");t.on("click",function(){a.toggleClass("active")}),i.hover(function(){h(this).addClass("active").find(".menu-more").addClass("active")},function(){h(this).removeClass("active").find(".menu-more").removeClass("active")});var n=h("#searchType"),e=n.parents("form");n&&(h.each(n.find("option"),function(t,a){-1<location.href.indexOf(h(this).val())&&(h(this).attr("selected",!0),e.attr("action",h(this).val()))}),n.on("change",function(){e.attr("action",h(this).val())}));var d=h("#backToTop");d.on("click",function(){h("html, body").animate({scrollTop:0},100,"swing")});var c=h("[data-scrollfix]"),l=h(window).height();function r(t,a){a?t.addClass("fixed-block"):t.removeClass("fixed-block")}h.each(c,function(){var t=h(this),a=t.data("scrollfix"),o=-1<a.indexOf("Full")?"100%":t.outerWidth()+"px",i=t.outerHeight()+"px";t.css({width:o}).parent().css({width:o,height:i}),-1<a.indexOf("bottom")&&t.addClass("fixed-block")}),window.onscroll=function(){var i=h(document).scrollTop();300<i?d.show():d.hide(),h.each(c,function(){var t=h(this),a=t.parent(),o=t.data("scrollfix");-1<o.indexOf("top")?r(t,i>a.offset().top):-1<o.indexOf("bottom")&&r(t,i<a.offset().top-l)})};var s=h("[data-previewimg]"),f=h("#previewModal");f&&s.length&&s.on("click",function(){var t=h(this);"self"==t.data("previewimg")?f.find("img").attr("src",t.attr("src")):f.find("img").attr("src",t.find("img").attr("src")),f.modal("show")})})}(jQuery);