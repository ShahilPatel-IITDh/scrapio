/* GptMeasurement LegacyLayer SignalsAutoInsertion SignalsBsc SignalsIds SignalsTvp SignalsVlp TimeConfig */
(()=>{var Ht=Object.defineProperty,Io=Object.defineProperties,yo=Object.getOwnPropertyDescriptor,Do=Object.getOwnPropertyDescriptors;var kt=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var Yt=(r,t,e)=>t in r?Ht(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,E=(r,t)=>{for(var e in t||(t={}))Te.call(t,e)&&Yt(r,e,t[e]);if(kt)for(var e of kt(t))he.call(t,e)&&Yt(r,e,t[e]);return r},w=(r,t)=>Io(r,Do(t)),n=(r,t)=>Ht(r,"name",{value:t,configurable:!0});var Ee=(r,t)=>{var e={};for(var o in r)Te.call(r,o)&&t.indexOf(o)<0&&(e[o]=r[o]);if(r!=null&&kt)for(var o of kt(r))t.indexOf(o)<0&&he.call(r,o)&&(e[o]=r[o]);return e};var s=(r,t,e,o)=>{for(var i=o>1?void 0:o?yo(t,e):t,l=r.length-1,d;l>=0;l--)(d=r[l])&&(i=(o?d(t,e,i):d(i))||i);return o&&i&&Ht(t,e,i),i};var c=(r,t,e)=>(Yt(r,typeof t!="symbol"?t+"":t,e),e);var m=(r,t,e)=>new Promise((o,i)=>{var l=f=>{try{u(e.next(f))}catch(A){i(A)}},d=f=>{try{u(e.throw(f))}catch(A){i(A)}},u=f=>f.done?o(f.value):Promise.resolve(f.value).then(l,d);u((e=e.apply(r,t)).next())});var Re={getVisitTargeting:()=>m(void 0,null,function*(){return{}}),getSlotTargeting:r=>m(void 0,null,function*(){return{}})};var Ae=E({queueAdRequest:r=>{var t;try{(t=r.callback)==null||t.call(r),r.callback=null}catch(e){}}},Re);var Tt=class{constructor(t,e){c(this,"window");c(this,"dvtag");c(this,"modules",new Map);var o;this.window=e,this.window.dvtag=(o=this.window.dvtag)!=null?o:{},this.dvtag=this.window.dvtag,this.dvtag._core=this;for(let[i,l]of Object.entries(Ae))this.dvtag[i]=l;for(let i of t)this.createModule(i);for(let i of this.modules.values())this.applyModuleDecoration(i);for(let i of this.modules.values())this.applyPluginDecoration(i);for(let i of this.modules.values())this.applyApiDecoration(i);for(let i of this.modules.values())this.applyExecuteDecoration(i)}get(t){return this.getModule(t).gateway}getByName(t){let e=[...this.modules.keys()].find(o=>o.name===t);return e!=null?this.get(e):null}getModule(t){let e=this.modules.get(t);if(e==null)throw new Error(`module not in core: ${t.name}`);return e}createModule(t){if(t.prototype.moduleConfig==null)throw new Error(`not a module: ${t.name}`);let e=new t;e.core=this,e.gateway={module:e},this.modules.set(t,e)}applyModuleDecoration(t){let e=t.constructor.prototype.moduleConfig;for(let{method:o}of e){let i=t[o].bind(t),l=n((...d)=>{var F,X,z,nt,Ut,Gt;let u,f=(z=(X=(F=this.dvtag._hooks)==null?void 0:F.interceptModule)==null?void 0:X[t.constructor.name])==null?void 0:z[o];f==null?u=i(...d):u=f(...d);let A=(Gt=(Ut=(nt=this.dvtag._hooks)==null?void 0:nt.inspectModule)==null?void 0:Ut[t.constructor.name])==null?void 0:Gt[o];return A!=null&&A(d,u),u},"gatedMethod");t.gateway[o]=l}}applyPluginDecoration(t){var o;let e=(o=t.constructor.prototype.pluginConfig)!=null?o:[];for(let{PluggableClass:i,category:l,method:d}of e)this.getModule(i).plugins[l].push(t.gateway[d])}applyApiDecoration(t){var o;let e=(o=t.constructor.prototype.apiConfig)!=null?o:[];for(let{api:i,method:l}of e)Object.defineProperty(this.dvtag,i,{value:t.gateway[l],writable:!1})}applyExecuteDecoration(t){var o;let e=(o=t.constructor.prototype.executeConfig)!=null?o:[];for(let{method:i}of e)t.gateway[i]()}};n(Tt,"Core");var Jt=[],Xt=Jt;var g=n(r=>{let t=r.prototype,e=Object.getOwnPropertyNames(t).filter(o=>{var i;return o!=="constructor"&&((i=Object.getOwnPropertyDescriptor(t,o))==null?void 0:i.value)instanceof Function});t.moduleConfig=e.map(o=>({method:o})),Jt.push(r)},"moduleClass"),I=n((r,t)=>{var e;r.executeConfig=(e=r.executeConfig)!=null?e:[],r.executeConfig.push({method:t})},"executeMethod"),S=n((r,t)=>(e,o)=>{var i;e.pluginConfig=(i=e.pluginConfig)!=null?i:[],e.pluginConfig.push({PluggableClass:r,category:t,method:o})},"pluginMethod"),ht=n(r=>(t,e)=>{var o;t.apiConfig=(o=t.apiConfig)!=null?o:[],t.apiConfig.push({api:r,method:e})},"apiMethod");var Vt=n((r,...t)=>{try{return r(...t)}catch(e){return null}},"tryFunction"),Zt=n((r,...t)=>m(void 0,null,function*(){try{return yield r(...t)}catch(e){return null}}),"tryFunctionAsync"),T=n((r,...t)=>r.map(e=>Vt(e,...t)),"tryFunctions");var qt=["BSC","ABS"],_e=["IDS"],Et=["VLP","TVP"],vo=[...qt,..._e,...Et],Ie=n(r=>vo.includes(r.toUpperCase()),"isSignal"),ye=n(r=>Et.includes(r.toUpperCase()),"isSlotSignal"),De=n(r=>_e.includes(r.toUpperCase()),"isUserSignal"),ve=n(r=>qt.includes(r.toUpperCase()),"isPageSignal");var Nt=class{constructor(){c(this,"pending",[]);c(this,"flushing",!1)}push(t){this.pending.push(t),this.flush()}flush(){return m(this,null,function*(){var e;if(this.flushing)return;this.flushing=!0;let t=this.pending.shift();for(;t!=null;){try{yield t.promise}catch(o){}try{(e=t.callback)==null||e.call(t)}catch(o){}t=this.pending.shift()}this.flushing=!1})}};n(Nt,"AsyncQueue");var b=class{constructor(){c(this,"plugins",{onAdRequestQueued:[]});c(this,"queue",new Nt);c(this,"adRequests",[])}onAdRequestQueued(t){return m(this,null,function*(){if(T(this.plugins.onAdRequestQueued),t==null)return;let e={status:0,timeoutValue:t.timeout,timeoutStarted:t.timestamp,delayStarted:new Date().getTime()};this.adRequests.push(e);let o=t.callback;o==null?e.status=1:t.callback=()=>{e.status=2,e.released=new Date().getTime(),t.callback=null,o()};let i=n(()=>{e.delayEnded=new Date().getTime(),t.callback!=null&&(t.callback=null,e.status=3,e.released=new Date().getTime(),o==null||o())},"onAsyncOperationsCompleted");this.queue.push({callback:i})})}delayAdRequests(t){this.queue.push({promise:t})}getAdRequestStatusses(){return this.adRequests}};n(b,"DelayAdRequests"),s([ht("queueAdRequest")],b.prototype,"onAdRequestQueued",1),b=s([g],b);var jt,bo=new Uint8Array(16);function te(){if(!jt&&(jt=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jt(bo)}n(te,"rng");var O=[];for(let r=0;r<256;++r)O.push((r+256).toString(16).slice(1));function be(r,t=0){return(O[r[t+0]]+O[r[t+1]]+O[r[t+2]]+O[r[t+3]]+"-"+O[r[t+4]]+O[r[t+5]]+"-"+O[r[t+6]]+O[r[t+7]]+"-"+O[r[t+8]]+O[r[t+9]]+"-"+O[r[t+10]]+O[r[t+11]]+O[r[t+12]]+O[r[t+13]]+O[r[t+14]]+O[r[t+15]]).toLowerCase()}n(be,"unsafeStringify");var Mo=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ee={randomUUID:Mo};function Oo(r,t,e){if(ee.randomUUID&&!t&&!r)return ee.randomUUID();r=r||{};let o=r.random||(r.rng||te)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){e=e||0;for(let i=0;i<16;++i)t[e+i]=o[i];return t}return be(o)}n(Oo,"v4");var oe=Oo;var q=n(()=>oe(),"uuid");var Bt=n(r=>r==null?"":`@${r}`,"getPositionSuffix");var Co=/^(\d+)x(\d+)$/,Me=n(r=>r==="all"?[]:r.split(",").map(t=>{let e=t.match(Co);return e==null?{label:t}:{width:parseInt(e[1],10),height:parseInt(e[2],10)}}),"stringToSlotSizes"),re=n(r=>r.length===0?"all":r.map(({width:t,height:e,label:o})=>o!=null?o:`${t}x${e}`).join(","),"slotSizesToString"),$t=n(r=>r.length>0&&r.every(({label:o})=>o==null)?re(r):"","slotSizesToStringIfSpecific");var L=class{constructor(){c(this,"cache",{})}performFetchJson(t){return m(this,null,function*(){let e=yield this.core.window.fetch(t);return{json:yield e.json(),headers:e.headers}})}fetchJson(t){return m(this,null,function*(){let e=this.cache[t];return e==null&&(e=this.performFetchJson(t).then(o=>o.json),this.cache[t]=e),e})}fetchJsonWithHeaders(t){return m(this,null,function*(){let e=this.cache[t];if(e!=null)return{data:yield e};let o=this.performFetchJson(t);this.cache[t]=o.then(d=>d.json);let{json:i,headers:l}=yield o;return{data:i,headers:l}})}};n(L,"Fetch"),L=s([g],L);var Fo=[[/((\?)|&)(?:amp_lite|fr=operanews)/g,"$2"],[/(^https?:\/\/)(www\.)/g,"$1"],[/(((\?)|&|%3F|%26|;)(?:utm_campaign|utm_source|utm_content|utm_term|utm_viral|utm_medium|utm_identifier|utm_key|fb_source|referrer|referer|ref|rand|rnd|randid|\.?rand|\.?partner|cb|count|adid|session|sessionid|session_redirect|param\d|userinfo|uid|refresh|ocid|ncid|clickenc|fbclid|amp_js_v|amp_gsa|ns_source|ns_campaign|ns_mchanel|ns_mchannel|ns_linkname|ns_fee|src|ex_cid|usqp|source|xid|trkid|utm_social-type|mbid|utm_brand|__twitter_impression|utm_referrer|CMP|cmp|_cmp|cq_cmp)=[^&]*)/g,"$3"],[/[/.]amp(?:\/[?&]*)?$/g,""],[/((\?)|&)(?:outputType|isFollow|suppressMediaBar|cid|ICID|icid|bdk|wtu_id_h|utm_placement|intcmp|_native_ads|traffic_source|entry|\.tsrc|autoplay|autostart|dc_data|influencer|pubdate|utm_hp_ref|redirect|service|refresh_ce|refresh_cens|xcmg|target_id|_amp)=[^&]*/g,"$2"],[/(\?|&)(?:amp)(?:&|$|=[^&]*)/g,"$1"]],No=[[/(?:\/|\/\?|\?|&|\/\$0|#[\s\S]*)+$/g,""],[/(?:\/|\/\?|\?|&|\/\$0|#[\s\S]*)+$/g,""]],Oe=n((r,t)=>{for(let[e,o]of r)t=t.replace(e,o);return t},"replaceByRules"),Ce=n(r=>{let t=Oe(Fo,r);return Oe(No,t)},"normalizeUrl");var Fe=n((r,t)=>{try{let e=new URLSearchParams(r),o=e.get("ctx"),i=e.get("cmp");if(o!=null&&i!=null)return{ctx:o,cmp:i,prefetch:t}}catch(e){}return null},"parseInfo"),Ne=n(r=>{var t;return r.pathname!=="/signals/pub.js"?null:(t=Fe(r.search,!0))!=null?t:Fe(r.hash.substring(1),!1)},"parseLegacyPagetagUrl");var xo=/^\/dvtag\/([^/]+)\/([^/]+)\/pub\.js$/,v=class{constructor(){c(this,"visitUuid",q());c(this,"tagInfo");c(this,"normalizedUrl")}getTagInfo(){var t;if(this.tagInfo==null){try{this.tagInfo=this.parseTagInfo()}catch(e){}(t=this.tagInfo)!=null||(this.tagInfo={ctx:"unknown",cmp:"unknown"})}return this.tagInfo}getVisitUuid(){return this.visitUuid}parseTagInfo(){let t=this.getCurrentScriptSrc();if(t==null)return null;let e=new URL(t,"https://pub.doubleverify.com"),o=e.pathname,i=xo.exec(o);if(i!=null){let[,l,d]=i;return{ctx:l,cmp:d}}return Ne(e)}getCurrentScriptSrc(){var t,e,o;return(o=(e=(t=this.core.window.document.currentScript)==null?void 0:t.getAttribute)==null?void 0:e.call(t,"src"))!=null?o:null}getNormalizedPageUrl(){return this.normalizedUrl==null&&(this.normalizedUrl=Ce(this.core.window.location.href)),this.normalizedUrl}};n(v,"Context"),s([I],v.prototype,"getTagInfo",1),v=s([g],v);var ne="https://pub.doubleverify.com/dvtag/signals/",U=class{getBaseUrl(t,e){let o=this.core.get(v),{ctx:i,cmp:l}=o.getTagInfo(),d=o.getNormalizedPageUrl();if(e!==!0)try{d=new URL(d).origin}catch(f){}let u=new URL(t,ne);return u.searchParams.set("ctx",i),u.searchParams.set("cmp",l),u.searchParams.set("url",d),u}getUserTargetingUrl(t){let e=this.getBaseUrl("ids/pub.json");return t.includes("IDS")&&e.searchParams.set("ids","1"),e.href}getPageTargetingUrl(t){let e=this.getBaseUrl("bsc/pub.json",!0);return t.includes("BSC")&&e.searchParams.set("bsc","1"),t.includes("ABS")&&e.searchParams.set("abs","1"),e.href}getSlotTargetingUrl(t,e){let o=this.getBaseUrl("vlp/pub.json");t.includes("VLP")&&o.searchParams.set("vlp","1"),t.includes("TVP")&&o.searchParams.set("tvp","1");let i=0;for(let{unitId:l,sizes:d,position:u}of e){let f=l+Bt(u);o.searchParams.set(`slot-${i++}-${f}`,$t(d))}return o.href}};n(U,"SignalsUrlBuilder"),U=s([g],U);var it=class{fetchSignals(t){return m(this,null,function*(){if(!t.some(ve))return{};let e=this.core.get(U).getPageTargetingUrl(t),o;try{o=yield this.core.get(L).fetchJson(e)}catch(i){return{}}return o instanceof Object?o:{}})}};n(it,"PageSignals"),it=s([g],it);var st=class{constructor(){c(this,"pendingSlots",[]);c(this,"pendingBulkRequest",null)}scheduleBulkRequest(t){return m(this,null,function*(){yield Promise.resolve();let e=this.core.get(U).getSlotTargetingUrl(t,this.pendingSlots);this.pendingSlots=[],this.pendingBulkRequest=null;let o;try{o=yield this.core.get(L).fetchJson(e)}catch(i){return[]}return o})}fetchSignals(t,e){return m(this,null,function*(){if(!e.some(ye))return{};let o=this.pendingSlots.push(t)-1;this.pendingBulkRequest==null&&(this.pendingBulkRequest=this.scheduleBulkRequest(e));let l=(yield this.pendingBulkRequest)[o];return l instanceof Object?l:{}})}};n(st,"SlotSignals"),st=s([g],st);var at=class{fetchSignals(t){return m(this,null,function*(){if(!t.some(De))return{};let e=this.core.get(U).getUserTargetingUrl(t),o;try{o=yield this.core.get(L).fetchJson(e)}catch(i){return{}}return o instanceof Object?o:{}})}};n(at,"UserSignals"),at=s([g],at);var xe=n((r,t)=>E(E({},r!=null?r:{}),t!=null?t:{}),"mergeRecords");var _=class{constructor(){c(this,"plugins",{getEnabledSignals:[],onUserTargetingUpdated:[],onPageTargetingUpdated:[],onSlotTargetingUpdated:[]});c(this,"dataForMigrationTracking",{userTargeting:{},pageTargeting:{},slotTargeting:[],slots:[]});c(this,"userTargeting");c(this,"pageTargeting");c(this,"slotTargeting",{})}getEnabledSignals(){return T(this.plugins.getEnabledSignals)}getDataForMigrationTracking(){return this.dataForMigrationTracking}getUserTargeting(){return m(this,null,function*(){return this.userTargeting==null&&(this.userTargeting=this.fetchUserTargeting(),this.core.get(b).delayAdRequests(this.userTargeting)),this.userTargeting})}getPageTargeting(){return m(this,null,function*(){return this.pageTargeting==null&&(this.pageTargeting=this.fetchPageTargeting(),this.core.get(b).delayAdRequests(this.pageTargeting)),this.pageTargeting})}getSlotTargeting(t){return m(this,null,function*(){let e=t.unitId+Bt(t.position)+$t(t.sizes),o=this.slotTargeting[e];return o==null&&(o=this.fetchSlotTargeting(t),this.slotTargeting[e]=o,this.core.get(b).delayAdRequests(o)),o})}fetchUserTargeting(){return m(this,null,function*(){let t=yield this.core.get(at).fetchSignals(this.getEnabledSignals());return this.dataForMigrationTracking.userTargeting=t,T(this.plugins.onUserTargetingUpdated,t),t})}fetchPageTargeting(){return m(this,null,function*(){let t=yield this.core.get(it).fetchSignals(this.getEnabledSignals());return this.dataForMigrationTracking.pageTargeting=t,T(this.plugins.onPageTargetingUpdated,t),t})}fetchSlotTargeting(t){return m(this,null,function*(){let e=yield this.core.get(st).fetchSignals(t,this.getEnabledSignals());return this.dataForMigrationTracking.slotTargeting.push(e),this.dataForMigrationTracking.slots.push(t),T(this.plugins.onSlotTargetingUpdated,t,e),e})}getVisitTargetingApi(){return m(this,null,function*(){let t=this.getUserTargeting(),e=this.getPageTargeting();return xe(yield t,yield e)})}getSlotTargetingApi(t){return m(this,null,function*(){var o,i;let e=t;return(o=e.sizes)!=null||(e.sizes=[]),(i=e.uuid)!=null||(e.uuid=q()),this.getSlotTargeting(e)})}};n(_,"Signals"),s([I],_.prototype,"getUserTargeting",1),s([I],_.prototype,"getPageTargeting",1),s([ht("getVisitTargeting")],_.prototype,"getVisitTargetingApi",1),s([ht("getSlotTargeting")],_.prototype,"getSlotTargetingApi",1),_=s([g],_);var At=class{getEnabledSignals(){return"IDS"}};n(At,"SignalsIds"),s([S(_,"getEnabledSignals")],At.prototype,"getEnabledSignals",1),At=s([g],At);var _t=class{getEnabledSignals(){return"BSC"}};n(_t,"SignalsBsc"),s([S(_,"getEnabledSignals")],_t.prototype,"getEnabledSignals",1),_t=s([g],_t);var It=class{getEnabledSignals(){return"VLP"}};n(It,"SignalsVlp"),s([S(_,"getEnabledSignals")],It.prototype,"getEnabledSignals",1),It=s([g],It);var yt=class{getEnabledSignals(){return"TVP"}};n(yt,"SignalsTvp"),s([S(_,"getEnabledSignals")],yt.prototype,"getEnabledSignals",1),yt=s([g],yt);var we="dvp_spos";var wo=n(r=>typeof r=="string","sizeIsLabel"),Po=n(r=>typeof r=="object"&&typeof r.width=="number"&&typeof r.height=="number","sizeIsObject"),Lo=n(r=>{var o;let t;try{t=(o=r.getSizes)==null?void 0:o.call(r)}catch(i){}if(!(t instanceof Array))return[];let e=[];for(let i of t)wo(i)?e.push({label:i}):Po(i)&&e.push({width:i.width,height:i.height});return e},"safelyGetSizes"),Qt=n(r=>{let t=r.getAdUnitPath(),e=r.getSlotElementId(),o=Lo(r),i=r.getTargeting(we)[0];return{unitId:t,elementId:e,sizes:o,position:i,uuid:q()}},"parseSlot");var j=class{constructor(){c(this,"size",-1)}initialize(){return m(this,null,function*(){yield Promise.resolve(),this.flushBuffer()})}flushBuffer(){if(this.size!==-1)return;let t=this.core.dvtag.cmd instanceof Array?this.core.dvtag.cmd:[];this.core.dvtag.cmd=t,t.push=(...e)=>(this.flushCommands(e),this.size+=e.length,this.size),this.flushCommands(t),this.size=t.length,t.length=0}flushCommands(t){let e=this.core.get(b);for(let o of t)e.delayAdRequests(Zt(o))}push(...t){var e;this.core.dvtag.cmd=(e=this.core.dvtag.cmd)!=null?e:[],this.core.dvtag.cmd.push(...t)}};n(j,"CommandBuffer"),s([I],j.prototype,"initialize",1),j=s([g],j);var G=class{constructor(){c(this,"pq",null)}getPq(){return this.pq==null&&(this.pq=this.initialize()),this.pq}getPts(){return this.getPq().PTS}setApi(t){let e=this.getPq();e!=null&&(e.init=()=>{},e.loadSignals=t.loadSignals,e.loadSignalsForSlots=t.loadSignalsForSlots,e.getTargeting=t.getTargeting)}initialize(){var i,l;this.core.window.PQ=(i=this.core.window.PQ)!=null?i:{};let t=this.core.window.PQ;if(t.loaded)return{cmd:[],PTS:{}};t.loaded=!0,t.PTS=(l=t.PTS)!=null?l:{};let e=this.core.get(j),o=t.cmd;return t.cmd={push:d=>e.push(d)},Array.isArray(o)&&e.push(...o),t}};n(G,"LegacyPq"),G=s([g],G);var B=class{getShortCommitId(){return"a115966"}getBuildTimestamp(){return 1691910010700}};n(B,"DefinedVariables"),B=s([g],B);var D=class{getWindow(){return this.core.window}getDocument(){return this.getWindow().document}getUserAgent(){var t,e;return(e=(t=this.getWindow().navigator)==null?void 0:t.userAgent)!=null?e:""}getPageUrl(){var t,e;return(e=(t=this.getWindow().location)==null?void 0:t.href)!=null?e:""}getHostname(){return new URL(this.getPageUrl()).hostname}getNavigator(){return this.getWindow().navigator}getPerformance(){var t;return(t=this.getWindow().performance)!=null?t:{}}getPerformanceTimeMs(){var t,e,o;return Math.floor((o=(e=(t=this.getPerformance()).now)==null?void 0:e.call(t))!=null?o:null)}};n(D,"Environment"),D=s([g],D);var Pe="https://vtrk.doubleverify.com";var Le=n(()=>Math.floor(1e12*Math.random()),"randomInt");var ie="qt_loaded",Ue="pts_pid",Ge="pts_sid",xt=class extends Error{constructor(e,o){super(o);this.code=e}};n(xt,"QtError");var ke=n((r,t)=>{var o,i;let e={};for(let[l,d]of t.entries()){let u=r[l];if(u!=null)for(let f of Et){let A=u[f];A==null||A.length<1||((i=e[o=d.uuid])!=null||(e[o]={}),e[d.uuid][f]=A[0])}}return e},"formatSlotTargetingForTracking");var Ve=n(({transferSize:r,decodedBodySize:t})=>r>0?"network":t>0?"cache":"unknown","getCacheStatus");var se=n((r,t)=>r.reduce((e,o)=>{var l,d,u;let i=Number.parseInt((u=(d=(l=o[t])==null?void 0:l[0])==null?void 0:d.split)==null?void 0:u.call(d,"-")[0],10);return Number.isNaN(i)||(e+=i),e},0),"summarizeSlotTargeting");var Z=n((r,t)=>r!=null&&t!=null?Math.round(t-r):void 0,"timeSpan");var wt=class{constructor(t,e,o,i,l,d,u,f,A,F,X,z=1e3){c(this,"data");c(this,"start");c(this,"flushed",!1);c(this,"getPerformanceTimeMs");c(this,"sendPixel");c(this,"disabled");this.getPerformanceTimeMs=A,this.sendPixel=F,this.disabled=X,this.start=this.getPerformanceTimeMs(),this.data={["t"]:"event",["ec"]:"page",["ea"]:"unknown",["v"]:"1",["ctx"]:o,["cmp"]:i,["cid"]:e,["z"]:Le(),["cd105"]:u,["cd160"]:q(),["cd161"]:d,["cd50"]:"upt",["cd51"]:t,["cd180"]:"no-fetches"},l&&(this.data["cd55"]="1"),f!=null&&(this.data["cd52"]=f),setTimeout(()=>this.fireEvent(),z)}setEventAction(t){this.addData({["ea"]:t})}addRequestedSignals(t){let e=n(o=>o?"1":void 0,"toString");this.addData({["cm56"]:e(t.includes("IDS")),["cm57"]:e(t.includes("BSC")),["cm58"]:e(t.includes("ABS")),["cm59"]:e(t.includes("VLP")),["cm60"]:e(t.includes("TVP"))})}setAutoInsertionEnabled(){this.addData({["cd68"]:"1"})}addResultsData(t,e,o,i){t["IDS"]!=null&&this.addData({["cm170"]:t["IDS"][0],["cm61"]:t["IDS"][0]}),e["BSC"]!=null&&this.addData({["cd171"]:e["BSC"].join(","),["cm62"]:e["BSC"].length}),e["ABS"]!=null&&this.addData({["cm63"]:e["ABS"].length}),o.length!==0&&(this.addData({["cd175"]:JSON.stringify(ke(o,i))}),o[0]["VLP"]!=null&&this.addData({["cm66"]:o.length,["cm64"]:se(o,"VLP")}),o[0]["TVP"]!=null&&this.addData({["cm67"]:o.length,["cm65"]:se(o,"TVP")}))}setRequestSuccess(){let t=this.getPerformanceTimeMs(),e;this.start!=null&&t!=null&&(e=Math.round(t-this.start)),this.addData({["cd53"]:"1",["cm54"]:e})}addFetchPerformanceData(t,e,o,i){var A,F;if(t==null){this.data["cd180"]==="no-fetches"&&(this.data["cd180"]=(i==null?void 0:i.getEntriesByName)==null?"no-api":"no-entry");return}o==="ids"&&this.addData({["cm187"]:Math.round(t.duration)}),o==="bsc"&&this.addData({["cm188"]:Math.round(t.duration)}),o==="vlp"&&this.addData({["cm189"]:Math.round(t.duration)});let l=this.getPerformanceTimeMs(),d=Z(t.fetchStart,l),u=this.data["cm186"];if(d==null||u>d)return;let f=(A=t.secureConnectionStart)!=null?A:t.connectEnd;this.addData({["cd180"]:Ve(t),["cm180"]:Z(t.fetchStart,t.responseEnd),["cm181"]:Z(t.domainLookupStart,t.domainLookupEnd),["cm182"]:Z(t.connectStart,f),["cm183"]:Z(f,t.connectEnd),["cm184"]:Z(t.requestStart,t.responseStart),["cm185"]:Z(t.responseStart,t.responseEnd),["cm186"]:d,["cd191"]:(F=e==null?void 0:e.split("-"))==null?void 0:F[0]})}trackError(t){var e;this.addData({["ea"]:"error",["cd110"]:(e=t==null?void 0:t.message)!=null?e:"unknown error",["cd111"]:t instanceof xt?t.code:void 0}),this.fireEvent()}addData(t){Object.assign(this.data,t)}fireEvent(){let t=Object.keys(this.data).filter(o=>this.data[o]!=null).map(o=>`${o}=${encodeURIComponent(this.data[o])}`),e=`${Pe}?${t.join("&")}`;return!this.flushed&&!this.disabled&&this.sendPixel(e),this.flushed=!0,e}};n(wt,"PendingEvent");var Uo=5,Go=["ids","bsc","vlp"],W=class{constructor(){c(this,"plugins",{getLegacyType:[],isTrackingDisabled:[]});c(this,"eventCount",0)}trackInitialLoad(){var i;let{prefetch:t}=this.core.get(v).getTagInfo(),e=this.createPendingEvent(void 0,!1);e.setEventAction(t?"load-pq-signals":"load-pq");let o=this.core.get(v).getCurrentScriptSrc();if(o!=null){let l=this.core.get(D).getPerformance(),d=(i=l.getEntriesByType)==null?void 0:i.call(l,"resource").find(u=>u.name===o);e.addFetchPerformanceData(d,null,"tag",l)}e.fireEvent()}createPendingEvent(t,e=!0){var Se;let o=this.core.get(B),i=this.core.get(v),l=this.core.get(D),d=(Se=T(this.plugins.getLegacyType)[0])!=null?Se:"unknown",u=o.getShortCommitId(),f=i.getVisitUuid(),A=i.getNormalizedPageUrl(),{ctx:F,cmp:X,prefetch:z}=i.getTagInfo(),nt=l.getNavigator(),Ut=n(()=>l.getPerformanceTimeMs(),"getPerformanceTimeMs"),Gt=n(fe=>{try{typeof(nt==null?void 0:nt.sendBeacon)=="function"?nt.sendBeacon(fe):new Image().src=fe}catch(ur){}},"sendPixel"),_o=this.eventCount>=Uo||this.plugins.isTrackingDisabled.length>0;return e&&this.eventCount++,new wt(u,f,F,X,z,A,d,t,Ut,Gt,_o)}findPerformanceEntries(){var e,o;let t=this.core.get(D).getPerformance();return(o=(e=t.getEntriesByType)==null?void 0:e.call(t,"resource").filter(i=>i.name.startsWith(ne)).map(i=>{var d;return{type:(d=Go.find(u=>i.name.includes(u)))!=null?d:"unknown",entry:i,performance:t}}))!=null?o:[]}};n(W,"LegacyTracking"),s([I],W.prototype,"trackInitialLoad",1),W=s([g],W);var qe=n(r=>{var l,d,u;let t=(d=(l=r.adUnitPath)!=null?l:r.invCode)!=null?d:r.tagId,e=t,o=Me((u=r.sizes)!=null?u:"all"),i=r.position;return{unitId:t,elementId:e,sizes:o,position:i,uuid:q()}},"adUnitToSlot");var je=n((r,t)=>{var i;let e=(i=r["IDS"])==null?void 0:i[0];if(e==null)return;let o=parseInt(e);isNaN(o)||(t["IDS"]=o)},"setUserTargetingOnPts"),Be=n((r,t)=>{for(let e of qt)r[e]!=null&&(t[e]=r[e])},"setPageTargetingOnPts"),$e=n((r,t,e)=>{var l,d,u;let o=r.unitId,i=re(r.sizes);for(let f of Et){let A=t[f];A!=null&&((l=e[f])!=null||(e[f]={}),(u=(d=e[f])[o])!=null||(d[o]={}),e[f][o][i]=A[0])}},"setSlotTargetingOnPts");var ko={["loadSignals"]:"load-signals",["getTargeting"]:"load-signals",["loadSignalsForSlots"]:"load-signals-slots"},$=class{initialize(){this.core.get(G).setApi({loadSignals:this.loadSignals.bind(this),loadSignalsForSlots:this.loadSignalsForSlots.bind(this),getTargeting:this.getTargeting.bind(this)})}getLegacyType(){return"layer"}setUserTargetingOnPts(t){let e=this.core.get(G).getPts();je(t,e)}setPageTargetingOnPts(t){let e=this.core.get(G).getPts();Be(t,e)}setSlotTargetingOnPts(t,e){let o=this.core.get(G).getPts();$e(t,e,o)}loadSignals(t,e){return m(this,null,function*(){yield this.onDvtagReady("loadSignals",e)})}loadSignalsForSlots(t,e,o){return m(this,null,function*(){let i=t.map(d=>Qt(d));for(let d of i)this.core.get(_).getSlotTargeting(d);let l=typeof e=="function"?e:o;yield this.onDvtagReady("loadSignalsForSlots",l)})}getTargeting(t,e){return m(this,null,function*(){var l,d;let o=(d=(l=t.adUnits)==null?void 0:l.map(qe))!=null?d:[];for(let u of o)this.core.get(_).getSlotTargeting(u);let i=n(()=>e==null?void 0:e(void 0,this.core.get(G).getPts()),"callback");yield this.onDvtagReady("getTargeting",i)})}onDvtagReady(t,e){return m(this,null,function*(){let o=this.core.get(_),i=this.core.get(W),l=i.createPendingEvent(t);l.addRequestedSignals(o.getEnabledSignals()),l.setEventAction("request-timeout"),yield new Promise(d=>{this.core.get(b).onAdRequestQueued({callback:()=>{let u=o.getDataForMigrationTracking();l.addResultsData(u.userTargeting,u.pageTargeting,u.slotTargeting,u.slots),l.setRequestSuccess(),l.setEventAction(ko[t]),Vt(()=>e==null?void 0:e()),d();for(let{type:f,entry:A,performance:F}of i.findPerformanceEntries())l.addFetchPerformanceData(A,void 0,f,F);l.fireEvent()},timestamp:0,timeout:0})})})}};n($,"LegacyLayer"),s([I],$.prototype,"initialize",1),s([S(W,"getLegacyType")],$.prototype,"getLegacyType",1),s([S(_,"onUserTargetingUpdated")],$.prototype,"setUserTargetingOnPts",1),s([S(_,"onPageTargetingUpdated")],$.prototype,"setPageTargetingOnPts",1),s([S(_,"onSlotTargetingUpdated")],$.prototype,"setSlotTargetingOnPts",1),$=s([g],$);var Qe=n(r=>{var t,e;return r.googletag=(t=r.googletag)!=null?t:{},r.googletag.cmd=(e=r.googletag.cmd)!=null?e:[],r.googletag},"getGoogletag");var N=class{onPubAdsReady(t){return m(this,null,function*(){var i;let e=Qe(this.core.window),o=(i=e.pubads)==null?void 0:i.call(e);return o!=null?t(o):new Promise(l=>{e.cmd.push(()=>{l(t(e.pubads()))})})})}};n(N,"GoogletagPubads"),N=s([g],N);var k=class{constructor(){c(this,"plugins",{slotRequested:[],slotRenderEnded:[],impressionViewable:[],slotOnload:[],slotVisibilityChanged:[],slotResponseReceived:[],rewardedSlotGranted:[],rewardedSlotClosed:[],rewardedSlotReady:[]});c(this,"isEventsAttached",!1)}attachEvents(){return m(this,null,function*(){this.isEventsAttached||(this.isEventsAttached=!0,yield this.core.get(N).onPubAdsReady(t=>{for(let[e,o]of Object.entries(this.plugins))o.length>0&&t.addEventListener(e,i=>T(o,i))}))})}};n(k,"GoogletagEvents"),s([I],k.prototype,"attachEvents",1),k=s([g],k);var Ke=n((r,t)=>{let o=t.slot.getResponseInformation();if(!o)throw new Error("Expected getResponseInformation to return non-null for this event");return w(E({},r),{advertiserId:o==null?void 0:o.advertiserId,campaignId:o==null?void 0:o.campaignId,creativeId:o==null?void 0:o.creativeId,creativeTemplateId:o==null?void 0:o.creativeTemplateId,lineItemId:o==null?void 0:o.lineItemId})},"parseFilledSlotFromEvent"),ze=n((r,t)=>w(E({},r),{advertiserId:t.advertiserId,campaignId:t.campaignId,creativeId:t.creativeId,creativeTemplateId:t.creativeTemplateId,lineItemId:t.lineItemId,isBackfill:t.isBackfill,isEmpty:t.isEmpty,slotContentChanged:t.slotContentChanged,renderedSize:Vo(t.size)}),"parseRenderedSlotFromEvent"),Vo=n(r=>r==null?null:Array.isArray(r)?`${r[0]}x${r[1]}`:r,"parseSize");var C=class{constructor(){c(this,"plugins",{newSlotDetected:[],adRequestedForSlot:[],slotResponseReceived:[],slotRenderEnded:[],slotOnLoad:[]});c(this,"_knownSlots",{})}maybeDiscoverNewSlot(t){let e=this._knownSlots[t.getSlotElementId()];return e==null&&(e=Qt(t),this._knownSlots[e.elementId]=e,T(this.plugins.newSlotDetected,e)),e}scanForNewSlots(t){t!=null&&t.getSlots().forEach(e=>this.maybeDiscoverNewSlot(e))}getSlots(){return m(this,null,function*(){return this.core.get(N).onPubAdsReady(t=>(this.scanForNewSlots(t),Object.values(this._knownSlots)))})}onSlotRequested(t){let e=this.maybeDiscoverNewSlot(t.slot);T(this.plugins.adRequestedForSlot,e)}onSlotResponseReceived(t){let e=this.maybeDiscoverNewSlot(t.slot),o=Ke(e,t);T(this.plugins.slotResponseReceived,o)}onSlotRenderEnded(t){let e=this.maybeDiscoverNewSlot(t.slot),o=ze(e,t);T(this.plugins.slotRenderEnded,o)}onSlotOnLoad(t){let e=this.maybeDiscoverNewSlot(t.slot);T(this.plugins.slotOnLoad,e)}};n(C,"GoogletagSlots"),s([S(k,"slotRequested")],C.prototype,"onSlotRequested",1),s([S(k,"slotResponseReceived")],C.prototype,"onSlotResponseReceived",1),s([S(k,"slotRenderEnded")],C.prototype,"onSlotRenderEnded",1),s([S(k,"slotOnload")],C.prototype,"onSlotOnLoad",1),C=s([g],C);var p=class{constructor(){c(this,"plugins",{log:[],info:[],debug:[],warn:[],error:[]})}log(...t){T(this.plugins.log,...t)}info(...t){T(this.plugins.info,...t)}debug(...t){T(this.plugins.debug,...t)}warn(...t){T(this.plugins.warn,...t)}error(...t){T(this.plugins.error,...t)}};n(p,"Logging"),p=s([g],p);var ae=n((r,t,e)=>{let o=r.getTargeting(t),i=[...new Set([...o,...e])];r.setTargeting(t,i)},"addTargeting"),qo=n((r,t,e)=>{let o=[...new Set(e)];r.setTargeting(t,o)},"setTargeting"),We=n((r,t,e)=>{ae(r,t,e);for(let o of r.getSlots())o.getTargetingKeys().includes(t)&&ae(o,t,e)},"addGlobalTargetingForKey"),Ye=n((r,t,e,o)=>{t.getTargetingKeys().includes(e)||(o=[...o,...r.getTargeting(e)]),ae(t,e,o)},"addSlotTargetingForKey"),He=n((r,t,e,o)=>{o=[...o,...r.getTargeting(e)],qo(t,e,o)},"setSlotTargetingForKey");var P=class{addGlobalTargeting(t){return m(this,null,function*(){yield this.core.get(N).onPubAdsReady(e=>{for(let[o,i]of Object.entries(t))We(e,o,i)})})}setGlobalTargeting(t){return m(this,null,function*(){yield this.core.get(N).onPubAdsReady(e=>{for(let[o,i]of Object.entries(t))e.setTargeting(o,i)})})}addSlotTargeting(t,e){return m(this,null,function*(){yield this.core.get(N).onPubAdsReady(o=>{let i=o.getSlots().find(l=>l.getSlotElementId()===t);if(i==null){this.core.get(p).error(`Adding targeting to slot that is not known in GPT: ${t}`);return}for(let[l,d]of Object.entries(e))Ye(o,i,l,d)})})}setSlotTargeting(t,e){return m(this,null,function*(){yield this.core.get(N).onPubAdsReady(o=>{let i=o.getSlots().find(l=>l.getSlotElementId()===t);if(i==null){this.core.get(p).error(`Setting targeting for slot that is not known in GPT: ${t}`);return}for(let[l,d]of Object.entries(e))He(o,i,l,d)})})}getSlotTargeting(t,e){return m(this,null,function*(){return this.core.get(N).onPubAdsReady(o=>{let i=o.getSlots().find(l=>l.getSlotElementId()===t);return i==null?(this.core.get(p).warn(`Getting targeting from slot that is not known in GPT: ${t}`),null):(e=e!=null?e:i.getTargetingKeys(),e.reduce((l,d)=>{let u=i.getTargeting(d);return l[d]=u.length>0?u:o.getTargeting(d),l},{}))})})}};n(P,"GoogletagTargeting"),P=s([g],P);var h=class{constructor(){c(this,"plugins",{newSlotDetected:[],adRequestedForSlot:[],slotResponseReceived:[],slotRenderEnded:[],slotOnLoad:[]})}onNewSlotDetected(t){T(this.plugins.newSlotDetected,t)}onAdRequestedForSlot(t){T(this.plugins.adRequestedForSlot,t)}onSlotResponseReceived(t){T(this.plugins.slotResponseReceived,t)}onSlotRenderEnded(t){T(this.plugins.slotRenderEnded,t)}onSlotOnLoad(t){T(this.plugins.slotOnLoad,t)}getSlots(){return m(this,null,function*(){return this.core.get(C).getSlots()})}addGlobalTargeting(t){return m(this,null,function*(){return this.core.get(P).addGlobalTargeting(t)})}setGlobalTargeting(t){return m(this,null,function*(){return this.core.get(P).setGlobalTargeting(t)})}addSlotTargeting(t,e){return m(this,null,function*(){return this.core.get(P).addSlotTargeting(t,e)})}setSlotTargeting(t,e){return m(this,null,function*(){return this.core.get(P).setSlotTargeting(t,e)})}getSlotTargeting(t,e){return m(this,null,function*(){return e==null?this.core.get(P).getSlotTargeting(t):this.core.get(P).getSlotTargeting(t,e)})}};n(h,"Googletag"),s([S(C,"newSlotDetected")],h.prototype,"onNewSlotDetected",1),s([S(C,"adRequestedForSlot")],h.prototype,"onAdRequestedForSlot",1),s([S(C,"slotResponseReceived")],h.prototype,"onSlotResponseReceived",1),s([S(C,"slotRenderEnded")],h.prototype,"onSlotRenderEnded",1),s([S(C,"slotOnLoad")],h.prototype,"onSlotOnLoad",1),s([I,S(b,"onAdRequestQueued")],h.prototype,"getSlots",1),h=s([g],h);var le=n(r=>Object.keys(r).filter(Ie).map(t=>t.toLowerCase()),"getGreenlightSignal");var Y=class{autoInsertPageId(){let t=this.core.get(v);this.core.get(h).setGlobalTargeting({[Ue]:[t.getVisitUuid()]})}autoInsertGlobalTargeting(t){this.core.get(h).addGlobalTargeting(w(E({},t),{[ie]:le(t)}))}autoInsertSlotTargeting(t,e){this.core.get(h).addSlotTargeting(t.elementId,w(E({},e),{[ie]:le(e),[Ge]:[t.uuid]}))}onNewSlotDetected(t){this.core.get(_).getSlotTargeting(t)}};n(Y,"SignalsAutoInsertion"),s([I],Y.prototype,"autoInsertPageId",1),s([S(_,"onUserTargetingUpdated"),S(_,"onPageTargetingUpdated")],Y.prototype,"autoInsertGlobalTargeting",1),s([S(_,"onSlotTargetingUpdated")],Y.prototype,"autoInsertSlotTargeting",1),s([S(h,"newSlotDetected")],Y.prototype,"onNewSlotDetected",1),Y=s([g],Y);var V=class{constructor(){c(this,"slotMapping",new Map)}has(t){return this.slotMapping.has(this.getKey(t))}get(t){return this.slotMapping.get(this.getKey(t))}set(t,e){this.slotMapping.set(this.getKey(t),e)}delete(t){return this.slotMapping.delete(this.getKey(t))}getKey(t){return t.uuid}};n(V,"SlotsMap");var R=class{constructor(){c(this,"global",{});c(this,"slotParamsMap",new V)}getGlobalParams(){return this.global}getSlotParams(t){let e=this.slotParamsMap.get(t);return e==null&&(e={},this.slotParamsMap.set(t,e)),e}};n(R,"MeasurementUrlParams"),R=s([g],R);var Dt=class{trackBuildData(){let t=this.core.get(R).getGlobalParams();t["dvp_uptbts"]=this.core.get(B).getBuildTimestamp(),t["dvp_uptbcid"]=this.core.get(B).getShortCommitId()}};n(Dt,"BuildTracking"),s([I],Dt.prototype,"trackBuildData",1),Dt=s([g],Dt);var Je=["GPT_MEASUREMENT","CREATIVE_WRAPPER","MEASUREMENT_INJECTION_TIMING","MEASUREMENT_INJECTION_STRATEGY","F9_AD_LOCATORS_SEPARATE_TASKS","AD_CONTAINER_LOCATION_STRATEGY"],Xe={GPT_MEASUREMENT:["off","on"],CREATIVE_WRAPPER:["off","on"],MEASUREMENT_INJECTION_TIMING:["onAdRendered","onAdLoaded"],MEASUREMENT_INJECTION_STRATEGY:["rootPage","preferPiggyback"],F9_AD_LOCATORS_SEPARATE_TASKS:["off","on"],AD_CONTAINER_LOCATION_STRATEGY:["preferGptIframe","preferGptDiv"]};var ge={GPT_MEASUREMENT:"off",CREATIVE_WRAPPER:"on",MEASUREMENT_INJECTION_TIMING:"onAdRendered",MEASUREMENT_INJECTION_STRATEGY:"rootPage",F9_AD_LOCATORS_SEPARATE_TASKS:"off",AD_CONTAINER_LOCATION_STRATEGY:"preferGptIframe"},jo={featureFlags:ge,weight:1},Kt={variations:[jo]};var x=class{constructor(){c(this,"config");c(this,"plugins",{provideConfig:[]})}getConfiguration(){if(this.config!=null)return this.config;if(this.plugins.provideConfig.length>1)throw new Error("Not allowed to use more than one config module in the build");let{ctx:t}=this.core.get(v).getTagInfo();if(this.plugins.provideConfig.length===1){let e=this.plugins.provideConfig[0](t),{variations:o}=e,i=Ee(e,["variations"]),l=o==null;l&&this.core.get(p).warn("Publisher-specific config has no variations, using variation from default config"),this.config=w(E(E({},Kt),i),{variations:l?Kt.variations:o})}else this.core.get(p).warn("No publisher-specific config included in build, using default config"),this.config=Kt;return this.core.get(p).info("Configuration",this.config),this.config}getSetting(t){var e,o;return(o=(e=this.getConfiguration().settings)==null?void 0:e[t])!=null?o:null}getVariations(){return this.getConfiguration().variations}getCustomTracking(){var t;return(t=this.getConfiguration().customTracking)!=null?t:{}}};n(x,"ConfigModule"),x=s([g],x);var Bo=n(r=>Math.random()*r,"scaledRandom"),Ze=n(r=>{var u;let t=r.map(f=>f.item),e=r.map(f=>f.weight),o=e.reduce((f,A)=>{var z;let F=(z=f[f.length-1])!=null?z:0,X=A+F;return[...f,X]},[]),i=o[o.length-1],l=Bo(i),d=(u=o.map((f,A)=>({cumWeight:f,index:A})).find(({cumWeight:f})=>l<f))==null?void 0:u.index;return d!=null?{selectedItem:t[d],weight:e[d],weightsSum:i}:null},"weightedRandom");var Q=class{constructor(){c(this,"variationSelection");c(this,"plugins",{variationSelected:[]})}initialize(){this.selectVariationOnce()}selectVariationOnce(){if(this.variationSelection!=null)return this.variationSelection;let t=this.core.get(x).getVariations(),e=Ze(t.map(o=>({item:o,weight:o.weight})));if(e!=null){let{selectedItem:o,weight:i,weightsSum:l}=e;this.variationSelection={featureFlags:Object.assign({},ge,o.featureFlags),fraction:{numerator:i,denominator:l}}}else throw new Error("No variation selected");return this.core.get(p).info("Selected variation",this.variationSelection),T(this.plugins.variationSelected,this.variationSelection),this.variationSelection}getFeatureFlags(){return this.selectVariationOnce().featureFlags}getVariationFraction(){return this.selectVariationOnce().fraction}};n(Q,"VariationsModule"),s([I],Q.prototype,"initialize",1),Q=s([g],Q);var M=class{getVariationFlags(){return this.core.get(Q).getFeatureFlags()}get(t){return this.getVariationFlags()[t]}encodeAsHexString(t){return Je.reduce((e,o)=>{let i=t[o];return Xe[o].indexOf(i).toString(16)+e},"")}};n(M,"FeatureFlags"),M=s([g],M);var to=n((r,t=!0)=>{let e=document.createElement("script");return e.setAttribute("src",r),t&&e.setAttribute("async",""),e},"createScriptElement"),eo=n(()=>document.createElement("body"),"createBodyElement"),de=n((r,t)=>{r.appendChild(t)},"addElement"),oo=n(r=>r==null?void 0:r.remove(),"removeElement");var Pt=n((r,t,e)=>{e!=null&&r.setAttribute(t,e)},"setAttributeIfDefined");var ro=n((r,t)=>{let e=t.outerHTML,o=ce(r);o.open(),o.write(e),o.close()},"setIframeContent"),no=n((r={})=>{let t=document.createElement("iframe");if(t.style.display="none",Pt(t,"name",r.name),Pt(t,"src",r.src),Pt(t,"id",r.id),Pt(t,"class",r.elementClass),r.data!=null&&Object.assign(t.dataset,r.data),r.sandbox!=null&&r.sandbox!==!1){let e=r.sandbox===!0?"":r.sandbox;t.setAttribute("sandbox",e)}return t},"createIframe"),ce=n(r=>r&&(r.contentDocument||r.contentWindow&&r.contentWindow.document||frames&&frames[r.name]&&frames[r.name].document),"getIframeDocument"),vt=n((r,t)=>{try{if(r.contentDocument===null)return!0;if(r.src===""||r.src==="about:blank")return!1;let e=new URL(r.src),o=new URL(t.location.href);return e.origin!==o.origin}catch(e){return!0}},"isCrossOriginIframe");var io="google_ads_iframe_",so=n(r=>{if(r==null)return null;let t=r.querySelectorAll(`div[id^="${io}"]`);return t.length===1?t[0]:null},"lookupGptDiv"),bt=n(r=>{if(r==null)return null;let t=r.querySelectorAll(`iframe[id^="${io}"]`);return t.length===1?t[0]:null},"lookupGptIframe");var et=class{constructor(){c(this,"plugins",{iframeOnload:[]})}setIframeOnloadCallback(t){var d,u;let e=this.core.get(D).getDocument().getElementById(t.elementId);if(e==null){this.core.get(p).warn(`No element found for slot ${t.elementId}`);return}let o=bt(e);if(o==null){this.core.get(p).warn(`No GPT iframe found for slot ${t.elementId}`);return}let i=this.core.get(D).getWindow();!vt(o,i)&&((d=o.contentDocument)==null?void 0:d.body.hasChildNodes())&&((u=o.contentDocument)==null?void 0:u.readyState)==="complete"?(this.core.get(p).debug(`Same-origin iframe of slot ${t.elementId} has readyState complete`),T(this.plugins.iframeOnload,t)):o.addEventListener("load",()=>{this.core.get(p).debug(`Load event fired for iframe of slot ${t.elementId}`),T(this.plugins.iframeOnload,t)},{once:!0})}};n(et,"GoogletagIframeOnload"),s([S(h,"slotRenderEnded")],et.prototype,"setIframeOnloadCallback",1),et=s([g],et);var ot=class{constructor(){c(this,"plugins",{slotEmptied:[]})}detectSlotEmptied(t){let e=this.core.get(D).getDocument().getElementById(t.elementId);if(e==null)return;new MutationObserver(i=>{this.core.get(p).debug(`Slot ${t.elementId} has ${e.children.length} children now`,i);let l=i.length,d=[...i].reverse(),u=0,f=e.children.length;for(let A of d){if(f===0){this.core.get(p).debug(`Slot ${t.elementId} has been emptied`),T(this.plugins.slotEmptied,t);break}if(u===l-1)break;let F=A.removedNodes.length-A.addedNodes.length;f+=F,u++}}).observe(e,{childList:!0}),this.core.get(p).debug(`Observing child mutations on slot ${t.elementId}`)}};n(ot,"GoogletagInferredEvents"),s([S(h,"newSlotDetected")],ot.prototype,"detectSlotEmptied",1),ot=s([g],ot);var lt=n((r,t)=>r.name===t,"isState"),me=n(r=>`SlotState: ${r.name.toUpperCase()} | MeasurementState: ${r.measurementState.toUpperCase()}`,"stateToString");var $o={["targetingSetForSlot"]:"targeted",["disableMeasurementForSlot"]:"disabled"},Qo={["adRequestedForSlot"]:"measurable"},Ko={["measurementInjected"]:"measured"},zo={["adRequestedForSlot"]:"measurable"},Wo={["empty"]:$o,["targeted"]:Qo,["measurable"]:Ko,["measured"]:zo,["disabled"]:{}},Wt=n((r,t)=>{let e=Wo[r.measurementState];return Yo(e,t,r)},"updateState"),Yo=n((r,t,e)=>{let o=r[t];return o!=null?w(E({},e),{measurementState:o}):e},"transition");var Jo={["adRequestedForSlot"]:"adRequested",["newSlotDetected"]:"new"},Xo={["adRequestedForSlot"]:"adRequested",["adReceivedForSlot"]:"adPending",["slotEmptied"]:"adRequested"},Zo={["adRequestedForSlot"]:"adRequested",["adEmptyForSlot"]:"adEmpty",["adRenderedForSlot"]:"adRendered",["slotEmptied"]:"adPending"},tr={["adRequestedForSlot"]:"adRequested",["adLoadedForSlot"]:"adLoaded",["slotEmptied"]:"adEmpty"},er={["adRequestedForSlot"]:"adRequested",["slotEmptied"]:"adEmpty"},or={["adRequestedForSlot"]:"adRequested"},rr={["new"]:Jo,["adRequested"]:Xo,["adPending"]:Zo,["adRendered"]:tr,["adLoaded"]:er,["adEmpty"]:or},lo=n((r,t,e)=>{let o=rr[r.name],i=nr(o,t,e,r);return i!==null?ir(i,t):null},"transitionState"),nr=n((r,t,e,o)=>{let i=r[t];return i!=null?w(E({},o),{name:i,slot:t==="adRequestedForSlot"||t==="slotEmptied"?E({},e):E(E({},o.slot),e)}):null},"transition"),ir=n((r,t)=>t==="adRequestedForSlot"?Wt(r,"adRequestedForSlot"):r,"updateMeasurementState");var y=class{constructor(){c(this,"plugins",{newSlot:[],adRequestedForSlot:[],adPendingForSlot:[],adRenderedForSlot:[],adLoadedForSlot:[],adEmptyForSlot:[]});c(this,"store",new V)}onNewSlotDetected(t){this.core.get(M).get("GPT_MEASUREMENT")==="off"&&this.updateStateWithEvent(t,"disableMeasurementForSlot"),this.transitionToNextState(t,"newSlotDetected")}onAdRequestedForSlot(t){this.transitionToNextState(t,"adRequestedForSlot")}onSlotResponseReceived(t){this.transitionToNextState(t,"adReceivedForSlot")}onSlotRenderEnded(t){t.isEmpty?this.transitionToNextState(t,"adEmptyForSlot"):this.transitionToNextState(t,"adRenderedForSlot")}onSlotOnload(t){this.transitionToNextState(t,"adLoadedForSlot")}onSlotIframeOnload(t){this.transitionToNextState(t,"adLoadedForSlot")}onSlotEmptied(t){this.transitionToNextState(t,"slotEmptied")}updateStateWithEvent(t,e){let o=this.getState(t),i=Wt(o,e);this.setState(t,i)}transitionToNextState(t,e){let o=this.getState(t),i=lo(o,e,t);i!=null&&(this.logStateTransition(t,e,o,i),this.setState(t,i),this.firePluginOnStateChange(i))}createNewState(t){return{name:"new",measurementState:"empty",slot:t}}getState(t){var e;return(e=this.store.get(t))!=null?e:this.createNewState(t)}setState(t,e){this.store.set(t,e)}firePluginOnStateChange(t){let{slot:e}=t;lt(t,"new")?(this.core.get(p).debug("EmptySlotState",t),T(this.plugins.newSlot,e,E({},t))):lt(t,"adRequested")?(this.core.get(p).debug("AdRequestedSlotState",t),T(this.plugins.adRequestedForSlot,e,E({},t))):lt(t,"adPending")?(this.core.get(p).debug("AdPendingSlotState",t),T(this.plugins.adPendingForSlot,e,E({},t))):lt(t,"adRendered")?(this.core.get(p).debug("AdRenderedSlotState",t),T(this.plugins.adRenderedForSlot,e,E({},t))):lt(t,"adLoaded")?(this.core.get(p).debug("AdLoadedSlotState",t),T(this.plugins.adLoadedForSlot,e,E({},t))):lt(t,"adEmpty")&&(this.core.get(p).debug("AdEmptySlotState",t),T(this.plugins.adEmptyForSlot,e,E({},t)))}logStateTransition(t,e,o,i){this.core.get(p).debug(`Slot ${t.elementId} transitioned from ${me(o)} to ${me(i)} on event ${e}`)}};n(y,"SlotStateStore"),s([S(h,"newSlotDetected")],y.prototype,"onNewSlotDetected",1),s([S(h,"adRequestedForSlot")],y.prototype,"onAdRequestedForSlot",1),s([S(h,"slotResponseReceived")],y.prototype,"onSlotResponseReceived",1),s([S(h,"slotRenderEnded")],y.prototype,"onSlotRenderEnded",1),s([S(h,"slotOnLoad")],y.prototype,"onSlotOnload",1),s([S(et,"iframeOnload")],y.prototype,"onSlotIframeOnload",1),s([S(ot,"slotEmptied")],y.prototype,"onSlotEmptied",1),y=s([g],y);var go=["dv_upt_pid","dv_upt_sid","dv_upt_sacnt"];var H=class{constructor(){c(this,"slotCounts",new V)}onNewSlotDetected(t,e){this.core.get(b).delayAdRequests(this.setupTargetingForNextAdLoad(t))}adRequestedForSlot(t,e){return m(this,null,function*(){this.incrementSlotImpressionCount(t),this.setSlotParams(t),yield this.setupTargetingForNextAdLoad(t)})}incrementSlotImpressionCount(t){this.slotCounts.set(t,this.getSlotImpressionCount(t)+1)}setSlotParams(t){return m(this,null,function*(){let e=this.core.get(R).getSlotParams(t),o=yield this.core.get(h).getSlotTargeting(t.elementId,go);if(o==null){this.core.get(p).warn(`Couldn't read targeting from GPT slot, because slot with element ${t.elementId} was not known by GPT`);return}e["dvp_uptpid"]=o["dv_upt_pid"].join(","),e["dvp_uptsid"]=o["dv_upt_sid"].join(","),e["dvp_uptsacnt"]=o["dv_upt_sacnt"].join(",")})}setupTargetingForNextAdLoad(t){return m(this,null,function*(){let e={pageId:this.core.get(v).getVisitUuid(),slotId:t.uuid,slotAdCount:this.getSlotImpressionCount(t)+1};yield this.setTargeting(t,e)})}getSlotImpressionCount(t){var e;return(e=this.slotCounts.get(t))!=null?e:0}setTargeting(t,{pageId:e,slotAdCount:o,slotId:i}){let l={["dv_upt_pid"]:[e],["dv_upt_sid"]:[i],["dv_upt_sacnt"]:[o.toString()]};return this.core.get(h).setSlotTargeting(t.elementId,l)}};n(H,"ImpressionTopology"),s([S(y,"newSlot")],H.prototype,"onNewSlotDetected",1),s([S(y,"adRequestedForSlot")],H.prototype,"adRequestedForSlot",1),H=s([g],H);var Mt=class{trackSelectedVariation(t){let{fraction:e,featureFlags:o}=t,i=this.core.get(M).encodeAsHexString(o),l=`${e.numerator}/${e.denominator}`;this.trackSelectedVariationOnGPTMeasurement(i,l),this.trackSelectedVariationOnCreativeWrapperMeasurement(i,l)}trackSelectedVariationOnGPTMeasurement(t,e){let o=this.core.get(R).getGlobalParams();o["dvp_gptmvr"]=t,o["dvp_gptmvrfr"]=e}trackSelectedVariationOnCreativeWrapperMeasurement(t,e){this.core.get(h).addGlobalTargeting({["dv_gptm_vr"]:[t],["dv_gptm_vrfr"]:[e]})}};n(Mt,"VariationTracking"),s([S(Q,"variationSelected")],Mt.prototype,"trackSelectedVariation",1),Mt=s([g],Mt);var Ot=class{scheduleTargetingIfNeeded(t,e){let o=this.core.get(b);e.measurementState==="empty"&&(this.core.get(p).info(`Scheduling targeting for ${t.elementId}`),o.delayAdRequests(this.setupTargeting(t)))}setupTargeting(t){return m(this,null,function*(){let e=this.core.get(M).get("CREATIVE_WRAPPER")==="on";yield this.setTargeting(t,e?1:0),this.core.get(y).updateStateWithEvent(t,"targetingSetForSlot")})}setTargeting(t,e){let o={["dv_upt_cwm"]:[e.toString()]};return this.core.get(p).info(`Setting slot targeting for ${t.elementId}`,o),this.core.get(h).setSlotTargeting(t.elementId,o)}};n(Ot,"DuplicateMeasurement"),s([S(y,"newSlot")],Ot.prototype,"scheduleTargetingIfNeeded",1),Ot=s([g],Ot);var Ct=class{initialize(){this.setMeasurementParams()}setMeasurementParams(){let t=this.core.get(R).getGlobalParams();this.core.get(M).get("F9_AD_LOCATORS_SEPARATE_TASKS")==="on"&&(t.adlst=1)}};n(Ct,"PerformanceExperiments"),s([I],Ct.prototype,"initialize",1),Ct=s([g],Ct);var gt=class{resolve(t,e){return m(this,null,function*(){let o={};if(Object.keys(t).length===0)return o;let i=Object.values(t).map(d=>d.key),l=yield this.core.get(h).getSlotTargeting(e.elementId,i);return l==null||Object.keys(l).length===0?(Object.entries(t).forEach(([d])=>{o[d]=""}),o):(Object.entries(t).forEach(([d,u])=>{let f=u.key;o[d]=l[f].join(",")}),o)})}};n(gt,"TargetingCustomTracking"),gt=s([g],gt);var dt=class{trackCustomMetadata(t){return m(this,null,function*(){let e=this.core.get(x).getCustomTracking(),o=this.core.get(R).getSlotParams(t),i=yield this.core.get(gt).resolve(e,t);Object.assign(o,i)})}};n(dt,"CustomMetadataTracking"),dt=s([g],dt);var co=["hb_pb","hb_adid","hb_bidder","hb_size","hb_format","hb_deal","hb_uuid","hb_cache_id","hb_cache_host","hb_cache_path","hb_source","hb_adomain","hb_env"],sr=n(r=>Object.values(r).reduce((t,e)=>t+e.length,0)>0,"hasAtLeastOnePrebidTargetingConfigured"),ct=class{trackPrebid(t){return m(this,null,function*(){let e=this.core.get(R).getSlotParams(t),o=yield this.core.get(h).getSlotTargeting(t.elementId,co);o!=null&&sr(o)&&(e.dvp_gptmhb=co.map(i=>o[i].map(l=>encodeURIComponent(l)).join(",")).join(";"))})}};n(ct,"PrebidTracking"),ct=s([g],ct);var mo="gptm";var K=class{trackOriginalValues(){let{ctx:t,cmp:e}=this.core.get(v).getTagInfo(),o=this.core.get(R).getGlobalParams();o["dvp_ctx"]=t,o["dvp_cmp"]=e,this.core.get(p).debug(`Original UPT provided values CTX=${t} CMP=${e}`)}getTagInfo(){let t=this.core.get(x).getSetting("GPT_MEASUREMENT_OVERRIDE_CTX"),e=this.core.get(x).getSetting("GPT_MEASUREMENT_OVERRIDE_CMP"),{ctx:o,cmp:i}=this.core.get(v).getTagInfo();return t==null&&this.core.get(p).info(`No GPTM override defined for CTX, using publisher specified one: ${o}`),e==null&&this.core.get(p).info(`No GPTM override defined for CMP, using publisher specified one: ${i}`),{ctx:t!=null?t:o,cmp:e!=null?e:i}}};n(K,"GptmCustomContext"),s([I],K.prototype,"trackOriginalValues",1),K=s([g],K);var uo=n(r=>r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"escapeRegExp");var po=n((r,t,e="")=>{if(r.length<=t)return r;let o=t-e.length;return o<0?e:r.slice(0,o)+e},"truncate");var mt=class{locate(t){let e=so(t);return e==null?{element:t,elementType:0}:{element:e,elementType:3}}};n(mt,"LocateGptDiv"),mt=s([g],mt);var ut=class{locate(t){let e=bt(t);if(e==null)return{element:t,elementType:0};let o=this.core.get(D).getWindow(),i=vt(e,o);return{element:e,elementType:i?2:1}}};n(ut,"LocateGptIframe"),ut=s([g],ut);var pt=class{constructor(){c(this,"locationStrategyImplementations",{preferGptIframe:t=>this.core.get(ut).locate(t),preferGptDiv:t=>this.core.get(mt).locate(t)})}findAdContainer(t){let e=this.core.get(D).getDocument().getElementById(t.elementId);if(e==null)return null;let o=this.core.get(M).get("AD_CONTAINER_LOCATION_STRATEGY");return this.locationStrategyImplementations[o](e)}trackAdContainerType(t,e){let o=this.core.get(R).getSlotParams(e);(t==null?void 0:t.element)!=null?o["dvp_gptmle"]=t.elementType:o["dvp_gptmle"]=0}getAdContainerId(t){var o;let e=this.findAdContainer(t);return this.trackAdContainerType(e,t),(o=e==null?void 0:e.element.id)!=null?o:t.elementId}};n(pt,"SlotAdLocator"),pt=s([g],pt);var fo=n(r=>Object.entries(r).map(([t,e])=>`${t}=${e!=null?e:""}`).join("&"),"getAsQueryString");var ar="https://cdn.doubleverify.com/dvtp_src.js",lr="104",J=class{generateMeasurementScriptElement(t,e){this.core.get(p).debug(`Generating measurement script element for ${t.elementId}`);let o=this.generateMeasurementScriptURL(t,e);return to(o)}formatForBtreg(t){return`^${uo(t)}$`}truncateElementId(t){return po(t,30,"~")}generateMeasurementScriptURL(t,e){let o=this.core.get(pt).getAdContainerId(t),i=this.core.get(R).getGlobalParams(),l=this.core.get(R).getSlotParams(t),d=E(E({t2te:0,adsrv:lr,seltag:"1",cmp:e.cmp,ctx:e.ctx,sadv:t.advertiserId,ord:t.campaignId,litm:t.lineItemId,scrt:t.creativeId,splc:t.unitId,unit:t.renderedSize,btreg:this.formatForBtreg(o),["dvp_uptseid"]:this.truncateElementId(t.elementId)},i),l),u=fo(d);return`${ar}#${u}`}};n(J,"MeasurementScriptTag"),J=s([g],J);var St=class{constructor(){c(this,"measuredSlots",new V)}addMeasurement(t){this.core.get(p).info(`Start measuring slot ${t.elementId} using iframe wrapper`);let e=this.core.get(R).getSlotParams(t);e["dvp_gptmit"]=0;let o=this.createAndAddMeasurementIframeToDocument(t);this.measuredSlots.set(t,o);let i=this.generateMeasurementIFrameContent(t);return ro(o,i),!0}createAndAddMeasurementIframeToDocument(t){this.core.get(p).debug(`Create measurement iframe for slot ${t.elementId}`);let e=no({id:`${mo}-${t.elementId}`,data:{slotId:t.uuid,slotAdCount:this.core.get(H).getSlotImpressionCount(t)}}),o=this.core.get(D).getDocument();return de(o.body,e),e}generateMeasurementIFrameContent(t){this.core.get(p).debug(`Generate measurement iframe content for slot ${t.elementId}`);let e=this.core.get(K).getTagInfo(),o=eo(),i=this.core.get(J).generateMeasurementScriptElement(t,e);return de(o,i),o}removeMeasurementIfExists(t){let e=this.measuredSlots.get(t);e!==void 0&&(this.core.get(p).info(`Stop measuring slot ${t.elementId}`),oo(e),this.measuredSlots.delete(t))}};n(St,"IFrameWrappedMeasurement"),St=s([g],St);var To=n((r,t)=>!vt(r,t),"canPiggyBackMeasurement"),ho=n((r,t)=>{let e=t.getElementById(r.elementId);return e==null?null:bt(e)},"getGptIframe");var ft=class{addMeasurement(t){let e=this.core.get(K).getTagInfo(),o=this.core.get(D).getDocument(),i=ho(t,o),l=this.core.get(D).getWindow();if(i==null||!To(i,l))return this.core.get(p).info(`Slot ${t.elementId} can't be measured using piggyback`),!1;this.core.get(p).info(`Start measuring slot ${t.elementId} using piggyback`);let d=this.core.get(R).getSlotParams(t);return d["dvp_gptmit"]=1,ce(i).body.appendChild(this.core.get(J).generateMeasurementScriptElement(t,e)),!0}removeMeasurementIfExists(t){this.core.get(p).info(`Stop measuring slot ${t.elementId}`)}};n(ft,"PiggybackMeasurement"),ft=s([g],ft);var Eo={new:0,adRequested:1,adPending:2,adEmpty:3,adRendered:4,adLoaded:5};var Lt="rootPage",dr={onAdRendered:"adRendered",onAdLoaded:"adLoaded"},cr={rootPage:St,preferPiggyback:ft},rt=class{resolveMeasurementModule(t){let e=cr[t];return this.core.get(e)}trackActivationPath(){if(this.core.get(M).get("GPT_MEASUREMENT")==="on"){let t=this.core.get(R).getGlobalParams();t["dvp_pubaap"]=2}}trackInjectionTiming(t,e){let o=this.core.get(R).getSlotParams(t);o["dvp_gptmitm"]=Eo[e]}isEligibleForMeasurement(t,e){let o=this.core.get(M).get("MEASUREMENT_INJECTION_TIMING");return!(t!==dr[o]||e!=="measurable")}maybeAddMeasurementOnSlot(t,e){return m(this,null,function*(){let{name:o,measurementState:i}=e;if(!this.isEligibleForMeasurement(o,i))return;this.trackInjectionTiming(t,o);let l=this.getMeasurementInjectionStrategy(),d=this.resolveMeasurementModule(l);yield this.core.get(dt).trackCustomMetadata(t),yield this.core.get(ct).trackPrebid(t);let u=d.addMeasurement(t);u||(this.core.get(p).info(`Measurement injection strategy: ${l} failed.`),l!==Lt&&(this.core.get(p).info(`Falling back to default strategy: ${Lt}`),u=this.resolveMeasurementModule(Lt).addMeasurement(t))),u?this.core.get(y).updateStateWithEvent(t,"measurementInjected"):this.core.get(p).info(`Measurement injection completely failed for slot ${t.elementId}`)})}maybeRemoveMeasurementOnSlot(t,{measurementState:e}){if(e==="measurable"||e==="measured"){let o=this.getMeasurementInjectionStrategy();this.resolveMeasurementModule(o).removeMeasurementIfExists(t),o!==Lt&&this.resolveMeasurementModule(Lt).removeMeasurementIfExists(t)}}getMeasurementInjectionStrategy(){return this.core.get(M).get("MEASUREMENT_INJECTION_STRATEGY")}};n(rt,"GptMeasurement"),s([I],rt.prototype,"trackActivationPath",1),s([S(y,"adRenderedForSlot"),S(y,"adLoadedForSlot")],rt.prototype,"maybeAddMeasurementOnSlot",1),s([S(y,"adRequestedForSlot"),S(y,"adEmptyForSlot")],rt.prototype,"maybeRemoveMeasurementOnSlot",1),rt=s([g],rt);var Ro="21226187",Ft=class{provideConfig(t){return t!==Ro?(this.core.get(p).error(`Invalid ctx provided for TimeConfig, got ${t}, expected ${Ro}`),{}):{variations:[{featureFlags:{GPT_MEASUREMENT:"on",CREATIVE_WRAPPER:"off",MEASUREMENT_INJECTION_TIMING:"onAdRendered",MEASUREMENT_INJECTION_STRATEGY:"rootPage",F9_AD_LOCATORS_SEPARATE_TASKS:"off"},weight:50},{featureFlags:{GPT_MEASUREMENT:"on",CREATIVE_WRAPPER:"on",MEASUREMENT_INJECTION_TIMING:"onAdRendered",MEASUREMENT_INJECTION_STRATEGY:"preferPiggyback",F9_AD_LOCATORS_SEPARATE_TASKS:"off"},weight:100},{featureFlags:{GPT_MEASUREMENT:"on",CREATIVE_WRAPPER:"on",MEASUREMENT_INJECTION_TIMING:"onAdRendered",MEASUREMENT_INJECTION_STRATEGY:"rootPage",AD_CONTAINER_LOCATION_STRATEGY:"preferGptDiv",F9_AD_LOCATORS_SEPARATE_TASKS:"off"},weight:100},{featureFlags:{GPT_MEASUREMENT:"on",CREATIVE_WRAPPER:"on",MEASUREMENT_INJECTION_TIMING:"onAdRendered",MEASUREMENT_INJECTION_STRATEGY:"rootPage",F9_AD_LOCATORS_SEPARATE_TASKS:"off"},weight:250},{featureFlags:{GPT_MEASUREMENT:"off",CREATIVE_WRAPPER:"on",MEASUREMENT_INJECTION_TIMING:"onAdRendered",MEASUREMENT_INJECTION_STRATEGY:"rootPage",F9_AD_LOCATORS_SEPARATE_TASKS:"off"},weight:9500}],settings:{GPT_MEASUREMENT_OVERRIDE_CTX:"818052",GPT_MEASUREMENT_OVERRIDE_CMP:"DV974730"},customTracking:{c1:{type:"targeting",key:"type"},c2:{type:"targeting",key:"ctype"},c3:{type:"targeting",key:"primarysection"},c4:{type:"targeting",key:"sections"},c5:{type:"targeting",key:"vidonpage"},c6:{type:"targeting",key:"category"},c7:{type:"targeting",key:"aid"},c8:{type:"targeting",key:"hb_bidder"},c9:{type:"targeting",key:"LyticsSegments"},c10:{type:"targeting",key:"tags"}}}}};n(Ft,"TimeConfig"),s([S(x,"provideConfig")],Ft.prototype,"provideConfig",1),Ft=s([g],Ft);var mr=[j],Ao;if(((Ao=window.dvtag)==null?void 0:Ao._core)==null)try{new Tt([...Xt,...mr],window)}catch(r){}})();
