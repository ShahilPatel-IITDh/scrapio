(()=>{var e={541:(e,t,a)=>{const o=a(624).urlCheck;function n(e){const t=window.location.href,a=o(t,e);return Boolean(a||new RegExp(e).exec(t))}function i(e){return"string"==typeof e?e:e?.length&&"string"==typeof e[0]?e[0]:""}e.exports={nodeGenerator:function(e,t){const a=o(window.location.href,"dcnode","variable");if(a)return a;const s=function(e){return(window.commercialNode||e.commercialNode||"politics").replace(/\s/g,"").replace(/^\/*|\/*$/g,"").replace(/[^0-9a-zA-Z_.\-/]/g,"")}(e),r=function(e){const t=i(e);return t&&{article:"article",audiostory:"audio",blogfront:"blog",blogstory:"blog",blog:"blog",front:"front",graphicstory:"graphic",mediagallery:"photo",gallery:"photo",videostory:"video"}[t.toLowerCase()]||""}(e.contentType),c=i(e.contentName);return e.isHomepage?t?"homepage":s:!r&&c&&c.length?`${s}/${c}`:"bytheway"===s?function(e){return n("/tips/")?`${e}/tips`:/\/travel\/[0-9]{4}\/[0-9]{2}\/[0-9]{2}\//i.test(window.location.href)?`${e}/news`:/\/travel\/(?!tips)(?!news)[^\d]/i.test(window.location.href)?`${e}/city-guides`:void 0}(s):r&&"article"!==r?function(e,t,a){return"blog"===e&&t&&t.length?`${a}/${e}/${t}`:"front"===e&&t&&t.length?`${a}/${t}/${e}`:`${a}/${e}`}(r,c,s):s},urlCheckAndParams:n}},346:(e,t,a)=>{const o=a(624);e.exports=class{constructor(){this.url="https://audience.zeustechnology.com"}createUUID(){const e=o.generateUUID();return localStorage.setItem("uuid",e),e}buildQuery(){const e={cartaId:o.getCookie("wp_crtid"),loginId:o.getCookie("wapo_login_id"),j_ucid:localStorage.getItem("uuid")||this.createUUID()};return Object.keys(e).reduce(((t,a)=>e[a]?[...t,`${a}=${e[a]}`]:t),[]).join("&")}async getZATags(){const e=this.buildQuery();return await o.fetchData(`${this.url}?${e}`,{method:"GET"})}formatZAKvs(e){const t={};return"object"!=typeof e||null==e||Array.isArray(e.active_keys)&&e.active_keys.forEach((a=>{"permutive"!=a&&"ca"!=a&&Array.isArray(e[a])&&(t[a]=e[a])})),t}getSegments(e){try{let t=o.isStorageAvailable()&&JSON.parse(localStorage.getItem("zeus_audience")||"{}");t&&0!==Object.keys(t).length&&(t=this.formatZAKvs(t),Object.assign(e,t)),this.getZATags().then((t=>{t=this.formatZAKvs(t),Object.assign(e,t)}))}catch(e){return console.log(e),null}}}},955:(e,t,a)=>{const o=a(624);e.exports=class{constructor(e,t,a){this.keyValues={},this.metaData=e,this.url=t,this.commercialNode=a,this.zeusAudience=o.isStorageAvailable()&&JSON.parse(localStorage.getItem("zeus_audience")||"{}")}j_tid(){const e=(window.j_tid?window.j_tid.toString():window.btoa(Date.now().toString()).replace(/=/gi,"")).toLowerCase(),t=o.safeGet(window,"google_tag_manager.GTM-WHNNX8B");this.keyValues.j_tid=e,window.j_tid=e,t&&window.dataLayer&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({j_tid:e}))}j_ucid(){window.dataLayer=window.dataLayer||[];let e=window.dataLayer.find((e=>e.j_ucid))?.j_ucid||localStorage.getItem("uuid");e||(e=o.generateUUID(),localStorage.setItem("uuid",e));const t=e.toString().toLowerCase();this.keyValues.j_ucid=t,window.dataLayer.push({j_ucid:t})}j_cid(){const e=o.getCookie("_ga");if(e&&/^GA1.2.[0-9]*[.][0-9]/.test(e)){const t=e.split(".").slice(-2).join(".");this.keyValues.j_cid=t}else window.ga=window.ga||function(){window.ga.q=window.ga.q||[],window.ga.q.push(arguments)},window.ga.l=+new Date,window.ga("create","UA-133956668-1","auto"),window.ga((e=>{const t=e.get("clientId");this.keyValues.j_cid=t}))}sub(){const e=o.getCookie("wapo_actmgmt");this.keyValues.sub=e&&e.indexOf("isub:1")>-1?"yes":e.indexOf("S:T")>-1?"terminated":"no"}addSegmentsToAux(e){const t=localStorage.getItem("usersegmentsAdops"),a=t?JSON.parse(t):{};for(const t in a)1===a[t]&&e.push(t)}getAuxMap(){return Array.isArray(this.zeusAudience?.ca)?this.zeusAudience.ca:localStorage.getItem("clavis.targeting")?JSON.parse(localStorage.getItem("clavis.targeting")).aux_map:localStorage.getItem("targeting_aux_map")?localStorage.getItem("targeting_aux_map").split(","):void 0}getContextualTargetingCa(){const e=o.safeGet(this.metaData,"contextualTargeting.adcall",[]).filter((({key:e})=>"ca"===e))[0]||{values:[]};return Array.isArray(e.values)?e.values:[e.values]}isBrandSafe(){if(/arkadium/.test(this.commercialNode)||/amuse-labs/.test(this.commercialNode)||/comics/.test(this.commercialNode)||/horoscopes/.test(this.commercialNode))return!0}ca(){if(!o.isStorageAvailable())return;const e=this.getAuxMap()||[],t=this.getContextualTargetingCa(),a=o.safeGet(this.metaData,"clavis.auxiliaries",[]),n=t.length>0?t:a,i=[...e.map((e=>e.toString().toLocaleLowerCase())),...n.map((e=>e.toString().toLocaleLowerCase()))];this.isBrandSafe()&&i.push("rg5cq"),this.addSegmentsToAux(i),i.length&&(this.keyValues.ca=["true"].concat(i))}contextualTargetingKeys(){const e=o.safeGet(this.metaData,"contextualTargeting.adcall",[]);Array.isArray(e)&&e.forEach((e=>{const t=o.safeGet(e,"key",null),a=o.safeGet(e,"values",null);null===t||"ca"===t||t in this.keyValues||null===a||!Array.isArray(a)&&"string"!=typeof a||(this.keyValues[t]=a)}))}wpnode(){this.metaData&&this.commercialNode&&(this.keyValues.wpnode=this.commercialNode)}ks(){this.keyValues.ks="1"}init(){return this.j_tid(),this.j_ucid(),this.j_cid(),this.sub(),this.ca(),this.wpnode(),this.ks(),this.contextualTargetingKeys(),this.keyValues}}},760:e=>{e.exports=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)}))}},624:(e,t,a)=>{const o=a(760),{loadScript:n,getHeadElement:i}=a(741);function s(e,t=""){const a=`${document.cookie}`,o=`${e}=`;let n=0,i=0;return a.length>0&&(n=a.indexOf(o),-1!==n&&(n+=o.length,i=a.indexOf(";",n),-1===i&&(i=a.length),t=unescape(a.substring(n,i)))),t}e.exports={urlCheck:function(e,t,a){const o=("variable"===a?new RegExp(`[\\?&;]${t}=([^&#?]*)`):new RegExp(`[\\?&;](${t})[^=&#?]*`)).exec(e);return o?o[o.length-1]:void 0},loadScripts:function(e){const t=i();e.forEach((e=>{const a=window?.document?.querySelector(`script[src="${e}"]`);a||n({script:e,node:t})}))},setCookie:function(e,t,a,o,n,i){document.cookie=e+"="+escape(t)+(a?"; expires="+a:"")+(o?"; path="+o:"")+(n?"; domain="+n:"")+(i?"; secure":"")},getCookie:s,checkIsMobile:function(){return"1"===s("wp_devicetype")},safeGet:(e,t,a)=>t.split(".").reduce(((e,t)=>e&&e[t]?e[t]:a),e),isStorageAvailable:function(){const e="test";let t=!1;try{localStorage.setItem(e,e),localStorage.removeItem(e),t=!0}catch(e){t=!1}return t},generateUUID:o,fetchData:async function(e,t){const a=await fetch(e,t);return await a.json()},isAppClassicIos:function(){return navigator.userAgent.includes("Classic/")&&navigator.userAgent.includes("iOS/")}}},741:e=>{function t(){return window?.document?.head||window?.document?.getElementsByTagName("head")[0]}e.exports={loadScript:function({script:e,node:a,onload:o,onerror:n}){const i=a||t(),s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,o&&(s.onload=o),n&&(s.onerror=n),i.appendChild(s)},getHeadElement:t}}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,a),i.exports}(()=>{const e=a(624),{nodeGenerator:t}=a(541),o=a(955),n=a(346);!async function(){const a=window.wp_meta_data||window.wpAdFusion?window.wp_meta_data||window.wpAdFusion:{},i=window.location.href,s=e.checkIsMobile(),r=t(a,s),c=`/701/${s?"mob.wp.":"wpni."}${r}`;let l=new o(a,i,r).init();window.zeusKeyvalues=l,window.zeusAdUnitPath=c,(new n).getSegments(window.zeusKeyvalues)}()})()})();