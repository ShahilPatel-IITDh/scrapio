var TI=TI||{};TI.pardot_optinmonster=function($){var pardotOptinmonster={pardotGetVisitorIdFromCookie:function(){if(!pardotoptinmonstervars.pardot_visitor_id){var visitor_cookie_name='visitor_id'+(pardotoptinmonstervars.pardot_campaign_id-1000);pardotoptinmonstervars.pardot_visitor_id=Cookies.get(visitor_cookie_name);}
return pardotoptinmonstervars.pardot_visitor_id;},pardotCreateOptinmonsterCookie:function(value){Cookies.set(pardotoptinmonstervars.optinmonster_cookie,value,{expires:365});},pardotReadOptinmonsterCookie:function(value){return Cookies.get(pardotoptinmonstervars.optinmonster_cookie);},pardotDeleteOptinmonsterCookie:function(){Cookies.remove(pardotoptinmonstervars.optinmonster_cookie);},isProspect:function(visitorid){$.ajax({url:pardotoptinmonstervars.ajax_endpoint,type:'post',data:{action:'is_prospect',visitor_id:this.pardotGetVisitorIdFromCookie()},success:this.isProspectSuccess.bind(this)});},isProspectSuccess:function(data){var isProspect=!data.data.isProspect?1:0;console.log('Adding '+pardotoptinmonstervars.optinmonster_cookie+' cookie value: '+isProspect+(isProspect?' (NOT a prospect) ':' (IS a prospect) ')+' for visitorID (from cookie: '+pardotoptinmonstervars.pardot_visitor_id+')(from server: '+data.data.visitorId+')');this.pardotCreateOptinmonsterCookie(isProspect);},init:function(){if(this.pardotGetVisitorIdFromCookie()){if(typeof this.pardotReadOptinmonsterCookie()=="undefined"||this.pardotReadOptinmonsterCookie()==1){this.isProspect();}else{console.log("visitor("+pardotoptinmonstervars.pardot_visitor_id+") is already a prospect");}}else{console.log("no visitorid found");}}};pardotOptinmonster.init();return pardotOptinmonster;}(jQuery);