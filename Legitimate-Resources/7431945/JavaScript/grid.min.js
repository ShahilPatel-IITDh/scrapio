var TI=TI||{};TI.grid=function($,enquire){function getHeightByRow(content){var largeRow=$('.grid[data-grid="large"]',content);largeRow.each(function(){var height=$('.tile--large .tile__info',this).innerHeight()-60;$('.grid__item:not(".tile--large")',this).each(function(){var tileInfo=Math.ceil($('.tile__info',this).innerHeight()),snippet=$('.tile__snippet',this),remainingHeight=Math.ceil(height-tileInfo+50);if(remainingHeight>0){snippet.dotdotdot({ellipsis:'... ',wrap:'word',height:remainingHeight,watch:true});}});});var tallRow=$('.grid[data-grid="tall"]',content);tallRow.each(function(){var height=600;$('.grid__item:not([data-type="adv"], [data-type="webinar"])',this).each(function(){var tileInfo=Math.ceil($('.tile__info',this).innerHeight()),snippet=$('.tile__snippet',this),remainingHeight=Math.ceil(height-tileInfo-20);if(remainingHeight>0){snippet.dotdotdot({ellipsis:'... ',wrap:'word',height:remainingHeight,watch:true});}});});var archiveItem=$('.archive__list .tile--list',content);archiveItem.each(function(){var height=250;if($('.tile__img-link picture',this).length>0){height=$('.tile__img-link picture',this).height();}
var tileContent=Math.ceil($('.tile__content',this).innerHeight()),snippet=$('.tile__snippet',this),remainingHeight=Math.ceil(height-tileContent-20);if(remainingHeight>0){snippet.dotdotdot({ellipsis:'... ',wrap:'word',height:remainingHeight,watch:true});}});}
function setDefaultSnippetHeight(){$('.grid__item .tile__snippet').dotdotdot({ellipsis:'... ',wrap:'word',height:150});}
enquire.register("screen and (min-width:480px)",{match:function(){$(document).ready(function(){getHeightByRow();});}});enquire.register("screen and (max-width:479px)",{match:function(){$(document).ready(function(){setDefaultSnippetHeight();});}});return{getHeightByRow:getHeightByRow};}(jQuery,enquire);