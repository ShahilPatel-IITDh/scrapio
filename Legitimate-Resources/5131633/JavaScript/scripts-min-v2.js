/*!
    SlickNav Responsive Mobile Menu v1.0.1
    (c) 2014 Josh Cope
    licensed under MIT
*/
!function(e,t,a){function i(t,a){this.element=t,this.settings=e.extend({},n,a),this._defaults=n,this._name="slicknav",this.init()}var n={label:"",duplicate:!0,duration:200,easingOpen:"swing",easingClose:"swing",closedSymbol:"&#9658;",openedSymbol:"&#9660;",prependTo:"body",parentTag:"a",closeOnClick:!1,allowParentLinks:!1,nestedParentLinks:!0,showChildren:!1,init:function(){},open:function(){},close:function(){}},s="slicknav",o="slicknav";i.prototype.init=function(){var a=this,i=e(this.element),n=this.settings,s,l;n.duplicate?(a.mobileNav=i.clone(),a.mobileNav.removeAttr("id"),a.mobileNav.find("*").each((function(t,a){e(a).removeAttr("id")}))):a.mobileNav=i,s=o+"_icon",""===n.label&&(s+=" "+o+"_no-text"),"a"==n.parentTag&&(n.parentTag='a href="#"'),a.mobileNav.attr("class",o+"_nav"),l=e('<div class="'+o+'_menu"></div>'),a.btn=e(["<"+n.parentTag+' aria-haspopup="true" tabindex="0" class="'+o+"_btn "+o+'_collapsed">','<span class="'+o+'_menutxt">'+n.label+"</span>",'<span class="'+s+'">','<span class="'+o+'_icon-bar"></span>','<span class="'+o+'_icon-bar"></span>','<span class="'+o+'_icon-bar"></span>',"</span>","</"+n.parentTag+">"].join("")),e(l).append(a.btn),e(n.prependTo).prepend(l),l.append(a.mobileNav);var r=a.mobileNav.find("li");e(r).each((function(){var t=e(this),i={};if(i.children=t.children("ul").attr("role","menu"),t.data("menu",i),i.children.length>0){var s=t.contents(),l=!1;nodes=[],e(s).each((function(){if(e(this).is("ul"))return!1;nodes.push(this),e(this).is("a")&&(l=!0)}));var r=e("<"+n.parentTag+' role="menuitem" aria-haspopup="true" tabindex="-1" class="'+o+'_item"/>'),d;if(n.allowParentLinks&&!n.nestedParentLinks&&l)e(nodes).wrapAll('<span class="'+o+"_parent-link "+o+'_row"/>').parent();else e(nodes).wrapAll(r).parent().addClass(o+"_row");t.addClass(o+"_collapsed"),t.addClass(o+"_parent");var c=e('<span class="'+o+'_arrow">'+n.closedSymbol+"</span>");n.allowParentLinks&&!n.nestedParentLinks&&l&&(c=c.wrap(r).parent()),e(nodes).last().after(c)}else 0===t.children().length&&t.addClass(o+"_txtnode");t.children("a").attr("role","menuitem").click((function(t){n.closeOnClick&&!e(t.target).parent().closest("li").hasClass(o+"_parent")&&e(a.btn).click()})),n.closeOnClick&&n.allowParentLinks&&(t.children("a").children("a").click((function(t){e(a.btn).click()})),t.find("."+o+"_parent-link a:not(."+o+"_item)").click((function(t){e(a.btn).click()})))})),e(r).each((function(){var t=e(this).data("menu");n.showChildren||a._visibilityToggle(t.children,null,!1,null,!0)})),a._visibilityToggle(a.mobileNav,null,!1,"init",!0),a.mobileNav.attr("role","menu"),e(t).mousedown((function(){a._outlines(!1)})),e(t).keyup((function(){a._outlines(!0)})),e(a.btn).click((function(e){e.preventDefault(),a._menuToggle()})),a.mobileNav.on("click","."+o+"_item",(function(t){t.preventDefault(),a._itemClick(e(this))})),e(a.btn).keydown((function(e){var t;13==(e||event).keyCode&&(e.preventDefault(),a._menuToggle())})),a.mobileNav.on("keydown","."+o+"_item",(function(t){var i;13==(t||event).keyCode&&(t.preventDefault(),a._itemClick(e(t.target)))})),n.allowParentLinks&&n.nestedParentLinks&&e("."+o+"_item a").click((function(e){e.stopImmediatePropagation()}))},i.prototype._menuToggle=function(e){var t=this,a=this.btn,i=this.mobileNav;a.hasClass(o+"_collapsed")?(a.removeClass(o+"_collapsed"),a.addClass(o+"_open")):(a.removeClass(o+"_open"),a.addClass(o+"_collapsed")),a.addClass(o+"_animating"),this._visibilityToggle(i,a.parent(),!0,a)},i.prototype._itemClick=function(e){var t=this,a=this.settings,i=e.data("menu");i||((i={}).arrow=e.children("."+o+"_arrow"),i.ul=e.next("ul"),i.parent=e.parent(),i.parent.hasClass(o+"_parent-link")&&(i.parent=e.parent().parent(),i.ul=e.parent().next("ul")),e.data("menu",i)),i.parent.hasClass(o+"_collapsed")?(i.arrow.html(a.openedSymbol),i.parent.removeClass(o+"_collapsed"),i.parent.addClass(o+"_open"),i.parent.addClass(o+"_animating"),this._visibilityToggle(i.ul,i.parent,!0,e)):(i.arrow.html(a.closedSymbol),i.parent.addClass(o+"_collapsed"),i.parent.removeClass(o+"_open"),i.parent.addClass(o+"_animating"),this._visibilityToggle(i.ul,i.parent,!0,e))},i.prototype._visibilityToggle=function(t,a,i,n,s){var l=this,r=l.settings,d=l._getActionItems(t),c=0;i&&(c=r.duration),t.hasClass(o+"_hidden")?(t.removeClass(o+"_hidden"),t.slideDown(c,r.easingOpen,(function(){e(n).removeClass(o+"_animating"),e(a).removeClass(o+"_animating"),s||r.open(n)})),t.attr("aria-hidden","false"),d.attr("tabindex","0"),l._setVisAttr(t,!1)):(t.addClass(o+"_hidden"),t.slideUp(c,this.settings.easingClose,(function(){t.attr("aria-hidden","true"),d.attr("tabindex","-1"),l._setVisAttr(t,!0),t.hide(),e(n).removeClass(o+"_animating"),e(a).removeClass(o+"_animating"),s?"init"==n&&r.init():r.close(n)})))},i.prototype._setVisAttr=function(t,a){var i=this,n=t.children("li").children("ul").not("."+o+"_hidden");a?n.each((function(){var t=e(this),n;t.attr("aria-hidden","true"),i._getActionItems(t).attr("tabindex","-1"),i._setVisAttr(t,a)})):n.each((function(){var t=e(this),n;t.attr("aria-hidden","false"),i._getActionItems(t).attr("tabindex","0"),i._setVisAttr(t,a)}))},i.prototype._getActionItems=function(e){var t=e.data("menu");if(!t){t={};var a=e.children("li"),i=a.find("a");t.links=i.add(a.find("."+o+"_item")),e.data("menu",t)}return t.links},i.prototype._outlines=function(t){t?e("."+o+"_item, ."+o+"_btn").css("outline",""):e("."+o+"_item, ."+o+"_btn").css("outline","none")},i.prototype.toggle=function(){var e=this;this._menuToggle()},i.prototype.open=function(){var e=this;this.btn.hasClass(o+"_collapsed")&&this._menuToggle()},i.prototype.close=function(){var e=this;this.btn.hasClass(o+"_open")&&this._menuToggle()},e.fn.slicknav=function(t){var a=arguments,n;return void 0===t||"object"==typeof t?this.each((function(){e.data(this,"plugin_slicknav")||e.data(this,"plugin_slicknav",new i(this,t))})):"string"==typeof t&&"_"!==t[0]&&"init"!==t?(this.each((function(){var s=e.data(this,"plugin_slicknav");s instanceof i&&"function"==typeof s[t]&&(n=s[t].apply(s,Array.prototype.slice.call(a,1)))})),void 0!==n?n:this):void 0}}(jQuery,document,window),function(e){"use strict";e.fn.fitVids=function(t){var a={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],n=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",s=document.createElement("div");s.innerHTML='<p>x</p><style id="fit-vids-style">'+n+"</style>",i.appendChild(s.childNodes[1])}return t&&e.extend(a,t),this.each((function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];a.customSelector&&t.push(a.customSelector);var i=".fitvidsignore";a.ignore&&(i=i+", "+a.ignore);var n=e(this).find(t.join(","));(n=(n=n.not("object object")).not(i)).each((function(t){var a=e(this);if(!(a.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&a.parent("object").length||a.parent(".fluid-width-video-wrapper").length)){a.css("height")||a.css("width")||!isNaN(a.attr("height"))&&!isNaN(a.attr("width"))||(a.attr("height",9),a.attr("width",16));var n,s,o=("object"===this.tagName.toLowerCase()||a.attr("height")&&!isNaN(parseInt(a.attr("height"),10))?parseInt(a.attr("height"),10):a.height())/(isNaN(parseInt(a.attr("width"),10))?a.width():parseInt(a.attr("width"),10));if(!a.attr("id")){var l="fitvid"+t;a.attr("id",l)}a.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),a.removeAttr("height").removeAttr("width")}}))}))}}(window.jQuery||window.Zepto),$(document).ready((function(){$("nav > ul > li").hover((function(){$("ul",this).slideUp(0).stop(!0,!0).slideDown(400)}),(function(){$("ul",this).css("display","block").stop(!0,!0).delay(0).slideUp(200)})),$("nav > ul").slicknav({prependTo:"#top",init:function(){$(".slicknav_btn").click((function(){parent.location="#top"}))}}),$(".video").fitVids(),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click((function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);(t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top-$("header").outerHeight()},1e3,(function(){var e=$(t);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()})))}})),/Mobi|Android/i.test(navigator.userAgent)?$(window).scroll((function(){if($("header").length){var e=$(window).scrollTop(),t=$("header"),a=$(".topbar"),i=51,n=$(".container");$(window).width()>1024?e>51?(t.addClass("scroll").data("top",51),a.addClass("scroll"),n.addClass("scroll")):e<t.data("top")&&(t.removeClass("scroll"),a.removeClass("scroll"),n.removeClass("scroll")):(t.removeClass("scroll"),a.removeClass("scroll"),n.removeClass("scroll"))}})):$(window).scroll((function(){if($("header").length){var e=$(window).scrollTop(),t=$("header"),a=$(".topbar"),i=51,n=$(".container");$(window).width()>1009?e>51?(t.addClass("scrollDesktop").data("top",51),a.addClass("scrollDesktop"),n.addClass("scrollDesktop")):e<t.data("top")&&(t.removeClass("scrollDesktop"),a.removeClass("scrollDesktop"),n.removeClass("scrollDesktop")):(t.removeClass("scrollDesktop"),a.removeClass("scrollDesktop"),n.removeClass("scrollDesktop"))}})),$(window).scroll((function(){if($("header").length){var e=$(window).scrollTop(),t=$("header"),a=$(".topbar"),i=51,n=$(".container");$(window).width()>1024?e>51?(t.addClass("scroll").data("top",51),a.addClass("scroll"),n.addClass("scroll")):e<t.data("top")&&(t.removeClass("scroll"),a.removeClass("scroll"),n.removeClass("scroll")):(t.removeClass("scroll"),a.removeClass("scroll"),n.removeClass("scroll"))}}))}));