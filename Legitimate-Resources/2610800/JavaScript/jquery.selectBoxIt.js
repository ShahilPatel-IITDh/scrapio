(function(a){a(window.jQuery,window,document)}(function(b,a,e,c){b.widget("selectBox.selectBoxIt",{VERSION:"3.6.0",options:{showEffect:"none",showEffectOptions:{},showEffectSpeed:"medium",hideEffect:"none",hideEffectOptions:{},hideEffectSpeed:"medium",showFirstOption:true,defaultText:"",defaultIcon:"",downArrowIcon:"",theme:"default",keydownOpen:true,isMobile:function(){var f=navigator.userAgent||navigator.vendor||a.opera;return(/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/).test(f)},"native":false,aggressiveChange:false,selectWhenHidden:true,viewport:b(a),similarSearch:false,copyAttributes:["title","rel"],copyClasses:"button",nativeMousedown:false,customShowHideEvent:false,autoWidth:true,html:true,populate:"",dynamicPositioning:true,hideCurrent:false},getThemes:function(){var f=this,g=b(f.element).attr("data-theme")||"c";return{bootstrap:{focus:"active",hover:"",enabled:"enabled",disabled:"disabled",arrow:"caret",button:"btn",list:"dropdown-menu",container:"bootstrap",open:"open"},jqueryui:{focus:"ui-state-focus",hover:"ui-state-hover",enabled:"ui-state-enabled",disabled:"ui-state-disabled",arrow:"ui-icon ui-icon-triangle-1-s",button:"ui-widget ui-state-default",list:"ui-widget ui-widget-content",container:"jqueryui",open:"selectboxit-open"},jquerymobile:{focus:"ui-btn-down-"+g,hover:"ui-btn-hover-"+g,enabled:"ui-enabled",disabled:"ui-disabled",arrow:"ui-icon ui-icon-arrow-d ui-icon-shadow",button:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+g,list:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+g,container:"jquerymobile",open:"selectboxit-open"},"default":{focus:"selectboxit-focus",hover:"selectboxit-hover",enabled:"selectboxit-enabled",disabled:"selectboxit-disabled",arrow:"selectboxit-default-arrow",button:"selectboxit-btn",list:"selectboxit-list",container:"selectboxit-container",open:"selectboxit-open"}}},isDeferred:function(f){return b.isPlainObject(f)&&f.promise&&f.done},_create:function(h){var f=this,g=f.options.populate;if(!f.element.is("select")){return}f.widgetProto=b.Widget.prototype;f.originalElem=f.element[0];f.selectBox=f.element;if(f.options.populate&&f.add&&!h){f.add(g)}f.selectItems=f.element.find("option");f.firstSelectItem=f.selectItems.slice(0,1);f.documentHeight=b(e).height();f.theme=f.getThemes()[f.options.theme]||f.getThemes()["default"];f.currentFocus=0;f.blur=true;f.textArray=[];f.currentIndex=0;f.currentText="";f.flipped=false;if(!h){f.selectBoxStyles=f.selectBox.attr("style")}f._createDropdownButton()._createUnorderedList()._copyAttributes()._replaceSelectBox()._addClasses(f.theme)._eventHandlers();if(f.originalElem.disabled&&f.disable){f.disable()}if(f._ariaAccessibility){f._ariaAccessibility()}f.isMobile=f.options.isMobile();if(f._mobile){f._mobile()}if(f.options["native"]){this._applyNativeSelect()}f.triggerEvent("create");return f},_createDropdownButton:function(){var h=this,f=h.originalElemId=h.originalElem.id||"",g=h.originalElemValue=h.originalElem.value||"",k=h.originalElemName=h.originalElem.name||"",j=h.options.copyClasses,i=h.selectBox.attr("class")||"";h.dropdownText=b("<span/>",{id:f&&f+"SelectBoxItText","class":"selectboxit-text",unselectable:"on",text:h.firstSelectItem.text()}).attr("data-val",g);h.dropdownImageContainer=b("<span/>",{"class":"selectboxit-option-icon-container"});h.dropdownImage=b("<i/>",{id:f&&f+"SelectBoxItDefaultIcon","class":"selectboxit-default-icon",unselectable:"on"});h.dropdown=b("<span/>",{id:f&&f+"SelectBoxIt","class":"selectboxit "+(j==="button"?i:"")+" "+(h.selectBox.prop("disabled")?h.theme.disabled:h.theme.enabled),name:k,tabindex:h.selectBox.attr("tabindex")||"0",unselectable:"on"}).append(h.dropdownImageContainer.append(h.dropdownImage)).append(h.dropdownText);h.dropdownContainer=b("<span/>",{id:f&&f+"SelectBoxItContainer","class":"selectboxit-container "+(j==="container"?i:"")}).append(h.dropdown);return h},_createUnorderedList:function(){var f=this,j,r,i,k,g,h,u,t="",s=f.originalElemId||"",m=b("<ul/>",{id:s&&s+"SelectBoxItOptions","class":"selectboxit-options",tabindex:-1}),q,o,l,p;if(!f.options.showFirstOption){f.selectItems.first().attr("disabled","disabled");f.selectItems=f.selectBox.find("option").slice(1)}f.selectItems.each(function(v){r="";i="";j=b(this).prop("disabled");k=b(this).attr("data-icon")||"";g=b(this).attr("data-iconurl")||"";h=g?"selectboxit-option-icon-url":"";u=g?"style=\"background-image:url('"+g+"');\"":"";q=b(this).attr("data-selectedtext");o=b(this).attr("data-text");l=o?o:b(this).text();p=b(this).parent();if(p.is("optgroup")){r="selectboxit-optgroup-option";if(b(this).index()===0){i='<span class="selectboxit-optgroup-header '+p.first().attr("class")+'"data-disabled="true">'+p.first().attr("label")+"</span>"}}t+=i+'<li id="'+v+'" data-val="'+this.value+'" data-disabled="'+j+'" class="'+r+" selectboxit-option "+(b(this).attr("class")||"")+'"><a class="selectboxit-option-anchor"><span class="selectboxit-option-icon-container"><i class="selectboxit-option-icon '+k+" "+(h||f.theme.container)+'"'+u+"></i></span>"+(f.options.html?l:f.htmlEscape(l))+"</a></li>";f.textArray[v]=j?"":l;if(this.selected){f._setText(f.dropdownText,q||l);f.currentFocus=v}});if((f.options.defaultText||f.selectBox.attr("data-text"))){var n=f.options.defaultText||f.selectBox.attr("data-text");f._setText(f.dropdownText,n);f.options.defaultText=n}m.append(t);f.list=m;f.dropdownContainer.append(f.list);f.listItems=f.list.find("li");f.listAnchors=f.list.find("a");f.listItems.first().addClass("selectboxit-option-first");f.listItems.last().addClass("selectboxit-option-last");f.list.find("li[data-disabled='true']").not(".optgroupHeader").addClass(f.theme.disabled);f.dropdownImage.addClass(f.selectBox.attr("data-icon")||f.options.defaultIcon||f.listItems.eq(f.currentFocus).find("i").attr("class"));f.dropdownImage.attr("style",f.listItems.eq(f.currentFocus).find("i").attr("style"));return f},_replaceSelectBox:function(){var i=this,h,g=i.originalElem.id||"",f=i.selectBox.attr("data-size"),j=i.listSize=f===c?"auto":f==="0"||"size"==="auto"?"auto":+f;i.selectBox.css("display","none").after(i.dropdownContainer);h=i.dropdown.height();i.downArrow=b("<i/>",{id:g&&g+"SelectBoxItArrow","class":"selectboxit-arrow",unselectable:"on"});i.downArrowContainer=b("<span/>",{id:g&&g+"SelectBoxItArrowContainer","class":"selectboxit-arrow-container",unselectable:"on"}).append(i.downArrow);i.dropdown.append(i.downArrowContainer);i.listItems.removeClass("selectboxit-selected").eq(i.currentFocus).addClass("selectboxit-selected");if(!i._realOuterWidth(i.dropdownImageContainer)){i.dropdownImageContainer.remove()}if(i.options.autoWidth){if(i.dropdown.is(":visible")){i.dropdown.css({width:"auto"}).css({width:i.list.outerWidth(true)+i.downArrowContainer.outerWidth(true)+i.dropdownImage.outerWidth(true)})}else{i.dropdown.css({width:"auto"}).css({width:i._realOuterWidth(i.list)+i._realOuterWidth(i.downArrowContainer)+i._realOuterWidth(i.dropdownImage)})}i.list.css({"min-width":i.dropdown.width()})}i.dropdownText.css({"max-width":i.dropdownContainer.width()-(i.downArrowContainer.outerWidth(true)+i.dropdownImage.outerWidth(true))});if(b.type(j)==="number"){i.maxHeight=i.listAnchors.outerHeight(true)*j}return i},_scrollToView:function(j){var n=this,l=n.listItems.eq(n.currentFocus),i=n.list.scrollTop(),m=l.height(),f=l.position().top,h=Math.abs(f),g=n.list.height(),k;if(j==="search"){if(g-f<m){n.list.scrollTop(i+(f-(g-m)))}else{if(f<-1){n.list.scrollTop(f-m)}}}else{if(j==="up"){if(f<-1){n.list.scrollTop(i-h)}}else{if(j==="down"){if(g-f<m){n.list.scrollTop((i+(h-g+m)))}}}}return n},_callbackSupport:function(g){var f=this;if(b.isFunction(g)){g.call(f,f.dropdown)}return f},_setText:function(f,g){var h=this;if(h.options.html){f.html(g)}else{f.text(g)}return h},open:function(h){var l=this,j=l.options.showEffect,g=l.options.showEffectSpeed,f=l.options.showEffectOptions,i=l.options["native"],k=l.isMobile;if(!l.listItems.length||l.dropdown.hasClass(l.theme.disabled)){return l}if((!i&&!k)&&!this.list.is(":visible")){l.triggerEvent("open");if(l._dynamicPositioning&&l.options.dynamicPositioning){l._dynamicPositioning()}if(j==="none"){l.list.show()}else{if(j==="show"||j==="slideDown"||j==="fadeIn"){l.list[j](g)}else{l.list.show(j,f,g)}}l.list.promise().done(function(){l._scrollToView("search")})}l._callbackSupport(h);return l},close:function(h){var j=this,g=j.options.hideEffect,l=j.options.hideEffectSpeed,i=j.options.hideEffectOptions,f=j.options["native"],k=j.isMobile;if((!f&&!k)&&j.list.is(":visible")){j.triggerEvent("close");if(g==="none"){j.list.hide()}else{if(g==="hide"||g==="slideUp"||g==="fadeOut"){j.list[g](l)}else{j.list.hide(g,i,l)}}}j._callbackSupport(h);return j},toggle:function(){var f=this,g=f.list.is(":visible");if(g){f.close()}else{if(!g){f.open()}}},_keyMappings:{"38":"up","40":"down","13":"enter","8":"backspace","9":"tab","32":"space","27":"esc"},_keydownMethods:function(){var f=this,g=f.list.is(":visible")||!f.options.keydownOpen;return{down:function(){if(f.moveDown&&g){f.moveDown()}},up:function(){if(f.moveUp&&g){f.moveUp()}},enter:function(){var h=f.listItems.eq(f.currentFocus);f._update(h);if(h.attr("data-preventclose")!=="true"){f.close()}f.triggerEvent("enter")},tab:function(){f.triggerEvent("tab-blur");f.close()},backspace:function(){f.triggerEvent("backspace")},esc:function(){f.close()}}},_eventHandlers:function(){var k=this,f=k.options.nativeMousedown,i=k.options.customShowHideEvent,h,m,l=k.focusClass,g=k.hoverClass,j=k.openClass;this.dropdown.on({"click.selectBoxIt":function(){k.dropdown.trigger("focus",true);if(!k.originalElem.disabled){k.triggerEvent("click");if(!f&&!i){k.toggle()}}},"mousedown.selectBoxIt":function(){b(this).data("mdown",true);k.triggerEvent("mousedown");if(f&&!i){k.toggle()}},"mouseup.selectBoxIt":function(){k.triggerEvent("mouseup")},"blur.selectBoxIt":function(){if(k.blur){k.triggerEvent("blur");k.close();b(this).removeClass(l)}},"focus.selectBoxIt":function(p,n){var o=b(this).data("mdown");b(this).removeData("mdown");if(!o&&!n){setTimeout(function(){k.triggerEvent("tab-focus")},0)}if(!n){if(!b(this).hasClass(k.theme.disabled)){b(this).addClass(l)}k.triggerEvent("focus")}},"keydown.selectBoxIt":function(o){var p=k._keyMappings[o.keyCode],n=k._keydownMethods()[p];if(n){n();if(k.options.keydownOpen&&(p==="up"||p==="down")){k.open()}}if(n&&p!=="tab"){o.preventDefault()}},"keypress.selectBoxIt":function(o){var p=o.charCode||o.keyCode,n=k._keyMappings[o.charCode||o.keyCode],q=String.fromCharCode(p);if(k.search&&(!n||(n&&n==="space"))){k.search(q,true,true)}if(n==="space"){o.preventDefault()}},"mouseenter.selectBoxIt":function(){k.triggerEvent("mouseenter")},"mouseleave.selectBoxIt":function(){k.triggerEvent("mouseleave")}});k.list.on({"mouseover.selectBoxIt":function(){k.blur=false},"mouseout.selectBoxIt":function(){k.blur=true}});k.list.on({"click.selectBoxIt":function(){k._update(b(this));k.triggerEvent("option-click");if(b(this).attr("data-disabled")==="false"&&b(this).attr("data-preventclose")!=="true"){k.close()}},"focusin.selectBoxIt":function(){k.listItems.not(b(this)).removeAttr("data-active");b(this).attr("data-active","");var n=k.list.is(":hidden");if((k.options.searchWhenHidden&&n)||k.options.aggressiveChange||(n&&k.options.selectWhenHidden)){k._update(b(this))}b(this).add(b(this).find(".selectboxit-option-anchor")).addClass(l)},"mouseup.selectBoxIt":function(){if(f&&!i){k._update(b(this));k.triggerEvent("option-mouseup");if(b(this).attr("data-disabled")==="false"&&b(this).attr("data-preventclose")!=="true"){k.close()}}},"mouseenter.selectBoxIt":function(){if(b(this).attr("data-disabled")==="false"){k.listItems.removeAttr("data-active");b(this).addClass(l).attr("data-active","");k.listItems.not(b(this)).add(k.listAnchors.not(b(this).find(".selectboxit-option-anchor"))).removeClass(l);b(this).add(b(this).find(".selectboxit-option-anchor")).addClass(l);k.currentFocus=+b(this).attr("id")}},"mouseleave.selectBoxIt":function(){if(b(this).attr("data-disabled")==="false"){k.listItems.not(b(this)).removeClass(l).removeAttr("data-active");b(this).add(b(this).find(".selectboxit-option-anchor")).addClass(l);k.currentFocus=+b(this).attr("id")}},"blur.selectBoxIt":function(){b(this).add(b(this).find(".selectboxit-option-anchor")).removeClass(l)}},".selectboxit-option");k.list.on({"click.selectBoxIt":function(n){n.preventDefault()}},"a");k.selectBox.on({"change.selectBoxIt, internal-change.selectBoxIt":function(p,q){var o,n;if(!q){o=k.list.find('li[data-val="'+k.originalElem.value+'"]');if(o.length){k.listItems.eq(k.currentFocus).removeClass(k.focusClass);k.currentFocus=+o.attr("id")}}o=k.listItems.eq(k.currentFocus);n=o.attr("data-selectedtext");h=o.attr("data-text");m=h?h:o.find("a").text();k._setText(k.dropdownText,n||m);k.dropdownText.attr("data-val",k.originalElem.value);if(o.find("i").attr("class")){k.dropdownImage.attr("class",o.find("i").attr("class")).addClass("selectboxit-default-icon");k.dropdownImage.attr("style",o.find("i").attr("style"))}k.triggerEvent("changed")},"disable.selectBoxIt":function(){k.dropdown.addClass(k.theme.disabled)},"enable.selectBoxIt":function(){k.dropdown.removeClass(k.theme.disabled)},"open.selectBoxIt":function(){var n=k.list.find("li[data-val='"+k.dropdownText.attr("data-val")+"']"),o;if(!n.length){n=k.listItems.not("[data-disabled=true]").first()}k.currentFocus=+n.attr("id");o=k.listItems.eq(k.currentFocus);k.dropdown.addClass(j).removeClass(g).addClass(l);k.listItems.removeClass(k.selectedClass).removeAttr("data-active").not(o).add(k.listAnchors.not(o.find(".selectboxit-option-anchor"))).removeClass(l);o.addClass(k.selectedClass).add(o.find(".selectboxit-option-anchor")).addClass(l);if(k.options.hideCurrent){k.listItems.show();o.hide()}},"close.selectBoxIt":function(){k.dropdown.removeClass(j)},"blur.selectBoxIt":function(){k.dropdown.removeClass(l)},"mouseenter.selectBoxIt":function(){if(!b(this).hasClass(k.theme.disabled)){k.dropdown.addClass(g)}},"mouseleave.selectBoxIt":function(){k.dropdown.removeClass(g)},destroy:function(n){n.preventDefault();n.stopPropagation()}});return k},_update:function(g){var f=this,j,l,h,i=f.options.defaultText||f.selectBox.attr("data-text"),k=f.listItems.eq(f.currentFocus);if(g.attr("data-disabled")==="false"){j=f.listItems.eq(f.currentFocus).attr("data-selectedtext");l=k.attr("data-text");h=l?l:k.text();if((i&&f.options.html?f.dropdownText.html()===i:f.dropdownText.text()===i)&&f.selectBox.val()===g.attr("data-val")){f.triggerEvent("change")}else{f.selectBox.val(g.attr("data-val"));f.currentFocus=+g.attr("id");if(f.originalElem.value!==f.dropdownText.attr("data-val")){f.triggerEvent("change")}}}},_addClasses:function(f){var l=this,n=l.focusClass=f.focus,h=l.hoverClass=f.hover,j=f.button,m=f.list,i=f.arrow,k=f.container,g=l.openClass=f.open;l.selectedClass="selectboxit-selected";l.downArrow.addClass(l.selectBox.attr("data-downarrow")||l.options.downArrowIcon||i);l.dropdownContainer.addClass(k);l.dropdown.addClass(j);l.list.addClass(m);return l},refresh:function(g,h){var f=this;f._destroySelectBoxIt()._create(true);if(!h){f.triggerEvent("refresh")}f._callbackSupport(g);return f},htmlEscape:function(f){return String(f).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},triggerEvent:function(g){var f=this,h=f.options.showFirstOption?f.currentFocus:((f.currentFocus-1)>=0?f.currentFocus:0);f.selectBox.trigger(g,{selectbox:f.selectBox,selectboxOption:f.selectItems.eq(h),dropdown:f.dropdown,dropdownOption:f.listItems.eq(f.currentFocus)});return f},_copyAttributes:function(){var f=this;if(f._addSelectBoxAttributes){f._addSelectBoxAttributes()}return f},_realOuterWidth:function(i){if(i.is(":visible")){return i.outerWidth(true)}var h=this,g=i.clone(),f;g.css({visibility:"hidden",display:"block",position:"absolute"}).appendTo("body");f=g.outerWidth(true);g.remove();return f}});var d=b.selectBox.selectBoxIt.prototype;d._ariaAccessibility=function(){var f=this;f.dropdown.attr({role:"combobox","aria-autocomplete":"list","aria-expanded":"false","aria-owns":f.list.attr("id"),"aria-activedescendant":f.listItems.eq(f.currentFocus).length?f.listItems.eq(f.currentFocus)[0].id:"","aria-label":b("label[for='"+f.originalElem.id+"']").text()||"","aria-live":"assertive"}).on({"disable.selectBoxIt":function(){f.dropdown.attr("aria-disabled","true")},"enable.selectBoxIt":function(){f.dropdown.attr("aria-disabled","false")}});f.list.attr({role:"listbox","aria-hidden":"true"});f.listItems.attr({role:"option"});f.selectBox.on({"change.selectBoxIt":function(){f.dropdownText.attr("aria-label",f.originalElem.value)},"open.selectBoxIt":function(){f.list.attr("aria-hidden","false");f.dropdown.attr("aria-expanded","true")},"close.selectBoxIt":function(){f.list.attr("aria-hidden","true");f.dropdown.attr("aria-expanded","false")}});return f};d._addSelectBoxAttributes=function(){var f=this;f._addAttributes(f.selectBox.prop("attributes"),f.dropdown);f.selectItems.each(function(g){f._addAttributes(b(this).prop("attributes"),f.listItems.eq(g))});return f};d._addAttributes=function(h,g){var i=this,f=i.options.copyAttributes;if(h.length){b.each(h,function(k,m){var l=(m.name).toLowerCase(),j=m.value;if(j!=="null"&&(b.inArray(l,f)!==-1||l.indexOf("data")!==-1)){g.attr(l,j)}})}return i};d.destroy=function(g){var f=this;f._destroySelectBoxIt();f.widgetProto.destroy.call(f);f._callbackSupport(g);return f};d._destroySelectBoxIt=function(){var f=this;f.dropdown.off(".selectBoxIt");if(b.contains(f.dropdownContainer[0],f.originalElem)){f.dropdownContainer.before(f.selectBox)}f.dropdownContainer.remove();f.selectBox.removeAttr("style").attr("style",f.selectBoxStyles);f.selectBox.show();f.triggerEvent("destroy");return f};d.disable=function(g){var f=this;if(!f.options.disabled){f.close();f.selectBox.attr("disabled","disabled");f.dropdown.removeAttr("tabindex").removeClass(f.theme.enabled).addClass(f.theme.disabled);f.setOption("disabled",true);f.triggerEvent("disable")}f._callbackSupport(g);return f};d.disableOption=function(i,h){var g=this,j,f,l,k=b.type(i);if(k==="number"){g.close();j=g.selectBox.find("option").eq(i);g.triggerEvent("disable-option");j.attr("disabled","disabled");g.listItems.eq(i).attr("data-disabled","true").addClass(g.theme.disabled);if(g.currentFocus===i){f=g.listItems.eq(g.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;l=g.listItems.eq(g.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(f){g.moveDown()}else{if(l){g.moveUp()}else{g.disable()}}}}g._callbackSupport(h);return g};d._isDisabled=function(g){var f=this;if(f.originalElem.disabled){f.disable()}return f};d._dynamicPositioning=function(){var k=this;if(b.type(k.listSize)==="number"){k.list.css("max-height",k.maxHeight||"none")}else{var f=k.dropdown.offset().top,n=k.list.data("max-height")||k.list.outerHeight(),g=k.dropdown.outerHeight(),i=k.options.viewport,p=i.height(),m=b.isWindow(i.get(0))?i.scrollTop():i.offset().top,l=(f+g+n<=p+m),h=!l;if(!k.list.data("max-height")){k.list.data("max-height",k.list.outerHeight())}if(!h){k.list.css("max-height",n);k.list.css("top","auto")}else{if((k.dropdown.offset().top-m)>=n){k.list.css("max-height",n);k.list.css("top",(k.dropdown.position().top-k.list.outerHeight()))}else{var o=Math.abs((f+g+n)-(p+m)),j=Math.abs((k.dropdown.offset().top-m)-n);if(o<j){k.list.css("max-height",n-o-(g/2));k.list.css("top","auto")}else{k.list.css("max-height",n-j-(g/2));k.list.css("top",(k.dropdown.position().top-k.list.outerHeight()))}}}}return k};d.enable=function(g){var f=this;if(f.options.disabled){f.triggerEvent("enable");f.selectBox.removeAttr("disabled");f.dropdown.attr("tabindex",0).removeClass(f.theme.disabled).addClass(f.theme.enabled);f.setOption("disabled",false);f._callbackSupport(g)}return f};d.enableOption=function(i,g){var m=this,k,j=0,f,h,l=b.type(i);if(l==="number"){k=m.selectBox.find("option").eq(i);m.triggerEvent("enable-option");k.removeAttr("disabled");m.listItems.eq(i).attr("data-disabled","false").removeClass(m.theme.disabled)}m._callbackSupport(g);return m};d.moveDown=function(g){var h=this;h.currentFocus+=1;var i=h.listItems.eq(h.currentFocus).attr("data-disabled")==="true"?true:false,f=h.listItems.eq(h.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;if(h.currentFocus===h.listItems.length){h.currentFocus-=1}else{if(i&&f){h.listItems.eq(h.currentFocus-1).blur();h.moveDown();return}else{if(i&&!f){h.currentFocus-=1}else{h.listItems.eq(h.currentFocus-1).blur().end().eq(h.currentFocus).focusin();h._scrollToView("down");h.triggerEvent("moveDown")}}}h._callbackSupport(g);return h};d.moveUp=function(g){var i=this;i.currentFocus-=1;var f=i.listItems.eq(i.currentFocus).attr("data-disabled")==="true"?true:false,h=i.listItems.eq(i.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(i.currentFocus===-1){i.currentFocus+=1}else{if(f&&h){i.listItems.eq(i.currentFocus+1).blur();i.moveUp();return}else{if(f&&!h){i.currentFocus+=1}else{i.listItems.eq(this.currentFocus+1).blur().end().eq(i.currentFocus).focusin();i._scrollToView("up");i.triggerEvent("moveUp")}}}i._callbackSupport(g);return i};d._setCurrentSearchOption=function(g){var f=this;if((f.options.aggressiveChange||f.options.selectWhenHidden||f.listItems.eq(g).is(":visible"))&&f.listItems.eq(g).data("disabled")!==true){f.listItems.eq(f.currentFocus).blur();f.currentIndex=g;f.currentFocus=g;f.listItems.eq(f.currentFocus).focusin();f._scrollToView("search");f.triggerEvent("search")}return f};d._searchAlgorithm=function(i,h){var m=this,n=false,l,j,f,g,o=m.textArray,k=m.currentText;for(l=i,f=o.length;l<f;l+=1){g=o[l];for(j=0;j<f;j+=1){if(o[j].search(h)!==-1){n=true;j=f}}if(!n){m.currentText=m.currentText.charAt(m.currentText.length-1).replace(/[|()\[{.+*?$\\]/g,"\\$0");k=m.currentText}h=new RegExp(k,"gi");if(k.length<3){h=new RegExp(k.charAt(0),"gi");if((g.charAt(0).search(h)!==-1)){m._setCurrentSearchOption(l);if((g.substring(0,k.length).toLowerCase()!==k.toLowerCase())||m.options.similarSearch){m.currentIndex+=1}return false}}else{if((g.search(h)!==-1)){m._setCurrentSearchOption(l);return false}}if(g.toLowerCase()===m.currentText.toLowerCase()){m._setCurrentSearchOption(l);m.currentText="";return false}}return true};d.search=function(i,g,f){var h=this;if(f){h.currentText+=i.replace(/[|()\[{.+*?$\\]/g,"\\$0")}else{h.currentText=i.replace(/[|()\[{.+*?$\\]/g,"\\$0")}var j=h._searchAlgorithm(h.currentIndex,new RegExp(h.currentText,"gi"));if(j){h._searchAlgorithm(0,h.currentText)}h._callbackSupport(g);return h};d._applyNativeSelect=function(){var i=this,f,h,g;i.dropdownContainer.append(i.selectBox);i.selectBox.css({display:"block",visibility:"visible",width:i.dropdown.outerWidth(),height:i.dropdown.outerHeight(),opacity:"0",position:"absolute",top:"0",left:"0",cursor:"pointer","z-index":"999999",margin:i.dropdown.css("margin"),padding:"0","-webkit-appearance":"menulist-button"}).on({"changed.selectBoxIt":function(){f=i.selectBox.find("option").filter(":selected");h=f.attr("data-text");g=h?h:f.text();i._setText(i.dropdownText,g);if(i.list.find('li[data-val="'+f.val()+'"]').find("i").attr("class")){i.dropdownImage.attr("class",i.list.find('li[data-val="'+f.val()+'"]').find("i").attr("class")).addClass("selectboxit-default-icon")}i.triggerEvent("option-click")}})};d._mobile=function(g){var f=this;if(f.isMobile){f._applyNativeSelect()}return this};d.selectOption=function(f,g){var h=this,i=b.type(f);if(i==="number"){h.selectBox.val(h.selectItems.eq(f).val()).change()}else{if(i==="string"){h.selectBox.val(f).change()}}h._callbackSupport(g);return h};d.setOption=function(i,f,g){var h=this;if(b.type(i)==="string"){h.options[i]=f}h.refresh(function(){h._callbackSupport(g)},true);return h};d.setOption=function(i,f,g){var h=this;if(b.type(i)==="string"){h.options[i]=f}h.refresh(function(){h._callbackSupport(g)},true);return h};d.setOptions=function(f,g){var h=this;if(b.isPlainObject(f)){h.options=b.extend({},h.options,f)}h.refresh(function(){h._callbackSupport(g)},true);return h};d.wait=function(f,g){var h=this;h.widgetProto._delay.call(h,g,f);return h};d.remove=function(k,g){var i=this,m=b.type(k),l,h=0,f,j="";if(m==="array"){for(h,f=k.length;h<=f-1;h+=1){l=k[h];if(b.type(l)==="number"){if(j.length){j+=", option:eq("+l+")"}else{j+="option:eq("+l+")"}}}i.selectBox.find(j).remove()}else{if(m==="number"){i.selectBox.find("option").eq(k).remove()}else{i.selectBox.find("option").remove()}}if(i.dropdown){i.refresh(function(){i._callbackSupport(g)},true)}else{i._callbackSupport(g)}return i};d.add=function(f,g){this._populate(f,function(h){var l=this,i=b.type(h),k,j=0,p,n=[],o=l._isJSON(h),m=o&&l._parseJSON(h);if(h&&(i==="array"||(o&&m.data&&b.type(m.data)==="array"))||(i==="object"&&h.data&&b.type(h.data)==="array")){if(l._isJSON(h)){h=m}if(h.data){h=h.data}for(j,p=h.length;j<=p-1;j+=1){k=h[j];if(b.isPlainObject(k)){n.push(b("<option/>",k))}else{if(b.type(k)==="string"){n.push(b("<option/>",{text:k,value:k}))}}}l.selectBox.append(n)}else{if(h&&i==="string"&&!l._isJSON(h)){l.selectBox.append(h)}else{if(h&&i==="object"){l.selectBox.append(b("<option/>",h))}else{if(h&&l._isJSON(h)&&b.isPlainObject(l._parseJSON(h))){l.selectBox.append(b("<option/>",l._parseJSON(h)))}}}}if(l.dropdown){l.refresh(function(){l._callbackSupport(g)},true)}else{l._callbackSupport(g)}return l})};d._parseJSON=function(f){return(JSON&&JSON.parse&&JSON.parse(f))||b.parseJSON(f)};d._isJSON=function(f){var h=this,i;try{i=h._parseJSON(f);return true}catch(g){return false}return h};d._populate=function(f,g){var h=this;f=b.isFunction(f)?f.call():f;if(h.isDeferred(f)){f.done(function(i){g.call(h,i)})}else{g.call(h,f)}return h}}));