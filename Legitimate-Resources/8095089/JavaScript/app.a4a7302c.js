(function(e){function t(t){for(var r,a,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},a={2:0},o={2:0},i=[];function s(e){return l.p+"js/"+({}[e]||e)+"."+{1:"ec3f9e14",3:"76a229ea",4:"45395bbf",5:"c096c9a1",6:"10d82405",7:"026cb65a"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={3:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{1:"31d6cfe0",3:"32e28784",4:"31d6cfe0",5:"31d6cfe0",6:"31d6cfe0",7:"31d6cfe0"}[e]+".css",o=l.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===r||u===o))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){c=d[s],u=c.getAttribute("data-href");if(u===r||u===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],f.parentNode.removeChild(f),n(i)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var f=u;i.push([0,0]),n()})({0:function(e,t,n){e.exports=n("2f39")},"2f39":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setPackageInfo",(function(){return x})),n.d(r,"setTransferInfo",(function(){return $})),n.d(r,"setFiles",(function(){return T})),n.d(r,"setValidation",(function(){return P}));var a={};n.r(a),n.d(a,"fetchDownloadPackage",(function(){return C})),n.d(a,"fetchDownloadFiles",(function(){return F})),n.d(a,"fetchPackageContents",(function(){return R})),n.d(a,"fetchDownloadLink",(function(){return N})),n.d(a,"completeDownload",(function(){return A})),n.d(a,"fetchDownloadZip",(function(){return V})),n.d(a,"cloudTransfer",(function(){return B})),n.d(a,"fetchTransfer",(function(){return M})),n.d(a,"cancelTransfer",(function(){return G})),n.d(a,"verifyConnection",(function(){return U})),n.d(a,"fetchValidation",(function(){return Z})),n.d(a,"signup",(function(){return J})),n.d(a,"version",(function(){return W}));n("cbcf"),n("2233"),n("2f72"),n("9bee"),n("838b"),n("31cd");var o=n("e832"),i=n("b661"),s=n("8c49"),l=n("f846"),c=n("a7b7"),u=n("c545"),d=n("b2bf"),f=n("f5ae"),m=n("caca");o["a"].use(l["a"],{config:{},lang:i["a"],iconSet:s["a"],plugins:{Loading:c["a"],Notify:u["a"],Dialog:d["a"],Meta:f["a"],LocalStorage:m["a"]}});var g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},p=[],h={name:"App",created(){this.setLang()},methods:{setLang(){this.$i18n.locale=this.$route.query.lang||"en"}},watch:{"$route.query.lang"(e){this.setLang()}}},v=h,b=n("a6c2"),y=Object(b["a"])(v,g,p,!1,null,null,null),w=y.exports,_=n("94ea"),k=function(){return{packageInfo:null,transferInfo:null,files:null,validation:null,plannedOutage:!1}};function x(e,t){e.packageInfo=t}function $(e,t){e.transferInfo&&(t.access_token=e.transferInfo.access_token),e.transferInfo=t}function T(e,t){e.files=t}function P(e,t){e.validation=t}var q=n("94d5"),O=n("dc80"),j=n("3a6b"),I=n("8cee"),E=n("78a9"),S=n("2885"),D=n("932d"),L=n("b839");async function C({commit:e},{id:t,secret:n,password:r}){var a,o,i;this._vm.$q.loading.show();let s=await O["a"].fetchDownloadPackage(t,n,r);this._vm.$q.loading.hide(),null!==(a=s.branding)&&void 0!==a&&a.primary_color&&D["a"].setBrand("primary",s.branding.primary_color),e("setPackageInfo",s);let l=document.cookie.split("; ").find((e=>e.startsWith("masv-team="))),c="unknown";l&&(c=l.substring(10)),this._vm.$eventTracking.setTeam(c),this._vm.$eventTracking.trackEvent(L["b"].DownloadAppVisited,{package_id:s.id,custom_logo:!(null===(o=s.branding)||void 0===o||!o.logo_url),custom_background:!(null===(i=s.branding)||void 0===i||!i.background_url)})}async function F({commit:e,state:t}){this._vm.$q.loading.show();let{package_id:n,package_token:r}=t.packageInfo,a=await O["a"].fetchDownloadFiles(n,r);this._vm.$q.loading.hide(),e("setFiles",a.results)}async function R({state:e}){let{package_id:t,package_token:n}=e.packageInfo,r=await O["a"].fetchPackageContents(t,n);return new Promise((async(e,t)=>{r.hasError?t():e(r.results)}))}async function N({state:e},t){this._vm.$q.loading.show();let{package_id:n,package_token:r}=e.packageInfo,a=await O["a"].fetchDownloadLink(n,t,r);return this._vm.$q.loading.hide(),a}async function A({state:e},{id:t,secret:n,password:r}){this._vm.$q.loading.show();let{package_token:a}=e.packageInfo,o=await O["a"].completeDownload(t,a,{secret:n},r);return this._vm.$q.loading.hide(),o}async function V({state:e},t){this._vm.$q.loading.show();let{package_id:n,package_token:r}=e.packageInfo,a=await O["a"].fetchDownloadZip(n,r,t);return this._vm.$q.loading.hide(),a.hasError&&this._vm.$handleError(this,a,"fetchDownloadZip"),a}async function B({state:e,commit:t},n){this._vm.$q.loading.show();let{package_id:r,package_token:a}=e.packageInfo,o=await O["a"].cloudTransfer(r,a,n);return this._vm.$q.loading.hide(),t("setTransferInfo",o),o}async function M({state:e,commit:t}){let{id:n,access_token:r}=e.transferInfo,a=await j["a"].fetchTransfer(n,r);return t("setTransferInfo",a),a}async function G({state:e}){this._vm.$q.loading.show();let{id:t,access_token:n}=e.transferInfo,r=await j["a"].cancelTransfer(t,n);return this._vm.$q.loading.hide(),r}async function U({state:e},{provider:t,extraPath:n,body:r}){this._vm.$q.loading.show();let{package_id:a,package_token:o}=e.packageInfo,i=await I["a"].verifyConnection(t,n,r,o);return this._vm.$q.loading.hide(),i}async function Z({commit:e}){let t=await E["a"].fetchValidation();return t.hasError?(this._vm.$handleError(this,t,"fetchValidation"),null):(e("setValidation",t),t)}async function J({dispatch:e},t){this._vm.$q.loading.show();let n=await S["a"].signup(t);return new Promise((async(e,t)=>{this._vm.$q.loading.hide(),n.hasError?(t(n),this._vm.$handleError(this,n,"signup")):e(n)}))}async function W(){this._vm.$q.loading.show();let e=await E["a"].version();return this._vm.$q.loading.hide(),e}o["a"].use(_["a"]);var z=function(){const e=new _["a"].Store({state:k,mutations:r,getters:q,actions:a,strict:!1});return e},H=n("4af9"),Y=(n("534d"),n("f74f"));const K=[{path:"/outage",component:Y["a"],children:[{name:"Outage",path:"",component:()=>n.e(0).then(n.bind(null,"61c0"))}]},{path:"/dropbox",component:()=>n.e(1).then(n.bind(null,"713b")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"ac8b"))}]},{path:"/onedrive",component:()=>n.e(1).then(n.bind(null,"713b")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"9788"))}]},{path:"/sharepoint",component:()=>n.e(1).then(n.bind(null,"713b")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"8b22"))}]},{path:"/:id",component:()=>n.e(1).then(n.bind(null,"713b")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"8b24"))}]},{path:"*",component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"e51e"))}];var Q=K;o["a"].use(H["a"]);var X=function(){const e=new H["a"]({scrollBehavior:()=>({x:0,y:0}),routes:Q,mode:"history",base:"/"});return e},ee=async function(){const e="function"===typeof z?await z({Vue:o["a"]}):z,t="function"===typeof X?await X({Vue:o["a"],store:e}):X;e.$router=t;const n={router:t,store:e,render:e=>e(w),el:"#q-app"};return{app:n,store:e,router:t}},te=n("76cf"),ne=n("cd93"),re=n("9729"),ae=n("526c");o["a"].filter("humanizeSize",te["a"]),o["a"].filter("formatDate",ne["a"]),o["a"].filter("formatTime",ne["c"]),o["a"].filter("formatDateTime",ne["b"]),o["a"].filter("calcCost",re["a"]),o["a"].filter("calcStorage",re["b"]),o["a"].filter("roundDecimals",re["c"]),o["a"].filter("pathStartsWith",ae["a"]);var oe=n("a200");o["a"].prototype.$helpers=oe,o["a"].prototype.$eventTracking=new L["c"];var ie=n("8847"),se=n("7338"),le=n.n(se);o["a"].prototype.$axios=le.a;var ce=n("e972"),ue=n.n(ce),de=n("a4d3"),fe=n.n(de),me=n("d296");o["a"].prototype.$validate=me;n("22f4");function ge(e,t){return[{label:ie["b"].t("dismiss"),color:"yellow",handler:()=>{}},e?{label:ie["b"].t("contact_support"),color:"white",handler:()=>{window.open(`mailto:${e}`)}}:{}]}function pe(e){return[{label:ie["b"].t("dismiss"),color:"yellow",handler:()=>{}},{label:"Upgrade",color:"white",handler:()=>e.$router.push({name:"Upgrade"})}]}function he(e){return[{label:ie["b"].t("dismiss"),color:"yellow",handler:()=>{}},{label:ie["b"].t("contact_support"),color:"white",handler:()=>window.HubSpotConversations.widget.load()}]}o["a"].prototype.$handleError=(e,t,n,r=null)=>{var a;((0==t.httpCode||t.httpCode>=500)&&(n="network",navigator.onLine?t.code=0:t.code=1),ve[n]&&ve[n][t.code])?e._vm.$q.notify({type:"negative",position:"bottom",...ve[n][t.code]({ctx:e,err:t,extra:r})}):e._vm.$q.notify({type:"negative",position:"bottom",message:null!==(a=t.errors)&&void 0!==a&&a.length?t.errors[0].msg:t.message})};let ve={addMembers:{400:function(){let e="Failed to send invitation, team maximum number of user reached!";return{message:e}},402:function({ctx:e}){let t="Failed to send invitation, because the trial has ended",n=0,r=pe(e);return{message:t,timeout:n,actions:r}},503:function(){let e="Oops, that didn't work! Our system is under maintenance right now, please try again later";return{message:e}},601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}}},createConnection:{400:function({ctx:e,err:t}){var n,r;let a={};if(a.message=null!==(n=t.errors)&&void 0!==n&&n.length?t.errors[0].msg||t.errors[0].code:t.message,null!==(r=t.errors)&&void 0!==r&&r.length)for(let o of Object.keys(t.errors))if("subscription_max_cloud_connections"==t.errors[o].code){a.message="Trial cloud integrations limit reached",a.timeout=0,a.actions=pe(e);break}return a}},createLink:{},createPackage:{429:function({ctx:e,extra:t}){let n={timeout:0};return e._vm["billing/isActive"]?(n.message="You have reached your daily upload limit. Contact support to request an increase",n.actions=he(e)):(n.message="You have reached your daily upload limit. Please upgrade to unlock unlimited daily transfers",n.actions=pe(e)),n},601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}}},createPortal:{400:function({ctx:e,err:t}){var n,r;let a={};if(a.message=null!==(n=t.errors)&&void 0!==n&&n.length?t.errors[0].msg:t.message,null!==(r=t.errors)&&void 0!==r&&r.length)for(let o of Object.keys(t.errors))if("package_max_recipients"==t.errors[o].code){a.message="Trial portal limit reached",a.timeout=0,a.actions=pe(e);break}return a},601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}},604:function(){return{message:"Portal domain must be at least 3 characters",caption:"Return to 'General' tab to edit domain",timeout:1e4}}},cloudTransfer:{400:function({ctx:e,err:t}){var n,r;let a={};if(a.message=null!==(n=t.errors)&&void 0!==n&&n.length?t.errors[0].msg:t.message,null!==(r=t.errors)&&void 0!==r&&r.length)for(let o of Object.keys(t.errors))if("package_max_recipients"==t.errors[o].code){a.message="Trial max recipients limit reached",a.timeout=0,a.actions=pe(e);break}return a},402:function({ctx:e,err:t}){var n,r;let a={};if(a.message=null!==(n=t.errors)&&void 0!==n&&n.length?t.errors[0].msg:t.message,null!==(r=t.errors)&&void 0!==r&&r.length)for(let o of Object.keys(t.errors))if("billing_payment_method_required"==t.errors[o].code){a.message="Trial transfer limit reached",a.timeout=0,a.actions=pe(e);break}return a}},initSingleSignOnFlow:{404:function({err:e}){var t,n;let r=null!==(t=e.errors)&&void 0!==t&&t.length?e.errors[0].msg:e.message;if(null!==(n=e.errors)&&void 0!==n&&n.length)for(let a of Object.keys(e.errors))if("not_found"==e.errors[a].code){r=ie["b"].t("sso_not_found");break}return{message:r}}},login:{401:function({ctx:e,err:t,extra:n}){var r,a;let o={};if(o.message=null!==(r=t.errors)&&void 0!==r&&r.length?t.errors[0].msg:t.message,null!==(a=t.errors)&&void 0!==a&&a.length)for(let i of Object.keys(t.errors))switch(t.errors[i].code){case"auth_invalid_credentials":["google","auth0"].includes(n.provider_type)?(o.type="warning",o.message="Looks like you don't have an account",o.timeout=1e4,o.actions=[{label:ie["b"].t("dismiss"),color:"negative",handler:()=>{}},{label:ie["b"].t("sign_up"),color:"primary",handler:()=>window.location.href="https://get.massive.app/signup"}]):o.message=ie["b"].t("bad_email_password");break;case"sso_login_required":o.type="negative",o.message="SSO login is required for your team",o.timeout=1e4;break}return o}},network:{0:function({ctx:e,err:t}){let n="support@masv.io";return{message:ie["b"].t("technical_difficulty",{email:n}),timeout:0,actions:ge(n,e)}},1:function({ctx:e,err:t}){return{message:"It appears you have no internet, try again after your network problem is resolved",timeout:0,actions:ge(!1,e)}}},resendDownloadLink:{401:function(){return{message:"Invalid token to resend link"}},404:function(){return{message:"Link does not exist anymore"}},403:function(){return{message:"We cannot send an email for this link type"}}},sendReferrals:{601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}}},sendUploadRequest:{601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}}},signup:{400:function({err:e}){var t,n;let r=null!==(t=e.errors)&&void 0!==t&&t.length?e.errors[0].msg:e.message;if(null!==(n=e.errors)&&void 0!==n&&n.length)for(let a of Object.keys(e.errors))if("user_invalid_email"==e.errors[a].code){r=ie["b"].t("invalid_email");break}return{message:r}},429:function({err:e}){var t,n;let r=null!==(t=e.errors)&&void 0!==t&&t.length?e.errors[0].msg:e.message;if(null!==(n=e.errors)&&void 0!==n&&n.length)for(let a of Object.keys(e.errors))if("auth_too_many_signups"==e.errors[a].code){r="Too many sign up attempts. Please try again later";break}return{message:r}}},signupReferral:{429:function({err:e}){var t,n;let r=null!==(t=e.errors)&&void 0!==t&&t.length?e.errors[0].msg:e.message;if(null!==(n=e.errors)&&void 0!==n&&n.length)for(let a of Object.keys(e.errors))if("auth_too_many_signups"==e.errors[a].code){r="Too many sign up attempts. Please try again later";break}return{message:r}}},signupTeam:{429:function({err:e}){var t,n;let r=null!==(t=e.errors)&&void 0!==t&&t.length?e.errors[0].msg:e.message;if(null!==(n=e.errors)&&void 0!==n&&n.length)for(let a of Object.keys(e.errors))if("auth_too_many_signups"==e.errors[a].code){r="Too many sign up attempts. Please try again later";break}return{message:r}}},updateEmail:{400:function({ctx:e,err:t}){var n,r;let a=null!==(n=t.errors)&&void 0!==n&&n.length?t.errors[0].msg:t.message;if(null!==(r=t.errors)&&void 0!==r&&r.length)for(let o of Object.keys(t.errors))if("duplicate"==t.errors[o].code){a="Email is already in use";break}return{message:a}},601:function({extra:e}){return{message:`${e.email} is an invalid email`}}},updatePortal:{400:function({ctx:e,err:t}){var n,r;let a={};if(a.message=null!==(n=t.errors)&&void 0!==n&&n.length?t.errors[0].msg:t.message,null!==(r=t.errors)&&void 0!==r&&r.length)for(let o of Object.keys(t.errors))if("package_max_recipients"==t.errors[o].code){a.message="Trial portal limit reached",a.timeout=0,a.actions=pe(e);break}return a},601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}},604:function(){return{message:"Portal domain must be at least 3 characters",caption:"Return to 'General' tab to edit domain",timeout:1e4}}},updateTeam:{402:function({ctx:e,err:t}){var n;let r={};return r.message=null!==(n=t.errors)&&void 0!==n&&n.length?t.errors[0].msg:t.message,r.message="Trial ended",r.timeout=0,r.actions=pe(e),r}},uploadImage:{400:function({ctx:e,err:t}){return{message:"Invalid image type. SVGs must contain an xml tag",timeout:1e4}}}};const be="/";async function ye(){const{app:e,store:t,router:n}=await ee();let r=!1;const a=e=>{r=!0;const t=Object(e)===e?n.resolve(e).route.fullPath:e;window.location.href=t},i=window.location.href.replace(window.location.origin,""),s=[void 0,void 0,void 0,ie["a"],void 0,ue.a,fe.a,void 0,void 0];for(let c=0;!1===r&&c<s.length;c++)if("function"===typeof s[c])try{await s[c]({app:e,router:n,store:t,Vue:o["a"],ssrContext:null,redirect:a,urlPath:i,publicPath:be})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==r&&new o["a"](e)}ye()},"31cd":function(e,t,n){},8847:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var r=n("e832"),a=n("2726"),o=n("c631"),i=n("caca");r["a"].use(a["a"]);const s=i["a"].getItem("locale")||"en",l=new a["a"]({locale:s,fallbackLocale:"en",messages:o["a"]});Number.prototype.toFixedOld=Number.prototype.toFixed,Number.prototype.toFixed=function(e){return this.toLocaleString("no_language"==l.locale?"en":l.locale,{minimumFractionDigits:e,maximumFractionDigits:e})},t["a"]=({app:e})=>{e.i18n=l}},"94d5":function(e,t){},a4d3:function(e,t){"/impersonate"!=window.location.pathname&&function(e,t,n,r,a){e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=t.getElementsByTagName(n)[0],i=t.createElement(n),s="dataLayer"!=r?"&l="+r:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+a+s,o.parentNode.insertBefore(i,o)}(window,document,"script","dataLayer","GTM-TJZR5SS")},e972:function(e,t){let n=document.createElement("script");n.setAttribute("src","https://accounts.google.com/gsi/client"),document.head.appendChild(n)}});