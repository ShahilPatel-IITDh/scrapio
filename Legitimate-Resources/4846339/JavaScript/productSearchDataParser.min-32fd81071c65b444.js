"use strict";var dla=window.dla||{};class ProductSearchDataParser{constructor(e,t,r){this._matchResPerType=r,this._renderObject=e,this._translationKeys=t}parseAllProducts(e,t,r){let a="";for(let s=0;s<e.length;s++){let n=e[s];t[n]&&t[n].length>0&&(a+=this.parseEachProduct(n,t[n],r))}return a}parseEachProduct(e,t,r){const a=this.filterByProduct(t,r);let s="";if(a&&a.length>0){s+=this._renderObject.getMarkupProductTypeHeading(this._translationKeys[e]);for(let t=0;t<this._matchResPerType&&t<a.length;t++)s+=this._renderObject.getMarkupMatchItem(a[t],e,r)}return s}filterByProduct(e,t){const r=t.toLowerCase();return e.filter(e=>this._renderObject.normalizeText(e.name).toLowerCase().includes(r)).sort((e,t)=>{let a=this._renderObject.normalizeText(e.name.toLowerCase()),s=this._renderObject.normalizeText(t.name.toLowerCase()),n=0===a.indexOf(r),i=0===s.indexOf(r);return n&&!i?-1:i&&!n?1:i&&n?a>s:void 0})}}$(window).trigger("available","productSearchDataParser");