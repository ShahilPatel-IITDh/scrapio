import{resources as e,messages as t,joinTrackName as i,formatMoney as s}from"/de_DE/skins/lottoland/js/core/@lottoland/lsl-89f9ba0900100572.js";import{css as a,html as n,property as o,customElement as r,LitElement as l,unsafeHTML as u,ifDefined as d,classMap as c,object as p,internalProperty as h,queryAssignedNodes as g,dispatchShadowEvent as A,array as m,query as v,state as f}from"/de_DE/skins/lottoland/js/core/@lottoland/core/lit-element-c16c867bd604ce25.js";import"/de_DE/skins/lottoland/js/core/@lottoland/core-styleguide/2FA-3ca36e5a08ca449b.js";import C from"/de_DE/skins/lottoland/js/translations/errorWithLink-a4de1d4737828126.js";import"/de_DE/skins/lottoland/js/core/@lottoland/one-styleguide-8c4d78c467d1e167.js";import{publish as y,subscribe as w,unsubscribe as F}from"/de_DE/skins/lottoland/js/cms/@lottoland/client-side-message-bus-caa0c9677398cddd.js";import b from"/de_DE/skins/lottoland/js/translations/de_dla_platform_multitenancy_Country_name-d5970019ecdc37a6.js";import D from"/de_DE/skins/lottoland/js/translations/components_authentication_registerForm_resolveAddress-2006f977685ca878.js";import E from"/de_DE/skins/lottoland/js/translations/components_authentication_registerForm_addressFields-d6dcd3591a05ada2.js";import M from"/de_DE/skins/lottoland/js/translations/components_authentication_registerForm_limits-a4de1d4737828126.js";import T from"/de_DE/skins/lottoland/js/translations/termsUpdate-e70106bf917bd0f4.js";import k from"/de_DE/skins/lottoland/js/translations/reKyc-28ac5e6efe35e8c0.js";import N from"/de_DE/skins/lottoland/js/translations/verifyNow-a4de1d4737828126.js";import x from"/de_DE/skins/lottoland/js/translations/authModal-1fc2f127d2ebaa6c.js";import B from"/de_DE/skins/lottoland/js/translations/forgotPassword-2a77248f9bffb2f5.js";import L from"/de_DE/skins/lottoland/js/core/@lottoland/core/eventsource-9c85161b2aaed4d9.js";import S from"/de_DE/skins/lottoland/js/translations/authLogout-a4de1d4737828126.js";import I from"/de_DE/skins/lottoland/js/translations/resetPassword-a4de1d4737828126.js";function O(e,t){if(null==e)return{};var i,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)i=n[s],t.indexOf(i)>=0||(a[i]=e[i]);return a}function j(e,t){return t||(t=e.slice(0)),e.raw=t,e}function P(e,t,i,s){var a,n=arguments.length,o=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(o=(n<3?a(o):n>3?a(t,i,o):a(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o}const _=["token"],U=["token"],z=["token"],R="/api/client/v1",Q=R+"/players";class V extends Error{constructor(e){super("HTTP error "+e.status+" from Server"),this.response=e}}const q=e=>{const t=e.status;if(422===t||t>=200&&t<400)return e;throw new V(e)},Z=(t,i)=>{const s=!i&&e.requestPrefix||"";return""+(i=i||"")+s+t},Y=()=>{var t;return(null===(t=document.querySelector("meta[name='apiKey']"))||void 0===t?void 0:t.content)||e.apiKey},G=(e,t)=>Object.assign({method:"GET",credentials:"include",headers:Object.assign({accept:"application/json","content-type":"application/json","x-api-key":Y()},t||{})},e||{}),H=()=>{var e,t,i;return null!==(i=null===(t=null===(e=window.dla)||void 0===e?void 0:e.skin)||void 0===t?void 0:t.name)&&void 0!==i?i:"lottoland"},K={fetchOptions:{}},J=e=>({headers:{Authorization:"Bearer "+e}});class W{constructor(e,t){this.fetch=null!=e?e:window.fetch.bind(window),this.baseUrl=t}async fetchRequestWithBody(e,t,i,s,a){void 0===i&&(i=K),void 0===s&&(s=!0),void 0===a&&(a="POST");const{headers:n,fetchOptions:o,body:r,contentType:l}=function(e,t){void 0===t&&(t=K);const i=e instanceof URLSearchParams;return{headers:t.headers||{},fetchOptions:t.fetchOptions?t.fetchOptions:{},body:i?e:JSON.stringify(e),contentType:i?"application/x-www-form-urlencoded":"application/json"}}(t,i);let u=await this.fetch(Z(e,this.baseUrl),G(Object.assign({method:a,body:r},o),Object.assign({},n,{"content-type":l})));return s?(q(u),await u.json()):u}async post(e,t,i,s){return void 0===i&&(i=K),void 0===s&&(s=!0),await this.fetchRequestWithBody(e,t,i,s)}async put(e,t,i,s){return void 0===i&&(i=K),void 0===s&&(s=!0),await this.fetchRequestWithBody(e,t,i,s,"PUT")}async get(e,t){void 0===t&&(t=K);let i=await this.fetch(Z(e,this.baseUrl),G(t.fetchOptions,t.headers));return q(i),await i.json()}getRegistrationTranslations(){return this.get("/api/client/v1/messages/components_authentication_registerForm?skin="+H())}registerPlayer(e,t){let i=Q;return t&&(i+=location.search),this.post(i,e)}validatePlayer(e){return this.post("/api/client/v1/players/validate",e)}validateAddress(e){return this.post("/api/client/v1/players/address/validate",e)}getRegistrationFields(e){return this.get("/api/client/v1/config/registration/fields/"+e)}getRegistrationConfig(e){return this.get("/api/client/v1/config/registration/"+e)}getLoginConfig(e){return this.get("/api/client/v1/config/registration/"+e)}validateSouthAfricanId(e){return this.get("/api/client/v1/validation/southafricanid/"+e)}getLoginTranslations(){return this.get("/api/client/v1/messages/components_authentication_loginForm?skin="+H())}async login(t,i){const s=await this.post("/api/client/v1/players/login",{username:t,password:i,grant_type:"password",client_id:e.apiKey},K,!1),a=await s.text();try{const e=JSON.parse(a);return Object.assign({},e,{mustUpdatePassword:"true"===s.headers.get("x-must-update-pwd"),lastPageToRedirect:s.headers.get("x-must-redirect-last-page")})}catch(e){if(s.ok)return{showCodeValidation:!0};{const t=e;throw t.message="message: "+t.message+" status: "+s.status+" response: "+a,t}}}login2fa(e,t){const i=new URLSearchParams;return i.append("username",e),i.append("twofactorpwd",t),this.post("/api/client/v1/players/login/2fa",i)}saveSessionSeon(e){const t={method:"POST",headers:{credentials:"include","x-api-key":Y(),"Content-Type":"text/plain"},body:e};return this.fetch("/api/client/v1/players/seon-session",t)}getPlayerInfo(e,t){void 0===t&&(t="");const i=e?J(e):{};return this.get(""+t+Q+"/me",i)}getSSOToken(t,i){const s=t?J(t):{};return this.post(Q+"/me/sso",{response_type:"token",client_id:e.apiKey,redirect_uri:i},s)}tcAcceptance(e){const{token:t}=e,i=O(e,_),s=J(t);return this.put("/api/client/v1/players/tcAcceptance",i,s)}reKycConfirmAddress(e){const{token:t}=e,i=O(e,U),s=J(t);return this.put("/api/client/v1/players/rekyc/address/confirm",i,s)}reKycUpdateAddress(e){const{token:t}=e,i=O(e,z),s=J(t);return this.put("/api/client/v1/players/rekyc/address/update",i,s)}validateAuthCookie(e){return void 0===e&&(e=""),this.get(e+"/api/client/v1/players/cookie/validate")}isPlayerVerified(e,t){void 0===e&&(e="");const i=t?J(t):{};return this.get(""+e+Q+"/isVerified",i)}logout(e){return void 0===e&&(e=""),this.get(e+"/logout",{})}forgotPassword(e,t){void 0===e&&(e=""),void 0===t&&(t="");const i=e+"/api/client/v1/players/password";return this.post(i,{email:t},void 0,!1)}resetPassword(e,t){void 0===e&&(e="");const i=e+"/api/client/v1/players/changePassword";return this.post(i,t,void 0,!1)}}const X={cs:"CZ",ja:"JP",es:"MX"},$=t=>{var i;const[s,a]=e.countryLocale.split("_"),n=X[s];if(n)return n;if("en"===s&&!a){const e=null==t?void 0:t.lastCountry;return e?"GB"===e?"BG":e:"DE"}return"hi"!==s||a?"WL"==a?"BW":"ZS"==a?"ZA":"NT"===a?(null===(i=null==t?void 0:t.countries)||void 0===i?void 0:i.length)?t.countries[0].value:"DZ":a?a.toUpperCase():s?s.toUpperCase():"DE":"IN"},ee=e=>/^[_A-Za-z0-9-+]+(\.[_A-Za-z0-9-+]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9-]+)*(\.[A-Za-z]{2,})$/.test(e),te="PlayerLoggedIn",ie=(e,t,i)=>({payload:{playerId:e,playerFirstName:t,country:i}}),se=(e,t,i)=>{e&&e.isMobileContainer&&e.helper.onAvailability("nativeAppJsLoaded",(function(){e.nativeApp.sendLoginAttemptEvent(t,i)}))},ae=(e,t)=>{const i=(null==t?void 0:t.restrictedCountriesForMarket)||[],s=((null==t?void 0:t.otherMarketsRestrictedCountriesFallbackUrls)||{})[e];return(null==i?void 0:i.length)&&!i.includes(e)?s||(null==t?void 0:t.restrictedCountryFallback):s},ne={location:{setHref:function(e){window.location.href=e},reload:function(){window.location.reload()}}};var oe,re=a`:host{display:block}.api-login-form{padding:16px;text-align:left}.api-login-form-entry-group,.api-login-form-forgot-password,ll-password{margin:8px 0}.api-login-form-entry-group{display:flex;flex-wrap:nowrap;margin-bottom:16px}.api-login-form-entry-group .api-login-form-textfield{margin-bottom:0;flex:1 1 auto;margin-top:8px}.api-login-form-textfield{display:block}.api-login-form-forgot-password{text-align:right}.api-login-form-cta{width:100%;margin-top:16px}.api-login-form-code-validation{padding:16px;text-align:left}.api-login-form-code-validation-description{text-align:center}.api-login-form-code-validation-cta{width:100%;margin-top:16px}.api-login-form-header{display:block;text-align:center;margin-bottom:24px}.api-login-form-access-denied{padding:24px 0 8px;overflow:hidden;max-height:200px;opacity:1;transition:padding .3s,max-height .5s,opacity .5s}.api-login-form-access-denied.api-login-form-access-denied--hidden{max-height:0;padding:0;opacity:0}`;const le=e=>({too_many_attempts:(null==e?void 0:e.codeValidation.tooManyAttempts)||"",invalid_grant:(null==e?void 0:e.codeValidation.invalidValue)||""}),ue=e=>({too_many_attempts:(null==e?void 0:e.codeValidation.tryAgain)||""}),de=(e,t,i)=>n(oe||(oe=j(['\n    <ll-2fa-code-validation\n      .translations="','"\n      ?hideBackButton="','"\n      type2FA="','"\n      error="','"\n      @2fa-code-validation-accept="','"\n    ></ll-2fa-code-validation>\n  '])),((e,t)=>{const i=le(e),s=ue(e);return{"2fa_codeValidation_description":null==e?void 0:e.codeValidation.description,"2fa_codeValidation_code":null==e?void 0:e.codeValidation.code,"2fa_codeValidation_verify":s[t]||(null==e?void 0:e.codeValidation.verify),"2fa_codeValidation_invalidValue":i[t]||(null==e?void 0:e.codeValidation.invalidValue)}})(i,null==e?void 0:e.codeValidation.error),!0,t,((e,t,i)=>{const s=le(i);return!1===e&&s[t]||""})(null==e?void 0:e.codeValidation.valid,null==e?void 0:e.codeValidation.error,i),null==e?void 0:e.codeValidation.onSubmit),ce=e=>!0===e?"valid":!1===e?"invalid":"default";var pe,he,ge,Ae;let me=class extends l{constructor(){super(...arguments),this.errorDescription="",this.link=""}getMessage(e){return t.getMessage(C,e)}connectedCallback(){super.connectedCallback()}renderContent(){return n(pe||(pe=j([""," ",""])),u(this.errorDescription),this.renderLink())}renderLink(){if(this.link){const e=this.getMessage(this.link);return n(he||(he=j(['<ll-cta-group slot="link">\n        ',"\n      </ll-cta-group>"])),u(e))}return n(ge||(ge=j([""])))}render(){return n(Ae||(Ae=j(['<ll-status-message level="error">\n      ',"\n    </ll-status-message>"])),this.renderContent())}};var ve,fe,Ce,ye,we,Fe,be,De,Ee;P([o({type:String})],me.prototype,"errorDescription",void 0),P([o({type:String})],me.prototype,"link",void 0),me=P([r("ll-error-with-link")],me);const Me=e=>{if(e)return n(De||(De=j(['<ll-error-with-link\n      errorDescription="','"\n    ></ll-error-with-link>'])),e)},Te=(e,t,s,a,o,r)=>n(Ee||(Ee=j(['\n    <div class="api-login-form-entry-group">\n      '," ","\n    </div>\n    "," ","\n    ","\n    ","\n    "," ","\n  "])),(e=>n(fe||(fe=j(['\n    <ll-text-input\n      type="email"\n      id="apiLogin-email"\n      class="api-login-form-textfield"\n      label="','"\n      @input="','"\n      trackName="','"\n      trackListeners="focusin, input"\n      status="','"\n      invalidInlineLabel="','"\n      value="','"\n    >\n      <slot name="email"></slot>\n    </ll-text-input>\n  '])),d(null==e?void 0:e.email.labelText),null==e?void 0:e.email.onChange,i("loginForm","email"),ce(null==e?void 0:e.email.valid),d(null==e?void 0:e.email.helpText),d(null==e?void 0:e.email.value)))(e),(e=>{const t=null==e?void 0:e.social;if(t)return n(ve||(ve=j(['\n      <ll-social-link\n        class="api-login-form-social"\n        labelText=',"\n        .urls=","\n        trackName=","\n      ></ll-social-link>\n    "])),null==t?void 0:t.labelText,null==t?void 0:t.urls,i("loginForm","social"))})(t),(e=>n(Ce||(Ce=j(['\n    <ll-password\n      id="apiLogin-password"\n      class="api-login-form-textfield js-track"\n      showLabel="','"\n      hideLabel="','"\n      label="','"\n      @input="','"\n      @change="','"\n      trackName="','"\n      trackListeners="focusin, input"\n      status="','"\n      invalidInlineLabel="','"\n      value="','"\n    >\n      <slot name="password"></slot>\n    </ll-password>\n  '])),d(null==e?void 0:e.password.showLabel),d(null==e?void 0:e.password.hideLabel),d(null==e?void 0:e.password.labelText),null==e?void 0:e.password.onChange,null==e?void 0:e.password.onChange,i("loginForm","password"),ce(null==e?void 0:e.password.valid),d(null==e?void 0:e.password.helpText),d(null==e?void 0:e.password.value)))(e),(e=>n(ye||(ye=j(['\n    <div class="api-login-form-forgot-password">\n      <ll-link\n        @click="','"\n        trackName="','"\n        >',"</ll-link\n      >\n    </div>\n  "])),null==e?void 0:e.forgotPassword.onClick,i("loginForm","forgotpassword","click"),null==e?void 0:e.forgotPassword.labelText))(e),((e,t)=>n(we||(we=j(['\n    <div\n      class="','"\n    >\n      <ll-status-message level="info"\n        >',"</ll-status-message\n      >\n    </div>\n  "])),c({"api-login-form-access-denied":!0,"api-login-form-access-denied--hidden":!e}),u(null==t?void 0:t.accessDenied)))(a,s),((e,t)=>{if(e)return n(be||(be=j(['\n      <ll-status-message level="success"\n        >',"</ll-status-message\n      >\n    "])),null==t?void 0:t.passwordReset)})(o,s),Me(r),(e=>(null==e?void 0:e.cta.labelText)?n(Fe||(Fe=j(['\n        <ll-button\n          class="api-login-form-cta"\n          size="normal"\n          @click="','"\n          trackName="','"\n          >',"</ll-button\n        >\n      "])),null==e?void 0:e.cta.onClick,i("loginForm","submit"),null==e?void 0:e.cta.labelText):null)(e));var ke,Ne,xe,Be,Le,Se=a`:host{flex:0 0 auto;position:relative;display:flex;flex-direction:column;justify-content:flex-start;padding-top:32px}ll-typography{text-align:right;position:absolute;top:8px;white-space:nowrap;display:block;z-index:1;right:0}.social-link-group{display:flex;flex-direction:row}.social-link{border:0;outline:0;display:flex;flex-direction:column;justify-content:flex-end;padding-left:8px}.social-link svg{width:24px;vertical-align:bottom}.social-link .link{line-height:1}`;let Ie=Le=class extends l{constructor(){super(...arguments),this.labelText="",this.urls={},this.trackName=""}static renderGoogleIcon(){return n(ke||(ke=j(['\n      <svg viewBox="0 0 533.5 544.3" xmlns="http://www.w3.org/2000/svg">\n        <path\n          d="M533.5 278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1 33.8-25.7 63.7-54.4 82.7v68h87.7c51.5-47.4 81.1-117.4 81.1-200.2z"\n          fill="#4285f4"\n        />\n        <path\n          d="M272.1 544.3c73.4 0 135.3-24.1 180.4-65.7l-87.7-68c-24.4 16.6-55.9 26-92.6 26-71 0-131.2-47.9-152.8-112.3H28.9v70.1c46.2 91.9 140.3 149.9 243.2 149.9z"\n          fill="#34a853"\n        />\n        <path\n          d="M119.3 324.3c-11.4-33.8-11.4-70.4 0-104.2V150H28.9c-38.6 76.9-38.6 167.5 0 244.4l90.4-70.1z"\n          fill="#fbbc04"\n        />\n        <path\n          d="M272.1 107.7c38.8-.6 76.3 14 104.4 40.8l77.7-77.7C405 24.6 339.7-.8 272.1 0 169.2 0 75.1 58 28.9 150l90.4 70.1c21.5-64.5 81.8-112.4 152.8-112.4z"\n          fill="#ea4335"\n        />\n      </svg>\n    '])))}static renderFacebookIcon(){return n(Ne||(Ne=j(['\n      <svg viewBox="0 0 14222 14222" xmlns="http://www.w3.org/2000/svg">\n        <circle cx="7111" cy="7112" r="7111" fill="#1977f3" />\n        <path\n          d="M9879 9168l315-2056H8222V5778c0-562 275-1111 1159-1111h897V2917s-814-139-1592-139c-1624 0-2686 984-2686 2767v1567H4194v2056h1806v4969c362 57 733 86 1111 86s749-30 1111-86V9168z"\n          fill="#fff"\n        />\n      </svg>\n    '])))}getTrackName(e){if(this.trackName)return i(this.trackName,e)}renderSocialLink(e,t){if(t){const i="social-link icon "+e;return n(xe||(xe=j(["\n        <ll-link\n          href=","\n          class=","\n          trackName=","\n        >\n          ","\n        </ll-link>\n      "])),t,i,d(this.getTrackName(e)),"google"===e?Le.renderGoogleIcon():Le.renderFacebookIcon())}}render(){const e=Object.entries(this.urls||{});if(e.length>0)return n(Be||(Be=j(['\n        <ll-typography size="sp">','</ll-typography>\n        <div class="social-link-group">\n          ',"\n        </div>\n      "])),d(this.labelText),e.map(e=>{let[t,i]=e;return this.renderSocialLink(t,i)}))}};var Oe,je;Ie.styles=Se,P([o()],Ie.prototype,"labelText",void 0),P([o()],Ie.prototype,"urls",void 0),P([o()],Ie.prototype,"trackName",void 0),Ie=Le=P([r("ll-social-link")],Ie);let Pe=je=class extends l{constructor(){super(...arguments),this.fields=void 0,this.config=void 0,this.showCodeValidation=!1,this.showCodeValidationType="",this.showAccessDenied=!1,this.translations=void 0,this.passwordReset=!1,this.errorNotification=""}static onSubmit(e){e.preventDefault()}render(){return n(Oe||(Oe=j(['\n      <form class="api-login-form" @submit="','">\n        ',"\n      </form>\n    "])),je.onSubmit,this.showCodeValidation?de(this.fields,this.showCodeValidationType,this.translations):Te(this.fields,this.config,this.translations,this.showAccessDenied,this.passwordReset,this.errorNotification))}};Pe.styles=re,P([o({type:Object,converter:p})],Pe.prototype,"fields",void 0),P([o({type:Object,converter:p})],Pe.prototype,"config",void 0),P([o({type:Boolean})],Pe.prototype,"showCodeValidation",void 0),P([o({type:String})],Pe.prototype,"showCodeValidationType",void 0),P([o({type:Boolean})],Pe.prototype,"showAccessDenied",void 0),P([o({type:Object,converter:p})],Pe.prototype,"translations",void 0),P([o({type:Boolean})],Pe.prototype,"passwordReset",void 0),P([o({type:String})],Pe.prototype,"errorNotification",void 0),Pe=je=P([r("ll-auth-login-design")],Pe);const _e={getDeviceInf:"https://cdn.getdeviceinf.com/js/v5/agent.js",deviceInf:"https://cdn.deviceinf.com/js/v5/agent.js",seonDf:"https://cdn.seondf.com/js/v5/agent.js"};class Ue{constructor(e){this.isLoaded=!1,this.authApi=e}async importSEON(){const e=[_e.seonDf,_e.getDeviceInf,_e.deviceInf].map(e=>new Promise((t,i)=>{this.addScript(e).then(e=>t(e)),setTimeout(()=>i(new Error("timeout")),5e3)})),t=await Promise.any(e);return t&&(this.isLoaded=!0),Promise.resolve(t)}configSEON(){seon.config({session_id:this.generateUUID(),audio_fingerprint:!0,canvas_fingerprint:!0,webgl_fingerprint:!0})}async setSessionSEON(){return this.seonSession=await this.getSessionSEON(),this.authApi.saveSessionSeon(this.seonSession)}async getSessionSEON(){return seon.getBase64Session()}isSEONLoaded(){const e=null!=document.querySelector('script[data-name="seon-script"]');return this.isLoaded||e}addScript(e){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",e),s.setAttribute("async","true"),s.setAttribute("data-name","seon-script"),s.addEventListener("load",t),s.addEventListener("error",i),document.head.appendChild(s)})}generateUUID(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}}var ze,Re;const Qe=(e,i)=>t.getMessage(i,"components_authentication_loginForm_"+e),Ve=["self_excluded","access_denied"];let qe=Re=class extends l{constructor(){super(...arguments),this.state={fields:{email:{labelText:"",value:""},password:{labelText:"",value:""},forgotPassword:{labelText:""},cta:{labelText:""},codeValidation:{}},translations:{validationError:"",unknownError:"",codeValidation:{description:"",code:"",verify:"",invalidValue:"",tooManyAttempts:"",tryAgain:""},accessDenied:"",passwordReset:""},config:{social:{labelText:"",urls:{}}},showCodeValidation:!1,showCodeValidationType:"",showCodeVerification:!1,showAccessDenied:!1},this.loadingState={event:!1,config:!1,fields:!1,translations:!1},this.errorNotification="",this.needLoadSeon=!1,this.loadingSubmit=!1,this.passwordReset=!1,this.eventDispatcher=this,this.inputsAttached=!1,this.fetch=window.fetch.bind(window),this.clientSideBusPublish=y,this.nativeLogin=null,this.boundSeonEventHandler=this.callSEON.bind(this),this.openBankidEventHandler=this.openBankId.bind(this),this.seonIntegrationEnabled=!1,this.publishLoginMessage=e=>{let{playerId:t,playerFirstName:i,country:s}=e;this.clientSideBusPublish(te,ie(t,i,s),{sticky:!0})}}static createEmailInput(){const e=document.createElement("input");return e.setAttribute("type","email"),e.setAttribute("name","email"),e.setAttribute("autocomplete","email"),e.setAttribute("id","apiLogin-email"),e.setAttribute("slot","email"),e}static createPasswordInput(){const e=document.createElement("input");return e.setAttribute("type","password"),e.setAttribute("name","password"),e.setAttribute("autocomplete","current-password"),e.setAttribute("id","apiLogin-password"),e.setAttribute("slot","password"),e}get props(){return{fetch:this.fetch,eventDispatcher:this.eventDispatcher}}setState(e,t){this.state=Object.assign({},this.state,e(this.state)),t&&t()}addEvents(e){e.email.onChange=this.updateField.bind(this),e.password.onChange=this.updateField.bind(this),e.cta.onClick=this.submitForm.bind(this),e.forgotPassword.onClick=this.forgotPassword.bind(this),e.codeValidation.onSubmit=this.validateCode.bind(this)}hideFormError(){this.setState(e=>{const t=Object.assign({},e.fields),i=Object.assign({},e.translations);return t.email.valid=null,t.password.valid=null,t.email.helpText="",t.password.helpText="",Object.assign({},e,{fields:t,translations:i,showAccessDenied:!1})})}showFormError(e){const{eventDispatcher:t}=this.props;A(t,"ll-login-form-error"),this.setState(t=>{const i=Object.assign({},t.fields);let s=e||t.translations.validationError;return i.email.valid=!1,i.password.valid=!1,i.email.helpText=s,i.password.helpText=s,Object.assign({},t,{fields:i})})}catchError(e,t){const{eventDispatcher:i}=this.props,s={email:t,msg:e.message,stack:e.stack};A(i,"ll-login-catch-error",JSON.stringify(s))}showFormAccessDenied(e){void 0===e&&(e="");const{eventDispatcher:t}=this.props;A(t,"ll-login-form-error"),this.setState(t=>{const i=Object.assign({},t.translations);return i.accessDenied=e,Object.assign({},t,{translations:i,showAccessDenied:!0})})}tooManyAttempts(e){void 0===e&&(e="too_many_attempts"),this.setState(t=>{const i=Object.assign({},t.fields);return i.codeValidation.onSubmit=this.tryLoginAgain.bind(this),i.codeValidation.error=e,i.codeValidation.valid=!1,Object.assign({},t,{fields:i})})}tryLoginAgain(){this.setState(e=>{e.showCodeValidation=!1,e.showCodeValidationType="";const t=Object.assign({},e.fields);return t.codeValidation.onSubmit=this.validateCode.bind(this),t.codeValidation.error="",t.codeValidation.valid=!1,Object.assign({},e,{fields:t})})}async validateCode(e){let t;e.preventDefault();const i=this.state.fields.email.value,s=e.detail.value;try{t=await this.authApi.login2fa(i,s)}catch(e){const i=await e.response.json();t={access_token:"",error_description:i.error_description||"",expires_in:"",message:"",refresh_token:"",showCodeValidation:!1,showCodeValidationType:"",state:"",token_type:"",error:i.error||"unknown error",mustUpdatePassword:!1,azureFlowNeeded:!1,reKycFlowNeeded:!1},A(this,"2fa-code-validation-status",{name:"submit",status:"wrongCode"})}const{error:a,azureFlowNeeded:n,reKycFlowNeeded:o,mustUpdatePassword:r,addressData:l,access_token:u,token_type:d,refresh_token:c,expires_in:p}=t;a?("too_many_attempts"===a&&(this.tooManyAttempts(a),A(this,"2fa-code-validation-status",{name:"submit",status:"tooManyAttempts"})),this.setState(e=>{const t=Object.assign({},e.fields);return t.codeValidation.valid=!1,t.codeValidation.error=a,Object.assign({},e,{fields:t})})):n?this.onAzureFlowNeeded(u,l):o?this.onRekycNeeded(u,l):(await this.onLoginSuccess({username:i,password:s,mustUpdatePassword:r,access_token:u,refresh_token:c,token_type:d,expires_in:p}),A(this,"2fa-code-validation-status",{name:"submit",status:"codeValid"}))}async submitForm(){if(this.loadingSubmit)return;const e=this.state.fields.email.value,t=this.state.fields.password.value;if(this.hideFormError(),this.errorNotification="",e&&ee(e)&&t){this.loadingSubmit=!0;try{se(window.dla,e,t);const{mustUpdatePassword:i,lastPageToRedirect:s,azureFlowNeeded:a,reKycFlowNeeded:n,showCodeValidation:o,showCodeValidationType:r,error:l,error_description:u,access_token:d,refresh_token:c,expires_in:p,token_type:h,addressData:g}=await this.authApi.login(e,t);o&&r?(this.setState(()=>({showCodeValidation:!0})),this.setState(()=>({showCodeValidationType:r})),this.getTranslationsCodeValidation()):l?Ve.includes(l)?this.showFormAccessDenied(u):"access_denied_market_restricted"===l?window.dla&&window.dla.isMobileContainer?A(this,"ll-login-auth-access-denied-market-restricted"):this.showFormAccessDenied(u):"serverName_not_valid"===l?this.errorNotification=u:this.showFormError():a?this.onAzureFlowNeeded(d,g):n?this.onRekycNeeded(d,g):await this.onLoginSuccess({username:e,password:t,mustUpdatePassword:i,access_token:d,lastPageToRedirect:s,refresh_token:c,token_type:h,expires_in:p})}catch(t){return this.showFormError(this.state.translations.unknownError),void this.catchError(t,e)}finally{this.loadingSubmit=!1}}else this.showFormError()}async onLoginSuccess(e){let{username:t,password:i,mustUpdatePassword:s=!1,access_token:a,lastPageToRedirect:n}=e;const{eventDispatcher:o}=this.props,r=await this.authApi.getPlayerInfo(a),l=ae(r.country,this.config),u=l||n;if(u){const e=await this.authApi.getSSOToken(a,u);A(o,"ll-login-form-redirect",{token:e.access_token,url:l||n})}else"SE"===r.country&&!r.verifiedWithSwedishBankId&&this.config.existingUsersBankIdVerification?A(o,"ll-login-form-openPopup",{username:t,password:i}):(A(o,"ll-login-form-success",{mustUpdatePassword:s}),this.publishLoginMessage({playerId:r.id,playerFirstName:r.firstname,country:r.country}))}onAzureFlowNeeded(e,t){const{eventDispatcher:i}=this.props,s=t.country,a=ae(s,this.config);A(i,"ll-login-form-azure-flow",{token:e,country:s,redirectUrl:a})}onRekycNeeded(e,t){const{eventDispatcher:i}=this.props,s=t.country,a=ae(s,this.config);A(i,"ll-login-form-rekyc-flow",{token:e,country:s,redirectUrl:a})}updateField(e){const t=e.target||e.currentTarget,i=t.id.replace("apiLogin-",""),s=(t.value||"").trim();this.setState(e=>{const t=Object.assign({},e.fields);return t[i].value=s,Object.assign({},e,{fields:t})})}getTranslations(){this.authApi.getLoginTranslations().then(e=>{this.translations=e,this.loadingState.translations=!0,this.setState(t=>{const i=Object.assign({},t.fields),s=Object.assign({},t.translations);return i.email.labelText=Qe("emailInputLabel",e),i.password.labelText=Qe("passwordInputLabel",e),i.password.showLabel=Qe("passwordShow",e),i.password.hideLabel=Qe("passwordHide",e),i.cta.labelText=Qe("signInNow",e),i.forgotPassword.labelText=Qe("forgotPassword",e),s.validationError=Qe("validationError",e),s.unknownError=Qe("unknownError",e),s.passwordReset=Qe("passwordReset",e),Object.assign({},t,{fields:i,translations:s})})})}getTranslationsCodeValidation(){this.setState(e=>{const t=Object.assign({},e.translations),i=e.showCodeValidationType;return t.codeValidation={description:Qe("description_"+i,this.translations),code:Qe("code_"+i,this.translations),verify:Qe("verify_"+i,this.translations),invalidValue:Qe("invalidCode_"+i,this.translations),tooManyAttempts:Qe("tooManyAttempts_"+i,this.translations),tryAgain:Qe("tryAgain_"+i,this.translations)},Object.assign({},e,{translations:t})})}async getConfig(e){void 0===e&&(e=$());const t=await this.authApi.getLoginConfig(e);this.seonIntegrationEnabled=t.seonIntegrationEnabled,this.loadingState.config=!0,this.setState(()=>({config:{social:t.social,seonIntegrationEnabled:t.seonIntegrationEnabled}}))}forgotPassword(){const{eventDispatcher:e}=this.props;A(e,"ll-login-form-forgotPassword")}updateFieldsFromAutofill(){var e,t;const i=null===(e=this.emailInput[0])||void 0===e?void 0:e.value,s=null===(t=this.passwordInput[0])||void 0===t?void 0:t.value;this.setState(e=>{const t=Object.assign({},e.fields);return t.email.value=i,t.password.value=s,Object.assign({},e,{fields:t})})}autofillCredentials(e){const t=e,i=t.detail.username,s=t.detail.password;this.setState(e=>{const t=Object.assign({},e.fields);return t.email.value=i,t.password.value=s,Object.assign({},e,{fields:t})},()=>this.submitForm())}async callSEON(){if(this.needLoadSeon&&this.seonIntegrationEnabled){if(!this.seonApi.isSEONLoaded())try{await this.seonApi.importSEON()}catch(e){return!1}this.seonApi.configSEON(),await this.seonApi.setSessionSEON(),this.needLoadSeon=!1}}updated(){const{eventDispatcher:e}=this.props,{event:t=!1,translations:i=!1,config:s=!1}=this.loadingState||{};!t&&i&&s&&(this.loadingState.event=!0,e&&A(e,"ll-login-form-loaded"))}openBankId(){this.needLoadSeon=!0,this.boundSeonEventHandler()}addEventsListerner(){const{eventDispatcher:e}=this.props;e.addEventListener("ll-login-form-loaded",this.boundSeonEventHandler),window.addEventListener("login-open",()=>this.needLoadSeon=!0),window.addEventListener("bankid-open",this.openBankidEventHandler,{once:!0}),window.addEventListener("login-close",()=>this.needLoadSeon=!1)}connectedCallback(){super.connectedCallback(),this.addEventsListerner(),this.inputsAttached||(this.appendChild(Re.createEmailInput()),this.appendChild(Re.createPasswordInput()),this.inputsAttached=!0);const{eventDispatcher:e}=this.props;this.loadingState={event:!1,config:!1,fields:!1,translations:!1},this.state={fields:{email:{labelText:"",value:""},password:{labelText:"",value:""},forgotPassword:{labelText:""},cta:{labelText:""},codeValidation:{}},translations:{validationError:"",unknownError:"",codeValidation:{description:"",code:"",verify:"",invalidValue:"",tooManyAttempts:"",tryAgain:""},accessDenied:"",passwordReset:""},config:{social:{labelText:"",urls:{}}},showCodeValidation:!1,showCodeValidationType:"",showCodeVerification:!1,showAccessDenied:!1},setTimeout(async()=>{this.authApi||(this.authApi=new W(this.fetch,this.apiBaseUrl)),this.seonApi||(this.seonApi=new Ue(this.authApi)),this.getTranslations(),await this.getConfig(),this.addEvents(this.state.fields),this.updateFieldsFromAutofill(),e.addEventListener("ll-login-form-login",this.autofillCredentials)})}disconnectedCallback(){const{eventDispatcher:e}=this.props;e.removeEventListener("ll-login-form-login",this.autofillCredentials),window.removeEventListener("login-open",()=>this.needLoadSeon=!0),window.removeEventListener("login-close",()=>this.needLoadSeon=!1),super.disconnectedCallback()}render(){const{fields:e,config:t,showCodeValidation:i,showCodeValidationType:s,showAccessDenied:a,translations:o}=this.state;return n(ze||(ze=j(["\n      <ll-auth-login-design\n        .fields=","\n        .config=","\n        .translations=","\n        ?showCodeValidation=",'\n        showCodeValidationType="','"\n        ?showAccessDenied=',"\n        ?passwordReset=",'\n        errorNotification="','"\n      >\n        <slot name="email" slot="email"></slot>\n        <slot name="password" slot="password"></slot>\n      </ll-auth-login-design>\n    '])),e,t,o,i,s,a,this.passwordReset,this.errorNotification)}};P([h()],qe.prototype,"state",void 0),P([h()],qe.prototype,"loadingState",void 0),P([h()],qe.prototype,"errorNotification",void 0),P([h()],qe.prototype,"needLoadSeon",void 0),P([h()],qe.prototype,"loadingSubmit",void 0),P([o({type:Object})],qe.prototype,"config",void 0),P([o({type:Boolean})],qe.prototype,"passwordReset",void 0),P([o()],qe.prototype,"apiBaseUrl",void 0),P([g("email",!0)],qe.prototype,"emailInput",void 0),P([g("password",!0)],qe.prototype,"passwordInput",void 0),qe=Re=P([r("ll-auth-login")],qe);const Ze=(e,t)=>e.filter(e=>{var i;return!(null===(i=t[e.fieldName])||void 0===i?void 0:i.disabled)&&(!!e.required||!!t[e.fieldName])}),Ye={getApiConfig(e,t){const i=Object.assign({},t,{hideLimitAmount:!1,validateSouthAfricanId:!1});return"ZA"!==e&&"ZS"!==e||(i.validateSouthAfricanId=!0,i.canUsePassport=!0),i},getFieldsConfig:(e,t)=>t,getSouthAfricanIdData:e=>({salutation:{"Ms.":"MRS","Mr.":"MR"}[e.salutation],birthdate:e.birthDate.replace(/\-/g,"")}),showField:(e,t)=>e.formFields.some(e=>e.fieldName===t),showAddress(e){return this.showField(e,"streetName")&&this.showField(e,"streetNr")&&this.showField(e,"postCode")&&this.showField(e,"city")},showOptionalAddress(e,t){return this.showField(e,t+"AddressStreetName")&&this.showField(e,t+"AddressStreetNr")&&this.showField(e,t+"AddressPostCode")&&this.showField(e,t+"AddressCity")},createCzDataBoxId:function(e,t){let i={};return this.showField(e,"czDataBoxId")&&t.czDataBoxIdToggle.checked&&(i={czDataBoxId:t.czDataBoxId.value}),i},createMailingAddressData:function(e,t){let i={};return this.showOptionalAddress(e,"mailing")&&t.mailingAddressToggle.checked&&(i={mailingAddress:{city:t.mailingAddressCity.value,streetName:t.mailingAddressStreetName.value,streetNr:t.mailingAddressStreetNr.value,postCode:t.mailingAddressPostCode.value}}),i},createLimitPeriodData:function(e,t,i,s){let a={};return this.showField(e,"limitPeriod")&&(a.limitPeriod=i?t.limitPeriod.value:"DAY"),this.showField(e,"limitAmount")&&(a.limitAmount=s?t.limitAmount.value:"-100"),a},createAdditionalAddressData:function(e,t){let i={};return this.showOptionalAddress(e,"additional")&&t.additionalAddressToggle.checked&&(i={additionalAddress:{city:t.additionalAddressCity.value,streetName:t.additionalAddressStreetName.value,streetNr:t.additionalAddressStreetNr.value,postCode:t.additionalAddressPostCode.value}}),i},createVisibleFieldsData:function(e,t){const i=e=>t[e];return Ze(e,t).filter(e=>!(e.fieldName.includes("additionalAddress")||e.fieldName.includes("mailingAddress")||e.fieldName.includes("terms")||e.fieldName.includes("czDataBoxId")||e.fieldName.includes("birthdate"))).filter(e=>{var t;return null===(t=i(e.fieldName))||void 0===t?void 0:t.value}).map(e=>({[e.fieldName]:i(e.fieldName)&&i(e.fieldName).value})).reduce((e,t)=>Object.assign({},e,t),{})},createCountryCode:e=>e.callingCode?{countryCode:e.callingCode.toString()}:{},createAcceptNotifications(e,t){return this.showField(e,"acceptNotifications")?{acceptNotifications:"agree"===t.acceptNotifications.value}:{}},createAcceptTermsAndConditions(e,t){return this.showField(e,"terms")?{gdprChecked:t.terms.checked}:{}},getDataForSubmission(t){const i=Object.assign({},t.fields),s=Object.assign({},t.apiConfig),a={salutation:i.salutation.value,birthdate:i.birthdate.value,currency:i.currency.value,country:i.country.value,language:e.countryLocale.replace("_","-")},n=this.createVisibleFieldsData(s.formFields,i);return Object.assign({},a,n,this.createLimitPeriodData(s,i,n.hasOwnProperty("limitPeriod"),n.hasOwnProperty("limitAmount")),this.createAdditionalAddressData(s,i),this.createMailingAddressData(s,i),this.createCzDataBoxId(s,i),this.createCountryCode(s),this.createAcceptNotifications(s,i),this.createAcceptTermsAndConditions(s,i))}};var Ge={lastCountry:"",countriesWithSupportedCurrencies:["DE","GB","AT","AD","BR","CK","EE","FI","GR","IN","JP","KI","LU","MT","MX","MC","NR","NZ","PL","SM","SE","SK","SI","ZA","ZS","TV","HU","VA","GI","AU","CA","KO","IE"],supportedCurrencies:["EUR","GBP","AUD","PLN","SEK","BRL","HUF","CNY","CAD","JPY","MXN","NZD","ZAR","INR"],countries:[{label:t.getMessage(b,"AL"),value:"AL"},{label:t.getMessage(b,"DZ"),value:"DZ"},{label:t.getMessage(b,"AD"),value:"AD"},{label:t.getMessage(b,"AO"),value:"AO"},{label:t.getMessage(b,"AG"),value:"AG"},{label:t.getMessage(b,"AM"),value:"AM"},{label:t.getMessage(b,"AU"),value:"AU"},{label:t.getMessage(b,"AT"),value:"AT"},{label:t.getMessage(b,"AZ"),value:"AZ"},{label:t.getMessage(b,"BH"),value:"BH"},{label:t.getMessage(b,"BD"),value:"BD"},{label:t.getMessage(b,"BB"),value:"BB"},{label:t.getMessage(b,"BY"),value:"BY"},{label:t.getMessage(b,"BZ"),value:"BZ"},{label:t.getMessage(b,"BJ"),value:"BJ"},{label:t.getMessage(b,"BO"),value:"BO"},{label:t.getMessage(b,"BR"),value:"BR"},{label:t.getMessage(b,"BN"),value:"BN"},{label:t.getMessage(b,"BG"),value:"BG"},{label:t.getMessage(b,"BF"),value:"BF"},{label:t.getMessage(b,"BI"),value:"BI"},{label:t.getMessage(b,"CM"),value:"CM"},{label:t.getMessage(b,"CA"),value:"CA"},{label:t.getMessage(b,"TD"),value:"TD"},{label:t.getMessage(b,"CL"),value:"CL"},{label:t.getMessage(b,"CO"),value:"CO"},{label:t.getMessage(b,"KM"),value:"KM"},{label:t.getMessage(b,"CG"),value:"CG"},{label:t.getMessage(b,"CK"),value:"CK"},{label:t.getMessage(b,"CR"),value:"CR"},{label:t.getMessage(b,"CI"),value:"CI"},{label:t.getMessage(b,"HR"),value:"HR"},{label:t.getMessage(b,"CY"),value:"CY"},{label:t.getMessage(b,"DJ"),value:"DJ"},{label:t.getMessage(b,"DM"),value:"DM"},{label:t.getMessage(b,"DO"),value:"DO"},{label:t.getMessage(b,"EG"),value:"EG"},{label:t.getMessage(b,"SV"),value:"SV"},{label:t.getMessage(b,"GQ"),value:"GQ"},{label:t.getMessage(b,"ER"),value:"ER"},{label:t.getMessage(b,"EE"),value:"EE"},{label:t.getMessage(b,"FO"),value:"FO"},{label:t.getMessage(b,"FJ"),value:"FJ"},{label:t.getMessage(b,"FI"),value:"FI"},{label:t.getMessage(b,"GA"),value:"GA"},{label:t.getMessage(b,"GM"),value:"GM"},{label:t.getMessage(b,"GE"),value:"GE"},{label:t.getMessage(b,"DE"),value:"DE"},{label:t.getMessage(b,"GI"),value:"GI"},{label:t.getMessage(b,"GR"),value:"GR"},{label:t.getMessage(b,"GL"),value:"GL"},{label:t.getMessage(b,"GD"),value:"GD"},{label:t.getMessage(b,"GT"),value:"GT"},{label:t.getMessage(b,"GN"),value:"GN"},{label:t.getMessage(b,"GW"),value:"GW"},{label:t.getMessage(b,"GY"),value:"GY"},{label:t.getMessage(b,"HT"),value:"HT"},{label:t.getMessage(b,"VA"),value:"VA"},{label:t.getMessage(b,"HN"),value:"HN"},{label:t.getMessage(b,"HU"),value:"HU"},{label:t.getMessage(b,"IS"),value:"IS"},{label:t.getMessage(b,"IN"),value:"IN"},{label:t.getMessage(b,"ID"),value:"ID"},{label:t.getMessage(b,"IE"),value:"IE"},{label:t.getMessage(b,"JM"),value:"JM"},{label:t.getMessage(b,"JP"),value:"JP"},{label:t.getMessage(b,"JO"),value:"JO"},{label:t.getMessage(b,"KZ"),value:"KZ"},{label:t.getMessage(b,"KE"),value:"KE"},{label:t.getMessage(b,"KI"),value:"KI"},{label:t.getMessage(b,"KR"),value:"KR"},{label:t.getMessage(b,"KO"),value:"KO"},{label:t.getMessage(b,"KW"),value:"KW"},{label:t.getMessage(b,"KG"),value:"KG"},{label:t.getMessage(b,"LV"),value:"LV"},{label:t.getMessage(b,"LB"),value:"LB"},{label:t.getMessage(b,"LS"),value:"LS"},{label:t.getMessage(b,"LR"),value:"LR"},{label:t.getMessage(b,"LY"),value:"LY"},{label:t.getMessage(b,"LI"),value:"LI"},{label:t.getMessage(b,"LT"),value:"LT"},{label:t.getMessage(b,"LU"),value:"LU"},{label:t.getMessage(b,"MK"),value:"MK"},{label:t.getMessage(b,"MG"),value:"MG"},{label:t.getMessage(b,"MW"),value:"MW"},{label:t.getMessage(b,"MV"),value:"MV"},{label:t.getMessage(b,"ML"),value:"ML"},{label:t.getMessage(b,"MT"),value:"MT"},{label:t.getMessage(b,"MH"),value:"MH"},{label:t.getMessage(b,"MR"),value:"MR"},{label:t.getMessage(b,"MU"),value:"MU"},{label:t.getMessage(b,"MX"),value:"MX"},{label:t.getMessage(b,"MD"),value:"MD"},{label:t.getMessage(b,"MC"),value:"MC"},{label:t.getMessage(b,"MN"),value:"MN"},{label:t.getMessage(b,"MA"),value:"MA"},{label:t.getMessage(b,"MZ"),value:"MZ"},{label:t.getMessage(b,"NA"),value:"NA"},{label:t.getMessage(b,"NR"),value:"NR"},{label:t.getMessage(b,"NP"),value:"NP"},{label:t.getMessage(b,"NZ"),value:"NZ"},{label:t.getMessage(b,"NI"),value:"NI"},{label:t.getMessage(b,"NE"),value:"NE"},{label:t.getMessage(b,"NG"),value:"NG"},{label:t.getMessage(b,"NO"),value:"NO"},{label:t.getMessage(b,"OM"),value:"OM"},{label:t.getMessage(b,"PW"),value:"PW"},{label:t.getMessage(b,"PG"),value:"PG"},{label:t.getMessage(b,"PY"),value:"PY"},{label:t.getMessage(b,"PE"),value:"PE"},{label:t.getMessage(b,"PH"),value:"PH"},{label:t.getMessage(b,"PL"),value:"PL"},{label:t.getMessage(b,"QA"),value:"QA"},{label:t.getMessage(b,"RO"),value:"RO"},{label:t.getMessage(b,"RU"),value:"RU"},{label:t.getMessage(b,"RW"),value:"RW"},{label:t.getMessage(b,"KN"),value:"KN"},{label:t.getMessage(b,"VC"),value:"VC"},{label:t.getMessage(b,"WS"),value:"WS"},{label:t.getMessage(b,"SM"),value:"SM"},{label:t.getMessage(b,"SA"),value:"SA"},{label:t.getMessage(b,"SN"),value:"SN"},{label:t.getMessage(b,"SC"),value:"SC"},{label:t.getMessage(b,"SL"),value:"SL"},{label:t.getMessage(b,"SK"),value:"SK"},{label:t.getMessage(b,"SI"),value:"SI"},{label:t.getMessage(b,"SB"),value:"SB"},{label:t.getMessage(b,"SO"),value:"SO"},{label:t.getMessage(b,"ZA"),value:"ZA"},{label:t.getMessage(b,"ZA"),value:"ZS"},{label:t.getMessage(b,"SD"),value:"SD"},{label:t.getMessage(b,"SR"),value:"SR"},{label:t.getMessage(b,"SZ"),value:"SZ"},{label:t.getMessage(b,"SE"),value:"SE"},{label:t.getMessage(b,"CH"),value:"CH"},{label:t.getMessage(b,"TJ"),value:"TJ"},{label:t.getMessage(b,"TZ"),value:"TZ"},{label:t.getMessage(b,"TH"),value:"TH"},{label:t.getMessage(b,"TL"),value:"TL"},{label:t.getMessage(b,"TG"),value:"TG"},{label:t.getMessage(b,"TO"),value:"TO"},{label:t.getMessage(b,"TM"),value:"TM"},{label:t.getMessage(b,"TV"),value:"TV"},{label:t.getMessage(b,"UA"),value:"UA"},{label:t.getMessage(b,"AE"),value:"AE"},{label:t.getMessage(b,"GB"),value:"GB"},{label:t.getMessage(b,"UY"),value:"UY"},{label:t.getMessage(b,"UZ"),value:"UZ"},{label:t.getMessage(b,"VE"),value:"VE"},{label:t.getMessage(b,"VN"),value:"VN"},{label:t.getMessage(b,"ZM"),value:"ZM"},{label:t.getMessage(b,"ZW"),value:"ZW"}]};const He=(e,t)=>{const i=Object.assign({},t);["email","password","firstname","middlename","maidenName","birthdate","lastname","streetName","streetNr","extraAddressField","postCode","city","mobilePhoneNumber","czDataBoxId","additionalAddressStreetName","additionalAddressStreetNr","additionalAddressPostCode","additionalAddressCity","mailingAddressStreetName","mailingAddressStreetNr","mailingAddressPostCode","mailingAddressCity","cityOfBirth"].forEach(t=>{var s;((e,t,i,s)=>{e[t].onChange=i,e[t].onBlur=s})(i,t,e.onChange,(s=t,t=>{e.onBlur(s,t)}))});return["salutation","currency","nationality","country","county","sourceOfFunds","limitAmount","limitPeriod"].forEach(t=>{var s;((e,t,i,s)=>{e[t].onChange=i,e[t].onBlur=s})(i,t,(s=t,t=>{e.onDropdownChange(s,t)}),(t=>i=>{e.onDropdownBlur(t,i)})(t))}),i.nationalId.onChange=e.onChange,i.nationalId.onBlur=t=>{e.onNationalIdBlur(t)},i.passport.onChange=e.onChange,i.passport.onBlur=t=>{e.onPassportBlur(t)},i.terms.onClick=e.onTermsChange,i.acceptNotifications.onChange=e.onAcceptNotificationsChange,i.cta.onSubmit=e.onSubmit,i.czDataBoxIdToggle.onClick=e.onCzDataBoxChange,i.foreignerCheckbox.onClick=e.onForeignerCheckboxChange,i.additionalAddressToggle.onClick=e.onAdditionalAddressChange,i.mailingAddressToggle.onClick=e.onMailingAddressChange,i.addressResolver.onSelect=e.onAddressResolveChange,i};var Ke;const Je=e=>{let{value:t,labelText:i,helpText:s,onChange:a,onBlur:o,valid:r,locale:l="en",trackName:u,inlineLabel:c,invalidLabel:p,daysPlaceholder:h,monthsPlaceholder:g,yearsPlaceholder:A,dateOrder:m}=e;let v="default";return r&&""!==t?v="valid":!r&&s&&(v="invalid"),n(Ke||(Ke=j(['\n    <div\n      class="api-registration-form__section api-registration-form__section--birthdate form-entry form-entry--birthdate"\n    >\n      <ll-date-input\n        id="apiRegistration-birthdate"\n        class="js-track"\n        value="','"\n        max=',"\n        label=","\n        trackName=","\n        language=","\n        inlineLabel=","\n        validInlineLabel=","\n        invalidInlineLabel=","\n        yearDefaultText=","\n        monthDefaultText=","\n        dayDefaultText=","\n        status=","\n        .order=",'\n        data-track-listeners="focusin,change"\n        @change=',"\n      />\n    </div>\n  "])),d(t),(()=>{const e=e=>String(e).padStart(2,"0"),t=new Date;return[t.getFullYear()-18,e(t.getMonth()+1),e(t.getDate())].join("")})(),d(i),d(u),d(l),d(c),d(c),d(p||s),d(A),d(g),d(h),v,m,e=>{a&&a(e),e.detail.value&&o&&o(e)})};var We;const Xe=(e,t)=>{return n(We||(We=j(['\n    <div\n      class="','"\n    >\n      <ll-dropdown\n        .values=',"\n        name=","\n        trackName=","\n        @change=","\n        @blur=","\n        value=","\n        label=","\n        status=","\n        invalidInlineLabel=",'\n        class="js-track"\n        data-track-listeners="focusin,change"\n      />\n    </div>\n  '])),c({"dropdown-field":!0,[""+t.additionalClassName]:!!t.additionalClassName}),e.options,"apiRegistration-"+t.id,d(t.trackName),e.onChange,e.onBlur,d(e.value),d(e.labelText),!0===(i=e.valid)?"valid":!1===i?"invalid":"default",d(e.helpText));var i},$e={firstname:"firstName",lastname:"lastName"},et=function(e,t){return void 0===t&&(t=""),$e[e]&&(e=$e[e]),i("signUpForm",t,e)};var tt,it,st,at,nt,ot,rt=a`:host{display:block;--ll-registration-password-tooltip-entry-margin:calc(
    var(--ll-base-unit, baseUnit(1)) * 2
  );--ll-registration-password-tooltip-icon-width:calc(
    var(--ll-base-unit, baseUnit(1)) * 2
  );--ll-registration-password-tooltip-icon-margin:calc(
    var(--ll-base-unit, baseUnit(1)) * 2
  )}ll-tooltip-container{position:relative;--tooltip-parent:ll-registration-password}.validation-entry{display:flex;flex-direction:row}.validation-entry:not(:last-child){margin-bottom:var(--ll-registration-password-tooltip-entry-margin)}.validation-entry ll-icon{flex:0 0 var(--ll-registration-password-tooltip-icon-width);margin-right:var(--ll-registration-password-tooltip-icon-margin)}.validation-entry ll-typography{flex:1 1 auto}.validation-entry.valid{--color:var(--ll-color-status-success)}`;let lt=ot=class extends l{constructor(){super(...arguments),this.value="",this.email="",this.tooltipPosition="top",this.trackName="",this.status="default",this.tooltipShow=!1,this.validations={lengthAndCoincidence:!1,mustHaveLowerAndUpperCase:!1,mustHaveSpecialCharacter:!1}}getMessage(e){let i=t.getMessage(this.translations,e);return["registrationPassword_inlineLabel","registrationPassword_inlineLabel_valid","registrationPassword_inlineLabel_error"].includes(e)&&(i=t.getMessage(this.translations,e).replace(/^!.*!$/,"")),i}static isValidLengthAndCoincidence(e,t){let i=t.split("@");return i.push(t),e.length>=8&&!i.filter(t=>e.includes(t)).length}static isValidMustHaveLowerAndUpperCase(e){let t=e.match(/(?=.*[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2F\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C0\uA7C2\uA7C4-\uA7C7\uA7C9\uA7D0\uA7D6\uA7D8\uA7F5\uFF21-\uFF3A\u{10400}-\u{10427}\u{104B0}-\u{104D3}\u{10570}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10C80}-\u{10CB2}\u{118A0}-\u{118BF}\u{16E40}-\u{16E5F}\u{1D400}-\u{1D419}\u{1D434}-\u{1D44D}\u{1D468}-\u{1D481}\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B5}\u{1D4D0}-\u{1D4E9}\u{1D504}\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D538}\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D56C}-\u{1D585}\u{1D5A0}-\u{1D5B9}\u{1D5D4}-\u{1D5ED}\u{1D608}-\u{1D621}\u{1D63C}-\u{1D655}\u{1D670}-\u{1D689}\u{1D6A8}-\u{1D6C0}\u{1D6E2}-\u{1D6FA}\u{1D71C}-\u{1D734}\u{1D756}-\u{1D76E}\u{1D790}-\u{1D7A8}\u{1D7CA}\u{1E900}-\u{1E921}].*)(?=.*[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5F\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C1\uA7C3\uA7C8\uA7CA\uA7D1\uA7D3\uA7D5\uA7D7\uA7D9\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A\u{10428}-\u{1044F}\u{104D8}-\u{104FB}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10CC0}-\u{10CF2}\u{118C0}-\u{118DF}\u{16E60}-\u{16E7F}\u{1D41A}-\u{1D433}\u{1D44E}-\u{1D454}\u{1D456}-\u{1D467}\u{1D482}-\u{1D49B}\u{1D4B6}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D4CF}\u{1D4EA}-\u{1D503}\u{1D51E}-\u{1D537}\u{1D552}-\u{1D56B}\u{1D586}-\u{1D59F}\u{1D5BA}-\u{1D5D3}\u{1D5EE}-\u{1D607}\u{1D622}-\u{1D63B}\u{1D656}-\u{1D66F}\u{1D68A}-\u{1D6A5}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6E1}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D71B}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D755}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D78F}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7C9}\u{1D7CB}\u{1DF00}-\u{1DF09}\u{1DF0B}-\u{1DF1E}\u{1E922}-\u{1E943}].*)/u);return null!=t&&t.length>0}static isValidMustHaveSpecialCharacter(e){let t=e.match(/^.*([0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19\u{10107}-\u{10133}\u{10140}-\u{10178}\u{1018A}\u{1018B}\u{102E1}-\u{102FB}\u{10320}-\u{10323}\u{10341}\u{1034A}\u{103D1}-\u{103D5}\u{104A0}-\u{104A9}\u{10858}-\u{1085F}\u{10879}-\u{1087F}\u{108A7}-\u{108AF}\u{108FB}-\u{108FF}\u{10916}-\u{1091B}\u{109BC}\u{109BD}\u{109C0}-\u{109CF}\u{109D2}-\u{109FF}\u{10A40}-\u{10A48}\u{10A7D}\u{10A7E}\u{10A9D}-\u{10A9F}\u{10AEB}-\u{10AEF}\u{10B58}-\u{10B5F}\u{10B78}-\u{10B7F}\u{10BA9}-\u{10BAF}\u{10CFA}-\u{10CFF}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10F1D}-\u{10F26}\u{10F51}-\u{10F54}\u{10FC5}-\u{10FCB}\u{11052}-\u{1106F}\u{110F0}-\u{110F9}\u{11136}-\u{1113F}\u{111D0}-\u{111D9}\u{111E1}-\u{111F4}\u{112F0}-\u{112F9}\u{11450}-\u{11459}\u{114D0}-\u{114D9}\u{11650}-\u{11659}\u{116C0}-\u{116C9}\u{11730}-\u{1173B}\u{118E0}-\u{118F2}\u{11950}-\u{11959}\u{11C50}-\u{11C6C}\u{11D50}-\u{11D59}\u{11DA0}-\u{11DA9}\u{11FC0}-\u{11FD4}\u{12400}-\u{1246E}\u{16A60}-\u{16A69}\u{16AC0}-\u{16AC9}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16E80}-\u{16E96}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D7CE}-\u{1D7FF}\u{1E140}-\u{1E149}\u{1E2F0}-\u{1E2F9}\u{1E8C7}-\u{1E8CF}\u{1E950}-\u{1E959}\u{1EC71}-\u{1ECAB}\u{1ECAD}-\u{1ECAF}\u{1ECB1}-\u{1ECB4}\u{1ED01}-\u{1ED2D}\u{1ED2F}-\u{1ED3D}\u{1F100}-\u{1F10C}\u{1FBF0}-\u{1FBF9}]|[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD\u{10137}-\u{1013F}\u{10179}-\u{10189}\u{1018C}-\u{1018E}\u{10190}-\u{1019C}\u{101A0}\u{101D0}-\u{101FC}\u{10877}\u{10878}\u{10AC8}\u{1173F}\u{11FD5}-\u{11FF1}\u{16B3C}-\u{16B3F}\u{16B45}\u{1BC9C}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D164}\u{1D16A}-\u{1D16C}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1EA}\u{1D200}-\u{1D241}\u{1D245}\u{1D300}-\u{1D356}\u{1D6C1}\u{1D6DB}\u{1D6FB}\u{1D715}\u{1D735}\u{1D74F}\u{1D76F}\u{1D789}\u{1D7A9}\u{1D7C3}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}\u{1DA86}\u{1E14F}\u{1E2FF}\u{1ECAC}\u{1ECB0}\u{1ED2E}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F10D}-\u{1F1AD}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}]|[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]|[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65\u{10100}-\u{10102}\u{1039F}\u{103D0}\u{1056F}\u{10857}\u{1091F}\u{1093F}\u{10A50}-\u{10A58}\u{10A7F}\u{10AF0}-\u{10AF6}\u{10B39}-\u{10B3F}\u{10B99}-\u{10B9C}\u{10EAD}\u{10F55}-\u{10F59}\u{10F86}-\u{10F89}\u{11047}-\u{1104D}\u{110BB}\u{110BC}\u{110BE}-\u{110C1}\u{11140}-\u{11143}\u{11174}\u{11175}\u{111C5}-\u{111C8}\u{111CD}\u{111DB}\u{111DD}-\u{111DF}\u{11238}-\u{1123D}\u{112A9}\u{1144B}-\u{1144F}\u{1145A}\u{1145B}\u{1145D}\u{114C6}\u{115C1}-\u{115D7}\u{11641}-\u{11643}\u{11660}-\u{1166C}\u{116B9}\u{1173C}-\u{1173E}\u{1183B}\u{11944}-\u{11946}\u{119E2}\u{11A3F}-\u{11A46}\u{11A9A}-\u{11A9C}\u{11A9E}-\u{11AA2}\u{11C41}-\u{11C45}\u{11C70}\u{11C71}\u{11EF7}\u{11EF8}\u{11FFF}\u{12470}-\u{12474}\u{12FF1}\u{12FF2}\u{16A6E}\u{16A6F}\u{16AF5}\u{16B37}-\u{16B3B}\u{16B44}\u{16E97}-\u{16E9A}\u{16FE2}\u{1BC9F}\u{1DA87}-\u{1DA8B}\u{1E95E}\u{1E95F}]).*$/u);return null!=t&&t.length>0}renderValidationEntry(e,t,i){return n(tt||(tt=j(['\n      <div\n        class="','"\n      >\n        <ll-icon name="','" size="small"></ll-icon>\n        <ll-typography size="sp"\n          ><strong>',"</strong></ll-typography\n        >\n      </div>\n    "])),c({"validation-entry":!0,[e]:!0,valid:i}),i?"check-2":"minus-1",this.getMessage(t))}getValidations(e){return{lengthAndCoincidence:ot.isValidLengthAndCoincidence(e,this.email),mustHaveLowerAndUpperCase:ot.isValidMustHaveLowerAndUpperCase(e),mustHaveSpecialCharacter:ot.isValidMustHaveSpecialCharacter(e)}}renderValidations(e){return this.validations=this.getValidations(e),n(it||(it=j(['\n      <div class="validation">\n        ',"\n        ","\n        ","\n      </div>\n    "])),this.renderValidationEntry("lengthAndCoincidence","registrationPassword_validation_lengthAndCoincidence",this.validations.lengthAndCoincidence),this.renderValidationEntry("mustHaveLowerAndUpperCase","registrationPassword_validation_mustHaveLowerAndUpperCase",this.validations.mustHaveLowerAndUpperCase),this.renderValidationEntry("mustHaveSpecialCharacter","registrationPassword_validation_mustHaveSpecialCharacter",this.validations.mustHaveSpecialCharacter))}onPasswordChange(e){const{value:t}=e.detail||{value:""};this.value=t,this.validate(),this.dispatchEvent(new CustomEvent("registrationPasswordChange",{bubbles:!0,composed:!0,detail:{value:this.value,status:this.status}}))}onPasswordBlur(e){this.value||(this.status="invalid"),this.onPasswordTooltipHandler(e)}onPasswordTooltipHandler(e){const t=e.target;this.value=t.value,this.tooltipShow=this.value.length>0&&"keyup"===e.type}onPasswordInput(e){const t=e.target;this.value=t.value,this.tooltipShow=this.value.length>0,this.validate()}updateValidations(e){this.tooltipContent=this.renderValidations(e)}tooltipRender(){return n(st||(st=j(['\n      <ll-tooltip-container\n        ?show="','"\n        position="','"\n        fullWidth\n      >\n        ',"\n      </ll-tooltip-container>\n    "])),this.tooltipShow,this.tooltipPosition,this.tooltipContent)}onPasswordFocus(){"invalid"===this.status&&this.value&&(this.tooltipShow=!0)}validate(){this.updateValidations(this.value),this.value.length?Object.values(this.validations).filter(e=>!e).length?this.status="invalid":this.status="valid":this.status="default"}passwordRender(){return n(at||(at=j(['\n      <ll-password\n        value="','"\n        status="','"\n        label="','"\n        showLabel="','"\n        hideLabel="','"\n        inlineLabel="','"\n        validInlineLabel="','"\n        invalidInlineLabel="','"\n        trackName="','"\n        @change="','"\n        @input="','"\n        @keyup="','"\n        @blur="','"\n        @focus="','"\n      ></ll-password>\n    '])),this.value,this.status,this.getMessage("registrationPassword_label"),this.getMessage("registrationPassword_link_show"),this.getMessage("registrationPassword_link_hide"),this.getMessage("registrationPassword_inlineLabel"),this.getMessage("registrationPassword_inlineLabel_valid"),this.getMessage("registrationPassword_inlineLabel_invalid"),this.trackName,this.onPasswordChange,this.onPasswordInput,this.onPasswordTooltipHandler,this.onPasswordBlur,this.onPasswordFocus)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),"email"===e&&t!==i&&this.validate()}firstUpdated(){this.tooltipContent=this.renderValidations(this.value)}disconnectedCallback(){this.status="default",this.value="",super.disconnectedCallback()}render(){return n(nt||(nt=j([" "," "," "])),this.tooltipRender(),this.passwordRender())}};var ut;lt.styles=rt,P([o({type:String,reflect:!0})],lt.prototype,"value",void 0),P([o({type:String,reflect:!0})],lt.prototype,"email",void 0),P([o({type:String,reflect:!0})],lt.prototype,"tooltipPosition",void 0),P([o({type:Object,converter:p})],lt.prototype,"translations",void 0),P([o({type:String})],lt.prototype,"trackName",void 0),P([o({type:String,reflect:!0})],lt.prototype,"status",void 0),P([h()],lt.prototype,"tooltipShow",void 0),P([h()],lt.prototype,"tooltipContent",void 0),P([h()],lt.prototype,"validations",void 0),lt=ot=P([r("ll-registration-password")],lt);var dt,ct;const pt=(e,t)=>{const i=e.prefixText?n(dt||(dt=j(['<ll-typography size="sp" slot="prefix"\n        >',"</ll-typography\n      >"])),e.prefixText):null;return n(ct||(ct=j(["\n    <div class=",">\n      <ll-text-input\n        id=","\n        type=","\n        trackName=",'\n        trackListeners="focusin,change"\n        @change=',"\n        @input=","\n        @blur=","\n        label=","\n        invalidInlineLabel=","\n        value=","\n        status=","\n      >\n        ","\n      </ll-text-input>\n    </div>\n  "])),"form-entry text-field "+(t.additionalClassName||""||""),"apiRegistration-"+t.id,t.type||"text",d(t.trackName),e.onChange,e.onChange,e.onBlur,d(e.labelText),d(e.helpText),d(e.value),(e=>{const{valid:t}=e;return!0===t?"valid":!1===t?"invalid":"default"})(e),i)},ht=e=>{if(e.status>=200&&e.status<400)return e;throw new Error("HTTP error "+e.status+" from loqate")};class gt{constructor(e,t){this.fetch=window.fetch.bind(window),this.apiKey=e,null!=t&&(this.fetch=t)}getUrlWithApiKey(e){const t=new URL(e);return t.searchParams.append("Key",this.apiKey),t}getFindUrl(e){let{text:t,id:i,countries:s,language:a}=e;const n=this.getUrlWithApiKey("https://api.addressy.com/Capture/Interactive/Find/v1.10/json3.ws");return n.searchParams.append("Text",t),null!=i&&n.searchParams.append("Container",i),null!=s&&n.searchParams.append("Countries","string"==typeof s?s:s.join(",")),a&&n.searchParams.append("Language",a),n}getRetrieveUrl(e){const t=this.getUrlWithApiKey("https://api.addressy.com/Capture/Interactive/Retrieve/v1.10/json3.ws");return t.searchParams.append("Id",e),t}async find(e){const t=await this.fetch(this.getFindUrl(e).toString());ht(t);return(await t.json()).Items.map(e=>{const t={Id:e.Id,Text:e.Text,Type:e.Type,Description:e.Description,ProvinceName:e.ProvinceName,SubBuilding:e.SubBuilding};return e.Error?Object.assign({},t,{Error:e.Error}):t})}async retrieve(e){const t=await this.fetch(this.getRetrieveUrl(e).toString());ht(t);return(await t.json()).Items.map(e=>({BuildingNumber:e.BuildingNumber,Street:e.Street,City:e.City,PostalCode:e.PostalCode,ProvinceName:e.ProvinceName,SubBuilding:e.SubBuilding}))}}var At,mt,vt,ft=a`:host{display:block}.placeholder{display:flex;padding:8px 16px;cursor:pointer;justify-content:space-between;align-items:center}.placeholder:hover{background:var(--ll-color-ui-04)}ll-icon{opacity:.35}`;let Ct=class extends l{constructor(){super(...arguments),this.value="",this.trackName=""}selectItem(){A(this,"autocompleteSelect",this.item)}isGroupAddress(){return"Address"!==this.item.Type}renderIcon(){return this.isGroupAddress()?n(At||(At=j(['<ll-icon name="arrow-68" size="small"></ll-icon>']))):""}getTrackName(){const e=this.isGroupAddress()?"groupedAddress":"simpleAddress";return i(this.trackName,e)}renderText(){return this.item.Text?n(mt||(mt=j(["<strong>","</strong>, "])),this.item.Text):""}render(){return n(vt||(vt=j(['\n      <div\n        class="','"\n        @click="','"\n        data-track-name="','"\n      >\n        <ll-typography size="sp"\n          >',"","</ll-typography\n        >\n        ","\n      </div>\n    "])),c({placeholder:!0,"js-track":!!this.trackName}),this.selectItem,this.getTrackName(),this.renderText(),this.item.Description,this.renderIcon())}};Ct.styles=ft,P([o({type:Object,converter:p})],Ct.prototype,"item",void 0),P([o({type:String})],Ct.prototype,"value",void 0),P([o({type:String})],Ct.prototype,"trackName",void 0),Ct=P([r("ll-loqate-autocomplete-item")],Ct);var yt,wt,Ft,bt,Dt,Et=a`:host{display:block}.fallback{text-align:center;padding:16px}ll-spinner{display:block;margin-top:16px}`;let Mt=Dt=class extends l{constructor(){super(...arguments),this.label="",this.helpText="",this.inlineLabel="",this.items=[],this.value="",this.apiKey="",this.country="",this.status="default",this.groupId="",this.groupText="",this.trackName="",this.isLoading=!1,this.isSuccess=!1,this.fetch=window.fetch.bind(window),this.addressFocus=!1}static getMessage(e){return t.getMessage(D,e)}async onSelect(e){const{Text:t,Id:i,Type:s}=e.detail;if(this.value=t,"Address"!==s){this.autocompleteComponent.focus(),this.addressFocus=!0;const e=await this.makeApiRequest(this.loqateApi.find({text:this.value,id:i,countries:this.country,language:this.language}));if(!e)return void(this.items=[]);this.items=e,this.groupId=i,this.groupText=t}else{const e=await this.makeApiRequest(this.loqateApi.retrieve(i));if(!e)return;A(this,"loqateAutocompleteSelect",e[0])}}async makeApiRequest(e){let t;try{this.isLoading=!0,t=await(i=Dt.API_TIMEOUT,s=e,new Promise((e,t)=>{const a=window.setTimeout(()=>{t(new Error("PromiseTimeout"))},i);s.then(t=>{clearTimeout(a),e(t)},e=>{clearTimeout(a),t(e)})})),this.isSuccess=!t[0]||!t[0].Error}catch(e){console.error("Error from loquate API",e),this.isSuccess=!1}finally{this.isLoading=!1}var i,s;return t}isGroupSelected(){return!!this.groupId&&this.value.includes(this.groupText)}onInput(e){const t=e.target;this.value=t.value,clearTimeout(this.timeoutId),this.value.length<Dt.MIN_CHARACTERS||(this.isLoading=!0,this.timeoutId=window.setTimeout(async()=>{if(this.isGroupSelected()){const e=await this.makeApiRequest(this.loqateApi.find({text:this.value,id:this.groupId,countries:this.country,language:this.language}));if(!e)return void(this.items=[]);this.items=e}else{const e=await this.makeApiRequest(this.loqateApi.find({text:this.value,countries:this.country,language:this.language}));if(!e||(null==e?void 0:e.filter(e=>void 0!==e.Error).length))return void(this.items=[]);this.items=e,this.groupText="",this.groupId=""}},Dt.KEYPRESS_TIMEOUT))}connectedCallback(){super.connectedCallback(),this.loqateApi=new gt(this.apiKey,this.fetch)}disconnectedCallback(){window.clearTimeout(this.timeoutId)}renderLoading(){return n(yt||(yt=j(['\n      <ll-typography size="sp"\n        >','</ll-typography\n      >\n      <ll-spinner size="21" strokeWidth="1" />\n    '])),Dt.getMessage("loading"))}renderError(){return n(wt||(wt=j(['\n      <ll-typography size="sp"\n        >',"</ll-typography\n      >\n    "])),Dt.getMessage("error"))}renderNoAddressesFound(){return n(Ft||(Ft=j(['\n      <ll-typography size="sp"\n        >',"</ll-typography\n      >\n    "])),Dt.getMessage("noMatchingResults"))}filterFunction(){return!0}isResponseFailed(){return!this.isLoading&&!this.isSuccess}isResponseEmpty(){return!this.isLoading&&this.isSuccess&&(!this.items||0===this.items.length)}onBlur(e){e.stopPropagation(),setTimeout(async()=>{this.addressFocus||(A(this,"blur"),this.addressFocus=!1)},80)}render(){return n(bt||(bt=j(['\n      <ll-autocomplete\n        label="','"\n        helptext="','"\n        inlinelabel="','"\n        status="','"\n        invalidInlineLabel="','"\n        .items="','"\n        @autocompleteSelect="','"\n        @input="','"\n        @blur="','"\n        mincharacters="','"\n        itemTagName="ll-loqate-autocomplete-item"\n        .filterFunction="','"\n        value="','"\n        trackName="','"\n      >\n        <div class="fallback">\n          ',"\n          ","\n          ","\n        </div>\n      </ll-autocomplete>\n    "])),this.label,this.helpText,this.inlineLabel,d(this.status),d(this.invalidInlineLabel),this.items,this.onSelect,this.onInput,this.onBlur,Dt.MIN_CHARACTERS,this.filterFunction,this.value,this.trackName,this.isLoading?this.renderLoading():null,this.isResponseFailed()?this.renderError():null,this.isResponseEmpty()?this.renderNoAddressesFound():null)}};var Tt,kt;Mt.styles=Et,Mt.KEYPRESS_TIMEOUT=300,Mt.MIN_CHARACTERS=3,Mt.API_TIMEOUT=5e3,P([o({type:String})],Mt.prototype,"label",void 0),P([o({type:String})],Mt.prototype,"helpText",void 0),P([o({type:String})],Mt.prototype,"inlineLabel",void 0),P([o({type:Array,converter:m})],Mt.prototype,"items",void 0),P([o({type:String})],Mt.prototype,"value",void 0),P([o({type:String})],Mt.prototype,"apiKey",void 0),P([o({type:String})],Mt.prototype,"country",void 0),P([o({type:String})],Mt.prototype,"invalidInlineLabel",void 0),P([o({type:String,reflect:!0})],Mt.prototype,"status",void 0),P([o({type:String})],Mt.prototype,"groupId",void 0),P([o({type:String})],Mt.prototype,"groupText",void 0),P([o({type:String})],Mt.prototype,"trackName",void 0),P([o()],Mt.prototype,"language",void 0),P([o()],Mt.prototype,"timeout",void 0),P([v("ll-autocomplete")],Mt.prototype,"autocompleteComponent",void 0),P([o({type:Boolean})],Mt.prototype,"isLoading",void 0),P([o({type:Boolean})],Mt.prototype,"isSuccess",void 0),Mt=Dt=P([r("ll-loqate-autocomplete")],Mt);const Nt=e=>{const{showAddressResolver:t,linkResolveAddressText:s,linkManuallyText:a}=e,o=t?(e=>{const{valid:t,label:i,inlineLabel:s,apiKey:a,invalidText:o,country:r,trackName:l,locale:u}=e;return n(Tt||(Tt=j(['\n    <ll-loqate-autocomplete\n      language="','"\n      trackName="','"\n      status="','"\n      label="','"\n      inlineLabel="','"\n      invalidInlineLabel="','"\n      apiKey="','"\n      country="','"\n      .translations="','"\n      @blur="','"\n      @loqateAutocompleteSelect="','"\n    />\n  '])),u,l,t?"default":"invalid",i,s,o,a,r,(e=>{const{loadingText:t,noMatchingResultsText:i,errorText:s}=e;return{loqateAutocomplete_noMatchingResults:i,loqateAutocomplete_loading:t,loqateAutocomplete_error:s}})(e),(e=>{const{showAddressResolver:t,empty:i}=e;e.status=!i&&t?"invalid":"default"})(e),t=>((e,t)=>{const{onSelect:i,onChange:s}=t;if(e.detail){const{BuildingNumber:a,City:n,PostalCode:o,Street:r,ProvinceName:l,SubBuilding:u}=e.detail,d={buildingNumber:a,city:n,postalCode:o,street:r,county:l,subBuilding:u};t.showAddressResolver=!1,i&&i(d),s&&s()}})(t,e))})(e):e.children;return n(kt||(kt=j(['\n    <div class="','">\n      ',"\n      <ll-link\n        @click=",'\n        trackName="','"\n      >\n        ',"\n      </ll-link>\n    </div>\n  "])),c({"address-resolver":!0}),o,()=>(e=>{const{showAddressResolver:t,onSelect:i,empty:s,onChange:a}=e;e.status=!s&&t?"invalid":"default",i&&i(),a&&a(!t)})(e),(e=>{const{trackName:t,showAddressResolver:s}=e;return i(t,s?"enterAddressManually":"enterAddressResolver")})(e),t?s:a)};var xt,Bt;const Lt=e=>{let{checked:t,children:i,labelText:s,onToggle:a,trackName:o,valid:r=!0,helpText:l=""}=e;const u=i&&t?n(xt||(xt=j(['<div class="registration-form-checkbox-toggle-children">\n          ',"\n        </div>"])),i):null;return n(Bt||(Bt=j(['\n    <div class="registration-form-checkbox-toggle">\n      <ll-checkbox\n        @click=',"\n        ?checked=","\n        trackName=","\n        status=","\n        invalidInlineLabel=","\n      >\n        ","\n      </ll-checkbox>\n      ","\n    </div>\n  "])),a,t,d(o),!1===r?"invalid":"default",d(l),s,u)};var St;const It=(e,t,i,s)=>{const{addressType:a,fields:n}=e,o={id:""+a+t,type:"text",trackName:s,additionalClassName:"form-entry--"+i};return pt(n[""+a+t],o)},Ot=e=>!0===e?"valid":!1===e?"invalid":"default";var jt,Pt,_t,Ut,zt=a`:host{display:block}.address-row{display:flex}.address-row .address-field{flex-grow:1}.address-row .address-field ll-text-input{margin-top:16px}.address-row .address-field:first-child{margin-right:16px}.address-row .address-field:last-child{margin-right:0}.address-row .address-field.address-field--narrow{flex-basis:100px;flex-grow:0}`;let Rt=class extends l{constructor(){super(...arguments),this.config={},this.fieldConfig={applicableFields:[]},this.fields=null,this.trackName=""}getEventData(){return Object.keys(this.fields).reduce((e,t)=>{const i=t;return e[i]=this.fields[i].value||"",e},{})}onFieldChange(e,t,i){if(e.onChange)return void e.onChange(i);const s=i.target;this.fields[t].value=s.value,A(this,"addressChange",this.getEventData())}onFieldBlur(e,i,s){if(e.onBlur)return void e.onBlur(s);s.target.value?(this.fields[i].valid=void 0,this.fields[i].helpText=""):(this.fields[i].valid=!1,this.fields[i].helpText=t.getMessage(E,"emptyField")),this.requestUpdate()}renderTextfield(e,t){return e&&this.isShowField(t)?n(jt||(jt=j(['\n      <ll-text-input\n        id="','"\n        type="text"\n        trackName="','"\n        trackListeners="focusin,change"\n        label="','"\n        status="','"\n        invalidInlineLabel="','"\n        @change="','"\n        @input="','"\n        @blur="','"\n        value="','"\n      >\n      </ll-text-input>\n    '])),"address-"+t,i(this.trackName,t),this.getLabelText(t),Ot(e.valid),e.helpText,i=>this.onFieldChange(e,t,i),i=>this.onFieldChange(e,t,i),i=>this.onFieldBlur(e,t,i),d(e.value)):""}getLabelText(e){var i;let s=this.fields&&this.fields[e]&&(null===(i=this.fields[e])||void 0===i?void 0:i.labelText);return s||(s="streetName"!==e?t.getMessage(E,e):t.getMessage(E,"street")),s}getInitialField(e){return{labelText:this.getLabelText(e)}}isShowField(e){return this.fieldConfig.applicableFields.some(t=>t.fieldName===e)}setInitialFields(){this.fields={streetName:this.getInitialField("streetName"),streetNr:this.getInitialField("streetNr"),postCode:this.getInitialField("postCode")},this.isShowField("city")&&(this.fields.city=this.getInitialField("city")),this.isShowField("extraAddressField")&&(this.fields.extraAddressField=this.getInitialField("extraAddressField"))}renderStreet(){if(this.fields)return this.config.streetOrder&&"streetName"===this.config.streetOrder[0]?n(Pt||(Pt=j(['\n        <div class="address-field">\n          ','\n        </div>\n        <div class="address-field address-field--narrow">\n          ',"\n        </div>\n      "])),this.renderTextfield(this.fields.streetName,"streetName"),this.renderTextfield(this.fields.streetNr,"streetNr")):n(_t||(_t=j(['\n        <div class="address-field address-field--narrow">\n          ','\n        </div>\n        <div class="address-field">\n          ',"\n        </div>\n      "])),this.renderTextfield(this.fields.streetNr,"streetNr"),this.renderTextfield(this.fields.streetName,"streetName"))}updated(){this.fieldConfig&&this.fieldConfig.applicableFields&&this.fieldConfig.applicableFields.length&&!this.fields&&this.setInitialFields()}render(){if(this.fields)return n(Ut||(Ut=j(['\n      <div class="address">\n        <div class="address-row">','</div>\n        <div class="address-row">\n          <div class="address-field">\n            ','\n          </div>\n        </div>\n        <div class="address-row">\n          <div class="address-field address-field--narrow">\n            ','\n          </div>\n          <div class="address-field">\n            ',"\n          </div>\n        </div>\n      </div>\n    "])),this.renderStreet(),this.renderTextfield(this.fields.extraAddressField,"extraAddressField"),this.renderTextfield(this.fields.postCode,"postCode"),this.renderTextfield(this.fields.city,"city"))}};var Qt;Rt.styles=zt,P([o({type:Object,converter:p})],Rt.prototype,"config",void 0),P([o({type:Object,converter:p})],Rt.prototype,"fieldConfig",void 0),P([o({type:Object,converter:p})],Rt.prototype,"fields",void 0),P([o({type:String})],Rt.prototype,"trackName",void 0),Rt=P([r("ll-address")],Rt);var Vt,qt,Zt,Yt,Gt=a`:host{display:block}.depositLimit-row{display:flex;margin-top:16px}.depositLimit-row .depositLimit-field{flex-grow:1}.depositLimit-row .depositLimit-field:first-child{margin-right:16px}.depositLimit-row .depositLimit-field:last-child{margin-right:0}`;let Ht=class extends l{constructor(){super(...arguments),this.fieldConfig={applicableFields:[]},this.fields=null,this.trackName="",this.disabled=!0}connectedCallback(){super.connectedCallback(),this.noLimitMsg=this.fields.limitPeriod.helpText,this.disabled=Number(this.fields.limitAmount.value)<0}getEventData(){return Object.keys(this.fields).reduce((e,t)=>{const i=t;return e[i]=this.fields[i].value||"",e},{})}onFieldChange(e,t,i){if(e.onChange)return void e.onChange(i);const s=i.target;this.fields[t].value=s.value,A(this,"limitChange",this.getEventData())}onFieldBlur(e,i,s){if(e.onBlur)return void e.onBlur(s);s.target.value?(this.fields[i].valid=void 0,this.fields[i].helpText=""):(this.fields[i].valid=!1,this.fields[i].helpText=t.getMessage(M,"emptyField")),this.fields[i].helpText=t.getMessage(M,"emptyField"),this.requestUpdate()}renderDropdown(e,t){return e&&this.isShowField(t)?n(Vt||(Vt=j(['\n      <ll-dropdown\n        id="','"\n        type="text"\n        trackName="','"\n        trackListeners="focusin,change"\n        label="','"\n        status="','"\n        invalidInlineLabel="','"\n        @change="','"\n        @input="','"\n        @blur="','"\n        value="','"\n        .values="','"\n        ?disabled="','"\n        class="js-track"\n      >\n      </ll-dropdown>\n    '])),"limits-"+t,i(this.trackName,t),e.labelText,Ot(e.valid),e.helpText,i=>this.onFieldChange(e,t,i),i=>this.onFieldChange(e,t,i),i=>this.onFieldBlur(e,t,i),d(e.value),e.options,this.disabled):""}getInitialField(e){return{labelText:t.getMessage(M,e)}}isShowField(e){return this.fieldConfig.applicableFields.some(t=>t.fieldName===e)}setInitialFields(){this.fields={limitPeriod:this.getInitialField("limitPeriod"),limitAmount:this.getInitialField("limitAmount")}}updated(){this.fieldConfig&&this.fieldConfig.applicableFields&&this.fieldConfig.applicableFields.length&&!this.fields&&this.setInitialFields()}isIncluded(e){return this.fieldConfig.applicableFields.map(e=>e.fieldName).includes(e)}handleCheckbox(e){const t=!this.disabled;this.fields.limitAmount.disabled=t,this.fields.limitAmount.value=this.fields.limitAmount.options[0].value,this.fields.limitPeriod.disabled=t,this.fields.limitPeriod.value=this.fields.limitPeriod.options[0].value,this.disabled=t}renderLimitPeriod(){return this.isIncluded("limitPeriod")?n(qt||(qt=j(['\n          <div class="depositLimit-field address-field--narrow">\n            ',"\n          </div>\n        "])),this.renderDropdown(this.fields.limitPeriod,"limitPeriod")):null}renderNoLimit(){return this.fields.limitAmount.noLimit?n(Zt||(Zt=j(['\n          <div class="depositLimit-row">\n            <ll-checkbox\n              trackName=','\n              @change="','"\n              ?checked=',"\n            >\n              ","\n            </ll-checkbox>\n          </div>\n        "])),"signUpForm_noLimit",this.handleCheckbox,this.disabled,this.noLimitMsg):null}render(){if(this.fields)return n(Yt||(Yt=j(['\n      <div class="depositLimit">\n        ','\n        <div class="depositLimit-row">\n          ','\n          <div class="depositLimit-field">\n            ',"\n          </div>\n        </div>\n      </div>\n    "])),this.renderNoLimit(),this.renderLimitPeriod(),this.renderDropdown(this.fields.limitAmount,"limitAmount"))}};var Kt;Ht.styles=Gt,P([o({type:Object,converter:p})],Ht.prototype,"fieldConfig",void 0),P([o({type:Object,converter:p})],Ht.prototype,"fields",void 0),P([o({type:String})],Ht.prototype,"trackName",void 0),P([o({type:Boolean})],Ht.prototype,"disabled",void 0),P([h()],Ht.prototype,"noLimitMsg",void 0),Ht=P([r("ll-deposit-limit")],Ht);var Jt,Wt,Xt,$t,ei,ti,ii,si,ai,ni,oi,ri,li,ui=a`.api-registration-form{padding:16px 0;text-align:left;-webkit-text-size-adjust:100%}.api-registration-form-value-proposition{margin-bottom:24px}.api-registration-form .dropdown-field,.api-registration-form .form-entry.text-field{margin-top:16px}.api-registration-form-entry-group{display:flex;flex-wrap:nowrap}.api-registration-form-entry-group .form-entry{flex:1 1 auto}.api-registration-form .api-registration-form__section.api-registration-form__section--name{display:flex;margin-top:16px}.api-registration-form .api-registration-form__section.api-registration-form__section--name .dropdown-field{flex-basis:90px;margin-top:10px}.api-registration-form .api-registration-form__section.api-registration-form__section--name .form-entry{margin-top:0;flex-grow:1}.api-registration-form .api-registration-form__section.api-registration-form__section--name .form-entry:last-child{margin-left:16px}.api-registration-form .api-registration-form__section.api-registration-form__section--name.api-registration-form__section--with-salutation{flex-wrap:wrap}.api-registration-form .api-registration-form__section.api-registration-form__section--name.api-registration-form__section--with-salutation .form-entry{width:100%;margin-left:0}.api-registration-form .api-registration-form__section.api-registration-form__section--name.api-registration-form__section--with-salutation .form-entry:not(:first-child){margin-top:16px}.api-registration-form .api-registration-form__section.api-registration-form__section--name.api-registration-form__section--with-salutation .dropdown-field+.form-entry{margin-left:16px;margin-top:8px;width:auto}.api-registration-form .api-registration-form__section.api-registration-form__section--birthdate{margin-top:16px}.api-registration-form .api-registration-form__section.api-registration-form__section--extended-registration{display:flex;flex-wrap:wrap;margin-top:0}.api-registration-form .api-registration-form__section.api-registration-form__section--extended-registration .form-entry--county{flex-basis:100%}.api-registration-form .api-registration-form__section.api-registration-form__section--extended-registration .form-entry--city,.api-registration-form .api-registration-form__section.api-registration-form__section--extended-registration .form-entry--streetName{flex-basis:calc(100% - 116px)}.api-registration-form .api-registration-form__section.api-registration-form__section--extended-registration .form-entry--streetNr{flex-basis:100px;margin-left:16px}.api-registration-form .api-registration-form__section.api-registration-form__section--extended-registration .form-entry--extraAddressField{flex-basis:100%}.api-registration-form .api-registration-form__section.api-registration-form__section--extended-registration .form-entry--postCode{flex-basis:100px;margin-right:16px}.api-registration-form .api-registration-form__section.api-registration-form__section--extended-registration .form-entry--postCode .form-entry-help-text{word-break:break-all}.api-registration-form .api-registration-form__section.api-registration-form__section--extended-registration.api-registration-form__section--extended-registration-optional .form-entry--postCode{flex-basis:calc(100% - 116px)}.api-registration-form .api-registration-form__section.api-registration-form__section--extended-registration.api-registration-form__section--extended-registration-optional .form-entry--city{flex-basis:100px}.api-registration-form .api-registration-form__section.api-registration-form__section--submit{margin-top:32px}.api-registration-form .api-registration-form__section.api-registration-form__section--submit ll-button{width:100%}.api-registration-form .api-registration-form__section.api-registration-form__section--acceptNotifications,.api-registration-form .api-registration-form__section.api-registration-form__section--optionalCZFields,.api-registration-form .api-registration-form__section.api-registration-form__section--termsCheckbox{margin-top:40px}.api-registration-form .api-registration-form__section.api-registration-form__section--acceptNotifications+.api-registration-form__section--termsCheckbox,.api-registration-form .api-registration-form__section.api-registration-form__section--errorNotification,.api-registration-form .api-registration-form__section.api-registration-form__section--optionalCZFields .registration-form-dataBoxId-text,.api-registration-form .api-registration-form__section.api-registration-form__section--optionalCZFields+.api-registration-form__section--acceptNotifications{margin-top:16px}.api-registration-form .api-registration-form__section.api-registration-form__section--foreignerCheckbox{margin-top:24px}.api-registration-form .api-registration-form__section.api-registration-form__section--foreignerCheckbox ll-checkbox{top:8px}.api-registration-form .api-registration-form__section.api-registration-form__section--acceptNotifications ll-checkbox{margin:8px 0}.api-registration-form .form-entry-help-text{color:var(--ll-color-status-error)}.api-registration-form .address-resolver{margin-top:16px;display:flex;flex-direction:column;position:relative}.api-registration-form .address-resolver ll-link{margin-top:8px;align-self:flex-end}.api-registration-form .address-resolver ll-loqate-autocomplete{box-sizing:border-box;position:relative;z-index:10}.api-registration-form--deposit-limit-placeholder{max-width:250px;margin:0 auto}.api-registration-form--deposit-limit-placeholder .form-entry label{display:block;width:100%;text-align:center}.registration-form-checkbox-toggle:not(:last-child){margin-bottom:16px}.highlight-container{background:var(--ll-color-ui-05);padding:16px;display:flex;flex-direction:column;align-content:center}ll-social-link{align-self:baseline;margin:8px 0}.tc-content slot[name=tc-content]::slotted(*){margin-top:40px!important}@media not all and (min-resolution:.001dpcm) and (min-device-width:320px) and (max-device-width:480px) and (-webkit-min-device-pixel-ratio:2){@supports (-webkit-appearance:none){.address-resolver.__hidden *{display:none;transform:translateZ(0)}}}`;let di=class extends l{constructor(){super(...arguments),this.showAddressResolver=!0,this.showAcceptNotifications="radio",this.errorNotification=""}isFieldShow(e){const{formFields:t=[]}=this.config||{};return void 0!==t.find(t=>t.fieldName===e)}isAddressShow(){return this.isFieldShow("streetName")&&this.isFieldShow("streetNr")&&this.isFieldShow("postCode")}isAddressResolverShow(){const{addressResolver:e}=this.config||{};return this.isAddressShow()&&!0===(null==e?void 0:e.enable)}showOptionalAddress(e){return this.isFieldShow(e+"AddressStreetName")&&this.isFieldShow(e+"AddressStreetNr")&&this.isFieldShow(e+"AddressPostCode")&&this.isFieldShow(e+"AddressCity")}isAddressEmpty(){const{streetName:e,streetNr:t,extraAddressField:i,postCode:s,city:a}=this.fields;return 0===[e,t,i,s,a].filter(e=>e&&""!==e.value).length}isAddressValid(){const{streetName:e,streetNr:t,extraAddressField:i,postCode:s,city:a}=this.fields,n=e=>!e||"boolean"!=typeof e.valid||!!e.valid;return n(e)&&n(t)&&n(i)&&n(s)&&n(a)}renderAddressResolverFields(){var e;const{country:t,addressResolver:i}=this.fields||{},{locale:s}=this.config||{},{value:a}=t||{},n=Object.assign({},i,(null===(e=this.config)||void 0===e?void 0:e.addressResolver)||{},{trackName:"signUpForm",valid:this.isAddressValid(),empty:this.isAddressEmpty(),locale:s,country:a,children:this.renderManualAddressFields(),showAddressResolver:this.showAddressResolver,onChange:e=>{this.showAddressResolver=e}});return Nt(n)}renderManualAddressFields(){const{streetOrder:t}=this.config||{},{streetName:s,streetNr:a,extraAddressField:o,postCode:r,city:l,county:u}=this.fields;return(t=>{let{streetName:s,streetNr:a,extraAddressField:o,postCode:r,city:l,showField:u,streetOrder:d,county:c,trackName:p}=t;if(!d)return;return n(Qt||(Qt=j(['\n    <div class="form-entry api-registration-form__section">\n      <ll-address\n        .config="','"\n        .fieldConfig="','"\n        .fields="','"\n        trackName="','"\n      ></ll-address>\n      ',"\n    </div>\n  "])),{streetOrder:d},(()=>{const t=[{fieldName:"streetName",required:!0},{fieldName:"streetNr",required:!0},{fieldName:"postCode",required:!0}];return u("city")&&t.push({fieldName:"city",required:!0}),u("extraAddressField")&&"en_AU_KX"!==(null==e?void 0:e.countryLocale)&&t.push({fieldName:"extraAddressField",required:!1}),{applicableFields:t}})(),{streetName:s,streetNr:a,postCode:r,city:l,extraAddressField:o},p,(()=>{if(u("county"))return Xe(c,{id:"county",trackName:(e="county",p?i(p,e):""),additionalClassName:"form-entry--county"});var e})())})({trackName:"signUpForm",streetOrder:t,streetName:s,streetNr:a,extraAddressField:o,postCode:r,city:l,county:u,showField:e=>this.isFieldShow(e)})}renderAddress(){return this.isAddressResolverShow()?this.renderAddressResolverFields():this.isAddressShow()?this.renderManualAddressFields():void 0}conditionalRender(e,t){if(this.isFieldShow(e))return t()}renderProposition(){return n(Jt||(Jt=j(['\n      <div class="api-registration-form-value-proposition">\n        <slot name="value-proposition" />\n      </div>\n    '])))}renderSocial(){var e;const t=null===(e=this.config)||void 0===e?void 0:e.social;if(t)return n(Wt||(Wt=j(['\n        <ll-social-link\n          class="api-registration-form-social"\n          labelText=',"\n          .urls=","\n          trackName=","\n        />\n      "])),null==t?void 0:t.labelText,null==t?void 0:t.urls,et("social"))}renderEmail(){return n(Xt||(Xt=j(['\n      <div class="api-registration-form-entry-group">\n        ',"\n        ","\n      </div>\n    "])),pt(this.fields.email,{id:"email",type:"email",trackName:et("email")}),this.renderSocial())}renderPassword(){const{password:e,email:t}=this.fields;return((e,t)=>n(ut||(ut=j(['\n    <div class="form-entry text-field">\n      <ll-registration-password\n        id="apiRegistration-password"\n        trackName=',"\n        email=","\n        value=",'\n        .status="','"\n        @change=',"\n        @input=","\n        @blur=","\n        .translations=","\n      >\n      </ll-registration-password>\n    </div>\n  "])),et("password"),t,e.value,(e=>!1===e.valid&&""===e.value?"invalid":"default")(e),e.onChange,e.onChange,e.onBlur,(e=>({registrationPassword_label:e.labelText,registrationPassword_link_show:e.show,registrationPassword_link_hide:e.hide,registrationPassword_inlineLabel_invalid:e.invalid,registrationPassword_validation_lengthAndCoincidence:e.requirements.passwordLengthNotUsername,registrationPassword_validation_mustHaveLowerAndUpperCase:e.requirements.passwordUpperLowerCase,registrationPassword_validation_mustHaveSpecialCharacter:e.requirements.passwordSymbolOrNumber}))(e)))(e,t.value)}renderNationalId(){if(this.isFieldShow("nationalId")){const e={id:"nationalId",trackName:et("nationalId")};return pt(this.fields.nationalId,e)}}renderPassport(){var e,t;if(this.isFieldShow("passport")){const i={id:"passport",trackName:et("passport")};return this.fields.passport.value=null===(t=null===(e=this.fields.passport)||void 0===e?void 0:e.value)||void 0===t?void 0:t.toUpperCase(),pt(this.fields.passport,i)}}renderSalutation(){if(this.isFieldShow("salutation"))return Xe(this.fields.salutation,{id:"salutation",trackName:et("salutation")})}renderNames(){var e;const t={"api-registration-form__section":!0,"api-registration-form__section--name":!0,"api-registration-form__section--with-salutation":this.isFieldShow("salutation")},i=(null===(e=this.config)||void 0===e?void 0:e.nameOrder)||[];return n($t||($t=j(['\n      <div class="','">\n        ',"\n        ","\n      </div>\n    "])),c(t),this.renderSalutation(),i.map(e=>{const t=e;return pt(this.fields[t],{id:e,trackName:et(e)})}))}renderOptionalAddress(e,t){if(void 0===t&&(t=""),this.showOptionalAddress(e))return(e=>{const{addressType:t,fields:i,trackName:s}=e,a=e=>et(t+"Address"+e,s),o=n(St||(St=j(["\n    <div class=",">\n      ","\n      ","\n      ","\n      ","\n    </div>\n  "])),c({"api-registration-form__section":!0,"api-registration-form__section--extended-registration":!0,"api-registration-form__section--extended-registration-optional":!0}),It(e,"AddressStreetName","streetName",a("street")),It(e,"AddressStreetNr","streetNr",a("streetNo")),It(e,"AddressPostCode","postCode",a("postCode")),It(e,"AddressCity","city",a("city"))),r=i[t+"AddressToggle"];return Lt({checked:r.checked||!1,children:o,labelText:r.labelText,onToggle:r.onClick,trackName:a("")})})({addressType:e,trackName:t,fields:this.fields})}renderCZDataBoxId(){if(this.isFieldShow("czDataBoxId")){const{czDataBoxId:e,czDataBoxIdToggle:t}=this.fields,{checked:i,labelText:s,onClick:a}=t,n={trackName:et("czDataBoxId"),checked:i,labelText:s,onToggle:a,children:pt(e,{id:"czDataBoxId",type:"text",trackName:et("czDataBoxId")})};return Lt(n)}}renderAdditionalData(){if(this.showOptionalAddress("additional")||this.showOptionalAddress("mailing")||this.isFieldShow("czDataBoxId"))return n(ei||(ei=j(['\n        <div\n          class="api-registration-form__section api-registration-form__section--optionalCZFields highlight-container"\n        >\n          ',"\n          ","\n          ","\n        </div>\n      "])),this.renderOptionalAddress("additional"),this.renderOptionalAddress("mailing","signUpForm"),this.renderCZDataBoxId())}renderLimitAmounts(){var e;if(this.isFieldShow("limitAmount")&&!(null===(e=this.config)||void 0===e?void 0:e.hideLimitAmount)){this.fields.limitAmount,et("limitAmount");const{limitPeriod:e,limitAmount:t}=this.fields;return(e=>{let{limitPeriod:t,limitAmount:i,showField:s,trackName:a}=e;return n(Kt||(Kt=j(['\n    <div class="form-entry api-registration-form__section">\n      <ll-deposit-limit\n        .fieldConfig="','"\n        .fields="','"\n        trackName="','"\n      ></ll-deposit-limit>\n    </div>\n  '])),(()=>{const e=[];return s("limitPeriod")&&e.push({fieldName:"limitPeriod",required:!1}),s("limitAmount")&&e.push({fieldName:"limitAmount",required:!1}),{applicableFields:e}})(),{limitPeriod:t,limitAmount:i},a)})({trackName:"signUpForm",limitPeriod:e,limitAmount:t,showField:e=>this.isFieldShow(e)})}}renderAcceptNotificationsCheckbox(e){const{descriptionAbove:t,descriptionBelow:i,agree:s,onChange:a}=this.fields.acceptNotifications;return n(ti||(ti=j(['\n      <div\n        class="api-registration-form__section api-registration-form__section--acceptNotifications highlight-container"\n      >\n        <ll-typography class="t-description-above" size="p"\n          >',"</ll-typography\n        >\n        <ll-checkbox\n          trackName=","\n          @change=","\n          ?checked=","\n          >",'</ll-checkbox\n        >\n        <ll-typography class="t-description-below" size="p"\n          >',"</ll-typography\n        >\n      </div>\n    "])),t,e,a,!1,s,i)}renderAcceptNotificationsRadio(e){const{descriptionAbove:t,descriptionBelow:s,agree:a,disagree:o,valid:r,helpText:l,onChange:u}=this.fields.acceptNotifications;return n(ii||(ii=j(['\n      <ll-input-container\n        class="api-registration-form__section api-registration-form__section--acceptNotifications highlight-container"\n        status="','"\n        invalidInlineLabel="','"\n      >\n        <ll-typography class="t-description-above" size="p"\n          >','</ll-typography\n        >\n        <ll-radio-container @change="','">\n          <ll-radio\n            trackName="','"\n            value="agree"\n            >','</ll-radio\n          >\n          <ll-radio\n            trackName="','"\n            value="disagree"\n            >','</ll-radio\n          >\n        </ll-radio-container>\n        <ll-typography class="t-description-below" size="p"\n          >',"</ll-typography\n        >\n      </ll-input-container>\n    "])),!l||r?"default":"invalid",l,t,u,i(e,"agree"),a,i(e,"disagree"),o,s)}renderAcceptNotifications(){if(this.isFieldShow("acceptNotifications")){const e=et("acceptNotifications");return"checkbox"===this.showAcceptNotifications?this.renderAcceptNotificationsCheckbox(e):this.renderAcceptNotificationsRadio(e)}}renderTerms(){if(this.isFieldShow("terms")){const{checked:e,valid:t,onClick:i,helpText:s,labelText:a}=this.fields.terms,o=e=>{const t=e.composedPath()[0];i&&t&&t.tagName&&("slot"===t.tagName.toLowerCase()?e.stopPropagation():i(e))};return n(si||(si=j(['\n        <div\n          class="api-registration-form__section api-registration-form__section--termsCheckbox highlight-container"\n        >\n          <ll-checkbox\n            trackName=',"\n            @click=","\n            ?checked=","\n            status=","\n            invalidInlineLabel=","\n            >","</ll-checkbox\n          >\n        </div>\n      "])),et("termsAndConditions"),o,d(e),!1===t?"invalid":"default",d(s),u(a))}}renderActions(){const{onSubmit:e,labelText:t}=this.fields.cta;return t?n(ai||(ai=j(['\n          <div\n            class="api-registration-form__section api-registration-form__section--submit"\n          >\n            <ll-button\n              trackName=','\n              shape="rectangle"\n              type="primary"\n              size="normal"\n              @click=',"\n              >","</ll-button\n            >\n          </div>\n        "])),et("registerButton"),e,t):null}renderTcContent(){return n(ni||(ni=j(['\n      <div class="tc-content">\n        <slot name="tc-content" />\n      </div>\n    '])))}renderForeignerCheckbox(){if(this.isFieldShow("foreignerCheckbox")){const{onClick:e,labelText:t}=this.fields.foreignerCheckbox;return n(oi||(oi=j([' <div\n        class="api-registration-form__section api-registration-form__section--foreignerCheckbox"\n      >\n        <ll-checkbox\n          trackName=',"\n          @change=","\n          ?checked=","\n          >","</ll-checkbox\n        >\n      </div>"])),et("foreignerCheckbox_"+!this.fields.foreignerCheckbox.checked),e,!1,t)}}renderErrorNotification(){if(this.errorNotification)return n(ri||(ri=j([' <div\n        class="api-registration-form__section api-registration-form__section--errorNotification"\n      >\n        ',"\n      </div>"])),Me(this.errorNotification))}render(){const{mobilePhoneNumber:e,birthdate:t,cityOfBirth:i,country:s,nationality:a,county:o,currency:r,sourceOfFunds:l}=this.fields,{locale:u="en",dateOrder:d=["day","month","year"]}=this.config||{};return n(li||(li=j(['\n      <div class="api-registration-form">\n        '," ","\n        "," ","\n        "," ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        "," ","\n        "," ","\n        "," ","\n      </div>\n    "])),this.renderProposition(),this.renderEmail(),this.renderPassword(),this.renderForeignerCheckbox(),this.renderNationalId(),this.renderPassport(),this.renderNames(),this.conditionalRender("mobilePhoneNumber",()=>pt(e,{id:"mobilePhoneNumber",trackName:et("mobilePhone")})),this.conditionalRender("birthdate",()=>Je(Object.assign({},t,{trackName:et("dob"),dateOrder:d,locale:u}))),this.conditionalRender("cityOfBirth",()=>pt(i,{id:"cityOfBirth",trackName:et("cityOfBirth")})),this.conditionalRender("country",()=>Xe(s,{id:"country",trackName:et("country")})),this.renderAddress(),this.conditionalRender("nationality",()=>Xe(a,{id:"nationality",trackName:et("nationality")})),this.conditionalRender("currency",()=>Xe(r,{id:"currency",trackName:et("currency")})),this.renderAdditionalData(),this.conditionalRender("sourceOfFunds",()=>Xe(l,{id:"sourceOfFunds",trackName:et("sourcefunds")})),this.renderLimitAmounts(),this.renderAcceptNotifications(),this.renderTerms(),this.renderTcContent(),this.renderErrorNotification(),this.renderActions())}};function ci(e){const t=e.constructor;switch(pi(e)){case"Boolean":case"Number":case"String":case"Error":case"Date":return new t(e);case"RegExp":return function(e){const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"Symbol":return i=e,Object(Symbol.prototype.valueOf.call(i));case"Function":return e;default:return null}var i}function pi(e){return Object.prototype.toString.call(e).slice(8,-1)}function hi(e,t){let i=-1;const s=e.length;for(;++i<s;)t(e[i],i);return e}function gi(e,t){if(void 0===t&&(t=new WeakMap),"object"!=typeof e||null==e)return e;const i=pi(e);let s=null;if(t.get(e))return t.get(e);if(t.set(e,s),"Set"!==i&&"Map"!==i&&"Array"!==i&&"Object"!==i)return ci(e);if("Set"===i){s=new Set;return e.forEach(e=>{s.add(gi(e,t))}),s}if("Map"===i){s=new Map;return e.forEach((e,i)=>{s.set(i,gi(e,t))}),s}if("Array"===i){s=[];hi(e,(e,i)=>{s[i]=gi(e,t)})}if("Object"===i){s={};const i=e;hi(Object.keys(i),e=>{s[e]=gi(i[e],t)})}return s}di.styles=ui,P([o({type:Object})],di.prototype,"fields",void 0),P([o({type:Object})],di.prototype,"config",void 0),P([h()],di.prototype,"showAddressResolver",void 0),P([o({type:String})],di.prototype,"showAcceptNotifications",void 0),P([o({type:String})],di.prototype,"errorNotification",void 0),di=P([r("ll-auth-registration-design")],di);const Ai=["label"],mi=t.getMessage,vi=Object.assign({},{"additionalAddress.streetName":"additionalAddressStreetName","additionalAddress.streetNr":"additionalAddressStreetNr","additionalAddress.city":"additionalAddressCity","additionalAddress.postCode":"additionalAddressPostCode"},{"mailingAddress.streetName":"mailingAddressStreetName","mailingAddress.streetNr":"mailingAddressStreetNr","mailingAddress.city":"mailingAddressCity","mailingAddress.postCode":"mailingAddressPostCode"}),fi=e=>e in vi?vi[e]:e,Ci={birthdate:"birthDate",firstname:"firstName",middlename:"middleName",lastname:"lastName",streetName:"street",terms:"termsAndConditions",cta:"registerSubmitButton",mailingAddressStreetName:"mailingAddress_streetName",mailingAddressStreetNr:"mailingAddress_streetNr",mailingAddressPostCode:"mailingAddress_postCode",mailingAddressCity:"mailingAddress_city",mailingAddressToggle:"mailingAddress_label",additionalAddressStreetName:"additionalAddress_streetName",additionalAddressStreetNr:"additionalAddress_streetNr",additionalAddressPostCode:"additionalAddress_postCode",additionalAddressCity:"additionalAddress_city",additionalAddressToggle:"additionalAddress_label",czDataBoxId:"czDataboxId",czDataBoxIdToggle:"czDataBoxId_label"},yi={commonFields:["email","password","salutation","firstname","lastname","birthdate"],addNationalities:function(e,t){let i=[];if(e.nationalities&&e.nationalities.length){i=e.nationalities.map(e=>({label:e.label,value:e.value}));let s=e.nationalities.find(t=>t.countries.indexOf(e.country)>-1);s||(s=e.nationalities[0]),t.nationality.value=s.value}t.nationality.options=i},addCounties:function(e,t){let i=[];e.counties&&e.counties.length&&(i=e.counties.map(e=>({label:e,value:e}))),t.county.options=[t.county.options[0],...i],t.county.value=""},addSourcesOfFunds(e,t){let i=[];e&&e.length&&(i=e.map(e=>({label:e.label,value:e.value}))),t.options=[t.options[0],...i],t.value=""},addLimitConfigs(e,t){let i=[];e&&e.amounts.length&&(i=e.amounts.map(e=>({label:s(e),value:e.toString()}))),t.options=i,t.value=e.preSelectedAmount.toString(),t.noLimit=e.signupAllowUnlimited,window.dispatchEvent(new CustomEvent("apiRegistrationForm:updateLimitFields",{detail:t}))},getApiConfig(t,i){const s=Object.assign({},i.fields),a=Object.assign({},t);delete a.counties,t.callingCode&&(s.mobilePhoneNumber.prefixText="+"+t.callingCode),a.defaultCurrency&&(s.currency.value=a.defaultCurrency),this.addCounties(t,s),this.addNationalities(t,s),this.addSourcesOfFunds(t.sourcesOfFunds,s.sourceOfFunds),t.limitConfigData&&this.addLimitConfigs(t.limitConfigData,s.limitAmount);const n=Object.assign({},i.apiConfig,a,{locale:e.locale});return Object.assign({},i,{fields:s,apiConfig:n})},applyTranslations(e,t){const i=(e,t)=>{const i="components_authentication_registerForm_"+t,s=mi(e,i);return s!="!"+i+"!"?s:""};return Object.assign({},t,{fields:((e,t)=>{const s=gi(e);return Object.keys(s).forEach(e=>{s[e].labelText=i(t,(e=>{const t=Ci[e];return t||e})(e))}),s.salutation.options=[{value:"MR",label:i(t,"salutationMr")},{value:"MRS",label:i(t,"salutationMrs")}],s.password.show=i(t,"passwordShow"),s.password.hide=i(t,"passwordHide"),s.password.invalid=i(t,"passwordInvalid"),s.password.requirements.passwordLengthNotUsername=i(t,"passwordLengthNotUsername"),s.password.requirements.passwordUpperLowerCase=i(t,"passwordUpperLowerCase"),s.password.requirements.passwordSymbolOrNumber=i(t,"passwordSymbolOrNumber"),s.addressResolver=Object.assign({},s.addressResolver,{label:i(t,"resolveAddress_label"),labelText:i(t,"resolveAddress_label"),inlineLabel:i(t,"resolveAddress_inlineLabel"),helpText:i(t,"resolveAddress_helpText"),linkResolveAddressText:i(t,"resolveAddress_linkResolveAddressText"),invalidText:i(t,"resolveAddress_invalidText"),linkManuallyText:i(t,"resolveAddress_linkManuallyText"),loadingText:i(t,"resolveAddress_loading"),noMatchingResultsText:i(t,"resolveAddress_noMatchingResults"),errorText:i(t,"resolveAddress_error")}),s.acceptNotifications=Object.assign({},s.acceptNotifications,{descriptionAbove:i(t,"acceptNotifications_description_above"),descriptionBelow:i(t,"acceptNotifications_description_below"),agree:i(t,"acceptNotifications_agree"),disagree:i(t,"acceptNotifications_disagree")}),s.birthdate=Object.assign({},s.birthdate,{inlineLabel:i(t,"birthDate_inlineLabel"),invalidLabel:i(t,"birthDate_invalidLabel"),daysPlaceholder:i(t,"daysPlaceholder"),monthsPlaceholder:i(t,"monthsPlaceholder"),yearsPlaceholder:i(t,"yearsPlaceholder")}),s.county.options[0]?s.county.options[0].label=i(t,"pleaseSelect"):s.county.options[0]={label:i(t,"pleaseSelect"),value:""},s.sourceOfFunds.options[0]?s.sourceOfFunds.options[0].label=i(t,"pleaseSelect"):s.sourceOfFunds.options[0]={label:i(t,"pleaseSelect"),value:""},s.limitPeriod.options&&s.limitPeriod.options.length>0&&(s.limitPeriod.helpText=i(t,"unlimited"),s.limitPeriod.options=s.limitPeriod.options.map(e=>{let s=O(e,Ai);return Object.assign({},s,{label:i(t,"limitPeriod_"+s.value.toLowerCase())})})),s})(t.fields,e),helpTextContent:(e=>({terms:i(e,"acceptTermsAndConditionsRequired"),nationalId:i(e,"nationalIdValidForZA"),emptyField:i(e,"emptyField"),acceptNotifications:i(e,"acceptNotifications_empty")}))(e)})},addFormFields(e,t){const i=gi(t.apiConfig);i.formFields=e.applicableFields;const s=gi(t.fields);return i.formFields.forEach(e=>{"terms"===e.fieldName&&"true"===e.defaultValue&&void 0===s.terms.valid&&(s.terms.valid=!0,s.terms.checked=!0)}),s.email.validator=e=>{const t=e.email.value;return!t||ee(t)?void 0:"emailInvalid"},s.mobilePhoneNumber.validator=e=>{const t=e.mobilePhoneNumber.value;return!t||(e=>(e=>/^[0-9]*$/.test(e))(e)&&e.length>5)(t)?void 0:"phoneInvalid"},["firstname","middlename","maidenName","lastname","cityOfBirth"].map(e=>e).forEach(e=>{s[e].validator=t=>{const i=t[e].value;return!i||(e=>/^[\s\-A-Za-z---']*$/.test(e))(i)?void 0:"onlyLetterError"}}),["mailingAddressCity","mailingAddressStreetName","mailingAddressStreetNr","mailingAddressPostCode","mailingAddressCity"].map(e=>e).forEach(e=>{s[e].validator=t=>{const i=t[e].value;return!0!==t.mailingAddressToggle.checked||i?void 0:"emptyField"}}),["additionalAddressStreetName","additionalAddressStreetNr","additionalAddressPostCode","additionalAddressCity"].map(e=>e).forEach(e=>{s[e].validator=t=>{const i=t[e].value;return t.additionalAddressToggle.checked&&!i?"emptyField":void 0}}),s.czDataBoxId.validator=e=>{const t=e.czDataBoxId.value;return e.czDataBoxIdToggle.checked&&!t?"emptyField":void 0},Object.assign({},t,{fields:s,apiConfig:i})},setInitialFields(t,i){const s=Object.assign({},i.fields);return s.birthdate.value="",s.salutation.value="MR",s.country.options=(e=>e.countries)(t),s.country.value=$(t),s.nationality.options=[{label:"",value:"",disabled:!0}],s.county.options=[{label:"",value:"",disabled:!0}],s.sourceOfFunds.options=[{label:"",value:"",disabled:!0}],s.limitAmount.options=[{label:"",value:"",disabled:!0}],s.limitPeriod.value="DAY",s.currency.options=(e=>(e.supportedCurrencies||[]).map(e=>({label:e,value:e})))(t),s.currency.value=e.currency,s.password.requirements={passwordUpperLowerCase:"",passwordSymbolOrNumber:"",passwordLengthNotUsername:""},Object.assign({},i,{fields:s})},updateField(e,t,i){const s=Object.assign({},i.fields);return s[e.replace("apiRegistration-","").replace("address-","").replace("limits-","")].value=t,Object.assign({},i,{fields:s})},updateBirthdate(e,t,i){const s=Object.assign({},i.fields);return s.birthdate.helpText="",s.birthdate.valid=!0,s.birthdate.value=t,Object.assign({},i,{fields:s})},updateAgreements(e,t,i){const s=Object.assign({},t.fields),a=s[e];return a.checked="terms"!==e||!s[e].checked,i&&(a.value=i),Object.assign({},t,{fields:this.updateAgreementsValidation(e,s,t.helpTextContent[e])})},updateAgreementsValidation(e,t,i){const s=gi(t);return s[e].valid=t[e].checked,s[e].helpText=t[e].checked?"":i,s},isFieldDisplayed:(e,t)=>e.apiConfig.formFields.some(e=>e.fieldName===t),isRequiredFieldEmpty(e,t){const i=e.replace("apiRegistration-",""),s=t.fields[i],a=!s||!s.value,n=!s||!s.checked;return((e,t)=>e.apiConfig.formFields.some(e=>e.fieldName===t&&e.required))(t,i)&&a&&n},markFieldAsInvalid(e,t){const i=Object.assign({},t.fields),s=e.replace("apiRegistration-","");return i[s].valid=!1,i[s].helpText=t.helpTextContent.emptyField,Object.assign({},t,{fields:i})},resetValidations(e){const t=gi(e.fields);return Object.keys(t).forEach(e=>{this.commonFields.filter(t=>e.includes(t)).length||(t[e].valid=void 0)}),Object.assign({},e,{fields:t})},processValidationResponse(e,t,i){const s=Object.assign({},i.fields),a=e.replace("apiRegistration-",""),n=t.errors;if(s[a].valid=!0,s[a].helpText="limitPeriod"===a?s[a].helpText:"",n)for(let e=0,t=n.length;e<t;e++){const t=n[e];fi(t.field)===a&&(s[a].valid=!1,s[a].helpText=t.message)}return Object.assign({},i,{fields:s})},trimField(e,t){const i=Object.assign({},t.fields),s=i[e.replace("apiRegistration-","")];return s.value="string"==typeof s.value?s.value.trim():s.value,Object.assign({},t,{fields:i})},validateSouthAfricanId(e,t){const i=Object.assign({},t.fields);if(!0===e.valid){const t=Ye.getSouthAfricanIdData(e);i.salutation.value=t.salutation,i.birthdate.value=t.birthdate,i.nationalId.valid=!0,i.nationalId.helpText=""}else i.salutation.value="MR",i.birthdate.value=((new Date).getFullYear()-19).toString()+"0101",i.nationalId.valid=!1,i.nationalId.helpText=t.helpTextContent.nationalId;return Object.assign({},t,{fields:i})},validateForm(e,t){let i=gi(t.fields);const s=gi(t.apiConfig),a=Ze(s.formFields,i);return a.forEach(e=>{const t=e.fieldName;if(i[t]){const e=i[t];e.valid=!0,e.helpText=""}}),a.forEach(e=>{const s=e.fieldName;if(this.isRequiredFieldEmpty(s,t)&&i[s]){const e=i[s];e.valid=!1,e.helpText=t.helpTextContent.emptyField}"terms"===e.fieldName&&(i=this.updateAgreementsValidation("terms",i,t.helpTextContent.terms)),"acceptNotifications"===e.fieldName&&(i=this.updateAgreementsValidation("acceptNotifications",i,t.helpTextContent.acceptNotifications))}),(e=>void 0!==e.errors)(e)&&e.errors.forEach(e=>{const s=fi(e.field);this.isRequiredFieldEmpty(s,t)||(i[s]&&(i[s].valid=!1,i[s].helpText=e.message),"birthdate"!==e.field||"ZA"!==t.fields.country.value&&"ZS"!==t.fields.country.value||(i.nationalId.valid=!1))}),i.terms.valid||(i.terms.helpText=t.helpTextContent.terms),i.acceptNotifications.valid||(i.acceptNotifications.helpText=t.helpTextContent.acceptNotifications),Object.assign({},t,{fields:i})},checkRequiredFields(e){const t=Object.assign({},e.apiConfig);let i=!0;return Ze(t.formFields,e.fields).forEach(t=>{this.isRequiredFieldEmpty(t.fieldName,e)&&(i=!1)}),i}};var wi;let Fi=class extends l{constructor(){super(...arguments),this.fetch=window.fetch.bind(window),this.eventDispatcher=this,this.clientSideBusPublish=y,this.state={apiConfig:{formFields:[]},fields:{email:{labelText:"",value:""},password:{labelText:"",value:"",requirements:{passwordLengthNotUsername:"",passwordSymbolOrNumber:"",passwordUpperLowerCase:""}},nationalId:{labelText:"",value:""},passport:{labelText:"",value:""},cityOfBirth:{labelText:"",value:""},salutation:{value:"",options:[]},birthdate:{day:{value:"",options:[]},month:{value:"",options:[]},year:{value:"",options:[]},value:"",labelText:""},firstname:{labelText:"",value:""},middlename:{labelText:"",value:""},maidenName:{labelText:"",value:""},lastname:{labelText:"",value:""},mobilePhoneNumber:{labelText:"",value:"",prefixText:""},streetName:{labelText:"",value:""},streetNr:{labelText:"",value:""},extraAddressField:{labelText:"",value:""},postCode:{labelText:"",value:""},city:{labelText:"",value:""},country:{labelText:"",options:[],value:""},county:{labelText:"",value:"",options:[]},nationality:{labelText:"",value:"",options:[]},currency:{labelText:"",value:"",options:[]},terms:{labelText:"",checked:!1},cta:{labelText:""},mailingAddressStreetName:{labelText:"",value:""},mailingAddressStreetNr:{labelText:"",value:""},mailingAddressPostCode:{labelText:"",value:""},mailingAddressCity:{labelText:"",value:""},additionalAddressStreetName:{labelText:"",value:""},additionalAddressStreetNr:{labelText:"",value:""},additionalAddressPostCode:{labelText:"",value:""},additionalAddressCity:{labelText:"",value:""},czDataBoxId:{labelText:"",value:""},additionalAddressToggle:{labelText:"",checked:!1},mailingAddressToggle:{labelText:"",checked:!1},czDataBoxIdToggle:{labelText:"",checked:!1},foreignerCheckbox:{labelText:"",checked:!1},sourceOfFunds:{labelText:"",value:"",options:[]},limitAmount:{labelText:"",value:"",options:[]},limitPeriod:{labelText:"",value:"",options:[{label:"",value:"DAY"},{label:"",value:"WEEK"},{label:"",value:"MONTH"}]},addressResolver:{label:"",inlineLabel:"",helpText:"",linkResolveAddressText:"",linkManuallyText:"",invalidText:""},acceptNotifications:{descriptionAbove:"",descriptionBelow:"",agree:"",disagree:"",helpText:"",checked:!1,value:""}},helpTextContent:{nationalId:"",terms:"",acceptNotifications:""}},this.loadingState={event:!1,apiConfig:!1,fields:!1,translations:!1},this.errorNotification="",this.needLoadSeon=!1,this.trackQueryParameters=!1,this.boundSeonEventHandler=this.callSEON.bind(this),this.seonIntegrationEnabled=!1,this.internalConfig=Ge,this.showAcceptNotifications="radio",this.publishLoginMessage=e=>{let{playerId:t,playerFirstName:i,country:s}=e;this.clientSideBusPublish(te,ie(t,i,s),{sticky:!0})},this.publishRegisterMessage=e=>{let{playerId:t,playerFirstName:i,country:s}=e;this.clientSideBusPublish("PlayerRegistered",((e,t,i)=>({payload:{playerId:e,playerFirstName:t,country:i}}))(t,i,s))},this.updateAddress=e=>{const{buildingNumber:t="",city:i="",postalCode:s="",street:a="",county:n="",subBuilding:o=""}=e||{};this.setState(e=>Object.assign({},yi.updateField("streetNr",t,e),yi.updateField("city",i,e),yi.updateField("postCode",s,e),yi.updateField("streetName",a,e),yi.updateField("county",n,e),yi.updateField("extraAddressField",o,e))),[t,i,s,a,n].filter(e=>""!==e).length>0&&(this.validateField("streetNr"),this.validateField("city"),this.validateField("postCode"),this.validateField("streetName"),this.validateField("county"))},this.updateFieldFromEvent=e=>{this.setState(t=>yi.updateField(e.detail.field,e.detail.value,t))}}get config(){return this.internalConfig}set config(e){this.internalConfig=Object.assign({},this.internalConfig,e)}get props(){return{fetch:this.fetch,eventDispatcher:this.eventDispatcher}}async setState(e,t){this.state=Object.assign({},this.state,e(this.state)),await this.updateComplete,t&&t()}async setApiConfig(e){const t=Ye.getApiConfig(e,this.apiConfig);await this.setState(e=>yi.getApiConfig(t,e)),window.dispatchEvent(new CustomEvent("apiRegistrationForm:updateConfig",{detail:t})),window.dispatchEvent(new CustomEvent("ll-registration-form-config-update",{detail:t}))}async getApiConfig(e){var t;void 0===e&&(e=$(this.config)),this.loadingState.apiConfig&&e===(null===(t=this.apiConfig)||void 0===t?void 0:t.country)?await this.setApiConfig(e):(this.apiConfig=await this.authApi.getRegistrationConfig(e),this.seonIntegrationEnabled=this.apiConfig.seonIntegrationEnabled,await this.setApiConfig(e),this.loadingState=Object.assign({},this.loadingState,{apiConfig:!0}))}setFields(){this.setState(e=>yi.addFormFields(this.fieldsConfig,e))}async getFields(e){var t;if(void 0===e&&(e=$(this.config)),this.loadingState.fields&&this.setFields(),this.loadingState.fields&&e===(null===(t=this.apiConfig)||void 0===t?void 0:t.country))return;const i=await this.authApi.getRegistrationFields(e);this.loadingState=Object.assign({},this.loadingState,{fields:!0}),this.fieldsConfig=i,this.setFields()}setTranslations(){this.setState(e=>yi.applyTranslations(this.translations,e))}getTranslations(){this.loadingState.translations?this.setTranslations():this.authApi.getRegistrationTranslations().then(e=>{this.translations=e,this.loadingState=Object.assign({},this.loadingState,{translations:!0}),this.setTranslations()})}setInitialFields(){this.setState(e=>yi.setInitialFields(this.config,e))}addEvents(e){return He({onChange:this.updateField.bind(this),onBlur:this.validateField.bind(this),onDropdownBlur:e=>{this.validateField(e)},onDropdownChange:(e,t)=>{this.updateField(t),this.validateField(e)},onNationalIdBlur:this.validateNationalId.bind(this),onPassportBlur:this.validatePassport.bind(this),onSubmit:this.submitForm.bind(this),onTermsChange:this.toggleTerms.bind(this),onAcceptNotificationsChange:this.updateAcceptNotifications.bind(this),onCzDataBoxChange:this.toggleCzDataBox.bind(this),onForeignerCheckboxChange:this.toggleForeignerCheckbox.bind(this),onAdditionalAddressChange:this.toggleAdditionalAddress.bind(this),onMailingAddressChange:this.toggleMailingAddress.bind(this),onAddressResolveChange:this.updateAddress.bind(this)},e)}updateField(e){const t=e.target||e.currentTarget,i=t.id||t.name,s=t.value||"";this.setState(e=>yi.updateField(i,s,e))}toggleTerms(){this.setState(e=>yi.updateAgreements("terms",e))}updateAcceptNotifications(e){const t=e.detail.value?e.detail.value:e.detail.checked?"agree":"disagree";this.setState(e=>yi.updateAgreements("acceptNotifications",e,t))}toggleCheckbox(e){this.setState(t=>({fields:Object.assign({},t.fields,{[e]:Object.assign({},t.fields[e],{checked:!t.fields[e].checked})})}))}toggleForeignerCheckboxHandler(){this.toggleCheckbox("foreignerCheckbox"),this.state.fields.foreignerCheckbox.checked?this.setState(e=>{const t=e.apiConfig.formFields.filter(e=>"nationalId"!==e.fieldName);t.push({fieldName:"nationality",required:!0},{fieldName:"birthdate",required:!0},{fieldName:"passport",required:!0});return{apiConfig:Object.assign({},e.apiConfig,{formFields:t})}}):this.setState(e=>{const t=e.apiConfig.formFields.filter(e=>"nationality"!==e.fieldName&&"birthdate"!==e.fieldName&&"passport"!==e.fieldName);t.push({fieldName:"nationalId",required:!0});return{apiConfig:Object.assign({},e.apiConfig,{formFields:t})}})}toggleMailingAddress(){this.toggleCheckbox("mailingAddressToggle")}toggleAdditionalAddress(){this.toggleCheckbox("additionalAddressToggle")}toggleCzDataBox(){this.toggleCheckbox("czDataBoxIdToggle")}toggleForeignerCheckbox(){this.toggleForeignerCheckboxHandler()}validateSouthAfricanId(e,t){var i;void 0===t&&(t=()=>{}),(null===(i=this.state.fields.foreignerCheckbox)||void 0===i?void 0:i.checked)?this.setState(e=>{const t=Object.assign({},e.fields);return t.nationalId.valid=!0,Object.assign({},e.fields,{fields:t})},t):e?this.authApi.validateSouthAfricanId(e).then(e=>{this.setState(t=>yi.validateSouthAfricanId(e,t),t)}):t()}resetValidations(){this.setState(e=>yi.resetValidations(e))}onCountryChange(e){this.getApiConfig(e),this.getFields(e)}isCountryValid(){return!1!==this.state.fields.country.valid}getTranslatedText(e){return t.getMessage(this.translations,"components_authentication_registerForm_"+e)}getValidatableField(e){return this.state.fields[e]}async setFieldAsInvalid(e,t){await this.setState(i=>{const{fields:s}=i,a=s[e];return a&&(a.valid=!1,a.helpText=this.getTranslatedText(t)),Object.assign({},i,{fields:s})})}async setFieldAsRequired(e){await this.setState(t=>yi.markFieldAsInvalid(e,t))}isValidationSkippedBecauseInvalidCountry(e){return new Promise(async t=>{t(!(!e.includes("country")&&!this.isCountryValid()&&!yi.commonFields.filter(t=>e.includes(t)).length))})}async clientSideRequiredFieldValidation(e){const t=e,i=this.getValidatableField(t);if(yi.isRequiredFieldEmpty(t,this.state))return await this.setFieldAsRequired(t),!1;if(null==i?void 0:i.validator){const e=i.validator(this.state.fields);return e&&await this.setFieldAsInvalid(t,e),!e}return!0}async clientSideFieldValidation(e){return await this.isValidationSkippedBecauseInvalidCountry(e)&&await this.clientSideRequiredFieldValidation(e)}async serverSideFieldValidation(e){const t=Ye.getDataForSubmission(this.state),i=await this.authApi.validatePlayer(t),s=i.errors||[];if(e.includes("country")&&(this.resetValidations(),!s.some(e=>"country"===e.field))){const e=this.state.fields.country.value;this.onCountryChange(e)}await this.setState(t=>yi.processValidationResponse(e,i,t))}prepareFieldForValidation(e){return new Promise(async t=>{await this.setState(t=>yi.trimField(e,t),t)})}async validateField(e){await this.prepareFieldForValidation(e),await this.clientSideFieldValidation(e)&&await this.serverSideFieldValidation(e)}validateNationalId(){this.setState(e=>yi.trimField("nationalId",e),()=>{this.state.apiConfig.validateSouthAfricanId&&this.state.fields.nationalId.value?this.validateSouthAfricanId(this.state.fields.nationalId.value):this.validateField("nationalId")})}validatePassport(){this.setState(e=>yi.trimField("passport",e),()=>{this.state.apiConfig.canUsePassport&&this.validateField("passport")})}async isFormValid(){let e=!0,t=this.state;for(const t in this.state.fields)e=await this.clientSideFieldValidation(t)&&e;return e&&yi.checkRequiredFields(t)}submitForm(){const{eventDispatcher:e}=this.props;if(!1===this.state.fields.country.valid)return!1;const t=ae(this.state.fields.country.value,this.marketConfig),i=(e,i)=>{this.authApi.registerPlayer(Ye.getDataForSubmission(e),this.trackQueryParameters).then(async s=>{const a=e.fields.email.value,n=e.fields.password.value;if(se(window.dla,a,n),"access_token"in s)if(t){const e=await this.authApi.getSSOToken(void 0,t);A(i,"ll-registration-form-redirect",{token:e.access_token,url:t})}else{A(i,"ll-registration-form-success");const{id:e,firstname:t,country:a}=await this.authApi.getPlayerInfo(s.access_token);this.publishRegisterMessage({playerId:e,playerFirstName:t,country:a}),this.publishLoginMessage({playerId:e,playerFirstName:t,country:a}),localStorage.getItem("obs-bundle-to-assign")&&localStorage.setItem("obs-registered-user","true")}else s.showWelcome?A(i,"ll-registration-form-preregistered"):(A(i,"ll-registration-form-error"),this.setState(e=>yi.validateForm(s,e)))},async e=>{var t;if(403===(null===(t=e.response)||void 0===t?void 0:t.status)){const t=await e.response.json();["serverName_not_valid","self_excluded","access_denied"].includes(t.error)&&(this.errorNotification=t.error_description)}A(i,"ll-registration-form-error")})},s=(e,t)=>{this.authApi.validatePlayer(Ye.getDataForSubmission(e)).then(e=>{A(t,"ll-registration-form-error"),this.setState(t=>yi.validateForm(e,t))})},a=async(e,t)=>{const a=await this.isFormValid(),n=!yi.isFieldDisplayed(e,"terms")||!!e.fields.terms.valid,o=!yi.isFieldDisplayed(e,"acceptNotifications")||!!e.fields.acceptNotifications.valid||"checkbox"===this.showAcceptNotifications;a?n&&o?i(e,t):s(e,t):A(t,"ll-registration-form-error")};"ZA"===this.state.fields.country.value||"ZS"===this.state.fields.country.value?this.validateSouthAfricanId(this.state.fields.nationalId.value,()=>{a(this.state,e)}):a(this.state,e)}updatePrefilledFields(){const e=this.config.prefilledData||{};Object.keys(e).length&&this.setState(t=>Object.assign({},yi.updateField("email",e.email||"",t),yi.updateField("password",e.password||"",t),yi.updateField("firstname",e.firstName||"",t),yi.updateField("lastname",e.lastName||"",t)))}async callSEON(){if(this.needLoadSeon&&this.seonIntegrationEnabled){if(!this.seonApi.isSEONLoaded())try{await this.seonApi.importSEON()}catch(e){return!1}this.seonApi.configSEON(),await this.seonApi.setSessionSEON(),this.needLoadSeon=!1}}addEventsListerner(){const{eventDispatcher:e}=this.props;e.addEventListener("ll-registration-form-loaded",this.boundSeonEventHandler),window.addEventListener("register-open",()=>this.needLoadSeon=!0),window.addEventListener("register-close",()=>this.needLoadSeon=!1)}connectedCallback(){super.connectedCallback(),this.addEventsListerner(),setTimeout(async()=>{this.errorNotification="",this.authApi||(this.authApi=new W(this.fetch,this.apiBaseUrl)),this.seonApi||(this.seonApi=new Ue(this.authApi)),this.state={apiConfig:{formFields:[]},fields:{email:{labelText:"",value:""},password:{labelText:"",value:"",requirements:{passwordLengthNotUsername:"",passwordSymbolOrNumber:"",passwordUpperLowerCase:""}},nationalId:{labelText:"",value:""},passport:{labelText:"",value:""},cityOfBirth:{labelText:"",value:""},salutation:{value:"",options:[]},birthdate:{day:{value:"",options:[]},month:{value:"",options:[]},year:{value:"",options:[]},value:"",labelText:""},firstname:{labelText:"",value:""},middlename:{labelText:"",value:""},maidenName:{labelText:"",value:""},lastname:{labelText:"",value:""},mobilePhoneNumber:{labelText:"",value:"",prefixText:""},streetName:{labelText:"",value:""},streetNr:{labelText:"",value:""},extraAddressField:{labelText:"",value:""},postCode:{labelText:"",value:""},city:{labelText:"",value:""},country:{labelText:"",options:[],value:""},county:{labelText:"",value:"",options:[]},nationality:{labelText:"",value:"",options:[]},currency:{labelText:"",value:"",options:[]},terms:{labelText:"",checked:!1},cta:{labelText:""},mailingAddressStreetName:{labelText:"",value:""},mailingAddressStreetNr:{labelText:"",value:""},mailingAddressPostCode:{labelText:"",value:""},mailingAddressCity:{labelText:"",value:""},additionalAddressStreetName:{labelText:"",value:""},additionalAddressStreetNr:{labelText:"",value:""},additionalAddressPostCode:{labelText:"",value:""},additionalAddressCity:{labelText:"",value:""},czDataBoxId:{labelText:"",value:""},additionalAddressToggle:{labelText:"",checked:!1},mailingAddressToggle:{labelText:"",checked:!1},czDataBoxIdToggle:{labelText:"",checked:!1},foreignerCheckbox:{labelText:"",checked:!1},sourceOfFunds:{labelText:"",value:"",options:[]},limitAmount:{labelText:"",value:"",options:[]},limitPeriod:{labelText:"",value:"",options:[{label:"",value:"DAY"},{label:"",value:"WEEK"},{label:"",value:"MONTH"}]},addressResolver:{label:"",inlineLabel:"",helpText:"",linkResolveAddressText:"",linkManuallyText:"",invalidText:""},acceptNotifications:{descriptionAbove:"",descriptionBelow:"",agree:"",disagree:"",helpText:"",checked:!1,value:""}},helpTextContent:{nationalId:"",terms:"",acceptNotifications:""}},this.setInitialFields(),this.getTranslations(),await this.getApiConfig(),await this.getFields(),this.updatePrefilledFields()}),window.addEventListener("register-open",this.boundSeonEventHandler),window.addEventListener("apiRegistrationForm:updateField",this.updateFieldFromEvent)}disconnectedCallback(){window.removeEventListener("apiRegistrationForm:updateField",this.updateFieldFromEvent),window.removeEventListener("register-open",this.boundSeonEventHandler),window.removeEventListener("register-open",()=>this.needLoadSeon=!0),window.removeEventListener("register-close",()=>this.needLoadSeon=!1),super.disconnectedCallback()}updated(){const{eventDispatcher:e}=this.props,{event:t=!1,apiConfig:i=!1,fields:s=!1,translations:a=!1}=this.loadingState||{};!t&&i&&s&&a&&(this.loadingState=Object.assign({},this.loadingState,{event:!0}),e&&A(e,"ll-registration-form-loaded"))}render(){const{fields:e,apiConfig:t}=this.state;return n(wi||(wi=j(['\n      <ll-auth-registration-design\n        .fields="','"\n        .config="','"\n        showAcceptNotifications="','"\n        errorNotification="','"\n      >\n        <slot name="value-proposition" slot="value-proposition"></slot>\n        <slot name="tc-content" slot="tc-content"></slot>\n      </ll-auth-registration-design>\n    '])),this.addEvents(e),t,this.showAcceptNotifications,this.errorNotification)}};P([h()],Fi.prototype,"state",void 0),P([h()],Fi.prototype,"loadingState",void 0),P([h()],Fi.prototype,"errorNotification",void 0),P([h()],Fi.prototype,"needLoadSeon",void 0),P([o({type:Object})],Fi.prototype,"marketConfig",void 0),P([o({type:Boolean})],Fi.prototype,"trackQueryParameters",void 0),P([o({type:Object,converter:p})],Fi.prototype,"config",null),P([o({type:String})],Fi.prototype,"showAcceptNotifications",void 0),P([o()],Fi.prototype,"apiBaseUrl",void 0),Fi=P([r("ll-auth-registration")],Fi);var bi,Di,Ei=a`.terms-update-cta ll-button{margin-bottom:24px;margin-top:40px}.terms-update-cta ll-link{color:var(--ll-color-brand-primary);text-decoration:underline}.terms-update-cta ll-link:hover{color:var(--ll-color-brand-primary-dark)}.terms-update-description ll-link{text-decoration:underline}.terms-update-description ul{padding-inline-start:32px}.terms-update-description li{padding-left:8px}.terms-update-description p{margin-top:24px;margin-bottom:24px}`;let Mi=Di=class extends l{constructor(){super(...arguments),this.trackName=""}static getMessage(e){return t.getMessage(T,e)}agree(){A(this,"ll-terms-update-agree")}disagree(){A(this,"ll-terms-update-disagree")}render(){return n(bi||(bi=j(['\n      <div class="terms-update">\n        <div class="terms-update-description">\n          ','\n        </div>\n        <ll-cta-group stacked class="terms-update-cta">\n          <ll-button\n            @click="','"\n            trackName="','"\n            >','</ll-button\n          >\n          <ll-link\n            @click="','"\n            trackName="','"\n          >\n            ',"\n          </ll-link>\n        </ll-cta-group>\n      </div>\n    "])),u(Di.getMessage("termsUpdateDescription")),this.agree,i(this.trackName,"acceptT&Cs"),Di.getMessage("termsUpdateAgree"),this.disagree,i(this.trackName,"refuseT&Cs"),Di.getMessage("termsUpdateDisagree"))}};Mi.styles=Ei,P([o({type:String})],Mi.prototype,"trackName",void 0),Mi=Di=P([r("ll-terms-update")],Mi);var Ti,ki,Ni=a`.account-closure ll-status-message{margin-top:16px;margin-bottom:24px}.account-closure ll-checkbox{font-weight:500}.account-closure-description{margin-bottom:24px}.account-closure-description ul{padding-inline-start:32px}.account-closure-description li{padding-left:8px}.account-closure-cta{padding-top:40px;display:block}.account-closure-cta ll-button{margin-bottom:16px}.account-closure-cta ll-link{color:var(--ll-color-brand-primary);text-decoration:underline}.account-closure-cta ll-link:hover{color:var(--ll-color-brand-primary-dark)}`;let xi=ki=class extends l{constructor(){super(...arguments),this.trackName="",this.accepted=!1}static getMessage(e){return t.getMessage(T,e)}onChange(e){this.accepted=e.detail.checked}confirm(){A(this,"ll-account-closure-confirm")}cancel(){A(this,"ll-account-closure-cancel")}render(){return n(Ti||(Ti=j(['\n      <div class="account-closure">\n        <ll-status-message level="warning">\n          ','\n        </ll-status-message>\n        <div class="account-closure-description">\n          ','\n        </div>\n        <ll-checkbox\n          trackName="','"\n          @change="','"\n        >\n          ','\n        </ll-checkbox>\n        <ll-cta-group stacked class="account-closure-cta">\n          <ll-button\n            @click="','"\n            ?disabled="','"\n            trackName="','"\n          >\n            ','\n          </ll-button>\n          <ll-link\n            @click="','"\n            trackName="','"\n          >\n            ',"\n          </ll-link>\n        </ll-cta-group>\n      </div>\n    "])),ki.getMessage("accountClosureNotification"),u(ki.getMessage("accountClosureDescription")),i(this.trackName,"closeAccountCheckbox_"+!this.accepted),this.onChange,ki.getMessage("accountClosureCheckboxLabel"),this.confirm,!this.accepted,i(this.trackName,"closeAccount"),ki.getMessage("accountClosureConfirm"),this.cancel,i(this.trackName,"cancelCloseAccount"),ki.getMessage("accountClosureCancel"))}};xi.styles=Ni,P([o({type:String})],xi.prototype,"trackName",void 0),P([h()],xi.prototype,"accepted",void 0),xi=ki=P([r("ll-account-closure")],xi);const Bi=e=>{const t=Object.assign({},e);return Object.keys(t).forEach(e=>{var i;t[e]=null===(i=t[e])||void 0===i?void 0:i.trim()}),t};var Li,Si=a`.address-update ll-address{margin-bottom:40px}.address-update-country{margin:24px 0}.address-update-cta ll-button{margin-bottom:16px}.address-update-cta ll-link{color:var(--ll-color-brand-primary);text-decoration:underline}.address-update-cta ll-link:hover{color:var(--ll-color-brand-primary-dark)}`;const Ii=["streetName","streetNr","postCode","city"];let Oi=class extends l{constructor(){super(...arguments),this.fetch=window.fetch.bind(window),this.translations={},this.country="",this.trackName="",this.token="",this.addressFieldsConfig={applicableFields:[]},this.playerInfo={},this.addressConfig={},this.address={},this.addressFields={},this.saveDisabled=!1}getMessage(e){return this.translations[e]||""}async save(){this.saveDisabled=!0;const e=this.address,{errors:t}=await this.validateAddress();(null==t?void 0:t.length)?(Object.keys(this.addressFields).forEach(e=>{this.setFieldValid(e)}),t.forEach(e=>{const t=e.field;this.setFieldInvalid(t,e.message)}),this.requestUpdate(),this.saveDisabled=!1):A(this,"ll-address-update-save",{addressData:e})}logout(){A(this,"ll-address-update-logout")}async getRegistrationConfig(){const e=await this.authApi.getRegistrationConfig(this.country);this.addressConfig={streetOrder:e.streetOrder}}getAddressFields(){const e=Object.assign({},this.addressFields);return[...Ii,"extraAddressField"].forEach(t=>{const i=t;if(this.addressFieldsConfig.applicableFields.some(e=>e.fieldName===i)){const s={value:this.address[t]||"",labelText:""};e[i]=Object.assign({},e[i],s)}}),this.addressFields=e,e}initiateAddressFields(){const e=e=>()=>{this.onBlurEvent(e)};[...Ii,"extraAddressField"].forEach(t=>{((e,t,i)=>{const s=t,a={onBlur:i,labelText:""};e[s]=Object.assign({},e[s],a),e[s]&&(e[s].onBlur=i)})(this.addressFields,t,e(t))})}onBlurEvent(e){var t;const i=e;if(!(null===(t=this.addressFields[i])||void 0===t?void 0:t.value)){const e="extraAddressField"===i,t=e?"":this.getMessage("emptyField"),s=!!e&&void 0;return this.addressFields[i].helpText=t,this.addressFields[i].valid=s,void this.requestUpdate()}this.validateAddress().then(e=>{const{errors:t}=e,s=null==t?void 0:t.find(e=>e.field==i);s?this.setFieldInvalid(i,s.message):this.setFieldValid(i),this.requestUpdate()})}setFieldInvalid(e,t){this.addressFields[e].valid=!1,this.addressFields[e].helpText=t}setFieldValid(e){this.addressFields[e].valid=!0,this.addressFields[e].helpText=""}async validateAddress(){const e=this.country,t=Bi(Object.assign({country:e},this.address));return this.authApi.validateAddress(t)}onAddressChange(e){const t=this.address.city;this.address=e.detail,!e.detail.city&&t&&(this.address.city=t)}connectedCallback(){super.connectedCallback(),setTimeout(async()=>{this.authApi||(this.authApi=new W(this.fetch)),await this.getRegistrationConfig();const{streetName:e,streetNr:t,city:i,postCode:s,extraAddressField:a}=this.playerInfo;this.address={streetName:e,streetNr:t,city:i,postCode:s,extraAddressField:a},this.initiateAddressFields()})}render(){return n(Li||(Li=j(['\n      <div class="address-update">\n        <slot name="notification-top"></slot>\n        <div class="address-update-country">\n          <ll-typography size="p">\n            ','\n          </ll-typography>\n          <ll-typography size="p">\n            <strong>','</strong>\n          </ll-typography\n        </div>\n        <ll-address\n          @addressChange="','"\n          .config="','"\n          .fieldConfig="','"\n          .fields="','"\n          trackName="','"\n        ></ll-address>\n        <ll-cta-group stacked class="address-update-cta">\n          <ll-button \n          @click="','" \n          ?disabled="','" \n          trackName="','">\n            ','\n          </ll-button>\n          <ll-link @click="','" trackName="','">\n            ',"\n          </ll-link>\n        </ll-cta-group>\n      </div>\n    "])),this.getMessage("addressUpdateCountry"),t.getMessage(b,this.country),this.onAddressChange,this.addressConfig,this.addressFieldsConfig,this.getAddressFields(),this.trackName,this.save,this.saveDisabled,i(this.trackName,"updateAccount"),this.getMessage("addressUpdateSave"),this.logout,i(this.trackName,"cancelUpdateAccount"),this.getMessage("addressUpdateLogout"))}};var ji,Pi,_i,Ui,zi;Oi.styles=Si,P([o({type:Object})],Oi.prototype,"translations",void 0),P([o({type:String})],Oi.prototype,"country",void 0),P([o({type:String})],Oi.prototype,"trackName",void 0),P([o({type:String})],Oi.prototype,"token",void 0),P([o({type:Object})],Oi.prototype,"addressFieldsConfig",void 0),P([o({type:Object})],Oi.prototype,"playerInfo",void 0),P([h()],Oi.prototype,"addressConfig",void 0),P([h()],Oi.prototype,"address",void 0),P([h()],Oi.prototype,"addressFields",void 0),P([h()],Oi.prototype,"saveDisabled",void 0),Oi=P([r("ll-address-update")],Oi);let Ri=zi=class extends l{constructor(){super(...arguments),this.fetch=window.fetch.bind(window),this.show="termsUpdate",this.country="",this.trackName="updateForm",this.visible=!1,this.token="",this.redirectUrl="",this.backText="",this.addressFieldsConfig={applicableFields:[]},this.playerInfo={},this.eventDispatcher=this,this.addressUpdateTranslations={addressUpdateCountry:t.getMessage(T,"accountUpdateCountry"),addressUpdateSave:t.getMessage(T,"accountUpdateSave"),addressUpdateLogout:t.getMessage(T,"accountUpdateLogout"),emptyField:t.getMessage(T,"emptyField")}}get props(){return{eventDispatcher:this.eventDispatcher}}static getMessage(e){return t.getMessage(T,e)}renderContent(){switch(this.show){case"termsUpdate":return n(ji||(ji=j(['<ll-terms-update\n          @ll-terms-update-agree="','"\n          @ll-terms-update-disagree="','"\n          trackName="','"\n        ></ll-terms-update>'])),this.onTermsAgree,this.onTermsDisagree,this.trackName);case"accountUpdate":return n(Pi||(Pi=j(['<ll-address-update\n          country="','"\n          .translations="','"\n          .addressFieldsConfig="','"\n          .playerInfo="','"\n          .fetch="','"\n          trackName="','"\n          token="','"\n          @ll-address-update-logout="','"\n          @ll-address-update-save="','"\n        >\n          <ll-status-message level="info" slot="notification-top">\n            ',"\n          </ll-status-message>\n        </ll-address-update>"])),this.country,this.addressUpdateTranslations,this.addressFieldsConfig,this.playerInfo,this.fetch,this.trackName,this.token,this.onLogout,this.onAcceptTC,zi.getMessage("accountUpdateInfo"));case"accountClosure":return n(_i||(_i=j(['<ll-account-closure\n          @ll-account-closure-cancel="','"\n          @ll-account-closure-confirm="','"\n          trackName="','"\n        ></ll-account-closure>'])),this.onAccountClosureCancel,this.onAccountClosureAccept,this.trackName)}}getTitle(){const e=this.show+"Title";return zi.getMessage(e)}async onTermsAgree(){await this.getPlayerInfo(this.token),this.shouldUpdateAccount()?(this.show="accountUpdate",this.backText=""):this.onAcceptTC()}async getPlayerInfo(e){const t=await this.authApi.getPlayerInfo(e);this.playerInfo=t,t.area&&(this.playerInfo.extraAddressField=t.area),this.country=this.country||this.playerInfo.country||"",this.addressFieldsConfig=await this.authApi.getRegistrationFields(this.country)}shouldUpdateAccount(){return e=this.addressFieldsConfig,Ii.every(t=>e.applicableFields.some(e=>e.fieldName.toLowerCase()==t.toLowerCase()))&&!(e=>Ii.every(t=>e[t]))(this.playerInfo);var e}onTermsDisagree(){this.show="accountClosure",this.backText=zi.getMessage("accountClosureBack")}onAccountClosureCancel(){this.show="termsUpdate",this.backText=""}async onAccountClosureAccept(){const{eventDispatcher:e}=this.props,t={azureFlowApproved:!1,token:this.token};await this.authApi.tcAcceptance(t),A(e,"ll-terms-update-journey-account-closure-accept")}async onAcceptTC(e){const{eventDispatcher:t}=this.props,i={azureFlowApproved:!0,token:this.token};if(null==e?void 0:e.detail.addressData){const{addressData:t}=e.detail;t.country=this.country,i.addressData=Bi(t)}this.authApi.tcAcceptance(i).then(async e=>{const i=e.errors;if(!(null==i?void 0:i.length)){const i=e.reKycFlowNeeded;let s=e.access_token;const a={reKycFlowNeeded:i,redirectUrl:this.redirectUrl,token:s,country:this.country};!i&&this.redirectUrl&&(a.token=(await this.authApi.getSSOToken(void 0,this.redirectUrl)).access_token),A(t,"ll-terms-update-journey-accept",a)}})}async onLogout(){const{eventDispatcher:e}=this.props;A(e,"ll-terms-update-journey-not-accept")}connectedCallback(){super.connectedCallback(),setTimeout(async()=>{this.authApi||(this.authApi=new W(this.fetch))})}render(){return n(Ui||(Ui=j(["\n      <ll-modal\n        ?visible=","\n        ?hideclose=",'\n        backtext="','"\n        @modal-back="','"\n        trackName="','"\n      >\n        <div slot="title">','</div>\n        <div class="terms-update-journey">',"</div>\n      </ll-modal>\n    "])),this.visible,!0,this.backText,this.onAccountClosureCancel,this.trackName,this.getTitle(),this.renderContent())}};P([o({type:String})],Ri.prototype,"show",void 0),P([o({type:String})],Ri.prototype,"country",void 0),P([o({type:String})],Ri.prototype,"trackName",void 0),P([o({type:Boolean})],Ri.prototype,"visible",void 0),P([o({type:String})],Ri.prototype,"token",void 0),P([o({type:String})],Ri.prototype,"redirectUrl",void 0),P([h()],Ri.prototype,"backText",void 0),P([h()],Ri.prototype,"addressFieldsConfig",void 0),P([h()],Ri.prototype,"playerInfo",void 0),Ri=zi=P([r("ll-terms-update-journey")],Ri);var Qi,Vi,qi=a`.show-address,.show-address-description{text-align:center}.show-address p{font-weight:600}.show-address-cta ll-button{margin:24px 0}`;let Zi=Vi=class extends l{constructor(){super(...arguments),this.fetch=window.fetch.bind(window),this.country="",this.trackName="",this.token="",this.addressFieldsConfig={applicableFields:[]},this.addressConfig={},this.playerInfo={},this.confirmDisabled=!1,this.eventDispatcher=this}get props(){return{eventDispatcher:this.eventDispatcher}}static getMessage(e){return t.getMessage(k,e)}getAddress(){return""+this.getStreet()+this.getExtraAddress()+", \n    "+this.playerInfo.postCode+", \n    "+this.playerInfo.city}getStreet(){var e;return(null===(e=this.addressConfig.streetOrder)||void 0===e?void 0:e.length)?this.addressConfig.streetOrder.map(e=>this.playerInfo[e]).join(", "):this.playerInfo.streetName+", "+this.playerInfo.streetNr}getExtraAddress(){return this.playerInfo.extraAddressField?", "+this.playerInfo.extraAddressField:""}confirmAddress(){this.confirmDisabled=!0,A(this,"ll-rekyc-show-address-confirm")}updateAddress(){A(this,"ll-rekyc-show-address-update")}connectedCallback(){super.connectedCallback(),setTimeout(async()=>{this.authApi||(this.authApi=new W(this.fetch))})}render(){return n(Qi||(Qi=j(['\n      <div class="show-address-container">\n        <div class="show-address">\n          <ll-typography size="h6">\n            <p>','</p>\n          </ll-typography>\n        </div>\n        <div class="show-address-description">\n          <ll-typography size="p">\n            <p>\n              ','\n            </p>\n          </ll-typography>\n        </div>\n        <ll-cta-group stacked class="show-address-cta">\n          <ll-button\n            @click="','"\n            ?disabled="','"\n            trackName="','"\n            >','</ll-button\n          >\n          <ll-link\n            @click="','"\n            trackName="','"\n          >\n            ',"\n          </ll-link>\n        </ll-cta-group>\n      </div>\n    "])),this.getAddress(),u(Vi.getMessage("showAddressDescription")),this.confirmAddress,this.confirmDisabled,i(this.trackName,"confirmAddress"),Vi.getMessage("showAddressConfirm"),this.updateAddress,i(this.trackName,"updateAddress"),Vi.getMessage("showAddressUpdate"))}};var Yi,Gi,Hi,Ki;Zi.styles=qi,P([o({type:String})],Zi.prototype,"country",void 0),P([o({type:String})],Zi.prototype,"trackName",void 0),P([o({type:String})],Zi.prototype,"token",void 0),P([o({type:Object})],Zi.prototype,"addressFieldsConfig",void 0),P([o({type:Object})],Zi.prototype,"addressConfig",void 0),P([o({type:Object})],Zi.prototype,"playerInfo",void 0),P([h()],Zi.prototype,"confirmDisabled",void 0),Zi=Vi=P([r("ll-rekyc-show-address")],Zi);let Ji=Ki=class extends l{constructor(){super(...arguments),this.fetch=window.fetch.bind(window),this.show="showAddress",this.country="",this.trackName="reKyc",this.visible=!1,this.token="",this.redirectUrl="",this.addressFieldsConfig={applicableFields:[]},this.addressConfig={},this.playerInfo={},this.eventDispatcher=this,this.addressUpdateTranslations={addressUpdateCountry:t.getMessage(k,"addressUpdateCountry"),addressUpdateSave:t.getMessage(k,"addressUpdateSave"),addressUpdateLogout:t.getMessage(k,"addressUpdateLogout"),emptyField:t.getMessage(k,"emptyField")}}get props(){return{eventDispatcher:this.eventDispatcher}}static getMessage(e){return t.getMessage(k,e)}getTitle(){const e=this.show+"Title";return Ki.getMessage(e)}renderContent(){switch(this.show){case"showAddress":return n(Yi||(Yi=j(['<ll-rekyc-show-address\n          @ll-rekyc-show-address-confirm="','"\n          @ll-rekyc-show-address-update="','"\n          .playerInfo="','"\n          .addressConfig="','"\n          trackName="','"\n        ></ll-rekyc-show-address>'])),this.confirmAddress,this.updateAddress,this.playerInfo,this.addressConfig,this.trackName);case"updateAddress":return n(Gi||(Gi=j(['<ll-address-update\n          country="','"\n          .translations="','"\n          .addressFieldsConfig="','"\n          .playerInfo="','"\n          .fetch="','"\n          trackName="','"\n          token="','"\n          @ll-address-update-logout="','"\n          @ll-address-update-save="','"\n        ></ll-address-update>'])),this.country,this.addressUpdateTranslations,this.addressFieldsConfig,this.playerInfo,this.fetch,this.trackName,this.token,this.onLogout,this.save)}}async confirmAddress(){const{eventDispatcher:e}=this.props,t=(await this.authApi.reKycConfirmAddress({token:this.token})).errors;if(!(null==t?void 0:t.length)){const{access_token:t}=this.redirectUrl?await this.authApi.getSSOToken(void 0,this.redirectUrl):{access_token:this.token};A(e,"ll-rekyc-journey-confirm",{token:t,redirectUrl:this.redirectUrl})}}updateAddress(){this.show="updateAddress"}async getPlayerInfo(e){const i=await this.authApi.getPlayerInfo(e);if(this.playerInfo=i,i.area&&(this.playerInfo.extraAddressField=i.area),this.country=this.country||this.playerInfo.country||"",this.addressFieldsConfig=await this.authApi.getRegistrationFields(this.country),!i.city&&!this.playerInfo.city&&(this.playerInfo.country||this.country)){const e=this.playerInfo.country||this.country,i=t.getMessage(b,e);this.playerInfo.city=i}}async getRegistrationConfig(){const e=await this.authApi.getRegistrationConfig(this.country);this.addressConfig={streetOrder:e.streetOrder}}async save(e){const{eventDispatcher:t}=this.props,i={token:this.token};if(null==e?void 0:e.detail.addressData){const{addressData:t}=e.detail;t.country=this.country,i.addressData=Bi(t)}this.authApi.reKycUpdateAddress(i).then(async e=>{const i=e.errors;if(!(null==i?void 0:i.length)){const{access_token:e}=this.redirectUrl?await this.authApi.getSSOToken(void 0,this.redirectUrl):{access_token:""};A(t,"ll-rekyc-journey-address-update",{token:e,redirectUrl:this.redirectUrl})}})}async onLogout(){const{eventDispatcher:e}=this.props;A(e,"ll-rekyc-journey-logout")}connectedCallback(){super.connectedCallback(),setTimeout(async()=>{this.authApi||(this.authApi=new W(this.fetch)),this.requestUpdate()})}async updated(){this.authApi&&this.token&&!Object.entries(this.playerInfo).length&&(await this.getPlayerInfo(this.token),await this.getRegistrationConfig())}render(){return n(Hi||(Hi=j(["\n      <ll-modal\n        ?visible=","\n        ?hideclose=",'\n        trackName="','"\n      >\n        <div slot="title">','</div>\n        <div class="rekyc-journey">',"</div>\n      </ll-modal>\n    "])),this.visible,!0,this.trackName,this.getTitle(),this.renderContent())}};P([o({type:String})],Ji.prototype,"show",void 0),P([o({type:String})],Ji.prototype,"country",void 0),P([o({type:String})],Ji.prototype,"trackName",void 0),P([o({type:Boolean})],Ji.prototype,"visible",void 0),P([o({type:String})],Ji.prototype,"token",void 0),P([o({type:String})],Ji.prototype,"redirectUrl",void 0),P([h()],Ji.prototype,"addressFieldsConfig",void 0),P([h()],Ji.prototype,"addressConfig",void 0),P([h()],Ji.prototype,"playerInfo",void 0),Ji=Ki=P([r("ll-rekyc-journey")],Ji);var Wi=a`.verify-now-notification{margin-bottom:16px}`;var Xi,$i,es,ts,is,ss;let as=class extends l{constructor(){super(...arguments),this.fetch=window.fetch.bind(window),this.apiBaseUrl="",this.urlRedirect="",this.invisible=!1,this.isPlayerVerified=!1,this.shouldRender=!1,this.clientSideBusPublish=y}getMessage(e){return t.getMessage(N,e)}connectedCallback(){super.connectedCallback(),setTimeout(async()=>{this.authApi||(this.authApi=new W(this.fetch)),await this.apiCallShouldRender()})}async apiCallShouldRender(){this.shouldRender=!1;try{const e=await this.authApi.isPlayerVerified(this.apiBaseUrl);if(this.isPlayerVerified=e,this.isPlayerVerified){const{id:e}=await this.authApi.getPlayerInfo(void 0,this.apiBaseUrl);e&&this.clientSideBusPublish("PlayerVerified",{payload:{playerId:e}},{sticky:!0})}else this.shouldRender=!0}catch(e){}}renderComponent(){return n(Xi||(Xi=j(["","","",""])),this.renderAjaxNavigator(),this.renderNotification(),this.renderCta())}renderNotification(){return n($i||($i=j(['<ll-status-message\n      class="verify-now-notification"\n      level="error"\n    >\n      ',"\n    </ll-status-message>"])),this.getMessage("verifyNowNotification"))}renderCta(){return n(es||(es=j(['<ll-cta-group>\n      <ll-button\n        trackname="','"\n        @click="','"\n        style="width: 100%"\n      >\n        ',"\n      </ll-button>\n    </ll-cta-group>"])),"auth_verifyNow",this.sendToVerify,this.getMessage("verifyNowButton"))}renderAjaxNavigator(){return this.shouldRenderAjaxNavigator()?n(ts||(ts=j(["<cms-ajax-navigator></cms-ajax-navigator>"]))):n(is||(is=j([""])))}shouldRenderAjaxNavigator(){return!window.customElements.get("cms-ajax-navigator")}sendToVerify(){const e=function(e){const t='[href="'+e+'"]',i=document.querySelector(t),s=null==i?void 0:i.closest("cms-navigation-wrapper"),a=i?function(e){const t=e.tagName.toLowerCase(),i=e.getAttribute("href"),s=e.id,a=e.classList;if(s&&""!==s)return"#"+s;let n=t;a.length>0&&a.forEach(e=>{n=n+"."+e});i&&""!==i&&(n=n+'[href="'+i+'"]');return n}(i):t;return{contentNodeSelectors:s&&s.contentNodeSelectors?s.contentNodeSelectors.split(","):["body"],requesterId:s&&s.navigatorUniqueId?s.navigatorUniqueId:"kenogoNavigationWrapper",requestUrl:e,triggerIdSelector:a}}(this.urlRedirect),{contentNodeSelectors:t,requesterId:i,requestUrl:s,triggerIdSelector:a}=e;this.clientSideBusPublish("AjaxNavigationRequested",((e,t,i,s)=>({payload:{contentNodeSelectors:e,requesterId:t,requestUrl:i,triggerIdSelector:s}}))(t,i,s,a))}render(){if(!this.invisible&&this.shouldRender)return n(ss||(ss=j(["",""])),this.renderComponent())}};as.styles=Wi,P([o({type:String})],as.prototype,"apiBaseUrl",void 0),P([o({type:String})],as.prototype,"urlRedirect",void 0),P([o({type:Boolean,reflect:!0})],as.prototype,"invisible",void 0),P([f()],as.prototype,"isPlayerVerified",void 0),P([f()],as.prototype,"shouldRender",void 0),as=P([r("ll-auth-verify")],as);var ns=a`.logo{width:112px}`;var os,rs,ls,us,ds,cs,ps,hs=a`.help-description,ll-status-message,ll-text-input{margin-bottom:16px}.description{text-align:center}.help-description{text-align:justify}.customer-support-link{margin-top:16px}`;let gs=class extends l{constructor(){super(...arguments),this.fetch=window.fetch.bind(window),this.apiBaseUrl="",this.email="",this.errorLabel="",this.status="default"}getMessage(e){return t.getMessage(B,e)}connectedCallback(){super.connectedCallback(),setTimeout(async()=>{this.authApi||(this.authApi=new W(this.fetch))})}renderDescription(){return n(os||(os=j(['<ll-typography size="p" class="description">\n      ',"\n    </ll-typography>"])),this.getMessage("description"))}renderInput(){return n(rs||(rs=j(['<ll-text-input\n      id="','"\n      type="text"\n      trackName="','"\n      trackListeners="focusin,change"\n      label=',"\n      @change=","\n      @input=",'\n      value="','"\n      status="','"\n      invalidInlineLabel="','"\n    >\n    </ll-text-input>'])),"forgot-password","forgotPassword",this.getMessage("email"),this.onChangeEmail,this.onChangeEmail,d(this.email),this.status,this.errorLabel)}onChangeEmail(e){this.status="default",this.errorLabel="";const t=e.target;this.email=t.value}renderEmailSent(){return"valid"===this.status?n(ls||(ls=j([' <ll-status-message level="success">\n        ',"\n      </ll-status-message>"])),this.getMessage("emailSent")):n(us||(us=j([""])))}renderHelpDescription(){return n(ds||(ds=j(['<ll-typography class="help-description" size="sp">\n      ',"\n    </ll-typography>"])),this.getMessage("helpDescription"))}renderButton(){return n(cs||(cs=j(['<ll-cta-group>\n      <ll-button\n        trackname="','"\n        @click="','"\n        ?disabled="','"\n        style="width: 100%"\n      >\n        ',"\n      </ll-button>\n    </ll-cta-group>"])),"forgotPasswordSent",this.sendForgotPassword,!this.email,this.getMessage("sendLinkButton"))}async sendForgotPassword(){this.authApi.forgotPassword(this.apiBaseUrl,this.email).then(e=>{e.ok||200===e.status?(this.showSuccess(),this.email=""):this.showError()}).catch(e=>{this.showError()})}showSuccess(){this.status="valid"}showError(){this.status="invalid",this.errorLabel=this.getMessage("errorLabel")}render(){return n(ps||(ps=j(["","","","\n    ","",""])),this.renderDescription(),this.renderInput(),this.renderEmailSent(),this.renderHelpDescription(),this.renderButton())}};gs.styles=hs,P([o({type:String})],gs.prototype,"apiBaseUrl",void 0),P([h()],gs.prototype,"email",void 0),P([h()],gs.prototype,"errorLabel",void 0),P([h()],gs.prototype,"status",void 0),gs=P([r("ll-forgot-password")],gs);var As,ms,vs,fs,Cs,ys,ws;let Fs=ws=class extends l{constructor(){super(...arguments),this.fetch=window.fetch.bind(window),this.visible=!1,this.identUrl="/forgotPassword",this.selectedView="login",this.trackName="authModal",this.site="lottoland",this.kenoLogoUrl="",this.apiBaseUrl="",this.passwordReset=!1,this.registrationTrackQueryParameters=!1,this.clientSideBusSubscribe=w,this.clientSideBusUnsubscribe=F,this.subscribeModalToken="",this.subscribeLoginToken="",this.subscribeOpenModal=()=>{this.subscribeModalToken=this.clientSideBusSubscribe("AuthRequested",(e,t)=>{const{view:i}=t.payload;this.visible=!0,this.selectedView=i})},this.subscribeCloseActions=()=>{this.subscribeLoginToken=this.clientSideBusSubscribe(te,(e,t)=>{this.visible=!1})}}static getMessage(e){return t.getMessage(x,e)}backLinkHandler(e){switch(this.selectedView){case"login":this.selectedView="register";break;default:this.selectedView="login"}}closeModal(){this.visible=!1}clickForgotHandler(){this.selectedView="forgotPassword"}async connectedCallback(){super.connectedCallback(),this.authApi||(this.authApi=new W(this.fetch,this.apiBaseUrl));const e=$();this.config||(this.config=await this.authApi.getRegistrationConfig(e)),window.addEventListener("modal-close",this.closeModal.bind(this)),window.addEventListener("modal-back",this.backLinkHandler.bind(this)),window.addEventListener("ll-login-form-forgotPassword",this.clickForgotHandler.bind(this)),this.subscribeOpenModal(),this.subscribeCloseActions(),setTimeout(()=>this.shouldTriggerResetPassword(),1e3)}disconnectedCallback(){window.removeEventListener("modal-back",this.backLinkHandler),window.removeEventListener("modal-close",this.closeModal),window.removeEventListener("ll-login-form-forgotPassword",this.clickForgotHandler),this.clientSideBusUnsubscribe(this.subscribeModalToken),this.clientSideBusUnsubscribe(this.subscribeLoginToken),super.disconnectedCallback()}showLogin(){return n(As||(As=j(['\n      <ll-auth-login\n        apiBaseUrl="','"\n        .config=',"\n        ?passwordReset=","\n      />\n    "])),this.apiBaseUrl,this.marketConfig,this.passwordReset)}showRegister(){return n(ms||(ms=j(['\n      <ll-auth-registration\n        apiBaseUrl="','"\n        ?trackQueryParameters="','"\n        .config=',"\n        .marketConfig=",'\n      >\n        <slot name="tc-content-registration" slot="tc-content"></slot>\n      </ll-auth-registration>\n    '])),this.apiBaseUrl,this.registrationTrackQueryParameters,this.config,this.marketConfig)}showForgotPassword(){return n(vs||(vs=j([' <ll-forgot-password apiBaseUrl="','" /> '])),this.apiBaseUrl)}showResetPassword(){return n(fs||(fs=j(["\n      <ll-reset-password\n        @password-reset=",'\n        apiBaseUrl="','"\n      />\n    '])),this.showLoginWithResetPassword,this.apiBaseUrl)}showLoginWithResetPassword(){sessionStorage.setItem("resetPasswordTriggered","true"),this.passwordReset=!0,this.selectedView="login"}getBackText(){switch(this.selectedView){case"login":return ws.getMessage("authModalBackRegister");default:return ws.getMessage("authModalBackLogin")}}getScreen(){switch(this.selectedView){case"register":return this.showRegister();case"forgotPassword":return this.showForgotPassword();case"resetPassword":return this.showResetPassword();case"login":return this.showLogin()}}getLogo(){const e="kenogo"===this.site?this.kenoLogoUrl||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMkAAABMCAMAAADwZWNcAAAC5VBMVEUAAAAA/wCAgABVqgCAvwBmmQBVqgBttgBgnwBxqgBmmQB0ogBqqgBinQBtpABmqgBwnwBppQBjqgBroQ1tqgxoogxkpgtqqgtmowpspwpooQltpAlqpwlmoglrpQhopwhsoghppQhmqAdqowdnpQdrqAdpowdmpgZqqAZnpAZrpgZoogZppgZnowVqpQVopwVrowVppQVnpwVqpAVopQVrpwlppAlnpglqpwlopAlqpglpowhrpQhppghoowhqpQhopghrpAhppQhnpgdqpAdopQdppAdnpQdppwdopAdpowdrpQZppgZopAZqpQZopgZqpAZppQZopgZqpAZopQZqpgZppAZopQZppghopQhqpQhppAhopAhqpQhppghqpAhppQhopgdppAdopQdqpgdppAdopQdppgdopQdqpQdppAdqpQdppgdopAdqpQdppgdqpAZppQZopgZppAZppQZqpgZppQZopQZppgZqpQhppAhqpQhppQhppQhppghppQhopgdppAdppQdqpgdppQdopQdppgdopQdqpQdppAdqpQdppQdopAdppQdqpAdppQdopgdppQdppQdqpgZppQZopQZppgZppQZppQZppAZqpQZppQhopAhppQhppQhqpAhppQhopgdppQdppQdqpgdppQdopQdppgdppQdppQdppAdqpQdppQdppAdppQdppQdqpQdppQdopQdppQdppQdppgdppQdopQdppgdppQdppQdppAZqpQZppQZppAZppQhppQhqpQhppQhopQdppQdppQdppgdppQdopQdppgdppQdppQdppAdqpQdppQdppQdppQdppQdppQdppQdppQdppQdppQdppQdppQdopQdppgdppQdppQdppAdqpQdppQdppQdppQdppQZppQhppQhppQdppQdppQdppQdppQdppQdppQdppQdppQdppQdppQdppQdppQdppQdppQdppQdppQf///9SR0+CAAAA9XRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExUWFxgZGhscHR4fICEiIyQlJicoKSorLC4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSUpLTE5PUFFSU1RVVldYWVpbXF1eX2JjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+gIGCg4WGiImKi4yNjo+QkZKTlJWWmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NXW19jZ2tvc3d7f4OHi4+Tl5ufo6err7O3u7/Dx8vP09fb3+Pn6+/z9/jgcpuAAAAABYktHRPbc20phAAAJQklEQVRo3u2baVxVRRTA79tYhEBcQEQMRAJEKbLUXEiFVpHC1FCxBaS0oiJFNFMzgzRBLDVTTClLyyW0hZRCApEoDQ1cc0GEZF/kcb/3eO/dMzP3zrxLwLvS78f5xJw5M3f+d+bOnHPmwXGhCSaJH8xh4rbQrE6Is+MUE4fQhF2FF6r5+qrykuztq6JG2UhM1CPjdmQX/3399LE9iyfY4zXOrbxZdmFa+1OClm+7WymOkC8beZG0FKcSo/VZV4FXN30egr18UB/AWryPrDcqxDE8i6fKJGTiuOG2pDrL2yLJBD1oSxyUAZlRQwfhHwYT/1JafW2EBRIH1KRltDIgsXpejiSoim6gf55NkorMEpUBeZIJAiQe11kWrY+xSKa2ge6YRhEQ9394ORLVD2yTG250EqeLoKr2UmZKMnlZkmctmPBb6CSbkcVcZUCC2rBRVR78aE16+ubMzH1H8s9crasNMJpozmEmt75OTdmBf/56PxrJ48hgt/iRqgH+wf79LA/LbnDgSDcNs9JngEqi3YEeeWGGmtpwOsYRpzOqxp5AulQKSb8roLjsgvelfWLLGdN3eXPffCesYv4Ro2RNN/w9Jq3IeNK2Fa9wFQ9mfEp+rbHu+qF4D7zCsQ7t+YMYr+BLMKl5QND1yQZllVZKkoGmbDLWkyb2Ir4wKxfpoEpAP8FNwd4Sf/MZYiiTfyHO7jR32vtufYABYl8PNvFIOwRpJ0tIItDT1mI9eeWJP7ISP6Gu3Kw5t11kEoPa9/9K3L5hAVS+B8qDrCX7EFpbtpgaHRfLxCQDy6FYhDUZVS7dLyofEpFI5PYEob1HCaU6Waj9HlRzWCQLwWQnMdGg3icm2QOlxkDUYOg12kDrfGVI+BxhX/+dWh1nri4DjS+LZD2YLCJ8ZzhQT4lIZvO0Fuqf6AP9VSdDwo8zdfAJvbbpPtOG2AwrTs0iQYvzEUJ/Hk4+ksS9ErmY2F75NGugr8qRrDQdF6zqY6avGcp/M7d29C6DCH0u6G0Ikv3wdwW2tXDoa7+w9ImwGLT3ndeISW5mJq/b3wTF4+LjojH3SIl4zvqhXYRJ8ivYDCf0R0DvjJNEo0dEUPeNL0zhYxwcyeEkSdEsbbvC+zI254ZZb0HbYfs5NOI4efQOguJJJslvYEOcRNw+0LtiJL9Vw5+bceuVgva0EAd/TNgByTJhRcZBR/0NpVlQWmPeAM7C/qcmSAqZJMVgQ8To3F7Qu2EkSEodcescQR0taHyJ5VAu8dICoaf2DXAjLNk+5vqZUD+SSTIx0iSBXSJZhRvbNEs7uSTE+P2pJGhsDxpKJ4XCx+BmQLz+PIskFA4lz66QNPphxvCgGqT7Ad9JpCT2hEt+VXrmFwqqpSySecTL+I8kl1Hclov5srBUKoJBjmLuDoVEAx2FGkqwlT0u/VBTrEJyIB3NyuvYgrUU4kTKkzhAAWV0wE3dZh2SfuW09RVqiSRKnqQvFMAN47YJqgxDwRXtnkySIih6EiToBBxAnIyoOX9coxiJMxiUMUnQEeRHkKBT2oEgUWVT1pfVSXTIQ2CSIHeZjGAgINKrSQ/SvxnFD/d0hCRcnsSZQvIpTsKBt9fqyCJBDg8Zv90S1NfEXv0qNMhfNKIvvmG1RBbbyZNoYEsMgwF8LqjS2ksFlMypiGQ1FJfjIB7ILxeT9MFSGOYwczS8MR3dk5DbhSF1OFN6Hq0gX/hyFkkUesH4o+fjeSJR9ItlVszrazAovDpH8pdQeAeaXCOioBgwv6RhkPih7IIP9YNfIM1IoKiR/9nYr7pBJjaVI4FjsACCaaIeuXFYfCciUV2A8l705HAed/bFJENqxesLwIt1nSKJxxMgRtkKTpWjKF6qn0gn4T5Ao3pfmLhJKL3/By1z95p4fS2FcmafzpDcD6Urpjh9PsQ3eSb7uZjLt8KDShKApSkL5xriQIcpW7Gs+Ms0Em2RaH15oRYXE0P8vYOCx00Nj1qweO3WNzpEokL5iPp1EaHRB3l8dRvt/8R39qtnyyqq2kQk3DfkXVcdmeK+i5oXHouxvmY5/2zfERLcdRDl2IU5DmtjH1lmkoDbFo61OMatA+ZJNrSvB99GVg8OHSKxOc1o/ias0I2yJFwS2+RHNYME8yT5n9uNFnWNhAusp7bO1QKJ7TFZEs3XLIvzg5h3WtgXaFpfG7pGws2kLY1SN2zbcDoqR8LZH2CA+LJv53BP0ri+VItbaH202XWQhJsqvSPMI9PytmlyJJzm3VZK/WFXS3e/mCfJ5xgXYVAhpZMCcu+aIyWZKqiGZZIfdWWC5EcDU4qp96FDMZMHsyUTMg9SjDrIpC3BmsSj5aA3TZ5q0s5qvIvyrLcfsSVypbfugeY/Ch7qQOziajtqf2ZZX8rBpHo04wYxzJr8jKQxpM3o9cVoa720cxp+WGtdTOJEXli4CILu49WBcxPWbFi9OnHB9HH4xZaTyRDrVGVuqyX61AZHLXonJSk23NPC7wtmJ6xNNzxjaUzERHe6iXNY9BvvJifGRgzheqVXeqVXeqVXrCxesWOUe5gqLM7Vap0b7vMOeCoEMsLwq4lMq/V+uP1yMEatAIdNUvttxCar9T/W6DefGGd1kCl/GEOG4dZ7wktG51u/zceqHPea8gstT1nzIeZIV5/pZ7VHjDLHKq2zrDvvsebArDUjwCr9jxGyRPXTrL2EnxTyB/pDkbbd3Pdd0XAnfkOB/T4YJexvrgvqxvNj4laUcCv0VmKnd8ETfoVL7lV1Q5+a8Sv/wnrdpND/HagWEhmqq1si+3apP9d5u4jkSsUM5TyJ4Tmi38/lfjhvRGd+Bq2774VNRaJk6V5XTkFRP3dD+mP8o8nRIZ4d9QB0w0JfTM1rkvRyLlxpb9LlQ2q6jm8+cyg1IXrahABX2n2KrXvgpIjnEtO/O0dPSdcm2XHKi/enet6iVJ8vKy0oyDP+Xji/4ERZ2cVayw0aUwbeIS9/xPYWvvukbv2dTFF5Jtd0E8f1pP53OPqyi8zpBo6CF+x7QigZnHKlSxhnV/j2mLBYHZJ2qZMYJWuCe1qQP2rJT03/9RvPesWH65FiH7L8cFUHKa7tf2ustmcnYLxnrNpzqtkCQ8PJ3cunefxf8knaYSFzlmzYfTi/tLLKMEv6qqqKs3nffrb+zdnjh6rvxID+BU0ffmlOm48MAAAAAElFTkSuQmCC":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+Cjxzdmcgd2lkdGg9IjU3MCIgaGVpZ2h0PSIxODAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDU3MCAxODAiPgogIDxwYXRoIGlkPSJzdmdfMSIgZD0ibTI2Mi4yMDAzMTcsMTMwLjVjLTI4LjMwMDA0OSwxOS41IC02NC4xOTk5NTEsMjcuOTAwMDI0IC0xMTMuMjAwNTYyLDI3LjkwMDAyNGMtNDguNzk5NDM4LDAgLTg0Ljg5OTA0OCwtOC40MDAwMjQgLTExMy4yMDAxOTUsLTI3LjkwMDAyNGMtNC44OTkzMjMsLTMuMjk5OTg4IC05Ljg5OTMyMywtMC4yMDAwMTIgLTQuNjk4ODUzLDYuMDk5OTc2YzIyLDI0LjIwMDAxMiA2Ny4wOTk2MDksNDIuNSAxMTcuNzk5NTYxLDQyLjVzOTUuODk5NDE0LC0xOC4yOTk5ODggMTE3Ljc5OTc3NCwtNDIuNWM1LjM5OTQ0NSwtNi4yOTk5ODggMC4zOTk0NDUsLTkuMzk5OTYzIC00LjQ5OTcyNSwtNi4wOTk5NzZ6bS0yMDUsLTIxLjA5OTk3NmMyLjIwMDA0MywtMC40MDAwMjQgMywtMC43MDAwMTIgMywtMi43MDAwMTJsMCwtMTAuMjk5OTg4YzAsLTEuNSAtMS4yMDA1NjIsLTIuNzk5OTg4IC0yLjc5OTk1NywtMi43OTk5ODhsLTIyLjUwMDEyMiwwYy05LjEwMDY3NywwIC0xMi42OTk5MjEsLTIuMjk5OTg4IC0xMi42OTk5MjEsLTEyLjIwMDAxMmwwLC03Ni41YzAsLTEuNSAtMS4yMDA1NjIsLTIuNzk5OTg4IC0yLjgwMTI3LC0yLjc5OTk4OGwtMTUuMTk4NzMsMGMtMS41MDAyNDQsMCAtMi44MDEyNywxLjIwMDAxMSAtMi44MDEyNywyLjc5OTk4OGwwLDc2LjVjMCwyNi41OTk5NzYgOS44MDEyNywyOS4yOTk5ODggMzUuNjAwNzA4LDI5LjI5OTk4OGM3LjkwMDQ4MiwtMC4wOTk5NzYgMTUuNzk5ODA1LC0wLjI5OTk4OCAyMC4yMDA1NjIsLTEuMjk5OTg4eiIgZmlsbD0iIzY5QTUwNyIvPgogIDxwYXRoIGlkPSJzdmdfMiIgZD0ibTk4LjY5OTk1MSwxMTAuNjAwMDM3YzIzLjUwMDM2NiwwIDM1LjcwMDQzOSwtMTUuMDk5OTc2IDM1LjcwMDQzOSwtMzUuNWwwLC0xMS41YzAsLTIwLjQwMDAyNCAtMTIuMjAwMDczLC0zNS41IC0zNS43MDA0MzksLTM1LjVzLTM1LjcwMDE5NSwxNS4wOTk5NzYgLTM1LjcwMDE5NSwzNS41bDAsMTEuNWMwLDIwLjM5OTk2MyAxMi4zMDAwNDksMzUuNSAzNS43MDAxOTUsMzUuNXptLTE2LC00N2MwLC0xMS43MDAwMTIgNS41OTk4NTQsLTE5LjI5OTk4OCAxNS45MDAyNjksLTE5LjI5OTk4OGMxMC41MDA0ODgsMCAxNS45MDAyNjksNy41IDE1LjkwMDI2OSwxOS4yOTk5ODhsMCwxMS41YzAsMTEuNzAwMDEyIC01LjYwMDIyLDE5LjI5OTk4OCAtMTUuOTAwMjY5LDE5LjI5OTk4OGMtMTAuNDk5NTEyLDAgLTE1LjkwMDI2OSwtNy41IC0xNS45MDAyNjksLTE5LjI5OTk4OGwwLC0xMS41eiIgZmlsbD0iIzY5QTUwNyIvPgogIDxwYXRoIGlkPSJzdmdfMyIgZD0ibTEzOS45OTk3NTYsNDMuMjAwMDEybDYuNTAwNzMyLDBsMCw0NC43MDAwMTJjMCwxOS4wOTk5NzYgNi44OTk5MDIsMjIuNTk5OTc2IDIzLjcwMDQzOSwyMi41OTk5NzZjMy4yOTk1NjEsMCA3Ljc5OTQzOCwtMC4yMDAwMTIgMTAuMDk5MjI4LC0xYzIuMjAwMzMzLC0wLjUgMi41MDAwMTUsLTEgMi43MDAyMTEsLTEuODk5OTYzYzAsLTAuMjAwMDEyIDAuMDk5NzMxLC0wLjUgMC4wOTk3MzEsLTAuNzAwMDEybDAsLTguMjk5OTg4YzAsLTEuNSAtMS4xOTk4NDQsLTIuODAwMDQ5IC0yLjc5OTk0MiwtMi44MDAwNDlsLTguMjk5Nzg5LDBjLTUuMjk5NjgzLDAgLTUuNzk5NDM4LC0wLjg5OTk2MyAtNS43OTk0MzgsLThsMCwtNDQuNTk5OTc2bDI1LjA5OTM1LDBsMCw0NC43MDAwMTJjMCwxOS4wOTk5NzYgNi45MDA2NSwyMi41OTk5NzYgMjMuNzAwMDg5LDIyLjU5OTk3NmMzLjI5OTkyNywwIDcuNzk5ODA1LC0wLjIwMDAxMiAxMC4xMDA3MDgsLTFjMi4xOTkyMTksLTAuNSAyLjQ5OTM5LC0xIDIuNjk5MDk3LC0xLjg5OTk2M2MwLC0wLjIwMDAxMiAwLjEwMDA5OCwtMC41IDAuMTAwMDk4LC0wLjcwMDAxMmwwLC04LjI5OTk4OGMwLC0xLjUgLTEuMTk5NTg1LC0yLjgwMDA0OSAtMi43OTkxOTQsLTIuODAwMDQ5bC04LjMwMDkwMywwYy01LjI5OTY4MywwIC01Ljc5OTgwNSwtMC44OTk5NjMgLTUuNzk5ODA1LC04bDAsLTQ0LjU5OTk3NmwxMC40MDAzOTEsMGMxLjQ5OTUxMiwwIDIuODAwMTcxLC0xLjIwMDAxMiAyLjgwMDE3MSwtMi43OTk5ODhsMCwtOC42MDAwMzdjMCwtMS41IC0xLjIwMDU2MiwtMi43OTk5ODggLTIuODAwMTcxLC0yLjc5OTk4OGwtMTAuMTk5ODI5LDBsMCwtMTkuODk5OTYzYzAsLTEuNSAtMSwtMi4xMDAwMzcgLTIuMzAwNjc0LC0yLjEwMDAzN2wtMC40OTk1MTIsMGwtMTMuODAwMjc4LDIuMjAwMDEyYy0xLjYwMDA5OCwwLjIwMDAxMiAtMywxLjIwMDAxMiAtMywyLjc5OTk4OGwwLDE3bC0yNS4wOTk5NzYsMGwwLC0yMGMwLC0xLjUgLTEsLTIuMDk5OTc1IC0yLjI5OTU2MSwtMi4wOTk5NzVsLTAuNjAwNjAxLDBsLTEzLjgwMDc2NiwyLjIwMDAxMmMtMS41OTkyNDMsMC4yMDAwMTIgLTMsMS4yMDAwMTIgLTMsMi43OTk5ODlsMCwxNi45OTk5OTlsLTYuNDk5NzU2LDBjLTEuNTAwMjQ0LDAgLTIuNzk5MzE2LDEuMjAwMDEyIC0yLjc5OTMxNiwyLjc5OTk4OGwwLDguNjAwMDM3Yy0wLjMwMDE3MSwxLjU5OTk3NiAwLjg5OTkwMiwyLjg5OTk2MyAyLjQ5OTI2OCwyLjg5OTk2M3oiIGZpbGw9IiM2OUE1MDciLz4KICA8cGF0aCBpZD0ic3ZnXzQiIGQ9Im0yNjYuNjAwNDY0LDI3LjkwMDAyNGMtMjMuNTAwOTc3LDAgLTM1LjcwMDE5NSwxNS4wOTk5NzYgLTM1LjcwMDE5NSwzNS41bDAsMTEuNWMwLDIwLjQwMDAyNCAxMi4xOTkyMTksMzUuNSAzNS43MDAxOTUsMzUuNWMyMy40OTkwODQsMCAzNS42OTkzNDEsLTE1LjA5OTk3NiAzNS42OTkzNDEsLTM1LjVsMCwtMTEuNWMtMC4wOTk0ODcsLTIwLjUgLTEyLjI5OTg2NiwtMzUuNSAtMzUuNjk5MzQxLC0zNS41em0xNiw0Ni44OTk5NjNjMCwxMS43MDAwMTIgLTUuNjAwNDY0LDE5LjI5OTk4OCAtMTUuOTAwNDIxLDE5LjI5OTk4OGMtMTAuNDk5NzI1LDAgLTE1LjkwMDM2LC03LjUgLTE1LjkwMDM2LC0xOS4yOTk5ODhsMCwtMTEuNWMwLC0xMS43MDAwMTIgNS42MDA3MDgsLTE5LjI5OTk4OCAxNS45MDAzNiwtMTkuMjk5OTg4YzEwLjUwMDI3NSwwIDE1LjkwMDQyMSw3LjUgMTUuOTAwNDIxLDE5LjI5OTk4OGwwLDExLjV6IiBmaWxsPSIjNjlBNTA3Ii8+CiAgPHBhdGggaWQ9InN2Z181IiBkPSJtMzI5LjkwMDMzLDJsLTE0LjQ5OTkzOSwwYy0xLjUwMDA2MSwwIC0yLjcwMDI1NiwxLjIwMDAxMyAtMi43MDAyNTYsMi43OTk5ODdsMCwxMDEuNzk5OTg4YzAsMS41IDEuMjAwMTk1LDIuODAwMDQ5IDIuNzAwMjU2LDIuODAwMDQ5bDE0LjQ5OTkzOSwwYzEuNTAwMDYxLDAgMi42OTk0MDIsLTEuMjAwMDEyIDIuNjk5NDAyLC0yLjgwMDA0OWwwLC0xMDEuNjk5OTUxYzAsLTEuNSAtMS4yOTk4MDUsLTIuOTAwMDI1IC0yLjY5OTQwMiwtMi45MDAwMjV6IiBmaWxsPSIjNjlBNTA3Ii8+CiAgPHBhdGggaWQ9InN2Z182IiBkPSJtMzc1Ljc5OTgwNSwyOC4xMDAwMzdjLTEwLjI5OTgwNSwwIC0xOC44OTk0MTQsMS4wOTk5NzYgLTI1LDIuMjAwMDEyYy0yLDAuMzk5OTYzIC0yLjc5OTgwNSwxLjUgLTIuNzk5ODA1LDNsMCw5LjA5OTk3NmMwLDIgMS4yMDAyNTYsMi41IDIuNzAwMTk1LDIuNWwwLjcwMDI1NiwwYzQuODk5NDc1LC0wLjU5OTk3NiAxNC43OTk4MDUsLTEuMDk5OTc2IDI0LjI5OTc0NCwtMS4wOTk5NzZjOC43OTk4MDUsMCAxMy4wOTk2MDksMi4yMDAwMTIgMTMuMDk5NjA5LDExLjVsMCw2LjI5OTk4OGwtOS4zOTkzNTMsMGMtMjUuOTAwNDUyLDAgLTM2LjQwMDQ1Miw4LjQwMDAyNCAtMzYuNDAwNDUyLDI0LjcwMDAxMmwwLDAuNTk5OTc2YzAsMTkuMjk5OTg4IDEzLjUsMjMuNzk5OTg4IDI1Ljc5OTgwNSwyMy43OTk5ODhjNy4yMDAyMjYsMCAxNC4yMDAyMjYsLTIuMTk5OTUxIDIxLC02LjI5OTk4OGwwLDIuMjAwMDEyYzAsMS41OTk5NzYgMS40MDA0NTIsMi43OTk5ODggMywyLjc5OTk4OGwxMi43MDAxOTUsMGMxLjYwMDY0NywwIDMsLTEuMjAwMDEyIDMsLTIuNzk5OTg4bDAsLTUxLjQwMDAyNGMwLjA5OTY3LC0xOC4yMDAwMTIgLTExLjU5OTYwOSwtMjcuMDk5OTc2IC0zMi43MDAxOTUsLTI3LjA5OTk3NnptMTMuMTAwNTg2LDYzLjVjLTQuMzAwNzIsMi4yMDAwMTIgLTkuOTAwMzYsNCAtMTUuMjAwMTk1LDRjLTcuNDAwMjY5LDAgLTEwLjcwMDE2NSwtMS45MDAwMjQgLTEwLjcwMDE2NSwtOC45MDAwMjRsMCwtMC41OTk5NzZjMCwtOCAzLC0xMi4wOTk5NzYgMTYuNTk5NjQsLTEyLjA5OTk3Nmw5LjQwMDM2LDBsLTAuMDk5NjQsMTcuNTk5OTc2bDAsMHoiIGZpbGw9IiM2OUE1MDciLz4KICA8cGF0aCBpZD0ic3ZnXzciIGQ9Im01NjUuMjAwMjU2LDJsLTEzLjcwMDI1NiwwYy0xLjYwMTU2MywwIC0zLDEuMjAwMDEzIC0zLDIuNzk5OTg3bDAsMjQuMTAwMDM3Yy01LjYwMTU2MywtMC43MDAwMTIgLTEwLjcwMDE5NSwtMSAtMTQuMjk5NzQ0LC0xYy0yNCwwIC0zNS43MDAxOTUsMTMuNTk5OTc2IC0zNS43MDAxOTUsMzUuNzk5OTg4bDAsMTFjMCwyMi4yMDAwMTIgMTEuNjAwNTg2LDM1Ljc5OTk4OCAzNS43MDAxOTUsMzUuNzk5OTg4YzkuNDk5OTM5LDAgMjAuNzk5ODY2LC0xLjUgMzAsLTMuNzAwMDEyYzMuNDk5OTM5LC0wLjg5OTk2MyA0LjA5OTYwOSwtMS43MDAwMTIgNC4wOTk2MDksLTMuNzk5OTg4bDAsLTk4LjIwMDAxM2MtMC4wOTk2MDksLTEuMzk5OTYzIC0xLjQwMTQyOCwtMi43OTk5ODcgLTMuMDk5NjA5LC0yLjc5OTk4N3ptLTE2LjcwMDI1Niw5Mi4yMDAwMTJjLTIuNzk5ODA1LDAuNTk5OTc2IC04LjkwMDMzLDEgLTE0LjI5OTc0NCwxYy0xMi43OTk4NjYsMCAtMTUuOTAwMzkxLC04LjU5OTk3NiAtMTUuOTAwMzkxLC0yMC40MDAwMjRsMCwtMTFjMCwtMTEuNjk5OTUxIDMuMTAwNTI1LC0yMC4zOTk5NjMgMTUuOTAwMzkxLC0yMC4zOTk5NjNjMy41OTk1NDgsMCAxMC4wOTk2MDksMC4zOTk5NjMgMTQuMjk5NzQ0LDFsMCw0OS43OTk5ODh6bS04Ni4yOTk3NDQsLTY2LjA5OTk3NmMtOS45MDAzOTEsMCAtMTUuNjAwNTg2LDEuNTk5OTc2IC0yNC4yMDAyNTYsNi43OTk5ODhsMCwtM2MwLC0xLjU5OTk3NiAtMS40MDAzMywtMi43OTk5ODggLTMsLTIuNzk5OTg4bC0xMywwYy0xLjU5OTU0OCwwIC0zLDEuMjAwMDEyIC0zLDIuNzk5OTg4bDAsNzQuNjAwMDM3YzAsMS41OTk5NzYgMS40MDA0NTIsMyAzLDNsMTMuNzAwMTk1LDBjMS41OTk3MzEsMCAzLC0xLjUgMywtM2wwLC01Ny4zMDAwNDljNi4yOTk4MDUsLTMuMDk5OTc2IDExLjcwMDE5NSwtNS4xOTk5NTEgMTYuNzk5ODY2LC01LjE5OTk1MWMxMS40OTk5MzksMCAxMi43MDAxOTUsMy41OTk5NzYgMTIuNzAwMTk1LDE1Ljg5OTk2M2wwLDQ2LjQwMDAyNGMwLDEuNTk5OTc2IDEuMzk5NDE0LDMgMywzbDEzLjc5OTc0NCwwYzEuNTk5NjcsMCAzLC0xLjUgMywtM2wwLC00Ni40MDAwMjRjMCwtMTggLTQuMjk5ODM1LC0zMS43OTk5ODggLTI1Ljc5OTc0NCwtMzEuNzk5OTg4eiIgZmlsbD0iIzY5QTUwNyIvPgo8L3N2Zz4=";return n(Cs||(Cs=j([' <img class="logo" src='," /> "])),e)}shouldTriggerResetPassword(){if("true"!==sessionStorage.getItem("resetPasswordTriggered")){"true"===new URLSearchParams(location.search).get("forgotPassword")&&(this.visible=!0,this.selectedView="resetPassword")}}render(){return n(ys||(ys=j(['\n      <ll-modal\n        id="auth-modal"\n        ?visible="','"\n        backText=','\n        trackName="','"\n      >\n        <div slot="title">','</div>\n        <div class="authModal-content">',"</div>\n      </ll-modal>\n    "])),this.visible,this.getBackText(),this.trackName,this.getLogo(),this.getScreen())}};Fs.styles=ns,P([o({type:Boolean,reflect:!0})],Fs.prototype,"visible",void 0),P([o({type:String,attribute:!1})],Fs.prototype,"identUrl",void 0),P([o({type:String})],Fs.prototype,"selectedView",void 0),P([o({type:String})],Fs.prototype,"trackName",void 0),P([o({type:Object,converter:p})],Fs.prototype,"translations",void 0),P([o({type:String})],Fs.prototype,"site",void 0),P([o({type:String})],Fs.prototype,"kenoLogoUrl",void 0),P([o({type:String})],Fs.prototype,"apiBaseUrl",void 0),P([o({type:Object})],Fs.prototype,"marketConfig",void 0),P([o({type:Object})],Fs.prototype,"config",void 0),P([o({type:Boolean})],Fs.prototype,"passwordReset",void 0),P([o({type:Boolean})],Fs.prototype,"registrationTrackQueryParameters",void 0),P([h()],Fs.prototype,"subscribeModalToken",void 0),P([h()],Fs.prototype,"subscribeLoginToken",void 0),Fs=ws=P([r("ll-auth-modal")],Fs);var bs=a`ll-link{width:100%}ll-link:focus ll-typography,ll-link:hover ll-typography{color:var(--ll-color-ui-03)}`;var Ds;let Es=class extends l{constructor(){super(...arguments),this.fetch=window.fetch.bind(window),this.apiBaseUrl="",this.serverUrl="",this.hidden=!1,this.clientSideBusPublish=y,this.clientSideBusSubscribe=w,this.clientSideBusUnsubscribe=F,this.playerId="",this.subscribeLoginToken=""}connectedCallback(){super.connectedCallback(),this.getPlayerIdFromEventBus(),this.subscribeToLogoutRequestedTopic(),this.authApi||(this.authApi=new W(this.fetch))}disconnectedCallback(){var e;this.clientSideBusUnsubscribe(this.subscribeLoginToken),null===(e=this.eventSource)||void 0===e||e.close(),super.disconnectedCallback()}setEventSource(){if(this.playerId&&this.serverUrl){const e=""+this.getServerUrl(this.serverUrl)+this.playerId;this.eventSource=new L(e,{withCredentials:!0})}}getPlayerIdFromEventBus(){this.subscribeLoginToken=this.clientSideBusSubscribe(te,(e,t)=>{const{playerId:i}=t.payload;i&&(this.playerId=i,this.eventSource||this.setEventSource(),this.addListeners(this.eventSource))})}subscribeToLogoutRequestedTopic(){this.clientSideBusSubscribe("LogoutRequested",(e,t)=>{this.playerId&&this.logout()})}getServerUrl(e){return"/"===e[e.length-1]?e:e+"/"}addListeners(e){e.addEventListener("PLAYER_LOGOUT",this.logout.bind(this)),e.addEventListener("error",t=>{e.close(),520!==t.status&&524!==t.status||(this.setEventSource(),this.addListeners(this.eventSource))})}getMessage(e){return t.getMessage(S,e)}logout(){var e;null===(e=this.eventSource)||void 0===e||e.close(),this.playerId="",this.authApi.logout(this.apiBaseUrl).finally(()=>{window.dispatchEvent(new CustomEvent("logout")),this.clientSideBusPublish(te,ie(null,null,null),{sticky:!0}),ne.location.reload()})}render(){return this.hidden?null:n(Ds||(Ds=j(['\n          <ll-link\n            class="logout-link"\n            simplified\n            @click="','"\n            trackName="','"\n            ><ll-typography size="h6"\n              >',"</ll-typography\n            >\n          </ll-link>\n        "])),this.logout,"Logout",this.getMessage("components_authentication_logout"))}};Es.styles=bs,P([o({type:String})],Es.prototype,"apiBaseUrl",void 0),P([o({type:String})],Es.prototype,"serverUrl",void 0),P([o({type:L})],Es.prototype,"eventSource",void 0),P([o({type:Boolean})],Es.prototype,"hidden",void 0),P([h()],Es.prototype,"playerId",void 0),Es=P([r("ll-auth-logout")],Es);var Ms,Ts=a`:host{cursor:default;font-weight:500;display:inline-block}.user-avatar{width:100%;height:100%;background:var(--ll-color-ui-04);border-radius:50%}#text-svg{font-family:FF Daxline Pro,sans-serif;font-size:64px}`;let ks=class extends l{constructor(){super(...arguments),this.letter="",this.playerFirstName="P",this.size=40,this.subscribeLoginToken="",this.clientSideBusSubscribe=w,this.clientSideBusUnsubscribe=F}connectedCallback(){super.connectedCallback(),this.subscribePlayerLoggedIn()}disconnectedCallback(){this.clientSideBusUnsubscribe(this.subscribeLoginToken),super.disconnectedCallback()}subscribePlayerLoggedIn(){this.subscribeLoginToken=this.clientSideBusSubscribe(te,(e,t)=>{this.setPlayerProperties(t.payload)})}setPlayerProperties(e){let{playerId:t,playerFirstName:i}=e;this.playerFirstName=t&&i?i:"P"}renderLetter(){return this.letter?this.letter[0]:this.playerFirstName[0]}render(){return n(Ms||(Ms=j([' <div\n      class="user-avatar"\n      style="width: ',"px;\n      height: ",'px;"\n    >\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        width="100%"\n        height="100%"\n        preserveAspectRatio="xMinYMin"\n        viewBox="0 0 100 100"\n      >\n        <text\n          id="text-svg"\n          x="50%"\n          y="50%"\n          text-anchor="middle"\n          alignment-baseline="central"\n          dominant-baseline="central"\n        >\n          ',"\n        </text>\n      </svg>\n    </div>"])),this.size,this.size,this.renderLetter().toUpperCase())}};ks.styles=Ts,P([o({type:String,converter:String})],ks.prototype,"letter",void 0),P([o({type:String,converter:String})],ks.prototype,"playerFirstName",void 0),P([o({type:Number,converter:e=>{if(!e)return 40;const t=parseFloat(e);return isNaN(t)?40:t}})],ks.prototype,"size",void 0),ks=P([r("ll-user-avatar")],ks);var Ns=a`:host{display:inline-block}.user-menu{display:flex;width:40px;height:40px;--ll-button-color:var(--ll-color-ui-01);--ll-button-bg-color-1:var(--ll-color-ui-06);--ll-button-bg-color-2:var(--ll-color-ui-06);--ll-shadow-button:0}.user-menu.logged-in{--ll-button-bg-color-1:var(--ll-color-ui-04);--ll-button-bg-color-2:var(--ll-color-ui-04)}.user-menu ll-user-avatar{cursor:pointer}`;var xs,Bs,Ls,Ss;let Is=class extends l{constructor(){super(...arguments),this.isPlayerLoggedIn=!1,this.playerId="",this.playerFirstName="",this.country="",this.subscribeLoginToken="",this.clientSideBusPublish=y,this.clientSideBusSubscribe=w,this.clientSideBusUnsubscribe=F}connectedCallback(){super.connectedCallback(),this.subscribePlayerLoggedIn()}disconnectedCallback(){this.clientSideBusUnsubscribe(this.subscribeLoginToken),super.disconnectedCallback()}subscribePlayerLoggedIn(){this.subscribeLoginToken=this.clientSideBusSubscribe(te,(e,t)=>{this.setPlayerProperties(t.payload)})}setPlayerProperties(e){let{playerId:t,playerFirstName:i,country:s}=e;t&&i&&s?(this.isPlayerLoggedIn=!0,this.playerId=t,this.playerFirstName=i,this.country=s):(this.isPlayerLoggedIn=!1,this.playerId="",this.playerFirstName="",this.country="")}displayMyProfile(){const e=this.isPlayerLoggedIn?this.playerId:null,t=this.isPlayerLoggedIn?this.playerFirstName:null,i=this.isPlayerLoggedIn?this.country:null;this.clientSideBusPublish("UserAvatarActivated",((e,t,i)=>({payload:{playerId:e,playerFirstName:t,country:i}}))(e,t,i))}renderComponent(){return n(xs||(xs=j(["",""])),this.isPlayerLoggedIn?this.renderFirstLetterName():this.renderUserIcon())}renderUserIcon(){return n(Bs||(Bs=j(['<ll-icon name="user-2"></ll-icon>'])))}renderFirstLetterName(){var e;const t=(null===(e=this.playerFirstName.trim()[0])||void 0===e?void 0:e.toUpperCase())||"P";return n(Ls||(Ls=j(['<ll-user-avatar\n      letter="','"\n      size="','"\n    >\n    </ll-user-avatar>'])),t,this.getBoundingClientRect().width)}getTrackName(){return this.isPlayerLoggedIn?"userMenu_show_myProfile":"userMenu_show_loginForm"}render(){return n(Ss||(Ss=j(['<ll-button\n      shape="round"\n      class="user-menu','"\n      @click="','"\n      trackName="','"\n    >\n      ',"\n    </ll-button>"])),this.isPlayerLoggedIn?" logged-in":"",this.displayMyProfile,this.getTrackName(),this.renderComponent())}};Is.styles=Ns,P([h()],Is.prototype,"isPlayerLoggedIn",void 0),P([h()],Is.prototype,"playerId",void 0),P([h()],Is.prototype,"playerFirstName",void 0),P([h()],Is.prototype,"country",void 0),P([h()],Is.prototype,"subscribeLoginToken",void 0),Is=P([r("ll-user-menu")],Is);let Os=class extends l{constructor(){super(...arguments),this.fetch=window.fetch.bind(window),this.clientSideBusPublish=y,this.clientSideBusSubscribe=w,this.clientSideBusUnsubscribe=F,this.apiBaseUrl="",this.subscribeAjaxNavigationToken=""}connectedCallback(){super.connectedCallback(),this.subscribeToAjaxNavigation(),setTimeout(async()=>{this.authApi||(this.authApi=new W(this.fetch)),this.validateAuthCookie()})}disconnectedCallback(){this.clientSideBusUnsubscribe(this.subscribeAjaxNavigationToken),super.disconnectedCallback()}subscribeToAjaxNavigation(){this.subscribeAjaxNavigationToken=this.clientSideBusSubscribe("AjaxNavigationExecuted",(e,t)=>{this.validateAuthCookie()})}validateAuthCookie(){let e={playerId:null,playerFirstName:null,country:null};this.authApi.validateAuthCookie(this.apiBaseUrl).then(t=>{(e=>{if(!e.id||!e.firstName)throw Error("Wrong body in response")})(t),e=Object.assign({},e,{playerId:t.id,playerFirstName:t.firstName,country:t.country}),this.publishLoginTopic(e)}).catch(()=>{this.publishLoginTopic(e)})}publishLoginTopic(e){this.clientSideBusPublish(te,ie(e.playerId,e.playerFirstName,e.country),{sticky:!0})}render(){return null}};P([o({type:String})],Os.prototype,"apiBaseUrl",void 0),P([h()],Os.prototype,"subscribeAjaxNavigationToken",void 0),Os=P([r("ll-validate-authcookie")],Os);var js,Ps,_s,Us,zs,Rs=a`.form{margin-top:10vh;display:flex;flex-direction:column;gap:16px}@media only screen and (max-width:767px){.form{margin-top:25vh}}`;const Qs={p:"",k:"",h:"",email:""};let Vs=class extends l{constructor(){super(...arguments),this.fetch=window.fetch.bind(window),this.apiBaseUrl="",this.isTwoFaEnabled=!1,this.password="",this.passwordStatus="",this.twoFactorCode="",this.statusTwoFactorCode="default",this.twoFactorErrorLabel="",this.errorMessage="",this.loadingRequest=!1}connectedCallback(){var e;super.connectedCallback(),this.params||(this.params=new URLSearchParams(location.search)),this.isTwoFaEnabled="true"===(null===(e=this.params)||void 0===e?void 0:e.get("2fa")),this.getURLParams(),setTimeout(async()=>{this.authApi||(this.authApi=new W(this.fetch)),this.fixTooltipContent()})}getURLParams(){Object.keys(Qs).forEach(e=>{Qs[e]=this.params.get(e)||""})}fixTooltipContent(){var e,t,i,s,a;const n=null===(a=null===(s=null===(i=null===(t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("ll-registration-password"))||void 0===t?void 0:t.shadowRoot)||void 0===i?void 0:i.querySelector("ll-tooltip-container"))||void 0===s?void 0:s.shadowRoot)||void 0===a?void 0:a.querySelector("div.container.top");n&&(n.innerHTML="<style>.container.top{display:contents;z-index:9999;}</style>"+n.innerHTML)}getMessage(e){return t.getMessage(I,e)}renderPasswordInput(){const e=this.getPasswordTranslations();return n(js||(js=j(['<ll-registration-password\n      value="','"\n      email="','"\n      @input=',"\n      @blur=",'\n      trackname="','"\n      .translations="','"\n    ></ll-registration-password>'])),this.password,Qs.email,this.validPassword,this.validPassword,"resetPasswordForm_passwordInput",e)}getPasswordTranslations(){return{registrationPassword_label:this.getMessage("password"),registrationPassword_link_show:this.getMessage("passwordShow"),registrationPassword_link_hide:this.getMessage("passwordHide"),registrationPassword_inlineLabel_invalid:this.getMessage("passwordInvalid"),registrationPassword_validation_lengthAndCoincidence:this.getMessage("passwordLengthNotUsername"),registrationPassword_validation_mustHaveLowerAndUpperCase:this.getMessage("passwordUpperLowerCase"),registrationPassword_validation_mustHaveSpecialCharacter:this.getMessage("passwordSymbolOrNumber")}}validPassword(e){const t=e.target;this.password=t.value,this.passwordStatus=t.getAttribute("status")||"default"}renderTwoFactorInput(){if(this.isTwoFaEnabled)return n(Ps||(Ps=j(['<ll-text-input\n        type="number"\n        trackName="','"\n        trackListeners="focusin,change"\n        label="Two Factor Code"\n        @input=',"\n        @blur=","\n        @change=",'\n        value="','"\n        status="','"\n        invalidInlineLabel="','"\n        id="two-fa-input"\n      >\n      </ll-text-input>'])),"resetPassword_twoFactorInput",this.onInputTwoFactorCode,this.onChangeTwoFactorCode,this.onChangeTwoFactorCode,d(this.twoFactorCode),this.statusTwoFactorCode,this.twoFactorErrorLabel)}onInputTwoFactorCode(e){this.statusTwoFactorCode="default",this.twoFactorErrorLabel="";const t=e.target;this.twoFactorCode=t.value.trim()}onChangeTwoFactorCode(e){this.onInputTwoFactorCode(e),this.twoFactorCode||(this.statusTwoFactorCode="invalid",this.twoFactorErrorLabel="Required field")}showError(){if(this.errorMessage)return n(_s||(_s=j(['<ll-status-message\n        class="password-reset-error-message"\n        level="error"\n      >\n        ',"\n      </ll-status-message>"])),this.errorMessage)}renderCta(){return n(Us||(Us=j([' <ll-cta-group>\n      <ll-button\n        trackname="','"\n        ?disabled=','\n        @click="','"\n        style="width: 100%"\n      >\n        ',"\n      </ll-button>\n    </ll-cta-group>"])),"resetPassword_resetButton",this.resetButtonDisabled(),this.sendResetPassword,this.getMessage("resetPasswordButton"))}resetButtonDisabled(){return this.loadingRequest||this.isTwoFaEnabled&&!this.twoFactorCode||"valid"!==this.passwordStatus}async sendResetPassword(){this.loadingRequest=!0,this.errorMessage="";const e={hash:Qs.h,key:Qs.k,playerId:Qs.p,password:this.password};this.isTwoFaEnabled&&(e.twoFactorCode=this.twoFactorCode);const t=await this.authApi.resetPassword(this.apiBaseUrl,e);if(this.loadingRequest=!1,t.ok||200===t.status)this.dispatchEvent(new CustomEvent("password-reset"));else{const e=await t.json();this.errorMessage=e.message,this.showInvalidInputs()}}showInvalidInputs(){this.showInvalidPasswordInput(),this.isTwoFaEnabled&&this.showInvalidTwoFaInput()}showInvalidPasswordInput(){var e,t;null===(t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("ll-registration-password"))||void 0===t||t.setAttribute("status","invalid")}showInvalidTwoFaInput(){var e,t;null===(t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById("two-fa-input"))||void 0===t||t.setAttribute("status","invalid")}render(){return n(zs||(zs=j(['<div class="form">\n      '," ","\n      "," ","\n    </div>"])),this.renderPasswordInput(),this.renderTwoFactorInput(),this.showError(),this.renderCta())}};Vs.styles=Rs,P([o({type:String})],Vs.prototype,"apiBaseUrl",void 0),P([o({type:Boolean,reflect:!0})],Vs.prototype,"isTwoFaEnabled",void 0),P([o({type:Object})],Vs.prototype,"params",void 0),P([h()],Vs.prototype,"password",void 0),P([h()],Vs.prototype,"passwordStatus",void 0),P([h()],Vs.prototype,"twoFactorCode",void 0),P([h()],Vs.prototype,"statusTwoFactorCode",void 0),P([h()],Vs.prototype,"twoFactorErrorLabel",void 0),P([h()],Vs.prototype,"errorMessage",void 0),P([h()],Vs.prototype,"loadingRequest",void 0),Vs=P([r("ll-reset-password")],Vs);var qs,Zs=a`:host{--ll-progress-stepper-bar-bg:var(--ll-color-ui-05, #f5f6f5);--ll-progress-stepper-bar-color:var(
    --ll-color-status-success-border,
    #5ce8a1
  );--ll-progress-stepper-content-padding-x:calc(var(--ll-base-unit, 8px) * 2);--ll-progress-stepper-content-padding-y:calc(var(--ll-base-unit, 8px) * 2);--ll-progress-stepper-content-min-height:auto;--ll-progress-stepper-content-max-height:none}.slot-container{scrollbar-width:none;-ms-overflow-style:none!important;position:relative;padding:var(--ll-progress-stepper-content-padding-y) var(--ll-progress-stepper-content-padding-x);overflow-y:scroll;overflow-x:hidden;height:100%;min-height:var(--ll-progress-stepper-content-min-height);max-height:var(--ll-progress-stepper-content-max-height)}.slot-container ::-webkit-scrollbar,.slot-container::-webkit-scrollbar{display:none!important;height:0!important;width:0!important;background:0 0!important}.slot-container ::-webkit-scrollbar:hover,.slot-container::-webkit-scrollbar:hover{cursor:pointer}.slot-container ::-webkit-scrollbar-thumb,.slot-container::-webkit-scrollbar-thumb{background:0 0!important;display:none!important}.slot-container ::-webkit-scrollbar-track,.slot-container::-webkit-scrollbar,.slot-container::-webkit-scrollbar-track{background:0 0!important}::slotted([slot=item]){display:none}::slotted([slot=item].active){display:block}.progress-bar{background-color:var(--ll-progress-stepper-bar-bg);height:calc(var(--ll-base-unit, 8px)*.75)}.progress-bar .progress{background-color:var(--ll-progress-stepper-bar-color);width:0%;height:100%;transition:width .8s}`;let Ys=class extends l{constructor(){super(...arguments),this.currentItem=0,this.itemSlots=[],this.hideProgressBar=!1}render(){return n(qs||(qs=j(['\n      <div\n        class="progress-bar"\n        style="visibility: ',';"\n      >\n        <div class="progress" style="width: ','"></div>\n      </div>\n      <div class="slot-container">\n        <slot name="item"></slot>\n      </div>\n    '])),this.hideProgressBar?"hidden":"visible",this.getProgressWidth())}updated(e){e.has("currentItem")&&(this.itemSlots=this.itemSlot.assignedElements(),this.itemSlots.forEach((e,t)=>e.classList.toggle("active",t===this.currentItem)))}nextItem(){this.currentItem<this.itemSlots.length-1&&(this.currentItem+=1,this.currentItem===this.itemSlots.length-1&&this.dispatchEvent(new CustomEvent("lastItem")))}prevItem(){this.currentItem>0&&(this.currentItem-=1,0===this.currentItem&&this.dispatchEvent(new CustomEvent("firstItem")))}getProgressWidth(){var e;const t=(null===(e=this.itemSlot)||void 0===e?void 0:e.assignedElements())||[],i=this.currentItem/(t.length-1)*100;return 0===t.length?"0%":i+"%"}};Ys.styles=Zs,P([f()],Ys.prototype,"currentItem",void 0),P([f()],Ys.prototype,"itemSlots",void 0),P([o({type:Boolean,reflect:!0})],Ys.prototype,"hideProgressBar",void 0),P([v('slot[name="item"]')],Ys.prototype,"itemSlot",void 0),Ys=P([r("ll-progress-stepper")],Ys);
