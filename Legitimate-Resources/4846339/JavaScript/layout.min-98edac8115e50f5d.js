"use strict";dla.layout=function(){var t=$("#page").width(),e=$("body").width(),n=function(n){if(n&&n.status){if("success"!==n.status)return;if(!function(){if(0===arguments.length)return!1;for(var t=Array.prototype.slice.call(arguments),e=t.shift(),n=$(e.responseXML),a=n.find("update"),i=a.length;i-- >0;){var o=a[i].getAttribute("id");if(-1!==$.inArray(o,t))return!0}return!1}(n,"page","navigate"))return}!function(){t=$("#page").width(),e=$("body").width();var n=parseInt((e-t)/2,10);!dla.skin.isMobile&&dla.skin.staticViewport&&e<t&&(e=t),$(".fullWidth").css({left:"-"+parseInt(n)+"px"}).width(parseInt(e)),n<0&&(n=0),$(".js-fullWidth").css({left:"-"+parseInt(n)+"px",width:e})}(),function(){var n=parseInt((e-t)/2,10);n<0&&(n=0);$("#stageLarge").css({left:"-"+parseInt(n)+"px"}).width(parseInt(e))}()},a=function(t,e,n){var a=$(".js-front");a.removeClass("dark");var o=$("#frontContent");if(n&&o.data("isOverriden",!0),n||o&&""!==o.html()){i(),a.modal({backdrop:"static"}),dla.helper.scrollToTargetOnLoad(),e&&a.addClass(e);try{var r=$("#trackingInfo").data(),s=r.frontContent,c=r.pageId;"none"!==s&&dla.helper.onAvailability(["universalTracking"],(function(){dla.universalTracking.pseudoPageView("frontContent_"+s+"_"+c)}))}catch(t){}}return!1};function i(){var t=$(".js-front").parent();t.removeClass("bootstrap"),t.find(".modal-dialog").length>0&&t.addClass("bootstrap")}function o(){document.getElementById("exitPopup")&&(dla.ouibounce=ouibounce(document.getElementById("exitPopup"),{aggressive:!0,timer:0}))}return $(document).ready((function(){n(),dla.helper.scrollToTargetOnLoad({initial:!0}),$(window).resize(n),o(),dla.helper.onAvailability("bootstrapJs",(function(){a()}))})),{updateView:n,showFront:a,hideFront:function(){return $(".js-front").modal("hide"),$("#frontContent").html(""),$("#frontContentId").val(""),!1},addTitleAsInnerLabel:function(t){t.attr("title")&&(""===t.val()&&t.val(t.attr("title")),t.focus((function(){t.val()===t.attr("title")&&t.val("").addClass("focused")})),t.blur((function(){""===t.val()&&t.val(t.attr("title")).removeClass("focused")})))},checkForSuccessState:function(t){if("success"===t.status){var e=$("#"+t.source.id).parent();e.hasClass("error")?e.removeClass("success"):e.addClass("success")}},updateSelectLabel:function(t,e){e&&e.stopPropagation();var n=$(t).parent();n.find(".selectLabel").text(n.find("option:selected").text())},updateDateLabel:function(t){var e,n,a,i;t.parent().find(".selectLabel").text((e=t.val(),n=t.attr("pattern"),a=new Date(e),-1!==(i=n.replace(/(yyyy|mm|dd)/gi,(function(t){switch(t.toLowerCase()){case"yyyy":return a.getFullYear();case"mm":return("0"+(a.getMonth()+1)).slice(-2);case"dd":return("0"+a.getDate()).slice(-2)}}))).indexOf("NaN")?dla.messages.get("components_authentication_signUpStepTwo_birthDate"):i))},initSwitch:function(t,e,n,a){var i=1;if(t instanceof $||(t=$(t)),!t.length)return!1;function o(e){if(t.hasClass("inactive"))return!1;var n=$(e.currentTarget);n.hasClass("firstOption")&&2===i?r():n.hasClass("secondOption")&&1===i?s():(n.hasClass("switch")||n.hasClass("simpleSwitch"))&&(1===i?s():r())}function r(){t.removeClass("second"),e(),i=1}function s(){t.addClass("second"),n(),i=2}a&&2===a&&s(),t.hasClass("simpleSwitch")?t.on("mousedown",o):$(".firstOption, .secondOption, .switch",t).on("mousedown",o)},initFacebookProxy:function(){var t=$("#pageFooterFacebook"),e=t.find(".facebookShowButton"),n=t.find(".facebookLoginButton");function a(a){"connected"===a.status?FB.api("/me?fields=age_range",(function(e){var n;e.age_range&&e.age_range.min>=18&&(n=$("<iframe></iframe>").addClass("facebookIframe").attr("src",t.data("fbSrc")).attr("scrolling","no").attr("frameborder","0").attr("allowtransparency",!0),t.empty(),t.append(n))})):(e.hide(),n.show())}e.on("click",(function(){dla.helper.initFacebook($(this).data("fbLocale")),dla.helper.onAvailability("fbApi",(function(){FB.getLoginStatus(a)}))})),n.on("click",(function(){FB.login(a)}))},switchTwoTab:function(t){if(!$(t).hasClass("active")){var e=$(t).parent();e.find("span").toggleClass("active"),e.parent().parent().find(".tabContents > div").toggleClass("show")}},customFocus:function(t,e){var n=e||0;window.setTimeout((function(){var e=document.getElementById(t);e&&e.focus()}),n)},formElClickWithKey:function(t){!function(t,e){(e=e||[]).hasOwnProperty(t.keyCode)&&t.target.click()}(t,[32,13])},forceNumberInputOnly:function(t){return t.ctrlKey||t.altKey||47<t.keyCode&&t.keyCode<58&&!1===t.shiftKey||95<t.keyCode&&t.keyCode<106||8===t.keyCode||9===t.keyCode||t.keyCode>34&&t.keyCode<40||46===t.keyCode},initExitPopup:o,disableExitPopup:function(){dla.ouibounce&&dla.ouibounce.disable()},setBootstrapClassForContent:i,cancelBubling:function(t){t.stopPropagation()}}}(),dla.stageLarge=function(){var t,e,n,a;function i(t){if(a&&a.length>t){var e=$("#stageLarge");e.find(".infoLink").attr("href",a[t].link).attr("onclick",a[t].linkClickEvent).animate({opacity:1},400),e.find(".arrow").attr("href",a[t].link).attr("onclick",a[t].linkClickEvent).animate({opacity:1},400),e.find(".infoImg").attr("src",a[t].imageUrl)}}function o(){t++;var r=$("#stageLarge");r.find(".infoLink").animate({opacity:0},400),r.find(".arrow").animate({opacity:0},400),t>=a.length&&(t=0),e=window.setTimeout((function(){i(t)}),400),n=window.setTimeout(o,1e4)}return{init:function(r){if(a=r,t=0,e&&window.clearTimeout(e),n&&window.clearTimeout(n),r.length>1)for(var s=1;s<a.length;s++)dla.helper.preloadImages([a[s].imageUrl]);i(0),a.length>1&&(e=window.setTimeout(o,1e4))}}}(),dla.Winometer=function(t){var e=t.find(".bar"),n=t.find(".percentage");return{setPercentage:function(t){e.width(t.toFixed(1)+"%"),n.html(dla.helper.formatNumber(t.toFixed(1))+"%")}}},dla.ticket={render:function(t){var e=t.find(".ticketJSON");if(0===e.length)return!0;var n=e.text(),a=t.data();$.extend(a,{getTicketJSON:function(){return n},readOnly:!0}),a.ticketDomElements={target:t},dla.tickets.draw(a)},print:function(t){dla.helper.onAvailability(["universalTracking"],(function(){dla.universalTracking.trackUniversal([dla.universalTracking.action.LINK,dla.universalTracking.action.PRINT_TICKET])})),$(".ticketBody").each((function(e,n){n!==t.get(0)&&$(n).addClass("hidden-print")})),t.addClass("forcePrintBlock"),window.print(),setTimeout((function(){$("body").on("mousemove click keypress",(function(){t.removeClass("forcePrintBlock"),$(".ticketBody").each((function(e,n){n!==t.get(0)&&$(n).removeClass("noPrint hidden-print")}))}))}),200)}},window.jsf&&window.jsf.ajax&&(jsf.ajax.addOnEvent((function(t){if("success"===t.status){dla.layout.updateView();var e=t.responseText;-1===e.indexOf('<update id="pageDynamicContent">')&&-1===e.indexOf('<update id="page">')||($(window).scrollTop(0),dla.frontContent.hasFrontContent()||dla.helper.scrollToTargetOnLoad()),dla.messages.growlMessages(),dla.layout.initExitPopup()}})),function(){function t(){var t=$("#trackingInfo").data("pageId");$("[data-hide-on-page]").show(),$('[data-hide-on-page~="'+t+'"]').hide()}$(t),jsf.ajax.addOnEvent((function(e){"success"===e.status&&t()}))}());