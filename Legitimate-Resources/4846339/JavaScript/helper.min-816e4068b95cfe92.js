dla.helper.createNamespace("dla.payment.helper"),dla.payment.helper=function(){function e(e){return e.replace("ä","ae").replace("ö","oe").replace("ü","ue").replace("Ä","Ae").replace("Ö","Oe").replace("Ü","Ue").replace("ß","ss").replace(new RegExp("[^A-Za-z0-9 -]"),"").replace(/[^\x20-\x7E]+/g,"").trim()}return{formatAccountHolderName:e,toggleAlternativePaymentMethod:function(e){var n=e.currentTarget;dla.payment.getInstance(n).showNewPayments();var t=document.querySelector("li.paymentSelector."+n.id+".track");$("[id$=popupBinBlocked]").hide({done:function(){t.click()}})},isValidElvAccountHolderName:function(n){var t=e(n);return t.replace(new RegExp("[^A-Za-z0-9]"),"").length>2&&function(e){return null!==e.match("^.*[A-Za-z].*$")}(t)&&function(e){return null!==e.match("^.+\\s+.+$")}(t)},initClientInfo:function(){async function e(){let e=await Fingerprint2.getPromise();return Fingerprint2.x64hash128(e.map(e=>e.value).join(""),31)}if(function(){let e=$(".enableThreeDSOptileRequestEnrich"),n=$(".prioritize3DSecure"),t=$(".enable3DSHexopayRequestEnrich");return e.length>0||n.length>0||t.length>0}())return async function(){const n=$("meta[name=apiKey]").attr("content"),t=JSON.parse(localStorage.getItem("authToken")),a={javaEnabled:window.navigator.javaEnabled(),language:window.navigator.language,colorDepth:window.screen.colorDepth,timezone:(new window.Intl.DateTimeFormat).resolvedOptions().timeZone,browserScreenHeight:window.outerHeight,browserScreenWidth:window.outerWidth,userAgent:window.navigator.userAgent,deviceId:await e()};var r={method:"POST",body:JSON.stringify(a),headers:{"X-API-KEY":n,"Content-Type":"application/json",Accept:"application/json"},credentials:"include"};return t&&(r.headers.Authorization="Bearer "+t.accessToken),fetch("/api/stateful/payment/clientinfo",r).then(e=>e&&e.ok?e.json():Promise.reject()).catch(e=>e)}()},formatCvvCode:function(e){return(e.length>3?e.slice(0,3):e).replaceAll(/\D/g,"").trim()},submitForm:function(e){jsf.ajax.request(e.id,"action",{"javax.faces.behavior.event":"action","javax.faces.partial.event":"click",execute:"@form",render:"@none"})}}}();