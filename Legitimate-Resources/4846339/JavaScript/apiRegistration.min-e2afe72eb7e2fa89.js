"use strict";var dla=window.dla||{};dla.apiRegistration=function(e,t){const a=()=>dla.skin.isMobile,i=()=>{const t=e(".js-registration-support-teaser");e(".js-registration-welcome-teaser").removeClass("hidden"),t.addClass("hidden")},n=()=>{document.querySelector("ll-email-verification-welcome").dispatchEvent(new CustomEvent("ll-email-verification-welcome-modal"))},r=()=>{dla.helper.onAvailability(["universalTracking"],(function(){dla.universalTracking.trackRegistration(dla.universalTracking.action.REGISTRATION_FAILED),dla.universalTracking.pseudoPageView(dla.universalTracking.action.REGISTRATION_FAILED)})),(()=>{const t=e(".js-registration-support-teaser"),a=e(".js-registration-welcome-teaser");t.removeClass("hidden"),a.addClass("hidden")})()},o=()=>document.querySelector("ll-auth-registration"),s=()=>{var e;return null===(e=o())||void 0===e?void 0:e.closest(".l-overlay-animation-delay")},l=()=>{const e=s(),{opened:t="false",register:a="false"}=e?e.dataset:{};e&&"true"===t&&"true"===a&&e.classList.add("l-overlay-animation-delay-show")},d=()=>{const e=s();e&&(e.dataset.opened=!0,e.dataset.login=!1,e.classList.remove("l-overlay-animation-delay-show")),i(),l()},c=()=>{const e=s();e&&(e.dataset.opened=!1,e.dataset.login=!1),l()},g=()=>{const e=s();e&&(e.dataset.register=!0),l()},v=()=>{var e;window.addEventListener("register-open",d),window.addEventListener("register-close",c),null===(e=o())||void 0===e||e.addEventListener("ll-registration-form-loaded",g)},u=(s=!0)=>{const l=o();s&&v(),l&&(l.addEventListener("ll-registration-form-success",()=>{dla.helper.onAvailability(["universalTracking"],(function(){dla.universalTracking.trackRegistration(dla.universalTracking.action.REGISTRATION_SUCCESS),dla.universalTracking.pseudoPageView(dla.universalTracking.action.REGISTRATION_SUCCESS)})),dla.authentication.resolve(),a()||dla.authentication.close(!1),i(),n(),a()&&!dla.authentication.deferred()?window.location.reload():(t.ajax.render("playerFrontendConfig panicButtonContainer topNavigationSection jsClientScripts cmsFooterContent-linkList-footerLinksContainer winnerHeader lotteryNavigation page sessionTimer growlMessages").then(()=>{window.dispatchEvent(new CustomEvent("logged"))}),e("#lotteryNavigationSection").load("".concat(location.href," #lotteryNavigationSection")))}),l.addEventListener("ll-registration-form-error",()=>{r()}),l.addEventListener("ll-registration-form-redirect",e=>{const t=e.detail.token,a=e.detail.url;window.dla.navigateByForm.redirectTo(a,t)}),l.addEventListener("ll-registration-form-preregistered",()=>{a()||dla.authentication.close(!1),window.location.reload(),n()}))};return v(),!a()&&u(!1),(a()||document.querySelector("#frontContent .js-register-api"))&&d(),{addEventListeners:u}}(window.jQuery,window.jsf),$(window).trigger("available","apiRegistrationJs");