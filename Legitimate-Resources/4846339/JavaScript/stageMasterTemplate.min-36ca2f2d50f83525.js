!function(e){"use strict";e.llStageMasterTemplate=function(t,n){this.$element=e(t),this.data=this.$element.data(),this.defaults={carouselInner:".carousel-inner",stage_template:".l-stageTemplate",stageTemplateBanner:".l-stageTemplate-banner",firstBreakPoint:768},this.settings=e.extend({},this.defaults,n,this.data)};e.llStageMasterTemplate.prototype={onResize:function(){this.updateBannerHeight()},updateBannerHeight:function(){var e=this.$stageTemplateBanner.innerHeight(),t=this.$carouselInner.innerHeight();if(this.$element.hasClass("deActivated")){var n=this.$element.clone();n.removeClass("deActivated"),n.addClass("cloned"),n.css("opacity","0"),this.$carouselInner.append(n),e=this.$carouselInner.find(".cloned").find(this.settings.stageTemplateBanner).innerHeight(),this.$carouselInner.find(".cloned").remove()}window.innerWidth<this.firstBreakPoint?this.$element.css("background-size","auto "+(t-e)+"px"):this.$element.css("background-size","")},init:function(){var t;return this.firstBreakPoint=this.settings.firstBreakPoint,this.$stageTemplateBanner=this.$element.find(this.settings.stageTemplateBanner),this.$carouselInner=e(this.settings.carouselInner),t=this,e(window).on("resize",(function(){t.onResize()})),this}},e.fn.llStageMasterTemplate=function(t){return e(this).each((function(){if(!(e(this).closest(".l-stageCarousel-container.l-stageCarousel-fixed").length>0)){var n=new e.llStageMasterTemplate(this,t);n.init(),n.updateBannerHeight(),e(this).data("llStageMasterTemplate",n)}}))},e(document).ready((function(){dla.InjectionObserver.register({SELECTOR:".l-stageCarousel-slide-floatingBg",init:function(t){e(t).llStageMasterTemplate()}})}))}(jQuery);