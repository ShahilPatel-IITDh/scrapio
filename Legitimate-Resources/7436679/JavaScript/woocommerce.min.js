"use strict";class MiniCart{miniCartTop(){$("#tbay-top-cart").hide(),$(".mini-cart.top, #tbay-top-cart .offcanvas-close").on("click",function(){$("#tbay-top-cart").slideToggle(500)})}miniCartBottom(){$(".mini-cart.bottom").on("click",function(t){$(".tbay-bottom-cart").toggleClass("active")}),$(".tbay-bottom-cart .offcanvas-close").on("click",function(){$(".tbay-bottom-cart").removeClass("active")})}miniCartAll(){jQuery(".dropdown-toggle").dropdown();var t=$(window),a=$(".tbay-dropdown-cart .dropdown-content,.tbay-bottom-cart .content,.topbar-mobile .btn,#tbay-mobile-menu, .active-mobile button,#tbay-offcanvas-main,.topbar-mobile .btn-toggle-canvas,#tbay-offcanvas-main .btn-toggle-canvas");t.on("click.Bst,click touchstart tap",function(t){0!=a.has(t.target).length||a.is(t.target)||($("#wrapper-container").removeClass("active active-cart"),$("#wrapper-container").removeClass("offcanvas-right"),$("#wrapper-container").removeClass("offcanvas-left"),$(".tbay-dropdown-cart").removeClass("active"),$("#tbay-offcanvas-main,.tbay-offcanvas").removeClass("active"),$("#tbay-dropdown-cart").hide(500),$(".tbay-bottom-cart").removeClass("active"))}),$("#tbay-offcanvas-main .btn-toggle-canvas").on("click",function(){$("#tbay-offcanvas-main").removeClass("active")}),$(".mini-cart.v2").on("click",function(t){$("#wrapper-container").toggleClass("active-cart"),$("#wrapper-container").toggleClass(t.currentTarget.dataset.offcanvas),$(".tbay-dropdown-cart").toggleClass("active")}),$(".tbay-dropdown-cart.v2 .offcanvas-close").on("click",function(){$("#wrapper-container").removeClass("active"),$("#wrapper-container").removeClass("offcanvas-right"),$("#wrapper-container").removeClass("offcanvas-left"),$(".tbay-dropdown-cart").removeClass("active")})}}const ADDING_TO_CART_EVENT="adding_to_cart",ADDED_TO_CART_EVENT="added_to_cart",LOADMORE_AJAX_HOME_PAGE="puca_more_post_ajax",LOADMORE_AJAX_SHOP_PAGE="puca_pagination_more_post_ajax",LIST_POST_AJAX_SHOP_PAGE="puca_list_post_ajax",GRID_POST_AJAX_SHOP_PAGE="puca_grid_post_ajax";class AjaxCart{constructor(){if("undefined"!=typeof puca_settings){var t=this;switch(this.ajaxCartPosition=puca_settings.cart_position,this.ajaxCartPosition){case"popup":this._initAjaxPopupOrTopCart("popup");break;case"top":this._initAjaxPopupOrTopCart("top");break;case"bottom":this._initAjaxCartBottom(),this._initAjaxSingleCart();break;case"left":this._initAjaxCartLeftOrRight("left"),this._initAjaxSingleCart();break;case"right":this._initAjaxCartLeftOrRight("right"),this._initAjaxSingleCart()}MiniCart.prototype.miniCartAll(),this._initEventRemoveProduct(),t._initEventMiniCartAjaxQuantity()}}_initAjaxPopupOrTopCart(t){var a=null,e=null;jQuery(`.ajax_cart_${t}`).on("adding_to_cart",(t,n,i)=>{a=i;if("undefined"==a.product_id)return;e=a.product_id}),jQuery(`.ajax_cart_${t}`).on("added_to_cart",function(){if(a&&null!=a){$("#tbay-cart-modal").modal();var t=puca_settings.ajaxurl+"?action=puca_add_to_cart_product&product_id="+e;$.get(t,function(t,a){$("#tbay-cart-modal .modal-body .modal-body-content").html(t)}),$("#tbay-cart-modal").on("hidden.bs.modal",function(){$(this).find(".modal-body .modal-body-content").empty()})}}),"top"==t&&MiniCart.prototype.miniCartTop()}_initAjaxSingleCart(){puca_settings.enable_ajax_add_to_cart&&puca_settings.ajax_single_add_to_cart&&$(document).on("click",".single_add_to_cart_button",function(t){if(!($(this).closest("form.cart").find('input[name="puca_buy_now"]').length>0&&"1"===$(this).closest("form.cart").find('input[name="puca_buy_now"]').val())){let d=$(this),l=d.closest("form.cart");if(!(l.hasClass("grouped_form")||0==l.find("input[name=quantity]").length||d.parents("#yith-quick-view-content").length>0)){var a=d.val(),e=l.find("input[name=quantity]").val()||1,n=l.find("input[name=product_id]").val()||a,i=$(this).closest(".variations_form"),o=0,r={};if(n&&!d.is(".disabled")){if(i.length>0){o=i.find("input[name=variation_id]").val(),n=i.find("input[name=product_id]").val();var n=i.find("input[name=product_id]").val(),s=(i.find("input[name=quantity]").val(),!0);let t=i.find("select[name^=attribute]");if(t.length||(t=i.find("[name^=attribute]:checked")),t.length||(t=i.find("input[name^=attribute]")),t.each(function(){var t,a,e=$(this),n=e.attr("name"),i=e.val();e.removeClass("error"),0===i.length?(t=n.lastIndexOf("_"),a=n.substring(t+1),e.addClass("required error").before('<div class="ajaxerrors"><p>Please select '+a+"</p></div>"),s=!1):r[n]=i}),!s)return!1}t.preventDefault();var c={action:"woocommerce_ajax_add_to_cart",product_id:n,product_sku:"",quantity:e,variation_id:o,variation:r};return $(document.body).trigger("adding_to_cart",[d,c]),$.ajax({type:"post",url:wc_add_to_cart_params.ajax_url,data:c,beforeSend:function(t){d.removeClass("added").addClass("loading")},complete:function(t){d.addClass("added").removeClass("loading")},success:function(t){if($.each(t.fragments,function(t,a){$(t).replaceWith(a)}),t.error&t.product_url)return void(window.location=t.product_url);$(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,d]),$(".woocommerce-notices-wrapper").empty().append(t.notices),$(".tbay-dropdown-cart").addClass("active")}}),!1}}}})}_initAjaxCartBottom(){jQuery(".ajax_cart_bottom").on("added_to_cart",function(){$(".tbay-bottom-cart").addClass("active")}),MiniCart.prototype.miniCartBottom()}_initAjaxCartLeftOrRight(t){jQuery(`.ajax_cart_${t}`).on("added_to_cart",function(){$(".tbay-dropdown-cart").addClass("active")})}_initEventRemoveProduct(){puca_settings.enable_ajax_add_to_cart&&$(document).on("click",".mini_cart_content a.remove",t=>{this._onclickRemoveProduct(t)})}_onclickRemoveProduct(t){t.preventDefault();var a=$(t.currentTarget).attr("data-product_id"),e=$(t.currentTarget).attr("data-cart_item_key"),n=jQuery(t.currentTarget).parents(".mini_cart_item"),i=$(t.currentTarget).closest(".widget_shopping_cart_content");n.block({message:null,overlayCSS:{cursor:"none"}}),this._callRemoveProductAjax(a,e,i,t)}_callRemoveProductAjax(t,a,e,n){$.ajax({type:"POST",dataType:"json",url:wc_add_to_cart_params.ajax_url,data:{action:"product_remove",product_id:t,cart_item_key:a},beforeSend:function(){e.find(".mini_cart_content").append('<div class="ajax-loader-wapper"><div class="ajax-loader"></div></div>').fadeTo("slow",.3),n.stopPropagation()},success:a=>{this._onRemoveSuccess(a,t)}})}_onRemoveSuccess(t,a){if(t&&!t.error){var e=t.fragments;e&&$.each(e,function(t,a){$(t).replaceWith(a)}),$('.add_to_cart_button.added[data-product_id="'+a+'"]').removeClass("added").next(".wc-forward").remove()}}_initEventMiniCartAjaxQuantity(){$("body").on("change",".mini_cart_content .qty",function(t){t.preventDefault();var a=puca_settings.wc_ajax_url.toString().replace("%%endpoint%%","puca_quantity_mini_cart"),e=$(this),n=$(e).parents(".mini_cart_content"),i=$(e).attr("name").replace(/cart\[([\w]+)\]\[qty\]/g,"$1"),o=parseFloat($(e).attr("max"));o||(o=!1);var r=parseFloat($(e).val());o>0&&r>o&&($(e).val(o),r=o),$.ajax({url:a,type:"POST",dataType:"json",cache:!1,data:{hash:i,quantity:r},beforeSend:function(){n.append('<div class="ajax-loader-wapper"><div class="ajax-loader"></div></div>').fadeTo("slow",.3),t.stopPropagation()},success:function(t){t&&t.fragments&&($.each(t.fragments,function(t,a){$(t).length&&$(t).replaceWith(a)}),"undefined"!=typeof $supports_html5_storage&&$supports_html5_storage&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(t.fragments)),set_cart_hash(t.cart_hash),t.cart_hash&&set_cart_creation_timestamp()),$(document.body).trigger("wc_fragments_refreshed"))}})})}}class WishList{constructor(){this._onChangeWishListItem()}_onChangeWishListItem(){jQuery(document).on("added_to_wishlist removed_from_wishlist",()=>{var t=jQuery(".count_wishlist");if(0===t.length)return;$.ajax({url:yith_wcwl_l10n.ajax_url,data:{action:"yith_wcwl_update_wishlist_count"},dataType:"json",success:function(a){t.html(a.count)},beforeSend:function(){t.block()},complete:function(){t.unblock()}})})}}class ProductItem{initOnChangeQuantity(t){var a=this;jQuery(document).off("click",".plus, .minus").on("click",".plus, .minus",function(e){e.preventDefault();var n=jQuery(this).closest(".quantity").find(".qty"),i=parseFloat(n.val()),o=n.attr("max"),r=n.attr("min"),s=n.attr("step"),c=a.numberAfterDecimal(s);i=i&&""!==i&&"NaN"!==i?i:0,o=""===o||"NaN"===o?"":o,r=""===r||"NaN"===r?0:r,s="any"===s||""===s||void 0===s||NaN===parseFloat(s)?1:s,$(this).is(".plus")?o&&(o==i||i>o)?n.val(o):n.val((i+parseFloat(s)).toFixed(c)):r&&(r==i||i<r)?n.val(r):i>0&&n.val((i-parseFloat(s)).toFixed(c)),t&&"function"==typeof t&&($(this).parent().find("input").trigger("change"),t(),$(e.target).parents(".mini_cart_content").length>0&&e.stopPropagation())})}numberAfterDecimal(t){let a=0;return t.toString().split(".").length>1?a=t.toString().split(".")[1].length:a}_initQuantityMode(){"undefined"!=typeof puca_settings&&puca_settings.quantity_mode&&($(".woocommerce .products").on("click",".quantity .qty",function(){return!1}),$(document).on("change",".quantity .qty",function(){$(this).parents(".product-block").find(".add_to_cart_button").attr("data-quantity",$(this).val())}),$(document).on("keypress",".quantity .qty",function(t){13===(t.which||t.keyCode)&&$(this).parents(".product-block").find(".add_to_cart_button").trigger("click")}))}_initSwatches(){jQuery("body").on("click",".tbay-swatches-wrapper li a",function(){let t=!1,a=$(this).closest(".product-block");var e=a.find(".product-image img:eq(0)");$(this).closest("ul").hasClass("active")||($(this).closest("ul").addClass("active"),e.attr("data-old",e.attr("src"))),$(this).hasClass("selected")?(e.attr("src",e.data("old")),$(this).removeClass("selected"),a.removeClass("product-swatched")):($(this).closest("ul").find("li a").each(function(){$(this).hasClass("selected")&&$(this).removeClass("selected")}),$(this).addClass("selected"),a.addClass("product-swatched"),t=!0),t&&(void 0!==$(this).data("imageSrc")&&e.attr("src",$(this).data("imageSrc")),void 0!==$(this).data("imageSrcset")&&e.attr("srcset",$(this).data("imageSrcset")),void 0!==$(this).data("imageSizes")&&e.attr("sizes",$(this).data("imageSizes")))})}}class Cart{constructor(){"undefined"!=typeof puca_settings&&(this._initEventChangeQuantity(),$(document.body).on("updated_wc_div",()=>{this._initEventChangeQuantity();$(document.body).trigger("puca_load_more");woocs_refresh_mini_cart(200);"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form()})}))}_initEventChangeQuantity(){(new ProductItem).initOnChangeQuantity(()=>{$("body.woocommerce-cart [name='update_cart']").length>0&&($('.woocommerce-cart-form :input[name="update_cart"]').prop("disabled",!1),puca_settings.ajax_update_quantity&&$("[name='update_cart']").trigger("click"))})}}class Checkout{constructor(){this._toogleWoocommerceIcon()}_toogleWoocommerceIcon(){$(".woocommerce-info a").length<1||$(".woocommerce-info a").on("click",function(){$(this).find(".icons").toggleClass("icon-arrow-down").toggleClass("icon-arrow-up")})}}class SideBar{constructor(){this._layoutShopCanvasSidebar(),this._layoutShopFullWidth(),this._layoutSidebarMobile()}_layoutShopCanvasSidebar(){$(".button-canvas-sidebar, .product-canvas-sidebar .product-canvas-close").on("click",function(t){$(".product-canvas-sidebar").toggleClass("active"),$("body").toggleClass("product-canvas-active")});var t=$(window),a=$(".product-canvas-sidebar .content,.button-canvas-sidebar");t.on("click.Bst",t=>{t.target;0!=a.has(t.target).length||a.is(t.target)||($(".product-canvas-sidebar").removeClass("active"),$("body").removeClass("product-canvas-active"))})}_layoutSidebarMobile(){$(document).on("click",".puca-sidebar-mobile-btn",function(){$("body").toggleClass("show-sidebar")}),$(document).on("click",".close-side-widget, .puca-close-side",function(){$("body").removeClass("show-sidebar")})}_layoutShopFullWidth(){$(".button-product-top").on("click",function(t){$(".product-top-sidebar").toggleClass("active"),$(".product-top-sidebar > .container .content").slideToggle(500,function(){})})}}class LoadMore{constructor(){"undefined"!=typeof puca_settings&&(this._initLoadMoreOnHomePage(),this._initLoadMoreOnShopPage(),this._int_berocket_lmp_end())}_initLoadMoreOnHomePage(){var t=this;$(".more_products").each(function(){var a=$(this).data("id");$(`#more_products_${a} a[data-loadmore="true"]`).on("click",function(){var e=$(this);return t._callAjaxLoadMore({data:{action:"puca_more_post_ajax",paged:$(this).data("paged")+1,number:$(this).data("number"),columns:$(this).data("columns"),layout:$(this).data("layout"),type:$(this).data("type"),category:$(this).data("category"),screen_desktop:$(this).data("desktop"),screen_desktopsmall:$(this).data("desktopsmall"),screen_tablet:$(this).data("tablet"),screen_mobile:$(this).data("mobile")},event:e,id:a,thisItem:$(this).parent().parent()}),!1})})}_initLoadMoreOnShopPage(){$(".tbay-pagination-load-more").each(function(t){$('.tbay-pagination-load-more a[data-loadmore="true"]').on("click",function(){var t=$(this),a={action:LOADMORE_AJAX_SHOP_PAGE,query:puca_settings.posts,page:puca_settings.current_page};return $.ajax({url:woocommerce_params.ajax_url,data:a,type:"POST",beforeSend:function(a){t.addClass("active")},success:function(a){a?(t.closest("#content").find(".products > .row").append(a),puca_settings.current_page++,$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),$(document.body).trigger("puca_load_more"),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change"),$(this).wc_variation_form()}),t.removeClass("active"),puca_settings.current_page==puca_settings.max_page&&t.remove()):t.remove()}}),!1})})}_callAjaxLoadMore(t){var a=this,e=t.data,n=t.event;$.ajax({type:"POST",dataType:"JSON",url:woocommerce_params.ajax_url,data:e,beforeSend:function(){n.addClass("active")},success:function(e){a._onAjaxSuccess(e,t)}})}_onAjaxSuccess(t,a){var e=a.data,n=a.event;0==t.check&&n.remove(),n.data("paged",e.paged),n.data("number",e.number+e.columns*("puca_more_post_ajax"===a.data.action?3:2)),("puca_more_post_ajax"===a.data.action?$(`.widget_products_${a.id} .products>.row`):$(".archive-shop .products >.row")).append(t.posts),$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),$(document.body).trigger("puca_load_more"),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form()}),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),n.find(".loadding").remove(),n.removeClass("active"),n.button("reset"),a.thisItem.removeAttr("style")}_int_berocket_lmp_end(){$(document).on("berocket_lmp_end",()=>{$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()});$(document.body).trigger("puca_load_more");"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized"));"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")})})}}class ModalVideo{constructor(t,a={classBtn:".tbay-modalButton",defaultW:640,defaultH:360}){this.$el=t,this.options=a,this._initVideoIframe()}_initVideoIframe(){$(`${this.options.classBtn}[data-target='${this.$el}']`).on("click",this._onClickModalBtn),$(this.$el).on("hidden.bs.modal",()=>{$(this.$el).find("iframe").html("").attr("src","")})}_onClickModalBtn(t){let a=$(t.currentTarget).data("target");var e=$(t.currentTarget).attr("data-tbayVideoFullscreen")||!1,n={src:$(t.currentTarget).attr("data-tbaySrc"),height:$(t.currentTarget).attr("data-tbayHeight")||this.options.defaultH,width:$(t.currentTarget).attr("data-tbayWidth")||this.options.defaultW};e&&(n.allowfullscreen=""),$(a).find("iframe").attr(n)}}class WooCommon{constructor(){this._pucaFixRemove(),this._pucaVideoModal()}_pucaFixRemove(){$(".tbay-gallery-varible .woocommerce-product-gallery__trigger").remove()}_pucaVideoModal(){$(".tbay-video-modal").each((t,a)=>{new ModalVideo(`#video-modal-${$(a).attr("data-id")}`)})}}class QuickView{constructor(){$(document).on("qv_loader_stop",()=>{(new ProductItem).initOnChangeQuantity()})}}class singleProduct{constructor(){var t=this;t._initOnClickReview(),t._initBuyNow(),t._intReviewPopup(),t._intSliderGallery(),t._initChangeImageVarible(),t._initOpenAttributeMobile(),t._initCloseAttributeMobile(),t._initCloseAttributeMobileWrapper(),t._initAddToCartClickMobile(),t._initBuyNowwClickMobile()}_initOnClickReview(){$("body").on("click","a.woocommerce-review-link",function(){$("#reviews").closest(".panel").find(".tabs-title a").hasClass("collapsed")&&$("#reviews").closest(".panel").find(".tabs-title a.collapsed").on("click")})}_initBuyNow(){$("body").on("click",".tbay-buy-now",function(t){t.preventDefault();let a=$(this).closest("form.cart"),e=a.find('[type="submit"]'),n=a.find('input[name="puca_buy_now"]');e.is(".disabled")?e.trigger("click"):(n.val("1"),a.find(".single_add_to_cart_button").click())}),$(document.body).on("check_variations",function(){$("form.variations_form").find(".single_add_to_cart_button").each(function(t){$(this).is(".disabled")?$(this).parent().find(".tbay-buy-now").addClass("disabled"):$(this).parent().find(".tbay-buy-now").removeClass("disabled")})})}_initChangeImageVarible(){0!==$("form.variations_form").length&&$("form.variations_form").on("change",function(){var t=$(this),a=[];let e=$(".flex-control-thumbs").find(".flex-active").attr("src");$(".mobile-infor-wrapper img").attr("src",e),t.find(".single_variation_wrap .single_variation .woocommerce-variation-price").is(":empty")||($(".woocommerce-variation-add-to-cart").hasClass("woocommerce-variation-add-to-cart-disabled")?(t.find(".mobile-infor-wrapper .infor-body .price").empty().append(t.parent().find(".price").html()),t.find(".mobile-infor-wrapper .infor-body > .stock").show()):t.find(".single_variation_wrap .single_variation").is(":empty")?t.find(".mobile-infor-wrapper .infor-body .price").empty().append(t.parent().find(".price").html()):(t.find(".mobile-infor-wrapper .infor-body .price").empty().append(t.find(".single_variation_wrap .single_variation").html()),t.find(".single_variation_wrap .single_variation .woocommerce-variation-availability").is(":empty")||t.find(".mobile-infor-wrapper .infor-body > .stock").hide())),t.find(".variations tr").each(function(){void 0!==$(this).find("select").val()&&a.push($(this).find("select option:selected").text())}),t.parent().find(".mobile-attribute-list .value").empty().append(a.join("/ "))})}_intReviewPopup(){if(0!==$("#list-review-images").length){var t=[];$("#list-review-images").find(".review-item").each(function(){var a=$(this).find("a"),e={src:a.attr("href"),w:a.data("width"),h:a.data("height"),title:a.data("caption")};t.push(e)}),$("#list-review-images .review-gallery").off("click").on("click",function(a){a.preventDefault();var e=$(".pswp")[0],n={index:$(this).parents(".review-item").index(),showHideOpacity:!0,closeOnVerticalDrag:!1,mainClass:"pswp-review-images"};new PhotoSwipe(e,PhotoSwipeUI_Default,t,n).init()})}}_intSliderGallery(){if(0!==$("#product-sliders-gallery").length){var t=[];$("#product-sliders-gallery").find(".slider-gallery").each(function(){var a={src:$(this).attr("href"),w:$(this).data("width"),h:$(this).data("height"),title:$(this).data("caption")};t.push(a)}),$("#product-sliders-gallery .slider-gallery").off("click").on("click",function(a){a.preventDefault();var e=$(".pswp")[0],n={index:$(this).parents(".product-gallery-item").index(),showHideOpacity:!0,closeOnVerticalDrag:!1,mainClass:"pswp-gallery-images"};new PhotoSwipe(e,PhotoSwipeUI_Default,t,n).init()})}}_initOpenAttributeMobile(){let t=$("#attribute-open");0!==t.length&&t.on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-all"),$(this).parents("#tbay-main-content").addClass("open-main-content")})}_initAddToCartClickMobile(){let t=$("#tbay-click-addtocart");0!==t.length&&t.on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-addtocart"),$(this).parents("#tbay-main-content").addClass("open-main-content")})}_initBuyNowwClickMobile(){let t=$("#tbay-click-buy-now");0!==t.length&&t.on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-buynow"),$(this).parents("#tbay-main-content").addClass("open-main-content")})}_initCloseAttributeMobile(){let t=$("#mobile-close-infor");0!==t.length&&t.on("click",function(){$(this).parents("form.cart").removeClass("open"),$(this).parents("form.cart").hasClass("open-btn-all")&&($(this).parents("form.cart").removeClass("open-btn-all"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parents("form.cart").hasClass("open-btn-buynow")&&($(this).parents("form.cart").removeClass("open-btn-buynow"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parents("form.cart").hasClass("open-btn-addtocart")&&($(this).parents("form.cart").removeClass("open-btn-addtocart"),$(this).parents("#tbay-main-content").removeClass("open-main-content"))})}_initCloseAttributeMobileWrapper(){let t=$("#mobile-close-infor-wrapper");0!==t.length&&t.on("click",function(){$(this).parent().find("form.cart").removeClass("open"),$(this).parent().find("form.cart").hasClass("open-btn-all")&&($(this).parent().find("form.cart").removeClass("open-btn-all"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parent().find("form.cart").hasClass("open-btn-buynow")&&($(this).parent().find("form.cart").removeClass("open-btn-buynow"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parent().find("form.cart").hasClass("open-btn-addtocart")&&($(this).parent().find("form.cart").removeClass("open-btn-addtocart"),$(this).parents("#tbay-main-content").removeClass("open-main-content"))})}}class DisplayMode{constructor(){"undefined"!=typeof puca_settings&&(this._initModeListShopPage(),this._initModeGridShopPage(),$(document.body).on("displayMode",()=>{this._initModeListShopPage();this._initModeGridShopPage()}),$(document).on("woof_ajax_done",()=>{this._initModeListShopPage();this._initModeGridShopPage();"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized"));"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")})}))}_initModeListShopPage(){$(".display-mode button.list").each(function(t){$(this).on("click",function(){if(!$(this).hasClass("active")){var t=$(this),a={action:"puca_list_post_ajax",query:puca_settings.posts};return $.ajax({url:puca_settings.ajaxurl,data:a,type:"POST",beforeSend:function(a){t.closest("#main").find(".products").addClass("load-ajax")},success:function(a){if(a){t.parent().children().removeClass("active"),t.addClass("active"),t.closest("#main").find(".products > div").html(a);let e=t.closest("#main").find("div.products");e.addClass("products-list").removeClass("products-grid").fadeIn(300),$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),$(document.body).trigger("puca_load_more"),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),t.closest("#main").find(".products").removeClass("load-ajax"),Cookies.set("display_mode","list",{expires:.1,path:"/"})}}}),!1}})})}_initModeGridShopPage(){$(".display-mode button.grid").each(function(t){$(this).on("click",function(){if(!$(this).hasClass("active")){var t=$(this),a={action:"puca_grid_post_ajax",query:puca_settings.posts};return $.ajax({url:puca_settings.ajaxurl,data:a,type:"POST",beforeSend:function(a){t.closest("#main").find(".products").addClass("load-ajax")},success:function(a){if(a){t.parent().children().removeClass("active"),t.addClass("active"),t.closest("#main").find(".products > div").html(a);let e=t.closest("#main").find("div.products");e.addClass("products-grid").removeClass("products-list").fadeIn(300),$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),$(document.body).trigger("puca_load_more"),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),e.removeClass("load-ajax"),Cookies.set("display_mode","grid",{expires:.1,path:"/"})}}}),!1}})})}_getDisplayMode(){if("list"==puca_settings.display_mode?Cookies.set("display_mode","list",{expires:.1,path:"/"}):"grid"==puca_settings.display_mode&&Cookies.set("display_mode","grid",{expires:.1,path:"/"}),void 0!=Cookies.get("display_mode")&&""!==Cookies.get("display_mode")){if("grid"==Cookies.get("display_mode")){let t=$(".display-mode").find("button.grid");t.parent().children().removeClass("active"),t.addClass("active"),$(".tbay-filter").parents("#main").find(".products").addClass("products-"+Cookies.get("display_mode"))}if("list"==Cookies.get("display_mode")){let t=$(".display-mode").find("button.list");t.parent().children().removeClass("active"),t.addClass("active"),$(".tbay-filter").parents("#main").find(".products").addClass("products-"+Cookies.get("display_mode"))}}}}class ProductTabs{constructor(){"undefined"!=typeof puca_settings&&this._initProductTabs()}_initProductTabs(){var t=!1;$(".tbay-product-tabs-ajax.ajax-active").each(function(){$(this).find(".product-tabs-title li a").off("click").on("click",function(a){a.preventDefault();var e=$(this),n=e.parent().parent().data("atts"),i=e.data("value"),o=e.attr("href");t||$(o).hasClass("active-content")||(t=!0,$.ajax({url:puca_settings.ajaxurl,data:{atts:n,value:i,action:"puca_get_products_tab_shortcode"},dataType:"json",method:"POST",beforeSend:function(t){$(o).parent().addClass("load-ajax")},success:function(t){$(o).find(".grid-wrapper").prepend(t.html),$(o).parent().find(".current").removeClass("current"),$(o).parent().removeClass("load-ajax"),$(o).addClass("active-content"),$(o).addClass("current"),$(document.body).trigger("tbay_carousel_slick"),$(document.body).trigger("tbay_ajax_tabs_products")},error:function(){console.log("ajax error")},complete:function(){t=!1}}))})})}}class ProductCategoriesTabs{constructor(){"undefined"!=typeof puca_settings&&this._initProductCategoriesTabs()}_initProductCategoriesTabs(){var t=!1;$(".tbay-product-categories-tabs-ajax.ajax-active").each(function(){$(this).find(".product-categories-tabs-title li a").off("click").on("click",function(a){a.preventDefault();var e=$(this),n=e.parent().parent().data("atts"),i=e.data("value"),o=e.attr("href"),r=void 0!==e.data("type")?e.data("type"):"";t||$(o).hasClass("active-content")||(t=!0,$.ajax({url:puca_settings.ajaxurl,data:{atts:n,value:i,type:r,action:"puca_get_products_categories_tab_shortcode"},dataType:"json",method:"POST",beforeSend:function(t){$(o).parent().addClass("load-ajax")},success:function(t){$(o).find(".tab-ajax-content").length>0?$(o).find(".tab-ajax-content").prepend(t.html):$(o).find(".tab-banner").length>0?$(o).append(t.html):$(o).prepend(t.html),$(o).parent().find(".current").removeClass("current"),$(o).parent().removeClass("load-ajax"),$(o).addClass("active-content"),$(o).addClass("current"),$(document.body).trigger("tbay_carousel_slick"),$(document.body).trigger("tbay_ajax_tabs_products")},error:function(){console.log("ajax error")},complete:function(){t=!1}}))})})}}jQuery(document).ready(()=>{var t=new ProductItem;t._initSwatches();t.initOnChangeQuantity();t._initQuantityMode();jQuery(document.body).trigger("tawcvs_initialized");new AjaxCart,new singleProduct,new SideBar,new WishList,new Cart,new Checkout,new WooCommon,new LoadMore,new ModalVideo("#productvideo"),new QuickView,new DisplayMode,new ProductTabs,new ProductCategoriesTabs}),setTimeout(function(){jQuery(document.body).on("wc_fragments_refreshed wc_fragments_loaded removed_from_cart",function(){(new ProductItem).initOnChangeQuantity(()=>{})})},30),jQuery(document).on("woof_ajax_done",()=>{let t=new DisplayMode;t._initModeListShopPage();t._initModeGridShopPage();"undefined"!=typeof tawcvs_variation_swatches_form&&(jQuery(".variations_form").tawcvs_variation_swatches_form(),jQuery(document.body).trigger("tawcvs_initialized"));"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")})});var AjaxProductTabs=function(t,a){new ProductTabs,new ProductCategoriesTabs};jQuery(window).on("elementor/frontend/init",function(){"undefined"!=typeof puca_settings&&elementorFrontend.isEditMode()&&Array.isArray(puca_settings.elements_ready.ajax_tabs)&&jQuery.each(puca_settings.elements_ready.ajax_tabs,function(t,a){elementorFrontend.hooks.addAction("frontend/element_ready/tbay-"+a+".default",AjaxProductTabs)})});
