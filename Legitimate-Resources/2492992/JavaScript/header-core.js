(()=>{var e={516:function(e){var t;t=()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{JsComponent:()=>o});const n=()=>{try{throw Error()}catch(e){return{abort:()=>{},signal:void 0}}};class o{static refs;_ref;_rootElement;_props;_cleanUpController;constructor(e,t){let r;return void 0===e.dataset.ref?(r=this,this._ref=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(),this._rootElement=e,o.refs[this._ref]=this,e.dataset.ref=this._ref.toString()):r=o.refs[e.dataset.ref],this._cleanUpController=n(),this._props=t,r}get cleanUpControllerSignal(){return this._cleanUpController?.signal?{signal:this._cleanUpController.signal}:void 0}render(){return this._rootElement.innerHTML=this.template(this._props).replace(/\>\s+\</g,"><").trim(),this.onRender(this._props),this}reRender(e){return this.destructor(),this._cleanUpController=n(),this._props=e,this.render()}onRender(e){}destructor(){this._cleanUpController.abort(),this._rootElement.innerHTML=""}}return o.refs={},t})(),e.exports=t()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}(()=>{"use strict";const e="https://static.carfax.com/global-header",t=()=>window["__carfax-header-modules"]??[];var o=n(516);const r=(e,t)=>{switch(t){case"staging":return e.replace("//www.","//beta.").replace("//support.","//staging-support.");case"development":case"local":return e.replace("//www.","//alpha.").replace("//support.","//development-support.");default:return e}},s=()=>{switch(!0){case i("localhost"):return"local";case i("alpha"):case i("development"):return"development";case i("beta"):case i("staging"):case i("www-qa"):case i("www-dev"):return"staging";default:return"production"}},i=e=>{try{return window.location.origin.indexOf(e)>-1}catch(e){return!1}},a=e=>{const t="135";let n;const o=window?.s_gi;if("function"==typeof o)n=o("carfaxcom"),n.linkTrackVars="events",n.linkTrackEvents=`event${t}`,n.events=`event${t}`,n.tl(!0,"o",e);else{const n={linkTrackVars:"events",linkTrackEvents:`event${t}`,omnitureId:e,events:`event${t}`};console.warn("carfax-header: issue loading omniture... you would have fired: ",n)}};class c extends o.JsComponent{_buttonElement;_menuItemElements;constructor(e,t){super(e,t),this._menuItemElements=[]}template=({buttonAriaLabel:e,buttonContent:t,level:n,links:o,isOpen:s})=>`\n      <button\n        class="cgh__drop-menu-button"\n        ${e?`aria-label="${e}"`:""}\n        aria-haspopup="true"\n        aria-expanded="${s??!1}"\n      >\n        ${t}\n      </button>\n      <ul class="cgh__drop-menu-list">\n        ${o.map((({href:e,onClick:t,title:o})=>`<li>\n              ${t?`<button class="cgh__drop-menu-item">${o}</button>`:`<a class="cgh__drop-menu-item" href=${r(e??"",n)}>\n                  ${o}\n                </a>`}\n            </li>`)).join("")}\n      </ul>\n    `;onRender(e){this.queryElements(),this.wireLinkClickListeners(e),this.wireKeyboardA11y(e),this.wireOpenClose(e),this.wireOnOutsideClickClose(e)}queryElements(){this._buttonElement=this._rootElement.querySelector(".cgh__drop-menu-button");const e=this._rootElement.querySelectorAll(".cgh__drop-menu-item");this._menuItemElements=[];for(let t=0;t<e.length;t++)this._menuItemElements.push(e[t])}isMenuOpen=()=>"true"===this._buttonElement?.getAttribute("aria-expanded");setMenuOpen(e){e.setIsOpen?.(!0),this.reRender({...e,isOpen:!0}),this._menuItemElements?.[0].focus()}setMenuClose(e){e.setIsOpen?.(!1),this.reRender({...e,isOpen:!1})}wireLinkClickListeners({links:e}){for(let t=0;t<e.length;t++){const n=e[t].onClick,o=e[t].omnitureId;(n||o)&&this._menuItemElements?.[t].addEventListener("click",(()=>{n&&n(),o&&a(o)}))}}wireKeyboardA11y(e){if(this._buttonElement?.addEventListener("keydown",(t=>{switch(t.key){case"ArrowUp":t.preventDefault(),this.setMenuOpen(e),this._menuItemElements?.[this._menuItemElements.length-1].focus();break;case"ArrowDown":t.preventDefault(),this.setMenuOpen(e),this._menuItemElements?.[0].focus()}}),this.cleanUpControllerSignal),this._menuItemElements)for(let t=0;t<this._menuItemElements.length;t++)this._menuItemElements[t].addEventListener("keydown",(n=>{if(n.preventDefault(),this._menuItemElements&&this._buttonElement)switch(n.key){case"ArrowUp":const n=(this._menuItemElements.length+t-1)%this._menuItemElements.length;this._menuItemElements[n].focus();break;case"ArrowDown":const o=(t+1)%this._menuItemElements.length;this._menuItemElements[o].focus();break;case"Escape":this._buttonElement.focus(),this.setMenuClose(e);break;case"End":this._menuItemElements[this._menuItemElements.length-1].focus();break;case"Home":this._menuItemElements[0].focus();break;case"Tab":this.setMenuClose(e),this._buttonElement.focus()}}),this.cleanUpControllerSignal)}wireOpenClose(e){this._buttonElement?.addEventListener("click",(()=>{this.isMenuOpen()?this.setMenuClose(e):this.setMenuOpen(e)}),this.cleanUpControllerSignal)}wireOnOutsideClickClose=e=>{window.addEventListener("click",(t=>{const n=!t?.composedPath()?.some((e=>e===this._rootElement));this.isMenuOpen()&&n&&this.setMenuClose(e)}),this.cleanUpControllerSignal)};destructor(){super.destructor()}}const l=`${e}/imgs/menu.svg`,u=`${e}/imgs/close.svg`;class h extends o.JsComponent{_dropMenus;_dropMenuElements;_accountPanelElement;_navButtonElement;_navButtonElementIcon;constructor(e,t){super(e,t),this._dropMenus=[]}template({level:e,links:t}){return`\n      <button\n        id="cgh-nav-button"\n        tabindex="0"\n        aria-label="Toggle links menu"\n        aria-haspopup="true"\n        aria-expanded="false"\n      >\n        <img\n          aria-hidden="true"\n          src="${l}"\n          width="24"\n          height="24"\n        />\n      </button>\n      <nav id="cgh-nav" aria-label="Navigate car fax products">\n        <ul>\n          <li data-home="true">\n            <a href="https://www.carfax.com">Home</a>\n          </li>\n          ${t.map((t=>t.links?'<li class="cgh__drop-menu"></li>':`\n                <li>\n                  <a href="${r(t.href??"",e)??"#"}">${t.title}</a>\n                </li>\n            `)).join("")}\n        </ul>\n      </nav>\n    `}onRender({level:e,links:t}){this.queryElements(),this.renderDropMenus(t,e),this.wireNavButton()}queryElements(){this._accountPanelElement=document.getElementById("cgh-account-panel"),this._navButtonElement=this._rootElement.querySelector("#cgh-nav-button"),this._navButtonElementIcon=this._navButtonElement?.querySelector("img");const e=this._rootElement.querySelectorAll(".cgh__drop-menu");this._dropMenuElements=[];for(let t=0;t<e.length;t++)this._dropMenuElements.push(e[t])}renderDropMenus(e,t){const n=e.filter((e=>e.links));for(let e=0;e<n.length;e++)if(this._dropMenuElements){const o=new c(this._dropMenuElements?.[e],{buttonContent:n[e].title,level:t,links:n[e].links}).render();this._dropMenus.push(o)}}isMenuOpen=()=>"true"===this._navButtonElement?.getAttribute("aria-expanded");setMenuClose=()=>{this._navButtonElement?.setAttribute("aria-expanded","false"),this._accountPanelElement?.removeAttribute?.("data-hide-mobile"),this._navButtonElementIcon?.setAttribute?.("src",l)};setMenuOpen=()=>{this._navButtonElement?.setAttribute("aria-expanded","true"),this._accountPanelElement?.setAttribute?.("data-hide-mobile","true"),this._navButtonElementIcon?.setAttribute?.("src",u)};wireNavButton(){this._navButtonElement&&this._navButtonElement.addEventListener("click",(()=>{this.isMenuOpen()?this.setMenuClose():this.setMenuOpen()}),this.cleanUpControllerSignal),this.wireOnOutsideClickClose()}wireOnOutsideClickClose=()=>{window.addEventListener("click",(e=>{const t=!e?.composedPath()?.some((e=>"cgh-nav-container"===e.id));this.isMenuOpen()&&t&&this.setMenuClose()}),this.cleanUpControllerSignal)};destructor(){super.destructor();for(const e of this._dropMenus)e.destructor()}}const d=(e,t)=>{const[n,...o]=t;try{return t.length>1?d(e[n],o):e[n]}catch(e){}},p=`${e}/imgs/user-circle.png`,m=e=>e.isAuthorizing?Boolean(e.sourceData?.cache?.auth0Tokens?.accessToken)||void 0:e.isAuthorized,g=(e,t,n)=>{if(n&&t){const o=d(n,t);return void 0===o?e:`${e} (${o})`}return e};class _ extends o.JsComponent{_DropMenus;_navMenuElement;_dropMenuElement;_loginIconElement;_loginButtonElement;_signupButtonElement;_accountExtraButton;constructor(e,t){super(e,t),this._DropMenus=[]}template(e){switch(m(e.accountData)){case void 0:return this.templateIndeterminate(!0);case!1:return this.templateAnonymous(e.i18n,e.accountActionExtra);case!0:return this.templateAuthenticated()}}templateIndeterminate(e=!1){return`\n      <button\n        id="cgh-account-login-icon"\n        class="cgh__account-button${e?" cgh__account-login-mobile":""}"\n        title="Login to carfax"\n        aria-label="Login to car fax"\n      >\n        <img\n          src="${p}"\n          alt="User Icon"\n          aria-hidden="true"\n          width="24"\n          height="24"\n        />\n      </button>\n    `}templateAnonymous(e,t){const n=t?`\n      <span class="cgh__vertical-bar"></span>\n      <button id="cgh-account-extra" class="cgh__account-button">\n        ${t.title}\n      </button>\n    `:"";return`\n      ${this.templateIndeterminate(!0)}\n      <div class="cgh__account-login-desktop">\n        <button id="cgh-account-login-button" class="cgh__account-button ">\n          ${e.logIn}\n        </button>\n        <span class="cgh__vertical-bar"></span>\n        <button id="cgh-account-signup-button" class="cgh__account-button">\n          ${e.signUp}\n        </button>\n        ${n}\n      </div>\n    `}templateAuthenticated(){return'\n      <div class="cgh__drop-menu"><div>\n    '}templateAuthenticatedButtonContent({accountData:e,i18n:t}){const{pictureUrl:n,name:o}=e.user,r=Boolean(n)?"data-custom":"";return`\n      <span class="cgh__account-username">\n        ${t.greeting},&nbsp;${o}\n      </span>\n      <span class="cgh__account-avatar" ${r}>\n        <img alt="User Icon" src="${n??p}">\n      </span>\n    `}onRender(e){this.queryElements(),this.setLoggedInAttribute(e),this.wireAccountActions(e),this.renderDropMenu(e)}queryElements(){this._navMenuElement=document.getElementById("cgh-nav-container"),this._dropMenuElement=this._rootElement.querySelector(".cgh__drop-menu"),this._loginIconElement=this._rootElement.querySelector("#cgh-account-login-icon"),this._loginButtonElement=this._rootElement.querySelector("#cgh-account-login-button"),this._signupButtonElement=this._rootElement.querySelector("#cgh-account-signup-button"),this._accountExtraButton=this._rootElement.querySelector("#cgh-account-extra")}wireAccountActions({accountActions:e,accountActionExtra:t}){this._loginIconElement?.addEventListener("click",e.login,this.cleanUpControllerSignal),this._loginButtonElement?.addEventListener("click",e.login,this.cleanUpControllerSignal),this._signupButtonElement?.addEventListener("click",e.signup,this.cleanUpControllerSignal),t&&t.onClick&&this._accountExtraButton?.addEventListener("click",t.onClick,this.cleanUpControllerSignal)}setLoggedInAttribute(e){m(e.accountData)?this._rootElement.setAttribute("data-logged-in","true"):this._rootElement.removeAttribute("data-logged-in")}renderDropMenu(e){const t=t=>{e.setIsOpen(t),t?this._navMenuElement?.setAttribute?.("data-hide-mobile","true"):this._navMenuElement?.removeAttribute?.("data-hide-mobile")},n=e.accountLinks.map((t=>({...t,title:g(t.title,t.injectedProperty,e.accountData.sourceData)})));if(this._dropMenuElement){const o=new c(this._dropMenuElement,{buttonAriaLabel:"Menu for account related links",buttonContent:this.templateAuthenticatedButtonContent(e),isOpen:e.isOpen,level:e.level,links:[...n,{title:e.i18n.logOut,onClick:()=>e.accountActions.logout()}],setIsOpen:t}).render();this._DropMenus.push(o)}}destructor(){super.destructor()}}class f extends o.JsComponent{_navMenu;_accountPanel;_navContainerElement;_accountPanelElement;_authSubscription;_isAccountPanelOpen;constructor(e,t){super(e,{level:s(),...t}),this._isAccountPanelOpen=!1}template({headerLogo:e,level:t}){return`\n      <div\n        class="cgh__inner"\n      >\n        <div id="cgh-nav-container"></div>\n        <a id="cgh-logo" href="${r(e.linkUrl,t)}" aria-label="Go to carfax dot com">\n          <img\n            height="24"\n            width="134"\n            src="${e.imageUrl}"\n            alt="CARFAX Logo"\n            title="CARFAX Used Car Listings and Vehicle History"\n          />\n        </a>\n        <div id="cgh-right">\n          <div id="cgh-account-panel"></div>\n        </div>\n      </div>\n    `}onRender(e){this.queryElements(),this.renderNavMenuComponent(e),this.renderAccountPanel(e)}queryElements(){this._navContainerElement=this._rootElement.querySelector("#cgh-nav-container"),this._accountPanelElement=this._rootElement.querySelector("#cgh-account-panel")}renderNavMenuComponent({level:e,navLinks:t}){this._navContainerElement&&(this._navMenu=new h(this._navContainerElement,{links:t,level:e}).render())}renderAccountPanel({accountLinks:e,accountActionExtra:t,level:n,authSubject:o,i18n:r}){const s={login:()=>o.login(),logout:()=>o.logout(),signup:()=>o.signup()};this._accountPanelElement&&(this._accountPanel=new _(this._accountPanelElement,{accountActionExtra:t,accountActions:s,accountData:o.currentAccountData,accountLinks:e,i18n:r,isOpen:this._isAccountPanelOpen,level:n,setIsOpen:e=>this._isAccountPanelOpen=e}).render()),this._authSubscription=o.subscribe(["update"],(o=>{this._accountPanel?.reRender({accountActionExtra:t,accountActions:s,accountData:o,accountLinks:e,i18n:r,isOpen:this._isAccountPanelOpen,level:n,setIsOpen:e=>this._isAccountPanelOpen=e})}))}destructor(){super.destructor(),this._authSubscription?.unsubscribe?.(),this._accountPanel&&this._navMenu&&(this._accountPanel.destructor(),this._navMenu.destructor())}}var v,b=Object.defineProperty,E=Object.defineProperties,w=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&O(e,n,t[n]);if(A)for(var n of A(t))k.call(t,n)&&O(e,n,t[n]);return e},M=(e,t)=>E(e,w(t)),I=(e,t,n)=>new Promise(((o,r)=>{var s=e=>{try{a(n.next(e))}catch(e){r(e)}},i=e=>{try{a(n.throw(e))}catch(e){r(e)}},a=e=>e.done?o(e.value):Promise.resolve(e.value).then(s,i);a((n=n.apply(e,t)).next())})),x=(e=50)=>new Promise((t=>setTimeout(t,e))),L=e=>I(void 0,[e],(function*({condition:e,interval:t=50,timeout:n=1e3}){let o=Date.now()+n;do{if(e())return;yield x(t)}while(Date.now()<o)})),S="__cfx.auth-instance",D={areAccountActionsReady:!1,isAuthorized:!1,isAuthorizing:!0,isLifecycleInProgress:!0,sourceData:{},user:{identityClaims:{},idToken:"",accessToken:"",idNormalized:"",usingSocial:!1,idProvider:"unknown",email:"",id:"",extCountry:"",name:"",pictureUrl:"",exp:0}},P=(M(C({},D),{isAuthorized:!1,isAuthorizing:!1,isLifecycleInProgress:!1}),{currentAccountData:D,defaultLoginOptions:{},defaultSignupOptions:{},defaultLogoutOptions:{},observers:[]}),$={get currentAccountData(){return P.currentAccountData},setDefaultLoginOptions(e){P.defaultLoginOptions=e},setDefaultSignupOptions(e){P.defaultSignupOptions=e},setDefaultLogoutOptions(e){P.defaultLogoutOptions=e},emit({action:e,accountData:t,authOptions:n}){switch(e){case"signup":case"logout":P.currentAccountData=M(C({},D),{isAuthorized:!1,isAuthorizing:!1,isLifecycleInProgress:!1});break;default:t&&(P.currentAccountData=t)}P.observers.forEach((({subjectActions:t,callback:o})=>{(t.includes(e)||t.includes("*"))&&o(P.currentAccountData,e,n)}))},cancelPopup(){$.emit({action:"pop-up-login-cancel"})},login(){return I(this,arguments,(function*(e=P.defaultLoginOptions,t="login"){return new Promise((n=>I(this,null,(function*(){yield U();let o=[];o.push($.subscribe(["pop-up-login-success"],(()=>I(this,null,(function*(){yield $.onAuthCompleted(),n("success"),o.forEach((e=>e()))})))).unsubscribe),o.push($.subscribe(["pop-up-login-failure"],(()=>{n("failure"),o.forEach((e=>e()))})).unsubscribe),$.emit({action:t,authOptions:e})}))))}))},logout(){return I(this,arguments,(function*(e=P.defaultLogoutOptions){yield U(),$.emit({action:"logout",authOptions:e})}))},onAuthCompleted(){return I(this,arguments,(function*(e=15e3){return yield L({condition:()=>!P.currentAccountData.isAuthorizing,interval:50,timeout:e}),P.currentAccountData}))},onLifecycleCompleted(){return I(this,arguments,(function*(e=15e3){return yield L({condition:()=>!P.currentAccountData.isLifecycleInProgress,interval:50,timeout:e}),P.currentAccountData}))},signup(){return I(this,arguments,(function*(e=P.defaultSignupOptions){return $.login(e,"signup")}))},subscribe:(e,t)=>(P.observers.push({subjectActions:e,callback:t}),{unsubscribe:()=>{P.observers=P.observers.filter((e=>e.callback!=t))}})},U=()=>L({condition:()=>P.currentAccountData.areAccountActionsReady,interval:50,timeout:1e3}),B=function(){try{return window}catch(e){return{}}}(),R=null!=(v=B[S])?v:$;B[S]||(B[S]=R);const q=JSON.parse('{"greeting":"Hi","logIn":"Log In","logOut":"Log Out","signUp":"Sign Up"}'),j=JSON.parse('{"imageUrl":"https://static.carfax.com/global-header/imgs/logo.svg","linkUrl":"https://www.carfax.com"}'),T=JSON.parse('[{"title":"Used Cars for Sale","href":"https://www.carfax.com/cars-for-sale"},{"title":"CARFAX Reports","href":"https://www.carfax.com/vehicle-history-reports/"},{"title":"My Car Maintenance","links":[{"title":"Find a Service Shop","href":"https://www.carfax.com/Auto-Repair"},{"title":"Track Your Car\'s Maintenance","href":"https://www.carfax.com/Service/"}]},{"title":"Used Car Values","href":"https://www.carfax.com/value/"},{"title":"Research","href":"https://www.carfax.com/car-research"},{"title":"Help","href":"https://support.carfax.com/home"}]'),N=JSON.parse('[{"omnitureId":"Global Header Account Dropdown - Profile","title":"Edit Profile","href":"https://www.carfax.com/account/#/profile"},{"omnitureId":"Global Header Account Dropdown - Notification Settings","title":"Manage Notifications","href":"https://www.carfax.com/account/#/notification-settings"},{"omnitureId":"Global Header Account Dropdown - Followed Cars","title":"Cars I\'m Following","href":"https://www.carfax.com/account/#/followed-cars","injectedProperty":["uclFollows","followsCount"]},{"omnitureId":"Global Header Account Dropdown - Saved Search","title":"My Searches","href":"https://www.carfax.com/account/#/searches","injectedProperty":["uclSearches","savedSearchesCount"]},{"omnitureId":"Global Header Account Dropdown - My Reports","title":"My Reports","href":"https://www.carfax.com/showroom/#/dashboard"},{"omnitureId":"Global Header Account Dropdown - My Reviews","title":"Manage Reviews","href":"https://www.carfax.com/account/#/my-reviews"}]'),H=["accountActionExtra","headerLogo","accountLinks","navLinks","i18n"];let z;const J=(e=[])=>{const t=document.getElementById("carfax-header");if(t){const n=(e=>{const t={runs:[]};for(const{module:n,options:o}of e){for(const e of H)!t[e]&&n[e]&&(t[e]=n[e]);n.run&&t.runs.push((()=>n.run(o)))}return t})(e);z=new f(t,{authSubject:R,accountActionExtra:n.accountActionExtra,accountLinks:n.accountLinks??N,headerLogo:n.headerLogo??j,navLinks:n.navLinks??T,i18n:n.i18n??q}).render(),window.dispatchEvent(new window.Event("auth-subject-ready"));for(const e of n.runs)e();(e=>{if(void 0!==document.fonts.check){let t=0;const n=setInterval((()=>{document.fonts.check("1rem Roboto")?(e.dataset.fontLoaded="true",clearInterval(n)):t>=2e3&&clearInterval(n),t+=50}),50)}})(t)}};"loading"!==document.readyState?J(t()):window.addEventListener("DOMContentLoaded",(()=>J(t())))})()})();