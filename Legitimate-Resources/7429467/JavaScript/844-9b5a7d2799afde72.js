(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[844],{84174:function(e,t,n){"use strict";var a=n(67294);t.Z=function(e,t){(0,a.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))}},552:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var a=n(34051),o=n.n(a),r=n(85893),i=n(67294),c=n(9473),s=n(11163),u=n(38455),l=n(9669),d=n.n(l);function h(e,t,n,a,o,r,i){try{var c=e[r](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(a,o)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function i(e){h(r,a,o,i,c,"next",e)}function c(e){h(r,a,o,i,c,"throw",e)}i(void 0)}))}}var m=function(){var e=_(o().mark((function e(t,n,a){var r,i,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],i={content_meta_type:"it_"+t+"_"+n,haha:0,sad:0,angry:0,shocked:0},null==(c=JSON.parse((0,u.ej)("itemoticons"+n)))||c.type!=a){e.next=22;break}e.t0=c.type,e.next="haha"===e.t0?7:"sad"===e.t0?9:"angry"===e.t0?11:"shocked"===e.t0?13:15;break;case 7:return i.haha=-1,e.abrupt("break",15);case 9:return i.sad=-1,e.abrupt("break",15);case 11:return i.angry=-1,e.abrupt("break",15);case 13:return i.shocked=-1,e.abrupt("break",15);case 15:return e.next=17,d().post((0,u.a$)("ajax/reactions"),i).then((function(e){return r=e.data,e.data})).catch((function(e){return console.log("Something went wrong, please try again","reaction api")}));case 17:r=e.sent,(0,u.Mz)("itemoticons"+n),v(n,a),e.next=41;break;case 22:if("haha"==a?i.haha=1:"sad"==a?i.sad=1:"angry"==a?i.angry=1:"shocked"==a&&(i.shocked=1),s={contentId:n,type:a},null==c){e.next=36;break}e.t1=c.type,e.next="haha"===e.t1?28:"sad"===e.t1?30:"angry"===e.t1?32:"shocked"===e.t1?34:36;break;case 28:return i.haha=-1,e.abrupt("break",36);case 30:return i.sad=-1,e.abrupt("break",36);case 32:return i.angry=-1,e.abrupt("break",36);case 34:return i.shocked=-1,e.abrupt("break",36);case 36:return e.next=38,d().post((0,u.a$)("ajax/reactions"),i).then((function(e){return r=e.data,e.data})).catch((function(e){return console.log("Something went wrong, please try again","post api reaction")}));case 38:r=e.sent,v(n,a),(0,u.d8)("itemoticons"+n,JSON.stringify(s),10);case 41:return e.abrupt("return",r);case 42:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),v=(function(){var e=_(o().mark((function e(t){var n,a,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=getDatabase(),a=ref(n,"it/"+t),e.next=4,get(a);case 4:return r=e.sent,i=r.val(),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))}(),function(){var e=_(o().mark((function e(t,n){var a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=document.getElementsByClassName("emoticonsIcon"+t),r=0;r<a.length;r++)a[r].classList.remove("defaultemoj"),a[r].classList.remove("defaultsad"),a[r].classList.remove("defaulthaha"),a[r].classList.remove("defaultangry"),a[r].classList.remove("defaultshocked"),a[r].classList.add("default"+n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=n(97650),p=n(84174);n(73461);function j(e,t,n,a,o,r,i){try{var c=e[r](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(a,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function i(e){j(r,a,o,i,c,"next",e)}function c(e){j(r,a,o,i,c,"throw",e)}i(void 0)}))}}function g(e){(0,s.useRouter)();var t=(0,c.v9)((function(e){return e.server})),n=t.route,a=(t.user,(null===e||void 0===e?void 0:e.title_short)?null===e||void 0===e||e.title_short:null===e||void 0===e||e.title,(null===e||void 0===e?void 0:e.canonical_url)?null===e||void 0===e?void 0:e.canonical_url:null===n||void 0===n?void 0:n.url),l=(null===e||void 0===e?void 0:e.id)?null===e||void 0===e?void 0:e.id:(null===e||void 0===e?void 0:e.nid)?null===e||void 0===e?void 0:e.nid:"",h=(null===e||void 0===e?void 0:e.content_type)?null===e||void 0===e?void 0:e.content_type:(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.type:"image",_=(0,i.useState)(""),v=_[0],j=_[1],g=(0,i.useState)(0),x=(g[0],g[1]),S=(0,i.useState)(0),y=S[0],b=S[1],w=(0,i.useState)(0),E=w[0],N=w[1],C=(0,i.useState)(0),L=C[0],Y=C[1],I=(0,i.useState)(0),Z=I[0],O=I[1],A=(0,i.useState)("defaultemoj"),J=A[0],P=A[1],R=(0,i.useState)(""),T=R[0],V=R[1],X=(0,i.useState)(!1),B=X[0],D=X[1],F=((0,u.ZS)(a),(new Date).toLocaleTimeString(),(0,i.useRef)());(0,p.Z)(F,(function(){B&&D(!1)})),(0,i.useEffect)((function(){T&&H();var e=JSON.parse((0,u.ej)("itemoticons"+l));null!=e&&P("default"+e.type)}),[T]);var H=function(){var e=k(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="it_"+h+"_"+l,n=[],new Date,n=d().get((0,u.a$)("ajax/reactions"),{params:{id:t}}).then((function(e){(n=e.data)&&(j((0,u.Y4)(n.total)),x((0,u.Y4)(n.normal)),b((0,u.Y4)(n.haha)),N((0,u.Y4)(n.sad)),Y((0,u.Y4)(n.angry)),O((0,u.Y4)(n.shocked)))})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=k(o().mark((function e(t,n){var a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=document.getElementsByClassName("emoticonsIcon"+t),r=0;r<a.length;r++)a[r].classList.remove("defaultemoj"),a[r].classList.remove("defaultsad"),a[r].classList.remove("defaulthaha"),a[r].classList.remove("defaultangry"),a[r].classList.remove("defaultshocked"),a[r].classList.add("default"+n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=k(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=JSON.parse((0,u.ej)("itemoticons"+t))){e.next=15;break}j(v+1),e.t0=n,e.next="haha"===e.t0?6:"sad"===e.t0?8:"angry"===e.t0?10:"shocked"===e.t0?12:14;break;case 6:return b(y+1),e.abrupt("break",14);case 8:return N(E+1),e.abrupt("break",14);case 10:return Y(L+1),e.abrupt("break",14);case 12:return O(Z+1),e.abrupt("break",14);case 14:K(t,n);case 15:D(!1),m(h,t,n).then((function(e){var a=e.data;a&&(j((0,u.Y4)(a.total)),x((0,u.Y4)(a.normal)),b((0,u.Y4)(a.haha)),N((0,u.Y4)(a.sad)),Y((0,u.Y4)(a.angry)),O((0,u.Y4)(a.shocked)),null==JSON.parse((0,u.ej)("itemoticons"+t))&&K(t,n="normal"))}));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,r.jsx)(f.df,{onChange:function(e,t){e&&V(l)},className:e.sharetheme2&&"undefined"!=e.sharetheme2?"sharetheme2":"",children:(0,r.jsxs)("li",{onClick:function(){!window.ga||"story"!=h&&"image"!=h||window.ga("send","event",{eventCategory:"Emoji",eventAction:"click",eventLabel:"".concat(l),eventValue:1})},className:"emoj",children:[(0,r.jsx)("i",{className:"it__bgicon ".concat(J," emoticonsIcon").concat(l),onClick:function(){return setTimeout((function(){return D(!0)}),0)}}),(0,r.jsxs)("span",{className:"rel__data "+"totalemoticon".concat(l),children:[" ",v>0&&v]}),B&&(0,r.jsxs)("div",{className:"Emojis "+"emoticons".concat(l," ").concat(B?"is__open":"")+" Emojis",ref:F,children:[(0,r.jsxs)("div",{className:"Emoji Emoji Emoji__normal",children:[(0,r.jsx)("div",{className:"icon icon icon__normal"}),(0,r.jsx)("div",{className:"count "+" totalNormalEmoticons".concat(l),children:v>0&&v})]}),(0,r.jsxs)("div",{className:"Emoji Emoji Emoji__haha",children:[(0,r.jsx)("div",{className:"icon icon icon__haha",onClick:function(){return M(l,"haha")}}),(0,r.jsx)("div",{className:"count "+" totalHahaEmoticons".concat(l),children:y>0&&y})]}),(0,r.jsxs)("div",{className:"Emoji Emoji Emoji__sad",children:[(0,r.jsx)("div",{className:"icon icon icon__sad",onClick:function(){return M(l,"sad")}}),(0,r.jsx)("div",{className:"count "+" totalSadEmoticons".concat(l),children:E>0&&E})]}),(0,r.jsxs)("div",{className:"Emoji Emoji Emoji__angry",onClick:function(){return M(l,"angry")},children:[(0,r.jsx)("div",{className:"icon icon icon__angry"}),(0,r.jsx)("div",{className:"count "+" totalAngryEmoticons".concat(l),children:L>0&&L})]}),(0,r.jsxs)("div",{className:"Emoji Emoji Emoji__shocked",children:[(0,r.jsx)("div",{className:"icon icon icon__shocked",onClick:function(){return M(l,"shocked")}}),(0,r.jsx)("div",{className:"count "+" totalShockedEmoticons".concat(l),children:Z>0&&Z})]})]})]})})}},34483:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(85893),o=(n(67294),n(38455)),r=n(34282);function i(e){var t=e.title,n=e.text,i=e.url,c=e.noborder,s=void 0===c?"":c,u={title:t,text:n,url:i,via:"indiatoday"};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{onClick:function(){return(0,o.It)(u)},children:"yes"==s?(0,a.jsx)("i",{className:"it__bgicon shareicon"}):(0,a.jsx)(r.Z,{})})})}},34282:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(85893);n(67294);function o(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",children:(0,a.jsxs)("g",{transform:"translate(-304)",children:[(0,a.jsx)("circle",{fill:"#f5f5f5",cx:"18",cy:"18",r:"18",transform:"translate(304)"}),(0,a.jsx)("path",{fill:"none",style:{stroke:"#666",strokeLinejoin:"round"},d:"M13.389,8.8V5L20,11.642l-6.611,6.642v-3.89c-4.722,0-8.028,1.518-10.389,4.839C3.944,14.488,6.778,9.744,13.389,8.8Z",transform:"translate(310.5 5.884)"})]})})})}},77911:function(e,t,n){"use strict";n.d(t,{I:function(){return c},Z:function(){return s}});var a=n(85893),o=(n(67294),n(38455)),r=n(32526),i=n.n(r),c=function(e){var t=window.itgCommentApp||(window.itgCommentApp={}),n=(null===e||void 0===e?void 0:e.id)?e.id:"",a=(0,o.Hq)(e);"breaking_news"!=a&&"live_blog"!=a||(a="story");var r=(null===e||void 0===e?void 0:e.title)?e.title:null===e||void 0===e?void 0:e.title_short;t.init({accesskey:"7cnkTrQUisNpOXVbEvexF0dDSw3h6YIg",postid:n,contenttype:a,ssoUserApi:"/api/sso/user",adsCategory:"India_Today",title:r,adsVisibility:"not_subscribed"==(null===e||void 0===e?void 0:e.user_info)})};function s(e){var t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("li",{className:"comment",onClick:function(){return c(e)},children:[(0,a.jsx)("i",{className:"it__bgicon commenticon",title:"Comment"}),(0,a.jsx)("span",{id:"comment_"+(null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:null===e||void 0===e?void 0:e.nid),className:i().rel__data+" commentCountEle"})]})})}},32526:function(e){e.exports={story__interaction:"SocialShare_story__interaction__feJdj",rel__data:"SocialShare_rel__data__rHKLR",socialSharing:"SocialShare_socialSharing__sdPvt",widgetnativeshare:"SocialShare_widgetnativeshare__0kkLO",hidedsk:"SocialShare_hidedsk__wOTIY",sharetheme2:"SocialShare_sharetheme2__X_Yag",Emojis:"SocialShare_Emojis__XAe37",is__open:"SocialShare_is__open__KO5bG",Emoji:"SocialShare_Emoji__WRhoq",emoj:"SocialShare_emoj__nXoK8",js__hover:"SocialShare_js__hover__IuSRM",icon:"SocialShare_icon__8CZQr",count:"SocialShare_count__3ozhp",whatsapp__icon:"SocialShare_whatsapp__icon__w6VWX",twitter__icon:"SocialShare_twitter__icon__3BQ2i",fb__icon:"SocialShare_fb__icon__g2feA",tinder__icon:"SocialShare_tinder__icon__lPYCU"}}}]);