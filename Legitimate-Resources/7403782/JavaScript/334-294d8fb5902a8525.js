"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{79456:function(e,i,n){n.d(i,{L:function(){return t}});let t="embed.acast"},75614:function(e,i,n){n.d(i,{L5:function(){return h},pc:function(){return g},kK:function(){return u}});let t=e=>{let i=[],n=[],t=e=>{if((null==e?void 0:e.type)==="tag"&&(null==e?void 0:e.name)==="figure"&&(null==e?void 0:e.attribs)){var l,o;(null===(l=e.attribs)||void 0===l?void 0:l["data-infographic-js"])&&i.push("https://infographics.economist.com".concat(e.attribs["data-infographic-js"])),(null===(o=e.attribs)||void 0===o?void 0:o["data-infographic-css"])&&n.push("https://infographics.economist.com".concat(e.attribs["data-infographic-css"]))}(null==e?void 0:e.children)&&Array.isArray(null==e?void 0:e.children)&&e.children.forEach(t)};return null==e||e.forEach(e=>{t(e)}),{scripts:i,css:n}},l=e=>{let i="The Economist";return(null==e?void 0:e.sectionHeadline)&&(i="".concat(e.sectionHeadline," | ").concat(i)),(null==e?void 0:e.headline)&&(i="".concat(e.headline," | ").concat(i),(null==e?void 0:e.subheadline)&&(i="".concat(e.subheadline," - ").concat(i))),i},o=e=>{if(!e.headline)return"";let i="".concat(e.headline);return e.subheadline&&(i="".concat(e.subheadline," â€“ ").concat(i)),i};var r=n(29051),a=n(57213);let d=(e,i)=>{var n,t,l,o;let r=i.find(e=>{var i;let n=(null==e?void 0:null===(i=e.url)||void 0===i?void 0:i.canonical)||"",t=(null==e?void 0:e.type)||"";return n.includes("printedition")&&!t.includes("RegionalIssue")});return(null==r?void 0:null===(n=r.url)||void 0===n?void 0:n.canonical)||(null==e?void 0:null===(t=e.publication)||void 0===t?void 0:null===(l=t[0])||void 0===l?void 0:null===(o=l.url)||void 0===o?void 0:o.canonical)},u=e=>{var i,n,t;let l=(null==e?void 0:e.publication)||[],o=l.find(e=>((null==e?void 0:e.type)||[]).includes("Report"));return o?d(e,l):(null==e?void 0:null===(i=e.publication)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:null===(t=n.url)||void 0===t?void 0:t.canonical)||null},c=e=>{var i,n,r,a,d,u,c,s,v,h,g,f,m,p,b,w,y,C,P,x,q,_,E,T,k,A,Z,N;let U=e,L=(null==e?void 0:null===(i=e.publication)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.headline)||null,M=Array.isArray(null==e?void 0:null===(r=e.articleSection)||void 0===r?void 0:r.internal)?null==e?void 0:null===(a=e.articleSection)||void 0===a?void 0:a.internal.filter(e=>(null==e?void 0:e.headline)&&(null==e?void 0:e.url)):[],R=(null==M?void 0:null===(d=M[0])||void 0===d?void 0:d.headline)||L,F=(null==e?void 0:null===(u=e.url)||void 0===u?void 0:u.canonical)||"",I=(null==e?void 0:e.headline)||"",S=(null==e?void 0:e.subheadline)||"",D=(null==e?void 0:e.byline)||"",O=(null===(c=e.type)||void 0===c?void 0:c[0])||"",j=(null==e?void 0:e.bodyText)||"",H=(null==e?void 0:e.description)||"",W=null==e?void 0:null===(s=e.image)||void 0===s?void 0:null===(v=s.main)||void 0===v?void 0:null===(h=v.url)||void 0===h?void 0:h.canonical,z=null==e?void 0:null===(g=e.image)||void 0===g?void 0:null===(f=g.promo)||void 0===f?void 0:null===(m=f.url)||void 0===m?void 0:m.canonical,B=(null==e?void 0:e.dateCreated)||"",K=(null==e?void 0:e.datePublished)||"",Y=(null==e?void 0:e.dateModified)||"",G=(null==e?void 0:e.dateline)||"",J=(null==e?void 0:e.copyrightYear)||"",Q=(null==e?void 0:null===(p=e.publication)||void 0===p?void 0:null===(b=p[0])||void 0===b?void 0:null===(w=b.type)||void 0===w?void 0:w[0])==="PublicationIssue",V=(null==e?void 0:null===(y=e.publication)||void 0===y?void 0:null===(C=y[0])||void 0===C?void 0:C.datePublished)||K,X=(null==e?void 0:e.inLanguage)||"en",$=(null==e?void 0:e.id)||"",ee=(null==e?void 0:e.tegID)||"",ei=(null==e?void 0:null===(P=e.about)||void 0===P?void 0:P.public)||[],en=(null==e?void 0:null===(x=e.articleSection)||void 0===x?void 0:x.public)||[],et=[...ei,...en].filter(e=>e&&e.headline).map(e=>e.headline),{scripts:el,css:eo}=t(U.text);return U._metadata={articleId:$,tegID:ee,title:l({sectionHeadline:R,headline:I,subheadline:S}),shareSnippet:o(e),headline:I,section:R,keywords:et,author:[D||"The Economist"],url:F,type:O,articleBody:j,description:H,ogDescription:H,imageUrl:z||W||"/engassets/og-fallback-image.png",imageHeight:z?null==e?void 0:null===(q=e.image)||void 0===q?void 0:null===(_=q.promo)||void 0===_?void 0:_.height:null==e?void 0:null===(E=e.image)||void 0===E?void 0:null===(T=E.main)||void 0===T?void 0:T.height,imageWidth:z?null==e?void 0:null===(k=e.image)||void 0===k?void 0:null===(A=k.promo)||void 0===A?void 0:A.width:null==e?void 0:null===(Z=e.image)||void 0===Z?void 0:null===(N=Z.main)||void 0===N?void 0:N.width,datePublished:K,dateModified:Y,dateCreated:B,isPrintArticle:Q,printEdition:V,copyrightYear:J,dateline:G,inLanguage:X,interactive:el.length+eo.length>0,scripts:el,css:eo},U},s=e=>{var i;let n=(null==e?void 0:null===(i=e.hasPart)||void 0===i?void 0:i.parts)||[],t=n.map(i=>{var n,t;let l=(null==i?void 0:i.type)||[];if(l.some(e=>["CollectionPage","PublicationIssue"].includes(e)))return s(i);let o=i.isPartOf||[],r=o.find(i=>i&&i.id===e.id),a=null==r?void 0:null===(n=r.context)||void 0===n?void 0:n.headline,d=null==r?void 0:null===(t=r.context)||void 0===t?void 0:t.description;return{...i,_metadata:{headline:a||(null==i?void 0:i.headline),description:d||(null==i?void 0:i.description)}}});return{...e,hasPart:{...e.hasPart,parts:t}}},v=(e,i)=>{let n=e.find(e=>(e?null==e?void 0:e.regionsAllowed:[]).includes(i.toUpperCase()));return n||e.find(e=>(e?null==e?void 0:e.regionsAllowed:[]).includes(a.DEFAULT_COUNTRY_CODE))},h=async e=>{let{query:i,requestId:n,apolloClient:t,countryCode:l=null}=e;try{var o,a;r.logger.info({request_id:n,message:"Fetching content from Content Platform",function:"getContent"});let e=await t.query(i);r.logger.info({request_id:n,message:"Returned from CP",function:"getContent"});let d=null==e?void 0:null===(o=e.data)||void 0===o?void 0:o.canonical;if(!d&&e.errors)throw r.logger.error({request_id:n,message:"Error fetching content from CP",function:"getContent",error:e.errors}),null==e?void 0:null===(a=e.errors)||void 0===a?void 0:a[0];let u=(null==d?void 0:d.type)||[];if(u.includes("Article"))return c(d);if(u.includes("CollectionPage"))return s(d);if(l&&d.rendition)return v(d.rendition,l);return d}catch(e){if((null==e?void 0:e.message)==="404: An error has occurred")return r.logger.warn({request_id:n,time:Date.now(),message:"Received 404 File Not Found when fetching from Content Platform",function:"getContent",raw:e}),null;throw r.logger.error({request_id:n,time:Date.now(),message:"Error fetching content from Content Platform",function:"getContent",raw:e}),e}},g=async e=>{let{query:i,requestId:n,apolloClient:t}=e;try{r.logger.info({request_id:n,message:"Fetching content from Content Platform",function:"getMultipleContent"});let e=await t.query(i);r.logger.info({request_id:n,message:"Returned from CP",function:"getMultipleContent"});let o=null==e?void 0:e.data;if(e.errors){var l;throw r.logger.error({request_id:n,message:"Error fetching content from CP",function:"getMultipleContent",error:e.errors}),null==e?void 0:null===(l=e.errors)||void 0===l?void 0:l[0]}return o}catch(e){if((null==e?void 0:e.message)==="404: An error has occurred")return r.logger.warn({request_id:n,message:"Received 404 File Not Found when fetching from Content Platform",function:"getMultipleContent",error:e}),null;throw r.logger.error({request_id:n,message:"Error fetching content from Content Platform",function:"getMultipleContent",error:e}),e}}},42316:function(e,i,n){n.d(i,{s:function(){return l}});let t=e=>"string"==typeof e&&e.includes("-")?e.substring(0,e.indexOf("-")):e,l=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(e||"").toUpperCase(),l=t(n);return"GB"===l?"UK":l||i}},2362:function(e,i,n){n.d(i,{P:function(){return t}});let t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};return Object.keys(e).forEach(n=>{n.startsWith("data-")&&(i[n]=e[n])}),i}},46648:function(e,i,n){n.d(i,{x:function(){return c}});var t=n(35944);n(67294);var l=n(27361),o=n.n(l),r=n(36927),a=n(2362),d=n(29051),u=n(79456);let c=e=>{let{articleText:i,path:n="",ad:l,parent:s="",classPrefix:v,showNativeAudioOnPodcasts:h}=e,g=(e,i)=>{let{type:n,name:g="",data:f,children:m,attribs:p={}}=e,b=(0,a.P)(p);switch(n){case"tag":switch(g){case"a":return(0,t.tZ)(r.rU,{href:p.href,attributes:b,children:c({articleText:m,key:i,ad:l,classPrefix:v})},i);case"p":var w,y,C;let P=null;v&&(P="".concat(v,"-text"),("blockquote"===s||"cite"===s)&&(P=null),"cite"===o()(m,"0.name")&&(P="".concat(v,"-cite")),"initial"===o()(m,"0.attribs.data-caps")&&(P+=" ".concat(v,"-text--dropcap"),b=(0,a.P)(o()(m,"0.attribs"))));let x=c({articleText:m,key:i,ad:l,classPrefix:v,showNativeAudioOnPodcasts:h});if((null==x?void 0:x.length)===1&&((null==x?void 0:null===(w=x[0])||void 0===w?void 0:null===(y=w.props)||void 0===y?void 0:null===(C=y.children)||void 0===C?void 0:C[0])===null||(null==x?void 0:x[0])===null))return null;return(0,t.tZ)("p",{...b,className:P,children:x},i);case"img":if(!p.src)return null;let{sizes:q}=p;q||(q=p["data-slim"]&&"0"!==p["data-slim"]?"336px":"(min-width: 720px) 640px, 95vw");let _=!["eager","auto"].includes(p.loading);return(0,t.tZ)(r.Ee,{height:parseInt(p.height,10),width:parseInt(p.width,10),imgUrl:p.src,alt:p.alt,slim:p["data-slim"],sizes:q,lazyLoad:_,...b},i);case"video":return"";case"area":case"base":case"br":case"embed":case"hr":case"input":case"link":case"meta":case"param":case"source":case"track":case"col":case"wbr":return(0,t.tZ)(g,{...b},i);case"blockquote":return(0,t.tZ)("blockquote",{...b,children:c({articleText:m,key:i,ad:l,parent:"blockquote",classPrefix:v})},i);case"cite":return(0,t.tZ)("cite",{...b,children:c({articleText:m,key:i,ad:l,parent:"cite",classPrefix:v})},i);case"q":return(0,t.tZ)("q",{...b,children:c({articleText:m,key:i,ad:l,classPrefix:v,showNativeAudioOnPodcasts:h})},i);case"iframe":let E=p.id?"eid-".concat(p.id):null,T=p.src;try{let e=new URL(T),i=e.hostname.includes("youtube.com");i&&(e.searchParams.append("enablejsapi",1),T=e.href)}catch(e){d.logger.info("Error generating iframe HTML: ",e)}if(h&&String(T).includes(u.L))return null;return(0,t.tZ)("iframe",{height:String(parseInt(p.height,10)),src:T,id:E,...b},i);case"figure":if(!0==("https://schema.org/WPAdBlock"===p.itemtype))return null;{let e=["https://infographics.economist.com","https://economist.com/assets/infographic/","https://www.economist.com/assets/infographic/","https://stage.economist.com/assets/infographic/"],n=null==m?void 0:m.some(i=>{let n=(null==i?void 0:i.name)==="iframe";if(n){let n=e.some(e=>{var n,t;return null==i?void 0:null===(n=i.attribs)||void 0===n?void 0:null===(t=n.src)||void 0===t?void 0:t.includes(e)});if(n)return!0}return!1});return(0,t.tZ)(g,{...b,className:n?"interactive-figure":void 0,children:c({articleText:m,key:i,ad:l,classPrefix:v,showNativeAudioOnPodcasts:h})},i)}case"aside":return(0,t.tZ)("aside",{...b,className:v?"".concat(v,"-aside"):"",children:c({articleText:m,key:i,ad:l,classPrefix:v,showNativeAudioOnPodcasts:h})},i);case"div":if(p.container)return(0,t.tZ)("div",{...b,className:v?"".concat(v,"-container"):"",children:c({articleText:m,key:i,ad:l,classPrefix:v,showNativeAudioOnPodcasts:h})},i);return c({articleText:m,key:i,ad:l,classPrefix:v});default:return(0,t.tZ)(g,{...b,children:c({articleText:m,key:i,ad:l,classPrefix:v,showNativeAudioOnPodcasts:h})},i)}case"text":let k=f.replace(/&amp;|&gt;|&lt;|&quot;/g,e=>{switch(e){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"'}});return k;default:return""}};return Array.isArray(i)?i.map((e,i)=>e&&g(e,"".concat(n,"-").concat(i))):null}}}]);