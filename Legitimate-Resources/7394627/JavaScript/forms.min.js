const eInputs=document.querySelectorAll(".form-control"),eFiles=document.querySelectorAll("input[type=file]"),eSelects=document.querySelectorAll(".select-dropdown");function validatxt(e){var k;return(k=document.all?e.keyCode:e.which)>64&&k<91||k>96&&k<123||0==k||8==k||32==k||225==k||233==k||237==k||209==k||241==k||243==k||250==k||252==k}function validanum(e){return tecla=document.all?e.keyCode:e.which,8==tecla||(patron=/\d/,te=String.fromCharCode(tecla),patron.test(te))}function alphaMail(e){var k;return(k=document.all?e.keyCode:e.which)>63&&k<91||k>96&&k<123||0==k||8==k||32==k||46==k||45==k||95==k||k>=48&&k<=57}function alpha(e){var k;return(k=document.all?e.keyCode:e.which)>64&&k<91||k>96&&k<123||k>47&&k<58||0==k||8==k||32==k||225==k||233==k||237==k||243==k||250==k||252==k||241==k||44==k}function letrasRut(e){return tecla=document.all?e.keyCode:e.which,8==tecla||107==tecla||75==tecla||(patron=/\d/,te=String.fromCharCode(tecla),patron.test(te))}function validarut(rut){if(rut.length<9)return!1;for(i1=rut.indexOf("-"),dv=rut.substr(i1+1),dv=dv.toUpperCase(),nu=rut.substr(0,i1),cnt=0,suma=0,i=nu.length-1;i>=0;i--)dig=nu.substr(i,1),fc=cnt+2,suma+=parseInt(dig)*fc,cnt=(cnt+1)%6;return dvok=11-suma%11,11==dvok&&(dvokstr="0"),10==dvok&&(dvokstr="K"),11!=dvok&&10!=dvok&&(dvokstr=""+dvok),dvokstr==dv}function formato_rut(texto,activo){var invertido="",dtexto="",cnt=0,i=0,j=0,largo="";if(activo){for(i=(largo=(texto=formato_rut(texto,!1)).length)-1,j=0;i>=0;i--,j++)invertido+=texto.charAt(i);for(dtexto+=invertido.charAt(0),dtexto+="-",i=1,j=2;i<largo;i++,j++)3==cnt?(dtexto+="",j++,dtexto+=invertido.charAt(i),cnt=1):(dtexto+=invertido.charAt(i),cnt++);for(invertido="",i=dtexto.length-1,j=0;i>=0;i--,j++)invertido+=dtexto.charAt(i);"-"==invertido&&(invertido=""),texto=invertido}else{var tmpstr="";for(i=0;i<texto.length;i++)" "!=texto.charAt(i)&&"."!=texto.charAt(i)&&"-"!=texto.charAt(i)&&(tmpstr+=texto.charAt(i));texto=tmpstr}return texto}eInputs.forEach(elem=>{elem.addEventListener("focus",(function(event){event.stopPropagation(),elem.parentNode.classList.add("input-active")})),elem.addEventListener("blur",(function(event){event.stopPropagation(),elem.value.length<=0?elem.parentNode.classList.remove("input-filled"):elem.parentNode.classList.add("input-filled"),elem.parentNode.classList.remove("input-active")}))}),eFiles.forEach(elem=>{elem.addEventListener("change",(function(event){let name=elem.value.replace(/[a-zA-Z]:\\fakepath\\/,"");elem.closest(".input-file").querySelector(".file-name").textContent=name,elem.closest(".file-clic").classList.add("input-valid"),elem.closest(".file-clic").classList.remove("input-error")}))}),eSelects.forEach(elem=>{elem.addEventListener("click",(function(event){event.stopPropagation();const cSelect=elem,cItems=elem.querySelector(".dropdown-toggle-w").querySelectorAll(".dropdown-item-w"),allSelectClose=document.querySelectorAll(".select-dropdown");if(cSelect.classList.contains("disabled"))return!1;allSelectClose.forEach(o=>{o!=cSelect&&o.classList.remove("active")}),cSelect.classList.toggle("active"),cItems.forEach(e=>{e.addEventListener("click",(function(event){event.stopPropagation(),cSelect.querySelector(".select-dropdown-text").setAttribute("value",e.innerText),cSelect.querySelector(".select-dropdown-text").classList.remove("error"),cSelect.querySelector(".select-dropdown-text").parentNode.classList.remove("input-error"),cItems.forEach(i=>{i.classList.remove("active")}),e.classList.add("active"),cSelect.classList.remove("active")}))})}))}),window.addEventListener("click",(function(){eSelects.forEach(elem=>{elem.classList.remove("active")})})),jQuery.validator.addMethod("validEmail",(function(value,element){if(""==value)return!0;var temp1;temp1=!0;var ind=value.indexOf("@"),str2=value.substr(ind+1),str3=str2.substr(0,str2.indexOf("."));if(str3.lastIndexOf("-")==str3.length-1||str3.indexOf("-")!=str3.lastIndexOf("-"))return!1;var str1=value.substr(0,ind),regex;return str1.lastIndexOf("_")!=str1.length-1&&str1.lastIndexOf(".")!=str1.length-1&&str1.lastIndexOf("-")!=str1.length-1&&/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(value)}),"Invalid Email"),$.validator.addMethod("valrut",(function(rutvalue){return validarut(rutvalue)}),"Rut incorrecto");