(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{85254:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return sd},default:function(){return su}});var r,a,i,s,o,l,c,d,u,m,p,f,v,b,g,h,x,y,j,k,A,w,C,_,N=n(35916),O=n(34063),S=n(88038),P=n.n(S),T=n(89889),M=n(34412),Z=n(17663),E=function(e){return e.user.balance},L=function(e){return e.user.projectTokens},B=function(e){return e.app},U=function(e){return e.user},I=(0,Z.P1)(U,function(e){return e.allowances}),D=(0,Z.P1)([I,function(e,t){return t}],function(e,t){var n=t.tokens.reduce(function(n,r){var a;return null!=e&&null!==(a=e[r])&&void 0!==a&&a[t.spender]&&(n[r]=null==e?void 0:e[r][t.spender]),n},{});return 0===Object.keys(n).length?null:n}),R=(0,Z.P1)(U,function(e){return e.bondAllowance}),F=(0,Z.P1)(U,function(e){return e.pklimaTerms}),z=(0,Z.P1)(U,function(e){return e.carbonRetired}),q=(0,Z.P1)(B,function(e){return e.notificationStatus}),K=(0,Z.P1)(B,function(e){return e.locale}),V=(0,Z.P1)(U,function(e){return e.nameServiceDomains}),H=n(24246),J=function(e){var t=(0,M.v9)(K),n=e.doNotIndex||!e.production,r=(0,T.s5)(e.mediaImageSrc);return(0,H.jsxs)(P(),{children:[n&&(0,H.jsx)("meta",{name:"robots",content:"noindex"}),!n&&(0,H.jsx)("script",{defer:!0,"data-domain":"app.klimadao.finance",src:"https://plausible.io/js/script.outbound-links.js"}),(0,H.jsx)("title",{children:e.title}),(0,H.jsx)("meta",{name:"description",content:e.metaDescription}),(0,H.jsx)("meta",{property:"og:description",content:e.metaDescription}),(0,H.jsx)("meta",{property:"og:title",content:e.mediaTitle}),(0,H.jsx)("meta",{property:"og:image",content:r}),(0,H.jsx)("meta",{property:"og:type",content:"website"}),(0,H.jsx)("meta",{property:"og:locale",content:t||"en"}),(0,H.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,H.jsx)("meta",{name:"twitter:title",content:e.mediaTitle}),(0,H.jsx)("meta",{name:"twitter:description",content:e.metaDescription}),(0,H.jsx)("meta",{name:"twitter:image",content:r}),(0,H.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),(0,H.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),(0,H.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),(0,H.jsx)("link",{rel:"manifest",href:"/site.webmanifest"}),(0,H.jsx)("link",{rel:"mask-icon",href:"/safari-pinned-tab.svg",color:"#00cc33"}),(0,H.jsx)("meta",{name:"theme-color",content:"#ffffff"})]})},G=n(55732),Q=n(34707),X=n.n(Q),W=n(4649),Y=n(15366),$=n(97865),ee=n(43535),et=n(28787),en=n(90849),er=n(54535);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var es=function(e){var t="testnet"===er.Kc?"mumbai":"polygon",n=(null==e?void 0:e.chain)||t,r=(null==e?void 0:e.infuraId)||er.Se;return(0,T.dM)(ei(ei({},e),{},{infuraId:r,chain:n}))},eo=function(e){var t;return t=(0,G.Z)(X().mark(function t(n){var r,a,i,s,o,l,c,d,u,m,p,f,v,b,g,h,x,y,j,k,A;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=es(),t.prev=1,t.next=4,r.getBlockNumber();case 4:return a=t.sent,i=(0,T.uN)({contractName:"distributor",provider:r}),s=(0,T.uN)({contractName:"sklimaMain",provider:r}),o=(0,T.uN)({contractName:"staking",provider:r}),l=[i.info(0),s.circulatingSupply(),o.index(),(0,T.kn)(),i.nextEpochBlock(),(0,T.Si)()],t.next=11,Promise.all(l);case 11:return c=t.sent,u=(d=(0,$.Z)(c,6))[0],m=d[1],p=d[2],f=d[3],v=d[4],b=d[5],g=[i.nextRewardAt(u.rate)],t.next=22,Promise.all(g);case 22:h=t.sent,x=(0,$.Z)(h,1)[0],y=(0,T.N4)(b),k=Math.pow(1+(j=x/m),5*y)-1,A=Math.pow(1+j,365*y)-1,n((0,et.Np)({currentIndex:ee.formatUnits(p,"gwei"),currentBlock:a,fiveDayRate:k,stakingAnnualPercent:A,stakingRebase:j,treasuryBalance:f,rebaseBlock:v.toNumber(),blockRate:b})),t.next=36;break;case 32:t.prev=32,t.t0=t.catch(1),console.error(t.t0),t.t0.message&&t.t0.message.includes("Non-200 status code")&&e.onRPCError();case 36:case"end":return t.stop()}},t,null,[[1,32]])})),function(e){return t.apply(this,arguments)}},el=n(92802);function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eu=["bct","nct","mco2","ubo","nbo","usdc","klima","sklima","wsklima","pklima"],em=["staking_helper","staking","wsklima","pklima_exercise"],ep=(r=(0,G.Z)(X().mark(function e(t){var n,r;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.contract.balanceOf(t.address);case 3:return n=e.sent,r=(0,T.Ls)(t.token),e.abrupt("return",(0,T.bM)(n,r));case 8:return e.prev=8,e.t0=e.catch(0),console.error("Error in getBalance for token: ".concat(t.token)),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return r.apply(this,arguments)}),ef=function(e){var t;return t=(0,G.Z)(X().mark(function t(n){var r,a,i,s,o,l,c,d,u,m,p,f;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=(0,T.dM)(),a=eu.reduce(function(e,t){var n=(0,T.uN)({contractName:t,provider:r});return ed(ed({},e),{},(0,en.Z)({},t,n))},{}),i=[(0,T.$g)({address:e.address}),(0,T.Ow)({address:e.address})],t.next=6,Promise.all(i);case 6:return s=t.sent,l=(o=(0,$.Z)(s,2))[0],c=o[1],d=eu.reduce(function(t,n){var r=a[n];return r&&t.push(ep({token:n,contract:r,address:e.address})),t},[]),t.next=13,Promise.all(d);case 13:return u=t.sent,m=eu.reduce(function(e,t,n){var r=u[n];return ed(ed({},e),{},(0,en.Z)({},t,r))},{}),p=em.reduce(function(t,n){return(0,T.p_)(n).forEach(function(r){var i=a[r];i&&t.push((0,T.RC)({contract:i,address:e.address,spender:n,token:r}))}),t},[]),t.next=18,Promise.all(p);case 18:f=t.sent.reduce(function(e,t){var n=(0,$.Z)(Object.entries(t)[0],2),r=n[0],a=n[1];return e[r]=ed(ed({},e[r]),a),e},{}),n((0,el.N_)({knsDomain:null!=l?l:void 0,ensDomain:null!=c?c:void 0})),n((0,el.Lu)(m)),n((0,el.GI)(f)),t.next=29;break;case 25:t.prev=25,t.t0=t.catch(0),console.error(t.t0),t.t0.message&&t.t0.message.includes("Non-200 status code")&&e.onRPCError();case 29:case"end":return t.stop()}},t,null,[[0,25]])})),function(e){return t.apply(this,arguments)}},ev=n(95609),eb=n(84510),eg=n(27378),eh=n(73287),ex=n(70107),ey=n(87651),ej=n(63724);ey.iv`
  font-family: var(--font-family-secondary);
  font-size: 4.8rem;
  line-height: 4.8rem;
  font-weight: 700;
  ${ej.ZP.large} {
    font-size: 6rem;
    line-height: 6rem;
  }
`,ey.iv`
  font-family: var(--font-family-secondary);
  font-size: 3.6rem;
  line-height: 3.6rem;
  font-weight: 700;
  ${ej.ZP.large} {
    font-size: 4.8rem;
    line-height: 4.8rem;
  }
`;let ek=ey.iv`
  font-family: var(--font-family-secondary);
  font-size: 3.6rem;
  line-height: 4rem;
  font-weight: 600;
  ${ej.ZP.large} {
    font-size: 4.8rem;
    line-height: 5.2rem;
  }
`;ey.iv`
  font-family: var(--font-family-secondary);
  font-size: 2.4rem;
  line-height: 2.8rem;
  font-weight: 600;
  ${ej.ZP.large} {
    font-size: 3.2rem;
    line-height: 3.6rem;
  }
`;let eA=ey.iv`
  font-family: var(--font-family-secondary);
  font-size: 2rem;
  line-height: 2.8rem;
  font-weight: 600;
  ${ej.ZP.large} {
    font-size: 2.4rem;
    line-height: 3rem;
  }
`,ew=ey.iv`
  font-family: var(--font-family-secondary);
  font-size: 1.4rem;
  line-height: 1.8rem;
  font-weight: 700;
  ${ej.ZP.large} {
    font-size: 2rem;
    line-height: 2.8rem;
  }
`;ey.iv`
  font-size: 2rem;
  line-height: 2.8rem;
  font-weight: 500;
  ${ej.ZP.large} {
    font-size: 2.2rem;
    line-height: 3.2rem;
  }
`;let eC=ey.iv`
  font-size: 2rem;
  line-height: 2.8rem;
  font-weight: 400;
  ${ej.ZP.large} {
    font-size: 2.2rem;
    line-height: 3.2rem;
  }
`;ey.iv`
  font-size: 1.6rem;
  line-height: 2.4rem;
  font-weight: 600;
  ${ej.ZP.large} {
    font-size: 2rem;
    line-height: 2.8rem;
  }
`,ey.iv`
  font-size: 1.2rem;
  line-height: 1.6rem;
  font-weight: 600;
  ${ej.ZP.large} {
    font-size: 1.8rem;
    line-height: 2.4rem;
  }
`,ey.iv`
  font-size: 2rem;
  line-height: 2.8rem;
  font-weight: 300;
  ${ej.ZP.large} {
    font-size: 2.4rem;
    line-height: 3.2rem;
  }
`,ey.iv`
  font-size: 1.4rem;
  line-height: 2rem;
  font-weight: 300;
  ${ej.ZP.large} {
    font-size: 1.8rem;
    line-height: 2.4rem;
  }
`,ey.iv`
  font-weight: 300;
  font-size: 2rem;
  line-height: 2.8rem;
  ${ej.ZP.large} {
    font-size: 2.8rem;
    line-height: 3.6rem;
  }
`,ey.iv`
  font-weight: 400;
  font-size: 1.6rem;
  line-height: 2.2rem;
`;let e_=ey.iv`
  font-size: 1.4rem;
  line-height: 1.6rem;
  font-weight: 500;
  ${ej.ZP.large} {
    font-size: 1.6rem;
    line-height: 2rem;
  }
`,eN=ey.iv`
  text-transform: uppercase;
  font-size: 1.2rem;
  line-height: 1.6rem;
  font-weight: 600;
  letter-spacing: 0.06rem;
  ${ej.ZP.large} {
    font-size: 1.4rem;
    line-height: 1.6rem;
  }
`;ey.iv`
  text-transform: uppercase;
  font-size: 1.2rem;
  line-height: 1.4rem;
  font-weight: 400;
  letter-spacing: 0.06rem;
`;var eO=(0,ey.iv)({name:"3his37",styles:"background-color:var(--surface-02);min-height:4.8rem;min-width:4.8rem;display:flex;justify-content:center;align-items:center;border-radius:0.8rem;&:hover{opacity:0.7;}"}),eS=(0,ey.iv)(e_,";text-align:center;background:var(--surface-03);border-radius:0.4rem;padding:1.6rem;@media (max-width: 32.5rem){&.tippy-box{max-width:24rem!important;}}",""),eP=(0,ey.iv)(eN,';padding:0.5rem 0;&:hover{color:var(--klima-green);}&[data-active="true"]{color:var(--klima-green);}',""),eT=function(){var e,t=(0,eg.useState)(!1),n=t[0],r=t[1],a=(0,M.v9)(B).locale,i=(0,ex.T)(),s=(e=(0,G.Z)(X().mark(function e(t){return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,eh.QZ)(t);case 2:i((0,et.Np)({locale:t}));case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),o=(0,H.jsx)("div",{children:Object.keys(eh.k1).map(function(e){return(0,H.jsx)("button",{"data-active":a==e?"true":"false",onClick:function(){s(e),r(!1)},className:eP,children:eh.k1[e].label},e)})});return(0,H.jsx)(eb.ZP,{className:eS,content:o,interactive:!0,onClickOutside:function(){return r(!1)},placement:"bottom-end",visible:n,children:(0,H.jsx)("button",{onClick:function(){return r(!n)},className:eO,"aria-label":W.ag._({id:"shared.change_language"}),children:(0,H.jsx)(ev.Z,{})})})},eM=n(30746);let eZ=ey.iv`
  position: relative;
  display: grid;
  background-color: var(--surface-02);
  border-radius: 1.2rem;
  padding: 2.4rem;
  gap: 2.4rem;

  ${ej.ZP.desktopLarge} {
    padding: 3.2rem;
  }
`,eE=ey.iv`
  ${eN};
  display: flex;
  min-height: 4rem;
  align-items: center;
  color: var(--font-01);
  border: 2px solid var(--surface-03);
  padding: 0.8rem 1.2rem;
  border-radius: 0.4rem;
  align-items: center;
  align-content: center;
  background-color: rgb(0, 0, 0, 0.3);
  &:visited {
    color: var(--font-01);
  }
  &:not(:disabled):hover {
    border-color: var(--klima-green);
  }
  &[data-active="true"] {
    background-color: var(--klima-green);
    border-color: var(--klima-green);
  }
  &:disabled {
    opacity: 0.4;
    cursor: default;
  }
  ${ej.ZP.small} {
    padding: 0.8rem 1.6rem;
  }
`,eL=ey.iv`
  background-color: var(--surface-01);
  min-height: 4.8rem;
  min-width: 4.8rem;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 0.8rem;
  svg {
    font-size: 2.4rem;

    path {
      fill: var(--font-01);
    }
  }
  &:hover {
    opacity: 0.7rem;
  }
`;var eB=(0,ey.iv)("position:fixed;background-color:rgba(0, 0, 0, 0.5);top:0;right:0;left:0;bottom:0;cursor:not-allowed;z-index:99;color:var(--font-01);.banner{cursor:default;align-self:center;padding:2rem;display:grid;gap:1.5rem;background-color:var(--surface-01);justify-items:center;align-items:center;}.banner_text{text-align:center;display:grid;gap:0.8rem;}.okButtonWrap{display:flex;align-items:center;gap:1.6rem;}.okButton{",eE,";border:2px solid var(--klima-green);justify-self:flex-end;}.dontButton{",eN,";opacity:0.5;color:var(--font-03);}.dontButton:hover,.dontButton:focus{opacity:1;}",""),eU=function(e){var t=e.onHide;return(0,H.jsx)("div",{className:eB,children:(0,H.jsxs)("div",{className:"banner",children:[(0,H.jsxs)("div",{className:"banner_text",children:[(0,H.jsx)(N.xv,{t:"h4",align:"center",children:(0,H.jsx)(eM.cC,{id:"checkurlbanner.verify_url_and_bookmark_this_page"})}),(0,H.jsx)(N.xv,{t:"caption",color:"lighter",align:"center",children:(0,H.jsx)(eM.cC,{id:"checkurlbanner.is_the_only_official_domain",components:{0:(0,H.jsx)("strong",{})}})}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:'On April 12, 2022 we migrated from "dapp" to "app". Please update your bookmarks.'})})]}),(0,H.jsxs)("div",{className:"okButtonWrap",children:[(0,H.jsx)("button",{onClick:function(){window.localStorage.setItem("checkURLBanner_app","skip"),t()},className:"dontButton",children:(0,H.jsx)(eM.cC,{id:"checkurlbanner.dont_remind_me"})}),(0,H.jsx)("button",{onClick:t,className:"okButton",children:(0,H.jsx)(eM.cC,{id:"checkurlbanner.got_it"})})]})]})})},eI=n(71157),eD=(0,ey.iv)({name:"4csmfp",styles:"width:100vw;height:100vh;position:fixed;z-index:3;top:0;left:0;background-color:rgba(0, 0, 0, 0.7);cursor:not-allowed;&.showCloseButton{cursor:default;}"}),eR=(0,ey.iv)({name:"rrtfwl",styles:"width:100vw;height:100vh;position:fixed;z-index:4;top:0;left:0;pointer-events:none;display:flex;align-items:center;justify-content:center"}),eF=(0,ey.iv)(ej.ZP.medium,"{width:50rem;}pointer-events:fill;width:80%;position:fixed;height:fit-content;max-height:100vh;overflow-y:scroll;border-radius:1.2rem;background-color:var(--surface-01);display:flex;flex-direction:column;gap:1rem;padding:2.5rem;animation:enter 200ms ease-in-out;animation-fill-mode:forwards;@keyframes enter{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0);}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1);}}",""),ez=(0,ey.iv)({name:"1ks9uvr",styles:"display:flex;justify-content:space-between;align-items:center;width:100%"}),eq=(0,ey.iv)({name:"bsxtxx",styles:"display:flex;justify-content:center;align-items:center;width:4.8rem;height:4.8rem;padding:1rem;border-radius:0.4rem;background-color:var(--surface-02)"}),eK=function(e){var t=!!e.onToggleModal;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:(0,ey.cx)(eD,{showCloseButton:t}),onClick:e.onToggleModal}),(0,H.jsx)("div",{className:eR,children:(0,H.jsxs)("div",{className:(0,ey.cx)(eF,e.className),children:[(0,H.jsxs)("div",{className:ez,children:["string"==typeof e.title?(0,H.jsx)(N.xv,{children:e.title}):e.title,t&&(0,H.jsx)("button",{className:eq,onClick:e.onToggleModal,children:(0,H.jsx)(eI.Z,{})})]}),e.children]})})]})},eV=(0,ey.iv)({name:"12mgz3c",styles:"display:flex;justify-content:flex-end;gap:0.8rem;margin-top:1.6rem"}),eH=function(){var e,t=(0,T.$6)().provider,n=(0,eg.useState)(!1),r=n[0],a=n[1],i=(e=(0,G.Z)(X().mark(function e(){var n;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.getNetwork();case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return");case 7:n.chainId!==O.I8.mainnet.chainId&&n.chainId!==O.I8.testnet.chainId&&a(!0);case 8:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return((0,eg.useEffect)(function(){t&&i()},[t]),r)?(0,H.jsxs)(eK,{title:(0,H.jsxs)(N.xv,{t:"h3",children:["⚠ ",(0,H.jsx)(eM.cC,{id:"Wrong Network"})]}),children:[(0,H.jsx)(N.xv,{t:"body3",color:"lightest",style:{fontWeight:"normal"},children:(0,H.jsx)(eM.cC,{id:"This app only works on Polygon Mainnet."})}),(0,H.jsx)("div",{className:eV,children:(0,H.jsx)(N.DF,{label:(0,H.jsx)(eM.cC,{id:"Switch to Polygon"}),onClick:(0,G.Z)(X().mark(function e(){var n,r,a,i,s,o;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=O.I8.mainnet).hexChainId,a=n.rpcUrls,i=n.blockExplorerUrls,s=n.chainName,!((o=null==t?void 0:t.provider)&&"function"==typeof o.request)){e.next=5;break}return e.next=5,o.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:s,nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:a,blockExplorerUrls:i}]});case 5:case"end":return e.stop()}},e)}))})})]}):null},eJ=function(e){return(0,H.jsxs)(eK,{title:(0,H.jsxs)(H.Fragment,{children:["⚠",(0,H.jsx)(eM.cC,{id:"invalid_rpc.modal.title"})]}),onToggleModal:e.onHide,children:[(0,H.jsx)("div",{children:(0,H.jsx)(N.xv,{color:"lighter",t:"caption",children:(0,H.jsx)(eM.cC,{id:"invalid_rpc.modal.text",components:{0:(0,H.jsx)(N.ee,{href:"https://klimadao.notion.site/Fix-LOADING-and-MetaMask-Network-RPC-Issues-ea26b4805440406c95385e57177a6407"}),1:(0,H.jsx)(N.ee,{href:O.jk.discordInvite})}})})}),(0,H.jsx)("div",{style:{display:"flex",justifyContent:"end",gap:"0.8rem"},children:(0,H.jsx)(N.DF,{onClick:e.onHide,label:"OK",variant:"blue",shape:"rounded"})})]})},eG=function(){return(0,H.jsx)("div",{children:(0,H.jsx)(eM.cC,{id:"shared.loading"})})},eQ=n(14935),eX=function(e){var t=(0,eg.useState)(!0),n=t[0],r=t[1];(0,eg.useEffect)(function(){r(!1)},[]);var a=eg.Children.map(e.children,function(e){return Array.isArray(e)?e.map(function(e){}):eg.cloneElement(e,{element:(0,H.jsx)(eG,{})})});return(0,H.jsxs)(eQ.Z5,{children:[(0,H.jsx)(eQ.AW,{path:"/",element:(0,H.jsx)(eG,{})}),n?a:e.children]})},eW=n(89156),eY=n(87089),e$=n(99092),e0=n(23740),e1=n(15771),e2=n(74995),e8=n(97276),e4=n(67875),e3=n(65783),e6=(0,ey.iv)("position:relative;padding:3.2rem;background-color:var(--surface-02);display:flex;flex-direction:column;height:100%;width:100%;z-index:3;gap:2.4rem;max-height:100vh;overflow-x:hidden;overflow-y:auto;#klima-logo{height:2.8rem;width:auto;}.stack-04{display:grid;gap:0.4rem;}.stack-12{display:grid;gap:1.2rem;}.hr{height:0.2rem;width:100%;background-color:var(--surface-01);}.labelStack{display:grid;gap:0.8rem;}.navFooter{margin-top:auto;display:flex;flex-direction:column;gap:3.2rem;}.navFooter .hr{grid-row:1/1;grid-column:1/4;}.domain-wrapper{display:flex;align-items:center;flex-wrap:nowrap;overflow:hidden;padding-top:0.5rem;gap:1rem;}.avatar{height:4rem;width:4rem;min-width:4rem;border-radius:2rem;display:flex;justify-content:center;align-items:center;overflow:hidden;svg{height:4rem;width:4rem;}}.domain-name{text-overflow:ellipsis;max-width:100%;overflow:hidden;}.navFooter_buttons{display:grid;width:100%;grid-template-columns:repeat(4, 4.2rem);justify-content:center;gap:1rem;",ej.ZP.desktop,"{gap:1rem;grid-template-columns:repeat(4, 4.6rem);}}.navFooter_button{",eL,";min-height:4.2rem;min-width:4.2rem;",ej.ZP.desktop,"{min-height:4.6rem;min-width:4.6rem;}}",""),e5=(0,ey.iv)(e_,';display:flex;align-items:center;gap:1.6rem;padding:0.1rem;border-radius:0.8rem;width:100%;span{color:var(--font-03);}.iconContainer{color:var(--font-02);display:flex;align-items:center;justify-content:center;height:3.8rem;width:3.8rem;background-color:var(--surface-01);border-radius:0.6rem;}&:hover,&:focus{background-color:var(--surface-01);}&:hover span,&:focus span{color:var(--font-02);}&[data-active="true"]{background-color:var(--surface-01);border:1px solid var(--surface-03);}&[data-active="true"] span{color:var(--font-01);}&[data-active="true"] .iconContainer{background-color:var(--klima-green);[data-theme="theme-dark"] &{color:#000!important;}}&[data-disabled="true"]{opacity:0.5;}',""),e9=function(e){var t,n,r=(null===(t=e.domains)||void 0===t?void 0:t.knsDomain)||(null===(n=e.domains)||void 0===n?void 0:n.ensDomain);return(0,H.jsxs)("div",{className:"stack-04",children:[(0,H.jsxs)(N.xv,{t:"caption",children:[(0,H.jsx)(eM.cC,{id:"menu.wallet_address"}),":"]}),r?(0,H.jsxs)("div",{className:"domain-wrapper",children:[(0,H.jsx)("img",{src:r.imageUrl,alt:"profile avatar",className:"avatar"}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",className:"domain-name",children:r.name})]}):(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:e.address?(0,H.jsx)(N.A8,{label:(0,T.G2)(e.address),address:e.address}):(0,H.jsx)(eM.cC,{id:"menu.not_connected"})})]})},e7=function(e){var t=(0,eg.useState)(!0),n=t[0],r=t[1];return((0,eg.useEffect)(function(){r(!1)},[]),e.disabled)?(0,H.jsxs)("div",{className:e5,"data-active":!n&&e.isActive,"data-disabled":!0,children:[(0,H.jsx)("div",{className:"iconContainer",children:e.icon}),(0,H.jsx)("span",{children:e.children})]}):e.href.startsWith("http")||n?(0,H.jsxs)("a",{className:e5,"data-active":!n&&e.isActive,href:e.href,children:[(0,H.jsx)("div",{className:"iconContainer",children:e.icon}),(0,H.jsx)("span",{children:e.children})]}):(0,H.jsxs)(e3.rU,{onClick:function(){var t;null===(t=e.onClick)||void 0===t||t.call(e)},to:e.href,"data-active":!n&&e.isActive,className:e5,children:[(0,H.jsx)("div",{className:"iconContainer",children:e.icon}),(0,H.jsx)("span",{children:e.children})]})},te=function(e){var t=(0,M.v9)(K),n=(0,M.v9)(E),r=(0,M.v9)(V),a=(0,eQ.TH)().pathname,i=function(){var t;null===(t=e.onHide)||void 0===t||t.call(e)};return(0,H.jsxs)("nav",{className:e6,children:[(0,H.jsx)("a",{href:(0,eh.Qy)(O.jk.home,t),children:(0,H.jsx)(N.z_,{})}),(0,H.jsxs)("div",{className:"stack-12",children:[(0,H.jsx)("div",{className:"hr"}),(0,H.jsx)(e9,{domains:r,address:e.address}),(0,H.jsx)("div",{className:"hr"})]}),(0,H.jsx)(e7,{isActive:"/buy"===a,href:"/buy",icon:(0,H.jsx)(e2.Z,{}),onClick:i,children:(0,H.jsx)(eM.cC,{id:"menu.buy_klima"})}),(0,H.jsx)(e7,{isActive:"/stake"===a,href:"/stake",icon:(0,H.jsx)(e$.Z,{}),onClick:i,children:(0,H.jsx)(eM.cC,{id:"menu.stake_klima"})}),(0,H.jsx)(e7,{isActive:a.includes("/bond"),href:"/bonds",icon:(0,H.jsx)(e4.Z,{}),onClick:i,children:(0,H.jsx)(eM.cC,{id:"menu.bond_carbon"})}),(0,H.jsx)(e7,{isActive:"/wrap"===a,href:"/wrap",icon:(0,H.jsx)(eW.Z,{}),onClick:i,children:(0,H.jsx)(eM.cC,{id:"menu.wrap_klima"})}),(0,H.jsx)(e7,{isActive:"/offset"===a,icon:(0,H.jsx)(e1.Z,{}),href:"/offset",onClick:i,children:(0,H.jsx)(eM.cC,{id:"menu.offset"})}),(0,H.jsx)(e7,{isActive:"/redeem"===a,icon:(0,H.jsx)(e8.Z,{}),href:"/redeem",onClick:i,children:(0,H.jsx)(eM.cC,{id:"Buy Carbon"})}),(0,H.jsx)(e7,{isActive:"/info"===a,href:"/info",icon:(0,H.jsx)(eY.Z,{}),onClick:i,children:(0,H.jsx)(eM.cC,{id:"menu.info"})}),!!Number(null==n?void 0:n.pklima)&&(0,H.jsxs)("div",{className:"labelStack",children:[(0,H.jsxs)(N.xv,{t:"badge",color:"lightest",children:["⭐ ",(0,H.jsx)(eM.cC,{id:"menu.just_for_you"})]}),(0,H.jsx)(e7,{isActive:"/pklima"===a,icon:(0,H.jsx)(eW.Z,{}),href:"/pklima",children:(0,H.jsx)(eM.cC,{id:"token.pKLIMA"})})]}),(0,H.jsxs)("div",{className:"navFooter",children:[(0,H.jsx)("div",{className:"hr"}),(0,H.jsxs)("div",{className:"navFooter_buttons",children:[(0,H.jsx)(N.ee,{className:"navFooter_button",href:O.jk.twitter,children:(0,H.jsx)(N.Zm,{})}),(0,H.jsx)(N.ee,{className:"navFooter_button",href:O.jk.youtube,children:(0,H.jsx)(N.LK,{})}),(0,H.jsx)(N.ee,{className:"navFooter_button",href:O.jk.discordInvite,children:(0,H.jsx)(N.D7,{})}),(0,H.jsx)(N.ee,{className:"navFooter_button",href:O.jk.reddit,children:(0,H.jsx)(N.MP,{})}),(0,H.jsx)(N.ee,{className:"navFooter_button",href:O.jk.github,children:(0,H.jsx)(N.ET,{})}),(0,H.jsx)(N.ee,{className:"navFooter_button",href:O.jk.linkedIn,children:(0,H.jsx)(N.nI,{})}),(0,H.jsx)(N.ee,{className:"navFooter_button",href:O.jk.telegram,children:(0,H.jsx)(N.YG,{})}),(0,H.jsx)(N.ee,{className:"navFooter_button",href:O.jk.podcast,children:(0,H.jsx)(N.hE,{})}),(0,H.jsx)(N.ee,{className:"navFooter_button",href:O.jk.officialDocs,children:(0,H.jsx)(e0.Z,{})})]})]})]})},tt=n(22153),tn=n(40196),tr=n(2412),ta=function(e){var t=e.statusType,n=e.message;return"error"===t&&n?"userRejected"===n?W.ag._({id:"status.user_rejected"}):n:"error"===t?W.ag._({id:"status.error"}):"done"===t?W.ag._({id:"status.done"}):"userConfirmation"===t?W.ag._({id:"status.user_confirmation"}):"networkConfirmation"===t?W.ag._({id:"status.network_confirmation"}):null},ti=(a=(0,G.Z)(X().mark(function e(t){var n,r,a,i;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,T.uN)({contractName:t.token,provider:t.provider.getSigner()}),r=(0,T.Ls)(t.token),a=ee.parseUnits(t.value,r),t.onStatus("userConfirmation",""),e.next=7,n.approve(O.UB.mainnet[t.spender],a.toString());case 7:return i=e.sent,t.onStatus("networkConfirmation",""),e.next=11,i.wait(1);case 11:return t.onStatus("done","Approval was successful"),e.abrupt("return",(0,T.bM)(a,r));case 15:if(e.prev=15,e.t0=e.catch(0),4001!==e.t0.code){e.next=20;break}throw t.onStatus("error","userRejected"),e.t0;case 20:throw t.onStatus("error"),console.error(e.t0),e.t0;case 23:case"end":return e.stop()}},e,null,[[0,15]])})),function(e){return a.apply(this,arguments)}),ts=(0,ey.iv)("position:fixed;background-color:rgba(0, 0, 0, 0.5);top:0;right:0;left:0;bottom:0;cursor:not-allowed;z-index:99;display:flex;flex-direction:column;align-items:center;justify-content:center;.card{cursor:default;align-self:center;max-width:64rem;background-color:var(--surface-02);padding:2.4rem;display:grid;gap:3.2rem;}.card_header{display:grid;gap:0.8rem;}.backButton{",eE,';border:2px solid var(--klima-blue);justify-self:end;}.backButton:hover:not(:disabled){background-color:var(--klima-blue);}.backButton:disabled{opacity:0.4;cursor:default;}.button_wrapper{display:"flex";justify-content:"flex-end";gap:"0.8rem";}',""),to=function(){return(0,H.jsx)("div",{className:ts,children:(0,H.jsxs)("div",{className:"card",children:[(0,H.jsxs)("div",{className:"card_header",children:[(0,H.jsx)(N.xv,{t:"h2_alt",children:"⚠ Claim exceeded."}),(0,H.jsx)(N.xv,{t:"body2",children:(0,H.jsx)(eM.cC,{id:"pklima.overclaim"})}),(0,H.jsx)(N.xv,{t:"body2",children:(0,H.jsx)(eM.cC,{id:"pklima.update"})})]}),(0,H.jsx)("div",{className:"button_wrapper",children:(0,H.jsx)(e3.rU,{to:"/stake",children:(0,H.jsx)(N.DF,{label:"BACK TO APP"})})})]})})},tl=(0,ey.iv)("justify-content:center;align-items:center;display:grid;gap:3.2rem;margin:1.6rem;",ej.ZP.small,"{margin:2.4rem;}",""),tc=(0,ey.iv)("display:flex;justify-content:center;align-items:center;margin:auto;padding:3rem;width:8rem;height:8rem;border-radius:50%;text-align:center;line-height:10rem;vertical-align:middle;& svg{font-size:3.5rem;color:var(--font-01);}",ej.ZP.small,"{width:12rem;height:12rem;& svg{font-size:5rem;}}",""),td=(0,ey.iv)(tc," background:#32972d46;border:1px solid var(--klima-green);",""),tu=(0,ey.iv)(tc," background:rgba(182, 56, 56, 0.164);border:1px solid rgba(255, 0, 0, 0.39);",""),tm=(0,ey.iv)(tc," border:1px solid var(--klima-green);border-top-color:var(--surface-01);border-left-color:var(--surface-01);transform:rotate(315deg);& svg{transform:rotate(45deg);}",""),tp=(0,ey.iv)(tc," border:1px solid var(--klima-green);border-top-color:var(--surface-01);transform:rotate(315deg);& svg{transform:rotate(45deg);}",""),tf=(0,ey.iv)({name:"i7k8ug",styles:"display:flex;flex-direction:column;justify-content:flex-end;align-items:center;font-size:1.6rem;text-align:center;word-break:break-word;font-size:1.8rem"}),tv={header:{done:(0,H.jsx)(eM.cC,{id:"modal.done"}),error:(0,H.jsx)(eM.cC,{id:"modal.error"}),userConfirmation:(0,H.jsx)(eM.cC,{id:"modal.user_confirmation"}),networkConfirmation:(0,H.jsx)(eM.cC,{id:"modal.pending"})},iconStyle:{done:td,error:tu,userConfirmation:tm,networkConfirmation:tp},iconComponent:{done:(0,H.jsx)(tn.Z,{}),error:(0,H.jsx)(tr.Z,{}),userConfirmation:(0,H.jsx)(tt.Z,{}),networkConfirmation:(0,H.jsx)(tt.Z,{})}},tb=function(e){var t=(0,eQ.TH)();(0,eg.useEffect)(function(){e()},[t.pathname])},tg=function(){var e=(0,ex.T)(),t=(0,eQ.TH)().pathname,n=(0,M.v9)(q);if(tb(function(){e((0,et.Np)({notificationStatus:null}))}),"/pklima"!==t||!n)return null;var r=n.statusType;if(n&&"claimExceeded"===r)return(0,H.jsx)(to,{});var a=function(e,t){return t.statusType?tv[e][t.statusType]:""};return(0,H.jsx)(eK,{title:a("header",n),onToggleModal:n&&("done"===r||"error"===r)?function(){e((0,et.Np)({notificationStatus:null}))}:void 0,children:(0,H.jsxs)("div",{className:tl,children:[(0,H.jsx)("div",{className:"".concat(a("iconStyle",n)),children:a("iconComponent",n)}),(0,H.jsx)(N.xv,{t:"body3",className:tf,align:"center",style:{fontWeight:400},children:ta(n)})]})})},th=n(98931),tx=JSON.parse('{"M":[{"inputs":[{"internalType":"address","name":"_OHM","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"OHM","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_pair","type":"address"}],"name":"getKValue","outputs":[{"internalType":"uint256","name":"k_","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_pair","type":"address"}],"name":"getTotalValue","outputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_pair","type":"address"}],"name":"markdown","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_pair","type":"address"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"valuation","outputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"stateMutability":"view","type":"function"}]}'),ty=JSON.parse('{"M":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0In","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1In","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount0Out","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1Out","type":"uint256"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"Swap","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint112","name":"reserve0","type":"uint112"},{"indexed":false,"internalType":"uint112","name":"reserve1","type":"uint112"}],"name":"Sync","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":true,"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MINIMUM_LIQUIDITY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"PERMIT_TYPEHASH","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"}],"name":"burn","outputs":[{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getReserves","outputs":[{"internalType":"uint112","name":"reserve0","type":"uint112"},{"internalType":"uint112","name":"reserve1","type":"uint112"},{"internalType":"uint32","name":"blockTimestampLast","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"initialize","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"kLast","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"}],"name":"mint","outputs":[{"internalType":"uint256","name":"liquidity","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"price0CumulativeLast","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"price1CumulativeLast","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"}],"name":"skim","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount0Out","type":"uint256"},{"internalType":"uint256","name":"amount1Out","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"swap","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[],"name":"sync","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"token0","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"token1","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]}'),tj=n(26684),tk=n(24726),tA=n(3922),tw=n(34022),tC={klima_bct_lp:"klimaBctLp",klima_usdc_lp:"klimaUsdcLp",klima_mco2_lp:"klimaMco2Lp",mco2:"mco2",bct:"bct",nbo:"nbo",ubo:"ubo",inverse_usdc:"klima"},t_={klima_bct_lp:"bond_klimaBctLp",klima_usdc_lp:"bond_klimaUsdcLp",klima_mco2_lp:"bond_klimaMco2Lp",inverse_usdc:"klimaProV2",mco2:"bond_mco2",bct:"bond_bct",nbo:"bond_nbo",ubo:"bond_ubo"},tN=function(e){return new tj.CH(O.UB.mainnet[e.token],ty.M,e.provider)},tO=function(e){var t=t_[e.bond];return O.UB.mainnet[t]},tS=function(e){var t=tC[e.bond];return O.UB.mainnet[t]},tP=function(e){return"inverse_usdc"===e},tT=function(e){var t=t_[e.bond];return(0,T.uN)({contractName:t,provider:e.provider})},tM=(i=(0,G.Z)(X().mark(function e(t){var n,r;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=tN({token:"klimaBctLp",provider:t.provider}),e.next=3,n.getReserves();case 3:return r=e.sent,e.abrupt("return",r[0]/(1e9*r[1]));case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),tZ=(s=(0,G.Z)(X().mark(function e(t){var n,r;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=tN({token:"klimaUboLp",provider:t.provider}),e.next=3,n.getReserves();case 3:return r=e.sent,e.abrupt("return",r[0]/(1e9*r[1]));case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),tE=(o=(0,G.Z)(X().mark(function e(t){var n,r;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=tN({token:"klimaNboLp",provider:t.provider}),e.next=3,n.getReserves();case 3:return r=e.sent,e.abrupt("return",r[1]/(1e9*r[0]));case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),tL=(l=(0,G.Z)(X().mark(function e(t){var n,r;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=tN({token:"klimaUsdcLp",provider:t.provider}),e.next=3,n.getReserves();case 3:return r=e.sent,e.abrupt("return",1e12*r[0]/(1e9*r[1]));case 5:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),tB=(c=(0,G.Z)(X().mark(function e(t){var n,r;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=tN({token:"klimaUsdcLp",provider:t.provider}),e.next=3,n.getReserves();case 3:return r=e.sent,e.abrupt("return",1e9*r[1]/(1e12*r[0]));case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),tU=(d=(0,G.Z)(X().mark(function e(t){var n,r,a;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=tN({token:"klimaMco2Lp",provider:t.provider}),e.next=3,n.getReserves();case 3:return a=(r=e.sent)[1]/(1e9*r[0]),e.abrupt("return",a);case 6:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)}),tI=function(e){var t;return t=(0,G.Z)(X().mark(function t(n){var r,a,i,s,o,l,c,d,u,m,p,f,v,b,g,h,x;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=es(),a=e.value&&""!==e.value?ee.parseEther(e.value):ee.parseEther("0"),i=tT({bond:e.bond,provider:r}),s=new tj.CH("klima_usdc_lp"===e.bond?O.UB.mainnet.bond_calc_klimaUsdc:O.UB.mainnet.bond_calc,tx.M,r),o=({mco2:tU,klima_mco2_lp:tU,klima_usdc_lp:tL,klima_bct_lp:tM,bct:tM,ubo:tZ,nbo:tE,inverse_usdc:tB})[e.bond],t.next=7,o({provider:r});case 7:if(l=t.sent,p=0,f=0,!tP(e.bond)){t.next=26;break}return t.next=13,i.marketPrice(13);case 13:return m=t.sent,p=(l-Number((0,T.bM)(m,6)))/l,t.next=18,i.terms(13);case 18:return c=t.sent,t.next=21,i.markets(13);case 21:v=t.sent,f=Number((0,T.bM)(v.capacity,6)),d=v.maxPayout,t.next=38;break;case 26:return t.next=28,i.terms();case 28:return c=t.sent,t.next=31,i.maxPayout();case 31:return d=t.sent,t.next=34,i.debtRatio();case 34:return u=t.sent,t.next=37,i.bondPriceInUSD();case 37:m=t.sent;case 38:if(Number(e.value)){t.next=42;break}b="0",t.next=63;break;case 42:if(!("bct"===e.bond||"mco2"===e.bond||"nbo"===e.bond||"ubo"===e.bond)){t.next=50;break}return t.t0=T.bM,t.next=46,i.payoutFor(a);case 46:t.t1=t.sent,b=(0,t.t0)(t.t1,18),t.next=63;break;case 50:if(!tP(e.bond)){t.next=55;break}b=(Number(e.value)/Number((0,T.bM)(m,6))).toString(),t.next=63;break;case 55:return t.next=57,s.valuation(tS({bond:e.bond}),a);case 57:return g=t.sent,t.t2=T.bM,t.next=61,i.payoutFor(g);case 61:t.t3=t.sent,b=(0,t.t2)(t.t3,9);case 63:h="klima_usdc_lp"===e.bond||tP(e.bond)?1e12*m:m,x=tP(e.bond)?p:(1e18*l-h)/h,tP(e.bond)?n((0,tw.TS)({bond:e.bond,bondDiscount:100*x,bondQuote:b,vestingTerm:0,maxBondPrice:(0,T.bM)(d,6),bondPrice:(0,T.bM)(m,6),marketPrice:l.toString(),capacity:f})):n((0,tw.TS)({bond:e.bond,bondDiscount:100*x,debtRatio:u/1e7,bondQuote:b,vestingTerm:parseInt(c.vestingTerm),maxBondPrice:(0,T.bM)(d,9),bondPrice:(0,T.bM)(m,"klima_usdc_lp"===e.bond?6:18),marketPrice:l.toString(),fee:parseInt(c.fee)/1e4}));case 66:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}},tD=function(e){var t;return t=(0,G.Z)(X().mark(function t(n){var r,a,i,s,o,l,c,d,u,m,p;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.address){t.next=2;break}return t.abrupt("return");case 2:if(r=es(),!tP(e.bond)){t.next=10;break}return a=(0,T.uN)({contractName:"klima",provider:r}),t.next=7,a.allowance(e.address,tO({bond:e.bond}));case 7:return i=t.sent,n((0,el.cC)((0,en.Z)({},e.bond,(0,T.bM)(i,9)))),t.abrupt("return");case 10:return s=tT({bond:e.bond,provider:r}),o=function(e){var t=tC[e.bond];return(0,T.uN)({contractName:t,provider:e.providerOrSigner})}({bond:e.bond,providerOrSigner:r}),t.next=14,s.bondInfo(e.address);case 14:return c=(l=t.sent)[0],d=+l[1]+ +l[2],t.next=19,s.pendingPayoutFor(e.address);case 19:return u=t.sent,t.next=22,o.allowance(e.address,tO({bond:e.bond}));case 22:return m=t.sent,t.t0=tk,t.next=26,o.balanceOf(e.address);case 26:t.t1=t.sent,p=t.t0.formatUnits.call(t.t0,t.t1,"ether"),n((0,el.cC)((0,en.Z)({},e.bond,(0,T.bM)(m)))),n((0,tw.TS)({bond:e.bond,balance:p,interestDue:ee.formatUnits(c,"gwei"),bondMaturationBlock:d,pendingPayout:ee.formatUnits(u,"gwei")}));case 30:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}},tR=(u=(0,G.Z)(X().mark(function e(t){var n,r,a,i,s,o,l,c,d,u,m,p,f,v,b;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!tP(t.bond)){e.next=34;break}return e.prev=1,n=0,r=t.provider.getSigner(),a=tT({bond:t.bond,provider:r}),e.next=7,a.marketPrice(13);case 7:return i=e.sent,s=1/Number((0,T.bM)(i,6))*Number(t.value)-1/Number((0,T.bM)(i,6))*Number(t.value)*n,o=ee.parseUnits(Number(s.toFixed(6)).toString(),"mwei"),t.onStatus("userConfirmation",""),e.next=13,r.getAddress();case 13:return l=e.sent,c=ee.parseUnits(t.value,"gwei"),e.next=17,a.deposit(tA.O$.from(13),[c,o],[l,O.UB.mainnet.daoMultiSig]);case 17:return d=e.sent,t.onStatus("networkConfirmation",""),e.next=21,d.wait(1);case 21:t.onStatus("done","Bond acquired successfully"),e.next=32;break;case 24:if(e.prev=24,e.t0=e.catch(1),console.error(e.t0),4001!==e.t0.code){e.next=30;break}throw t.onStatus("error","userRejected"),e.t0;case 30:throw t.onStatus("error"),e.t0;case 32:e.next=63;break;case 34:return e.prev=34,u=t.provider.getSigner(),m=tT({bond:t.bond,provider:u}),e.next=39,m.bondPrice();case 39:return p=Math.round(e.sent*(1+(t.slippage/100||.02))),f=ee.parseUnits(t.value,"ether"),e.next=45,u.getAddress();case 45:return v=e.sent,t.onStatus("userConfirmation",""),e.next=49,m.deposit(f,p,v);case 49:return b=e.sent,t.onStatus("networkConfirmation",""),e.next=53,b.wait(1);case 53:t.onStatus("done","Bond acquired successfully"),e.next=63;break;case 56:if(e.prev=56,e.t1=e.catch(34),4001!==e.t1.code){e.next=61;break}throw t.onStatus("error","userRejected"),e.t1;case 61:throw t.onStatus("error"),e.t1;case 63:case"end":return e.stop()}},e,null,[[1,24],[34,56]])})),function(e){return u.apply(this,arguments)}),tF=(m=(0,G.Z)(X().mark(function e(t){var n,r,a;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.provider.getSigner(),r=tT({bond:t.bond,provider:n}),t.onStatus("userConfirmation",""),e.next=6,r.redeem(t.address,t.shouldAutostake);case 6:return a=e.sent,t.onStatus("networkConfirmation",""),e.next=10,a.wait(1);case 10:t.onStatus("done","Bond redeemed successfully"),e.next=20;break;case 13:if(e.prev=13,e.t0=e.catch(0),4001!==e.t0.code){e.next=18;break}throw t.onStatus("error","userRejected"),e.t0;case 18:throw t.onStatus("error"),e.t0;case 20:case"end":return e.stop()}},e,null,[[0,13]])})),function(e){return m.apply(this,arguments)}),tz=n(23104),tq=n(62398),tK=n(14425),tV=n(38579),tH=n.n(tV);function tJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tJ(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tQ=function(e){return er.Pe?(0,H.jsx)(tH(),tG(tG({},e),{},{loader:function(e){return e.src}})):(0,H.jsx)(tH(),tG({},e))},tX=n(70841),tW=(0,ey.iv)('color:white;padding:2.4rem;background:url("/islands.jpg");background-position:center;background-size:cover;border-radius:1.2rem;display:grid;align-content:space-between;grid-column:1/3;.header{display:grid;gap:0.8rem;}.footer{margin-top:auto;display:flex;margin-bottom:-0.8rem;justify-content:flex-end;}.footer svg{width:4rem;height:4rem;transform:scaleX(-1);color:var(--font-01);}',ej.ZP.desktop,"{grid-column:2/3;min-height:20rem;}",""),tY=function(){return(0,H.jsxs)("a",{href:O.jk.buy,className:tW,children:[(0,H.jsxs)("div",{className:"header",children:[(0,H.jsx)(N.xv,{t:"caption",className:"title",children:(0,H.jsx)(eM.cC,{id:"imagecard.new_to_klima"})}),(0,H.jsx)(N.xv,{t:"h4",children:(0,H.jsx)(eM.cC,{id:"imagecard.how_to_get_started"})})]}),(0,H.jsx)("div",{className:"footer",children:(0,H.jsx)(tX.Z,{})})]})},t$=(0,ey.iv)("display:grid;background-color:var(--surface-02);border-radius:1.2rem;padding:1.6rem;gap:2.4rem;align-content:start;grid-column:1/3;",ej.ZP.small,"{padding:2.4rem;}",ej.ZP.desktop,"{grid-column:cardsleft;align-items:start;}",ej.ZP.desktopLarge,"{padding:3.2rem;}",""),t0=(0,ey.iv)({name:"15ko70o",styles:"display:grid;gap:0.8rem;max-width:38rem"}),t1=(0,ey.iv)("display:grid;gap:2.4rem;",ej.ZP.medium,"{border:2px solid var(--surface-01);padding:2.4rem;border-radius:1.2rem;}",ej.ZP.desktop,"{gap:3.2rem;padding:3.2rem;max-width:56rem;justify-self:center;width:100%;}",""),t2=(0,ey.iv)("grid-column:1/3;",ej.ZP.desktop,"{grid-column:2/3;grid-row:span 2;}",""),t8=(0,ey.iv)({name:"prf8xg",styles:"display:flex;align-items:center;gap:0.8rem"}),t4=(0,ey.iv)({name:"8ir74v",styles:"display:grid;gap:1.2rem"}),t3=(0,ey.iv)({name:"1eoy87d",styles:"display:flex;justify-content:space-between"}),t6=(0,ey.iv)("display:grid;gap:1.6rem;border-radius:0.6rem;grid-template-columns:min-content 1fr auto;background-color:var(--surface-01);padding:0.8rem 1.2rem;border:1px solid transparent;color:white;&.disabled{opacity:0.4;}&:hover{border:1px solid var(--klima-green);background-color:var(--surface-03);}>div{display:grid;gap:0.4rem;}.bondLink_imgContainer{display:flex;align-self:center;justify-content:center;align-items:center;width:4rem;height:4rem;",ej.ZP.medium,"{width:4.8rem;height:4.8rem;}}",ej.ZP.medium,"{padding:1.2rem 1.6rem;}",""),t5=(0,ey.iv)({name:"juwd8r",styles:'justify-self:center;align-self:center;&[data-hide="true"]{opacity:0.4;}'}),t9=function(e){var t=(0,M.v9)(function(t){return t.bonds[e]}),n=null==t?void 0:t.bondPrice,r=null==t?void 0:t.fee,a={mco2:!0,bct:!0,klima_usdc_lp:!0,klima_bct_lp:!0,klima_mco2_lp:!0,ubo:!0,nbo:!0,inverse_usdc:!0};return tP(e)&&1>Number(null==t?void 0:t.capacity)?a[e]=!0:!tP(e)&&n&&r&&parseFloat(n)<1+r&&(a[e]=!0),{price:n,discount:null==t?void 0:t.bondDiscount,disabled:a[e],icon:({ubo:"/icons/UBO.png",nbo:"/icons/NBO.png",mco2:"/icons/MCO2.png",bct:"/icons/BCT.png",klima_bct_lp:"/icons/BCT-KLIMA-LP.png",klima_usdc_lp:"/icons/KLIMA-USDC-LP.png",klima_mco2_lp:"/icons/KLIMA-MCO2-LP.png",inverse_usdc:"/icons/KLIMA-USDC-LP.png"})[e],name:({ubo:"UBO",nbo:"NBO",mco2:"MCO2",bct:"BCT",klima_usdc_lp:"KLIMA/USDC LP",klima_bct_lp:"KLIMA/BCT LP",klima_mco2_lp:"KLIMA/MCO2 LP",inverse_usdc:"KLIMA (inverse)"})[e],description:({ubo:W.ag._({id:"choose_bond.ubo.description"}),nbo:W.ag._({id:"choose_bond.nbo.description"}),mco2:W.ag._({id:"choose_bond.mco2.moss_carbon_credit_token"}),bct:W.ag._({id:"choose_bond.bct.toucan_base_carbon_tonne"}),klima_usdc_lp:W.ag._({id:"choose_bond.klima_usdc_lp.klima_usdc_sushiswap_liquidity"}),klima_bct_lp:W.ag._({id:"choose_bond.klima_bct_lp.klima_bct_sushiswap_liquidity"}),klima_mco2_lp:W.ag._({id:"choose_bond.mco2_lp.klima_mco2_quickswap_liquidity"}),inverse_usdc:W.ag._({id:"choose_bond.inverse_usdc"})})[e],href:({ubo:"/bonds/ubo",nbo:"/bonds/nbo",mco2:"/bonds/mco2",bct:"/bonds/bct",klima_usdc_lp:"/bonds/klima_usdc_lp",klima_bct_lp:"/bonds/klima_bct_lp",klima_mco2_lp:"/bonds/klima_mco2_lp",inverse_usdc:"/bonds/inverse_usdc"})[e],balanceUnit:({ubo:"UBO",nbo:"NBO",mco2:"MCO2",bct:"BCT",klima_usdc_lp:"SLP",klima_bct_lp:"SLP",klima_mco2_lp:"LP",inverse_usdc:"KLIMA"})[e],priceUnit:({ubo:"UBO",nbo:"NBO",mco2:"MCO2",bct:"BCT",klima_usdc_lp:"USDC",klima_bct_lp:"BCT",klima_mco2_lp:"MCO2",inverse_usdc:"KLIMA"})[e],isInverse:({ubo:!1,nbo:!1,mco2:!1,bct:!1,klima_usdc_lp:!1,klima_bct_lp:!1,klima_mco2_lp:!1,inverse_usdc:!0})[e]}};function t7(){var e=(0,ex.T)(),t=(0,M.v9)(K),n=t9("inverse_usdc"),r=t9("klima_bct_lp"),a=t9("ubo"),i=t9("nbo"),s=t9("bct"),o=t9("mco2"),l=t9("klima_usdc_lp"),c=t9("klima_mco2_lp"),d=(0,M.v9)(B).treasuryBalance,u=[n,r,a,i,o,s,c,l];return(0,eg.useEffect)(function(){u.forEach(function(t){t&&!t.disabled&&e(tI({bond:t.name}))})},[]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:t$,children:[(0,H.jsxs)("div",{className:t0,children:[(0,H.jsxs)(N.xv,{t:"h4",className:t8,children:[(0,H.jsx)(e4.Z,{}),(0,H.jsx)(eM.cC,{id:"choose_bond.bond_carbon"})]}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"choose_bond.bond_carbon.the_best_way_to_buy_klima"})})]}),(0,H.jsxs)("div",{className:t1,children:[(0,H.jsxs)("div",{children:[(0,H.jsx)(N.xv,{t:"badge",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"choose_bond.treasury_balance"})}),(0,H.jsxs)(N.xv,{children:[(0,T.eC)(d,0,t),d?" T CO2":""]})]}),(0,H.jsxs)("div",{className:t4,children:[(0,H.jsxs)("div",{className:t3,children:[(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"choose_bond.choose_bond"})}),(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"choose_bond.percent_discount"})})]}),u.map(function(e){return(0,H.jsx)(e3.rU,{to:e.href,children:(0,H.jsxs)("div",{className:(0,ey.cx)(t6,{disabled:!!e.disabled}),children:[(0,H.jsx)("div",{className:"bondLink_imgContainer",children:(0,H.jsx)(tQ,{src:e.icon,alt:"",width:64,height:64})}),(0,H.jsxs)("div",{children:[(0,H.jsx)(N.xv,{t:"body1",children:e.name}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:e.description})]}),e.disabled?(0,H.jsx)(N.xv,{t:"h5",color:"lightest",className:t5,children:(0,H.jsx)(eM.cC,{id:"choose_bond.sold_out"})}):(0,H.jsxs)(N.xv,{t:"h5",className:t5,"data-hide":!(null!=e&&e.discount)||e.discount<0,children:[(0,T.eC)(null==e?void 0:e.discount,2,t),e.discount?"%":""]})]},e.name)},e.href)})]})]})]}),(0,H.jsx)("div",{className:t2,children:(0,H.jsx)(tY,{})})]})}var ne=(0,ey.iv)(eZ,";align-content:start;grid-column:1/3;grid-template-rows:min-content 1fr;gap:0.8rem;.header{display:flex;justify-content:space-between;}.header .title{display:flex;align-items:center;gap:0.8rem;}.cardContent{display:grid;align-content:space-around;gap:1.6rem;}.stack{display:grid;gap:0.4rem;overflow:hidden;}.value{",ek,";}.label{",eA,";}p{overflow:hidden;text-overflow:ellipsis;}",ej.ZP.desktop,"{grid-column:2/3;.value{",eA,";}.label{",ew,";}}",ej.ZP.desktopLarge,"{.value{",ek,";}.label{",eA,";}}",""),nt=function(e){var t,n,r=t9(e.bond).name,a=(0,M.v9)(function(t){return t.bonds[e.bond]}),i=(0,M.v9)(K);return(0,H.jsxs)("div",{className:ne+" "+status,children:[(0,H.jsx)("div",{className:"header",children:(0,H.jsxs)(N.xv,{t:"h4",className:"title",children:[(0,H.jsx)(tK.Z,{}),"Balances"]})}),(0,H.jsxs)("div",{className:"cardContent",children:[(0,H.jsxs)("div",{className:"stack",children:[(0,H.jsx)(N.xv,{className:"value",children:(0,T.eC)(null!==(t=null==a?void 0:a.balance)&&void 0!==t?t:0,9,i)}),(0,H.jsx)(N.xv,{className:"label",color:"lightest",children:r})]}),(0,H.jsxs)("div",{className:"stack",children:[(0,H.jsx)(N.xv,{className:"value",children:(0,T.eC)(null!==(n=null==a?void 0:a.pendingPayout)&&void 0!==n?n:0,1>Number(null==a?void 0:a.pendingPayout)?5:2,i)}),(0,H.jsx)(N.xv,{className:"label",color:"lightest",children:"Pending KLIMA"})]})]})]})},nn=n(30186),nr=(0,ey.iv)({name:"13lki7s",styles:"display:grid;gap:2rem;background-color:var(--surface-02);border:2px solid var(--surface-03);padding:2.4rem;border-radius:1.2rem"}),na=(0,ey.iv)({name:"1kjdw98",styles:"display:grid;gap:2rem;&.success{opacity:0.3;}"}),ni=(0,ey.iv)({name:"bmtws3",styles:"display:grid;grid-template-columns:1fr 1fr;justify-content:stretch;align-items:center;border-radius:0.8rem;padding:0.4rem;background-color:var(--surface-01)"}),ns=(0,ey.iv)(eN,';display:flex;align-items:center;display:flex;justify-content:center;background-color:var(--surface-01);min-height:4.8rem;&:hover{opacity:0.8;}&[data-active="false"]{color:var(--font-01);}&[data-active="true"]{font-weight:bold;border-bottom:3px solid var(--klima-green);}&:disabled{opacity:50%;}',""),no=(0,ey.iv)({name:"1oc4293",styles:"display:flex;justify-content:center;align-items:center;gap:0.8rem;& svg{color:var(--klima-green);}"}),nl=(0,ey.iv)({name:"zl1inp",styles:"display:flex;justify-content:center"}),nc=(0,ey.iv)({name:"10t2zt5",styles:"padding:0 0.8rem;display:flex;align-items:center;min-height:4.8rem"}),nd=(0,ey.iv)({name:"1d3w5wq",styles:"width:100%"}),nu=(0,ey.iv)("display:grid;flex-direction:column;width:100%;gap:0.6rem;.label{height:2rem;",ej.ZP.medium,"{justify-self:flex-start;}}.value.warn{color:var(--warn);}",""),nm=(0,ey.iv)({name:"19ff0ta",styles:"display:flex;justify-content:space-between;align-items:center;background-color:var(--surface-01);color:var(--font-01);height:5.6rem;border-radius:1rem;padding:0.4rem 0.8rem;.icon{min-width:4.8rem;align-self:center;}p{padding:0 0.6rem;}"}),np=function(e){return(0,H.jsxs)("div",{className:nu,children:[(0,H.jsx)("div",{className:"label",children:e.label}),(0,H.jsxs)("div",{className:nm,children:[e.icon&&(0,H.jsx)(tQ,{className:"icon",src:e.icon,width:48,height:48,alt:e.iconName||""}),e.valueHref?(0,H.jsx)(N.ee,{href:e.valueHref,target:"_blank",rel:"noopener noreferrer",children:(0,H.jsx)(N.xv,{t:"body3",className:(0,ey.cx)("value",{warn:!!e.warn}),style:{textDecoration:"underline"},children:e.value})}):(0,H.jsx)(N.xv,{t:"body3",className:(0,ey.cx)("value",{warn:!!e.warn}),children:e.value})]})]})},nf=function(e){var t,n=null===(t=e.status)||void 0===t?void 0:t.statusType,r="userConfirmation"===n||"networkConfirmation"===n,a="done"===n;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:(0,ey.cx)(na,{success:a}),children:[(0,H.jsx)(N.xv,{children:(0,H.jsx)(eM.cC,{id:"transaction_modal.approve.allow_amount"})}),(0,H.jsx)(np,{label:(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"transaction_modal.approve.approve_quantity.contract_address"})}),value:(0,T.G2)(e.spenderAddress),valueHref:O.jk.polygonscan+"/address/".concat(e.spenderAddress)}),(0,H.jsx)(np,{label:(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"transaction_modal.approve_quantity.quantity"})}),value:e.value||"0",icon:e.tokenIcon,iconName:e.tokenName})]}),!!e.status&&(0,H.jsxs)("div",{className:no,children:[a&&(0,H.jsx)(tn.Z,{}),(0,H.jsx)(N.xv,{t:"caption",color:"lighter",align:"center",children:ta(e.status)})]}),(0,H.jsxs)("div",{className:nl,children:[r&&(0,H.jsx)("div",{className:nc,children:(0,H.jsx)(N.$j,{})}),!r&&!a&&(0,H.jsx)(N.DF,{icon:(0,H.jsx)(nn.Z,{}),label:(0,H.jsx)(eM.cC,{id:"shared.approve"}),onClick:function(){return e.onApproval()},className:nd}),!r&&a&&(0,H.jsx)(N.DF,{icon:(0,H.jsx)(nn.Z,{}),label:(0,H.jsx)(eM.cC,{id:"transaction_modal.next"}),onClick:function(){return e.onSuccess()},className:nd})]})]})},nv=function(e){var t,n=null===(t=e.status)||void 0===t?void 0:t.statusType,r="userConfirmation"===n||"networkConfirmation"===n,a="done"===n;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:(0,ey.cx)(na,{success:a}),children:[(0,H.jsx)(N.xv,{children:(0,H.jsx)(eM.cC,{id:"transaction_modal.submit.confirm_transaction"})}),(0,H.jsx)(np,{label:(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"transaction_modal.submit.contract_address"})}),value:(0,T.G2)(e.spenderAddress),valueHref:O.jk.polygonscan+"/address/".concat(e.spenderAddress)}),(0,H.jsx)(np,{label:(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"transaction_modal.submit.amount"})}),value:e.value||"0",icon:e.tokenIcon,iconName:e.tokenName})]}),!!e.status&&(0,H.jsxs)("div",{className:no,children:[a&&(0,H.jsx)(tn.Z,{}),(0,H.jsx)(N.xv,{t:"caption",color:"lighter",align:"center",children:ta(e.status)})]}),(0,H.jsxs)("div",{className:nl,children:[r&&(0,H.jsx)("div",{className:nc,children:(0,H.jsx)(N.$j,{})}),!r&&!a&&(0,H.jsx)(N.DF,{icon:(0,H.jsx)(nn.Z,{}),label:(0,H.jsx)(eM.cC,{id:"transaction_modal.submit.button"}),onClick:function(){return e.onSubmit()},className:nd}),!r&&a&&(0,H.jsx)(N.DF,{variant:"gray",label:(0,H.jsx)(eM.cC,{id:"transaction_modal.close"}),onClick:function(){return e.onClose()},className:nd})]})]})},nb=function(e){var t,n=(0,eg.useState)(e.hasApproval?"submit":"approve"),r=n[0],a=n[1],i=null===(t=e.status)||void 0===t?void 0:t.statusType,s="userConfirmation"===i||"networkConfirmation"===i,o=s?void 0:e.onCloseModal;return(0,H.jsx)(eK,{title:e.title,onToggleModal:o,children:(0,H.jsxs)("div",{className:nr,children:[(0,H.jsxs)("div",{className:ni,children:[(0,H.jsx)("button",{className:ns,onClick:function(){a("approve")},"data-active":"approve"===r,disabled:"submit"===r||s,children:(0,H.jsx)(eM.cC,{id:"transaction_modal.view.approve.title"})}),(0,H.jsx)("button",{className:ns,onClick:function(){a("submit")},"data-active":"submit"===r,disabled:"approve"===r||s,children:(0,H.jsx)(eM.cC,{id:"transaction_modal.view.submit.title"})})]}),"approve"===r&&(0,H.jsx)(nf,{value:e.approvalValue||e.value,tokenIcon:e.tokenIcon,tokenName:e.tokenName,spenderAddress:e.spenderAddress,onApproval:e.onApproval,onSuccess:function(){e.onResetStatus(),a("submit")},status:e.status}),"submit"===r&&(0,H.jsx)(nv,{value:e.value,tokenIcon:e.tokenIcon,tokenName:e.tokenName,spenderAddress:e.spenderAddress,onSubmit:e.onSubmit,onClose:e.onCloseModal,status:e.status})]})})},ng={src:"/_next/static/media/BCT.eb7c79da.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEUOEBkcREUgLDgeKDMXHidMaXEMERceGScdJzIdJTIPEhkMDxQTFyA1OD8SFyEGCg4fIjH0/9MZjnQ1Vk0p6ZUOemNUV1BS74+rrLaYlZ7Ktcz2AAAAD3RSTlP9+vjq9AAv/rIv6rSw+i4CajYxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQUlEQVR4nAXBiRHAIAgEwFMBQc2Amrf/RrMLlg50YUhzd2+CgeP9CAOEe84NAmE/51UJGmmtFAorUWsUA5vmrMY/V5YCZFTktU4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},nh={src:"/_next/static/media/KLIMA.146512bb.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEUNDA0PCg4IXh1MaXEOCw0OCA0OEA8OEw8NGRAKQRgGeyMNJxPFv4ylAAAACHRSTlP6L/oAsLTq6m/bIX8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAA0SURBVHicNYtBCgAgDMPSObXT//9XBM0pEEJTh66Ghm0PkY6qcAK1VnF5kg77Js0Ne4q/HylPAR9cuFLoAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},nx={src:"/_next/static/media/MCO2.48c4b6b4.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEXe8US0wzjE1j3x/0rl+EXn+0bt/0nd8kbg80VMaXHk90aVoi9zfSZbZB6CjizI2j6+zjx73X+hAAAACnRSTlP7/Pr/6rD0L7QACvfGWwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADpJREFUeJw1i0EOwCAIwKoIKKjb/1+7aLJbk7YM79B94E0ipDkqhaeKYjn3Wq8dyJzFrgpCb8yJ//0DO0YBnEnlHsMAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},ny={src:"/_next/static/media/NBO.d6f5cfa7.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAaVBMVEVMaXHunYDafo/fak/dj4/ymW7qmoTSq6bgo6PXo63UkrHxzdjUhqXZv63DrqDgrZnfuKPsl4nklIDin4jQYW7IO0/0qaPifGHljo3ptsO7eJ7ednf52M7/9fv0uLveRC7mjnXyyMTw0uC8MGTFAAAAHHRSTlMAU6n+OhSwRRsI3v6NWHyt2ubJyP39/vze+TX8j61IMQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEJJREFUeJwVy8UBgEAAwLCeG+5u+w8J/BMgLNoDhCxGqYFsT88sDW49+i5NguIaTnXXAldtatysIeRl29gf4537+gtnkgLhlk1EQAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},nj={src:"/_next/static/media/NCT.7e2492e3.png",height:192,width:192,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAWlBMVEUZHyYgKDgiKTceJTENERgIDhIOEBUGCA0iKDZMaXEjLTo/ZkQafmojKzpZZGSDfIIOERkeITMpMjjz8vPJ0VdD05Ao46JO44PF6F1/0mHL8re28oRv1XW77uFg7gO9AAAAEXRSTlP7+Oqw7y+y/S8AtPr6tPr6+8utiWEAAAAJcEhZcwAACxMAAAsTAQCanBgAAABCSURBVHicBcGFEcAwDASwT2Msnp0y7L9mJTiLqrCDSQElhujS2qwCyu9+XhCQ+3FeAGqM2zpEhXWRGZ3BrS9lMv8BWl4CqTdG1ugAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},nk={src:"/_next/static/media/UBO.a9fe9b4b.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAeFBMVEVMaXGLap2GnL7IyczgfDPmfzmlj4anf2dvZ6K+yuB6gq/B1uiY0u3Bo5BVZq+zl3i5rJ3hfjjTi0ynjoa1trXIqpR4cq5XYKdwjq92Z6pkZ6teg6/Dr54LUqRFYqayrs8nPpIlgMKTl8d+fbjJ5fX8+/wontemstR1IsB1AAAAJHRSTlMAD0zYJTc6BmP+r/7+Xy1bl19NjMmyJj2BbPXqyf355v7+quitOTT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAR0lEQVR4nBXLVRaAIBQFwEvzAMXuzv3v0OP8DwCmlTQAYF2ZKwPwdRlFppEetO1XFWHPd378VKAffAh3LdG0jkgk/2K24wYfdjIDcxHDgH8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},nA={src:"/_next/static/media/USDC.49b9d9f3.png",height:84,width:84,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEURZ8Jhmtcdb8dXk9VMaXEfcssgcsxBhtEqd8o0f9CSwPF/reCPvfB4qN2Gs+KkxOg3gM7vE6L4AAAACnRSTlMv+rb5ALGu+Pnr5jOl5QAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxJREFUeJwlyjECwCAIALFTERAU/f9rOzRzELp7R2Bts71g7panhWL17vEyrPzcl8aMkTlC/xwLhOmuyAdCnAHdPqvbNgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},nw={ubo:{key:"ubo",icon:nk,label:"UBO"},nbo:{key:"nbo",icon:ny,label:"NBO"},bct:{key:"bct",icon:ng,label:"BCT"},nct:{key:"nct",icon:nj,label:"NCT"},mco2:{key:"mco2",icon:nx,label:"MCO2"},usdc:{key:"usdc",icon:nA,label:"USDC"},klima:{key:"klima",icon:nh,label:"KLIMA"},sklima:{key:"sklima",icon:nh,label:"sKLIMA"},wsklima:{key:"wsklima",icon:nh,label:"wsKLIMA"},pklima:{key:"pklima",icon:nh,label:"pklima"},klimaUsdcLp:{key:"klimaUsdcLp",icon:{src:"/_next/static/media/KLIMA-USDC-LP.f6221c26.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEUAVVUXNlcAWs+Gs+QKRRgMCREODg5enOANFxANDQ1loOBMjtdGidMJVBwAAAAOCw4OEg8OCA0Kf/8mdMkbasBqoNoLOBYJEAsQCgx3r+s8gs8FgyU1a6pQfLBEXHClQ2CMAAAAF3RSTlMBjR3+/h3a8+1J+9q0/RiytfcYSEr7/n9y3dwAAAAJcEhZcwAACxMAAAsTAQCanBgAAABESURBVHicFctHEoAgEADBkSxg1gUx/P+Zln1v7FxcDzCJSLDAItdQuxWcGFNuv9OHWl4dE4zd43WLgPLnceY/bqll9QFrigL4mwGJJgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},label:"KLIMA/USDC LP"},klimaBctLp:{key:"klimaBctLp",icon:{src:"/_next/static/media/BCT-KLIMA-LP.754cea91.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEVMaXEPExcJThoODg4QFRwODxIQGSAAAAATFhoLNRUgHi0eIS8OFRAOCA0VHhwOEBDHvbVZjWgiITENcF8UExsLDA4LPhggLzYaT0wFgyVkYFl//7aq/8ABAAAAFXRSTlMA8/60HtkZA0n+9bTq942N/f3e+7Lhu2yBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQUlEQVR4nAXBhxGAMAwAsU+1U+jnEGD/PZGIwZIiEEoZPSIs5fG2ZUhjeDOnaDd795ogr3Z80yHEOq+7gaBnbfkHXBcCt4XJECwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},label:"KLIMA/BCT LP"},klimaMco2Lp:{key:"klimaMco2Lp",icon:{src:"/_next/static/media/KLIMA-MCO2-LP.26752f1d.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEVrgRsNEA8MCREODg7z/EwNDQ0KRhnk9kULOhcOEA7c70Xv/0nm+kbj90YJVRsAAABqdSdcZSKotjULDQ2EkCsMNBW8yTsFgyVOWB/Y6kOZlEYZAAAAE3RSTlMB9B20G0n+9/7gSfjatP0YjY39u1LUZQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEFJREFUeJwVy0cSgCAQAMEhLtG0gPr/j1r2vbFOcwBwM6VsATPvTU8POcWoqxaCUX2u1WA/xhhDAC+v1P7H0qT7D1RvAneZeNFeAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},label:"KLIMA/MCO2 LP"}},nC=(0,ey.iv)("position:relative;display:grid;background-color:var(--surface-02);border-radius:1.2rem;padding:2.4rem;gap:2.4rem;align-content:start;grid-column:1/3;.hr{height:2px;background-color:var(--surface-01);}",ej.ZP.medium,"{gap:3.2rem;}",ej.ZP.desktop,"{grid-column:cardsleft;grid-row:2/span 3;gap:4.8rem;grid-template-rows:1fr 1fr 1fr;align-items:start;}",ej.ZP.desktopLarge,"{padding:3.2rem;}",""),n_=(0,ey.iv)({name:"13k9wsl",styles:"display:grid;gap:0.8rem;max-width:38rem;.new-releases-icon{color:var(--klima-green);margin-inline-end:0.4rem;margin-bottom:-0.4rem;}"}),nN=(0,ey.iv)("display:grid;gap:2.4rem;",ej.ZP.medium,"{border:2px solid var(--surface-03);padding:2.4rem;border-radius:1.2rem;}",ej.ZP.desktop,"{gap:4.8rem;padding:3.2rem;max-width:48rem;justify-self:center;width:100%;}",""),nO=(0,ey.iv)({name:"prf8xg",styles:"display:flex;align-items:center;gap:0.8rem"}),nS=(0,ey.iv)({name:"188vz8s",styles:"display:grid;gap:2rem"}),nP=(0,ey.iv)({name:"bmtws3",styles:"display:grid;grid-template-columns:1fr 1fr;justify-content:stretch;align-items:center;border-radius:0.8rem;padding:0.4rem;background-color:var(--surface-01)"}),nT=(0,ey.iv)(eN,';display:flex;align-items:center;display:flex;justify-content:center;background-color:var(--surface-01);border-radius:0.4rem;min-height:4.8rem;&:hover{opacity:0.8;}&[data-active="false"]{color:var(--font-01);background-color:var(--surface-01);}&[data-active="true"]{background-color:var(--klima-green);font-weight:bold;[data-theme="theme-dark"] &{color:#000;}}',""),nM=(0,ey.iv)({name:"17zsepj",styles:"min-height:4.8rem;display:grid;grid-template-columns:1fr min-content;z-index:1"}),nZ=(0,ey.iv)(eC,";width:100%;background-color:var(--surface-02);padding-left:1.6rem;color:var(--font-02);border:2px solid var(--surface-01);border-radius:0.8rem 0 0 0.8rem;outline:none;font-family:monospace;&::placeholder{",e_,";color:var(--font-02);}&:focus,&:hover:not(:disabled){border-color:var(--klima-green);}&:disabled{opacity:0.7;}",""),nE=(0,ey.iv)(eL,";",eN,";padding:0 1.6rem;border-radius:0 0.8rem 0.8rem 0;&:hover:not(:disabled){background-color:var(--surface-03);}&:disabled{opacity:0.5;cursor:default;}",""),nL=(0,ey.iv)({name:"1csdull",styles:'display:grid;grid-template-areas:"label label label" "data data data";row-gap:0.4rem;column-gap:1.6rem;justify-content:space-around;align-content:center;justify-items:center;text-align:center'}),nB=(0,ey.iv)({name:"1bojzwb",styles:"font-family:monospace;text-align:center;color:var(--gray)"}),nU=(0,ey.iv)(e_,";display:flex;justify-content:flex-start;align-items:center;text-align:center;color:var(--font-03);display:flex;gap:0.4rem;svg{color:var(--font-03);font-size:2rem;width:2rem;height:2rem;}",""),nI=(0,ey.iv)(e_,';color:var(--font-01);span[data-warning="true"]{color:rgb(248, 152, 27);}',""),nD=(0,ey.iv)({name:"zl1inp",styles:"display:flex;justify-content:center"}),nR=(0,ey.iv)({name:"10t2zt5",styles:"padding:0 0.8rem;display:flex;align-items:center;min-height:4.8rem"}),nF=(0,ey.iv)({name:"9gyba4",styles:"width:100%;text-transform:uppercase"});ej.ZP.desktop;var nz=(0,ey.iv)({name:"prf8xg",styles:"display:flex;align-items:center;gap:0.8rem"}),nq=(0,ey.iv)("position:relative;display:grid;background-color:var(--surface-02);border-radius:1.2rem;padding:2.4rem;gap:2.4rem;align-content:start;grid-column:1/3;.hr{height:2px;background-color:var(--surface-01);}",ej.ZP.medium,"{gap:3.2rem;}",ej.ZP.desktop,"{grid-column:cardsleft;grid-row:2/span 3;gap:4.8rem;grid-template-rows:1fr 1fr 1fr;align-items:start;min-height:88rem;}",ej.ZP.desktopLarge,"{padding:3.2rem;}",""),nK=(0,ey.iv)('display:grid;gap:0.8rem;grid-auto-columns:min-content 1fr;grid-template-areas:"back back" "icon title";align-items:center;.icon_container{grid-area:icon;width:3.2rem;}',ej.ZP.large,"{gap:1.6rem;.icon_container{width:4.8rem;}}",""),nV=(0,ey.iv)("display:grid;gap:2.4rem;",ej.ZP.medium,"{border:2px solid var(--surface-03);padding:2.4rem;border-radius:1.2rem;}",ej.ZP.desktop,"{gap:4.8rem;padding:3.2rem;max-width:48rem;justify-self:center;width:100%;}",""),nH=(0,ey.iv)({name:"1991rj9",styles:"display:flex;align-items:center;justify-self:start;color:var(--font-03);grid-area:back"}),nJ=(0,ey.iv)({name:"7dpslj",styles:"display:grid;grid-gap:0.8rem;gap:0.8rem;list-style:none;padding-left:unset;min-height:28rem;align-content:start"}),nG=(0,ey.iv)({name:"c34va2",styles:"display:grid;grid-gap:1.6rem;gap:1.6rem;grid-template-columns:1fr 1fr"}),nQ=(0,ey.iv)({name:"1a3x8za",styles:"color:var(--font-03);display:flex;gap:0.8rem;justify-content:flex-start;align-items:center;text-align:end;justify-self:flex-end;>div{margin-left:-0.3rem;}"}),nX=(0,ey.iv)("display:flex;gap:0.4rem;justify-content:flex-start;align-items:center;color:var(--font-03);span{",e_,';color:var(--font-01);}span[data-warning="true"]{color:rgb(248, 152, 27);}',""),nW=(0,ey.iv)({name:"gf8cfl",styles:"display:flex;align-items:center;justify-content:center;opacity:0.6;min-width:2.4rem;min-height:2.4rem"}),nY=(0,ey.iv)({name:"188vz8s",styles:"display:grid;gap:2rem"}),n$=(0,ey.iv)({name:"i11myr",styles:"display:flex;width:100%;align-items:center;justify-content:center;padding-right:1.6rem"}),n0=(0,ey.iv)({name:"rty001",styles:"color:var(--font-01)"});function n1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n1(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var n8=function(e){return(0,H.jsxs)("li",{className:nG,children:[(0,H.jsxs)("div",{className:nQ,children:[(0,H.jsx)(N.xv,{t:"caption",style:{textAlign:"end"},children:e.label}),(0,H.jsx)(N.OG,{content:e.tooltip,singleton:e.singleton,children:(0,H.jsx)("div",{tabIndex:0,className:nW,children:(0,H.jsx)(eY.Z,{})})})]}),(0,H.jsxs)("div",{className:nX,children:[(0,H.jsx)("span",{"data-warning":e.warning,children:e.value}),"Loading... "===e.value?"":e.unit]})]})},n4=function(e){var t,n,r,a,i,s=(0,M.v9)(K),o=t9(e.bond),l=(0,M.v9)(q),c=l&&l.statusType,d=function(e,t){if(!e)return u((0,et.Np)({notificationStatus:null}));u((0,et.Np)({notificationStatus:{statusType:e,message:t}}))},u=(0,ex.T)(),m=(0,eg.useState)("bond"),p=m[0],f=m[1],v=(0,eg.useState)(""),b=v[0],g=v[1],h=(0,eg.useState)(!1),x=h[0],y=h[1],j=(0,T.Nr)(b,500),k=(0,eg.useState)(!1),A=k[0],w=k[1],C=(0,M.v9)(B),_=C.currentBlock,S=C.blockRate,P=(0,M.v9)(function(t){return t.bonds[e.bond]}),Z=(0,M.v9)(function(e){return e.user}),E=(0,M.v9)(R),L=(0,N.Ni)(),U=(0,$.Z)(L,2),I=U[0],D=U[1],F=!E||b!==j,z=e.isConnected&&("userConfirmation"===c||"networkConfirmation"===c||F),V="bond"===p,J="redeem"===p,Q=V&&o.disabled,Y=!!(null!=P&&P.bondDiscount)&&(null==P?void 0:P.bondDiscount)<0,ee=function(){if(!(null!=P&&P.maxBondPrice)||!(null!=P&&P.bondPrice)||!(null!=P&&P.balance))return"0";var e=Number(P.maxBondPrice)*Number(P.bondPrice);return Number(null==P?void 0:P.balance)<Number(e)?null==P?void 0:P.balance:e.toString()},er=function(){if(!(null!=P&&P.maxBondPrice)||!(null!=P&&P.bondPrice)||!(null!=Z&&null!==(e=Z.balance)&&void 0!==e&&e.klima))return"0";var e,t=Number(P.maxBondPrice);return Number(Z.balance.klima)*Number(P.bondPrice)<Number(t)?Z.balance.klima:(t/Number(P.bondPrice)).toString()},ea=function(){return P&&tP(P.bond)?er():ee()};(0,eg.useEffect)(function(){function t(){return(t=(0,G.Z)(X().mark(function t(){return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.provider&&u(tI({bond:e.bond,value:j})),e.provider&&e.address&&u(tD({address:e.address,bond:e.bond}));case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[j,e.address]);var ei=(t=(0,G.Z)(X().mark(function t(){var n,r,a;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.provider){t.next=3;break}return t.abrupt("return");case 3:return n=tC[e.bond],r=t_[e.bond],d(null),t.next=8,ti({value:b.toString(),provider:e.provider,token:n,spender:r,onStatus:d});case 8:a=t.sent,u((0,el.cC)((0,en.Z)({},e.bond,a))),t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return");case 15:case"end":return t.stop()}},t,null,[[0,12]])})),function(){return t.apply(this,arguments)}),es=(n=(0,G.Z)(X().mark(function t(){return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.provider){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,!(!e.address||!P||!P.balance||!P.bondQuote||!P.interestDue||!P.maxBondPrice)){t.next=5;break}return t.abrupt("return");case 5:if(!(Number(null==P?void 0:P.interestDue)>0||Number(null==P?void 0:P.pendingPayout)>0)||window.confirm("You have an existing bond. Bonding will reset your vesting period and forfeit rewards. We recommend claiming rewards first or using a fresh wallet. Do you still want to proceed?")){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,tR({value:b,slippage:2,bond:e.bond,provider:e.provider,onStatus:d});case 11:g(""),u((0,tw.TS)({bond:e.bond,balance:(0,T.mp)(P.balance,P.bondQuote),interestDue:(0,T.oO)(P.interestDue,P.bondQuote),maxBondPrice:(0,T.mp)(P.maxBondPrice,P.bondQuote)})),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(2),t.abrupt("return");case 18:case"end":return t.stop()}},t,null,[[2,15]])})),function(){return n.apply(this,arguments)}),eo=(r=(0,G.Z)(X().mark(function t(){return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(!e.address||!(null!=P&&P.bondQuote)||!(null!=P&&P.maxBondPrice)||!e.provider)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,tR({value:b,slippage:2,bond:e.bond,provider:e.provider,onStatus:d});case 5:g(""),u((0,tw.TS)({bond:e.bond,maxBondPrice:(0,T.mp)(P.maxBondPrice,P.bondQuote)})),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 13:case"end":return t.stop()}},t,null,[[0,9]])})),function(){return r.apply(this,arguments)}),ec=(a=(0,G.Z)(X().mark(function t(){return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(!(null!=P&&P.pendingPayout)||!e.address||!e.provider)){t.next=3;break}return t.abrupt("return");case 3:return g(""),t.next=6,tF({address:e.address,bond:e.bond,provider:e.provider,onStatus:d,shouldAutostake:x});case 6:u((0,tw.gG)({bond:e.bond,value:P.pendingPayout,autostake:x})),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return");case 12:case"end":return t.stop()}},t,null,[[0,9]])})),function(){return a.apply(this,arguments)}),ed=function(){return!!E&&!!Number(E[e.bond])&&Number(b)<=Number(E[e.bond])};return(0,H.jsxs)(H.Fragment,{children:[tP(e.bond)&&(0,H.jsx)(nt,{bond:e.bond}),(0,H.jsxs)("div",{className:nq,children:[(0,H.jsxs)("div",{className:nK,children:[(0,H.jsxs)(e3.rU,{to:"/bonds",className:nH,children:[(0,H.jsx)(th.Z,{}),(0,H.jsx)(N.xv,{t:"button",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"nav.back"})})]}),(0,H.jsx)("div",{className:"icon_container",children:(0,H.jsx)(tQ,{className:"icon",src:o.icon,alt:"",width:48,height:48})}),(0,H.jsxs)("div",{children:[(0,H.jsx)(N.xv,{t:"h5",children:(0,H.jsx)(eM.cC,{id:"bond.bond_token",values:{0:o.name}})}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:o.description})]})]}),(0,H.jsxs)("div",{className:nV,children:[(0,H.jsxs)("div",{className:nY,children:[!tP(e.bond)&&(0,H.jsxs)("div",{className:nP,children:[(0,H.jsx)("button",{className:nT,type:"button",onClick:function(){f("bond")},"data-active":V,children:(0,H.jsx)(eM.cC,{id:"bond.bond"})}),(0,H.jsx)("button",{className:nT,type:"button",onClick:function(){f("redeem")},"data-active":J,children:(0,H.jsx)(eM.cC,{id:"bond.redeem"})})]}),(0,H.jsxs)("div",{className:nM,children:[(0,H.jsx)("input",{className:nZ,value:V?b||"":(null==P?void 0:P.pendingPayout)||"",onChange:function(e){return g(e.target.value)},type:"number",placeholder:V?W.ag._({id:"bond.inputplaceholder.amount_to_bond"}):J?W.ag._({id:"bond.inputplaceholder.amount_to_redeem"}):W.ag._({id:"shared.error"}),min:"0",step:V&&"SLP"===o.balanceUnit?"0.0001":"1",disabled:J}),(0,H.jsx)("button",{className:nE,type:"button",onClick:function(){if(d(null),V)g(ea());else{var e;g(null!==(e=null==P?void 0:P.pendingPayout)&&void 0!==e?e:"0")}},disabled:J,children:(0,H.jsx)(eM.cC,{id:"shared.max"})})]}),e.address&&(0,H.jsx)("div",{className:nB,children:(0,T.G2)(e.address)}),(0,H.jsx)("div",{className:"hr"})]}),V&&(0,H.jsxs)("ul",{className:nJ,children:[I,(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.balance"}),tooltip:W.ag._({id:"bond.balance.tooltip"}),unit:o.balanceUnit,value:function(){if(!e.isConnected)return 0;if(tP(e.bond)){var t,n;return(0,T.eC)(null==Z?void 0:null===(t=Z.balance)||void 0===t?void 0:t.klima,1>Number(null==Z?void 0:null===(n=Z.balance)||void 0===n?void 0:n.klima)?18:2,s)}return(0,T.eC)(null==P?void 0:P.balance,1>Number(null==P?void 0:P.balance)?18:2,s)}(),warning:function(){if(!e.isConnected)return!1;if(tP(e.bond)){var t;return Number(b)>Number(null==Z?void 0:null===(t=Z.balance)||void 0===t?void 0:t.klima)}return Number(b)>Number(null==P?void 0:P.balance)}()}),tP(e.bond)?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.market_price"}),tooltip:W.ag._({id:"bond.bond_price.tooltip.inverse"}),unit:"USDC",value:(0,T.eC)(1/Number(null==P?void 0:P.marketPrice),2,s),warning:!1}),(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.payout_per_klima"}),tooltip:W.ag._({id:"bond.payout_per_klima.description_inverse"}),unit:"USDC",value:(0,T.eC)(1/Number(null==P?void 0:P.bondPrice),3,s),warning:!1}),(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.inverse.premium"}),tooltip:W.ag._({id:"bond.inverse.premium.description"}),unit:"%",value:(0,T.eC)(null==P?void 0:P.bondDiscount,2,s),warning:Y}),(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"Capacity"}),tooltip:W.ag._({id:"capacity.description_inverse"}),unit:"USDC",value:(0,T.eC)(Number(null==P?void 0:P.capacity),3,s),warning:!1}),(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.maximum"}),tooltip:W.ag._({id:"bond.maximum.tooltip"}),warning:!!(null!=P&&P.bondQuote)&&!!(null!=P&&P.maxBondPrice)&&Number(null==P?void 0:P.bondQuote)>Number(null==P?void 0:P.maxBondPrice),value:Number(null==P?void 0:P.capacity)<Number(ea())?(0,T.eC)(Number(null==P?void 0:P.capacity),3,s):(0,T.eC)(null==P?void 0:P.maxBondPrice,2,s),unit:"USDC"}),(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.you_will_get"}),tooltip:W.ag._({id:"bond.you_will_get.description_inverse"}),unit:"USDC",value:e.isConnected?(0,T.eC)(F?NaN:null==P?void 0:P.bondQuote,1>Number(null==P?void 0:P.bondQuote)?5:2,s):0,warning:!1})]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.bond_price"}),tooltip:W.ag._({id:"bond.bond_price.tooltip"}),unit:o.priceUnit,value:(0,T.eC)(null==P?void 0:P.bondPrice,2,s),warning:!1}),(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.market_price"}),tooltip:W.ag._({id:"bond.market_price.tooltip"}),unit:o.priceUnit,value:(0,T.eC)(null==P?void 0:P.marketPrice,2,s),warning:!1}),(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.debt_ratio"}),tooltip:W.ag._({id:"bond.debt_ratio.tooltip"}),warning:!1,value:(0,T.eC)(Number(null==P?void 0:P.debtRatio),2,s),unit:"%"}),(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.vesting_term_end"}),tooltip:W.ag._({id:"bond.vesting_term_end.tooltip"}),warning:!1,value:null!==(i=function(){if(P&&_&&P.vestingTerm){var e=_+P.vestingTerm,t=(0,T.MM)(_,e,S);return(0,T.Ie)(t,s)}}())&&void 0!==i?i:"",unit:""}),(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.discount"}),tooltip:W.ag._({id:"bond.discount.description_tooltip"}),unit:"%",value:(0,T.eC)(null==P?void 0:P.bondDiscount,2,s),warning:Y}),(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.maximum"}),tooltip:W.ag._({id:"bond.maximum.tooltip"}),warning:!!(null!=P&&P.bondQuote)&&!!(null!=P&&P.maxBondPrice)&&Number(null==P?void 0:P.bondQuote)>Number(null==P?void 0:P.maxBondPrice),value:(0,T.eC)(null==P?void 0:P.maxBondPrice,2,s),unit:"KLIMA"}),(0,H.jsx)(n8,{singleton:D,label:W.ag._({id:"bond.you_will_get"}),tooltip:W.ag._({id:"bond.you_will_get.tooltip"}),unit:"KLIMA",value:e.isConnected?(0,T.eC)(F?NaN:null==P?void 0:P.bondQuote,1>Number(null==P?void 0:P.bondQuote)?5:2,s):0,warning:!1})]})]}),J&&(0,H.jsxs)("ul",{className:nJ,children:[I,(0,H.jsxs)("li",{className:nG,children:[(0,H.jsxs)("div",{className:nQ,children:[(0,H.jsx)(eM.cC,{id:"bond.unredeemed"}),(0,H.jsx)(N.OG,{singleton:D,content:W.ag._({id:"bond.unredeemed.tooltip"}),children:(0,H.jsx)("div",{tabIndex:0,className:nW,children:(0,H.jsx)(eY.Z,{})})})]}),(0,H.jsx)("div",{className:nX,children:(0,H.jsxs)(n3,{condition:!e.isConnected,placeholder:"NOT CONNECTED",children:[(0,H.jsx)("span",{children:(0,T.eC)(null==P?void 0:P.interestDue,4,s)})," ","KLIMA"]})})]}),(0,H.jsxs)("li",{className:nG,children:[(0,H.jsxs)("div",{className:nQ,children:[(0,H.jsx)(eM.cC,{id:"bond.redeemable"}),(0,H.jsx)(N.OG,{singleton:D,content:W.ag._({id:"bond.redeemable.tooltip"}),children:(0,H.jsx)("div",{tabIndex:0,className:nW,children:(0,H.jsx)(eY.Z,{})})})]}),(0,H.jsx)("div",{className:nX,children:(0,H.jsxs)(n3,{condition:!e.isConnected,placeholder:"NOT CONNECTED",children:[(0,H.jsx)("span",{children:(0,T.eC)(null==P?void 0:P.pendingPayout,1>Number(null==P?void 0:P.pendingPayout)?5:2,s)})," ","KLIMA"]})})]}),(0,H.jsxs)("li",{className:nG,children:[(0,H.jsxs)("div",{className:nQ,children:[(0,H.jsx)(eM.cC,{id:"bond.date_of_full_vesting"}),(0,H.jsx)(N.OG,{singleton:D,content:W.ag._({id:"bond.date_of_full_vesting.tooltip"}),children:(0,H.jsx)("div",{tabIndex:0,className:nW,children:(0,H.jsx)(eY.Z,{})})})]}),(0,H.jsx)("div",{className:nX,children:(0,H.jsx)(n3,{condition:!e.isConnected,placeholder:"NOT CONNECTED",children:(0,H.jsx)("span",{children:function(){if(_&&null!=P&&P.bondMaturationBlock)return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(0===n)return"";var a=(0,T.MM)(t,n,r);return a<0?"Fully Vested":(0,T.Ie)(a,e)}(s,_,P.bondMaturationBlock,S)}()})})})]})]}),Y&&V&&(0,H.jsx)(N.xv,{t:"caption",align:"center",children:(0,H.jsx)(eM.cC,{id:"bond.this_bond_price_is_inflated"})}),Q&&(0,H.jsx)(N.xv,{t:"caption",align:"center",children:(0,H.jsx)(eM.cC,{id:"bond.all_demand_has_been_filled"})}),(0,H.jsx)("div",{className:nD,children:z?(0,H.jsx)("div",{className:nR,children:(0,H.jsx)(N.$j,{})}):(0,H.jsxs)(tz.Z,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,H.jsx)(N.DF,n2(n2({},function(){var t=Number(b||"0"),n=Number(ea());if(!e.isConnected||!e.address)return{label:W.ag._({id:"shared.login_connect"}),onClick:e.toggleModal};if(Q)return{label:(0,H.jsx)(eM.cC,{id:"shared.sold_out"}),onClick:void 0,disabled:!0};if(F)return{label:(0,H.jsx)(eM.cC,{id:"shared.loading"}),onClick:void 0,disabled:!0};if(V&&!t)return{label:(0,H.jsx)(eM.cC,{id:"shared.enter_quantity"}),onClick:void 0,disabled:!0};if(J&&!Number(null==P?void 0:P.pendingPayout))return{label:(0,H.jsx)(eM.cC,{id:"bond.not_redeemable"}),onClick:void 0,disabled:!0};if("userConfirmation"===c||"networkConfirmation"===c)return{label:(0,H.jsx)(eM.cC,{id:"shared.confirming"}),onClick:void 0,disabled:!0};if(n&&t&&t>n)return{label:(0,H.jsx)(eM.cC,{id:"bond.max_exceeded"}),onClick:void 0,disabled:!0};else if(null!=P&&P.capacity&&P.bondQuote&&(null==P?void 0:P.capacity)<Number(P.bondQuote))return{label:(0,H.jsx)(eM.cC,{id:"bond.capacity_exceeded"}),onClick:void 0,disabled:!0};else if(!ed())return{label:(0,H.jsx)(eM.cC,{id:"shared.approve"}),disabled:!1,onClick:function(){return w(!0)},variant:"blue",shape:"rounded"};else if(V)return{label:(0,H.jsx)(eM.cC,{id:"bond.bond"}),onClick:function(){return w(!0)},disabled:!t||!n};else if(J)return{label:(0,H.jsx)(eM.cC,{id:"bond.redeem"}),onClick:function(){return w(!0)},disabled:!Number(null==P?void 0:P.pendingPayout)};else return{label:(0,H.jsx)(eM.cC,{id:"shared.error"}),onClick:void 0,disabled:!0}}()),{},{className:nF})),J&&!z&&(0,H.jsxs)("div",{className:n$,children:[(0,H.jsx)(tq.Z,{checked:x,onChange:function(){return y(!x)},className:n0})," ",(0,H.jsx)(N.xv,{t:"caption",align:"center",children:(0,H.jsx)(eM.cC,{id:"bond.should_autostake"})})]})]})})]})]}),A&&(0,H.jsx)(nb,{title:(0,H.jsxs)(N.xv,{t:"h4",className:nz,children:[(0,H.jsx)(e4.Z,{}),V?(0,H.jsx)(eM.cC,{id:"bond.transaction_modal.bond.title",values:{0:o.name}}):(0,H.jsx)(eM.cC,{id:"bond.transaction_modal.redeem.title"})]}),onCloseModal:function(){d(null),w(!1)},tokenName:V?tC[e.bond]:"klima",tokenIcon:nw[V?tC[e.bond]:"klima"].icon,spenderAddress:O.UB.mainnet[t_[e.bond]],value:V?b.toString():(null==P?void 0:P.pendingPayout)||"0",status:l,onResetStatus:function(){return d(null)},onApproval:ei,hasApproval:!V||ed(),onSubmit:V?function(){return tP(e.bond)?eo():es()}:ec}),(0,H.jsx)(tY,{})]})},n3=function(e){return e.condition?(0,H.jsx)(H.Fragment,{children:e.placeholder}):(0,H.jsx)(H.Fragment,{children:e.children})},n6=n(93468),n5=n(65012),n9=(0,ey.iv)(eL,";",""),n7=function(e){return(0,H.jsx)(N.OG,{content:e.content,placement:"top-start",children:(0,H.jsx)("button",{className:n9,children:(0,H.jsx)(n5.Z,{})})})},re=(0,ey.iv)(eZ,";align-content:start;grid-column:1/3;grid-template-rows:min-content 1fr;gap:0.8rem;.header{display:flex;justify-content:space-between;}.header .title{display:flex;align-items:center;gap:0.8rem;}.cardContent{display:grid;align-content:space-around;gap:1.6rem;}.stack{display:grid;gap:0.4rem;overflow:hidden;}.value{",ek,";}.label{",eA,";}p{overflow:hidden;text-overflow:ellipsis;}",ej.ZP.desktop,"{grid-column:2/3;.value{",eA,";}.label{",ew,";}}",ej.ZP.desktopLarge,"{.value{",ek,";}.label{",eA,";}}",""),rt=function(e){var t=(0,M.v9)(B).currentIndex,n=(0,M.v9)(E),r=(0,M.v9)(K),a={bct:"BCT",klima:"KLIMA",pklima:"pKLIMA",sklima:"sKLIMA",wsklima:"wsKLIMA",wsklimaUnwrapped:"wsKLIMA ("+W.ag._({id:"wsklima.unwrapped.label"})+")",mco2:"MCO2",usdc:"USDC",nct:"NCT",ubo:"UBO",nbo:"NBO"};return(0,H.jsxs)("div",{className:re+" "+status,children:[(0,H.jsxs)("div",{className:"header",children:[(0,H.jsxs)(N.xv,{t:"h4",className:"title",children:[(0,H.jsx)(tK.Z,{}),(0,H.jsx)(eM.cC,{id:"shared.balances"})]}),(0,H.jsx)(n7,{content:e.tooltip})]}),(0,H.jsx)("div",{className:"cardContent",children:e.assets.map(function(e){var i,s;return(0,H.jsxs)("div",{className:"stack",children:["wsklimaUnwrapped"!==e&&(0,H.jsx)(N.xv,{className:"value",children:(0,T.eC)(null!==(i=null==n?void 0:n[e])&&void 0!==i?i:0,9,r)}),"wsklimaUnwrapped"===e&&(0,H.jsx)(N.xv,{className:"value",children:n&&t?(0,T.eC)(Number(n.wsklima)*Number(t),9,r):0}),(0,H.jsx)(N.xv,{className:"label",color:"lightest",children:a[e]})]},e)})})]})},rn=(0,ey.iv)("position:relative;display:flex;justify-content:center;background-color:var(--surface-02);border-radius:1.2rem;grid-column:1/3;padding-top:2.4rem;.hr{height:2px;background-color:var(--surface-01);}",ej.ZP.desktop,"{padding:0;grid-column:cardsleft;grid-row:2/span 2;}",ej.ZP.desktopLarge,"{padding:3.2rem;}",""),rr=(0,ey.iv)("display:flex;flex-direction:column;gap:0.8rem;padding:0 2.4rem 2.4rem 2.4rem;max-width:50rem;width:100%;gap:3.2rem;",ej.ZP.desktop,"{padding-top:3.2rem;}",""),ra=(0,ey.iv)({name:"ez0am7",styles:"display:flex;width:100%;text-align:left;align-items:center;gap:0.8rem"}),ri=(0,ey.iv)({name:"1tbicbl",styles:"width:100%;text-align:left;padding-top:0.8rem"});ej.ZP.medium,ej.ZP.desktop,ej.ZP.desktopLarge;var rs=function(e){var t=(0,T.$6)().toggleModal;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:rn,children:(0,H.jsx)("div",{className:rr,children:e.isConnected&&e.address?(0,H.jsxs)("div",{children:[(0,H.jsxs)(N.xv,{t:"h4",className:ra,children:[(0,H.jsx)(e2.Z,{}),(0,H.jsx)(eM.cC,{id:"buy.buy_klima"})]}),(0,H.jsx)(N.xv,{t:"caption",className:ri,children:(0,H.jsx)(eM.cC,{id:"buy.cta_1",components:{0:(0,H.jsx)(N.ee,{href:O.jk.buy})}})}),(0,H.jsx)(N.xv,{t:"caption",className:ri,children:(0,H.jsx)(eM.cC,{id:"buy.cta_2",components:{0:(0,H.jsx)(N.ee,{href:O.jk.sushiSwap}),1:(0,H.jsx)(N.ee,{href:O.jk.transakMatic})}})})]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(N.xv,{t:"h4",className:ra,children:[(0,H.jsx)(n6.Z,{}),(0,H.jsx)(eM.cC,{id:"buy.please_log_in"})]}),(0,H.jsx)(N.xv,{t:"body2",children:(0,H.jsx)(eM.cC,{id:"buy.connect_to_buy"})}),(0,H.jsx)(N.DF,{label:W.ag._({id:"shared.login_connect"}),onClick:t})]})})}),(0,H.jsx)(rt,{assets:["klima","sklima"],tooltip:(0,H.jsx)(eM.cC,{id:"stake.balancescard.tooltip"})}),(0,H.jsx)(tY,{})]})},ro=n(64080),rl=(0,ey.iv)({name:"td8a94",styles:"padding:0.8rem;margin-inline-start:-0.8rem;img{width:1.6rem;height:1.6rem;}"}),rc=function(e){var t,n=e.provider.provider,r=e.info,a=(t=(0,G.Z)(X().mark(function e(){var t;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=n.request)||void 0===t?void 0:t.call(n,{method:"wallet_watchAsset",params:{type:"ERC20",options:{address:r.address,symbol:r.ticker,image:r.image,decimals:r.decimals}}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])})),function(){return t.apply(this,arguments)});return(0,H.jsx)("button",{"aria-label":r.ariaLabel,onClick:a,className:rl,children:(0,H.jsx)("img",{alt:r.ariaLabel,src:"/metamask-fox.svg"})})},rd=(0,ey.iv)(nC,";display:flex;flex-direction:column;color:var(--font-01);min-height:124rem;.infoSection{display:grid;gap:0.8rem;height:100%;.icon{width:2.4rem;height:2.4rem;}}.nameAndIcon{display:flex;align-items:center;gap:1rem;}.addressRow{display:grid;grid-template-columns:repeat(3, max-content);column-gap:1rem;align-items:center;}.addressRow a{font-family:monospace;color:var(--font-03);text-decoration:underline;}",""),ru=[{name:"KLIMA Token",address:O.UB.mainnet.klima,ariaLabel:"Copy KLIMA token address.",metamaskAriaLabel:"Add KLIMA token to wallet.",ticker:"KLIMA",image:"".concat(er._n,"/icons/KLIMA.png"),decimals:9},{name:"sKLIMA Token",address:O.UB.mainnet.sklima,ariaLabel:"Copy sKLIMA token address.",metamaskAriaLabel:"Add sKLIMA token to wallet.",ticker:"sKLIMA",image:"".concat(er._n,"/icons/KLIMA.png"),decimals:9},{name:"wsKLIMA Token",address:O.UB.mainnet.wsklima,ariaLabel:"Copy wsKLIMA token address.",metamaskAriaLabel:"Add wsKLIMA token to wallet.",ticker:"wsKLIMA",image:"".concat(er._n,"/icons/KLIMA.png"),decimals:18},{name:"BCT Token",address:O.UB.mainnet.bct,ariaLabel:"Copy BCT token address.",metamaskAriaLabel:"Add BCT token to wallet.",ticker:"BCT",image:"".concat(er._n,"/icons/BCT.png"),decimals:18},{name:"MCO2 Token",address:O.UB.mainnet.mco2,ariaLabel:"Copy MCO2 token address.",metamaskAriaLabel:"Add MCO2 token to wallet.",ticker:"MCO2",image:"".concat(er._n,"/icons/MCO2.png"),decimals:18},{name:"UBO Token",address:O.UB.mainnet.ubo,ariaLabel:"Copy UBO token address.",metamaskAriaLabel:"Add UBO token to wallet.",ticker:"UBO",image:"".concat(er._n,"/icons/UBO.png"),decimals:18},{name:"NBO Token",address:O.UB.mainnet.nbo,ariaLabel:"Copy NBO token address.",metamaskAriaLabel:"Add NBO token to wallet.",ticker:"NBO",image:"".concat(er._n,"/icons/NBO.png"),decimals:18},{name:"NCT Token",address:O.UB.mainnet.nct,ariaLabel:"Copy NCT token address.",metamaskAriaLabel:"Add NCT token to wallet.",ticker:"NCT",image:"".concat(er._n,"/icons/NCT.png"),decimals:18},{name:"KLIMA/BCT LP",address:O.UB.mainnet.klimaBctLp,ariaLabel:"Copy KLIMA BCT LP address.",metamaskAriaLabel:"Add KLIMA BCT LP to wallet.",ticker:"KLIMA/BCT",image:"".concat(er._n,"/icons/BCT-KLIMA-LP.png"),decimals:18}],rm=function(e){return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(tY,{}),(0,H.jsxs)("div",{className:rd,children:[(0,H.jsxs)("div",{className:n_,children:[(0,H.jsxs)(N.xv,{t:"h4",as:"h1",className:nO,children:[(0,H.jsx)(eY.Z,{}),(0,H.jsx)(eM.cC,{id:"info.info_and_faq"})]}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"info.common_app_related_questions",components:{0:(0,H.jsx)(N.ee,{href:O.jk.officialDocs})}})})]}),(0,H.jsx)("div",{className:"infoSection",children:(0,H.jsx)("div",{style:{display:"grid",gap:"2.4rem"},children:(0,H.jsxs)("div",{style:{display:"grid",gap:"0.8rem"},children:[(0,H.jsx)(N.xv,{t:"h5",as:"h2",children:(0,H.jsx)(eM.cC,{id:"info.app_not_loading.title"})}),(0,H.jsxs)(N.xv,{t:"caption",color:"lightest",children:[(0,H.jsx)(eM.cC,{id:"info.app_not_loading.if_app_says_loading"})," ",(0,H.jsx)("br",{}),(0,H.jsx)(eM.cC,{id:"info.app_not_loading.1_open_metamask"}),(0,H.jsx)("br",{}),(0,H.jsx)(eM.cC,{id:"info.app_not_loading.2_go_to_settings"}),(0,H.jsx)("br",{}),(0,H.jsx)(eM.cC,{id:"info.app_not_loading.3_return_to_app"}),(0,H.jsx)("br",{}),(0,H.jsx)(eM.cC,{id:"info.app_not_loading.metamask_should_prompt"})]})]})})}),(0,H.jsxs)("div",{className:"infoSection",children:[(0,H.jsx)(N.xv,{t:"h5",as:"h2",children:(0,H.jsx)(eM.cC,{id:"info.official_contract_addresses"})}),(0,H.jsx)("div",{style:{display:"grid",gap:"1.2rem"},children:ru.map(function(t){var n,r;return(0,H.jsxs)("div",{children:[(0,H.jsxs)("div",{className:"nameAndIcon",children:[(0,H.jsx)("img",{src:t.image,alt:t.name,className:"icon"}),(0,H.jsx)("p",{children:t.name})]}),(0,H.jsxs)("div",{className:"addressRow",children:[(0,H.jsx)(N.ee,{href:"https://polygonscan.com/address/".concat(t.address),children:(0,T.G2)(t.address)}),(0,H.jsx)(N.A8,{"aria-label":t.ariaLabel,address:t.address}),"function"==typeof(null===(n=e.provider)||void 0===n?void 0:null===(r=n.provider)||void 0===r?void 0:r.request)&&e.provider.provider.isMetaMask&&(0,H.jsx)(rc,{info:t,provider:e.provider})]})]},t.address)})})]})]})]})},rp=n(73679),rf=n(87675),rv=JSON.parse('{"M":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]}');function rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rb(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rh=function(e){var t;return t=(0,G.Z)(X().mark(function t(n){var r;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,T.jH)({address:e.address});case 3:r=t.sent,n((0,el.w2)(r)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])})),function(e){return t.apply(this,arguments)}},rx=function(e){var t;return t=(0,G.Z)(X().mark(function t(n){var r,a;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=O.QA.reduce(function(t,n){var r=(0,T.uN)({contractName:n,provider:es()});return t.push((0,T.RC)({contract:r,address:e.address,spender:"retirementAggregatorV2",token:n})),t},[]),t.next=4,Promise.all(r);case 4:a=t.sent.reduce(function(e,t){var n=(0,$.Z)(Object.entries(t)[0],2),r=n[0],a=n[1];return e[r]=rg(rg({},e[r]),a),e},{}),n((0,el.GI)(a)),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),console.error("Error in getRetirementAllowances: ",t.t0),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])})),function(e){return t.apply(this,arguments)}},ry=(p=(0,G.Z)(X().mark(function e(t){var n,r,a;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,T.uN)({contractName:"retirementAggregatorV2",provider:es()}),r=ee.parseUnits(t.quantity,(0,T.Ls)(t.retirementToken)),!t.getSpecific){e.next=8;break}return e.next=5,n.getSourceAmountSpecificRetirement(O.UB.mainnet[t.inputToken],O.UB.mainnet[t.retirementToken],r);case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,n.getSourceAmountDefaultRetirement(O.UB.mainnet[t.inputToken],O.UB.mainnet[t.retirementToken],r);case 10:a=e.sent;case 11:return e.abrupt("return",[(0,T.bM)(a,(0,T.Ls)(t.inputToken))]);case 12:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)}),rj=(f=(0,G.Z)(X().mark(function e(t){var n,r,a,i,s,o,l,c;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var d;return(d=n||(n={}))[d.EXTERNAL=0]="EXTERNAL",d[d.INTERNAL=1]="INTERNAL",d[d.EXTERNAL_INTERNAL=2]="EXTERNAL_INTERNAL",d[d.INTERNAL_TOLERANT=3]="INTERNAL_TOLERANT",e.prev=1,r=(0,T.zx)(t.provider),e.next=5,r.getRetirementTotals(t.beneficiaryAddress||t.address);case 5:if(a=e.sent,i=(0,$.Z)(a,1)[0].toNumber()+1,s=(0,T.uN)({contractName:"retirementAggregatorV2",provider:t.provider.getSigner()}),t.onStatus("userConfirmation"),o=ee.parseUnits(t.maxAmountIn,(0,T.Ls)(t.inputToken)),!t.projectAddress){e.next=19;break}return e.next=16,s.retireExactCarbonSpecific(O.UB.mainnet[t.inputToken],O.UB.mainnet[t.retirementToken],t.projectAddress,o,ee.parseUnits(t.quantity,(0,T.Ls)(t.retirementToken)),"",t.beneficiaryAddress||t.address,t.beneficiaryName,t.retirementMessage,n.EXTERNAL);case 16:l=e.sent,e.next=22;break;case 19:return e.next=21,s.retireExactCarbonDefault(O.UB.mainnet[t.inputToken],O.UB.mainnet[t.retirementToken],o,ee.parseUnits(t.quantity,(0,T.Ls)(t.retirementToken)),"",t.beneficiaryAddress||t.address,t.beneficiaryName,t.retirementMessage,n.EXTERNAL);case 21:l=e.sent;case 22:return t.onStatus("networkConfirmation"),e.next=25,l.wait(1);case 25:return c=e.sent,e.abrupt("return",{receipt:c,retirementTotals:i});case 29:if(e.prev=29,e.t0=e.catch(1),4001!==e.t0.code){e.next=34;break}throw t.onStatus("error","userRejected"),e.t0;case 34:throw t.onStatus("error"),console.error(e.t0),e.t0;case 37:case"end":return e.stop()}},e,null,[[1,29]])})),function(e){return f.apply(this,arguments)}),rk=(v=(0,G.Z)(X().mark(function e(t){var n,r,a;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new tj.CH(t.projectTokenAddress,rv.M,t.signer),r=ee.parseUnits(t.value,18),t.onStatus("userConfirmation",""),e.next=6,n.approve(O.UB.mainnet.retirementAggregatorV2,r.toString());case 6:return a=e.sent,t.onStatus("networkConfirmation",""),e.next=10,a.wait(1);case 10:return t.onStatus("done","Approval was successful"),e.abrupt("return",(0,T.bM)(r,18));case 14:if(e.prev=14,e.t0=e.catch(0),4001!==e.t0.code){e.next=19;break}throw t.onStatus("error","userRejected"),e.t0;case 19:throw t.onStatus("error"),console.error(e.t0),e.t0;case 22:case"end":return e.stop()}},e,null,[[0,14]])})),function(e){return v.apply(this,arguments)}),rA=function(e){var t;return t=(0,G.Z)(X().mark(function t(n){var r,a,i,s,o,l,c;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(O.US.cujoRefiHoldings,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({variables:{address:e.address.toLowerCase()},query:'\n              query Holdings($address: String) {\n                account(id: $address) {\n                  id\n                  holdings(where: {token_: {symbol_not_in: ["BCT", "NCT", "NBO", "UBO", "MCO2"]}}) {\n                    token {\n                      symbol\n                      id\n                    }\n                    amount\n                  }\n                }\n              }\n            '})});case 3:if((r=t.sent).ok){t.next=12;break}return t.next=7,r.json();case 7:i=(a=t.sent).message,s=a.name,Error(i).name=s;case 12:return t.next=14,r.json();case 14:return l=(o=t.sent.data.account.holdings).map(function(){var t=(0,G.Z)(X().mark(function t(n){var r;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new tj.CH(n.token.id,rv.M,es()),t.abrupt("return",r.allowance(e.address,O.UB.mainnet.retirementAggregatorV2));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),t.next=19,Promise.all(l);case 19:c=t.sent.map(function(e){return(0,T.bM)(e,18)}),o.reduce(function(e,t,n){var r=t.token,a=t.amount;return[].concat((0,rp.Z)(e),[{address:r.id,quantity:ee.formatUnits(a,18),symbol:r.symbol,allowance:c[n]}])},[]).sort(function(e,t){return e.symbol>t.symbol?1:-1}).forEach(function(e){return n((0,el.SX)(e))}),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(0),console.error(t.t0);case 28:case"end":return t.stop()}},t,null,[[0,25]])})),function(e){return t.apply(this,arguments)}},rw=(b=(0,G.Z)(X().mark(function e(t){var n,r,a,i,s,o,l;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=t.projectTokenAddress,e.t1=ee.parseUnits(t.quantity,18),e.t2=t.beneficiaryAddress,e.t2){e.next=8;break}return e.next=7,t.signer.getAddress();case 7:e.t2=e.sent;case 8:return e.t3=e.t2,e.t4=t.beneficiaryName,e.t5=t.retirementMessage,r=[e.t0,e.t1,e.t3,e.t4,e.t5,0],a=(0,T.uN)({contractName:"retirementAggregatorV2",provider:t.signer}),i=t.symbol.startsWith("TCO2")?"toucanRetireExactTCO2":"c3RetireExactC3T",t.onStatus("userConfirmation"),e.next=17,(n=a.callStatic)[i].apply(n,r);case 17:return s=e.sent,e.next=20,a[i].apply(a,r);case 20:return o=e.sent,t.onStatus("networkConfirmation"),e.next=24,o.wait(1);case 24:return l=e.sent,e.abrupt("return",{receipt:l,retirementTotals:s.toNumber()});case 28:if(e.prev=28,e.t6=e.catch(0),4001!==e.t6.code){e.next=33;break}throw t.onStatus("error","userRejected"),e.t6;case 33:throw t.onStatus("error"),console.error(e.t6),e.t6;case 36:case"end":return e.stop()}},e,null,[[0,28]])})),function(e){return b.apply(this,arguments)}),rC=n(30354),r_=n(19818),rN={src:"/_next/static/media/C3T.3f9a98d4.png",height:192,width:192,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAclBMVEVMaXFBcTU2ZD09jkU5eDRto1p6sEtciEZigExfjElth05fe1GUlJJYYkWmp5mApVRxskRObD+SxnFsj0laekNHnEqAoUTN28KhwJ3J0K6Otl1gokhahUKCjGdAbUeTnmZwe1CjtohqhmXT1rhWgUJXVU8nWju3AAAAJXRSTlMATP3oGpTKC1M6mi3+yf1bP0SQoIHEsoJzzd/n/vL+0b6o0ecQpxCaBAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEVJREFUeJwFwYURwDAMBLAP2sEyc3vZf8VKAAJzIAAipdszQb+lHNfjMMeY87dMMFKe+zq2EINSm7U1qOl9ZyoA0I4d4Qd+CgNRI24cYQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},rO={src:"/_next/static/media/TCO2.17ad314f.png",height:192,width:192,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAeFBMVEVMaXEABiDU1tn1i4bg5Of////y8vT////+/v/////j5OiorbWYnaeqrrjU19wABSAdKUC9vci4wszi5u7Kmmvz8/XTyL8iLkSboa5RXm1veIeKi49NWGxLVWe5vMOQlqIPIjhjX3S8pbpkUlW5l590W3ittcHds4mQzk3LAAAAF3RSTlMA+u/9+TD8L7L56vPztLAv6i+wtP606gXMztQAAAAJcEhZcwAACxMAAAsTAQCanBgAAABGSURBVHicBcGFAcAgEASwQx/qjtV1/w2bADRK2RNA/E3DNylUm7yFuDoUyR7P6TnyZXV70BZmZs6xaKAyH6JrWoCMtmWNH5RhBAiw0m0vAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},rS=(0,ey.iv)(eZ,";display:grid;gap:1.6rem;.loadingPlaceholder{display:flex;gap:0.8rem;align-items:center;}.cardTitle{display:flex;gap:0.8rem;}.cardContent{display:grid;gap:0.8rem;}.assetEntry{display:flex;gap:0.8rem;align-items:center;}.assetEntryLabel{display:flex;gap:0.4rem;align-items:center;}.emptyBalancesPlaceholder{display:grid;gap:0.8rem;}.hyperlinkIcon{opacity:0.5;color:var(--font-03);display:flex;}",""),rP={ubo:nk,nbo:ny,bct:ng,nct:nj,tco2:rO,c3t:rN,klima:nh,sklima:nh,wsklima:nh,usdc:nA,mco2:nx},rT=function(e){var t=Number(e.amount);return t<.01?"0":t.toLocaleString(e.locale,{maximumFractionDigits:2})},rM=["usdc","klima","sklima","wsklima","bct","nct","ubo","nbo","mco2"],rZ=function(e){var t=e.tokensToShow,n=(0,M.v9)(K)||"en",r=(0,M.v9)(E),a=(0,M.v9)(L),i=(void 0===t?rM:t).reduce(function(e,t){var a=(null==r?void 0:r[t])||"0";if(.01>Number(a))return e;var i=rT({amount:a,locale:n}),s=t.toUpperCase();return[].concat((0,rp.Z)(e),[{assetName:s,balance:i,icon:rP[t]}])},[]);Object.keys(a).sort(function(e,t){return a[e].symbol>a[t].symbol?1:-1}).forEach(function(e){if(a[e]){var t=a[e],r=t.symbol,s=rT({amount:t.quantity,locale:n}),o=r.startsWith("TCO2-")?rO:rN;i.push({assetName:r,balance:s,icon:o,address:e})}});var s=e.isConnected&&!r;return(0,H.jsxs)("div",{className:rS,children:[(0,H.jsxs)(N.xv,{t:"h4",className:"cardTitle",children:[(0,H.jsx)(rC.Z,{}),(0,H.jsx)(eM.cC,{id:"Balances"})]}),(0,H.jsxs)("div",{className:"cardContent",children:[!e.isConnected&&(0,H.jsx)(N.xv,{t:"button",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"Not Connected"})}),s&&(0,H.jsxs)("div",{className:"loadingPlaceholder",children:[(0,H.jsx)(N.$j,{}),(0,H.jsx)(N.xv,{t:"button",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"Loading balances..."})})]}),e.isConnected&&!s&&i.map(function(e){return(0,H.jsxs)("div",{className:"assetEntry",children:[(0,H.jsx)(tH(),{src:e.icon,width:32,height:32,alt:""}),(0,H.jsxs)("div",{className:"assetEntryLabel",children:[(0,H.jsx)(N.xv,{children:e.balance}),(0,H.jsx)(N.xv,{t:"caption",uppercase:!0,color:"lightest",children:e.assetName}),(null==e?void 0:e.address)&&(0,H.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(O.jk.polygonscan,"/token/").concat(e.address),className:"hyperlinkIcon",children:(0,H.jsx)(r_.Z,{})})]})]},e.assetName)}),e.isConnected&&!s&&!i.length&&(0,H.jsxs)("div",{className:"emptyBalancesPlaceholder",children:[(0,H.jsx)(N.xv,{t:"button",children:(0,H.jsx)(eM.cC,{id:"No balances found."})}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"You need to load your wallet with USDC, KLIMA or a carbon pool token. Credit card support is coming soon."})})]})]})]})},rE=n(73236),rL=n(11749),rB=(0,ey.iv)(eZ,";align-content:start;grid-template-rows:min-content 1fr;gap:0.8rem;.header{display:flex;justify-content:space-between;}.header .title{display:flex;align-items:center;gap:0.8rem;}.cardContent{display:grid;align-content:space-around;gap:1.6rem;}.stack{display:grid;gap:0.4rem;overflow:hidden;}.value{",ek,";}.label{",eA,";}p{overflow:hidden;text-overflow:ellipsis;}",ej.ZP.desktop,"{.value{",eA,";}.label{",ew,";}}",ej.ZP.desktopLarge,"{.value{",ek,";}.label{",eA,";}}",""),rU=(0,ey.iv)({name:"ibkceh",styles:"width:22rem;color:#fff!important;border:1px solid #fff;svg{width:0.75em!important;height:0.75em!important;}"}),rI=function(){var e,t,n=(0,T.$6)().address,r=(0,M.v9)(z);return(0,H.jsxs)("div",{className:rB,children:[(0,H.jsx)("div",{className:"header",children:(0,H.jsxs)(N.xv,{t:"h4",className:"title",children:[(0,H.jsx)(rE.Z,{}),(0,H.jsx)(eM.cC,{id:"offset.you_have_retired"})]})}),(0,H.jsxs)("div",{className:"cardContent",children:[(0,H.jsxs)("div",{className:"stack",children:[(0,H.jsx)(N.xv,{className:"value",children:null!==(e=null==r?void 0:r.totalTonnesRetired)&&void 0!==e?e:"0"}),(0,H.jsx)(N.xv,{className:"label",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"offset.tonnes_of_carbon_retired"})})]}),(0,H.jsxs)("div",{className:"stack",children:[(0,H.jsx)(N.xv,{className:"value",children:null!==(t=null==r?void 0:r.totalRetirements)&&void 0!==t?t:"0"}),(0,H.jsx)(N.xv,{className:"label",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"offset.number_of_retirements"})})]}),Number(null==r?void 0:r.totalRetirements)>0&&(0,H.jsx)(N.DF,{target:"_blank",variant:"transparent",icon:(0,H.jsx)(rL.Z,{}),href:"".concat(O.jk.retirements,"/").concat(n),className:rU,label:W.ag._({id:"offset.view_retirements"})})]})]})},rD=n(35491),rR=(0,ey.iv)({name:"co624y",styles:"display:flex;flex-direction:column;gap:0.6rem"}),rF=(0,ey.iv)({name:"skydt0",styles:"border:0.2rem solid var(--surface-03);width:100%;display:flex;justify-content:space-between;align-items:center;border-radius:1rem;padding:0.4rem 0.8rem;&:hover{background-color:var(--surface-03);}.start_content,.end_content{display:flex;align-items:center;gap:1rem;}"}),rz=(0,ey.iv)(rF,' &[data-active="true"]{background-color:var(--surface-03);}&:disabled{opacity:50%;}&:disabled:hover{background-color:inherit;}',""),rq=function(e){var t,n=null!==(t=e.items.find(function(t){var n=t.key;return e.currentItem===n}))&&void 0!==t?t:e.items[0];return(0,H.jsxs)("div",{className:rR,children:[(0,H.jsx)(N.xv,{t:"caption",color:"lighter",className:"label",children:e.label}),(0,H.jsxs)("button",{className:rF,onClick:e.onToggleModal,children:[(0,H.jsxs)("div",{className:"start_content",children:[(0,H.jsx)(tQ,{alt:n.label,src:n.icon,width:42,height:42}),(0,H.jsx)(N.xv,{t:"body1",children:n.label})]}),(0,H.jsxs)("div",{className:"end_content",children:[n.description&&(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:n.description}),(0,H.jsx)(rD.Z,{})]})]}),e.isModalOpen&&(0,H.jsx)(rK,{title:e.modalTitle,currentItem:n,items:e.items,onToggleModal:e.onToggleModal,onItemSelect:e.onItemSelect})]})},rK=function(e){return(0,H.jsx)(eK,{title:e.title,onToggleModal:e.onToggleModal,children:e.items.map(function(t){return(0,H.jsxs)("button",{onClick:function(){e.onItemSelect(t.key),e.onToggleModal()},className:rz,"data-active":t.label===e.currentItem.label&&!t.disabled,disabled:t.disabled,children:[(0,H.jsxs)("div",{className:"start_content",children:[(0,H.jsx)(tQ,{alt:t.label,src:t.icon,width:48,height:48}),(0,H.jsx)(N.xv,{t:"body2",children:t.label})]}),t.description&&(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:t.description})]},t.label)})})},rV=(0,ey.iv)("display:grid;flex-direction:column;width:100%;gap:0.6rem;.label{height:2rem;",ej.ZP.medium,"{justify-self:flex-start;}}.value.warn{color:var(--warn);}",""),rH=(0,ey.iv)({name:"snppa8",styles:"display:flex;justify-content:space-between;align-items:center;background-color:var(--surface-01);color:var(--font-01);height:5.6rem;border-radius:1rem;padding:0.4rem 0.8rem;.icon{min-width:4.8rem;align-self:center;object-fit:contain;}p{padding:0 0.6rem;}"}),rJ=function(e){return(0,H.jsxs)("div",{className:rV,children:[(0,H.jsx)("div",{className:(0,ey.cx)("label",{alignEnd:"end"===e.labelAlignment}),children:e.label}),(0,H.jsxs)("div",{className:rH,children:[(0,H.jsx)(tQ,{className:"icon",src:e.icon,width:42,height:42,alt:e.name}),e.loading?(0,H.jsx)(N.$j,{}):(0,H.jsx)(N.xv,{t:"body1",className:(0,ey.cx)("value",{alignEnd:"end"===e.labelAlignment,warn:!!e.warn}),children:e.amount?Number(e.amount)>1?(0,T.mX)(e.amount,3):(0,T.mX)(e.amount,5):"0"})]}),!!e.helperText&&(0,H.jsx)(N.xv,{t:"body8",color:"lightest",children:e.helperText})]})},rG=n(35897);function rQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rX=["quantity","inputToken","retirementToken","beneficiary","beneficiaryAddress","message","projectTokens"],rW=function(e,t){return t.includes(e)},rY=function(e){var t={};return rX.forEach(function(n){if("projectTokens"===n){var r=e.get("projectTokens");t.projectTokens=r||void 0}else if("inputToken"===n){var a,i=(null===(a=e.get("inputToken"))||void 0===a?void 0:a.toLowerCase())||void 0;t[n]=i&&rW(i,O.QA)?i:void 0}else if("retirementToken"===n){var s,o=(null===(s=e.get("retirementToken"))||void 0===s?void 0:s.toLowerCase())||void 0;t[n]=o&&(rW(o,O.Ts)||rG.isAddress(o))?o:void 0}else t[n]=e.get(n)||void 0}),t},r$=function(){var e=(0,e3.lr)(),t=(0,$.Z)(e,2),n=t[0],r=t[1],a=(0,eg.useState)(rY(n))[0];return(0,eg.useEffect)(function(){var e,t=Object.fromEntries(n.entries()),a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return rQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rQ(e,t)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}(rX);try{for(a.s();!(e=a.n()).done;){var i=e.value;delete t[i]}}catch(e){a.e(e)}finally{a.f()}r(t)},[]),a},r0=M.v9,r1={src:"/_next/static/media/Fiat.15485c56.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEX////////BwcHIyMj///////9MaXH////z8/OWlpaOjo7Q0NB8H0BAAAAACHRSTlP8L/39tOoAsMJ6u80AAAAJcEhZcwAAFiUAABYlAUlSJPAAAAAySURBVHicRcvBEQAgCASxBUQO6b9fX47/hG0Llm0sAdIoPMIp0Ok+AuSSC4qYCerj1y8fJgDhHxAt7wAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},r2=n(47966),r8=(0,ey.iv)({name:"sml38e",styles:"border:0.2rem solid var(--surface-03);border-radius:0.8rem;padding:1.6rem;display:grid;gap:0.8rem;.country{color:var(--klima-green);}span.projectDetails{display:flex;align-items:center;gap:0.4rem;color:var(--font-03);}"}),r4=(g=(0,G.Z)(X().mark(function e(t){var n,r,a;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({variables:{address:t.toLowerCase()},query:"\n    query ProjectToken($address: String) {\n      carbonOffset(id: $address) {\n        id\n        category\n        projectID\n        vintageYear\n        country\n        methodology\n        methodologyCategory\n        name\n        region\n        balanceUBO\n        balanceNBO\n        balanceBCT\n        balanceNCT\n      }\n    }\n  "}),e.next=5,fetch(O.US.polygonBridgedCarbon,{method:"POST",headers:{"Content-Type":"application/json"},body:n});case 5:return r=e.sent,e.next=8,r.json();case 8:if(a=e.sent,!(!r.ok||!a.data||!a.data.carbonOffset)){e.next=11;break}throw Error(JSON.stringify(a));case 11:return e.abrupt("return",a.data.carbonOffset);case 12:case"end":return e.stop()}},e)})),function(e){return g.apply(this,arguments)}),r3=function(e){var t=(0,M.v9)(K),n=(0,eg.useState)(null),r=n[0],a=n[1];if((0,eg.useEffect)(function(){var t;(t=(0,G.Z)(X().mark(function t(){return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r&&a(null),t.next=3,r4(e.address);case 3:a(t.sent);case 5:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})()},[e.address]),!r)return(0,H.jsx)("div",{className:r8,children:(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"Loading project info..."})})});var i="".concat(r.methodology||W.ag._("Unknown methodology")," - ").concat(r.methodologyCategory||W.ag._("Unknown category")),s=!!r.country||!!r.region,o=e.pool.toUpperCase(),l=Number(r["balance".concat(o)]).toLocaleString(t,{maximumFractionDigits:2});return(0,H.jsxs)("div",{className:r8,children:[(0,H.jsx)(N.xv,{children:r.name||r.projectID}),(0,H.jsxs)(N.xv,{t:"caption",children:[r.projectID,"-",r.vintageYear]}),(0,H.jsx)(N.xv,{t:"caption",children:i}),s&&(0,H.jsx)(N.xv,{t:"badge",className:"country",children:r.country||r.region}),(0,H.jsx)(N.xv,{t:"badge",children:(0,H.jsx)(eM.cC,{id:"Tonnes available: {formattedQuantity}",values:{formattedQuantity:l}})}),(0,H.jsx)(N.ee,{href:function(){if(null!=r&&r.projectID.includes("VCS")){var e=r.projectID.replace("VCS-","");return"".concat(O.Y5.projectDetailPage,"/").concat(e)}return"#"}(),children:(0,H.jsx)(N.xv,{t:"button",as:"span",className:"projectDetails",children:(0,H.jsx)(eM.cC,{id:"Project details <0/>",components:{0:(0,H.jsx)(r2.Z,{})}})})})]})};function r6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r6(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var r9=(h=(0,G.Z)(X().mark(function e(t){var n,r,a,i,s,o;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(er.Kh,{body:JSON.stringify(r5(r5({},t),{},{cancel_url:"https://app.klimadao.finance/#/offset",referrer:"klimadao",mode:"quote"})),method:"POST",headers:{"content-type":"application/json"}});case 3:if((n=e.sent).ok){e.next=13;break}return e.next=7,n.json();case 7:throw a=(r=e.sent).message,i=r.name,(s=Error(a)).name=i,s;case 13:return e.next=15,n.json();case 15:return o=e.sent,e.abrupt("return",(Number(o.totalPriceCents)/100).toString());case 19:throw e.prev=19,e.t0=e.catch(0),console.error("getFiatRetirementCost Error",e.t0),e.t0;case 23:case"end":return e.stop()}},e,null,[[0,19]])})),function(e){return h.apply(this,arguments)});function r7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r7(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var at=(x=(0,G.Z)(X().mark(function e(t){var n,r,a,i,s,o;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new URLSearchParams({quantity:t.quantity,retirementToken:t.retirement_token,message:t.retirement_message,beneficiary:t.beneficiary_name,beneficiaryAddress:t.beneficiary_address}),t.project_address&&n.append("projectTokens",t.project_address),e.next=5,fetch(er.Kh,{body:JSON.stringify(ae(ae({},t),{},{cancel_url:"".concat(er._n,"/#/offset?").concat(n.toString()),referrer:"klimadao",mode:"checkout"})),method:"POST",headers:{"content-type":"application/json"}});case 5:if((r=e.sent).ok){e.next=14;break}return e.next=9,r.json();case 9:i=(a=e.sent).message,s=a.name,Error(i).name=s;case 14:return e.next=16,r.json();case 16:(o=e.sent.url)&&(window.location.href=o),e.next=25;break;case 21:throw e.prev=21,e.t0=e.catch(0),console.error(e.t0),e.t0;case 25:case"end":return e.stop()}},e,null,[[0,21]])})),function(e){return x.apply(this,arguments)}),an=(0,ey.iv)({name:"sml38e",styles:"border:0.2rem solid var(--surface-03);border-radius:0.8rem;padding:1.6rem;display:grid;gap:0.8rem;.country{color:var(--klima-green);}span.projectDetails{display:flex;align-items:center;gap:0.4rem;color:var(--font-03);}"}),ar=(y=(0,G.Z)(X().mark(function e(t){var n,r,a;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({variables:{address:t},query:"\n    query ProjectToken($address: String) {\n      carbonOffset(id: $address) {\n        id\n        category\n        projectID\n        country\n        methodology\n        methodologyCategory\n        name\n        region\n        vintage\n      }\n    }\n  "}),e.next=5,fetch(O.US.polygonBridgedCarbon,{method:"POST",headers:{"Content-Type":"application/json"},body:n});case 5:return r=e.sent,e.next=8,r.json();case 8:if(a=e.sent,!(!r.ok||!a.data||!a.data.carbonOffset)){e.next=11;break}throw Error(JSON.stringify(a));case 11:return e.abrupt("return",a.data.carbonOffset);case 12:case"end":return e.stop()}},e)})),function(e){return y.apply(this,arguments)}),aa=function(e){var t=(0,eg.useState)(null),n=t[0],r=t[1];if((0,eg.useEffect)(function(){var t;(t=(0,G.Z)(X().mark(function t(){return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n&&r(null),t.next=3,ar(e.address);case 3:r(t.sent);case 5:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})()},[e.address]),!n)return(0,H.jsx)("div",{className:an,children:(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"Loading project info..."})})});var a="".concat(n.methodology||W.ag._("Unknown methodology")," - ").concat(n.methodologyCategory||W.ag._("Unknown category")),i=!!n.country||!!n.region;return(0,H.jsxs)("div",{className:an,children:[(0,H.jsx)(N.xv,{children:n.name||n.projectID}),(0,H.jsx)(N.xv,{t:"caption",children:a}),i&&(0,H.jsx)(N.xv,{t:"badge",className:"country",children:n.country||n.region}),(0,H.jsx)(N.xv,{t:"badge",children:(0,H.jsx)(eM.cC,{id:"Tonnes available: {0}",values:{0:e.quantity}})}),(0,H.jsx)(N.ee,{href:function(){if(e.symbol.includes("VCS")){var t=e.symbol.split("-")[2];return"".concat(O.Y5.projectDetailPage,"/").concat(t)}if(e.symbol.includes("GS")){var n=e.symbol.split("-")[2];return"".concat(O.ty.projectDetailPage,"/").concat(n)}return"#"}(),children:(0,H.jsx)(N.xv,{t:"button",as:"span",className:"projectDetails",children:(0,H.jsx)(eM.cC,{id:"Project details <0/>",components:{0:(0,H.jsx)(r2.Z,{})}})})})]})},ai=(0,ey.iv)({name:"1mv3xc2",styles:"display:grid;gap:1.6rem;.success{display:flex;gap:0.8rem;justify-content:center;align-items:center;svg{color:var(--klima-green);}}"}),as=function(e){return(0,H.jsx)(eK,{title:W.ag._({id:"offset.successModal.title"}),onToggleModal:e.onSuccessModalClose,children:(0,H.jsxs)("div",{className:ai,children:[(0,H.jsx)("div",{className:"stack",children:(0,H.jsx)(N.xv,{t:"caption",children:(0,H.jsx)(eM.cC,{id:"offset.successModal.body1"})})}),(0,H.jsx)("div",{className:"stack",children:(0,H.jsx)(N.xv,{t:"caption",children:(0,H.jsx)(eM.cC,{id:"offset.successModal.body2"})})}),(0,H.jsx)(N.DF,{href:e.retirementUrl,target:"_blank",icon:(0,H.jsx)(nn.Z,{}),label:(0,H.jsx)(eM.cC,{id:"offset.successModal.cta"})})]})})},ao=function(e){return(0,H.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"var(--klima-green)",xmlns:"http://www.w3.org/2000/svg",className:e.className,children:(0,H.jsx)("path",{d:"M4.10086 8.1C-1.35914 13.56 -1.35914 22.44 4.10086 27.9C6.84086 30.64 10.4209 32 14.0009 32C17.5809 32 21.1609 30.64 23.9009 27.9C30.8609 20.94 32.0009 0 32.0009 0C32.0009 0 11.0609 1.14 4.10086 8.1ZM21.0809 25.08C19.1809 26.96 16.6809 28 14.0009 28C12.2209 28 10.5409 27.5 9.04086 26.64C10.8809 20.88 14.2809 15.82 18.8009 12C13.5409 14.72 9.12086 18.92 6.06086 24C3.10086 20.08 3.36086 14.5 6.94086 10.92C10.4209 7.44 20.0809 5.3 27.6009 4.4C26.7009 11.92 24.5609 21.58 21.0809 25.08Z"})})},al=(0,ey.iv)({name:"op6kyt",styles:"position:absolute;cursor:default;height:100%;width:102%;top:0rem;left:-0.6rem;border-radius:0.8rem;z-index:3;display:flex;gap:1.6rem;flex-direction:column;align-items:center;justify-content:center;background-color:#20202095"}),ac=(0,ey.iv)({name:"qaosu0",styles:"height:5rem;width:5rem;fill:var(--font-02)"}),ad=function(){return(0,H.jsxs)("div",{className:al,children:[(0,H.jsx)(ao,{className:ac}),(0,H.jsx)(N.xv,{t:"body1",children:(0,H.jsx)(eM.cC,{id:"offset.selectiveRetirement.finding_projects"})})]})},au=n(17946),am=n(90104),ap=n.n(am),af=n(9090),av=(0,ey.iv)({name:"1imj8qv",styles:'height:48rem;padding:2rem;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:2rem;background-color:var(--surface-02);border:0.2rem solid var(--surface-01);border-radius:0.8rem;button{width:100%;:last-of-type{background-color:var(--surface-01);&,&:hover:not(:disabled),&:visited{[data-theme="theme-dark"] &{color:#fff;}}}}'}),ab=(0,ey.iv)({name:"1a0rwjy",styles:"min-height:4rem;min-width:4rem;fill:var(--klima-green)"}),ag=(0,ey.iv)({name:"y4q5tf",styles:"width:100%;margin-top:3.2rem;gap:1.2rem;display:flex;flex-direction:column"}),ah=function(e){return(0,H.jsxs)("div",{className:av,children:[(0,H.jsx)(af.Z,{className:ab}),(0,H.jsx)(N.xv,{t:"h5",align:"center",children:(0,H.jsx)(eM.cC,{id:"offset.selectiveRetirement.confirmation_message"})}),(0,H.jsx)(N.xv,{t:"body3",align:"center",children:e.project.name||e.project.projectID}),(0,H.jsxs)("div",{className:ag,children:[(0,H.jsx)(N.DF,{label:W.ag._({id:"offset.selectiveRetirement.confirm_selection"}),onClick:function(){e.setProjectAddress(e.project.tokenAddress),e.setStep("confirmed")}}),(0,H.jsx)(N.DF,{label:W.ag._({id:"shared.back"}),onClick:function(){return e.setStep("selectProject")}})]})]})},ax=n(69238),ay=n.n(ax),aj=(j=(0,G.Z)(X().mark(function e(t){var n,r,a,i,s;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O.US.polygonBridgedCarbon,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'\n          query {\n            carbonOffsetSearch(\n              first: 1000,\n              text: "'.concat(t,'") {\n                id\n                tokenAddress\n                projectID\n                name\n                country\n                region \n                vintage\n                vintageYear\n                methodology\n                methodologyCategory\n                category\n                currentSupply\n                bridge\n                balanceBCT\n                balanceNCT\n                balanceUBO\n                balanceNBO\n            }\n          }\n          ')})});case 3:if((n=e.sent).ok){e.next=12;break}return e.next=7,n.json();case 7:a=(r=e.sent).message,i=r.name,Error(a).name=i;case 12:return e.next=14,n.json();case 14:return s=e.sent,e.abrupt("return",s.data.carbonOffsetSearch);case 18:return e.prev=18,e.t0=e.catch(0),console.error("Failed to query QueryCarbonProjectDetails",e.t0),e.abrupt("return",Promise.reject(e.t0));case 22:case"end":return e.stop()}},e,null,[[0,18]])})),function(e){return j.apply(this,arguments)}),ak={bct:{types:[{label:"Energy Efficiency",value:"Energy Efficiency"},{label:"Forestry",value:"Forestry"},{label:"Industrial Processing",value:"Industrial Processing"},{label:"Renewable Energy",value:"Renewable Energy"},{label:"Other",value:"Other"}],regions:[{label:"Brazil",value:"Brazil"},{label:"Chile",value:"Chile"},{label:"China",value:"China"},{label:"Congo",value:"Congo"},{label:"Ecuador",value:"Ecuador"},{label:"India",value:"India"},{label:"Indonesia",value:"Indonesia"},{label:"South Korea",value:"South Korea"},{label:"Turkey",value:"Turkey"},{label:"Uganda",value:"Uganda"},{label:"Vietnam",value:"Viet Nam"}],vintages:[{label:"2007",value:"2007"},{label:"2008",value:"2008"},{label:"2009",value:"2009"},{label:"2010",value:"2010"},{label:"2011",value:"2011"},{label:"2012",value:"2012"},{label:"2013",value:"2013"},{label:"2014",value:"2014"},{label:"2015",value:"2015"},{label:"2017",value:"2017"},{label:"2018",value:"2018"},{label:"2019",value:"2019"}]},nct:{types:[{label:"Forestry",value:"Forestry"}],regions:[{label:"Africa",value:"Africa"},{label:"Asia",value:"Asia"},{label:"Brazil",value:"Brazil"},{label:"China",value:"China"},{label:"Kenya",value:"Kenya"},{label:"Latin America",value:"Latin America"},{label:"Oceania",value:"Oceania"}],vintages:[{label:"2011",value:"2011"},{label:"2012",value:"2012"},{label:"2013",value:"2013"},{label:"2014",value:"2014"},{label:"2015",value:"2015"},{label:"2017",value:"2017"},{label:"2019",value:"2019"}]},ubo:{types:[{label:"Renewable Energy",value:"Renewable Energy"},{label:"Other",value:"Other"}],regions:[{label:"Asia",value:"Asia"},{label:"China",value:"China"},{label:"India",value:"India"}],vintages:[{label:"2014",value:"2014"},{label:"2015",value:"2015"},{label:"2017",value:"2017"},{label:"2019",value:"2019"}]},nbo:{types:[{label:"Forestry",value:"Forestry"},{label:"Other Nature Based",value:"Other Nature Based"}],regions:[{label:"Asia",value:"Asia"},{label:"Brazil",value:"Brazil"},{label:"China",value:"China"},{label:"Latin America",value:"Latin America"}],vintages:[{label:"2014",value:"2014"},{label:"2015",value:"2015"},{label:"2017",value:"2017"},{label:"2018",value:"2018"}]},mco2:{types:[],regions:[],vintages:[]}},aA=n(56758),aw=n(5805),aC=n(98052),a_=n.n(aC),aN=(0,ey.iv)({name:"11ffxfj",styles:"display:inline-block;position:relative"}),aO=(0,ey.iv)({name:"74k0fa",styles:"position:absolute;opacity:0;width:2.4rem;height:2.4rem;cursor:pointer"}),aS=(0,ey.iv)({name:"1i875oe",styles:"display:inline-block;width:2.4rem;height:2.4rem;margin-right:0.8rem;background-color:var(--surface-02);border-radius:0.2rem;border:0.1rem solid var(--font-02);transition:background-color 0.2s ease-in;input:focus+&,input:hover+&{border-color:var(--klima-green);}input:checked+&{background-color:var(--klima-green);border-color:var(--klima-green);}"}),aP=(0,ey.iv)({name:"1bcz84h",styles:"position:absolute;display:none;color:var(--white);padding:0.8rem;top:-0.9rem;left:-0.9rem;input:checked~&{display:block;height:4.1rem;width:4.1rem;}"});function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var aM=eg.forwardRef(function(e,t){return(0,H.jsxs)("div",{className:aN,children:[(0,H.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({type:"checkbox",className:aO,ref:t},e)),(0,H.jsx)("div",{className:aS}),(0,H.jsx)(tn.Z,{className:aP})]})});aM.displayName="Checkbox";var aZ=(0,ey.iv)({name:"5v188k",styles:"padding:1.4rem 1.2rem 0 1.2rem;border:0.175rem solid var(--surface-03);border-bottom:0;:first-of-type{border-top-left-radius:0.8rem;border-top-right-radius:0.8rem;}:last-of-type{border-bottom-left-radius:0.8rem;border-bottom-right-radius:0.8rem;border-bottom:0.175rem solid var(--surface-03);}"}),aE=(0,ey.iv)({name:"ifg181",styles:"width:100%;display:flex;align-items:center;justify-content:space-between;padding-bottom:1.4rem;cursor:pointer;svg{color:var(--font-02);width:4rem;height:4rem;}"}),aL=(0,ey.iv)({name:"rerrui",styles:"display:flex;align-items:center;gap:1.6rem"}),aB=(0,ey.iv)({name:"1as1v4e",styles:"color:var(--klima-green);font-size:1.35rem"}),aU=(0,ey.iv)({name:"q0167n",styles:"display:flex;flex-direction:column;padding-bottom:1.4rem;gap:1rem;max-height:22rem;overflow-y:scroll"}),aI=(0,ey.iv)({name:"cchk2b",styles:"color:var(--white);transition:none;word-break:word-break;line-height:2.4rem;label{display:flex;}"}),aD=function(e){var t=(0,aA.u)(),n=(0,$.Z)(t,1)[0],r=(0,eg.useState)([]),a=r[0],i=r[1],s=function(t){var n=(0,rp.Z)(a);t.target.checked?n=[].concat((0,rp.Z)(a),[t.target.value]):n.splice(a.indexOf(t.target.value),1),i(n),e.onChange(n)};return(0,H.jsxs)("div",{className:aZ,ref:n,children:[(0,H.jsxs)("div",{className:aE,onClick:function(){return e.onClick(function(){return e.isOpen?null:e.name})},children:[(0,H.jsxs)("div",{className:aL,children:[(0,H.jsx)(N.xv,{t:"body8",children:a_()(e.name)}),a.length>0&&(0,H.jsx)(N.xv,{t:"body8",className:aB,children:(0,H.jsx)(eM.cC,{id:"offset.selectiveRetirement.filter.options_selected",values:{0:a.length}})})]}),(0,H.jsx)(aw.Z,{})]}),e.isOpen&&(0,H.jsx)("div",{className:aU,children:e.options.map(function(e,t){var n;return(0,H.jsx)("div",{className:aI,children:(0,H.jsxs)("label",{children:[(0,H.jsx)(aM,{onChange:s,checked:(n=e.value,a.includes(n)),value:e.value})," ",e.label]})},t)})})]})},aR=function(e){var t,n=(0,eg.useState)(null),r=n[0],a=n[1],i=(0,eg.useState)([]),s=i[0],o=i[1],l=(0,eg.useState)([]),c=l[0],d=l[1],u=(0,eg.useState)([]),m=u[0],p=u[1],f=function(t){if("mco2"===e.selectedRetirementToken)return[];var n=e.selectedRetirementToken.toUpperCase();return ay()(t,function(e){return Number(e["balance".concat(n)])>1})},v=(t=(0,G.Z)(X().mark(function t(){var n,r;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setIsLoading(!0),n=ay()([s,c,m],function(e){return!ap()(e)}).map(function(e){return"(".concat(e.map(function(e){return e.split(" ").length>1?"'".concat(e,"'"):e}).join(" | "),")")}).join(" & "),t.next=5,aj(n);case 5:r=t.sent,e.setProjects(f(r)),e.setStep("selectProject"),e.setIsLoading(!1),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),e.setStep("selectProject"),e.setProjects([]),e.setIsLoading(!1);case 16:case"end":return t.stop()}},t,null,[[0,11]])})),function(){return t.apply(this,arguments)});return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{children:[(0,H.jsx)(aD,{name:W.ag._({id:"offset.selectiveRetirement.filters.type"}),options:ak[e.selectedRetirementToken].types,isOpen:"type"===r,onClick:a,onChange:o}),(0,H.jsx)(aD,{name:W.ag._({id:"offset.selectiveRetirement.filters.region"}),options:ak[e.selectedRetirementToken].regions,isOpen:"region"===r,onClick:a,onChange:d}),(0,H.jsx)(aD,{name:W.ag._({id:"offset.selectiveRetirement.filters.vintage"}),options:ak[e.selectedRetirementToken].vintages,isOpen:"vintage"===r,onClick:a,onChange:p})]}),(0,H.jsx)(N.DF,{label:W.ag._({id:"offset.selectiveRetirement.filters.find_project"}),onClick:v})]})},aF=(0,ey.iv)({name:"13sf387",styles:'display:flex;flex-direction:column;gap:0.6rem;width:100%;padding:2rem;background-color:var(--surface-02);border:0.175rem solid var(--surface-03);border-radius:0.8rem;&:focus,&:hover,&[data-active="true"]{border-color:var(--klima-green);}&[data-active="true"]{cursor:default;}'}),az=(0,ey.iv)({name:"ec38ki",styles:"display:flex;width:inherit;justify-content:space-between;align-items:flex-start"}),aq=(0,ey.iv)({name:"lzubbl",styles:'display:flex;align-items:center;justify-content:center;height:2.4rem;width:2.4rem;border:0.175rem solid var(--surface-03);padding:0.4rem;border-radius:0.2rem;transition:none;svg{display:none;}&[data-active="true"]{background-color:var(--klima-green);border-color:var(--klima-green);svg{display:block;}}'}),aK=(0,ey.iv)({name:"mltmx0",styles:"color:var(--klima-green);font-size:1.3rem"}),aV=(0,ey.iv)({name:"1otlq80",styles:"font-size:1.3rem"}),aH=(0,ey.iv)({name:"129mv36",styles:"display:flex;align-items:center;font-size:1.2rem;&:hover{color:var(--klima-green);cursor:pointer;}svg{padding:0.4rem;color:inherit;}"}),aJ=function(e){var t=e.project["balance".concat(e.selectedRetirementToken.toUpperCase())];return(0,H.jsxs)("button",{className:aF,onClick:function(){var t;return null===(t=e.setSelectedProject)||void 0===t?void 0:t.call(e,e.project)},"data-active":e.active,children:[(0,H.jsxs)("div",{className:az,children:[(0,H.jsx)(N.xv,{t:"caption",children:e.project.methodologyCategory}),(0,H.jsx)("div",{className:aq,"data-active":e.active,children:(0,H.jsx)(tn.Z,{})})]}),(0,H.jsx)(N.xv,{t:"body3",children:e.project.name||e.project.projectID}),(0,H.jsx)(N.xv,{t:"badge",className:aK,children:e.project.country||e.project.region}),"mco2"!==e.selectedRetirementToken&&(0,H.jsx)(N.xv,{t:"badge",className:aV,children:(0,H.jsx)(eM.cC,{id:"offset.selectiveRetirement.project.available_tonnes",values:{0:(0,T.VE)(t.toString(),2,"en")}})}),(0,H.jsx)(N.ee,{href:function(){if("C3"===e.project.bridge)return"".concat(O.Y5.projectDetailPage,"/").concat(e.project.projectID);if("Toucan"===e.project.bridge){var t=e.project.projectID.replace("VCS-","");return"".concat(O.Y5.projectDetailPage,"/").concat(t)}return"#"}(),children:(0,H.jsxs)(N.xv,{t:"badge",color:"lightest",className:aH,children:["Project details",(0,H.jsx)(r2.Z,{})]})})]})},aG=(0,ey.iv)({name:"1t1jyc3",styles:"position:relative;display:inherit;flex-direction:inherit;gap:inherit"}),aQ=(0,ey.iv)({name:"lq5bny",styles:"display:flex;flex-direction:column;gap:1.2rem;max-height:36rem;overflow-y:scroll;::-webkit-scrollbar{display:none;}"}),aX=(0,ey.iv)({name:"1ufrvum",styles:'display:flex;gap:0.8rem;justify-content:space-around;width:inherit;button{width:100%;:first-of-type{background-color:var(--surface-01);&,&:hover:not(:disabled),&:visited{[data-theme="theme-dark"] &{color:#fff;}}}}'}),aW=function(e){return(0,H.jsxs)("div",{className:aG,children:[(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"offset.selectiveRetirement.selectProject.label"})}),(0,H.jsx)("div",{className:aQ,children:e.projects.map(function(t,n){var r;return(0,H.jsx)(aJ,{project:t,setSelectedProject:e.setSelectedProject,selectedRetirementToken:e.selectedRetirementToken,active:(null===(r=e.selectedProject)||void 0===r?void 0:r.tokenAddress)===t.tokenAddress},n)})}),(0,H.jsxs)("div",{className:aX,children:[(0,H.jsx)(N.DF,{label:W.ag._({id:"offset.selectiveRetirement.selectProject.back"}),onClick:function(){return e.setStep("search")}}),(0,H.jsx)(N.DF,{label:W.ag._({id:"offset.selectiveRetirement.selectProject.select"}),onClick:function(){return e.setStep("confirmProject")},disabled:!e.selectedProject})]})]})},aY=(0,ey.iv)({name:"1v3372m",styles:'display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:2rem;border:0.175rem solid var(--surface-03);border-radius:0.8rem;svg{min-height:4rem;min-width:4rem;fill:var(--klima-green);}&+button{background-color:var(--surface-01);&,&:hover:not(:disabled),&:visited{[data-theme="theme-dark"] &{color:#fff;}}}'}),a$=function(e){var t=(0,eg.useState)(""),n=t[0],r=t[1],a=(0,eg.useState)([]),i=a[0],s=a[1];return(0,eg.useEffect)(function(){if(e.selectedProject&&e.projectAddress)return r("confirmed");r("search")},[e.projectAddress]),(0,H.jsxs)(H.Fragment,{children:["search"===n&&(0,H.jsx)(aR,{setStep:r,setProjects:s,setIsLoading:e.setIsLoading,selectedRetirementToken:e.selectedRetirementToken}),"selectProject"===n&&!ap()(i)&&(0,H.jsx)(aW,{projects:i,selectedProject:e.selectedProject,selectedRetirementToken:e.selectedRetirementToken,setProjects:s,setSelectedProject:e.setSelectedProject,setStep:r}),"selectProject"===n&&ap()(i)&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:aY,children:[(0,H.jsx)(au.Z,{}),(0,H.jsx)(N.xv,{t:"body8",align:"center",children:(0,H.jsx)(eM.cC,{id:"offset.selectiveRetirement.empty_search_results"})})]}),(0,H.jsx)(N.DF,{label:W.ag._({id:"offset.selectiveRetirement.back_to_filters"}),onClick:function(){return r("search")}})]}),"confirmProject"===n&&e.selectedProject&&(0,H.jsx)(ah,{project:e.selectedProject,setStep:r,setProjectAddress:e.setProjectAddress}),"confirmed"===n&&e.selectedProject&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(aJ,{active:!0,project:e.selectedProject,selectedRetirementToken:e.selectedRetirementToken}),(0,H.jsx)(N.DF,{label:W.ag._({id:"offset.selectiveRetirement.clear_selection"}),variant:"gray",onClick:function(){e.setProjectAddress(""),e.setSelectedProject(null),r("search")}})]})]})},a0=(0,ey.iv)({name:"7nvhaq",styles:'width:100%;align-items:center;font-size:1.4rem;border:0.175rem solid var(--surface-03);background-color:var(--surface-02);padding:0rem 2.4rem;border-radius:0.8rem;padding:0rem 2.4rem;min-height:4.8rem;justify-content:center;&:disabled{cursor:not-allowed;opacity:0.3;}&[data-active="true"]{border-color:var(--klima-green);}'}),a1=function(e){return(0,H.jsx)("button",{role:"button",onClick:e.onClick,className:a0,"aria-label":e.label,"data-active":e.active,disabled:e.disabled,children:e.label})},a2=(0,ey.iv)({name:"lkqg1s",styles:'width:100%;background-color:var(--surface-02);border-radius:0.8rem;border:0.2rem solid var(--surface-03);padding-inline-start:0.8rem;min-height:4.8rem;color:var(--font-01);[data-error="true"]{border:0.2rem solid red;}&:disabled{opacity:0.8;}'}),a8=function(e){return(0,H.jsx)("input",{className:a2,value:e.projectAddress,onChange:function(t){return e.setProjectAddress(t.target.value)},placeholder:W.ag._({id:"offset.enter_address"}),"data-error":!!e.projectAddress&&!rG.isAddress(e.projectAddress),pattern:"^0x[a-fA-F0-9]{40}$",disabled:e.disabled})},a4=(0,ey.iv)({name:"18vm3mt",styles:"position:relative;display:flex;flex-direction:column;gap:0.8rem"}),a3=(0,ey.iv)({name:"v1x6tq",styles:"display:flex;gap:0.8rem;color:white;align-items:center"}),a6=(0,ey.iv)({name:"1vjun5r",styles:"position:relative;display:flex;flex-direction:column;gap:1.6rem"}),a5=(0,ey.iv)("width:100%;display:flex;justify-content:space-between;flex-direction:column;gap:0.8rem;cursor:pointer;",ej.ZP.large,"{flex-direction:row;}",""),a9=(0,ey.iv)({name:"158rq3e",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2rem;padding:3rem 2.8rem;border:0.175rem solid var(--surface-03);border-radius:0.8rem;svg{min-height:4rem;min-width:4rem;fill:var(--font-02);}"}),a7=function(e){var t=e.disableDefault?"search":e.projectAddress?"address":"default",n=(0,eg.useState)(t),r=n[0],a=n[1],i=(0,eg.useState)(!1),s=i[0],o=i[1],l="mco2"===e.selectedRetirementToken;return(0,eg.useEffect)(function(){!e.selectedProject&&e.projectAddress&&a("address")},[e.projectAddress]),(0,eg.useEffect)(function(){e.selectedProject&&(e.setSelectedProject(null),e.setProjectAddress(""),a(t))},[e.selectedRetirementToken]),(0,H.jsxs)("div",{className:a4,children:[(0,H.jsxs)("div",{className:a3,children:[(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"offset.retire_specific"})}),(0,H.jsx)(N.OG,{content:(0,H.jsx)(eM.cC,{id:"offset.retire_specific_tooltip"}),children:(0,H.jsx)(eY.Z,{})})]}),(0,H.jsxs)("div",{className:a6,children:[(0,H.jsxs)("div",{className:a5,children:[s&&(0,H.jsx)(ad,{}),(0,H.jsx)(a1,{label:W.ag._({id:"offset.selectiveRetirement.default_input_type"}),active:"default"===r,disabled:e.disableDefault,onClick:function(){e.setProjectAddress(""),a("default")}}),(0,H.jsx)(a1,{label:W.ag._({id:"offset.selectiveRetirement.search_input_type"}),active:"search"===r,disabled:l,onClick:function(){return a("search")}}),(0,H.jsx)(a1,{label:W.ag._({id:"offset.selectiveRetirement.address_input_type"}),active:"address"===r,disabled:l,onClick:function(){return a("address")}})]}),"default"===r&&(0,H.jsxs)("div",{className:a9,children:[(0,H.jsx)(ao,{}),(0,H.jsx)(N.xv,{t:"body8",align:"center",children:(0,H.jsx)(eM.cC,{id:"offset.selectiveRetirement.retire_from_default_pool"})})]}),"search"===r&&(0,H.jsx)(a$,{projectAddress:e.projectAddress,selectedProject:e.selectedProject,selectedRetirementToken:e.selectedRetirementToken,setSelectedProject:e.setSelectedProject,setIsLoading:o,setProjectAddress:e.setProjectAddress}),"address"===r&&(0,H.jsx)(a8,{projectAddress:e.projectAddress,setProjectAddress:e.setProjectAddress,disabled:!!e.selectedProject})]})]})},ie=(0,ey.iv)("display:grid;gap:2.4rem;grid-column:1/3;align-content:start;",ej.ZP.desktop,"{grid-column:2/3;}",""),it=(0,ey.iv)({name:"1u72h9q",styles:"display:grid;gap:0.8rem;align-content:start"}),ir=(0,ey.iv)("display:grid;background-color:var(--surface-02);align-content:start;border-radius:1.2rem;padding:1.6rem;gap:2.4rem;grid-column:1/3;",ej.ZP.desktop,"{grid-column:cardsleft;grid-row:2/auto;gap:4.8rem;align-items:start;}",ej.ZP.desktopLarge,"{padding:3.2rem;}",""),ia=(0,ey.iv)({name:"15ko70o",styles:"display:grid;gap:0.8rem;max-width:38rem"}),ii=(0,ey.iv)("display:grid;gap:2.4rem;",ej.ZP.medium,"{border:2px solid var(--surface-03);padding:2.4rem;border-radius:1.2rem;}",ej.ZP.desktop,"{justify-self:center;max-width:48rem;width:100%;}.mini_token_label{color:var(--font-01);display:flex;align-items:center;gap:0.4rem;}.disclaimer{color:var(--font-01);display:flex;gap:1.2rem;}.disclaimer svg{color:yellow;width:3.2rem;height:3.2rem;}",""),is=(0,ey.iv)({name:"prf8xg",styles:"display:flex;align-items:center;gap:0.8rem"}),io=(0,ey.iv)({name:"zl1inp",styles:"display:flex;justify-content:center"}),il=(0,ey.iv)({name:"10t2zt5",styles:"padding:0 0.8rem;display:flex;align-items:center;min-height:4.8rem"}),ic=(0,ey.iv)({name:"1d3w5wq",styles:"width:100%"}),id=(0,ey.iv)('display:flex;flex-direction:column;gap:0.8rem;textarea{width:100%;background-color:var(--surface-02);border-radius:0.8rem;border:0.2rem solid var(--surface-03);padding-inline-start:0.8rem;min-height:2.4rem;color:var(--font-01);resize:none;padding-top:0.8rem;overflow-y:hidden;min-height:16rem;}input{width:100%;background-color:var(--surface-02);border-radius:0.8rem;border:0.2rem solid var(--surface-03);padding-inline-start:0.8rem;min-height:4.8rem;color:var(--font-01);}label{display:flex;gap:0.8rem;color:white;align-items:center;}.number_input_container{min-height:4.8rem;display:grid;grid-template-columns:1fr min-content;z-index:1;input[data-error="true"]{border:0.175rem solid var(--warn);}}.button_max{',eL,";",eN,';padding:0 1.6rem;border-radius:0 0.8rem 0.8rem 0;&:hover:not(:disabled){background-color:var(--surface-03);}&:disabled{opacity:0.5;cursor:default;}}input[data-error="true"]{border:0.175rem solid var(--warn);}.invalid_project_tonnage{font-size:1.4rem;color:var(--warn);}',"");function iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function im(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ip=function(e){return!!O.Ts.includes(e)},iv=function(e){var t,n,r,a,i,s,o,l,c,d,u=(0,ex.T)(),m=(0,M.v9)(K),p=(0,M.v9)(E),f=(0,M.v9)(L),v=r0(function(e){return D(e,{tokens:O.QA,spender:"retirementAggregatorV2"})}),b=r$(),g=(0,eg.useState)(!1),h=g[0],x=g[1],y=(0,eg.useState)(!1),j=y[0],k=y[1],A=(0,eg.useState)(b.inputToken||"fiat"),w=A[0],C=A[1],_=(0,eg.useState)(b.retirementToken||"bct"),S=_[0],P=_[1],Z=!ip(S),B=(0,eg.useState)(b.quantity||""),U=B[0],I=B[1],R=(0,eg.useState)(b.quantity||""),F=R[0],z=R[1],V=(0,eg.useRef)(),J=(0,eg.useState)(""),Q=J[0],Y=J[1],en=(0,eg.useState)(b.beneficiary||""),er=en[0],ea=en[1],ei=(0,eg.useState)(b.beneficiaryAddress||""),es=ei[0],eo=ei[1],ec=(0,eg.useState)(b.message||""),ed=ec[0],eu=ec[1],em=(0,eg.useState)(b.projectTokens||""),ep=em[0],ef=em[1],ev=(0,eg.useState)(null),eb=ev[0],ey=ev[1],ej=(0,eg.useState)(""),ek=ej[0],eA=ej[1],ew=(0,eg.useState)(null),eC=ew[0],e_=ew[1],eN=(0,eg.useState)(!1),eO=eN[0],eS=eN[1],eP=(0,eg.useState)(!1),eT=eP[0],eZ=eP[1],eE=e.isConnected&&(!(null!=p&&p.bct)||!(null!=v&&v.bct)),eL=function(e,t){if(!e)return u((0,et.Np)({notificationStatus:null}));u((0,et.Np)({notificationStatus:{statusType:e,message:t}}))};(0,eg.useEffect)(function(){if(b.quantity&&"fiat"===w){var e=Math.ceil(Number(b.quantity)).toString();I(e),z(e)}},[b.quantity]),(0,eg.useEffect)(function(){S&&rG.isAddress(S)&&!e.isConnected&&!e.initializing&&e.toggleModal()},[S,e.initializing,e.isConnected]),(0,eg.useEffect)(function(){e.isConnected&&e.address&&e.provider&&(u(rA({address:e.address})),u(rh({address:e.address,onRPCError:e.onRPCError})),u(rx({address:e.address,onRPCError:e.onRPCError})))},[e.isConnected,e.address,e.provider]),(0,eg.useEffect)(function(){var e;"fiat"===w&&I(Math.ceil(Number(U)).toString()),!S||rG.isAddress(S)||null!==(e=O.KJ[w])&&void 0!==e&&e.includes(S)||P(O.KJ[w][0])},[w]),(0,eg.useEffect)(function(){var t;if(""===F||!Number(F)){Y("0");return}(t=(0,G.Z)(X().mark(function t(){var n,r,a;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Z){t.next=3;break}return Y("0"),t.abrupt("return");case 3:if(t.prev=3,Y("loading"),!("fiat"!==w)){t.next=14;break}return t.next=8,ry({inputToken:w,retirementToken:S,quantity:F,getSpecific:!!ep});case 8:n=t.sent,Y((0,$.Z)(n,1)[0]),t.next=21;break;case 14:return r=Number(F)&&1>Number(F)?"1":F,a={beneficiary_address:es||e.address||null,beneficiary_name:er||"placeholder",retirement_message:ed||"placeholder",quantity:r,project_address:ep||null,retirement_token:S},F!==r&&(I(r),z(r)),t.next=19,r9(a);case 19:Y(t.sent);case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(3),console.error(t.t0);case 26:case"end":return t.stop()}},t,null,[[3,23]])})),function(){return t.apply(this,arguments)})()},[F,ep,w,S]);var eB=function(){eL(null),eS(!1)},eU=function(e){eo(e)},eI=function(){if(Z)return U;if(!Q||"loading"===Q)return"0";if(w===S)return Q;var e=ee.parseUnits(Q,(0,T.Ls)(w)).div("100");return(0,T.oO)(Q,(0,T.bM)(e,(0,T.Ls)(w)))},eD=(t=(0,G.Z)(X().mark(function t(){var n,r;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.provider){t.next=3;break}return t.abrupt("return");case 3:if(!Z){t.next=9;break}return t.next=6,rk({value:eI(),signer:e.provider.getSigner(),onStatus:eL,projectTokenAddress:S});case 6:return n=t.sent,u((0,el.SX)({address:S,allowance:n})),t.abrupt("return");case 9:if("fiat"!==w){t.next=11;break}return t.abrupt("return");case 11:return t.next=13,ti({value:eI(),provider:e.provider,token:w,spender:"retirementAggregatorV2",onStatus:eL});case 13:r=t.sent,u((0,el.Zb)({token:w,spender:"retirementAggregatorV2",value:r})),t.next=20;break;case 17:return t.prev=17,t.t0=t.catch(0),t.abrupt("return");case 20:case"end":return t.stop()}},t,null,[[0,17]])})),function(){return t.apply(this,arguments)}),eR=(n=(0,G.Z)(X().mark(function t(){var n;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(!e.address||!e.provider)){t.next=3;break}return t.abrupt("return");case 3:if(ip(S)){t.next=10;break}return t.next=6,rw({address:e.address,signer:e.provider.getSigner(),quantity:U,beneficiaryAddress:es,beneficiaryName:er,retirementMessage:ed,onStatus:eL,projectTokenAddress:S,symbol:f[S].symbol});case 6:n=t.sent,u((0,el.bq)({address:S,quantityRetired:U})),t.next=19;break;case 10:if("fiat"!==w){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,rj({address:e.address,provider:e.provider,inputToken:w,maxAmountIn:eI(),retirementToken:S,quantity:U,beneficiaryAddress:es,beneficiaryName:er,retirementMessage:ed,onStatus:eL,projectAddress:ep});case 16:n=t.sent,u((0,el.Hy)({inputToken:w,retirementToken:S,cost:Q,quantity:U})),u((0,el.LZ)({token:w,spender:"retirementAggregatorV2",value:Q}));case 19:eB(),eA(n.receipt.transactionHash),e_(n.retirementTotals),t.next=27;break;case 24:return t.prev=24,t.t0=t.catch(0),t.abrupt("return");case 27:case"end":return t.stop()}},t,null,[[0,24]])})),function(){return n.apply(this,arguments)}),eF=(r=(0,G.Z)(X().mark(function t(){var n;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!e.address||!e.provider||"fiat"!==w)){t.next=2;break}return t.abrupt("return");case 2:return n={quantity:U,beneficiary_address:es||e.address,beneficiary_name:er,retirement_message:ed,project_address:ep||null,retirement_token:S},eZ(!0),t.next=6,at(n);case 6:return t.abrupt("return");case 7:case"end":return t.stop()}},t)})),function(){return r.apply(this,arguments)}),ez=function(){var e;return Z&&f[S]?Number(U)>Number(f[S].quantity):"fiat"!==w&&Number(Q)>Number(null!==(e=null==p?void 0:p[w])&&void 0!==e?e:"0")},eq=!!Number(Q)&&Number(Q)>2e3,eK=eb&&Number(F)>Number(eb["balance".concat(S.toUpperCase())]),eV=function(){if(Z&&f[S]){var e=f[S].allowance;return!!Number(e)&&Number(e)>=Number(U)}return"fiat"===w||!!(null!=v&&v[w])&&!!Number(null==v?void 0:v[w])&&Number(Q)<=Number(null==v?void 0:v[w])},eH=function(e){C(e)},eJ=(0,M.v9)(q),eG=null==eJ?void 0:eJ.statusType,eQ=e.isConnected&&("userConfirmation"===eG||"networkConfirmation"===eG),eX=O.QA.map(function(t){return im(im({},nw[t]),{},{description:eE?(0,H.jsx)(eM.cC,{id:"shared.loading"}):e.isConnected&&Number(null==p?void 0:p[t])?Number(null==p?void 0:p[t]).toFixed(2):"0",disabled:!(null!=p&&p[t])||!Number(p[t])})}).sort(function(e,t){var n,r;return Number(null!==(n=t.description)&&void 0!==n?n:0)-Number(null!==(r=e.description)&&void 0!==r?r:0)});eX.unshift({description:"",disabled:!1,icon:r1,key:"fiat",label:"Credit Card"});var eW=O.Ts.map(function(e){var t,n=!(null!==(t=O.KJ[w])&&void 0!==t&&t.includes(e));return im(im({},nw[e]),{},{disabled:n,description:n?(0,H.jsx)(eM.cC,{id:"offset.incompatible"}):""})}),e$=Object.keys(f).map(function(e){var t=f[e];if(!t)return{disabled:!0,description:"",key:"unknown",icon:rO,label:"unknown"};var n=t.symbol.startsWith("TCO2");return{disabled:!1,description:"",key:t.address,icon:n?rO:rN,label:t.symbol}}),e0=[].concat((0,rp.Z)(eW),(0,rp.Z)(e$)),e2=nw["fiat"===w?"usdc":w].icon;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:ie,children:[(0,H.jsx)(rI,{}),(0,H.jsx)(rZ,{isConnected:e.isConnected})]}),(0,H.jsxs)("div",{className:ir,children:[(0,H.jsxs)("div",{className:ia,children:[(0,H.jsxs)(N.xv,{t:"h4",className:is,children:[(0,H.jsx)(e1.Z,{}),(0,H.jsx)(eM.cC,{id:"Offset"})]}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"Pay with fiat or crypto, or retire credits you already own. Your message and data will be permanently inscribed on the blockchain. Learn more about supported tokens in our <0>docs</0>.",components:{0:(0,H.jsx)(N.ee,{href:O.jk.officialDocs})}})})]}),(0,H.jsxs)("div",{className:ii,children:[(0,H.jsx)(rq,{label:W.ag._("Select carbon token to retire"),modalTitle:W.ag._("Select token"),currentItem:S,items:e0,isModalOpen:h,onToggleModal:function(){return x(function(e){return!e})},onItemSelect:function(e){P(e)}}),!Z&&(0,H.jsx)(a7,{projectAddress:ep,selectedRetirementToken:S,setProjectAddress:ef,selectedProject:eb,setSelectedProject:ey}),Z&&f[S]&&(0,H.jsx)(aa,{symbol:f[S].symbol,quantity:f[S].quantity,address:S}),rG.isAddress(ep)&&!eb&&ip(S)&&"mco2"!==S&&(0,H.jsx)(r3,{address:ep,pool:S}),(0,H.jsxs)("div",{className:id,children:[(0,H.jsx)("label",{children:(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"offset.amount_in_tonnes"})})}),(0,H.jsx)("div",{className:"number_input_container",children:(0,H.jsx)("input",{type:"number",min:"fiat"!==w||Z?"0":"1",value:U,onKeyDown:function(e){"fiat"===w&&!Z&&["."].includes(e.key)&&e.preventDefault(),["e","E","+","-"].includes(e.key)&&e.preventDefault()},"data-error":eq||eK||ez(),onChange:function(e){if(V.current&&clearTimeout(V.current),!Z&&"fiat"===w&&Number(e.target.value)&&1>Number(e.target.value)?I("1"):Z||"fiat"!==w?Number(e.target.value)>0&&1e-4>Number(e.target.value)?I("0.0001"):I(e.target.value):I(Math.ceil(Number(e.target.value)).toString()),""===e.target.value){z(""),Y("");return}Y("loading");var t=setTimeout(function(){z(e.target.value),V.current=void 0},500);V.current=t},placeholder:W.ag._({id:"offset.offset_quantity"})})}),eK&&(0,H.jsx)(N.xv,{t:"caption",color:"lightest",className:"invalid_project_tonnage",children:(0,H.jsx)(eM.cC,{id:"offset.invalid_project_tonnage"})}),!eK&&"fiat"===w&&!Z&&(0,H.jsx)(N.xv,{t:"body8",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"offset.min_quantity_fiat"})})]}),(0,H.jsxs)("div",{className:it,children:[(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"offset.retirement_credit"})}),(0,H.jsx)("div",{className:id,children:(0,H.jsx)("input",{value:er,onChange:function(e){return ea(e.target.value)},placeholder:W.ag._("Beneficiary name")})}),(0,H.jsxs)("div",{className:id,children:[(0,H.jsx)("input",{value:es,"data-error":!!es&&!rG.isAddress(es),onChange:function(e){return eU(e.target.value)},placeholder:W.ag._("Beneficiary 0x address (optional)")}),(0,H.jsx)(N.xv,{t:"body8",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"offset.default_retirement_address"})})]})]}),(0,H.jsxs)("div",{className:id,children:[(0,H.jsx)("label",{children:(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"offset.retirement_message"})})}),(0,H.jsx)("textarea",{value:ed,maxLength:280,onChange:function(e){eu(e.target.value)},placeholder:W.ag._({id:"offset.retirement_purpose"})})]}),!Z&&(0,H.jsx)(rJ,{label:(0,H.jsxs)("div",{className:"mini_token_label",children:[(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"offset_cost"})}),(0,H.jsx)(N.OG,{content:(0,H.jsx)(eM.cC,{id:"offset.aggregation_fee_tooltip"}),children:(0,H.jsx)(eY.Z,{})})]}),amount:null===(a=Number(Q))||void 0===a?void 0:a.toLocaleString(m),icon:e2,name:w,loading:"loading"===Q,warn:ez()||eq,helperText:"fiat"===w?W.ag._({id:"fiat.max_quantity",values:{0:2e3.toLocaleString(m)}}):void 0}),(0,H.jsx)(rJ,{label:(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"offset.retiring"})}),warn:Z&&ez(),amount:null===(i=Number(U))||void 0===i?void 0:i.toLocaleString(m),icon:null!==(s=null===(o=e0.find(function(e){return e.key===S}))||void 0===o?void 0:o.icon)&&void 0!==s?s:rO,name:S,labelAlignment:"start"}),!Z&&(0,H.jsx)(rq,{label:W.ag._({id:"offset.dropdown_payWith.label"}),modalTitle:W.ag._({id:"offset.modal_payWith.title"}),currentItem:w,items:eX,isModalOpen:j,onToggleModal:function(){return k(function(e){return!e})},onItemSelect:function(e){return eH(e)}}),(0,H.jsxs)("div",{className:"disclaimer",children:[(0,H.jsx)(rf.Z,{}),(0,H.jsx)(N.xv,{t:"caption",children:(0,H.jsx)(eM.cC,{id:"offset_disclaimer"})})]}),(0,H.jsx)("div",{className:io,children:eQ?(0,H.jsx)("div",{className:il,children:(0,H.jsx)(N.$j,{})}):(0,H.jsx)(N.DF,im({className:ic},function(){if(!e.isConnected)return{label:W.ag._({id:"shared.login_connect"}),onClick:e.toggleModal};if(eE||"loading"===Q)return{label:W.ag._({id:"shared.loading"}),disabled:!0};if(eT)return{label:W.ag._({id:"shared.redirecting_checkout"}),disabled:!0};if(!U||!Number(U))return{label:W.ag._({id:"shared.enter_quantity"}),disabled:!0};if(!er)return{label:W.ag._({id:"shared.enter_beneficiary"}),disabled:!0};if(!ed)return{label:W.ag._({id:"shared.enter_retirement_message"}),disabled:!0};if(es&&!rG.isAddress(es))return{label:W.ag._({id:"shared.invalid_beneficiary_addr"}),disabled:!0};else if(eK)return{label:W.ag._({id:"offset.insufficient_project_tonnage"}),disabled:!0};else if(eq)return{label:W.ag._({id:"shared.invalid_quantity"}),disabled:!0};else if(ep&&!rG.isAddress(ep))return{label:W.ag._({id:"shared.invalid_project_address"}),disabled:!0};else if(ez())return{label:W.ag._({id:"shared.insufficient_balance"}),disabled:!0};else if("fiat"===w&&!Z)return{label:W.ag._({id:"offset.checkout"}),onClick:eF};else if(!eV())return{label:W.ag._({id:"shared.approve"}),onClick:function(){return eS(!0)}};return{label:W.ag._({id:"shared.retire"}),onClick:function(){return eS(!0)}}}()))})]})]}),eO&&(0,H.jsx)(nb,{title:(0,H.jsxs)(N.xv,{t:"h4",className:is,children:[(0,H.jsx)(e1.Z,{}),(0,H.jsx)(eM.cC,{id:"offset.retire_carbon"})]}),onCloseModal:eB,tokenName:Z?(null===(l=f[S])||void 0===l?void 0:l.symbol)||"unknown":w,tokenIcon:Z||"fiat"===w?null!==(c=null===(d=e0.find(function(e){return e.key===S}))||void 0===d?void 0:d.icon)&&void 0!==c?c:rO:nw[w].icon,spenderAddress:O.UB.mainnet.retirementAggregatorV2,value:Z?U:Q.toString(),approvalValue:eI(),status:eJ,onResetStatus:function(){return eL(null)},onApproval:eD,hasApproval:eV(),onSubmit:eR}),ek&&(0,H.jsx)(as,{onSuccessModalClose:function(){I("0"),z("0"),Y("0"),ea(""),eo(""),eu(""),eA(""),e_(null)},retirementUrl:(0,eh.Qy)("".concat(O.jk.retirements,"/").concat(es||e.address,"/").concat(eC),m)})]})},ib=function(e){var t;return t=(0,G.Z)(X().mark(function t(n){var r,a,i;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=(0,T.uN)({contractName:"pklima_exercise",provider:e.provider}),t.next=4,r.redeemableFor(e.address);case 4:return a=t.sent,t.next=7,r.terms(e.address);case 7:i=t.sent,n((0,el.S4)({claimed:(0,T.bM)(i.claimed),max:(0,T.bM)(i.max),supplyShare:i.percent/1e4,redeemable:(0,T.mX)((0,T.bM)(a),9)})),t.next=21;break;case 11:if(t.prev=11,t.t0=t.catch(0),4001!==t.t0.code){t.next=16;break}throw e.onStatus("error","userRejected"),t.t0;case 16:if(!(t.t0&&JSON.stringify(t.t0).includes("subtraction"))){t.next=19;break}throw e.onStatus("claimExceeded",""),t.t0;case 19:throw e.onStatus("error"),t.t0;case 21:case"end":return t.stop()}},t,null,[[0,11]])})),function(e){return t.apply(this,arguments)}},ig=(k=(0,G.Z)(X().mark(function e(t){var n,r;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,T.uN)({contractName:"pklima_exercise",provider:t.provider.getSigner()}),t.onStatus("userConfirmation",""),e.next=5,n.exercise(ee.parseUnits(t.value,"ether"));case 5:return r=e.sent,t.onStatus("networkConfirmation",""),e.next=9,r.wait(1);case 9:return t.onStatus("done","Transaction was successful"),e.abrupt("return",t.value);case 13:if(e.prev=13,e.t0=e.catch(0),4001!==e.t0.code){e.next=18;break}throw t.onStatus("error","userRejected"),e.t0;case 18:if(!(e.t0&&JSON.stringify(e.t0).includes("subtraction"))){e.next=21;break}throw t.onStatus("claimExceeded",""),e.t0;case 21:throw t.onStatus("error"),e.t0;case 23:case"end":return e.stop()}},e,null,[[0,13]])})),function(e){return k.apply(this,arguments)});function ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ix=function(e){var t,n,r=e.provider,a=e.address,i=e.isConnected,s=(0,ex.T)(),o=(0,M.v9)(q),l=o&&o.statusType,c=function(e,t){if(!e)return s((0,et.Np)({notificationStatus:null}));s((0,et.Np)({notificationStatus:{statusType:e,message:t}}))},d=(0,eg.useState)(""),u=d[0],m=d[1],p=(0,M.v9)(K),f=(0,M.v9)(B).currentIndex,v=r0(function(e){return D(e,{tokens:["bct","pklima"],spender:"pklima_exercise"})}),b=(0,M.v9)(F),g=Number(null==b?void 0:b.claimed)*Number(f),h=!v||!(null!=v&&v.bct)||!(null!=v&&v.pklima);(0,eg.useEffect)(function(){a&&r&&s(ib({onStatus:c,provider:r,address:a}))},[a]);var x=function(e){return(0,G.Z)(X().mark(function t(){var n,a;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,n=u.toString(),t.next=6,ti({value:n,provider:r,token:e,spender:"pklima_exercise",onStatus:c});case 6:a=t.sent,s((0,el.Zb)({token:e,spender:"pklima_exercise",value:a})),t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return");case 13:case"end":return t.stop()}},t,null,[[2,10]])}))},y=(n=(0,G.Z)(X().mark(function e(){var t,n;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=u.toString(),m(""),e.next=7,ig({value:t,provider:r,onStatus:c});case 7:n=e.sent,s((0,el.fE)(n)),s((0,el.LZ)({token:"bct",spender:"pklima_exercise",value:n})),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return");case 15:case"end":return e.stop()}},e,null,[[2,12]])})),function(){return n.apply(this,arguments)}),j=function(e){return"pklima"===e?!!v&&!!Number(v.pklima):!!v&&!!Number(v.bct)};return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(rt,{assets:["pklima","bct"],tooltip:(0,H.jsx)(eM.cC,{id:"pklima.balances_card.make_sure_to_stake"})}),(0,H.jsxs)("div",{className:nC,style:{minHeight:"48rem"},children:[(0,H.jsxs)("div",{className:n_,children:[(0,H.jsxs)(N.xv,{t:"h4",className:nO,children:[(0,H.jsx)(e8.Z,{}),(0,H.jsx)(eM.cC,{id:"pklima.redeem_pklima"})]}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"pklima.exercise_1_pklima_and_1_bct_to_receive_1_klima"})})]}),(0,H.jsxs)("div",{className:nN,children:[(0,H.jsxs)("div",{className:nS,children:[(0,H.jsxs)("div",{className:nM,children:[(0,H.jsx)("input",{className:nZ,value:u,onChange:function(e){m(e.target.value),c(null)},type:"number",placeholder:W.ag._({id:"pklima.klima_to_exercise"}),min:"0"}),(0,H.jsx)("button",{className:nE,type:"button",onClick:function(){var e;c(null),m(null!==(e=null==b?void 0:b.redeemable)&&void 0!==e?e:"0")},children:(0,H.jsx)(eM.cC,{id:"shared.max"})})]}),e.address&&(0,H.jsx)("div",{className:nB,children:(0,T.G2)(e.address)}),(0,H.jsx)("div",{className:"hr"})]}),(0,H.jsxs)("div",{className:nL,children:[(0,H.jsxs)("div",{className:nU,children:[(0,H.jsx)(eM.cC,{id:"pklima.supply_limit"}),(0,H.jsx)(N.OG,{content:(0,H.jsx)(eM.cC,{id:"pklima.supply_limit.tooltip"}),children:(0,H.jsx)(eY.Z,{})})]}),(0,H.jsxs)("div",{className:nU,children:[(0,H.jsx)(eM.cC,{id:"pklima.redeemed"}),(0,H.jsx)(N.OG,{content:(0,H.jsx)(eM.cC,{id:"pklima.redeemed.tooltip"}),children:(0,H.jsx)(eY.Z,{})})]}),(0,H.jsxs)("div",{className:nU,children:[(0,H.jsx)(eM.cC,{id:"pklima.index_adjusted"}),(0,H.jsx)(N.OG,{content:(0,H.jsx)(eM.cC,{id:"pklima.index_adjusted.tooltip"}),children:(0,H.jsx)(eY.Z,{})})]}),(0,H.jsx)("div",{className:nI,children:null!=b&&b.supplyShare?(0,T.eC)(null==b?void 0:b.supplyShare,2,p)+"%":"loading..."}),(0,H.jsx)("div",{className:nI,children:null!=b&&b.claimed?(0,T.eC)(null==b?void 0:b.claimed,4,p)+" KLIMA":"loading..."}),(0,H.jsx)("div",{className:nI,children:g?(0,T.eC)(g,4,p)+" KLIMA":"loading..."})]}),(0,H.jsx)("div",{className:nD,children:i&&("userConfirmation"===l||"networkConfirmation"===l||h)?(0,H.jsx)("div",{className:nR,children:(0,H.jsx)(N.$j,{})}):(0,H.jsx)(N.DF,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ih(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:nF},(t=Number(u||"0"),i&&a?h?{label:W.ag._({id:"shared.loading"}),disabled:!0}:"userConfirmation"===l||"networkConfirmation"===l?{label:W.ag._({id:"shared.confirming"}),disabled:!0}:j("pklima")?j("bct")?{onClick:y,label:W.ag._({id:"pklima.exercise"}),disabled:!t||!(null!=b&&b.redeemable)||t>Number(b.redeemable)}:{onClick:x("bct"),label:W.ag._({id:"pklima.approve_bct"})}:{label:W.ag._({id:"pklima.approve_pklima"}),onClick:x("pklima")}:{label:W.ag._({id:"shared.login_connect"}),onClick:e.toggleModal})))})]})]})]})},iy=n(15838);function ij(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ik=["bct","nct","ubo","nbo"],iA=[].concat(ik,["klima","usdc"]),iw={ubo:["bct","nct","ubo","nbo"],nbo:["bct","nct","ubo","nbo"],bct:["bct","nct","ubo","nbo"],nct:["bct","nct","ubo","nbo"],usdc:["bct","nct","ubo","nbo"],klima:["bct","nct","ubo","nbo"]},iC=["quantity","pool","projectTokenAddress","paymentMethod"],i_=function(e,t){return t.includes(e)},iN=function(e){var t={};return iC.forEach(function(n){if("pool"===n){var r,a=(null===(r=e.get("pool"))||void 0===r?void 0:r.toLowerCase())||void 0;t[n]=a&&i_(a,ik)?a:void 0}else if("paymentMethod"===n){var i,s=(null===(i=e.get("paymentMethod"))||void 0===i?void 0:i.toLowerCase())||void 0;t[n]=s&&i_(s,iA)?s:void 0}else if("projectTokenAddress"===n){var o,l=(null===(o=e.get("projectTokenAddress"))||void 0===o?void 0:o.toLowerCase())||void 0;t[n]=l&&rG.isAddress(l)?l:void 0}else if("quantity"===n){var c=e.get(n);t[n]=c&&Number(c)?c:void 0}}),t},iO=function(){var e=(0,e3.lr)(),t=(0,$.Z)(e,2),n=t[0],r=t[1],a=(0,eg.useState)(iN(n))[0];return(0,eg.useEffect)(function(){var e,t=Object.fromEntries(n.entries()),a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ij(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ij(e,t)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}(iC);try{for(a.s();!(e=a.n()).done;){var i=e.value;delete t[i]}}catch(e){a.e(e)}finally{a.f()}r(t)},[]),a};function iS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iS(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var iT=function(e){var t;return t=(0,G.Z)(X().mark(function t(n){var r,a;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=iA.reduce(function(t,n){var r=(0,T.uN)({contractName:n,provider:es()});return t.push((0,T.RC)({contract:r,address:e.address,spender:"retirementAggregatorV2",token:n})),t},[]),t.next=4,Promise.all(r);case 4:a=t.sent.reduce(function(e,t){var n=(0,$.Z)(Object.entries(t)[0],2),r=n[0],a=n[1];return e[r]=iP(iP({},e[r]),a),e},{}),n((0,el.GI)(a)),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),console.error("Error in getRetirementAllowances: ",t.t0),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])})),function(e){return t.apply(this,arguments)}},iM=(A=(0,G.Z)(X().mark(function e(t){var n,r,a;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,T.uN)({contractName:"retirementAggregatorV2",provider:t.provider.getSigner()}),r="nct"===t.pool||"bct"===t.pool?"toucanRedeemExactCarbonPoolSpecific":"c3RedeemPoolSpecific",t.onStatus("userConfirmation"),e.next=6,n[r](O.UB.mainnet[t.paymentMethod],O.UB.mainnet[t.pool],ee.parseUnits(t.maxCost,(0,T.Ls)(t.paymentMethod)),[t.projectTokenAddress],[ee.parseUnits(t.quantity,18)],0,0);case 6:return a=e.sent,t.onStatus("networkConfirmation"),e.next=10,a.wait(1);case 10:t.onStatus("done"),e.next=21;break;case 13:if(e.prev=13,e.t0=e.catch(0),4001!==e.t0.code){e.next=18;break}throw t.onStatus("error","userRejected"),e.t0;case 18:throw t.onStatus("error"),console.error(e.t0),e.t0;case 21:case"end":return e.stop()}},e,null,[[0,13]])})),function(e){return A.apply(this,arguments)}),iZ=(w=(0,G.Z)(X().mark(function e(t){var n,r,a,i,s;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,T.uN)({contractName:"retirementAggregatorV2",provider:es()}),e.next=3,n.getSourceAmountSpecificRedeem(O.UB.mainnet[t.paymentMethod],O.UB.mainnet[t.pool],[ee.parseUnits(t.quantity,18)]);case 3:return r=e.sent,a=(0,T.Ls)(t.paymentMethod),i=(0,iy.formatUnits)(r,a),s=(0,T.oO)(i,(.005*Number(i)).toFixed(a)),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return w.apply(this,arguments)}),iE=(0,ey.iv)("display:grid;gap:2.4rem;grid-column:1/3;align-content:start;",ej.ZP.desktop,"{grid-column:2/3;}",""),iL=(0,ey.iv)("display:grid;background-color:var(--surface-02);align-content:start;border-radius:1.2rem;padding:1.6rem;gap:2.4rem;grid-column:1/3;",ej.ZP.desktop,"{grid-column:cardsleft;grid-row:2/auto;gap:4.8rem;align-items:start;}",ej.ZP.desktopLarge,"{padding:3.2rem;}",""),iB=(0,ey.iv)({name:"15ko70o",styles:"display:grid;gap:0.8rem;max-width:38rem"}),iU=(0,ey.iv)("display:grid;gap:2.4rem;",ej.ZP.medium,"{border:2px solid var(--surface-03);padding:2.4rem;border-radius:1.2rem;}",ej.ZP.desktop,"{justify-self:center;max-width:48rem;width:100%;}.mini_token_label{color:var(--font-01);display:flex;align-items:center;gap:0.4rem;}",""),iI=(0,ey.iv)({name:"prf8xg",styles:"display:flex;align-items:center;gap:0.8rem"}),iD=(0,ey.iv)({name:"zl1inp",styles:"display:flex;justify-content:center"}),iR=(0,ey.iv)({name:"10t2zt5",styles:"padding:0 0.8rem;display:flex;align-items:center;min-height:4.8rem"}),iF=(0,ey.iv)({name:"1d3w5wq",styles:"width:100%"}),iz=(0,ey.iv)({name:"1qhgrl2",styles:'display:flex;flex-direction:column;gap:0.8rem;input{width:100%;background-color:var(--surface-02);border-radius:0.8rem;border:0.2rem solid var(--surface-03);padding-inline-start:0.8rem;min-height:4.8rem;color:var(--font-01);}label{display:flex;gap:0.8rem;color:white;align-items:center;}.number_input_container{min-height:4.8rem;display:grid;grid-template-columns:1fr min-content;z-index:1;input[data-error="true"]{border:0.175rem solid var(--warn);}}input[data-error="true"]{border:0.175rem solid var(--warn);}.invalid_project_tonnage{font-size:1.4rem;color:var(--warn);}'});function iq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iq(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var iV=function(e){var t,n,r,a,i=(0,ex.T)(),s=(0,M.v9)(K),o=(0,M.v9)(E),l=r0(function(e){return D(e,{tokens:iA,spender:"retirementAggregatorV2"})}),c=iO(),d=(0,eg.useState)(c.quantity||""),u=d[0],m=d[1],p=(0,eg.useState)(c.pool||"bct"),f=p[0],v=p[1],b=(0,eg.useState)(c.projectTokenAddress||""),g=b[0],h=b[1],x=(0,eg.useState)(c.paymentMethod||"usdc"),y=x[0],j=x[1],k=(0,eg.useState)(c.quantity||""),A=k[0],w=k[1],C=(0,eg.useRef)(),_=(0,eg.useState)(""),S=_[0],P=_[1],T=(0,eg.useState)(null),Z=T[0],L=T[1],B=(0,eg.useState)(!1),U=B[0],I=B[1],R=(0,eg.useState)(!1),F=R[0],z=R[1],V=(0,eg.useState)(!1),J=V[0],Q=V[1],Y=e.isConnected&&!(null!=l&&l.bct),$=function(e,t){if(!e)return i((0,et.Np)({notificationStatus:null}));i((0,et.Np)({notificationStatus:{statusType:e,message:t}}))};(0,eg.useEffect)(function(){e.isConnected&&e.address&&e.provider&&(i(iT({address:e.address,onRPCError:e.onRPCError})),i(rA({address:e.address})))},[e.isConnected,e.address,e.provider]),(0,eg.useEffect)(function(){var e;if(""===A||!Number(A)){P("0");return}(e=(0,G.Z)(X().mark(function e(){return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iZ({paymentMethod:y,pool:f,quantity:A});case 2:P(e.sent);case 4:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[A,f,y]);var ee=function(){m("0"),w("0"),P("0")},en=(t=(0,G.Z)(X().mark(function t(){var n;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.provider){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,ti({value:S,provider:e.provider,token:y,spender:"retirementAggregatorV2",onStatus:$});case 5:n=t.sent,i((0,el.Zb)({token:y,spender:"retirementAggregatorV2",value:n})),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return");case 12:case"end":return t.stop()}},t,null,[[0,9]])})),function(){return t.apply(this,arguments)}),er=(n=(0,G.Z)(X().mark(function t(){return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(!e.address||!e.provider)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,iM({provider:e.provider,onStatus:$,paymentMethod:y,pool:f,projectTokenAddress:g,quantity:u,maxCost:S});case 5:i((0,el.$O)({projectTokenAddress:g,paymentMethod:y,quantity:u,tempSymbol:"bct"===f||"nct"===f?"TCO2":"C3T",cost:S})),ee(),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 13:case"end":return t.stop()}},t,null,[[0,9]])})),function(){return n.apply(this,arguments)}),ea=function(){var e;return Number(S)>Number(null!==(e=null==o?void 0:o[y])&&void 0!==e?e:"0")},ei=Z?Z["balance".concat(f.toUpperCase())]:"0",es=Z&&Number(A)>Number(ei),eo=function(){return!!(null!=l&&l[y])&&!!Number(null==l?void 0:l[y])&&Number(S)<=Number(null==l?void 0:l[y])},ec=function(e){j(e)},ed=(0,M.v9)(q),eu=null==ed?void 0:ed.statusType,em=e.isConnected&&("userConfirmation"===eu||"networkConfirmation"===eu),ep=iA.map(function(t){return iK(iK({},nw[t]),{},{description:Y?(0,H.jsx)(eM.cC,{id:"shared.loading"}):e.isConnected&&Number(null==o?void 0:o[t])?Number(null==o?void 0:o[t]).toFixed(2):"0",disabled:!(null!=o&&o[t])||!Number(o[t])})}).sort(function(e,t){var n,r;return Number(null!==(n=t.description)&&void 0!==n?n:0)-Number(null!==(r=e.description)&&void 0!==r?r:0)}),ef=ik.map(function(e){var t,n=!(null!==(t=iw[y])&&void 0!==t&&t.includes(e));return iK(iK({},nw[e]),{},{disabled:n,description:n?(0,H.jsx)(eM.cC,{id:"offset.incompatible"}):""})});return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:iE,children:(0,H.jsx)(rZ,{isConnected:e.isConnected})}),(0,H.jsxs)("div",{className:iL,children:[(0,H.jsxs)("div",{className:iB,children:[(0,H.jsxs)(N.xv,{t:"h4",className:iI,children:[(0,H.jsx)(e8.Z,{}),(0,H.jsx)(eM.cC,{id:"Buy & Redeem Carbon"})]}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"redeem.description"})})]}),(0,H.jsxs)("div",{className:iU,children:[(0,H.jsx)(rq,{label:W.ag._("Select carbon pool"),modalTitle:W.ag._("Select carbon pool"),currentItem:f,items:ef,isModalOpen:U,onToggleModal:function(){return I(function(e){return!e})},onItemSelect:function(e){v(e)}}),(0,H.jsx)(a7,{projectAddress:g,selectedRetirementToken:f,setProjectAddress:h,selectedProject:Z,setSelectedProject:L,disableDefault:!0}),rG.isAddress(g)&&!Z&&(0,H.jsx)(r3,{address:g,pool:f}),(0,H.jsxs)("div",{className:iz,children:[(0,H.jsx)("label",{children:(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"How many tonnes would you like to acquire?"})})}),(0,H.jsx)("div",{className:"number_input_container",children:(0,H.jsx)("input",{type:"number",min:"0.0001",value:u,onKeyDown:function(e){["e","E","+","-"].includes(e.key)&&e.preventDefault()},"data-error":es||ea(),onChange:function(e){if(C.current&&clearTimeout(C.current),Number(e.target.value)>0&&1e-4>Number(e.target.value)?m("0.0001"):m(e.target.value),""===e.target.value){w(""),P("");return}P("loading");var t=setTimeout(function(){w(e.target.value),C.current=void 0},500);C.current=t},placeholder:W.ag._("Enter quantity")})}),es&&(0,H.jsx)(N.xv,{t:"caption",color:"lightest",className:"invalid_project_tonnage",children:(0,H.jsx)(eM.cC,{id:"offset.invalid_project_tonnage"})})]}),(0,H.jsx)(rJ,{label:(0,H.jsxs)("div",{className:"mini_token_label",children:[(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"offset_cost"})}),(0,H.jsx)(N.OG,{content:(0,H.jsx)(eM.cC,{id:"This cost includes slippage and any redemption fees charged by the pool"}),children:(0,H.jsx)(eY.Z,{})})]}),amount:null===(r=Number(S))||void 0===r?void 0:r.toLocaleString(s),icon:nw[y].icon,name:y,loading:"loading"===S,warn:ea()}),(0,H.jsx)(rJ,{label:(0,H.jsx)(N.xv,{t:"caption",color:"lighter",children:(0,H.jsx)(eM.cC,{id:"You receive"})}),warn:ea(),amount:null===(a=Number(u))||void 0===a?void 0:a.toLocaleString(s),icon:"ubo"===f||"nbo"===f?rN:rO,name:(null==Z?void 0:Z.projectID)||"???",labelAlignment:"start"}),(0,H.jsx)(rq,{label:W.ag._("Payment method"),modalTitle:W.ag._("Payment Method"),currentItem:y,items:ep,isModalOpen:F,onToggleModal:function(){return z(function(e){return!e})},onItemSelect:function(e){return ec(e)}}),(0,H.jsx)("div",{className:iD,children:em?(0,H.jsx)("div",{className:iR,children:(0,H.jsx)(N.$j,{})}):(0,H.jsx)(N.DF,iK({className:iF},function(){if(!e.isConnected)return{label:W.ag._({id:"shared.login_connect"}),onClick:e.toggleModal};if(Y||"loading"===S)return{label:W.ag._("Loading..."),disabled:!0};if(!u||!Number(u))return{label:W.ag._({id:"shared.enter_quantity"}),disabled:!0};if(es)return{label:W.ag._({id:"offset.insufficient_project_tonnage"}),disabled:!0};if(!g||!rG.isAddress(g))return{label:W.ag._({id:"shared.invalid_project_address"}),disabled:!0};if(ea())return{label:W.ag._({id:"shared.insufficient_balance"}),disabled:!0};if(!eo())return{label:W.ag._({id:"shared.approve"}),onClick:function(){return Q(!0)}};return{label:W.ag._("Continue"),onClick:function(){return Q(!0)}}}()))})]})]}),J&&(0,H.jsx)(nb,{title:(0,H.jsxs)(N.xv,{t:"h4",className:iI,children:[(0,H.jsx)(e1.Z,{}),(0,H.jsx)(eM.cC,{id:"Buy Carbon"})]}),onCloseModal:function(){$(null),Q(!1)},tokenName:y,tokenIcon:nw[y].icon,spenderAddress:O.UB.mainnet.retirementAggregatorV2,value:S,approvalValue:S,status:ed,onResetStatus:function(){return $(null)},onApproval:en,hasApproval:eo(),onSubmit:er})]})},iH=n(76830),iJ=(C=(0,G.Z)(X().mark(function e(t){var n,r,a;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=ee.parseUnits(t.value,"gwei"),r=({stake:(0,T.uN)({contractName:"staking_helper",provider:t.provider.getSigner()}),unstake:(0,T.uN)({contractName:"staking",provider:t.provider.getSigner()})})[t.action],t.onStatus("userConfirmation",""),"stake"!==t.action){e.next=10;break}return e.next=7,r.stake(n);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,r.unstake(n,!0);case 12:e.t0=e.sent;case 13:return a=e.t0,t.onStatus("networkConfirmation",""),e.next=17,a.wait(1);case 17:return t.onStatus("done","Transaction confirmed"),e.abrupt("return",(0,T.bM)(n,9));case 21:if(e.prev=21,e.t1=e.catch(0),4001!==e.t1.code){e.next=26;break}throw t.onStatus("error","userRejected"),e.t1;case 26:throw t.onStatus("error"),e.t1;case 28:case"end":return e.stop()}},e,null,[[0,21]])})),function(e){return C.apply(this,arguments)}),iG=n(63157),iQ=(0,ey.iv)(eZ,";grid-column:1/3;align-content:start;grid-template-rows:min-content 1fr;gap:0.8rem;.header{display:flex;justify-content:space-between;}.header .title{display:flex;align-items:center;gap:0.8rem;}.cardContent{display:grid;align-content:space-around;gap:1.6rem;}.stack{display:grid;gap:0.4rem;overflow:hidden;}.value{",ek,";}.label{",eA,";}p{overflow:hidden;text-overflow:ellipsis;}",ej.ZP.desktop,"{grid-column:2/3;.value{",eA,";}.label{",ew,";}}",ej.ZP.desktopLarge,"{.value{",ek,";}.label{",eA,";}}",""),iX=function(e){var t,n=(0,M.v9)(E),r=(0,M.v9)(K),a=(0,M.v9)(B),i=a.stakingRebase,s=a.currentBlock,o=a.rebaseBlock,l=a.blockRate,c=i&&(null==n?void 0:n.sklima)&&i*Number(n.sklima);return(0,H.jsxs)("div",{className:iQ,children:[(0,H.jsxs)("div",{className:"header",children:[(0,H.jsxs)(N.xv,{t:"h4",className:"title",children:[(0,H.jsx)(iG.Z,{}),(0,H.jsx)(eM.cC,{id:"stake.rebase"})]}),(0,H.jsx)(n7,{content:(0,H.jsx)(eM.cC,{id:"stake.rebase.info"})})]}),(0,H.jsxs)("div",{className:"cardContent",children:[(0,H.jsxs)("div",{className:"stack",children:[(0,H.jsx)(N.xv,{className:"value",children:null!==(t=function(){if(s&&o){var e=(0,T.MM)(s,o,l),t=new Intl.RelativeTimeFormat(r);return e<3600?t.format(Math.floor(e/60),"minutes"):t.format(Number((e/3600).toPrecision(2)),"hours")}}())&&void 0!==t?t:(0,H.jsx)(eM.cC,{id:"shared.loading"})}),(0,H.jsx)(N.xv,{className:"label",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"stake.next_rebase"})})]}),(0,H.jsxs)("div",{className:"stack",children:[(0,H.jsx)(N.xv,{className:"value",children:i?"".concat((0,T.eC)(i?100*i:0,2,r),"%"):(0,H.jsx)(eM.cC,{id:"shared.loading"})}),(0,H.jsx)(N.xv,{className:"label",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"stake.percent_payout"})})]}),e.isConnected&&(0,H.jsxs)("div",{className:"stack",children:[(0,H.jsx)(N.xv,{className:"value",children:(0,T.eC)(c,6,r)}),(0,H.jsx)(N.xv,{className:"label",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"stake.estimated_payout"})})]})]})]})};function iW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var iY={stake:{id:"stake.inputplaceholder.stake"},unstake:{id:"stake.inputplaceholder.unstake"}},i$=function(e){var t,n,r=(0,M.v9)(K),a=(0,ex.T)(),i=(0,eg.useState)("stake"),s=i[0],o=i[1],l=(0,eg.useState)(""),c=l[0],d=l[1],u=(0,eg.useState)(!1),m=u[0],p=u[1],f=(0,M.v9)(q),v=f&&f.statusType,b=function(e,t){if(!e)return a((0,et.Np)({notificationStatus:null}));a((0,et.Np)({notificationStatus:{statusType:e,message:t}}))},g=(0,M.v9)(B),h=g.fiveDayRate,x=g.currentIndex,y=g.stakingAnnualPercent,j=r0(function(e){return D(e,{tokens:["klima"],spender:"staking_helper"})}),k=r0(function(e){return D(e,{tokens:["sklima"],spender:"staking"})}),A=(0,M.v9)(E),w=function(){return"stake"===s?"klima":"sklima"},C=function(){return"stake"===s?"staking_helper":"staking"},_=function(){return"stake"===s?null==j?void 0:j.klima:null==k?void 0:k.sklima},S=!_(),P=h&&100*h,Z=y&&100*y,L=(t=(0,G.Z)(X().mark(function t(){var n,r,i,s;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.provider){t.next=2;break}return t.abrupt("return");case 2:return n=w(),r=C(),t.prev=4,i=c.toString(),t.next=8,ti({value:i,provider:e.provider,token:n,spender:r,onStatus:b});case 8:s=t.sent,a((0,el.Zb)({token:n,spender:r,value:s})),t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(4),console.error("Error in handleApproval",t.t0),t.abrupt("return");case 16:case"end":return t.stop()}},t,null,[[4,12]])})),function(){return t.apply(this,arguments)}),U=(n=(0,G.Z)(X().mark(function t(){var n,r;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.provider){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,n=c.toString(),t.next=6,iJ({value:n,provider:e.provider,action:s,onStatus:b});case 6:r=t.sent,a("stake"===s?(0,el.vV)(r):(0,el.LH)(r)),a("stake"===s?(0,el.LZ)({token:"klima",spender:"staking_helper",value:r}):(0,el.LZ)({token:"sklima",spender:"staking",value:r})),d(""),t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(2),console.error("Error in handleStake",t.t0),t.abrupt("return");case 16:case"end":return t.stop()}},t,null,[[2,12]])})),function(){return n.apply(this,arguments)}),I=function(){var t,n=w();return e.isConnected&&!S&&Number(c)>Number(null!==(t=null==A?void 0:A[n])&&void 0!==t?t:"0")},R=function(){var e=_();return!!e&&!!Number(e)&&Number(c)<=Number(e)},F=e.isConnected&&("userConfirmation"===v||"networkConfirmation"===v||S);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(rt,{assets:["klima","sklima"],tooltip:(0,H.jsx)(eM.cC,{id:"stake.balancescard.tooltip"})}),(0,H.jsx)(iX,{isConnected:e.isConnected}),(0,H.jsxs)("div",{className:nC,children:[(0,H.jsxs)("div",{className:n_,children:[(0,H.jsxs)(N.xv,{t:"h4",className:nO,children:[(0,H.jsx)(e$.Z,{}),(0,H.jsx)(eM.cC,{id:"stake.stake_klima"})]}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"stake.stake_hold_earn"})}),(0,H.jsxs)(N.xv,{t:"caption",color:"lightest",children:[(0,H.jsx)(iH.Z,{className:"new-releases-icon"}),(0,H.jsx)(eM.cC,{id:"stake.lifi",components:{0:(0,H.jsx)(N.ee,{href:O.jk.lifiStake})}})]})]}),(0,H.jsxs)("div",{className:nN,children:[(0,H.jsxs)("div",{className:nS,children:[(0,H.jsxs)("div",{className:nP,children:[(0,H.jsx)("button",{className:nT,type:"button",onClick:function(){d(""),b(null),o("stake")},"data-active":"stake"===s,children:(0,H.jsx)(eM.cC,{id:"stake.stake"})}),(0,H.jsx)("button",{className:nT,type:"button",onClick:function(){d(""),b(null),o("unstake")},"data-active":"unstake"===s,children:(0,H.jsx)(eM.cC,{id:"stake.unstake"})})]}),(0,H.jsxs)("div",{className:nM,children:[(0,H.jsx)(eM.cC,{id:iY[s].id,render:function(e){var t=e.translation;return(0,H.jsx)("input",{className:nZ,value:c,onChange:function(e){d(e.target.value),b(null)},type:"number",placeholder:t,min:"0"})}}),(0,H.jsx)("button",{className:nE,type:"button",onClick:function(){var e,t;b(null),"stake"===s?d(null!==(e=null==A?void 0:A.klima)&&void 0!==e?e:"0"):d(null!==(t=null==A?void 0:A.sklima)&&void 0!==t?t:"0")},children:(0,H.jsx)(eM.cC,{id:"shared.max"})})]}),e.address&&(0,H.jsx)("div",{className:nB,children:(0,T.G2)(e.address)}),(0,H.jsx)("div",{className:"hr"})]}),(0,H.jsxs)("div",{className:nL,children:[(0,H.jsxs)("div",{className:nU,children:[(0,H.jsx)(eM.cC,{id:"stake.5_day_rewards"}),(0,H.jsx)(N.OG,{content:(0,H.jsx)(eM.cC,{id:"stake.5_day_rewards.tooltip"}),children:(0,H.jsx)(eY.Z,{})})]}),(0,H.jsxs)("div",{className:nU,children:[(0,H.jsx)(eM.cC,{id:"stake.akr"}),(0,H.jsx)(N.OG,{content:(0,H.jsx)(eM.cC,{id:"stake.akr.tooltip"}),children:(0,H.jsx)(eY.Z,{})})]}),(0,H.jsxs)("div",{className:nU,children:[(0,H.jsx)(eM.cC,{id:"stake.index"}),(0,H.jsx)(N.OG,{content:(0,H.jsx)(eM.cC,{id:"stake.index.tooltip"}),children:(0,H.jsx)(eY.Z,{})})]}),(0,H.jsx)("div",{className:nI,children:P?(0,T.eC)(P,2,r)+"%":(0,H.jsx)(eM.cC,{id:"shared.loading"})}),(0,H.jsx)("div",{className:nI,children:Z?(0,T.eC)(Z,0,r)+"%":(0,H.jsx)(eM.cC,{id:"shared.loading"})}),(0,H.jsx)("div",{className:nI,children:x?(0,T.eC)(x,2,r)+" sKLIMA":(0,H.jsx)(eM.cC,{id:"shared.loading"})})]}),(0,H.jsx)("div",{className:nD,children:F?(0,H.jsx)("div",{className:nR,children:(0,H.jsx)(N.$j,{})}):(0,H.jsx)(N.DF,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iW(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:nF},function(){var t=Number(c||"0");if(!e.isConnected||!e.address)return{label:W.ag._({id:"shared.login_connect"}),onClick:e.toggleModal};if(S)return{label:W.ag._({id:"shared.connect_wallet"}),disabled:!0};if(!t)return{label:W.ag._({id:"shared.enter_quantity"}),disabled:!0};if(t&&I())return{label:W.ag._({id:"shared.insufficient_balance"}),disabled:!0};if(!R())return{label:W.ag._({id:"shared.approve"}),onClick:function(){return p(!0)}};if("stake"===s)return{label:t?W.ag._({id:"stake.stake_klima"}):W.ag._({id:"shared.enter_amount"}),onClick:function(){return p(!0)},disabled:!(null!=A&&A.klima)||!t||t>Number(A.klima)};if("unstake"===s)return{label:t?W.ag._({id:"stake.unstake_klima"}):W.ag._({id:"shared.enter_amount"}),onClick:function(){return p(!0)},disabled:!(null!=A&&A.sklima)||!t||t>Number(A.sklima)};else return{label:W.ag._({id:"shared.error"}),disabled:!0}}()))})]})]}),m&&(0,H.jsx)(nb,{title:(0,H.jsxs)(N.xv,{t:"h4",className:nO,children:[(0,H.jsx)(e$.Z,{}),"stake"===s?(0,H.jsx)(eM.cC,{id:"stake.stake_klima"}):(0,H.jsx)(eM.cC,{id:"stake.unstake_klima"})]}),onCloseModal:function(){b(null),p(!1)},tokenName:w(),tokenIcon:nw[w()].icon,spenderAddress:O.UB.mainnet[C()],value:c.toString(),status:f,onResetStatus:function(){return b(null)},onApproval:L,hasApproval:R(),onSubmit:U}),(0,H.jsx)(tY,{})]})},i0=(_=(0,G.Z)(X().mark(function e(t){var n,r,a;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,T.uN)({contractName:"wsklima",provider:t.provider.getSigner()}),t.onStatus("userConfirmation",""),r=(0,T.Ls)(t.token),e.next=6,n[t.action](ee.parseUnits(t.value,r));case 6:return a=e.sent,t.onStatus("networkConfirmation",""),e.next=10,a.wait(1);case 10:t.onStatus("done","Transaction was successful"),e.next=20;break;case 13:if(e.prev=13,e.t0=e.catch(0),4001!==e.t0.code){e.next=18;break}throw t.onStatus("error","userRejected"),e.t0;case 18:throw t.onStatus("error"),e.t0;case 20:case"end":return e.stop()}},e,null,[[0,13]])})),function(e){return _.apply(this,arguments)});function i1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var i2={wrap:{id:"wrap.sklima_to_wrap"},unwrap:{id:"wrap.wsklima_to_unwrap"}},i8="wrap",i4="unwrap",i3="wsklima",i6=function(e){var t,n,r,a,i,s=(0,M.v9)(K),o=(0,ex.T)(),l=(0,M.v9)(q),c=l&&l.statusType,d=function(e,t){if(!e)return o((0,et.Np)({notificationStatus:null}));o((0,et.Np)({notificationStatus:{statusType:e,message:t}}))},u=(0,eg.useState)(i8),m=u[0],p=u[1],f=(0,eg.useState)(""),v=f[0],b=f[1],g=(0,eg.useState)(!1),h=g[0],x=g[1],y=(0,M.v9)(B).currentIndex,j=(0,M.v9)(E),k=r0(function(e){return D(e,{tokens:["sklima"],spender:i3})}),A=!j||void 0===j.klima,w=e.isConnected&&("userConfirmation"===c||"networkConfirmation"===c||A),C=function(){return m===i8?"sklima":"wsklima"},_=(t=(0,G.Z)(X().mark(function t(){var n,r,a,i;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.provider){t.next=2;break}return t.abrupt("return");case 2:return n="sklima",r=i3,t.prev=4,a=v.toString(),t.next=8,ti({value:a,provider:e.provider,token:n,spender:r,onStatus:d});case 8:i=t.sent,o((0,el.Zb)({token:n,spender:r,value:i})),t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(4),t.abrupt("return");case 15:case"end":return t.stop()}},t,null,[[4,12]])})),function(){return t.apply(this,arguments)}),S=(n=(0,G.Z)(X().mark(function t(){return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(!v||!y||!e.provider)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,i0({action:m,token:C(),provider:e.provider,value:v,onStatus:d});case 5:m===i8?(o((0,el.Z5)({sklima:v,currentIndex:y})),o((0,el.LZ)({token:"sklima",spender:i3,value:v}))):o((0,el.gn)({wsklima:v,currentIndex:y})),b(""),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 13:case"end":return t.stop()}},t,null,[[0,9]])})),function(){return n.apply(this,arguments)}),P=function(){return m===i4||!!k&&!!Number(k.sklima)&&Number(v)<=Number(k.sklima)},Z=function(){var t,n=C();return e.isConnected&&!A&&Number(v)>Number(null!==(t=null==j?void 0:j[n])&&void 0!==t?t:"0")};return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(rt,{assets:["sklima","wsklima","wsklimaUnwrapped"],tooltip:(0,H.jsx)(eM.cC,{id:"wrap.balances_tooltip"})}),(0,H.jsxs)("div",{className:nC,style:{minHeight:"74rem"},children:[(0,H.jsxs)("div",{className:n_,children:[(0,H.jsxs)(N.xv,{t:"h4",className:nO,children:[(0,H.jsx)(eW.Z,{}),(0,H.jsx)(eM.cC,{id:"wrap.wrap_sklima"})]}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"wrap.wrap_sklima.wrap_sklima_to_receive_sklima"})}),(0,H.jsx)(N.xv,{t:"caption",color:"lightest",children:(0,H.jsx)(eM.cC,{id:"wrap.wrap_sklima.some_find_this_useful"})})]}),(0,H.jsxs)("div",{className:nN,children:[(0,H.jsxs)("div",{className:nS,children:[(0,H.jsxs)("div",{className:nP,children:[(0,H.jsx)("button",{className:nT,type:"button",onClick:function(){b(""),p(i8)},"data-active":m===i8,children:(0,H.jsx)(eM.cC,{id:"wrap.wrap"})}),(0,H.jsx)("button",{className:nT,type:"button",onClick:function(){b(""),p(i4)},"data-active":m===i4,children:(0,H.jsx)(eM.cC,{id:"wrap.unwrap"})})]}),(0,H.jsxs)("div",{className:nM,children:[(0,H.jsx)(eM.cC,{id:i2[m].id,render:function(e){var t=e.translation;return(0,H.jsx)("input",{className:nZ,value:v,onChange:function(e){return b(e.target.value)},type:"number",placeholder:t,min:"0"})}}),(0,H.jsx)("button",{className:nE,type:"button",onClick:function(){var e,t;d(null),m===i8?b(null!==(e=null==j?void 0:j.sklima)&&void 0!==e?e:"0"):b(null!==(t=null==j?void 0:j.wsklima)&&void 0!==t?t:"0")},children:(0,H.jsx)(eM.cC,{id:"shared.max"})})]}),e.address&&(0,H.jsx)("div",{className:nB,children:(0,T.G2)(e.address)}),(0,H.jsx)("div",{className:"hr"})]}),(0,H.jsxs)("div",{className:nL,children:[(0,H.jsxs)("div",{className:nU,children:[(0,H.jsx)(eM.cC,{id:"wrap.index"}),(0,H.jsx)(N.OG,{content:(0,H.jsx)(eM.cC,{id:"wrap.index.tooltip"}),children:(0,H.jsx)(eY.Z,{})})]}),(0,H.jsx)("div",{className:nU,children:(0,H.jsx)(eM.cC,{id:"wrap.balance"})}),(0,H.jsx)("div",{className:nU,children:(0,H.jsx)(eM.cC,{id:"wrap.you_will_get"})}),(0,H.jsx)("div",{className:nI,children:y?(0,T.eC)(y,2,s):"loading..."}),(0,H.jsx)("div",{className:nI,children:m===i8?(0,T.eC)(null!==(a=null==j?void 0:j.sklima)&&void 0!==a?a:0,6,s)+" sKLIMA":(0,T.eC)(null!==(i=null==j?void 0:j.wsklima)&&void 0!==i?i:0,6,s)+" wsKLIMA"}),(0,H.jsx)("div",{className:nI,children:(r=m===i8?"wsKLIMA":"sKLIMA",v&&y?m===i8?"".concat(Number(v)/Number(y)," ").concat(r):"".concat(Number(v)*Number(y)," ").concat(r):"0 ".concat(r))})]}),(0,H.jsx)("div",{className:nD,children:w?(0,H.jsx)("div",{className:nR,children:(0,H.jsx)(N.$j,{})}):(0,H.jsx)(N.DF,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i1(Object(n),!0).forEach(function(t){(0,en.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:nF},function(){var t=Number(v||"0");if(!e.isConnected||!e.address)return{label:W.ag._({id:"shared.login_connect"}),onClick:e.toggleModal};if(A)return{label:W.ag._({id:"shared.loading"}),disabled:!0};if(!t)return{label:W.ag._({id:"shared.enter_quantity"}),disabled:!0};if("userConfirmation"===c||"networkConfirmation"===c)return{label:W.ag._({id:"shared.confirming"}),disabled:!0};if(t&&Z())return{label:W.ag._({id:"shared.insufficient_balance"}),disabled:!0};if(!P())return{label:W.ag._({id:"shared.approve"}),onClick:function(){return x(!0)}};if(m===i8)return{label:i8,disabled:!t||!j||t>Number(j.sklima),onClick:function(){return x(!0)}};else if(m===i4)return{label:i4,disabled:!t||!j||t>Number(j.wsklima),onClick:function(){return x(!0)}};else return{label:W.ag._({id:"shared.error"}),disabled:!0}}()))})]})]}),h&&(0,H.jsx)(nb,{title:(0,H.jsxs)(N.xv,{t:"h4",className:nO,children:[(0,H.jsx)(eW.Z,{}),"wrap"===m?"Wrap sKLIMA":"Unwrap sKLIMA"]}),onCloseModal:function(){d(null),x(!1)},tokenName:C(),tokenIcon:nw[C()].icon,spenderAddress:O.UB.mainnet[i3],value:v.toString(),status:l,onResetStatus:function(){return d(null)},onApproval:_,hasApproval:P(),onSubmit:S}),(0,H.jsx)(tY,{})]})},i5=function(){var e=(0,e3.lr)(),t=(0,$.Z)(e,2),n=t[0],r=t[1],a=(0,eg.useState)(""),i=a[0],s=a[1];return(0,eg.useEffect)(function(){var e=n.get("locale");s(!!e&&(0,eh.DP)(e)&&e||null),e&&(n.delete("locale"),r(n))},[]),i},i9=(0,ey.iv)('position:relative;z-index:0;overflow-x:hidden;overflow-y:auto;background-color:var(--surface-01);display:grid;align-content:flex-start;min-height:100vh;grid-template-rows:1fr;.MuiSvgIcon-root{font-size:2.4rem;width:2.4rem;height:2.4rem;}&[data-scroll-lock="true"]{overflow-y:hidden;max-height:100vh;}',ej.ZP.desktop,"{max-height:100vh;overflow-y:hidden;display:grid;grid-template-columns:[sidebar] 24.4rem [full-start] minmax(0px, 1fr) [full-end];}",ej.ZP.desktopLarge,"{max-height:100vh;overflow-y:hidden;display:grid;grid-template-columns:[sidebar] 28.4rem [full-start] minmax(0px, 1fr) [full-end];}*::-webkit-scrollbar{width:0.6rem;}*::-webkit-scrollbar-thumb{background-color:var(--dark-gray);outline:1px solid var(--dark-gray);border-radius:0.2rem;width:0.6rem;}scrollbar-color:var(--dark-gray);scrollbar-width:0.6rem;",""),i7=(0,ey.iv)("display:none;",ej.ZP.desktop,"{display:flex;}",""),se=(0,ey.iv)("display:grid;gap:1.6rem;padding:1.6rem;align-content:start;max-width:64rem;justify-self:center;width:100%;",ej.ZP.small,"{gap:2.4rem;padding:2.4rem;}",ej.ZP.medium,"{gap:2.4rem;padding:2.4rem;}",ej.ZP.desktop,"{overflow-y:auto;display:grid;grid-column:full;grid-template-columns:[cardsleft] minmax(38rem, auto) [cardsright] minmax(auto, 38rem);grid-template-rows:min-content 1fr 1fr 1fr;max-width:unset;}",""),st=(0,ey.iv)("display:flex;justify-content:flex-end;gap:1.6rem;grid-column:1/3;",ej.ZP.desktop,"{grid-column:cardsright;}",""),sn=(0,ey.iv)("background-color:var(--surface-02);min-height:4.8rem;min-width:4.8rem;display:flex;justify-content:center;align-items:center;border-radius:0.8rem;margin-right:auto;&:focus,&:hover{opcaity:0.7;}",ej.ZP.desktop,"{display:none;}",""),sr=(0,ey.iv)("z-index:2;visibility:hidden;position:absolute;top:0;right:0;left:0;bottom:0;background-color:#0e0e0e;opacity:0;transition:all 0.4s ease-out;",ej.ZP.desktop,'{display:none;}&[data-visible="true"]{visibility:visible;opacity:0.4;',ej.ZP.desktop,"{display:none;}}",""),sa=(0,ey.iv)("position:absolute;visibility:hidden;z-index:2;top:0;right:0;left:0;bottom:0;transition:all 0.4s ease-out;transform:translateX(-100%);max-width:24.4rem;",ej.ZP.desktop,'{display:none;}&[data-visible="true"]{visibility:visible;transform:translateX(0%);',ej.ZP.desktop,"{display:none;}}",""),si=function(){var e,t,n,r=(0,ex.T)(),a=(0,eg.useState)(),i=a[0],s=a[1],o=(0,eg.useState)(!1),l=o[0],c=o[1],d=(0,eg.useState)(!1),u=d[0],m=d[1],p=i5(),f=(0,eQ.TH)().pathname,v=(0,eg.useState)("skip"!==window.localStorage.getItem("checkURLBanner_app")),b=v[0],g=v[1],h=(0,M.v9)(B).locale,x=(0,T.$6)(),y=x.address,j=x.isConnected,k=x.initializing,A=x.disconnect,w=x.toggleModal,C=x.network,_=x.provider,S=x.renderModal;(0,eg.useEffect)(function(){void 0===h&&(0,eh.sY)(p).then(function(e){r((0,et.Np)({locale:e}))})},[p]),(0,eg.useEffect)(function(){"/"===f&&window.location.replace("/#/stake".concat(window.location.search))},[f]);var P=function(){c(!0)},Z=(e=(0,G.Z)(X().mark(function e(){return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:C&&i!==C.chainId&&s(C.chainId);case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),E=(t=(0,G.Z)(X().mark(function e(){return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return");case 2:try{r(ef({address:y,onRPCError:P}))}catch(e){console.error("LOAD USER INFO CAUGHT",e)}case 3:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),L=(n=(0,G.Z)(X().mark(function e(){return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r(eo({onRPCError:P}));case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,eg.useEffect)(function(){L()},[]),(0,eg.useEffect)(function(){_&&Z()},[_]),(0,eg.useEffect)(function(){j&&E()},[j]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:i9,"data-scroll-lock":u,children:[(0,H.jsx)("div",{className:i7,children:(0,H.jsx)(te,{address:y})}),(0,H.jsxs)("div",{className:se,children:[(0,H.jsxs)("div",{className:st,children:[(0,H.jsx)("button",{onClick:function(){return m(function(e){return!e})},className:sn,children:(0,H.jsx)(Y.Z,{})}),(0,H.jsx)("div",{className:sr,"data-visible":u,onClick:function(){return m(!1)}}),(0,H.jsx)("div",{className:sa,"data-visible":u,children:(0,H.jsx)(te,{address:y,onHide:function(){return m(!1)}})}),(0,H.jsx)(eT,{}),!y&&!j&&(0,H.jsx)(N.DF,{label:W.ag._({id:"shared.login_connect"}),onClick:w}),y&&j&&(0,H.jsx)(N.DF,{label:(0,T.G2)(y),onClick:A}),S({errors:(0,er.KB)(),torusText:W.ag._({id:"connectModal.torus"}),walletText:W.ag._({id:"connectModal.wallet"}),institutionalText:W.ag._({id:"connectModal.institutional"}),titles:{connect:W.ag._({id:"shared.login"}),loading:W.ag._({id:"connect_modal.connecting"}),error:W.ag._({id:"connect_modal.error_title"})}})]}),(0,H.jsxs)(eX,{children:[(0,H.jsx)(eQ.AW,{path:"/buy",element:(0,H.jsx)(rs,{address:y,provider:_,isConnected:j})}),(0,H.jsx)(eQ.AW,{path:"/stake",element:(0,H.jsx)(i$,{address:y,provider:_,isConnected:j,toggleModal:w})}),(0,H.jsx)(eQ.AW,{path:"/pklima",element:(0,H.jsx)(ix,{address:y,provider:_,isConnected:j,toggleModal:w})}),(0,H.jsx)(eQ.AW,{path:"/wrap",element:(0,H.jsx)(i6,{address:y,provider:_,isConnected:j,toggleModal:w})}),(0,H.jsx)(eQ.AW,{path:"/offset",element:(0,H.jsx)(iv,{address:y,provider:_,isConnected:j,initializing:k,onRPCError:P,toggleModal:w})}),(0,H.jsx)(eQ.AW,{path:"/redeem",element:(0,H.jsx)(iV,{address:y,provider:_,isConnected:j,onRPCError:P,toggleModal:w})}),(0,H.jsx)(eQ.AW,{path:"/info",element:(0,H.jsx)(rm,{provider:_})}),(0,H.jsx)(eQ.AW,{path:"/bonds",element:(0,H.jsx)(t7,{})}),O.MH.map(function(e){return(0,H.jsx)(eQ.AW,{path:"/bonds/".concat(e),element:(0,H.jsx)(n4,{provider:_,address:y,bond:e,isConnected:j,toggleModal:w})},e)}),(0,H.jsx)(eQ.AW,{path:"*",element:(0,H.jsx)(ro.S,{})})]})]})]}),(0,H.jsx)(eH,{}),(0,H.jsx)(tg,{}),l&&(0,H.jsx)(eJ,{onHide:function(){return c(!1)}}),b&&(0,H.jsx)(eU,{onHide:function(){return g(!1)}})]})},ss=n(82807),so=function(e){return"undefined"!=typeof document?(0,H.jsx)(e3.UT,{children:e.children}):(0,H.jsx)(ss.gx,{location:e.location,children:e.children})},sl=n(19979),sc=function(e){return(0,M.v9)(K),(0,H.jsx)(N.vP,{children:e.children})},sd=!0,su=function(){return(0,H.jsx)(sl.D,{children:(0,H.jsx)(sc,{children:(0,H.jsxs)(so,{location:"/#",children:[(0,H.jsx)(J,{production:er.Mw,title:"KlimaDAO | Official App",mediaTitle:"KlimaDAO | Official App",metaDescription:"Use the KLIMA web app to bond, stake and earn rewards.",mediaImageSrc:O.jk.mediaImage}),(0,H.jsx)(si,{})]})})})}},49536:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(85254)}])}},function(e){e.O(0,[564,98,65,663,774,888,179],function(){return e(e.s=49536)}),_N_E=e.O()}]);