!function(e,r){function a(r){var a,s,l=createEle("form");createEle("br");l.method="POST",l.action=DS_DJLP.workflow.toSendObject.signupUrl+"/?ui_locales="+e.DS_DJLP.workflow.toSendObject[n["signup.language_culture"][1]];for(var u in n){switch(a=createEle("input"),a.type="hidden",a.name=u,n[u][0]){case"TS":s=e.DS_DJLP.workflow.toSendObject[n[u][1]];break;case"AFO":s=e.DS_DJLP.workflow.allFormObj[n[u][1]];break;case"DB":s=e.demandBaseFieldObj[n[u][1]];break;default:s=""}if(a.value=s,a.value&&"undefined"!=a.value||"signup.account_name"!=u||(a.value=e.DS_DJLP.workflow.allFormObj.first_name+" "+e.DS_DJLP.workflow.allFormObj.last_name),!a.value&&i[u])switch(i[u][0]){case"DB":a.value=e.demandBaseFieldObj[i[u][1]];break;case"AFO":a.value=e.DS_DJLP.workflow.allFormObj[i[u][1]]}l.appendChild(a)}doc.body.appendChild(l),l.submit()}r&&r.log("DS - use SS"),e.ds_enableSS=!0;var n={"signup.forename":["AFO","first_name"],"signup.surname":["AFO","last_name"],"signup.email":["AFO","email"],"signup.subscribed":["AFO","agree"],"signup.account_name":["AFO","company"],"referrer.industry":["AFO","ds_industry"],"signup.language_culture":["TS","languageCulture"],ui_locales:["TS","languageCulture"],"distributor.code":["TS","dsPlan_distributor_code"],"distributor.plan_id":["TS","dsPlan_plan_id"],region:["TS","dsRegion"],signup_redirect_uri:["TS","signUpRedirectUri"],redirect_uri:["TS","redirectUri"],signup_restart_uri:["TS","signupRestartUri"],client_id:["TS","clientId"],scope:["TS","signupScope"],response_type:["TS","responseType"],"referrer.name":["TS","referrerName"],"referrer.code":["TS","referrerCode"],state:["TS","stateParam"],"signup.billing_address.country":["AFO","ds_country"],"signup.billing_address.address_1":[],"signup.billing_address.address_2":[],"signup.billing_address.city":[],"signup.billing_address.state_province":[],"signup.billing_address.postal_code":[]},i={"signup.account_name":["AFO","first_name"]};e.preSSFormSubmit=function(e,r){ajaxCall({method:"POST",url:"/userAccount/signup/",data:e,setHeader:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},success:function(e){r&&r(e)&&a(e)},error:function(e){r&&r(e)&&a(e)}})}}(window,console);