var toggle="[data-toggle=dropdown]",$par,firstItem,focusDelay=200,menus=$(toggle).parent().find("ul").attr("role","menu"),lis=menus.find("li").attr("role","presentation");lis.find("a").attr({role:"menuitem",tabIndex:"-1"}),$(toggle).attr({"aria-haspopup":"true","aria-expanded":"false"}),$(toggle).parent().on("shown.bs.dropdown",function(t){$par=$(this);var e=$par.find(toggle);e.attr("aria-expanded","true"),e.on("keydown.bs.modal",$.proxy(function(t){setTimeout(function(){firstItem=$(".dropdown-menu [role=menuitem]:visible",$par)[0];try{firstItem.focus()}catch(t){}},focusDelay)},this))}),$(toggle).parent().on("hidden.bs.dropdown",function(t){$par=$(this);var e=$par.find(toggle);e.attr("aria-expanded","false")}),$(document).on("focusout.dropdown.data-api",".dropdown-menu",function(t){var e=$(this),o=this;setTimeout(function(){$.contains(o,document.activeElement)||(e.parent().removeClass("open"),e.parent().find("[data-toggle=dropdown]").attr("aria-expanded","false"))},150)}).on("keydown.bs.dropdown.data-api",toggle+", [role=menu]",$.fn.dropdown.Constructor.prototype.keydown);