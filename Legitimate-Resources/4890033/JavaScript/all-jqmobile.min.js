/*! lazysizes - v2.0.7 */
;!function(e,d){var f=d(e,e.document);e.lazySizes=f,"object"==typeof module&&module.exports&&(module.exports=f)}(window,function(aj,ai){if(ai.getElementsByClassName){var ah,ag=ai.documentElement,af=aj.Date,ae=aj.HTMLPictureElement,ad="addEventListener",ac="getAttribute",ab=aj[ad],aa=aj.setTimeout,Z=aj.requestAnimationFrame||aa,Y=aj.requestIdleCallback,X=/^picture$/i,W=["load","error","lazyincluded","_lazyloaded"],V={},U=Array.prototype.forEach,S=function(d,c){return V[c]||(V[c]=new RegExp("(\\s|^)"+c+"(\\s|$)")),V[c].test(d[ac]("class")||"")&&V[c]},Q=function(d,c){S(d,c)||d.setAttribute("class",(d[ac]("class")||"").trim()+" "+c)},O=function(e,d){var f;(f=S(e,d))&&e.setAttribute("class",(e[ac]("class")||"").replace(f," "))},M=function(f,e,h){var g=h?ad:"removeEventListener";h&&M(f,e),W.forEach(function(a){f[g](a,e)})},K=function(b,l,k,j,i){var h=ai.createEvent("CustomEvent");return h.initCustomEvent(l,!j,!i,k||{}),b.dispatchEvent(h),h},J=function(a,f){var c;!ae&&(c=aj.picturefill||ah.pf)?c({reevaluate:!0,elements:[a]}):f&&f.src&&(a.src=f.src)},I=function(d,c){return(getComputedStyle(d,null)||{})[c]},H=function(e,c,f){for(f=f||e.offsetWidth;f<ah.minSize&&c&&!e._lazysizesWidth;){f=c.offsetWidth,c=c.parentNode}return f},G=function(){var b,j,i=[],h=function(){var a;for(b=!0,j=!1;i.length;){a=i.shift(),a[0].apply(a[1],a[2])}b=!1},g=function(a){b?a.apply(this,arguments):(i.push([a,this,arguments]),j||(j=!0,(ai.hidden?aa:Z)(h)))};return g._lsFlush=h,g}(),F=function(d,c){return c?function(){G(d)}:function(){var a=this,e=arguments;G(function(){d.apply(a,e)})}},T=function(j){var e,p=0,o=125,n=666,m=n,l=function(){e=!1,p=af.now(),j()},k=Y?function(){Y(l,{timeout:m}),m!==n&&(m=n)}:F(function(){aa(l)},!0);return function(b){var c;(b=b===!0)&&(m=44),e||(e=!0,c=o-(af.now()-p),0>c&&(c=0),b||9>c&&Y?k():aa(k,c))}},R=function(h){var e,l,k=99,j=function(){e=null,h()},i=function(){var b=af.now()-l;k>b?aa(i,k-b):(Y||j)(j)};return function(){l=af.now(),e||(e=aa(i,k))}},P=function(){var at,ar,aq,ap,ao,A,am,al,ak,D,B,z,y,w,v,u=/^img$/i,t=/^iframe$/i,s="onscroll" in aj&&!/glebot/.test(navigator.userAgent),r=0,p=0,m=0,j=-1,h=function(f){m--,f&&f.target&&M(f.target,h),(!f||0>m||!f.target)&&(m=0)},g=function(k,x){var o,n=k,l="hidden"==I(ai.body,"visibility")||"hidden"!=I(k,"visibility");for(ak-=x,z+=x,D-=x,B+=x;l&&(n=n.offsetParent)&&n!=ai.body&&n!=ag;){l=(I(n,"opacity")||1)>0,l&&"visible"!=I(n,"overflow")&&(o=n.getBoundingClientRect(),l=B>o.left&&D<o.right&&z>o.top-1&&ak<o.bottom+1)}return l},e=function(){var ax,aw,E,C,x,o,l,k,f;if((ao=ah.loadMode)&&8>m&&(ax=at.length)){aw=0,j++,null==w&&("expand" in ah||(ah.expand=ag.clientHeight>500&&ag.clientWidth>500?500:370),y=ah.expand,w=y*ah.expFactor),w>p&&1>m&&j>2&&ao>2&&!ai.hidden?(p=w,j=0):p=ao>1&&j>1&&6>m?y:r;for(;ax>aw;aw++){if(at[aw]&&!at[aw]._lazyRace){if(s){if((k=at[aw][ac]("data-expand"))&&(o=1*k)||(o=p),f!==o&&(am=innerWidth+o*v,al=innerHeight+o,l=-1*o,f=o),E=at[aw].getBoundingClientRect(),(z=E.bottom)>=l&&(ak=E.top)<=al&&(B=E.right)>=l*v&&(D=E.left)<=am&&(z||B||D||ak)&&(aq&&3>m&&!k&&(3>ao||4>j)||g(at[aw],o))){if(q(at[aw]),x=!0,m>9){break}}else{!x&&aq&&!C&&4>m&&4>j&&ao>2&&(ar[0]||ah.preloadAfterLoad)&&(ar[0]||!k&&(z||B||D||ak||"auto"!=at[aw][ac](ah.sizesAttr)))&&(C=ar[0]||at[aw])}}else{q(at[aw])}}}C&&!x&&q(C)}},d=T(e),c=function(f){Q(f.target,ah.loadedClass),O(f.target,ah.loadingClass),M(f.target,a)},b=F(c),a=function(f){b({target:f.target})},i=function(k,f){try{k.contentWindow.location.replace(f)}catch(l){k.src=f}},av=function(k){var f,n,l=k[ac](ah.srcsetAttr);(f=ah.customMedia[k[ac]("data-media")||k[ac]("media")])&&k.setAttribute("media",f),l&&k.setAttribute("srcset",l),f&&(n=k.parentNode,n.insertBefore(k.cloneNode(),k),n.removeChild(k))},au=F(function(aC,aB,aA,az,ay){var ax,aw,E,C,x,n;(x=K(aC,"lazybeforeunveil",aB)).defaultPrevented||(az&&(aA?Q(aC,ah.autosizesClass):aC.setAttribute("sizes",az)),aw=aC[ac](ah.srcsetAttr),ax=aC[ac](ah.srcAttr),ay&&(E=aC.parentNode,C=E&&X.test(E.nodeName||"")),n=aB.firesLoad||"src" in aC&&(aw||ax||C),x={target:aC},n&&(M(aC,h,!0),clearTimeout(ap),ap=aa(h,2500),Q(aC,ah.loadingClass),M(aC,a,!0)),C&&U.call(E.getElementsByTagName("source"),av),aw?aC.setAttribute("srcset",aw):ax&&!C&&(t.test(aC.nodeName)?i(aC,ax):aC.src=ax),(aw||C)&&J(aC,{src:ax})),G(function(){aC._lazyRace&&delete aC._lazyRace,O(aC,ah.lazyClass),(!n||aC.complete)&&(n?h(x):m--,c(x))})}),q=function(l){var k,x=u.test(l.nodeName),o=x&&(l[ac](ah.sizesAttr)||l[ac]("sizes")),n="auto"==o;(!n&&aq||!x||!l.src&&!l.srcset||l.complete||S(l,ah.errorClass))&&(k=K(l,"lazyunveilread").detail,n&&N.updateElem(l,!0,l.offsetWidth),l._lazyRace=!0,m++,au(l,k,n,o,x))},an=function(){if(!aq){if(af.now()-A<999){return void aa(an,999)}var f=R(function(){ah.loadMode=3,d()});aq=!0,ah.loadMode=3,d(),ab("scroll",function(){3==ah.loadMode&&(ah.loadMode=2),f()},!0)}};return{_:function(){A=af.now(),at=ai.getElementsByClassName(ah.lazyClass),ar=ai.getElementsByClassName(ah.lazyClass+" "+ah.preloadClass),v=ah.hFac,ab("scroll",d,!0),ab("resize",d,!0),aj.MutationObserver?new MutationObserver(d).observe(ag,{childList:!0,subtree:!0,attributes:!0}):(ag[ad]("DOMNodeInserted",d,!0),ag[ad]("DOMAttrModified",d,!0),setInterval(d,999)),ab("hashchange",d,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(f){ai[ad](f,d,!0)
}),/d$|^c/.test(ai.readyState)?an():(ab("load",an),ai[ad]("DOMContentLoaded",d),aa(an,20000)),at.length?e():d()},checkElems:d,unveil:q}}(),N=function(){var b,j=F(function(l,k,q,p){var o,n,m;if(l._lazysizesWidth=p,p+="px",l.setAttribute("sizes",p),X.test(k.nodeName||"")){for(o=k.getElementsByTagName("source"),n=0,m=o.length;m>n;n++){o[n].setAttribute("sizes",p)}}q.detail.dataAttr||J(l,q.detail)}),i=function(g,d,m){var l,k=g.parentNode;k&&(m=H(g,k,m),l=K(g,"lazybeforesizes",{width:m,dataAttr:!!d}),l.defaultPrevented||(m=l.detail.width,m&&m!==g._lazysizesWidth&&j(g,k,l,m)))},h=function(){var a,d=b.length;if(d){for(a=0;d>a;a++){i(b[a])}}},c=R(h);return{_:function(){b=ai.getElementsByClassName(ah.autosizesClass),ab("resize",c)},checkElems:c,updateElem:i}}(),L=function(){L.i||(L.i=!0,N._(),P._())};return function(){var a,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:0.8,loadMode:2};ah=aj.lazySizesConfig||aj.lazysizesConfig||{};for(a in c){a in ah||(ah[a]=c[a])}aj.lazySizesConfig=ah,aa(function(){ah.init&&L()})}(),{cfg:ah,autoSizer:N,loader:P,init:L,uP:J,aC:Q,rC:O,hC:S,fire:K,gW:H,rAF:G}}});(function(a){var b=true;a.flexslider=function(g,q){var d=a(g);d.vars=a.extend({},a.flexslider.defaults,q);var k=d.vars.namespace,f=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,l=(("ontouchstart" in window)||f||window.DocumentTouch&&document instanceof DocumentTouch)&&d.vars.touch,e="click touchend MSPointerUp keyup",c="",p,j=d.vars.direction==="vertical",m=d.vars.reverse,o=(d.vars.itemWidth>0),i=d.vars.animation==="fade",n=d.vars.asNavFor!=="",h={};a.data(g,"flexslider",d);h={init:function(){d.animating=false;d.currentSlide=parseInt((d.vars.startAt?d.vars.startAt:0),10);if(isNaN(d.currentSlide)){d.currentSlide=0}d.animatingTo=d.currentSlide;d.atEnd=(d.currentSlide===0||d.currentSlide===d.last);d.containerSelector=d.vars.selector.substr(0,d.vars.selector.search(" "));d.slides=a(d.vars.selector,d);d.container=a(d.containerSelector,d);d.count=d.slides.length;d.syncExists=a(d.vars.sync).length>0;if(d.vars.animation==="slide"){d.vars.animation="swing"}d.prop=(j)?"top":"marginLeft";d.args={};d.manualPause=false;d.stopped=false;d.started=false;d.startTimeout=null;d.transitions=!d.vars.video&&!i&&d.vars.useCSS&&(function(){var t=document.createElement("div"),s=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var r in s){if(t.style[s[r]]!==undefined){d.pfx=s[r].replace("Perspective","").toLowerCase();d.prop="-"+d.pfx+"-transform";return true}}return false}());d.ensureAnimationEnd="";if(d.vars.controlsContainer!==""){d.controlsContainer=a(d.vars.controlsContainer).length>0&&a(d.vars.controlsContainer)}if(d.vars.manualControls!==""){d.manualControls=a(d.vars.manualControls).length>0&&a(d.vars.manualControls)}if(d.vars.customDirectionNav!==""){d.customDirectionNav=a(d.vars.customDirectionNav).length===2&&a(d.vars.customDirectionNav)}if(d.vars.randomize){d.slides.sort(function(){return(Math.round(Math.random())-0.5)});d.container.empty().append(d.slides)}d.doMath();d.setup("init");if(d.vars.controlNav){h.controlNav.setup()}if(d.vars.directionNav){h.directionNav.setup()}if(d.vars.keyboard&&(a(d.containerSelector).length===1||d.vars.multipleKeyboard)){a(document).bind("keyup",function(s){var r=s.keyCode;if(!d.animating&&(r===39||r===37)){var t=(r===39)?d.getTarget("next"):(r===37)?d.getTarget("prev"):false;d.flexAnimate(t,d.vars.pauseOnAction)}})}if(d.vars.mousewheel){d.bind("mousewheel",function(t,v,s,r){t.preventDefault();var u=(v<0)?d.getTarget("next"):d.getTarget("prev");d.flexAnimate(u,d.vars.pauseOnAction)})}if(d.vars.pausePlay){h.pausePlay.setup()}if(d.vars.slideshow&&d.vars.pauseInvisible){h.pauseInvisible.init()}if(d.vars.slideshow){if(d.vars.pauseOnHover){d.hover(function(){if(!d.manualPlay&&!d.manualPause){d.pause()}},function(){if(!d.manualPause&&!d.manualPlay&&!d.stopped){d.play()}})}if(!d.vars.pauseInvisible||!h.pauseInvisible.isHidden()){(d.vars.initDelay>0)?d.startTimeout=setTimeout(d.play,d.vars.initDelay):d.play()}}if(n){h.asNav.setup()}if(l&&d.vars.touch){h.touch()}if(!i||(i&&d.vars.smoothHeight)){a(window).bind("resize orientationchange focus",h.resize)}d.find("img").attr("draggable","false");setTimeout(function(){d.vars.start(d)},200)},asNav:{setup:function(){d.asNav=true;d.animatingTo=Math.floor(d.currentSlide/d.move);d.currentItem=d.currentSlide;d.slides.removeClass(k+"active-slide").eq(d.currentItem).addClass(k+"active-slide");if(!f){d.slides.on(e,function(t){t.preventDefault();var s=a(this),r=s.index();var u=s.offset().left-a(d).scrollLeft();if(u<=0&&s.hasClass(k+"active-slide")){d.flexAnimate(d.getTarget("prev"),true)}else{if(!a(d.vars.asNavFor).data("flexslider").animating&&!s.hasClass(k+"active-slide")){d.direction=(d.currentItem<r)?"next":"prev";
d.flexAnimate(r,d.vars.pauseOnAction,false,true,true)}}})}else{g._slider=d;d.slides.each(function(){var r=this;r._gesture=new MSGesture();r._gesture.target=r;r.addEventListener("MSPointerDown",function(s){s.preventDefault();if(s.currentTarget._gesture){s.currentTarget._gesture.addPointer(s.pointerId)}},false);r.addEventListener("MSGestureTap",function(u){u.preventDefault();var t=a(this),s=t.index();if(!a(d.vars.asNavFor).data("flexslider").animating&&!t.hasClass("active")){d.direction=(d.currentItem<s)?"next":"prev";d.flexAnimate(s,d.vars.pauseOnAction,false,true,true)}})})}}},controlNav:{setup:function(){if(!d.manualControls){h.controlNav.setupPaging()}else{h.controlNav.setupManual()}},setupPaging:function(){var v=(d.vars.controlNav==="thumbnails")?"control-thumbs":"control-paging",t=1,w,r;d.controlNavScaffold=a('<ol class="'+k+"control-nav "+k+v+'"></ol>');if(d.pagingCount>1){for(var u=0;u<d.pagingCount;u++){r=d.slides.eq(u);if(undefined===r.attr("data-thumb-alt")){r.attr("data-thumb-alt","")}var s=(""!==r.attr("data-thumb-alt"))?s=' alt="'+r.attr("data-thumb-alt")+'"':"";w=(d.vars.controlNav==="thumbnails")?'<img src="'+r.attr("data-thumb")+'"'+s+"/>":'<a href="#">'+t+"</a>";if("thumbnails"===d.vars.controlNav&&true===d.vars.thumbCaptions){var x=r.attr("data-thumbcaption");if(""!==x&&undefined!==x){w+='<span class="'+k+'caption">'+x+"</span>"}}d.controlNavScaffold.append("<li>"+w+"</li>");t++}}(d.controlsContainer)?a(d.controlsContainer).append(d.controlNavScaffold):d.append(d.controlNavScaffold);h.controlNav.set();h.controlNav.active();d.controlNavScaffold.delegate("a, img",e,function(y){y.preventDefault();if(c===""||c===y.type){var A=a(this),z=d.controlNav.index(A);if(!A.hasClass(k+"active")){d.direction=(z>d.currentSlide)?"next":"prev";d.flexAnimate(z,d.vars.pauseOnAction)}}if(c===""){c=y.type}h.setToClearWatchedEvent()})},setupManual:function(){d.controlNav=d.manualControls;h.controlNav.active();d.controlNav.bind(e,function(r){r.preventDefault();if(c===""||c===r.type){var t=a(this),s=d.controlNav.index(t);if(!t.hasClass(k+"active")){(s>d.currentSlide)?d.direction="next":d.direction="prev";d.flexAnimate(s,d.vars.pauseOnAction)}}if(c===""){c=r.type}h.setToClearWatchedEvent()})},set:function(){var r=(d.vars.controlNav==="thumbnails")?"img":"a";d.controlNav=a("."+k+"control-nav li "+r,(d.controlsContainer)?d.controlsContainer:d)},active:function(){d.controlNav.removeClass(k+"active").eq(d.animatingTo).addClass(k+"active")},update:function(r,s){if(d.pagingCount>1&&r==="add"){d.controlNavScaffold.append(a('<li><a href="#">'+d.count+"</a></li>"))}else{if(d.pagingCount===1){d.controlNavScaffold.find("li").remove()}else{d.controlNav.eq(s).closest("li").remove()}}h.controlNav.set();(d.pagingCount>1&&d.pagingCount!==d.controlNav.length)?d.update(s,r):h.controlNav.active()}},directionNav:{setup:function(){var r=a('<ul class="'+k+'direction-nav"><li class="'+k+'nav-prev"><a class="'+k+'prev" href="#">'+d.vars.prevText+'</a></li><li class="'+k+'nav-next"><a class="'+k+'next" href="#">'+d.vars.nextText+"</a></li></ul>");if(d.customDirectionNav){d.directionNav=d.customDirectionNav}else{if(d.controlsContainer){a(d.controlsContainer).append(r);d.directionNav=a("."+k+"direction-nav li a",d.controlsContainer)}else{d.append(r);d.directionNav=a("."+k+"direction-nav li a",d)}}h.directionNav.update();d.directionNav.bind(e,function(s){s.preventDefault();var t;if(c===""||c===s.type){t=(a(this).hasClass(k+"next"))?d.getTarget("next"):d.getTarget("prev");d.flexAnimate(t,d.vars.pauseOnAction)}if(c===""){c=s.type}h.setToClearWatchedEvent()})},update:function(){var r=k+"disabled";if(d.pagingCount===1){d.directionNav.addClass(r).attr("tabindex","-1")}else{if(!d.vars.animationLoop){if(d.animatingTo===0){d.directionNav.removeClass(r).filter("."+k+"prev").addClass(r).attr("tabindex","-1")}else{if(d.animatingTo===d.last){d.directionNav.removeClass(r).filter("."+k+"next").addClass(r).attr("tabindex","-1")}else{d.directionNav.removeClass(r).removeAttr("tabindex")}}}else{d.directionNav.removeClass(r).removeAttr("tabindex")}}}},pausePlay:{setup:function(){var r=a('<div class="'+k+'pauseplay"><a href="#"></a></div>');if(d.controlsContainer){d.controlsContainer.append(r);d.pausePlay=a("."+k+"pauseplay a",d.controlsContainer)}else{d.append(r);d.pausePlay=a("."+k+"pauseplay a",d)}h.pausePlay.update((d.vars.slideshow)?k+"pause":k+"play");d.pausePlay.bind(e,function(s){s.preventDefault();if(c===""||c===s.type){if(a(this).hasClass(k+"pause")){d.manualPause=true;d.manualPlay=false;d.pause()}else{d.manualPause=false;d.manualPlay=true;d.play()}}if(c===""){c=s.type}h.setToClearWatchedEvent()})},update:function(r){(r==="play")?d.pausePlay.removeClass(k+"pause").addClass(k+"play").html(d.vars.playText):d.pausePlay.removeClass(k+"play").addClass(k+"pause").html(d.vars.pauseText)}},touch:function(){var C,z,x,D,G,E,y,s,F,B=false,u=0,t=0,w=0;if(!f){y=function(H){if(d.animating){H.preventDefault()}else{if((window.navigator.msPointerEnabled)||H.touches.length===1){d.pause();
D=(j)?d.h:d.w;E=Number(new Date());u=H.touches[0].pageX;t=H.touches[0].pageY;x=(o&&m&&d.animatingTo===d.last)?0:(o&&m)?d.limit-(((d.itemW+d.vars.itemMargin)*d.move)*d.animatingTo):(o&&d.currentSlide===d.last)?d.limit:(o)?((d.itemW+d.vars.itemMargin)*d.move)*d.currentSlide:(m)?(d.last-d.currentSlide+d.cloneOffset)*D:(d.currentSlide+d.cloneOffset)*D;C=(j)?t:u;z=(j)?u:t;g.addEventListener("touchmove",s,false);g.addEventListener("touchend",F,false)}}};s=function(H){u=H.touches[0].pageX;t=H.touches[0].pageY;G=(j)?C-t:C-u;B=(j)?(Math.abs(G)<Math.abs(u-z)):(Math.abs(G)<Math.abs(t-z));var I=500;if(!B||Number(new Date())-E>I){H.preventDefault();if(!i&&d.transitions){if(!d.vars.animationLoop){G=G/((d.currentSlide===0&&G<0||d.currentSlide===d.last&&G>0)?(Math.abs(G)/D+2):1)}d.setProps(x+G,"setTouch")}}};F=function(J){g.removeEventListener("touchmove",s,false);if(d.animatingTo===d.currentSlide&&!B&&!(G===null)){var I=(m)?-G:G,H=(I>0)?d.getTarget("next"):d.getTarget("prev");if(d.canAdvance(H)&&(Number(new Date())-E<550&&Math.abs(I)>50||Math.abs(I)>D/2)){d.flexAnimate(H,d.vars.pauseOnAction)}else{if(!i){d.flexAnimate(d.currentSlide,d.vars.pauseOnAction,true)}}}g.removeEventListener("touchend",F,false);C=null;z=null;G=null;x=null};g.addEventListener("touchstart",y,false)}else{g.style.msTouchAction="none";g._gesture=new MSGesture();g._gesture.target=g;g.addEventListener("MSPointerDown",r,false);g._slider=d;g.addEventListener("MSGestureChange",A,false);g.addEventListener("MSGestureEnd",v,false);function r(H){H.stopPropagation();if(d.animating){H.preventDefault()}else{d.pause();g._gesture.addPointer(H.pointerId);w=0;D=(j)?d.h:d.w;E=Number(new Date());x=(o&&m&&d.animatingTo===d.last)?0:(o&&m)?d.limit-(((d.itemW+d.vars.itemMargin)*d.move)*d.animatingTo):(o&&d.currentSlide===d.last)?d.limit:(o)?((d.itemW+d.vars.itemMargin)*d.move)*d.currentSlide:(m)?(d.last-d.currentSlide+d.cloneOffset)*D:(d.currentSlide+d.cloneOffset)*D}}function A(K){K.stopPropagation();var J=K.target._slider;if(!J){return}var I=-K.translationX,H=-K.translationY;w=w+((j)?H:I);G=w;B=(j)?(Math.abs(w)<Math.abs(-I)):(Math.abs(w)<Math.abs(-H));if(K.detail===K.MSGESTURE_FLAG_INERTIA){setImmediate(function(){g._gesture.stop()});return}if(!B||Number(new Date())-E>500){K.preventDefault();if(!i&&J.transitions){if(!J.vars.animationLoop){G=w/((J.currentSlide===0&&w<0||J.currentSlide===J.last&&w>0)?(Math.abs(w)/D+2):1)}J.setProps(x+G,"setTouch")}}}function v(K){K.stopPropagation();var H=K.target._slider;if(!H){return}if(H.animatingTo===H.currentSlide&&!B&&!(G===null)){var J=(m)?-G:G,I=(J>0)?H.getTarget("next"):H.getTarget("prev");if(H.canAdvance(I)&&(Number(new Date())-E<550&&Math.abs(J)>50||Math.abs(J)>D/2)){H.flexAnimate(I,H.vars.pauseOnAction)}else{if(!i){H.flexAnimate(H.currentSlide,H.vars.pauseOnAction,true)}}}C=null;z=null;G=null;x=null;w=0}}},resize:function(){if(!d.animating&&d.is(":visible")){if(!o){d.doMath()}if(i){h.smoothHeight()}else{if(o){d.slides.width(d.computedW);d.update(d.pagingCount);d.setProps()}else{if(j){d.viewport.height(d.h);d.setProps(d.h,"setTotal")}else{if(d.vars.smoothHeight){h.smoothHeight()}d.newSlides.width(d.computedW);d.setProps(d.computedW,"setTotal")}}}}},smoothHeight:function(r){if(!j||i){var s=(i)?d:d.viewport;(r)?s.animate({height:d.slides.eq(d.animatingTo).innerHeight()},r):s.innerHeight(d.slides.eq(d.animatingTo).innerHeight())}},sync:function(r){var t=a(d.vars.sync).data("flexslider"),s=d.animatingTo;switch(r){case"animate":t.flexAnimate(s,d.vars.pauseOnAction,false,true);break;case"play":if(!t.playing&&!t.asNav){t.play()}break;case"pause":t.pause();break}},uniqueID:function(r){r.filter("[id]").add(r.find("[id]")).each(function(){var s=a(this);s.attr("id",s.attr("id")+"_clone")});return r},pauseInvisible:{visProp:null,init:function(){var s=h.pauseInvisible.getHiddenProp();if(s){var r=s.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(r,function(){if(h.pauseInvisible.isHidden()){if(d.startTimeout){clearTimeout(d.startTimeout)}else{d.pause()}}else{if(d.started){d.play()}else{if(d.vars.initDelay>0){setTimeout(d.play,d.vars.initDelay)}else{d.play()}}}})}},isHidden:function(){var r=h.pauseInvisible.getHiddenProp();if(!r){return false}return document[r]},getHiddenProp:function(){var s=["webkit","moz","ms","o"];if("hidden" in document){return"hidden"}for(var r=0;r<s.length;r++){if((s[r]+"Hidden") in document){return s[r]+"Hidden"}}return null}},setToClearWatchedEvent:function(){clearTimeout(p);p=setTimeout(function(){c=""},3000)}};d.flexAnimate=function(z,A,t,v,w){if(!d.vars.animationLoop&&z!==d.currentSlide){d.direction=(z>d.currentSlide)?"next":"prev"}if(n&&d.pagingCount===1){d.direction=(d.currentItem<z)?"next":"prev"}if(!d.animating&&(d.canAdvance(z,w)||t)&&d.is(":visible")){if(n&&v){var s=a(d.vars.asNavFor).data("flexslider");d.atEnd=z===0||z===d.count-1;s.flexAnimate(z,true,false,true,w);d.direction=(d.currentItem<z)?"next":"prev";s.direction=d.direction;if(Math.ceil((z+1)/d.visible)-1!==d.currentSlide&&z!==0){d.currentItem=z;
d.slides.removeClass(k+"active-slide").eq(z).addClass(k+"active-slide");z=Math.floor(z/d.visible)}else{d.currentItem=z;d.slides.removeClass(k+"active-slide").eq(z).addClass(k+"active-slide");return false}}d.animating=true;d.animatingTo=z;if(A){d.pause()}d.vars.before(d);if(d.syncExists&&!w){h.sync("animate")}if(d.vars.controlNav){h.controlNav.active()}if(!o){d.slides.removeClass(k+"active-slide").eq(z).addClass(k+"active-slide")}d.atEnd=z===0||z===d.last;if(d.vars.directionNav){h.directionNav.update()}if(z===d.last){d.vars.end(d);if(!d.vars.animationLoop){d.pause()}}if(!i){var y=(j)?d.slides.filter(":first").height():d.computedW,x,u,r;if(o){x=d.vars.itemMargin;r=((d.itemW+x)*d.move)*d.animatingTo;u=(r>d.limit&&d.visible!==1)?d.limit:r}else{if(d.currentSlide===0&&z===d.count-1&&d.vars.animationLoop&&d.direction!=="next"){u=(m)?(d.count+d.cloneOffset)*y:0}else{if(d.currentSlide===d.last&&z===0&&d.vars.animationLoop&&d.direction!=="prev"){u=(m)?0:(d.count+1)*y}else{u=(m)?((d.count-1)-z+d.cloneOffset)*y:(z+d.cloneOffset)*y}}}d.setProps(u,"",d.vars.animationSpeed);if(d.transitions){if(!d.vars.animationLoop||!d.atEnd){d.animating=false;d.currentSlide=d.animatingTo}d.container.unbind("webkitTransitionEnd transitionend");d.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(d.ensureAnimationEnd);d.wrapup(y)});clearTimeout(d.ensureAnimationEnd);d.ensureAnimationEnd=setTimeout(function(){d.wrapup(y)},d.vars.animationSpeed+100)}else{d.container.animate(d.args,d.vars.animationSpeed,d.vars.easing,function(){d.wrapup(y)})}}else{if(!l){d.slides.eq(d.currentSlide).css({zIndex:1}).animate({opacity:0},d.vars.animationSpeed,d.vars.easing);d.slides.eq(z).css({zIndex:2}).animate({opacity:1},d.vars.animationSpeed,d.vars.easing,d.wrapup)}else{d.slides.eq(d.currentSlide).css({opacity:0,zIndex:1});d.slides.eq(z).css({opacity:1,zIndex:2});d.wrapup(y)}}if(d.vars.smoothHeight){h.smoothHeight(d.vars.animationSpeed)}}};d.wrapup=function(r){if(!i&&!o){if(d.currentSlide===0&&d.animatingTo===d.last&&d.vars.animationLoop){d.setProps(r,"jumpEnd")}else{if(d.currentSlide===d.last&&d.animatingTo===0&&d.vars.animationLoop){d.setProps(r,"jumpStart")}}}d.animating=false;d.currentSlide=d.animatingTo;d.vars.after(d)};d.animateSlides=function(){if(!d.animating&&b){d.flexAnimate(d.getTarget("next"))}};d.pause=function(){clearInterval(d.animatedSlides);d.animatedSlides=null;d.playing=false;if(d.vars.pausePlay){h.pausePlay.update("play")}if(d.syncExists){h.sync("pause")}};d.play=function(){if(d.playing){clearInterval(d.animatedSlides)}d.animatedSlides=d.animatedSlides||setInterval(d.animateSlides,d.vars.slideshowSpeed);d.started=d.playing=true;if(d.vars.pausePlay){h.pausePlay.update("pause")}if(d.syncExists){h.sync("play")}};d.stop=function(){d.pause();d.stopped=true};d.canAdvance=function(t,r){var s=(n)?d.pagingCount-1:d.last;return(r)?true:(n&&d.currentItem===d.count-1&&t===0&&d.direction==="prev")?true:(n&&d.currentItem===0&&t===d.pagingCount-1&&d.direction!=="next")?false:(t===d.currentSlide&&!n)?false:(d.vars.animationLoop)?true:(d.atEnd&&d.currentSlide===0&&t===s&&d.direction!=="next")?false:(d.atEnd&&d.currentSlide===s&&t===0&&d.direction==="next")?false:true};d.getTarget=function(r){d.direction=r;if(r==="next"){return(d.currentSlide===d.last)?0:d.currentSlide+1}else{return(d.currentSlide===0)?d.last:d.currentSlide-1}};d.setProps=function(u,r,s){var t=(function(){var v=(u)?u:((d.itemW+d.vars.itemMargin)*d.move)*d.animatingTo,w=(function(){if(o){return(r==="setTouch")?u:(m&&d.animatingTo===d.last)?0:(m)?d.limit-(((d.itemW+d.vars.itemMargin)*d.move)*d.animatingTo):(d.animatingTo===d.last)?d.limit:v}else{switch(r){case"setTotal":return(m)?((d.count-1)-d.currentSlide+d.cloneOffset)*u:(d.currentSlide+d.cloneOffset)*u;case"setTouch":return(m)?u:u;case"jumpEnd":return(m)?u:d.count*u;case"jumpStart":return(m)?d.count*u:u;default:return u}}}());return(w*-1)+"px"}());if(d.transitions){t=(j)?"translate3d(0,"+t+",0)":"translate3d("+t+",0,0)";s=(s!==undefined)?(s/1000)+"s":"0s";d.container.css("-"+d.pfx+"-transition-duration",s);d.container.css("transition-duration",s)}d.args[d.prop]=t;if(d.transitions||s===undefined){d.container.css(d.args)}d.container.css("transform",t)};d.setup=function(s){if(!i){var t,r;if(s==="init"){d.viewport=a('<div class="'+k+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(d).append(d.container);d.cloneCount=0;d.cloneOffset=0;if(m){r=a.makeArray(d.slides).reverse();d.slides=a(r);d.container.empty().append(d.slides)}}if(d.vars.animationLoop&&!o){d.cloneCount=2;d.cloneOffset=1;if(s!=="init"){d.container.find(".clone").remove()}d.container.append(h.uniqueID(d.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(h.uniqueID(d.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))}d.newSlides=a(d.vars.selector,d);t=(m)?d.count-1-d.currentSlide+d.cloneOffset:d.currentSlide+d.cloneOffset;if(j&&!o){d.container.height((d.count+d.cloneCount)*200+"%").css("position","absolute").width("100%");
setTimeout(function(){d.newSlides.css({display:"block"});d.doMath();d.viewport.height(d.h);d.setProps(t*d.h,"init")},(s==="init")?100:0)}else{d.container.width((d.count+d.cloneCount)*200+"%");d.setProps(t*d.computedW,"init");setTimeout(function(){d.doMath();d.newSlides.css({width:d.computedW,marginRight:d.computedM,"float":"left",display:"block"});if(d.vars.smoothHeight){h.smoothHeight()}},(s==="init")?100:0)}}else{d.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"});if(s==="init"){if(!l){if(d.vars.fadeFirstSlide==false){d.slides.css({opacity:0,display:"block",zIndex:1}).eq(d.currentSlide).css({zIndex:2}).css({opacity:1})}else{d.slides.css({opacity:0,display:"block",zIndex:1}).eq(d.currentSlide).css({zIndex:2}).animate({opacity:1},d.vars.animationSpeed,d.vars.easing)}}else{d.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+d.vars.animationSpeed/1000+"s ease",zIndex:1}).eq(d.currentSlide).css({opacity:1,zIndex:2})}}if(d.vars.smoothHeight){h.smoothHeight()}}if(!o){d.slides.removeClass(k+"active-slide").eq(d.currentSlide).addClass(k+"active-slide")}d.vars.init(d)};d.doMath=function(){var r=d.slides.first(),u=d.vars.itemMargin,s=d.vars.minItems,t=d.vars.maxItems;d.w=(d.viewport===undefined)?d.width():d.viewport.width();d.h=r.height();d.boxPadding=r.outerWidth()-r.width();if(o){d.itemT=d.vars.itemWidth+u;d.itemM=u;d.minW=(s)?s*d.itemT:d.w;d.maxW=(t)?(t*d.itemT)-u:d.w;d.itemW=(d.minW>d.w)?(d.w-(u*(s-1)))/s:(d.maxW<d.w)?(d.w-(u*(t-1)))/t:(d.vars.itemWidth>d.w)?d.w:d.vars.itemWidth;d.visible=Math.floor(d.w/(d.itemW));d.move=(d.vars.move>0&&d.vars.move<d.visible)?d.vars.move:d.visible;d.pagingCount=Math.ceil(((d.count-d.visible)/d.move)+1);d.last=d.pagingCount-1;d.limit=(d.pagingCount===1)?0:(d.vars.itemWidth>d.w)?(d.itemW*(d.count-1))+(u*(d.count-1)):((d.itemW+u)*d.count)-d.w-u}else{d.itemW=d.w;d.itemM=u;d.pagingCount=d.count;d.last=d.count-1}d.computedW=d.itemW-d.boxPadding;d.computedM=d.itemM};d.update=function(s,r){d.doMath();if(!o){if(s<d.currentSlide){d.currentSlide+=1}else{if(s<=d.currentSlide&&s!==0){d.currentSlide-=1}}d.animatingTo=d.currentSlide}if(d.vars.controlNav&&!d.manualControls){if((r==="add"&&!o)||d.pagingCount>d.controlNav.length){h.controlNav.update("add")}else{if((r==="remove"&&!o)||d.pagingCount<d.controlNav.length){if(o&&d.currentSlide>d.last){d.currentSlide-=1;d.animatingTo-=1}h.controlNav.update("remove",d.last)}}}if(d.vars.directionNav){h.directionNav.update()}};d.addSlide=function(r,t){var s=a(r);d.count+=1;d.last=d.count-1;if(j&&m){(t!==undefined)?d.slides.eq(d.count-t).after(s):d.container.prepend(s)}else{(t!==undefined)?d.slides.eq(t).before(s):d.container.append(s)}d.update(t,"add");d.slides=a(d.vars.selector+":not(.clone)",d);d.setup();d.vars.added(d)};d.removeSlide=function(r){var s=(isNaN(r))?d.slides.index(a(r)):r;d.count-=1;d.last=d.count-1;if(isNaN(r)){a(r,d.slides).remove()}else{(j&&m)?d.slides.eq(d.last).remove():d.slides.eq(r).remove()}d.doMath();d.update(s,"remove");d.slides=a(d.vars.selector+":not(.clone)",d);d.setup();d.vars.removed(d)};h.init()};a(window).blur(function(c){b=false}).focus(function(c){b=true});a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:7000,animationSpeed:600,initDelay:0,randomize:false,fadeFirstSlide:true,thumbCaptions:false,pauseOnAction:true,pauseOnHover:false,pauseInvisible:true,useCSS:true,touch:true,video:false,controlNav:true,directionNav:true,prevText:"Previous",nextText:"Next",keyboard:true,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:true,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}};a.fn.flexslider=function(c){if(c===undefined){c={}}if(typeof c==="object"){return this.each(function(){var g=a(this),e=(c.selector)?c.selector:".slides > li",f=g.find(e);if((f.length===1&&c.allowOneSlide===false)||f.length===0){f.fadeIn(400);if(c.start){c.start(g)}}else{if(g.data("flexslider")===undefined){new a.flexslider(this,c)}}})}else{var d=a(this).data("flexslider");switch(c){case"play":d.play();break;case"pause":d.pause();break;case"stop":d.stop();break;case"next":d.flexAnimate(d.getTarget("next"),true);break;case"prev":case"previous":d.flexAnimate(d.getTarget("prev"),true);break;default:if(typeof c==="number"){d.flexAnimate(c,true)}}}}})(jQuery);(function(bC){var be,bg,bf=Math.abs,bJ=Math.sin,aF=Math.cos,aJ=Math.max,bS=Math.min,bB=Math.ceil,bq=Math.sqrt,bz=Math.pow,aS={},aQ={},aP={0:"0,",1:"17,",2:"34,",3:"51,",4:"68,",5:"85,",6:"102,",7:"119,",8:"136,",9:"153,",a:"170,",A:"170,",b:"187,",B:"187,",c:"204,",C:"204,",d:"221,",D:"221,",e:"238,",E:"238,",f:"255,",F:"255,"},aE,aX,ba,bQ,bl,bP,a0,bt=document,aM,aY={};
for(be=0;be<256;++be){bg=be.toString(16);if(be<16){bg="0"+bg}aQ[bg]=aQ[bg.toUpperCase()]=be.toString()+","}function bI(a){return typeof a!="undefined"}function bk(a){return typeof a=="object"&&a!=null}function bx(c,b,a){return isNaN(c)?a:bS(a,aJ(b,c))}function bm(){return false}function bn(){return new Date().valueOf()}function bw(e,a){var d=[],c=e.length,b;for(b=0;b<c;++b){d.push(e[b])}d.sort(a);return d}function bD(d){var b=d.length-1,c,a;while(b){a=~~(Math.random()*b);c=d[b];d[b]=d[a];d[a]=c;--b}}function bM(c,b,a){this.x=c;this.y=b;this.z=a}bl=bM.prototype;bl.length=function(){return bq(this.x*this.x+this.y*this.y+this.z*this.z)};bl.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};bl.cross=function(c){var d=this.y*c.z-this.z*c.y,a=this.z*c.x-this.x*c.z,b=this.x*c.y-this.y*c.x;return new bM(d,a,b)};bl.angle=function(b){var c=this.dot(b),a;if(c==0){return Math.PI/2}a=c/(this.length()*b.length());if(a>=1){return 0}if(a<=-1){return Math.PI}return Math.acos(a)};bl.unit=function(){var a=this.length();return new bM(this.x/a,this.y/a,this.z/a)};function bH(d,c){c=c*Math.PI/180;d=d*Math.PI/180;var e=bJ(d)*aF(c),a=-bJ(c),b=-aF(d)*aF(c);return new bM(e,a,b)}function a9(a){this[1]={1:a[0],2:a[1],3:a[2]};this[2]={1:a[3],2:a[4],3:a[5]};this[3]={1:a[6],2:a[7],3:a[8]}}bQ=a9.prototype;a9.Identity=function(){return new a9([1,0,0,0,1,0,0,0,1])};a9.Rotation=function(b,e){var d=bJ(b),c=aF(b),a=1-c;return new a9([c+bz(e.x,2)*a,e.x*e.y*a-e.z*d,e.x*e.z*a+e.y*d,e.y*e.x*a+e.z*d,c+bz(e.y,2)*a,e.y*e.z*a-e.x*d,e.z*e.x*a-e.y*d,e.z*e.y*a+e.x*d,c+bz(e.z,2)*a])};bQ.mul=function(d){var c=[],e,a,b=(d.xform?1:0);for(e=1;e<=3;++e){for(a=1;a<=3;++a){if(b){c.push(this[e][1]*d[1][a]+this[e][2]*d[2][a]+this[e][3]*d[3][a])}else{c.push(this[e][a]*d)}}}return new a9(c)};bQ.xform=function(d){var c={},e=d.x,a=d.y,b=d.z;c.x=e*this[1][1]+a*this[2][1]+b*this[3][1];c.y=e*this[1][2]+a*this[2][2]+b*this[3][2];c.z=e*this[1][3]+a*this[2][3]+b*this[3][3];return c};function aL(e,c,k,a){var b,l,g,m,h=[],d=Math.PI*(3-bq(5)),f=2/e;for(b=0;b<e;++b){l=b*f-1+(f/2);g=bq(1-l*l);m=b*d;h.push([aF(m)*g*c,l*k,bJ(m)*g*a])}return h}function a4(d,f,a,h,l){var k,g=[],c=Math.PI*(3-bq(5)),e=2/d,m,n,o,b;for(m=0;m<d;++m){n=m*e-1+(e/2);k=m*c;o=aF(k);b=bJ(k);g.push(f?[n*a,o*h,b*l]:[o*a,n*h,b*l])}return g}function bd(f,e,b,h,l,n){var k,g=[],d=Math.PI*2/e,m,a,c;for(m=0;m<e;++m){k=m*d;a=aF(k);c=bJ(k);g.push(f?[n*b,a*h,c*l]:[a*b,n*h,c*l])}return g}function bE(a,d,c,b){return a4(a,0,d,c,b)}function by(a,d,c,b){return a4(a,1,d,c,b)}function aW(a,e,d,c,b){b=isNaN(b)?0:b*1;return bd(0,a,e,d,c,b)}function aO(a,e,d,c,b){b=isNaN(b)?0:b*1;return bd(1,a,e,d,c,b)}function a6(a,f){var b=a,c,e,d=(f*1).toPrecision(3)+")";if(a[0]==="#"){if(!aS[a]){if(a.length===4){aS[a]="rgba("+aP[a[1]]+aP[a[2]]+aP[a[3]]}else{aS[a]="rgba("+aQ[a.substr(1,2)]+aQ[a.substr(3,2)]+aQ[a.substr(5,2)]}}b=aS[a]+d}else{if(a.substr(0,4)==="rgb("||a.substr(0,4)==="hsl("){b=(a.replace("(","a(").replace(")",","+d))}else{if(a.substr(0,5)==="rgba("||a.substr(0,5)==="hsla("){c=a.lastIndexOf(",")+1,e=a.indexOf(")");f*=parseFloat(a.substring(c,e));b=a.substr(0,c)+f.toPrecision(3)+")"}}}return b}function bb(c,b){if(window.G_vmlCanvasManager){return null}var a=bt.createElement("canvas");a.width=c;a.height=b;return a}function bF(){var c=bb(3,3),a,b;if(!c){return false}a=c.getContext("2d");a.strokeStyle="#000";a.shadowColor="#fff";a.shadowBlur=3;a.globalAlpha=0;a.strokeRect(2,2,2,2);a.globalAlpha=1;b=a.getImageData(2,2,1,1);c=null;return(b.data[0]>0)}function bG(f,e,a,b){var c=f.createLinearGradient(0,0,e,0),d;for(d in b){c.addColorStop(1-d,b[d])}f.fillStyle=c;f.fillRect(0,a,e,1)}function aR(d,f,g){var e=1024,l=1,a=d.weightGradient,b,h,c,k;if(d.gCanvas){h=d.gCanvas.getContext("2d");l=d.gCanvas.height}else{if(bk(a[0])){l=a.length}else{a=[a]}d.gCanvas=b=bb(e,l);if(!b){return null}h=b.getContext("2d");for(c=0;c<l;++c){bG(h,e,c,a[c])}}g=aJ(bS(g||0,l-1),0);k=h.getImageData(~~((e-1)*f),g,1,1).data;return"rgba("+k[0]+","+k[1]+","+k[2]+","+(k[3]/255)+")"}function a3(o,d,g,k,l,n,p,b,e,m,c,q){var r=l+(b||0)+(e.length&&e[0]<0?bf(e[0]):0),f=n+(b||0)+(e.length&&e[1]<0?bf(e[1]):0),a,h;o.font=d;o.textBaseline="top";o.fillStyle=g;p&&(o.shadowColor=p);b&&(o.shadowBlur=b);e.length&&(o.shadowOffsetX=e[0],o.shadowOffsetY=e[1]);for(a=0;a<k.length;++a){h=0;if(c){if("right"==q){h=m-c[a]}else{if("centre"==q){h=(m-c[a])/2}}}o.fillText(k[a],r+h,f);f+=parseInt(d)}}function bA(g,f,a,e,c,b,d){if(b){g.beginPath();g.moveTo(f,a+c-b);g.arcTo(f,a,f+b,a,b);g.arcTo(f+e,a,f+e,a+b,b);g.arcTo(f+e,a+c,f+e-b,a+c,b);g.arcTo(f,a+c,f,a+c-b,b);g.closePath();g[d?"stroke":"fill"]()}else{g[d?"strokeRect":"fillRect"](f,a,e,c)}}function aT(k,h,b,e,a,f,d,c,g){this.strings=k;this.font=h;this.width=b;this.height=e;this.maxWidth=a;this.stringWidths=f;this.align=d;this.valign=c;this.scale=g}a0=aT.prototype;a0.SetImage=function(a,e,c,f,b,g,d,h){this.image=a;this.iwidth=e*this.scale;this.iheight=c*this.scale;this.ipos=f;this.ipad=b*this.scale;this.iscale=h;this.ialign=g;this.ivalign=d};
a0.Align=function(c,b,d){var a=0;if(d=="right"||d=="bottom"){a=b-c}else{if(d!="left"&&d!="top"){a=(b-c)/2}}return a};a0.Create=function(l,d,m,c,e,f,z,g,p){var r,t,k,A,a,b,v,w,x,y,s,u,q,h,B=bf(z[0]),C=bf(z[1]),o,n;g=aJ(g,B+f,C+f);a=2*(g+c);v=2*(g+c);t=this.width+a;k=this.height+v;x=y=g+c;if(this.image){s=u=g+c;q=this.iwidth;h=this.iheight;if(this.ipos=="top"||this.ipos=="bottom"){if(q<this.width){s+=this.Align(q,this.width,this.ialign)}else{x+=this.Align(this.width,q,this.align)}if(this.ipos=="top"){y+=h+this.ipad}else{u+=this.height+this.ipad}t=aJ(t,q+a);k+=h+this.ipad}else{if(h<this.height){u+=this.Align(h,this.height,this.ivalign)}else{y+=this.Align(this.height,h,this.valign)}if(this.ipos=="right"){s+=this.width+this.ipad}else{x+=q+this.ipad}t+=q+this.ipad;k=aJ(k,h+v)}}r=bb(t,k);if(!r){return null}a=v=c/2;b=t-c;w=k-c;A=r.getContext("2d");if(d){A.fillStyle=d;bA(A,a,v,b,w,p)}if(c){A.strokeStyle=m;A.lineWidth=c;bA(A,a,v,b,w,p,true)}if(f||B||C){o=bb(t,k);if(o){n=A;A=o.getContext("2d")}}a3(A,this.font,l,this.strings,x,y,0,0,[],this.maxWidth,this.stringWidths,this.align);if(this.image){A.drawImage(this.image,s,u,q,h)}if(n){A=n;e&&(A.shadowColor=e);f&&(A.shadowBlur=f);A.shadowOffsetX=z[0];A.shadowOffsetY=z[1];A.drawImage(o,0,0)}return r};function aG(c,e,b){var d=bb(e,b),a;if(!d){return null}a=d.getContext("2d");a.drawImage(c,(e-c.width)/2,(b-c.height)/2);return d}function bs(c,e,b){var d=bb(e,b),a;if(!d){return null}a=d.getContext("2d");a.drawImage(c,0,0,e,b);return d}function bi(g,n,f,b,m,o,p,k,r,q){var t=n+((2*k)+o)*b,l=f+((2*k)+o)*b,s=bb(t,l),c,d,u,e,v,a,h;if(!s){return null}o*=b;r*=b;d=u=o/2;e=t-o;v=l-o;k=(k*b)+d;c=s.getContext("2d");if(m){c.fillStyle=m;bA(c,d,u,e,v,r)}if(o){c.strokeStyle=p;c.lineWidth=o;bA(c,d,u,e,v,r,true)}if(q){a=bb(t,l);h=a.getContext("2d");h.drawImage(g,k,k,n,f);h.globalCompositeOperation="source-in";h.fillStyle=p;h.fillRect(0,0,t,l);h.globalCompositeOperation="destination-over";h.drawImage(s,0,0);h.globalCompositeOperation="source-over";c.drawImage(a,0,0)}else{c.drawImage(g,k,k,g.width,g.height)}return{image:s,width:t/b,height:l/b}}function a1(q,k,o,d,m,l,e){var h=bf(e[0]),p=bf(e[1]),c=k+(h>l?h+l:l*2)*d,g=o+(p>l?p+l:l*2)*d,a=d*((l||0)+(e[0]<0?h:0)),f=d*((l||0)+(e[1]<0?p:0)),b,n;b=bb(c,g);if(!b){return null}n=b.getContext("2d");m&&(n.shadowColor=m);l&&(n.shadowBlur=l*d);e&&(n.shadowOffsetX=e[0]*d,n.shadowOffsetY=e[1]*d);n.drawImage(q,a,f,k,o);return{image:b,width:c/d,height:g/d}}function aI(h,b,l){var k=parseInt(h.toString().length*l),c=parseInt(l*2*h.length),e=bb(k,c),o,g,d,p,m,n,f,a;if(!e){return null}o=e.getContext("2d");o.fillStyle="#000";o.fillRect(0,0,k,c);a3(o,l+"px "+b,"#fff",h,0,0,0,0,[],"centre");g=o.getImageData(0,0,k,c);d=g.width;p=g.height;a={min:{x:d,y:p},max:{x:-1,y:-1}};for(n=0;n<p;++n){for(m=0;m<d;++m){f=(n*d+m)*4;if(g.data[f+1]>0){if(m<a.min.x){a.min.x=m}if(m>a.max.x){a.max.x=m}if(n<a.min.y){a.min.y=n}if(n>a.max.y){a.max.y=n}}}}if(d!=k){a.min.x*=(k/d);a.max.x*=(k/d)}if(p!=c){a.min.y*=(k/p);a.max.y*=(k/p)}e=null;return a}function aN(a){return"'"+a.replace(/(\'|\")/g,"").replace(/\s*,\s*/g,"', '")+"'"}function bN(c,b,a){a=a||bt;if(a.addEventListener){a.addEventListener(c,b,false)}else{a.attachEvent("on"+c,b)}}function aZ(c,b,a){a=a||bt;if(a.removeEventListener){a.removeEventListener(c,b)}else{a.detachEvent("on"+c,b)}}function bu(b,f,k,c){var h=c.imageScale,m,e,a,g,d,l;if(!f.complete){return bN("load",function(){bu(b,f,k,c)},f)}if(!b.complete){return bN("load",function(){bu(b,f,k,c)},b)}f.width=f.width;f.height=f.height;if(h){b.width=f.width*h;b.height=f.height*h}k.iw=b.width;k.ih=b.height;if(c.txtOpt){e=b;m=c.zoomMax*c.txtScale;d=k.iw*m;l=k.ih*m;if(d<f.naturalWidth||l<f.naturalHeight){e=bs(b,d,l);if(e){k.fimage=e}}else{d=k.iw;l=k.ih;m=1}if(!k.HasText()){if(c.shadow){e=a1(k.image,d,l,m,c.shadow,c.shadowBlur,c.shadowOffset);if(e){k.fimage=e.image;k.w=e.width;k.h=e.height}}if(c.bgColour||c.bgOutlineThickness){a=c.bgColour=="tag"?a2(k.a,"background-color"):c.bgColour;g=c.bgOutline=="tag"?a2(k.a,"color"):(c.bgOutline||c.textColour);d=k.fimage.width;l=k.fimage.height;if(c.outlineMethod=="colour"){e=bi(k.fimage,d,l,m,a,c.bgOutlineThickness,c.outlineColour,c.padding,c.bgRadius,1);if(e){k.oimage=e.image}}e=bi(k.fimage,d,l,m,a,c.bgOutlineThickness,g,c.padding,c.bgRadius);if(e){k.fimage=e.image;k.w=e.width;k.h=e.height}}if(c.outlineMethod=="size"){if(c.outlineIncrease>0){k.iw+=2*c.outlineIncrease;k.ih+=2*c.outlineIncrease;d=m*k.iw;l=m*k.ih;e=bs(k.fimage,d,l);k.oimage=e;k.fimage=aG(k.fimage,k.oimage.width,k.oimage.height)}else{d=m*(k.iw+(2*c.outlineIncrease));l=m*(k.ih+(2*c.outlineIncrease));e=bs(k.fimage,d,l);k.oimage=aG(e,k.fimage.width,k.fimage.height)}}}}k.Init()}function a2(a,c){var b=bt.defaultView,d=c.replace(/\-([a-z])/g,function(e){return e.charAt(1).toUpperCase()});return(b&&b.getComputedStyle&&b.getComputedStyle(a,null).getPropertyValue(c))||(a.currentStyle&&a.currentStyle[d])}function aH(d,b,c){var e=1,a;if(b){e=1*(d.getAttribute(b)||c)}else{if(a=a2(d,"font-size")){e=(a.indexOf("px")>-1&&a.replace("px","")*1)||(a.indexOf("pt")>-1&&a.replace("pt","")*1.25)||a*3.3
}}return e}function aU(a){return a.target&&bI(a.target.id)?a.target.id:a.srcElement.parentNode.id}function a8(b,a){var c,e,f=parseInt(a2(a,"width"))/a.width,d=parseInt(a2(a,"height"))/a.height;if(bI(b.offsetX)){c={x:b.offsetX,y:b.offsetY}}else{e=bO(a.id);if(bI(b.changedTouches)){b=b.changedTouches[0]}if(b.pageX){c={x:b.pageX-e.x,y:b.pageY-e.y}}}if(c&&f&&d){c.x/=f;c.y/=d}return c}function bv(b){var a=b.target||b.fromElement.parentNode,c=j.tc[a.id];if(c){c.mx=c.my=-1;c.UnFreeze();c.EndDrag()}}function bL(f){var c,e=j,d,a,b=aU(f);for(c in e.tc){d=e.tc[c];if(d.tttimer){clearTimeout(d.tttimer);d.tttimer=null}}if(b&&e.tc[b]){d=e.tc[b];if(a=a8(f,d.canvas)){d.mx=a.x;d.my=a.y;d.Drag(f,a)}d.drawn=0}}function i(a){var c=j,d=bt.addEventListener?0:1,b=aU(a);if(b&&a.button==d&&c.tc[b]){c.tc[b].BeginDrag(a)}}function bR(a){var d=j,c=bt.addEventListener?0:1,b=aU(a),e;if(b&&a.button==c&&d.tc[b]){e=d.tc[b];bL(a);if(!e.EndDrag()&&!e.touched){e.Clicked(a)}}}function a7(b){var c=j,a=aU(b);if(a&&b.changedTouches&&c.tc[a]){c.tc[a].touched=1;c.tc[a].BeginDrag(b)}}function aK(b){var c=j,a=aU(b);if(a&&b.changedTouches&&c.tc[a]){bo(b);if(!c.tc[a].EndDrag()){c.tc[a].Draw();c.tc[a].Clicked(b)}}}function bo(f){var c,e=j,d,a,b=aU(f);for(c in e.tc){d=e.tc[c];if(d.tttimer){clearTimeout(d.tttimer);d.tttimer=null}}if(b&&e.tc[b]&&f.changedTouches){d=e.tc[b];if(a=a8(f,d.canvas)){d.mx=a.x;d.my=a.y;d.Drag(f,a)}d.drawn=0}}function bK(b){var c=j,a=aU(b);if(a&&c.tc[a]){b.cancelBubble=true;b.returnValue=false;b.preventDefault&&b.preventDefault();c.tc[a].Wheel((b.wheelDelta||b.detail)>0)}}function bc(){br(bn())}function br(a){var c=j.tc,b;j.NextFrame(j.interval);a=a||bn();for(b in c){c[b].Draw(a)}}function bO(f){var c=bt.getElementById(f),h=c.getBoundingClientRect(),l=bt.documentElement,b=bt.body,a=window,e=a.pageXOffset||l.scrollLeft,k=a.pageYOffset||l.scrollTop,d=l.clientLeft||b.clientLeft,g=l.clientTop||b.clientTop;return{x:h.left+e-d,y:h.top+k-g}}function a5(d,b,a,c){var e=d.radius*d.z1/(d.z1+d.z2+b.z);return{x:b.x*e*a,y:b.y*e*c,z:b.z,w:(d.z1-b.z)/d.z2}}function bj(a){this.e=a;this.br=0;this.line=[];this.text=[];this.original=a.innerText||a.textContent}bP=bj.prototype;bP.Empty=function(){for(var a=0;a<this.text.length;++a){if(this.text[a].length){return false}}return true};bP.Lines=function(b){var c=b?1:0,a,e,d;b=b||this.e;a=b.childNodes;e=a.length;for(d=0;d<e;++d){if(a[d].nodeName=="BR"){this.text.push(this.line.join(" "));this.br=1}else{if(a[d].nodeType==3){if(this.br){this.line=[a[d].nodeValue];this.br=0}else{this.line.push(a[d].nodeValue)}}else{this.Lines(a[d])}}}c||this.br||this.text.push(this.line.join(" "));return this.text};bP.SplitWidth=function(d,e,h,a){var b,c,f,g=[];e.font=a+"px "+h;for(b=0;b<this.text.length;++b){f=this.text[b].split(/\s+/);this.line=[f[0]];for(c=1;c<f.length;++c){if(e.measureText(this.line.join(" ")+" "+f[c]).width>d){g.push(this.line.join(" "));this.line=[f[c]]}else{this.line.push(f[c])}}g.push(this.line.join(" "))}return this.text=g};function bh(b,a){this.ts=bn();this.tc=b;this.tag=a;this.x=this.y=this.w=this.h=this.sc=1;this.z=0;this.Draw=b.pulsateTo<1&&b.outlineMethod!="colour"?this.DrawPulsate:this.DrawSimple;this.radius=b.outlineRadius|0;this.SetMethod(b.outlineMethod)}aE=bh.prototype;aE.SetMethod=function(b){var a={block:["PreDraw","DrawBlock"],colour:["PreDraw","DrawColour"],outline:["PostDraw","DrawOutline"],classic:["LastDraw","DrawOutline"],size:["PreDraw","DrawColour"],none:["LastDraw"]},c=a[b]||a.outline;if(b=="none"){this.Draw=function(){return 1}}else{this.drawFunc=this[c[1]]}this[c[0]]=this.Draw};aE.Update=function(l,a,k,d,c,b,e,h){var g=this.tc.outlineOffset,f=2*g;this.x=c*l+e-g;this.y=c*a+h-g;this.w=c*k+f;this.h=c*d+f;this.sc=c;this.z=b};aE.DrawOutline=function(a,f,b,e,d,c){a.strokeStyle=c;bA(a,f,b,e,d,this.radius,true)};aE.DrawColour=function(e,b,d,a,f,h,k,g,c){if(k.oimage){k.alpha=1;k.Draw(e,g,c,k.oimage);return 1}return this[k.image?"DrawColourImage":"DrawColourText"](e,b,d,a,f,h,k,g,c)};aE.DrawColourText=function(d,a,c,l,f,h,k,g,b){var e=k.colour;k.colour=h;k.alpha=1;k.Draw(d,g,b);k.colour=e;return 1};aE.DrawColourImage=function(a,o,q,n,b,h,k,g,p){var m=a.canvas,d=~~aJ(o,0),e=~~aJ(q,0),c=bS(m.width-d,n)+0.5|0,l=bS(m.height-e,b)+0.5|0,f;if(aM){aM.width=c,aM.height=l}else{aM=bb(c,l)}if(!aM){return this.SetMethod("outline")}f=aM.getContext("2d");f.drawImage(m,d,e,c,l,0,0,c,l);a.clearRect(d,e,c,l);k.alpha=1;k.Draw(a,g,p);a.setTransform(1,0,0,1,0,0);a.save();a.beginPath();a.rect(d,e,c,l);a.clip();a.globalCompositeOperation="source-in";a.fillStyle=h;a.fillRect(d,e,c,l);a.restore();a.globalCompositeOperation="destination-over";a.drawImage(aM,0,0,c,l,d,e,c,l);a.globalCompositeOperation="source-over";return 1};aE.DrawBlock=function(a,f,b,e,d,c){a.fillStyle=c;bA(a,f,b,e,d,this.radius)};aE.DrawSimple=function(a,e,d,b){var c=this.tc;a.setTransform(1,0,0,1,0,0);a.strokeStyle=c.outlineColour;a.lineWidth=c.outlineThickness;a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0;a.globalAlpha=1;return this.drawFunc(a,this.x,this.y,this.w,this.h,c.outlineColour,e,d,b)
};aE.DrawPulsate=function(a,f,e,c){var b=bn()-this.ts,d=this.tc;a.setTransform(1,0,0,1,0,0);a.strokeStyle=d.outlineColour;a.lineWidth=d.outlineThickness;a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0;a.globalAlpha=d.pulsateTo+((1-d.pulsateTo)*(0.5+(aF(2*Math.PI*b/(1000*d.pulsateTime))/2)));return this.drawFunc(a,this.x,this.y,this.w,this.h,d.outlineColour,f,e,c)};aE.Active=function(b,c,a){return(c>=this.x&&a>=this.y&&c<=this.x+this.w&&a<=this.y+this.h)};aE.PreDraw=aE.PostDraw=aE.LastDraw=bm;function aV(e,k,o,l,n,d,f,b,m,c,p,g,a,h){this.tc=e;this.image=null;this.text=k;this.text_original=h;this.line_widths=[];this.title=o.title||null;this.a=o;this.position=new bM(l[0],l[1],l[2]);this.x=this.y=this.z=0;this.w=n;this.h=d;this.colour=f||e.textColour;this.bgColour=b||e.bgColour;this.bgRadius=m|0;this.bgOutline=c||this.colour;this.bgOutlineThickness=p|0;this.textFont=g||e.textFont;this.padding=a|0;this.sc=this.alpha=1;this.weighted=!e.weight}aX=aV.prototype;aX.Init=function(a){var b=this.tc;this.outline=new bh(b,this);this.textHeight=b.textHeight;if(this.HasText()){this.Measure(b.ctxt,b)}else{this.w=this.iw;this.h=this.ih}this.SetShadowColour=b.shadowAlpha?this.SetShadowColourAlpha:this.SetShadowColourFixed;this.SetDraw(b)};aX.Draw=bm;aX.HasText=function(){return this.text&&this.text[0].length>0};aX.EqualTo=function(b){var a=b.getElementsByTagName("img");if(this.a.href!=b.href){return 0}if(a.length){return this.image.src==a[0].src}return(b.innerText||b.textContent)==this.text_original};aX.SetImage=function(a){this.image=this.fimage=a};aX.SetDraw=function(a){this.Draw=this.fimage?(a.ie>7?this.DrawImageIE:this.DrawImage):this.DrawText;a.noSelect&&(this.CheckActive=bm)};aX.MeasureText=function(a){var c,e=this.text.length,d=0,b;for(c=0;c<e;++c){this.line_widths[c]=b=a.measureText(this.text[c]).width;d=aJ(d,b)}return d};aX.Measure=function(a,l){var n=aI(this.text,this.textFont,this.textHeight),k,h,d,g,f,b,m,e,c;m=n?n.max.y+n.min.y:this.textHeight;a.font=this.font=this.textHeight+"px "+this.textFont;b=this.MeasureText(a);if(l.txtOpt){k=l.txtScale;h=k*this.textHeight;d=h+"px "+this.textFont;g=[k*l.shadowOffset[0],k*l.shadowOffset[1]];a.font=d;f=this.MeasureText(a);c=new aT(this.text,d,f+k,(k*m)+k,f,this.line_widths,l.textAlign,l.textVAlign,k);if(this.image){c.SetImage(this.image,this.iw,this.ih,l.imagePosition,l.imagePadding,l.imageAlign,l.imageVAlign,l.imageScale)}e=c.Create(this.colour,this.bgColour,this.bgOutline,k*this.bgOutlineThickness,l.shadow,k*l.shadowBlur,g,k*this.padding,k*this.bgRadius);if(l.outlineMethod=="colour"){this.oimage=c.Create(l.outlineColour,this.bgColour,l.outlineColour,k*this.bgOutlineThickness,l.shadow,k*l.shadowBlur,g,k*this.padding,k*this.bgRadius)}else{if(l.outlineMethod=="size"){n=aI(this.text,this.textFont,this.textHeight+l.outlineIncrease);h=n.max.y+n.min.y;d=(k*(this.textHeight+l.outlineIncrease))+"px "+this.textFont;a.font=d;f=this.MeasureText(a);c=new aT(this.text,d,f+k,(k*h)+k,f,this.line_widths,l.textAlign,l.textVAlign,k);if(this.image){c.SetImage(this.image,this.iw+l.outlineIncrease,this.ih+l.outlineIncrease,l.imagePosition,l.imagePadding,l.imageAlign,l.imageVAlign,l.imageScale)}this.oimage=c.Create(this.colour,this.bgColour,this.bgOutline,k*this.bgOutlineThickness,l.shadow,k*l.shadowBlur,g,k*this.padding,k*this.bgRadius);if(l.outlineIncrease>0){e=aG(e,this.oimage.width,this.oimage.height)}else{this.oimage=aG(this.oimage,e.width,e.height)}}}if(e){this.fimage=e;b=this.fimage.width/k;m=this.fimage.height/k}this.SetDraw(l);l.txtOpt=!!this.fimage}this.h=m;this.w=b};aX.SetFont=function(c,a,b,d){this.textFont=c;this.colour=a;this.bgColour=b;this.bgOutline=d;this.Measure(this.tc.ctxt,this.tc)};aX.SetWeight=function(e){var d=this.tc,b=d.weightMode.split(/[, ]/),f,c,a=e.length;if(!this.HasText()){return}this.weighted=true;for(c=0;c<a;++c){f=b[c]||"size";if("both"==f){this.Weight(e[c],d.ctxt,d,"size",d.min_weight[c],d.max_weight[c],c);this.Weight(e[c],d.ctxt,d,"colour",d.min_weight[c],d.max_weight[c],c)}else{this.Weight(e[c],d.ctxt,d,f,d.min_weight[c],d.max_weight[c],c)}}this.Measure(d.ctxt,d)};aX.Weight=function(e,g,c,d,h,b,a){e=isNaN(e)?1:e;var f=(e-h)/(b-h);if("colour"==d){this.colour=aR(c,f,a)}else{if("bgcolour"==d){this.bgColour=aR(c,f,a)}else{if("bgoutline"==d){this.bgOutline=aR(c,f,a)}else{if("size"==d){if(c.weightSizeMin>0&&c.weightSizeMax>c.weightSizeMin){this.textHeight=c.weightSize*(c.weightSizeMin+(c.weightSizeMax-c.weightSizeMin)*f)}else{this.textHeight=aJ(1,e*c.weightSize)}}}}}};aX.SetShadowColourFixed=function(b,a,c){b.shadowColor=a};aX.SetShadowColourAlpha=function(b,a,c){b.shadowColor=a6(a,c)};aX.DrawText=function(d,a,e){var k=this.tc,b=this.x,c=this.y,h=this.sc,g,f;d.globalAlpha=this.alpha;d.fillStyle=this.colour;k.shadow&&this.SetShadowColour(d,k.shadow,this.alpha);d.font=this.font;b+=a/h;c+=(e/h)-(this.h/2);for(g=0;g<this.text.length;++g){f=b;if("right"==k.textAlign){f+=this.w/2-this.line_widths[g]}else{if("centre"==k.textAlign){f-=this.line_widths[g]/2}else{f-=this.w/2}}d.setTransform(h,0,0,h,h*f,h*c);
d.fillText(this.text[g],0,0);c+=this.textHeight}};aX.DrawImage=function(d,k,e,b){var n=this.x,c=this.y,h=this.sc,g=b||this.fimage,m=this.w,f=this.h,a=this.alpha,l=this.shadow;d.globalAlpha=a;l&&this.SetShadowColour(d,l,a);n+=(k/h)-(m/2);c+=(e/h)-(f/2);d.setTransform(h,0,0,h,h*n,h*c);d.drawImage(g,0,0,m,f)};aX.DrawImageIE=function(d,k,e){var g=this.fimage,h=this.sc,a=g.width=this.w*h,f=g.height=this.h*h,b=(this.x*h)+k-(a/2),c=(this.y*h)+e-(f/2);d.setTransform(1,0,0,1,0,0);d.globalAlpha=this.alpha;d.drawImage(g,b,c)};aX.Calc=function(f,e){var d,a=this.tc,b=a.minBrightness,c=a.maxBrightness,g=a.max_radius;d=f.xform(this.position);this.xformed=d;d=a5(a,d,a.stretchX,a.stretchY);this.x=d.x;this.y=d.y;this.z=d.z;this.sc=d.w;this.alpha=e*bx(b+(c-b)*(g-this.z)/(2*g),0,1)};aX.UpdateActive=function(g,e,a){var b=this.outline,d=this.w,c=this.h,f=this.x-d/2,h=this.y-c/2;b.Update(f,h,d,c,this.sc,this.z,e,a);return b};aX.CheckActive=function(a,e,b){var d=this.tc,c=this.UpdateActive(a,e,b);return c.Active(a,d.mx,d.my)?c:null};aX.Clicked=function(a){var e=this.a,d=e.target,c=e.href,f;if(d!=""&&d!="_self"){if(self.frames[d]){self.frames[d].document.location=c}else{try{if(top.frames[d]){top.frames[d].document.location=c;return}}catch(b){}window.open(c,d)}return}if(bt.createEvent){f=bt.createEvent("MouseEvents");f.initMouseEvent("click",1,1,window,0,0,0,0,0,0,0,0,0,0,null);if(!e.dispatchEvent(f)){return}}else{if(e.fireEvent){if(!e.fireEvent("onclick")){return}}}bt.location=c};function j(f,e,c){var d,a,g=bt.getElementById(f),b=["id","class","innerHTML"],h;if(!g){throw 0}if(bI(window.G_vmlCanvasManager)){g=window.G_vmlCanvasManager.initElement(g);this.ie=parseFloat(navigator.appVersion.split("MSIE")[1])}if(g&&(!g.getContext||!g.getContext("2d").fillText)){a=bt.createElement("DIV");for(d=0;d<b.length;++d){a[b[d]]=g[b[d]]}g.parentNode.insertBefore(a,g);g.parentNode.removeChild(g);throw 0}for(d in j.options){this[d]=c&&bI(c[d])?c[d]:(bI(j[d])?j[d]:j.options[d])}this.canvas=g;this.ctxt=g.getContext("2d");this.z1=250/this.depth;this.z2=this.z1/this.zoom;this.radius=bS(g.height,g.width)*0.0075;this.max_weight=[];this.min_weight=[];this.textFont=this.textFont&&aN(this.textFont);this.textHeight*=1;this.pulsateTo=bx(this.pulsateTo,0,1);this.minBrightness=bx(this.minBrightness,0,1);this.maxBrightness=bx(this.maxBrightness,this.minBrightness,1);this.ctxt.textBaseline="top";this.lx=(this.lock+"").indexOf("x")+1;this.ly=(this.lock+"").indexOf("y")+1;this.frozen=this.dx=this.dy=this.fixedAnim=this.touched=0;this.fixedAlpha=1;this.source=e||f;this.transform=a9.Identity();this.startTime=this.time=bn();this.mx=this.my=-1;this.Animate=this.dragControl?this.AnimateDrag:this.AnimatePosition;this.animTiming=(typeof j[this.animTiming]=="function"?j[this.animTiming]:j.Smooth);if(this.shadowBlur||this.shadowOffset[0]||this.shadowOffset[1]){this.ctxt.shadowColor=this.shadow;this.shadow=this.ctxt.shadowColor;this.shadowAlpha=bF()}else{delete this.shadow}this.Load();if(e&&this.hideTags){(function(k){if(j.loaded){k.HideTags()}else{bN("load",function(){k.HideTags()},window)}})(this)}this.yaw=this.initial?this.initial[0]*this.maxSpeed:0;this.pitch=this.initial?this.initial[1]*this.maxSpeed:0;if(this.tooltip){this.ctitle=g.title;g.title="";if(this.tooltip=="native"){this.Tooltip=this.TooltipNative}else{this.Tooltip=this.TooltipDiv;if(!this.ttdiv){this.ttdiv=bt.createElement("div");this.ttdiv.className=this.tooltipClass;this.ttdiv.style.position="absolute";this.ttdiv.style.zIndex=g.style.zIndex+1;bN("mouseover",function(k){k.target.style.display="none"},this.ttdiv);bt.body.appendChild(this.ttdiv)}}}else{this.Tooltip=this.TooltipNone}if(!this.noMouse&&!aY[f]){aY[f]=[["mousemove",bL],["mouseout",bv],["mouseup",bR],["touchstart",a7],["touchend",aK],["touchcancel",aK],["touchmove",bo]];if(this.dragControl){aY[f].push(["mousedown",i]);aY[f].push(["selectstart",bm])}if(this.wheelZoom){aY[f].push(["mousewheel",bK]);aY[f].push(["DOMMouseScroll",bK])}for(d=0;d<aY[f].length;++d){bN(aY[f][d][0],aY[f][d][1],g)}}if(!j.started){h=window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;j.NextFrame=h?j.NextFrameRAF:j.NextFrameTimeout;j.interval=this.interval;j.NextFrame(this.interval);j.started=1}}ba=j.prototype;ba.SourceElements=function(){if(bt.querySelectorAll){return bt.querySelectorAll("#"+this.source)}return[bt.getElementById(this.source)]};ba.HideTags=function(){var b=this.SourceElements(),a;for(a=0;a<b.length;++a){b[a].style.display="none"}};ba.GetTags=function(){var e=this.SourceElements(),a,d=[],b,c;for(b=0;b<e.length;++b){a=e[b].getElementsByTagName("a");for(c=0;c<a.length;++c){d.push(a[c])}}return d};ba.Message=function(a){var h=[],e,g,f=a.split(""),c,k,b,d;for(e=0;e<f.length;++e){if(f[e]!=" "){g=e-f.length/2;c=bt.createElement("A");c.href="#";c.innerText=f[e];b=100*bJ(g/9);d=-100*aF(g/9);k=new aV(this,f[e],c,[b,0,d],2,18,"#000","#fff",0,0,0,"monospace",2,f[e]);k.Init();
h.push(k)}}return h};ba.CreateTag=function(b){var k,d,h,c,l,f,a,e,g=[0,0,0];if("text"!=this.imageMode){k=b.getElementsByTagName("img");if(k.length){d=new Image;d.src=k[0].src;if(!this.imageMode){h=new aV(this,"",b,g,0,0);h.SetImage(d);bu(d,k[0],h,this);return h}}}if("image"!=this.imageMode){l=new bj(b);c=l.Lines();if(!l.Empty()){f=this.textFont||aN(a2(b,"font-family"));if(this.splitWidth){c=l.SplitWidth(this.splitWidth,this.ctxt,f,this.textHeight)}a=this.bgColour=="tag"?a2(b,"background-color"):this.bgColour;e=this.bgOutline=="tag"?a2(b,"color"):this.bgOutline}else{l=null}}if(l||d){h=new aV(this,c,b,g,2,this.textHeight+2,this.textColour||a2(b,"color"),a,this.bgRadius,e,this.bgOutlineThickness,f,this.padding,l&&l.original);if(d){h.SetImage(d);bu(d,k[0],h,this)}else{h.Init()}return h}};ba.UpdateTag=function(e,f){var a=this.textColour||a2(f,"color"),d=this.textFont||aN(a2(f,"font-family")),b=this.bgColour=="tag"?a2(f,"background-color"):this.bgColour,c=this.bgOutline=="tag"?a2(f,"color"):this.bgOutline;e.a=f;e.title=f.title;if(e.colour!=a||e.textFont!=d||e.bgColour!=b||e.bgOutline!=c){e.SetFont(d,a,b,c)}};ba.Weight=function(k){var d=k.length,b,f,h,c=[],g,e=this.weightFrom?this.weightFrom.split(/[, ]/):[null],a=e.length;for(f=0;f<d;++f){c[f]=[];for(h=0;h<a;++h){b=aH(k[f].a,e[h],this.textHeight);if(!this.max_weight[h]||b>this.max_weight[h]){this.max_weight[h]=b}if(!this.min_weight[h]||b<this.min_weight[h]){this.min_weight[h]=b}c[f][h]=b}}for(h=0;h<a;++h){if(this.max_weight[h]>this.min_weight[h]){g=1}}if(g){for(f=0;f<d;++f){k[f].SetWeight(c[f])}}};ba.Load=function(){var h=this.GetTags(),a=[],l,k,b,e,f,g,d,m,c=[],n={sphere:aL,vcylinder:bE,hcylinder:by,vring:aW,hring:aO};if(h.length){c.length=h.length;for(m=0;m<h.length;++m){c[m]=m}this.shuffleTags&&bD(c);e=100*this.radiusX;f=100*this.radiusY;g=100*this.radiusZ;this.max_radius=aJ(e,aJ(f,g));for(m=0;m<h.length;++m){k=this.CreateTag(h[c[m]]);if(k){a.push(k)}}this.weight&&this.Weight(a,true);if(this.shapeArgs){this.shapeArgs[0]=a.length}else{b=this.shape.toString().split(/[(),]/);l=b.shift();this.shape=n[l]||n.sphere;this.shapeArgs=[a.length,e,f,g].concat(b)}d=this.shape.apply(this,this.shapeArgs);this.listLength=a.length;for(m=0;m<a.length;++m){a[m].position=new bM(d[m][0],d[m][1],d[m][2])}}if(this.noTagsMessage&&!a.length){a=this.Message("No tags")}this.taglist=a};ba.Update=function(){var h=this.GetTags(),k=[],c=this.taglist,g,l=[],a=[],e,m,f,b,d;if(!this.shapeArgs){return this.Load()}if(h.length){f=this.listLength=h.length;m=c.length;for(b=0;b<m;++b){k.push(c[b]);a.push(b)}for(b=0;b<f;++b){for(d=0,g=0;d<m;++d){if(c[d].EqualTo(h[b])){this.UpdateTag(k[d],h[b]);g=a[d]=-1}}if(!g){l.push(b)}}for(b=0,d=0;b<m;++b){if(a[d]==-1){a.splice(d,1)}else{++d}}if(a.length){bD(a);while(a.length&&l.length){b=a.shift();d=l.shift();k[b]=this.CreateTag(h[d])}a.sort(function(n,o){return n-o});while(a.length){k.splice(a.pop(),1)}}d=k.length/(l.length+1);b=0;while(l.length){k.splice(bB(++b*d),0,this.CreateTag(h[l.shift()]))}this.shapeArgs[0]=f=k.length;e=this.shape.apply(this,this.shapeArgs);for(b=0;b<f;++b){k[b].position=new bM(e[b][0],e[b][1],e[b][2])}this.weight&&this.Weight(k)}this.taglist=k};ba.SetShadow=function(a){a.shadowBlur=this.shadowBlur;a.shadowOffsetX=this.shadowOffset[0];a.shadowOffsetY=this.shadowOffset[1]};ba.Draw=function(h){if(this.paused){return}var p=this.canvas,r=p.width,k=p.height,f=0,s=(h-this.time)*j.interval/1000,l=r/2+this.offsetX,m=k/2+this.offsetY,b=this.ctxt,n,a,d,t=-1,q=this.taglist,e=q.length,u=this.frontSelect,g=(this.centreFunc==bm),o;this.time=h;if(this.frozen&&this.drawn){return this.Animate(r,k,s)}o=this.AnimateFixed();b.setTransform(1,0,0,1,0,0);for(d=0;d<e;++d){q[d].Calc(this.transform,this.fixedAlpha)}q=bw(q,function(w,v){return v.z-w.z});if(o&&this.fixedAnim.active){n=this.fixedAnim.tag.UpdateActive(b,l,m)}else{this.active=null;for(d=0;d<e;++d){a=this.mx>=0&&this.my>=0&&this.taglist[d].CheckActive(b,l,m);if(a&&a.sc>f&&(!u||a.z<=0)){n=a;t=d;n.tag=this.taglist[d];f=a.sc}}this.active=n}this.txtOpt||(this.shadow&&this.SetShadow(b));b.clearRect(0,0,r,k);for(d=0;d<e;++d){if(!g&&q[d].z<=0){try{this.centreFunc(b,r,k,l,m)}catch(c){alert(c);this.centreFunc=bm}g=true}if(!(n&&n.tag==q[d]&&n.PreDraw(b,q[d],l,m))){q[d].Draw(b,l,m)}n&&n.tag==q[d]&&n.PostDraw(b)}if(this.freezeActive&&n){this.Freeze()}else{this.UnFreeze();this.drawn=(e==this.listLength)}if(this.fixedCallback){this.fixedCallback(this,this.fixedCallbackTag);this.fixedCallback=null}o||this.Animate(r,k,s);n&&n.LastDraw(b);p.style.cursor=n?this.activeCursor:"";this.Tooltip(n,this.taglist[t])};ba.TooltipNone=function(){};ba.TooltipNative=function(a,b){if(a){this.canvas.title=b&&b.title?b.title:""}else{this.canvas.title=this.ctitle}};ba.SetTTDiv=function(a,c){var d=this,b=d.ttdiv.style;if(a!=d.ttdiv.innerHTML){b.display="none"}d.ttdiv.innerHTML=a;c&&(c.title=d.ttdiv.innerHTML);if(b.display=="none"&&!d.tttimer){d.tttimer=setTimeout(function(){var e=bO(d.canvas.id);b.display="block";b.left=e.x+d.mx+"px";b.top=e.y+d.my+24+"px";
d.tttimer=null},d.tooltipDelay)}};ba.TooltipDiv=function(a,b){if(a&&b&&b.title){this.SetTTDiv(b.title,b)}else{if(!a&&this.mx!=-1&&this.my!=-1&&this.ctitle.length){this.SetTTDiv(this.ctitle)}else{this.ttdiv.style.display="none"}}};ba.Transform=function(c,h,a){if(h||a){var g=bJ(h),b=aF(h),k=bJ(a),d=aF(a),f=new a9([d,0,k,0,1,0,-k,0,d]),e=new a9([1,0,0,0,b,-g,0,g,b]);c.transform=c.transform.mul(f.mul(e))}};ba.AnimateFixed=function(){var d,c,a,e,b;if(this.fadeIn){c=bn()-this.startTime;if(c>=this.fadeIn){this.fadeIn=0;this.fixedAlpha=1}else{this.fixedAlpha=c/this.fadeIn}}if(this.fixedAnim){if(!this.fixedAnim.transform){this.fixedAnim.transform=this.transform}d=this.fixedAnim,c=bn()-d.t0,a=d.angle,e,b=this.animTiming(d.t,c);this.transform=d.transform;if(c>=d.t){this.fixedCallbackTag=d.tag;this.fixedCallback=d.cb;this.fixedAnim=this.yaw=this.pitch=0}else{a*=b}e=a9.Rotation(a,d.axis);this.transform=this.transform.mul(e);return(this.fixedAnim!=0)}return false};ba.AnimatePosition=function(e,a,c){var d=this,f=d.mx,g=d.my,b,h;if(!d.frozen&&f>=0&&g>=0&&f<e&&g<a){b=d.maxSpeed,h=d.reverse?-1:1;d.lx||(d.yaw=((f*2*b/e)-b)*h*c);d.ly||(d.pitch=((g*2*b/a)-b)*-h*c);d.initial=null}else{if(!d.initial){if(d.frozen&&!d.freezeDecel){d.yaw=d.pitch=0}else{d.Decel(d)}}}this.Transform(d,d.pitch,d.yaw)};ba.AnimateDrag=function(d,a,b){var e=this,c=100*b*e.maxSpeed/e.max_radius/e.zoom;if(e.dx||e.dy){e.lx||(e.yaw=e.dx*c/e.stretchX);e.ly||(e.pitch=e.dy*-c/e.stretchY);e.dx=e.dy=0;e.initial=null}else{if(!e.initial){e.Decel(e)}}this.Transform(e,e.pitch,e.yaw)};ba.Freeze=function(){if(!this.frozen){this.preFreeze=[this.yaw,this.pitch];this.frozen=1;this.drawn=0}};ba.UnFreeze=function(){if(this.frozen){this.yaw=this.preFreeze[0];this.pitch=this.preFreeze[1];this.frozen=0}};ba.Decel=function(d){var c=d.minSpeed,a=bf(d.yaw),b=bf(d.pitch);if(!d.lx&&a>c){d.yaw=a>d.z0?d.yaw*d.decel:0}if(!d.ly&&b>c){d.pitch=b>d.z0?d.pitch*d.decel:0}};ba.Zoom=function(a){this.z2=this.z1*(1/a);this.drawn=0};ba.Clicked=function(b){var c=this.active;try{if(c&&c.tag){if(this.clickToFront===false||this.clickToFront===null){c.tag.Clicked(b)}else{this.TagToFront(c.tag,this.clickToFront,function(){c.tag.Clicked(b)},true)}}}catch(a){}};ba.Wheel=function(b){var a=this.zoom+this.zoomStep*(b?1:-1);this.zoom=bS(this.zoomMax,aJ(this.zoomMin,a));this.Zoom(this.zoom)};ba.BeginDrag=function(a){this.down=a8(a,this.canvas);a.cancelBubble=true;a.returnValue=false;a.preventDefault&&a.preventDefault()};ba.Drag=function(a,b){if(this.dragControl&&this.down){var d=this.dragThreshold*this.dragThreshold,c=b.x-this.down.x,e=b.y-this.down.y;if(this.dragging||c*c+e*e>d){this.dx=c;this.dy=e;this.dragging=1;this.down=b}}};ba.EndDrag=function(){var a=this.dragging;this.dragging=this.down=null;return a};ba.Pause=function(){this.paused=true};ba.Resume=function(){this.paused=false};ba.SetSpeed=function(a){this.initial=a;this.yaw=a[0]*this.maxSpeed;this.pitch=a[1]*this.maxSpeed};ba.FindTag=function(d){if(!bI(d)){return null}bI(d.index)&&(d=d.index);if(!bk(d)){return this.taglist[d]}var b,a,c;if(bI(d.id)){b="id",a=d.id}else{if(bI(d.text)){b="innerText",a=d.text}}for(c=0;c<this.taglist.length;++c){if(this.taglist[c].a[b]==a){return this.taglist[c]}}};ba.RotateTag=function(k,e,l,h,a,f){var m=k.xformed,c=new bM(m.x,m.y,m.z),d=bH(l,e),g=c.angle(d),b=c.cross(d).unit();if(g==0){this.fixedCallbackTag=k;this.fixedCallback=a}else{this.fixedAnim={angle:-g,axis:b,t:h,t0:bn(),cb:a,tag:k,active:f}}};ba.TagToFront=function(d,c,a,b){this.RotateTag(d,0,0,c,a,b)};j.Start=function(b,c,a){j.Delete(b);j.tc[b]=new j(b,c,a)};function bp(b,a){j.tc[a]&&j.tc[a][b]()}j.Linear=function(b,a){return a/b};j.Smooth=function(b,a){return 0.5-aF(a*Math.PI/b)/2};j.Pause=function(a){bp("Pause",a)};j.Resume=function(a){bp("Resume",a)};j.Reload=function(a){bp("Load",a)};j.Update=function(a){bp("Update",a)};j.SetSpeed=function(a,b){if(bk(b)&&j.tc[a]&&!isNaN(b[0])&&!isNaN(b[1])){j.tc[a].SetSpeed(b);return true}return false};j.TagToFront=function(a,b){if(!bk(b)){return false}b.lat=b.lng=0;return j.RotateTag(a,b)};j.RotateTag=function(b,c){if(bk(c)&&j.tc[b]){if(isNaN(c.time)){c.time=500}var a=j.tc[b].FindTag(c);if(a){j.tc[b].RotateTag(a,c.lat,c.lng,c.time,c.callback,c.active);return true}}return false};j.Delete=function(a){var c,b;if(aY[a]){b=bt.getElementById(a);if(b){for(c=0;c<aY[a].length;++c){aZ(aY[a][c][0],aY[a][c][1],b)}}}delete aY[a];delete j.tc[a]};j.NextFrameRAF=function(){requestAnimationFrame(br)};j.NextFrameTimeout=function(a){setTimeout(bc,a)};j.tc={};j.options={z1:20000,z2:20000,z0:0.0002,freezeActive:false,freezeDecel:false,activeCursor:"pointer",pulsateTo:1,pulsateTime:3,reverse:false,depth:0.5,maxSpeed:0.05,minSpeed:0,decel:0.95,interval:20,minBrightness:0.1,maxBrightness:1,outlineColour:"#ffff99",outlineThickness:2,outlineOffset:5,outlineMethod:"outline",outlineRadius:0,textColour:"#ff99ff",textHeight:15,textFont:"Helvetica, Arial, sans-serif",shadow:"#000",shadowBlur:0,shadowOffset:[0,0],initial:null,hideTags:true,zoom:1,weight:false,weightMode:"size",weightFrom:null,weightSize:1,weightSizeMin:null,weightSizeMax:null,weightGradient:{0:"#f00",0.33:"#ff0",0.66:"#0f0",1:"#00f"},txtOpt:true,txtScale:2,frontSelect:false,wheelZoom:true,zoomMin:0.3,zoomMax:3,zoomStep:0.05,shape:"sphere",lock:null,tooltip:null,tooltipDelay:300,tooltipClass:"tctooltip",radiusX:1,radiusY:1,radiusZ:1,stretchX:1,stretchY:1,offsetX:0,offsetY:0,shuffleTags:false,noSelect:false,noMouse:false,imageScale:1,paused:false,dragControl:false,dragThreshold:4,centreFunc:bm,splitWidth:0,animTiming:"Smooth",clickToFront:false,fadeIn:0,padding:0,bgColour:null,bgRadius:0,bgOutline:null,bgOutlineThickness:0,outlineIncrease:4,textAlign:"centre",textVAlign:"middle",imageMode:null,imagePosition:null,imagePadding:2,imageAlign:"centre",imageVAlign:"middle",noTagsMessage:true};
for(be in j.options){j[be]=j.options[be]}window.TagCanvas=j;jQuery.fn.tagcanvas=function(b,c){var a={pause:function(){bC(this).each(function(){bp("Pause",bC(this)[0].id)})},resume:function(){bC(this).each(function(){bp("Resume",bC(this)[0].id)})},reload:function(){bC(this).each(function(){bp("Load",bC(this)[0].id)})},update:function(){bC(this).each(function(){bp("Update",bC(this)[0].id)})},tagtofront:function(){bC(this).each(function(){j.TagToFront(bC(this)[0].id,c)})},rotatetag:function(){bC(this).each(function(){j.RotateTag(bC(this)[0].id,c)})},"delete":function(){bC(this).each(function(){j.Delete(bC(this)[0].id)})},setspeed:function(){bC(this).each(function(){j.SetSpeed(bC(this)[0].id,c)})}};if(typeof b=="string"&&a[b]){a[b].apply(this);return this}else{j.jquery=1;bC(this).each(function(){j.Start(bC(this)[0].id,c,b)});return j.started}};bN("load",function(){j.loaded=1},window)})(jQuery);(function(b){var c={triggerEdge:1,pathToNextPage:undefined,showLoadingUi:false};var a={setPathToNextPage:function(e,d){var f=undefined;if(b(e).length>0){f=b(e).attr("href")}else{f=undefined}return f},isScrolledToBottom:function(d){var e=b(this);if(e.find(e.data("itemsToLoad")+":last").position().top-b(window).scrollTop()-b(window).height()<d){return true}else{return false}},isBusy:function(){var d=false;if(b(this).data("busy")=="true"){d=true}return d}};b.fn.infinitescroll=function(d,f){if(b.type(d)=="string"){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}var e=b.extend(c,d);this.each(function(){var g=b(this);g.attr("data-infinitescroll","true");g.data("itemsToLoad",e.itemsToLoad);g.data("navElement",e.navElement);g.data("triggerEdge",e.triggerEdge);g.data("showLoader",e.showLoader);b(e.navElement).hide();g.on("listen.infinitescroll",function(){if(g.infinitescroll("isBusy")){return}if(g.infinitescroll("isScrolledToBottom",g.data("triggerEdge"))){var h=g.infinitescroll("setPathToNextPage",g.data("navElement"));if(h==undefined){return}if(g.data("showLoader")){b.mobile.loading("show")}g.data("busy","true");b.ajax(h).done(function(j){g.data("busy","false");b.mobile.loading("hide");var i=b(j).find(g.data("itemsToLoad"));i.each(function(){g.append(this)});var k=b(j).find(g.data("navElement"));if(k.length>0){b(g.data("navElement")).attr("href",k.attr("href"))}else{g.off("listen.infinitescroll")}if(f){f()}})}return false})});b(window).trigger("scrollstop.infinitescroll");return this};b(window).off("scrollstop.infinitescroll").on("scrollstop.infinitescroll",function(){b('[data-infinitescroll="true"]').each(function(){b(this).trigger("listen.infinitescroll")})})})(jQuery);var dataLayer=typeof dataLayer==="undefined"?[]:dataLayer;var scopeUrl=typeof scopeUrl==="undefined"?"":scopeUrl;var revisionTime=typeof revisionTime==="undefined"?"":revisionTime;$(document).ready(function(){(function(){var a,b;if(typeof request.form_is_sent==="undefined"){request=undefined;return}a=$('input[type="hidden"][name="form_is_sent"]').filter('[value="'+request.form_is_sent+'"]').parent();if(a.length===0){request=undefined;return}$.each(request,function(d,c){if(c!=="form_is_sent"){b=a.find('[name="'+d+'"], [name="'+d+'[]"]').not('input[type="password"]').not('input[type="hidden"]').not('input[type="submit"]');if(b.length>0){switch(b.attr("type")){case"checkbox":if($.isArray(c)){b.attr("checked",false);b.filter($.map(c,function(e){return'[value="'+e+'"]'}).join(",")).attr("checked",true)}else{b.attr("checked",true)}window.$.mobile&&b.checkboxradio("refresh");break;case"radio":b.filter('[value="'+c+'"]').attr("checked",true).trigger("change");window.$.mobile&&b.checkboxradio("refresh");break;default:if(b.is(".bootstrap-slider")){b.slider().slider("setValue",parseInt(c))}else{b.val(c);if(window.$.mobile){if(b.is('input[data-type="range"]')||b.is('select[data-role="slider"]')){b.slider("refresh")}else{if(b.is("select")){b.selectmenu("refresh")}}}}}}}});request=undefined})();(function(){$(window).scroll(function(){if($(this).scrollTop()){$("#toTop").fadeIn();$("body").addClass("scrolled")}else{$("#toTop").fadeOut();$("body").removeClass("scrolled")}})})();(function(){$(window).on("load",function(){$("#toTop").on("click change touchstart tap",function(){$("html,body").animate({scrollTop:0,scrollLeft:0},500,function(){$("html,body").clearQueue()})})})})();(function(){$("form").filter('[data-prevent_multi_submission="true"]').on("submit",function(){$(this).find('[type="submit"]').attr("disabled","disabled")})})();(function(){$(".tagcanvas_container").each(function(){var f=$(this);f.show();if(f.find("canvas").length==0||f.length==0||f.find(".textcolour").length==0||f.find(".outlinecolour").length==0||f.find(".reverse").length==0){return}var e=f.find(".textcolour").val();var a=f.find(".outlinecolour").val();var d=f.find(".reverse").val();var b=f.find(".shape").val();var c={textColour:e,outlineColour:a,shape:(b==""||!b)?"sphere":b,reverse:d=="yes",depth:0.8,maxSpeed:0.05,decel:0.4};switch(c.shape){case"hcylinder":case"hring":c.lock="x";c.initial=[0,0.2];
break;case"vring":c.shape="vring(0.5)";c.lock="y";c.offsetY=-60;c.initial=[0.2,0];break;default:c.initial=[0.2,0.2]}if(!f.find("canvas").tagcanvas(c)){f.hide()}});return false})();(function(){var a={fix:function(e){var b=e.slides,c=b.length,g=e.vars.maxItems>0?e.vars.maxItems:1,j=e.currentSlide,d,m,n=0,f;if(g>c){g=c}d=(j*g+g)>=c?c-g:j*g;m=d+g-1;if(g>1){for(var h=d;h<=m;h++){var o=0;var l=0;var k=$(b[h]).find(".lazyload").data("ratio");if(k==undefined){k=1}l=(b[h].offsetWidth*k)+b[h].offsetHeight;f=b[h].offsetHeight;o=f>l?f:l;n=o>n?o:n}e.viewport.css("max-height",n)}if($(".ui-page").length>0){e.viewport.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){$(".ui-panel-dismiss-open").filter(".ui-panel-dismiss-display-push").outerHeight($(".ui-page").outerHeight())})}},init:function(c){var b=this;if(typeof c!=="undefined"){var d=$(".carousel-flexslider",c).filter(".flexslider")}else{var d=$(".carousel-flexslider").filter(".flexslider")}d.each(function(){var i=$(this);var e=i.data("numbervisibleslidesmobileportrait");var k=i.data("numbervisibleslidesmobilelandscapetabletportrait");var j=i.data("numbervisibleslidestabletlandscapecomputer");var g=1;if(e&&k&&j){g=window.matchMedia("all and (min-width: 75em)").matches?j:(window.matchMedia("all and (min-width: 42em)").matches?k:e)}if(i.width()<=0){i.data("widthNotInit",true)}var h=null;var f=i.width()/g;i.find("img[data-ratio]").each(function(){var m=$(this).data("ratio");var l=m*f;if(h===null){h=l}h=h>l?l:h});i.css("min-height",h);i.flexslider({animation:"slide",slideshow:(i.data("slideshow")==="on"),after:b.fix,start:b.fix,itemWidth:(f>0?f:1),maxItems:g})})},update:function(){$(".carousel-flexslider").filter(".flexslider").each(function(){var g=$(this);var b=g.data("numbervisibleslidesmobileportrait");var i=g.data("numbervisibleslidesmobilelandscapetabletportrait");var h=g.data("numbervisibleslidestabletlandscapecomputer");if(b||i||h){var d=window.matchMedia("all and (min-width: 75em)").matches?h:(window.matchMedia("all and (min-width: 42em)").matches?i:b);var f=g.data("flexslider");f.vars.itemWidth=g.width()/d;if(g.data("widthNotInit")&&g.width()>0){var c=f.vars.itemWidth;var e=null;g.find("img[data-ratio]").each(function(){var k=$(this).data("ratio");var j=k*c;if(e===null){e=j}e=e>j?j:e});g.css("min-height",e)}f.doMath()}})}};$(window).load(function(){a.init()});$(window).on("resize orientationchange",function(){a.update()});window.flexsliderAjaxInit=function(b){a.init(b)};window.flexsliderFix=function(b){a.fix($(b).data("flexslider"))}})();(function(){$("body").on("click","a[data-gcategory]",function(){gaTrackAction($(this).data("gcategory"),$(this).data("gaction"),$(this).data("gvalue"))}).on("click","a[data-virtualpageurl]",function(){var a=$(this).data();dataLayer.push({event:"VirtualPageview",virtualPageUrl:typeof a.virtualpageurl==="undefined"?"":a.virtualpageurl,virtualPageTitle:typeof a.virtualpagetitle==="undefined"?"":a.virtualpagetitle})})})();(function(){$("body").on("click","button[type = submit]",function(){var e=$(this).closest("form");if(e.size()>0){var b=e.data("gcategory"),a=e.data("gaction"),d=e.data("gvalue"),c=e.data("virtualpageurl"),f=e.data("virtualpageurl");if(typeof b!=="undefined"&&b!==""){gaTrackAction(b,a,d)}if(typeof c!=="undefined"&&c!==""){dataLayer.push({event:"VirtualPageview",virtualPageUrl:c,virtualPageTitle:typeof f==="undefined"?"":f})}}return true})})();(function(){initCarousel=function(){$.each($(".slideshow"),function(){var g=$(this);if(g.hasClass("active")){return}g.addClass("active");var b=$(g).attr("contrcolor");var j=$(g).attr("contrwidth");var i=$(g).attr("maxwidth");g.prepend('<span class="control leftControl" style="background-color: '+b+'">&lt;</span>').append('<span class="control rightControl" style="background-color: '+b+'">&rt;</span>');var a=g.find(".slidesContainer");a.css({"margin-left":j,"margin-right":j});g.find(".rightControl").css("backgroundImage","url("+g.attr("rightcontrolimg")+")");g.find(".leftControl").css("backgroundImage","url("+g.attr("leftcontrolimg")+")");var c=g.find(".slide");c.wrapAll('<div class="slideInner"></div>');var d=c.length;a.css("overflow","hidden");c.css("maxWidth",(parseInt(i,10)-parseInt(j,10))+"px");var f=0;var h=function(){var k;if(g.parent().width()<parseInt(g.css("max-width"),10)){k=g.parent().width()}else{k=g.css("max-width")}a.width(parseInt(k,10)-parseInt(j,10));var m=a.width()-parseInt(j,10);c.css({"float":"left",width:m});c.find(".slideInner").css("width",m*d);g.find(".slideInner").css("margin-left",m*(-f));var l=0;$.each(c,function(){$(this).css("height","auto");if($(this).outerHeight()>l){l=$(this).height()}});c.height(l);a.height(l);g.height(l);g.find(".control").height(l);g.find(".control").unbind("click").bind("click",function(){if($(this).hasClass("rightControl")){if(f>=d-1){return}f++}else{if(f<=0){return}f--}e(f,d);g.find(".slideInner").animate({marginLeft:m*(-f)})});e(f,d)};$(window).bind("orientationchange resize",function(){h();setTimeout(h,500)
});$(window).trigger("orientationchange");function e(k,l){if(k<=0){$(".leftControl").addClass("inactive")}else{$(".leftControl").removeClass("inactive")}if(k>=l-1){$(".rightControl").addClass("inactive")}else{$(".rightControl").removeClass("inactive")}}})}})();(function(){$.each($("img[data-html5]"),function(b,c){var a=$("<iframe>");a.attr("src",$(this).data("html5"));if($(this).data("fwidth")){a.css("width",$(this).data("fwidth"))}if($(this).data("fheight")){a.css("height",$(this).data("fheight"))}$(this).replaceWith(a)})})();(function(){$("body").on("click","[data-history]",function(b){var a=$(this).data("history");if(typeof a!=="undefined"){if(a=="forward"){b.preventDefault();history.forward()}else{if(a=="backward"){b.preventDefault();history.back()}}}})})()});function addAjaxPrefilter_BeforeOnReady(){$.ajaxPrefilter(function(a,h,c){if(["post","put","patch","delete"].indexOf(a.type.toLowerCase())!==-1&&!a.crossDomain){var f=$("meta[name=csrf-param]").attr("content");var b=$("meta[name=csrf-token]").attr("content");if(typeof(a.data)==="object"){a.data.append(f,b)}else{var g="";try{var g=JSON.parse(a.data)}catch(d){}if(typeof(g)==="object"){g[f]=b;a.data=JSON.stringify(g)}else{a.data+="&"+f+"="+b}}}})}addAjaxPrefilter_BeforeOnReady();function gaTrackAction(c,a,f,b){var d=false;if(typeof ga!=="undefined"&&ga.getAll){var g=ga.getAll()[0].get("name");if(typeof b==="undefined"){ga(g+".send","event",c,a,f)}else{d=true;ga(g+".send","event",c,a,f,{hitCallback:createFunctionWithTimeout(function(){b()})})}}else{if(typeof _gaq!=="undefined"&&_gaq.length==0){console.log("ga event fire","gcategory="+c,"gaction="+a,"gvalue="+f);if(typeof b!=="undefined"){d=true;b()}}}var e=e||[];e.push({eventCategory:c,eventAction:a,eventLabel:f,event:"GAEvent"});if(typeof b!=="undefined"&&!d){console.log("hitCallback()");b()}}function spTrackAction(a){if(typeof snowplow!=="undefined"){snowplow("trackSelfDescribingEvent",a)}else{console.log("SnowPlow Fake Event");console.log(JSON.stringify(a))}}function createFunctionWithTimeout(d,a){var c=false;function b(){if(!c){c=true;d()}}setTimeout(b,a||1000);return b}function ajaxCallGaTrackAction(b,a,c){if(typeof b!=="undefined"||typeof a!=="undefined"||typeof c!=="undefined"){gaTrackAction(b,a,c)}}var deferredPrompt=null;if(typeof BeforeInstallPromptEvent!=="undefined"){window.addEventListener("beforeinstallprompt",function(a){a.preventDefault();deferredPrompt=a})}if("serviceWorker" in navigator&&scopeUrl!==""){window.addEventListener("load",function(){navigator.serviceWorker.register(scopeUrl+"sw-offline.js?_ts="+revisionTime,{scope:scopeUrl})})}else{console.log("Unable to proceed to service worker registration.")}$.mobile.hideUrlBar=false;$(document).ready(function(){var a=$(".ui-page");initEnablePanel(a);initEnablePopup(a);initButtons();initItemsList();initItemsListSearch();initNavbar();initCheckbox();initSwipe(a);initSitePage()});var dealWithFlexSlider=function(a){var c=a.find(".carousel-flexslider");if(c.length===0){return}var b=a.width();a.width($(document).width()*0.8);$(window).trigger("orientationchange");c.each(function(){if($(this).css("max-width").slice(-1)==="%"){b=a.width()}else{if(b<$(this).width()){b=$(this).width()}}flexsliderFix(this)});a.width(b)};var initEnablePanel=function(a){if(!a){a=$(".ui-page")}a.on("click",".openPanel",function(){$("[data-panel-id = "+$(this).data("panel")+"]").on("panelopen",function(){$(".ui-panel-dismiss-open").filter(".ui-panel-dismiss-display-push").outerHeight(a.outerHeight());$(window).trigger("orientationchange");$(this).find(".flexslider").each(function(){$(this).flexslider("next");$(this).flexslider("prev")})}).panel("open")}).on("click",".closePanel",function(){$("[data-panel-id = "+$(this).data("panel")+"]").panel("close")})};var initEnablePopup=function(a){if(!a){a=$(".ui-page")}a.on("click",".openPopup",function(b){b.preventDefault();var c=$("[data-popup-id = "+$(this).data("popup")+"]");c.popup({beforeposition:function(){dealWithFlexSlider(c)}});if(c.data("mposition")==="origin"){c.popup("option","positionTo",$(this))}c.popup("open")}).on("click",".closePopup",function(b){b.preventDefault();$("[data-popup-id = "+$(this).data("popup")+"]").popup("close")})};var initButtons=function(){$(".image-button").each(function(){var d=$(this),b=d.find("img").first(),c=b[0].style.width;if(typeof c==="undefined"){return}if(c.indexOf("%")!==-1){var a=d.parent(),e=a.parent();e=e.parent();if(e.hasClass("ui-controlgroup-vertical")){a.css("width","100%");d.css("width",c)}else{if(e.hasClass("ui-controlgroup-horizontal")||a.hasClass("image-button-container-inline")){d.css("width","100%");a.css("width",c)}else{a.css("width","100%");d.css("width",c)}}b.css("width","100%")}})};var initItemsList=function(){var a=function(b){b.find(".ui-grid-a").has(".ui-listview-li-aside").each(function(){var d=$(this),c=$('<div class="ui-block-b">');d.children().first().removeClass().addClass("ui-block-a").find(".ui-listview-li-aside").removeClass("ui-listview-li-aside").appendTo(c);
d.append(c)})};$(".ui-listview").each(function(){a($(this))});$(".list-group-mediaquery").each(function(){var b=$(this),c=b.data("areaId");if(b.children("li").length===0){return}b.infinitescroll({navElement:"a.next"+c,itemsToLoad:"li:not(li li)",showLoader:true},function(){b.listview("refresh").trigger("create");a(b);setTimeout(function(){b.trigger("listen.infinitescroll")},10)})})};var initItemsListSearch=function(){jQuery.expr[":"].containsCaseInsensitive=function(c,d,b){return jQuery(c).text().toUpperCase().indexOf(b[3].toUpperCase())>=0};$(".items-list-search").each(function(){var b=$(this),a=$(".items-list"+b.data("areaId"));b.on("keyup change blur",function(){var d=$(this).val();var c=a.find("li:containsCaseInsensitive("+d+")");$(c).show();var e=a.find("li").not(":containsCaseInsensitive("+d+")");$(e).hide()})})};var initNavbar=function(){$(".ui-panel").find(".ui-navbar").each(function(){$(this).children("ul").removeClass().find("li").removeClass()});var a=function(b){b.flexslider({animation:"slide",animationLoop:false,slideshow:false,controlNav:false,maxItems:5,itemWidth:$(document).width()/5})};$(".ui-header, .ui-footer").find(".ui-navbar").each(function(){var d=$(this),b=d.children("ul"),f=b.children("li"),c=f.children("a"),e=0;c.each(function(){var g=$(this).innerHeight();e=(g>e)?g:e});c.innerHeight(e);if(f.length>5){$(this).addClass("flexslider");b.removeClass().addClass("slides");d.find(".ui-block-a").removeClass("ui-block-a");d.find(".ui-block-b").removeClass("ui-block-b");a(d)}});$(window).on("resize orientationchange",function(){$(".ui-header, .ui-footer").find(".ui-navbar").each(function(){var c=$(this),d=c.find("ul").filter(".slides").children("li");if(d.length>5){var b=c.data("flexslider");b.vars.itemWidth=$(document).width()/5;b.doMath()}})})};var initCheckbox=function(){$(".ui-controlgroup-vertical").find(".ui-checkbox").each(function(){var c=$(this),a=c.children("label"),b=$('<div class="checkbox-value custom-clear-fix">');b.html(a.html());a.html("&nbsp;");c.after(b)})};var initSwipe=function(a){if(!a){a=$(".ui-page")}$(document).on("swipeleft",".ui-page",function(d){var c=$(this);var b=c.attr("data-swipe-page-left");var e=$(d.target).parents('[data-role="page"]');if(e.length==0){e=$(d.target)}if(b&&(e.is(c))){$(":mobile-pagecontainer").pagecontainer("change",b,{transition:"slide"})}});$(document).on("swiperight",".ui-page",function(c){var b=$(this);var d=b.attr("data-swipe-page-right");var e=$(c.target).parents('[data-role="page"]');if(e.length==0){e=$(c.target)}if(d&&(e.is(b))){$(":mobile-pagecontainer").pagecontainer("change",d,{transition:"slide",reverse:true})}});a.off("click","a[data-isswipeleft]").on("click","a[data-isswipeleft]",function(b){b.preventDefault();$(":mobile-pagecontainer").pagecontainer("change",$(this).attr("href"),{transition:"slide",reverse:true})}).off("click","a[data-isswiperight]").on("click","a[data-isswiperight]",function(b){b.preventDefault();$(":mobile-pagecontainer").pagecontainer("change",$(this).attr("href"),{transition:"slide"})})};var initSitePage=function(){$(".initial-page").removeClass("initial-page");var c=$(".js-button-submit");$.each(c,function(g){var f=$(c[g]).closest(".ui-btn");$(f).parent().closest(".ui-btn").after($(f))});$(".js-hide").hide();$("input[type=image]").removeClass("ui-btn-hidden").parent().removeClass("ui-btn ui-shadow ui-btn-corner-all ui-btn-up-a");$("input").each(function(){if($(this).data("textalign")){$(this).parent().css("text-align",$(this).data("textalign"))}});this.openAjaxPanel=function(){var h=$(this).data("target");h=h.substr(1,h.length);if(h){var g=$("[data-panel-id="+h+"]"),f=g.find(".ajax-content").eq(0);if(f.size()==0){g.append($("<div />").addClass("ajax-content"));f=g.find(".ajax-content")}g.find(".ajaxReload:not(.ajax-do-not-remove)").empty();f.load($(this).attr("href"),{},function(){var i=$('ul[data-role="listview"]',f);if(i.length){initItemsList();i.listview()}flexsliderAjaxInit(f)}).end().on("panelopen",function(){$(this).find(".flexslider").each(function(){$(this).flexslider("next");$(this).flexslider("prev")})});$("[data-panel-id="+h+"]").panel("open")}else{$("<div />").data("role","panel").appendTo($(this).closest(".ui-page")).load($(this).attr("href"),{},function(){var i=$('ul[data-role="listview"]',$(this));if(i.length){initItemsList();i.listview()}flexsliderAjaxInit($(this))}).on("panelopen",function(){$(this).find(".flexslider").each(function(){$(this).flexslider("next");$(this).flexslider("prev")})}).panel().panel("open")}$(window).trigger("orientationchange");ajaxCallGaTrackAction($(this).data("gcategory"),$(this).data("gaction"),$(this).data("gvalue"));return false};this.openAjaxPopup=function(){var h=$(this).data("target");$.mobile.loading("show");h=h.substr(1,h.length);if(h){var f=$("[data-popup-id = "+h+"]"),g=f.find(".ajax-content").eq(0);f.popup({beforeposition:function(){dealWithFlexSlider(f)}});if(g.size()===0){f.append($("<div />").addClass("ajax-content"));g=f.find(".ajax-content")}f.find(".ajaxReload:not(.ajax-do-not-remove)").empty();
g.load($(this).attr("href"),{},function(){var i=$('ul[data-role="listview"]',g);if(i.length){initItemsList();i.listview()}flexsliderAjaxInit(g);$.mobile.loading("hide");f.popup("open")})}else{$("<div id='test' />").data("role","popup").appendTo($(this).closest(".ui-page")).load($(this).attr("href"),{},function(){var i=$('ul[data-role="listview"]',$(this));if(i.length){initItemsList();i.listview()}flexsliderAjaxInit($(this));$.mobile.loading("hide")}).popup({beforeposition:function(){dealWithFlexSlider(f)}}).popup("open")}$(window).trigger("orientationchange");ajaxCallGaTrackAction($(this).data("gcategory"),$(this).data("gaction"),$(this).data("gvalue"));return false};$(".ui-page").on("click",".ajaxPanel",this.openAjaxPanel).on("click",".ajaxPopup",this.openAjaxPopup);$(".ui-page").on("click",".item",function(){$(this).addClass("ui-btn-active")});var e=$(".ui-page").attr("class").split(/\s+/);var d="";for(var a=0;a<e.length;a++){if(e[a].substring(0,5)=="style"){d+=" "+e[a]}}$(".ui-page > .ui-panel-content-wrap").addClass(d);var b=false;$(".ui-page").on("click","a[data-dclick]",function(){if(b){return false}$(this).off("click");$("#block-ui").show();$.mobile.loading("show");b=true;return true});$(document).on("pagechange",function(){$("#block-ui").hide();b=false})};if("serviceWorker" in navigator){navigator.serviceWorker.ready.then(function(a){window.addEventListener("offline",function(b){$("#offline-popup").popup("open",{transition:"fade"})});window.addEventListener("online",function(b){$("#offline-popup").popup("close",{transition:"fade"})})})};