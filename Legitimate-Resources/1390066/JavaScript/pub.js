/* LegacyMode */
(()=>{var pt=Object.defineProperty,le=Object.defineProperties,ce=Object.getOwnPropertyDescriptor,ge=Object.getOwnPropertyDescriptors;var xt=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var dt=(o,t,e)=>t in o?pt(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,_=(o,t)=>{for(var e in t||(t={}))ue.call(t,e)&&dt(o,e,t[e]);if(xt)for(var e of xt(t))de.call(t,e)&&dt(o,e,t[e]);return o},P=(o,t)=>le(o,ge(t)),i=(o,t)=>pt(o,"name",{value:t,configurable:!0});var g=(o,t,e,n)=>{for(var r=n>1?void 0:n?ce(t,e):t,s=o.length-1,a;s>=0;s--)(a=o[s])&&(r=(n?a(t,e,r):a(r))||r);return n&&r&&pt(t,e,r),r};var d=(o,t,e)=>(dt(o,typeof t!="symbol"?t+"":t,e),e);var p=(o,t,e)=>new Promise((n,r)=>{var s=u=>{try{l(e.next(u))}catch(f){r(f)}},a=u=>{try{l(e.throw(u))}catch(f){r(f)}},l=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,a);l((e=e.apply(o,t)).next())});var c={modules:["SignalsIds","SignalsBsc","LegacyLayer","SignalsAutoInsertion","SignalsVlp","SignalsTvp","SignalsAbs","GptMeasurement","TimeConfig","PrisaConfig"],configs:{"RFY4Njg2NzM=":[0,1,2,3],"RFY3MTA4Nzg=":[0,1,2,3,4,5],RFYxMDA3NTE4:[0,1,2,3],"RFY4NjkyMzY=":[0,1,2,3],RFYxMDM2Nzc2:[0,1,2],RFYxMDIzOTQ1:[2,3,6],"RFYzMTIyNzI=":[0,1,2,3],"RFY5NDA4NDg=":[0,1,2,3,4,5],"RFY4OTI0Nzk=":[0,1,2,3],"RFY3OTI4NTU=":[0,2,3,4],"RFY4MzIzNDY=":[0,1,2,3],"RFY5NDMzOTk=":[0,1,2,3,4,5,6],"RFY5NjQzMTQ=":[0,1,2,3],RFYxMDEzMTQ1:[0,1,2,3],"RFY3NTk1MjA=":[0,1,2,3,4,5,7,8],"RFY5NDQwMTI=":[0,1,2,3],"RFY4Njg2MDI=":[0,1,2,3],"RFY5MDc5MzU=":[0,1,2,3],"RFYzMTIyNjc=":[0,1,2,3],"RFY5NzI5MzU=":[3],"RFY2NzM2NzI=":[0,1,2,3,4,5,6],"RFY5NDExMTc=":[0,1,2,3],"RFY4Mzc3NTE=":[0,1,2,3],"RFY5Mzc0NzU=":[0,1,2,3],"RFY5ODk2NzI=":[2,3,6],"RFY5NzU3MDM=":[0,1,2,3],RFYxMDg1NDEy:[0,1,2,3],RFYxMDk1NzAz:[0,1,2,3],RFYxMDEyNjAw:[0,1,2,3,4,5,6],RFYxMDA3NTI3:[0,1,2,3],RFYxMDg1MjM0:[0,1,2,3],"RFYzMTI3OTI=":[0,1,2,3],RFYxMDE2NjU2:[0,1,2,3,4,5,6],RFYxMDcxNDY3:[0,1,2,3,4,5,6],"RFY4OTY3MTQ=":[0,1,2,3,4,5,6],"RFY5NzU2NzU=":[0,1,2,3],RFYxMDA3NTky:[0,1,2,3],"MTc0OTI1Mjg=":[0,1,2,3,4],RFYxMDAxNjU0:[0,1,2,3,4,5,6],"RFY4NDY4Mjc=":[0,1,2,4,5],RFYxMDgzNzg4:[0,1,2,3,4,5],"RFY5ODQwMzg=":[0,1,2,3],RFYxMDUzMDQ0:[0,1,2,3],"RFY5NTU1NTQ=":[0,1,2,3],RFYxMDg4NjM5:[0,1,2,3],RFYxMDk0ODQy:[0,1,2,3,4,5,6],"RFYzMTIyNjI=":[0,1,2,3],RFYxMDk4MTc5:[0,1,2,3],RFYxMDc0Mjcz:[0,1,2,3],"RFY3Nzc1NzY=":[0,1,2,3,4,5],"RFY3NTc3MzA=":[0,1,2,3,4,5],"RFY5NzQ3MzI=":[],"RFY2NzI1MjE=":[0,1,2,3,4,5],"RFY4NjQ3ODc=":[2,3,6],RFYxMDU4Nzk0:[0,1,2,3,4,5],"RFY5MTA2Mzg=":[0,1,2],"RFYzMTIyNjE=":[0,1,2,3],RFYxMDc0MzE2:[0,1,2,3],RFYxMDExNDU1:[0,1,2,3,4,5,6],RFYxMDUwNDY1:[1,2],"RFY5MDc4OTY=":[0,1,2,3],RFYxMDEwNzI4:[],"RFYzMTIyNzc=":[0,1,2,3],RFYxMDQ5ODI2:[0,1,2,3],"RFY2NjkzNjE=":[0,1,2,3,4,5],"RFY0NjQwNDE=":[0,1,2,3,4,6],"RFY4MzIzNTM=":[0,1,2,3],"RFY3NDg3MjI=":[0,1,2,3],"RFY5NzQ3MzE=":[0,1,2,4,5],"RFY0NjQwMjE=":[0,1,2,3,4,5],"RFY4OTI0NzQ=":[0,1,2,3],RFYxMDA3NTMz:[0,1,2,3],"RFY2NDcwODg=":[0,1,2,3,4,5],"RFYxMTExMTE=":[0,1,2,3,4,5],"RFY5MDI5MjM=":[0,1,2,3,4,5],"RFY5NzQ3MzA=":[0,1,2,4,5],"RFY3MzQzNDI=":[0,1,2,3,4,5,6],RFYxMDMzOTEz:[0,1,2,3],"RFY3Nzc4ODU=":[0,1,2,3,4,5],"RFY4NDQ0Njg=":[0,1,2,3,4,5],"RFY0NjQwMzM=":[0,1,2,3,4],"RFY4NTk0NDQ=":[0,1,2,3],RFYxMDg4NTky:[0,1,2,3],RFYxMDQ0MzMw:[0,1,2,3,4,5,6,7,9],"RFY4Mjc5Njk=":[0,1,2,3],"RFY3OTc2ODY=":[0,1,2,3,4,5],"RFY3MTg2ODU=":[0,2],"RFY4MjE5MTg=":[0,1,2,3,4,5],"RFY4NjYwMjU=":[0,1,2,3,4,5],"RFY4OTMwNTY=":[0,1,2,4,5],"RFY1ODc0MTQ=":[0,1,2,3,4,5],"RFY5MTcyMzI=":[0,1,2,3],"RFY5NDIxOTY=":[0,1,2,3,4,5,6],"RFY5NDU5ODg=":[0,1,2,3,4,5,6],RFYxMDMzNzA0:[0,1,2,3],RFYxMDg1MzY4:[0,1,2,3],RFYxMDI2NTMx:[0,1,2,3,4,5],RFYxMDUzMDgy:[0,1,2,3],"RFY5Nzg2NjI=":[3],"RFY5NjM2Mzg=":[0,1,2,3],RFYxMDMxMTk1:[0,1,2,3],"RFY0MjQ5NDA=":[0,1,2,3,4],"RFY2NTE3NDQ=":[0,1,2,3,4,5,6],"RFY5NjI3ODA=":[0,1,2,3],"RFY0NjUxNTc=":[0,1,2,3,4],RFYxMDgwMjEy:[2,3,6],"RFY2ODQzNDg=":[0,1,2,3,4,5,6],"RFY2NzUwMzg=":[0,1,2,3,4,5],"RFY5OTY4NzY=":[0,1,2,3],RFYxMDg1MzM3:[0,1,2,4,6],"RFYzNzQxNTg=":[0,1,2,3,4],RFYxMDUzMDUz:[0,1,2,4,6],"RFY5NDExNDc=":[0,1,2,3],RFYxMDcwMjkx:[0,1,2,3,4,5,6],"RFY5OTY5MjE=":[0,1,2,3],"RFY4MDU2MDE=":[0,2,4,5],"RFYzNzU5MzU=":[0,1,2,3,4],"RFYzMTIwNDg=":[0,1,2,3,4],"RFY4MDkxOTk=":[0,1,2,3,4,5],"RFY5NDM5NzQ=":[0,1,2,3]}};var Ct={getVisitTargeting:()=>p(void 0,null,function*(){return{}}),getSlotTargeting:o=>p(void 0,null,function*(){return{}})};var _t=_({queueAdRequest:o=>{var t;try{(t=o.callback)==null||t.call(o),o.callback=null}catch(e){}}},Ct);var tt=class{constructor(t,e){d(this,"window");d(this,"dvtag");d(this,"modules",new Map);var n;this.window=e,this.window.dvtag=(n=this.window.dvtag)!=null?n:{},this.dvtag=this.window.dvtag,this.dvtag._core=this;for(let[r,s]of Object.entries(_t))this.dvtag[r]=s;for(let r of t)this.createModule(r);for(let r of this.modules.values())this.applyModuleDecoration(r);for(let r of this.modules.values())this.applyPluginDecoration(r);for(let r of this.modules.values())this.applyApiDecoration(r);for(let r of this.modules.values())this.applyExecuteDecoration(r)}get(t){return this.getModule(t).gateway}getByName(t){let e=[...this.modules.keys()].find(n=>n.name===t);return e!=null?this.get(e):null}getModule(t){let e=this.modules.get(t);if(e==null)throw new Error(`module not in core: ${t.name}`);return e}createModule(t){if(t.prototype.moduleConfig==null)throw new Error(`not a module: ${t.name}`);let e=new t;e.core=this,e.gateway={module:e},this.modules.set(t,e)}applyModuleDecoration(t){let e=t.constructor.prototype.moduleConfig;for(let{method:n}of e){let r=t[n].bind(t),s=i((...a)=>{var T,h,D,x,C,Q;let l,u=(D=(h=(T=this.dvtag._hooks)==null?void 0:T.interceptModule)==null?void 0:h[t.constructor.name])==null?void 0:D[n];u==null?l=r(...a):l=u(...a);let f=(Q=(C=(x=this.dvtag._hooks)==null?void 0:x.inspectModule)==null?void 0:C[t.constructor.name])==null?void 0:Q[n];return f!=null&&f(a,l),l},"gatedMethod");t.gateway[n]=s}}applyPluginDecoration(t){var n;let e=(n=t.constructor.prototype.pluginConfig)!=null?n:[];for(let{PluggableClass:r,category:s,method:a}of e)this.getModule(r).plugins[s].push(t.gateway[a])}applyApiDecoration(t){var n;let e=(n=t.constructor.prototype.apiConfig)!=null?n:[];for(let{api:r,method:s}of e)Object.defineProperty(this.dvtag,r,{value:t.gateway[s],writable:!1})}applyExecuteDecoration(t){var n;let e=(n=t.constructor.prototype.executeConfig)!=null?n:[];for(let{method:r}of e)t.gateway[r]()}};i(tt,"Core");var mt=[],ft=mt;var m=i(o=>{let t=o.prototype,e=Object.getOwnPropertyNames(t).filter(n=>{var r;return n!=="constructor"&&((r=Object.getOwnPropertyDescriptor(t,n))==null?void 0:r.value)instanceof Function});t.moduleConfig=e.map(n=>({method:n})),mt.push(o)},"moduleClass"),A=i((o,t)=>{var e;o.executeConfig=(e=o.executeConfig)!=null?e:[],o.executeConfig.push({method:t})},"executeMethod"),I=i((o,t)=>(e,n)=>{var r;e.pluginConfig=(r=e.pluginConfig)!=null?r:[],e.pluginConfig.push({PluggableClass:o,category:t,method:n})},"pluginMethod"),ht=i(o=>(t,e)=>{var n;t.apiConfig=(n=t.apiConfig)!=null?n:[],t.apiConfig.push({api:o,method:e})},"apiMethod");var N=i((o,...t)=>{try{return o(...t)}catch(e){return null}},"tryFunction"),St=i((o,...t)=>p(void 0,null,function*(){try{return yield o(...t)}catch(e){return null}}),"tryFunctionAsync"),S=i((o,...t)=>o.map(e=>N(e,...t)),"tryFunctions");var ot=class{constructor(){d(this,"pending",[]);d(this,"flushing",!1)}push(t){this.pending.push(t),this.flush()}flush(){return p(this,null,function*(){var e;if(this.flushing)return;this.flushing=!0;let t=this.pending.shift();for(;t!=null;){try{yield t.promise}catch(n){}try{(e=t.callback)==null||e.call(t)}catch(n){}t=this.pending.shift()}this.flushing=!1})}};i(ot,"AsyncQueue");var O=class{constructor(){d(this,"plugins",{onAdRequestQueued:[]});d(this,"queue",new ot);d(this,"adRequests",[])}onAdRequestQueued(t){return p(this,null,function*(){if(S(this.plugins.onAdRequestQueued),t==null)return;let e={status:0,timeoutValue:t.timeout,timeoutStarted:t.timestamp,delayStarted:new Date().getTime()};this.adRequests.push(e);let n=t.callback;n==null?e.status=1:t.callback=()=>{e.status=2,e.released=new Date().getTime(),t.callback=null,n()};let r=i(()=>{e.delayEnded=new Date().getTime(),t.callback!=null&&(t.callback=null,e.status=3,e.released=new Date().getTime(),n==null||n())},"onAsyncOperationsCompleted");this.queue.push({callback:r})})}delayAdRequests(t){this.queue.push({promise:t})}getAdRequestStatusses(){return this.adRequests}};i(O,"DelayAdRequests"),g([ht("queueAdRequest")],O.prototype,"onAdRequestQueued",1),O=g([m],O);var Mt=i(o=>{var t,e;return o.googletag=(t=o.googletag)!=null?t:{},o.googletag.cmd=(e=o.googletag.cmd)!=null?e:[],o.googletag},"getGoogletag");var b=class{onPubAdsReady(t){return p(this,null,function*(){var r;let e=Mt(this.core.window),n=(r=e.pubads)==null?void 0:r.call(e);return n!=null?t(n):new Promise(s=>{e.cmd.push(()=>{s(t(e.pubads()))})})})}};i(b,"GoogletagPubads"),b=g([m],b);var k=class{constructor(){d(this,"plugins",{slotRequested:[],slotRenderEnded:[],impressionViewable:[],slotOnload:[],slotVisibilityChanged:[],slotResponseReceived:[],rewardedSlotGranted:[],rewardedSlotClosed:[],rewardedSlotReady:[]});d(this,"isEventsAttached",!1)}attachEvents(){return p(this,null,function*(){this.isEventsAttached||(this.isEventsAttached=!0,yield this.core.get(b).onPubAdsReady(t=>{for(let[e,n]of Object.entries(this.plugins))n.length>0&&t.addEventListener(e,r=>S(n,r))}))})}};i(k,"GoogletagEvents"),g([A],k.prototype,"attachEvents",1),k=g([m],k);var kt="dvp_spos";var at,me=new Uint8Array(16);function Tt(){if(!at&&(at=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!at))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return at(me)}i(Tt,"rng");var y=[];for(let o=0;o<256;++o)y.push((o+256).toString(16).slice(1));function Lt(o,t=0){return(y[o[t+0]]+y[o[t+1]]+y[o[t+2]]+y[o[t+3]]+"-"+y[o[t+4]]+y[o[t+5]]+"-"+y[o[t+6]]+y[o[t+7]]+"-"+y[o[t+8]]+y[o[t+9]]+"-"+y[o[t+10]]+y[o[t+11]]+y[o[t+12]]+y[o[t+13]]+y[o[t+14]]+y[o[t+15]]).toLowerCase()}i(Lt,"unsafeStringify");var fe=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vt={randomUUID:fe};function he(o,t,e){if(vt.randomUUID&&!t&&!o)return vt.randomUUID();o=o||{};let n=o.random||(o.rng||Tt)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(let r=0;r<16;++r)t[e+r]=n[r];return t}return Lt(n)}i(he,"v4");var yt=he;var K=i(()=>yt(),"uuid");var Se=i(o=>typeof o=="string","sizeIsLabel"),Te=i(o=>typeof o=="object"&&typeof o.width=="number"&&typeof o.height=="number","sizeIsObject"),ve=i(o=>{var n;let t;try{t=(n=o.getSizes)==null?void 0:n.call(o)}catch(r){}if(!(t instanceof Array))return[];let e=[];for(let r of t)Se(r)?e.push({label:r}):Te(r)&&e.push({width:r.width,height:r.height});return e},"safelyGetSizes"),lt=i(o=>{let t=o.getAdUnitPath(),e=o.getSlotElementId(),n=ve(o),r=o.getTargeting(kt)[0];return{unitId:t,elementId:e,sizes:n,position:r,uuid:K()}},"parseSlot");var Ut=i((o,t)=>{let n=t.slot.getResponseInformation();if(!n)throw new Error("Expected getResponseInformation to return non-null for this event");return P(_({},o),{advertiserId:n==null?void 0:n.advertiserId,campaignId:n==null?void 0:n.campaignId,creativeId:n==null?void 0:n.creativeId,creativeTemplateId:n==null?void 0:n.creativeTemplateId,lineItemId:n==null?void 0:n.lineItemId})},"parseFilledSlotFromEvent"),Pt=i((o,t)=>P(_({},o),{advertiserId:t.advertiserId,campaignId:t.campaignId,creativeId:t.creativeId,creativeTemplateId:t.creativeTemplateId,lineItemId:t.lineItemId,isBackfill:t.isBackfill,isEmpty:t.isEmpty,slotContentChanged:t.slotContentChanged,renderedSize:ye(t.size)}),"parseRenderedSlotFromEvent"),ye=i(o=>o==null?null:Array.isArray(o)?`${o[0]}x${o[1]}`:o,"parseSize");var E=class{constructor(){d(this,"plugins",{newSlotDetected:[],adRequestedForSlot:[],slotResponseReceived:[],slotRenderEnded:[],slotOnLoad:[]});d(this,"_knownSlots",{})}maybeDiscoverNewSlot(t){let e=this._knownSlots[t.getSlotElementId()];return e==null&&(e=lt(t),this._knownSlots[e.elementId]=e,S(this.plugins.newSlotDetected,e)),e}scanForNewSlots(t){t!=null&&t.getSlots().forEach(e=>this.maybeDiscoverNewSlot(e))}getSlots(){return p(this,null,function*(){return this.core.get(b).onPubAdsReady(t=>(this.scanForNewSlots(t),Object.values(this._knownSlots)))})}onSlotRequested(t){let e=this.maybeDiscoverNewSlot(t.slot);S(this.plugins.adRequestedForSlot,e)}onSlotResponseReceived(t){let e=this.maybeDiscoverNewSlot(t.slot),n=Ut(e,t);S(this.plugins.slotResponseReceived,n)}onSlotRenderEnded(t){let e=this.maybeDiscoverNewSlot(t.slot),n=Pt(e,t);S(this.plugins.slotRenderEnded,n)}onSlotOnLoad(t){let e=this.maybeDiscoverNewSlot(t.slot);S(this.plugins.slotOnLoad,e)}};i(E,"GoogletagSlots"),g([I(k,"slotRequested")],E.prototype,"onSlotRequested",1),g([I(k,"slotResponseReceived")],E.prototype,"onSlotResponseReceived",1),g([I(k,"slotRenderEnded")],E.prototype,"onSlotRenderEnded",1),g([I(k,"slotOnload")],E.prototype,"onSlotOnLoad",1),E=g([m],E);var q=class{constructor(){d(this,"plugins",{log:[],info:[],debug:[],warn:[],error:[]})}log(...t){S(this.plugins.log,...t)}info(...t){S(this.plugins.info,...t)}debug(...t){S(this.plugins.debug,...t)}warn(...t){S(this.plugins.warn,...t)}error(...t){S(this.plugins.error,...t)}};i(q,"Logging"),q=g([m],q);var Rt=i((o,t,e)=>{let n=o.getTargeting(t),r=[...new Set([...n,...e])];o.setTargeting(t,r)},"addTargeting"),Re=i((o,t,e)=>{let n=[...new Set(e)];o.setTargeting(t,n)},"setTargeting"),Ot=i((o,t,e)=>{Rt(o,t,e);for(let n of o.getSlots())n.getTargetingKeys().includes(t)&&Rt(n,t,e)},"addGlobalTargetingForKey"),Ft=i((o,t,e,n)=>{t.getTargetingKeys().includes(e)||(n=[...n,...o.getTargeting(e)]),Rt(t,e,n)},"addSlotTargetingForKey"),Nt=i((o,t,e,n)=>{n=[...n,...o.getTargeting(e)],Re(t,e,n)},"setSlotTargetingForKey");var M=class{addGlobalTargeting(t){return p(this,null,function*(){yield this.core.get(b).onPubAdsReady(e=>{for(let[n,r]of Object.entries(t))Ot(e,n,r)})})}setGlobalTargeting(t){return p(this,null,function*(){yield this.core.get(b).onPubAdsReady(e=>{for(let[n,r]of Object.entries(t))e.setTargeting(n,r)})})}addSlotTargeting(t,e){return p(this,null,function*(){yield this.core.get(b).onPubAdsReady(n=>{let r=n.getSlots().find(s=>s.getSlotElementId()===t);if(r==null){this.core.get(q).error(`Adding targeting to slot that is not known in GPT: ${t}`);return}for(let[s,a]of Object.entries(e))Ft(n,r,s,a)})})}setSlotTargeting(t,e){return p(this,null,function*(){yield this.core.get(b).onPubAdsReady(n=>{let r=n.getSlots().find(s=>s.getSlotElementId()===t);if(r==null){this.core.get(q).error(`Setting targeting for slot that is not known in GPT: ${t}`);return}for(let[s,a]of Object.entries(e))Nt(n,r,s,a)})})}getSlotTargeting(t,e){return p(this,null,function*(){return this.core.get(b).onPubAdsReady(n=>{let r=n.getSlots().find(s=>s.getSlotElementId()===t);return r==null?(this.core.get(q).warn(`Getting targeting from slot that is not known in GPT: ${t}`),null):(e=e!=null?e:r.getTargetingKeys(),e.reduce((s,a)=>{let l=r.getTargeting(a);return s[a]=l.length>0?l:n.getTargeting(a),s},{}))})})}};i(M,"GoogletagTargeting"),M=g([m],M);var R=class{constructor(){d(this,"plugins",{newSlotDetected:[],adRequestedForSlot:[],slotResponseReceived:[],slotRenderEnded:[],slotOnLoad:[]})}onNewSlotDetected(t){S(this.plugins.newSlotDetected,t)}onAdRequestedForSlot(t){S(this.plugins.adRequestedForSlot,t)}onSlotResponseReceived(t){S(this.plugins.slotResponseReceived,t)}onSlotRenderEnded(t){S(this.plugins.slotRenderEnded,t)}onSlotOnLoad(t){S(this.plugins.slotOnLoad,t)}getSlots(){return p(this,null,function*(){return this.core.get(E).getSlots()})}addGlobalTargeting(t){return p(this,null,function*(){return this.core.get(M).addGlobalTargeting(t)})}setGlobalTargeting(t){return p(this,null,function*(){return this.core.get(M).setGlobalTargeting(t)})}addSlotTargeting(t,e){return p(this,null,function*(){return this.core.get(M).addSlotTargeting(t,e)})}setSlotTargeting(t,e){return p(this,null,function*(){return this.core.get(M).setSlotTargeting(t,e)})}getSlotTargeting(t,e){return p(this,null,function*(){return e==null?this.core.get(M).getSlotTargeting(t):this.core.get(M).getSlotTargeting(t,e)})}};i(R,"Googletag"),g([I(E,"newSlotDetected")],R.prototype,"onNewSlotDetected",1),g([I(E,"adRequestedForSlot")],R.prototype,"onAdRequestedForSlot",1),g([I(E,"slotResponseReceived")],R.prototype,"onSlotResponseReceived",1),g([I(E,"slotRenderEnded")],R.prototype,"onSlotRenderEnded",1),g([I(E,"slotOnLoad")],R.prototype,"onSlotOnLoad",1),g([A,I(O,"onAdRequestQueued")],R.prototype,"getSlots",1),R=g([m],R);var ct=["BSC","ABS"],qt=["IDS"],$=["VLP","TVP"],et=[...ct,...qt,...$],Et=i(o=>et.includes(o.toUpperCase()),"isSignal"),gt=i(o=>$.includes(o.toUpperCase()),"isSlotSignal"),Gt=i(o=>qt.includes(o.toUpperCase()),"isUserSignal"),Bt=i(o=>ct.includes(o.toUpperCase()),"isPageSignal"),wt=i(o=>o.map(t=>t.toUpperCase()).filter(Et),"asSignals");var F=class{constructor(){d(this,"size",-1)}initialize(){return p(this,null,function*(){yield Promise.resolve(),this.flushBuffer()})}flushBuffer(){if(this.size!==-1)return;let t=this.core.dvtag.cmd instanceof Array?this.core.dvtag.cmd:[];this.core.dvtag.cmd=t,t.push=(...e)=>(this.flushCommands(e),this.size+=e.length,this.size),this.flushCommands(t),this.size=t.length,t.length=0}flushCommands(t){let e=this.core.get(O);for(let n of t)e.delayAdRequests(St(n))}push(...t){var e;this.core.dvtag.cmd=(e=this.core.dvtag.cmd)!=null?e:[],this.core.dvtag.cmd.push(...t)}};i(F,"CommandBuffer"),g([A],F.prototype,"initialize",1),F=g([m],F);var G=class{constructor(){d(this,"pq",null)}getPq(){return this.pq==null&&(this.pq=this.initialize()),this.pq}getPts(){return this.getPq().PTS}setApi(t){let e=this.getPq();e!=null&&(e.init=()=>{},e.loadSignals=t.loadSignals,e.loadSignalsForSlots=t.loadSignalsForSlots,e.getTargeting=t.getTargeting)}initialize(){var r,s;this.core.window.PQ=(r=this.core.window.PQ)!=null?r:{};let t=this.core.window.PQ;if(t.loaded)return{cmd:[],PTS:{}};t.loaded=!0,t.PTS=(s=t.PTS)!=null?s:{};let e=this.core.get(F),n=t.cmd;return t.cmd={push:a=>e.push(a)},Array.isArray(n)&&e.push(...n),t}};i(G,"LegacyPq"),G=g([m],G);var Ee=[[/((\?)|&)(?:amp_lite|fr=operanews)/g,"$2"],[/(^https?:\/\/)(www\.)/g,"$1"],[/(((\?)|&|%3F|%26|;)(?:utm_campaign|utm_source|utm_content|utm_term|utm_viral|utm_medium|utm_identifier|utm_key|fb_source|referrer|referer|ref|rand|rnd|randid|\.?rand|\.?partner|cb|count|adid|session|sessionid|session_redirect|param\d|userinfo|uid|refresh|ocid|ncid|clickenc|fbclid|amp_js_v|amp_gsa|ns_source|ns_campaign|ns_mchanel|ns_mchannel|ns_linkname|ns_fee|src|ex_cid|usqp|source|xid|trkid|utm_social-type|mbid|utm_brand|__twitter_impression|utm_referrer|CMP|cmp|_cmp|cq_cmp)=[^&]*)/g,"$3"],[/[/.]amp(?:\/[?&]*)?$/g,""],[/((\?)|&)(?:outputType|isFollow|suppressMediaBar|cid|ICID|icid|bdk|wtu_id_h|utm_placement|intcmp|_native_ads|traffic_source|entry|\.tsrc|autoplay|autostart|dc_data|influencer|pubdate|utm_hp_ref|redirect|service|refresh_ce|refresh_cens|xcmg|target_id|_amp)=[^&]*/g,"$2"],[/(\?|&)(?:amp)(?:&|$|=[^&]*)/g,"$1"]],we=[[/(?:\/|\/\?|\?|&|\/\$0|#[\s\S]*)+$/g,""],[/(?:\/|\/\?|\?|&|\/\$0|#[\s\S]*)+$/g,""]],Vt=i((o,t)=>{for(let[e,n]of o)t=t.replace(e,n);return t},"replaceByRules"),zt=i(o=>{let t=Vt(Ee,o);return Vt(we,t)},"normalizeUrl");var jt=i((o,t)=>{try{let e=new URLSearchParams(o),n=e.get("ctx"),r=e.get("cmp");if(n!=null&&r!=null)return{ctx:n,cmp:r,prefetch:t}}catch(e){}return null},"parseInfo"),Qt=i(o=>{var t;return o.pathname!=="/signals/pub.js"?null:(t=jt(o.search,!0))!=null?t:jt(o.hash.substring(1),!1)},"parseLegacyPagetagUrl");var Ie=/^\/dvtag\/([^/]+)\/([^/]+)\/pub\.js$/,w=class{constructor(){d(this,"visitUuid",K());d(this,"tagInfo");d(this,"normalizedUrl")}getTagInfo(){var t;if(this.tagInfo==null){try{this.tagInfo=this.parseTagInfo()}catch(e){}(t=this.tagInfo)!=null||(this.tagInfo={ctx:"unknown",cmp:"unknown"})}return this.tagInfo}getVisitUuid(){return this.visitUuid}parseTagInfo(){let t=this.getCurrentScriptSrc();if(t==null)return null;let e=new URL(t,"https://pub.doubleverify.com"),n=e.pathname,r=Ie.exec(n);if(r!=null){let[,s,a]=r;return{ctx:s,cmp:a}}return Qt(e)}getCurrentScriptSrc(){var t,e,n;return(n=(e=(t=this.core.window.document.currentScript)==null?void 0:t.getAttribute)==null?void 0:e.call(t,"src"))!=null?n:null}getNormalizedPageUrl(){return this.normalizedUrl==null&&(this.normalizedUrl=zt(this.core.window.location.href)),this.normalizedUrl}};i(w,"Context"),g([A],w.prototype,"getTagInfo",1),w=g([m],w);var W=class{getShortCommitId(){return"a115966"}getBuildTimestamp(){return 1691776812884}};i(W,"DefinedVariables"),W=g([m],W);var L=class{getWindow(){return this.core.window}getDocument(){return this.getWindow().document}getUserAgent(){var t,e;return(e=(t=this.getWindow().navigator)==null?void 0:t.userAgent)!=null?e:""}getPageUrl(){var t,e;return(e=(t=this.getWindow().location)==null?void 0:t.href)!=null?e:""}getHostname(){return new URL(this.getPageUrl()).hostname}getNavigator(){return this.getWindow().navigator}getPerformance(){var t;return(t=this.getWindow().performance)!=null?t:{}}getPerformanceTimeMs(){var t,e,n;return Math.floor((n=(e=(t=this.getPerformance()).now)==null?void 0:e.call(t))!=null?n:null)}};i(L,"Environment"),L=g([m],L);var Kt=i(o=>o==null?"":`@${o}`,"getPositionSuffix");var be=/^(\d+)x(\d+)$/,$t=i(o=>o==="all"?[]:o.split(",").map(t=>{let e=t.match(be);return e==null?{label:t}:{width:parseInt(e[1],10),height:parseInt(e[2],10)}}),"stringToSlotSizes"),rt=i(o=>o.length===0?"all":o.map(({width:t,height:e,label:n})=>n!=null?n:`${t}x${e}`).join(","),"slotSizesToString"),Ht=i(o=>o.length>0&&o.every(({label:n})=>n==null)?rt(o):"","slotSizesToStringIfSpecific");var It="https://pub.doubleverify.com/dvtag/signals/",B=class{getBaseUrl(t,e){let n=this.core.get(w),{ctx:r,cmp:s}=n.getTagInfo(),a=n.getNormalizedPageUrl();if(e!==!0)try{a=new URL(a).origin}catch(u){}let l=new URL(t,It);return l.searchParams.set("ctx",r),l.searchParams.set("cmp",s),l.searchParams.set("url",a),l}getUserTargetingUrl(t){let e=this.getBaseUrl("ids/pub.json");return t.includes("IDS")&&e.searchParams.set("ids","1"),e.href}getPageTargetingUrl(t){let e=this.getBaseUrl("bsc/pub.json",!0);return t.includes("BSC")&&e.searchParams.set("bsc","1"),t.includes("ABS")&&e.searchParams.set("abs","1"),e.href}getSlotTargetingUrl(t,e){let n=this.getBaseUrl("vlp/pub.json");t.includes("VLP")&&n.searchParams.set("vlp","1"),t.includes("TVP")&&n.searchParams.set("tvp","1");let r=0;for(let{unitId:s,sizes:a,position:l}of e){let u=s+Kt(l);n.searchParams.set(`slot-${r++}-${u}`,Ht(a))}return n.href}};i(B,"SignalsUrlBuilder"),B=g([m],B);var Wt="https://vtrk.doubleverify.com";var Yt=i(()=>Math.floor(1e12*Math.random()),"randomInt");var bt="qt_loaded",Jt="pts_pid",Xt="pts_sid",Y=class extends Error{constructor(e,n){super(n);this.code=e}};i(Y,"QtError");var Zt=i((o,t)=>{var n,r;let e={};for(let[s,a]of t.entries()){let l=o[s];if(l!=null)for(let u of $){let f=l[u];f==null||f.length<1||((r=e[n=a.uuid])!=null||(e[n]={}),e[a.uuid][u]=f[0])}}return e},"formatSlotTargetingForTracking");var te=i(({transferSize:o,decodedBodySize:t})=>o>0?"network":t>0?"cache":"unknown","getCacheStatus");var At=i((o,t)=>o.reduce((e,n)=>{var s,a,l;let r=Number.parseInt((l=(a=(s=n[t])==null?void 0:s[0])==null?void 0:a.split)==null?void 0:l.call(a,"-")[0],10);return Number.isNaN(r)||(e+=r),e},0),"summarizeSlotTargeting");var H=i((o,t)=>o!=null&&t!=null?Math.round(t-o):void 0,"timeSpan");var it=class{constructor(t,e,n,r,s,a,l,u,f,T,h,D=1e3){d(this,"data");d(this,"start");d(this,"flushed",!1);d(this,"getPerformanceTimeMs");d(this,"sendPixel");d(this,"disabled");this.getPerformanceTimeMs=f,this.sendPixel=T,this.disabled=h,this.start=this.getPerformanceTimeMs(),this.data={["t"]:"event",["ec"]:"page",["ea"]:"unknown",["v"]:"1",["ctx"]:n,["cmp"]:r,["cid"]:e,["z"]:Yt(),["cd105"]:l,["cd160"]:K(),["cd161"]:a,["cd50"]:"upt",["cd51"]:t,["cd180"]:"no-fetches"},s&&(this.data["cd55"]="1"),u!=null&&(this.data["cd52"]=u),setTimeout(()=>this.fireEvent(),D)}setEventAction(t){this.addData({["ea"]:t})}addRequestedSignals(t){let e=i(n=>n?"1":void 0,"toString");this.addData({["cm56"]:e(t.includes("IDS")),["cm57"]:e(t.includes("BSC")),["cm58"]:e(t.includes("ABS")),["cm59"]:e(t.includes("VLP")),["cm60"]:e(t.includes("TVP"))})}setAutoInsertionEnabled(){this.addData({["cd68"]:"1"})}addResultsData(t,e,n,r){t["IDS"]!=null&&this.addData({["cm170"]:t["IDS"][0],["cm61"]:t["IDS"][0]}),e["BSC"]!=null&&this.addData({["cd171"]:e["BSC"].join(","),["cm62"]:e["BSC"].length}),e["ABS"]!=null&&this.addData({["cm63"]:e["ABS"].length}),n.length!==0&&(this.addData({["cd175"]:JSON.stringify(Zt(n,r))}),n[0]["VLP"]!=null&&this.addData({["cm66"]:n.length,["cm64"]:At(n,"VLP")}),n[0]["TVP"]!=null&&this.addData({["cm67"]:n.length,["cm65"]:At(n,"TVP")}))}setRequestSuccess(){let t=this.getPerformanceTimeMs(),e;this.start!=null&&t!=null&&(e=Math.round(t-this.start)),this.addData({["cd53"]:"1",["cm54"]:e})}addFetchPerformanceData(t,e,n,r){var f,T;if(t==null){this.data["cd180"]==="no-fetches"&&(this.data["cd180"]=(r==null?void 0:r.getEntriesByName)==null?"no-api":"no-entry");return}n==="ids"&&this.addData({["cm187"]:Math.round(t.duration)}),n==="bsc"&&this.addData({["cm188"]:Math.round(t.duration)}),n==="vlp"&&this.addData({["cm189"]:Math.round(t.duration)});let s=this.getPerformanceTimeMs(),a=H(t.fetchStart,s),l=this.data["cm186"];if(a==null||l>a)return;let u=(f=t.secureConnectionStart)!=null?f:t.connectEnd;this.addData({["cd180"]:te(t),["cm180"]:H(t.fetchStart,t.responseEnd),["cm181"]:H(t.domainLookupStart,t.domainLookupEnd),["cm182"]:H(t.connectStart,u),["cm183"]:H(u,t.connectEnd),["cm184"]:H(t.requestStart,t.responseStart),["cm185"]:H(t.responseStart,t.responseEnd),["cm186"]:a,["cd191"]:(T=e==null?void 0:e.split("-"))==null?void 0:T[0]})}trackError(t){var e;this.addData({["ea"]:"error",["cd110"]:(e=t==null?void 0:t.message)!=null?e:"unknown error",["cd111"]:t instanceof Y?t.code:void 0}),this.fireEvent()}addData(t){Object.assign(this.data,t)}fireEvent(){let t=Object.keys(this.data).filter(n=>this.data[n]!=null).map(n=>`${n}=${encodeURIComponent(this.data[n])}`),e=`${Wt}?${t.join("&")}`;return!this.flushed&&!this.disabled&&this.sendPixel(e),this.flushed=!0,e}};i(it,"PendingEvent");var Ae=5,De=["ids","bsc","vlp"],U=class{constructor(){d(this,"plugins",{getLegacyType:[],isTrackingDisabled:[]});d(this,"eventCount",0)}trackInitialLoad(){var r;let{prefetch:t}=this.core.get(w).getTagInfo(),e=this.createPendingEvent(void 0,!1);e.setEventAction(t?"load-pq-signals":"load-pq");let n=this.core.get(w).getCurrentScriptSrc();if(n!=null){let s=this.core.get(L).getPerformance(),a=(r=s.getEntriesByType)==null?void 0:r.call(s,"resource").find(l=>l.name===n);e.addFetchPerformanceData(a,null,"tag",s)}e.fireEvent()}createPendingEvent(t,e=!0){var nt;let n=this.core.get(W),r=this.core.get(w),s=this.core.get(L),a=(nt=S(this.plugins.getLegacyType)[0])!=null?nt:"unknown",l=n.getShortCommitId(),u=r.getVisitUuid(),f=r.getNormalizedPageUrl(),{ctx:T,cmp:h,prefetch:D}=r.getTagInfo(),x=s.getNavigator(),C=i(()=>s.getPerformanceTimeMs(),"getPerformanceTimeMs"),Q=i(v=>{try{typeof(x==null?void 0:x.sendBeacon)=="function"?x.sendBeacon(v):new Image().src=v}catch(Le){}},"sendPixel"),st=this.eventCount>=Ae||this.plugins.isTrackingDisabled.length>0;return e&&this.eventCount++,new it(l,u,T,h,D,f,a,t,C,Q,st)}findPerformanceEntries(){var e,n;let t=this.core.get(L).getPerformance();return(n=(e=t.getEntriesByType)==null?void 0:e.call(t,"resource").filter(r=>r.name.startsWith(It)).map(r=>{var a;return{type:(a=De.find(l=>r.name.includes(l)))!=null?a:"unknown",entry:r,performance:t}}))!=null?n:[]}};i(U,"LegacyTracking"),g([A],U.prototype,"trackInitialLoad",1),U=g([m],U);var ee=i(o=>{var s,a,l;let t=(a=(s=o.adUnitPath)!=null?s:o.invCode)!=null?a:o.tagId,e=t,n=$t((l=o.sizes)!=null?l:"all"),r=o.position;return{unitId:t,elementId:e,sizes:n,position:r,uuid:K()}},"adUnitToSlot");var ne=i((o,t)=>(t==null?void 0:t.structuredClone)!=null?t.structuredClone(o):JSON.parse(JSON.stringify(o)),"deepClone");var oe=i((o,t)=>{var r;let e=(r=o["IDS"])==null?void 0:r[0];if(e==null)return;let n=parseInt(e);isNaN(n)||(t["IDS"]=n)},"setUserTargetingOnPts"),re=i((o,t)=>{for(let e of ct)o[e]!=null&&(t[e]=o[e])},"setPageTargetingOnPts"),ie=i((o,t,e)=>{var s,a,l;let n=o.unitId,r=rt(o.sizes);for(let u of $){let f=t[u];f!=null&&((s=e[u])!=null||(e[u]={}),(l=(a=e[u])[n])!=null||(a[n]={}),e[u][n][r]=f[0])}},"setSlotTargetingOnPts");var Dt=i(o=>Object.keys(o).filter(Et).map(t=>t.toLowerCase()),"getGreenlightSignal");var J=class{autoInsertPageId(){let t=this.core.get(w);this.core.get(R).setGlobalTargeting({[Jt]:[t.getVisitUuid()]})}autoInsertGlobalTargeting(t){this.core.get(R).addGlobalTargeting(P(_({},t),{[bt]:Dt(t)}))}autoInsertSlotTargeting(t,e){this.core.get(R).addSlotTargeting(t.elementId,P(_({},e),{[bt]:Dt(e),[Xt]:[t.uuid]}))}};i(J,"LegacyModeAutoInsertion"),J=g([m],J);var V=class{constructor(){d(this,"cache",{})}performFetchJson(t){return p(this,null,function*(){let e=yield this.core.window.fetch(t);return{json:yield e.json(),headers:e.headers}})}fetchJson(t){return p(this,null,function*(){let e=this.cache[t];return e==null&&(e=this.performFetchJson(t).then(n=>n.json),this.cache[t]=e),e})}fetchJsonWithHeaders(t){return p(this,null,function*(){let e=this.cache[t];if(e!=null)return{data:yield e};let n=this.performFetchJson(t);this.cache[t]=n.then(a=>a.json);let{json:r,headers:s}=yield n;return{data:r,headers:s}})}};i(V,"Fetch"),V=g([m],V);var xe="cf-ray",X=class{reportPerformance(t,e,n,r){try{let s=this.core.get(L).getPerformance(),a=s.getEntriesByType("resource").find(l=>l.name===t);r.addFetchPerformanceData(a,e==null?void 0:e.get(xe),n,s)}catch(s){}}getUserTargeting(t,e){return p(this,null,function*(){if(!t.some(Gt))return{};let n=this.core.get(B).getUserTargetingUrl(t);try{let{data:r,headers:s}=yield this.core.get(V).fetchJsonWithHeaders(n);return this.reportPerformance(n,s,"ids",e),r}catch(r){return e.trackError(r),{}}})}getPageTargeting(t,e){return p(this,null,function*(){if(!t.some(Bt))return{};let n=this.core.get(B).getPageTargetingUrl(t);try{let{data:r,headers:s}=yield this.core.get(V).fetchJsonWithHeaders(n);return this.reportPerformance(n,s,"bsc",e),r}catch(r){return e.trackError(r),{}}})}getSlotTargeting(t,e,n){return p(this,null,function*(){if(!t.some(gt)||e.length===0)return new Array(e.length).fill({});let r=this.core.get(B).getSlotTargetingUrl(t,e);try{let{data:s,headers:a}=yield this.core.get(V).fetchJsonWithHeaders(r);return this.reportPerformance(r,a,"vlp",n),s.length!==e.length?new Array(e.length).fill({}):s.map(l=>Object.fromEntries(Object.entries(l).map(([u,f])=>[u,[f[0]]])))}catch(s){return n.trackError(s),new Array(e.length).fill({})}})}getTargeting(t,e,n){return p(this,null,function*(){let[r,s,a]=yield Promise.all([this.getUserTargeting(t,n),this.getPageTargeting(t,n),this.getSlotTargeting(t,e,n)]);return{userTargeting:r,pageTargeting:s,slotTargeting:a}})}};i(X,"LegacyModeFetchTargeting"),X=g([m],X);var Ce={SignalsIds:"IDS",SignalsBsc:"BSC",SignalsAbs:"ABS",SignalsVlp:"VLP",SignalsTvp:"TVP"},_e="SignalsAutoInsertion",z=class{constructor(){d(this,"validConfigFound");d(this,"enabledSignals");d(this,"autoInsertionEnabled")}isValidConfigFound(){return this.initialize(),this.validConfigFound}isSignalEnabled(t){return this.initialize(),t!=null&&this.enabledSignals.includes(t)}isAutoInsertionEnabled(){return this.initialize(),this.autoInsertionEnabled}initialize(){if(this.validConfigFound!=null)return;let t;try{t=this.getEntryModules()}catch(e){this.validConfigFound=!0,this.enabledSignals=et,this.autoInsertionEnabled=!0;return}if(t==null){this.validConfigFound=!1,this.enabledSignals=[],this.autoInsertionEnabled=!1;return}this.validConfigFound=!0,this.enabledSignals=t.map(e=>Ce[e]).filter(e=>e!=null),this.autoInsertionEnabled=t.includes(_e)}getEntryModules(){let{cmp:t}=this.core.get(w).getTagInfo(),e=btoa(t),{modules:n,configs:r}=c,s=r[e];return s==null?null:s.map(a=>n[a])}};i(z,"TagConfig"),z=g([m],z);var se=i((o,t)=>{var s,a,l;let e=[],n=[],r=[];if(t.VLP==null)return{newSlots:o,existingSlots:n,existingTargeting:r};for(let u of o){let{unitId:f,sizes:T}=u,h=rt(T),D=(s=t.VLP[f])==null?void 0:s[h];if(D==null){e.push(u);continue}n.push(u);let x=(l=(a=t.TVP)==null?void 0:a[f])==null?void 0:l[h],C={};D!=null&&(C.VLP=[D]),x!=null&&(C.TVP=[x]),r.push(C)}return{newSlots:e,existingSlots:n,existingTargeting:r}},"processNewSlots");var j=class{performFetches(t,e,n,r,s){return p(this,null,function*(){let a=this.core.get(X),l=this.core.get(z),u=this.core.get(J),f=this.core.get(G).getPts();if(s.addRequestedSignals(wt(t)),!l.isValidConfigFound())throw new Y("404","Config not found!");let T=wt(t).filter(v=>l.isSignalEnabled(v)).filter(v=>gt(v)||f[v]==null),{newSlots:h,existingSlots:D,existingTargeting:x}=r?se(e,f):{newSlots:e,existingSlots:[],existingTargeting:[]};e=[...h,...D],s.setEventAction("request-timeout");let{userTargeting:C,pageTargeting:Q,slotTargeting:st}=yield a.getTargeting(T,h,s);s.setEventAction("unknown");let nt=[...st,...x];oe(C,f),re(Q,f);for(let v=0;v<e.length;v++)ie(e[v],nt[v],f);if(n&&l.isAutoInsertionEnabled()){s.setAutoInsertionEnabled(),u.autoInsertPageId(),u.autoInsertGlobalTargeting(C),u.autoInsertGlobalTargeting(Q);for(let v=0;v<e.length;v++)u.autoInsertSlotTargeting(e[v],nt[v])}return s.addResultsData(C,Q,st,h),ne(f,this.core.window)})}};i(j,"LegacyPerformFetches"),j=g([m],j);var Z=class{initialize(){this.core.get(G).setApi({loadSignals:this.loadSignals.bind(this),loadSignalsForSlots:this.loadSignalsForSlots.bind(this),getTargeting:this.getTargeting.bind(this)})}getLegacyType(){return"mode"}loadSignals(t,e){return p(this,null,function*(){let n=this.core.get(U),r=this.core.get(j),s=this.core.get(R),a=this.core.get(z),l=n.createPendingEvent("loadSignals");l.setEventAction("slot-timeout");let u=[];(a.isSignalEnabled("VLP")||a.isSignalEnabled("TVP"))&&(u=yield s.getSlots()),u=u.map(h=>P(_({},h),{position:void 0})),l.setEventAction("unknown");let f=!0,T=!1;try{yield r.performFetches(et,u,f,T,l),l.setRequestSuccess(),l.setEventAction("load-signals"),N(()=>e==null?void 0:e())}catch(h){N(()=>e==null?void 0:e(h)),l.trackError(h)}finally{l.fireEvent()}})}loadSignalsForSlots(t,e,n){return p(this,null,function*(){let r=this.core.get(U),s=this.core.get(j),a=r.createPendingEvent("loadSignalsForSlots"),l=t.map(T=>P(_({},lt(T)),{position:void 0})),u=!0,f=!0;n=typeof e=="function"?e:n;try{yield s.performFetches($,l,u,f,a),a.setRequestSuccess(),a.setEventAction("load-signals-slots"),N(()=>n==null?void 0:n())}catch(T){N(()=>n==null?void 0:n(T)),a.trackError(T)}finally{a.fireEvent()}})}getTargeting(t,e){return p(this,null,function*(){var T;let n=this.core.get(U),r=this.core.get(j),s=n.createPendingEvent("getTargeting"),{adUnits:a}=t,l=(T=a==null?void 0:a.map(h=>P(_({},ee(h)),{position:void 0})))!=null?T:[],u=!1,f=!1;try{let h=yield r.performFetches(et,l,u,f,s);s.setRequestSuccess(),s.setEventAction("load-signals"),N(()=>e==null?void 0:e(void 0,h))}catch(h){N(()=>e==null?void 0:e(h)),s.trackError(h)}finally{s.fireEvent()}})}};i(Z,"LegacyMode"),g([A],Z.prototype,"initialize",1),g([I(U,"getLegacyType")],Z.prototype,"getLegacyType",1),Z=g([m],Z);var ke=[F],ae;if(((ae=window.dvtag)==null?void 0:ae._core)==null)try{new tt([...ft,...ke],window)}catch(o){}})();
