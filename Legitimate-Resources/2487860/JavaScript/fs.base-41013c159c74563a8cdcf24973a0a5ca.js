//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
function checkVATNumber(toCheck){var vatexp=new Array,defCCode="GB";vatexp.push(/^(AT)U(\d{8})$/),vatexp.push(/^(BE)(0?\d{9})$/),vatexp.push(/^(BE)([0-1]\d{9})$/),vatexp.push(/^(BG)(\d{9,10})$/),vatexp.push(/^(CHE)(\d{9})(MWST|TVA|IVA)?$/),vatexp.push(/^(CY)([0-59]\d{7}[A-Z])$/),vatexp.push(/^(CZ)(\d{8,10})(\d{3})?$/),vatexp.push(/^(DE)([1-9]\d{8})$/),vatexp.push(/^(DK)(\d{8})$/),vatexp.push(/^(EE)(10\d{7})$/),vatexp.push(/^(EL)(\d{9})$/),vatexp.push(/^(ES)([A-Z]\d{8})$/),vatexp.push(/^(ES)([A-HN-SW]\d{7}[A-J])$/),vatexp.push(/^(ES)([0-9YZ]\d{7}[A-Z])$/),vatexp.push(/^(ES)([KLMX]\d{7}[A-Z])$/),vatexp.push(/^(EU)(\d{9})$/),vatexp.push(/^(FI)(\d{8})$/),vatexp.push(/^(FR)(\d{11})$/),vatexp.push(/^(FR)([A-HJ-NP-Z]\d{10})$/),vatexp.push(/^(FR)(\d[A-HJ-NP-Z]\d{9})$/),vatexp.push(/^(FR)([A-HJ-NP-Z]{2}\d{9})$/),vatexp.push(/^(GB)?(\d{9})$/),vatexp.push(/^(GB)?(\d{12})$/),vatexp.push(/^(GB)?(GD\d{3})$/),vatexp.push(/^(GB)?(HA\d{3})$/),vatexp.push(/^(HR)(\d{11})$/),vatexp.push(/^(HU)(\d{8})$/),vatexp.push(/^(IE)(\d{7}[A-W])$/),vatexp.push(/^(IE)([7-9][A-Z\*\+)]\d{5}[A-W])$/),vatexp.push(/^(IE)(\d{7}[A-W][AH])$/),vatexp.push(/^(IT)(\d{11})$/),vatexp.push(/^(LV)(\d{11})$/),vatexp.push(/^(LT)(\d{9}|\d{12})$/),vatexp.push(/^(LU)(\d{8})$/),vatexp.push(/^(MT)([1-9]\d{7})$/),vatexp.push(/^(NL)(\d{9}B\d{2})$/),vatexp.push(/^(NL)([A-Z0-9\*\+]{10}\d{2})$/),vatexp.push(/^(NO)(\d{9})$/),vatexp.push(/^(PL)(\d{10})$/),vatexp.push(/^(PT)(\d{9})$/),vatexp.push(/^(RO)([1-9]\d{1,9})$/),vatexp.push(/^(RU)(\d{10}|\d{12})$/),vatexp.push(/^(RS)(\d{9})$/),vatexp.push(/^(SI)([1-9]\d{7})$/),vatexp.push(/^(SK)([1-9]\d[2346-9]\d{7})$/),vatexp.push(/^(SE)(\d{10}01)$/);var VATNumber=toCheck.toUpperCase();VATNumber=VATNumber.replace(/(\s|-|\.)+/g,"");var valid=!1;for(i=0;i<vatexp.length;i++)if(vatexp[i].test(VATNumber)){var cCode=RegExp.$1,cNumber=RegExp.$2;cCode.length==0&&(cCode=defCCode),eval(cCode+"VATCheckDigit ('"+cNumber+"')")&&(valid=VATNumber);break}return valid}function ATVATCheckDigit(a){var b=0,c=[1,2,1,2,1,2,1],d=0;for(var e=0;e<7;e++)d=Number(a.charAt(e))*c[e],d>9?b+=Math.floor(d/10)+d%10:b+=d;return b=10-(b+4)%10,b==10&&(b=0),b==a.slice(7,8)?!0:!1}function BEVATCheckDigit(a){return a.length==9&&(a="0"+a),a.slice(1,2)==0?!1:97-a.slice(0,8)%97==a.slice(8,10)?!0:!1}function BGVATCheckDigit(a){if(a.length==9){var b=0,c=0;for(var d=0;d<8;d++)c+=Number(a.charAt(d))*(d+1);b=c%11;if(b!=10)return b==a.slice(8)?!0:!1;var c=0;for(var d=0;d<8;d++)c+=Number(a.charAt(d))*(d+3);return b=c%11,b==10&&(b=0),b==a.slice(8)?!0:!1}if(/^\d\d[0-5]\d[0-3]\d\d{4}$/.test(a)){var e=Number(a.slice(2,4));if(e>0&&e<13||e>20&&e<33||e>40&&e<53){var f=[2,4,8,5,10,9,7,3,6],b=0;for(var d=0;d<9;d++)b+=Number(a.charAt(d))*f[d];b%=11,b==10&&(b=0);if(b==a.substr(9,1))return!0}}var f=[21,19,17,13,11,9,7,3,1],b=0;for(var d=0;d<9;d++)b+=Number(a.charAt(d))*f[d];if(b%10==a.substr(9,1))return!0;var f=[4,3,2,7,6,5,4,3,2],b=0;for(var d=0;d<9;d++)b+=Number(a.charAt(d))*f[d];return b=11-b%11,b==10?!1:(b==11&&(b=0),b==a.substr(9,1)?!0:!1)}function CHEVATCheckDigit(a){var b=[5,4,3,2,7,6,5,4],c=0;for(var d=0;d<8;d++)c+=Number(a.charAt(d))*b[d];return c=11-c%11,c==10?!1:(c==11&&(c=0),c==a.substr(8,1)?!0:!1)}function CYVATCheckDigit(a){if(Number(a.slice(0,2)==12))return!1;var b=0;for(var c=0;c<8;c++){var d=Number(a.charAt(c));if(c%2==0)switch(d){case 0:d=1;break;case 1:d=0;break;case 2:d=5;break;case 3:d=7;break;case 4:d=9;break;default:d=d*2+3}b+=d}return b%=26,b=String.fromCharCode(b+65),b==a.substr(8,1)?!0:!1}function CZVATCheckDigit(a){var b=0,c=[8,7,6,5,4,3,2],d=new Array;d[0]=/^\d{8}$/,d[1]=/^[0-5][0-9][0|1|5|6][0-9][0-3][0-9]\d{3}$/,d[2]=/^6\d{8}$/,d[3]=/^\d{2}[0-3|5-8][0-9][0-3][0-9]\d{4}$/;var e=0;if(d[0].test(a)){for(var e=0;e<7;e++)b+=Number(a.charAt(e))*c[e];return b=11-b%11,b==10&&(b=0),b==11&&(b=1),b==a.slice(7,8)?!0:!1}if(d[1].test(a))return(i=Number(a.slice(0,2))>62)?!1:!0;if(d[2].test(a)){for(var e=0;e<7;e++)b+=Number(a.charAt(e+1))*c[e];if(b%11==0)var f=b+11;else var f=Math.ceil(b/11)*11;var g=f-b,h=[8,7,6,5,4,3,2,1,0,9,8];return h[g-1]==a.slice(8,9)?!0:!1}if(d[3].test(a)){var i=Number(a.slice(0,2))+Number(a.slice(2,4))+Number(a.slice(4,6))+Number(a.slice(6,8))+Number(a.slice(8));return i%11==0&&Number(a)%11==0?!0:!1}return!1}function DEVATCheckDigit(a){var b=10,c=0,d=0;for(var e=0;e<8;e++)c=(Number(a.charAt(e))+b)%10,c==0&&(c=10),b=2*c%11;return 11-b==10?d=0:d=11-b,d==a.slice(8,9)?!0:!1}function DKVATCheckDigit(a){var b=0,c=[2,7,6,5,4,3,2,1];for(var d=0;d<8;d++)b+=Number(a.charAt(d))*c[d];return b%=11,b==0?!0:!1}function EEVATCheckDigit(a){var b=0,c=[3,7,1,3,7,1,3,7];for(var d=0;d<8;d++)b+=Number(a.charAt(d))*c[d];return b=10-b%10,b==10&&(b=0),b==a.slice(8,9)?!0:!1}function ELVATCheckDigit(a){var b=0,c=[256,128,64,32,16,8,4,2];a.length==8&&(a="0"+a);for(var d=0;d<8;d++)b+=Number(a.charAt(d))*c[d];return b%=11,b>9&&(b=0),b==a.slice(8,9)?!0:!1}function ESVATCheckDigit(a){var b=0,c=0,d=[2,1,2,1,2,1,2],e=new Array;e[0]=/^[A-H|J|U|V]\d{8}$/,e[1]=/^[A-H|N-S|W]\d{7}[A-J]$/,e[2]=/^[0-9|Y|Z]\d{7}[A-Z]$/,e[3]=/^[K|L|M|X]\d{7}[A-Z]$/;var f=0;if(e[0].test(a)){for(f=0;f<7;f++)c=Number(a.charAt(f+1))*d[f],c>9?b+=Math.floor(c/10)+c%10:b+=c;return b=10-b%10,b==10&&(b=0),b==a.slice(8,9)?!0:!1}if(e[1].test(a)){for(f=0;f<7;f++)c=Number(a.charAt(f+1))*d[f],c>9?b+=Math.floor(c/10)+c%10:b+=c;return b=10-b%10,b=String.fromCharCode(b+64),b==a.slice(8,9)?!0:!1}if(e[2].test(a)){var g=a;return g.substring(0,1)=="Y"&&(g=g.replace(/Y/,"1")),g.substring(0,1)=="Z"&&(g=g.replace(/Z/,"2")),g.charAt(8)=="TRWAGMYFPDXBNJZSQVHLCKE".charAt(Number(g.substring(0,8))%23)}return e[3].test(a)?a.charAt(8)=="TRWAGMYFPDXBNJZSQVHLCKE".charAt(Number(a.substring(1,8))%23):!1}function EUVATCheckDigit(a){return!0}function FIVATCheckDigit(a){var b=0,c=[7,9,10,5,8,4,2];for(var d=0;d<7;d++)b+=Number(a.charAt(d))*c[d];return b=11-b%11,b>9&&(b=0),b==a.slice(7,8)?!0:!1}function FRVATCheckDigit(a){if(!/^\d{11}$/.test(a))return!0;var b=a.substring(2);return b=(b*100+12)%97,b==a.slice(0,2)?!0:!1}function GBVATCheckDigit(a){var b=[8,7,6,5,4,3,2];if(a.substr(0,2)=="GD")return a.substr(2,3)<500?!0:!1;if(a.substr(0,2)=="HA")return a.substr(2,3)>499?!0:!1;var c=0;if(Number(a.slice(0))==0)return!1;var d=Number(a.slice(0,7));for(var e=0;e<7;e++)c+=Number(a.charAt(e))*b[e];var f=c;while(f>0)f-=97;return f=Math.abs(f),f==a.slice(7,9)&&d<9990001&&(d<1e5||d>999999)&&(d<9490001||d>97e5)?!0:(f>=55?f-=55:f+=42,f==a.slice(7,9)&&d>1e6?!0:!1)}function HRVATCheckDigit(a){var b=10,c=0,d=0;for(var e=0;e<10;e++)c=(Number(a.charAt(e))+b)%10,c==0&&(c=10),b=2*c%11;return(b+a.slice(10,11)*1)%10==1?!0:!1}function HUVATCheckDigit(a){var b=0,c=[9,7,3,1,9,7,3];for(var d=0;d<7;d++)b+=Number(a.charAt(d))*c[d];return b=10-b%10,b==10&&(b=0),b==a.slice(7,8)?!0:!1}function IEVATCheckDigit(a){var b=0,c=[8,7,6,5,4,3,2];/^\d[A-Z\*\+]/.test(a)&&(a="0"+a.substring(2,7)+a.substring(0,1)+a.substring(7,8));for(var d=0;d<7;d++)b+=Number(a.charAt(d))*c[d];return/^\d{7}[A-Z][AH]$/.test(a)&&(a.charAt(8)=="H"?b+=72:b+=9),b%=23,b==0?b="W":b=String.fromCharCode(b+64),b==a.slice(7,8)?!0:!1}function ITVATCheckDigit(a){var b=0,c=[1,2,1,2,1,2,1,2,1,2],d;if(Number(a.slice(0,7))==0)return!1;d=Number(a.slice(7,10));if(d<1||d>201&&d!=999&&d!=888)return!1;for(var e=0;e<10;e++)d=Number(a.charAt(e))*c[e],d>9?b+=Math.floor(d/10)+d%10:b+=d;return b=10-b%10,b>9&&(b=0),b==a.slice(10,11)?!0:!1}function LTVATCheckDigit(a){if(a.length==9){if(!/^\d{7}1/.test(a))return!1;var b=0;for(var c=0;c<8;c++)b+=Number(a.charAt(c))*(c+1);if(b%11==10){var d=[3,4,5,6,7,8,9,1];b=0;for(c=0;c<8;c++)b+=Number(a.charAt(c))*d[c]}return b%=11,b==10&&(b=0),b==a.slice(8,9)?!0:!1}if(!/^\d{10}1/.test(a))return!1;var b=0,d=[1,2,3,4,5,6,7,8,9,1,2];for(var c=0;c<11;c++)b+=Number(a.charAt(c))*d[c];if(b%11==10){var d=[3,4,5,6,7,8,9,1,2,3,4];b=0;for(c=0;c<11;c++)b+=Number(a.charAt(c))*d[c]}return b%=11,b==10&&(b=0),b==a.slice(11,12)?!0:!1}function LUVATCheckDigit(a){return a.slice(0,6)%89==a.slice(6,8)?!0:!1}function LVVATCheckDigit(a){if(/^[0-3]/.test(a))return/^[0-3][0-9][0-1][0-9]/.test(a)?!0:!1;var b=0,c=[9,1,4,8,3,10,2,5,7,6];for(var d=0;d<10;d++)b+=Number(a.charAt(d))*c[d];return b%11==4&&a[0]==9&&(b-=45),b%11==4?b=4-b%11:b%11>4?b=14-b%11:b%11<4&&(b=3-b%11),b==a.slice(10,11)?!0:!1}function MTVATCheckDigit(a){var b=0,c=[3,4,6,7,8,9];for(var d=0;d<6;d++)b+=Number(a.charAt(d))*c[d];return b=37-b%37,b==a.slice(6,8)*1?!0:!1}function NLVATCheckDigit(a){function b(a){var b="NL"+a,c="",d="";for(var e=0;e<b.length;e++)c=b.charCodeAt(e),c>41&&c<44?c-=6:c>47&&c<58?c-=48:c>64&&c<91&&(c-=55),d+=c;return d}function c(a,b){var c=7;while(a.length>c){var d=a.substring(0,c);a=d%b+a.substring(c)}return a%b}function d(){var b=0,c=[9,8,7,6,5,4,3,2];for(var d=0;d<8;d++)b+=Number(a.charAt(d))*c[d];return b%=11,b>9&&(b=0),b==a.slice(8,9)?!0:!1}function e(a){var d=b(a);return c(d,97)==1?!0:!1}return d(a)?!0:e(a)?!0:!1}function NOVATCheckDigit(a){var b=0,c=[3,2,7,6,5,4,3,2];for(var d=0;d<8;d++)b+=Number(a.charAt(d))*c[d];b=11-b%11,b==11&&(b=0);if(b<10)return b==a.slice(8,9)?!0:!1}function PLVATCheckDigit(a){var b=0,c=[6,5,7,2,3,4,5,6,7];for(var d=0;d<9;d++)b+=Number(a.charAt(d))*c[d];return b%=11,b>9&&(b=0),b==a.slice(9,10)?!0:!1}function PTVATCheckDigit(a){var b=0,c=[9,8,7,6,5,4,3,2];for(var d=0;d<8;d++)b+=Number(a.charAt(d))*c[d];return b=11-b%11,b>9&&(b=0),b==a.slice(8,9)?!0:!1}function ROVATCheckDigit(a){var b=[7,5,3,2,1,7,5,3,2],c=a.length;b=b.slice(10-c);var d=0;for(var e=0;e<a.length-1;e++)d+=Number(a.charAt(e))*b[e];return d=10*d%11,d==10&&(d=0),d==a.slice(a.length-1,a.length)?!0:!1}function RSVATCheckDigit(a){var b=10,c=0,d=0;for(var e=0;e<8;e++)c=(Number(a.charAt(e))+b)%10,c==0&&(c=10),b=2*c%11;return(b+a.slice(8,9)*1)%10==1?!0:!1}function RUVATCheckDigit(a){if(a.length==10){var b=0,c=[2,4,10,3,5,9,4,6,8,0];for(var d=0;d<10;d++)b+=Number(a.charAt(d))*c[d];return b%=11,b>9&&(b%=10),b==a.slice(9,10)?!0:!1}if(a.length==12){var e=0,f=[7,2,4,10,3,5,9,4,6,8,0],g=0,h=[3,7,2,4,10,3,5,9,4,6,8,0];for(var d=0;d<11;d++)e+=Number(a.charAt(d))*f[d];e%=11,e>9&&(e%=10);for(var d=0;d<11;d++)g+=Number(a.charAt(d))*h[d];return g%=11,g>9&&(g%=10),e==a.slice(10,11)&&g==a.slice(11,12)?!0:!1}}function SEVATCheckDigit(a){var b=0,c;for(var d=0;d<9;d+=2)c=Number(a.charAt(d)),b+=Math.floor(c/5)+c*2%10;var e=0;for(var d=1;d<9;d+=2)e+=Number(a.charAt(d));var f=(10-(b+e)%10)%10;return f==a.slice(9,10)?!0:!1}function SIVATCheckDigit(a){var b=0,c=[8,7,6,5,4,3,2];for(var d=0;d<7;d++)b+=Number(a.charAt(d))*c[d];return b=11-b%11,b==10&&(b=0),b!=11&&b==a.slice(7,8)?!0:!1}function SKVATCheckDigit(a){return Number(a%11)==0?!0:!1}((function(){function x(a){function b(b,c,d,e,f,g){for(;f>=0&&f<g;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=p(d,f,4);var g=!w(c)&&o.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function A(a){return function(b,c,d){c=q(c,d);var e=v(b),f=a>0?0:e-1;for(;f>=0&&f<e;f+=a)if(c(b[f],f,b))return f;return-1}}function B(a,b,c){return function(d,e,f){var h=0,i=v(d);if(typeof f=="number")a>0?h=f>=0?f:Math.max(f+i,h):i=f>=0?Math.min(f+1,i):f+i+1;else if(c&&f&&i)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(g.call(d,h,i),o.isNaN),f>=0?f+h:-1;for(f=a>0?h:i-1;f>=0&&f<i;f+=a)if(d[f]===e)return f;return-1}}function F(a,b){var c=E.length,e=a.constructor,f=o.isFunction(e)&&e.prototype||d,g="constructor";o.has(a,g)&&!o.contains(b,g)&&b.push(g);while(c--)g=E[c],g in a&&a[g]!==f[g]&&!o.contains(b,g)&&b.push(g)}var a=this,b=a._,c=Array.prototype,d=Object.prototype,e=Function.prototype,f=c.push,g=c.slice,h=d.toString,i=d.hasOwnProperty,j=Array.isArray,k=Object.keys,l=e.bind,m=Object.create,n=function(){},o=function(a){if(a instanceof o)return a;if(this instanceof o)this._wrapped=a;else return new o(a)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=o),exports._=o):a._=o,o.VERSION="1.8.3";var p=function(a,b,c){if(b===void 0)return a;switch(c==null?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},q=function(a,b,c){return a==null?o.identity:o.isFunction(a)?p(a,b,c):o.isObject(a)?o.matcher(a):o.property(a)};o.iteratee=function(a,b){return q(a,b,Infinity)};var r=function(a,b){return function(c){var d=arguments.length;if(d<2||c==null)return c;for(var e=1;e<d;e++){var f=arguments[e],g=a(f),h=g.length;for(var i=0;i<h;i++){var j=g[i];if(!b||c[j]===void 0)c[j]=f[j]}}return c}},s=function(a){if(!o.isObject(a))return{};if(m)return m(a);n.prototype=a;var b=new n;return n.prototype=null,b},t=function(a){return function(b){return b==null?void 0:b[a]}},u=Math.pow(2,53)-1,v=t("length"),w=function(a){var b=v(a);return typeof b=="number"&&b>=0&&b<=u};o.each=o.forEach=function(a,b,c){b=p(b,c);var d,e;if(w(a))for(d=0,e=a.length;d<e;d++)b(a[d],d,a);else{var f=o.keys(a);for(d=0,e=f.length;d<e;d++)b(a[f[d]],f[d],a)}return a},o.map=o.collect=function(a,b,c){b=q(b,c);var d=!w(a)&&o.keys(a),e=(d||a).length,f=Array(e);for(var g=0;g<e;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},o.reduce=o.foldl=o.inject=x(1),o.reduceRight=o.foldr=x(-1),o.find=o.detect=function(a,b,c){var d;w(a)?d=o.findIndex(a,b,c):d=o.findKey(a,b,c);if(d!==void 0&&d!==-1)return a[d]},o.filter=o.select=function(a,b,c){var d=[];return b=q(b,c),o.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},o.reject=function(a,b,c){return o.filter(a,o.negate(q(b)),c)},o.every=o.all=function(a,b,c){b=q(b,c);var d=!w(a)&&o.keys(a),e=(d||a).length;for(var f=0;f<e;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},o.some=o.any=function(a,b,c){b=q(b,c);var d=!w(a)&&o.keys(a),e=(d||a).length;for(var f=0;f<e;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},o.contains=o.includes=o.include=function(a,b,c,d){w(a)||(a=o.values(a));if(typeof c!="number"||d)c=0;return o.indexOf(a,b,c)>=0},o.invoke=function(a,b){var c=g.call(arguments,2),d=o.isFunction(b);return o.map(a,function(a){var e=d?b:a[b];return e==null?e:e.apply(a,c)})},o.pluck=function(a,b){return o.map(a,o.property(b))},o.where=function(a,b){return o.filter(a,o.matcher(b))},o.findWhere=function(a,b){return o.find(a,o.matcher(b))},o.max=function(a,b,c){var d=-Infinity,e=-Infinity,f,g;if(b==null&&a!=null){a=w(a)?a:o.values(a);for(var h=0,i=a.length;h<i;h++)f=a[h],f>d&&(d=f)}else b=q(b,c),o.each(a,function(a,c,f){g=b(a,c,f);if(g>e||g===-Infinity&&d===-Infinity)d=a,e=g});return d},o.min=function(a,b,c){var d=Infinity,e=Infinity,f,g;if(b==null&&a!=null){a=w(a)?a:o.values(a);for(var h=0,i=a.length;h<i;h++)f=a[h],f<d&&(d=f)}else b=q(b,c),o.each(a,function(a,c,f){g=b(a,c,f);if(g<e||g===Infinity&&d===Infinity)d=a,e=g});return d},o.shuffle=function(a){var b=w(a)?a:o.values(a),c=b.length,d=Array(c);for(var e=0,f;e<c;e++)f=o.random(0,e),f!==e&&(d[e]=d[f]),d[f]=b[e];return d},o.sample=function(a,b,c){return b==null||c?(w(a)||(a=o.values(a)),a[o.random(a.length-1)]):o.shuffle(a).slice(0,Math.max(0,b))},o.sortBy=function(a,b,c){return b=q(b,c),o.pluck(o.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||c===void 0)return 1;if(c<d||d===void 0)return-1}return a.index-b.index}),"value")};var y=function(a){return function(b,c,d){var e={};return c=q(c,d),o.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};o.groupBy=y(function(a,b,c){o.has(a,c)?a[c].push(b):a[c]=[b]}),o.indexBy=y(function(a,b,c){a[c]=b}),o.countBy=y(function(a,b,c){o.has(a,c)?a[c]++:a[c]=1}),o.toArray=function(a){return a?o.isArray(a)?g.call(a):w(a)?o.map(a,o.identity):o.values(a):[]},o.size=function(a){return a==null?0:w(a)?a.length:o.keys(a).length},o.partition=function(a,b,c){b=q(b,c);var d=[],e=[];return o.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},o.first=o.head=o.take=function(a,b,c){return a==null?void 0:b==null||c?a[0]:o.initial(a,a.length-b)},o.initial=function(a,b,c){return g.call(a,0,Math.max(0,a.length-(b==null||c?1:b)))},o.last=function(a,b,c){return a==null?void 0:b==null||c?a[a.length-1]:o.rest(a,Math.max(0,a.length-b))},o.rest=o.tail=o.drop=function(a,b,c){return g.call(a,b==null||c?1:b)},o.compact=function(a){return o.filter(a,o.identity)};var z=function(a,b,c,d){var e=[],f=0;for(var g=d||0,h=v(a);g<h;g++){var i=a[g];if(w(i)&&(o.isArray(i)||o.isArguments(i))){b||(i=z(i,b,c));var j=0,k=i.length;e.length+=k;while(j<k)e[f++]=i[j++]}else c||(e[f++]=i)}return e};o.flatten=function(a,b){return z(a,b,!1)},o.without=function(a){return o.difference(a,g.call(arguments,1))},o.uniq=o.unique=function(a,b,c,d){o.isBoolean(b)||(d=c,c=b,b=!1),c!=null&&(c=q(c,d));var e=[],f=[];for(var g=0,h=v(a);g<h;g++){var i=a[g],j=c?c(i,g,a):i;b?((!g||f!==j)&&e.push(i),f=j):c?o.contains(f,j)||(f.push(j),e.push(i)):o.contains(e,i)||e.push(i)}return e},o.union=function(){return o.uniq(z(arguments,!0,!0))},o.intersection=function(a){var b=[],c=arguments.length;for(var d=0,e=v(a);d<e;d++){var f=a[d];if(o.contains(b,f))continue;for(var g=1;g<c;g++)if(!o.contains(arguments[g],f))break;g===c&&b.push(f)}return b},o.difference=function(a){var b=z(arguments,!0,!0,1);return o.filter(a,function(a){return!o.contains(b,a)})},o.zip=function(){return o.unzip(arguments)},o.unzip=function(a){var b=a&&o.max(a,v).length||0,c=Array(b);for(var d=0;d<b;d++)c[d]=o.pluck(a,d);return c},o.object=function(a,b){var c={};for(var d=0,e=v(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},o.findIndex=A(1),o.findLastIndex=A(-1),o.sortedIndex=function(a,b,c,d){c=q(c,d,1);var e=c(b),f=0,g=v(a);while(f<g){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},o.indexOf=B(1,o.findIndex,o.sortedIndex),o.lastIndexOf=B(-1,o.findLastIndex),o.range=function(a,b,c){b==null&&(b=a||0,a=0),c=c||1;var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d);for(var f=0;f<d;f++,a+=c)e[f]=a;return e};var C=function(a,b,c,d,e){if(d instanceof b){var f=s(a.prototype),g=a.apply(f,e);return o.isObject(g)?g:f}return a.apply(c,e)};o.bind=function(a,b){if(l&&a.bind===l)return l.apply(a,g.call(arguments,1));if(!o.isFunction(a))throw new TypeError("Bind must be called on a function");var c=g.call(arguments,2),d=function(){return C(a,d,b,this,c.concat(g.call(arguments)))};return d},o.partial=function(a){var b=g.call(arguments,1),c=function(){var d=0,e=b.length,f=Array(e);for(var g=0;g<e;g++)f[g]=b[g]===o?arguments[d++]:b[g];while(d<arguments.length)f.push(arguments[d++]);return C(a,c,this,this,f)};return c},o.bindAll=function(a){var b,c=arguments.length,d;if(c<=1)throw new Error("bindAll must be passed function names");for(b=1;b<c;b++)d=arguments[b],a[d]=o.bind(a[d],a);return a},o.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return o.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},o.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},o.defer=o.partial(o.delay,o,1),o.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:o.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=o.now();!h&&c.leading===!1&&(h=j);var k=b-(j-h);return d=this,e=arguments,k<=0||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):!g&&c.trailing!==!1&&(g=setTimeout(i,k)),f}},o.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=o.now()-g;j<b&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=o.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},o.wrap=function(a,b){return o.partial(b,a)},o.negate=function(a){return function(){return!a.apply(this,arguments)}},o.compose=function(){var a=arguments,b=a.length-1;return function(){var c=b,d=a[b].apply(this,arguments);while(c--)d=a[c].call(this,d);return d}},o.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}},o.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=null),c}},o.once=o.partial(o.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];o.keys=function(a){if(!o.isObject(a))return[];if(k)return k(a);var b=[];for(var c in a)o.has(a,c)&&b.push(c);return D&&F(a,b),b},o.allKeys=function(a){if(!o.isObject(a))return[];var b=[];for(var c in a)b.push(c);return D&&F(a,b),b},o.values=function(a){var b=o.keys(a),c=b.length,d=Array(c);for(var e=0;e<c;e++)d[e]=a[b[e]];return d},o.mapObject=function(a,b,c){b=q(b,c);var d=o.keys(a),e=d.length,f={},g;for(var h=0;h<e;h++)g=d[h],f[g]=b(a[g],g,a);return f},o.pairs=function(a){var b=o.keys(a),c=b.length,d=Array(c);for(var e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d},o.invert=function(a){var b={},c=o.keys(a);for(var d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b},o.functions=o.methods=function(a){var b=[];for(var c in a)o.isFunction(a[c])&&b.push(c);return b.sort()},o.extend=r(o.allKeys),o.extendOwn=o.assign=r(o.keys),o.findKey=function(a,b,c){b=q(b,c);var d=o.keys(a),e;for(var f=0,g=d.length;f<g;f++){e=d[f];if(b(a[e],e,a))return e}},o.pick=function(a,b,c){var d={},e=a,f,g;if(e==null)return d;o.isFunction(b)?(g=o.allKeys(e),f=p(b,c)):(g=z(arguments,!1,!1,1),f=function(a,b,c){return b in c},e=Object(e));for(var h=0,i=g.length;h<i;h++){var j=g[h],k=e[j];f(k,j,e)&&(d[j]=k)}return d},o.omit=function(a,b,c){if(o.isFunction(b))b=o.negate(b);else{var d=o.map(z(arguments,!1,!1,1),String);b=function(a,b){return!o.contains(d,b)}}return o.pick(a,b,c)},o.defaults=r(o.allKeys,!0),o.create=function(a,b){var c=s(a);return b&&o.extendOwn(c,b),c},o.clone=function(a){return o.isObject(a)?o.isArray(a)?a.slice():o.extend({},a):a},o.tap=function(a,b){return b(a),a},o.isMatch=function(a,b){var c=o.keys(b),d=c.length;if(a==null)return!d;var e=Object(a);for(var f=0;f<d;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var G=function(a,b,c,d){if(a===b)return a!==0||1/a===1/b;if(a==null||b==null)return a===b;a instanceof o&&(a=a._wrapped),b instanceof o&&(b=b._wrapped);var e=h.call(a);if(e!==h.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":if(+a!==+a)return+b!==+b;return+a===0?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f=e==="[object Array]";if(!f){if(typeof a!="object"||typeof b!="object")return!1;var g=a.constructor,i=b.constructor;if(g!==i&&!(o.isFunction(g)&&g instanceof g&&o.isFunction(i)&&i instanceof i)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];var j=c.length;while(j--)if(c[j]===a)return d[j]===b;c.push(a),d.push(b);if(f){j=a.length;if(j!==b.length)return!1;while(j--)if(!G(a[j],b[j],c,d))return!1}else{var k=o.keys(a),l;j=k.length;if(o.keys(b).length!==j)return!1;while(j--){l=k[j];if(!o.has(b,l)||!G(a[l],b[l],c,d))return!1}}return c.pop(),d.pop(),!0};o.isEqual=function(a,b){return G(a,b)},o.isEmpty=function(a){return a==null?!0:w(a)&&(o.isArray(a)||o.isString(a)||o.isArguments(a))?a.length===0:o.keys(a).length===0},o.isElement=function(a){return!!a&&a.nodeType===1},o.isArray=j||function(a){return h.call(a)==="[object Array]"},o.isObject=function(a){var b=typeof a;return b==="function"||b==="object"&&!!a},o.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){o["is"+a]=function(b){return h.call(b)==="[object "+a+"]"}}),o.isArguments(arguments)||(o.isArguments=function(a){return o.has(a,"callee")}),typeof /./!="function"&&typeof Int8Array!="object"&&(o.isFunction=function(a){return typeof a=="function"||!1}),o.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},o.isNaN=function(a){return o.isNumber(a)&&a!==+a},o.isBoolean=function(a){return a===!0||a===!1||h.call(a)==="[object Boolean]"},o.isNull=function(a){return a===null},o.isUndefined=function(a){return a===void 0},o.has=function(a,b){return a!=null&&i.call(a,b)},o.noConflict=function(){return a._=b,this},o.identity=function(a){return a},o.constant=function(a){return function(){return a}},o.noop=function(){},o.property=t,o.propertyOf=function(a){return a==null?function(){}:function(b){return a[b]}},o.matcher=o.matches=function(a){return a=o.extendOwn({},a),function(b){return o.isMatch(b,a)}},o.times=function(a,b,c){var d=Array(Math.max(0,a));b=p(b,c,1);for(var e=0;e<a;e++)d[e]=b(e);return d},o.random=function(a,b){return b==null&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},o.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=o.invert(H),J=function(a){var b=function(b){return a[b]},c="(?:"+o.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=a==null?"":""+a,d.test(a)?a.replace(e,b):a}};o.escape=J(H),o.unescape=J(I),o.result=function(a,b,c){var d=a==null?void 0:a[b];return d===void 0&&(d=c),o.isFunction(d)?d.call(a):d};var K=0;o.uniqueId=function(a){var b=++K+"";return a?a+b:b},o.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\u2028|\u2029/g,O=function(a){return"\\"+M[a]};o.template=function(a,b,c){!b&&c&&(b=c),b=o.defaults({},b,o.templateSettings);var d=RegExp([(b.escape||L).source,(b.interpolate||L).source,(b.evaluate||L).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(N,O),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,o)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},o.chain=function(a){var b=o(a);return b._chain=!0,b};var P=function(a,b){return a._chain?o(b).chain():b};o.mixin=function(a){o.each(o.functions(a),function(b){var c=o[b]=a[b];o.prototype[b]=function(){var a=[this._wrapped];return f.apply(a,arguments),P(this,c.apply(o,a))}})},o.mixin(o),o.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=c[a];o.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),(a==="shift"||a==="splice")&&c.length===0&&delete c[0],P(this,c)}}),o.each(["concat","join","slice"],function(a){var b=c[a];o.prototype[a]=function(){return P(this,b.apply(this._wrapped,arguments))}}),o.prototype.value=function(){return this._wrapped},o.prototype.valueOf=o.prototype.toJSON=o.prototype.value,o.prototype.toString=function(){return""+this._wrapped},typeof define=="function"&&define.amd&&define("underscore",[],function(){return o})})).call(this),function(a,b){if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function(c,d,e){a.Backbone=b(a,e,c,d)});else if(typeof exports!="undefined"){var c=require("underscore");b(a,exports,c)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,b,c,d){var e=a.Backbone,f=[],g=f.push,h=f.slice,i=f.splice;b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var j=b.Events={on:function(a,b,c){if(!l(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!l(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,j,k,m;if(!this._events||!l(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;h=a?[a]:c.keys(this._events);for(i=0,j=h.length;i<j;i++){a=h[i];if(g=this._events[a]){this._events[a]=e=[];if(b||d)for(k=0,m=g.length;k<m;k++)f=g[k],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}}return this},trigger:function(a){if(!this._events)return this;var b=h.call(arguments,1);if(!l(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&m(c,b),d&&m(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;!d&&typeof b=="object"&&(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},k=/\s+/,l=function(a,b,c,d){if(!c)return!0;if(typeof c=="object"){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(k.test(c)){var f=c.split(k);for(var g=0,h=f.length;g<h;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},m=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:while(++d<e)(c=a[d]).callback.call(c.ctx);return;case 1:while(++d<e)(c=a[d]).callback.call(c.ctx,f);return;case 2:while(++d<e)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:while(++d<e)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:while(++d<e)(c=a[d]).callback.apply(c.ctx,b);return}},n={listenTo:"on",listenToOnce:"once"};c.each(n,function(a,b){j[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,!e&&typeof d=="object"&&(e=this),b[a](d,e,this),this}}),j.bind=j.on,j.unbind=j.off,c.extend(b,j);var o=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(o.prototype,j,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return this.get(a)!=null},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(a==null)return this;typeof a=="object"?(f=a,d=b):(f={})[a]=b,d||(d={});if(!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;m<n;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)while(this._pending)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return a==null?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a){if(c.isEqual(e[f],b=a[f]))continue;(d||(d={}))[f]=b}return d},previous:function(a){return a==null||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},a.parse===void 0&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){if(!b.set(b.parse(c,a),a))return!1;d&&d(b,c,a),b.trigger("sync",b,c,a)},N(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;a==null||typeof a=="object"?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d);if(e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),d.parse===void 0&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);d.wait&&(b=c.extend(e||{},b));if(c.isObject(b)&&!i.set(b,d))return!1;j&&j(i,a,d),i.trigger("sync",i,a,d)},N(this,d),f=this.isNew()?"create":d.patch?"patch":"update",f==="patch"&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(
c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)};if(this.isNew())return a.success(),!1;N(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||M();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];c.each(p,function(a){o.prototype[a]=function(){var b=h.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var q=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),b.comparator!==void 0&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},r={add:!0,remove:!0,merge:!0},s={add:!0,remove:!1};c.extend(q.prototype,j,{model:o,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,s))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;e<f;e++){h=a[e]=this.get(a[e]);if(!h)continue;delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b)}return d?a[0]:a},set:function(a,b){b=c.defaults({},b,r),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,m=this.model,n=this.comparator&&l==null&&b.sort!==!1,p=c.isString(this.comparator)?this.comparator:null,q=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!n&&u&&w?[]:!1;for(e=0,f=a.length;e<f;e++){i=a[e]||{},i instanceof o?g=h=i:g=i[m.prototype.idAttribute||"id"];if(j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),n&&!k&&j.hasChanged(p)&&(k=!0)),a[e]=j;else if(u){h=a[e]=this._prepareModel(i,b);if(!h)continue;q.push(h),this._addReference(h,b)}h=j||h,x&&(h.isNew()||!t[h.id])&&x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;e<f;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(q.length||x&&x.length){n&&(k=!0),this.length+=q.length;if(l!=null)for(e=0,f=q.length;e<f;e++)this.models.splice(l+e,0,q[e]);else{x&&(this.models.length=0);var y=x||q;for(e=0,f=y.length;e<f;e++)this.models.push(y[e])}}k&&this.sort({silent:!0});if(!b.silent){for(e=0,f=q.length;e<f;e++)(h=q[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;d<e;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return h.apply(this.models,arguments)},get:function(a){return a==null?void 0:this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},a.parse===void 0&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},N(this,a),this.sync("read",this,a)},create:function(a,b){b=b?c.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof o)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a,b){this._byId[a.cid]=a,a.id!=null&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if(a!=="add"&&a!=="remove"||c===this)a==="destroy"&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],b.id!=null&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments);else return}});var t=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(t,function(a){q.prototype[a]=function(){var b=h.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var u=["groupBy","countBy","sortBy","indexBy"];c.each(u,function(a){q.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var v=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];c.extend(v.prototype,j,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];c.isFunction(d)||(d=this[a[b]]);if(!d)continue;var e=b.match(w),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,g===""?this.$el.on(f,d):this.$el.on(f,g,d)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}else this.setElement(c.result(this,"el"),!1)}}),b.sync=function(a,d,e){var f=z[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};e.url||(g.url=c.result(d,"url")||M()),e.data==null&&d&&(a==="create"||a==="update"||a==="patch")&&(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{});if(e.emulateHTTP&&(f==="PUT"||f==="DELETE"||f==="PATCH")){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f);if(h)return h.apply(this,arguments)}}g.type!=="GET"&&!e.emulateJSON&&(g.processData=!1),g.type==="PATCH"&&y&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var y=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),z={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var A=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},B=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,D=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(A.prototype,j,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(!this.routes)return;this.routes=c.result(this,"routes");var a,b=c.keys(this.routes);while((a=b.pop())!=null)this.route(a,this.routes[a])},_routeToRegExp:function(a){return a=a.replace(E,"\\$&").replace(B,"(?:$1)?").replace(C,function(a,b){return b?a:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var F=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},G=/^[#\/]|\s+$/g,H=/^\/+|\/+$/g,I=/msie [\w.]+/,J=/\/$/,K=/#.*$/;F.started=!1,c.extend(F.prototype,j,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(a==null)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(J,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(G,"")},start:function(a){if(F.started)throw new Error("Backbone.history has already been started");F.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=I.exec(navigator.userAgent.toLowerCase())&&(!e||e<=7);this.root=("/"+this.root+"/").replace(H,"/");if(f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(G,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),F.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe)));if(b===this.fragment)return!1;this.iframe&&this.navigate(b),this.loadUrl()},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!F.started)return!1;if(!b||b===!0)b={trigger:!!b};var c=this.root+(a=this.getFragment(a||""));a=a.replace(K,"");if(this.fragment===a)return;this.fragment=a,a===""&&c!=="/"&&(c=c.slice(0,-1));if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new F;var L=function(a,b){var d=this,e;a&&c.has(a,"constructor")?e=a.constructor:e=function(){return d.apply(this,arguments)},c.extend(e,d,b);var f=function(){this.constructor=e};return f.prototype=d.prototype,e.prototype=new f,a&&c.extend(e.prototype,a),e.__super__=d.prototype,e};o.extend=q.extend=A.extend=v.extend=F.extend=L;var M=function(){throw new Error('A "url" property or function must be specified')},N=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b}),function(a,b){if(typeof define=="function"&&define.amd)define(["backbone","underscore"],function(a,c){return b(a,c)});else if(typeof exports!="undefined"){var c=require("backbone"),d=require("underscore");module.exports=b(c,d)}else b(a.Backbone,a._)}(this,function(a,b){"use strict";var c=a.Wreqr,d=a.Wreqr={};return a.Wreqr.VERSION="1.3.2",a.Wreqr.noConflict=function(){return a.Wreqr=c,this},d.Handlers=function(a,b){"use strict";var c=function(a){this.options=a,this._wreqrHandlers={},b.isFunction(this.initialize)&&this.initialize(a)};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events,{setHandlers:function(a){b.each(a,function(a,c){var d=null;b.isObject(a)&&!b.isFunction(a)&&(d=a.context,a=a.callback),this.setHandler(c,a,d)},this)},setHandler:function(a,b,c){var d={callback:b,context:c};this._wreqrHandlers[a]=d,this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)return;return function(){return b.callback.apply(b.context,arguments)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}}),c}(a,b),d.CommandStorage=function(){"use strict";var c=function(a){this.options=a,this._commands={},b.isFunction(this.initialize)&&this.initialize(a)};return b.extend(c.prototype,a.Events,{getCommands:function(a){var b=this._commands[a];return b||(b={command:a,instances:[]},this._commands[a]=b),b},addCommand:function(a,b){var c=this.getCommands(a);c.instances.push(b)},clearCommands:function(a){var b=this.getCommands(a);b.instances=[]}}),c}(),d.Commands=function(a,b){return"use strict",a.Handlers.extend({storageType:a.CommandStorage,constructor:function(b){this.options=b||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),a.Handlers.prototype.constructor.apply(this,arguments)},execute:function(a){a=arguments[0];var c=b.rest(arguments);this.hasHandler(a)?this.getHandler(a).apply(this,c):this.storage.addCommand(a,c)},_executeCommands:function(a,c,d){var e=this.storage.getCommands(a);b.each(e.instances,function(a){c.apply(d,a)}),this.storage.clearCommands(a)},_initializeStorage:function(a){var c,d=a.storageType||this.storageType;b.isFunction(d)?c=new d:c=d,this.storage=c}})}(d,b),d.RequestResponse=function(a,b){return"use strict",a.Handlers.extend({request:function(a){if(this.hasHandler(a))return this.getHandler(a).apply(this,b.rest(arguments))}})}(d,b),d.EventAggregator=function(a,b){"use strict";var c=function(){};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events),c}(a,b),d.Channel=function(c){"use strict";var d=function(b){this.vent=new a.Wreqr.EventAggregator,this.reqres=new a.Wreqr.RequestResponse,this.commands=new a.Wreqr.Commands,this.channelName=b};return b.extend(d.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(a,b){return this._connect("vent",a,b),this},connectCommands:function(a,b){return this._connect("commands",a,b),this},connectRequests:function(a,b){return this._connect("reqres",a,b),this},_connect:function(a,c,d){if(!c)return;d=d||this;var e=a==="vent"?"on":"setHandler";b.each(c,function(c,f){this[a][e](f,b.bind(c,d))},this)}}),d}(d),d.radio=function(a,b){"use strict";var c=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};b.extend(c.prototype,{channel:function(a){if(!a)throw new Error("Channel must receive a name");return this._getChannel(a)},_getChannel:function(b){var c=this._channels[b];return c||(c=new a.Channel(b),this._channels[b]=c),c},_proxyMethods:function(){b.each(["vent","commands","reqres"],function(a){b.each(d[a],function(b){this[a][b]=e(this,a,b)},this)},this)}});var d={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},e=function(a,c,d){return function(e){var f=a._getChannel(e)[c];return f[d].apply(f,b.rest(arguments))}};return new c}(d,b),a.Wreqr}),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;(function(a,b){return typeof define=="function"&&define.amd?define("waypoints",["jquery"],function(c){return b(c,a)}):b(a.jQuery,a)})(window,function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=c(d),l=a.call(d,"ontouchstart")>=0,h={horizontal:{},vertical:{}},i=1,k={},j="waypoints-context-id",o="resize.waypoints",p="scroll.waypoints",q=1,r="waypoints-waypoint-ids",s="waypoint",t="waypoints",f=function(){function a(a){var b=this;this.$element=a,this.element=a[0],this.didResize=!1,this.didScroll=!1,this.id="context"+i++,this.oldScroll={x:a.scrollLeft(),y:a.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[j]=this.id,k[this.id]=this,a.bind(p,function(){var a;if(!b.didScroll&&!l)return b.didScroll=!0,a=function(){return b.doScroll(),b.didScroll=!1},d.setTimeout(a,c[t].settings.scrollThrottle)}),a.bind(o,function(){var a;if(!b.didResize)return b.didResize=!0,a=function(){return c[t]("refresh"),b.didResize=!1},d.setTimeout(a,c[t].settings.resizeThrottle)})}return a.prototype.doScroll=function(){var a,b=this;return a={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},l&&(!a.vertical.oldScroll||!a.vertical.newScroll)&&c[t]("refresh"),c.each(a,function(a,d){var e,f,g;return g=[],f=d.newScroll>d.oldScroll,e=f?d.forward:d.backward,c.each(b.waypoints[a],function(a,b){var c,e;if(d.oldScroll<(c=b.offset)&&c<=d.newScroll)return g.push(b);if(d.newScroll<(e=b.offset)&&e<=d.oldScroll)return g.push(b)}),g.sort(function(a,b){return a.offset-b.offset}),f||g.reverse(),c.each(g,function(a,b){if(b.options.continuous||a===g.length-1)return b.trigger([e])})}),this.oldScroll={x:a.horizontal.newScroll,y:a.vertical.newScroll}},a.prototype.refresh=function(){var a,b,d,e=this;return d=c.isWindow(this.element),b={left:this.$element[0].screenLeft,top:this.$element[0].screenTop},this.doScroll(),a={horizontal:{contextOffset:d?0:b.left,contextScroll:d?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:d?0:b.top,contextScroll:d?0:this.oldScroll.y,contextDimension:d?c[t]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},c.each(a,function(a,b){return c.each(e.waypoints[a],function(a,d){var e,f,g,h,i;e=d.options.offset,g=d.offset,f=c.isWindow(d.element)?0:d.$element.offset()[b.offsetProp],c.isFunction(e)?e=e.apply(d.element):typeof e=="string"&&(e=parseFloat(e),d.options.offset.indexOf("%")>-1&&(e=Math.ceil(b.contextDimension*e/100))),d.offset=f-b.contextOffset+b.contextScroll-e;if(d.options.onlyOnScroll&&g!=null||!d.enabled)return;if(g!==null&&g<(h=b.oldScroll)&&h<=d.offset)return d.trigger([b.backward]);if(g!==null&&g>(i=b.oldScroll)&&i>=d.offset)return d.trigger([b.forward]);if(g===null&&b.oldScroll>=d.offset)return d.trigger([b.forward])})})},a.prototype.checkEmpty=function(){if(c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([o,p].join(" ")),delete k[this.id]},a}(),g=function(){function a(a,b,d){var e,f;d.offset==="bottom-in-view"&&(d.offset=function(){var a;return a=c[t]("viewportHeight"),c.isWindow(b.element)||(a=b.$element.height()),a-c(this).outerHeight()}),this.$element=a,this.element=a[0],this.axis=d.horizontal?"horizontal":"vertical",this.callback=d.handler,this.context=b,this.enabled=d.enabled,this.id="waypoints"+q++,this.offset=null,this.options=d,b.waypoints[this.axis][this.id]=this,h[this.axis][this.id]=this,e=(f=this.element[r])!=null?f:[],e.push(this.id),this.element[r]=e}return a.prototype.trigger=function(a){if(!this.enabled)return;this.callback!=null&&this.callback.apply(this.element,a);if(this.options.triggerOnce)return this.destroy()},a.prototype.disable=function(){return this.enabled=!1},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},a.prototype.destroy=function(){return delete h[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},a.getWaypointsByElement=function(a){var b,d;return d=a[r],d?(b=c.extend({},h.horizontal,h.vertical),c.map(d,function(a){return b[a]})):[]},a}(),n={init:function(a,b){var d;return b=c.extend({},c.fn[s].defaults,b),(d=b.handler)==null&&(b.handler=a),this.each(function(){var a,d,e,h;return a=c(this),e=(h=b.context)!=null?h:c.fn[s].defaults.context,c.isWindow(e)||(e=a.closest(e)),e=c(e),d=k[e[0][j]],d||(d=new f(e)),new g(a,d,b)}),c[t]("refresh"),this},disable:function(){return n._invoke.call(this,"disable")},enable:function(){return n._invoke.call(this,"enable")},destroy:function(){return n._invoke.call(this,"destroy")},prev:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){if(b>0)return a.push(c[b-1])})},next:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){if(b<c.length-1)return a.push(c[b+1])})},_traverse:function(a,b,e){var f,g;return a==null&&(a="vertical"),b==null&&(b=d),g=m.aggregate(b),f=[],this.each(function(){var b;return b=c.inArray(this,g[a]),e(f,b,g[a])}),this.pushStack(f)},_invoke:function(a){return this.each(function(){var b;return b=g.getWaypointsByElement(this),c.each(b,function(b,c){return c[a](),!0})}),this}},c.fn[s]=function(){var a,d;return d=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],n[d]?n[d].apply(this,a):c.isFunction(d)?n.init.apply(this,arguments):c.isPlainObject(d)?n.init.apply(this,[null,d]):d?c.error("The "+d+" method does not exist in jQuery Waypoints."):c.error("jQuery Waypoints needs a callback function or handler option.")},c.fn[s].defaults={context:d,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},m={refresh:function(){return c.each(k,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return(a=d.innerHeight)!=null?a:e.height()},aggregate:function(a){var b,d,e;return b=h,a&&(b=(e=k[c(a)[0][j]])!=null?e.waypoints:void 0),b?(d={horizontal:[],vertical:[]},c.each(d,function(a,e){return c.each(b[a],function(a,b){return e.push(b)}),e.sort(function(a,b){return a.offset-b.offset}),d[a]=c.map(e,function(a){return a.element}),d[a]=c.unique(d[a])}),d):[]},above:function(a){return a==null&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){return a==null&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){return a==null&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){return a==null&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset>a.oldScroll.x})},enable:function(){return m._invoke("enable")},disable:function(){return m._invoke("disable")},destroy:function(){return m._invoke("destroy")},extendFn:function(a,b){return n[a]=b},_invoke:function(a){var b;return b=c.extend({},h.vertical,h.horizontal),c.each(b,function(b,c){return c[a](),!0})},_filter:function(a,b,d){var e,f;return e=k[c(a)[0][j]],e?(f=[],c.each(e.waypoints[b],function(a,b){if(d(e,b))return f.push(b)}),f.sort(function(a,b){return a.offset-b.offset}),c.map(f,function(a){return a.element})):[]}},c[t]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],m[c]?m[c].apply(null,a):m.aggregate.call(null,c)},c[t].settings={resizeThrottle:100,scrollThrottle:30},e.on("load.waypoints",function(){return c[t]("refresh")})})}.call(this),function(){(function(a,b){return typeof define=="function"&&define.amd?define(["jquery","waypoints"],b):b(a.jQuery)})(this,function(a){var b,c;return b={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck"},c=function(a,b){return a.wrap(b.wrapper),a.parent()},a.waypoints("extendFn","sticky",function(d){var e,f,g;return f=a.extend({},a.fn.waypoint.defaults,b,d),e=c(this,f),g=f.handler,f.handler=function(b){var c,d;c=a(this).children(":first"),d=b==="down"||b==="right",c.toggleClass(f.stuckClass,d),e.height(d?c.outerHeight():"");if(g!=null)return g.call(this,b)},e.waypoint(f),this.data("stuckClass",f.stuckClass)}),a.waypoints("extendFn","unsticky",function(){return this.parent().waypoint("destroy"),this.unwrap(),this.removeClass(this.data("stuckClass"))})})}.call(this),function(a){typeof define=="function"&&define.amd?define(["jquery"],a):typeof exports=="object"?a(require("jquery")):a(jQuery)}(function(a){function c(a){return h.raw?a:encodeURIComponent(a)}function d(a){return h.raw?a:decodeURIComponent(a)}function e(a){return c(h.json?JSON.stringify(a):String(a))}function f(a){a.indexOf('"')===0&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(b," ")),h.json?JSON.parse(a):a}catch(c){}}function g(b,c){var d=h.raw?b:f(b);return a.isFunction(c)?c(d):d}var b=/\+/g,h=a.cookie=function(b,f,i){if(f!==undefined&&!a.isFunction(f)){i=a.extend({},h.defaults,i);if(typeof i.expires=="number"){var j=i.expires,k=i.expires=new Date;k.setTime(+k+j*864e5)}return document.cookie=[c(b),"=",e(f),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var l=b?undefined:{},m=document.cookie?document.cookie.split("; "):[];for(var n=0,o=m.length;n<o;n++){var p=m[n].split("="),q=d(p.shift()),r=p.join("=");if(b&&b===q){l=g(r,f);break}!b&&(r=g(r))!==undefined&&(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return a.cookie(b)===undefined?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(){function a(){}function e(a,b){var c=a.length;while(c--)if(a[c].listener===b)return c;return-1}function f(a){return function(){return this[a].apply(this,arguments)}}var b=a.prototype,c=this,d=c.EventEmitter;b.getListeners=function(a){var b=this._getEvents(),c,d;if(typeof a=="object"){c={};for(d in b)b.hasOwnProperty(d)&&a.test(d)&&(c[d]=b[d])}else c=b[a]||(b[a]=[]);return c},b.flattenListeners=function(a){var b=[],c;for(c=0;c<a.length;c+=1)b.push(a[c].listener);return b},b.getListenersAsObject=function(a){var b=this.getListeners(a),c;return b instanceof Array&&(c={},c[a]=b),c||b},b.addListener=function(a,b){var c=this.getListenersAsObject(a),d=typeof b=="object",f;for(f in c)c.hasOwnProperty(f)&&e(c[f],b)===-1&&c[f].push(d?b:{listener:b,once:!1});return this},b.on=f("addListener"),b.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},b.once=f("addOnceListener"),b.defineEvent=function(a){return this.getListeners(a),this},b.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},b.removeListener=function(a,b){var c=this.getListenersAsObject(a),d,f;for(f in c)c.hasOwnProperty(f)&&(d=e(c[f],b),d!==-1&&c[f].splice(d,1));return this},b.off=f("removeListener"),b.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},b.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},b.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if(typeof b!="object"||b instanceof RegExp){d=c.length;while(d--)f.call(this,b,c[d])}else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&(typeof e=="function"?f.call(this,d,e):g.call(this,d,e));return this},b.removeEvent=function(a){var b=typeof a,c=this._getEvents(),d;if(b==="string")delete c[a];else if(b==="object")for(d in c)c.hasOwnProperty(d)&&a.test(d)&&delete c[d];else delete this._events;return this},b.removeAllListeners=f("removeEvent"),b.emitEvent=function(a,b){var c=this.getListenersAsObject(a),d,e,f,g;for(f in c)if(c.hasOwnProperty(f)){e=c[f].length;while(e--)d=c[f][e],d.once===!0&&this.removeListener(a,d.listener),g=d.listener.apply(this,b||[]),g===this._getOnceReturnValue()&&this.removeListener(a,d.listener)}return this},b.trigger=f("emitEvent"),b.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},b.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},b._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},b._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return c.EventEmitter=d,a},typeof define=="function"&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):typeof module=="object"&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){function d(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var b=document.documentElement,c=function(){};b.addEventListener?c=function(a,b,c){a.addEventListener(b,c,!1)}:b.attachEvent&&(c=function(a,b,c){a[b+c]=c.handleEvent?function(){var b=d(a);c.handleEvent.call(c,b)}:function(){var b=d(a);c.call(a,b)},a.attachEvent("on"+b,a[b+c])});var e=function(){};b.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:b.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=undefined}});var f={bind:c,unbind:e};typeof define=="function"&&define.amd?define("eventie/eventie",f):a.eventie=f}(this),function(a,b){typeof define=="function"&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):typeof exports=="object"?module.exports=b(a,require("wolfy87-eventemitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(window,function(a,b,c){function g(a,b){for(var c in b)a[c]=b[c];return a}function i(a){return h.call(a)==="[object Array]"}function j(a){var b=[];if(i(a))b=a;else if(typeof a.length=="number")for(var c=0,d=a.length;c<d;c++)b.push(a[c]);else b.push(a);return b}function k(a,b,c){if(!(this instanceof k))return new k(a,b);typeof a=="string"&&(a=document.querySelectorAll(a)),this.elements=j(a),this.options=g({},this.options),typeof b=="function"?c=b:g(this.options,b),c&&this.on("always",c),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var e=this;setTimeout(function(){e.check()})}function l(a){this.img=a}function n(a){this.src=a,m[a]=this}var d=a.jQuery,e=a.console,f=typeof e!="undefined",h=Object.prototype.toString;k.prototype=new b,k.prototype.options={},k.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;a<b;a++){var c=this.elements[a];c.nodeName==="IMG"&&this.addImage(c);var d=c.nodeType;if(!d||d!==1&&d!==9&&d!==11)continue;var e=c.querySelectorAll("img");for(var f=0,g=e.length;f<g;f++){var h=e[f];this.addImage(h)}}},k.prototype.addImage=function(a){var b=new l(a);this.images.push(b)},k.prototype.check=function(){function d(d,g){return a.options.debug&&f&&e.log("confirm",d,g),a.progress(d),b++,b===c&&a.complete(),!0}var a=this,b=0,c=this.images.length;this.hasAnyBroken=!1;if(!c){this.complete();return}for(var g=0;g<c;g++){var h=this.images
[g];h.on("confirm",d),h.check()}},k.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},k.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){b.emit(a,b),b.emit("always",b);if(b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},d&&(d.fn.imagesLoaded=function(a,b){var c=new k(this,a,b);return c.jqDeferred.promise(d(this))}),l.prototype=new b,l.prototype.check=function(){var a=m[this.img.src]||new n(this.img.src);if(a.isConfirmed){this.confirm(a.isLoaded,"cached was confirmed");return}if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0}),a.check()},l.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var m={};return n.prototype=new b,n.prototype.check=function(){if(this.isChecked)return;var a=new Image;c.bind(a,"load",this),c.bind(a,"error",this),a.src=this.src,this.isChecked=!0},n.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},n.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},n.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},n.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},n.prototype.unbindProxyEvents=function(a){c.unbind(a.target,"load",this),c.unbind(a.target,"error",this)},k}),window.Modernizr=function(a,b,c){function z(a){j.cssText=a}function A(a,b){return z(m.join(a+";")+(b||""))}function B(a,b){return typeof a===b}function C(a,b){return!!~(""+a).indexOf(b)}function D(a,b){for(var d in a){var e=a[d];if(!C(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function E(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:B(f,"function")?f.bind(d||b):f}return!1}function F(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return B(b,"string")||B(b,"undefined")?D(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),E(e,b,c))}function G(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)s[c[d]]=c[d]in k;return s.list&&(s.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),s}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "))}var d="2.8.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={},r={},s={},t=[],u=t.slice,v,w=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},x={}.hasOwnProperty,y;!B(x,"undefined")&&!B(x.call,"undefined")?y=function(a,b){return x.call(a,b)}:y=function(a,b){return b in a&&B(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(typeof b!="function")throw new TypeError;var c=u.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(u.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(u.call(arguments)))};return d}),q.flexbox=function(){return F("flexWrap")},q.flexboxlegacy=function(){return F("boxDirection")},q.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:w(["@media (",m.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c},q.csscolumns=function(){return F("columnCount")},q.csstransforms=function(){return!!F("transform")},q.csstransforms3d=function(){var a=!!F("perspective");return a&&"webkitPerspective"in g.style&&w("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},q.csstransitions=function(){return F("transition")},q.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}};for(var H in q)y(q,H)&&(v=H.toLowerCase(),e[v]=q[H](),t.push((e[v]?"":"no-")+v));return e.input||G(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)y(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},z(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k)return c.createElement(a);d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k)return a.createDocumentFragment();c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.testProp=function(a){return D([a])},e.testAllProps=F,e.testStyles=w,e.prefixed=function(a,b,c){return b?F(a,b,c):F(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+t.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("cssvhunit",function(){var a;return Modernizr.testStyles("#modernizr { height: 50vh; }",function(b,c){var d=parseInt(window.innerHeight/2,10),e=parseInt((window.getComputedStyle?getComputedStyle(b,null):b.currentStyle).height,10);a=e==d}),a}),Modernizr.addTest("cssvwunit",function(){var a;return Modernizr.testStyles("#modernizr { width: 50vw; }",function(b,c){var d=parseInt(window.innerWidth/2,10),e=parseInt((window.getComputedStyle?getComputedStyle(b,null):b.currentStyle).width,10);a=e==d}),a}),function(a){a.fn.tinyDraggable=function(b){var c=a.extend({handle:0,exclude:0,dropped:function(){}},b);return this.each(function(){var b,d,e=a(this),f=c.handle?a(c.handle,e):e;f.on({mousedown:function(f){if(c.exclude&&~a.inArray(f.target,a(c.exclude,e)))return;f.preventDefault();var g=e.offset();b=f.pageX-g.left,d=f.pageY-g.top,a(document).on("mousemove.drag",function(a){e.offset({top:a.pageY-d,left:a.pageX-b})})},mouseup:function(b){a(document).off("mousemove.drag"),typeof c.dropped=="function"&&c.dropped()}})})}}(jQuery),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),!function(a,b,c,d){function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&bl(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==bo?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<bm.length;){if(c=bm[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return bu++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:bx?M:by?P:bw?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&bE&&d-e===0,g=b&(bG|bH)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=br(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=bq(j.x)>bq(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==bE&&f.eventType!==bG||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=bH&&(i>bD||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=bq(l.x)>bq(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:bp(a.pointers[c].clientX),clientY:bp(a.pointers[c].clientY)},c++;return{timeStamp:br(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:bp(a[0].clientX),y:bp(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:bp(c/b),y:bp(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?bI:bq(a)>=bq(b)?0>a?bJ:bK:0>b?bL:bM}function H(a,b,c){c||(c=bQ);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=bQ);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],bR)+I(a[1],a[0],bR)}function K(a,b){return H(b[0],b[1],bR)/H(a[0],a[1],bR)}function L(){this.evEl=bT,this.evWin=bU,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=bX,this.evWin=bY,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=b$,this.evWin=b_,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(bG|bH)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=cb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(bE|bF)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===bE)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(bG|bH)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&bE?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(bG|bH)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cc)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(cd>=f&&cd>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,cj))return cj;var b=p(a,ck),c=p(a,cl);return b&&c?cj:b||c?b?ck:cl:p(a,ci)?ci:ch}function X(){if(!cf)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=bl({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=cn,this.simultaneous={},this.requireFail=[]}function Z(a){return a&cs?"cancel":a&cq?"end":a&cp?"move":a&co?"start":""}function $(a){return a==bM?"down":a==bL?"up":a==bJ?"left":a==bK?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function ba(){Y.apply(this,arguments)}function bb(){ba.apply(this,arguments),this.pX=null,this.pY=null}function bc(){ba.apply(this,arguments)}function bd(){Y.apply(this,arguments),this._timer=null,this._input=null}function be(){ba.apply(this,arguments)}function bf(){ba.apply(this,arguments)}function bg(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function bh(a,b){return b=b||{},b.recognizers=l(b.recognizers,bh.defaults.preset),new bi(a,b)}function bi(a,b){this.options=bl({},bh.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),bj(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function bj(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function bk(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}"use strict";var bl,bm=["","webkit","Moz","MS","ms","o"],bn=b.createElement("div"),bo="function",bp=Math.round,bq=Math.abs,br=Date.now;bl="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var bs=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),bt=h(function(a,b){return bs(a,b,!0)},"merge","Use `assign`."),bu=1,bv=/mobile|tablet|ip(ad|hone|od)|android/i,bw="ontouchstart"in a,bx=u(a,"PointerEvent")!==d,by=bw&&bv.test(navigator.userAgent),bz="touch",bA="pen",bB="mouse",bC="kinect",bD=25,bE=1,bF=2,bG=4,bH=8,bI=1,bJ=2,bK=4,bL=8,bM=16,bN=bJ|bK,bO=bL|bM,bP=bN|bO,bQ=["x","y"],bR=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var bS={mousedown:bE,mousemove:bF,mouseup:bG},bT="mousedown",bU="mousemove mouseup";i(L,x,{handler:function(a){var b=bS[a.type];b&bE&&0===a.button&&(this.pressed=!0),b&bF&&1!==a.which&&(b=bG),this.pressed&&(b&bG&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:bB,srcEvent:a}))}});var bV={pointerdown:bE,pointermove:bF,pointerup:bG,pointercancel:bH,pointerout:bH},bW={2:bz,3:bA,4:bB,5:bC},bX="pointerdown",bY="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(bX="MSPointerDown",bY="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=bV[d],f=bW[a.pointerType]||a.pointerType,g=f==bz,h=r(b,a.pointerId,"pointerId");e&bE&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(bG|bH)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var bZ={touchstart:bE,touchmove:bF,touchend:bG,touchcancel:bH},b$="touchstart",b_="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=bZ[a.type];if(b===bE&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(bG|bH)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:bz,srcEvent:a})}}});var ca={touchstart:bE,touchmove:bF,touchend:bG,touchcancel:bH},cb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ca[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:bz,srcEvent:a})}});var cc=2500,cd=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==bz,e=c.pointerType==bB;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ce=u(bn.style,"touchAction"),cf=ce!==d,cg="compute",ch="auto",ci="manipulation",cj="none",ck="pan-x",cl="pan-y",cm=X();V.prototype={set:function(a){a==cg&&(a=this.compute()),cf&&this.manager.element.style&&cm[a]&&(this.manager.element.style[ce]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,cj)&&!cm[cj],f=p(d,cl)&&!cm[cl],g=p(d,ck)&&!cm[ck];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&bN||g&&c&bO?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var cn=1,co=2,cp=4,cq=8,cr=cq,cs=16,ct=32;Y.prototype={defaults:{},set:function(a){return bl(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;cq>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=cq&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void (this.state=ct)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(ct|cn)))return!1;a++}return!0},recognize:function(a){var b=bl({},a);return k(this.options.enable,[this,b])?(this.state&(cr|cs|ct)&&(this.state=cn),this.state=this.process(b),void (this.state&(co|cp|cq|cs)&&this.tryEmit(b))):(this.reset(),void (this.state=ct))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(ba,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(co|cp),e=this.attrTest(a);return d&&(c&bH||!e)?b|cs:d||e?c&bG?b|cq:b&co?b|cp:co:ct}}),i(bb,ba,{defaults:{event:"pan",threshold:10,pointers:1,direction:bP},getTouchAction:function(){var a=this.options.direction,b=[];return a&bN&&b.push(cl),a&bO&&b.push(ck),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&bN?(e=0===f?bI:0>f?bJ:bK,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?bI:0>g?bL:bM,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return ba.prototype.attrTest.call(this,a)&&(this.state&co||!(this.state&co)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(bc,ba,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[cj]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&co)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(bd,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ch]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(bG|bH)&&!f)this.reset();else if(a.eventType&bE)this.reset(),this._timer=e(function(){this.state=cr,this.tryEmit()},b.time,this);else if(a.eventType&bG)return cr;return ct},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===cr&&(a&&a.eventType&bG?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=br(),this.manager.emit(this.options.event,this._input)))}}),i(be,ba,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[cj]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&co)}}),i(bf,ba,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:bN|bO,pointers:1},getTouchAction:function(){return bb.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(bN|bO)?b=a.overallVelocity:c&bN?b=a.overallVelocityX:c&bO&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&bq(b)>this.options.velocity&&a.eventType&bG},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(bg,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ci]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&bE&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=bG)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=cr,this.tryEmit()},b.interval,this),co):cr}return ct},failTimeout:function(){return this._timer=e(function(){this.state=ct},this.options.interval,this),ct},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==cr&&(this._input.
tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),bh.VERSION="2.0.8",bh.defaults={domEvents:!1,touchAction:cg,enable:!0,inputTarget:null,inputClass:null,preset:[[be,{enable:!1}],[bc,{enable:!1},["rotate"]],[bf,{direction:bN}],[bb,{direction:bN},["swipe"]],[bg],[bg,{event:"doubletap",taps:2},["tap"]],[bd]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var cu=1,cv=2;bi.prototype={set:function(a){return bl(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?cv:cu},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&cr)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===cv||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(co|cp|cq)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&bk(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&bj(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},bl(bh,{INPUT_START:bE,INPUT_MOVE:bF,INPUT_END:bG,INPUT_CANCEL:bH,STATE_POSSIBLE:cn,STATE_BEGAN:co,STATE_CHANGED:cp,STATE_ENDED:cq,STATE_RECOGNIZED:cr,STATE_CANCELLED:cs,STATE_FAILED:ct,DIRECTION_NONE:bI,DIRECTION_LEFT:bJ,DIRECTION_RIGHT:bK,DIRECTION_UP:bL,DIRECTION_DOWN:bM,DIRECTION_HORIZONTAL:bN,DIRECTION_VERTICAL:bO,DIRECTION_ALL:bP,Manager:bi,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:ba,Tap:bg,Pan:bb,Swipe:bf,Pinch:bc,Rotate:be,Press:bd,on:m,off:n,each:g,merge:bt,extend:bs,assign:bl,inherit:i,bindFn:j,prefixed:u});var cw="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};cw.Hammer=bh,"function"==typeof define&&define.amd?define(function(){return bh}):"undefined"!=typeof module&&module.exports?module.exports=bh:a[c]=bh}(window,document,"Hammer"),function(a){function c(){}function d(a){function d(b){if(b.prototype.option)return;b.prototype.option=function(b){if(!a.isPlainObject(b))return;this.options=a.extend(!0,this.options,b)}}function f(c,d){a.fn[c]=function(f){if(typeof f=="string"){var g=b.call(arguments,1);for(var h=0,i=this.length;h<i;h++){var j=this[h],k=a.data(j,c);if(!k){e("cannot call methods on "+c+" prior to initialization; "+"attempted to call '"+f+"'");continue}if(!a.isFunction(k[f])||f.charAt(0)==="_"){e("no such method '"+f+"' for "+c+" instance");continue}var l=k[f].apply(k,g);if(l!==undefined)return l}return this}return this.each(function(){var b=a.data(this,c);b?(b.option(f),b._init()):(b=new d(this,f),a.data(this,c,b))})}}if(!a)return;var e=typeof console=="undefined"?c:function(a){console.error(a)};return a.bridget=function(a,b){d(b),f(a,b)},a.bridget}var b=Array.prototype.slice;typeof define=="function"&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],d):d(a.jQuery)}(window),function(a){function d(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var b=document.documentElement,c=function(){};b.addEventListener?c=function(a,b,c){a.addEventListener(b,c,!1)}:b.attachEvent&&(c=function(a,b,c){a[b+c]=c.handleEvent?function(){var b=d(a);c.handleEvent.call(c,b)}:function(){var b=d(a);c.call(a,b)},a.attachEvent("on"+b,a[b+c])});var e=function(){};b.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:b.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=undefined}});var f={bind:c,unbind:e};typeof define=="function"&&define.amd?define("eventie/eventie",f):typeof exports=="object"?module.exports=f:a.eventie=f}(this),function(a){function d(a){if(typeof a!="function")return;d.isReady?a():c.push(a)}function e(a){var e=a.type==="readystatechange"&&b.readyState!=="complete";if(d.isReady||e)return;d.isReady=!0;for(var f=0,g=c.length;f<g;f++){var h=c[f];h()}}function f(c){return c.bind(b,"DOMContentLoaded",e),c.bind(b,"readystatechange",e),c.bind(a,"load",e),d}var b=a.document,c=[];d.isReady=!1,typeof define=="function"&&define.amd?(d.isReady=typeof requirejs=="function",define("doc-ready/doc-ready",["eventie/eventie"],f)):a.docReady=f(a.eventie)}(this),function(){function a(){}function e(a,b){var c=a.length;while(c--)if(a[c].listener===b)return c;return-1}function f(a){return function(){return this[a].apply(this,arguments)}}var b=a.prototype,c=this,d=c.EventEmitter;b.getListeners=function(a){var b=this._getEvents(),c,d;if(a instanceof RegExp){c={};for(d in b)b.hasOwnProperty(d)&&a.test(d)&&(c[d]=b[d])}else c=b[a]||(b[a]=[]);return c},b.flattenListeners=function(a){var b=[],c;for(c=0;c<a.length;c+=1)b.push(a[c].listener);return b},b.getListenersAsObject=function(a){var b=this.getListeners(a),c;return b instanceof Array&&(c={},c[a]=b),c||b},b.addListener=function(a,b){var c=this.getListenersAsObject(a),d=typeof b=="object",f;for(f in c)c.hasOwnProperty(f)&&e(c[f],b)===-1&&c[f].push(d?b:{listener:b,once:!1});return this},b.on=f("addListener"),b.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},b.once=f("addOnceListener"),b.defineEvent=function(a){return this.getListeners(a),this},b.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},b.removeListener=function(a,b){var c=this.getListenersAsObject(a),d,f;for(f in c)c.hasOwnProperty(f)&&(d=e(c[f],b),d!==-1&&c[f].splice(d,1));return this},b.off=f("removeListener"),b.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},b.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},b.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if(typeof b!="object"||b instanceof RegExp){d=c.length;while(d--)f.call(this,b,c[d])}else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&(typeof e=="function"?f.call(this,d,e):g.call(this,d,e));return this},b.removeEvent=function(a){var b=typeof a,c=this._getEvents(),d;if(b==="string")delete c[a];else if(a instanceof RegExp)for(d in c)c.hasOwnProperty(d)&&a.test(d)&&delete c[d];else delete this._events;return this},b.removeAllListeners=f("removeEvent"),b.emitEvent=function(a,b){var c=this.getListenersAsObject(a),d,e,f,g;for(f in c)if(c.hasOwnProperty(f)){e=c[f].length;while(e--)d=c[f][e],d.once===!0&&this.removeListener(a,d.listener),g=d.listener.apply(this,b||[]),g===this._getOnceReturnValue()&&this.removeListener(a,d.listener)}return this},b.trigger=f("emitEvent"),b.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},b.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},b._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},b._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return c.EventEmitter=d,a},typeof define=="function"&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):typeof module=="object"&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){function d(a){if(!a)return;if(typeof c[a]=="string")return a;a=a.charAt(0).toUpperCase()+a.slice(1);var d;for(var e=0,f=b.length;e<f;e++){d=b[e]+a;if(typeof c[d]=="string")return d}}var b="Webkit Moz ms Ms O".split(" "),c=document.documentElement.style;typeof define=="function"&&define.amd?define("get-style-property/get-style-property",[],function(){return d}):typeof exports=="object"?module.exports=d:a.getStyleProperty=d}(window),function(a,b){function e(a){var b=parseFloat(a),c=a.indexOf("%")===-1&&!isNaN(b);return c&&b}function g(){var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var b=0,c=f.length;b<c;b++){var d=f[b];a[d]=0}return a}function h(a){function i(a){typeof a=="string"&&(a=document.querySelector(a));if(!a||typeof a!="object"||!a.nodeType)return;var c=d(a);if(c.display==="none")return g();var i={};i.width=a.offsetWidth,i.height=a.offsetHeight;var k=i.isBorderBox=!!b&&!!c[b]&&c[b]==="border-box";for(var l=0,m=f.length;l<m;l++){var n=f[l],o=c[n];o=j(a,o);var p=parseFloat(o);i[n]=isNaN(p)?0:p}var q=i.paddingLeft+i.paddingRight,r=i.paddingTop+i.paddingBottom,s=i.marginLeft+i.marginRight,t=i.marginTop+i.marginBottom,u=i.borderLeftWidth+i.borderRightWidth,v=i.borderTopWidth+i.borderBottomWidth,w=k&&h,x=e(c.width);x!==!1&&(i.width=x+(w?0:q+u));var y=e(c.height);return y!==!1&&(i.height=y+(w?0:r+v)),i.innerWidth=i.width-(q+u),i.innerHeight=i.height-(r+v),i.outerWidth=i.width+s,i.outerHeight=i.height+t,i}function j(a,b){if(c||b.indexOf("%")===-1)return b;var d=a.style,e=d.left,f=a.runtimeStyle,g=f&&f.left;return g&&(f.left=a.currentStyle.left),d.left=b,b=d.pixelLeft,d.left=e,g&&(f.left=g),b}var b=a("boxSizing"),h;return function(){if(!b)return;var a=document.createElement("div");a.style.width="200px",a.style.padding="1px 2px 3px 4px",a.style.borderStyle="solid",a.style.borderWidth="1px 2px 3px 4px",a.style[b]="border-box";var c=document.body||document.documentElement;c.appendChild(a);var f=d(a);h=e(f.width)===200,c.removeChild(a)}(),i}var c=a.getComputedStyle,d=c?function(a){return c(a,null)}:function(a){return a.currentStyle},f=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];typeof define=="function"&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],h):typeof exports=="object"?module.exports=h(require("get-style-property")):a.getSize=h(a.getStyleProperty)}(window),function(a,b){function d(a,b){return a[c](b)}function e(a){if(a.parentNode)return;var b=document.createDocumentFragment();b.appendChild(a)}function f(a,b){e(a);var c=a.parentNode.querySelectorAll(b);for(var d=0,f=c.length;d<f;d++)if(c[d]===a)return!0;return!1}function g(a,b){return e(a),d(a,b)}var c=function(){if(b.matchesSelector)return"matchesSelector";var a=["webkit","moz","ms","o"];for(var c=0,d=a.length;c<d;c++){var e=a[c],f=e+"MatchesSelector";if(b[f])return f}}(),h;if(c){var i=document.createElement("div"),j=d(i,"div");h=j?d:g}else h=f;typeof define=="function"&&define.amd?define("matches-selector/matches-selector",[],function(){return h}):window.matchesSelector=h}(this,Element.prototype),function(a){function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){for(var b in a)return!1;return b=null,!0}function f(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function g(a,b,g){function o(a,b){if(!a)return;this.element=a,this.layout=b,this.position={x:0,y:0},this._create()}var h=g("transition"),i=g("transform"),j=h&&i,k=!!g("perspective"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[h],m=["transform","transition","transitionDuration","transitionProperty"],n=function(){var a={};for(var b=0,c=m.length;b<c;b++){var d=m[b],e=g(d);e&&e!==d&&(a[d]=e)}return a}();d(o.prototype,a.prototype),o.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},o.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},o.prototype.getSize=function(){this.size=b(this.element)},o.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=n[c]||c;b[d]=a[c]}},o.prototype.getPosition=function(){var a=c(this.element),b=this.layout.options,d=b.isOriginLeft,e=b.isOriginTop,f=parseInt(a[d?"left":"right"],10),g=parseInt(a[e?"top":"bottom"],10);f=isNaN(f)?0:f,g=isNaN(g)?0:g;var h=this.layout.size;f-=d?h.paddingLeft:h.paddingRight,g-=e?h.paddingTop:h.paddingBottom,this.position.x=f,this.position.y=g},o.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={};b.isOriginLeft?(c.left=this.position.x+a.paddingLeft+"px",c.right=""):(c.right=this.position.x+a.paddingRight+"px",c.left=""),b.isOriginTop?(c.top=this.position.y+a.paddingTop+"px",c.bottom=""):(c.bottom=this.position.y+a.paddingBottom+"px",c.top=""),this.css(c),this.emitEvent("layout",[this])};var p=k?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};o.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;this.setPosition(a,b);if(g&&!this.isTransitioning){this.layoutPosition();return}var h=a-c,i=b-d,j={},k=this.layout.options;h=k.isOriginLeft?h:-h,i=k.isOriginTop?i:-i,j.transform=p(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},o.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},o.prototype.moveTo=j?o.prototype._transitionTo:o.prototype.goTo,o.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},o.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},o.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(a);return}var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var q=i&&f(i)+",opacity";o.prototype.enableTransition=function(){if(this.isTransitioning)return;this.css({transitionProperty:q,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(l,this,!1)},o.prototype.transition=o.prototype[h?"_transition":"_nonTransition"],o.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},o.prototype.onotransitionend=function(a){this.ontransitionend(a)};var r={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};o.prototype.ontransitionend=function(a){if(a.target!==this.element)return;var b=this._transn,c=r[a.propertyName]||a.propertyName;delete b.ingProperties[c],e(b.ingProperties)&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]);if(c in b.onEnd){var d=b.onEnd[c];d.call(this),delete b.onEnd[c]}this.emitEvent("transitionEnd",[this])},o.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},o.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var s={transitionProperty:"",transitionDuration:""};return o.prototype.removeTransitionStyles=function(){this.css(s)},o.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},o.prototype.remove=function(){if(!h||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var a=this;this.on("transitionEnd",function(){return a.removeElem(),!0}),this.hide()},o.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0})},o.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},o.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o}var b=a.getComputedStyle,c=b?function(a){return b(a,null)}:function(a){return a.currentStyle};typeof define=="function"&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],g):(a.Outlayer={},a.Outlayer.Item=g(a.EventEmitter,a.getSize,a.getStyleProperty))}(window),function(a){function f(a,b){for(var c in b)a[c]=b[c];return a}function h(a){return g.call(a)==="[object Array]"}function i(a){var b=[];if(h(a))b=a;else if(a&&typeof a.length=="number")for(var c=0,d=a.length;c<d;c++)b.push(a[c]);else b.push(a);return b}function l(a,b){var c=k(b,a);c!==-1&&b.splice(c,1)}function m(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()}function n(g,h,k,n,o,p){function s(a,d){typeof a=="string"&&(a=b.querySelector(a));if(!a||!j(a)){c&&c.error("Bad "+this.constructor.namespace+" element: "+a);return}this.element=a,this.options=f({},this.constructor.defaults),this.option(d);var e=++q;this.element.outlayerGUID=e,r[e]=this,this._create(),this.options.isInitLayout&&this.layout()}var q=0,r={};return s.namespace="outlayer",s.Item=p,s.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},f(s.prototype,k.prototype),s.prototype.option=function(a){f(this.options,a)},s.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),f(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},s.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},s.prototype._itemize=function(a){var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[];for(var e=0,f=b.length;e<f;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},s.prototype._filterFindItemElements=function(a){a=i(a);var b=this.options.itemSelector,c=[];for(var d=0,e=a.length;d<e;d++){var f=a[d];if(!j(f))continue;if(b){o(f,b)&&c.push(f);var g=f.querySelectorAll(b);for(var h=0,k=g.length;h<k;h++)c.push(g[h])}else c.push(f)}return c},s.prototype.getItemElements=function(){var a=[];for(var b=0,c=this.items.length;b<c;b++)a.push(this.items[b].element);return a},s.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},s.prototype._init=s.prototype.layout,s.prototype._resetLayout=function(){this.getSize()},s.prototype.getSize=function(){this.size=n(this.element)},s.prototype._getMeasurement=function(a,b){var c=this.options[a],d;c?(typeof c=="string"?d=this.element.querySelector(c):j(c)&&(d=c),this[a]=d?n(d)[b]:c):this[a]=0},s.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},s.prototype._getItemsForLayout=function(a){var b=[];for(var c=0,d=a.length;c<d;c++){var e=a[c];e.isIgnored||b.push(e)}return b},s.prototype._layoutItems=function(a,b){function d(){c.emitEvent("layoutComplete",[c,a])}var c=this;if(!a||!a.length){d();return}this._itemsOn(a,"layout",d);var e=[];for(var f=0,g=a.length;f<g;f++){var h=a[f],i=this._getItemLayoutPosition(h);i.item=h,i.isInstant=b||h.isLayoutInstant,e.push(i)}this._processLayoutQueue(e)},s.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},s.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},s.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},s.prototype._postLayout=function(){this.resizeContainer()},s.prototype.resizeContainer=function(){if(!this.options.isResizingContainer)return;var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))},s.prototype._getContainerSize=e,s.prototype._setContainerMeasure=function(a,b){if(a===undefined)return;var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"},s.prototype._itemsOn=function(a,b,c){function g(){return d++,d===e&&c.call(f),!0}var d=0,e=a.length,f=this;for(var h=0,i=a.length;h<i;h++){var j=a[h];j.on(b,g)}},s.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},s.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},s.prototype.stamp=function(a){a=this._find(a);if(!a)return;this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;b<c;b++){var d=a[b];this.ignore(d)}},s.prototype.unstamp=function(a){a=this._find(a);if(!a)return;for(var b=0,c=a.length;b<c;b++){var d=a[b];l(d,this.stamps),this.unignore(d)}},s.prototype._find=function(a){if(!a)return;return typeof a=="string"&&(a=this.element.querySelectorAll(a)),a=i(a),a},s.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length)return;this._getBoundingRect();for(var a=0,b=this.stamps.length;a<b;a++){var c=this.stamps[a];this._manageStamp(c)}},s.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},s.prototype._manageStamp=e,s.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,d=n(a),e={left:b.left-c.left-d.marginLeft,top:b.top-c.top-d.marginTop,right:c.right-b.right-d.marginRight,bottom:c.bottom-b.bottom-d.marginBottom};return e},s.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},s.prototype.bindResize=function(){if(this.isResizeBound)return;g.bind(a,"resize",this),this.isResizeBound=!0},s.prototype.unbindResize=function(){this.isResizeBound&&g.unbind(a,"resize",this),this.isResizeBound=!1},s.prototype.onresize=function(){function b(){a.resize(),delete a.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var a=this;this.resizeTimeout=setTimeout(b,100)},s.prototype.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout())return;this.layout()},s.prototype.needsResizeLayout=function(){var a=n(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},s.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},s.prototype.appended=function(a){var b=this.addItems(a);if(!b.length)return;this.layoutItems(b,!0),this.reveal(b)},s.prototype.prepended=function(a){var b=this._itemize(a);if(!b.length)return;var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)},s.prototype.reveal=function(a){var b=a&&a.length;if(!b)return;for(var c=0;c<b;c++){var d=a[c];d.reveal()}},s.prototype.hide=function(a){var b=a&&a.length;if(!b)return;for(var c=0;c<b;c++){var d=a[c];d.hide()}},s.prototype.getItem=function(a){for(var b=0,c=this.items.length;b<c;b++){var d=this.items[b];if(d.element===a)return d}},s.prototype.getItems=function(a){if(!a||!a.length)return;var b=[];for(var c=0,d=a.length;c<d;c++){var e=a[c],f=this.getItem(e);f&&b.push(f)}return b},s.prototype.remove=function(a){a=i(a);var b=this.getItems(a);if(!b||!b.length)return;this._itemsOn(b,"remove",function(){this.emitEvent("removeComplete",[this,b])});for(var c=0,d=b.length;c<d;c++){var e=b[c];e.remove(),l(e,this.items)}},s.prototype.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="";for(var b=0,c=this.items.length;b<c;b++){var e=this.items[b];e.destroy()}this.unbindResize(),delete this.element.outlayerGUID,d&&d.removeData(this.element,this.constructor.namespace)},s.data=function(a){var b=a&&a.outlayerGUID;return b&&r[b]},s.create=function(a,e){function g(){s.apply(this,arguments)}return Object.create?g.prototype=Object.create(s.prototype):f(g.prototype,s.prototype),g.prototype.constructor=g,g.defaults=f({},s.defaults),f(g.defaults,e),g.prototype.settings={},g.namespace=a,g.data=s.data,g.Item=function(){p.apply(this,arguments)},g.Item.prototype=new p,h(function(){var e=m(a),f=b.querySelectorAll(".js-"+e),h="data-"+e+"-options";for(var i=0,j=f.length;i<j;i++){var k=f[i],l=k.getAttribute(h),n;try{n=l&&JSON.parse(l)}catch(o){c&&c.error("Error parsing "+h+" on "+k.nodeName.toLowerCase()+(k.id?"#"+k.id:"")+": "+o);continue}var p=new g(k,n);d&&d.data(k,a,p)}}),d&&d.bridget&&d.bridget(a,g),g},s.Item=p,s}var b=a.document,c=a.console,d=a.jQuery,e=function(){},g=Object.prototype.toString,j=typeof HTMLElement=="object"?function(a){return a instanceof HTMLElement}:function(a){return a&&typeof a=="object"&&a.nodeType===1&&typeof a.nodeName=="string"},k=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1};typeof define=="function"&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],n):a.Outlayer=n(a.eventie,a.docReady,a.EventEmitter,a.getSize,a.matchesSelector,a.Outlayer.Item)}(window),function(a){function c(a,c){var d=a.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var a=this.cols;this.colYs=[];while(a--)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var a=this.items[0],b=a&&a.element;this.columnWidth=b&&c(b).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,b=c(a);this.containerWidth=b&&b.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var c=a.size.outerWidth%this.columnWidth,d=c&&c<1?"round":"ceil",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=b(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight,k=this.cols+1-f.length;for(var l=0;l<k;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(a<2)return this.colYs;var b=[],c=this.cols+1-a;for(var d=0;d<c;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._manageStamp=function(a){var b=c(a),d=this._getElementOffset(a),e=this.options.isOriginLeft?d.left:d.right,f=e+b.outerWidth,g=Math.floor(e/this.columnWidth);g=Math.max(0,g);var h=Math.floor(f/this.columnWidth);h-=f%this.columnWidth?0:1,h=Math.min(this.cols-1,h);var i=(this.options.isOriginTop?d.top:d.bottom)+b.outerHeight;for(var j=g;j<=h;j++)this.colYs[j]=Math.max(i,this.colYs[j])},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){var a=0,b=this.cols;while(--b){if(this.colYs[b]!==0)break;a++}return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d}var b=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(e===b)return c}return-1};typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size"],c):a.Masonry=c(a.Outlayer,a.getSize)}(window),function(){function a(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function b(a){if(!this||this.find!==b.prototype.find)return new b(a);this.length=0;if(a){typeof a=="string"&&(a=this.find(a));if(a.nodeType||a===a.window)this.length=1,this[0]=a;else{var c=a.length;this.length=c;while(c)c-=1,this[c]=a[c]}}}"use strict",b.extend=a,b.contains=function(a,b){do{b=b.parentNode;if(b===a)return!0}while(b);return!1},b.parseJSON=function(a){return window.JSON&&JSON.parse(a)},a(b.prototype,{find:function(a){var c=this[0]||document;return typeof a=="string"&&(c.querySelectorAll?a=c.querySelectorAll(a):a.charAt(0)==="#"?a=c.getElementById(a.slice(1)):a=c.getElementsByTagName(a)),new b(a)},hasClass:function(a){return this[0]?(new RegExp("(^|\\s+)"+a+"(\\s+|$)")).test(this[0].className):!1},addClass:function(a){var b=this.length,c;while(b){b-=1,c=this[b];if(!c.className)return c.className=a,this;if(this.hasClass(a))return this;c.className+=" "+a}return this},removeClass:function(a){var b=new RegExp("(^|\\s+)"+a+"(\\s+|$)"),c=this.length,d;while(c)c-=1,d=this[c],d.className=d.className.replace(b," ");return this},on:function(a,b){var c=a.split(/\s+/),d,e;while(c.length){a=c.shift(),d=this.length;while(d)d-=1,e=this[d],e.addEventListener?e.addEventListener(a,b,!1):e.attachEvent&&e.attachEvent("on"+a,b)}return this},off:function(a,b){var c=a.split(/\s+/),d,e;while(c.length){a=c.shift(),d=this.length;while(d)d-=1,e=this[d],e.removeEventListener?e.removeEventListener(a,b,!1):e.detachEvent&&e.detachEvent("on"+a,b)}return this},empty:function(){var a=this.length,b;while(a){a-=1,b=this[a];while(b.hasChildNodes())b.removeChild(b.lastChild)}return this},first:function(){return new b(this[0])}}),typeof define=="function"&&define.amd?define(function(){return b}):(window.blueimp=window.blueimp||{},window.blueimp.helper=b)}(),function(a){"use strict",typeof define=="function"&&define.amd?define(["./blueimp-helper"],a):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=a(window.blueimp.helper||window.jQuery))}(function(a){function b(a,c){if(document.body.style.maxHeight===undefined)return null;if(!this||this.options!==b.prototype.options)return new b(a,c);if(!a||!a.length){this.console.log("blueimp Gallery: No or empty list provided as first argument.",a);return}this.list=a,this.num=a.length,this.initOptions(c),this.initialize()}return"use strict",a.extend(b.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:undefined,event:undefined,onopen:undefined,onopened:undefined,onslide:undefined,onslideend:undefined,onslidecomplete:undefined,onclose:undefined,onclosed:undefined},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&typeof window.console.log=="function"?window.console:{log:function(){}},support:function(b){var c={touch:window.ontouchstart!==undefined||window.DocumentTouch&&document instanceof DocumentTouch},d={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}},e=function(){var a=c.transition,d,e;document.body.appendChild(b),a&&(d=a.name.slice(0,-9)+"ransform",b.style[d]!==undefined&&(b.style[d]="translateZ(0)"
,e=window.getComputedStyle(b).getPropertyValue(a.prefix+"transform"),c.transform={prefix:a.prefix,name:d,translate:!0,translateZ:!!e&&e!=="none"})),b.style.backgroundSize!==undefined&&(c.backgroundSize={},b.style.backgroundSize="contain",c.backgroundSize.contain=window.getComputedStyle(b).getPropertyValue("background-size")==="contain",b.style.backgroundSize="cover",c.backgroundSize.cover=window.getComputedStyle(b).getPropertyValue("background-size")==="cover"),document.body.removeChild(b)};return function(a,c){var d;for(d in c)if(c.hasOwnProperty(d)&&b.style[d]!==undefined){a.transition=c[d],a.transition.name=d;break}}(c,d),document.body?e():a(document).on("DOMContentLoaded",e),c}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){this.initStartIndex();if(this.initWidget()===!1)return!1;this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),this.options.startSlideshow&&this.play()},slide:function(a,b){window.clearTimeout(this.timeout);var c=this.index,d,e,f;if(c===a||this.num===1)return;b||(b=this.options.transitionSpeed);if(this.support.transform){this.options.continuous||(a=this.circle(a)),d=Math.abs(c-a)/(c-a),this.options.continuous&&(e=d,d=-this.positions[this.circle(a)]/this.slideWidth,d!==e&&(a=-d*this.num+a)),f=Math.abs(c-a)-1;while(f)f-=1,this.move(this.circle((a>c?a:c)-f-1),this.slideWidth*d,0);a=this.circle(a),this.move(c,this.slideWidth*d,b),this.move(a,0,b),this.options.continuous&&this.move(this.circle(a-d),-(this.slideWidth*d),0)}else a=this.circle(a),this.animate(c*-this.slideWidth,a*-this.slideWidth,b);this.onslide(a)},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(a){var b=this;window.clearTimeout(this.timeout),this.interval=a||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(a,c){b.animationFrameId=b.requestAnimationFrame.call(window,function(){b.slide(a,c)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(a){var b;a.concat||(a=Array.prototype.slice.call(a)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(a),this.num=this.list.length,this.num>2&&this.options.continuous===null&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass);for(b=this.num-a.length;b<this.num;b+=1)this.addSlide(b),this.positionSlide(b);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.slides=[]},handleClose:function(){var a=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(a.displayClass).removeClass(a.singleClass).removeClass(a.leftEdgeClass).removeClass(a.rightEdgeClass),a.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var a=this,b=function(c){c.target===a.container[0]&&(a.container.off(a.support.transition.end,b),a.handleClose())};this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,b),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(a){return(this.num+a%this.num)%this.num},move:function(a,b,c){this.translateX(a,b,c),this.positions[a]=b},translate:function(a,b,c,d){var e=this.slides[a].style,f=this.support.transition,g=this.support.transform;e[f.name+"Duration"]=d+"ms",e[g.name]="translate("+b+"px, "+c+"px)"+(g.translateZ?" translateZ(0)":"")},translateX:function(a,b,c){this.translate(a,b,0,c)},translateY:function(a,b,c){this.translate(a,0,b,c)},animate:function(a,b,c){if(!c){this.slidesContainer[0].style.left=b+"px";return}var d=this,e=(new Date).getTime(),f=window.setInterval(function(){var g=(new Date).getTime()-e;if(g>c){d.slidesContainer[0].style.left=b+"px",d.ontransitionend(),window.clearInterval(f);return}d.slidesContainer[0].style.left=(b-a)*(Math.floor(g/c*100)/100)+a+"px"},4)},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(a){a.which&&a.which===1&&a.target.nodeName!=="VIDEO"&&(a.preventDefault(),(a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}],this.ontouchstart(a))},onmousemove:function(a){this.touchStart&&((a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}],this.ontouchmove(a))},onmouseup:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},onmouseout:function(b){if(this.touchStart){var c=b.target,d=b.relatedTarget;(!d||d!==c&&!a.contains(c,d))&&this.onmouseup(b)}},ontouchstart:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);var b=(a.originalEvent||a).touches[0];this.touchStart={x:b.pageX,y:b.pageY,time:Date.now()},this.isScrolling=undefined,this.touchDelta={}},ontouchmove:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);var b=(a.originalEvent||a).touches[0],c=(a.originalEvent||a).scale,d=this.index,e,f;if(b.length>1||c&&c!==1)return;this.options.disableScroll&&a.preventDefault(),this.touchDelta={x:b.pageX-this.touchStart.x,y:b.pageY-this.touchStart.y},e=this.touchDelta.x,this.isScrolling===undefined&&(this.isScrolling=this.isScrolling||Math.abs(e)<Math.abs(this.touchDelta.y));if(!this.isScrolling){a.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?f=[this.circle(d+1),d,this.circle(d-1)]:(this.touchDelta.x=e/=!d&&e>0||d===this.num-1&&e<0?Math.abs(e)/this.slideWidth+1:1,f=[d],d&&f.push(d-1),d<this.num-1&&f.unshift(d+1));while(f.length)d=f.pop(),this.translateX(d,e+this.positions[d],0)}else this.options.closeOnSwipeUpOrDown&&this.translateY(d,this.touchDelta.y+this.positions[d],0)},ontouchend:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);var b=this.index,c=this.options.transitionSpeed,d=this.slideWidth,e=Number(Date.now()-this.touchStart.time)<250,f=e&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>d/2,g=!b&&this.touchDelta.x>0||b===this.num-1&&this.touchDelta.x<0,h=!f&&this.options.closeOnSwipeUpOrDown&&(e&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2),i,j,k,l,m;this.options.continuous&&(g=!1),i=this.touchDelta.x<0?-1:1,this.isScrolling?h?this.close():this.translateY(b,0,c):f&&!g?(j=b+i,k=b-i,l=d*i,m=-d*i,this.options.continuous?(this.move(this.circle(j),l,0),this.move(this.circle(b-2*i),m,0)):j>=0&&j<this.num&&this.move(j,l,0),this.move(b,this.positions[b]+l,c),this.move(this.circle(k),this.positions[this.circle(k)]+l,c),b=this.circle(k),this.onslide(b)):this.options.continuous?(this.move(this.circle(b-1),-d,c),this.move(b,0,c),this.move(this.circle(b+1),d,c)):(b&&this.move(b-1,-d,c),this.move(b,0,c),b<this.num-1&&this.move(b+1,d,c))},ontouchcancel:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},ontransitionend:function(a){var b=this.slides[this.index];if(!a||b===a.target)this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,b])},oncomplete:function(b){var c=b.target||b.srcElement,d=c&&c.parentNode,e;if(!c||!d)return;e=this.getNodeIndex(d),a(d).removeClass(this.options.slideLoadingClass),b.type==="error"?(a(d).addClass(this.options.slideErrorClass),this.elements[e]=3):this.elements[e]=2,c.clientHeight>this.container[0].clientHeight&&(c.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===d&&this.play(),this.setTimeout(this.options.onslidecomplete,[e,d])},onload:function(a){this.oncomplete(a)},onerror:function(a){this.oncomplete(a)},onkeydown:function(a){switch(a.which||a.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(a),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(a),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(a),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(a),this.next())}},handleClick:function(b){var c=this.options,d=b.target||b.srcElement,e=d.parentNode,f=function(b){return a(d).hasClass(b)||a(e).hasClass(b)};f(c.toggleClass)?(this.preventDefault(b),this.toggleControls()):f(c.prevClass)?(this.preventDefault(b),this.prev()):f(c.nextClass)?(this.preventDefault(b),this.next()):f(c.closeClass)?(this.preventDefault(b),this.close()):f(c.playPauseClass)?(this.preventDefault(b),this.toggleSlideshow()):e===this.slidesContainer[0]?(this.preventDefault(b),c.closeOnSlideClick?this.close():this.toggleControls()):e.parentNode&&e.parentNode===this.slidesContainer[0]&&(this.preventDefault(b),this.toggleControls())},onclick:function(a){if(this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)){delete this.touchDelta;return}return this.handleClick(a)},updateEdgeClasses:function(a){a?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),a===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(a){this.options.continuous||this.updateEdgeClasses(a),this.loadElements(a),this.options.unloadElements&&this.unloadElements(a),this.setTitle(a)},onslide:function(a){this.index=a,this.handleSlide(a),this.setTimeout(this.options.onslide,[a,this.slides[a]])},setTitle:function(a){var b=this.slides[a].firstChild.title,c=this.titleElement;c.length&&(this.titleElement.empty(),b&&c[0].appendChild(document.createTextNode(b)))},setTimeout:function(a,b,c){var d=this;return a&&window.setTimeout(function(){a.apply(d,b||[])},c||0)},imageFactory:function(b,c){var d=this,e=this.imagePrototype.cloneNode(!1),f=b,g=this.options.stretchImages,h,i,j=function(b){if(!h){b={type:b.type,target:i};if(!i.parentNode)return d.setTimeout(j,[b]);h=!0,a(e).off("load error",j),g&&b.type==="load"&&(i.style.background='url("'+f+'") center no-repeat',i.style.backgroundSize=g),c(b)}},k;return typeof f!="string"&&(f=this.getItemProperty(b,this.options.urlProperty),k=this.getItemProperty(b,this.options.titleProperty)),g===!0&&(g="contain"),g=this.support.backgroundSize&&this.support.backgroundSize[g]&&g,g?i=this.elementPrototype.cloneNode(!1):(i=e,e.draggable=!1),k&&(i.title=k),a(e).on("load error",j),e.src=f,i},createElement:function(b,c){var d=b&&this.getItemProperty(b,this.options.typeProperty),e=d&&this[d.split("/")[0]+"Factory"]||this.imageFactory,f=b&&e.call(this,b,c);return f||(f=this.elementPrototype.cloneNode(!1),this.setTimeout(c,[{type:"error",target:f}])),a(f).addClass(this.options.slideContentClass),f},loadElement:function(b){this.elements[b]||(this.slides[b].firstChild?this.elements[b]=a(this.slides[b]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[b]=1,a(this.slides[b]).addClass(this.options.slideLoadingClass),this.slides[b].appendChild(this.createElement(this.list[b],this.proxyListener))))},loadElements:function(a){var b=Math.min(this.num,this.options.preloadRange*2+1),c=a,d;for(d=0;d<b;d+=1)c+=d*(d%2===0?-1:1),c=this.circle(c),this.loadElement(c)},unloadElements:function(a){var b,c,d;for(b in this.elements)this.elements.hasOwnProperty(b)&&(d=Math.abs(a-b),d>this.options.preloadRange&&d+this.options.preloadRange<this.num&&(c=this.slides[b],c.removeChild(c.firstChild),delete this.elements[b]))},addSlide:function(a){var b=this.slidePrototype.cloneNode(!1);b.setAttribute("data-index",a),this.slidesContainer[0].appendChild(b),this.slides.push(b)},positionSlide:function(a){var b=this.slides[a];b.style.width=this.slideWidth+"px",this.support.transform&&(b.style.left=a*-this.slideWidth+"px",this.move(a,this.index>a?-this.slideWidth:this.index<a?this.slideWidth:0,0))},initSlides:function(b){var c,d;b||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),a(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,c=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",c&&this.resetSlides();for(d=0;d<this.num;d+=1)c&&this.addSlide(d),this.positionSlide(d);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},toggleControls:function(){var a=this.options.controlsClass;this.container.hasClass(a)?this.container.removeClass(a):this.container.addClass(a)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(a){return parseInt(a.getAttribute("data-index"),10)},getNestedProperty:function(a,b){return b.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(b,c,d,e,f){var g=f||c||d||e&&parseInt(e,10);b&&a&&(a=a[g])}),a},getDataProperty:function(b,c){if(b.getAttribute){var d=b.getAttribute("data-"+c.replace(/([A-Z])/g,"-$1").toLowerCase());if(typeof d=="string"){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(d))try{return a.parseJSON(d)}catch(e){}return d}}},getItemProperty:function(a,b){var c=a[b];return c===undefined&&(c=this.getDataProperty(a,b),c===undefined&&(c=this.getNestedProperty(a,b))),c},initStartIndex:function(){var a=this.options.index,b=this.options.urlProperty,c;if(a&&typeof a!="number")for(c=0;c<this.num;c+=1)if(this.list[c]===a||this.getItemProperty(this.list[c],b)===this.getItemProperty(a,b)){a=c;break}this.index=this.circle(parseInt(a,10)||0)},initEventListeners:function(){var b=this,c=this.slidesContainer,d=function(a){var c=b.support.transition&&b.support.transition.end===a.type?"transitionend":a.type;b["on"+c](a)};a(window).on("resize",d),a(document.body).on("keydown",d),this.container.on("click",d),this.support.touch?c.on("touchstart touchmove touchend touchcancel",d):this.options.emulateTouchEvents&&this.support.transition&&c.on("mousedown mousemove mouseup mouseout",d),this.support.transition&&c.on(this.support.transition.end,d),this.proxyListener=d},destroyEventListeners:function(){var b=this.slidesContainer,c=this.proxyListener;a(window).off("resize",c),a(document.body).off("keydown",c),this.container.off("click",c),this.support.touch?b.off("touchstart touchmove touchend touchcancel",c):this.options.emulateTouchEvents&&this.support.transition&&b.off("mousedown mousemove mouseup mouseout",c),this.support.transition&&b.off(this.support.transition.end,c)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var b=this,c=function(a){a.target===b.container[0]&&(b.container.off(b.support.transition.end,c),b.handleOpen())};this.container=a(this.options.container);if(!this.container.length)return this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1;this.slidesContainer=this.container.find(this.options.slidesContainer).first();if(!this.slidesContainer.length)return this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1;this.titleElement=this.container.find(this.options.titleElement).first(),this.num===1&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,c):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),this.container.addClass(this.options.displayClass)},initOptions:function(b){this.options=a.extend({},this.options),(b&&b.carousel||this.options.carousel&&(!b||b.carousel!==!1))&&a.extend(this.options,this.carouselOptions),a.extend(this.options,b),this.num<3&&(this.options.continuous=this.options.continuous?null:!1),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),b}),function(a){"use strict",typeof define=="function"&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict",a.extend(b.prototype.options,{fullScreen:!1});var c=b.prototype.initialize,d=b.prototype.close;return a.extend(b.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(a){a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){c.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),d.call(this)}}),b}),function(a){"use strict",typeof define=="function"&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict",a.extend(b.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var c=b.prototype.initSlides,d=b.prototype.addSlide,e=b.prototype.resetSlides,f=b.prototype.handleClick,g=b.prototype.handleSlide,h=b.prototype.handleClose;return a.extend(b.prototype,{createIndicator:function(b){var c=this.indicatorPrototype.cloneNode(!1),d=this.getItemProperty(b,this.options.titleProperty),e=this.options.thumbnailProperty,f,g;return this.options.thumbnailIndicators&&(g=b.getElementsByTagName&&a(b).find("img")[0],g?f=g.src:e&&(f=this.getItemProperty(b,e)),f&&(c.style.backgroundImage='url("'+f+'")')),d&&(c.title=d),c},addIndicator:function(a){if(this.indicatorContainer.length){var b=this.createIndicator(this.list[a]);b.setAttribute("data-index",a),this.indicatorContainer[0].appendChild(b),this.indicators.push(b)}},setActiveIndicator:function(b){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=a(this.indicators[b]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(a){a||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),c.call(this,a)},addSlide:function(a){d.call(this,a),this.addIndicator(a)},resetSlides:function(){e.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(a){var b=a.target||a.srcElement,c=b.parentNode;if(c===this.indicatorContainer[0])this.preventDefault(a),this.slide(this.getNodeIndex(b));else if(c.parentNode===this.indicatorContainer[0])this.preventDefault(a),this.slide(this.getNodeIndex(c));else return f.call(this,a)},handleSlide:function(a){g.call(this,a),this.setActiveIndicator(a)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),h.call(this)}}),b}),function(a){"use strict",typeof define=="function"&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict",a.extend(b.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var c=b.prototype.handleSlide;return a.extend(b.prototype,{handleSlide:function(a){c.call(this,a),this.playingVideo&&this.playingVideo.pause()},videoFactory:function(b,c,d){var e=this,f=this.options,g=this.elementPrototype.cloneNode(!1),h=a(g),i=[{type:"error",target:g}],j=d||document.createElement("video"),k=this.getItemProperty(b,f.urlProperty),l=this.getItemProperty(b,f.typeProperty),m=this.getItemProperty(b,f.titleProperty),n=this.getItemProperty(b,f.videoPosterProperty),o,p=this.getItemProperty(b,f.videoSourcesProperty),q,r,s,t;h.addClass(f.videoContentClass),m&&(g.title=m);if(j.canPlayType)if(k&&l&&j.canPlayType(l))j.src=k;else while(p&&p.length){q=p.shift(),k=this.getItemProperty(q,f.urlProperty),l=this.getItemProperty(q,f.typeProperty);if(k&&l&&j.canPlayType(l)){j.src=k;break}}return n&&(j.poster=n,o=this.imagePrototype.cloneNode(!1),a(o).addClass(f.toggleClass),o.src=n,o.draggable=!1,g.appendChild(o)),r=document.createElement("a"),r.setAttribute("target","_blank"),d||r.setAttribute("download",m),r.href=k,j.src&&(j.controls=!0,(d||a(j)).on("error",function(){e.setTimeout(c,i)}).on("pause",function(){s=!1,h.removeClass(e.options.videoLoadingClass).removeClass(e.options.videoPlayingClass),t&&e.container.addClass(e.options.controlsClass),delete e.playingVideo,e.interval&&e.play()}).on("playing",function(){s=!1,h.removeClass(e.options.videoLoadingClass).addClass(e.options.videoPlayingClass),e.container.hasClass(e.options.controlsClass)?(t=!0,e.container.removeClass(e.options.controlsClass)):t=!1}).on("play",function(){window.clearTimeout(e.timeout),s=!0,h.addClass(e.options.videoLoadingClass),e.playingVideo=j}),a(r).on("click",function(a){e.preventDefault(a),s?j.pause():j.play()}),g.appendChild(d&&d.element||j)),g.appendChild(r),this.setTimeout(c,[{type:"load",target:g}]),g}}),b}),function(a){"use strict",typeof define=="function"&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";if(!window.postMessage)return b;a.extend(b.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var c=b.prototype.textFactory||b.prototype.imageFactory,d=function(a,b,c,d){this.url=a,this.videoId=b,this.playerId=c,this.clickToPlay=d,this.element=document.createElement("div"),this.listeners={}},e=0;return a.extend(d.prototype,{canPlayType:function(){return!0},on:function(a,b){return this.listeners[a]=b,this},loadAPI:function(){var b=this,c="//"+(location.protocol==="https"?"secure-":"")+"a.vimeocdn.com/js/froogaloop2.min.js",d=document.getElementsByTagName("script"),e=d.length,f,g,h=function(){!g&&b.playOnReady&&b.play(),g=!0};while(e){e-=1;if(d[e].src===c){f=d[e];break}}f||(f=document.createElement("script"),f.src=c),a(f).on("load",h),d[0].parentNode.insertBefore(f,d[0]),/loaded|complete/.test(f.readyState)&&h()},onReady:function(){var a=this;this.ready=!0,this.player.addEvent("play",function(){a.hasPlayed=!0,a.onPlaying()}),this.player.addEvent("pause",function(){a.onPause()}),this.player.addEvent("finish",function(){a.onPause()}),this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause(),delete this.playStatus},insertIframe:function(){var a=document.createElement("iframe");a.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId),a.id=this.playerId,this.element.parentNode.replaceChild(a,this.element),this.element=a},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){a.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),a.extend(b.prototype,{VimeoPlayer:d,textFactory:function(a,b){var f=this.options,g=this.getItemProperty(a,f.vimeoVideoIdProperty);return g?(this.getItemProperty(a,f.urlProperty)===undefined&&(a[f.urlProperty]="//vimeo.com/"+g),e+=1,this.videoFactory(a,b,new d(f.vimeoPlayerUrl,g,f.vimeoPlayerIdPrefix+e,f.vimeoClickToPlay))):c.call(this,a,b)}}),b}),function(a){"use strict",typeof define=="function"&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";if(!window.postMessage)return b;a.extend(b.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var c=b.prototype.textFactory||b.prototype.imageFactory,d=function(a,b,c){this.videoId=a,this.playerVars=b,this.clickToPlay=c,this.element=document.createElement("div"),this.listeners={}};return a.extend(d.prototype,{canPlayType:function(){return!0},on:function(a,b){return this.listeners[a]=b,this},loadAPI:function(){var a=this,b=window.onYouTubeIframeAPIReady,c="//www.youtube.com/iframe_api",d=document.getElementsByTagName("script"),e=d.length,f;window.onYouTubeIframeAPIReady=function(){b&&b.apply(this),a.playOnReady&&a.play()};while(e){e-=1;if(d[e].src===c)return}f=document.createElement("script"),f.src=c,d[0].parentNode.insertBefore(f,d[0])},onReady:function(){this.ready=!0,this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){b.prototype.setTimeout.call(this,this.checkSeek,null,2e3)},checkSeek:function(){if(this.stateChange===YT.PlayerState.PAUSED||this.stateChange===YT.PlayerState.ENDED)this.listeners.pause(),delete this.playStatus},onStateChange:function(a){switch(a.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0,this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=a.data},onError:function(a){this.listeners.error(a)},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,!window.YT||!YT.Player?this.loadAPI():this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){a.onReady()},onStateChange:function(b){a.onStateChange(b)},onError:function(b){a.onError(b)}}})))},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),a.extend(b.prototype,{YouTubePlayer:d,textFactory:function(a,b){var e=this.options,f=this.getItemProperty(a,e.youTubeVideoIdProperty);return f?(this.getItemProperty(a,e.urlProperty)===undefined&&(a[e.urlProperty]="//www.youtube.com/watch?v="+f),this.getItemProperty(a,e.videoPosterProperty)===undefined&&(a[e.videoPosterProperty]="//img.youtube.com/vi/"+f+"/maxresdefault.jpg"),this.videoFactory(a,b,new d(f,e.youTubePlayerVars,e.youTubeClickToPlay))):c.call(this,a,b)}}),b}),typeof Object.create!="function"&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c){var d={init:function(b,c){var d=this;d.$elem=a(c),d.options=a.extend({},a.fn.owlCarousel.options,d.$elem.data(),b),d.userOptions=b,d.loadContent()},loadContent:function(){function d(a){var c,d="";if(typeof b.options.jsonSuccess=="function")b.options.jsonSuccess.apply(this,[a]);else{for(c in a.owl)a.owl.hasOwnProperty(c)&&(d+=a.owl[c].item);b.$elem.html(d)}b.logIn()}var b=this,c;typeof b.options.beforeInit=="function"&&b.options.beforeInit.apply(this,[b.$elem]),typeof b.options.jsonPath=="string"?(c=b.options.jsonPath,a.getJSON(c,d)):b.logIn()},logIn:function(){var a=this;a.$elem.data("owl-originalStyles",a.$elem.attr("style")).data("owl-originalClasses",a.$elem.attr("class")),a.$elem.css({opacity:0}),a.orignalItems=a.options.items,a.checkBrowser(),a.wrapperWidth=0,a.checkVisible=null,a.setVars()},setVars:function(){var a=this;if(a.$elem.children().length===0)return!1;a.baseClass(),a.eventTypes(),a.$userItems=a.$elem.children(),a.itemsAmount=a.$userItems.length,a.wrapItems(),a.$owlItems=a.$elem.find(".owl-item"),a.$owlWrapper=a.$elem.find(".owl-wrapper"),a.playDirection="next",a.prevItem=0,a.prevArr=[0],a.currentItem=0,a.customEvents(),a.onStartup()},onStartup:function(){var a=this;a.updateItems(),a.calculateAll(),a.buildControls(),a.updateControls(),a.response(),a.moveEvents(),a.stopOnHover(),a.owlStatus(),a.options.transitionStyle!==!1&&a.transitionTypes(a.options.transitionStyle),a.options.autoPlay===!0&&(a.options.autoPlay=5e3),a.play(),a.$elem.find(".owl-wrapper").css("display","block"),a.$elem.is(":visible")?a.$elem.css("opacity",1):a.watchVisibility(),a.onstartup=!1,a.eachMoveUpdate(),typeof a.options.afterInit=="function"&&a.options.afterInit.apply(this,[a.$elem])},eachMoveUpdate:function(){var a=this;a.options.lazyLoad===!0&&a.lazyLoad(),a.options.autoHeight===!0&&a.autoHeight(),a.onVisibleItems(),typeof a.options.afterAction=="function"&&a.options.afterAction.apply(this,[a.$elem])},updateVars:function(){var a=this;typeof a.options.beforeUpdate=="function"&&a.options.beforeUpdate.apply(this,[a.$elem]),a.watchVisibility(),a.updateItems(),a.calculateAll(),a.updatePosition(),a.updateControls(),a.eachMoveUpdate(),typeof a.options.afterUpdate=="function"&&a.options.afterUpdate.apply(this,[a.$elem])},reload:function(){var a=this;b.setTimeout(function(){a.updateVars()},0)},watchVisibility:function(){var a=this;if(a.$elem.is(":visible")===!1)a.$elem.css({opacity:0}),b.clearInterval(a.autoPlayInterval),b.clearInterval(a.checkVisible);else return!1;a.checkVisible=b.setInterval(function(){a.$elem.is(":visible")&&(a.reload(),a.$elem.animate({opacity:1},200),b.clearInterval(a.checkVisible))},500)},wrapItems:function(){var a=this;a.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),a.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),a.wrapperOuter=a.$elem.find(".owl-wrapper-outer"),a.$elem.css("display","block")},baseClass:function(){var a=this,b=a.$elem.hasClass(a.options.baseClass),c=a.$elem.hasClass(a.options.theme);b||a.$elem.addClass(a.options.baseClass),c||a.$elem.addClass(a.options.theme)},updateItems:function(){var b=this,c,d;if(b.options.responsive===!1)return!1;if(b.options.singleItem===!0)return b.options.items=b.orignalItems=1,b.options.itemsCustom=!1,b.options.itemsDesktop=!1,b.options.itemsDesktopSmall=!1,b.options.itemsTablet=!1,b.options.itemsTabletSmall=!1,b.options.itemsMobile=!1,!1;c=a(b.options.responsiveBaseWidth).width(),c>(b.options.itemsDesktop[0]||b.orignalItems)&&(b.options.items=b.orignalItems);if(b.options.itemsCustom!==!1){b.options.itemsCustom.sort(function(a,b){return a[0]-b[0]});for(d=0;d<b.options.itemsCustom.length;d+=1)b.options.itemsCustom[d][0]<=c&&(b.options.items=b.options.itemsCustom[d][1])}else c<=b.options.itemsDesktop[0]&&b.options.itemsDesktop!==!1&&(b.options.items=b.options.itemsDesktop[1]),c<=b.options.itemsDesktopSmall[0]&&b.options.itemsDesktopSmall!==!1&&(b.options.items=b.options.itemsDesktopSmall[1]),c<=b.options.itemsTablet[0]&&b.options.itemsTablet!==!1&&(b.options.items=b.options.itemsTablet[1]),c<=b.options.itemsTabletSmall[0]&&b.options.itemsTabletSmall!==!1&&(b.options.items=b.options.itemsTabletSmall[1]),c<=b.options.itemsMobile[0]&&b.options.itemsMobile!==!1&&(b.options.items=b.options.itemsMobile[1]);b.options.items>b.itemsAmount&&b.options.itemsScaleUp===!0&&(b.options.items=b.
itemsAmount)},response:function(){var c=this,d,e;if(c.options.responsive!==!0)return!1;e=a(b).width(),c.resizer=function(){a(b).width()!==e&&(c.options.autoPlay!==!1&&b.clearInterval(c.autoPlayInterval),b.clearTimeout(d),d=b.setTimeout(function(){e=a(b).width(),c.updateVars()},c.options.responsiveRefreshRate))},a(b).resize(c.resizer)},updatePosition:function(){var a=this;a.jumpTo(a.currentItem),a.options.autoPlay!==!1&&a.checkAp()},appendItemsSizes:function(){var b=this,c=0,d=b.itemsAmount-b.options.items;b.$owlItems.each(function(e){var f=a(this);f.css({width:b.itemWidth}).data("owl-item",Number(e));if(e%b.options.items===0||e===d)e>d||(c+=1);f.data("owl-roundPages",c)})},appendWrapperSizes:function(){var a=this,b=a.$owlItems.length*a.itemWidth;a.$owlWrapper.css({width:b*2,left:0}),a.appendItemsSizes()},calculateAll:function(){var a=this;a.calculateWidth(),a.appendWrapperSizes(),a.loops(),a.max()},calculateWidth:function(){var a=this;a.itemWidth=Math.round(a.$elem.width()/a.options.items)},max:function(){var a=this,b=(a.itemsAmount*a.itemWidth-a.options.items*a.itemWidth)*-1;return a.options.items>a.itemsAmount?(a.maximumItem=0,b=0,a.maximumPixels=0):(a.maximumItem=a.itemsAmount-a.options.items,a.maximumPixels=b),b},min:function(){return 0},loops:function(){var b=this,c=0,d=0,e,f,g;b.positionsInArray=[0],b.pagesInArray=[];for(e=0;e<b.itemsAmount;e+=1)d+=b.itemWidth,b.positionsInArray.push(-d),b.options.scrollPerPage===!0&&(f=a(b.$owlItems[e]),g=f.data("owl-roundPages"),g!==c&&(b.pagesInArray[c]=b.positionsInArray[e],c=g))},buildControls:function(){var b=this;if(b.options.navigation===!0||b.options.pagination===!0)b.owlControls=a('<div class="owl-controls"/>').toggleClass("clickable",!b.browser.isTouch).appendTo(b.$elem);b.options.pagination===!0&&b.buildPagination(),b.options.navigation===!0&&b.buildButtons()},buildButtons:function(){var b=this,c=a('<div class="owl-buttons"/>');b.owlControls.append(c),b.buttonPrev=a("<div/>",{"class":"owl-prev",html:b.options.navigationText[0]||""}),b.buttonNext=a("<div/>",{"class":"owl-next",html:b.options.navigationText[1]||""}),c.append(b.buttonPrev).append(b.buttonNext),c.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(a){a.preventDefault()}),c.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(c){c.preventDefault(),a(this).hasClass("owl-next")?b.next():b.prev()})},buildPagination:function(){var b=this;b.paginationWrapper=a('<div class="owl-pagination"/>'),b.owlControls.append(b.paginationWrapper),b.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(c){c.preventDefault(),Number(a(this).data("owl-page"))!==b.currentItem&&b.goTo(Number(a(this).data("owl-page")),!0)})},updatePagination:function(){var b=this,c,d,e,f,g,h;if(b.options.pagination===!1)return!1;b.paginationWrapper.html(""),c=0,d=b.itemsAmount-b.itemsAmount%b.options.items;for(f=0;f<b.itemsAmount;f+=1)f%b.options.items===0&&(c+=1,d===f&&(e=b.itemsAmount-b.options.items),g=a("<div/>",{"class":"owl-page"}),h=a("<span></span>",{text:b.options.paginationNumbers===!0?c:"","class":b.options.paginationNumbers===!0?"owl-numbers":""}),g.append(h),g.data("owl-page",d===f?e:f),g.data("owl-roundPages",c),b.paginationWrapper.append(g));b.checkPagination()},checkPagination:function(){var b=this;if(b.options.pagination===!1)return!1;b.paginationWrapper.find(".owl-page").each(function(){a(this).data("owl-roundPages")===a(b.$owlItems[b.currentItem]).data("owl-roundPages")&&(b.paginationWrapper.find(".owl-page").removeClass("active"),a(this).addClass("active"))})},checkNavigation:function(){var a=this;if(a.options.navigation===!1)return!1;a.options.rewindNav===!1&&(a.currentItem===0&&a.maximumItem===0?(a.buttonPrev.addClass("disabled"),a.buttonNext.addClass("disabled")):a.currentItem===0&&a.maximumItem!==0?(a.buttonPrev.addClass("disabled"),a.buttonNext.removeClass("disabled")):a.currentItem===a.maximumItem?(a.buttonPrev.removeClass("disabled"),a.buttonNext.addClass("disabled")):a.currentItem!==0&&a.currentItem!==a.maximumItem&&(a.buttonPrev.removeClass("disabled"),a.buttonNext.removeClass("disabled")))},updateControls:function(){var a=this;a.updatePagination(),a.checkNavigation(),a.owlControls&&(a.options.items>=a.itemsAmount?a.owlControls.hide():a.owlControls.show())},destroyControls:function(){var a=this;a.owlControls&&a.owlControls.remove()},next:function(a){var b=this;if(b.isTransition)return!1;b.currentItem+=b.options.scrollPerPage===!0?b.options.items:1;if(b.currentItem>b.maximumItem+(b.options.scrollPerPage===!0?b.options.items-1:0))if(b.options.rewindNav===!0)b.currentItem=0,a="rewind";else return b.currentItem=b.maximumItem,!1;b.goTo(b.currentItem,a)},prev:function(a){var b=this;if(b.isTransition)return!1;b.options.scrollPerPage===!0&&b.currentItem>0&&b.currentItem<b.options.items?b.currentItem=0:b.currentItem-=b.options.scrollPerPage===!0?b.options.items:1;if(b.currentItem<0)if(b.options.rewindNav===!0)b.currentItem=b.maximumItem,a="rewind";else return b.currentItem=0,!1;b.goTo(b.currentItem,a)},goTo:function(a,c,d){var e=this,f;if(e.isTransition)return!1;typeof e.options.beforeMove=="function"&&e.options.beforeMove.apply(this,[e.$elem]),a>=e.maximumItem?a=e.maximumItem:a<=0&&(a=0),e.currentItem=e.owl.currentItem=a;if(e.options.transitionStyle!==!1&&d!=="drag"&&e.options.items===1&&e.browser.support3d===!0)return e.swapSpeed(0),e.browser.support3d===!0?e.transition3d(e.positionsInArray[a]):e.css2slide(e.positionsInArray[a],1),e.afterGo(),e.singleItemTransition(),!1;f=e.positionsInArray[a],e.browser.support3d===!0?(e.isCss3Finish=!1,c===!0?(e.swapSpeed("paginationSpeed"),b.setTimeout(function(){e.isCss3Finish=!0},e.options.paginationSpeed)):c==="rewind"?(e.swapSpeed(e.options.rewindSpeed),b.setTimeout(function(){e.isCss3Finish=!0},e.options.rewindSpeed)):(e.swapSpeed("slideSpeed"),b.setTimeout(function(){e.isCss3Finish=!0},e.options.slideSpeed)),e.transition3d(f)):c===!0?e.css2slide(f,e.options.paginationSpeed):c==="rewind"?e.css2slide(f,e.options.rewindSpeed):e.css2slide(f,e.options.slideSpeed),e.afterGo()},jumpTo:function(a){var b=this;typeof b.options.beforeMove=="function"&&b.options.beforeMove.apply(this,[b.$elem]),a>=b.maximumItem||a===-1?a=b.maximumItem:a<=0&&(a=0),b.swapSpeed(0),b.browser.support3d===!0?b.transition3d(b.positionsInArray[a]):b.css2slide(b.positionsInArray[a],1),b.currentItem=b.owl.currentItem=a,b.afterGo()},afterGo:function(){var a=this;a.prevArr.push(a.currentItem),a.prevItem=a.owl.prevItem=a.prevArr[a.prevArr.length-2],a.prevArr.shift(0),a.prevItem!==a.currentItem&&(a.checkPagination(),a.checkNavigation(),a.eachMoveUpdate(),a.options.autoPlay!==!1&&a.checkAp()),typeof a.options.afterMove=="function"&&a.prevItem!==a.currentItem&&a.options.afterMove.apply(this,[a.$elem])},stop:function(){var a=this;a.apStatus="stop",b.clearInterval(a.autoPlayInterval)},checkAp:function(){var a=this;a.apStatus!=="stop"&&a.play()},play:function(){var a=this;a.apStatus="play";if(a.options.autoPlay===!1)return!1;b.clearInterval(a.autoPlayInterval),a.autoPlayInterval=b.setInterval(function(){a.next(!0)},a.options.autoPlay)},swapSpeed:function(a){var b=this;a==="slideSpeed"?b.$owlWrapper.css(b.addCssSpeed(b.options.slideSpeed)):a==="paginationSpeed"?b.$owlWrapper.css(b.addCssSpeed(b.options.paginationSpeed)):typeof a!="string"&&b.$owlWrapper.css(b.addCssSpeed(a))},addCssSpeed:function(a){return{"-webkit-transition":"all "+a+"ms ease","-moz-transition":"all "+a+"ms ease","-o-transition":"all "+a+"ms ease",transition:"all "+a+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(a){return{"-webkit-transform":"translate3d("+a+"px, 0px, 0px)","-moz-transform":"translate3d("+a+"px, 0px, 0px)","-o-transform":"translate3d("+a+"px, 0px, 0px)","-ms-transform":"translate3d("+a+"px, 0px, 0px)",transform:"translate3d("+a+"px, 0px,0px)"}},transition3d:function(a){var b=this;b.$owlWrapper.css(b.doTranslate(a))},css2move:function(a){var b=this;b.$owlWrapper.css({left:a})},css2slide:function(a,b){var c=this;c.isCssFinish=!1,c.$owlWrapper.stop(!0,!0).animate({left:a},{duration:b||c.options.slideSpeed,complete:function(){c.isCssFinish=!0}})},checkBrowser:function(){var a=this,d="translate3d(0px, 0px, 0px)",e=c.createElement("div"),f,g,h,i;e.style.cssText="  -moz-transform:"+d+"; -ms-transform:"+d+"; -o-transform:"+d+"; -webkit-transform:"+d+"; transform:"+d,f=/translate3d\(0px, 0px, 0px\)/g,g=e.style.cssText.match(f),h=g!==null&&g.length===1,i="ontouchstart"in b||b.navigator.msMaxTouchPoints,a.browser={support3d:h,isTouch:i}},moveEvents:function(){var a=this;if(a.options.mouseDrag!==!1||a.options.touchDrag!==!1)a.gestures(),a.disabledEvents()},eventTypes:function(){var a=this,b=["s","e","x"];a.ev_types={},a.options.mouseDrag===!0&&a.options.touchDrag===!0?b=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:a.options.mouseDrag===!1&&a.options.touchDrag===!0?b=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:a.options.mouseDrag===!0&&a.options.touchDrag===!1&&(b=["mousedown.owl","mousemove.owl","mouseup.owl"]),a.ev_types.start=b[0],a.ev_types.move=b[1],a.ev_types.end=b[2]},disabledEvents:function(){var b=this;b.$elem.on("dragstart.owl",function(a){a.preventDefault()}),b.$elem.on("mousedown.disableTextSelect",function(b){return a(b.target).is("input, textarea, select, option")})},gestures:function(){function f(a){if(a.touches!==undefined)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(a.touches===undefined){if(a.pageX!==undefined)return{x:a.pageX,y:a.pageY};if(a.pageX===undefined)return{x:a.clientX,y:a.clientY}}}function g(b){b==="on"?(a(c).on(d.ev_types.move,i),a(c).on(d.ev_types.end,j)):b==="off"&&(a(c).off(d.ev_types.move),a(c).off(d.ev_types.end))}function h(c){var h=c.originalEvent||c||b.event,i;if(h.which===3)return!1;if(d.itemsAmount<=d.options.items)return;if(d.isCssFinish===!1&&!d.options.dragBeforeAnimFinish)return!1;if(d.isCss3Finish===!1&&!d.options.dragBeforeAnimFinish)return!1;d.options.autoPlay!==!1&&b.clearInterval(d.autoPlayInterval),d.browser.isTouch!==!0&&!d.$owlWrapper.hasClass("grabbing")&&d.$owlWrapper.addClass("grabbing"),d.newPosX=0,d.newRelativeX=0,a(this).css(d.removeTransition()),i=a(this).position(),e.relativePos=i.left,e.offsetX=f(h).x-i.left,e.offsetY=f(h).y-i.top,g("on"),e.sliding=!1,e.targetElement=h.target||h.srcElement}function i(g){var h=g.originalEvent||g||b.event,i,j;d.newPosX=f(h).x-e.offsetX,d.newPosY=f(h).y-e.offsetY,d.newRelativeX=d.newPosX-e.relativePos,typeof d.options.startDragging=="function"&&e.dragging!==!0&&d.newRelativeX!==0&&(e.dragging=!0,d.options.startDragging.apply(d,[d.$elem])),(d.newRelativeX>8||d.newRelativeX<-8)&&d.browser.isTouch===!0&&(h.preventDefault!==undefined?h.preventDefault():h.returnValue=!1,e.sliding=!0),(d.newPosY>10||d.newPosY<-10)&&e.sliding===!1&&a(c).off("touchmove.owl"),i=function(){return d.newRelativeX/5},j=function(){return d.maximumPixels+d.newRelativeX/5},d.newPosX=Math.max(Math.min(d.newPosX,i()),j()),d.browser.support3d===!0?d.transition3d(d.newPosX):d.css2move(d.newPosX)}function j(c){var f=c.originalEvent||c||b.event,h,i,j;f.target=f.target||f.srcElement,e.dragging=!1,d.browser.isTouch!==!0&&d.$owlWrapper.removeClass("grabbing"),d.newRelativeX<0?d.dragDirection=d.owl.dragDirection="left":d.dragDirection=d.owl.dragDirection="right",d.newRelativeX!==0&&(h=d.getNewPosition(),d.goTo(h,!1,"drag"),e.targetElement===f.target&&d.browser.isTouch!==!0&&(a(f.target).on("click.disable",function(b){b.stopImmediatePropagation(),b.stopPropagation(),b.preventDefault(),a(b.target).off("click.disable")}),i=a._data(f.target,"events").click,j=i.pop(),i.splice(0,0,j))),g("off")}var d=this,e={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};d.isCssFinish=!0,d.$elem.on(d.ev_types.start,".owl-wrapper",h)},getNewPosition:function(){var a=this,b=a.closestItem();return b>a.maximumItem?(a.currentItem=a.maximumItem,b=a.maximumItem):a.newPosX>=0&&(b=0,a.currentItem=0),b},closestItem:function(){var b=this,c=b.options.scrollPerPage===!0?b.pagesInArray:b.positionsInArray,d=b.newPosX,e=null;return a.each(c,function(f,g){d-b.itemWidth/20>c[f+1]&&d-b.itemWidth/20<g&&b.moveDirection()==="left"?(e=g,b.options.scrollPerPage===!0?b.currentItem=a.inArray(e,b.positionsInArray):b.currentItem=f):d+b.itemWidth/20<g&&d+b.itemWidth/20>(c[f+1]||c[f]-b.itemWidth)&&b.moveDirection()==="right"&&(b.options.scrollPerPage===!0?(e=c[f+1]||c[c.length-1],b.currentItem=a.inArray(e,b.positionsInArray)):(e=c[f+1],b.currentItem=f+1))}),b.currentItem},moveDirection:function(){var a=this,b;return a.newRelativeX<0?(b="right",a.playDirection="next"):(b="left",a.playDirection="prev"),b},customEvents:function(){var a=this;a.$elem.on("owl.next",function(){a.next()}),a.$elem.on("owl.prev",function(){a.prev()}),a.$elem.on("owl.play",function(b,c){a.options.autoPlay=c,a.play(),a.hoverStatus="play"}),a.$elem.on("owl.stop",function(){a.stop(),a.hoverStatus="stop"}),a.$elem.on("owl.goTo",function(b,c){a.goTo(c)}),a.$elem.on("owl.jumpTo",function(b,c){a.jumpTo(c)})},stopOnHover:function(){var a=this;a.options.stopOnHover===!0&&a.browser.isTouch!==!0&&a.options.autoPlay!==!1&&(a.$elem.on("mouseover",function(){a.stop()}),a.$elem.on("mouseout",function(){a.hoverStatus!=="stop"&&a.play()}))},lazyLoad:function(){var b=this,c,d,e,f,g;if(b.options.lazyLoad===!1)return!1;for(c=0;c<b.itemsAmount;c+=1){d=a(b.$owlItems[c]);if(d.data("owl-loaded")==="loaded")continue;e=d.data("owl-item"),f=d.find(".lazyOwl");if(typeof f.data("src")!="string"){d.data("owl-loaded","loaded");continue}d.data("owl-loaded")===undefined&&(f.hide(),d.addClass("loading").data("owl-loaded","checked")),b.options.lazyFollow===!0?g=e>=b.currentItem:g=!0,g&&e<b.currentItem+b.options.items&&f.length&&b.lazyPreload(d,f)}},lazyPreload:function(a,c){function g(){a.data("owl-loaded","loaded").removeClass("loading"),c.removeAttr("data-src"),d.options.lazyEffect==="fade"?c.fadeIn(400):c.show(),typeof d.options.afterLazyLoad=="function"&&d.options.afterLazyLoad.apply(this,[d.$elem])}function h(){e+=1,d.completeImg(c.get(0))||f===!0?g():e<=100?b.setTimeout(h,100):g()}var d=this,e=0,f;c.prop("tagName")==="DIV"?(c.css("background-image","url("+c.data("src")+")"),f=!0):c[0].src=c.data("src"),h()},autoHeight:function(){function f(){var d=a(c.$owlItems[c.currentItem]).height();c.wrapperOuter.css("height",d+"px"),c.wrapperOuter.hasClass("autoHeight")||b.setTimeout(function(){c.wrapperOuter.addClass("autoHeight")},0)}function g(){e+=1,c.completeImg(d.get(0))?f():e<=100?b.setTimeout(g,100):c.wrapperOuter.css("height","")}var c=this,d=a(c.$owlItems[c.currentItem]).find("img"),e;d.get(0)!==undefined?(e=0,g()):f()},completeImg:function(a){var b;return a.complete?(b=typeof a.naturalWidth,b!=="undefined"&&a.naturalWidth===0?!1:!0):!1},onVisibleItems:function(){var b=this,c;b.options.addClassActive===!0&&b.$owlItems.removeClass("active"),b.visibleItems=[];for(c=b.currentItem;c<b.currentItem+b.options.items;c+=1)b.visibleItems.push(c),b.options.addClassActive===!0&&a(b.$owlItems[c]).addClass("active");b.owl.visibleItems=b.visibleItems},transitionTypes:function(a){var b=this;b.outClass="owl-"+a+"-out",b.inClass="owl-"+a+"-in"},singleItemTransition:function(){function i(a){return{position:"relative",left:a+"px"}}var a=this,b=a.outClass,c=a.inClass,d=a.$owlItems.eq(a.currentItem),e=a.$owlItems.eq(a.prevItem),f=Math.abs(a.positionsInArray[a.currentItem])+a.positionsInArray[a.prevItem],g=Math.abs(a.positionsInArray[a.currentItem])+a.itemWidth/2,h="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";a.isTransition=!0,a.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":g+"px","-moz-perspective-origin":g+"px","perspective-origin":g+"px"}),e.css(i(f,10)).addClass(b).on(h,function(){a.endPrev=!0,e.off(h),a.clearTransStyle(e,b)}),d.addClass(c).on(h,function(){a.endCurrent=!0,d.off(h),a.clearTransStyle(d,c)})},clearTransStyle:function(a,b){var c=this;a.css({position:"",left:""}).removeClass(b),c.endPrev&&c.endCurrent&&(c.$owlWrapper.removeClass("owl-origin"),c.endPrev=!1,c.endCurrent=!1,c.isTransition=!1)},owlStatus:function(){var a=this;a.owl={userOptions:a.userOptions,baseElement:a.$elem,userItems:a.$userItems,owlItems:a.$owlItems,currentItem:a.currentItem,prevItem:a.prevItem,visibleItems:a.visibleItems,isTouch:a.browser.isTouch,browser:a.browser,dragDirection:a.dragDirection}},clearEvents:function(){var d=this;d.$elem.off(".owl owl mousedown.disableTextSelect"),a(c).off(".owl owl"),a(b).off("resize",d.resizer)},unWrap:function(){var a=this;a.$elem.children().length!==0&&(a.$owlWrapper.unwrap(),a.$userItems.unwrap().unwrap(),a.owlControls&&a.owlControls.remove()),a.clearEvents(),a.$elem.attr("style",a.$elem.data("owl-originalStyles")||"").attr("class",a.$elem.data("owl-originalClasses"))},destroy:function(){var a=this;a.stop(),b.clearInterval(a.checkVisible),a.unWrap(),a.$elem.removeData()},reinit:function(b){var c=this,d=a.extend({},c.userOptions,b);c.unWrap(),c.init(d,c.$elem)},addItem:function(a,b){var c=this,d;if(!a)return!1;if(c.$elem.children().length===0)return c.$elem.append(a),c.setVars(),!1;c.unWrap(),b===undefined||b===-1?d=-1:d=b,d>=c.$userItems.length||d===-1?c.$userItems.eq(-1).after(a):c.$userItems.eq(d).before(a),c.setVars()},removeItem:function(a){var b=this,c;if(b.$elem.children().length===0)return!1;a===undefined||a===-1?c=-1:c=a,b.unWrap(),b.$userItems.eq(c).remove(),b.setVars()}};a.fn.owlCarousel=function(b){return this.each(function(){if(a(this).data("owl-init")===!0)return!1;a(this).data("owl-init",!0);var c=Object.create(d);c.init(b,this),a.data(this,"owlCarousel",c)})},a.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:b,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),window.fs=window.fs||{},window.fs.Modules={},window.fs.modules={},function(a,b){Modernizr.load({test:Modernizr.input.placeholder,nope:["/assets/libs/placeholders.js"]}),Function.prototype.bind||(Function.prototype.bind=function(a){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}(window),function(a,b){var c=function(){this.modernBrowser="querySelector"in document&&"localStorage"in window&&"addEventListener"in window,this.animationDuration=150,this.scrollDuration=500,this.lazyOffset=500,this.querystrings=[],this.user={},this.user.id=typeof current_tce_user_id=="undefined"?0:current_tce_user_id,this.user.profile_id=typeof current_tce_user_profile_id=="undefined"?0:current_tce_user_profile_id,this.user.likes=!1,this.user.isGettingLikes=!1,this.helpers=new d};c.prototype.breakpoints={mobile:{portrait:320,landscape:480,landscape_i5:568},tablet:{portrait:768,landscape:1024},desktop:{compact:900,mid:1280,wide:1920}},c.prototype.isOldSafari=function(){var a;if(/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)){var b=navigator.appVersion.indexOf("Version/"),c=navigator.appVersion.slice(b).replace("Version/","");a=c.split(".")[0]}else a=10;return a<8?!0:!1},c.prototype.isIE10orHigher=function(){var a=typeof arguments[0]=="undefined"||arguments[0]!==!0?!1:!0,b=-1,c,d;return navigator.appName=="Microsoft Internet Explorer"?(c=navigator.userAgent,d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),d.exec(c)!=null&&(b=parseFloat(RegExp.$1))):navigator.appName=="Netscape"&&(c=navigator.userAgent,d=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),d.exec(c)!=null&&(b=parseFloat(RegExp.$1))),a?b:b>=10},c.prototype.tlsSupport=function(){var a=!0,b=new c,d=b.isIE10orHigher(!0);if(/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)){var e=navigator.appVersion.indexOf("Version/"),f=navigator.appVersion.slice(e).replace("Version/","");version=f.split(".")[0],version<7&&(a=!1)}return d<11&&d!=-1&&(a=!1),a},c.prototype.setEndOfContenteditable=function(a){var b,c;document.createRange?(b=document.createRange(),b.selectNodeContents(a),b.collapse(!1),c=window.getSelection(),c.removeAllRanges(),c.addRange(b)):document.selection&&(b=document.body.createTextRange(),b.moveToElementText(a),b.collapse(!1),b.select())},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;c=c<0?Math.ceil(c):Math.floor(c),c<0&&(c+=b);for(;c<b;c++)if(c in this&&this[c]===a)return c;return-1}),c.prototype.hasLoaded=function(){$("body").removeClass("is-loading")};var d=function(){};d.prototype.vwRefresh=function(a){Modernizr.cssvwunit&&a.each(function(){$(this).css("z-index","1")})},d.prototype.fullHeightRefresh=function(a){a.each(function(){var a=$(this),b=/ipad|iphone/gi.test(window.navigator.userAgent);if(b){var c=document.createElement("meta");c.id="viewport",c.name="viewport",c.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",window.document.getElementsByTagName("head")[0].appendChild(c)}a.hasClass("l-block--fullscreen-scroller")?a.css("height",$(window).height()):b?a.css("height","auto"):a.css("height","auto").css("min-height",$(window).height())})},d.prototype.clearClasses=function(a,b){var c=new RegExp("^"+b+"| "),d=$.trim(a.attr("class")).split(" "),e=[];$(d).each(function(a,b){c.test(b)||e.push(b)}),a.attr("class",e.join(" "))},d.prototype.removeQuotes=function(a){if(typeof a=="string"||a instanceof String)a=a.replace(/^['"]+|\s+|\\|(;\s?})+|['"]$/g,"");return a},d.prototype.getPseudoContent=function(a,b){return window.getComputedStyle(a,b).content},d.prototype.updateQueryStringParameter=function(a,b,c){var d=new RegExp("([?|&])"+b+"=.*?(&|$)","i");return separator=a.indexOf("?")!==-1?"&":"?",a.match(d)?a.replace(d,"$1"+b+"="+c+"$2"):a+separator+b+"="+c},d.prototype.getQueryStrings=function(){var a={},b=function(a){return decodeURIComponent(a.replace(/\+/g," "))},c=location.search.substring(1),d=c.split("&");for(var e=0;e<d.length;e++){var f=d[e].split("=");f.length>1&&(a[b(f[0])]=b(f[1]))}return a},d.prototype.setTransform=function(a,b){a instanceof jQuery&&(a=a[0]),a.style.webkitTransform=b,a.style.MozTransform=b,a.style.msTransform=b,a.style.OTransform=b,a.style.transform=b};var e=new c;window.fs.app=e}(window),function(a){var b={};b.init=function(a){this.$el=a.$el,this.$form=this.$el.find("form"),this.defaultAction=this.$form.attr("action"),this.$select=this.$el.find("select"),this.$select.length&&(this.updateAction(),this.$select.on("change",_.bind(b.updateAction,this))),this.$el.on("click",".js-swap-in-trigger",_.bind(b.updateAction,this))},b.updateAction=function(){var a=this.$select.find("option:selected");if(a.length){var b=a.val();if(b.length){var c=this.defaultAction+(this.defaultAction.substr(-1)==="/"?b:"/"+b);this.$form.attr("action",c),this.$form.find(".js-form-method").attr("value","put")}else this.$form.attr("action",this.defaultAction),this.$form.find(".js-form-method").attr("value","post")}},a.fs.Modules.AddToList=b}(window),function(a){var b=Backbone.View.extend({},{autoInitializeViews:{},extend:function(a,b){var c=Backbone.View.extend.apply(this,arguments);return c.className=a.className,a.autoInitialize&&(this.autoInitializeViews[a.className]=c),c},initializeViews:function(){_.each(this.autoInitializeViews,function(a,b){$("."+b).each(function(){this.views===undefined&&(this.views={}),this.views[a.className]===undefined&&(this.views[a.className]=null,this.views[a.className]=new a({el:this}))})})}});a.fs.BaseView=b}(window),function(a){a.fs.Modules.CharactersetFilter=Backbone.View.extend({events:{"change .js-characterset-selector":"updateCharactersets","change .js-format-selector":"updateFormats","click .js-panel--switch":"switchPanels"},initialize:function(){this.$el.find(".js-format-selector").length>0&&(this.formatId=this.$el.find(".js-format-selector option:selected").val().toString(),this.updateSelection(),_.defer(function(){this.$(".js-panel--switch").eq(0).trigger("click")}))},updateCharactersets:function(a){this.charactersetId=$(a.currentTarget).val(),this.updateSelection()},updateFormats:function(a){this.formatId=$(a.currentTarget).val(),this.updateSelection()},updateSelection:function(){this.$el.find(".js-filter-option[data-product-id]").each(_.bind(function(a,b){var c=$(b);c.data("product-id").toString()===this.formatId?c.show():c.hide()},this))},switchPanels:function(a){a.target.length==1&&a.preventDefault();var b=$(a.currentTarget),c=$(b.data("target"));this.$(".js-panel").hide(),c.show(),this.$(".js-panel--switch").toggleClass("is-active",!1),b.toggleClass("is-active",!0)}})}(window),function(a){a.fs.Modules.CheckoutPage=Backbone.View.extend({events:{"click .js-permalink-generate":"handlePermalinkBtnClick","click .js-permalink-field":"handlePermalinkFieldClick","click .js-payment-type":"handlePaymentTypeClick","click .js-error":"onErrorMsgClick","keyup input":"hideErrorMsg"},initialize:function(){this.$permalinkField=this.$(".js-permalink-field"),this.checkPreselectedPaymentMethod()},initClickToCopy:function(){ZeroClipboard.config({swfPath:"/ZeroClipboard.swf"});var a=new ZeroClipboard(this.$permalinkField),b=this;a.on("copy",function(a){var c=a.clipboardData;c.setData("text/plain",b.$permalinkField.val())})},handlePermalinkFieldClick:function(a){this.selectText()},handlePermalinkBtnClick:function(a){this.getPermalink()},handlePaymentTypeClick:function(a){var b=$($(a.currentTarget).data("target"));this.togglePaymentForms(b)},onErrorMsgClick:function(a){var b=$(a.currentTarget);b.hide()},hideErrorMsg:function(a){var b=$(a.currentTarget);b.parent().siblings(".js-error").hide()},checkPreselectedPaymentMethod:function(){var a=$(this.$(".js-payment-type").filter(":checked").data("target"));this.togglePaymentForms(a)},getPermalink:function(){var a=this;$.ajax({url:"/buy/snapshot.json",success:function(b){a.$permalinkField.val(b.snapshot_url),a.selectText(),a.$permalinkField.hasClass("o-input--copyable")||a.$permalinkField.addClass("o-input--copyable")}})},selectText:function(){this.$(".js-permalink-field").select()},togglePaymentForms:function(a){this.$(".js-payment-form").toggleClass("is-active",!1),a.toggleClass("is-active",!0)}})}(window),function(a){a.fs.Modules.ContentEditor=Backbone.View.extend({events:{"submit .js-content-editor__form":"onFormSubmit"},initialize:function(){var a=this.$el.find(".js-expand-on-character");a.each(this.initExpandableField)},initExpandableField:function(){var a=$(this),b=parseInt(a.data("expandLimit")),c=a.data("expandedClass");a.on("input change propertychange",function(){a.toggleClass(c,a.val().length>b)}),a.toggleClass(c,a.val().length>b)},onFormSubmit:function(b){if(!this.$el.hasClass("is-loading")){b.preventDefault();var c=$(b.currentTarget),d=$(".js-content-editor__images-iframe"),e=d.contents().find("body"),f=new a.fs.Modules.ContentImagesEditor({el:e});this.$el.addClass("is-loading"),f.trigger("save:contentImageForms",function(){c.submit()})}},toggleIFrameLoadEvent:function(a,b){var c=this.$(".js-content-editor__images-iframe");a?c.on("load",b):c.off("load")}})}(window),function(a){a.fs.Modules.ContentImagesEditor=Backbone.View.extend({events:{"submit .js-content-image-editor":"onFormSubmitHandler","click .js-content-image-editor__tag":"onCodeClickHandler","click .js-image-uploader__remove-image":"onImageRemoveClickHandler"},initialize:function(){this.on("save:contentImageForms",this.serializeImageForms,this)},onCodeClickHandler:function(a){var b=$(a.target);b.select()},onFormSubmitHandler:function(a){a.preventDefault();var b=$(a.currentTarget);this.saveContentImage(b)},onImageRemoveClickHandler:function(a){var b=$(a.currentTarget).parents(".js-content-image-editor");this.removeContentImage(b)},removeContentImage:function(a){a.find(".js-remove-image-id").val(a.find(".js-image-id").val()),this.saveContentImage(a).done(function(b){a.remove()})},saveContentImage:function(a){var b=$.post(a.attr("action"),a.serialize());return b},serializeImageForms:function(a){var b=[],c=this;b.push(this.$(".js-content-image-editor").map(function(){return c.saveContentImage($(this))})),$.when.apply($,b).done(a)}})}(window),function(a){a.fs.Modules.FSParallax=Backbone.View.extend({initialize:function(a){this.positionContent(a),window.onscroll=function(){}.bind(this)},positionContent:function(a){var b,c=this.el,d=2,e=window.innerHeight*.33,f=window.scrollY||document.documentElement.scrollTop,g=f*d}})}(window),function(a){a.fs.Modules.Cover=Backbone.View.extend({initialize:function(){Modernizr.touch||this.initParallax(),this.handleScrollArrow(),this.handleTagAdjustments()},initParallax:function(){$(".js-parallax").each(function(){new a.fs.Modules.FSParallax({el:$(this),maxScrollVh:25})})},handleTagAdjustments:function(){this.$el.waypoint(this.toggleTagHiglighting,{offset:-10})},toggleTagHiglighting:function(a){a==="up"?($(".js-cover-tags-ontop").addClass("is-ontop"),$(".js-cover-tags-highlight").addClass("o-tag--pointed")):($(".js-cover-tags-ontop").removeClass("is-ontop"),$(".js-cover-tags-highlight").removeClass("o-tag--pointed"))},handleScrollArrow:function(){var a=$(".m-cover__arrow--scroll-down");$("body").waypoint(function(){a.toggleClass("is-off-canvas")},{offset:-5})}})}(window),function(a){a.fs.Modules.DownloadFonts=Backbone.View.extend({events:{click:"onClickHandler"},initialize:function(){this.ajaxAttemptsThreshold=0},onClickHandler:function(a){if(this.$el.hasClass("is-loading"))return!1;this.disableButton(),this.createPackageRequest()},disableButton:function(){this.$el.toggleClass("is-loading",!0)},enableButton:function(){this.$el.toggleClass("is-loading",!1)},createPackageRequest:function(){var a="/buy/history/"+this.$el.data("historyId")+"/downloads",b=this.$el.data("itemNumber"),c=this;$.ajax({type:"POST",url:a,data:{item_number:b},success:function(a){c.pollPackageDownload(JSON.parse(a.download_id).id)},error:function(a){c.enableButton();var b=$(window.parent.document).find("#order_download_errors_"+a.responseJSON.order_id)[0],d=$(b).find(".l-settings__purchased-item__error-message")[0],e=$(b).find(".js-close-notice")[0],f=$(b).parent().find(".l-settings__purchased-item-header")[0];$(d).html(a.responseJSON.message),$(b).css({opacity:1,visibility:"visible","z-index":1}),$(f).css("opacity",0),$(e).off("click").on("click",function(a){$(a.currentTarget).parents(".js-closable--target").css({opacity:0,visibility:"hidden","z-index":0}),$(f).css("opacity",1)})}})},pollPackageDownload:function(a){var b=this;this.intervalID=window.setInterval(function(){b.requestPackageDownload(a)},5e3)},requestPackageDownload:function(a){var b="/buy/history/"+this.$el.data("historyId")+"/downloads/"+a,c=this;$.ajax({type:"GET",url:b,success:function(a){if(a.is_preparing)c.ajaxAttemptsThreshold++;else{c.downloadURL=a.download_url;var b=document.createElement("a");document.body.appendChild(b),b.href=a.download_url,b.click(),c.resetState(),setTimeout(function(){document.body.removeChild(b),c.enableButton()},3e3)}},error:function(){c.ajaxAttemptsThreshold++},complete:function(){c.ajaxAttemptsThreshold>=150&&(c.resetState(),setTimeout(function(){c.enableButton()},3e3))}})},resetState:function(){clearInterval(this.intervalID),this.ajaxAttemptsThreshold=0},createDownloadIframe:function(){this.$iframe=$("<iframe/>").attr({style:"display: none;",src:this.downloadURL}).appendTo($("body"))},reloadDownloadIframe:function(){this.$iframe.attr("src",this.downloadURL)}})}(window),function(a){var b={};b=Backbone.View.extend({events:{click:"onClickHandler"},onClickHandler:function(b){this.changeActive(b),this.changeFamilyViews(b),a.fs.vent.on("fs:gridfilters:change",_.bind(this.refreshElements,this))},changeFamilyViews:function(a){a.preventDefault();var b=$(a.currentTarget).data("listtype");this.changeListType(b)},changeActive:function(a){$(".js-change-listtype").removeClass("is-active"
),$(a.currentTarget).addClass("is-active")},refreshElements:function(a){this.changeListType(a)},saveListType:function(a){$.cookie("list_type",a,{path:window.location.pathname,secure:!0})},changeListType:function(b){var c=$(".l-list-fonts");a.fs.app.helpers.clearClasses(c,"l-list-fonts--"),c.addClass("l-list-fonts--"+b),$(".o-sampletext-field")&&(b=="linear"?$(".o-sampletext-field").css("visibility","visible").removeClass("is-hidden"):$(".o-sampletext-field").css("visibility","hidden")),this.saveListType(b)}}),a.fs.Modules.FamilyFiltering=b}(window),function(a){a.fs.Modules.FontFamilyPage=Backbone.View.extend({events:{"change .js-format-selector":"updateFormats","change .js-product-selector":"updateLanguages"},initialize:function(){$(".m-cover").each(function(){new a.fs.Modules.Cover({el:this.$el})}),this.$el.find(".js-format-selector").length>0&&(this.formatId=this.$el.find(".js-format-selector option:selected").val().toString(),this.updateSelection())},updateLanguages:function(a){var b=$(".js-product-selector").data("familyId"),c=$(a.currentTarget).val(),d=$("<div class='loading-indicator loading-indicator--white-black'></div>").appendTo($(".m-languages__langlist"));$.ajax({type:"GET",data:{family_id:b,product_id:c},url:"/families/"+b+"/languages",beforeSend:function(a){$(".m-languages__langlist--languages").addClass("is-loading")},success:function(a){$("#languages-list-module")[0]&&$("#languages-list-module").html(a),$("#languages-list-module")[0]&&$("#languages-list-footer").html(a)},complete:function(a){$(".m-languages__langlist--languages").removeClass("is-loading"),d.remove()}})},updateFormats:function(a){this.formatId=$(a.currentTarget).val(),this.updateSelection()},updateSelection:function(){this.$el.find(".js-filter-option[data-product-id]").each(_.bind(function(a,b){var c=$(b);c.data("product-id").toString()===this.formatId?c.show():c.hide()},this))},switchPanels:function(a){a.preventDefault();var b=$(a.currentTarget),c=$(b.data("target"));this.$(".js-panel").hide(),c.show(),b.toggleClass("is-active",!0)}})}(window),function(a){var b=null,c;FSAddFontlistForm=Backbone.View.extend({initialize:function(){c=this,c.formClassName="js-fontlist-add-form",c.selectClassName="js-fontlist-add-form__select",a.fs.vent.on("fs:add-fontlist:reset",c.reset),a.fs.vent.on("fs:add-fontlist:change",c.setAction),c.set()},set:function(){$("."+c.formClassName).each(function(){c.addSelect($(this))})},reset:function(){$("."+c.formClassName).each(function(){c.destroySelect($(this)),c.addSelect($(this))})},addSelect:function(b){b.addClass("_set");var d=b.find("."+c.selectClassName).eq(0);d.on("change",c.setAction),a.fs.vent.trigger("fs:add-fontlist:change",{el:d.find("option:selected"),status:"init"})},destroySelect:function(a){a.hasClass("_set")&&a.removeClass("_set"),a.off("change",c.setAction)},setAction:function(a){var b,d,e,f=typeof a.type=="undefined"?!1:!0,g,h;f?b=$(a.currentTarget):typeof a.el!="undefined"?b=a.el:b=a,d=b.closest("."+c.formClassName),e=d.find(".js-form-method"),typeof d.data("form-action")=="undefined"&&d.data("form-action",d.attr("action")),f?(g=d.data("form-action")+b.val(),h=b.find("option:selected").index()==b.find("option").length-1?"post":"put"):a.status==="undefined"||a.status=="off"?(g=d.data("form-action")+b.parent().find("option").not(":disabled").eq(0).val(),h="put"):$("#fontlist_name").attr("disabled")?a.status=="init"?(g=d.data("form-action")+b.val(),h="put"):(g=d.data("form-action"),h="post"):(g=d.data("form-action")+b.val(),h="post"),_.defer(function(){d.attr("action",g),e.length>0&&e.val(h)})}}),a.fs.Modules.FSAddFontlistForm=function(){return b==null?new FSAddFontlistForm:b}}(window),function(a){a.fs.Modules.FontlistPage=Backbone.View.extend({initialize:function(){b.init()}});var b={};return b.init=function(){b.createMenuView(),a.fs.vent.on("fontlistpage:changeview",b.handleViewChange),b.createDefaultViews(),_.defer(_.bind(function(){a.fs.textRenderer.renderDeferredTexts($(".m-cover"))},this))},b.Menu=Backbone.View.extend({events:{"click .js-fontlist-menu-item:not(.is-active)":"handleNavigation"},handleNavigation:function(b){b&&b.preventDefault&&b.preventDefault();var c=$(b.currentTarget),d=c.data();c.addClass("is-active").parents("li").siblings().children("a").removeClass("is-active"),a.fs.vent.trigger("fontlistpage:changeview",d.viewType)}}),b.createMenuView=function(){b.menu=new b.Menu({el:$(".js-fontlist-menu")})},b.createDefaultViews=function(){b.menu.$el.find(".js-fontlist-menu-item").eq(0).trigger("click")},b.Views=b.Views||{},b.Views.DetailNavigationView=Backbone.View.extend({className:"m-fontlist-slider",events:{"click .owl-item":"jumpToItem"},initialize:function(){this.template=_.template($("#js-fontlist-detailview-navigation-view").html()),this.render(),this.onAfterRender()},render:function(){this.$el.html(this.template({}))},onAfterRender:function(){var b=this;this.updateSliderFocusBind=_.bind(this.updateSliderFocus,this),this.$el.owlCarousel({navigation:!0,navigationText:["",""],rewindNav:!1,scrollPerPage:!0,autoHeight:!1,itemsCustom:[[0,2],[480,3],[768,3],[1200,5],[1680,7]],afterInit:function(c){this.visibleItems.length>=this.itemsAmount?this.$elem.addClass("is-showing-all"):this.$elem.removeClass("is-showing-all"),_.delay(function(){a.fs.textRenderer.renderDeferredTexts(b.$el)},600)},afterUpdate:function(a){this.visibleItems.length>=this.itemsAmount?this.$elem.addClass("is-showing-all"):this.$elem.removeClass("is-showing-all")}}),a.fs.vent.on("fontlistpage:detailview:update",this.updateSliderFocusBind)},jumpToItem:function(b){b&&b.preventDefault&&b.preventDefault();var c=$(b.currentTarget);a.fs.vent.trigger("fontlistpage:detailview:scrollto",c.index(),this.$el.height())},updateSliderFocus:function(b){var c=this.$el.find(".owl-item"),d=c.eq(b),e=d.get(0).getBoundingClientRect(),f=this.$el.data("owlCarousel");f&&(e.left+e.width>(a.fs.app.windowWidth||$(window).width())||e.left<0)&&f.goTo(b),c.removeClass("is-current").eq(b).addClass("is-current")},destroy:function(){var b=this.$el.data("owlCarousel");b&&b.destroy(),this.$el.remove(),a.fs.vent.off("fontlistpage:detailview:update",this.updateSliderFocusBind)}}),b.Views.DetailContentView=Backbone.View.extend({className:"m-fontlist-details",initialize:function(){this.template=_.template($("#js-fontlist-detailview-content-view").html()),this.render(),this.onAfterRender()},render:function(){this.$el.html(this.template({}))},onAfterRender:function(){a.fs.textRenderer.renderDeferredTexts(this.$el),this.addWaypointsOnce=_.once(_.bind(this.addWaypoints,this)),a.fs.vent.on("fs:scroll",this.addWaypointsOnce),this.jumpToContentBind=_.bind(this.jumpToContent,this),a.fs.vent.on("fontlistpage:detailview:scrollto",this.jumpToContentBind),this.$(".js-login-attributes").loginAttributes(),this.$(".js-show-modal").each(function(){new a.fs.Modules.ShowModal({el:$(this)})})},jumpToContent:function(b,c){this.$samples=this.$el.find(".m-fontlist-sample");var d=this.$samples.eq(b);this.stopUpdatingNavigation=!0,$("body, html").stop().animate({scrollTop:d.offset().top-c},_.bind(function(){this.stopUpdatingNavigation=!1},this)),a.fs.vent.trigger("fontlistpage:detailview:update",b)},addWaypoints:function(){var b=this;this.$el.find("img").on("load",_.throttle(this.refreshWaypoints,50)),this.$samples=this.$el.find(".m-fontlist-sample"),this.$samples.waypoint(function(c){c==="down"&&!b.stopUpdatingNavigation&&a.fs.vent.trigger("fontlistpage:detailview:update",$(this).index())},{offset:"53%"}).waypoint(function(c){c==="up"&&!b.stopUpdatingNavigation&&a.fs.vent.trigger("fontlistpage:detailview:update",$(this).index())},{offset:"15%"})},refreshWaypoints:function(){$.waypoints("refresh")},destroyWaypoints:function(){this.$samples&&this.$samples.length&&this.$samples.waypoint("destroy")},destroy:function(){a.fs.vent.off("fs:scroll",this.addWaypointsOnce),a.fs.vent.off("fontlistpage:detailview:scrollto",this.jumpToContentBind),this.destroyWaypoints(),this.$el.remove()}}),b.Views.DetailView=Backbone.View.extend({initialize:function(){this.createRegions()},createRegions:function(){b.navigationRegion=new b.Views.DetailNavigationView,$(".js-fontlist-navigation-region").append(b.navigationRegion.$el),b.contentRegion=new b.Views.DetailContentView,$(".js-fontlist-content-region").append(b.contentRegion.$el)}}),b.Views.GridContentView=Backbone.View.extend({className:"m-fontlist-grid",initialize:function(){this.template=_.template($("#js-fontlist-gridview-content-view").html()),this.render(),this.onAfterRender()},render:function(){this.$el.html(this.template({}))},onAfterRender:function(){a.fs.textRenderer.renderDeferredTexts(this.$el)},destroy:function(){this.$el.remove()}}),b.Views.GridView=Backbone.View.extend({initialize:function(){this.createRegions()},createRegions:function(){b.contentRegion=new b.Views.GridContentView,$(".js-fontlist-content-region").append(b.contentRegion.$el)}}),b.Views.ListContentView=Backbone.View.extend({className:"m-fontlist-list",initialize:function(){this.template=_.template($("#js-fontlist-listview-content-view").html()),this.render(),this.onAfterRender()},render:function(){this.$el.html(this.template({}))},onAfterRender:function(){a.fs.textRenderer.renderDeferredTexts(this.$el)},destroy:function(){this.$el.remove()}}),b.Views.ListView=Backbone.View.extend({initialize:function(){this.createRegions()},createRegions:function(){b.contentRegion=new b.Views.ListContentView,$(".js-fontlist-content-region").append(b.contentRegion.$el)}}),b.ViewList={detailView:b.Views.DetailView,gridView:b.Views.GridView,listView:b.Views.ListView},b.handleViewChange=function(a){b.currentView&&b.currentView.destroy&&b.currentView.destroy.call(b.currentView),b.navigationRegion&&b.navigationRegion.destroy&&b.navigationRegion.destroy.call(b.navigationRegion),b.contentRegion&&b.contentRegion.destroy&&b.contentRegion.destroy.call(b.contentRegion),b.currentView=undefined,b.navigationRegion=undefined,b.contentRegion=undefined;var c=b.ViewList[a];c&&(b.currentView=new c)},b}(window),function(a){var b=null,c={};c=Backbone.View.extend({options:{msg:""},initialize:function(){b=c,c._this=this,c._this.build(),a.fs.vent.on("fs:rm:talk",function(a){c._this.talk(a)}),a.fs.vent.on("fs:rm:refresh",c._this.refresh)},build:function(){var a=$("<div/>",{id:"FSFlashMessage","class":"m-fs-flash-message"}),b=$("<div/>",{id:"FSFlashMessageWrapper","class":"m-fs-flash-message-wrapper"});a.appendTo(b),c.FlashMessage=a,c.FlashMessageSet=b},talk:function(a){$.extend(c._this.options,a),c._this.options.msg!=""&&(c._this.options.msg!=undefined&&c.FlashMessage.html(c._this.options.msg),$("body").find(c.FlashMessageSet).length===0&&$("body").append(c.FlashMessageSet),c._this.showMsg(function(){setTimeout(function(){c._this.hideMsg()},3e3)}))},showMsg:function(a){a=a||function(){},c.FlashMessageSet.velocity({top:0},{duration:600,easing:"easeInOutQuart",complete:function(){a()}})},hideMsg:function(a){a=a||function(){},c.FlashMessageSet.velocity({top:"-100%"},{duration:600,easing:"easeInOutQuart",complete:function(){$(this).remove(),a()}})}}),a.fs.Modules.FSDialog=function(){return b==null?new c:b}}(window),function(a){var b=null;FSLikes=Backbone.View.extend({initialize:function(){FSLikes._this=this,FSLikes.likedClass="is-liked",a.fs.vent.on("fs:likes:toggle",FSLikes._this.toggle)},toggle:function(b){b.success==1?b.like_status=="on"?b.target.addClass(FSLikes.likedClass):b.like_status=="off"&&b.target.removeClass(FSLikes.likedClass):b.target.removeClass(FSLikes.likedClass),a.fs.vent.trigger("fs:user-likes:reload")}}),a.fs.Modules.FSLikes=function(){return b==null?new FSLikes:b}}(window),function(a){var b=null,c={};c=Backbone.View.extend({initialize:function(){b=c,c.callerClass="js-fs-popup",c.callerSetClass=c.callerClass+"--set",c.loginButtonID="menu-login-button",c.currentCaller=!1,c.triggerAfterLogin=!1,c._this=this,c._this.build(),c._this.findCaller(),a.fs.vent.on("fs:popup:addcaller",c._this.addCaller)},log:function(a){window.rails_env&&window.rails_env=="development"&&console.log(a)},build:function(){var a=$("<div/>",{id:"FSPopup","class":"m-fs-popup"}),b=$("<div/>",{"class":"m-fs-popup-container"}),d=$("<div/>",{"class":"m-fs-popup-wrapper"}),e=$("<a/>",{id:"FSPopupClose","class":"m-fs-popup-close o-icon o-icon o-icon--x js-fs-popup-close",href:""});a.appendTo(d).wrap(b),d.prepend(e),c.popupItem=a,c.popupSet=d,c.popupClose=e,$(document).keyup(function(a){a.keyCode=="27"&&c._this.hide()})},bindListeners:function(){c.popupSet.on("click",function(a){c._this.hide()}),c.popupClose.on("click",function(a){a.preventDefault(),c._this.hide()}),c.popupItem.on("click",function(a){a.stopPropagation()})},findCaller:function(a){var a=a==undefined?$("."+c.callerClass):a.find("."+c.callerClass);a.not("."+c.callerSetClass).each(function(){c._this.addCaller(this)})},addCaller:function(a){$(a).not("."+c.callerSetClass).addClass(c.callerSetClass).data("trigger-after-login",!1),$(document).on("click","#"+$(a).attr("id"),c._this.runCaller)},removeCaller:function(a){$(a).removeClass(c.callerSetClass).data("trigger-after-login",!1).off("click",c._this.runCaller)},runCaller:function(a){a.preventDefault(),a.stopPropagation(),c.currentCaller=$(a.currentTarget),c.currentCaller.data("trigger-after-login")&&(c.triggerAfterLogin=c.currentCaller.data("trigger-after-login"),c.currentCaller.data("trigger-after-login",!1)),c._this.callXHR(a)},callXHR:function(a){var b;typeof a.type=="undefined"||a.type!="post"&&a.type!="put"?b=c._this.dataGET(a):b=c._this.dataPOST(a),c._this.xhrData(b,function(a){typeof a.html=="undefined"&&c._this.log(a),c._this.processData(a)})},dataPOST:function(a){return{xhr:{type:typeof a.type=="undefined"?"POST":a.type,url:typeof a.href=="undefined"?"/":a.href,data:a.params,dataType:"json"}}},dataGET:function(a){var b=$(a.currentTarget).attr("href")!=undefined?$(a.currentTarget).attr("href"):"/",c=b.indexOf("?")==-1?"?":"&",d=b+c+"xhr=true";return{xhr:{url:d,contentType:"application/json",dataType:"json"}}},xhrData:function(a,b){b=b||function(){},a.xhr!=undefined&&$.get(a.xhr,function(a){b(a)}).fail(function(a){b(a)})},processData:function(b){c.somethingWrong=!1;if(typeof b.status!="undefined"){if(b.status.toString()=="403"){var d=$("#"+c.loginButtonID);d.length>0&&d.data("trigger-after-login",c.currentCaller).trigger("click");return}b.status.toString().indexOf("4")==0&&(c.somethingWrong=!0,b=$.parseJSON(b.responseText))}if(typeof b.success!="undefined"&&b.success===!0){a.fs.app.user.id=522143,c._this.loginStatus(),c.response=typeof b.message!="undefined"?b.message:"",a.fs.vent.trigger("fs:rm:talk",{msg:c.response}),typeof c.currentCaller.data("fs-popup-on-complete")!="undefined"&&(b.target=c.currentCaller,a.fs.vent.trigger(c.currentCaller.data("fs-popup-on-complete"),b)),typeof b.redirect_url!="undefined"&&b.redirect_url?setTimeout(function(){window.location.href=b.redirect_url},50):c.triggerAfterLogin?(c.triggerAfterLogin.trigger("click"),c.triggerAfterLogin=!1):$("body").find(c.popupSet).length>0&&c._this.hide();return}typeof b.html!="undefined"&&(c.popupItem.html(b.html),c._this.findCaller(c.popupItem)),$("body").find(c.popupSet).length===0&&($("body").append(c.popupSet.css("display","none")),c._this.bindListeners(),typeof c.currentCaller.data("fs-popup-on-load")!="undefined"&&(b.target=c.currentCaller,a.fs.vent.trigger(c.currentCaller.data("fs-popup-on-load")))),a.fs.vent.trigger("fs:contentload"),c.somethingWrong&&c.popupItem.velocity({left:25},25,"easeOutQuad").velocity({left:-25},50,"easeInSine").velocity({left:25},50,"easeOutQuad").velocity({left:0},25,"easeInSine");var e=c.popupItem.find("form");e.length>0&&(b.form_url!=undefined&&e.attr("action",b.form_url),e.on("submit",function(a){return $(this).find(".is-error").length===0&&c._this.callXHR({type:e.attr("method"),href:e.attr("action"),params:$(this).serializeArray()}),!1}),e.find("input[type=text]").eq(0).focus()),c.popupSet.is(":visible")||c._this.show()},show:function(a){a=a||function(){},c.popupSet.fadeIn(function(){a()})},hide:function(a){a=a||function(){},c.popupSet.fadeOut(function(){$(this).remove(),a()})},loginStatus:function(){var b=!1;return typeof window.rails_session_logged_in!="undefined"&&window.rails_session_logged_in&&(b=!0),typeof a.fs.app.user.id!="undefined"&&a.fs.app.user.id&&(b=!0),$("html").removeClass("user-"+b?"logout":"login").addClass("user-"+b?"login":"logout"),b}}),a.fs.Modules.FSPopup=function(){return b==null?new c:b}}(window),function(a){var b=null;SiteMenu=Backbone.View.extend({initialize:function(){SiteMenu._this=this;var b=document.getElementById("site-menu");SiteMenu.navigation=b==null?{}:b,SiteMenu.navigationPath="/menu",a.fs.vent.on("fs:menu:reload",SiteMenu._this.reload),a.fs.vent.on("fs:menu:refresh",SiteMenu._this.refresh)},reload:function(){SiteMenu.navigationPath&&$.get(SiteMenu.navigationPath,function(b){SiteMenu.content=b,a.fs.vent.trigger("fs:menu:refresh"),a.fs.vent.trigger("fs:user-likes:reload"),a.fs.vent.trigger("fs:user-lists:updatelist"),a.fs.vent.trigger("fs:search:update-results")}).fail(function(a){console.log(a)})},refresh:function(){SiteMenu.content!=undefined&&$(SiteMenu.navigation).html(SiteMenu.content)},setPath:function(a){SiteMenu.navigationPath=a}}),a.fs.Modules.SiteMenu=function(){return b==null?new SiteMenu:b}}(window),function(a){var b=null,c={},d;c=Backbone.View.extend({initialize:function(){d=this,a.fs.vent.on("fs:fontfinder:hover",_.bind(d.set,d)),a.fs.vent.on("fs:fontfinder:hoverout",_.bind(d.unset,d)),a.fs.vent.on("fs:fontfinder:scrolling",_.bind(d.unset,d))},set:function(b){a.fs.vent.trigger("fs:tryout:fontfinderfont",b);var c=25;d.$el.css({top:b.ypos-d.$el.outerHeight()/2+"px",right:($(window).width()<a.fs.app.breakpoints.desktop.mid?$("[ng-controller=TryoutFontFinderController]").outerWidth()+c:c)+"px"}).addClass("is-active")},unset:function(){d.$el.removeClass("is-active")}}),a.fs.Modules.FontFinderBubble=function(a){return b==null?new c(a):b}}(window),function(a){a.fs.Modules.Homepage=Backbone.View.extend({initialize:function(){a.fs.vent.on("fs:resize",_.bind(this.setSearchPlaceholder,this)),this.setSearchPlaceholder(),this.setLogo()},setSearchPlaceholder:function(){var b=$("#home_txt_search-text"),c=$(window).width()<a.fs.app.breakpoints.mobile.landscape_i5?b.data("placeholder-mobile"):b.data("placeholder-desktop");b.attr("placeholder",c)},setLogo:function(){var a=$(".m-menu-new__logo").find(".o-logo--text");if(a.length>0){var b;b=setTimeout(function(){a.addClass("o-logo--show-hint"),clearTimeout(b)},2e3)}}})}(window),function(a){var b=null,c={};c=Backbone.View.extend({defaults:{},events:{"click .js-checkbox-toggle":"onClickHandler","change .js-variation-pulldown":"onVariationChanged","click .js-group-selection-toggle":"onGroupSelectedChanged"},initialize:function(){this.setup()},toggleDownloadButton:function(a){$(".m-purchase-webfonts").find(".js-checkbox-toggle._checked").length>0?a.closest("form").find(".js-webfonts-download").removeClass("o-button--purchase-webfonts-download--disabled"):a.closest("form").find(".js-webfonts-download").addClass("o-button--purchase-webfonts-download--disabled")},setup:function(){var a=this;$(".js-checkbox-toggle").not("._set").each(function(){var b=$(this);b.addClass("_set").on("click",function(){b.find("input:checked").length>0?b.addClass("_checked"):b.removeClass("_checked"),a.toggleDownloadButton(b)})}),$(".js-webfonts-download").each(function(){$(this).on("click",function(){if($(this).hasClass("o-button--purchase-webfonts-download--disabled"))return!1})})},onClickHandler:function(a){if($(a.toElement).hasClass("js-variation-pulldown")){a.preventDefault();return}},onVariationChanged:function(a){a.preventDefault(),$(a.currentTarget).closest(".js-checkbox-toggle").find("input").prop("checked",!0),$(a.currentTarget).closest("label.js-checkbox-toggle").addClass("_checked"),this.toggleDownloadButton($(a.currentTarget))},onGroupSelectedChanged:function(a){var b=$(a.toElement),c=b.prop("checked");if(group=b.closest(".m-purchase-webfonts__section-item"))group.find("input[name^='webfonts']").prop("checked",c),c?group.find("label.js-checkbox-toggle").addClass("_checked"):group.find("label.js-checkbox-toggle").removeClass("_checked");this.toggleDownloadButton(b)}}),a.fs.Modules.FontsPurchase=c}(window),function(a){var b;a.fs.Modules.SimpleSlider=Backbone.View.extend({initialize:function(){b=this,b.sliderJSClass={container:"js-simple-slider",shift_prev:"js-simple-slider-prev",shift_next:"js-simple-slider-next",img_rescale:"js-simple-slider-image-rescale",meta:"js-simple-slider-meta",meta_rescaled:"js-simple-slider-meta--rescaled"},b.defaultOptions={autostart:!1,speed:5e3},a.fs.vent.on("fs:simpleslider:set",b.setSlider),a.fs.vent.on("fs:resize:fast",b.resetPosition),b.setSlider()},setSlider:function(){$("."+b.sliderJSClass.container).not("._set").each(function(a,c){var d=$(c),e=b.getOptions(d);d.addClass("_set").data("autoTimer","none").imagesLoaded(function(){b.setSlide(d),d.data("current",0).append('<button id="simple-slider-prev" class="simple-slider-shift simple-slider-prev '+b.sliderJSClass.shift_prev+'" data-direction="prev"></button>'+'<button id="simple-slider-next" class="simple-slider-shift simple-slider-next '+b.sliderJSClass.shift_next+'" data-direction="next"></button>'),b.setArrowDisplay(d),d.find(".simple-slider-shift").on("click",b.clickShift);if(Modernizr.touch&&Hammer){var a=new Hammer(c);a.on("swipeleft swiperight",function(a){var b=a.direction==2?"next":a.direction==4?"prev":!1;b&&d.find(".simple-slider-"+b).trigger("click")}).get("swipe").set({direction:Hammer.DIRECTION_HORIZONTAL})}b.checkScaleOnMobile(d),e.autostart===!0&&b.addAutoStart(d)})})},setSlide:function(a){a.find(".simple-slide").each(function(a,c){var d=$(c);if(window.devicePixelRatio>1){var e=d.find("img.js-retina"),f=e.attr("src");e.attr("src",b.getRetinaSrc(f))}typeof d.data("href")!="undefined"&&d.on("click",function(){window.location.href=d.data("href")}),d.find(".js-content-link").length>0&&d.find(".js-content-link").on("click",function(a){a.stopPropagation()})})},getRetinaSrc:function(a){if(a==undefined)return undefined;var b="jpg",c=["jpg","png","gif"];for(var d=0,e=c.length;d<e;d++)a.indexOf("."+c[d])>-1&&(b="."+c[d]);return a.split(b)[0]+"@2x"+b},getOptions:function(a){var c=a.attr("slider-options");return $.extend({},b.defaultOptions,typeof c=="undefined"?{}:$.parseJSON(c))},addAutoStart:function(a){var c=a.find(".simple-slider-next"),d=b.getOptions(a);clearInterval(a.data("autoTimer")),a.data("autoTimer",setInterval(function(){c.length>0&&c.trigger("click")},5e3))},clickShift:function(a){a.preventDefault(),a.stopPropagation();var c=$(a.currentTarget),d=c.closest("."+b.sliderJSClass.container),e=d.find("ul"),f=e.find("> li"),g=b.getOptions(d),h=typeof g.autostart!="undefined"&&g.autostart===!0,i=d.data("current"),j=c.data("direction")=="next"?1:-1,k=f.length>0?i+j>f.length-1||i+j<0?0:i+j:0,l=e.width(),m=b.getSlidesWidth(d),n=parseInt(e.css("left").replace("px","")),o=e.find("> li").eq(k).outerWidth(!0),p=c.data("direction")=="next"?Math.abs(m-l)+(isNaN(n)?0:n)+o*j>0:!0,q=p?k:0;h&&d.data("autoTimer")!=="none"&&clearInterval(d.data("autoTimer")),d.data("current",q),b.setSliderPosition(d),b.setArrowDisplay(d),h&&b.addAutoStart(d)},getSlidesWidth:function(a){var b=0;return a.find("ul > li").each(function(){b+=$(this).outerWidth(!0)}),b},setArrowDisplay:function(a){a.find("ul > li").length===0?a.find(".simple-slider-shift").addClass("_off"):a.data("current")==0?a.find(".simple-slider-shift.simple-slider-prev").addClass("_off"):a.find(".simple-slider-shift").removeClass("_off")},setSliderPosition:function(a,b){var c=a.find("ul"),b=b||!1,d=c.find("> li").eq(a.data("current")).position()?c.find("> li").eq(a.data("current")).position().left:0,e=c.find("> li").length>0?d*-1+"px":0;b===!0?c.css({left:e}):c.velocity("stop").velocity({left:e,easing:"ease-in-out"})},resetPosition:function(){$("."+b.sliderJSClass.container+"._set").each(function(a,c){b.setSliderPosition($(c),!0),b.checkScaleOnMobile($(c))})},checkScaleOnMobile:function(a){var c=a.find("ul > li:first-child"),d=a.find("."+b.sliderJSClass.img_rescale),e=c.find("img"),f=a.find("."+b.sliderJSClass.shift_prev),g=a.find("."+b.sliderJSClass.shift_next);if($(window).width()<=768){if(d.length>0&&e.length>0){var h={w:e.width(),w_opt:a.width()*.8,h:e.height(),h_min:100,h_opt:null};h.w>h.w_opt&&(h.h_opt=Math.round(h.w_opt/(h.w/h.h)),h.h_opt>=h.h_min&&(d.css("height",h.h_opt+"px").parent().find("."+b.sliderJSClass.meta).addClass(b.sliderJSClass.meta_rescaled),f.length>0&&f.css("top",h.h_opt/2+"px"),g.length>0&&g.css("top",h.h_opt/2+"px"))),d.closest("li").css("display","none");var i=d.closest("li").get(0).offsetHeight;d.closest("li").removeAttr("style")}}else d.removeAttr("style").parent().find("."+b.sliderJSClass.meta).removeClass(b.sliderJSClass.meta_rescaled),f.removeAttr("style"),g.removeAttr("style")}})}(window),function(a){var b=null,c={},d;c=Backbone.View.extend({initialize:function(){d=this,this.watchoverflow(),a.fs.vent.on("fs:watchoverflow:watch",this.watchoverflow),a.fs.vent.on("fs:watchoverflow:unset",this.unset),a.fs.vent.on("fs:resize",this.watchoverflow)},watchoverflow:function(){$(".js-watchoverflow").each(function(){if(!$(this).is(":visible"))return;var a=$(this),b=a.offset(),c=b.top-$(window).scrollTop(),e=a.outerHeight(!1),f=a.find(".watchoverflow__inner").length>0?!0:!1,g=f?a.find(".watchoverflow__inner").height():0,h=$(window).height(),i=40,j=h-(e+c)-i;j<0||g>e&&e+j<g?(f||a.wrapInner("<div class='watchoverflow__inner'></div>"),a.css({overflow:"auto",height:h-c-i+"px"})):d.clear(a)})},unset:function(){$(".js-watchoverflow").each(function(){if(!$(this).is(":visible"))return;d.clear($(this))})},clear:function(a){a.removeAttr("style")}}),a.fs.Modules.WatchOverflow=function(){return b==null?new c:b}}(window),function(a){var b={};b=Backbone.View.extend({defaults:{listURL:"/fontlists/families_in_lists.json",iconClass:".js-inlist"},initialize:function(){this.options=_.extend({},this.defaults,this.$el.data()),this.getLists(),a.fs.vent.on("fs:user-lists:update",_.bind(this.updatedLikeIcons,this)),a.fs.vent.on("fs:user-lists:updatelist",_.bind(this.updateLists,this))},getLists:function(){!a.fs.app.user.lists&&!a.fs.app.user.isGettingLists&&(a.fs.app.user.isGettingLists=!0,$.getJSON(this.options.listURL,function(b){a.fs.app.user.lists=b,a.fs.app.user.isGettingLists=!1,a.fs.vent.trigger("fs:user-lists:update")}))},updateLists:function(){a.fs.app.user.lists=!1,a.fs.app.user.isGettingLists=!1,this.getLists()},updatedLikeIcons:function(){$(this.options.iconClass).each(this.checkIfLiked)},checkIfLiked:function(){var b=!1,c=$(this),d=c.data("familyId"),e=c.data("objectType");typeof a.fs.app.user.lists!="undefined"&&($.grep(a.fs.app.user.lists,function(a,c){a.object_id==d&&a.object_type==e&&(b=!0)}),b?c.hasClass("o-icon--add-to-list")?c.removeClass("o-icon--add-to-list").addClass("o-icon--added-to-list"):c.addClass("is-inlist"):c.addClass("is-not-inlist"))}}),a.fs.Modules.GlobalInlist=b}(window),function(a){var b={};b=Backbone.View.extend({defaults:{listURL:"/likes.json",iconClass:"js-like"},initialize:function(){this.options=_.extend({},this.defaults,this.$el.data()),a.fs.vent.on("fs:user-likes:update",_.bind(this.updatedLikeIcons,this)),a.fs.vent.on("fs:user-likes:reload",_.bind(this.getLikes,this,!0)),this.getLikes()},getLikes:function(b){var c=this;!a.fs.app.user.likes&&!a.fs.app.user.isGettingLikes||b?(a.fs.app.user.isGettingLikes=!0,$.getJSON(c.options.listURL,function(b){a.fs.app.user.likes=b,a.fs.app.user.isGettingLikes=!1,a.fs.vent.trigger("fs:user-likes:update")})):a.fs.vent.trigger("fs:user-likes:update")},addLikeIcon:function(a){$(a).hasClass(this.options.iconClass)||($(a).addClass(this.options.iconClass),a.checkIfLiked)},updatedLikeIcons:function(){$("."+this.options.iconClass).each(this.checkIfLiked)},checkIfLiked:function(){var b=this,c=$(this),d=this.getAttribute("data-likeableid"),e=this.getAttribute("data-likeabletype"),f=!1,g=d!=null&&d!=undefined?d:c.data("likeableid"),h=e!=null&&e!=undefined?e:c.data("likeabletype");$.grep(a.fs.app.user.likes,function(a,b){a.likeable_id.toString()==g.toString()&&a.likeable_type==h&&(f=!0,c.data("likeid",a.id))}),c.removeClass("is-liked is-not-liked").addClass(f?"is-liked":"is-not-liked")}}),a.fs.Modules.GlobalLikes=b}(window),function(a){a.fs.Modules.Glossary=Backbone.View.extend({initialize:function(){this.$allFilters=this.$(".js-filter"),this.$allTerms=this.$(".js-glossary-term"),this.$hashAnchors=this.$(".js-gallery-container a[href^='#']"),this.appendLinkTargets(),(target=$(location).attr("hash"))&&window.scrollBy(0,-250)},appendLinkTargets:function(){var a=fs.Modules.ScrollTo;this.$hashAnchors.addClass("js-scroller").each(function(){var b=new a.Arrow({el:$(this)});$(this).attr({"data-target":this.hash,"data-center-target":!0})})}})}(window),!function(a){function b(b){function d(b){k.gutterX,k.gutterY;var c=k.cellH,d=k.cellW,f=a(b),g=f.find(f.attr("data-handle"));e.setDraggable(b,{handle:g[0],onStart:function(a){j.animate&&e.transition&&e.setTransition(this,""),f.css("z-index",9999).addClass("fw-float"),j.onBlockDrag.call(b,a)},onDrag:function(a){var e=f.position(),g=Math.round(e.top/c),h=Math.round(e.left/d),l=Math.round(f.width()/d),m=Math.round(f.height()/c);g=Math.min(Math.max(0,g),k.limitRow-m),h=Math.min(Math.max(0,h),k.limitCol-l),i.setHoles({top:g,left:h,width:l,height:m}),i.refresh(),j.onBlockMove.call(b,a)},onDrop:function(e){var g=f.position(),h=Math.round(g.top/c),l=Math.round(g.left/d),m=Math.round(f.width()/d),n=Math.round(f.height()/c);h=Math.min(Math.max(0,h),k.limitRow-n),l=Math.min(Math.max(0,l),k.limitCol-m),f.removeClass("fw-float"),f.css({zIndex:"auto",top:h*c,left:l*d});var o,p,q,r;for(p=0;n>p;++p)for(o=0;m>o;++o)q=p+h+"-"+(o+l),r=k.matrix[q],r&&1!=r&&a("#"+r).removeAttr("data-position");k.holes={},f.attr({"data-width":f.width(),"data-height":f.height(),"data-position":h+"-"+l}),i.refresh(),j.onBlockDrop.call(b,e)}})}var g=a(b);"static"==g.css("position")&&g.css("position","relative");var h=Number.MAX_VALUE,i=this;e.totalGrid+=1;var j=a.extend({},e.defaultConfig),k={arguments:null,blocks:{},events:{},matrix:{},holes:{},cellW:0,cellH:0,cellS:1,filter:"",lastId:0,length:0,maxWoB:0,maxHoB:0,minWoB:h,minHoB:h,running:0,gutterX:15,gutterY:15,totalCol:0,totalRow:0,limitCol:666666,limitRow:666666,sortFunc:null,keepOrder:!1};j.runtime=k,k.totalGrid=e.totalGrid;var l=document.body.style;e.transition||(null!=l.webkitTransition||null!=l.MozTransition||null!=l.msTransition||null!=l.OTransition||null!=l.transition)&&(e.transition=!0),a.extend(i,{addCustomEvent:function(a,b){var c=k.events;return a=a.toLowerCase(),!c[a]&&(c[a]=[]),b.eid=c[a].length,c[a].push(b),this},appendBlock:function(b){var c=a(b).appendTo(g),h=null,i=[];k.arguments&&(a.isFunction(k.sortFunc)&&c.sort(k.sortFunc),c.each(function(a,b){b.index=++a,h=e.loadBlock(b,j),h&&i.push(h)}),f[j.engine](i,j),e.setWallSize(k,g),k.length=c.length,c.each(function(a,b){e.showBlock(b,j),(j.draggable||b.getAttribute("data-draggable"))&&d(b)}))},appendHoles:function(a){var b,c=[].concat(a),d={};for(b=0;b<c.length;++b)d=c[b],k.holes[d.top+"-"+d.left+"-"+d.width+"-"+d.height]=d;return this},container:g,destroy:function(){var b=g.find(j.selector).removeAttr("id");b.each(function(b,c){$item=a(c);var d=1*$item.attr("data-width")||"",e=1*$item.attr("data-height")||"";$item.width(d).height(e).css({position:"static"})})},fillHoles:function(a){if(0==arguments.length)k.holes={};else{var b,c=[].concat(a),d={};for(b=0;b<c.length;++b)d=c[b],delete k.holes[d.top+"-"+d.left+"-"+d.width+"-"+d.height]}return this},filter:function(a){return k.filter=a,k.arguments&&this.refresh(),this},fireEvent:function(a,b,c){var d=k.events;if(a=a.toLowerCase(),d[a]&&d[a].length)for(var e=0;e<d[a].length;++e)d[a][e].call(this,b,c);return this},fitHeight:function(a){var a=a?a:g.height()||c.height();this.fitZone("auto",a),k.arguments=arguments},fitWidth:function(a){var a=a?a:g.width()||c.width();this.fitZone(a,"auto"),k.arguments=arguments},fitZone:function(b,h){var l=g.find(j.selector).removeAttr("id"),m=null,n=[];h=h?h:g.height()||c.height(),b=b?b:g.width()||c.width(),k.arguments=arguments,e.resetGrid(k),e.adjustUnit(b,h,j),k.filter?(l.data("active",0),l.filter(k.filter).data("active",1)):l.data("active",1),a.isFunction(k.sortFunc)&&l.sort(k.sortFunc),l.each(function(b,c){var d=a(c);c.index=++b,m=e.loadBlock(c,j),m&&d.data("active")&&n.push(m)}),i.fireEvent("onGridReady",g,j),f[j.engine](n,j),e.setWallSize(k,g),i.fireEvent("onGridArrange",g,j),k.length=l.length,l.each(function(a,b){e.showBlock(b,j),(j.draggable||b.getAttribute("data-draggable"))&&d(b)})},fixPos:function(b){return a(b.block).attr({"data-position":b.top+"-"+b.left}),this},fixSize:function(b
){return null!=b.height&&a(b.block).attr({"data-height":b.height}),null!=b.width&&a(b.block).attr({"data-width":b.width}),this},prepend:function(a){return g.prepend(a),k.arguments&&this.refresh(),this},refresh:function(){var a=arguments.length?arguments:k.arguments,b=k.arguments,c=b?b.callee:this.fitWidth;return c.apply(this,Array.prototype.slice.call(a,0)),this},reset:function(b){return a.extend(j,b),this},setHoles:function(a){var b,c=[].concat(a),d={};for(k.holes={},b=0;b<c.length;++b)d=c[b],k.holes[d.top+"-"+d.left+"-"+d.width+"-"+d.height]=d;return this},sortBy:function(a){return k.sortFunc=a,k.arguments&&this.refresh(),this},unFilter:function(){return delete k.filter,this.refresh(),this}}),g.attr("data-min-width",80*Math.floor(c.width()/80));for(var m in e.plugin)e.plugin.hasOwnProperty(m)&&e.plugin[m].call(i,j,g);c.resize(function(){k.running||(k.running=1,setTimeout(function(){k.running=0,j.onResize.call(i,g)},122),g.attr("data-min-width",80*Math.floor(c.width()/80)))})}null==a.isNumeric&&(a.isNumeric=function(a){return null!=a&&a.constructor===Number}),null==a.isFunction&&(a.isFunction=function(a){return null!=a&&a instanceof Function});var c=a(window),d=a(document),e={defaultConfig:{animate:!1,cellW:100,cellH:100,delay:0,engine:"giot",fixSize:null,gutterX:15,gutterY:15,keepOrder:!1,selector:"> div",draggable:!1,cacheSize:!0,rightToLeft:!1,bottomToTop:!1,onGapFound:function(){},onComplete:function(){},onResize:function(){},onBlockDrag:function(){},onBlockMove:function(){},onBlockDrop:function(){},onBlockReady:function(){},onBlockFinish:function(){},onBlockActive:function(){},onBlockResize:function(){}},plugin:{},totalGrid:1,transition:!1,loadBlock:function(b,c){var d=c.runtime,e=d.gutterX,f=d.gutterY,g=d.cellH,h=d.cellW,i=null,j=a(b),k=j.data("active"),l=j.attr("data-position"),m=parseInt(j.attr("data-fixSize")),n=d.lastId++ +"-"+d.totalGrid;if(j.hasClass("fw-float"))return null;j.attr({id:n,"data-delay":b.index}),c.animate&&this.transition&&this.setTransition(b,""),isNaN(m)&&(m=null),null==m&&(m=c.fixSize);var o=m?"ceil":"round";null==j.attr("data-height")&&j.attr("data-height",j.height()),null==j.attr("data-width")&&j.attr("data-width",j.width());var p=1*j.attr("data-height"),q=1*j.attr("data-width");c.cacheSize||(b.style.width="",q=j.width(),b.style.height="",p=j.height());var r=q?Math[o]((q+e)/h):0,s=p?Math[o]((p+f)/g):0;if(m||"auto"!=c.cellH||(j.width(h*r-e),b.style.height="",p=j.height(),s=p?Math.round((p+f)/g):0),m||"auto"!=c.cellW||(j.height(g*s-f),b.style.width="",q=j.width(),r=q?Math.round((q+e)/h):0),null!=m&&(r>d.limitCol||s>d.limitRow))i=null;else if(s&&s<d.minHoB&&(d.minHoB=s),r&&r<d.minWoB&&(d.minWoB=r),s>d.maxHoB&&(d.maxHoB=s),r>d.maxWoB&&(d.maxWoB=r),0==q&&(r=0),0==p&&(s=0),i={resize:!1,id:n,width:r,height:s,fixSize:m},l){l=l.split("-"),i.y=1*l[0],i.x=1*l[1],i.width=null!=m?r:Math.min(r,d.limitCol-i.x),i.height=null!=m?s:Math.min(s,d.limitRow-i.y);var t=i.y+"-"+i.x+"-"+i.width+"-"+i.height;k?(d.holes[t]={id:i.id,top:i.y,left:i.x,width:i.width,height:i.height},this.setBlock(i,c)):delete d.holes[t]}return null==j.attr("data-state")?j.attr("data-state","init"):j.attr("data-state","move"),c.onBlockReady.call(b,i,c),l&&k?null:i},setBlock:function(a,b){var c=b.runtime,d=c.gutterX,e=c.gutterY,f=a.height,g=a.width,h=c.cellH,i=c.cellW,j=a.x,k=a.y;b.rightToLeft&&(j=c.limitCol-j-g),b.bottomToTop&&(k=c.limitRow-k-f);var l={fixSize:a.fixSize,resize:a.resize,top:k*h,left:j*i,width:i*g-d,height:h*f-e};return l.top=1*l.top.toFixed(2),l.left=1*l.left.toFixed(2),l.width=1*l.width.toFixed(2),l.height=1*l.height.toFixed(2),a.id&&(c.blocks[a.id]=l),l},showBlock:function(b,c){function d(){if(j&&h.attr("data-state","start"),c.animate&&i.transition&&i.setTransition(b,k),g)g.fixSize&&(g.height=1*h.attr("data-height"),g.width=1*h.attr("data-width")),h.css({opacity:1,width:g.width,height:g.height}),h[f]({top:g.top,left:g.left}),null!=h.attr("data-nested")&&i.nestedGrid(b,c);else{var a=parseInt(b.style.height)||0,d=parseInt(b.style.width)||0,l=parseInt(b.style.left)||0,m=parseInt(b.style.top)||0;h[f]({left:l+d/2,top:m+a/2,width:0,height:0,opacity:0})}e.length-=1,c.onBlockFinish.call(b,g,c),0==e.length&&c.onComplete.call(b,g,c)}var e=c.runtime,f=c.animate&&!this.transition?"animate":"css",g=e.blocks[b.id],h=a(b),i=this,j="move"!=h.attr("data-state"),k=j?"width 0.5s, height 0.5s":"top 0.5s, left 0.5s, width 0.5s, height 0.5s, opacity 0.5s";b.delay&&clearTimeout(b.delay),h.hasClass("fw-float")||(i.setTransition(b,""),b.style.position="absolute",c.onBlockActive.call(b,g,c),g&&g.resize&&c.onBlockResize.call(b,g,c),c.delay>0?b.delay=setTimeout(d,c.delay*h.attr("data-delay")):d())},nestedGrid:function(c,d){var e,f=a(c),g=d.runtime,h=f.attr("data-gutterX")||d.gutterX,i=f.attr("data-gutterY")||d.gutterY,j=f.attr("data-method")||"fitZone",k=f.attr("data-nested")||"> div",l=f.attr("data-cellH")||d.cellH,m=f.attr("data-cellW")||d.cellW,n=g.blocks[c.id];if(n)switch(e=new b(f),e.reset({cellH:l,cellW:m,gutterX:1*h,gutterY:1*i,selector:k,cacheSize:!1}),j){case"fitHeight":e[j](n.height);break;case"fitWidth":e[j](n.width);break;case"fitZone":e[j](n.width,n.height)}},adjustBlock:function(b,c){var d=c.runtime,e=d.gutterX,f=d.gutterY,g=a("#"+b.id),h=d.cellH,i=d.cellW;"auto"==c.cellH&&(g.width(b.width*i-e),g[0].style.height="",b.height=Math.round((g.height()+f)/h))},adjustUnit:function(b,c,d){var e=d.gutterX,f=d.gutterY,g=d.runtime,h=d.cellW,i=d.cellH;if(a.isFunction(h)&&(h=h(b)),h=1*h,!a.isNumeric(h)&&(h=1),a.isFunction(i)&&(i=i(c)),i=1*i,!a.isNumeric(i)&&(i=1),a.isNumeric(b)){1>h&&(h*=b);var j=Math.max(1,Math.floor(b/h));a.isNumeric(e)||(e=(b-j*h)/Math.max(1,j-1),e=Math.max(0,e)),j=Math.floor((b+e)/h),g.cellW=(b+e)/Math.max(j,1),g.cellS=g.cellW/h,g.gutterX=e,g.limitCol=j}if(a.isNumeric(c)){1>i&&(i*=c);var k=Math.max(1,Math.floor(c/i));a.isNumeric(f)||(f=(c-k*i)/Math.max(1,k-1),f=Math.max(0,f)),k=Math.floor((c+f)/i),g.cellH=(c+f)/Math.max(k,1),g.cellS=g.cellH/i,g.gutterY=f,g.limitRow=k}a.isNumeric(b)||(1>h&&(h=g.cellH),g.cellW=1!=h?h*g.cellS:1,g.gutterX=e,g.limitCol=666666),a.isNumeric(c)||(1>i&&(i=g.cellW),g.cellH=1!=i?i*g.cellS:1,g.gutterY=f,g.limitRow=666666),g.keepOrder=d.keepOrder},resetGrid:function(a){a.blocks={},a.length=0,a.cellH=0,a.cellW=0,a.lastId=1,a.matrix={},a.totalCol=0,a.totalRow=0},setDraggable:function(b,c){var e=!1,f={startX:0,startY:0,top:0,left:0,handle:null,onDrop:function(){},onDrag:function(){},onStart:function(){}};a(b).each(function(){function b(a){return a.stopPropagation(),a=a.originalEvent,a.touches&&(e=!0,a=a.changedTouches[0]),2!=a.button&&3!=a.which&&(i.onStart.call(k,a),i.startX=a.clientX,i.startY=a.clientY,i.top=parseInt(l.css("top"))||0,i.left=parseInt(l.css("left"))||0,d.bind("mouseup touchend",h),d.bind("mousemove touchmove",g)),!1}function g(a){a=a.originalEvent,e&&(a=a.changedTouches[0]),l.css({top:i.top-(i.startY-a.clientY),left:i.left-(i.startX-a.clientX)}),i.onDrag.call(k,a)}function h(a){a=a.originalEvent,e&&(a=a.changedTouches[0]),i.onDrop.call(k,a),d.unbind("mouseup touchend",h),d.unbind("mousemove touchmove",g)}var i=a.extend({},f,c),j=i.handle||this,k=this,l=a(k),m=a(j),n=l.css("position");"absolute"!=n&&l.css("position","relative"),l.find("iframe, form, input, textarea, .ignore-drag").each(function(){a(this).on("touchstart mousedown",function(a){a.stopPropagation()})}),d.unbind("mouseup touchend",h),d.unbind("mousemove touchmove",g),m.unbind("mousedown touchstart").bind("mousedown touchstart",b)})},setTransition:function(b,c){var d=b.style,e=a(b);!this.transition&&e.stop?e.stop():null!=d.webkitTransition?d.webkitTransition=c:null!=d.MozTransition?d.MozTransition=c:null!=d.msTransition?d.msTransition=c:null!=d.OTransition?d.OTransition=c:d.transition=c},getFreeArea:function(a,b,c){for(var d=Math.min(a+c.maxHoB,c.limitRow),e=Math.min(b+c.maxWoB,c.limitCol),f=e,g=d,h=c.matrix,i=a;g>i;++i)for(var j=b;e>j;++j)h[i+"-"+j]&&j>b&&f>j&&(f=j);for(var i=a;d>i;++i)for(var j=b;f>j;++j)h[i+"-"+j]&&i>a&&g>i&&(g=i);return{top:a,left:b,width:f-b,height:g-a}},setWallSize:function(a,b){var c=a.totalRow,d=a.totalCol,e=a.gutterY,f=a.gutterX,g=a.cellH,h=a.cellW,i=Math.max(0,h*d-f),j=Math.max(0,g*c-e);b.attr({"data-total-col":d,"data-total-row":c,"data-wall-width":Math.ceil(i),"data-wall-height":Math.ceil(j)}),a.limitCol<a.limitRow&&!b.attr("data-height")&&b.height(Math.ceil(j))}},f={giot:function(a,b){function c(a,b,c,d,e){for(var f=b;b+e>f;){for(var g=c;c+d>g;)o[f+"-"+g]=a,++g>j&&(j=g);++f>k&&(k=f)}}var d=b.runtime,f=d.limitRow,g=d.limitCol,h=0,i=0,j=d.totalCol,k=d.totalRow,l={},m=d.holes,n=null,o=d.matrix,p=Math.max(g,f),q=null,r=null,s=f>g?1:0,t=null,u=Math.min(g,f);for(var v in m)m.hasOwnProperty(v)&&c(m[v].id||!0,m[v].top,m[v].left,m[v].width,m[v].height);for(var w=0;p>w&&a.length;++w){s?i=w:h=w,t=null;for(var x=0;u>x&&a.length;++x)if(n=null,s?h=x:i=x,!d.matrix[i+"-"+h]){if(q=e.getFreeArea(i,h,d),null==b.fixSize){if(t&&!s&&d.minHoB>q.height){t.height+=q.height,t.resize=!0,c(t.id,t.y,t.x,t.width,t.height),e.setBlock(t,b);continue}if(t&&s&&d.minWoB>q.width){t.width+=q.width,t.resize=!0,c(t.id,t.y,t.x,t.width,t.height),e.setBlock(t,b);continue}}if(d.keepOrder)n=a.shift(),n.resize=!0;else{for(var v=0;v<a.length;++v)if(!(a[v].height>q.height||a[v].width>q.width)){n=a.splice(v,1)[0];break}if(null==n&&null==b.fixSize)for(var v=0;v<a.length;++v)if(null==a[v].fixSize){n=a.splice(v,1)[0],n.resize=!0;break}}if(null!=n)n.resize&&(s?(n.width=q.width,"auto"==b.cellH&&e.adjustBlock(n,b),n.height=Math.min(n.height,q.height)):(n.height=q.height,n.width=Math.min(n.width,q.width))),l[n.id]={id:n.id,x:h,y:i,width:n.width,height:n.height,resize:n.resize,fixSize:n.fixSize},t=l[n.id],c(t.id,t.y,t.x,t.width,t.height),e.setBlock(t,b);else{var r={x:h,y:i,fixSize:0};if(s){r.width=q.width,r.height=0;for(var y=h-1,z=i;o[z+"-"+y];)o[z+"-"+h]=!0,r.height+=1,z+=1}else{r.height=q.height,r.width=0;for(var z=i-1,y=h;o[z+"-"+y];)o[i+"-"+y]=!0,r.width+=1,y+=1}b.onGapFound(e.setBlock(r,b),b)}}}d.matrix=o,d.totalRow=k,d.totalCol=j}};b.addConfig=function(b){a.extend(e.defaultConfig,b)},b.createEngine=function(b){a.extend(f,b)},b.createPlugin=function(b){a.extend(e.plugin,b)},b.getMethod=function(a){return e[a]},window.Freewall=window.freewall=b}(window.Zepto||window.jQuery),function(a){a.fs.Modules.InUseGallery=a.fs.BaseView.extend({autoInitialize:!0,className:"js-gallery-container",initialize:function(){this.createWall()},createWall:function(){var a=new freewall(".o-gallery-grid");a.reset({selector:".o-gallery-item_brick",animate:!0,fixSize:null,gutterX:10,gutterY:10,delay:0,onResize:function(b){var c=$(".o-gallery-grid--container").width();$(".o-gallery-grid").css({width:c}),a.fitZone()},onComplete:function(a){var b=600;if($(".o-gallery-grid--container").find(".o-gallery-item_brick").length>1){var c=$(".o-gallery-grid--container").width();b=Math.min(c,$(".o-gallery-grid").attr("data-wall-width"))}else b=$(".o-gallery-grid--container").width(),$(this).css({width:b});$(".o-gallery-grid").css({width:b})}}),a.fitZone(),$(window).trigger("resize"),this.$el.fadeIn(500)}})}(window),function(a){var b={};this.updateElements=function(){$(a).keypress(function(b){var c=String.fromCharCode(b.which);$(".js-typable",".is-in-screen").each(function(){if($(this).hasClass("js-typable--onechar")){if(c!==" "){var b=$(this).find("img.js-text-renderer");if(b.length>0){var d=a.fs.app.helpers.updateQueryStringParameter(b.attr("src"),"rt",c);b.attr("src",d)}else $(this).html(c)}}else $(this).append(c)})})},b.init=function(){updateElements()},a.fs.Modules.KeyboardTyping=b}(window),function(a){a.fs.Modules.KU=function(){var b={containerSelector:".js-keyboard-container",inputSelector:".js-keyboard-input",areaSelector:".js-keyboard-scroll-area",listSelector:".js-keyboard-list",tabsSelector:".js-keyboard-tab-group",activeClass:".is-active",setClass:"ku-is-set"},c={init:function(d){if($(b.containerSelector).hasClass(b.setClass))return;c.settings=_.extend({},b,d),c.proof()&&($(document).on("keydown",c.onContainerKeydown),a.fs.vent.on("fs:tryout:tools:pulldown:focus",c.onInputFocus),a.fs.vent.on("fs:tryout:tools:suggestions:complete",c.onInputFocus),a.fs.vent.on("fs:tryout:tools:pulldown:blur",c.checkBlurring),a.fs.vent.on("fs:tryout:tools:pulldown:hover",c.onTabHover),a.fs.vent.on("fs:tryout:tools:pulldown:hoverout",c.onTabHoverOut),a.fs.vent.on("fs:tryout:tools:pulldown:click",c.onTabClick),$(c.settings.containerSelector).addClass(c.settings.setClass))},proof:function(){var a=!0;return $(c.settings.containerSelector).each(function(b,d){$(d).find(c.settings.areaSelector).length===0&&(c.errorLog("KU "+b+": Missing "+c.settings.areaSelector),a=!1),$(d).find(c.settings.listSelector).length===0&&(c.errorLog("KU "+b+": Missing "+c.settings.listSelector),a=!1)}),a},checkBlurring:function(a){var b=c.getActive();if(!b)return;b.container.data("currentIndex",-1)},getActive:function(){var a=$(c.settings.containerSelector+c.settings.activeClass);return a.length>0?{container:a,area:a.find(c.settings.areaSelector),list:a.find(c.settings.listSelector),tabs:a.find(c.settings.tabsSelector)}:!1},onInputFocus:function(a){var b=c.getActive();if(!b)return;b.container.data("currentIndex",-1),c.setCurrentTabindex(-1),b.area.data("scrolltop",0),b.area.scrollTop(0),b.tabs.each(function(a,b){$(b).attr("tabindex",a)}),window.fs.vent.trigger("fs:fontfinder:events:set")},onContainerKeydown:function(a){var b=c.getActive();if(!b)return;var d=b.container.data("currentIndex"),e=null,f=b.tabs.length-1;switch(a.keyCode){case 38:e=d-1<0?f:d-1,a.preventDefault(),c.handleScrollPosition("up",e);break;case 40:e=d+1>f?0:d+1,a.preventDefault(),c.handleScrollPosition("down",e);break;case 13:c.onTabEnter(d);break;case 27:$(document).trigger("click");break;default:e=d}(e!==d||e===null)&&c.setCurrentTabindex(e)},onTabKeydown:function(a){if(a.keyCode===13||a.keyCode===32)a.currentTarget.classList.remove(c.settings.activeClass),a.currentTarget.click()},onTabHover:function(a){var b=$(a.currentTarget);b.addClass("is-hover"),c.setCurrentTabindex(parseInt(b.attr("tabindex")))},onTabHoverOut:function(a){var b=$(a.currentTarget);b.removeClass("is-hover")},onTabClick:function(a){$(document).trigger("click")},onTabEnter:function(b){var d=c.getActive();if(!d)return;d.container.find("[tabindex="+b+"]").trigger("click"),a.fs.vent.trigger("fs:tryout:tools:pulldown:click")},setCurrentTabindex:function(a){var b=c.getActive();if(!b)return;b.tabs.focusout().blur().removeClass("is-hover"),a>=0&&b.container.data("currentIndex",a).find("[tabindex="+a+"]").focus().select().addClass("is-hover")},handleScrollPosition:function(a,b){},destroy:function(){$(tabsSelector).removeAttr("tabindex"),$(document).off("keydown",c.onContainerKeydown),a.fs.vent.off("fs:tryout:tools:pulldown:focus",c.onInputFocus),a.fs.vent.off("fs:tryout:tools:pulldown:blur",c.checkBlurring),a.fs.vent.off("fs:tryout:tools:pulldown:hover",c.onTabHover),a.fs.vent.off("fs:tryout:tools:pulldown:hoverout",c.onTabHoverOut),a.fs.vent.off("fs:tryout:tools:pulldown:click",c.onTabClick),$(c.settings.containerSelector).removeClass(c.settings.setClass)},errorLog:function(a){console.log(a)}};return c}}(window),function(b){b.ketchup={defaults:{attribute:"data-validate",validateIndicator:"validate",eventIndicator:"on",validateEvents:"blur",validateElements:["input","textarea","select"],createErrorContainer:null,showErrorContainer:null,hideErrorContainer:null,addErrorMessages:null},dataNames:{validationString:"ketchup-validation-string",validations:"ketchup-validations",events:"ketchup-events",elements:"ketchup-validation-elements",container:"ketchup-container"},validations:{},helpers:{},validation:function(){var a,b,c=arguments[1];return typeof c=="function"?b=c:(a=c,b=arguments[2]),this.validations[arguments[0]]={message:a,func:b,init:arguments[3]||function(a,b){}},this},message:function(a,b){return this.addMessage(a,b),this},messages:function(a){for(name in a)this.addMessage(name,a[name]);return this},addMessage:function(a,b){this.validations[a]&&(this.validations[a].message=b)},helper:function(a,b){return this.helpers[a]=b,this},init:function(a,c,d){this.options=c;var e=this,f=this.initFunctions().initFields(a,d);f.each(function(){var c=b(this);e.bindValidationEvent(a,c).callInitFunctions(a,c)}),a.data(this.dataNames.elements,f),this.bindFormSubmit(a)},initFunctions:function(){var a=this.options,b=["createErrorContainer","showErrorContainer","hideErrorContainer","addErrorMessages"];for(f=0;f<b.length;f++){var c=b[f];a[c]||(a[c]=this[c])}return this},initFields:function(a,c){var d=this,e=this.dataNames,f=b(c?this.fieldsFromObject(a,c):this.fieldsFromForm(a));return f.each(function(){var a=b(this),c=d.extractValidations(a.data(e.validationString),d.options.validateIndicator);a.data(e.validations,c)}),f},callInitFunctions:function(a,b){var c=b.data(this.dataNames.validations);for(i=0;i<c.length;i++)c[i].init.apply(this.helpers,[a,b])},fieldsFromForm:function(a){var c=this,d=this.options,e=this.dataNames,f=d.validateElements,g=[];f=typeof f=="string"?[f]:f;for(i=0;i<f.length;i++){var h=a.find(f[i]+"["+d.attribute+"*="+d.validateIndicator+"]");h.each(function(){var a=b(this),f=a.attr(d.attribute),g=c.extractEvents(f,d.eventIndicator);a.data(e.validationString,f).data(e.events,g?g:d.validateEvents)}),g.push(h.get())}return this.normalizeArray(g)},fieldsFromObject:function(a,b){var c=this.options,d=this.dataNames,e=[];for(s in b){var f,g;typeof b[s]=="string"?(f=b[s],g=c.validateEvents):(f=b[s][0],g=b[s][1]);var h=a.find(s);f=this.mergeValidationString(h,f),g=this.mergeEventsString(h,g),h.data(d.validationString,c.validateIndicator+"("+f+")").data(d.events,g),e.push(h.get())}return this.normalizeArray(e)},mergeEventsString:function(a,c){var d=a.data(this.dataNames.events),e="";if(d){var f=d.split(" ");for(i=0;i<f.length;i++)c.indexOf(f[i])==-1&&(e+=" "+f[i])}return b.trim(c+e)},mergeValidationString:function(a,b){var c=this.options,d=a.data(this.dataNames.validationString),e=function(a){var b=a.name;return a.arguments.length&&(b=b+"("+a.arguments.join(",")+")"),b},f=function(a,b){for(i=0;i<a.length;i++)if(a[i].name==b.name)return!0};if(d){var g=this.extractValidations(c.validateIndicator+"("+b+")",c.validateIndicator),h=this.extractValidations(d,c.validateIndicator);b="";for(o=0;o<h.length;o++)b+=e(h[o])+",";for(n=0;n<g.length;n++)f(h,g[n])||(b+=e(g[n])+",")}return b},bindFormSubmit:function(a){var b=this,c=this.options;a.submit(function(){return b.allFieldsValid(a,!0)})},allFieldsValid:function(a,c){var d=this,e=!0;return a.data(this.dataNames.elements).each(function(){var f=b(this);d.validateElement(f,a)!=1&&(c==1&&d.triggerValidationEvents(f),e=!1)}),a.trigger("formIs"+(e?"Valid":"Invalid"),[a]),e},bindValidationEvent:function(a,b){var c=this,d=this.options,e=this.dataNames,f=b.data(e.events).split(" ");for(i=0;i<f.length;i++)b.bind("ketchup."+f[i],function(){var f=c.validateElement(b,a),g=b.data(e.container);f!=1?(g||(g=d.createErrorContainer(a,b),b.data(e.container,g)),d.addErrorMessages(a,b,g,f),d.showErrorContainer(a,b,g)):g&&d.hideErrorContainer(a,b,g)}),this.bindValidationEventBridge(b,f[i]);return this},bindValidationEventBridge:function(a,b){a.bind(b,function(){a.trigger("ketchup."+b)})},validateElement:function(a,b){var c=[],d=a.data(this.dataNames.validations),e=[b,a,a.val()];for(i=0;i<d.length;i++)d[i].func.apply(this.helpers,e.concat(d[i].arguments))||c.push(d[i].message);return b.trigger("fieldIs"+(c.length?"Invalid":"Valid"),[b,a]),c.length?c:!0},elementIsValid:function(a){var b=this.dataNames;if(a.data(b.validations)){var c=a.parentsUntil("form").last().parent();return this.validateElement(a,c)==1?!0:!1}return a.data(b.elements)?this.allFieldsValid(a):null},triggerValidationEvents:function(a){var b=a.data(this.dataNames.events).split(" ");for(var c=0;c<b.length;c++)a.trigger("ketchup."+b[c])},extractValidations:function(c,d){var e=c.substr(c.indexOf(d)+d.length+1),f="",g=[],h=0,i=[];for(var j=0;j<e.length;j++)switch(e.charAt(j)){case"(":f+="(",h++;break;case")":h?(f+=")",h--):g.push(b.trim(f));break;case",":h?f+=",":(g.push(b.trim(f)),f="");break;default:f+=e.charAt(j)}for(v=0;v<g.length;v++){var k=g[v].indexOf("("),l=g[v],m=[];k!=-1&&(l=b.trim(g[v].substr(0,k)),m=b.map(g[v].substr(l.length).split(","),function(a){return b.trim(a.replace("(","").replace(")",""))}));var n=this.validations[l];if(n&&n.message){var o=n.message;for(a=1;a<=m.length;a++)o=o.replace("{arg"+a+"}",m[a-1]);i.push({name:l,arguments:m,func:n.func,message:o,init:n.init})}}return i},extractEvents:function(a,b){var c=!1,d=a.indexOf(b+"(");return d!=-1&&(c=a.substr(d+b.length+1).split(")")[0]),c},normalizeArray:function(a){var b=[];for(i=0;i<a.length;i++)for(e=0;e<a[i].length;e++)a[i][e]&&b.push(a[i][e]);return b},createErrorContainer:function(a,c){if(typeof a=="function")return this.defaults.createErrorContainer=a,this;var d=c.offset();return b("<div/>",{html:"<ul></ul><span></span>","class":"ketchup-error",css:{top:d.top,left:d.left+c.outerWidth()-20}}).appendTo("body")},showErrorContainer:function(a,b,c){if(typeof a=="function")return this.defaults.showErrorContainer=a,this;c.show().animate({top:b.offset().top-c.height(),opacity:1},"fast")},hideErrorContainer:function(a,b,c){if(typeof a=="function")return this.defaults.hideErrorContainer=a,this;c.animate({top:b.offset().top,opacity:0},"fast",function(){c.hide()})},addErrorMessages:function(a,c,d,e){if(typeof a=="function")return this.defaults.addErrorMessages=a,this;var f=d.children("ul");f.html("");for(i=0;i<e.length;i++)b("<li/>",{text:e[i]}).appendTo(f)}},b.fn.ketchup=function(a,c){var d=b(this);if(typeof a=="string")switch(a){case"validate":b.ketchup.triggerValidationEvents(d);break;case"isValid":return b.ketchup.elementIsValid(d)}else this.each(function(){b.ketchup.init(d,b.extend({},b.ketchup.defaults,a),c)});return this}}(jQuery),jQuery.ketchup.helper("isNumber",function(a){return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)}).helper("contains",function(a,b){return a.indexOf(b)!=-1}).helper("isEmail",function(a){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)}).helper("isUrl",function(a){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)}).helper("isUsername",function(a){return/^([a-zA-Z])[a-zA-Z_-]*[\w_-]*[\S]$|^([a-zA-Z])[0-9_-]*[\S]$|^[a-zA-Z]*[\S]$/.test(a)}).helper("isDate",function(a){return!/Invalid|NaN/.test(new Date(a))}).helper("inputsWithName",function(a,b){return $('input[name="'+b.attr("name")+'"]',a)}).helper("inputsWithNameNotSelf",function(a,b){return this.inputsWithName(a,b).filter(function(){return $(this).index()!=b.index()})}).helper("getKetchupEvents",function(a){var b=a.data("events").ketchup,c=[];for(i=0;i<b.length;i++)c.push(b[i].namespace);return c.join(" ")}).helper("bindBrothers",function(a,b){this.inputsWithNameNotSelf(a,b).bind(this.getKetchupEvents(b),function(){b.ketchup("validate")})}),jQuery.ketchup.validation("required","This field is required.",function(a,b,c){typeof b.attr("type")=="undefined"&&b.attr("type","text");var d=b.attr("type").toLowerCase();return d=="checkbox"||d=="radio"?b.prop("checked")==1:c.length!=0}).validation("minlength","This field must have a minimal length of {arg1}.",function(a,b,c,d){return c.length>=+d}).validation("maxlength","This field must have a maximal length of {arg1}.",function(a,b,c,d){return c.length<=+d}).validation("rangelength","This field must have a length between {arg1} and {arg2}.",function(a,b,c,d,e){return c.length>=d&&c.length<=e}).validation("min","Must be at least {arg1}.",function(a,b,c,d){return this.isNumber(c)&&+c>=+d}).validation("max","Can not be greater than {arg1}.",function(a,b,c,d){return this.isNumber(c)&&+c<=+d}).validation("range","Must be between {arg1} and {arg2}.",function(a,b,c,d,e){return this.isNumber(c)&&+c>=+d&&+c<=+e}).validation("number","Must be a number.",function(a,b,c){return this.isNumber(c)}).validation("digits","Must be digits.",function(a,b,c){return/^\d+$/.test(c)}).validation("email","Must be a valid E-Mail.",function(a,b,c){return this.isEmail(c)}).validation("url","Must be a valid URL.",function(a,b,c){return this.isUrl(c)}).validation("username","Must be a valid username.",function(a,b,c){return this.isUsername(c)}).validation("match","Must be {arg1}.",function(a,b,c,d){return b.val()==d}).validation("contain","Must contain {arg1}",function(a,b,c,d){return this.contains(c,d)}).validation("date","Must be a valid date.",function(a,b,c){return this.isDate(c)}).validation("minselect","Select at least {arg1} checkboxes.",function(a,b,c,d){return d<=this.inputsWithName(a,b).filter(":checked").length},function(a,b){this.bindBrothers(a,b)}).validation("maxselect","Select not more than {arg1} checkboxes.",function(a,b,c,d){return d>=this.inputsWithName(a,b).filter(":checked").length},function(a,b){this.bindBrothers(a,b)}).validation("rangeselect","Select between {arg1} and {arg2} checkboxes.",function(a,b,c,d,e){var f=this.inputsWithName(a,b).filter(":checked").length;return d<=f&&e>=f},function(a,b){this.bindBrothers(a,b)}),function(a){var b={};b=Backbone.View.extend({events:{"click .o-button":"onClickHandler","keyup input":"onEnterText"},$input:this.$("#email"),initialize:function(){this.$form=this.$el.find(".m-nl-subscription__form"),this.$message=this.$el.find(".m-nl-subscription__message"),this.$footer_message=this.$el.find(".m-nl-subscription__footer-message");var a="blur submit"},onClickHandler:function(a){var b=!0;b&&(this.analytics_tracking(),this.subscribe()),a.preventDefault()},onEnterText:function(a){this.hide_message(),(a.which&&a.which==13||a.keyCode&&a.keyCode==13)&&this.onClickHandler(a)},show_footer_message:function(a){this.$footer_message.text(a).show().delay(5e3).fadeOut(100)},show_message:function(a){this.$form.hide(),this.$message.text(a).show(),this.$message.addClass("is-visible")},hide_message:function(a){this.$footer_message.hide()},subscribe:function(){var a=this,b=this.$input.serialize();if(this.$input.val().indexOf("@")>0&&this.$input.val().indexOf(".")>0){var c=$("<div class='loading-indicator'></div>").appendTo(this.$el);$.ajax({url:"/settings/subscribe",type:"POST",data:{test:"test",email:this.$input.val()},dataType:"json",cache:!1,complete:function(b){c.remove(),a.show_message(b.responseJSON.message)}})}else a.show_footer_message(window.dict.enter_valid_email)},analytics_tracking:function(){typeof ga!="undefined"&&ga("send","event",{eventCategory:"NL Subscription",eventAction:window.dict.current_language+" Signup",eventLabel:"NL Module: "+window.location.pathname.slice(1)})}}),a.fs.Modules.Newsletter=b}(window),function(a){var b={};b=Backbone.View.extend({events:{"click .l-offscreen-panel__close":"hide"},initialize:function(b){this.$el.addClass("is-transitionable"),this.settings=b||{},this.settings.selector?this.setContent($(this.settings.selector)):this.settings.url&&this.loadContent(this.settings.url),this.settings.modifier&&this.$el.addClass(this.settings.modifier),this.settings.targetId&&this.$el.attr("id",this.settings.targetId),this.settings.autohide&&(a.fs.vent.on("fs:module:enter_screen",_.bind(this.hide,this)),a.fs.vent.on("fs:module:leave_screen",_.bind(this.hide,this))),a.fs.vent.on("fs:resize-start",_.bind(this.toggleTransition,this,!0)),a.fs.vent.on("fs:resize-stop",_.bind(this.toggleTransition,this,!1)),this.$el.on("fs:offscreen-panel:show",_.bind(this.show,this))},toggleTransition:function(a){a?this.$el.removeClass("is-transitionable"):this.$el.addClass("is-transitionable")},setContent:function(a){a instanceof $?(this.$innercontent=a.clone().eq(0),this.$el.html("").append(this.$innercontent)):this.$el.html(a)},loadContent:function(b){var c=this;this.setContent("<div class='loading-indicator loading-indicator--on-yellow'></div>"),$.get(b,function(b){c.setContent(b),a.fs.vent.trigger("fs:contentload")})},show:function(){this.$el.toggleClass("is-active"),$("body").toggleClass("l-offscreen-content--active"),$(".m-menu-new__logo").css({top:"0"})},hide:function(b){a.fs.vent.trigger("fs:offscreen-panel:closing"),b.length?this.$el.hasClass("is-active")&&b.attr("id")===this.settings.$contextParent.attr("id")&&(this.$el.removeClass("is-active"),$("body").removeClass("l-offscreen-content--active")):(this.$el.removeClass("is-active"),$("body").removeClass("l-offscreen-content--active")),this.$el.hasClass("is-active")||_.delay(_.bind(function(){this.$el.scrollTop(0)},this),a.fs.app.animationDuration)}}),a.fs.Modules.OffscreenBase=b}(window),function(a){var b={};b=Backbone.View.extend({events:{"click .js-cover-tags":"showOffscreenContent",click:"hideOffscreenContent"},defaults:{targetSelector:".js-offscreen-content",defaultClass:"has-offscreen-content",activeClass:"show-offscreen-content",iframeClass:"l-offscreen-content__frame",iframeLoadedClass:"has-loaded"},linkDefaults:{urlParameter:"compact"},initialize:function(){this.options=_.extend({},this.defaults,this.$el.data()),this.$el.addClass(this.options.defaultClass),this.$target=this.$el.find(this.options.targetSelector),this.bindOffsetFixedElements=_.bind(this.offsetFixedElements,this),$(window).on("resize",_.bind(this.resizeContentWindow,this)),this.resizeContentWindow()},resizeContentWindow:function(){this.$target.css({bottom:"auto",height:window.innerHeight+"px"})},showOffscreenContent:function(a){a.preventDefault(),a.stopPropagation();var b=$(a.currentTarget),c=_.extend({},this.linkDefaults,b.data()),d=this.constructFrameURL(b,c);this.setActiveTag(b),this.createIframe(d)&&this.$target.append(this.$iframe),this.offsetFixedElements(),this.addResizeHandler(),this.$el.addClass(this.options.activeClass),this.active=!0},setActiveTag:function(a){this.clearActiveTags(),a.addClass("o-tag--pointed-highlighted").parent().addClass("is-active")},clearActiveTags:function(){this.$(".o-tag--pointed-highlighted").removeClass("o-tag--pointed-highlighted").parent().removeClass("is-active")},constructFrameURL:function(b,c){return b.length&&c.urlParameter?a.fs.app.helpers.updateQueryStringParameter(b.attr("href"),c.urlParameter,"true"):b.attr("href")},createIframe:function(b){if(this.$iframe){if(this.$iframe.attr("src")===b)return!1;this.$iframe.remove(),this.$iframe=undefined}return this.$iframe=$("<iframe />"),this.$iframe.attr({src:b,allowTransparency:"true",frameBorder:"0","class":this.options.iframeClass}),this.$iframe.on("load",_.bind(function(){this.$iframe.addClass(this.options.iframeLoadedClass),this.fsChannel=Channel.build({window:this.$iframe.get(0).contentWindow,origin:"*",scope:"fsShowModal"}),this.fsChannel.bind("showModal",function(b,c){a.fs.vent.trigger("fs:show-modal",c)})},this)),!0},offsetFixedElements:function(){var b=document.body.scrollTop,c=window.innerHeight;this.$iframe.css({height:c+"px"}),this.$(".js-fixed-position").each(function(){a.fs.app.helpers.setTransform($(this),"translateY("+
b+"px)")})},deOffsetFixedElements:function(){this.$(".js-fixed-position").each(function(){a.fs.app.helpers.setTransform($(this),"")})},addResizeHandler:function(){$(window).on("resize",this.bindOffsetFixedElements)},removeResizeHandler:function(){$(window).off("resize",this.bindOffsetFixedElements)},hideOffscreenContent:function(){this.active&&(this.active=!1,this.$el.removeClass(this.options.activeClass),this.removeResizeHandler(),this.clearActiveTags(),_.delay(this.deOffsetFixedElements,a.fs.app.animationDuration))}}),a.fs.Modules.OffscreenContent=b}(window),function(a){var b={},c=/android|webos|iphone|ipod|ipad|blackberry|iemobile/i.test(navigator.userAgent.toLowerCase());b=Backbone.View.extend({initialize:function(){this.set(),a.fs.vent.on("fs:offscreen:trigger:set",this.set)},set:function(){$(".js-show-offscreen-panel").off().on("click",function(a){a.preventDefault();var b=$(this),d=$("#"+b.data("targetId")),e=b.parents(".module"),f=$.extend({$contextParent:e},$(a.currentTarget).data());if(d.length){var g=d.css(Modernizr.prefixed("transform")).replace(/[^0-9\-.,]/g,"").split(",")[4]==0,h=Modernizr.prefixed("transform");g&&c?d.css(h,"translateX(-280px)"):d.removeAttr("style")}if(d.length===0){var i;i=new fs.Modules.OffscreenBase(f),i.$el.appendTo("body"),d=i.$el,d.addClass("l-offscreen-panel")}_.defer(function(){d.trigger("fs:offscreen-panel:show",b)}),a&&a.preventDefault&&a.preventDefault()})}}),a.fs.Modules.OffscreenTrigger=b}(window),function(a){var b={};b.Arrow=Backbone.View.extend({events:{click:"clickHandler"},clickHandler:function(a){a&&a.preventDefault&&this.$el.attr("href")!==this.$el.data("target")&&a.preventDefault();var b=$(this.$el.data("target")).eq(0),c=0,d=Math.max(($(window).height()-b.outerHeight())/2,0),e=parseInt(this.$el.data("offset"),10);this.$el.data("center-target")?c=b.offset().top-d:e?c=b.offset().top+e:c=b.offset().top,this.animateTo(c)},animateTo:function(b){$("html, body").animate({scrollTop:b},a.fs.app.scrollDuration,function(){fs.vent.trigger("fs:scrollto:finished_scrolling",b)})}}),a.fs.Modules.ScrollTo=b}(window),function(a){a.fs.Modules.TextRenderer=a.fs.BaseView.extend({autoInitialize:!1,elements:[],initialize:function(){fs.vent.on("fs:refresh-rendered-selection",_.bind(this.updateSelection,this)),fs.vent.on("fs:contentload",_.bind(this.renderAllTexts,this)),fs.vent.on("fs:resize-stop",_.bind(this.renderAllTexts,this)),fs.vent.on("fs:scroll",_.bind(this.renderLazyTexts,this)),fs.vent.on("fs:color-change",_.bind(this.updateTextColours,this)),this.updateTextColours(),this.updateSelection()},updateSelection:function(){this.$images=$('.js-text-renderer:not(".is-deferred, .is-lazy")'),this.$lazyimages=$(".js-text-renderer.is-lazy"),this.$lazygroups=$(".js-text-renderer-lazy-load"),this.renderLazyTexts($(window).scrollTop())},renderAllTexts:function(){this.$images.each(_.bind(function(a,b){this.addTextData(b),this.renderText(b)},this))},renderDeferredTexts:function(a){a.find(".js-text-renderer.is-deferred").each(_.bind(function(a,b){_.defer(_.bind(function(){this.addTextData(b),this.updateColourParam(a,b),this.renderText(b),$(b).removeClass("is-deferred")},this))},this))},addTextData:function(a){if(this.elements.indexOf(a)===-1){var b=$(a);a.data=b.data()||{},b.on("load",_.bind(this.onImgLoad,a)).on("error",_.bind(this.onImgFail,a)),this.elements.push(a)}},updateTextColours:function(){var a=$("body");$(".js-text-renderer").each(_.bind(this.updateColourParam,this))},updateColourParam:function(a,b){var c=$(b),d=c.data(),e,f=!1;d.fg&&(e=d.fg.toString());var g=c.css("color");if(g.indexOf("rgb")>-1){var h=g.split("(")[1].split(")")[0].split(","),i="";i+=parseInt(h[0],0).toString(16).length<2?parseInt(h[0],0).toString(16)+parseInt(h[0],0).toString(16):parseInt(h[0],0).toString(16),i+=parseInt(h[1],0).toString(16).length<2?parseInt(h[1],0).toString(16)+parseInt(h[1],0).toString(16):parseInt(h[1],0).toString(16),i+=parseInt(h[2],0).toString(16).length<2?parseInt(h[2],0).toString(16)+parseInt(h[2],0).toString(16):parseInt(h[2],0).toString(16),g=i}g.length<=0&&(g=e);var j=d.renderParams||{};typeof j.forced_text_color!="undefined"?(f=!0,e=j.forced_text_color,j.fg=e):j.fg=g,b.setAttribute("data-render-params",JSON.stringify(j)),c.data("render-params",j),b.setAttribute("data-fg",f?e:g),c.data("fg",f?e:g),e!==g&&!c.hasClass("is-loading")&&(c.removeClass("is-loaded").addClass("is-loading").attr("src","").css("visibility",""),this.renderText(b))},renderLazyTexts:function(b){var c=a.fs.app.windowHeight||$(window).height(),d=b+a.fs.app.lazyOffset+c,e=0;this.$lazyimages.each(_.bind(function(a,b){var c=$(b);c.offset().top<=d&&(this.addTextData(b),this.renderText(b),c.removeClass("is-lazy"),e++)},this)),this.$lazygroups.each(_.bind(function(a,b){var c=$(b);c.offset().top<=d&&(c.find(".js-text-renderer.is-deferred").each(_.bind(function(a,b){var c=$(b);this.addTextData(b),this.renderText(b),c.removeClass("is-deffered")},this)),c.removeClass("js-text-renderer-lazy-load").trigger("fs:lazyloadgroup"),e++)},this)),e&&(this.$lazyimages=$(".js-text-renderer.is-lazy"),this.$lazygroups=$(".js-text-renderer-lazy-load"))},onImgLoad:function(b){var c=b.target,d=c.src.match(/sc=(\d)/)?c.src.match(/sc=(\d)/)[1]:!1,e;window.screen.deviceXDPI&&window.screen.logicalXDPI?e=window.screen.deviceXDPI/window.screen.logicalXDPI:e=parseInt(d,10)||window.devicePixelRatio||1;var f=c.naturalHeight||c.height;c.width=(c.naturalWidth||c.width)/e,c.height=f/e,c.style.visibility="visible",a.fs.app.modernBrowser&&c.classList?c.classList.remove("is-loading"):$(c).removeClass("is-loading")},onImgFail:function(b){var c=b.target;a.fs.app.modernBrowser&&c.classList?(c.classList.remove("is-loading"),c.classList.add("is-failed")):$(c).removeClass("is-loading").addClass("is-failed")},renderText:function(b){var c=$(b);b.data=b.data||c.data();var d=b.data.renderParams||{},e=parseInt(d.rs||parseInt(c.css("font-size"),10)*.75,10);d.rt&&(d.rt=$("<textarea />").html(d.rt).text());var f=d.rt?d.rt:b.alt,g,h;a.fs.app.windowWidth=a.fs.app.windowWidth||$(window).width();if(b.data.width){var i=parseFloat(b.data.width);g=(a.fs.app.windowWidth||$(window).width())/100*i,g-=g%10}if(b.data.height){var j=parseFloat(b.data.height);h=(a.fs.app.windowHeight||$(window).height())/100*j,h-=h%10}d=$.extend({id:b.data.layoutfontId,idt:"f",rbe:"",rt:f,rs:e,bg:b.data.bg||"ffffff",fg:b.data.fg||"262626",tp:"0.0",nf:0,t:"og",w:g,acs_w:g,h:h,ft:"calt",sc:window.devicePixelRatio||1},d);if(typeof d.w=="string"&&d.w.indexOf("{w}")>-1){var k=c.parent().width();if(k===0)return _.delay(_.bind(this.renderText,this),250,b),!1;d.w=d.w.replace("{w}",c.parent().width())}var l=window.renderer_url+$.param(d);b.src=l,typeof b.data.styles!="undefined"&&c.css(b.data.styles),d.alt_text&&(b.alt=d.alt_text)}})}(window),function(a){a.fs.Modules.Tooltip=Backbone.View.extend({events:{mouseover:"onMouseOverHandler",mouseout:"onMouseOutHandler",touchstart:"onTouchEndHandler"},initialize:function(b){this.createPopup(b),this.positionPopup(),$(window).on("resize",_.bind(this.positionPopup,this)),a.fs.vent.on("fs:tooltips:reposition",_.bind(this.positionPopup,this)),a.fs.vent.on("fs:image-uploader:uploaded",_.bind(this.positionPopup,this))},createPopup:function(a){a=a||{};var b="o-tooltip o-tooltip__item "+this.createModifierClasses(),c=a.text||this.$el.data("tooltipText")||$(this.$el.data("tooltipTextselector")).html(),d=this.$el.data("tooltipTextalign")||"center";this.$tooltip=$("<div/>"),this.$tooltip.attr("class",b).css("position","absolute").css("text-align",d).html(c).append("<div class='o-tooltip__touch-prompt'>"+window.dict.tap_to_close+"</div>"),this.$el.data("tooltipWidth")&&this.$tooltip.css("width",this.$el.data("tooltipWidth")),this.$el.data("tooltipClass")&&this.$tooltip.addClass(this.$el.data("tooltipClass")),this.$el.append(this.$tooltip)},positionPopup:function(){var a=this.$el.outerHeight(),b=this.$tooltip.outerWidth(),c=this.$el.data("tooltipVertical")=="below"?"top":"bottom",d={};switch(this.$el.data("tooltipHorizontal")){case"left":d={left:"50%",marginLeft:-22};break;case"center":d={left:"50%",marginLeft:-(b/2)};break;case"right":d={right:"50%",marginRight:-22};break;default:d={left:"50%",marginLeft:-(b/2)}}this.$el.css("position","relative"),this.$tooltip.css(c,a).css(d)},createModifierClasses:function(){var a=[];return a.push("o-tooltip--"+(this.$el.data("tooltipVertical")||"above")),a.push("o-tooltip--"+(this.$el.data("tooltipHorizontal")||"center")),a.push("o-tooltip--"+(this.$el.data("tooltipSize")||"")),a.join(" ")},onMouseOverHandler:function(){Modernizr.touch||(this.$el.data("tooltipTextselector")&&(this.$el.find(".o-tooltip").html($(this.$el.data("tooltipTextselector")).html()),this.positionPopup()),this.showPopup())},onMouseOutHandler:function(){Modernizr.touch||(this.$el.data("tooltipDelayedStart")&&clearTimeout(this.delay),this.hidePopup())},onTouchEndHandler:function(a){this.$el.hasClass("is-active")?this.hidePopup():($(".o-tooltip").hide(),this.$el.hasClass("hide-tip-on-touch")||this.showPopup())},showPopup:function(){var b=this;this.$el.data("tooltipDelay")==0?(this.$tooltip.show(),b.$el.addClass("is-active")):(clearInterval(this.interval),this.$el.data("tooltipDelayedStart")?(clearTimeout(this.delay),this.delay=_.delay(function(){b.$tooltip.show(),b.$el.addClass("is-active")},parseFloat(b.$el.data("tooltipDelayedStart")))):this.$tooltip.fadeIn(a.fs.app.animationDuration,function(){b.$el.addClass("is-active")}))},hidePopup:function(){var b=this;if(this.$el.data("tooltipDelay")==0)this.$tooltip.hide(),b.$el.removeClass("is-active");else{var c=this.$el.data("tooltipDelay")||200;this.interval=setInterval(function(){b.$tooltip.fadeOut(a.fs.app.animationDuration,function(){b.$el.removeClass("is-active")})},c)}}})}(window),function(a){a.fs.Modules.WebfontActivityPage=Backbone.View.extend({$chart_data:[],events:{"click #paygo_cart_button":"handleCartButtonClick","click #paygo_cart_button_details":"handleCartButtonClick","click .js-switch-details":"handleDetailsClick","click .chart__switches--button":"getChartData"},initialize:function(){google.charts.load("current",{packages:["corechart"],language:rails_locale||"en"}),a.fs.vent.on("fs:resize",this.refreshCharts)},handleDetailsClick:function(a){var b=a.currentTarget,c=$(b).parents(".js-collapsable--target");c.toggleClass("is-open"),chart_exists=c.find("[id^=chart_] svg")[0],typeof chart_exists=="undefined"&&c.find(".chart__switches--button-default").click()},getChartData:function(a){this.$chartElement=$(a.currentTarget),this.$chartElement.parents(".chart__switches").find(".chart__switches--button").removeClass(".o-button--yellow-square-tiny-switch").addClass("o-button--grey-square-tiny-switch"),this.$chartElement.removeClass("o-button--grey-square-tiny-switch").addClass("o-button--yellow-square-tiny-switch");var b=$(a.currentTarget).data();this.$chartContainerId="chart_"+b.contactId+"_"+b.canonicalProductId,this.getPageViewStats(b,this.$chartElement)},getPageViewStats:function(a,b){var c=this;this.$chartContainer=b.parents(".group.paygo").find(".m-purchase-webfonts__item--details-chart");var d=$("<div class='loading-indicator loading-indicator--on-yellow'></div>").appendTo(this.$chartContainer);$.ajax({type:"GET",data:{contact_id:a.contactId,period:a.period,canonical_product_id:a.canonicalProductId},url:"/buy/webfonts_activity_detail",beforeSend:function(a){c.$chartContainer.addClass("is-loading")},success:function(a){c.$chartContainer.$chart_data=a,$("[id='"+c.$chartContainerId+"']").data("chart_data",a),c.drawChart(c.$chartContainerId)},complete:function(a){c.$chartContainer.removeClass("is-loading"),d.remove()}})},refreshCharts:function(){_.each($.find("[id*='chart_']"),function(a){window.fs.Modules.WebfontActivityPage.prototype.drawChart(a.id)})},drawChart:function(a){var b=a,c=$("[id='"+a+"']");if(typeof c.data("chart_data")=="undefined")return!1;result=c.data("chart_data");if(typeof result!="undefined"&&result.details.length>0){tableData=result.details.map(function(a){return[a.date,a.page_views,result.max_value]}),tableData=[["Date",window.dict.used_page_views,window.dict.licensed_page_views]].concat(tableData),tableData.forEach(function(a){a[0]=new Date(a[0])});var d=tableData.length,e,f,g=$("#"+b).width();d<=50?(e=3,f=(rails_locale||"en")=="en"?"MMM d, yy":"d.MM.yy"):d<=200?(e=3,f=(rails_locale||"en")=="en"?"MMM yy":"MMM yy"):(e=5,f=(rails_locale||"en")=="en"?"MMM yy":"MMM yy");var h=google.visualization.arrayToDataTable(tableData),i={axisTitlesPosition:"none",chartArea:{left:0,top:35,width:"100%",height:"75%"},title:"",backgroundColor:{fill:"transparent"},legend:{position:"none"},tooltip:{isHtml:!0},hAxis:{format:f,textStyle:{color:"#5E5E4F",fontName:'"Sero Light", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", "Helvetica", "Arial", sans-serif'},gridlines:{color:"#ededda",count:g>470?9:5},baselineColor:"#5E5E4F"},series:{0:{color:"#B6B69D",visibleInLegend:!1},1:{color:"#FF6447",visibleInLegend:!1,lineDashStyle:[10,10],areaOpacity:0},2:{color:"#262626",visibleInLegend:!1,lineDashStyle:[10,10],areaOpacity:0}},vAxis:{baselineColor:"#5E5E4F",minValue:0,maxValue:result.max_value,gridlines:{color:"white",count:5},textPosition:"in",textStyle:{color:"#5E5E4F",fontName:'"Sero Light", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", "Helvetica", "Arial", sans-serif',fontSize:14}}},j=new google.visualization.DateFormat({formatType:"short",pattern:(rails_locale||"en")=="en"?"MM/dd/yyyy":"dd.MM.yyyy"});j.format(h,0);var k=new google.visualization.AreaChart(document.getElementById(b));k.draw(h,i)}},handleCartButtonClick:function(a){this.$cartButtonId=$(a.currentTarget).data("product-id");var b=$(a.currentTarget).data();this.updatePaygoCart(b)},updatePaygoCart:function(a){var b=this;$.ajax({type:"PUT",data:{cart_action:a.cartAction,product_id:a.productId,license_count:a.licenseCount,license_type_id:a.licenseTypeId,licensee_contact_id:a.licenseeContactId},url:"/buy/cart",success:function(a){if(a=="true"){var c=$("[data-product-id="+b.$cartButtonId+"]");c.toggleClass("remove_from_cart"),c.not("[id='paygo_cart_button']").toggleClass("o-button--yellow-solid-medium").toggleClass("o-button--primary-medium"),c.find($(".o-icon")).toggleClass("o-icon--cart").toggleClass("o-icon--check"),c.data("cartAction",c.data("cartAction")=="add"?"remove":"add"),$("#site-menu .o-logo__cart-block").empty().addClass("progress-indicator"),$("#site-menu").load("/menu",function(){window.textRenderer.initialize(),window.textRenderer.renderAllTexts()})}}})}})}(window),function(a){var b={limit:200,input:".counter-input",context:document.documentElement,event:"input propertychange"},c={init:function(a){d.call(this,a)},destroy:function(){h.call(this)}},d=function(c){var d=a.extend({},b,this.data(),c);this.data("char-countr-settings",d);var f=d.context instanceof a?d.context.find(d.input):a(d.context).find(d.input);this.data("char-countr-input",f),e.call(this,f,d)},e=function(a,b){a.data("char-countr-output",this),a.on(b.event,f),f.call(a.get(0))},f=function(){var b=a(this),c=b.data("char-countr-output"),d=c.data("char-countr-settings"),e=a("<span />");e.get(0).innerText=b.val();var f=d.limit-e.text().replace(/\r?\n|\r/g,"").length;g(c,f)},g=function(a,b){a.text(b.toString())},h=function(){var a=this.data("char-countr-input");if(a.length){var b=this.data("char-countr-settings");a.off(b.event,f)}};a.fn.charCountr=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):typeof b=="object"||!b?c.init.apply(this,arguments):(a.error("Method "+b+" does not exist on jquery.char-countr.js"),a(this))},a.fn.charCountr.defaults=b}(jQuery),function(a){var b={checkboxTogglrTarget:"",togglrClass:"is-toggled"},c={init:function(c){this.each(function(e,f){var g=a(this),h=a.extend({},b,g.data(),c);g.data("checkbox-togglr-settings",h),d.call(g,h)})}},d=function(a){var b=this;a.checkboxTogglrTarget=b.data("checkboxTogglrTarget");if(a.checkboxTogglrTarget.length)e.call(b,a);else{var c=new Error;throw c.message="Data Attribute missing or missing information",c}},e=function(b){var c=this;c.on("click",function(){a(b.checkboxTogglrTarget).toggleClass(b.togglrClass)})};a.fn.checkboxTogglr=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):typeof b=="object"||!b?c.init.apply(this,arguments):(a.error("Method "+b+" does not exist on jquery.checkbox-togglr.js"),a(this))},a.fn.checkboxTogglr.defaults=b}(jQuery),function(a){var b={},c={init:function(a){d.call(this)},destroy:function(){}},d=function(){var c=this,d=a.extend({},b);d.targetSelector=c.data("class-target"),d.$targets=a(d.targetSelector),d.attr=c.data("class-attr"),d.$options=c.find("option"),d.allClasses=[],d.$options.each(function(b,c){d.allClasses.push(a(c).attr(d.attr))}),c.data("class-selectr-settings",d),f(c,d),c.on("change",e)},e=function(){var b=a(this),c=b.data("class-selectr-settings"),d=b.find("option:selected");c.$targets.removeClass(c.allClasses.join(" ")),c.$targets.addClass(d.attr(c.attr))},f=function(b,c){var d=c.$targets.attr("class");c.$options.each(function(b,e){var f=a(e);d!=undefined&&d.indexOf(f.attr(c.attr))>-1&&f.attr("selected","selected")})};a.fn.classSelectr=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):typeof b=="object"||!b?c.init.apply(this,arguments):(a.error("Method "+b+" does not exist on jquery.class-selectr.js"),a(this))},a.fn.classSelectr.defaults=b}(jQuery),function(a){var b={context:document.documentElement,elementHide:".js-swap-in",elementShow:".js-swap-out"},c={init:function(a){d.call(this,a)},destroy:function(){}},d=function(c){var d=a.extend({},b,this.data(),c);d.$elementShow=d.context instanceof a?d.context.find(d.elementShow):a(d.context).find(d.elementShow),d.$elementHide=d.context instanceof a?d.context.find(d.elementHide):a(d.context).find(d.elementHide),d.$elementShow.show(),d.$elementHide.hide(),d.$el=this,this.data("element-swapr-data",d),f(this),e(this)},e=function(a){a.is("option")&&a.parent().find("option").length-a.parent().find("option:disabled").length==1&&a.closest(".js-swap-item").find(".js-swap-in-trigger").hide()},f=function(b){var c=b.data("element-swapr-data");b.is("option")?(b.parent().on("change",function(){a(this).find("option:selected").val()===b.val()&&g.call(b)}),b.is(":selected")===!0&&g.call(b)):b.on("click",g),c.$elementHide.length&&(c.$elementHide.find(".js-swap-in-trigger").length?c.$elementHide.find(".js-swap-in-trigger").on("click",function(){h.call(b)}):c.$elementHide.on("click",function(){h.call(b)}))},g=function(){var a=this.data("element-swapr-data");a.$elementShow.hide().find("input").attr("disabled",!0),a.$elementHide.show().focus().find("input").removeAttr("disabled").focus(),window.fs.vent.trigger("fs:add-fontlist:change",{el:this,status:"on"})},h=function(){var b=a(this).data("element-swapr-data");b.$elementShow.show().focus().find("input").removeAttr("disabled").focus(),b.$el.removeAttr("selected"),b.$elementHide.hide().find("input").attr("disabled",!0),window.fs.vent.trigger("fs:add-fontlist:change",{el:this,status:"off"})};a.fn.elementSwapr=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):typeof b=="object"||!b?c.init.apply(this,arguments):(a.error("Method "+b+" does not exist on jquery.element-swapr.js"),a(this))},a.fn.elementSwapr.defaults=b}(jQuery),function(a){window.fsFontLoader={};var b=!1,c={load:function(a){typeof a.webfonts=="object"&&typeof a.webfonts.length=="undefined"&&(a.webfonts=[a.webfonts]);var b=a.webfonts.length>a.batchThreshold;return d(a,b),this}},d=function(c,d){var j=c.webfonts,k=0;a.each(j,function(l,m){c.loadingClasses&&h(m.css_class),e(c,m.css_class)?(c.loadingClasses&&i(m.css_class),typeof c.onSuccess=="function"&&c.onSuccess(),typeof c.onComplete=="function"&&c.onComplete()):a.ajax(m.url+"?token="+c.securityToken,{success:function(a){k++,g(c,m.css_class),typeof c.onSuccess=="function"&&c.onSuccess()},error:function(a){typeof c.onError=="function"&&c.onError()},complete:function(a){var e=a.responseText;c.loadingClasses&&i(m.css_class),typeof c.onComplete=="function"&&c.onComplete(),!b&&d?l+1>=j.length&&c.stylesHTMLContent?(b=!0,f(e,!0,c)):f(e,k%c.batchThreshold===0,c):f(e,!0,c)}})})},e=function(b,c){return a.inArray(c,b.loadedTypefaces)>-1},f=function(b,c,d){d.stylesHTMLContent+=b,c&&(a("<style type='text/css' class='font-loader-injection'>"+d.stylesHTMLContent+"</style>").appendTo(a("head")),d.stylesHTMLContent="")},g=function(a,b){a.loadedTypefaces.push(b)},h=function(b){a("."+b).addClass("wf-is-loading")},i=function(b){a("."+b).removeClass("wf-is-loading").addClass("wf-has-loaded")};a.fontLoader=function(b,d){var e=a.extend({},a.fontLoader.defaults,d);return typeof window.fsFontLoader[e.nameSpace]=="undefined"?e.loadedTypefaces=window.fsFontLoader[e.nameSpace]=[]:e.loadedTypefaces=window.fsFontLoader[e.nameSpace],c[b]?c[b].apply(this,[e]):typeof b=="object"||!b?c.load.apply(this,[e]):(a.error("Method "+b+" does not exist on jquery.font-loader.js"),a(this))},a.fontLoader.defaults={nameSpace:"loadedTypefaces",loadedTypefaces:[],loadingClasses:!0,batchThreshold:10,stylesHTMLContent:""}}(jQuery),function(a){var b={},c={init:function(b){this.each(function(c,e){d.call(a(this),b)}),b&&b.callback&&b.callback.call(this)}},d=function(a){var b=this,c=b.data("login-attributes");if(!(c&&c.loggedin&&c.loggedout)){var f=new Error;throw f.message="Data Attribute missing or missing information",f}c=window.current_tce_user_id?c.loggedin:c.loggedout;for(var d in c){itemname=d.toLowerCase();if(itemname==="class")b.addClass(c[d]);else if(itemname==="data"){var e=c[d];typeof e=="string"&&(e=JSON.parse(e)),b.data(e)}else b.attr(d,c[d])}};a.fn.loginAttributes=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):typeof b=="object"||!b?c.init.apply(this,arguments):(a.error("Method "+b+" does not exist on jquery.login-attributes.js"),a(this))},a.fn.loginAttributes.defaults=b}(jQuery),function(a){var b={},c={init:function(c){this.each(function(e,f){var g=a(this),h=a.extend({},b,g.data(),c);g.data("select-redirect-settings",h),d.call(g,h)})}},d=function(a){var b=this;b.on("change",function(){window.location=b.val()})};a.fn.selectRedirect=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):typeof b=="object"||!b?c.init.apply(this,arguments):(a.error("Method "+b+" does not exist on jquery.select-redirect.js"),a(this))},a.fn.selectRedirect.defaults=b}(jQuery),function(a){var b={simulateLink:"",simulateLinkTarget:""},c={init:function(c){this.each(function(e,f){var g=a(this),h=a.extend({},b,g.data(),c);g.data("simulatelink-settings",h),d.call(g,h)})}},d=function(b){var c=this;b.simulateLink=c.data("simulatelink"),b.simulateLinkTarget=c.data("simulatelinkwindow");if(b.simulateLink.length)e.call(a(this),b),f.call(a(this),b);else{var d=new Error;throw d.message="Data Attribute missing or missing information",d}},e=function(a){var b=this;b.on("click",function(){window.open(a.simulateLink,a.simulateLinkTarget)})},f=function(b){var c=this,d=c.find("a");d.each(function(){a(this).on("click",function(a){b&&b.callback&&b.callback.call(this,arguments),a.stopPropagation()})})};a.fn.simulateLinks=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):typeof b=="object"||!b?c.init.apply(this,arguments):(a.error("Method "+b+" does not exist on jquery.simulate-links.js"),a(this))},a.fn.simulateLinks.defaults=b}(jQuery),!function(a){function b(a){var b=a.length,d=c.type(a);return"function"===d||c.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===d||0===b||"number"==typeof b&&b>0&&b-1 in a}if(!a.jQuery){var c=function(a,b){return new c.fn.init(a,b)};c.isWindow=function(a){return null!=a&&a==a.window},c.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?e[g.call(a)]||"object":typeof a},c.isArray=Array.isArray||function(a){return"array"===c.type(a)},c.isPlainObject=function(a){var b;if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(b in a);return void 0===b||f.call(a,b)},c.each=function(a,c,d){var e,f=0,g=a.length,h=b(a);if(d){if(h)for(;g>f&&(e=c.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=c.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=c.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=c.call(a[f],f,a[f]),e===!1)break;return a},c.data=function(a,b,e){if(void 0===e){var f=a[c.expando],g=f&&d[f];if(void 0===b)return g;if(g&&b in g)return g[b]}else if(void 0!==b){var f=a[c.expando]||(a[c.expando]=++c.uuid);return d[f]=d[f]||{},d[f][b]=e,e}},c.removeData=function(a,b){var e=a[c.expando],f=e&&d[e];f&&c.each(b,function(a,b){delete f[b]})},c.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[i]||{},i++),"object"!=typeof h&&"function"!==c.type(h)&&(h={}),i===j&&(h=this,i--);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(c.isPlainObject(d)||(b=c.isArray(d)))?(b?(b=!1,g=a&&c.isArray(a)?a:[]):g=a&&c.isPlainObject(a)?a:{},h[e]=c.extend(k,g,d)):void 0!==d&&(h[e]=d));return h},c.queue=function(a,d,e){function f(a,c){var d=c||[];return null!=a&&(b(Object(a))?!function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a}(d,"string"==typeof a?[a]:a):[].push.call(d,a)),d}if(a){d=(d||"fx")+"queue";var g=c.data(a,d);return e?(!g||c.isArray(e)?g=c.data(a,d,f(e)):g.push(e),g):g||[]}},c.dequeue=function(a,b){c.each(a.nodeType?[a]:a,function(a,d){b=b||"fx";var e=c.queue(d,b),f=e.shift();"inprogress"===f&&(f=e.shift()),f&&("fx"===b&&e.unshift("inprogress"),f.call(d,function(){c.dequeue(d,b)}))})},c.fn=c.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw new Error("Not a DOM node.")},offset:function(){var b=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(){for(var a=this.offsetParent||document;a&&"html"===!a.nodeType.toLowerCase&&"static"===a.style.position;)a=a.offsetParent;return a||document}var b=this[0],a=a.apply(b),d=this.offset(),e=/^(?:body|html)$/i.test(a.nodeName)?{top:0,left:0}:c(a).offset();return d.top-=parseFloat(b.style.marginTop)||0,d.left-=parseFloat(b.style.marginLeft)||0,a.style&&(e.top+=parseFloat(a.style.borderTopWidth)||0,e.left+=parseFloat(a.style.borderLeftWidth)||0),{top:d.top-e.top,left:d.left-e.left}}};var d={};c.expando="velocity"+(new Date).getTime(),c.uuid=0;for(var e={},f=e.hasOwnProperty,g=e.toString,h="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<h.length;i++)e["[object "+h[i]+"]"]=h[i].toLowerCase();c.fn.init.prototype=c.fn,a.Velocity={Utilities:c}}}(window),function(a){"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()}(function(){return function(a,b,c,d){function e(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function f(a){return o.isWrapped(a)?a=[].slice.call(a):o.isNode(a)&&(a=[a]),a}function g(a){var b=p.data(a,"velocity");return null===b?d:b}function h(a){return function(b){return Math.round(b*a)*(1/a)}}function i(a,c,d,e){function f(a,b){return 1-3*b+3*a}function g(a,b){return 3*b-6*a}function h(a){return 3*a}function i(a,b,c){return((f(b,c)*a+g(b,c))*a+h(b))*a}function j(a,b,c){return 3*f(b,c)*a*a+2*g(b,c)*a+h(b)}function k(b,c){for(var e=0;p>e;++e){var f=j(c,a,d);if(0===f)return c;var g=i(c,a,d)-b;c-=g/f}return c}function l(){for(var b=0;t>b;++b)x[b]=i(b*u,a,d)}function m(b,c,e){var f,g,h=0;do g=c+(e-c)/2,f=i(g,a,d)-b,f>0?e=g:c=g;while(Math.abs(f)>r&&++h<s);return g}function n(b){for(var c=0,e=1,f=t-1;e!=f&&x[e]<=b;++e)c+=u;--e;var g=(b-x[e])/(x[e+1]-x[e]),h=c+g*u,i=j(h,a,d);return i>=q?k(b,h):0==i?h:m(b,c,c+u)}function o(){y=!0,(a!=c||d!=e)&&l()}var p=4,q=.001,r=1e-7,s=10,t=11,u=1/(t-1),v="Float32Array"in b;if(4!==arguments.length)return!1;for(var w=0;4>w;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;a=Math.min(a,1),d=Math.min(d,1),a=Math.max(a,0),d=Math.max(d,0);var x=v?new Float32Array(t):new Array(t),y=!1,z=function(b){return y||o(),a===c&&d===e?b:0===b?0:1===b?1:i(n(b),c,e)};z.getControlPoints=function(){return[{x:a,y:c},{x:d,y:e}]};var A="generateBezier("+[a,c,d,e]+")";return z.toString=function(){return A},z}function j(a,b){var c=a;return o.isString(a)?t.Easings[a]||(c=!1):c=o.isArray(a)&&1===a.length?h.apply(null,a):o.isArray(a)&&2===a.length?u.apply(null,a.concat([b])):o.isArray(a)&&4===a.length?i.apply(null,a):!1,c===!1&&(c=t.Easings[t.defaults.easing]?t.defaults.easing:s),c}function k(a){if(a){var b=(new Date).getTime(),c=t.State.calls.length;c>1e4&&(t.State.calls=e(t.State.calls));for(var f=0;c>f;f++)if(t.State.calls[f]){var h=t.State.calls[f],i=h[0],j=h[2],m=h[3],n=!!m,q=null;m||(m=t.State.calls[f][3]=b-16);for(var r=Math.min((b-m)/j.duration,1),s=0,u=i.length;u>s;s++){var w=i[s],y=w.element;if(g(y)){var z=!1;if(j.display!==d&&null!==j.display&&"none"!==j.display){if("flex"===j.display){var A=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];p.each(A,function(a,b){v.setPropertyValue(y,"display",b)})}v.setPropertyValue(y,"display",j.display)}j.visibility!==d&&"hidden"!==j.visibility&&v.setPropertyValue(y,"visibility",j.visibility);for(var B in w)if("element"!==B){var C=w[B],D,E=o.isString(C.easing)?t.Easings[C.easing]:C.easing;if(1===r)D=C.endValue;else{var F=C.endValue-C.startValue;if(D=C.startValue+F*E(r,j,F),!n&&D===C.currentValue)continue}if(C.currentValue=D,"tween"===B)q=D;else{if(v.Hooks.registered[B]){var G=v.Hooks.getRoot(B),H=g(y).rootPropertyValueCache[G];H&&(C.rootPropertyValue=H)}var I=v.setPropertyValue(y,B,C.currentValue+(0===parseFloat(D)?"":C.unitType),C.rootPropertyValue,C.scrollData);v.Hooks.registered[B]&&(g(y).rootPropertyValueCache[G]=v.Normalizations.registered[G]?v.Normalizations.registered[G]("extract",null,I[1]):I[1]),"transform"===I[0]&&(z=!0)}}j.mobileHA&&g(y).transformCache.translate3d===d&&(g(y).transformCache.translate3d="(0px, 0px, 0px)",z=!0),z&&v.flushTransformCache(y)}}j.display!==d&&"none"!==j.display&&(t.State.calls[f][2].display=!1),j.visibility!==d&&"hidden"!==j.visibility&&(t.State.calls[f][2].visibility=!1),j.progress&&j.progress.call(h[1],h[1],r,Math.max(0,m+j.duration-b),m,q),1===r&&l(f)}}t.State.isTicking&&x(k)}function l(a,b){if(!t.State.calls[a])return!1;for(var c=t.State.calls[a][0],e=t.State.calls[a][1],f=t.State.calls[a][2],h=t.State.calls[a][4],i=!1,j=0,k=c.length;k>j;j++){var l=c[j].element;if(b||f.loop||("none"===f.display&&v.setPropertyValue(l,"display",f.display),"hidden"===f.visibility&&v.setPropertyValue(l,"visibility",f.visibility)),f.loop!==!0&&(p.queue(l)[1]===d||!/\.velocityQueueEntryFlag/i.test(p.queue(l)[1]))&&g(l)){g(l).isAnimating=!1,g(l).rootPropertyValueCache={};var m=!1;p.each(v.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,e=g(l).transformCache[b];g(l).transformCache[b]!==d&&(new RegExp("^\\("+c+"[^.]")).test(e)&&(m=!0,delete g(l).transformCache[b])}),f.mobileHA&&(m=!0,delete g(l).transformCache.translate3d),m&&v.flushTransformCache(l),v.Values.removeClass(l,"velocity-animating")}if(!b&&f.complete&&!f.loop&&j===k-1)try{f.complete.call(e,e)}catch(n){setTimeout(function(){throw n},1)}h&&f.loop!==!0&&h(e),g(l)&&f.loop===!0&&!b&&(p.each(g(l).tweensContainer,function(a,b){/^rotate/.test(a)&&360===parseFloat(b.endValue)&&(b.endValue=0,b.startValue=360),/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),t(l,"reverse",{loop:!0,delay:f.delay})),f.queue!==!1&&p.dequeue(l,f.queue)}t.State.calls[a]=!1;for(var o=0,q=t.State.calls.length;q>o;o++)if(t.State.calls[o]!==!1){i=!0;break}i===!1&&(t.State.isTicking=!1,delete t.State.calls,t.State.calls=[])}var m=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>4;a--){var b=c.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return d}(),n=function(){var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var c=(new Date).getTime(),d;return d=Math.max(0,16-(c-a)),a=c+d,setTimeout(function(){b(c+d)},d)}}(),o={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(
a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==d&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||b.Zepto&&b.Zepto.zepto.isZ(a))},isSVG:function(a){return b.SVGElement&&a instanceof b.SVGElement},isEmptyObject:function(a){for(var b in a)return!1;return!0}},p,q=!1;if(a.fn&&a.fn.jquery?(p=a,q=!0):p=b.Velocity.Utilities,8>=m&&!q)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=m)return void (jQuery.fn.velocity=jQuery.fn.animate);var r=400,s="swing",t={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:b.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:p,Redirects:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:r,easing:s,begin:d,complete:d,progress:d,display:d,visibility:d,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){p.data(a,"velocity",{isSVG:o.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};b.pageYOffset!==d?(t.State.scrollAnchor=b,t.State.scrollPropertyLeft="pageXOffset",t.State.scrollPropertyTop="pageYOffset"):(t.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,t.State.scrollPropertyLeft="scrollLeft",t.State.scrollPropertyTop="scrollTop");var u=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f={x:-1,v:0,tension:null,friction:null},g=[0],h=0,i=1e-4,j=.016,k,l,m;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,f.tension=a,f.friction=b,k=null!==e,k?(h=d(a,b),l=h/e*j):l=j;;)if(m=c(m||f,l),g.push(1+m.x),h+=16,!(Math.abs(m.x)>i&&Math.abs(m.v)>i))break;return k?function(a){return g[a*(g.length-1)|0]}:h}}();t.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},p.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){t.Easings[b[0]]=i.apply(null,b[1])});var v=t.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<v.Lists.colors.length;a++){var b="color"===v.Lists.colors[a]?"0 0 0 1":"255 255 255 1";v.Hooks.templates[v.Lists.colors[a]]=["Red Green Blue Alpha",b]}var c,d,e;if(m)for(c in v.Hooks.templates){d=v.Hooks.templates[c],e=d[0].split(" ");var f=d[1].match(v.RegEx.valueSplit);"Color"===e[0]&&(e.push(e.shift()),f.push(f.shift()),v.Hooks.templates[c]=[e.join(" "),f.join(" ")])}for(c in v.Hooks.templates){d=v.Hooks.templates[c],e=d[0].split(" ");for(var a in e){var g=c+e[a],h=a;v.Hooks.registered[g]=[c,h]}}},getRoot:function(a){var b=v.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return v.RegEx.valueUnwrap.test(b)&&(b=b.match(v.RegEx.valueUnwrap)[1]),v.Values.isCSSNullValue(b)&&(b=v.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=v.Hooks.registered[a];if(c){var d=c[0],e=c[1];return b=v.Hooks.cleanRootPropertyValue(d,b),b.toString().match(v.RegEx.valueSplit)[e]}return b},injectValue:function(a,b,c){var d=v.Hooks.registered[a];if(d){var e=d[0],f=d[1],g,h;return c=v.Hooks.cleanRootPropertyValue(e,c),g=c.toString().match(v.RegEx.valueSplit),g[f]=b,h=g.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d;return v.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(v.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case"inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case"name":return t.State.isFirefox?"filter":"-webkit-filter";case"extract":var d=parseFloat(c);if(!d&&0!==d){var e=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i);d=e?e[1]:0}return d;case"inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(a,b,c){if(8>=m)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return c=d?d[1]/100:1;case"inject":return b.style.zoom=1,parseFloat(c)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":return c;case"inject":return c}}},register:function(){9>=m||t.State.isGingerbread||(v.Lists.transformsBase=v.Lists.transformsBase.concat(v.Lists.transforms3D));for(var a=0;a<v.Lists.transformsBase.length;a++)!function(){var b=v.Lists.transformsBase[a];v.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return"transform";case"extract":return g(c)===d||g(c).transformCache[b]===d?/^scale/i.test(b)?1:0:g(c).transformCache[b].replace(/[()]/g,"");case"inject":var f=!1;switch(b.substr(0,b.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case"scal":case"scale":t.State.isAndroid&&g(c).transformCache[b]===d&&1>e&&(e=1),f=!/(\d)$/i.test(e);break;case"skew":f=!/(deg|\d)$/i.test(e);break;case"rotate":f=!/(deg|\d)$/i.test(e)}return f||(g(c).transformCache[b]="("+e+")"),g(c).transformCache[b]}}}();for(var a=0;a<v.Lists.colors.length;a++)!function(){var b=v.Lists.colors[a];v.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return b;case"extract":var f;if(v.RegEx.wrappedValueAlreadyExtracted.test(e))f=e;else{var g,h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(e)?g=h[e]!==d?h[e]:h.black:v.RegEx.isHex.test(e)?g="rgb("+v.Values.hexToRgb(e).join(" ")+")":/^rgba?\(/i.test(e)||(g=h.black),f=(g||e).toString().match(v.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=m||3!==f.split(" ").length||(f+=" 1"),f;case"inject":return 8>=m?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):3===e.split(" ").length&&(e+=" 1"),(8>=m?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(m||t.State.isAndroid&&!t.State.isChrome)&&(b+="|transform"),(new RegExp("^("+b+")$","i")).test(a)},prefixCheck:function(a){if(t.State.prefixMatches[a])return[t.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;d>c;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),o.isString(t.State.prefixElement.style[e]))return t.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,d;return a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d}),d=c.exec(a),d?[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){var b=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":/^(table)$/i.test(b)?"table":/^(tbody)$/i.test(b)?"table-row-group":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,c,e,f){function h(a,c){function e(){j&&v.setPropertyValue(a,"display","none")}var i=0;if(8>=m)i=p.css(a,c);else{var j=!1;if(/^(width|height)$/.test(c)&&0===v.getPropertyValue(a,"display")&&(j=!0,v.setPropertyValue(a,"display",v.Values.getDisplayType(a))),!f){if("height"===c&&"border-box"!==v.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var k=a.offsetHeight-(parseFloat(v.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(v.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(v.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(v.getPropertyValue(a,"paddingBottom"))||0);return e(),k}if("width"===c&&"border-box"!==v.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var l=a.offsetWidth-(parseFloat(v.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(v.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(v.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(v.getPropertyValue(a,"paddingRight"))||0);return e(),l}}var n;n=g(a)===d?b.getComputedStyle(a,null):g(a).computedStyle?g(a).computedStyle:g(a).computedStyle=b.getComputedStyle(a,null),"borderColor"===c&&(c="borderTopColor"),i=9===m&&"filter"===c?n.getPropertyValue(c):n[c],(""===i||null===i)&&(i=a.style[c]),e()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(c)){var o=h(a,"position");("fixed"===o||"absolute"===o&&/top|left/i.test(c))&&(i=p(a).position()[c]+"px")}return i}var i;if(v.Hooks.registered[c]){var j=c,k=v.Hooks.getRoot(j);e===d&&(e=v.getPropertyValue(a,v.Names.prefixCheck(k)[0])),v.Normalizations.registered[k]&&(e=v.Normalizations.registered[k]("extract",a,e)),i=v.Hooks.extractValue(j,e)}else if(v.Normalizations.registered[c]){var l,n;l=v.Normalizations.registered[c]("name",a),"transform"!==l&&(n=h(a,v.Names.prefixCheck(l)[0]),v.Values.isCSSNullValue(n)&&v.Hooks.templates[c]&&(n=v.Hooks.templates[c][1])),i=v.Normalizations.registered[c]("extract",a,n)}if(!/^[\d-]/.test(i))if(g(a)&&g(a).isSVG&&v.Names.SVGAttribute(c))if(/^(height|width)$/i.test(c))try{i=a.getBBox()[c]}catch(o){i=0}else i=a.getAttribute(c);else i=h(a,v.Names.prefixCheck(c)[0]);return v.Values.isCSSNullValue(i)&&(i=0),t.debug>=2&&console.log("Get "+c+": "+i),i},setPropertyValue:function(a,c,d,e,f){var h=c;if("scroll"===c)f.container?f.container["scroll"+f.direction]=d:"Left"===f.direction?b.scrollTo(d,f.alternateValue):b.scrollTo(f.alternateValue,d);else if(v.Normalizations.registered[c]&&"transform"===v.Normalizations.registered[c]("name",a))v.Normalizations.registered[c]("inject",a,d),h="transform",d=g(a).transformCache[c];else{if(v.Hooks.registered[c]){var i=c,j=v.Hooks.getRoot(c);e=e||v.getPropertyValue(a,j),d=v.Hooks.injectValue(i,d,e),c=j}if(v.Normalizations.registered[c]&&(d=v.Normalizations.registered[c]("inject",a,d),c=v.Normalizations.registered[c]("name",a)),h=v.Names.prefixCheck(c)[0],8>=m)try{a.style[h]=d}catch(k){t.debug&&console.log("Browser does not support ["+d+"] for ["+h+"]")}else g(a)&&g(a).isSVG&&v.Names.SVGAttribute(c)?a.setAttribute(c,d):a.style[h]=d;t.debug>=2&&console.log("Set "+c+" ("+h+"): "+d)}return[h,d]},flushTransformCache:function(a){function b(b){return parseFloat(v.getPropertyValue(a,b))}var c="";if((m||t.State.isAndroid&&!t.State.isChrome)&&g(a).isSVG){var d={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),b("scaleY")],rotate:[b("rotateZ"),0,0]};p.each(g(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),d[a]&&(c+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var e,f;p.each(g(a).transformCache,function(b){return e=g(a).transformCache[b],"transformPerspective"===b?(f=e,!0):(9===m&&"rotateZ"===b&&(b="rotate"),void (c+=b+e+" "))}),f&&(c="perspective"+f+" "+c)}v.setPropertyValue(a,"transform",c)}};v.Hooks.register(),v.Normalizations.register(),t.hook=function(a,b,c){var e=d;return a=f(a),p.each(a,function(a,f){if(g(f)===d&&t.init(f),c===d)e===d&&(e=t.CSS.getPropertyValue(f,b));else{var h=t.CSS.setPropertyValue(f,b,c);"transform"===h[0]&&t.CSS.flushTransformCache(f),e=h}}),e};var w=function(){function a(){return i?C.promise||null:m}function e(){function a(a){function l(a,b){var c=d,g=d,h=d;return o.isArray(a)?(c=a[0],!o.isArray(a[1])&&/^[\d-]/.test(a[1])||o.isFunction(a[1])||v.RegEx.isHex.test(a[1])?h=a[1]:(o.isString(a[1])&&!v.RegEx.isHex.test(a[1])||o.isArray(a[1]))&&(g=b?a[1]:j(a[1],f.duration),a[2]!==d&&(h=a[2]))):c=a,b||(g=g||f.easing),o.isFunction(c)&&(c=c.call(e,z,x)),o.isFunction(h)&&(h=h.call(e,z,x)),[c||0,g,h]}function m(a,b){var c,d;return d=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=v.Values.getUnitType(a)),[d,c]}function n(){var a={myParent:e.parentNode||c.body,position:v.getPropertyValue(e,"position"),fontSize:v.getPropertyValue(e,"fontSize")},d=a.position===J.lastPosition&&a.myParent===J.lastParent,f=a.fontSize===J.lastFontSize;J.lastParent=a.myParent,J.lastPosition=a.position,J.lastFontSize=a.fontSize;var h=100,i={};if(f&&d)i.emToPx=J.lastEmToPx,i.percentToPxWidth=J.lastPercentToPxWidth,i.percentToPxHeight=J.lastPercentToPxHeight;else{var j=g(e).isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div");t.init(j),a.myParent.appendChild(j),p.each(["overflow","overflowX","overflowY"],function(a,b){t.CSS.setPropertyValue(j,b,"hidden")}),t.CSS.setPropertyValue(j,"position",a.position),t.CSS.setPropertyValue(j,"fontSize",a.fontSize),t.CSS.setPropertyValue(j,"boxSizing","content-box"),p.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,b){t.CSS.setPropertyValue(j,b,h+"%")}),t.CSS.setPropertyValue(j,"paddingLeft",h+"em"),i.percentToPxWidth=J.lastPercentToPxWidth=(parseFloat(v.getPropertyValue(j,"width",null,!0))||1)/h,i.percentToPxHeight=J.lastPercentToPxHeight=(parseFloat(v.getPropertyValue(j,"height",null,!0))||1)/h,i.emToPx=J.lastEmToPx=(parseFloat(v.getPropertyValue(j,"paddingLeft"))||1)/h,a.myParent.removeChild(j)}return null===J.remToPx&&(J.remToPx=parseFloat(v.getPropertyValue(c.body,"fontSize"))||16),null===J.vwToPx&&(J.vwToPx=parseFloat(b.innerWidth)/100,J.vhToPx=parseFloat(b.innerHeight)/100),i.remToPx=J.remToPx,i.vwToPx=J.vwToPx,i.vhToPx=J.vhToPx,t.debug>=1&&console.log("Unit ratios: "+JSON.stringify(i),e),i}if(f.begin&&0===z)try{f.begin.call(q,q)}catch(r){setTimeout(function(){throw r},1)}if("scroll"===D){var w=/^x$/i.test(f.axis)?"Left":"Top",y=parseFloat(f.offset)||0,A,B,E;f.container?o.isWrapped(f.container)||o.isNode(f.container)?(f.container=f.container[0]||f.container,A=f.container["scroll"+w],E=A+p(e).position()[w.toLowerCase()]+y):f.container=null:(A=t.State.scrollAnchor[t.State["scrollProperty"+w]],B=t.State.scrollAnchor[t.State["scrollProperty"+("Left"===w?"Top":"Left")]],E=p(e).offset()[w.toLowerCase()]+y),h={scroll:{rootPropertyValue:!1,startValue:A,currentValue:A,endValue:E,unitType:"",easing:f.easing,scrollData:{container:f.container,direction:w,alternateValue:B}},element:e},t.debug&&console.log("tweensContainer (scroll): ",h.scroll,e)}else if("reverse"===D){if(!g(e).tweensContainer)return void p.dequeue(e,f.queue);"none"===g(e).opts.display&&(g(e).opts.display="auto"),"hidden"===g(e).opts.visibility&&(g(e).opts.visibility="visible"),g(e).opts.loop=!1,g(e).opts.begin=null,g(e).opts.complete=null,u.easing||delete f.easing,u.duration||delete f.duration,f=p.extend({},g(e).opts,f);var F=p.extend(!0,{},g(e).tweensContainer);for(var G in F)if("element"!==G){var H=F[G].startValue;F[G].startValue=F[G].currentValue=F[G].endValue,F[G].endValue=H,o.isEmptyObject(u)||(F[G].easing=f.easing),t.debug&&console.log("reverse tweensContainer ("+G+"): "+JSON.stringify(F[G]),e)}h=F}else if("start"===D){var F;g(e).tweensContainer&&g(e).isAnimating===!0&&(F=g(e).tweensContainer),p.each(s,function(a,b){if(RegExp("^"+v.Lists.colors.join("$|^")+"$").test(a)){var c=l(b,!0),e=c[0],f=c[1],g=c[2];if(v.RegEx.isHex.test(e)){for(var h=["Red","Green","Blue"],i=v.Values.hexToRgb(e),j=g?v.Values.hexToRgb(g):d,k=0;k<h.length;k++){var m=[i[k]];f&&m.push(f),j!==d&&m.push(j[k]),s[a+h[k]]=m}delete s[a]}}});for(var I in s){var L=l(s[I]),M=L[0],N=L[1],O=L[2];I=v.Names.camelCase(I);var Q=v.Hooks.getRoot(I),R=!1;if(g(e).isSVG||"tween"===Q||v.Names.prefixCheck(Q)[1]!==!1||v.Normalizations.registered[Q]!==d){(f.display!==d&&null!==f.display&&"none"!==f.display||f.visibility!==d&&"hidden"!==f.visibility)&&/opacity|filter/.test(I)&&!O&&0!==M&&(O=0),f._cacheValues&&F&&F[I]?(O===d&&(O=F[I].endValue+F[I].unitType),R=g(e).rootPropertyValueCache[Q]):v.Hooks.registered[I]?O===d?(R=v.getPropertyValue(e,Q),O=v.getPropertyValue(e,I,R)):R=v.Hooks.templates[Q][1]:O===d&&(O=v.getPropertyValue(e,I));var S,U,V,W=!1;if(S=m(I,O),O=S[0],V=S[1],S=m(I,M),M=S[0].replace(/^([+-\/*])=/,function(a,b){return W=b,""}),U=S[1],O=parseFloat(O)||0,M=parseFloat(M)||0,"%"===U&&(/^(fontSize|lineHeight)$/.test(I)?(M/=100,U="em"):/^scale/.test(I)?(M/=100,U=""):/(Red|Green|Blue)$/i.test(I)&&(M=M/100*255,U="")),/[\/*]/.test(W))U=V;else if(V!==U&&0!==O)if(0===M)U=V;else{i=i||n();var X=/margin|padding|left|right|width|text|word|letter/i.test(I)||/X$/.test(I)||"x"===I?"x":"y";switch(V){case"%":O*="x"===X?i.percentToPxWidth:i.percentToPxHeight;break;case"px":break;default:O*=i[V+"ToPx"]}switch(U){case"%":O*=1/("x"===X?i.percentToPxWidth:i.percentToPxHeight);break;case"px":break;default:O*=1/i[U+"ToPx"]}}switch(W){case"+":M=O+M;break;case"-":M=O-M;break;case"*":M=O*M;break;case"/":M=O/M}h[I]={rootPropertyValue:R,startValue:O,currentValue:O,endValue:M,unitType:U,easing:N},t.debug&&console.log("tweensContainer ("+I+"): "+JSON.stringify(h[I]),e)}else t.debug&&console.log("Skipping ["+Q+"] due to a lack of browser support.")}h.element=e}h.element&&(v.Values.addClass(e,"velocity-animating"),K.push(h),""===f.queue&&(g(e).tweensContainer=h,g(e).opts=f),g(e).isAnimating=!0,z===x-1?(t.State.calls.push([K,q,f,null,C.resolver]),t.State.isTicking===!1&&(t.State.isTicking=!0,k())):z++)}var e=this,f=p.extend({},t.defaults,u),h={},i;switch(g(e)===d&&t.init(e),parseFloat(f.delay)&&f.queue!==!1&&p.queue(e,f.queue,function(a){t.velocityQueueEntryFlag=!0,g(e).delayTimer={setTimeout:setTimeout(a,parseFloat(f.delay)),next:a}}),f.duration.toString().toLowerCase()){case"fast":f.duration=200;break;case"normal":f.duration=r;break;case"slow":f.duration=600;break;default:f.duration=parseFloat(f.duration)||1}t.mock!==!1&&(t.mock===!0?f.duration=f.delay=1:(f.duration*=parseFloat(t.mock)||1,f.delay*=parseFloat(t.mock)||1)),f.easing=j(f.easing,f.duration),f.begin&&!o.isFunction(f.begin)&&(f.begin=null),f.progress&&!o.isFunction(f.progress)&&(f.progress=null),f.complete&&!o.isFunction(f.complete)&&(f.complete=null),f.display!==d&&null!==f.display&&(f.display=f.display.toString().toLowerCase(),"auto"===f.display&&(f.display=t.CSS.Values.getDisplayType(e))),f.visibility!==d&&null!==f.visibility&&(f.visibility=f.visibility.toString().toLowerCase()),f.mobileHA=f.mobileHA&&t.State.isMobile&&!t.State.isGingerbread,f.queue===!1?f.delay?setTimeout(a,f.delay):a():p.queue(e,f.queue,function(b,c){return c===!0?(C.promise&&C.resolver(q),!0):(t.velocityQueueEntryFlag=!0,void a(b))}),""!==f.queue&&"fx"!==f.queue||"inprogress"===p.queue(e)[0]||p.dequeue(e)}var h=arguments[0]&&(arguments[0].p||p.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||o.isString(arguments[0].properties)),i,m,n,q,s,u;if(o.isWrapped(this)?(i=!1,n=0,q=this,m=this):(i=!0,n=1,q=h?arguments[0].elements||arguments[0].e:arguments[0]),q=f(q)){h?(s=arguments[0].properties||arguments[0].p,u=arguments[0].options||arguments[0].o):(s=arguments[n],u=arguments[n+1]);var x=q.length,z=0;if(!/^(stop|finish)$/i.test(s)&&!p.isPlainObject(u)){var A=n+1;u={};for(var B=A;B<arguments.length;B++)o.isArray(arguments[B])||!/^(fast|normal|slow)$/i.test(arguments[B])&&!/^\d/.test(arguments[B])?o.isString(arguments[B])||o.isArray(arguments[B])?u.easing=arguments[B]:o.isFunction(arguments[B])&&(u.complete=arguments[B]):u.duration=arguments[B]}var C={promise:null,resolver:null,rejecter:null};i&&t.Promise&&(C.promise=new t.Promise(function(a,b){C.resolver=a,C.rejecter=b}));var D;switch(s){case"scroll":D="scroll";break;case"reverse":D="reverse";break;case"finish":case"stop":p.each(q,function(a,b){g(b)&&g(b).delayTimer&&(clearTimeout(g(b).delayTimer.setTimeout),g(b).delayTimer.next&&g(b).delayTimer.next(),delete g(b).delayTimer)});var E=[];return p.each(t.State.calls,function(a,b){b&&p.each(b[1],function(c,e){var f=u===d?"":u;return f===!0||b[2].queue===f||u===d&&b[2].queue===!1?void p.each(q,function(c,d){d===e&&((u===!0||o.isString(u))&&(p.each(p.queue(d,o.isString(u)?u:""),function(a,b){o.isFunction(b)&&b(null,!0)}),p.queue(d,o.isString(u)?u:"",[])),"stop"===s?(g(d)&&g(d).tweensContainer&&f!==!1&&p.each(g(d).tweensContainer,function(a,b){b.endValue=b.currentValue}),E.push(a)):"finish"===s&&(b[2].duration=1))}):!0})}),"stop"===s&&(p.each(E,function(a,b){l(b,!0)}),C.promise&&C.resolver(q)),a();default:if(!p.isPlainObject(s)||o.isEmptyObject(s)){if(o.isString(s)&&t.Redirects[s]){var F=p.extend({},u),G=F.duration,H=F.delay||0;return F.backwards===!0&&(q=p.extend(!0,[],q).reverse()),p.each(q,function(a,b){parseFloat(F.stagger)?F.delay=H+parseFloat(F.stagger)*a:o.isFunction(F.stagger)&&(F.delay=H+F.stagger.call(b,a,x)),F.drag&&(F.duration=parseFloat(G)||(/^(callout|transition)/.test(s)?1e3:r),F.duration=Math.max(F.duration*(F.backwards?1-a/x:(a+1)/x),.75*F.duration,200)),t.Redirects[s].call(b,b,F||{},a,x,q,C.promise?C:d)}),a()}var I="Velocity: First argument ("+s+") was not a property map, a known action, or a registered redirect. Aborting.";return C.promise?C.rejecter(new Error(I)):console.log(I),a()}D="start"}var J={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},K=[];p.each(q,function(a,b){o.isNode(b)&&e.call(b)});var F=p.extend({},t.defaults,u),L;if(F.loop=parseInt(F.loop),L=2*F.loop-1,F.loop)for(var M=0;L>M;M++){var N={delay:F.delay,progress:F.progress};M===L-1&&(N.display=F.display,N.visibility=F.visibility,N.complete=F.complete),w(q,"reverse",N)}return a()}};t=p.extend(w,t),t.animate=w;var x=b.requestAnimationFrame||n;return t.State.isMobile||c.hidden===d||c.addEventListener("visibilitychange",function(){c.hidden?(x=function(a){return setTimeout(function(){a(!0)},16)},k()):x=b.requestAnimationFrame||n}),a.Velocity=t,a!==b&&(a.fn.velocity=w,a.fn.velocity.defaults=t.defaults),p.each(["Down","Up"],function(a,b){t.Redirects["slide"+b]=function(a,c,e,f,g,h){var i=p.extend({},c),j=i.begin,k=i.complete,l={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},m={};i.display===d&&(i.display="Down"===b?"inline"===t.CSS.Values.getDisplayType(a)?"inline-block":"block":"none"),i.begin=function(){j&&j.call(g,g);for(var c in l){m[c]=a.style[c];var d=t.CSS.getPropertyValue(a,c);l[c]="Down"===b?[d,0]:[0,d]}m.overflow=a.style.overflow,a.style.overflow="hidden"},i.complete=function(){for(var b in m)a.style[b]=m[b];k&&k.call(g,g),h&&h.resolver(g)},t(a,l,i)}}),p.each(["In","Out"],function(a,b){t.Redirects["fade"+b]=function(a,c,e,f,g,h){var i=p.extend({},c),j={opacity:"In"===b?1:0},k=i.complete;i.complete=e!==f-1?i.begin=null:function(){k&&k.call(g,g),h&&h.resolver(g)},i.display===d&&(i.display="In"===b?"auto":"none"),t(this,j,i)}}),t}(window.jQuery||window.Zepto||window,window,document)}),!function(a){var b=function(a,b,c){"use strict";var d,e;if(function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};e=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in e||(e[b]=c[b])}(),!b||!b.getElementsByClassName)return{init:function(){},cfg:e,noSupport:!0};var f=b.documentElement,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h].bind(a),k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),p[b].test(a[i]("class")||"")&&p[b]},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b)},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute("class",(a[i]("class")||"").replace(c," "))},u=function(a,b,c){var d=c?h:"removeEventListener";c&&u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,c,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=d,h.initEvent(c,!f,!g),h.detail=e,a.dispatchEvent(h),h},w=function(b,c){var d;!g&&(d=a.picturefill||e.pf)?(c&&c.src&&!b[i]("srcset")&&b.setAttribute("srcset",c.src),d({reevaluate:!0,elements:[b]})):c&&c.src&&(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){c=c||a.offsetWidth;while(c<e.minSize&&b&&!a._lazysizesWidth)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;f=d.length?e:d,a=!0,c=!1;while(b.length)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,d=0,f=e.throttleDelay,g=e.ricTimeout,h=function(){b=!1,d=c.now(),a()},i=m&&g>49?function(){m(h,{timeout:g}),g!==e.ricTimeout&&(g=e.ricTimeout)}:A(function(){k(h)},!0);return function(a){var e;if(a=a===!0)g=33;if(b)return;b=!0,e=f-(c.now()-d),e<0&&(e=0),a||e<9?i():k(i,e)}},C=function(a){var b,d,e=99,f=function(){b=null,a()},g=function(){var a=c.now()-d;a<e?k(g,e-a):(m||f)(f)};return function(){d=c.now(),b||(b=k(g,e))}},D=function(){var g,m,o,p,y,D,F,L,M,N,R,S,T=/^img$/i,W=/^iframe$/i,_="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),ba=0,bb=0,bc=0,bd=-1,be=function(a){bc--;if(!a||bc<0||!a.target)bc=0},bf=function(a){return S==null&&(S=x(b.body,"visibility")=="hidden"),S||x(a.parentNode,"visibility")!="hidden"||x(a,"visibility")!="hidden"},bg=function(a,c){var d,e=a,g=bf(a);L-=c,R+=c,M-=c,N+=c;while(g&&(e=e.offsetParent)&&e!=b.body&&e!=f)g=(x(e,"opacity")||1)>0,g&&x(e,"overflow")!="visible"&&(d=e.getBoundingClientRect(),g=N>d.left&&M<d.right&&R>d.top-1&&L<d.bottom+1);return g},bh=function(){var a,c,h,j,k,l,n,o,q,r,s,t,u=d.elements;if((p=e.loadMode)&&bc<8&&(a=u.length)){c=0,bd++;for(;c<a;c++){if(!u[c]||u[c]._lazyRace)continue;if(!_||d.prematureUnveil&&d.prematureUnveil(u[c])){bp(u[c]);continue}if(!(o=u[c][i]("data-expand"))||!(l=o*1))l=bb;r||(r=!e.expand||e.expand<1?f.clientHeight>500&&f.clientWidth>500?500:370:e.expand,d._defEx=r,s=r*e.expFactor,t=e.hFac,S=null,bb<s&&bc<1&&bd>2&&p>2&&!b.hidden?(bb=s,bd=0):p>1&&bd>1&&bc<6?bb=r:bb=ba),q!==l&&(D=innerWidth+l*t,F=innerHeight+l,n=l*-1,q=l),h=u[c].getBoundingClientRect();if((R=h.bottom)>=n&&(L=h.top)<=F&&(N=h.right)>=n*t&&(M=h.left)<=D&&(R||N||M||L)&&(e.loadHidden||bf(u[c]))&&(m&&bc<3&&!o&&(p<3||bd<4)||bg(u[c],l))){bp(u[c]),k=!0;if(bc>9)break}else!k&&m&&!j&&bc<4&&bd<4&&p>2&&(g[0]||e.preloadAfterLoad)&&(g[0]||!o&&(R||N||M||L||u[c][i](e.sizesAttr)!="auto"))&&(j=g[0]||u[c])}j&&!k&&bp(j)}},bi=B(bh),bj=function(a){var b=a.target;if(b._lazyCache){delete b._lazyCache;return}be(a),s(b,e.loadedClass),t(b,e.loadingClass),u(b,bl),v(b,"lazyloaded")},bk=A(bj),bl=function(a){bk({target:a.target})},bm=function(a,b){var c=a.getAttribute("data-load-mode")||e.iframeLoadMode;c==0?a.contentWindow.location.replace(b):c==1&&(a.src=b)},bn=function(a){var b,c=a[i](e.srcsetAttr);(b=e.customMedia[a[i]("data-media")||a[i]("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},bo=A(function(a,b,c,d,f){var g,h,j,l,m,p;(m=v(a,"lazybeforeunveil",b)).defaultPrevented||(d&&(c?s(a,e.autosizesClass):a.setAttribute("sizes",d)),h=a[i](e.srcsetAttr),g=a[i](e.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||l),m={target:a},s(a,e.loadingClass),p&&(clearTimeout(o),o=k(be,2500),u(a,bl,!0)),l&&q.call(j.getElementsByTagName("source"),bn),h?a.setAttribute("srcset",h):g&&!l&&(W.test(a.nodeName)?bm(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,e.lazyClass),z(function(){var b=a.complete&&a.naturalWidth>1;if(!p||b)b&&s(a,e.fastLoadedClass),bj(m),a._lazyCache=!0,k(function(){"_lazyCache"in a&&delete a._lazyCache},9);a.loading=="lazy"&&bc--},!0)}),bp=function(a){if(a._lazyRace)return;var b,c=T.test(a.nodeName),d=c&&(a[i](e.sizesAttr)||a[i]("sizes")),f=d=="auto";if((f||!m)&&c&&(a[i]("src")||a.srcset)&&!a.complete&&!r(a,e.errorClass)&&r(a,e.lazyClass))return;b=v(a,"lazyunveilread").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,bc++,bo(a,b,f,d,c)},bq=C(function(){e.loadMode=3,bi()}),br=function(){e.loadMode==3&&(e.loadMode=2),bq()},bs=function(){if(m)return;if(c.now()-y<999){k(bs,999);return}m=!0,e.loadMode=3,bi(),j("scroll",br,!0)};return{_:function(){y=c.now(),d.elements=b.getElementsByClassName(e.lazyClass),g=b.getElementsByClassName(e.lazyClass+" "+e.preloadClass),j("scroll",bi,!0),j("resize",bi,!0),j("pageshow",function(a){if(a.persisted){var c=b.querySelectorAll("."+e.loadingClass);c.length&&c.forEach&&l(function(){c.forEach(function(a){a.complete&&bp(a)})})}}),a.MutationObserver?(new MutationObserver(bi)).observe(f,{childList:!0,subtree:!0,attributes:!0}):(f[h]("DOMNodeInserted",bi,!0),f[h]("DOMAttrModified",bi,!0),setInterval(bi,999)),j("hashchange",bi,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(a){b[h](a,bi,!0)}),/d$|^c/.test(b.readyState)?bs():(j("load",bs),b[h]("DOMContentLoaded",bi),k(bs,2e4)),d.elements.length?(bh(),z._lsFlush()):bi()},checkElems:bi,unveil:bp,_aLSL:br}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d);if(n.test(b.nodeName||"")){e=b.getElementsByTagName("source");for(f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d)}c.detail.dataAttr||w(a,c.detail)}),d=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width,d&&d!==a._lazysizesWidth&&c(a,f,e,d)))},f=function(){var b,c=a.length;if(c){b=0;for(;b<c;b++)d(a[b])}},g=C(f);return{_:function(){a=b.getElementsByClassName(e.autosizesClass),j("resize",g)},checkElems:g,updateElem:d}}(),F=function(){!F.i&&b.getElementsByClassName&&(F.i=!0,E._(),D._())};return k(function(){e.init&&F()}),d={cfg:e,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}}(a,a.document,Date);a.lazySizes=b,"object"==typeof module&&module.exports&&(module.exports=b)}("undefined"!=typeof window?window:{}),function(a){return ColorSwitcher=a.fs.BaseView.extend({autoInitialize
:!0,className:"m-color-switcher",events:{"click .js-color-switch-trigger":"switchTheme"},switchTheme:function(b){var c=$("body"),d=$(b.currentTarget);c.attr("style",""),d.addClass("is-selected").siblings().removeClass("is-selected"),a.fs.app.helpers.clearClasses(c,"theme--"),c.addClass(d.data("themeclass")),a.fs.currentTheme=d.data("themeclass"),a.fs.vent.trigger("fs:color-change"),$.cookie("page_color",a.fs.currentTheme,{path:"/",secure:!0}),$(".m-tryout__app__color-swatcher").removeClass("is-open");if(typeof ga!="undefined"){var e=a.fs.currentTheme.replace("theme--","").replace("-bg","");ga("send","event","color-theme","change theme",e)}return!1}})}(window),function(a){$(document).on("click",".font-download-link",function(a){a.preventDefault(),$.ajax({url:"test.html",context:document.body}).done(function(){$(this).addClass("done")})})}(window),function(a){return Flash=a.fs.BaseView.extend({autoInitialize:!0,className:"o-flash",events:{click:"onClickHandler"},initialize:function(){this.show(),_.delay(_.bind(this.close,this),5e3)},onClickHandler:function(a){this.close(a)},show:function(){this.$el.height(this.$(".o-flash__message").outerHeight())},close:function(){this.$el.height(0)}})}(window),function(a){return FontFooter=a.fs.BaseView.extend({autoInitialize:!0,className:"font-footer",events:{"click .js-toggle-matrix":"toggleMatrix"},initialize:function(){},toggleMatrix:function(b){var c=$(b.currentTarget);b.preventDefault(),this.$el.toggleClass("is-showing-matrix");if(this.$el.hasClass("is-showing-matrix")){this.$(".font-footer__matrix").show().addClass("is-active"),this.loadMatrixImages(),a.fs.vent.trigger("fs:contentload");var d=this.$(".font-footer__matrix").offset().top;$("html, body").animate({scrollTop:d},a.fs.scrollDuration,function(){a.fs.vent.trigger("fs:scrollto:finished_scrolling",d)})}else this.$(".font-footer__matrix").slideUp(a.fs.scrollDuration).removeClass("is-active")},loadMatrixImages:_.once(function(){a.fs.textRenderer.renderDeferredTexts(this.$(".font-footer__matrix"))})})}(window),function(a){return FontGlyphSampler=a.fs.BaseView.extend({autoInitialize:!0,className:"m-glyph-sampler",initialize:function(){this.setEqualWidths(),a.fs.vent.on("fs:resize",_.bind(this.setEqualWidths,this))},setEqualWidths:function(){var a=this.$(".m-glyph-sampler__unit__trigger"),b=a.length-1,c=this.$el.width()/b;a.each(function(a){$(this).css("left",c*a).width(c).find(".m-glyph-sampler__unit__trigger__letter").css("left",c*a*-1)})}})}(window),function(a){return FontMatrix=a.fs.BaseView.extend({autoInitialize:!0,className:"font-matrix",$table:this.$(".font-matrix__family"),initialize:function(){this.changeTableClasses(),a.fs.vent.on("fs:resize:fast",_.bind(this.resizeEvent,this))},resizeEvent:function(){this.changeTableClasses()},changeTableClasses:function(){var b=this.getCellWidth();a.fs.app.helpers.clearClasses(this.$table,"font-matrix__family--size-"),this.$table.addClass("font-matrix__family--size-"+b),b<100?(this.$table.find(".js-text-renderer").attr("alt","R"),this.$table.addClass("font-matrix__family--letters")):(this.$table.find(".js-text-renderer").attr("alt","Rag"),this.$table.removeClass("font-matrix__family--letters")),this.$el.addClass("is-ready")},getCellWidth:function(){var a=this.getTotalColumns(),b=this.$el.parent().width()/a;return b=Math.floor(b/20)*20,b=b<40?40:b,b},getTotalColumns:function(){var a=0;return this.$(".font-matrix__family").each(function(){var b=parseInt($(this).data("columns"),10);b==0&&(b=$(this).find("tr").eq(1).find("td").length),a+=b}),a}})}(window),function(a){return FontMedia=a.fs.BaseView.extend({autoInitialize:!0,className:"media",initialize:function(){var b;this.$img=this.$el.find("img"),this.$iframe=this.$el.find("iframe"),this.$img.length>0&&(b=this.$img.data(),this.originalHeight=b.originalHeight,this.originalWidth=b.originalWidth,this.srcset=b.srcset||"",a.fs.vent.on("fs:resize",_.bind(this.resizeImg,this)),this.resizeImg()),this.$iframe.length>0&&(a.fs.vent.on("fs:resize",_.bind(this.resizeIframe,this)),this.resizeIframe())},resizeIframe:function(){this.$iframe.height(this.$iframe.width()/16*9)},resizeImg:function(){var a,b,c,d,e,f,g,h;h=this.originalWidth/this.originalHeight,e=this.calculateContentOffset(),a=Math.min(this.originalWidth,$(window).width()-e.horizontal),b=Math.min(this.originalHeight,$(window).height()-e.vertical),h>a/b?(d=a,c=d/h):(c=b,d=c*h),this.loadImage(d,c)},loadImage:function(a,b){this.$img.attr("src",this.lookupSrc(a*(window.devicePixelRatio||1),this.originalWidth)),this.$img.on("load",function(){$(this).css("width",a)})},lookupSrc:function(a,b){var c,d,e,f;f=this.srcset.split(/, ?/);for(var g in f){match=f[g].split(" "),d=match[0],e=parseFloat(match[1],10)*b;if(c===undefined||e>=a)c=d}return c},calculateContentOffset:function(){var a=[this.$el.closest(".module"),this.$el];return{horizontal:this.sumCssAttributes(a,["marginLeft","paddingLeft","paddingRight","marginRight"]),vertical:this.sumCssAttributes(a,["marginTop","paddingTop","paddingBottom","marginBottom"])}},sumCssAttributes:function(a,b){return _.reduce(b,function(b,c){return _.each(a,function(a){b+=parseInt(a.css(c),10)}),b},0)}})}(window),function(a){return FontSamples=a.fs.BaseView.extend({autoInitialize:!0,className:"m-opentype",initialize:function(){this.updateColumnsClasses(),a.fs.vent.on("fs:resize",_.bind(this.resizeEvent,this))},resizeEvent:function(){this.updateColumnsClasses()},getContainedColumns:function(a){var b=Math.floor(this.$el.width()/250)-1;return a.children(".m-opentype__feature").length<b&&(b=a.children(".m-opentype__feature").length),b},updateColumnsClasses:function(){var b=this;this.$(".m-opentype__list").each(function(){var c=b.getContainedColumns($(this));a.fs.app.helpers.clearClasses($(this),"m-opentype__list--col-"),$(this).addClass("m-opentype__list--col-"+c)})}})}(window),function(a){function b(){this._curInst=null,this._disabledFields=[],this._showingCalculator=!1,this._showingKeystrokes=!1,this._keyDefs={_0:["0",this.digit,null,"","0","0"],_1:["1",this.digit,null,"","1","1"],_2:["2",this.digit,null,"","2","2"],_3:["3",this.digit,null,"","3","3"],_4:["4",this.digit,null,"","4","4"],_5:["5",this.digit,null,"","5","5"],_6:["6",this.digit,null,"","6","6"],_7:["7",this.digit,null,"","7","7"],_8:["8",this.digit,null,"","8","8"],_9:["9",this.digit,null,"","9","9"],_A:["A",this.digit,null,"hex-digit","A","a"],_B:["B",this.digit,null,"hex-digit","B","b"],_C:["C",this.digit,null,"hex-digit","C","c"],_D:["D",this.digit,null,"hex-digit","D","d"],_E:["E",this.digit,null,"hex-digit","E","e"],_F:["F",this.digit,null,"hex-digit","F","f"],"_.":[".",this.digit,null,"decimal","DECIMAL","."],"_+":["+",this.binary,this._add,"arith add","ADD","+"],"_-":["&minus;",this.binary,this._subtract,"arith subtract","SUBTRACT","&minus;"],"_*":["&times;",this.binary,this._multiply,"arith multiply","MULTIPLY","&times;"],"_/":["/",this.binary,this._divide,"arith divide","DIVIDE","/"],"_%":["%",this.unary,this._percent,"arith percent","PERCENT","%"],"_=":["=",this.unary,this._equals,"arith equals","EQUALS","="],"+-":["±",this.unary,this._plusMinus,"arith plus-minus","PLUS_MINUS","#"],PI:["pi",this.unary,this._pi,"pi","PI","p"],"1X":["1/x",this.unary,this._inverse,"fn inverse","INV","i"],LG:["log",this.unary,this._log,"fn log","LOG","l"],LN:["ln",this.unary,this._ln,"fn ln","LN","n"],EX:["eⁿ",this.unary,this._exp,"fn exp","EXP","E"],SQ:["x²",this.unary,this._sqr,"fn sqr","SQR","@"],SR:["√",this.unary,this._sqrt,"fn sqrt","SQRT","!"],XY:["x^y",this.binary,this._power,"fn power","POWER","^"],RN:["rnd",this.unary,this._random,"random","RANDOM","?"],SN:["sin",this.unary,this._sin,"trig sin","SIN","s"],CS:["cos",this.unary,this._cos,"trig cos","COS","o"],TN:["tan",this.unary,this._tan,"trig tan","TAN","t"],AS:["asin",this.unary,this._asin,"trig asin","ASIN","S"],AC:["acos",this.unary,this._acos,"trig acos","ACOS","O"],AT:["atan",this.unary,this._atan,"trig atan","ATAN","T"],MC:["#memClear",this.unary,this._memClear,"memory mem-clear","MEM_CLEAR","x"],MR:["#memRecall",this.unary,this._memRecall,"memory mem-recall","MEM_RECALL","r"],MS:["#memStore",this.unary,this._memStore,"memory mem-store","MEM_STORE","m"],"M+":["#memAdd",this.unary,this._memAdd,"memory mem-add","MEM_ADD",">"],"M-":["#memSubtract",this.unary,this._memSubtract,"memory mem-subtract","MEM_SUBTRACT","<"],BB:["#base2",this.control,this._base2,"base base2","BASE_2","B"],BO:["#base8",this.control,this._base8,"base base8","BASE_8","C"],BD:["#base10",this.control,this._base10,"base base10","BASE_10","D"],BH:["#base16",this.control,this._base16,"base base16","BASE_16","H"],DG:["#degrees",this.control,this._degrees,"angle degrees","DEGREES","G"],RD:["#radians",this.control,this._radians,"angle radians","RADIANS","R"],BS:["#backspace",this.control,this._undo,"undo","UNDO",8,"BSp"],CE:["#clearError",this.control,this._clearError,"clear-error","CLEAR_ERROR",36,"Hom"],CA:["#clear",this.control,this._clear,"clear","CLEAR",35,"End"],"@X":["#close",this.control,this._close,"close","CLOSE",27,"Esc"],"@U":["#use",this.control,this._use,"use","USE",13,"Ent"],"@E":["#erase",this.control,this._erase,"erase","ERASE",46,"Del"],"  ":["",this.space,null,"space","SPACE"],"_ ":["",this.space,null,"half-space","HALF_SPACE"],"??":["??",this.unary,this._noOp]},this._keyCodes={},this._keyChars={};for(var b in this._keyDefs)this._keyDefs[b][4]&&(this[this._keyDefs[b][4]]=b),this._keyDefs[b][5]&&(typeof this._keyDefs[b][5]=="number"?this._keyCodes[this._keyDefs[b][5]]=b:this._keyChars[this._keyDefs[b][5]]=b);this.regional=[],this.regional[""]={decimalChar:".",buttonText:"...",buttonStatus:"Open the calculator",closeText:"Close",closeStatus:"Close the calculator",useText:"Use",useStatus:"Use the current value",eraseText:"Erase",eraseStatus:"Erase the value from the field",backspaceText:"BS",backspaceStatus:"Erase the last digit",clearErrorText:"CE",clearErrorStatus:"Erase the last number",clearText:"CA",clearStatus:"Reset the calculator",memClearText:"MC",memClearStatus:"Clear the memory",memRecallText:"MR",memRecallStatus:"Recall the value from memory",memStoreText:"MS",memStoreStatus:"Store the value in memory",memAddText:"M+",memAddStatus:"Add to memory",memSubtractText:"M-",memSubtractStatus:"Subtract from memory",base2Text:"Bin",base2Status:"Switch to binary",base8Text:"Oct",base8Status:"Switch to octal",base10Text:"Dec",base10Status:"Switch to decimal",base16Text:"Hex",base16Status:"Switch to hexadecimal",degreesText:"Deg",degreesStatus:"Switch to degrees",radiansText:"Rad",radiansStatus:"Switch to radians",isRTL:!1},this._defaults={showOn:"focus",buttonImage:"",buttonImageOnly:!1,isOperator:null,showAnim:"show",showOptions:{},duration:"normal",appendText:"",useThemeRoller:!1,calculatorClass:"",prompt:"",layout:this.standardLayout,value:0,base:10,precision:10,memoryAsCookie:!1,cookieName:"calculatorMemory",cookieExpires:86400,cookiePath:"",useDegrees:!1,constrainInput:!0,onOpen:null,onButton:null,onClose:null},a.extend(this._defaults,this.regional[""]),this.mainDiv=a('<div class="'+this._mainDivClass+'" style="display: none;"></div>').bind("click.calculator",this._focusEntry)}function d(b,d){return b=="option"&&(d.length==0||d.length==1&&typeof d[0]=="string")?!0:a.inArray(b,c)>-1}a.extend(b.prototype,{markerClassName:"hasCalculator",propertyName:"calculator",digit:"d",binary:"b",unary:"u",control:"c",space:"s",_mainDivClass:"calculator-popup",_inlineClass:"calculator-inline",_appendClass:"calculator-append",_triggerClass:"calculator-trigger",_disableClass:"calculator-disabled",_inlineEntryClass:"calculator-keyentry",_promptClass:"calculator-prompt",_resultClass:"calculator-result",_focussedClass:"calculator-focussed",_keystrokeClass:"calculator-keystroke",_rtlClass:"calculator-rtl",_rowClass:"calculator-row",_ctrlClass:"calculator-ctrl",_baseActiveClass:"calculator-base-active",_angleActiveClass:"calculator-angle-active",_digitClass:"calculator-digit",_operatorClass:"calculator-oper",_memEmptyClass:"calculator-mem-empty",_keyNameClass:"calculator-keyname",_keyDownClass:"calculator-key-down",_keyStrokeClass:"calculator-keystroke",standardLayout:["  BSCECA","_1_2_3_+@X","_4_5_6_-@U","_7_8_9_*@E","_0_._=_/"],scientificLayout:["@X@U@E  BSCECA","DGRD    _ MC_ _7_8_9_+","SNASSRLG_ MR_ _4_5_6_-","CSACSQLN_ MS_ _1_2_3_*","TNATXYEX_ M+_ _0_.+-_/","PIRN1X  _ M-_   _%_="],setDefaults:function(b){return a.extend(this._defaults,b||{}),this},addKeyDef:function(a,b,c,d,e,f,g,h){return this._keyDefs[a]=[b,typeof c=="boolean"?c?this.binary:this.unary:c,d,e,f,g,h],f&&(this[f]=a),g&&(typeof g=="number"?this._keyCodes[g]=a:this._keyChars[g]=a),this},_attachPlugin:function(b,c){var d=a(b);if(d.hasClass(this.markerClassName))return;var f=b.nodeName.toLowerCase()!="input",g=f?a('<input type="text" class="'+this._inlineEntryClass+'"/>'):d,h={options:a.extend({},this._defaults,c),_target:d,_input:g,_inline:f,memory:0,_mainDiv:f?a('<div class="'+this._inlineClass+'"></div>'):this.mainDiv};if(h.options.memoryAsCookie){var i=this._getMemoryCookie(h);i&&!isNaN(i)&&(h.memory=i)}this._connectPlugin(b,h),f?(d.append(g).append(h._mainDiv).bind("click."+e.propertyName,function(){g.focus()}),this._reset(h,"0"),this._setValue(h),this._updateCalculator(h)):d.is(":disabled")&&this._disablePlugin(b)},_connectPlugin:function(b,c){var d=a(b);if(d.hasClass(this.markerClassName))return;c.options.appendText&&d[c.options.isRTL?"before":"after"]('<span class="'+this._appendClass+'">'+c.options.appendText+"</span>");if(!c._inline){(c.options.showOn=="focus"||c.options.showOn=="both")&&d.bind("focus."+e.propertyName,this._showPlugin);if(c.options.showOn=="button"||c.options.showOn=="both"||c.options.showOn=="opbutton"){var f=a(c.options.buttonImageOnly?a("<img/>").attr({src:c.options.buttonImage,alt:c.options.buttonStatus,title:c.options.buttonStatus}):a('<button type="button" title="'+c.options.buttonStatus+'"></button>').html(c.options.buttonImage==""?c.options.buttonText:a("<img/>").attr({src:c.options.buttonImage})));d[c.options.isRTL?"before":"after"](f),f.addClass(this._triggerClass).bind("click."+e.propertyName,function(){return e._showingCalculator&&e._lastInput==b?e._hidePlugin():e._showPlugin(b),!1})}}c._input.bind("keydown."+e.propertyName,this._doKeyDown).bind("keyup."+e.propertyName,this._doKeyUp).bind("keypress."+e.propertyName,this._doKeyPress),c._inline&&(c._mainDiv.bind("keydown."+e.propertyName,this._doKeyDown).bind("keyup."+e.propertyName,this._doKeyUp).bind("keypress."+e.propertyName,this._doKeyPress),c._input.bind("focus."+e.propertyName,function(){e._isDisabledPlugin(d[0])||(c._focussed=!0,a("."+e._resultClass,c._mainDiv).addClass(e._focussedClass))}).bind("blur."+e.propertyName,function(){c._focussed=!1,a("."+e._resultClass,c._mainDiv).removeClass(e._focussedClass)})),d.addClass(this.markerClassName).bind("setData."+e.propertyName,function(a,b,d){c.options[b]=d}).bind("getData."+e.propertyName,function(a,b){return c.options[b]}).data(this.propertyName,c),c._input.data(this.propertyName,c)},_optionPlugin:function(b,c,d){b=a(b);var e=b.data(this.propertyName);if(!c||typeof c=="string"&&d==null){var f=c;return c=(e||{}).options,c&&f?c[f]:c}if(!b.hasClass(this.markerClassName))return;c=c||{};if(typeof c=="string"){var f=c;c={},c[f]=d}this._curInst==e&&this._hidePlugin(),a.extend(e.options,c),e._inline&&this._setValue(e),this._updateCalculator(e)},_destroyPlugin:function(b){b=a(b);if(!b.hasClass(this.markerClassName))return;var c=b.data(this.propertyName);c._input.unbind("."+e.propertyName).removeData(this.propertyName),b.removeClass(this.markerClassName).empty().unbind("."+e.propertyName).removeData(this.propertyName).siblings("."+this._appendClass).remove().end().siblings("."+this._triggerClass).remove().end().prev("."+this._inlineEntryClass).remove()},_enablePlugin:function(b){var c=a(b);if(!c.hasClass(this.markerClassName))return;var d=b.nodeName.toLowerCase();d=="input"?(b.disabled=!1,c.siblings("button."+this._triggerClass).each(function(){this.disabled=!1}).end().siblings("img."+this._triggerClass).css({opacity:"1.0",cursor:""})):(d=="div"||d=="span")&&c.find("."+this._inlineEntryClass+",button").prop("disabled",!1).end().children("."+this._disableClass).remove(),this._disabledFields=a.map(this._disabledFields,function(a){return a==b?null:a})},_disablePlugin:function(b){var c=a(b);if(!c.hasClass(this.markerClassName))return;var d=b.nodeName.toLowerCase();if(d=="input")b.disabled=!0,c.siblings("button."+this._triggerClass).each(function(){this.disabled=!0}).end().siblings("img."+this._triggerClass).css({opacity:"0.5",cursor:"default"});else if(d=="div"||d=="span"){var e=c.children("."+this._inlineClass),f=e.offset(),g={left:0,top:0};e.parents().each(function(){if(a(this).css("position")=="relative")return g=a(this).offset(),!1}),c.find("."+this._inlineEntryClass+",button").prop("disabled",!0),c.find("."+this._disableClass).length==0&&c.prepend('<div class="'+this._disableClass+'" style="width: '+e.outerWidth()+"px; height: "+e.outerHeight()+"px; left: "+(f.left-g.left)+"px; top: "+(f.top-g.top)+'px;"></div>')}this._disabledFields=a.map(this._disabledFields,function(a){return a==b?null:a}),this._disabledFields[this._disabledFields.length]=b},_isDisabledPlugin:function(b){return b&&a.inArray(b,this._disabledFields)>-1},_showPlugin:function(b){b=b.target||b;if(e._isDisabledPlugin(b)||e._lastInput==b)return;var c=a.data(b,e.propertyName);e._hidePlugin(null,""),e._lastInput=b,e._pos=e._findPos(b),e._pos[1]+=b.offsetHeight;var d=!1;a(b).parents().each(function(){return d|=a(this).css("position")=="fixed",!d});var f={left:e._pos[0],top:e._pos[1]};e._pos=null,c._mainDiv.css({position:"absolute",display:"block",top:"-1000px",width:"auto"}),a.isFunction(c.options.onOpen)&&c.options.onOpen.apply(c._input?c._input[0]:null,[c._inline?c.curValue:c._input.val(),c]),e._reset(c,c._input.val()),e._updateCalculator(c),f=e._checkOffset(c,f,d),c._mainDiv.css({position:d?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});var g=c.options.duration;g=g=="normal"&&a.ui&&a.ui.version>="1.8"?"_default":g;var h=function(){e._showingCalculator=!0};if(a.effects&&a.effects[c.options.showAnim]){var i=c._mainDiv.data();for(var j in i)j.match(/^ec\.storage\./)&&(i[j]=c._mainDiv.css(j.replace(/ec\.storage\./,"")));c._mainDiv.data(i).show(c.options.showAnim,c.options.showOptions,g,h)}else c._mainDiv[c.options.showAnim||"show"](c.options.showAnim?g:null,h);c.options.showAnim||h(),c._input[0].type!="hidden"&&c._input[0].focus(),e._curInst=c},_reset:function(a,b){b=""+(b||0),b=a.options.decimalChar!="."?b.replace(new RegExp(a.options.decimalChar),"."):b,a.curValue=(a.options.base==10?parseFloat(b):parseInt(b,a.options.base))||0,a.dispValue=this._setDisplay(a),a.prevValue=a._savedValue=0,a._pendingOp=a._savedOp=this._noOp,a._newValue=!0},_getMemoryCookie:function(a){var b=new RegExp("^.*"+a.options.cookieName+"=([^;]*).*$");return parseFloat(document.cookie.replace(b,"$1"))},_setMemoryCookie:function(a){if(!a.options.memoryAsCookie)return;var b=a.options.cookieExpires;if(typeof b=="number"){var c=new Date;c.setTime(c.getTime()+b*1e3),b=c.toUTCString()}else b.constructor==Date?b=c.toUTCString():b="";document.cookie=a.options.cookieName+"="+a.memory+"; expires="+b+"; path="+a.options.cookiePath},_setValue:function(a){a.curValue=a.options.value||0,a.dispValue=this._setDisplay(a)},_updateCalculator:function(a){var b=this._getBorders(a._mainDiv);a._mainDiv.html(this._generateHTML(a)).removeClass().addClass(a.options.calculatorClass+(a.options.useThemeRoller?" ui-widget ui-widget-content":"")+(a.options.isRTL?" "+e._rtlClass:"")+" "+(a._inline?this._inlineClass:this._mainDivClass)),this._isDisabledPlugin(a._target[0])&&this._disablePlugin(a._target[0]),this._curInst==a&&a._input.focus()},_getBorders:function(a){var b=function(a){return{thin:1,medium:3,thick:5}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(b,c,d){var f=b._input?this._findPos(b._input[0]):null,g=window.innerWidth||document.documentElement.clientWidth,h=window.innerHeight||document.documentElement.clientHeight,i=document.documentElement.scrollLeft||document.body.scrollLeft,j=document.documentElement.scrollTop||document.body.scrollTop,k=0;return a("."+e.propertyName+"-row",b._mainDiv).find("button:last").each(function(){k=Math.max(k,this.offsetLeft+this.offsetWidth+parseInt(a(this).css("margin-right"),10))}),b._mainDiv.css("width",k),b.options.isRTL||c.left+b._mainDiv.outerWidth()-i>g?c.left=Math.max(d?0:i,f[0]+(b._input?b._input.outerWidth():0)-(d?i:0)-b._mainDiv.outerWidth()):c.left=Math.max(d?0:i,c.left-(d?i:0)),c.top+b._mainDiv.outerHeight()-j>h?c.top=Math.max(d?0:j,f[1]-(d?j:0)-b._mainDiv.outerHeight()):c.top=Math.max(d?0:j,c.top-(d?j:0)),c},_findPos:function(b){while(b&&(b.type=="hidden"||b.nodeType!=1))b=b.nextSibling;var c=a(b).offset();return[c.left,c.top]},_hidePlugin:function(b,c){var d=this._curInst;if(!d||b&&d!=a.data(b,this.propertyName))return;this._showingCalculator&&(c=c!=null?c:d.options.duration,c=c=="normal"&&a.ui&&a.ui.version>="1.8"?"_default":c,a.effects&&a.effects[d.options.showAnim]?d._mainDiv.hide(d.options.showAnim,d.options.showOptions,c):d._mainDiv[d.options.showAnim=="slideDown"?"slideUp":d.options.showAnim=="fadeIn"?"fadeOut":"hide"](d.options.showAnim?c:null)),a.isFunction(d.options.onClose)&&d.options.onClose.apply(d._input?d._input[0]:null,[d._inline?d.curValue:d._input.val(),d]),this._showingCalculator&&(this._showingCalculator=!1,this._lastInput=null),this._curInst=null},_checkExternalClick:function(b){if(!e._curInst)return;var c=a(b.target);!c.parents().andSelf().hasClass(e._mainDivClass)&&!c.hasClass(e.markerClassName)&&!c.parents().andSelf().hasClass(e._triggerClass)&&e._showingCalculator&&e._hidePlugin()},_focusEntry:function(){e._curInst&&e._curInst._input&&e._curInst._input.focus()},_doKeyDown:function(b){var c=!1,d=a.data(b.target,e.propertyName),f=d&&d._inline?a(b.target).parent()[0]:null;if(b.keyCode==9)e.mainDiv.stop(!0,!0),e._hidePlugin(),d&&d._inline&&d._input.blur();else if(e._showingCalculator||f&&!e._isDisabledPlugin(f))if(b.keyCode==18)e._showingKeystrokes||(d._mainDiv.find("."+e._keystrokeClass).show(),e._showingKeystrokes=!0),c=!0;else{var g=e._keyCodes[b.keyCode];g&&(a('button[data-keystroke="'+g+'"]',d._mainDiv).not(":disabled").click(),c=!0)}else b.keyCode==36&&b.ctrlKey&&d&&!d._inline&&e._showPlugin(this);return c&&(b.preventDefault(),b.stopPropagation()),!c},_doKeyUp:function(b){if(e._showingKeystrokes){var c=a.data(b.target,e.propertyName);c._mainDiv.find("."+e._keystrokeClass).hide(),e._showingKeystrokes=!1}},_doKeyPress:function(b){var c=a.data(b.target,e.propertyName);if(!c)return!0;var d=c&&c._inline?a(b.target).parent()[0]:null,f=String.fromCharCode(b.charCode==undefined?b.keyCode:b.charCode),g=c.options.isOperator||e._isOperator;!e._showingCalculator&&!d&&(c.options.showOn=="operator"||c.options.showOn=="opbutton")&&g.apply(c._input,[f,b,c._input.val(),c.options.base,c.options.decimalChar])&&(e._showPlugin(this),e._showingCalculator=!0);if(e._showingCalculator||d&&!e._isDisabledPlugin(d)){var h=e._keyChars[f==c.options.decimalChar?".":f];return h&&a('button[data-keystroke="'+h+'"]',c._mainDiv).not(":disabled").click(),!1}if(f>=" "&&c.options.constrainInput){var i=new RegExp("^-?"+(c.options.base==10?"[0-9]*(\\"+c.options.decimalChar+"[0-9]*)?":"["+"0123456789abcdef".substring(0,c.options.base)+"]*")+"$");return(c._input.val()+f).toLowerCase().match(i)!=null}return!0},_isOperator:function(a,b,c,d,e){return a>" "&&(a!="-"||c!="")&&("0123456789abcdef".substr(0,d)+"."+e).indexOf(a.toLowerCase())==-1},_generateHTML:function(b){var c=(b.options.prompt?'<div class="'+this._promptClass+(b.options.useThemeRoller?" ui-widget-header ui-corner-all":"")+'">'+b.options.prompt+"</div>":"")+'<div class="'+this._resultClass+(b.options.useThemeRoller?" ui-widget-header":"")+(b._focussed?" "+this._focussedClass:"")+'"><span>'+b.dispValue+"</span></div>";for(var d=0;d<b.options.layout.length;d++){c+='<div class="'+this._rowClass+'">';for(var f=0;f<b.options.layout[d].length;f+=2){var g=b.options.layout[d].substr(f,2),h=this._keyDefs[g]||this._keyDefs["??"],i=h[0].charAt(0)=="#"?b.options[h[0].substr(1)+"Text"]:h[0],j=h[0].charAt(0)=="#"?b.options[h[0].substr(1)+"Status"]:"",k=h[3]?h[3].split(" "):[];for(var l=0;l<k.length;l++)k[l]=this.propertyName+"-"+k[l];k=k.join(" ");var m=b.options.useThemeRoller?" ui-state-active":"",n=b.options.useThemeRoller?" ui-state-highlight":"";c+=h[1]==this.space?'<span class="'+this.propertyName+"-"+h[3]+'"></span>':!b._inline||h[2]!="._close"&&h[2]!="._erase"?'<button type="button" data-keystroke="'+g+'"'+(h[1]==this.control?' class="'+this._ctrlClass+(h[0].match(/^#base/)?h[0].replace(/^#base/,"")==b.options.base?m||" "+this._baseActiveClass:n:h[0]=="#degrees"?b.options.useDegrees?m||" "+this._angleActiveClass:n:h[0]=="#radians"?b.options.useDegrees?n:m||" "+this._angleActiveClass:n):h[1]==this.digit?(parseInt(h[0],16)>=b.options.base||b.options.base!=10&&h[0]=="."?' disabled="disabled"':"")+' class="'+this._digitClass:h[1]==this.binary?' class="'+this._operatorClass:' class="'+this._operatorClass+(h[0].match(/^#mem(Clear|Recall)$/)&&!b.memory?" "+this._memEmptyClass:""))+(b.options.useThemeRoller?" ui-state-default":"")+(k?" "+k:"")+'" '+(j?'title="'+j+'"':"")+">"+(g=="_."?b.options.decimalChar:i)+(h[5]&&h[5]!=h[0]?'<span class="'+this._keystrokeClass+(b.options.useThemeRoller?" ui-state-error":"")+(h[6]?" "+this._keyNameClass:"")+'">'+(h[6]||h[5])+"</span>":"")+"</button>":""}c+="</div>"}return c+='<div style="clear: both;"></div>',c=a(c),c.find("button").bind("mouseover."+this.propertyName,function(){e._saveClasses=this.className}).bind("mousedown."+this.propertyName,function(){a(this).addClass(this._keyDownClass+(b.options.useThemeRoller?" ui-state-active":""))}).bind("mouseup."+this.propertyName,function(){a(this).removeClass().addClass(e._saveClasses)}).bind("mouseout."+this.propertyName,function(){a(this).removeClass().addClass(e._saveClasses)}).bind("click."+this.propertyName,function(){e._handleButton(b,a(this))}),c},_setDisplay:function(a){var b=(new Number(a.curValue)).toFixed(a.options.precision).valueOf(),c=b.replace(/^.+(e.+)$/,"$1").replace(/^[^e].*$/,"");return c&&(b=(new Number(b.replace(/e.+$/,""))).toFixed(a.options.precision).valueOf()),parseFloat(b.replace(/0+$/,"")+c).toString(a.options.base).toUpperCase().replace(/\./,a.options.decimalChar)},_sendButton:function(b,c){a.isFunction(b.options.onButton)&&b.options.onButton.apply(b._input?b._input[0]:null,[c,b.dispValue,b])},_handleButton:function(a,b){var c=this._keyDefs[b.data("keystroke")];if(!c)return;var d=b.text().substr(0,b.text().length-b.children("."+this._keyStrokeClass).text().length);switch(c[1]){case this.control:c[2].apply(this,[a,d]);break;case this.digit:this._digit(a,d);break;case this.binary:this._binaryOp(a,c[2],d);break;case this.unary:this._unaryOp(a,c[2],d)}(e._showingCalculator||a._inline)&&a._input.focus()},_noOp:function(a){},_digit:function(a,b){a.dispValue=a._newValue?"":a.dispValue;if(b==a.options.decimalChar&&a.dispValue.indexOf(b)>-1)return;a.dispValue=(a.dispValue+b).replace(/^0(\d)/,"$1").replace(new RegExp("^(-?)([\\."+a.options.decimalChar+"])"),"$10$2"),a.options.decimalChar!="."&&(a.dispValue=a.dispValue.replace(new RegExp("^"+a.options.decimalChar),"0."));var c=a.options.decimalChar!="."?a.dispValue.replace(new RegExp(a.options.decimalChar),"."):a.dispValue;a.curValue=a.options.base==10?parseFloat(c):parseInt(c,a.options.base),a._newValue=!1,this._sendButton(a,b),this._updateCalculator(a)},_binaryOp:function(a,b,c){!a._newValue&&a._pendingOp&&(a._pendingOp(a),a.curValue=a.options.base==10?a.curValue:Math.floor(a.curValue),a.dispValue=this._setDisplay(a)),a.prevValue=a.curValue,a._newValue=!0,a._pendingOp=b,this._sendButton(a,c),this._updateCalculator(a)},_add:function(a){a.curValue=a.prevValue+a.curValue},_subtract:function(a){a.curValue=a.prevValue-a.curValue},_multiply:function(a){a.curValue=a.prevValue*a.curValue},_divide:function(a){a.curValue=a.prevValue/a.curValue},_power:function(a){a.curValue=Math.pow(a.prevValue,a.curValue)},_unaryOp:function(a,b,c){a._newValue=!0,b.apply(this,[a]),a.curValue=a.options.base==10?a.curValue:Math.floor(a.curValue),a.dispValue=this._setDisplay(a),this._sendButton(a,c),this._updateCalculator(a)},_plusMinus:function(a){a.curValue=-1*a.curValue,a.dispValue=this._setDisplay(a),a._newValue=!1},_pi:function(a){a.curValue=Math.PI},_percent:function(a){a._pendingOp==this._add?a.curValue=a.prevValue*(1+a.curValue/100):a._pendingOp==this._subtract?a.curValue=a.prevValue*(1-a.curValue/100):a._pendingOp==this._multiply?a.curValue=a.prevValue*a.curValue/100:a._pendingOp==this._divide&&(a.curValue=a.prevValue/a.curValue*100),a._savedOp=a._pendingOp,a._pendingOp=this._noOp},_equals:function(a){a._pendingOp==this._noOp?a._savedOp!=this._noOp&&(a.prevValue=a.curValue,a.curValue=a._savedValue,a._savedOp(a)):(a._savedOp=a._pendingOp,a._savedValue=a.curValue,a._pendingOp(a),a._pendingOp=this._noOp)},_memAdd:function(a){a.memory+=a.curValue,this._setMemoryCookie(a)},_memSubtract:function(a){a.memory-=a.curValue,this._setMemoryCookie(a)},_memStore:function(a){a.memory=a.curValue,this._setMemoryCookie(a)},_memRecall:function(a){a.curValue=a.memory},_memClear:function(a){a.memory=0,this._setMemoryCookie(a)},_sin:function(a){this._trig(a,Math.sin)},_cos:function(a){this._trig(a,Math.cos)},_tan:function(a){this._trig(a,Math.tan)},_trig:function(a,b){a.curValue=b(a.curValue*(a.options.useDegrees?Math.PI/180:1))},_asin:function(a){this._atrig(a,Math.asin)},_acos:function(a){this._atrig(a,Math.acos)},_atan:function(a){this._atrig(a,Math.atan)},_atrig:function(a,b){a.curValue=b(a.curValue),a.options.useDegrees&&(a.curValue=a.curValue/Math.PI*180)},_inverse:function(a){a.curValue=1/a.curValue},_log:function(a){a.curValue=Math.log(a.curValue)/Math.log(10)},_ln:function(a){a.curValue=Math.log(a.curValue)},_exp:function(a){a.curValue=Math.exp(a.curValue)},_sqr:function(a){a.curValue*=a.curValue},_sqrt:function(a){a.curValue=Math.sqrt(a.curValue)},_random:function(a){a.curValue=Math.random()},_base2:function(a,b){this._changeBase(a,b,2)},_base8:function(a,b){this._changeBase(a,b,8)},_base10:function(a,b){this._changeBase(a,b,10)},_base16:function(a,b){this._changeBase(a,b,16)},_changeBase:function(a,b,c){a.options.base=c,a.curValue=c==10?a.curValue:Math.floor(a.curValue),a.dispValue=this._setDisplay(a),a._newValue=!0,this._sendButton(a,b),this._updateCalculator(a)},_degrees:function(a,b){this._degreesRadians(a,b,!0)},_radians:function(a,b){this._degreesRadians(a,b,!1)},_degreesRadians:function(a,b,c){a.options.useDegrees=c,this._sendButton(a,b),this._updateCalculator(a)},_undo:function(a,b){a.dispValue=a.dispValue.substr(0,a.dispValue.length-1)||"0",a.curValue=a.options.base==10?parseFloat(a.dispValue):parseInt(a.dispValue,a.options.base),this._sendButton(a,b),this._updateCalculator(a)},_clearError:function(a,b){a.dispValue="0",a.curValue=0,a._newValue=!0,this._sendButton(a,b),this._updateCalculator(a)},_clear:function(a,b){this._reset(a,0),this._sendButton(a,b),this._updateCalculator(a)},_close:function(a,b){this._finished(a,b,a._input.val())},_use:function(a,b){a._pendingOp!=this._noOp&&this._unaryOp(a,this._equals,b),this._finished(a,b,a.dispValue)},_erase:function(a,b){this._reset(a,0),this._updateCalculator(a),this._finished(a,b,"")},_finished:function(a,b,c){a._inline?this._curInst=a:a._input.val(c),this._sendButton(a,b),this._hidePlugin(a._input[0])}});var c=["isDisabled"];a.fn.calculator=function(a){var b=Array.prototype.slice.call(arguments,1);return d(a,b)?e["_"+a+"Plugin"].apply(e,[this[0]].concat(b)):this.each(function(){if(typeof a=="string"){if(!e["_"+a+"Plugin"])throw"Unknown command: "+a;e["_"+a+"Plugin"].apply(e,[this].concat(b))}else e._attachPlugin(this,a||{})})};var e=a.calculator=new b;a(function(){a("body").append(e.mainDiv).mousedown(e._checkExternalClick)})}(jQuery),function(a){return FontQuickTry=a.fs.BaseView.extend({autoInitialize:!0,className:"font-quick_try",initialize:function(){this.limitToOneCharacter(this.$(".font-quick_try__editable")),this.initCalculator();if(!Modernizr.touch){var b=this;a.fs.vent.on("fs:module:enter_screen_half",function(a){a.find(b.$el).length>0?b.activateCalculator():b.deactivateCalculator()})}},limitToOneCharacter:function(a){a.each(function(){var a=$(this).data("characterlimit");a===1&&$(this).keyup(function(a){a.which!==16&&a.which!==32&&$(this).text(String.fromCharCode(a.which))})})},initCalculator:function(){$(".js-calculator").each(function(){$(this).calculator({layout:["@U_7_8_9_/","_4_5_6_*","_1_2_3_-","@E_0_=_+"],eraseText:"C"})})},activateCalculator
:function(a){var b=this.$(".calculator-keyentry");b.length>0&&b.focus()},deactivateCalculator:function(a){var b=this.$(".calculator-keyentry");b.length>0&&b.blur()}})}(window),function(a){return FontStyles=a.fs.BaseView.extend({autoInitialize:!0,className:"js-styles",events:{"click .js-styles__slider__node":"onNodeClickChange","mouseover .js-styles__slider__node":"onNodeMouseOverChange","mouseout .js-styles__slider__node":"onNodeMouseOutChange","change .js-styles__italics-switch":"onItalicSwitchClick"},initialize:function(){this.$el.addClass("is-loading");var a=this.$el.find(".js-text-renderer-lazy-load");a.length?a.on("fs:lazyloadgroup",_.bind(this.start,this)):this.start()},start:function(){a.fs.vent.on("fs:resize",_.bind(this.resizeEvent,this)),Modernizr.touch||this.onScrollHandleSlider()},resizeEvent:function(){$.waypoints("refresh")},onScrollHandleSlider:function(){$(".js-styles").waypoint(function(){$(this).toggleClass("is-fixed")}).waypoint(function(){$(this).toggleClass("is-ending")},{offset:function(){return-($(this).outerHeight()-$(this).find(".js-styles__families").outerHeight())}})},onNodeMouseOverChange:function(a){$(a.currentTarget).hasClass("is-active")||this.$el.find(".js-styles__slider__node.is-active .js-styles__slider__tooltip").addClass("is-temp-hidden")},onNodeMouseOutChange:function(a){this.$el.find(".js-styles__slider__tooltip.is-temp-hidden").removeClass("is-temp-hidden")},onNodeClickChange:function(a){a.preventDefault(),this.toggleNodeStates(a),this.toggleWaterfallStates(a)},onItalicSwitchClick:function(a){this.toggleItalicStates(a)},toggleNodeStates:function(a){this.getActiveNodes().removeClass("is-active"),$(a.currentTarget).addClass("is-active")},toggleWaterfallStates:function(b){var c=this.$el.find(".m-styles__italics-switch");this.getActiveWaterfall().removeClass("is-active"),this.getTargetWaterfall(b).addClass("is-active"),this.getTargetWaterfall(b).hasClass("family_group--has-italics")?c.show():c.hide(),a.fs.vent.trigger("fs:contentload")},toggleItalicStates:function(b){function d(){this.$(".js-styles__waterfalls").toggleClass("italics-collapsed",!c).toggleClass("italics-expanded",c)}var c=$(b.currentTarget).prop("checked");c&&(d(),this.$(".m-styles__weight-row__samples--italics").hide()),this.$(".m-styles__weight-row__samples--italics").slideToggle(a.fs.scrollDuration,function(){c||d(),$.waypoints("refresh")}),$.cookie("styles_show_italics",c,{path:"/",secure:!0})},getActiveNodes:function(){return this.$el.find(".js-styles__slider__node.is-active")},getActiveWaterfall:function(){return this.$el.find(".js-styles__waterfall.is-active")},getTargetWaterfall:function(a){return $($(a.currentTarget).data("target"))}})}(window),function(a){return FontWaterfalls=a.fs.BaseView.extend({autoInitialize:!0,className:"m-waterfalls",events:{"change .o-pulldown__select":"onDropdownOptionChange"},initialize:function(){var a=this.$el.find(".js-text-renderer-lazy-load");this.$columnSelect=this.$(".o-pulldown__select"),a.length?a.on("fs:lazyloadgroup",_.bind(this.start,this)):this.start()},start:function(){this.isDisplayingAllWeights()},resizeEvent:function(){this.columnsVisible()},onDropdownOptionChange:function(a){this.toggleWaterfalls(a)},columnsVisible:function(){var a=this.$(".m-waterfalls__column").filter(":visible");a.length>1?this.$columnSelect.attr("disabled",!0).addClass("is-disabled"):this.$columnSelect.removeAttr("disabled").removeClass("is-disabled")},toggleWaterfalls:function(a){var b=$(a.currentTarget).find("option:selected"),c=b.data("fontclass"),d=b.data("layoutfontid"),e=b.parents(".m-waterfalls__column");typeof c!="undefined"?this.updateWebFontText(e.find(".js-font-load"),c):typeof d!="undefined"&&this.updateRenderedText(e.find(".js-text-renderer"),d)},isDisplayingAllWeights:function(){var b=this.$columnSelect.first().children().length;b===1?this.$el.addClass("has-one-column"):b===2&&(this.$el.addClass("has-two-columns"),this.columnsVisible(),a.fs.vent.on("fs:resize",_.bind(this.resizeEvent,this)))},updateWebFontText:function(b,c){a.fs.app.helpers.clearClasses(b,"webfont-"),b.addClass(c)},updateRenderedText:function(b,c){var d;b.each(function(){d=a.fs.app.helpers.updateQueryStringParameter($(this).attr("src"),"id",c),$(this).attr("src",d).data("layoutfont-id",c).addClass("§loading")})}})}(window),!function(a,b,c,d){function l(a,b){var c=Math.max(0,a[0]-b[0],b[0]-a[1]),d=Math.max(0,a[2]-b[1],b[1]-a[3]);return c+d}function m(b,c,d,e){var f=b.length,g=e?"offset":"position";d=d||0;while(f--){var h=b[f].el?b[f].el:a(b[f]),i=h[g]();i.left+=parseInt(h.css("margin-left"),10),i.top+=parseInt(h.css("margin-top"),10),c[f]=[i.left-d,i.left+h.outerWidth()+d,i.top-d,i.top+h.outerHeight()+d]}}function n(a,b){var c=b.offset();return{left:a.left-c.left,top:a.top-c.top}}function o(a,b,c){b=[b.left,b.top],c=c&&[c.left,c.top];var d,e=a.length,f=[];while(e--)d=a[e],f[e]=[e,l(d,b),c&&l(d,c)];return f=f.sort(function(a,b){return b[1]-a[1]||b[2]-a[2]||b[0]-a[0]}),f}function p(b){this.options=a.extend({},g,b),this.containers=[],this.options.rootGroup||(this.scrollProxy=a.proxy(this.scroll,this),this.dragProxy=a.proxy(this.drag,this),this.dropProxy=a.proxy(this.drop,this),this.placeholder=a(this.options.placeholder),b.isValidTarget||(this.options.isValidTarget=d))}function q(b,c){this.el=b,this.options=a.extend({},f,c),this.group=p.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var d=this.rootGroup.options.itemPath;this.target=d?this.el.find(d):this.el,this.target.on(e.start,this.handle,a.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var e,f={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},g={afterMove:function(a,b,c){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",isValidTarget:function(a,b){return!0},onCancel:function(a,b,c,d){},onDrag:function(a,b,c,d){a.css(b)},onDragStart:function(b,c,d,e){b.css({height:b.height(),width:b.width()}),b.addClass("dragged"),a("body").addClass("dragging")},onDrop:function(b,c,d,e){b.removeClass("dragged").removeAttr("style"),a("body").removeClass("dragging")},onMousedown:function(a,b,c){if(!c.target.nodeName.match(/^(input|select)$/i))return c.preventDefault(),!0},placeholder:'<li class="placeholder"/>',pullPlaceholder:!0,serialize:function(b,c,d){var e=a.extend({},b.data());return d?[c]:(c[0]&&(e.children=c),delete e.subContainers,delete e.sortable,e)},tolerance:0},h={},i=0,j={left:0,top:0,bottom:0,right:0},e={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},k="subContainers";p.get=function(a){return h[a.group]||(a.group===d&&(a.group=i++),h[a.group]=new p(a)),h[a.group]},p.prototype={dragInit:function(b,c){this.$document=a(c.el[0].ownerDocument),this.item=a(b.target).closest(this.options.itemSelector),this.itemContainer=c;if(this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,g.onMousedown,b))return;this.setPointer(b),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0},drag:function(a){if(!this.dragging){if(!this.distanceMet(a)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,g.onDragStart,a),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(a),this.options.onDrag(this.item,n(this.pointer,this.item.offsetParent()),g.onDrag,a);var b=a.pageX||a.originalEvent.pageX,c=a.pageY||a.originalEvent.pageY,d=this.sameResultBox,e=this.options.tolerance;if(!d||d.top-e>c||d.bottom+e<c||d.left-e>b||d.right+e<b)this.searchValidTarget()||this.placeholder.detach()},drop:function(a){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,g.onCancel,a),this.options.onDrop(this.item,this.getContainer(this.item),g.onDrop,a),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=d,this.dragging=!1)},searchValidTarget:function(a,b){a||(a=this.relativePointer||this.pointer,b=this.lastRelativePointer||this.lastPointer);var c=o(this.getContainerDimensions(),a,b),e=c.length;while(e--){var f=c[e][0],g=c[e][1];if(!g||this.options.pullPlaceholder){var h=this.containers[f];if(!h.disabled){if(!this.$getOffsetParent()){var i=h.getItemOffsetParent();a=n(a,i),b=n(b,i)}if(h.searchValidTarget(a,b))return!0}}}this.sameResultBox&&(this.sameResultBox=d)},movePlaceholder:function(a,b,c,d){var e=this.lastAppendedItem;if(!d&&e&&e[0]===b[0])return;b[c](this.placeholder),this.lastAppendedItem=b,this.sameResultBox=d,this.options.afterMove(this.placeholder,a,b)},getContainerDimensions:function(){return this.containerDimensions||m(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(a){return a.closest(this.options.containerSelector).data(c)},$getOffsetParent:function(){if(this.offsetParent===d){var a=this.containers.length-1,b=this.containers[a].getItemOffsetParent();if(!this.options.rootGroup)while(a--)if(b[0]!=this.containers[a].getItemOffsetParent()[0]){b=!1;break}this.offsetParent=b}return this.offsetParent},setPointer:function(a){var b=this.getPointer(a);if(this.$getOffsetParent()){var c=n(b,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=c}this.lastPointer=this.pointer,this.pointer=b},distanceMet:function(a){var b=this.getPointer(a);return Math.max(Math.abs(this.pointer.left-b.left),Math.abs(this.pointer.top-b.top))>=this.options.distance},getPointer:function(a){return{left:a.pageX||a.originalEvent.pageX,top:a.pageY||a.originalEvent.pageY}},setupDelayTimer:function(){var a=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){a.delayMet=!0},this.options.delay))},scroll:function(a){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(b){var c=this,d=["drag","drop","scroll"];a.each(d,function(a,d){c.$document[b](e[d],c[d+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=d},clearDimensions:function(){this.traverse(function(a){a._clearDimensions()})},traverse:function(a){a(this);var b=this.containers.length;while(b--)this.containers[b].traverse(a)},_clearDimensions:function(){this.containerDimensions=d},_destroy:function(){h[this.options.group]=d}},q.prototype={dragInit:function(a){var b=this.rootGroup;!this.disabled&&!b.dragInitDone&&this.options.drag&&this.isValidDrag(a)&&b.dragInit(a,this)},isValidDrag:function(a){return a.which==1||a.type=="touchstart"&&a.originalEvent.touches.length==1},searchValidTarget:function(a,b){var c=o(this.getItemDimensions(),a,b),d=c.length,e=this.rootGroup,f=!e.options.isValidTarget||e.options.isValidTarget(e.item,this);if(!d&&f)return e.movePlaceholder(this,this.target,"append"),!0;while(d--){var g=c[d][0],h=c[d][1];if(!h&&this.hasChildGroup(g)){var i=this.getContainerGroup(g).searchValidTarget(a,b);if(i)return!0}else if(f)return this.movePlaceholder(g,a),!0}},movePlaceholder:function(b,c){var d=a(this.items[b]),e=this.itemDimensions[b],f="after",g=d.outerWidth(),h=d.outerHeight(),i=d.offset(),k={left:i.left,right:i.left+g,top:i.top,bottom:i.top+h};if(this.options.vertical){var l=(e[2]+e[3])/2,m=c.top<=l;m?(f="before",k.bottom-=h/2):k.top+=h/2}else{var n=(e[0]+e[1])/2,o=c.left<=n;o?(f="before",k.right-=g/2):k.left+=g/2}this.hasChildGroup(b)&&(k=j),this.rootGroup.movePlaceholder(this,d,f,k)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(.placeholder, .dragged)").get(),m(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var a,b=this.el;return b.css("position")==="relative"||b.css("position")==="absolute"||b.css("position")==="fixed"?a=b:a=b.offsetParent(),a},hasChildGroup:function(a){return this.options.nested&&this.getContainerGroup(a)},getContainerGroup:function(b){var e=a.data(this.items[b],k);if(e===d){var f=this.$getChildren(this.items[b],"container");e=!1;if(f[0]){var g=a.extend({},this.options,{rootGroup:this.rootGroup,group:i++});e=f[c](g).data(c).group}a.data(this.items[b],k,e)}return e},$getChildren:function(b,c){var d=this.rootGroup.options,e=d[c+"Path"],f=d[c+"Selector"];return b=a(b),e&&(b=b.find(e)),b.children(f)},_serialize:function(b,c){var d=this,e=c?"item":"container",f=this.$getChildren(b,e).not(this.options.exclude).map(function(){return d._serialize(a(this),!c)}).get();return this.rootGroup.options.serialize(b,f,c)},traverse:function(b){a.each(this.items||[],function(c){var d=a.data(this,k);d&&d.traverse(b)}),b(this)},_clearDimensions:function(){this.itemDimensions=d},_destroy:function(){var b=this;this.target.off(e.start,this.handle),this.el.removeData(c),this.options.drop&&(this.group.containers=a.grep(this.group.containers,function(a){return a!=b})),a.each(this.items||[],function(){a.removeData(this,k)})}};var r={enable:function(){this.traverse(function(a){a.disabled=!1})},disable:function(){this.traverse(function(a){a.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(a){a._clearDimensions()})},destroy:function(){this.traverse(function(a){a._destroy()})}};a.extend(q.prototype,r),a.fn[c]=function(b){var e=Array.prototype.slice.call(arguments,1);return this.map(function(){var f=a(this),g=f.data(c);return g&&r[b]?r[b].apply(g,e)||this:(!g&&(b===d||typeof b=="object")&&f.data(c,new q(f,b)),this)})}}(jQuery,window,"sortable"),function(){function log(){typeof console!="undefined"&&typeof console.log=="function"&&(Array.prototype.unshift.call(arguments,"[Ajax Upload]"),console.log(Array.prototype.join.call(arguments," ")))}function addEvent(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,function(){c.call(a)});else throw new Error("not supported or DOM not loaded")}function addResizeEvent(a){var b;addEvent(window,"resize",function(){b&&clearTimeout(b),b=setTimeout(a,100)})}function getBox(a){var b,c,d,e,f=getOffset(a);return b=f.left,d=f.top,c=b+a.offsetWidth,e=d+a.offsetHeight,{left:b,right:c,top:d,bottom:e}}function addStyles(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])}function copyLayout(a,b){var c=getBox(a);addStyles(b,{position:"absolute",left:c.left+"px",top:c.top+"px",width:a.offsetWidth+"px",height:a.offsetHeight+"px"})}function fileFromPath(a){return a.replace(/.*(\/|\\)/,"")}function getExt(a){return-1!==a.indexOf(".")?a.replace(/.*[.]/,""):""}function hasClass(a,b){var c=new RegExp("\\b"+b+"\\b");return c.test(a.className)}function addClass(a,b){hasClass(a,b)||(a.className+=" "+b)}function removeClass(a,b){var c=new RegExp("\\b"+b+"\\b");a.className=a.className.replace(c,"")}function removeNode(a){a.parentNode.removeChild(a)}if(document.documentElement.getBoundingClientRect)var getOffset=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,h=1;if(d.getBoundingClientRect){var i=d.getBoundingClientRect();h=(i.right-i.left)/d.clientWidth}h>1&&(f=0,g=0);var j=b.top/h+(window.pageYOffset||e&&e.scrollTop/h||d.scrollTop/h)-f,k=b.left/h+(window.pageXOffset||e&&e.scrollLeft/h||d.scrollLeft/h)-g;return{top:j,left:k}};else var getOffset=function(a){var b=0,c=0;do b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent;while(a);return{left:c,top:b}};var toElement=function(){var a=document.createElement("div");return function(b){a.innerHTML=b;var c=a.firstChild;return a.removeChild(c)}}(),getUID=function(){var a=0;return function(){return"ValumsAjaxUpload"+a++}}();window.AjaxUpload=function(a,b){this._settings={action:"upload.php",name:"userfile",data:{},autoSubmit:!0,responseType:!1,hoverClass:"hover",disabledClass:"disabled",onChange:function(a,b){},onSubmit:function(a,b){},onComplete:function(a,b){}};for(var c in b)b.hasOwnProperty(c)&&(this._settings[c]=b[c]);a.jquery?a=a[0]:typeof a=="string"&&(/^#.*/.test(a)&&(a=a.slice(1)),a=document.getElementById(a));if(!a||a.nodeType!==1)throw new Error("Please make sure that you're passing a valid element");a.nodeName.toUpperCase()=="A"&&addEvent(a,"click",function(a){a&&a.preventDefault?a.preventDefault():window.event&&(window.event.returnValue=!1)}),this._button=a,this._input=null,this._disabled=!1,this.enable(),this._rerouteClicks()},AjaxUpload.prototype={setData:function(a){this._settings.data=a},disable:function(){addClass(this._button,this._settings.disabledClass),this._disabled=!0;var a=this._button.nodeName.toUpperCase();(a=="INPUT"||a=="BUTTON")&&this._button.setAttribute("disabled","disabled"),this._input&&(this._input.parentNode.style.visibility="hidden")},enable:function(){removeClass(this._button,this._settings.disabledClass),this._button.removeAttribute("disabled"),this._disabled=!1},_createInput:function(){var a=this,b=document.createElement("input");b.setAttribute("type","file"),b.setAttribute("name",this._settings.name),addStyles(b,{position:"absolute",right:0,margin:0,padding:0,fontSize:"480px",cursor:"pointer"});var c=document.createElement("div");addStyles(c,{display:"block",position:"absolute",overflow:"hidden",margin:0,padding:0,opacity:0,direction:"ltr",zIndex:2147483583});if(c.style.opacity!=="0"){if(typeof c.filters=="undefined")throw new Error("Opacity not supported by the browser");c.style.filter="alpha(opacity=0)"}addEvent(b,"change",function(){if(!b||b.value==="")return;var c=fileFromPath(b.value);if(!1===a._settings.onChange.call(a,c,getExt(c))){a._clearInput();return}a._settings.autoSubmit&&a.submit()}),addEvent(b,"mouseover",function(){addClass(a._button,a._settings.hoverClass)}),addEvent(b,"mouseout",function(){removeClass(a._button,a._settings.hoverClass),b.parentNode.style.visibility="hidden"}),c.appendChild(b),document.body.appendChild(c),this._input=b},_clearInput:function(){if(!this._input)return;removeNode(this._input.parentNode),this._input=null,this._createInput(),removeClass(this._button,this._settings.hoverClass)},_rerouteClicks:function(){var a=this;addEvent(a._button,"mouseover",function(){if(a._disabled)return;a._input||a._createInput();var b=a._input.parentNode;copyLayout(a._button,b),b.style.visibility="visible"})},_createIframe:function(){var a=getUID(),b=toElement('<iframe src="javascript:false;" name="'+a+'" />');return b.setAttribute("id",a),b.style.display="none",document.body.appendChild(b),b},_createForm:function(a){var b=this._settings,c=toElement('<form method="post" enctype="multipart/form-data"></form>');c.setAttribute("action",b.action),c.setAttribute("target",a.name),c.style.display="none",document.body.appendChild(c);for(var d in b.data)if(b.data.hasOwnProperty(d)){var e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",d),e.setAttribute("value",b.data[d]),c.appendChild(e)}return c},_getResponse:function(iframe,file){var toDeleteFlag=!1,self=this,settings=this._settings;addEvent(iframe,"load",function(){if(iframe.src=="javascript:'%3Chtml%3E%3C/html%3E';"||iframe.src=="javascript:'<html></html>';"){toDeleteFlag&&setTimeout(function(){removeNode(iframe)},0);return}var doc=iframe.contentDocument?iframe.contentDocument:window.frames[iframe.id].document;if(doc.readyState&&doc.readyState!="complete")return;if(doc.body&&doc.body.innerHTML=="false")return;var response;doc.XMLDocument?response=doc.XMLDocument:doc.body?(response=doc.body.innerHTML,settings.responseType&&settings.responseType.toLowerCase()=="json"&&(doc.body.firstChild&&doc.body.firstChild.nodeName.toUpperCase()=="PRE"&&(response=doc.body.firstChild.firstChild.nodeValue),response?response=eval("("+response+")"):response={})):response=doc,settings.onComplete.call(self,file,response),toDeleteFlag=!0,iframe.src="javascript:'<html></html>';"})},submit:function(){var a=this,b=this._settings;if(!this._input||this._input.value==="")return;var c=fileFromPath(this._input.value);if(!1===b.onSubmit.call(this,c,getExt(c))){this._clearInput();return}var d=this._createIframe(),e=this._createForm(d);removeNode(this._input.parentNode),removeClass(a._button,a._settings.hoverClass),e.appendChild(this._input),e.submit(),removeNode(e),e=null,removeNode(this._input),this._input=null,this._getResponse(d,c),this._createInput()}}}(),function(a){return FontListEdit=a.fs.BaseView.extend({autoInitialize:!0,className:"js-fontlist-edit",hasEdited:!1,events:{"click .js-fontlist-edit__family__remove":"removeFamily","click .js-fontlist-edit__comment":"toggleComment","submit form":"onSaveHandler","keyup textarea, input":"handleEditedFlag"},initialize:function(){$(window).on("beforeunload",_.bind(this.onUnload,this)),a.fs.vent.on("fs:sortable:drop",_.bind(this.handleEditedFlag,this))},confirmMessage:"You may lose your editing changes.",onUnload:function(a){if(this.hasEdited)return a.preventDefault(),this.confirmMessage},onSaveHandler:function(){$(window).off("beforeunload")},handleEditedFlag:function(){this.hasEdited=!0},toggleComment:function(a){var b=$(a.currentTarget).parents(".js-fontlist-edit__family");b.hasClass("o-type-linear-editable--comment-active")?b.removeClass("o-type-linear-editable--comment-active").find(".o-type-linear-editable__comment-wrapper").slideUp(300,function(){$(this).css("height","")}):(b.siblings().removeClass("o-type-linear-editable--comment-active").find(".o-type-linear-editable__comment-wrapper").slideUp(300,function(){$(this).css("height","")}),b.addClass("o-type-linear-editable--comment-active").find(".o-type-linear-editable__comment-wrapper").hide().css("height","auto").slideDown(300),b.find("textarea").focus())},removeFamily:function(b){var c=$(b.currentTarget).parents(".js-fontlist-edit__family"),d=this;c.slideUp(a.fs.animationDuration,function(){$(this).remove(),d.checkIfEmpty()}),b.preventDefault()},checkIfEmpty:function(){this.$(".js-fontlist-edit__family").length==0&&this.$(".l-fontlist-edit__families").slideUp(a.fs.animationDuration)}})}(window),function(a){return FormValidate=a.fs.BaseView.extend({autoInitialize:!0,className:"js-validate",initialize:function(){this.setConfig(),this.bindValidator()},setConfig:function(){var b=this;$.ketchup.createErrorContainer(function(a,c){return $("<div/>",{"class":"o-error "+b.getErrorPosition(c)}).insertAfter(c)}).addErrorMessages(function(a,b,c,d){c.html("");for(i=0;i<d.length;i++)$("<div/>",{"class":"o-error__row",text:d[i]}).appendTo(c)}).showErrorContainer(function(b,c,d){$(c).addClass("is-error"),d.fadeIn(a.fs.scrollDuration)}).hideErrorContainer(function(b,c,d){$(c).removeClass("is-error"),d.fadeOut(a.fs.scrollDuration)}).validation("email-trim-whitespace","Must be a valid E-Mail.",function(a,b,c){return c.length==0?!0:this.isEmail(c.trim())}).validation("url_short",window.dict.enter_valid_url,function(a,b,c){return c.length==0?!0:/^([a-z][a-z0-9\*\-\.]*):\/\/(?:(?:(?:[\w\.\-\+!$&'\(\)*\+,;=]|%[0-9a-f]{2})+:)*(?:[\w\.\-\+%!$&'\(\)*\+,;=]|%[0-9a-f]{2})+@)?(?:(?:[a-z0-9\-\.]|%[0-9a-f]{2})+|(?:\[(?:[0-9a-f]{0,4}:)*(?:[0-9a-f]{0,4})\]))(?::[0-9]+)?(?:[\/|\?](?:[\w#!:\.\?\+=&@!$'~*,;\/\(\)\[\]\-]|%[0-9a-f]{2})*)?$/i.test(c)||/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(c)}).validation("required-if-visible",window.dict.empty_name,function(a,b,c){if(b!=undefined){if(!b.is(":visible"))return!0;var d=b.attr("type")==undefined?"":b.attr("type").toLowerCase();return d=="checkbox"||d=="radio"?b.attr("checked")==1:c.length!=0}console.log("form-validation.js: el is undefined")})},bindValidator:function(){var a=this.$el.hasClass("js-validate--in-keyup")?"keyup blur submit":"submit";this.$el.ketchup({validateEvents:a})},getErrorPosition:function(a){var b=$(a);return b.data("errorposition")=="right"?"o-error--right":"o-error--left"}})}(window),function(a){return FoundryPage=a.fs.BaseView.extend({autoInitialize:!0,className:"l-foundry-page",initialize:function(){$(".m-cover").each(function(){new a.fs.Modules.Cover({el:$(this)})})}})}(window),function(a){return HintingButton=a.fs.BaseView.extend({autoInitialize:!0,className:"js-hinting-button",buyBtnHintClicksRemaining:$.cookie("button-hinting-clicks")||3,events:{click:"onClickHandler"},initialize:function(){var a=this;$(document).click(function(b){a.onDocumentClickHandler.apply(a,[b])})},onDocumentClickHandler:function(a){this.hideRedirectHint(a)},onClickHandler:function(a){this.showRedirectHint(a)},showRedirectHint:function(a){this.buyBtnHintClicksRemaining>0&&!this.$el.hasClass("is-active")?(this.$el.addClass("is-active"),this.buyBtnHintClicksRemaining--,$.cookie("button-hinting-clicks",this.buyBtnHintClicksRemaining,{secure:!0}),a.preventDefault()):(this.$el.removeClass("is-active"),ga("send","pageview"))},hideRedirectHint:function(a){var b=$(a.target),c=b.hasClass("m-hinting-button")||b.parents().hasClass("m-hinting-button");c||this.$el.removeClass("is-active")}})}(window),function(a){return Homepage=a.fs.BaseView.extend({autoInitialize:!0,className:"js-logo-change",initialize:function(){this.emitLogoEvents(),a.fs.vent.on("fs:resize-stop",_.bind(this.emitLogoEvents,this))},emitLogoEvents:function(){$(".js-logo-change").each(function(){var b=parseInt($(this).data("waypointsoffset"),10)+50||50;$(this).waypoint(function(b){b=="down"&&a.fs.vent.trigger("fs:logo:change_color",$(this).data("logovariation"),b)},{offset:b}).waypoint(function(b){b=="up"&&a.fs.vent.trigger("fs:logo:change_color",$(this).data("logovariation"),b)},{offset:b-$(this).outerHeight()})})}})}(window),function(b){return ImageUploader=b.fs.BaseView.extend({autoInitialize:!0,className:"js-image-uploader",events:{"click .o-image-uploader__remove-image":"removeImage"},initialize:function(){a=new AjaxUpload(this.$(".js-image-uploader__area"),{action:"/images/preview",name:"image[attachment]",responseType:"json",data:{image_type:this.$(".o-image-uploader__image-type").val()},onSubmit:_.bind(this.onUploadStart,this),onComplete:_.bind(this.onUploadFinish,this),onError:_.bind(this.onUploadError,this)}),this.$removeImageId=this.$(".o-image-uploader__remove-image-id"),this.$imageIdInput=this.$(".o-image-uploader__image-id"),this.$imageIdInput.on("change",_.bind(this.onImageChange,this)),this.$imagePreviewImg=this.$(".o-image-uploader__preview__img"),this.$imagePreviewImg.on("load",_.bind(this.onPreviewLoaded,this)),this.$(".o-image-uploader__preview img").attr("src")!=undefined&&this.setState("has-image"),this.$el.data("showOnPreview")&&(this.$showOnPreview=$(this.$el.data("showOnPreview")),this.$showOnPreview.hide()),this.setTrigger()},setTrigger:function(){$(".js-trigger-nearest-cancel").each(function(){$(this).on("click",function(a){a.preventDefault(),$(this).parents("form").find(".o-image-uploader__remove-image").trigger("click")})}),$(".js-trigger-uploader-legal--confirm").each(function(){$(this).on("click",function(a){var c=$(".js-image-uploader-legal--check"),d=c.find(".legal-error");if(!c.is(":visible"))return;c.find("input[type=checkbox]").is(":checked")?(d.hasClass("_has-error")&&d.hide().removeClass("_has-error").removeAttr("style"),b.fs.vent.trigger("fs:image-upload:accepted")):(a.preventDefault(),b.fs.vent.trigger("fs:image-upload:denied"),d.hasClass("_has-error")||d.slideDown(function(){d.addClass("_has-error").removeAttr("style")}))})})},onUploadStart:function(a,c){var d=["jpg","jpeg","gif","png"],e=c.toLowerCase();if(d.indexOf(e)==-1)return $("#image-invalid-format").css("display","block"),!1;$("#image-invalid-format").css("display","none"),this.$(".o-image-uploader__preview img").removeAttr("src"),this.setState("is-uploading"),b.fs.vent.trigger("fs:update:masonry"),this.$imageIdInput.change()},onUploadFinish:function(a,c){console.log("onComplete",arguments),this.$(".o-image-uploader__preview img").attr("src",c.attachment.url),this.$(".js-url-value").val(c.attachment.url).trigger("change"),this.$removeImageId.val(""),this.$imageIdInput.val(c.id).change(),this.toggleLegal("show"),b.fs.vent.trigger("fs:update:masonry"),b.fs.vent.trigger("fs:image-uploader:uploaded",c)},onUploadError:function(a,b,c){console.log("onError",arguments),this.setState("")},onImageChange:function(a){this.$imageIdInput.val()!=""&&(this.setState("has-image"),this.$showOnPreview&&(this.$showOnPreview.show(),b.fs.vent.trigger("fs:update:masonry")))},onPreviewLoaded:function(a){console.log("onPreviewLoaded",arguments),b.fs.vent.trigger("fs:update:masonry")},setState:function(a){this.$el.removeClass("has-image").removeClass("is-uploading").addClass(a)},removeImage:function(a){a.preventDefault(),this.setState(""),this.$removeImageId.val(this.$imageIdInput.val()),this.$imageIdInput.val("").change(),this.$(".js-url-value").val("").trigger("change"),this.toggleLegal("hide"),b.fs.vent.trigger("fs:update:masonry"),b.fs.vent.trigger("fs:image-uploader:uploaded"),this.$el.data("showOnPreview")&&(this.$showOnPreview=$(this.$el.data("showOnPreview")),this.$showOnPreview.hide())},toggleLegal:function(a){var b=$(".js-image-uploader-legal--check");b.length>0&&(a==="show"&&b.show(),a==="hide"&&b.hide())}})}(window),function(a,b,c){"use strict",b.infinitescroll=function(a,c,d){this.element=b(d),this._create(a,c)||(this.failed=!0)},b.infinitescroll.defaults={loading:{finished:c,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,R0lGODlh3AATAPQeAPDy+MnQ6LW/4N3h8MzT6rjC4sTM5r/I5NHX7N7j8c7U6tvg8OLl8uXo9Ojr9b3G5MfP6Ovu9tPZ7PT1+vX2+tbb7vf4+8/W69jd7rC73vn5/O/x+K243ai02////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA3AATAAAF/6AnjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEj0BAScpHLJbDqf0Kh0Sq1ar9isdioItAKGw+MAKYMFhbF63CW438f0mg1R2O8EuXj/aOPtaHx7fn96goR4hmuId4qDdX95c4+RBIGCB4yAjpmQhZN0YGYGXitdZBIVGAsLoq4BBKQDswm1CQRkcG6ytrYKubq8vbfAcMK9v7q7EMO1ycrHvsW6zcTKsczNz8HZw9vG3cjTsMIYqQkCLBwHCgsMDQ4RDAYIqfYSFxDxEfz88/X38Onr16+Bp4ADCco7eC8hQYMAEe57yNCew4IVBU7EGNDiRn8Z831cGLHhSIgdFf9chIeBg7oA7gjaWUWTVQAGE3LqBDCTlc9WOHfm7PkTqNCh54rePDqB6M+lR536hCpUqs2gVZM+xbrTqtGoWqdy1emValeXKzggYBBB5y1acFNZmEvXAoN2cGfJrTv3bl69Ffj2xZt3L1+/fw3XRVw4sGDGcR0fJhxZsF3KtBTThZxZ8mLMgC3fRatCbYMNFCzwLEqLgE4NsDWs/tvqdezZf13Hvk2A9Szdu2X3pg18N+68xXn7rh1c+PLksI/Dhe6cuO3ow3NfV92bdArTqC2Ebd3A8vjf5QWfH6Bg7Nz17c2fj69+fnq+8N2Lty+fuP78/eV2X13neIcCeBRwxorbZrA1ANoCDGrgoG8RTshahQ9iSKEEzUmYIYfNWViUhheCGJyIP5E4oom7WWjgCeBFAJNv1DVV01MAdJhhjdkplWNzO/5oXI846njjVEIqR2OS2B1pE5PVscajkxhMycqLJghQSwT40PgfAl4GqNSXYdZXJn5gSkmmmmJu1aZYb14V51do+pTOCmA40AqVCIhG5IJ9PvYnhIFOxmdqhpaI6GeHCtpooisuutmg+Eg62KOMKuqoTaXgicQWoIYq6qiklmoqFV0UoeqqrLbq6quwxirrrLTWauutJ4QAACH5BAUKABwALAcABADOAAsAAAX/IPd0D2dyRCoUp/k8gpHOKtseR9yiSmGbuBykler9XLAhkbDavXTL5k2oqFqNOxzUZPU5YYZd1XsD72rZpBjbeh52mSNnMSC8lwblKZGwi+0QfIJ8CncnCoCDgoVnBHmKfByGJimPkIwtiAeBkH6ZHJaKmCeVnKKTHIihg5KNq4uoqmEtcRUtEREMBggtEr4QDrjCuRC8h7/BwxENeicSF8DKy82pyNLMOxzWygzFmdvD2L3P0dze4+Xh1Arkyepi7dfFvvTtLQkZBC0T/FX3CRgCMOBHsJ+EHYQY7OinAGECgQsB+Lu3AOK+CewcWjwxQeJBihtNGHSoQOE+iQ3//4XkwBBhRZMcUS6YSXOAwIL8PGqEaSJCiYt9SNoCmnJPAgUVLChdaoFBURN8MAzl2PQphwQLfDFd6lTowglHve6rKpbjhK7/pG5VinZP1qkiz1rl4+tr2LRwWU64cFEihwEtZgbgR1UiHaMVvxpOSwBA37kzGz9e8G+B5MIEKLutOGEsAH2ATQwYfTmuX8aETWdGPZmiZcccNSzeTCA1Sw0bdiitC7LBWgu8jQr8HRzqgpK6gX88QbrB14z/kF+ELpwB8eVQj/JkqdylAudji/+ts3039vEEfK8Vz2dlvxZKG0CmbkKDBvllRd6fCzDvBLKBDSCeffhRJEFebFk1k/Mv9jVIoIJZSeBggwUaNeB+Qk34IE0cXlihcfRxkOAJFFhwGmKlmWDiakZhUJtnLBpnWWcnKaAZcxI0piFGGLBm1mc90kajSCveeBVWKeYEoU2wqeaQi0PetoE+rr14EpVC7oAbAUHqhYExbn2XHHsVqbcVew9tx8+XJKk5AZsqqdlddGpqAKdbAYBn1pcczmSTdWvdmZ17c1b3FZ99vnTdCRFM8OEcAhLwm1NdXnWcBBSMRWmfkWZqVlsmLIiAp/o1gGV2vpS4lalGYsUOqXrddcKCmK61aZ8SjEpUpVFVoCpTj4r661Km7kBHjrDyc1RAIQAAIfkEBQoAGwAsBwAEAM4ACwAABf/gtmUCd4goQQgFKj6PYKi0yrrbc8i4ohQt12EHcal+MNSQiCP8gigdz7iCioaCIvUmZLp8QBzW0EN2vSlCuDtFKaq4RyHzQLEKZNdiQDhRDVooCwkbfm59EAmKi4SGIm+AjIsKjhsqB4mSjT2IOIOUnICeCaB/mZKFNTSRmqVpmJqklSqskq6PfYYCDwYHDC4REQwGCBLGxxIQDsHMwhAIX8bKzcENgSLGF9PU1j3Sy9zX2NrgzQziChLk1BHWxcjf7N046tvN82715czn9Pryz6Ilc4ACj4EBOCZM8KEnAYYADBRKnACAYUMFv1wotIhCEcaJCisqwJFgAUSQGyX/kCSVUUTIdKMwJlyo0oXHlhskwrTJciZHEXsgaqS4s6PJiCAr1uzYU8kBBSgnWFqpoMJMUjGtDmUwkmfVmVypakWhEKvXsS4nhLW5wNjVroJIoc05wSzTr0PtiigpYe4EC2vj4iWrFu5euWIMRBhacaVJhYQBEFjA9jHjyQ0xEABwGceGAZYjY0YBOrRLCxUp29QM+bRkx5s7ZyYgVbTqwwti2ybJ+vLtDYpycyZbYOlptxdx0kV+V7lC5iJAyyRrwYKxAdiz82ng0/jnAdMJFz0cPi104Ec1Vj9/M6F173vKL/feXv156dw11tlqeMMnv4V5Ap53GmjQQH97nFfg+IFiucfgRX5Z8KAgbUlQ4IULIlghhhdOSB6AgX0IVn8eReghen3NRIBsRgnH4l4LuEidZBjwRpt6NM5WGwoW0KSjCwX6yJSMab2GwwAPDXfaBCtWpluRTQqC5JM5oUZAjUNS+VeOLWpJEQ7VYQANW0INJSZVDFSnZphjSikfmzE5N4EEbQI1QJmnWXCmHulRp2edwDXF43txukenJwvI9xyg9Q26Z3MzGUcBYFEChZh6DVTq34AU8Iflh51Sd+CnKFYQ6mmZkhqfBKfSxZWqA9DZanWjxmhrWwi0qtCrt/43K6WqVjjpmhIqgEGvculaGKklKstAACEAACH5BAUKABwALAcABADOAAsAAAX/ICdyQmaMYyAUqPgIBiHPxNpy79kqRXH8wAPsRmDdXpAWgWdEIYm2llCHqjVHU+jjJkwqBTecwItShMXkEfNWSh8e1NGAcLgpDGlRgk7EJ/6Ae3VKfoF/fDuFhohVeDeCfXkcCQqDVQcQhn+VNDOYmpSWaoqBlUSfmowjEA+iEAEGDRGztAwGCDcXEA60tXEiCrq8vREMEBLIyRLCxMWSHMzExnbRvQ2Sy7vN0zvVtNfU2tLY3rPgLdnDvca4VQS/Cpk3ABwSLQkYAQwT/P309vcI7OvXr94jBQMJ/nskkGA/BQBRLNDncAIAiDcG6LsxAWOLiQzmeURBKWSLCQbv/1F0eDGinJUKR47YY1IEgQASKk7Yc7ACRwZm7mHweRJoz59BJUogisKCUaFMR0x4SlJBVBFTk8pZivTR0K73rN5wqlXEAq5Fy3IYgHbEzQ0nLy4QSoCjXLoom96VOJEeCosK5n4kkFfqXjl94wa+l1gvAcGICbewAOAxY8l/Ky/QhAGz4cUkGxu2HNozhwMGBnCUqUdBg9UuW9eUynqSwLHIBujePef1ZGQZXcM+OFuEBeBhi3OYgLyqcuaxbT9vLkf4SeqyWxSQpKGB2gQpm1KdWbu72rPRzR9Ne2Nu9Kzr/1Jqj0yD/fvqP4aXOt5sW/5qsXXVcv1Nsp8IBUAmgswGF3llGgeU1YVXXKTN1FlhWFXW3gIE+DVChApysACHHo7Q4A35lLichh+ROBmLKAzgYmYEYDAhCgxKGOOMn4WR4kkDaoBBOxJtdNKQxFmg5JIWIBnQc07GaORfUY4AEkdV6jHlCEISSZ5yTXpp1pbGZbkWmcuZmQCaE6iJ0FhjMaDjTMsgZaNEHFRAQVp3bqXnZED1qYcECOz5V6BhSWCoVJQIKuKQi2KFKEkEFAqoAo7uYSmO3jk61wUUMKmknJ4SGimBmAa0qVQBhAAAIfkEBQoAGwAsBwAEAM4ACwAABf/gJm5FmRlEqhJC+bywgK5pO4rHI0D3pii22+Mg6/0Ej96weCMAk7cDkXf7lZTTnrMl7eaYoy10JN0ZFdco0XAuvKI6qkgVFJXYNwjkIBcNBgR8TQoGfRsJCRuCYYQQiI+ICosiCoGOkIiKfSl8mJkHZ4U9kZMbKaI3pKGXmJKrngmug4WwkhA0lrCBWgYFCCMQFwoQDRHGxwwGCBLMzRLEx8iGzMMO0cYNeCMKzBDW19lnF9DXDIY/48Xg093f0Q3s1dcR8OLe8+Y91OTv5wrj7o7B+7VNQqABIoRVCMBggsOHE36kSoCBIcSH3EbFangxogJYFi8CkJhqQciLJEf/LDDJEeJIBT0GsOwYUYJGBS0fjpQAMidGmyVP6sx4Y6VQhzs9VUwkwqaCCh0tmKoFtSMDmBOf9phg4SrVrROuasRQAaxXpVUhdsU6IsECZlvX3kwLUWzRt0BHOLTbNlbZG3vZinArge5Dvn7wbqtQkSYAAgtKmnSsYKVKo2AfW048uaPmG386i4Q8EQMBAIAnfB7xBxBqvapJ9zX9WgRS2YMpnvYMGdPK3aMjt/3dUcNI4blpj7iwkMFWDXDvSmgAlijrt9RTR78+PS6z1uAJZIe93Q8g5zcsWCi/4Y+C8bah5zUv3vv89uft30QP23punGCx5954oBBwnwYaNCDY/wYrsYeggnM9B2Fpf8GG2CEUVWhbWAtGouEGDy7Y4IEJVrbSiXghqGKIo7z1IVcXIkKWWR361QOLWWnIhwERpLaaCCee5iMBGJQmJGyPFTnbkfHVZGRtIGrg5HALEJAZbu39BuUEUmq1JJQIPtZilY5hGeSWsSk52G9XqsmgljdIcABytq13HyIM6RcUA+r1qZ4EBF3WHWB29tBgAzRhEGhig8KmqKFv8SeCeo+mgsF7YFXa1qWSbkDpom/mqR1PmHCqJ3fwNRVXjC7S6CZhFVCQ2lWvZiirhQq42SACt25IK2hv8TprriUV1usGgeka7LFcNmCldMLi6qZMgFLgpw16Cipb7bC1knXsBiEAACH5BAUKABsALAcABADOAAsAAAX/4FZsJPkUmUGsLCEUTywXglFuSg7fW1xAvNWLF6sFFcPb42C8EZCj24EJdCp2yoegWsolS0Uu6fmamg8n8YYcLU2bXSiRaXMGvqV6/KAeJAh8VgZqCX+BexCFioWAYgqNi4qAR4ORhRuHY408jAeUhAmYYiuVlpiflqGZa5CWkzc5fKmbbhIpsAoQDRG8vQwQCBLCwxK6vb5qwhfGxxENahvCEA7NzskSy7vNzzzK09W/PNHF1NvX2dXcN8K55cfh69Luveol3vO8zwi4Yhj+AQwmCBw4IYclDAAJDlQggVOChAoLKkgFkSCAHDwWLKhIEOONARsDKryogFPIiAUb/95gJNIiw4wnI778GFPhzBKFOAq8qLJEhQpiNArjMcHCmlTCUDIouTKBhApELSxFWiGiVKY4E2CAekPgUphDu0742nRrVLJZnyrFSqKQ2ohoSYAMW6IoDpNJ4bLdILTnAj8KUF7UeENjAKuDyxIgOuGiOI0EBBMgLNew5AUrDTMGsFixwBIaNCQuAXJB57qNJ2OWm2Aj4skwCQCIyNkhhtMkdsIuodE0AN4LJDRgfLPtn5YDLdBlraAByuUbBgxQwICxMOnYpVOPej074OFdlfc0TqC62OIbcppHjV4o+LrieWhfT8JC/I/T6W8oCl29vQ0XjLdBaA3s1RcPBO7lFvpX8BVoG4O5jTXRQRDuJ6FDTzEWF1/BCZhgbyAKE9qICYLloQYOFtahVRsWYlZ4KQJHlwHS/IYaZ6sZd9tmu5HQm2xi1UaTbzxYwJk/wBF5g5EEYOBZeEfGZmNdFyFZmZIR4jikbLThlh5kUUVJGmRT7sekkziRWUIACABk3T4qCsedgO4xhgGcY7q5pHJ4klBBTQRJ0CeHcoYHHUh6wgfdn9uJdSdMiebGJ0zUPTcoS286FCkrZxnYoYYKWLkBowhQoBeaOlZAgVhLidrXqg2GiqpQpZ4apwSwRtjqrB3muoF9BboaXKmshlqWqsWiGt2wphJkQbAU5hoCACH5BAUKABsALAcABADOAAsAAAX/oGFw2WZuT5oZROsSQnGaKjRvilI893MItlNOJ5v5gDcFrHhKIWcEYu/xFEqNv6B1N62aclysF7fsZYe5aOx2yL5aAUGSaT1oTYMBwQ5VGCAJgYIJCnx1gIOBhXdwiIl7d0p2iYGQUAQBjoOFSQR/lIQHnZ+Ue6OagqYzSqSJi5eTpTxGcjcSChANEbu8DBAIEsHBChe5vL13G7fFuscRDcnKuM3H0La3EA7Oz8kKEsXazr7Cw9/Gztar5uHHvte47MjktznZ2w0G1+D3BgirAqJmJMAQgMGEgwgn5Ei0gKDBhBMALGRYEOJBb5QcWlQo4cbAihZz3GgIMqFEBSM1/4ZEOWPAgpIIJXYU+PIhRG8ja1qU6VHlzZknJNQ6UanCjQkWCIGSUGEjAwVLjc44+DTqUQtPPS5gejUrTa5TJ3g9sWCr1BNUWZI161StiQUDmLYdGfesibQ3XMq1OPYthrwuA2yU2LBs2cBHIypYQPPlYAKFD5cVvNPtW8eVGbdcQADATsiNO4cFAPkvHpedPzc8kUcPgNGgZ5RNDZG05reoE9s2vSEP79MEGiQGy1qP8LA4ZcdtsJE48ONoLTBtTV0B9LsTnPceoIDBDQvS7W7vfjVY3q3eZ4A339J4eaAmKqU/sV58HvJh2RcnIBsDUw0ABqhBA5aV5V9XUFGiHfVeAiWwoFgJJrIXRH1tEMiDFV4oHoAEGlaWhgIGSGBO2nFomYY3mKjVglidaNYJGJDkWW2xxTfbjCbVaOGNqoX2GloR8ZeTaECS9pthRGJH2g0b3Agbk6hNANtteHD2GJUucfajCQBy5OOTQ25ZgUPvaVVQmbKh9510/qQpwXx3SQdfk8tZJOd5b6JJFplT3ZnmmX3qd5l1eg5q00HrtUkUn0AKaiGjClSAgKLYZcgWXwocGRcCFGCKwSB6ceqphwmYRUFYT/1WKlOdUpipmxW0mlCqHjYkAaeoZlqrqZ4qd+upQKaapn/AmgAegZ8KUtYtFAQQAgAh+QQFCgAbACwHAAQAzgALAAAF/+C2PUcmiCiZGUTrEkKBis8jQEquKwU5HyXIbEPgyX7BYa5wTNmEMwWsSXsqFbEh8DYs9mrgGjdK6GkPY5GOeU6ryz7UFopSQEzygOGhJBjoIgMDBAcBM0V/CYqLCQqFOwobiYyKjn2TlI6GKC2YjJZknouaZAcQlJUHl6eooJwKooobqoewrJSEmyKdt59NhRKFMxLEEA4RyMkMEAjDEhfGycqAG8TQx9IRDRDE3d3R2ctD1RLg0ttKEnbY5wZD3+zJ6M7X2RHi9Oby7u/r9g38UFjTh2xZJBEBMDAboogAgwkQI07IMUORwocSJwCgWDFBAIwZOaJIsOBjRogKJP8wTODw5ESVHVtm3AhzpEeQElOuNDlTZ0ycEUWKWFASqEahGwYUPbnxoAgEdlYSqDBkgoUNClAlIHbSAoOsqCRQnQHxq1axVb06FWFxLIqyaze0Tft1JVqyE+pWXMD1pF6bYl3+HTqAWNW8cRUFzmih0ZAAB2oGKukSAAGGRHWJgLiR6AylBLpuHKKUMlMCngMpDSAa9QIUggZVVvDaJobLeC3XZpvgNgCmtPcuwP3WgmXSq4do0DC6o2/guzcseECtUoO0hmcsGKDgOt7ssBd07wqesAIGZC1YIBa7PQHvb1+SFo+++HrJSQfB33xfav3i5eX3Hnb4CTJgegEq8tH/YQEOcIJzbm2G2EoYRLgBXFpVmFYDcREV4HIcnmUhiGBRouEMJGJGzHIspqgdXxK0yCKHRNXoIX4uorCdTyjkyNtdPWrA4Up82EbAbzMRxxZRR54WXVLDIRmRcag5d2R6ugl3ZXzNhTecchpMhIGVAKAYpgJjjsSklBEd99maZoo535ZvdamjBEpusJyctg3h4X8XqodBMx0tiNeg/oGJaKGABpogS40KSqiaEgBqlQWLUtqoVQnytekEjzo0hHqhRorppOZt2p923M2AAV+oBtpAnnPNoB6HaU6mAAIU+IXmi3j2mtFXuUoHKwXpzVrsjcgGOauKEjQrwq157hitGq2NoWmjh7z6Wmxb0m5w66+2VRAuXN/yFUAIACH5BAUKABsALAcABADOAAsAAAX/4CZuRiaM45MZqBgIRbs9AqTcuFLE7VHLOh7KB5ERdjJaEaU4ClO/lgKWjKKcMiJQ8KgumcieVdQMD8cbBeuAkkC6LYLhOxoQ2PF5Ys9PKPBMen17f0CCg4VSh32JV4t8jSNqEIOEgJKPlkYBlJWRInKdiJdkmQlvKAsLBxdABA4RsbIMBggtEhcQsLKxDBC2TAS6vLENdJLDxMZAubu8vjIbzcQRtMzJz79S08oQEt/guNiyy7fcvMbh4OezdAvGrakLAQwyABsELQkY9BP+//ckyPDD4J9BfAMh1GsBoImMeQUN+lMgUJ9CiRMa5msxoB9Gh/o8GmxYMZXIgxtR/yQ46S/gQAURR0pDwYDfywoyLPip5AdnCwsMFPBU4BPFhKBDi444quCmDKZOfwZ9KEGpCKgcN1jdALSpPqIYsabS+nSqvqplvYqQYAeDPgwKwjaMtiDl0oaqUAyo+3TuWwUAMPpVCfee0cEjVBGQq2ABx7oTWmQk4FglZMGN9fGVDMCuiH2AOVOu/PmyxM630gwM0CCn6q8LjVJ8GXvpa5Uwn95OTC/nNxkda1/dLSK475IjCD6dHbK1ZOa4hXP9DXs5chJ00UpVm5xo2qRpoxptwF2E4/IbJpB/SDz9+q9b1aNfQH08+p4a8uvX8B53fLP+ycAfemjsRUBgp1H20K+BghHgVgt1GXZXZpZ5lt4ECjxYR4ScUWiShEtZqBiIInRGWnERNnjiBglw+JyGnxUmGowsyiiZg189lNtPGACjV2+S9UjbU0JWF6SPvEk3QZEqsZYTk3UAaRSUnznJI5LmESCdBVSyaOWUWLK4I5gDUYVeV1T9l+FZClCAUVA09uSmRHBCKAECFEhW51ht6rnmWBXkaR+NjuHpJ40D3DmnQXt2F+ihZxlqVKOfQRACACH5BAUKABwALAcABADOAAsAAAX/ICdyUCkUo/g8mUG8MCGkKgspeC6j6XEIEBpBUeCNfECaglBcOVfJFK7YQwZHQ6JRZBUqTrSuVEuD3nI45pYjFuWKvjjSkCoRaBUMWxkwBGgJCXspQ36Bh4EEB0oKhoiBgyNLjo8Ki4QElIiWfJqHnISNEI+Ql5J9o6SgkqKkgqYihamPkW6oNBgSfiMMDQkGCBLCwxIQDhHIyQwQCGMKxsnKVyPCF9DREQ3MxMPX0cu4wt7J2uHWx9jlKd3o39MiuefYEcvNkuLt5O8c1ePI2tyELXGQwoGDAQf+iEC2xByDCRAjTlAgIUWCBRgCPJQ4AQBFXAs0coT40WLIjRxL/47AcHLkxIomRXL0CHPERZkpa4q4iVKiyp0tR/7kwHMkTUBBJR5dOCEBAVcKKtCAyOHpowXCpk7goABqBZdcvWploACpBKkpIJI1q5OD2rIWE0R1uTZu1LFwbWL9OlKuWb4c6+o9i3dEgw0RCGDUG9KlRw56gDY2qmCByZBaASi+TACA0TucAaTteCcy0ZuOK3N2vJlx58+LRQyY3Xm0ZsgjZg+oPQLi7dUcNXi0LOJw1pgNtB7XG6CBy+U75SYfPTSQAgZTNUDnQHt67wnbZyvwLgKiMN3oCZB3C76tdewpLFgIP2C88rbi4Y+QT3+8S5USMICZXWj1pkEDeUU3lOYGB3alSoEiMIjgX4WlgNF2EibIwQIXauWXSRg2SAOHIU5IIIMoZkhhWiJaiFVbKo6AQEgQXrTAazO1JhkBrBG3Y2Y6EsUhaGn95hprSN0oWpFE7rhkeaQBchGOEWnwEmc0uKWZj0LeuNV3W4Y2lZHFlQCSRjTIl8uZ+kG5HU/3sRlnTG2ytyadytnD3HrmuRcSn+0h1dycexIK1KCjYaCnjCCVqOFFJTZ5GkUUjESWaUIKU2lgCmAKKQIUjHapXRKE+t2og1VgankNYnohqKJ2CmKplso6GKz7WYCgqxeuyoF8u9IQAgA7"
,msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:c},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1},debug:!1,behavior:c,binder:b(a),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:c,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:c,path:c,prefill:!1,maxPage:c},b.infinitescroll.prototype={_binding:function(a){var b=this,d=b.options;d.v="2.0b2.120520";if(!!d.behavior&&this["_binding_"+d.behavior]!==c){this["_binding_"+d.behavior].call(this);return}if(a!=="bind"&&a!=="unbind")return this._debug("Binding value  "+a+" not valid"),!1;a==="unbind"?this.options.binder.unbind("smartscroll.infscr."+b.options.infid):this.options.binder[a]("smartscroll.infscr."+b.options.infid,function(){b.scroll()}),this._debug("Binding",a)},_create:function h(d,e){var f=b.extend(!0,{},b.infinitescroll.defaults,d);this.options=f;var g=b(a),h=this;if(!h._validate(d))return!1;var i=b(f.nextSelector).attr("href");if(!i)return this._debug("Navigation selector not found"),!1;f.path=f.path||this._determinepath(i),f.contentSelector=f.contentSelector||this.element,f.loading.selector=f.loading.selector||f.contentSelector,f.loading.msg=f.loading.msg||b('<div id="infscr-loading"><img alt="Loading..." src="'+f.loading.img+'" /><div>'+f.loading.msgText+"</div></div>"),(new Image).src=f.loading.img,f.pixelsFromNavToBottom===c&&(f.pixelsFromNavToBottom=b(document).height()-b(f.navSelector).offset().top,this._debug("pixelsFromNavToBottom: "+f.pixelsFromNavToBottom));var j=this;return f.loading.start=f.loading.start||function(){b(f.navSelector).hide();var a;f.loading.selector[0].className.indexOf("l-masonry__container")!=-1?a=b(".l-masonry"):a=f.loading.selector,f.loading.msg.appendTo(a).show(f.loading.speed,b.proxy(function(){this.beginAjax(f)},j))},f.loading.finished=f.loading.finished||function(){f.state.isBeyondMaxPage||f.loading.msg.fadeOut(f.loading.speed)},f.callback=function(a,d,h){!!f.behavior&&a["_callback_"+f.behavior]!==c&&a["_callback_"+f.behavior].call(b(f.contentSelector)[0],d,h),e&&e.call(b(f.contentSelector)[0],d,f,h),f.prefill&&g.bind("resize.infinite-scroll",a._prefill)},d.debug&&Function.prototype.bind&&(typeof console=="object"||typeof console=="function")&&typeof console.log=="object"&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(a){console[a]=this.call(console[a],console)},Function.prototype.bind),this._setup(),f.prefill&&this._prefill(),!0},_prefill:function(){function e(){return c.options.contentSelector.height()<=d.height()}var c=this,d=b(a);this._prefill=function(){e()&&c.scroll(),d.bind("resize.infinite-scroll",function(){e()&&(d.unbind("resize.infinite-scroll"),c.scroll())})},this._prefill()},_debug:function(){if(!0!==this.options.debug)return;typeof console!="undefined"&&typeof console.log=="function"?Array.prototype.slice.call(arguments).length===1&&typeof Array.prototype.slice.call(arguments)[0]=="string"?console.log(Array.prototype.slice.call(arguments).toString()):console.log(Array.prototype.slice.call(arguments)):!Function.prototype.bind&&typeof console!="undefined"&&typeof console.log=="object"&&Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},_determinepath:function(a){var b=this.options;if(!b.behavior||this["_determinepath_"+b.behavior]===c){if(!b.pathParse){if(a.match(/^(.*?)\b2\b(.*?$)/))a=a.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(a.match(/^(.*?)2(.*?$)/)){if(a.match(/^(.*?page=)2(\/.*|$)/))return a=a.match(/^(.*?page=)2(\/.*|$)/).slice(1),a;a=a.match(/^(.*?)2(.*?$)/).slice(1)}else{if(a.match(/^(.*?page=)1(\/.*|$)/))return a=a.match(/^(.*?page=)1(\/.*|$)/).slice(1),a;this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),b.state.isInvalidPage=!0}return this._debug("determinePath",a),a}return this._debug("pathParse manual"),b.pathParse(a,this.options.state.currPage+1)}return this["_determinepath_"+b.behavior].call(this,a)},_error:function(a){var b=this.options;if(!b.behavior||this["_error_"+b.behavior]===c)a!=="destroy"&&a!=="end"&&(a="unknown"),this._debug("Error",a),(a==="end"||b.state.isBeyondMaxPage)&&this._showdonemsg(),b.state.isDone=!0,b.state.currPage=1,b.state.isPaused=!1,b.state.isBeyondMaxPage=!1,this._binding("unbind");else{this["_error_"+b.behavior].call(this,a);return}},_loadcallback:function(d,e,f){var g=this.options,h=this.options.callback,i=g.state.isDone?"done":g.appendCallback?"append":"no-append",j;if(!!g.behavior&&this["_loadcallback_"+g.behavior]!==c){this["_loadcallback_"+g.behavior].call(this,d,e);return}switch(i){case"done":return this._showdonemsg(),!1;case"no-append":g.dataType==="html"&&(e="<div>"+e+"</div>",e=b(e).find(g.itemSelector));break;case"append":var k=d.children();if(k.length===0)return this._error("end");j=document.createDocumentFragment();while(d[0].firstChild)j.appendChild(d[0].firstChild);this._debug("contentSelector",b(g.contentSelector)[0]),b(g.contentSelector)[0].appendChild(j),e=k.get()}g.loading.finished.call(b(g.contentSelector)[0],g);if(g.animate){var l=b(a).scrollTop()+b(g.loading.msg).height()+g.extraScrollPx+"px";b("html,body").animate({scrollTop:l},800,function(){g.state.isDuringAjax=!1})}g.animate||(g.state.isDuringAjax=!1),h(this,e,f),g.prefill&&this._prefill()},_nearbottom:function(){var d=this.options,e=0+b(document).height()-d.binder.scrollTop()-b(a).height();return!d.behavior||this["_nearbottom_"+d.behavior]===c?(this._debug("math:",e,d.pixelsFromNavToBottom),e-d.bufferPx<d.pixelsFromNavToBottom):this["_nearbottom_"+d.behavior].call(this)},_pausing:function(a){var b=this.options;if(!b.behavior||this["_pausing_"+b.behavior]===c){a!=="pause"&&a!=="resume"&&a!==null&&this._debug("Invalid argument. Toggling pause value instead"),a=!a||a!=="pause"&&a!=="resume"?"toggle":a;switch(a){case"pause":b.state.isPaused=!0;break;case"resume":b.state.isPaused=!1;break;case"toggle":b.state.isPaused=!b.state.isPaused}return this._debug("Paused",b.state.isPaused),!1}this["_pausing_"+b.behavior].call(this,a);return},_setup:function(){var a=this.options;if(!a.behavior||this["_setup_"+a.behavior]===c)return this._binding("bind"),!1;this["_setup_"+a.behavior].call(this);return},_showdonemsg:function(){var a=this.options;if(!a.behavior||this["_showdonemsg_"+a.behavior]===c)a.loading.msg.find("img").hide().parent().find("div").html(a.loading.finishedMsg).animate({opacity:1},2e3,function(){b(this).parent().fadeOut(a.loading.speed)}),a.errorCallback.call(b(a.contentSelector)[0],"done");else{this["_showdonemsg_"+a.behavior].call(this);return}},_validate:function(a){for(var c in a)if(c.indexOf&&c.indexOf("Selector")>-1&&b(a[c]).length===0)return this._debug("Your "+c+" found no elements."),!1;return!0},bind:function(){this._binding("bind")},destroy:function(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(a){var d=this,e=a.path,f,g,h,i;a.state.currPage++;if(a.maxPage!=c&&a.state.currPage>a.maxPage){a.state.isBeyondMaxPage=!0,this.destroy();return}f=b(a.contentSelector).is("table, tbody")?b("<tbody/>"):b("<div/>"),g=typeof e=="function"?e(a.state.currPage):e.join(a.state.currPage),d._debug("heading into ajax",g),h=a.dataType==="html"||a.dataType==="json"?a.dataType:"html+callback",a.appendCallback&&a.dataType==="html"&&(h+="+callback");switch(h){case"html+callback":d._debug("Using HTML via .load() method"),f.load(g+" "+a.itemSelector,c,function(a){d._loadcallback(f,a,g)});break;case"html":d._debug("Using "+h.toUpperCase()+" via $.ajax() method"),b.ajax({url:g,dataType:a.dataType,complete:function(a,b){i=typeof a.isResolved!="undefined"?a.isResolved():b==="success"||b==="notmodified",i?d._loadcallback(f,a.responseText,g):d._error("end")}});break;case"json":d._debug("Using "+h.toUpperCase()+" via $.ajax() method"),b.ajax({dataType:"json",type:"GET",url:g,success:function(b,e,h){i=typeof h.isResolved!="undefined"?h.isResolved():e==="success"||e==="notmodified";if(a.appendCallback)if(a.template!==c){var j=a.template(b);f.append(j),i?d._loadcallback(f,j):d._error("end")}else d._debug("template must be defined."),d._error("end");else i?d._loadcallback(f,b,g):d._error("end")},error:function(){d._debug("JSON ajax request failed."),d._error("end")}})}},retrieve:function(a){a=a||null;var d=this,e=d.options;if(!!e.behavior&&this["retrieve_"+e.behavior]!==c){this["retrieve_"+e.behavior].call(this,a);return}if(e.state.isDestroyed)return this._debug("Instance is destroyed"),!1;e.state.isDuringAjax=!0,e.loading.start.call(b(e.contentSelector)[0],e)},scroll:function(){var a=this.options,b=a.state;if(!!a.behavior&&this["scroll_"+a.behavior]!==c){this["scroll_"+a.behavior].call(this);return}if(b.isDuringAjax||b.isInvalidPage||b.isDone||b.isDestroyed||b.isPaused)return;if(!this._nearbottom())return;this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(a){b.isPlainObject(a)&&(this.options=b.extend(!0,this.options,a))}},b.fn.infinitescroll=function(a,c){var d=typeof a;switch(d){case"string":var e=Array.prototype.slice.call(arguments,1);this.each(function(){var c=b.data(this,"infinitescroll");if(!c)return!1;if(!b.isFunction(c[a])||a.charAt(0)==="_")return!1;c[a].apply(c,e)});break;case"object":this.each(function(){var d=b.data(this,"infinitescroll");d?d.update(a):(d=new b.infinitescroll(a,c,this),d.failed||b.data(this,"infinitescroll",d))})}return this};var d=b.event,e;d.special.smartscroll={setup:function(){b(this).bind("scroll",d.special.smartscroll.handler)},teardown:function(){b(this).unbind("scroll",d.special.smartscroll.handler)},handler:function(a,c){var d=this,f=arguments;a.type="smartscroll",e&&clearTimeout(e),e=setTimeout(function(){b(d).trigger("smartscroll",f)},c==="execAsap"?0:100)}},b.fn.smartscroll=function(a){return a?this.bind("smartscroll",a):this.trigger("smartscroll",["execAsap"])}}(window,jQuery),function(a){return infiniteScroll=a.fs.BaseView.extend({autoInitialize:!0,className:"js-infinite-scroll",initialize:function(){this.initPlugin()},initPlugin:function(){var b=$("a",".pagination").eq(0).attr("href"),c=this.$el,d=c.data("perload")||5,e=parseInt(a.fs.app.helpers.getQueryStrings().page,10)||1,f=parseInt(this.$(".next_page").prev().html(),10),g=e+d,h=a.fs.app.helpers.updateQueryStringParameter(document.URL,"page",g),i="<div class='infinite-scroll__next-link'><a href='"+h+"' class='o-button o-button--primary-big o-button--spaced'>"+window.dict.see_next_list_of_items+"</a></div>",j=this,k=this.$el[0].hasAttribute("data-local-scroll")?!0:!1,l=k?"local":undefined,m=k?this.$el.parent():$(window);showTypeInUseLink="<div class='infinite-scroll__next-link'><a class='o-button o-button--primary-medium' href='/type-in-use'>"+window.dict.in_use_view_all+"</a></div>",!(f>1)&&$(".type_in_use_link").length>0&&$(".type_in_use_link").append(showTypeInUseLink),c.infinitescroll({behavior:l,binder:m,navSelector:".pagination",nextSelector:".pagination .next_page",itemSelector:".js-infinite-scroll__item",maxPage:d,path:function(c){var d=a.fs.app.helpers.updateQueryStringParameter(b,"page",e+c-1);return d},loading:{msgText:"<div class='infinite-scroll__loader'><div class='loading-indicator infinite-scroll__loader__animated'></div></div>",finishedMsg:"",finished:function(b){$("#infscr-loading").hide(),typeof b=="undefined"&&f>g&&(c.hasClass("js-masonry-layout")?$(".l-masonry").append(i):c.append(i)),(typeof b=="undefined"&&$(".type_in_use_link").length>0||typeof b!="undefined"&&b.state.currPage>=f)&&$(".type_in_use_link").append(showTypeInUseLink),a.fs.textRenderer.renderDeferredTexts(c),c.find(".js-login-attributes").loginAttributes(),c.find(".js-like").each(function(){window.fs.Modules.LikeUnlike&&new window.fs.Modules.LikeUnlike({el:this})}),c.find(".js-show-modal").each(function(){window.fs.Modules.ShowModal&&new window.fs.Modules.ShowModal({el:this})}),c.find(".js-simulate-links").simulateLinks(),a.fs.vent.trigger("fs:user-likes:update"),a.fs.vent.trigger("fs:user-lists:update");var d=$(".js-masonry-layout");d.length>0&&(window.msnry=new Masonry(d[0],{itemSelector:".js-masonry-layout__item",gutter:20,isFitWidth:!0,transitionDuration:0}),imagesLoaded(d,function(){window.msnry.layout()}),window.msnry.on("layoutComplete",function(a,b){$(a.element).addClass("is-active")})),a.fs.vent.trigger("fs:update:galleries",c)}}})}})}(window),function(a){return InputIcon=a.fs.BaseView.extend({autoInitialize:!0,className:"js-input-icon",initialize:function(){this.initLabels()},initLabels:function(){var a=this.$(".js-input-icon__label"),b=this.$(".js-input-icon__input"),c=a.width()+40;b.css("padding-left",c),this.$el.addClass("is-active")}})}(window),function(a){return ListDesigners=a.fs.BaseView.extend({autoInitialize:!0,className:"m-list-designers",events:{"click .o-alphabet__letter--link":"onLetterClickHandler"},initialize:function(){a.fs.vent.on("fs:resize",_.bind(this.resizeEvent,this)),this.toggleAlphabetIndex(),Modernizr.touch||this.onScrollHandler(),a.fs.vent.on("fs:scrollto:finished_scrolling",_.bind(this.onScrollFinishHandler,this))},onLetterClickHandler:function(a){a.preventDefault(),this.highlightClickedDesigners(a)},highlightClickedDesigners:function(a){var b=$(a.currentTarget).data("letter");this.setHighlightedState(b)},setHighlightedState:function(a){this.removeHighlightedState();var b=this.$("[data-startingletter='"+a+"']");b.addClass("is-highlighted"),this.$el.addClass("is-on-highlight-mode")},removeHighlightedState:function(){this.$el.hasClass("has-finished-scrolling")&&(this.$(".is-highlighted").removeClass("is-highlighted"),this.$el.removeClass("is-on-highlight-mode"),this.$el.removeClass("has-finished-scrolling"))},resizeEvent:function(){$.waypoints("refresh"),this.toggleAlphabetIndex()},onScrollHandler:function(){var a=this;$(".m-list-designers--compact").waypoint(function(){$(this).toggleClass("is-fixed")}),$(".m-list-designers__letter-container").waypoint(function(b){if(b==="down"){var c=a.$("[data-letter='"+$(this).data("startingletter")+"']");a.$(".o-alphabet__letter").removeClass("is-active"),c.addClass("is-active"),a.removeHighlightedState()}},{offset:function(){return a.$(".o-alphabet").outerHeight()}}).waypoint(function(b){if(b==="up"){var c=a.$("[data-letter='"+$(this).data("startingletter")+"']");a.$(".o-alphabet__letter").removeClass("is-active"),c.addClass("is-active"),a.removeHighlightedState()}},{offset:function(){return-$(this).outerHeight()}})},onScrollFinishHandler:function(){this.toggleScrollingState()},toggleScrollingState:function(){var b=this.$el;setTimeout(function(){b.addClass("has-finished-scrolling")},a.fs.scrollDuration)},toggleAlphabetIndex:function(){var a=this.$(".o-alphabet"),b=this.$(".m-list-designers__list");b.outerHeight()>$(window).outerHeight()?a.addClass("is-visible"):a.removeClass("is-visible")}})}(window),function(a){return Menu=a.fs.BaseView.extend({autoInitialize:!0,className:"js-menu-all",initialize:function(){a.fs.vent.on("fs:resize-start",_.bind(this.toggleTransition,this,!0)),a.fs.vent.on("fs:resize-stop",_.bind(this.toggleTransition,this,!1)),a.fs.vent.on("fs:logo:change_color",_.bind(this.toggleLogoColors,this))},toggleTransition:function(a){a?this.$(".js-menu").removeClass("is-transitionable"):this.$(".js-menu").addClass("is-transitionable")},toggleLogoColors:function(b,c){var d=this.$(".js-menu__logo");a.fs.app.helpers.clearClasses(d,"o-logo--color-"),d.addClass("o-logo--color-"+b)}})}(window),function(a){return ModuleEditor=a.fs.BaseView.extend({autoInitialize:!1,className:"js-module-editor",events:{"click  .js-module-editor__label":"onLabelClickHandler","change .js-on-off-checkbox .o-on-off-checkbox__input":"toggleCheckboxState","change select":"loadPreview","keyup input, textarea":"loadPreview","click .l-form__row input[type=radio], .l-form__row input[type=checkbox]":"loadPreview","click .js-input--one-char":"setOneCharFieldFocus","focus .js-input--one-char":"setOneCharFieldFocus","keyup .js-input--one-char":"setOneCharFieldFocus"},initialize:function(){this.bindToElement(),this.findOrCreateModule(),this.registerInParentView(),this.checkCharacterIndicators(),this.cacheCheckbox(),this.has_changed=!1,this.$el.hasClass("js-module-editor--has-uploader")&&this.initializeMediaModuleEditor()},bindToElement:function(){this.el.views=this.el.views||{},this.el.views["module-editor"]=this},findOrCreateModule:function(){this.moduleId=this.$el.data("moduleId"),this.$module=$("#"+this.moduleId).not(".has-editor");if(!this.$module.length){var b=this.previousModuleEditor();b&&(this.$module=$("<div id='"+this.moduleId+"' class='is-hidden module module--placeholder module--placeholder--"+this.moduleId+" block js-page-anchor'></div>"),this.$module.insertAfter(b.$module),a.fs.vent.trigger("fs:contentload"))}else this.$module.addClass("has-editor"),this.$module[0].editorView=this;this.$module.addClass("in-editor")},previousModuleEditor:function(){var a=this.$el.prev();return a.length?a.get(0).views["module-editor"]:!1},registerInParentView:function(){var a=this.$el.parents(".js-module-editors")[0];a&&a.views&&a.views["module-editors"]&&a.views["module-editors"].childViews.push(this)},checkCharacterIndicators:function(){var a=this.$el.find(".js-character-count");a.length&&a.each(function(){$(this).charCountr()})},cacheCheckbox:function(){this.$checkbox=this.$(".js-on-off-checkbox .o-on-off-checkbox__input")},loadPreview:_.debounce(function(a){this.has_changed=!0,this.save(!0)},500),serializedData:function(){var a=this.$('[name^="config"]'),b={};return a.each(function(){var a=$(this),c=a.attr("name").match(/\[(.*?)\]/g),d,e=a.val(),f=a.attr("type")||"",g=a.attr("data-type");g==="number"?e=parseInt(e,10):g==="boolean"&&(e=e?1:0);if(f.match(/checkbox|radio/)&&!a.is(":checked"))return;var h=c.splice(0,1)[0];h=h.substr(1),h=h.substr(0,h.length-1);if(c.length){b[h]=b[h]||{};var i=b[h];while(c.length>0)h=c.splice(0,1)[0],h=h.substr(1),h=h.substr(0,h.length-1),c.length===0?i[h]=e:(i[h]={},i=i[h])}else g==="array"?(b[h]=b[h]||[],b[h].push(e)):b[h]=e}),JSON.stringify(b)},serializeForm:function(){var a=this.$el.attr("action"),b={};return b.type=this.$("[name=type]").val(),b.active=this.$(".o-on-off-checkbox__input[name=active]").is(":checked")?1:0,b.sortno=this.$("[name=sortno]").val(),b.editorType=this.$("[name=editor_type]").val(),b.lazy_load=this.$("[name=lazy_load]").val(),b.image_id=this.$(".o-image-uploader__image-id").val(),b.image_type=this.$(".o-image-uploader__image-type").val(),b.remove_image_id=this.$(".o-image-uploader__remove-image-id").val(),b.config_data=this.serializedData(),b},save:function(a){var b=$.Deferred(),c=this,d=this.$el.attr("action"),e=this.$el.attr("method"),f=this.serializeForm();return f.preview=a?1:undefined,f._method=e,$.post(d,f,function(d){d.errors?(c.clearErrors(),_.each(d.errors,function(a){_.each(a,c.addError,c)},c),b.reject()):(typeof d.module!="undefined"&&(c.clearErrors(),!a&&e==="post"&&(c.$el.attr("action","/modules/"+d.module.id),c.$el.attr("method","put")),a&&c.updateModule(d.module_html,d.module.active)),b.resolve())}).fail(function(){c.clearErrors(),c.addError("An unknown error occured.")}),b.promise()},addError:function(a){this.$el.addClass("has-errors"),this.$(".l-editor__form__errors").html(a).show()},clearErrors:function(){this.$el.removeClass("has-errors"),this.$(".l-editor__form__errors").hide().html("")},updateModule:function(b,c){c=c||!0;var d=$(b);this.$module.html(d.html()),this.$module.attr("class",d.attr("class")).toggle(c),a.fs.vent.trigger("fs:refresh-rendered-selection"),a.fs.vent.trigger("fs:contentload")},onLabelClickHandler:function(a){this.toggleFormVisibility(),this.$checkbox.is(":checked")||(this.showModule(),this.$checkbox.prop("checked",!0),this.$el.removeClass("is-turned-off")),a.preventDefault()},toggleFormVisibility:function(){this.$el.hasClass("is-active")?this.$el.removeClass("is-active"):this.showForm()},showForm:function(){this.hideAdjacentForms(),this.$el.addClass("is-active"),this.scrollToModule()},showModule:function(){this.$module.removeClass("is-hidden"),this.$module.hasClass("module--placeholder")&&this.save(!0)},toggleCheckboxState:function(){this.has_changed=!0,this.$checkbox.is(":checked")?(this.showForm(),this.showModule(),this.$el.removeClass("is-turned-off")):(this.$el.removeClass("is-active"),this.$module.addClass("is-hidden"),this.$el.addClass("is-turned-off"))},hideAdjacentForms:function(){this.$el.siblings().removeClass("is-active")},scrollToModule:function(a,b,c){var d=$("html, body");a&&a.preventDefault(),c===undefined&&this.$module.height()>0?c=Math.max(($(window).height()-this.$module.outerHeight())/2,0):c=0,d.stop().animate({scrollTop:this.$module.offset().top-c},{duration:b})},initializeMediaModuleEditor:function(){a.fs.vent.on("fs:image-uploader:uploaded",_.bind(this.onImageUploadHandler,this))},onImageUploadHandler:function(){this.has_changed=!0,this.save(!0)},setOneCharFieldFocus:function(a){$(a.currentTarget).select()}})}(window),function(a){return ModuleEditors=a.fs.BaseView.extend({autoInitialize:!0,className:"js-module-editors",saveEnabled:!0,childViews:[],events:{"click .js-editor-publish":"onPublish","click .js-editor-cancel":"onCancel","click .js-editor-add-media":"onAddMedia"},initialize:function(){var b=this;this.registerChildViews(),this.initializeSorting(),$(window).on("beforeunload",_.bind(this.onUnload,this)),a.fs.vent.on("fs:image-upload:denied",_.bind(this.onUploadDenied,this)),a.fs.vent.on("fs:image-upload:accepted",_.bind(this.onUploadAccepted,this));var c=$(".js-class-selectr");c.length&&c.each(function(){var a=$(this);a.classSelectr(),_.defer(function(){a.trigger("change")})})},registerChildViews:function(){var a=this;this.$el.find(".js-module-editor").map(function(){a.childViews.push(new ModuleEditor({el:this}))})},onAddMedia:function(a){a.preventDefault();var b=this.$(".module-editors__list .module-editor--sortable").last(),c=$(".l-editor__templates .module-editor").clone().insertAfter(b),d=new ModuleEditor({el:c})},confirmMessage:"You may lose your editing changes.",onUnload:function(a){return this.confirmMessage},onCancel:function(a){a.preventDefault(),confirm(this.confirmMessage+"\nAre you sure you want to cancel?")&&$.post("/images/destroy_unrelated",function(){$(window).off("beforeunload"),window.location.reload()})},onPublish:function(a){a.preventDefault(),this.save(function(){$(window).off("beforeunload"),window.location.reload()})},onUploadDenied:function(){this.saveEnabled=!1,this.onUploadErrorHandle()},onUploadAccepted:function(){this.saveEnabled=!0,this.onUploadErrorHandle()},onUploadErrorHandle:function(){var a=$('a.l-editor__form__title[data-target="#image"]');this.saveEnabled?a.removeClass("l-editor__form__title--error"):a.addClass("l-editor__form__title--error")},save:function(a){if(!this.saveEnabled)return;this.updateSortnoFields();var b=$("<div class='loading-indicator loading-indicator--on-yellow'></div>").appendTo(this.$el.parent()),c=[];_.each(this.childViews,function(a){if(a.has_changed){var b=a.save(!1);c.push(b)}}),$.when.apply($,c).then(function(){a&&a()}).fail(function(){b.remove()})},updateSortnoFields:function(){var a=0;this.$el.find(".js-module-editor__sortno").each(function(){var b=$(this);b.val(a),a++})},hidePageNavigator:function(){$(".page-navigator").hide()},bindToScrolling:function(){var b=this;a.fs.vent.on("fs:module:enter_screen_half",function(a){a=a.closest(".js-page-anchor"),a.get(0)&&a.get(0).editorView&&!b.draggedModuleEditor&&a.get(0).editorView.setCurrent()})},draggedModuleEditor:null,initializeSorting:function(){Modernizr.touch||this.$(".js-editor-sortable").sortable({containerSelector:".js-editor-sortable",itemSelector:".js-module-editor--sortable",placeholder:"<div class='js-module-editor'></div>",handle:".js-module-editor__drag-handle",isValidTarget:function(a,b){return $(b.el).find(".js-module-editor--sortable").length>1},onDragStart:_.bind(this.onDragStart,this),onDrag:_.bind(this.onDrag,this),afterMove:_.bind(this.afterMove,this),onDrop:_.bind(this.onDrop,this)})},onDragStart:function(a){this.$el.addClass("is-sorting"),this.draggedModuleEditor=a[0].views["module-editor"],this.draggedModuleEditor.$module.css("opacity",.2),a.css({width:a.width()}).addClass("dragged")},onDrag:function(a,b,c){a.css({top:b.top})},afterMove:function(a){var b=a.prev(".js-module-editor")[0].views["module-editor"].$module;this.draggedModuleEditor.$module.insertAfter(b),$.waypoints("refresh"),this.draggedModuleEditor.scrollToModule(null,50,250)},onDrop:function(a,b,c){var d=this.draggedModuleEditor.previousModuleEditor().$module;this.draggedModuleEditor.$module.css("opacity",1).insertAfter(d),this.$el.removeClass("is-sorting"),a.removeClass("dragged").removeAttr("style"),this.draggedModuleEditor.scrollToModule(null,50,250),this.draggedModuleEditor=null,_.each(this.childViews,function(b){b.moduleId==a.data("module-id")&&(b.has_changed=!0)}),this.updateSortnoFields()}})}(window),function(a){return Module=a.fs.BaseView.extend({autoInitialize:!0,className:"module",initialize:function(){this.bindScrollEvents()},bindScrollEvents:function(){var b=this.$el;b.waypoint(function(c){var d=c==="up"?b.prevAll(".module:visible").first():b;d.is(":visible")||(d=d.nextAll(".module:visible").first()),d.addClass("is-in-screen").siblings().removeClass("is-in-screen"),a.fs.vent.trigger("fs:module:enter_screen_half",d)},{offset:"50%"}).waypoint(function(c){c==="down"&&a.fs.vent.trigger("fs:module:leave_screen",b.waypoint("prev"))}).waypoint(function(c){c==="up"&&a.fs.vent.trigger("fs:module:leave_screen",b)},{offset:"100%"})}})}(window),function(a){return SearchResultsPage=a.fs.BaseView.extend({autoInitialize:!0,className:"js-offscreen-content--inside",initialize:function(){_.defer(_.bind(function(){this.setCompactButtonScrollBehaviour()},this))},setCompactButtonScrollBehaviour:function(){var a=this.$(".js-search-results--compact__button"),b=this;b.$el.waypoint(function(){a.toggleClass("o-button--small-grey-bordered").toggleClass("o-button--primary-small")},{offset:function(){return-(b.$el.outerHeight()-$(window).height())}})}})}(window),function(a){return PageNavigator=a.fs.BaseView.extend({autoInitialize:!0,className:"page-navigator",initialize:function(){a.fs.vent.on("fs:module:enter_screen_half",_.bind(this.activateLink,this)),this.collectContent()},collectContent:function(){var a=this;$("body > .js-page-anchor[id]").each(function(){if($.trim($(this).html())!==""){var b=$(this);a.addAnchor(b)}})},addAnchor:function(a){var b=a.attr("id"),c="#"+b,d=a.attr("data-navigator-label");d||(d=b.charAt(0).toUpperCase()+b.slice(1));var e=c.match(/cover|top/)?"page-navigator__section page-navigator__section--cover":"page-navigator__section",f=$("<a id='page-navi_btn_"+b+"' class='"+e+" js-scroller' href='"+c+"' data-target='"+c+"' data-center-target='true'><div class='page-navigator__section__dot'></div><div class='page-navigator__section__label'>"+d+"</div></div>");f.appendTo(this.$el)},activateLink:function(a){var b=this.getTarget(a.attr("id"));b.addClass("is-active").siblings().removeClass("is-active")},getTarget:function(a){return this.$("[data-target='#"+a+"']")}})}(window),function(a){return PoliteGrabFocus=a.fs.BaseView.extend({autoInitialize:!0,className:"js-polite-grab-focus",initialize:function(){a.fs.vent.on("fs:module:enter_screen_half",_.bind(this.checkFocusability,this)),a.fs.vent.on("fs:module:leave_screen",_.bind(this.checkUnfocusability,this))},checkFocusability:function(b){if(!Modernizr.touch&&!$("#modules-editor").hasClass("is-active")&&!$("*:focus").filter(":not(.js-polite-grab-focus)").length){var c=b.find(".js-polite-grab-focus");c.length&&(c.focus(),a.fs.app.setEndOfContenteditable(c.get(0)))}},checkUnfocusability:function(a){a.find(".js-polite-grab-focus:focus").blur()}})}(window),function(a){return SampletextField=a.fs.BaseView.extend({autoInitialize:!0,className:"js-sampletext-field",events:{"blur .o-sampletext-field__input":"onBlur",keyup:"onKeyup"},initialize:function(){this.$(".o-sampletext-field__input").focus(function(){$(this).select()})},onBlur:function(a){var b=$(".o-sampletext-field__input").val();if($.cookie("sample_text")!=b){options={path:"/",secure:!0},b==""?$.removeCookie("sample_text",options):$.cookie("sample_text",b,options);var c=window.location.search.replace("?","");c=c.length>0?c.split("&"):[],b.length>0&&c.push("sample_text="+b);var d={};for(var e=0;e<c.length;++e)d[c[e].split("=")[0]]=c[e].split("=")[1];b.length==0&&delete d.sample_text,window.location.reload(!1)}},onKeyup:function(a){[9,10,13].indexOf(a.keyCode)>0&&this.onBlur(a)}})}(window),function(a){return SearchField=a.fs.BaseView.extend({autoInitialize:!0,className:"js-search-field",hasTouchKeyboard:/android|webos|iphone|ipod|ipad|blackberry|iemobile/i.test(navigator.userAgent.toLowerCase()),virtual_keyboard_shown:!1,debug_mode:!1,blurTimer:!1,events:{"click .o-search-field__magnifier":"onClickExpand","blur .o-search-field__input":"onBlurCollapse","click .o-search-field__close":"onCloseClickCollapse","click .o-search-field__reset":"onReset",touchstart:"onTouchStart","focusout .o-search-field__input":"onFocusOut","mouseup .o-search-field__input":"onFocusOut","focusin .o-search-field__input":"onFocus"},initialize:function(){a.fs.vent.on("fs:scroll",_.bind(this.scrollEvent,this))},onFocus:function(a){this.hasTouchKeyboard&&($(window).scrollTop(1),this.virtual_keyboard_shown=$(window).scrollTop()>0,$(window).scrollTop(0),this.debug_mode&&console.log("[onFocus] "+(new Date).toLocaleTimeString()+": keyboard_shown = "+this.virtual_keyboard_shown.toString()))},onTouchStart:function(a){this.virtual_keyboard_shown=!0},onFocusOut:function(a){this.virtual_keyboard_shown=!1,this.debug_mode&&console.log((new Date).toLocaleTimeString()+": focusout")},scrollEvent:function(a){this.debug_mode&&console.log("[scrollEvent] "+(new Date).toLocaleTimeString()+": keyboard_shown = "+this.virtual_keyboard_shown.toString()),this.virtual_keyboard_shown||($(".m-sub-menu .o-search-field").css("width",0),this.onBlurCollapse(a))},onClickExpand:function(){this.$el.parent().addClass("is-open"),this.$el.parent().find(".o-search-field").removeAttr("style"),setTimeout(function(){this.$(".m-sub-menu .o-search-field__input").focus()},200)},onBlurCollapse:function(a){var b=this;b.hasTouchKeyboard||parseInt(a)>300&&b.$el.parent().removeClass("is-open")},onCloseClickCollapse:function(a){a.preventDefault(),this.$el.parent().removeClass("is-open")},onReset:function(a){a.preventDefault(),this.$el.parent().find(".o-search-field__input").val("")}})}(window),function(a){return SearchHeaderTabs=a.fs.BaseView.extend({autoInitialize:!0,className:"js-search-header-tabs",events:{"click .m-search-header-tabs__label":"changeCurrentTab"},initialize:function(){this.$dropdown=$("<div class='m-search-header-tabs__dropdown m-search-header-links__cell'><a class='m-search-header-tabs__dropdown__label m-search-header__link o-button o-button--grey-medium'>"+window.dict.more+"</a><div class='m-search-header-tabs__dropdown-case'></div></div>"),$(this.$dropdown).on("click",_.bind(this.toggleDropdown,this));var a=this},setDropDown:function(){$("body").find(".m-search-header__tab-filters").length===0&&(this.$el.find(".m-search-header-tabs__dropdown").length!==0&&$(".m-search-header-tabs__dropdown-case").children(".m-search-header-tabs__label").insertBefore(this.$dropdown),this.groupOverflowingTabs())},getDropDownWidth:function(){var a=this.$dropdown.clone();a.css("display","").insertBefore(this.$el.find(".m-search-header-tabs__label").first());var b=a.outerWidth(!0);return a.remove(),b},groupOverflowingTabs:function(){var a=null;$(window).width()===320?a=this.$el.find(".m-search-header-tabs__label"):a=this.findOverflowingTabs(),a.length>0?(this.$dropdown.css("display","").insertBefore(a[0]),$(a).appendTo(this.$dropdown.find(".m-search-header-tabs__dropdown-case"))):this.$dropdown.hide(),this.updateDropdownLabel()},findOverflowingTabs:function(){var a,b,c=20,d=0,e=0,f=this.getDropDownWidth(),g=[],h=0,i=this.className,j=$(this),k=this.$el.parent(),l=[];return k.children().each(function(){var a=$(this);d+=a.outerWidth(!0),a.hasClass(i)||(e+=a.outerWidth(!0))}),a=k.width(),$(window).width()<=1024?b=$(".m-search-header__permalink").length>0?a-($(".m-search-header__permalink").outerWidth(!0)+c):a-c:b=a-e,a<=d&&this.$el.find(".m-search-header-tabs__label"
).each(function(){var a=$(this);f+=a.outerWidth(!0),f>b-c&&(h=Math.max(h,a.outerWidth(!0)),g.push(this))}),g},toggleDropdown:function(a){this.$dropdown.toggleClass("is-active")},updateDropdownLabel:function(){var a=this.$el.find(".m-search-header-tabs__label.is-active");$.contains(this.$dropdown[0],a[0])?this.$dropdown.find(".m-search-header-tabs__dropdown__label").text(a.text()).addClass("is-active"):this.$dropdown.find(".m-search-header-tabs__dropdown__label").text(window.dict.more).removeClass("is-active")},changeCurrentTab:function(b){b.preventDefault(),$link=$(b.currentTarget),this.$el.find(".m-search-header-tabs__label").removeClass("is-active"),$link.addClass("is-active");var c=$link.attr("data-tab-index"),d=this.$el.find(".m-search-header-tabs__content[data-tab-index="+c+"]");d.addClass("is-active").siblings().removeClass("is-active"),a.fs.textRenderer.renderDeferredTexts(d),this.updateDropdownLabel(),this.$dropdown.removeClass("is-active")}})}(window),function(a){return ShowMaxRows=a.fs.BaseView.extend({autoInitialize:!0,className:"js-show-if-more",initialize:function(){a.fs.vent.on("fs:resize-stop",_.bind(this.render,this)),this.render()},render:function(){_.defer(_.bind(function(){var a=$(this.$el.data("count-selector")),b=a.filter(":visible");b.length===a.length?this.$el.hide():this.$el.show()},this))}})}(window),function(a){return ShowMaxRows=a.fs.BaseView.extend({autoInitialize:!0,className:"js-show-max-rows",initialize:function(){a.fs.vent.on("fs:resize",_.bind(this.render,this)),this.render()},render:function(){this.toggleChildrenVisibility()},toggleChildrenVisibility:function(){var a=this.$el.children(),b=a.width(),c=a.height(),d=this.$el.width(),e=Math.floor(d/b),f=e*this.$el.data("max-row-count");for(var g=0;g<a.length;g++)g<f?a.eq(g).show():a.eq(g).hide()}})}(window);var Channel=function(){function c(a,c,d,e){function f(b){for(var c=0;c<b.length;c++)if(b[c].win===a)return!0;return!1}var g=!1;if(c==="*")for(var h in b){if(!b.hasOwnProperty(h))continue;if(h==="*")continue;if(typeof b[h][d]=="object"){g=f(b[h][d]);if(g)break}}else b["*"]&&b["*"][d]&&(g=f(b["*"][d])),!g&&b[c]&&b[c][d]&&(g=f(b[c][d]));if(g)throw"A channel is already bound to the same window which overlaps with origin '"+c+"' and has scope '"+d+"'";typeof b[c]!="object"&&(b[c]={}),typeof b[c][d]!="object"&&(b[c][d]=[]),b[c][d].push({win:a,handler:e})}function d(a,c,d){var e=b[c][d];for(var f=0;f<e.length;f++)e[f].win===a&&e.splice(f,1);b[c][d].length===0&&delete b[c][d]}function e(a){return Array.isArray?Array.isArray(a):a.constructor.toString().indexOf("Array")!=-1}"use strict";var a=Math.floor(Math.random()*1000001),b={},f={},g=function(a){try{var c=JSON.parse(a.data);if(typeof c!="object"||c===null)throw"malformed"}catch(a){return}var d=a.source,e=a.origin,g,h,i;if(typeof c.method=="string"){var j=c.method.split("::");j.length==2?(g=j[0],i=j[1]):i=c.method}typeof c.id!="undefined"&&(h=c.id);if(typeof i=="string"){var k=!1;if(b[e]&&b[e][g])for(var l=0;l<b[e][g].length;l++)if(b[e][g][l].win===d){b[e][g][l].handler(e,i,c),k=!0;break}if(!k&&b["*"]&&b["*"][g])for(var l=0;l<b["*"][g].length;l++)if(b["*"][g][l].win===d){b["*"][g][l].handler(e,i,c);break}}else typeof h!="undefined"&&f[h]&&f[h](e,i,c)};return window.addEventListener?window.addEventListener("message",g,!1):window.attachEvent&&window.attachEvent("onmessage",g),{build:function(b){var g=function(a){if(b.debugOutput&&window.console&&window.console.log){try{typeof a!="string"&&(a=JSON.stringify(a))}catch(c){}console.log("["+j+"] "+a)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof b!="object")throw"Channel build invoked without a proper object argument";if(!b.window||!b.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===b.window)throw"target window is same as present window -- not allowed";var h=!1;if(typeof b.origin=="string"){var i;b.origin==="*"?h=!0:null!==(i=b.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))&&(b.origin=i[0].toLowerCase(),h=!0)}if(!h)throw"Channel.build() called with an invalid origin";if(typeof b.scope!="undefined"){if(typeof b.scope!="string")throw"scope, when specified, must be a string";if(b.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var j=function(){var a="",b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(var c=0;c<5;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a}(),k={},l={},m={},n=!1,o=[],p=function(a,b,c){var d=!1,e=!1;return{origin:b,invoke:function(b,d){if(!m[a])throw"attempting to invoke a callback of a nonexistent transaction: "+a;var e=!1;for(var f=0;f<c.length;f++)if(b===c[f]){e=!0;break}if(!e)throw"request supports no such callback '"+b+"'";t({id:a,callback:b,params:d})},error:function(b,c){e=!0;if(!m[a])throw"error called for nonexistent message: "+a;delete m[a],t({id:a,error:b,message:c})},complete:function(b){e=!0;if(!m[a])throw"complete called for nonexistent message: "+a;delete m[a],t({id:a,result:b})},delayReturn:function(a){return typeof a=="boolean"&&(d=a===!0),d},completed:function(){return e}}},q=function(a,b,c){return window.setTimeout(function(){if(l[a]){var d="timeout ("+b+"ms) exceeded on method '"+c+"'";(1,l[a].error)("timeout_error",d),delete l[a],delete f[a]}},b)},r=function(a,c,d){if(typeof b.gotMessageObserver=="function")try{b.gotMessageObserver(a,d)}catch(h){g("gotMessageObserver() raised an exception: "+h.toString())}if(d.id&&c){if(k[c]){var i=p(d.id,a,d.callbacks?d.callbacks:[]);m[d.id]={};try{if(d.callbacks&&e(d.callbacks)&&d.callbacks.length>0)for(var j=0;j<d.callbacks.length;j++){var n=d.callbacks[j],o=d.params,q=n.split("/");for(var r=0;r<q.length-1;r++){var s=q[r];typeof o[s]!="object"&&(o[s]={}),o=o[s]}o[q[q.length-1]]=function(){var a=n;return function(b){return i.invoke(a,b)}}()}var t=k[c](i,d.params);!i.delayReturn()&&!i.completed()&&i.complete(t)}catch(h){var u="runtime_error",v=null;typeof h=="string"?v=h:typeof h=="object"&&(h&&e(h)&&h.length==2?(u=h[0],v=h[1]):typeof h.error=="string"&&(u=h.error,h.message?typeof h.message=="string"?v=h.message:h=h.message:v=""));if(v===null)try{v=JSON.stringify(h),typeof v=="undefined"&&(v=h.toString())}catch(w){v=h.toString()}i.error(u,v)}}}else d.id&&d.callback?!l[d.id]||!l[d.id].callbacks||!l[d.id].callbacks[d.callback]?g("ignoring invalid callback, id:"+d.id+" ("+d.callback+")"):l[d.id].callbacks[d.callback](d.params):d.id?l[d.id]?(d.error?(1,l[d.id].error)(d.error,d.message):d.result!==undefined?(1,l[d.id].success)(d.result):(1,l[d.id].success)(),delete l[d.id],delete f[d.id]):g("ignoring invalid response: "+d.id):c&&k[c]&&k[c]({origin:a},d.params)};c(b.window,b.origin,typeof b.scope=="string"?b.scope:"",r);var s=function(a){return typeof b.scope=="string"&&b.scope.length&&(a=[b.scope,a].join("::")),a},t=function(a,c){if(!a)throw"postMessage called with null message";var d=n?"post  ":"queue ";g(d+" message: "+JSON.stringify(a));if(!c&&!n)o.push(a);else{if(typeof b.postMessageObserver=="function")try{b.postMessageObserver(b.origin,a)}catch(e){g("postMessageObserver() raised an exception: "+e.toString())}b.window.postMessage(JSON.stringify(a),b.origin)}},u=function(a,c){g("ready msg received");if(n)throw"received ready message while in ready state.  help!";c==="ping"?j+="-R":j+="-L",v.unbind("__ready"),n=!0,g("ready msg accepted."),c==="ping"&&v.notify({method:"__ready",params:"pong"});while(o.length)t(o.pop());typeof b.onReady=="function"&&b.onReady(v)},v={unbind:function(a){if(k[a]){if(delete k[a])return!0;throw"can't delete method: "+a}return!1},bind:function(a,b){if(!a||typeof a!="string")throw"'method' argument to bind must be string";if(!b||typeof b!="function")throw"callback missing from bind params";if(k[a])throw"method '"+a+"' is already bound!";return k[a]=b,this},call:function(b){if(!b)throw"missing arguments to call function";if(!b.method||typeof b.method!="string")throw"'method' argument to call must be string";if(!b.success||typeof b.success!="function")throw"'success' callback missing from call";var c={},d=[],e=[],g=function(a,b){if(e.indexOf(b)>=0)throw"params cannot be a recursive data structure";e.push(b);if(typeof b=="object")for(var f in b){if(!b.hasOwnProperty(f))continue;var h=a+(a.length?"/":"")+f;typeof b[f]=="function"?(c[h]=b[f],d.push(h),delete b[f]):typeof b[f]=="object"&&b[f]!==null&&g(h,b[f])}};g("",b.params);var h={id:a,method:s(b.method),params:b.params};d.length&&(h.callbacks=d),b.timeout&&q(a,b.timeout,s(b.method)),l[a]={callbacks:c,error:b.error,success:b.success},f[a]=r,a++,t(h)},notify:function(a){if(!a)throw"missing arguments to notify function";if(!a.method||typeof a.method!="string")throw"'method' argument to notify must be string";t({method:s(a.method),params:a.params})},destroy:function(){d(b.window,b.origin,typeof b.scope=="string"?b.scope:""),window.removeEventListener?window.removeEventListener("message",r,!1):window.detachEvent&&window.detachEvent("onmessage",r),n=!1,k={},m={},l={},b.origin=null,o=[],g("channel destroyed"),j=""}};return v.bind("__ready",u),setTimeout(function(){t({method:s("__ready"),params:"ping"},!0)},0),v}}}();(function(a){a.fs.Modules.ShowModal=Backbone.View.extend({$iFrame:{},applyClickHandler:!0,events:{click:"onClickHandler"},initialize:function(b){this.checkIfClosesOnLoad(),a.fs.vent.on("fs:modals:close",_.bind(this.hideIFrames,this)),b&&b.disableClickHandler&&(this.applyClickHandler=!1),b&&b.autoInit&&this.createIframe(this.getURL(!1,this.$el))},checkIfClosesOnLoad:function(){var b=a.fs.app.querystrings;if(b.hideonload=="true")var c=$(".l-iframe",window.parent.document)},onClickHandler:function(a){return this.applyClickHandler&&(this.$el.hasClass("js-show-modal-in-parent")?this.postIframe(a):this.showIFrame(a),a.preventDefault(),a.stopPropagation(),$("body").addClass("is-modal-active")),!1},postIframe:function(a){this.fsChannel||(this.fsChannel=Channel.build({window:window.parent,origin:window.parent.location.origin,scope:"fsShowModal"})),this.fsChannel.call({method:"showModal",params:this.getURL(a),success:function(){}})},showIFrame:function(a){this.createIframe(this.getURL(a))},createIframe:function(a){var b=this;b.$iFrame=$("<iframe src='"+a+"' class='l-iframe' style = 'z-index: 999999'/>").appendTo("body").on("load",function(){b.activateIFrame(),b.bindCloseBtn()})},activateIFrame:function(){this.$iFrame.addClass("is-active")},hideIFrames:function(b){var c=b||$(".l-iframe");c.removeClass("is-active"),_.delay(function(){c.remove()},a.fs.animationDuration,this)},autoClose:function(){var b=$(".l-iframe");b.length>0&&b.children().length==0&&(a.fs.vent.trigger("fs:modals:close"),a.fs.vent.trigger("fs:user-lists:updatelist"))},bindCloseBtn:function(){var b=this,c=b.$iFrame.contents(),d=c.find(".js-close-iframe"),e=b.$iFrame.attr("src");d.on("click",function(){a.fs.vent.trigger("fs:modals:close"),$("body").removeClass("is-modal-active")}),e.indexOf("redirect")==-1&&$(window).off("hashchange",b.autoClose).on("hashchange",b.autoClose)},getURL:function(a,b){return b=b||$(a.currentTarget),b.data("target")}})})(window),function(a){if(typeof exports=="object"&&typeof module!="undefined")module.exports=a();else if(typeof define=="function"&&define.amd)define([],a);else{var b;typeof window!="undefined"?b=window:typeof global!="undefined"?b=global:typeof self!="undefined"?b=self:b=this,b.Clipboard=a()}}(function(){var a,b,c;return function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var j=typeof require=="function"&&require;if(!h&&j)return j(g,!0);if(f)return f(g,!0);var k=new Error("Cannot find module '"+g+"'");throw k.code="MODULE_NOT_FOUND",k}var l=b[g]={exports:{}};a[g][0].call(l.exports,function(b){var c=a[g][1][b];return e(c?c:b)},l,l.exports,d,a,b,c)}return b[g].exports}var f=typeof require=="function"&&require;for(var g=0;g<c.length;g++)e(c[g]);return e}({1:[function(a,b,c){var d=a("matches-selector");b.exports=function(a,b,c){var e=c?a:a.parentNode;while(e&&e!==document){if(d(e,b))return e;e=e.parentNode}}},{"matches-selector":5}],2:[function(a,b,c){function e(a,b,c,d,e){var g=f.apply(this,arguments);return a.addEventListener(c,g,e),{destroy:function(){a.removeEventListener(c,g,e)}}}function f(a,b,c,e){return function(c){c.delegateTarget=d(c.target,b,!0),c.delegateTarget&&e.call(a,c)}}var d=a("closest");b.exports=e},{closest:1}],3:[function(a,b,c){c.node=function(a){return a!==undefined&&a instanceof HTMLElement&&a.nodeType===1},c.nodeList=function(a){var b=Object.prototype.toString.call(a);return a!==undefined&&(b==="[object NodeList]"||b==="[object HTMLCollection]")&&"length"in a&&(a.length===0||c.node(a[0]))},c.string=function(a){return typeof a=="string"||a instanceof String},c.fn=function(a){var b=Object.prototype.toString.call(a);return b==="[object Function]"}},{}],4:[function(a,b,c){function f(a,b,c){if(!a&&!b&&!c)throw new Error("Missing required arguments");if(!d.string(b))throw new TypeError("Second argument must be a String");if(!d.fn(c))throw new TypeError("Third argument must be a Function");if(d.node(a))return g(a,b,c);if(d.nodeList(a))return h(a,b,c);if(d.string(a))return i(a,b,c);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function g(a,b,c){return a.addEventListener(b,c),{destroy:function(){a.removeEventListener(b,c)}}}function h(a,b,c){return Array.prototype.forEach.call(a,function(a){a.addEventListener(b,c)}),{destroy:function(){Array.prototype.forEach.call(a,function(a){a.removeEventListener(b,c)})}}}function i(a,b,c){return e(document.body,a,b,c)}var d=a("./is"),e=a("delegate");b.exports=f},{"./is":3,delegate:2}],5:[function(a,b,c){function f(a,b){if(e)return e.call(a,b);var c=a.parentNode.querySelectorAll(b);for(var d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}var d=Element.prototype,e=d.matchesSelector||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector;b.exports=f},{}],6:[function(a,b,c){function d(a){var b;if(a.nodeName==="INPUT"||a.nodeName==="TEXTAREA")a.focus(),a.setSelectionRange(0,a.value.length),b=a.value;else{a.hasAttribute("contenteditable")&&a.focus();var c=window.getSelection(),d=document.createRange();d.selectNodeContents(a),c.removeAllRanges(),c.addRange(d),b=c.toString()}return b}b.exports=d},{}],7:[function(a,b,c){function d(){}d.prototype={on:function(a,b,c){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:b,ctx:c}),this},once:function(a,b,c){function e(){d.off(a,e),b.apply(c,arguments)}var d=this;return e._=b,this.on(a,e,c)},emit:function(a){var b=[].slice.call(arguments,1),c=((this.e||(this.e={}))[a]||[]).slice(),d=0,e=c.length;for(d;d<e;d++)c[d].fn.apply(c[d].ctx,b);return this},off:function(a,b){var c=this.e||(this.e={}),d=c[a],e=[];if(d&&b)for(var f=0,g=d.length;f<g;f++)d[f].fn!==b&&d[f].fn._!==b&&e.push(d[f]);return e.length?c[a]=e:delete c[a],this}},b.exports=d},{}],8:[function(b,c,d){(function(e,f){if(typeof a=="function"&&a.amd)a(["module","select"],f);else if(typeof d!="undefined")f(c,b("select"));else{var g={exports:{}};f(g,e.select),e.clipboardAction=g.exports}})(this,function(a,b){function d(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}"use strict";var c=d(b),e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(){function a(b){f(this,a),this.resolveOptions(b),this.initSelection()}return a.prototype.resolveOptions=function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=a.action,this.emitter=a.emitter,this.target=a.target,this.text=a.text,this.trigger=a.trigger,this.selectedText=""},a.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},a.prototype.selectFake=function(){var a=this,b=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return a.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[b?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,c.default)(this.fakeElem),this.copyText()},a.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},a.prototype.selectTarget=function(){this.selectedText=(0,c.default)(this.target),this.copyText()},a.prototype.copyText=function(){var a=undefined;try{a=document.execCommand(this.action)}catch(b){a=!1}this.handleResult(a)},a.prototype.handleResult=function(a){a?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},a.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},a.prototype.destroy=function(){this.removeFake()},g(a,[{key:"action",set:function(){var a=arguments.length<=0||arguments[0]===undefined?"copy":arguments[0];this._action=a;if(this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(a){if(a!==undefined){if(!a||(typeof a=="undefined"?"undefined":e(a))!=="object"||a.nodeType!==1)throw new Error('Invalid "target" value, use a valid Element');if(this.action==="copy"&&a.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(a.hasAttribute("readonly")||a.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=a}},get:function(){return this._target}}]),a}();a.exports=h})},{select:6}],9:[function(b,c,d){(function(e,f){if(typeof a=="function"&&a.amd)a(["module","./clipboard-action","tiny-emitter","good-listener"],f);else if(typeof d!="undefined")f(c,b("./clipboard-action"),b("tiny-emitter"),b("good-listener"));else{var g={exports:{}};f(g,e.clipboardAction,e.tinyEmitter,e.goodListener),e.clipboard=g.exports}})(this,function(a,b,c,d){function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||typeof b!="object"&&typeof b!="function"?a:b}function k(a,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function m(a,b){var c="data-clipboard-"+a;if(!b.hasAttribute(c))return;return b.getAttribute(c)}"use strict";var e=h(b),f=h(c),g=h(d),l=function(a){function b(c,d){i(this,b);var e=j(this,a.call(this));return e.resolveOptions(d),e.listenClick(c),e}return k(b,a),b.prototype.resolveOptions=function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=typeof a.action=="function"?a.action:this.defaultAction,this.target=typeof a.target=="function"?a.target:this.defaultTarget,this.text=typeof a.text=="function"?a.text:this.defaultText},b.prototype.listenClick=function(a){var b=this;this.listener=(0,g.default)(a,"click",function(a){return b.onClick(a)})},b.prototype.onClick=function(a){var b=a.delegateTarget||a.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new e.default({action:this.action(b),target:this.target(b),text:this.text(b),trigger:b,emitter:this})},b.prototype.defaultAction=function(a){return m("action",a)},b.prototype.defaultTarget=function(a){var b=m("target",a);if(b)return document.querySelector(b)},b.prototype.defaultText=function(a){return m("text",a)},b.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},b}(f.default);a.exports=l})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(a){function e(a){var b="";return/iPhone|iPad/i.test(navigator.userAgent)?b="Device not supported":/Mac/i.test(navigator.userAgent)?b=window.dict.press_cmd_c_to_copy:b=window.dict.press_ctrl_c_to_copy,b}var b=$(".js-permalink-share"),c="is-active";$(document).on("click",".js-permalink__trigger",function(a){return b.toggleClass(c),a.stopPropagation(),!1}).keyup(function(a){a.keyCode==27&&b.hasClass(c)&&b.removeClass(c)});var d=new Clipboard("#copy_to_clipboard");d.on("success",function(a){a.clearSelection(),$(".m-permalink-share__message").text(window.dict.link_copied_to_clipboard).show().delay(4e3).fadeOut(300)}),d.on("error",function(a){$(".m-permalink-share__message").text(e(a.action)).show().delay(4e3).fadeOut(300)})}(window),function(a){return ModuleEditors=a.fs.BaseView.extend({autoInitialize:!0,className:"js-sortable",initialize:function(){this.initializeSorting()},initializeSorting:function(){Modernizr.touch||this.$el.sortable({containerSelector:".js-sortable",itemSelector:".js-sortable__item",placeholder:"<div class='js-sortable__placeholder'></div>",handle:".js-sortable__handle",onDragStart:_.bind(this.onDragStart,this),onDrag:_.bind(this.onDrag,this),afterMove:_.bind(this.afterMove,this),onDrop:_.bind(this.onDrop,this),onMousedown:_.bind(this.onMousedown,this),exclude:":input,button,input,textarea"})},onDragStart:function(a){var b=a.width();a.addClass("dragged").width(b)},onDrag:function(a,b,c){var d=this.$(".js-sortable__placeholder"),e=a.outerHeight();d.height(e),a.css({top:b.top})},afterMove:function(a){},onDrop:function(b,c,d){b.removeClass("dragged").removeAttr("style"),a.fs.vent.trigger("fs:sortable:drop"),this.updateOrder(),b.parent().find("textarea").focus()},updateOrder:function(){var a=$(".js-sortable__order-field");$.each(a,function(a,b){var c=$(b);c.val(a+1)})},onMousedown:function(a){return!0}})}(window),function(a){return Submenu=a.fs.BaseView.extend({autoInitialize:!0,className:"js-sub-menu",busyTimer:!1,events:{"mouseover .m-sub-menu__link":"onMouseOver"},initialize:function(){a.fs.vent.on("fs:scroll",_.bind(this.scrollEvent,this))},scrollEvent:function(){clearTimeout(this.busyTimer),this.busyTimer=setTimeout(this.hideLabels,100)},onMouseOver:function(a){clearTimeout(this.busyTimer),this.busyTimer=setTimeout(this.showLabels,100)},showLabels:function(){$(".m-sub-menu__link--label").show(100)},hideLabels:function(){$(".m-sub-menu__link--label").hide(500)}})}(window),function(a){return Tabs=a.fs.BaseView.extend({autoInitialize:!0,className:"js-tabs",events:{"click .tabs__label":"changeCurrentTab"},initialize:function(){this.$dropdown=$("<div class='tabs__dropdown'><a class='tabs__dropdown__label'>"+window.dict.more+"</a></div>"),$(this.$dropdown).on("click",_.bind(this.toggleDropdown,this)),a.fs.vent.on("fs:resize",_.bind(this.groupOverflowingTabs,this)),this.groupOverflowingTabs()},groupOverflowingTabs:function(){var a;$(window).width()===320?a=this.$el.find(".tabs__label"):a=this.findOverflowingTabs(),this.$dropdown.children(".tabs__label").insertBefore(this.$dropdown),a.length>0?(this.$dropdown.css("display","").insertBefore(a[0]),$(a).appendTo(this.$dropdown)):this.$dropdown.hide(),this.updateDropdownLabel()},findOverflowingTabs:function(){var a,b=0,c=[],d=0;return a=this.$el.width(),this.$el.find(".tabs__label").each(function(){var e=$(this);b+=e.outerWidth(),b>a&&(d=Math.max(d,e.outerWidth()),c.push(this))}),b=0,this.$el.find(".tabs__label").each(function(){b+=$(this).outerWidth(),b+d>a&&c.unshift(this)}),c},toggleDropdown:function(a){this.$dropdown.toggleClass("is-active")},updateDropdownLabel:function(){var a=this.$el.find(".tabs__label.is-active");$.contains(this.$dropdown[0],a[0])?this.$dropdown.find(".tabs__dropdown__label").text(a.text()).addClass("is-active"):this.$dropdown.find(".tabs__dropdown__label").text(window.dict.more).removeClass("is-active")},changeCurrentTab:function(b){b.preventDefault(),$link=$(b.currentTarget),this.$el.find(".tabs__label").removeClass("is-active"),$link.addClass("is-active");var c=$link.attr("data-tab-index"),d=this.$el.find(".tabs__content[data-tab-index="+c+"]");d.addClass("is-active").siblings().removeClass("is-active"),a.fs.textRenderer.renderDeferredTexts(d),this.updateDropdownLabel(),this.$dropdown.removeClass("is-active")}})}(window),function(a){a.fs.Modules.TrademarkPage=Backbone.View.extend({events:{"click .js-load-trademark":"loadTrademark"},initialize:function(){var a=$(".js-load-trademark:first");this.loadTrademark(a)},loadTrademark:function(a){var b,c=$(a.currentTarget).is("a")?$(a.currentTarget):$(a).is("a")?$(a):a.currentTarget,d=c.data("letter"),e=window.pageYOffset;$(".o-alphabet__letter.o-alphabet__letter--link").removeClass("o-alphabet__letter--selected"),c.addClass("o-alphabet__letter--selected"),$.ajax({url:"/trademarks_by_letter",type:"GET",data:{letter:d},beforeSend:function(a){b=$("<div class='loading-indicator'></div>").appendTo($(".o-alphabet"))},success:function(a){$("#trademark_list")[0]&&$("#trademark_list").html(a);var b=$("#trademark_list").closest(".l-block").offset().top-80;e>=b&&$("html, body").animate({scrollTop:Math.min(b,e)},"fast")},complete:function(a){b.remove()}})}})}(window),function(a,b,c){function d(a,b){return b=b||Error,function(){var c=2,d=arguments,e=d[0],f="["+(a?a+":":"")+e+"] ",g=d[1],h,i;f+=g.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),e=b+c;return e<d.length?cc(d[e]):a}),f+="\nhttp://errors.angularjs.org/1.4.14/"+(a?a+"/":"")+e;for(i=c,h="?";i<d.length;i++,h="&")f+=h+"p"+(i-c)+"="+encodeURIComponent(cc(d[i]));return new b(f)}}function x(a){if(a==null||W(a))return!1;if(T(a)||Q(a)||m&&a instanceof m)return!0;var b="length"in Object(a)&&a.length;return R(b)&&(b>=0&&(b-1 in a||a instanceof Array)||typeof a.item=="function")}function y(a,b,c){var d,e;if(a)if(U(a))for(d in a)d!="prototype"&&d!="length"&&d!="name"&&(!a.hasOwnProperty||a.hasOwnProperty(d))&&b.call(c,a[d],d,a);else if(T(a)||x(a)){var f=typeof a!="object";for(d=0,e=a.length;d<e;d++)(f||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==y)a.forEach(b,c,a);else if(P(a))for(d in a)b.call(c,a[d],d,a);else if(typeof a.hasOwnProperty=="function")for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);else for(d in a)h.call(a,d)&&b.call(c,a[d],d,a);return a}function z(a,b,c){var d=Object.keys(a).sort();for(var e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function A(a){return function(b,c){a(c,b)}}function B(){return++w}function C(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function D(a,b,c){var d=a.$$hashKey;for(var e=0,f=b.length;e<f;++e){var g=b[e];if(!O(g)&&!U(g))continue;var h=Object.keys(g);for(var i=0,j=h.length;i<j;i++){var k=h[i],l=g[k];c&&O(l)?S(l)?a[k]=new Date(l.valueOf()):V(l)?a[k]=new RegExp(l):l.nodeName?a[k]=l.cloneNode(!0):bf(l)?a[k]=l.clone():(O(a[k])||(a[k]=T(l)?[]:{}),D(a[k],[l],!0)):a[k]=l}}return C(a,d),a}function E(a){return D(a,o.call(arguments,1),!1)}function F(a){return D(a,o.call(arguments,1),!0)}function G(a){return parseInt(a,10)}function H(a,b){return E(Object.create(a),b)}function I(){}function J(a){return a}function K(a){return function(){return a}}function L(a){return U(a.toString)&&a.toString!==r}function M(a){return typeof a=="undefined"}function N(a){return typeof a!="undefined"}function O(a){return a!==null&&typeof a=="object"}function P(a){return a!==null&&typeof a=="object"&&!s(a)}function Q(a){return typeof a=="string"}function R(a){return typeof a=="number"}function S(a){return r.call(a)==="[object Date]"}function U(a){return typeof a=="function"}function V(a){return r.call(a)==="[object RegExp]"}function W(a){return a&&a.window===a}function X(a){return a&&a.$evalAsync&&a.$watch}function Y(a){return r.call(a)==="[object File]"}function Z(a){return r.call(a)==="[object FormData]"}function $(a){return r.call(a)==="[object Blob]"}function _(a){return typeof a=="boolean"}function ba(a){return a&&U(a.then)}function bc(a){return a&&R(a.length)&&bb.test(r.call(a))}function bf(a){return!!a&&!!(a.nodeName||a.prop&&a.attr&&a.find)}function bg(a){var b={},c=a.split(","),d;for(d=0;d<c.length;d++)b[c[d]]=!0;return b}function bh(a){return g(a.nodeName||a[0]&&a[0].nodeName)}function bi(a,b){return Array.prototype.indexOf.call(a,b)!=-1}function bj(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function bk(a,b){function e(a,b){var c=b.$$hashKey,d,e;if(T(a))for(var g=0,i=a.length;g<i;g++)b.push(f(a[g]));else if(P(a))for(e in a)b[e]=f(a[e]);else if(a&&typeof a.hasOwnProperty=="function")for(e in a)a.hasOwnProperty(e)&&(b[e]=f(a[e]));else for(e in a)h.call(a,e)&&(b[e]=f(a[e]));return C(b,c),b}function f(a){if(!O(a))return a;var b=c.indexOf(a);if(b!==-1)return d[b];if(W(a)||X(a))throw t("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var f=!1,g;return T(a)?(g=[],f=!0):bc(a)?g=new a.constructor(a):S(a)?g=new Date(a.getTime()):V(a)?(g=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),g.lastIndex=a.lastIndex):$(a)?g=new a.constructor([a],{type:a.type}):U(a.cloneNode)?g=a.cloneNode(!0):(g=Object.create(s(a)),f=!0),c.push(a),d.push(g),f?e(a,g):g}var c=[],d=[];if(b){if(bc(b))throw t("cpta","Can't copy! TypedArray destination cannot be mutated.");if(a===b)throw t("cpi","Can't copy! Source and destination are identical.");return T(b)?b.length=0:y(b,function(a,c){c!=="$$hashKey"&&delete b[c]}),c.push(a),d.push(b),e(a,b)}return f(a)}function bl(a,b){if(T(a)){b=b||[];for(var c=0,d=a.length;c<d;c++)b[c]=a[c]}else if(O(a)){b=b||{};for(var e in a)if(e.charAt(0)!=="$"||e.charAt(1)!=="$")b[e]=a[e]}return b||a}function bm(a,b){if(a===b)return!0;if(a===null||b===null)return!1;if(a!==a&&b!==b)return!0;var c=typeof a,d=typeof b,e,f,g;if(c==d&&c=="object"){if(!T(a)){if(S(a))return S(b)?bm(a.getTime(),b.getTime()):!1;if(V(a))return V(b)?a.toString()==b.toString():!1;if(X(a)||X(b)||W(a)||W(b)||T(b)||S(b)||V(b))return!1;g=bV();for(f in a){if(f.charAt(0)==="$"||U(a[f]))continue;if(!bm(a[f],b[f]))return!1;g[f]=!0}for(f in b)if(!(f in g)&&f.charAt(0)!=="$"&&N(b[f])&&!U(b[f]))return!1;return!0}if(!T(b))return!1;if((e=a.length)==b.length){for(f=0;f<e;f++)if(!bm(a[f],b[f]))return!1;return!0}}return!1}function bp(a,b,c){return a.concat(o.call(b,c))}function bq(a,b){return o.call(a,b||0)}function br(a,b){var c=arguments.length>2?bq(arguments,2):[];return!U(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,bp(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function bs(a,d){var e=d;return typeof a=="string"&&a.charAt(0)==="$"&&a.charAt(1)==="$"?e=c:W(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":X(d)&&(e="$SCOPE"),e}function bt(a,b){return M(a)?c:(R(b)||(b=b?2:null),JSON.stringify(a,bs,b))}function bu(a){return Q(a)?JSON.parse(a):a}function bw(a,b){a=a.replace(bv,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function bx(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function by(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=bw(b,d);return bx(a,c*(e-d))}function bz(a){a=m(a).clone();try{a.empty()}catch(b){}var c=m("<div>").append(a).html();try{return a[0].nodeType===bY?g(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+g(b)})}catch(b){return g(c)}}function bA(a){try{return decodeURIComponent(a)}catch(b){}}function bB(a){var b={};return y((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),c!==-1&&(d=a.substring(0,c),e=a.substring(c+1)),d=bA(d),N(d)&&(e=N(e)?bA(e):!0,h.call(b,d)?T(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d
]=e))}),b}function bC(a){var b=[];return y(a,function(a,c){T(a)?y(a,function(a){b.push(bE(c,!0)+(a===!0?"":"="+bE(a,!0)))}):b.push(bE(c,!0)+(a===!0?"":"="+bE(a,!0)))}),b.length?b.join("&"):""}function bD(a){return bE(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function bE(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function bG(a,b){var c,d,e=bF.length;for(d=0;d<e;++d){c=bF[d]+b;if(Q(c=a.getAttribute(c)))return c}return null}function bH(a,b){var c,d,e={};y(bF,function(b){var e=b+"app";!c&&a.hasAttribute&&a.hasAttribute(e)&&(c=a,d=a.getAttribute(e))}),y(bF,function(b){var e=b+"app",f;!c&&(f=a.querySelector("["+e.replace(":","\\:")+"]"))&&(c=f,d=f.getAttribute(e))}),c&&(e.strictDi=bG(c,"strict-di")!==null,b(c,d?[d]:[],e))}function bI(c,d,e){O(e)||(e={});var f={strictDi:!1};e=E(f,e);var g=function(){c=m(c);if(c.injector()){var a=c[0]===b?"document":bz(c);throw t("btstrpd","App already bootstrapped with this element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng");var f=dj(d,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},h=/^NG_ENABLE_DEBUG_INFO!/,i=/^NG_DEFER_BOOTSTRAP!/;a&&h.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(h,""));if(a&&!i.test(a.name))return g();a.name=a.name.replace(i,""),u.resumeBootstrap=function(a){return y(a,function(a){d.push(a)}),g()},U(u.resumeDeferredBootstrap)&&u.resumeDeferredBootstrap()}function bJ(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function bK(a){var b=u.element(a).injector();if(!b)throw t("test","no injector found for element argument to getTestability");return b.get("$$testability")}function bM(a,b){return b=b||"_",a.replace(bL,function(a,c){return(c?b:"")+a.toLowerCase()})}function bP(){var b;if(bN)return;var d=bo();n=M(d)?a.jQuery:d?a[d]:c,n&&n.fn.on?(m=n,E(n.fn,{scope:cR.scope,isolateScope:cR.isolateScope,controller:cR.controller,injector:cR.injector,inheritedData:cR.inheritedData}),b=n.cleanData,n.cleanData=function(a){var c;if(!bO)for(var d=0,e;(e=a[d])!=null;d++)c=n._data(e,"events"),c&&c.$destroy&&n(e).triggerHandler("$destroy");else bO=!1;b(a)}):m=cB,u.element=m,bN=!0}function bQ(a,b,c){if(!a)throw t("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function bR(a,b,c){return c&&T(a)&&(a=a[a.length-1]),bQ(U(a),b,"not a function, got "+(a&&typeof a=="object"?a.constructor.name||"Object":typeof a)),a}function bS(a,b){if(a==="hasOwnProperty")throw t("badname","hasOwnProperty is not a valid {0} name",b)}function bT(a,b,c){if(!b)return a;var d=b.split("."),e,f=a,g=d.length;for(var h=0;h<g;h++)e=d[h],a&&(a=(f=a)[e]);return!c&&U(a)?br(f,a):a}function bU(a){var b=a[0],c=a[a.length-1],d;for(var e=1;b!==c&&(b=b.nextSibling);e++)if(d||a[e]!==b)d||(d=m(o.call(a,0,e))),d.push(b);return d||a}function bV(){return Object.create(null)}function ca(a){function e(a,b,c){return a[b]||(a[b]=c())}var b=d("$injector"),c=d("ng"),f=e(a,"angular",Object);return f.$$minErr=f.$$minErr||d,e(f,"module",function(){var a={};return function d(d,f,g){var h=function(a,b){if(a==="hasOwnProperty")throw c("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),e(a,d,function(){function j(b,c,d,e){return e||(e=a),function(){return e[d||"push"]([b,c,arguments]),i}}function k(b,c){return function(e,f){return f&&U(f)&&(f.$$moduleName=d),a.push([b,c,arguments]),i}}if(!f)throw b("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var a=[],c=[],e=[],h=j("$injector","invoke","push",c),i={_invokeQueue:a,_configBlocks:c,_runBlocks:e,requires:f,name:d,provider:k("$provide","provider"),factory:k("$provide","factory"),service:k("$provide","service"),value:j("$provide","value"),constant:j("$provide","constant","unshift"),decorator:k("$provide","decorator"),animation:k("$animateProvider","register"),filter:k("$filterProvider","register"),controller:k("$controllerProvider","register"),directive:k("$compileProvider","directive"),config:h,run:function(a){return e.push(a),this}};return g&&h(g),i})}})}function cb(a){var b=[];return JSON.stringify(a,function(a,c){c=bs(a,c);if(O(c)){if(b.indexOf(c)>=0)return"...";b.push(c)}return c})}function cc(a){return typeof a=="function"?a.toString().replace(/ \{[\s\S]*$/,""):M(a)?"undefined":typeof a!="string"?cb(a):a}function ce(b){E(b,{bootstrap:bI,copy:bk,extend:E,merge:F,equals:bm,element:m,forEach:y,injector:dj,noop:I,bind:br,toJson:bt,fromJson:bu,identity:J,isUndefined:M,isDefined:N,isString:Q,isFunction:U,isObject:O,isNumber:R,isElement:bf,isArray:T,version:cd,isDate:S,lowercase:g,uppercase:i,callbacks:{counter:0},getTestability:bK,$$minErr:d,$$csp:bn,reloadWithDebugInfo:bJ}),v=ca(a),v("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:fm}),a.provider("$compile",dE).directive({a:gj,input:gR,textarea:gR,form:gq,script:hM,select:hQ,style:hS,option:hR,ngBind:gU,ngBindHtml:gW,ngBindTemplate:gV,ngClass:gZ,ngClassEven:g_,ngClassOdd:g$,ngCloak:ha,ngController:hb,ngForm:gr,ngHide:hG,ngIf:he,ngInclude:hf,ngInit:hh,ngNonBindable:hx,ngPluralize:hB,ngRepeat:hC,ngShow:hF,ngStyle:hH,ngSwitch:hI,ngSwitchWhen:hJ,ngSwitchDefault:hK,ngOptions:hA,ngTransclude:hL,ngModel:hs,ngList:hi,ngChange:gX,pattern:hU,ngPattern:hU,required:hT,ngRequired:hT,minlength:hW,ngMinlength:hW,maxlength:hV,ngMaxlength:hV,ngValue:gT,ngModelOptions:hu}).directive({ngInclude:hg}).directive(gk).directive(hc),a.provider({$anchorScroll:dk,$animate:dv,$animateCss:dy,$$animateJs:dt,$$animateQueue:du,$$AnimateRunner:dx,$$animateAsyncRun:dw,$browser:dA,$cacheFactory:dB,$controller:dO,$document:dP,$exceptionHandler:dQ,$filter:fE,$$forceReflow:dR,$interpolate:el,$interval:em,$http:eg,$httpParamSerializer:d$,$httpParamSerializerJQLike:d_,$httpBackend:ei,$xhrFactory:eh,$location:eE,$log:eF,$parse:fg,$rootScope:fl,$q:fh,$$q:fi,$sce:fs,$sceDelegate:fr,$sniffer:ft,$templateCache:dC,$templateRequest:fu,$$testability:fv,$timeout:fw,$window:fB,$$rAF:fk,$$jqLite:c$,$$HashMap:db,$$cookieReader:fD})}])}function cj(){return++cg}function co(a){return a.replace(ck,function(a,b,c,d){return d?c.toUpperCase():c}).replace(cl,"Moz$1")}function cu(a){return!cq.test(a)}function cv(a){var b=a.nodeType;return b===bW||!b||b===b$}function cw(a){for(var b in cf[a.ng339])return!0;return!1}function cx(a,b){var c,d,e,f=b.createDocumentFragment(),g=[],h;if(cu(a))g.push(b.createTextNode(a));else{c=c||f.appendChild(b.createElement("div")),d=(cr.exec(a)||["",""])[1].toLowerCase(),e=ct[d]||ct._default,c.innerHTML=e[1]+a.replace(cs,"<$1></$2>")+e[2],h=e[0];while(h--)c=c.lastChild;g=bp(g,c.childNodes),c=f.firstChild,c.textContent=""}return f.textContent="",f.innerHTML="",y(g,function(a){f.appendChild(a)}),f}function cy(a,c){c=c||b;var d;return(d=cp.exec(a))?[c.createElement(d[1])]:(d=cx(a,c))?d.childNodes:[]}function cz(a,b){var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)}function cB(a){if(a instanceof cB)return a;var b;Q(a)&&(a=bd(a),b=!0);if(!(this instanceof cB)){if(b&&a.charAt(0)!="<")throw cn("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new cB(a)}b?cL(this,cy(a)):cL(this,a)}function cC(a){return a.cloneNode(!0)}function cD(a,b){b||cF(a);if(a.querySelectorAll){var c=a.querySelectorAll("*");for(var d=0,e=c.length;d<e;d++)cF(c[d])}}function cE(a,b,c,d){if(N(d))throw cn("offargs","jqLite#off() does not support the `selector` argument");var e=cG(a),f=e&&e.events,g=e&&e.handle;if(!g)return;if(!b)for(b in f)b!=="$destroy"&&ci(a,b,g),delete f[b];else{var h=function(b){var d=f[b];N(c)&&bj(d||[],c),N(c)&&d&&d.length>0||(ci(a,b,g),delete f[b])};y(b.split(" "),function(a){h(a),cm[a]&&h(cm[a])})}}function cF(a,b){var d=a.ng339,e=d&&cf[d];if(e){if(b){delete e.data[b];return}e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),cE(a)),delete cf[d],a.ng339=c}}function cG(a,b){var d=a.ng339,e=d&&cf[d];return b&&!e&&(a.ng339=d=cj(),e=cf[d]={events:{},data:{},handle:c}),e}function cH(a,b,c){if(cv(a)){var d=N(c),e=!d&&b&&!O(b),f=!b,g=cG(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];E(h,b)}}}function cI(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function cJ(a,b){b&&a.setAttribute&&y(b.split(" "),function(b){a.setAttribute("class",bd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+bd(b)+" "," ")))})}function cK(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");y(b.split(" "),function(a){a=bd(a),c.indexOf(" "+a+" ")===-1&&(c+=a+" ")}),a.setAttribute("class",bd(c))}}function cL(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if(typeof c=="number"&&b.window!==b){if(c)for(var d=0;d<c;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function cM(a,b){return cN(a,"$"+(b||"ngController")+"Controller")}function cN(a,b,c){a.nodeType==b$&&(a=a.documentElement);var d=T(b)?b:[b];while(a){for(var e=0,f=d.length;e<f;e++)if(N(c=m.data(a,d[e])))return c;a=a.parentNode||a.nodeType===b_&&a.host}}function cO(a){cD(a,!0);while(a.firstChild)a.removeChild(a.firstChild)}function cP(a,b){b||cD(a);var c=a.parentNode;c&&c.removeChild(a)}function cQ(b,c){c=c||a,c.document.readyState==="complete"?c.setTimeout(b):m(c).on("load",b)}function cV(a,b){var c=cS[b.toLowerCase()];return c&&cT[bh(a)]&&c}function cW(a){return cU[a]}function cX(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(!f)return;if(M(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0};var h=e.specialHandlerWrapper||cY;f>1&&(e=bl(e));for(var i=0;i<f;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])};return c.elem=a,c}function cY(a,b,c){c.call(a,b)}function cZ(a,b,c){var d=b.relatedTarget;(!d||d!==a&&!cA.call(a,d))&&c.call(a,b)}function c$(){this.$get=function(){return E(cB,{hasClass:function(a,b){return a.attr&&(a=a[0]),cI(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),cK(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),cJ(a,b)}})}}function c_(a,b){var c=a&&a.$$hashKey;if(c)return typeof c=="function"&&(c=a.$$hashKey()),c;var d=typeof a;return d=="function"||d=="object"&&a!==null?c=a.$$hashKey=d+":"+(b||B)():c=d+":"+a,c}function da(a,b){if(b){var c=0;this.nextUid=function(){return++c}}y(a,this.put,this)}function dh(a){var b=a.toString().replace(df,""),c=b.match(dc);return c?"function("+(c[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function di(a,b,c){var d,e,f,g;if(typeof a=="function"){if(!(d=a.$inject)){d=[];if(a.length){if(b){if(!Q(c)||!c)c=a.name||dh(a);throw dg("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c)}e=a.toString().replace(df,""),f=e.match(dc),y(f[1].split(dd),function(a){a.replace(de,function(a,b,c){d.push(c)})})}a.$inject=d}}else T(a)?(g=a.length-1,bR(a[g],"fn"),d=a.slice(0,g)):bR(a,"fn",!0);return d}function dj(a,b){function l(a){return function(b,c){if(O(b))y(b,A(a));else return a(b,c)}}function m(a,b){bS(a,"service");if(U(b)||T(b))b=i.instantiate(b);if(!b.$get)throw dg("pget","Provider '{0}' must define $get factory method.",a);return h[a+e]=b}function n(a,b){return function c(){var c=k.invoke(b,this);if(M(c))throw dg("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function o(a,b,c){return m(a,{$get:c!==!1?n(a,b):b})}function p(a,b){return o(a,["$injector",function(a){return a.instantiate(b)}])}function q(a,b){return o(a,K(b),!1)}function r(a,b){bS(a,"constant"),h[a]=b,j[a]=b}function s(a,b){var c=i.get(a+e),d=c.$get;c.$get=function(){var a=k.invoke(d,c);return k.invoke(b,null,{$delegate:a})}}function t(a){bQ(M(a)||T(a),"modulesToLoad","not an array");var b=[],c;return y(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var d=a[b],e=i.get(d[0]);e[d[1]].apply(e,d[2])}}if(g.get(a))return;g.put(a,!0);try{Q(a)?(c=v(a),b=b.concat(t(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):U(a)?b.push(i.invoke(a)):T(a)?b.push(i.invoke(a)):bR(a,"module")}catch(e){throw T(a)&&(a=a[a.length-1]),e.message&&e.stack&&e.stack.indexOf(e.message)==-1&&(e=e.message+"\n"+e.stack),dg("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}),b}function w(a,c){function g(b,e){if(a.hasOwnProperty(b)){if(a[b]===d)throw dg("cdep","Circular dependency found: {0}",b+" <- "+f.join(" <- "));return a[b]}try{return f.unshift(b),a[b]=d,a[b]=c(b,e)}catch(g){throw a[b]===d&&delete a[b],g}finally{f.shift()}}function i(a,c,d,e){typeof d=="string"&&(e=d,d=null);var f=[],h=dj.$$annotate(a,b,e),i,j,k;for(j=0,i=h.length;j<i;j++){k=h[j];if(typeof k!="string")throw dg("itkn","Incorrect injection token! Expected service name as string, got {0}",k);f.push(d&&d.hasOwnProperty(k)?d[k]:g(k,e))}return T(a)&&(a=a[i]),a.apply(c,f)}function j(a,b,c){var d=Object.create((T(a)?a[a.length-1]:a).prototype||null),e=i(a,d,b,c);return O(e)||U(e)?e:d}return{invoke:i,instantiate:j,get:g,annotate:dj.$$annotate,has:function(b){return h.hasOwnProperty(b+e)||a.hasOwnProperty(b)}}}b=b===!0;var d={},e="Provider",f=[],g=new da([],!0),h={$provide:{provider:l(m),factory:l(o),service:l(p),value:l(q),constant:l(r),decorator:s}},i=h.$injector=w(h,function(a,b){throw u.isString(b)&&f.push(b),dg("unpr","Unknown provider: {0}",f.join(" <- "))}),j={},k=j.$injector=w(j,function(a,b){var d=i.get(a+e,b);return k.invoke(d.$get,d,c,a)});return y(t(a),function(a){a&&k.invoke(a)}),k}function dk(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function f(a){var b=null;return Array.prototype.some.call(a,function(a){if(bh(a)==="a")return b=a,!0}),b}function g(){var a=i.yOffset;if(U(a))a=a();else if(bf(a)){var c=a[0],d=b.getComputedStyle(c);d.position!=="fixed"?a=0:a=c.getBoundingClientRect().bottom}else R(a)||(a=0);return a}function h(a){if(a){a.scrollIntoView();var c=g();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function i(a){a=Q(a)?a:c.hash();var b;a?(b=e.getElementById(a))?h(b):(b=f(e.getElementsByName(a)))?h(b):a==="top"&&h(null):h(null)}var e=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){if(a===b&&a==="")return;cQ(function(){d.$evalAsync(i)})}),i}]}function dp(a,b){return!a&&!b?"":a?b?(T(a)&&(a=a.join(" ")),T(b)&&(b=b.join(" ")),a+" "+b):a:b}function dq(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===dm)return c}}function dr(a){Q(a)&&(a=a.split(" "));var b=bV();return y(a,function(a){a.length&&(b[a]=!0)}),b}function ds(a){return O(a)?a:{}}function dz(a,b,c,d){function o(a){try{a.apply(null,bq(arguments,1))}finally{l--;if(l===0)while(n.length)try{n.pop()()}catch(b){c.error(b)}}}function p(a){var b=a.indexOf("#");return b===-1?"":a.substr(b)}function x(){u=null,B(),C()}function z(){try{return h.state}catch(a){}}function B(){q=z(),q=M(q)?null:q,bm(q,A)&&(q=A),A=q}function C(){if(s===e.url()&&r===q)return;s=e.url(),r=q,y(v,function(a){a(e.url(),q)})}var e=this,f=b[0],g=a.location,h=a.history,i=a.setTimeout,j=a.clearTimeout,k={};e.isMock=!1;var l=0,n=[];e.$$completeOutstandingRequest=o,e.$$incOutstandingRequestCount=function(){l++},e.notifyWhenNoOutstandingRequests=function(a){l===0?a():n.push(a)};var q,r,s=g.href,t=b.find("base"),u=null;B(),r=q,e.url=function(b,c,f){M(f)&&(f=null),g!==a.location&&(g=a.location),h!==a.history&&(h=a.history);if(b){var i=r===f;if(s===b&&(!d.history||i))return e;var j=s&&eu(s)===eu(b);s=b,r=f;if(d.history&&(!j||!i))h[c?"replaceState":"pushState"](f,"",b),B(),r=q;else{if(!j||u)u=b;c?g.replace(b):j?g.hash=p(b):g.href=b,g.href!==b&&(u=b)}return e}return u||g.href.replace(/%27/g,"'")},e.state=function(){return q};var v=[],w=!1,A=null;e.onUrlChange=function(b){return w||(d.history&&m(a).on("popstate",x),m(a).on("hashchange",x),w=!0),v.push(b),b},e.$$applicationDestroyed=function(){m(a).off("hashchange popstate",x)},e.$$checkUrlChange=C,e.baseHref=function(){var a=t.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},e.defer=function(a,b){var c;return l++,c=i(function(){delete k[c],o(a)},b||0),k[c]=!0,c},e.defer.cancel=function(a){return k[a]?(delete k[a],j(a),o(I),!0):!1}}function dA(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new dz(a,d,b,c)}]}function dB(){this.$get=function(){function b(b,c){function l(a){a!=j&&(k?k==a&&(k=a.n):k=a,m(a.n,a.p),m(a,j),j=a,j.n=null)}function m(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",b);var e=0,f=E({},c,{id:b}),g=bV(),h=c&&c.capacity||Number.MAX_VALUE,i=bV(),j=null,k=null;return a[b]={put:function(a,b){if(M(b))return;if(h<Number.MAX_VALUE){var c=i[a]||(i[a]={key:a});l(c)}return a in g||e++,g[a]=b,e>h&&this.remove(k.key),b},get:function(a){if(h<Number.MAX_VALUE){var b=i[a];if(!b)return;l(b)}return g[a]},remove:function(a){if(h<Number.MAX_VALUE){var b=i[a];if(!b)return;b==j&&(j=b.p),b==k&&(k=b.n),m(b.n,b.p),delete i[a]}if(a in g)delete g[a],e--;else return},removeAll:function(){g=bV(),e=0,i=bV(),j=k=null},destroy:function(){g=null,f=null,i=null,delete a[b]},info:function(){return E({},f,{size:e})}}}var a={};return b.info=function(){var b={};return y(a,function(a,c){b[c]=a.info()}),b},b.get=function(b){return a[b]},b}}function dC(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function dE(a,d){function r(a,b,c){var d=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,e=bV();return y(a,function(a,f){if(a in q){e[f]=q[a];return}var g=a.match(d);if(!g)throw dD("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:g[2]==="*",optional:g[3]==="?",attrName:g[4]||f},g[4]&&(q[a]=e[f])}),e}function s(a,b){var c={isolateScope:null,bindToController:null};O(a.scope)&&(a.bindToController===!0?(c.bindToController=r(a.scope,b,!0),c.isolateScope={}):c.isolateScope=r(a.scope,b,!1)),O(a.bindToController)&&(c.bindToController=r(a.bindToController,b,!0));if(O(c.bindToController)){var d=a.controller,e=a.controllerAs;if(!d)throw dD("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);if(!dN(d,e))throw dD("noident","Cannot bind to controller without identifier for directive '{0}'.",b)}return c}function t(a){var b=a.charAt(0);if(!b||b!==g(b))throw dD("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw dD("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}var e={},f="Directive",i=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,j=/(([\w\-]+)(?:\:([^;]+))?;?)/,k=bg("ngSrc,ngSrcset,src,srcset"),o=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,p=/^(on[a-z]+|formaction)$/,q=bV();this.directive=function v(b,c){return bS(b,"directive"),Q(b)?(t(b),bQ(c,"directiveFactory"),e.hasOwnProperty(b)||(e[b]=[],a.factory(b+f,["$injector","$exceptionHandler",function(a,c){var d=[];return y(e[b],function(e,f){try{var g=a.invoke(e);U(g)?g={compile:K(g)}:!g.compile&&g.link&&(g.compile=K(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||b,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"EA",g.$$moduleName=e.$$moduleName,d.push(g)}catch(h){c(h)}}),d}])),e[b].push(c)):y(b,A(v)),this},this.aHrefSanitizationWhitelist=function(a){return N(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return N(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var u=!0;this.debugInfoEnabled=function(a){return N(a)?(u=a,this):u},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,d,q,r,t,v,w,x,z,A){function C(a,b){try{a.addClass(b)}catch(c){}}function P(a,c,d,e,f){a instanceof m||(a=m(a));var g=/\S+/;for(var h=0,i=a.length;h<i;h++){var j=a[h];j.nodeType===bY&&j.nodeValue.match(g)&&cz(j,a[h]=b.createElement("span"))}var k=S(a,c,a,d,e,f);P.$$addScopeClass(a);var l=null;return function(b,c,d){bQ(b,"scope"),f&&f.needsNewScope&&(b=b.$parent.$new()),d=d||{};var e=d.parentBoundTranscludeFn,g=d.transcludeControllers,h=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),l||(l=R(h));var i;l!=="html"?i=m(bl(l,m("<div>").append(a).html())):c?i=cR.clone.call(a):i=a;if(g)for(var j in g)i.data("$"+j+"Controller",g[j].instance);return P.$$addScopeInfo(i,b),c&&c(i,b),k&&k(b,i,i,e),i}}function R(a){var b=a&&a[0];return b?bh(b)!=="foreignobject"&&b.toString().match(/SVG/)?"svg":"html":"html"}function S(a,b,d,e,f,g){function r(a,d,e,f){var g,i,j,k,l,n,o,q,r;if(p){var s=d.length;r=new Array(s);for(l=0;l<h.length;l+=3)o=h[l],r[o]=d[o]}else r=d;for(l=0,n=h.length;l<n;)j=r[h[l++]],g=h[l++],i=h[l++],g?(g.scope?(k=a.$new(),P.$$addScopeInfo(m(j),k)):k=a,g.transcludeOnThisElement?q=V(a,g.transclude,f):!g.templateOnThisElement&&f?q=f:!f&&b?q=V(a,b):q=null,g(i,k,j,e,q)):i&&i(a,j.childNodes,c,f)}var h=[],i,j,k,l,n,o,p;for(var q=0;q<a.length;q++){i=new B,j=W(a[q],[],i,q===0?e:c,f),k=j.length?$(j,a[q],i,b,d,null,[],[],g):null,k&&k.scope&&P.$$addScopeClass(i.$$element),n=k&&k.terminal||!(l=a[q].childNodes)||!l.length?null:S(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b);if(k||n)h.push(q,k,n),o=!0,p=p||k;g=null}return o?r:null}function V(a,b,c){var d=function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})};return d}function W(a,b,c,d,e){var f=a.nodeType,g=c.$attr,h,k,m;switch(f){case bW:k=bh(a),bb(b,dG(k),"E",d,e);for(var n,o,p,q,r,s,t=a.attributes,u=0,v=t&&t.length;u<v;u++){var w=!1,x=!1;n=t[u],o=n.name,r=bd(n.value),q=dG(o);if(s=K.test(q))o=o.replace(dF,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});var y=q.match(L);y&&bc(y[1])&&(w=o,x=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),p=dG(o.toLowerCase()),g[p]=o;if(s||!c.hasOwnProperty(p))c[p]=r,cV(a,p)&&(c[p]=!0);bo(a,b,r,p,s),bb(b,p,"A",d,e,w,x)}k==="input"&&a.getAttribute("type")==="hidden"&&a.setAttribute("autocomplete","off"),m=a.className,O(m)&&(m=m.animVal);if(Q(m)&&m!=="")while(h=j.exec(m))p=dG(h[2]),bb(b,p,"C",d,e)&&(c[p]=bd(h[3])),m=m.substr(h.index+h[0].length);break;case bY:if(l===11)while(a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===bY)a.nodeValue=a.nodeValue+a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);bk(b,a.nodeValue);break;case bZ:try{h=i.exec(a.nodeValue),h&&(p=dG(h[1]),bb(b,p,"M",d,e)&&(c[p]=bd(h[2])))}catch(z){}}return b.sort(bg),b}function Y(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw dD("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==bW&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return m(d)}function Z(a,b,c){return function(d,e,f,g,h){return e=Y(e[0],b,c),a(d,e,f,g,h)}}function $(a,d,e,f,g,h,i,j,k){function V(a,b,c,d){if(a){c&&(a=Z(a,c,d)),a.require=z.require,a.directiveName=A;if(r===z||z.$$isolateScope)a=br(a,{isolateScope:!0});i.push(a)}if(b){c&&(b=Z(b,c,d)),b.require=z.require,b.directiveName=A;if(r===z||z.$$isolateScope)b=br(b,{isolateScope:!0});j.push(b)}}function $(a,b,c,d){var e;if(Q(b)){var f=b.match(o),g=b.substring(f[0].length),h=f[1]||f[3],i=f[2]==="?";h==="^^"?c=c.parent():(e=d&&d[g],e=e&&e.instance);if(!e){var j="$"+g+"Controller";e=h?c.inheritedData(j):c.data(j)}if(!e&&!i)throw dD("ctreq","Controller '{0}', required by directive '{1}', can't be found!",g,a)}else if(T(b)){e=[];for(var k=0,l=b.length;k<l;k++)e[k]=$(a,b[k],c,d)}return e||null}function _(a,b,c,d,e,f){var g=bV();for(var h in d){var i=d[h],j={$scope:i===r||i.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},k=i.controller;k=="@"&&(k=b[i.name]);var l=v(k,j,!0,i.controllerAs);g[i.name]=l,a.data("$"+i.name+"Controller",l.instance)}return g}function bb(a,b,f,g,h){function G(a,b,d){var e;return X(a)||(d=b,b=a,a=c),x&&(e=q),d||(d=x?u.parent():u),h(a,b,e,d,F)}var k,l,o,q,t,u,v,w,y;d===f?(v=e,u=e.$$element):(u=m(f),v=new B(u,e)),o=b,r?l=b.$new(!0):n&&(o=b.$parent),h&&(t=G,t.$$boundTransclude=h),p&&(q=_(u,v,t,p,l,b)),r&&(P.$$addScopeInfo(u,l,!0,!s||s!==r&&s!==r.$$originalDirective),P.$$addScopeClass(u,!0),l.$$isolateBindings=r.$$isolateBindings,w=bt(b,v,l,l.$$isolateBindings,r),w&&l.$on("$destroy",w));for(var z in q){var A=p[z],C=q[z],D=A.$$bindings.bindToController;C.identifier&&D&&(y=bt(o,v,C.instance,D,A));var E=C();E!==C.instance&&(C.instance=E,u.data("$"+A.name+"Controller",E),y&&y(),y=bt(o,v,C.instance,D,A))}for(I=0,J=i.length;I<J;I++)k=i[I],bs(k,k.isolateScope?l:b,u,v,k.require&&$(k.directiveName,k.require,u,q),t);var F=b;r&&(r.template||r.templateUrl===null)&&(F=l),a&&a(F,f.childNodes,c,h);for(I=j.length-1;I>=0;I--)k=j[I],bs(k,k.isolateScope?l:b,u,v,k.require&&$(k.directiveName,k.require,u,q),t)}k=k||{};var l=-Number.MAX_VALUE,n=k.newScopeDirective,p=k.controllerDirectives,r=k.newIsolateScopeDirective,s=k.templateDirective,t=k.nonTlbTranscludeDirective,u=!1,w=!1,x=k.hasElementTranscludeDirective,y=e.$$element=m(d),z,A,C,D=h,E=f,F,H;for(var I=0,J=a.length;I<J;I++){z=a[I];var K=z.$$start,L=z.$$end;K&&(y=Y(d,K,L)),C=c;if(l>z.priority)break;if(H=z.scope)z.templateUrl||(O(H)?(bi("new/isolated scope",r||n,z,y),r=z):bi("new/isolated scope",r,z,y)),n=n||z;A=z.name,!z.templateUrl&&z.controller&&(H=z.controller,p=p||bV(),bi("'"+A+"' controller",p[A],z,y),p[A]=z);if(H=z.transclude)u=!0,z.$$tlb||(bi("transclusion",t,z,y),t=z),H=="element"?(x=!0,l=z.priority,C=y,y=e.$$element=m(b.createComment(" "+A+": "+e[A]+" ")),d=y[0],bp(g,bq(C),d),E=P(C,f,l,D&&D.name,{nonTlbTranscludeDirective:t})):(C=m(cC(d)).contents(),y.empty(),E=P(C,f,c,c,{needsNewScope:z.$$isolateScope||z.$$newScope}));if(z.template){w=!0,bi("template",s,z,y),s=z,H=U(z.template)?z.template(y,e):z.template,H=G(H);if(z.replace){D=z,cu(H)?C=[]:C=dK(bl(z.templateNamespace,bd(H))),d=C[0];if(C.length!=1||d.nodeType!==bW)throw dD("tplrt","Template for directive '{0}' must have exactly one root element. {1}",A,"");bp(g,y,d);var M={$attr:{}},N=W(d,[],M),R=a.splice(I+1,a.length-(I+1));(r||n)&&ba(N,r,n),a=a.concat(N).concat(R),be(e,M),J=a.length}else y.html(H)}if(z.templateUrl)w=!0,bi("template",s,z,y),s=z,z.replace&&(D=z),bb=bf(a.splice(I,a.length-I),y,e,g,u&&E,i,j,{controllerDirectives:p,newScopeDirective:n!==z&&n,newIsolateScopeDirective:r,templateDirective:s,nonTlbTranscludeDirective:t}),J=a.length;else if(z.compile)try{F=z.compile(y,e,E),U(F)?V(null,F,K,L):F&&V(F.pre,F.post,K,L)}catch(S){q(S,bz(y))}z.terminal&&(bb.terminal=!0,l=Math.max(l,z.priority))}return bb.scope=n&&n.scope===!0,bb.transcludeOnThisElement=u,bb.templateOnThisElement=w,bb.transclude=E,k.hasElementTranscludeDirective=x,bb}function ba(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=H(a[d],{$$isolateScope:b,$$newScope:c})}function bb(b,c,d,g,h,i,j){if(c===h)return null;var k=null;if(e.hasOwnProperty(c))for(var l,m=a.get(c+f),n=0,o=m.length;n<o;n++)try{l=m[n];if((M(g)||g>l.priority)&&l.restrict.indexOf(d)!=-1){i&&(l=H(l,{$$start:i,$$end:j}));if(!l.$$bindings){var p=l.$$bindings=s(l,l.name);O(p.isolateScope)&&(l.$$isolateBindings=p.isolateScope)}b.push(l),k=l}}catch(r){q(r)}return k}function bc(b){if(e.hasOwnProperty(b))for(var c,d=a.get(b+f),g=0,h=d.length;g<h;g++){c=d[g];if(c.multiElement)return!0}return!1}function be(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;y(a,function(d,e){e.charAt(0)!="$"&&(b[e]&&b[e]!==d&&(d+=(e==="style"?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),y(b,function(b,f){f=="class"?(C(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):f=="style"?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):f.charAt(0)!="$"&&!a.hasOwnProperty(f)&&(a[f]=b,d[f]=c[f])})}function bf(a,b,c,d,e,f,g,h){var i=[],j,k,l=b[0],n=a.shift(),o=H(n,{templateUrl:null,transclude:null,replace:null,$$originalDirective:n}),p=U(n.templateUrl)?n.templateUrl(b,c):n.templateUrl,q=n.templateNamespace;return b.empty(),r(p).then(function(r){var s,t,u,v;r=G(r);if(n.replace){cu(r)?u=[]:u=dK(bl(q,bd(r))),s=u[0];if(u.length!=1||s.nodeType!==bW)throw dD("tplrt","Template for directive '{0}' must have exactly one root element. {1}",n.name,p);t={$attr:{}},bp(d,b,s);var w=W(s,[],t);O(n.scope)&&ba(w,!0),a=w.concat(a),be(c,t)}else s=l,b.html(r);a.unshift(o),j=$(a,s,c,e,b,n,f,g,h),y(d,function(a,c){a==s&&(d[c]=b[0])}),k=S(b[0].childNodes,e);while(i.length){var x=i.shift(),z=i.shift(),A=i.shift(),B=i.shift(),D=b[0];if(x.$$destroyed)continue;if(z!==l){var E=z.className;if(!h.hasElementTranscludeDirective||!n.replace)D=cC(s);bp(A,m(z),D),C(m(D),E)}j.transcludeOnThisElement?v=V(x,j.transclude,B):v=B,j(k,x,D,d,v)}i=null}),function(a,b,c,d,e){var f=e;if(b.$$destroyed)return;i?i.push(b,c,d,f):(j.transcludeOnThisElement&&(f=V(b,j.transclude,e)),j(k,b,c,d,f))}}function bg(a,b){var c=b.priority-a.priority;return c!==0?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function bi(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw dD("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,bz(d))}function bk(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=!!b.length;return d&&P.$$addBindingClass(b),function e(a,b){var e=b.parent();d||P.$$addBindingClass(e),P.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function bl(a,c){a=g(a||"html");switch(a){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function bn(a,b){if(b=="srcdoc")return x.HTML;var c=bh(a);if(b=="xlinkHref"||c=="form"&&b=="action"||c!="img"&&(b=="src"||b=="ngSrc"))return x.RESOURCE_URL}function bo(a,b,c,e,f){var g=bn(a,e);f=k[e]||f;var h=d(c,!0,g,f);if(!h)return;if(e==="multiple"&&bh(a)==="select")throw dD("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",bz(a));b.push({priority:100,compile:function(){return{pre:function a(a,b,i){var j=i.$$observers||(i.$$observers=bV());if(p.test(e))throw dD("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==c&&(h=k&&d(k,!0,g,f),c=k);if(!h)return;i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){e==="class"&&a!=b?i.$updateClass(a,b):i.$set(e,a)})}}}})}function bp(a,c,d){var e=c[0],f=c.length,g=e.parentNode,h,i;if(a)for(h=0,i=a.length;h<i;h++)if(a[h]==e){a[h++]=d;for(var j=h,k=j+f-1,l=a.length;j<l;j++,k++)k<l?a[j]=a[k]:delete a[j];a.length-=f-1,a.context===e&&(a.context=d);break}g&&g.replaceChild(d,e);var o=b.createDocumentFragment();o.appendChild(e),m.hasData(e)&&(m.data(d,m.data(e)),n?(bO=!0,n.cleanData([e])):delete m.cache[e[m.expando]]);for(var p=1,q=c.length;p<q;p++){var r=c[p];m(r).remove(),o.appendChild(r),delete c[p]}c[0]=d,c.length=1}function br(a,b){return E(function(){return a.apply(null,arguments)},a,b)}function bs(a,b,c,d,e,f){try{a(b,c,d,e,f)}catch(g){q(g,bz(c))}}function bt(a,b,c,e,f){var g=[];return y(e,function(e,i){var j=e.attrName,k=e.optional,l=e.mode,m,n,o,p;switch(l){case"@":!k&&!h.call(b,j)&&(c[i]=b[j]=void 0),b.$observe(j,function(a){Q(a)&&(c[i]=a)}),b.$$observers[j].$$scope=a,m=b[j],Q(m)?c[i]=d(m)(a):_(m)&&(c[i]=m);break;case"=":if(!h.call(b,j)){if(k)break;b[j]=void 0}if(k&&!b[j])break;n=t(b[j]),n.literal?p=bm:p=function(a,b){return a===b||a!==a&&b!==b},o=n.assign||function(){throw m=c[i]=n(a),dD("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[j],j,f.name)},m=c[i]=n(a);var q=function(b){return p(b,c[i])||(p(b,m)?o(a,b=c[i]):c[i]=b),m=b};q.$stateful=!0;var r;e.collection?r=a.$watchCollection(b[j],q):r=a.$watch(t(b[j],q),null,n.literal),g.push(r);break;case"&":n=b.hasOwnProperty(j)?t(b[j]):I;if(n===I&&k)break;c[i]=function(b){return n(a,b)}}}),g.length&&function(){for(var a=0,b=g.length;a<b;++a)g[a]()}}var B=function(a,b){if(b){var c=Object.keys(b),d,e,f;for(
d=0,e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};B.prototype={$normalize:dG,$addClass:function(a){a&&a.length>0&&z.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&z.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=dJ(a,b);c&&c.length&&z.addClass(this.$$element,c);var d=dJ(b,a);d&&d.length&&z.removeClass(this.$$element,d)},$set:function(a,b,c,d){var e=this.$$element[0],f=cV(e,a),g=cW(a),h=a,i;f?(this.$$element.prop(a,b),d=f):g&&(this[g]=b,h=g),this[a]=b,d?this.$attr[a]=d:(d=this.$attr[a],d||(this.$attr[a]=d=bM(a,"-"))),i=bh(this.$$element);if(i==="a"&&a==="href"||i==="img"&&a==="src")this[a]=b=A(b,a==="src");else if(i==="img"&&a==="srcset"&&N(b)){var j="",k=bd(b),l=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,m=/\s/.test(k)?l:/(,)/,n=k.split(m),o=Math.floor(n.length/2);for(var p=0;p<o;p++){var r=p*2;j+=A(bd(n[r]),!0),j+=" "+bd(n[r+1])}var s=bd(n[p*2]).split(/\s/);j+=A(bd(s[0]),!0),s.length===2&&(j+=" "+bd(s[1])),this[a]=b=j}c!==!1&&(b===null||M(b)?this.$$element.removeAttr(d):this.$$element.attr(d,b));var t=this.$$observers;t&&y(t[h],function(a){try{a(b)}catch(c){q(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=bV()),e=d[a]||(d[a]=[]);return e.push(b),w.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&!M(c[a])&&b(c[a])}),function(){bj(e,b)}}};var D=d.startSymbol(),F=d.endSymbol(),G=D=="{{"&&F=="}}"?J:function(a){return a.replace(/\{\{/g,D).replace(/}}/g,F)},K=/^ngAttr[A-Z]/,L=/^(.+)Start$/;return P.$$addBindingInfo=u?function(a,b){var c=a.data("$binding")||[];T(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:I,P.$$addBindingClass=u?function(a){C(a,"ng-binding")}:I,P.$$addScopeInfo=u?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:I,P.$$addScopeClass=u?function(a,b){C(a,b?"ng-isolate-scope":"ng-scope")}:I,P}]}function dG(a){return co(a.replace(dF,""))}function dH(a,b,c,d){}function dI(a,b,c,d,e){}function dJ(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);f:for(var g=0;g<d.length;g++){var h=d[g];for(var i=0;i<e.length;i++)if(h==e[i])continue f;c+=(c.length>0?" ":"")+h}return c}function dK(a){a=m(a);var b=a.length;if(b<=1)return a;while(b--){var c=a[b];c.nodeType===bZ&&p.call(a,b,1)}return a}function dN(a,b){if(b&&Q(b))return b;if(Q(a)){var c=dM.exec(a);if(c)return c[3]}}function dO(){var a={},b=!1;this.register=function(b,c){bS(b,"controller"),O(b)?E(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(e,f){function g(a,b,c,e){if(!a||!O(a.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=c}return function(d,h,i,j){var k,l,m,n;i=i===!0,j&&Q(j)&&(n=j);if(Q(d)){l=d.match(dM);if(!l)throw dL("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",d);m=l[1],n=n||l[3],d=a.hasOwnProperty(m)?a[m]:bT(h.$scope,m,!0)||(b?bT(f,m,!0):c),bR(d,m,!0)}if(i){var o=(T(d)?d[d.length-1]:d).prototype;k=Object.create(o||null),n&&g(h,n,k,m||d.name);var p;return p=E(function(){var a=e.invoke(d,k,h,m);return a!==k&&(O(a)||U(a))&&(k=a,n&&g(h,n,k,m||d.name)),k},{instance:k,identifier:n})}return k=e.instantiate(d,h,m),n&&g(h,n,k,m||d.name),k}}]}function dP(){this.$get=["$window",function(a){return m(a.document)}]}function dQ(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function dZ(a){return O(a)?S(a)?a.toISOString():bt(a):a}function d$(){this.$get=function(){return function a(a){if(!a)return"";var b=[];return z(a,function(a,c){if(a===null||M(a))return;T(a)?y(a,function(a,d){b.push(bE(c)+"="+bE(dZ(a)))}):b.push(bE(c)+"="+bE(dZ(a)))}),b.join("&")}}}function d_(){this.$get=function(){return function a(a){function c(a,d,e){if(a===null||M(a))return;T(a)?y(a,function(a,b){c(a,d+"["+(O(a)?b:"")+"]")}):O(a)&&!S(a)?z(a,function(a,b){c(a,d+(e?"":"[")+b+(e?"":"]"))}):b.push(bE(d)+"="+bE(dZ(a)))}if(!a)return"";var b=[];return c(a,"",!0),b.join("&")}}}function ea(a,b){if(Q(a)){var c=a.replace(dW,"").trim();if(c){var d=b("Content-Type");if(d&&d.indexOf(dS)===0||eb(c))a=bu(c)}}return a}function eb(a){var b=a.match(dU);return b&&dV[b[0]].test(a)}function ec(a){function d(a,c){a&&(b[a]=b[a]?b[a]+", "+c:c)}var b=bV(),c;return Q(a)?y(a.split("\n"),function(a){c=a.indexOf(":"),d(g(bd(a.substr(0,c))),bd(a.substr(c+1)))}):O(a)&&y(a,function(a,b){d(g(b),bd(a))}),b}function ed(a){var b;return function(c){b||(b=ec(a));if(c){var d=b[g(c)];return d===void 0&&(d=null),d}return b}}function ee(a,b,c,d){return U(d)?d(a,b,c):(y(d,function(d){a=d(a,b,c)}),a)}function ef(a){return 200<=a&&a<300}function eg(){var a=this.defaults={transformResponse:[ea],transformRequest:[function(a){return O(a)&&!Y(a)&&!$(a)&&!Z(a)?bt(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:bl(dT),put:bl(dT),patch:bl(dT)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return N(a)?(b=!!a,this):b};var e=!0;this.useLegacyPromiseExtensions=function(a){return N(a)?(e=!!a,this):e};var f=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(h,j,k,l,m,n){function q(b){function q(a){var b=E({},a);return b.data=ee(a.data,a.headers,a.status,f.transformResponse),ef(a.status)?b:m.reject(b)}function r(a,b){var c,d={};return y(a,function(a,e){U(a)?(c=a(b),c!=null&&(d[e]=c)):d[e]=a}),d}function s(b){var c=a.headers,d=E({},b.headers),e,f,h;c=E({},c.common,c[g(b.method)]);i:for(e in c){f=g(e);for(h in d)if(g(h)===f)continue i;d[e]=c[e]}return r(d,bl(b))}if(!u.isObject(b))throw d("$http")("badreq","Http request configuration must be an object.  Received: {0}",b);if(!Q(b.url))throw d("$http")("badreq","Http request configuration url must be a string.  Received: {0}",b.url);var f=E({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);f.headers=s(b),f.method=i(f.method),f.paramSerializer=Q(f.paramSerializer)?n.get(f.paramSerializer):f.paramSerializer;var h=function(b){var d=b.headers,e=ee(b.data,ed(d),c,b.transformRequest);return M(e)&&y(d,function(a,b){g(b)==="content-type"&&delete d[b]}),M(b.withCredentials)&&!M(a.withCredentials)&&(b.withCredentials=a.withCredentials),t(b,e).then(q,q)},j=[h,c],k=m.when(f);y(p,function(a){(a.request||a.requestError)&&j.unshift(a.request,a.requestError),(a.response||a.responseError)&&j.push(a.response,a.responseError)});while(j.length){var l=j.shift(),o=j.shift();k=k.then(l,o)}return e?(k.success=function(a){return bR(a,"fn"),k.then(function(b){a(b.data,b.status,b.headers,f)}),k},k.error=function(a){return bR(a,"fn"),k.then(null,function(b){a(b.data,b.status,b.headers,f)}),k}):(k.success=dY("success"),k.error=dY("error")),k}function r(a){y(arguments,function(a){q[a]=function(b,c){return q(E({},c||{},{method:a,url:b}))}})}function s(a){y(arguments,function(a){q[a]=function(b,c,d){return q(E({},d||{},{method:a,url:b,data:c}))}})}function t(d,e){function s(a,c,d,e){function f(){t(c,a,d,e)}i&&(ef(a)?i.put(p,[a,c,ec(d),e]):i.remove(p)),b?l.$applyAsync(f):(f(),l.$$phase||l.$apply())}function t(a,b,c,e){b=b>=-1?b:0,(ef(b)?f.resolve:f.reject)({data:a,status:b,headers:ed(c),config:d,statusText:e})}function u(a){t(a.data,a.status,bl(a.headers()),a.statusText)}function w(){var a=q.pendingRequests.indexOf(d);a!==-1&&q.pendingRequests.splice(a,1)}var f=m.defer(),g=f.promise,i,k,n=d.headers,p=v(d.url,d.paramSerializer(d.params));q.pendingRequests.push(d),g.then(w,w),(d.cache||a.cache)&&d.cache!==!1&&(d.method==="GET"||d.method==="JSONP")&&(i=O(d.cache)?d.cache:O(a.cache)?a.cache:o),i&&(k=i.get(p),N(k)?ba(k)?k.then(u,u):T(k)?t(k[1],k[0],bl(k[2]),k[3]):t(k,200,{},"OK"):i.put(p,g));if(M(k)){var r=fA(d.url)?j()[d.xsrfCookieName||a.xsrfCookieName]:c;r&&(n[d.xsrfHeaderName||a.xsrfHeaderName]=r),h(d.method,p,e,s,n,d.timeout,d.withCredentials,d.responseType)}return g}function v(a,b){return b.length>0&&(a+=(a.indexOf("?")==-1?"?":"&")+b),a}var o=k("$http");a.paramSerializer=Q(a.paramSerializer)?n.get(a.paramSerializer):a.paramSerializer;var p=[];return y(f,function(a){p.unshift(Q(a)?n.get(a):n.invoke(a))}),q.pendingRequests=[],r("get","delete","head","jsonp"),s("post","put","patch"),q.defaults=a,q}]}function eh(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function ei(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,c,d){return ej(a,d,a.defer,b.angular.callbacks,c[0])}]}function ej(a,b,c,d,e){function f(a,b,c){var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){ci(f,"load",g),ci(f,"error",g),e.body.removeChild(f),f=null;var h=-1,i="unknown";a&&(a.type==="load"&&!d[b].called&&(a={type:"error"}),i=a.type,h=a.type==="error"?404:200),c&&c(h,i)},ch(f,"load",g),ch(f,"error",g),e.body.appendChild(f),g}return function(e,h,i,j,k,l,m,n){function u(){p&&p(),q&&q.abort()}function v(b,d,e,f,g){N(t)&&c.cancel(t),p=q=null,b(d,e,f,g),a.$$completeOutstandingRequest(I)}a.$$incOutstandingRequestCount(),h=h||a.url();if(g(e)=="jsonp"){var o="_"+(d.counter++).toString(36);d[o]=function(a){d[o].data=a,d[o].called=!0};var p=f(h.replace("JSON_CALLBACK","angular.callbacks."+o),o,function(a,b){v(j,a,d[o].data,"",b),d[o]=I})}else{var q=b(e,h);q.open(e,h,!0),y(k,function(a,b){N(a)&&q.setRequestHeader(b,a)}),q.onload=function(){var a=q.statusText||"",b="response"in q?q.response:q.responseText,c=q.status===1223?204:q.status;c===0&&(c=b?200:fz(h).protocol=="file"?404:0),v(j,c,b,q.getAllResponseHeaders(),a)};var r=function(){v(j,-1,null,null,"")};q.onerror=r,q.onabort=r,m&&(q.withCredentials=!0);if(n)try{q.responseType=n}catch(s){if(n!=="json")throw s}q.send(M(i)?null:i)}if(l>0)var t=c(u,l);else ba(l)&&l.then(u)}}function el(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function j(a){return"\\\\\\"+a}function k(c){return c.replace(h,a).replace(i,b)}function l(a){if(a==null)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=bt(a)}return a}function m(h,i,j,m){function y(a){try{return a=x(a),m&&!N(a)?a:l(a)}catch(b){d(ek.interr(h,b))}}m=!!m;var n,o,p=0,q=[],r=[],s=h.length,t,u=[],v=[];while(p<s)if((n=h.indexOf(a,p))!=-1&&(o=h.indexOf(b,n+f))!=-1)p!==n&&u.push(k(h.substring(p,n))),t=h.substring(n+f,o),q.push(t),r.push(c(t,y)),p=o+g,v.push(u.length),u.push("");else{p!==s&&u.push(k(h.substring(p)));break}j&&u.length>1&&ek.throwNoconcat(h);if(!i||q.length){var w=function(a){for(var b=0,c=q.length;b<c;b++){if(m&&M(a[b]))return;u[v[b]]=a[b]}return u.join("")},x=function(a){return j?e.getTrusted(j,a):e.valueOf(a)};return E(function(a){var b=0,c=q.length,e=new Array(c);try{for(;b<c;b++)e[b]=r[b](a);return w(e)}catch(f){d(ek.interr(h,f))}},{exp:h,expressions:q,$$watchDelegate:function(a,b){var c;return a.$watchGroup(r,function d(d,e){var f=w(d);U(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var f=a.length,g=b.length,h=new RegExp(a.replace(/./g,j),"g"),i=new RegExp(b.replace(/./g,j),"g");return m.startSymbol=function(){return a},m.endSymbol=function(){return b},m}]}function em(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){function f(f,g,h,i){var j=arguments.length>4,k=j?bq(arguments,4):[],l=b.setInterval,m=b.clearInterval,n=0,o=N(i)&&!i,p=(o?d:c).defer(),q=p.promise;return h=N(h)?h:0,q.then(null,null,j?function(){f.apply(null,k)}:f),q.$$intervalId=l(function(){p.notify(n++),h>0&&n>=h&&(p.resolve(n),m(q.$$intervalId),delete e[q.$$intervalId]),o||a.$apply()},g),e[q.$$intervalId]=p,q}var e={};return f.cancel=function(a){return a&&a.$$intervalId in e?(e[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0):!1},f}]}function eq(a){var b=a.split("/"),c=b.length;while(c--)b[c]=bD(b[c]);return b.join("/")}function er(a,b){var c=fz(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=G(c.port)||eo[c.protocol]||null}function es(a,b){var c=a.charAt(0)!=="/";c&&(a="/"+a);var d=fz(a);b.$$path=decodeURIComponent(c&&d.pathname.charAt(0)==="/"?d.pathname.substring(1):d.pathname),b.$$search=bB(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&b.$$path.charAt(0)!="/"&&(b.$$path="/"+b.$$path)}function et(a,b){if(b.indexOf(a)===0)return b.substr(a.length)}function eu(a){var b=a.indexOf("#");return b==-1?a:a.substr(0,b)}function ev(a){return a.replace(/(#.+)|#$/,"$1")}function ew(a){return a.substr(0,eu(a).lastIndexOf("/")+1)}function ex(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function ey(a,b,c){this.$$html5=!0,c=c||"",er(a,this),this.$$parse=function(a){var c=et(b,a);if(!Q(c))throw ep("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);es(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=bC(this.$$search),c=this.$$hash?"#"+bD(this.$$hash):"";this.$$url=eq(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&e[0]==="#")return this.hash(e.slice(1)),!0;var f,g,h;return N(f=et(a,d))?(g=f,N(f=et(c,f))?h=b+(et("/",f)||f):h=a+g):N(f=et(b,d))?h=b+f:b==d+"/"&&(h=b),h&&this.$$parse(h),!!h}}function ez(a,b,c){er(a,this),this.$$parse=function(d){function g(a,b,c){var d=/^\/[A-Z]:(\/.*)/,e;return b.indexOf(c)===0&&(b=b.replace(c,"")),d.exec(b)?a:(e=d.exec(a),e?e[1]:a)}var e=et(a,d)||et(b,d),f;!M(e)&&e.charAt(0)==="#"?(f=et(c,e),M(f)&&(f=e)):this.$$html5?f=e:(f="",M(e)&&(a=d,this.replace())),es(f,this),this.$$path=g(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var b=bC(this.$$search),d=this.$$hash?"#"+bD(this.$$hash):"";this.$$url=eq(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return eu(a)==eu(b)?(this.$$parse(b),!0):!1}}function eA(a,b,c){this.$$html5=!0,ez.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&e[0]==="#")return this.hash(e.slice(1)),!0;var f,g;return a==eu(d)?f=d:(g=et(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=bC(this.$$search),d=this.$$hash?"#"+bD(this.$$hash):"";this.$$url=eq(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function eC(a){return function(){return this[a]}}function eD(a,b){return function(c){return M(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function eE(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return N(b)?(a=b,this):a},this.html5Mode=function(a){return _(a)?(b.enabled=a,this):O(a)?(_(a.enabled)&&(b.enabled=a.enabled),_(a.requireBase)&&(b.requireBase=a.requireBase),_(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function p(a,b,c){var e=h.url(),f=h.$$state;try{d.url(a,b,c),h.$$state=d.state()}catch(g){throw h.url(e),h.$$state=f,g}}function r(a,b){c.$broadcast("$locationChangeSuccess",h.absUrl(),a,h.$$state,b)}var h,i,j=d.baseHref(),k=d.url(),l;if(b.enabled){if(!j&&b.requireBase)throw ep("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=ex(k)+(j||"/"),i=e.history?ey:eA}else l=eu(k),i=ez;var n=ew(l);h=new i(l,n,"#"+a),h.$$parseLinkUrl(k,k),h.$$state=d.state();var o=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(!b.rewriteLinks||a.ctrlKey||a.metaKey||a.shiftKey||a.which==2||a.button==2)return;var e=m(a.target);while(bh(e[0])!=="a")if(e[0]===f[0]||!(e=e.parent())[0])return;var i=e.prop("href"),j=e.attr("href")||e.attr("xlink:href");O(i)&&i.toString()==="[object SVGAnimatedString]"&&(i=fz(i.animVal).href);if(o.test(i))return;i&&!e.attr("target")&&!a.isDefaultPrevented()&&h.$$parseLinkUrl(i,j)&&(a.preventDefault(),h.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}),ev(h.absUrl())!=ev(k)&&d.url(h.absUrl(),!0);var q=!0;return d.onUrlChange(function(a,b){if(M(et(n,a))){g.location.href=a;return}c.$evalAsync(function(){var d=h.absUrl(),e=h.$$state,f;a=ev(a),h.$$parse(a),h.$$state=b,f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented;if(h.absUrl()!==a)return;f?(h.$$parse(d),h.$$state=e,p(d,!1,e)):(q=!1,r(d,e))}),c.$$phase||c.$digest()}),c.$watch(function(){var a=ev(d.url()),b=ev(h.absUrl()),f=d.state(),g=h.$$replace,i=a!==b||h.$$html5&&e.history&&f!==h.$$state;if(q||i)q=!1,c.$evalAsync(function(){var b=h.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,h.$$state,f).defaultPrevented;if(h.absUrl()!==b)return;d?(h.$$parse(a),h.$$state=f):(i&&p(b,g,f===h.$$state?null:h.$$state),r(a,f))});h.$$replace=!1}),h}]}function eF(){var a=!0,b=this;this.debugEnabled=function(b){return N(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&a.stack.indexOf(a.message)===-1?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||I,f=!1;try{f=!!e.apply}catch(g){}return f?function(){var a=[];return y(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,b==null?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function eH(a,b){if(a==="__defineGetter__"||a==="__defineSetter__"||a==="__lookupGetter__"||a==="__lookupSetter__"||a==="__proto__")throw eG("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function eI(a,b){a+="";if(!Q(a))throw eG("iseccst","Cannot convert object to primitive value! Expression: {0}",b);return a}function eJ(a,b){if(a){if(a.constructor===a)throw eG("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw eG("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw eG("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw eG("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function eN(a,b){if(a){if(a.constructor===a)throw eG("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===eK||a===eL||a===eM)throw eG("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function eO(a,b){if(a)if(a===0..constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor)throw eG("isecaf","Assigning to a constructor is disallowed! Expression: {0}",b)}function eT(a,b){return typeof a!="undefined"?a:b}function eU(a,b){return typeof a=="undefined"?b:typeof b=="undefined"?a:a+b}function eV(a,b){var c=a(b);return!c.$stateful}function eW(a,b){var c,d;switch(a.type){case eS.Program:c=!0,y(a.body,function(a){eW(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case eS.Literal:a.constant=!0,a.toWatch=[];break;case eS.UnaryExpression:eW(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case eS.BinaryExpression:eW(a.left,b),eW(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case eS.LogicalExpression:eW(a.left,b),eW(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case eS.ConditionalExpression:eW(a.test,b),eW(a.alternate,b),eW(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case eS.Identifier:a.constant=!1,a.toWatch=[a];break;case eS.MemberExpression:eW(a.object,b),a.computed&&eW(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case eS.CallExpression:c=a.filter?eV(b,a.callee.name):!1,d=[],y(a.arguments,function(a){eW(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=a.filter&&eV(b,a.callee.name)?d:[a];break;case eS.AssignmentExpression:eW(a.left,b),eW(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case eS.ArrayExpression:c=!0,d=[],y(a.elements,function(a){eW(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=d;break;case eS.ObjectExpression:c=!0,d=[],y(a.properties,function(a){eW(a.value,b),c=c&&a.value.constant,a.value.constant||d.push.apply(d,a.value.toWatch)}),a.constant=c,a.toWatch=d;break;case eS.ThisExpression:a.constant=!1,a.toWatch=[]}}function eX(a){if(a.length!=1)return;var b=a[0].expression,d=b.toWatch;return d.length!==1?d:d[0]!==b?d:c}function eY(a){return a.type===eS.Identifier||a.type===eS.MemberExpression}function eZ(a){if(a.body.length===1&&eY(a.body[0].expression))return{type:eS.AssignmentExpression,left:a.body[0].expression,right:{type:eS.NGValueParameter},operator:"="}}function e$(a){return a.body.length===0||a.body.length===1&&(a.body[0].expression.type===eS.Literal||a.body[0].expression.type===eS.ArrayExpression||a.body[0].expression.type===eS.ObjectExpression)}function e_(a){return a.constant}function fa(a,b){this.astBuilder=a,this.$filter=b}function fb(a,b){this.astBuilder=a,this.$filter=b}function fd(a){return a=="constructor"}function ff(a){return U(a.valueOf)?a.valueOf():fe.call(a)}function fg(){var a=bV(),b=bV();this.$get=["$filter",function(d){function i(c,e,i){var k,q,r;i=i||h;switch(typeof c){case"string":c=c.trim(),r=c;var s=i?b:a;k=s[r];if(!k){c.charAt(0)===":"&&c.charAt(1)===":"&&(q=!0,c=c.substring(2));var t=i?g:f,u=new eR(t),v=new fc(u,d,t);k=v.parse(c),k.constant?k.$$watchDelegate=o:q?k.$$watchDelegate=k.literal?n:m:k.inputs&&(k.$$watchDelegate=l),i&&(k=j(k)),s[r]=k}return p(k,e);case"function":return p(c,e);default:return p(I,e)}}function j(a){function c(b,c,d,e){var f=h;h=!0;try{return a(b,c,d,e)}finally{h=f}}if(!a)return a;c.$$watchDelegate=a.$$watchDelegate,c.assign=j(a.assign),c.constant=a.constant,c.literal=a.literal;for(var b=0;a.inputs&&b<a.inputs.length;++b)a.inputs[b]=j(a.inputs[b]);return c.inputs=a.inputs,c}function k(a,b){if(a==null||b==null)return a===b;if(typeof a=="object"){a=ff(a);if(typeof a=="object")return!1}return a===b||a!==a&&b!==b}function l(a,b,d,e,f){var g=e.inputs,h;if(g.length===1){var i=k;return g=g[0],a.$watch(function(a){var b=g(a);return k(b,i)||(h=e(a,c,c,[b]),i=b&&ff(b)),h},b,d,f)}var j=[],l=[];for(var m=0,n=g.length;m<n;m++)j[m]=k,l[m]=null;return a.$watch(function(a){var b=!1;for(var d=0,f=g.length;d<f;d++){var i=g[d](a);if(b||(b=!k(i,j[d])))l[d]=i,j[d]=i&&ff(i)}return b&&(h=e(a,c,c,l)),h},b,d,f)}function m(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,U(b)&&b.apply(this,arguments),N(a)&&d.$$postDigest(function(){N(f)&&e()})},c)}function n(a,b,c,d){function g(a){var b=!0;return y(a,function(a){N(a)||(b=!1)}),b}var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,U(b)&&b.call(this,a,c,d),g(a)&&d.$$postDigest(function(){g(f)&&e()})},c)}function o(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){U(b)&&b.apply(this,arguments),e()},c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,e=c!==n&&c!==m,f=e?function g(c,e,f,g){var h=d&&g?g[0]:a(c,e,f,g);return b(h,c,e)}:function h(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return N(g)?h:g};return a.$$watchDelegate&&a.$$watchDelegate!==l?f.$$watchDelegate=a.$$watchDelegate:b.$stateful||(f.$$watchDelegate=l,d=!a.inputs,f.inputs=a.inputs?a.inputs:[a]),f}var e=bn().noUnsafeEval,f={csp:e,expensiveChecks:!1},g={csp:e,expensiveChecks:!0},h=!1;return i.$$runningExpensiveChecks=function(){return h},i}]}function fh(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return fj(function(b){a.$evalAsync(b)},b)}]}function fi(){this.$get=["$browser","$exceptionHandler",function(a,b){return fj(function(b){a.defer(b)},b)}]}function fj(a,b){function f(a,b,c){function e(b){return function(c){if(d)return;d=!0,b.call(a,c)}}var d=!1;return[e(b),e(c)]}function h(){this.$$state={status:0}}function i(a,b){return function(c){b.call(a,c)}}function j(a){var d,e,f;f=a.pending,a.processScheduled=!1,a.pending=c;for(var g=0,h=f.length;g<h;++g){e=f[g][0],d=f[g][a.status];try{U(d)?e.resolve(d(a.value)):a.status===1?e.resolve(a.value):e.reject(a.value)}catch(i){e.reject(i),b(i)}}}function k(b){if(b.processScheduled||!b.pending)return;b.processScheduled=!0,a(function(){j(b)})}function l(){this.promise=new h,this.resolve=i(this,this.resolve),this.reject=i(this,this.reject),this.notify=i(this,this.notify)}function r(a){var b=new l,c=0,d=T(a)?[]:{};return y(a,function(a,e){c++,p(a).then(function(a){if(d.hasOwnProperty(e))return;d[e]=a,--c||b.resolve(d)},function(a){if(d.hasOwnProperty(e))return;b.reject(a)})}),c===0&&b.resolve(d),b.promise}var e=d("$q",TypeError),g=function(){return new l};E(h.prototype,{then:function(a,b,c){if(M(a)&&M(b)&&M(c))return this;var d=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&k(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return o(b,!0,a)},function(b){return o(b,!1,a)},b)}}),E(l.prototype,{resolve:function(a){if(this.promise.$$state.status)return;a===this.promise?this.$$reject(e("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a)},$$resolve:function(a){var c,d;d=f(this,this.$$resolve,this.$$reject);try{if(O(a)||U(a))c=a&&a.then;U(c)?(this.promise.$$state.status=-1,c.call(a,d[0],d[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,k(this.promise.$$state))}catch(e){d[1](e),b(e)}},reject:function(a){if(this.promise.$$state.status)return;this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,k(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){var a,e;for(var f=0,g=d.length;f<g;f++){e=d[f][0],a=d[f][3];try{e.notify(U(a)?a(c):c)}catch(h){b(h)}}})}});var m=function(a){var b=new l;return b.reject(a),b.promise},n=function(a,b){var c=new l;return b?c.resolve(a):c.reject(a),c.promise},o=function(a,b,c){var d=null;try{U(c)&&(d=c())}catch(e){return n(e,!1)}return ba(d)?d.then(function(){return n(a,b)},function(a){return n(a,!1)}):n(a,b)},p=function(a,b,c,d){var e=new l;return e.resolve(a),e.promise.then(b,c,d)},q=p,s=function v(a){function c(a){b.resolve(a)}function d(a){b.reject(a)}if(!U(a))throw e("norslvr","Expected resolverFn, got '{0}'",a);if(this instanceof v){var b=new l;return a(c,d),b.promise}return new v(a)};return s.defer=g,s.reject=m,s.when=p,s.resolve=q,s.all=r,s}function fk(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function fl(){function f(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=B(),this.$$ChildScope=null}return b.prototype=a,b}var a=10,b=d("$rootScope"),c=null,e=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,g,i,j){function k(a){a.currentScope.$$destroyed=!0}function m(a){l===9&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function n(){this.$id=B(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function s(a){if(o.$$phase)throw b("inprog","{0} already in progress",o.$$phase);o.$$phase=a}function t(){o.$$phase=null}function u(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function v(a,b,c){do a.$$listenerCount[c]-=b,a.$$listenerCount[c]===0&&delete a.$$listenerCount[c];while(a=a.$parent)}function w(){}function z(){while(r.length)try{r.shift()()}catch(a){g(a)}e=null}function A(){e===null&&(e=j.defer(function(){o.$apply(z)}))}n.prototype={constructor:n,$new:function(a,b){var c;return b=b||this,a?(c=new n,c.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=f(this)),c=new this.$$ChildScope),c.$parent=b,c.$$prevSibling=b.$$childTail,b.$$childHead?(b.$$childTail.$$nextSibling=c,b.$$childTail=c):b.$$childHead=b.$$childTail=c,(a||b!=this)&&c.$on("$destroy",k),c},$watch:function(a,b,d,e){var f=i(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var g=this,h=g.$$watchers,j={fn:b,last:w,get:f,exp:e||a,eq:!!d};return c=null,U(b)||(j.fn=I),h||(h=g.$$watchers=[]),h.unshift(j),u(this,1),function(){bj(h,j)>=0&&u(g,-1),c=null}},$watchGroup:function(a,b){function j(){g=!1,h?(h=!1,b(d,d,f)):b(d,c,f)}var c=new Array(a.length),d=new Array(a.length),e=[],f=this,g=!1,h=!0;if(!a.length){var i=!0;return f.$evalAsync(function(){i&&b(d,d,f)}),function(){i=!1}}return a.length===1?this.$watch(a[0],function(a,e,f){d[0]=a,c[0]=e,b(d,a===e?d:c,f)}):(y(a,function(a,b){var h=f.$watch(a,function(a,e){d[b]=a,c[b]=e,g||(g=!0,f.$evalAsync(j))});e.push(h)}),function(){while(e.length)e.shift()()})},$watchCollection:function(a,b){function p(a){d=a;var b,c,f,g,i;if(M(d))return;if(!O(d))e!==d&&(e=d,j++);else if(x(d)){e!==l&&(e=l,o=e.length=0,j++),b=d.length,o!==b&&(j++,e.length=o=b);for(var k=0;k<b;k++)i=e[k],g=d[k],f=i!==i&&g!==g,!f&&i!==g&&(j++,e[k]=g)}else{e!==m&&(e=m={},o=0,j++),b=0;for(c in d)h.call(d,c)&&(b++,g=d[c],i=e[c],c in e?(f=i!==i&&g!==g,!f&&i!==g&&(j++,e[c]=g)):(o++,e[c]=g,j++));if(o>b){j++;for(c in e)h.call(d,c)||(o--,delete e[c])}}return j}function q(){n?(n=!1,b(d,d,c)):b(d,f,c);if(g)if(!O(d))f=d;else if(x(d)){f=new Array(d.length);for(var a=0;a<d.length;a++)f[a]=d[a]}else{f={};for(var e in d)h.call(d,e)&&(f[e]=d[e])}}p.$stateful=!0;var c=this,d,e,f,g=b.length>1,j=0,k=i(a,p),l=[],m={},n=!0,o=0;return this.$watch(k,q)},$digest:function(){var d,f,h,i,k,l,m,n,r=a,u,v,x=this,y=[],A,B,C;s("$digest"),j.$$checkUrlChange(),this===o&&e!==null&&(j.defer.cancel(e),z()),c=null;do{n=!1,v=x;while(p.length){try{C=p.shift(),C.scope.$eval(C.expression,C.locals)}catch(D){g(D)}c=null}E:do{if(l=v.$$watchers){m=l.length;while(m--)try{d=l[m];if(d){k=d.get;if((f=k(v))!==(h=d.last)&&!(d.eq?bm(f,h):typeof f=="number"&&typeof h=="number"&&isNaN(f)&&isNaN(h)))n=!0,c=d,d.last=d.eq?bk(f,null):f,i=d.fn,i(f,h===w?f:h,v),r<5&&(A=4-r,y[A]||(y[A]=[]),y[A].push({msg:U(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,newVal:f,oldVal:h}));else if(d===c){n=!1;break E}}}catch(D){g(D)}}if(!(u=v.$$watchersCount&&v.$$childHead||v!==x&&v.$$nextSibling))while(v!==x&&!(u=v.$$nextSibling))v=v.$parent}while(v=u);if((n||p.length)&&!(r--))throw t(),b("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",a,y)}while(n||p.length);t();while(q.length)try{q.shift()()}catch(D){g(D)}},$destroy:function(){if(this.$$destroyed)return;var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===o&&j.$$applicationDestroyed(),u(this,-this.$$watchersCount);for(var b in this.$$listenerCount)v(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=I,this.$on=this.$watch=this.$watchGroup=function(){return I},this.$$listeners={},this.$$nextSibling=null,m(this)},$eval:function(a,b){return i(a)(this,b)},$evalAsync:function(a,b){!o.$$phase&&!p.length&&j.defer(function(){p.length&&o.$digest()}),p.push({scope:this,expression:i(a),locals:b})},$$postDigest:function(a){q.push(a)},$apply:function(a){try{s("$apply");try{return this.$eval(a)}finally{t()}}catch(b){g(b)}finally{try{o.$digest()}catch(b){throw g(b),b}}},$applyAsync:function(a){function c(){b.$eval(a)}var b=this;a&&r.push(c),a=i(a),A()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);d!==-1&&(c[d]=null,v(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,f=!1
,h={name:a,targetScope:e,stopPropagation:function(){f=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},i=bp([h],arguments,1),j,k;do{d=e.$$listeners[a]||c,h.currentScope=e;for(j=0,k=d.length;j<k;j++){if(!d[j]){d.splice(j,1),j--,k--;continue}try{d[j].apply(null,i)}catch(l){g(l)}}if(f)return h.currentScope=null,h;e=e.$parent}while(e);return h.currentScope=null,h},$broadcast:function(a,b){var c=this,d=c,e=c,f={name:a,targetScope:c,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1};if(!c.$$listenerCount[a])return f;var h=bp([f],arguments,1),i,j,k;while(d=e){f.currentScope=d,i=d.$$listeners[a]||[];for(j=0,k=i.length;j<k;j++){if(!i[j]){i.splice(j,1),j--,k--;continue}try{i[j].apply(null,h)}catch(l){g(l)}}if(!(e=d.$$listenerCount[a]&&d.$$childHead||d!==c&&d.$$nextSibling))while(d!==c&&!(e=d.$$nextSibling))d=d.$parent}return f.currentScope=null,f}};var o=new n,p=o.$$asyncQueue=[],q=o.$$postDigestQueue=[],r=o.$$applyAsyncQueue=[];return o}]}function fm(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return N(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return N(a)?(b=a,this):b},this.$get=function(){return function c(c,d){var e=d?b:a,f;return f=fz(c).href,f!==""&&!f.match(e)?"unsafe:"+f:c}}}function fp(a){if(a==="self")return a;if(Q(a)){if(a.indexOf("***")>-1)throw fn("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=be(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(V(a))return new RegExp("^"+a.source+"$");throw fn("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function fq(a){var b=[];return N(a)&&y(a,function(a){b.push(fp(a))}),b}function fr(){this.SCE_CONTEXTS=fo;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=fq(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=fq(a)),b},this.$get=["$injector",function(c){function e(a,b){return a==="self"?fA(b):!!a.exec(b.href)}function f(c){var d=fz(c.toString()),f,g,h=!1;for(f=0,g=a.length;f<g;f++)if(e(a[f],d)){h=!0;break}if(h)for(f=0,g=b.length;f<g;f++)if(e(b[f],d)){h=!1;break}return h}function g(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function j(a,b){var c=i.hasOwnProperty(a)?i[a]:null;if(!c)throw fn("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(b===null||M(b)||b==="")return b;if(typeof b!="string")throw fn("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function k(a){return a instanceof h?a.$$unwrapTrustedValue():a}function l(a,b){if(b===null||M(b)||b==="")return b;var c=i.hasOwnProperty(a)?i[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(a===fo.RESOURCE_URL){if(f(b))return b;throw fn("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===fo.HTML)return d(b);throw fn("unsafe","Attempting to use an unsafe value in a safe context.")}var d=function(a){throw fn("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(d=c.get("$sanitize"));var h=g(),i={};return i[fo.HTML]=g(h),i[fo.CSS]=g(h),i[fo.URL]=g(h),i[fo.JS]=g(h),i[fo.RESOURCE_URL]=g(i[fo.URL]),{trustAs:j,getTrusted:l,valueOf:k}}]}function fs(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&l<8)throw fn("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var d=bl(fo);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=J),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,f=d.getTrusted,h=d.trustAs;return y(fo,function(a,b){var c=g(b);d[co("parse_as_"+c)]=function(b){return e(a,b)},d[co("get_trusted_"+c)]=function(b){return f(a,b)},d[co("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function ft(){this.$get=["$window","$document",function(a,b){var c={},d=G((/android (\d+)/.exec(g((a.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((a.navigator||{}).userAgent),f=b[0]||{},h,i=/^(Moz|webkit|ms)(?=[A-Z])/,j=f.body&&f.body.style,k=!1,m=!1,n;if(j){for(var o in j)if(n=i.exec(o)){h=n[0],h=h.substr(0,1).toUpperCase()+h.substr(1);break}h||(h="WebkitOpacity"in j&&"webkit"),k="transition"in j||h+"Transition"in j,m="animation"in j||h+"Animation"in j,d&&(!k||!m)&&(k=Q(j.webkitTransition),m=Q(j.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||d<4)&&!e,hasEvent:function(a){if(a==="input"&&l<=11)return!1;if(M(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:bn(),vendorPrefix:h,transitions:k,animations:m,android:d}}]}function fu(){this.$get=["$templateCache","$http","$q","$sce",function(a,b,c,d){function e(f,g){function j(a){if(!g)throw dD("tpload","Failed to load template: {0} (HTTP status: {1} {2})",f,a.status,a.statusText);return c.reject(a)}e.totalPendingRequests++;if(!Q(f)||M(a.get(f)))f=d.getTrustedResourceUrl(f);var h=b.defaults&&b.defaults.transformResponse;T(h)?h=h.filter(function(a){return a!==ea}):h===ea&&(h=null);var i={cache:a,transformResponse:h};return b.get(f,i)["finally"](function(){e.totalPendingRequests--}).then(function(b){return a.put(f,b.data),b.data},j)}return e.totalPendingRequests=0,e}]}function fv(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};return d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding"),e=[];return y(d,function(a){var d=u.element(a).data("$binding");d&&y(d,function(d){if(c){var f=new RegExp("(^|\\s)"+be(b)+"(\\s|\\||$)");f.test(d)&&e.push(a)}else d.indexOf(b)!=-1&&e.push(a)})}),e},d.findModels=function(a,b,c){var d=["ng-","data-ng-","ng\\:"];for(var e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},d.getLocation=function(){return c.url()},d.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},d}]}function fw(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function g(g,h,i){U(g)||(i=h,h=g,g=I);var j=bq(arguments,3),k=N(i)&&!i,l=(k?d:c).defer(),m=l.promise,n;return n=b.defer(function(){try{l.resolve(g.apply(null,j))}catch(b){l.reject(b),e(b)}finally{delete f[m.$$timeoutId]}k||a.$apply()},h),m.$$timeoutId=n,f[n]=l,m}var f={};return g.cancel=function(a){return a&&a.$$timeoutId in f?(f[a.$$timeoutId].reject("canceled"),delete f[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},g}]}function fz(a){var b=a;return l&&(fx.setAttribute("href",b),b=fx.href),fx.setAttribute("href",b),{href:fx.href,protocol:fx.protocol?fx.protocol.replace(/:$/,""):"",host:fx.host,search:fx.search?fx.search.replace(/^\?/,""):"",hash:fx.hash?fx.hash.replace(/^#/,""):"",hostname:fx.hostname,port:fx.port,pathname:fx.pathname.charAt(0)==="/"?fx.pathname:"/"+fx.pathname}}function fA(a){var b=Q(a)?fz(a):a;return b.protocol===fy.protocol&&b.host===fy.host}function fB(){this.$get=K(a)}function fC(a){function e(a){try{return decodeURIComponent(a)}catch(b){return a}}var b=a[0]||{},c={},d="";return function(){var a,f,g,h,i,j=b.cookie||"";if(j!==d){d=j,a=d.split("; "),c={};for(g=0;g<a.length;g++)f=a[g],h=f.indexOf("="),h>0&&(i=e(f.substring(0,h)),M(c[i])&&(c[i]=e(f.substring(h+1))))}return c}}function fD(){this.$get=fC}function fE(a){function c(d,e){if(O(d)){var f={};return y(d,function(a,b){f[b]=c(b,a)}),f}return a.factory(d+b,e)}var b="Filter";this.register=c,this.$get=["$injector",function(a){return function(c){return a.get(c+b)}}],c("currency",fM),c("date",gc),c("filter",fF),c("json",gd),c("limitTo",gg),c("lowercase",ge),c("number",fN),c("orderBy",gh),c("uppercase",gf)}function fF(){return function(a,b,c){if(!x(a)){if(a==null)return a;throw d("filter")("notarray","Expected array but received: {0}",a)}var e=fI(b),f,g;switch(e){case"function":f=b;break;case"boolean":case"null":case"number":case"string":g=!0;case"object":f=fG(b,c,g);break;default:return a}return Array.prototype.filter.call(a,f)}}function fG(a,b,c){var d=O(a)&&"$"in a,e;return b===!0?b=bm:U(b)||(b=function(a,b){return M(a)?!1:a===null||b===null?a===b:O(b)||O(a)&&!L(a)?!1:(a=g(""+a),b=g(""+b),a.indexOf(b)!==-1)}),e=function(e){return d&&!O(e)?fH(e,a.$,b,!1):fH(e,a,b,c)},e}function fH(a,b,c,d,e){var f=fI(a),g=fI(b);if(g==="string"&&b.charAt(0)==="!")return!fH(a,b.substring(1),c,d);if(T(a))return a.some(function(a){return fH(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if(h.charAt(0)!=="$"&&fH(a[h],b,c,!0))return!0;return e?!1:fH(a,b,c,!1)}if(g==="object"){for(h in b){var i=b[h];if(U(i)||M(i))continue;var j=h==="$",k=j?a:a[h];if(!fH(k,i,c,j,j))return!1}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function fI(a){return a===null?"null":typeof a}function fM(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return M(c)&&(c=b.CURRENCY_SYM),M(d)&&(d=b.PATTERNS[1].maxFrac),a==null?a:fQ(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function fN(a){var b=a.NUMBER_FORMATS;return function(a,c){return a==null?a:fQ(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function fO(a){var b=0,c,d,e,f,g;(d=a.indexOf(fK))>-1&&(a=a.replace(fK,"")),(e=a.search(/e/i))>0?(d<0&&(d=e),d+=+a.slice(e+1),a=a.substring(0,e)):d<0&&(d=a.length);for(e=0;a.charAt(e)==fL;e++);if(e==(g=a.length))c=[0],d=1;else{g--;while(a.charAt(g)==fL)g--;d-=e,c=[];for(f=0;e<=g;e++,f++)c[f]=+a.charAt(e)}return d>fJ&&(c=c.splice(0,fJ-1),b=d-1,d=1),{d:c,e:b,i:d}}function fP(a,b,c,d){var e=a.d,f=e.length-a.i;b=M(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i,h=e[g];if(g>0)e.splice(g);else{a.i=1,e.length=g=b+1;for(var i=0;i<g;i++)e[i]=0}h>=5&&e[g-1]++;for(;f<b;f++)e.push(0);var j=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0);j&&(e.unshift(j),a.i++)}function fQ(a,b,c,d,e){if(!Q(a)&&!R(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",i="",j;if(f)i="∞";else{j=fO(h),fP(j,e,b.minFrac,b.maxFrac);var k=j.d,l=j.i,m=j.e,n=[];g=k.reduce(function(a,b){return a&&!b},!0);while(l<0)k.unshift(0),l++;l>0?n=k.splice(l,k.length):(n=k,k=[0]);var o=[];k.length>=b.lgSize&&o.unshift(k.splice(-b.lgSize,k.length).join(""));while(k.length>b.gSize)o.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&o.unshift(k.join("")),i=o.join(c),n.length&&(i+=d+n.join("")),m&&(i+="e+"+m)}return a<0&&!g?b.negPre+i+b.negSuf:b.posPre+i+b.posSuf}function fR(a,b,c){var d="";a<0&&(d="-",a=-a),a=""+a;while(a.length<b)a=fL+a;return c&&(a=a.substr(a.length-b)),d+a}function fS(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();if(c>0||f>-c)f+=c;return f===0&&c==-12&&(f=12),fR(f,b,d)}}function fT(a,b){return function(c,d){var e=c["get"+a](),f=i(b?"SHORT"+a:a);return d[f][e]}}function fU(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=fR(Math[d>0?"floor":"ceil"](d/60),2)+fR(Math.abs(d%60),2),e}function fV(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(b<=4?5:12)-b)}function fW(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function fX(a){return function(b){var c=fV(b.getFullYear()),d=fW(b),e=+d- +c,f=1+Math.round(e/6048e5);return fR(f,a)}}function fY(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function fZ(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function f$(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function gc(a){function c(a){var c;if(c=a.match(b)){var d=new Date(0),e=0,f=0,g=c[8]?d.setUTCFullYear:d.setFullYear,h=c[8]?d.setUTCHours:d.setHours;c[9]&&(e=G(c[9]+c[10]),f=G(c[9]+c[11])),g.call(d,G(c[1]),G(c[2])-1,G(c[3]));var i=G(c[4]||0)-e,j=G(c[5]||0)-f,k=G(c[6]||0),l=Math.round(parseFloat("0."+(c[7]||0))*1e3);return h.call(d,i,j,k,l),d}return a}var b=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(b,d,e){var f="",g=[],h,i;d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,Q(b)&&(b=gb.test(b)?G(b):c(b)),R(b)&&(b=new Date(b));if(!S(b)||!isFinite(b.getTime()))return b;while(d)i=ga.exec(d),i?(g=bp(g,i,1),d=g.pop()):(g.push(d),d=null);var j=b.getTimezoneOffset();return e&&(j=bw(e,j),b=by(b,e,!0)),y(g,function(c){h=f_[c],f+=h?h(b,a.DATETIME_FORMATS,j):c==="''"?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}}function gd(){return function(a,b){return M(b)&&(b=2),bt(a,b)}}function gg(){return function(a,b,c){return Math.abs(Number(b))===Infinity?b=Number(b):b=G(b),isNaN(b)?a:(R(a)&&(a=a.toString()),!T(a)&&!Q(a)?a:(c=!c||isNaN(c)?0:G(c),c=c<0?Math.max(0,a.length+c):c,b>=0?a.slice(c,c+b):c===0?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)))}}function gh(a){function b(b,c){return c=c?-1:1,b.map(function(b){var d=1,e=J;if(U(b))e=b;else if(Q(b)){if(b.charAt(0)=="+"||b.charAt(0)=="-")d=b.charAt(0)=="-"?-1:1,b=b.substring(1);if(b!==""){e=a(b);if(e.constant){var f=e();e=function(a){return a[f]}}}}return{get:e,descending:d*c}})}function c(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function d(a,b){if(typeof a.valueOf=="function"){a=a.valueOf();if(c(a))return a}if(L(a)){a=a.toString();if(c(a))return a}return b}function e(a,b){var c=typeof a;return a===null?(c="string",a="null"):c==="string"?a=a.toLowerCase():c==="object"&&(a=d(a,b)),{value:a,type:c}}function f(a,b){var c=0;return a.type===b.type?a.value!==b.value&&(c=a.value<b.value?-1:1):c=a.type<b.type?-1:1,c}return function(a,c,d){function i(a,b){return{value:a,predicateValues:g.map(function(c){return e(c.get(a),b)})}}function j(a,b){var c=0;for(var d=0,e=g.length;d<e;++d){c=f(a.predicateValues[d],b.predicateValues[d])*g[d].descending;if(c)break}return c}if(!x(a))return a;T(c)||(c=[c]),c.length===0&&(c=["+"]);var g=b(c,d);g.push({get:function(){return{}},descending:d?-1:1});var h=Array.prototype.map.call(a,i);return h.sort(j),a=h.map(function(a){return a.value}),a}}function gi(a){return U(a)&&(a={link:a}),a.restrict=a.restrict||"AC",K(a)}function gn(a,b){a.$name=b}function go(a,b,d,e,f){var g=this,h=[];g.$error={},g.$$success={},g.$pending=c,g.$name=f(b.name||b.ngForm||"")(d),g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,g.$submitted=!1,g.$$parentForm=gl,g.$rollbackViewValue=function(){y(h,function(a){a.$rollbackViewValue()})},g.$commitViewValue=function(){y(h,function(a){a.$commitViewValue()})},g.$addControl=function(a){bS(a.$name,"input"),h.push(a),a.$name&&(g[a.$name]=a),a.$$parentForm=g},g.$$renameControl=function(a,b){var c=a.$name;g[c]===a&&delete g[c],g[b]=a,a.$name=b},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],y(g.$pending,function(b,c){g.$setValidity(c,null,a)}),y(g.$error,function(b,c){g.$setValidity(c,null,a)}),y(g.$$success,function(b,c){g.$setValidity(c,null,a)}),bj(h,a),a.$$parentForm=gl},hv({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(!d)a[b]=[c];else{var e=d.indexOf(c);e===-1&&d.push(c)}},unset:function(a,b,c){var d=a[b];if(!d)return;bj(d,c),d.length===0&&delete a[b]},$animate:e}),g.$setDirty=function(){e.removeClass(a,hl),e.addClass(a,hm),g.$dirty=!0,g.$pristine=!1,g.$$parentForm.$setDirty()},g.$setPristine=function(){e.setClass(a,hl,hm+" "+gm),g.$dirty=!1,g.$pristine=!0,g.$submitted=!1,y(h,function(a){a.$setPristine()})},g.$setUntouched=function(){y(h,function(a){a.$setUntouched()})},g.$setSubmitted=function(){e.addClass(a,gm),g.$submitted=!0,g.$$parentForm.$setSubmitted()}}function gE(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function gF(a,b,c,d,e,f){gG(a,b,c,d,e,f),gE(d)}function gG(a,b,c,d,e,h){var i=g(b[0].type);if(!e.android){var j=!1;b.on("compositionstart",function(a){j=!0}),b.on("compositionend",function(){j=!1,l()})}var k,l=function(a){k&&(h.defer.cancel(k),k=null);if(j)return;var e=b.val(),f=a&&a.type;i!=="password"&&(!c.ngTrim||c.ngTrim!=="false")&&(e=bd(e)),(d.$viewValue!==e||e===""&&d.$$hasNativeValidators)&&d.$setViewValue(e,f)};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){k||(k=h.defer(function(){k=null,(!b||b.value!==c)&&l(a)}))};b.on("keydown",function(a){var b=a.keyCode;if(b===91||15<b&&b<19||37<=b&&b<=40)return;m(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",m)}b.on("change",l),gC[i]&&d.$$hasNativeValidators&&i===c.type&&b.on(gB,function(a){if(!k){var b=this[f],c=b.badInput,d=b.typeMismatch;k=h.defer(function(){k=null,(b.badInput!==c||b.typeMismatch!==d)&&l(a)})}}),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function gH(a,b){if(S(a))return a;if(Q(a)){gy.lastIndex=0;var c=gy.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=fV(d),k=(e-1)*7;return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function gI(a,b){return function(c,d){var e,f;if(S(c))return c;if(Q(c)){c.charAt(0)=='"'&&c.charAt(c.length-1)=='"'&&(c=c.substring(1,c.length-1));if(gs.test(c))return new Date(c);a.lastIndex=0,e=a.exec(c);if(e)return e.shift(),d?f={yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:f={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},y(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,f.sss*1e3||0)}return NaN}}function gJ(a,b,d,e){return function f(f,g,h,i,j,k,l){function q(a){return a&&(!a.getTime||a.getTime()===a.getTime())}function r(a){return N(a)&&!S(a)?d(a)||c:a}gK(f,g,h,i),gG(f,g,h,i,j,k);var m=i&&i.$options&&i.$options.timezone,n;i.$$parserName=a,i.$parsers.push(function(a){if(i.$isEmpty(a))return null;if(b.test(a)){var e=d(a,n);return m&&(e=by(e,m)),e}return c}),i.$formatters.push(function(a){if(a&&!S(a))throw hq("datefmt","Expected `{0}` to be a date",a);return q(a)?(n=a,n&&m&&(n=by(n,m,!0)),l("date")(a,e,m)):(n=null,"")});if(N(h.min)||h.ngMin){var o;i.$validators.min=function(a){return!q(a)||M(o)||d(a)>=o},h.$observe("min",function(a){o=r(a),i.$validate()})}if(N(h.max)||h.ngMax){var p;i.$validators.max=function(a){return!q(a)||M(p)||d(a)<=p},h.$observe("max",function(a){p=r(a),i.$validate()})}}}function gK(a,b,d,e){var g=b[0],h=e.$$hasNativeValidators=O(g.validity);h&&e.$parsers.push(function(a){var d=b.prop(f)||{};return d.badInput&&!d.typeMismatch?c:a})}function gL(a,b,d,e,f,g){gK(a,b,d,e),gG(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:gv.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!R(a))throw hq("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a});if(N(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||M(h)||a>=h},d.$observe("min",function(a){N(a)&&!R(a)&&(a=parseFloat(a,10)),h=R(a)&&!isNaN(a)?a:c,e.$validate()})}if(N(d.max)||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||M(i)||a<=i},d.$observe("max",function(a){N(a)&&!R(a)&&(a=parseFloat(a,10)),i=R(a)&&!isNaN(a)?a:c,e.$validate()})}}function gM(a,b,c,d,e,f){gG(a,b,c,d,e,f),gE(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||gt.test(c)}}function gN(a,b,c,d,e,f){gG(a,b,c,d,e,f),gE(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||gu.test(c)}}function gO(a,b,c,d){M(c.name)&&b.attr("name",B());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function gP(a,b,c,d,e){var f;if(N(d)){f=a(d);if(!f.constant)throw hq("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function gQ(a,b,c,d,e,f,g,h){var i=gP(h,a,"ngTrueValue",c.ngTrueValue,!0),j=gP(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return bm(a,i)}),d.$parsers.push(function(a){return a?i:j})}function gY(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];d:for(var e=0;e<a.length;e++){var f=a[e];for(var g=0;g<b.length;g++)if(f==b[g])continue d;c.push(f)}return c}function e(a){var b=[];return T(a)?(y(a,function(a){b=b.concat(e(a))}),b):Q(a)?a.split(" "):O(a)?(y(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function j(a){var b=l(a,1);h.$addClass(b)}function k(a){var b=l(a,-1);h.$removeClass(b)}function l(a,b){var c=g.data("$classCounts")||bV(),d=[];return y(a,function(a){if(b>0||c[a])c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a)}),g.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);e=l(e,1),f=l(f,-1),e&&e.length&&c.addClass(g,e),f&&f.length&&c.removeClass(g,f)}function n(a){if(b===!0||f.$index%2===b){var c=e(a||[]);if(!i)j(c);else if(!bm(a,i)){var d=e(i);m(d,c)}}T(a)?i=a.map(function(a){return bl(a)}):i=bl(a)}var i;f.$watch(h[a],n,!0),h.$observe("class",function(b){n(f.$eval(h[a]))}),a!=="ngClass"&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var i=e(f.$eval(h[a]));g===b?j(i):k(i)}})}}}]}function hv(a){function i(a,d,e){M(d)?j("$pending",a,e):k("$pending",a,e),_(d)?d?(g(b.$error,a,e),f(b.$$success,a,e)):(f(b.$error,a,e),g(b.$$success,a,e)):(g(b.$error,a,e),g(b.$$success,a,e)),b.$pending?(l(hp,!0),b.$valid=b.$invalid=c,m("",null)):(l(hp,!1),b.$valid=hw(b.$error),b.$invalid=!b.$valid,m("",b.$valid));var h;b.$pending&&b.$pending[a]?h=c:b.$error[a]?h=!1:b.$$success[a]?h=!0:h=null,m(a,h),b.$$parentForm.$setValidity(a,h,b)}function j(a,c,d){b[a]||(b[a]={}),f(b[a],c,d)}function k(a,d,e){b[a]&&g(b[a],d,e),hw(b[a])&&(b[a]=c)}function l(a,b){b&&!e[a]?(h.addClass(d,a),e[a]=!0):!b&&e[a]&&(h.removeClass(d,a),e[a]=!1)}function m(a,b){a=a?"-"+bM(a,"-"):"",l(hj+a,b===!0),l(hk+a,b===!1)}var b=a.ctrl,d=a.$element,e={},f=a.set,g=a.unset,h=a.$animate;e[hk]=!(e[hj]=d.hasClass(hj)),b.$setValidity=i}function hw(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function hO(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}"use strict";var e=/^\/(.+)\/([a-z]*)$/,f="validity",g=function(a){return Q(a)?a.toLowerCase():a},h=Object.prototype.hasOwnProperty,i=function(a){return Q(a)?a.toUpperCase():a},j=function(a){return Q(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(a.charCodeAt(0)|32)}):a},k=function(a){return Q(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(a.charCodeAt(0)&-33)}):a};"i"!=="I".toLowerCase()&&(g=j,i=k);var l,m,n,o=[].slice,p=[].splice,q=[].push,r=Object.prototype.toString,s=Object.getPrototypeOf,t=d("ng"),u=a.angular||(a.angular={}),v,w=0;l=b.documentMode,I.$inject=[],J.$inject=[];var T=Array.isArray,bb=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,bd=function(a){return Q(a)?a.trim():a},be=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},bn=function(){function d(){try{return new Function(""),!1}catch(a){return!0}}if(!N(bn.rules)){var a=b.querySelector("[ng-csp]")||b.querySelector("[data-ng-csp]");if(a){var c=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");bn.rules={noUnsafeEval:!c||c.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!c||c.indexOf("no-inline-style")!==-1}}else bn.rules={noUnsafeEval:d(),noInlineStyle:!1}}return bn.rules},bo=function(){if(N(bo.name_))return bo.name_;var a,c,d=bF.length,e,f;for(c=0;c<d;++c){e=bF[c];if(a=b.querySelector("["+e.replace(":","\\:")+"jq]")){f=a.getAttribute(e+"jq");break}}return bo.name_=f},bv=/:/g,bF=["ng-","data-ng-","ng:","x-ng-"],bL=/[A-Z]/g,bN=!1,bO,bW=1,bX=2,bY=3,bZ=8,b$=9,b_=11,cd={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};cB.expando="ng339";var cf=cB.cache={},cg=1,ch=function(a,b,c){a.addEventListener(b,c,!1)},ci=function(a,b,c){a.removeEventListener(b,c,!1)};cB._data=function(a){return this.cache[a[this.expando]]||{}};var ck=/([\:\-\_]+(.))/g,cl=/^moz([A-Z])/,cm={mouseleave:"mouseout",mouseenter:"mouseover"},cn=d("jqLite"),cp=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,cq=/<|&#?\w+;/,cr=/<([\w:-]+)/,cs=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ct={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.optgroup=ct.option,ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td;var cA=Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},cR=cB.prototype={ready:function(c){function e(){if(d)return;d=!0,c()}var d=!1;b.readyState==="complete"?setTimeout(e):(this.on("DOMContentLoaded",e),cB(a).on("load",e))},toString:function(){var a=[];return y(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return a>=0?m(this[a]):m(this[this.length+a])},length:0,push:q,sort:[].sort,splice:[].splice},cS={};y("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){cS[g(a)]=a});var cT={};y("input,select,option,textarea,button,form,details".split(","),function(a){cT[a]=!0});var cU={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};y({data:cH,removeData:cF,hasData:cw},function(a,b){cB[b]=a}),y({data:cH,inheritedData:cN,scope:function(a){return m.data(a,"$scope")||cN(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return m.data(a,"$isolateScope")||m.data(a,"$isolateScopeNoTemplate")},controller:cM,injector:function(a){return cN(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:cI,css:function(a,b,c){b=co(b);if(N(c))a.style[b]=c;else return a.style[b]},attr:function(a,b,d){var e=a.nodeType;if(e===bY||e===bX||e===bZ)return;var f=g(b);if(cS[f])if(N(d))d?(a[b]=!0,a.setAttribute(b,f)):(a[b]=!1,a.removeAttribute(f));else return a[b]||(a.attributes.getNamedItem(b)||I).specified?f:c;else if(N(d))a.setAttribute(b,d);else if(a.getAttribute){var h=a.getAttribute(b,2);return h===null?c:h}},prop:function(a,b,c){if(N(c))a[b]=c;else return a[b]},text:function(){function a(a,b){if(M(b)){var c=a.nodeType;return c===bW||c===bY?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(M(b)){if(a.multiple&&bh(a)==="select"){var c=[];return y(a.options,function(a){a.selected&&c.push(a.value||a.text)}),c.length===0?null:c}return a.value}a.value=b},html:function(a,b){if(M(b))return a.innerHTML;cD(a,!0),a.innerHTML=b},empty:cO},function(a,b){cB.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==cO&&M(a.length==2&&a!==cI&&a!==cM?b:c)){if(O(b)){for(d=0;d<f;d++)if(a===cH)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}var g=a.$dv,h=M(g)?Math.min(f,1):f;for(var i=0;i<h;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;d<f;d++)a(this[d],b,c);return this}}),y({removeData:cF,on:function(a,b,d,e){if(N(e))throw cn("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(!cv(a))return;var f=cG(a,!0),g=f.events,h=f.handle;h||(h=f.handle=cX(a,g));var i=b.indexOf(" ")>=0?b.split(" "):[b],j=i.length,k=function(b,c,e){var f=g[b];f||(f=g[b]=[],f.specialHandlerWrapper=c,b!=="$destroy"&&!e&&ch(a,b,h)),f.push(d)};while(j--)b=i[j],cm[b]?(k(cm[b],cZ),k(b,c,!0)):k(b)},off:cE,one:function(a,b,c){a=m(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;cD(a),y(new cB(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return y(a.childNodes,function(a){a.nodeType===bW&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c!==bW&&c!==b_)return;b=new cB(b);for(var d=0,e=b.length;d<e;d++){var f=b[d];a.appendChild(f)}},prepend:function(a,b){if(a.nodeType===bW){var c=a.firstChild;y(new cB(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){cz(a,m(b).eq(0).clone()[0])},remove:cP,detach:function(a){cP(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new cB(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:cK,removeClass:cJ,toggleClass:function(a,b,c){b&&y(b.split(" "),function(b){var d=c;M(d)&&(d=!cI(a,b)),(d?cK:cJ)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==b_?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:cC,triggerHandler:function(a,b,c){var d,e,f,g=b.type||b,h=cG(a),i=h&&h.events,j=i&&i[g];j&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:I,type:g,target:a},b.type&&(d=E(d,b)),e=bl(j),f=c?[d].concat(c):[d],y(e,function(b){d.isImmediatePropagationStopped()||b.apply(a,f)}))}},function(a,b){cB.prototype[b]=function(b,c,d){var e;for(var f=0,g=this.length;f<g;f++)M(e)?(e=a(this[f],b,c,d),N(e)&&(e=m(e))):cL(e,a(this[f],b,c,d));return N(e)?e:this},cB.prototype.bind=cB.prototype.on,cB.prototype.unbind=cB.prototype.off}),da.prototype={put:function(a,b){this[c_(a,this.nextUid)]=b},get:function(a){return this[c_(a,this.nextUid)]},remove:function(a){var b=this[a=c_(a,this.nextUid)];return delete this[a],b}};var db=[function(){this.$get=[function(){return da}]}],dc=/^[^\(]*\(\s*([^\)]*)\)/m,dd=/,/,de=/^\s*(_?)(\S+?)\1\s*$/,df=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,dg=d("$injector");dj.$$annotate=di;var dl=d("$animate"),dm=1,dn="ng-animate",dt=function(){this.$get=function(){}},du=function(){var a=new da,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,d){function e(a,b,c){var d=!1;return b&&(b=Q(b)?b.split(" "):T(b)?b:[],y(b,function(b){b&&(d=!0,a[b]=c)})),d}function f(){y(b,function(b){var c=a.get(b);if(c){var d=dr(b.attr("class")),e="",f="";y(c,function(a,b){var c=!!d[b];a!==c&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)}),y(b,function(a){e&&cK(a,e),f&&cJ(a,f)}),a.remove(b)}}),b.length=0}function g(c,g,h){var i=a.get(c)||{},j=e(i,g,!0),k=e(i,h,!1);if(j||k)a.put(c,i),b.push(c),b.length===1&&d.$$postDigest(f)}return{enabled:I,on:I,off:I,pin:I,push:function(a,b,d,e){e&&e(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&g(a,d.addClass,d.removeClass);var f=new c;return f.complete(),f}}}]},dv=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&c.charAt(0)!==".")throw dl("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(arguments.length===1){this.$$classNameFilter=a instanceof RegExp?a:null;if(this.$$classNameFilter){var b=new RegExp("(\\s+|\\/)"+dn+"(\\s+|\\/)");if(b.test(this.$$classNameFilter.toString()))throw dl("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',dn)}}return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=dq(c);d&&!d.parentNode&&!d.previousElementSibling&&(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&m(d),e=e&&m(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",ds(f))},move:function(c,d,e,f){return d=d&&m(d),e=e&&m(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",ds(f))},leave:function(b,c){return a.push(b,"leave",ds(c),function(){b.remove()})},addClass:function(b,c,d){return d=ds(d),d.addClass=dp(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=ds(d),d.removeClass=dp(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=ds(e),e.addClass=dp(e.addClass,c),e.removeClass=dp(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=ds(f),f.from=f.from?E(f.from,c):c,f.to=f.to?E(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=dp(f.tempClasses,e),a.push(b,"animate",f)}}}]}],dw=function(){this.$get=["$$rAF",function(a){function c(c){b.push(c);if(b.length>1
)return;a(function(){for(var a=0;a<b.length;a++)b[a]();b=[]})}var b=[];return function(){var a=!1;return c(function(){a=!0}),function(b){a?b():c(b)}}}]},dx=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,c,d,e){function i(a){this.setHost(a);var b=c(),f=function(a){e(a,0,!1)};this._doneCallbacks=[],this._tick=function(a){var c=d[0];c&&c.hidden?f(a):b(a)},this._state=0}var f=0,g=1,h=2;return i.chain=function(a,b){function d(){if(c===a.length){b(!0);return}a[c](function(a){if(a===!1){b(!1);return}c++,d()})}var c=0;d()},i.all=function(a,b){function e(e){d=d&&e,++c===a.length&&b(d)}var c=0,d=!0;y(a,function(a){a.done(e)})},i.prototype={setHost:function(a){this.host=a||{}},done:function(a){this._state===h?a():this._doneCallbacks.push(a)},progress:I,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){b===!1?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;b._state===f&&(b._state=g,b._tick(function(){b._resolve(a)}))},_resolve:function(a){this._state!==h&&(y(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=h)}},i}]},dy=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function h(){return a(function(){i(),f||g.complete(),f=!0}),g}function i(){e.addClass&&(b.addClass(e.addClass),e.addClass=null),e.removeClass&&(b.removeClass(e.removeClass),e.removeClass=null),e.to&&(b.css(e.to),e.to=null)}var e=d||{};e.$$prepared||(e=bk(e)),e.cleanupStyles&&(e.from=e.to=null),e.from&&(b.css(e.from),e.from=null);var f,g=new c;return{start:h,end:h}}}]},dD=d("$compile");dE.$inject=["$provide","$$sanitizeUriProvider"];var dF=/^((?:x|data)[\:\-_])/i,dL=d("$controller"),dM=/^(\S+)(\s+as\s+([\w$]+))?$/,dR=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof m&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},dS="application/json",dT={"Content-Type":dS+";charset=utf-8"},dU=/^\[|^\{(?!\{)/,dV={"[":/]$/,"{":/}$/},dW=/^\)\]\}',?\n/,dX=d("$http"),dY=function(a){return function(){throw dX("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",a)}},ek=u.$interpolateMinErr=d("$interpolate");ek.throwNoconcat=function(a){throw ek("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},ek.interr=function(a,b){return ek("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var en=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,eo={http:80,https:443,ftp:21},ep=d("$location"),eB={$$html5:!1,$$replace:!1,absUrl:eC("$$absUrl"),url:function(a){if(M(a))return this.$$url;var b=en.exec(a);return(b[1]||a==="")&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||a==="")&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:eC("$$protocol"),host:eC("$$host"),port:eC("$$port"),path:eD("$$path",function(a){return a=a!==null?a.toString():"",a.charAt(0)=="/"?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(Q(a)||R(a))a=a.toString(),this.$$search=bB(a);else if(O(a))a=bk(a,{}),y(a,function(b,c){b==null&&delete a[c]}),this.$$search=a;else throw ep("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");break;default:M(b)||b===null?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:eD("$$hash",function(a){return a!==null?a.toString():""}),replace:function(){return this.$$replace=!0,this}};y([eA,ez,ey],function(a){a.prototype=Object.create(eB),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==ey||!this.$$html5)throw ep("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=M(b)?null:b,this}});var eG=d("$parse"),eK=Function.prototype.call,eL=Function.prototype.apply,eM=Function.prototype.bind,eP=bV();y("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){eP[a]=!0});var eQ={n:"\n",f:"\f",r:"\r",t:"\t",v:"","'":"'",'"':'"'},eR=function(a){this.options=a};eR.prototype={constructor:eR,lex:function(a){this.text=a,this.index=0,this.tokens=[];while(this.index<this.text.length){var b=this.text.charAt(this.index);if(b==='"'||b==="'")this.readString(b);else if(this.isNumber(b)||b==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(b))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=eP[b],f=eP[c],g=eP[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return b.indexOf(a)!==-1},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return"0"<=a&&a<="9"&&typeof a=="string"},isWhitespace:function(a){return a===" "||a==="\r"||a==="\t"||a==="\n"||a===""||a===" "},isIdent:function(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"===a||a==="$"},isExpOperator:function(a){return a==="-"||a==="+"||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=N(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw eG("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){var a="",b=this.index;while(this.index<this.text.length){var c=g(this.text.charAt(this.index));if(c=="."||this.isNumber(c))a+=c;else{var d=this.peek();if(c=="e"&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&a.charAt(a.length-1)=="e")a+=c;else if(this.isExpOperator(c)&&(!d||!this.isNumber(d))&&a.charAt(a.length-1)=="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;while(this.index<this.text.length){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;var c="",d=a,e=!1;while(this.index<this.text.length){var f=this.text.charAt(this.index);d+=f;if(e){if(f==="u"){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=eQ[f];c+=h||f}e=!1}else if(f==="\\")e=!0;else{if(f===a){this.index++,this.tokens.push({index:b,text:d,constant:!0,value:c});return}c+=f}this.index++}this.throwError("Unterminated quote",b)}};var eS=function(a,b){this.lexer=a,this.options=b};eS.Program="Program",eS.ExpressionStatement="ExpressionStatement",eS.AssignmentExpression="AssignmentExpression",eS.ConditionalExpression="ConditionalExpression",eS.LogicalExpression="LogicalExpression",eS.BinaryExpression="BinaryExpression",eS.UnaryExpression="UnaryExpression",eS.CallExpression="CallExpression",eS.MemberExpression="MemberExpression",eS.Identifier="Identifier",eS.Literal="Literal",eS.ArrayExpression="ArrayExpression",eS.Property="Property",eS.ObjectExpression="ObjectExpression",eS.ThisExpression="ThisExpression",eS.NGValueParameter="NGValueParameter",eS.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){var a=[];for(;;){this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement());if(!this.expect(";"))return{type:eS.Program,body:a}}},expressionStatement:function(){return{type:eS.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){var a=this.expression(),b;while(b=this.expect("|"))a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:eS.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var a=this.logicalOR(),b,c;if(this.expect("?")){b=this.expression();if(this.consume(":"))return c=this.expression(),{type:eS.ConditionalExpression,test:a,alternate:b,consequent:c}}return a},logicalOR:function(){var a=this.logicalAND();while(this.expect("||"))a={type:eS.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){var a=this.equality();while(this.expect("&&"))a={type:eS.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){var a=this.relational(),b;while(b=this.expect("==","!=","===","!=="))a={type:eS.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){var a=this.additive(),b;while(b=this.expect("<",">","<=",">="))a={type:eS.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){var a=this.multiplicative(),b;while(b=this.expect("+","-"))a={type:eS.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){var a=this.unary(),b;while(b=this.expect("*","/","%"))a={type:eS.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:eS.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=bk(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());var b;while(b=this.expect("(","[","."))b.text==="("?(a={type:eS.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):b.text==="["?(a={type:eS.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):b.text==="."?a={type:eS.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){var b=[a],c={type:eS.CallExpression,callee:this.identifier(),arguments:b,filter:!0};while(this.expect(":"))b.push(this.expression());return c},parseArguments:function(){var a=[];if(this.peekToken().text!==")")do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:eS.Identifier,name:a.text}},constant:function(){return{type:eS.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:eS.ArrayExpression,elements:a}},object:function(){var a=[],b;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;b={type:eS.Property,kind:"init"},this.peek().constant?b.key=this.constant():this.peek().identifier?b.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),b.value=this.expression(),a.push(b)}while(this.expect(","));return this.consume("}"),{type:eS.ObjectExpression,properties:a}},throwError:function(a,b){throw eG("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(this.tokens.length===0)throw eG("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(this.tokens.length===0)throw eG("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},constants:{"true":{type:eS.Literal,value:!0},"false":{type:eS.Literal,value:!1},"null":{type:eS.Literal,value:null},"undefined":{type:eS.Literal,value:c},"this":{type:eS.ThisExpression}}},fa.prototype={compile:function(a,b){var d=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},eW(e,d.$filter);var f="",g;this.stage="assign";if(g=eZ(e)){this.state.computing="assign";var h=this.nextId();this.recurse(g,h),this.return_(h),f="fn.assign="+this.generateFunction("assign","s,v,l")}var i=eX(e.body);d.stage="inputs",y(i,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}},d.state.computing=c;var e=d.nextId();d.recurse(a,e),d.return_(e),d.state.inputs.push(c),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e);var j='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+f+this.watchFns()+"return fn;",k=(new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",j))(this.$filter,eH,eJ,eN,eI,eO,eT,eU,a);return this.state=this.stage=c,k.literal=e$(e),k.constant=e_(e),k},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return y(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return y(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,e,f,g){var h,i,j=this,k,l;e=e||I;if(!g&&N(a.watchId)){b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,e,f,!0));return}switch(a.type){case eS.Program:y(a.body,function(b,d){j.recurse(b.expression,c,c,function(a){i=a}),d!==a.body.length-1?j.current().body.push(i,";"):j.return_(i)});break;case eS.Literal:l=this.escape(a.value),this.assign(b,l),e(l);break;case eS.UnaryExpression:this.recurse(a.argument,c,c,function(a){i=a}),l=a.operator+"("+this.ifDefined(i,0)+")",this.assign(b,l),e(l);break;case eS.BinaryExpression:this.recurse(a.left,c,c,function(a){h=a}),this.recurse(a.right,c,c,function(a){i=a}),a.operator==="+"?l=this.plus(h,i):a.operator==="-"?l=this.ifDefined(h,0)+a.operator+this.ifDefined(i,0):l="("+h+")"+a.operator+"("+i+")",this.assign(b,l),e(l);break;case eS.LogicalExpression:b=b||this.nextId(),j.recurse(a.left,b),j.if_(a.operator==="&&"?b:j.not(b),j.lazyRecurse(a.right,b)),e(b);break;case eS.ConditionalExpression:b=b||this.nextId(),j.recurse(a.test,b),j.if_(b,j.lazyRecurse(a.alternate,b),j.lazyRecurse(a.consequent,b)),e(b);break;case eS.Identifier:b=b||this.nextId(),d&&(d.context=j.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),eH(a.name),j.if_(j.stage==="inputs"||j.not(j.getHasOwnProperty("l",a.name)),function(){j.if_(j.stage==="inputs"||"s",function(){f&&f!==1&&j.if_(j.not(j.nonComputedMember("s",a.name)),j.lazyAssign(j.nonComputedMember("s",a.name),"{}")),j.assign(b,j.nonComputedMember("s",a.name))})},b&&j.lazyAssign(b,j.nonComputedMember("l",a.name))),(j.state.expensiveChecks||fd(a.name))&&j.addEnsureSafeObject(b),e(b);break;case eS.MemberExpression:h=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),j.recurse(a.object,h,c,function(){j.if_(j.notNull(h),function(){f&&f!==1&&j.addEnsureSafeAssignContext(h);if(a.computed)i=j.nextId(),j.recurse(a.property,i),j.getStringValue(i),j.addEnsureSafeMemberName(i),f&&f!==1&&j.if_(j.not(j.computedMember(h,i)),j.lazyAssign(j.computedMember(h,i),"{}")),l=j.ensureSafeObject(j.computedMember(h,i)),j.assign(b,l),d&&(d.computed=!0,d.name=i);else{eH(a.property.name),f&&f!==1&&j.if_(j.not(j.nonComputedMember(h,a.property.name)),j.lazyAssign(j.nonComputedMember(h,a.property.name),"{}")),l=j.nonComputedMember(h,a.property.name);if(j.state.expensiveChecks||fd(a.property.name))l=j.ensureSafeObject(l);j.assign(b,l),d&&(d.computed=!1,d.name=a.property.name)}},function(){j.assign(b,"undefined")}),e(b)},!!f);break;case eS.CallExpression:b=b||this.nextId(),a.filter?(i=j.filter(a.callee.name),k=[],y(a.arguments,function(a){var b=j.nextId();j.recurse(a,b),k.push(b)}),l=i+"("+k.join(",")+")",j.assign(b,l),e(b)):(i=j.nextId(),h={},k=[],j.recurse(a.callee,i,h,function(){j.if_(j.notNull(i),function(){j.addEnsureSafeFunction(i),y(a.arguments,function(a){j.recurse(a,j.nextId(),c,function(a){k.push(j.ensureSafeObject(a))})}),h.name?(j.state.expensiveChecks||j.addEnsureSafeObject(h.context),l=j.member(h.context,h.name,h.computed)+"("+k.join(",")+")"):l=i+"("+k.join(",")+")",l=j.ensureSafeObject(l),j.assign(b,l)},function(){j.assign(b,"undefined")}),e(b)}));break;case eS.AssignmentExpression:i=this.nextId(),h={};if(!eY(a.left))throw eG("lval","Trying to assign a value to a non l-value");this.recurse(a.left,c,h,function(){j.if_(j.notNull(h.context),function(){j.recurse(a.right,i),j.addEnsureSafeObject(j.member(h.context,h.name,h.computed)),j.addEnsureSafeAssignContext(h.context),l=j.member(h.context,h.name,h.computed)+a.operator+i,j.assign(b,l),e(b||l)})},1);break;case eS.ArrayExpression:k=[],y(a.elements,function(a){j.recurse(a,j.nextId(),c,function(a){k.push(a)})}),l="["+k.join(",")+"]",this.assign(b,l),e(l);break;case eS.ObjectExpression:k=[],y(a.properties,function(a){j.recurse(a.value,j.nextId(),c,function(b){k.push(j.escape(a.key.type===eS.Identifier?a.key.name:""+a.key.value)+":"+b)})}),l="{"+k.join(",")+"}",this.assign(b,l),e(l);break;case eS.ThisExpression:this.assign(b,"s"),e("s");break;case eS.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){if(!a)return;return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===!0)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+",text)")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(Q(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(R(a))return a.toString();if(a===!0)return"true";if(a===!1)return"false";if(a===null)return"null";if(typeof a=="undefined")return"undefined";throw eG("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},fb.prototype={compile:function(a,b){var c=this,d=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,eW(d,c.$filter);var e,f;if(e=eZ(d))f=this.recurse(e);var g=eX(d.body),h;g&&(h=[],y(g,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var i=[];y(d.body,function(a){i.push(c.recurse(a.expression))});var j=d.body.length===0?function(){}:d.body.length===1?i[0]:function(a,b){var c;return y(i,function(d){c=d(a,b)}),c};return f&&(j.assign=function(a,b,c){return f(a,c,b)}),h&&(j.inputs=h),j.literal=e$(d),j.constant=e_(d),j},recurse:function(a,b,d){var e,f,g=this,h,i;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case eS.Literal:return this.value(a.value,b);case eS.UnaryExpression:return f=this.recurse(a.argument),this["unary"+a.operator](f,b);case eS.BinaryExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case eS.LogicalExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case eS.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case eS.Identifier:return eH(a.name,g.expression),g.identifier(a.name,g.expensiveChecks||fd(a.name),b,d,g.expression);case eS.MemberExpression:return e=this.recurse(a.object,!1,!!d),a.computed||(eH(a.property.name,g.expression),f=a.property.name),a.computed&&(f=this.recurse(a.property)),a.computed?this.computedMember(e,f,b,d,g.expression):this.nonComputedMember(e,f,g.expensiveChecks,b,d,g.expression);case eS.CallExpression:return h=[],y(a.arguments,function(a){h.push(g.recurse(a))}),a.filter&&(f=this.$filter(a.callee.name)),a.filter||(f=this.recurse(a.callee,!0)),a.filter?function(a,d,e,g){var i=[];for(var j=0;j<h.length;++j)i.push(h[j](a,d,e,g));var k=f.apply(c,i,g);return b?{context:c,name:c,value:k}:k}:function(a,c,d,e){var i=f(a,c,d,e),j;if(i.value!=null){eJ(i.context,g.expression),eN(i.value,g.expression);var k=[];for(var l=0;l<h.length;++l)k.push(eJ(h[l](a,c,d,e),g.expression));j=eJ(i.value.apply(i.context,k),g.expression)}return b?{value:j}:j};case eS.AssignmentExpression:return e=this.recurse(a.left,!0,1),f=this.recurse(a.right),function(a,c,d,h){var i=e(a,c,d,h),j=f(a,c,d,h);return eJ(i.value,g.expression),eO(i.context),i.context[i.name]=j,b?{value:j}:j};case eS.ArrayExpression:return h=[],y(a.elements,function(a){h.push(g.recurse(a))}),function(a,c,d,e){var f=[];for(var g=0;g<h.length;++g)f.push(h[g](a,c,d,e));return b?{value:f}:f};case eS.ObjectExpression:return h=[],y(a.properties,function(a){h.push({key:a.key.type===eS.Identifier?a.key.name:""+a.key.value,value:g.recurse(a.value)})}),function(a,c,d,e){var f={};for(var g=0;g<h.length;++g)f[h[g].key]=h[g].value(a,c,d,e);return b?{value:f}:f};case eS.ThisExpression:return function(a){return b?{value:a}:a};case eS.NGValueParameter:return function(a,c,d,e){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return N(g)?g=+g:g=0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return N(g)?g=-g:g=0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=eU(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(N(h)?h:0)-(N(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:c,name:c,value:a}:a}},identifier:function(a,b,d,e,f){return function(g,h,i,j){var k=h&&a in h?h:g;e&&e!==1&&k&&!k[a]&&(k[a]={});var l=k?k[a]:c;return b&&eJ(l,f),d?{context:k,name:a,value:l}:l}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j=a(f,g,h,i),k,l;return j!=null&&(k=b(f,g,h,i),k=eI(k),eH(k,e),d&&d!==1&&(eO(j),j&&!j[k]&&(j[k]={})),l=j[k],eJ(l,e)),c?{context:j,name:k,value:l}:l}},nonComputedMember:function(a,b,d,e,f,g){return function(h,i,j,k){var l=a(h,i,j,k);f&&f!==1&&(eO(l),l&&!l[b]&&(l[b]={}));var m=l!=null?l[b]:c;return(d||fd(b))&&eJ(m,g),e?{context:l,name:b,value:m}:m}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var fc=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new eS(this.lexer),this.astCompiler=c.csp?new fb(this.ast,b):new fa(this.ast,b)};fc.prototype={constructor:fc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var fe=Object.prototype.valueOf,fn=d("$sce"),fo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},dD=d("$compile"),fx=b.createElement("a"),fy=fz(a.location.href);fC.$inject=["$document"],fE.$inject=["$provide"];var fJ=22,fK=".",fL="0";fM.$inject=["$locale"],fN.$inject=["$locale"];var f_={yyyy:fS("FullYear",4),yy:fS("FullYear",2,0,!0),y:fS("FullYear",1),MMMM:fT("Month"),MMM:fT("Month",!0),MM:fS("Month",2,1),M:fS("Month",1,1),dd:fS("Date",2),d:fS("Date",1),HH:fS("Hours",2),H:fS("Hours",1),hh:fS("Hours",2,-12),h:fS("Hours",1,-12),mm:fS("Minutes",2),m:fS("Minutes",1),ss:fS("Seconds",2),s:fS("Seconds",1),sss:fS("Milliseconds",3),EEEE:fT("Day"),EEE:fT("Day",!0),a:fY,Z:fU,ww:fX(2),w:fX(1),G:fZ,GG:fZ,GGG:fZ,GGGG:f$},ga=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,gb=/^\-?\d+$/;gc.$inject=["$locale"];var ge=K(g),gf=K(i);gh.$inject=["$parse"];var gj=K({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if(b[0].nodeName.toLowerCase()!=="a")return;var c=r.call(b.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}),gk={};y(cS,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if(a=="multiple")return;var d=dG("ng-"+b),e=c;a==="checked"&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),gk[d]=function(){return{restrict:"A",priority:100,link:e}}}),y(cU,function(a,b){gk[b]=function(){return{priority:100,link:function(a,c,d){if(b==="ngPattern"&&d.ngPattern.charAt(0)=="/"){var f=d.ngPattern.match(e);if(f){d.$set("ngPattern",new RegExp(f[1],f[2]));return}}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),y(["src","srcset","href"],function(a){var b=dG("ng-"+a);gk[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;a==="href"&&r.call(d.prop("href"))==="[object SVGAnimatedString]"&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){if(!b){a==="href"&&e.$set(g,null);return}e.$set(g,b),l&&f&&d.prop(f,e[g])})}}}});var gl={$addControl:I,$$renameControl:gn,$removeControl:I,$setValidity:I,$setDirty:I,$setPristine:I,$setSubmitted:I},gm="ng-submitted";go.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var gp=function(a){return["$timeout","$parse",function(b,d){function f(a){return a===""?d('this[""]').assign:d(a).assign||I}var e={name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:go,compile:function g(d,e){d.addClass(hl).addClass(hj);var g=e.name?"name":a&&e.ngForm?"ngForm":!1;return{pre:function h(a,d,e,h){var i=h[0];if(!("action"in e)){var j=function(b){a.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),b.preventDefault()};ch(d[0],"submit",j),d.on("$destroy",function(){b(function(){ci(d[0],"submit",j)},0,!1)})}var k=h[1]||i.$$parentForm;k.$addControl(i);var l=g?f(i.$name):I;g&&(l(a,i),e.$observe(g,function(b){if(i.$name===b)return;l(a,c),i.$$parentForm.$$renameControl(i,b),l=f(i.$name),l(a,i)})),d.on("$destroy",function(){i.$$parentForm.$removeControl(i),l(a,c),E(i,gl)})}}}};return e}]},gq=gp(),gr=gp(!0),gs=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,gt=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,gu=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,gv=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,gw=/^(\d{4})-(\d{2})-(\d{2})$/,gx=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,gy=/^(\d{4})-W(\d\d)$/,gz=/^(\d{4})-(\d\d)$/,gA=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,gB="keydown wheel mousedown",gC=bV();y("date,datetime-local,month,time,week".split(","),function(a){gC[a]=!0});var gD={text:gF,date:gJ("date",gw,gI(gw,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":gJ("datetimelocal",gx,gI(gx,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:gJ("time",gA,gI(gA,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:gJ("week",gy,gH,"yyyy-Www"),month:gJ("month",gz,gI(gz,["yyyy","MM"]),"yyyy-MM"),number:gL,url:gM,email:gN,radio:gO,checkbox:gQ,hidden:I,button:I,submit:I,reset:I,file:I},gR=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,h,i){i[0]&&(gD[g(h.type)]||gD.text)(e,f,h,i[0],b,a,c,d)}}}}],gS=/^(true|false|\d+)$/,gT=function(){return{restrict:"A",priority:100,compile:function(a,b){return gS.test(b.ngValue)?function c(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},gU=["$compile",function(a){return{restrict:"AC",compile:function b(b){return a.$$addBindingClass(b),function c(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=M(a)?"":a})}}}}],gV=["$interpolate","$compile",function(a,b){return{compile:function c(c){return b.$$addBindingClass(c),function d(c,d,e){var f=a(d.attr(e.$attr.ngBindTemplate));b.$$addBindingInfo(d,f.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=M(a)?"":a})}}}}],gW=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function d(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){var c=f(b);d.html(a.getTrustedHtml(c)||"")})}}}}],gX=K({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),gZ=gY("",!0),g$=gY("Odd",0),g_=gY("Even",1),ha=gi({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),hb=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],hc={},hd={blur:!0,focus:!0};y("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste"
.split(" "),function(a){var b=dG("ng-"+a);hc[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};hd[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var he=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=bU(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],hf=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:u.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l=0,m,n,o,p=function(){n&&(n.remove(),n=null),m&&(m.$destroy(),m=null),o&&(c.leave(o).then(function(){n=null}),n=o,o=null)};d.$watch(f,function(f){var i=function(){N(h)&&(!h||d.$eval(h))&&b()},n=++l;f?(a(f,!0).then(function(a){if(d.$$destroyed)return;if(n!==l)return;var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).then(i)});m=b,o=h,m.$emit("$includeContentLoaded",f),d.$eval(g)},function(){if(d.$$destroyed)return;n===l&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],hg=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){if(/SVG/.test(d[0].toString())){d.empty(),a(cx(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d});return}d.html(f.template),a(d.contents())(c)}}}],hh=gi({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),hi=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var f=b.attr(d.$attr.ngList)||", ",g=d.ngTrim!=="false",h=g?bd(f):f,i=function(a){if(M(a))return;var b=[];return a&&y(a.split(h),function(a){a&&b.push(g?bd(a):a)}),b};e.$parsers.push(i),e.$formatters.push(function(a){return T(a)?a.join(f):c}),e.$isEmpty=function(a){return!a||!a.length}}}},hj="ng-valid",hk="ng-invalid",hl="ng-pristine",hm="ng-dirty",hn="ng-untouched",ho="ng-touched",hp="ng-pending",hq=d("ngModel"),hr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,f,g,h,i,j,k){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=k(d.name||"",!1)(a),this.$$parentForm=gl;var l=f(d.ngModel),m=l.assign,n=l,o=m,p=null,q,r=this;this.$$setOptions=function(a){r.$options=a;if(a&&a.getterSetter){var b=f(d.ngModel+"()"),c=f(d.ngModel+"($$$p)");n=function(a){var c=l(a);return U(c)&&(c=b(a)),c},o=function(a,b){U(l(a))?c(a,{$$$p:r.$modelValue}):m(a,r.$modelValue)}}else if(!l.assign)throw hq("nonassign","Expression '{0}' is non-assignable. Element: {1}",d.ngModel,bz(e))},this.$render=I,this.$isEmpty=function(a){return M(a)||a===""||a===null||a!==a};var s=0;hv({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:g}),this.$setPristine=function(){r.$dirty=!1,r.$pristine=!0,g.removeClass(e,hm),g.addClass(e,hl)},this.$setDirty=function(){r.$dirty=!0,r.$pristine=!1,g.removeClass(e,hl),g.addClass(e,hm),r.$$parentForm.$setDirty()},this.$setUntouched=function(){r.$touched=!1,r.$untouched=!0,g.setClass(e,hn,ho)},this.$setTouched=function(){r.$touched=!0,r.$untouched=!1,g.setClass(e,ho,hn)},this.$rollbackViewValue=function(){h.cancel(p),r.$viewValue=r.$$lastCommittedViewValue,r.$render()},this.$validate=function(){if(R(r.$modelValue)&&isNaN(r.$modelValue))return;var a=r.$$lastCommittedViewValue,b=r.$$rawModelValue,d=r.$valid,e=r.$modelValue,f=r.$options&&r.$options.allowInvalid;r.$$runValidators(b,a,function(a){!f&&d!==a&&(r.$modelValue=a?b:c,r.$modelValue!==e&&r.$$writeModelToScope())})},this.$$runValidators=function(a,b,d){function f(){var a=r.$$parserName||"parse";if(M(q))i(a,null);else return q||(y(r.$validators,function(a,b){i(b,null)}),y(r.$asyncValidators,function(a,b){i(b,null)})),i(a,q),q;return!0}function g(){var c=!0;return y(r.$validators,function(d,e){var f=d(a,b);c=c&&f,i(e,f)}),c?!0:(y(r.$asyncValidators,function(a,b){i(b,null)}),!1)}function h(){var d=[],e=!0;y(r.$asyncValidators,function(f,g){var h=f(a,b);if(!ba(h))throw hq("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",h);i(g,c),d.push(h.then(function(){i(g,!0)},function(a){e=!1,i(g,!1)}))}),d.length?j.all(d).then(function(){k(e)},I):k(!0)}function i(a,b){e===s&&r.$setValidity(a,b)}function k(a){e===s&&d(a)}s++;var e=s;if(!f()){k(!1);return}if(!g()){k(!1);return}h()},this.$commitViewValue=function(){var a=r.$viewValue;h.cancel(p);if(r.$$lastCommittedViewValue!==a||a===""&&!!r.$$hasNativeValidators)r.$$lastCommittedViewValue=a,r.$pristine&&this.$setDirty(),this.$$parseAndValidate();else return},this.$$parseAndValidate=function(){function h(){r.$modelValue!==f&&r.$$writeModelToScope()}var b=r.$$lastCommittedViewValue,d=b;q=M(d)?c:!0;if(q)for(var e=0;e<r.$parsers.length;e++){d=r.$parsers[e](d);if(M(d)){q=!1;break}}R(r.$modelValue)&&isNaN(r.$modelValue)&&(r.$modelValue=n(a));var f=r.$modelValue,g=r.$options&&r.$options.allowInvalid;r.$$rawModelValue=d,g&&(r.$modelValue=d,h()),r.$$runValidators(d,r.$$lastCommittedViewValue,function(a){g||(r.$modelValue=a?d:c,h())})},this.$$writeModelToScope=function(){o(a,r.$modelValue),y(r.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){r.$viewValue=a,(!r.$options||r.$options.updateOnDefault)&&r.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c=0,d=r.$options,e;d&&N(d.debounce)&&(e=d.debounce,R(e)?c=e:R(e[b])?c=e[b]:R(e["default"])&&(c=e["default"])),h.cancel(p),c?p=h(function(){r.$commitViewValue()},c):i.$$phase?r.$commitViewValue():a.$apply(function(){r.$commitViewValue()})},a.$watch(function(){var b=n(a);if(b!==r.$modelValue&&(r.$modelValue===r.$modelValue||b===b)){r.$modelValue=r.$$rawModelValue=b,q=c;var d=r.$formatters,e=d.length,f=b;while(e--)f=d[e](f);r.$viewValue!==f&&(r.$viewValue=r.$$lastCommittedViewValue=f,r.$render(),r.$$runValidators(b,f,I))}return b})}],hs=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:hr,priority:1,compile:function b(b){return b.addClass(hl).addClass(hn).addClass(hj),{pre:function c(a,b,c,d){var e=d[0],f=d[1]||e.$$parentForm;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(c){if(f.$touched)return;a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched)})}}}}}],ht=/(\s+|^)default(\s+|$)/,hu=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=bk(a.$eval(b.ngModelOptions)),N(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=bd(this.$options.updateOn.replace(ht,function(){return c.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},hx=gi({terminal:!0,priority:1e3}),hy=d("ngOptions"),hz=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,hA=["$compile","$parse",function(a,c){function d(a,b,d){function w(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function y(a){var b;if(!g&&x(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&c.charAt(0)!=="$"&&b.push(c)}return b}var e=a.match(hz);if(!e)throw hy("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,bz(b));var f=e[5]||e[7],g=e[6],h=/ as /.test(e[0])&&e[1],i=e[9],j=c(e[2]?e[1]:f),k=h&&c(h),l=k||j,m=i&&c(i),n=i?function(a,b){return m(d,b)}:function(a){return c_(a)},o=function(a,b){return n(a,v(a,b))},p=c(e[2]||e[1]),q=c(e[3]||""),r=c(e[4]||""),s=c(e[8]),t={},v=g?function(a,b){return t[g]=b,t[f]=a,t}:function(a){return t[f]=a,t};return{trackBy:i,getTrackByValue:o,getWatchables:c(s,function(a){var b=[];a=a||[];var c=y(a),f=c.length;for(var g=0;g<f;g++){var h=a===c?g:c[g],i=a[h],j=v(a[h],h),k=n(a[h],j);b.push(k);if(e[2]||e[1]){var l=p(d,j);b.push(l)}if(e[4]){var m=r(d,j);b.push(m)}}return b}),getOptions:function(){var a=[],b={},c=s(d)||[],e=y(c),f=e.length;for(var g=0;g<f;g++){var h=c===e?g:e[g],j=c[h],k=v(j,h),m=l(d,k),t=n(m,k),x=p(d,k),z=q(d,k),A=r(d,k),B=new w(t,m,x,z,A);a.push(B),b[t]=B}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[o(a)]},getViewValueFromOption:function(a){return i?u.copy(a.viewValue):a.viewValue}}}}}function h(b,c,h,i){function A(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function B(a,b,c,d){var e;return b&&g(b.nodeName)===c?e=b:(e=d.cloneNode(!1),b?a.insertBefore(e,b):a.appendChild(e)),e}function C(a){var b;while(a)b=a.nextSibling,cP(a),a=b}function D(a){var b=n&&n[0],c=s&&s[0];if(b||c)while(a&&(a===b||a===c||a.nodeType===bZ||bh(a)==="option"&&a.value===""))a=a.nextSibling;return a}function E(){var a=t&&k.readValue();t=u.getOptions();var b={},d=c[0].firstChild;r&&c.prepend(n),d=D(d),t.items.forEach(function i(a){var g,h,i;a.group?(g=b[a.group],g||(h=B(c[0],d,"optgroup",f),d=h.nextSibling,h.label=a.group,g=b[a.group]={groupElement:h,currentOptionElement:h.firstChild}),i=B(g.groupElement,g.currentOptionElement,"option",e),A(a,i),g.currentOptionElement=i.nextSibling):(i=B(c[0],d,"option",e),A(a,i),d=i.nextSibling)}),Object.keys(b).forEach(function(a){C(b[a].currentOptionElement)}),C(d),j.$render();if(!j.$isEmpty(a)){var g=k.readValue(),h=u.trackBy||l;if(h?!bm(a,g):a!==g)j.$setViewValue(g),j.$render()}}var j=i[1];if(!j)return;var k=i[0],l=h.multiple,n;for(var o=0,p=c.children(),q=p.length;o<q;o++)if(p[o].value===""){n=p.eq(o);break}var r=!!n,s=m(e.cloneNode(!1));s.val("?");var t,u=d(h.ngOptions,c,b),v=function(){r||c.prepend(n),c.val(""),n.prop("selected",!0),n.attr("selected",!0)},w=function(){r||n.remove()},x=function(){c.prepend(s),c.val("?"),s.prop("selected",!0),s.attr("selected",!0)},z=function(){s.remove()};l?(j.$isEmpty=function(a){return!a||a.length===0},k.writeValue=function(a){t.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){var b=t.getOptionFromViewValue(a);b&&!b.disabled&&(b.element.selected=!0)})},k.readValue=function(){var a=c.val()||[],b=[];return y(a,function(a){var c=t.selectValueMap[a];c&&!c.disabled&&b.push(t.getViewValueFromOption(c))}),b},u.trackBy&&b.$watchCollection(function(){if(T(j.$viewValue))return j.$viewValue.map(function(a){return u.getTrackByValue(a)})},function(){j.$render()})):(k.writeValue=function(a){var b=t.getOptionFromViewValue(a);b&&!b.disabled?(c[0].value!==b.selectValue&&(z(),w(),c[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):a===null||r?(z(),v()):(w(),x())},k.readValue=function(){var a=t.selectValueMap[c.val()];return a&&!a.disabled?(w(),z(),t.getViewValueFromOption(a)):null},u.trackBy&&b.$watch(function(){return u.getTrackByValue(j.$viewValue)},function(){j.$render()})),r?(n.remove(),a(n)(b),n.removeClass("ng-scope")):n=m(e.cloneNode(!1)),E(),b.$watchCollection(u.getWatchables,E)}var e=b.createElement("option"),f=b.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=I},post:h}}}],hB=["$locale","$interpolate","$log",function(a,b,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,h,i){function t(a){h.text(a||"")}var j=i.count,k=i.$attr.when&&h.attr(i.$attr.when),l=i.offset||0,m=f.$eval(k)||{},n={},o=b.startSymbol(),p=b.endSymbol(),q=o+j+"-"+l+p,r=u.noop,s;y(i,function(a,b){var c=e.exec(b);if(c){var d=(c[1]?"-":"")+g(c[2]);m[d]=h.attr(i.$attr[b])}}),y(m,function(a,c){n[c]=b(a.replace(d,q))}),f.$watch(j,function(b){var d=parseFloat(b),e=isNaN(d);!e&&!(d in m)&&(d=a.pluralCat(d-l));if(d!==s&&!(e&&R(s)&&isNaN(s))){r();var g=n[d];M(g)?(b!=null&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+k),r=I,t()):r=f.$watch(g,t),s=d}})}}}],hC=["$parse","$animate",function(a,e){var f="$$NG_REMOVED",g=d("ngRepeat"),i=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=b===0,a.$last=b===g-1,a.$middle=!a.$first&&!a.$last,a.$odd=!(a.$even=(b&1)===0)},j=function(a){return a.clone[0]},k=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function l(d,l){var m=l.ngRepeat,n=b.createComment(" end ngRepeat: "+m+" "),o=m.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!o)throw g("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",m);var p=o[1],q=o[2],r=o[3],s=o[4];o=p.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!o)throw g("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var t=o[3]||o[1],u=o[2];if(r&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(r)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(r)))throw g("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",r);var v,w,z,A,B={$id:c_};return s?v=a(s):(z=function(a,b){return c_(b)},A=function(a){return a}),function(a,b,d,l,o){v&&(w=function(b,c,d){return u&&(B[u]=b),B[t]=c,B.$index=d,v(a,B)});var p=bV();a.$watchCollection(q,function s(d){var l,q,s=b[0],v,B=bV(),C,D,E,F,G,H,I,J,K;r&&(a[r]=d);if(x(d))H=d,G=w||z;else{G=w||A,H=[];for(var L in d)h.call(d,L)&&L.charAt(0)!=="$"&&H.push(L)}C=H.length,J=new Array(C);for(l=0;l<C;l++){D=d===H?l:H[l],E=d[D],F=G(D,E,l);if(p[F])I=p[F],delete p[F],B[F]=I,J[l]=I;else{if(B[F])throw y(J,function(a){a&&a.scope&&(p[a.id]=a)}),g("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",m,F,E);J[l]={id:F,scope:c,clone:c},B[F]=!0}}for(var M in p){I=p[M],K=bU(I.clone),e.leave(K);if(K[0].parentNode)for(l=0,q=K.length;l<q;l++)K[l][f]=!0;I.scope.$destroy()}for(l=0;l<C;l++){D=d===H?l:H[l],E=d[D],I=J[l];if(I.scope){v=s;do v=v.nextSibling;while(v&&v[f]);j(I)!=v&&e.move(bU(I.clone),null,s),s=k(I),i(I.scope,l,t,E,u,D,C)}else o(function(a,b){I.scope=b;var c=n.cloneNode(!1);a[a.length++]=c,e.enter(a,null,s),s=c,I.clone=a,B[I.id]=I,i(I.scope,l,t,E,u,D,C)})}p=B})}}}}],hD="ng-hide",hE="ng-hide-animate",hF=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,hD,{tempClasses:hE})})}}}],hG=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,hD,{tempClasses:hE})})}}}],hH=gi(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&y(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),hI=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=e.ngSwitch||e.on,h=[],i=[],j=[],k=[],l=function(a,b){return function(){a.splice(b,1)}};c.$watch(g,function m(c){var d,e;for(d=0,e=j.length;d<e;++d)a.cancel(j[d]);j.length=0;for(d=0,e=k.length;d<e;++d){var g=bU(i[d].clone);k[d].$destroy();var m=j[d]=a.leave(g);m.then(l(j,d))}i.length=0,k.length=0,(h=f.cases["!"+c]||f.cases["?"])&&y(h,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: ");var g={clone:d};i.push(g),a.enter(d,f.parent(),f)})})})}}}],hJ=gi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),hK=gi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),hL=gi({restrict:"EAC",link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",bz(b));f(function(a){b.empty(),b.append(a)})}}),hM=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if(c.type=="text/ng-template"){var d=c.id,e=b[0].text;a.put(d,e)}}}}],hN={$setViewValue:I,$render:I},hP=["$element","$scope","$attrs",function(a,d,e){var f=this,g=new da;f.ngModelCtrl=hN,f.unknownOption=m(b.createElement("option")),f.renderUnknownOption=function(b){var c="? "+c_(b)+" ?";f.unknownOption.val(c),a.prepend(f.unknownOption),a.val(c)},d.$on("$destroy",function(){f.renderUnknownOption=I}),f.removeUnknownOption=function(){f.unknownOption.parent()&&f.unknownOption.remove()},f.readValue=function(){return f.removeUnknownOption(),a.val()},f.writeValue=function(b){f.hasOption(b)?(f.removeUnknownOption(),a.val(b),b===""&&f.emptyOption.prop("selected",!0)):b==null&&f.emptyOption?(f.removeUnknownOption(),a.val("")):f.renderUnknownOption(b)},f.addOption=function(a,b){if(b[0].nodeType===bZ)return;bS(a,'"option value"'),a===""&&(f.emptyOption=b);var c=g.get(a)||0;g.put(a,c+1),f.ngModelCtrl.$render(),hO(b)},f.removeOption=function(a){var b=g.get(a);b&&(b===1?(g.remove(a),a===""&&(f.emptyOption=c)):g.put(a,b-1))},f.hasOption=function(a){return!!g.get(a)},f.registerOption=function(a,b,c,d,e){if(d){var g;c.$observe("value",function(a){N(g)&&f.removeOption(g),g=a,f.addOption(a,b)})}else e?a.$watch(e,function(a,d){c.$set("value",a),d!==a&&f.removeOption(d),f.addOption(a,b)}):f.addOption(c.value,b);b.on("$destroy",function(){f.removeOption(c.value),f.ngModelCtrl.$render()})}}],hQ=function(){function a(a,b,c,d){var e=d[1];if(!e)return;var f=d[0];f.ngModelCtrl=e,b.on("change",function(){a.$apply(function(){e.$setViewValue(f.readValue())})});if(c.multiple){f.readValue=function(){var a=[];return y(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},f.writeValue=function(a){var c=new da(a);y(b.find("option"),function(a){a.selected=N(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h===e.$viewValue&&!bm(g,e.$viewValue)&&(g=bl(e.$viewValue),e.$render()),h=e.$viewValue}),e.$isEmpty=function(a){return!a||a.length===0}}}function b(a,b,c,d){var e=d[1];if(!e)return;var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}return{restrict:"E",require:["select","?ngModel"],controller:hP,priority:1,link:{pre:a,post:b}}},hR=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){if(N(c.value))var d=a(c.value,!0);else{var e=a(b.text(),!0);e||c.$set("value",b.text())}return function(a,b,c){var f="$selectController",g=b.parent(),h=g.data(f)||g.parent().data(f);h&&h.registerOption(a,b,c,d,e)}}}}],hS=K({restrict:"E",terminal:!1}),hT=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(!d)return;c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()})}}},hU=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(!f)return;var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){Q(a)&&a.length>0&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,a,bz(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a,b){return f.$isEmpty(b)||M(g)||g.test(b)}}}},hV=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(!d)return;var e=-1;c.$observe("maxlength",function(a){var b=G(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return e<0||d.$isEmpty(b)||b.length<=e}}}},hW=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(!d)return;var e=0;c.$observe("minlength",function(a){e=G(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}};if(a.angular.bootstrap){a.console&&console.log("WARNING: Tried to load angular more than once.");return}bP(),ce(u),u.module("ngLocale",[],["$provide",function(a){function d(a){a+="";var b=a.indexOf(".");return b==-1?0:a.length-b-1}function e(a,b){var e=b;c===e&&(e=Math.min(d(a),3));var f=Math.pow(10,e),g=(a*f|0)%f;return{v:e,f:g}}var b={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var d=a|0,f=e(a,c);return d==1&&f.v==0?b.ONE:b.OTHER}})}]),m(b).ready(function(){bH(b,bI)})}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("fs.home.directives",[]),angular.module("fs.home.directives").directive("homeBlock",function(){return{restrict:"A",link:function(a,b,c){a.pixelRatio=window.devicePixelRatio,$(function(){var c=$(".js-home-resize-image");a.pixelRatio>1&&$(b).imagesLoaded(function(){c.each(function(b,c){$(c).css({height:c.naturalHeight/a.pixelRatio+"px"})})}),c.each(function(a,b){$(b).css({visibility:"visible"})})})}}}),function(a){$("[home-app]").length&&(a.fs.Modules.Home=angular.module("fs.home",["fs.home.directives"],["$rootScopeProvider",function(a){a.digestTtl(15)}]),angular.bootstrap($("[home-app]").get(0),["fs.home"]))}(window),angular.module("fs.buy.controllers",[]),angular.module("fs.buy.directives",[]),angular.module("fs.buy.services",[]),angular.module("fs.buy.controllers").controller("BuyController",["$scope","$http","$sce",function(a,b,c){function g(a,b){var c=a.split("?");if(c.length>=2){var d=c.shift(),e=c.join("?"),f=encodeURIComponent(b),g=e.split(/[&;]/g);for(var h=g.length;h-->0;)g[h].lastIndexOf(f,0)===0&&g.splice(h,1);a=d+"?"+g.join("&")}return a}function i(c,d){a.extendDeep=function i(a){return angular.forEach(arguments,function(b){b!==a&&angular.forEach(b,function(b,c){a[c]&&a[c].constructor&&a[c].constructor===Object?i(a[c],b):a[c]=b})}),a};var e=f+a.urlParams(d);a.status.loading=!0;var g=Date.now();h=g,b.get(e).success(function(b,d){if(h==g){var e=b.product_selector,f;a.selected_package_type&&(f=a.selected_package_type.packagetype_selector.name);var i=k(e);a=a.extendDeep(a,e),f!==i&&(a.items=e.items),a.status.loaded=!0,a.status.loading=!1,a.has_been_updated&&($("#site-menu .o-logo__cart-block").empty().addClass("progress-indicator"),$("#site-menu").load("/menu",function(){window.textRenderer.initialize(),window.textRenderer.renderAllTexts()})),n(),c&&typeof c=="function"&&c.call()}})}function j(b,c){angular.forEach(a.package_types.packagetypes.package_type_selectors,function(b,c){b.packagetype_selector["is_selected?"]&&(a.selected_package_type=b)})}function k(a){var b;return angular.forEach(a.package_types.packagetypes.package_type_selectors,function(a,c){a.packagetype_selector["is_selected?"]&&(b=a)}),b}function l(b,c){angular.forEach(a.formats.formats.format_selectors,function(b,c){b.format_selector["is_selected?"]&&(a.selected_product_type=b)})}function m(b,c){angular.forEach(a.charactersets.charactersets.characterset_selectors,function(b,c){b.characterset_selector["is_selected?"]&&(a.selected_product_type.format_selector.name=="Web"?a.selected_characterset=JSON.parse(localStorage.getItem("fs_selected_characterset"))||b:(a.selected_characterset=b,localStorage.setItem("fs_selected_characterset",JSON.stringify(b))))})}function n(){j(),l(),m(),window.fs.vent.trigger("buy:footeroptions:ready");var b=f.replace(e,"")+a.urlParams();a.shareLink=g(b,"selected_products")}function o(){a.selected_package_type.packagetype_selector.name="packages",i()}function p(){a.selected_package_type.packagetype_selector.name="styles",i()}var d=$("meta[name='csrf-token']").attr("content");b.defaults.headers.post["X-CSRF-Token"]=d;var e=".json",f="/"+window.location.pathname.split("/").clean("").join("/")+e+"?";a.status={loading:!1},a.urlParams=function(b){var c="";if(typeof buy_page_params!="undefined")c+=buy_page_params,delete buy_page_params;else{if(a.selected_package_type){var d;b&&b.forcePackages?d="packages":d=a.selected_package_type.packagetype_selector.name,c+="selected_package_type="+d+"&"}b&&b.needs_update&&(c+="needs_update=true&"),a.selected_product_type&&(c+="selected_product_type="+a.selected_product_type.format_selector.id+"&");if(a.selected_characterset)if(a.selected_product_type.format_selector.name==="Web"){var e=a.charactersets.charactersets.characterset_selectors.filter(function(a){return a.characterset_selector.name==="Web"}).pop();c+="selected_characterset="+e.characterset_selector.id+"&"}else c+="selected_characterset="+a.selected_characterset.characterset_selector.id+"&";angular.forEach(a.items,function(a,b){a.item["is_selected?"]&&(c+="selected_products[]="+a.item.product_id+"&")}),c=c.substr(0,c.length-1)}return c};var h;i(),a.$watch("selected_package_type",function(a,b){a&&b&&a.packagetype_selector.name!==b.packagetype_selector.name&&i()}),a.$watch("selected_product_type",function(a,b){a&&b&&a.format_selector.name!==b.format_selector.name&&i()}),a.$watch("selected_characterset",function(a,b){a&&b&&a.characterset_selector.id!==b.characterset_selector.id&&i()}),a.syncData=i,a.showPackages=o,a.showStyles=p,a.deliberatelyTrustDangerousSnippet=function(a){return c.trustAsHtml(a)},a.safeApply=function(a){if(this.$root==null)return;var b=this.$root.$$phase;b=="$apply"||b=="$digest"?a&&typeof a=="function"&&a():this.$apply(a)}}]),Array.prototype.clean=function(a){for(var b=0;b<this.length;b++)this[b]==a&&(this.splice(b,1),b--);return this},angular.module("fs.buy.controllers").controller("CartController",["$scope","$http",function(a,b){function e(c){var e=Date.now();d=e,a.status.loading=!0;var g=!1;a.items&&(g={stuff:{items:a.items}}),g?b.post("/buy/cart.json",g).success(function(b,d){f(b);if(a.status.items){var g=!0;angular.forEach(a.status.items,function(a,b){a.deleted||(g=!1)}),g&&window.setTimeout(function(){window.location=window.location},250)}g||(h(e,c,b,d),$("#site-menu .o-logo__cart-block").empty().addClass("progress-indicator"),$("#site-menu").load("/menu",function(){window.textRenderer.initialize(),window.textRenderer.renderAllTexts()}))}):b.get("/buy/cart.json").success(function(a,b){h(e,c,a,b),f(a)})}function f(a){try{var b=a.cart.items,c=!1,d=$("#presenters_checkout_billing_address_country_code").val();for(var e=0;e<b.length;e++){var f=b[e],g=f.cart_item.options[0].cart_item_option.restricted_country_list;if(g){var h=g.split(",");if(h.indexOf(d)>=0){c=!0;break}a.cart.items[e].cart_item.options[0].cart_item_option.restricted_country_list=""}}c?($(".country-restricted-warning").show(),$(".country-restricted-warning-icon").show()):($(".country-restricted-warning").hide(),$(".country-restricted-warning-icon").hide())}catch(i){console.log(i,"ex")}}function g(){var b=$("#presenters_checkout_billing_address_country_code").val();a.country_code=b,$(document).on("change","#presenters_checkout_billing_address_country_code",function(){a.country_code=$("#presenters_checkout_billing_address_country_code").val(),a.syncData(),a.country_code&&(a.country_code.toLowerCase()=="de"||a.country_code.toLowerCase()=="ch")&&$("#vat_code").val("")})}function h(b,c,e,f){if(d==b){var g=e.cart;angular.forEach(g,function(b,c){c=="items"&&a.items&&a.items.length==b.length?angular.forEach(b,function(b,c){a.items[c].cart_item.options=b.cart_item.options,a.status.items[c].deleted=!1}):_.isEqual(a[c],b)||(a[c]=b);if(c=="items")for(var d=0,e=b.length;d<e;d++)a.status.items!=undefined&&a.status.items[d].deleted!=undefined&&(a.status.items[d].deleted=!1)}),a.status.loading=!1,c&&typeof c=="function"&&c.call()}}var c=$("meta[name='csrf-token']").attr("content");b.defaults.headers.post["X-CSRF-Token"]=c,a.status={loading:!1};var d;e(),g(),a.syncData=e}]),angular.module("fs.buy.directives").directive("buyItem",function(){return{restrict:"E",scope:!0,replace:!0,templateUrl:"/buy_templates/buy_item_directive",link:function(a,b,c){a.$watch("data",function(){a.initializeTooltip(b)}),a.selectItem=function(){a.data.item["is_selected?"]=!a.data.item["is_selected?"],a.$parent.syncData(null,{needs_update:!0}),a.initializeTooltip()},a.toggleStyles=function(){a.data.item["is_styles_open?"]=!a.data.item["is_styles_open?"]},a.initializeTooltip=function(b){var c=$("[rel~=tooltip]",b);if(c.length>0){var d=!1,e=!1,f=!1;c.bind("mouseenter",function(){d=$(this),tip=d.attr("title"),e=$('<div id="tooltip"></div>'),className=a.data.item["is_server_license?"]?"server_contact_sales":"app_contact_sales",d.addClass(className);if(!tip||tip=="")return!1;d.removeAttr("title"),e.css("opacity",0).html(tip).appendTo("body");var b=function(){$(window).width()<e.outerWidth()*1.5?e.css("max-width",$(window).width()/2):e.css("max-width",240);var a=d.offset().left+d.outerWidth()/2-e.outerWidth()/2,b=d.offset().top-e.outerHeight()-22;a<0?(a=d.offset().left+d.outerWidth()/2-20,e.addClass("left")):e.removeClass("left"),a+e.outerWidth()>$(window).width()?(a=d.offset().left-e.outerWidth()+d.outerWidth()/2+20,e.addClass("right")):e.removeClass("right");if(b<0){var b=d.offset().top+d.outerHeight();e.addClass("top")}else e.removeClass("top");e.css({left:a,top:b}).animate({top:"+=10",opacity:1},50)};b(),$(window).resize(b);var c=function(){e.animate({top:"-=10",opacity:0},50,function(){$(this).remove()}),d.attr("title",tip),d.removeClass(className)};d.bind("mouseleave",c),e.bind("click",c)})}}}}}),angular.module("fs.buy.directives").directive("cartItem",function(){return{restrict:"E",scope:!0,replace:!0,templateUrl:"/buy_templates/cart_item_directive",link:function(a,b,c){function d(){b.find(".js-inner-wrap").css({height:b.height()+"px"}),setTimeout(function(){a.$apply(function(){angular.forEach(a.$parent.data.cart_item.options,function(a,b){a.cart_item_option.active=!1}),a.status.items[a.$parent.$index]={deleted:!0},a.$parent.$parent.syncData()})},5)}a.status=a.status||{},a.status.items=a.status.items||{},a.status.items[a.$parent.$index]=a.status.items[a.$parent.$index]||{deleted:!1},b.find(".js-delete-item").on("click",d),a.toggleLicenses=function(){a.data.item["is_licenses_open?"]=!a.data.item["is_licenses_open?"]}}}}),angular.module("fs.buy.directives").directive("cartItemOption",function(){return{restrict:"E",scope:!0,replace:!0,templateUrl:"/buy_templates/cart_item_option_directive",link:function(a,b,c){function d(b){a.$apply(function(){a.option.cart_item_option.loading=!0,a.option.cart_item_option.active=!a.option.cart_item_option.active,a.$parent.syncData()})}b.on("click",".js-click-to-toggle",d)}}}),angular.module("fs.buy.directives").directive("concatenateWeights",function(){return{scope:!0,link:function(a,b,c){b.data("originalText")||b
.data("originalText",b.text());var d=parseInt(c.concatenateLength),e=c.concatenateText,f=JSON.parse(c.concatenateWeightList);if(f.length<=d)b.text(f.join(", "));else{var g=f.splice(0,d);b.text(g.join(", ")+", ... ");var h=document.createElement("a");h.innerText=e,h.href="#",h.className="link--underlined link--grey",b.append(h),h.addEventListener("click",function(a){a.preventDefault(),b[0].removeChild(h),b[0].textContent=b[0].textContent.substr(0,b[0].textContent.length-4)+f.join(", ")})}}}}),angular.module("fs.buy.directives").directive("footerOptionProductView",function(){return{scope:"=",link:function(a,b,c){function h(){d=$(".m-buy-footer__option--license"),e=d.find(".m-buy-footer__mobile-hide"),f=d.find(".m-buy-footer__mobile-show"),g="license-"+(a.formats.formats.format_selectors.length>=5?"5":a.formats.formats.format_selectors.length),e.addClass(g),f.addClass(g)}var d,e,f,g;$(function(){window.fs.vent.on("buy:footeroptions:ready",h)})}}}),angular.module("fs.buy.directives").directive("getCartFromParent",function(){return{link:function(a,b,c){b.ready(function(){a.channel||(a.channel=Channel.build({window:window.parent,origin:"*",scope:"fs:buy"})),a.channel.call({method:"getCartObject",success:function(c){a.$apply(function(){a.data=c}),$(b).addClass("has-loaded")}})})}}}),angular.module("fs.buy.directives").directive("loadedClass",function(){return{link:function(a,b,c){b.ready(function(){$(b).addClass("has-loaded")})}}}),angular.module("fs.buy.directives").directive("moreOptionsModal",function(){return{scope:!0,link:function(a,b,c){var d,e=function(){d=Channel.build({window:b.modal.$iFrame.get(0).contentWindow,origin:"*",scope:"fs:buy"}),d.bind("getCartObject",function(){return a.data}),d.bind("sendCartObject",function(b,c){return a.$apply(function(){var b=JSON.parse(c);a.data=b,a.syncFormats(b.product_selector.formats.formats.format_selectors),a.syncActiveCharacterset(a.data.product_selector.selected_characterset_id),a.togglePriceUpdate()}),window.fs.vent.trigger("fs:modals:close"),!0})},f=function(){var a=$(this);b.modal=new window.fs.Modules.ShowModal({el:b,autoInit:!0,disableClickHandler:!0}),setTimeout(e,10)},g=function(){window.fs.vent?typeof c.autoTrigger!="undefined"&&window.fs.app.helpers.getQueryStrings().buying_options&&!window.autoOpenedBuyingOptions&&(window.autoOpenedBuyingOptions=!0,f.call(b)):setTimeout(function(){g.call(this)},25)};g.call(b),typeof c.disableClickTrigger=="undefined"&&b.bind("click",f),b.bind("manuallyTriggerModalNow",f)}}}),angular.module("fs.buy.directives").directive("moreOptionsOption",function(){return{restrict:"A",replace:!1,scope:!0,link:function(a,b,c){function e(){var c=document.createElement("option");c.disabled=!0,c.textContent="────────";var d=document.createElement("option");d.value="find me",d.textContent=window.dict.more_options_ellipsis||"More options ...",setTimeout(function(){a.$apply(function(){b.append(c),b.append(d)})},10)}function f(c){isNaN(parseInt(this.value))?(c.preventDefault(),a.$apply(function(){a.item.format_selector.selected_license_step=d,b.trigger("manuallyTriggerModalNow")})):a.togglePriceUpdate()}e(),b.on("change",f);var d;a.$watch("item.format_selector.selected_license_step",function(a,b){d=b})}}}),angular.module("fs.buy.directives").directive("optionsDisabled",["$parse",function(a){var b=function(a,b,c,d,e){$("option[value!='?']",c).each(function(c,f){var g={};g[b]=d[c],$(this).attr("disabled",e(a,g))})};return{priority:0,require:"ngModel",link:function(c,d,e,f){var g=e.optionsDisabled.match(/^\s*(.+)\s+for\s+(.+)\s+in\s+(.+)?\s*/),h=g[3],i=a(g[1]);c.$watch(h,function(a,e){a&&b(c,g[2],d,a,i)},!0),c.$watch(e.ngModel,function(e,f){var j=a(h)(c);e&&b(c,g[2],d,j,i)})}}}]),angular.module("fs.buy.directives").directive("selectExpand",function(){return{link:function(a,b,c){b.bind("click",function(){var a=$(b).parents(".l-table__row"),c=$(b).parents(".l-table").children(".l-table__expand-switch"),d=a.hasClass("is-checked"),e=!c.is(":checked");!d&&!e&&c.trigger("click")})}}}),angular.module("fs.buy.directives").directive("sendCardToParent",function(){return{link:function(a,b,c){b.ready(function(){var c=$(b);a.channel||(a.channel=Channel.build({window:window.parent,origin:"*",scope:"fs:buy"})),b.bind("click",function(){a.channel.call({method:"sendCartObject",params:JSON.stringify(a.data),success:function(a){}})})})}}}),angular.module("fs.buy.directives").directive("textRenderer",function(){return{link:function(a,b,c){var d=0,e=100,f=function(a){window.textRenderer?(d=0,window.textRenderer.renderDeferredTexts($(a))):setTimeout(function(){d++,d<e?f(a):d=0},100)};b.ready(function(){f(b)})}}}),angular.module("fs.buy.directives").directive("tooltip",function(){return{scope:!1,link:function(a,b,c){b.ready(function(){setTimeout(function(){var c=b[0].attributes["data-tooltip-text"].value||a.$parent.formats.formats.format_selectors[a.$index].format_selector.tooltip_text;new fs.Modules.Tooltip({el:b,text:c})},0)})}}}),function(){"use strict",angular.module("wu.masonry",[]).controller("MasonryCtrl",["$scope","$element","$timeout",function a(a,b,c){function i(a){a.addClass("loaded")}var d={},e=[],f=!1,g=this,h=null;this.preserveOrder=!1,this.loadImages=!0,this.scheduleMasonryOnce=function(){var a=arguments,b=e.filter(function(b){return b[0]===a[0]}).length>0;b||this.scheduleMasonry.apply(null,arguments)},this.scheduleMasonry=function(){h&&c.cancel(h),e.push([].slice.call(arguments)),h=c(function(){if(f)return;e.forEach(function a(a){b.masonry.apply(b,a)}),e=[]},30)},this.appendBrick=function(a,c){function e(){Object.keys(d).length===0&&b.masonry("resize"),d[c]===undefined&&(d[c]=!0,i(a),b.masonry("appended",a,!0))}function h(){g.scheduleMasonryOnce("layout")}if(f)return;g.loadImages?g.preserveOrder?(e(),a.imagesLoaded(h)):a.imagesLoaded(function(){e(),h()}):(e(),h())},this.removeBrick=function(a,c){if(f)return;delete d[a],b.masonry("remove",c),this.scheduleMasonryOnce("layout")},this.destroy=function(){f=!0,b.data("masonry")&&b.masonry("destroy"),a.$emit("masonry.destroyed"),d=[]},this.reload=function(){b.masonry(),a.$emit("masonry.reloaded")}}]).directive("masonry",function(){return{restrict:"AE",controller:"MasonryCtrl",link:{pre:function a(a,b,c,d){var e=a.$eval(c.masonry||c.masonryOptions),f=angular.extend({itemSelector:c.itemSelector||".masonry-brick",columnWidth:parseInt(c.columnWidth,10)||c.columnWidth},e||{});b.masonry(f);var g=a.$eval(c.loadImages);d.loadImages=g!==!1;var h=a.$eval(c.preserveOrder);d.preserveOrder=h!==!1&&c.preserveOrder!==undefined,a.$emit("masonry.created",b),a.$on("$destroy",d.destroy)}}}}).directive("masonryBrick",function(){return{restrict:"AC",require:"^masonry",scope:!0,link:{pre:function a(a,b,c,d){var e=a.$id,f;d.appendBrick(b,e),b.on("$destroy",function(){d.removeBrick(e,b)}),a.$on("masonry.reload",function(){d.scheduleMasonryOnce("reloadItems"),d.scheduleMasonryOnce("layout")}),a.$watch("$index",function(){f!==undefined&&f!==a.$index&&(d.scheduleMasonryOnce("reloadItems"),d.scheduleMasonryOnce("layout")),f=a.$index})}}}})}(),angular.module("fs.buy.services",[]),angular.module("fs.buy.services").factory("$fs_sync",["$http",function(a){return function(b,c,d,e,f){var g=$("meta[name='csrf-token']").attr("content");a.defaults.headers.post["X-CSRF-Token"]=g;var h=$(".js-buy-app"),i=function(a){var b=[],c;angular.forEach(a.product_selector.major_items,function(a){a.item["is_selected?"]&&b.push(a.item.id),angular.forEach(a.item.single_items,function(a){a.item["is_selected?"]&&b.push(a.item.id)})});for(c=0,packagesLength=a.product_selector.package_items.length;c<packagesLength;c++){var d=a.product_selector.package_items[c];d.item["is_selected?"]&&b.push(d.item.id)}return b};getSelectedProductTypes=function(a,b,c){var d=c?{}:[],e,f=a.product_selector.formats.formats.format_selectors;for(e=0,formatLength=f.length;e<formatLength;e++){var g=f[e];g.format_selector["is_selected?"]&&(c?d[g.format_selector.id]=g.format_selector[b].toString():d.push(g.format_selector[b]))}return d},getSelectedCharacterset=function(a){var b,c,d=a.product_selector.charactersets.charactersets.characterset_selectors;for(b=0,charactersetLength=d.length;b<charactersetLength;b++){var e=d[b];e.characterset_selector["is_selected?"]&&(c=e.characterset_selector.id)}return c};var j={selected_canonical_products:i(b),selected_product_types:getSelectedProductTypes(b,"id"),selected_license_counts:getSelectedProductTypes(b,"selected_license_step",!0),selected_characterset:getSelectedCharacterset(b),preferred_item_id:e&&e["is_selected?"]?e.id:!1};h.toggleClass(d,!0),clearTimeout(window.fsBuyDebounceInterval),window.fsBuyDebounceInterval=setTimeout(function(){var b=(new Date).getTime();window.lastBuyTimestamp=b,a.post(window.location.pathname+".json",j).success(function(a){window.lastBuyTimestamp===b&&(h.toggleClass(d,!1),c.call(this,a))})},500)}}]),function(a){if(!!document.querySelector(".js-buy-app")){var b=angular.module("fs.buy",["wu.masonry","fs.buy.controllers","fs.buy.directives","fs.buy.services"],["$rootScopeProvider",function(a){a.digestTtl(15)}]);angular.bootstrap(document.querySelector(".js-buy-app"),["fs.buy"])}}(window),function(a,b){function d(){var a=!1;this.$get=["$$sanitizeUri",function(c){return a&&b.extend(p,n),function(a){var b=[];return w(a,z(b,function(a,b){return!/^unsafe:/.test(c(a,b))})),b.join("")}}],this.enableSvg=function(c){return b.isDefined(c)?(a=c,this):a}}function e(a){var c=[],d=z(c,b.noop);return d.chars(a),c.join("")}function u(a,c){var d={},e=a.split(","),f;for(f=0;f<e.length;f++)d[c?b.lowercase(e[f]):e[f]]=!0;return d}function w(b,d){b===null||b===undefined?b="":typeof b!="string"&&(b=""+b),v.innerHTML=b;var e=5;do{if(e===0)throw c("uinput","Failed to sanitize html because the input is unstable");e--,a.document.documentMode&&A(v),b=v.innerHTML,v.innerHTML=b}while(b!==v.innerHTML);var f=v.firstChild;while(f){switch(f.nodeType){case 1:d.start(f.nodeName.toLowerCase(),x(f.attributes));break;case 3:d.chars(f.textContent)}var g;if(!(g=f.firstChild)){f.nodeType===1&&d.end(f.nodeName.toLowerCase()),g=f.nextSibling;if(!g)while(g==null){f=f.parentNode;if(f===v)break;g=f.nextSibling,f.nodeType===1&&d.end(f.nodeName.toLowerCase())}}f=g}while(f=v.firstChild)v.removeChild(f)}function x(a){var b={};for(var c=0,d=a.length;c<d;c++){var e=a[c];b[e.name]=e.value}return b}function y(a){return a.replace(/&/g,"&amp;").replace(f,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+((b-55296)*1024+(c-56320)+65536)+";"}).replace(g,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function z(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f){a=b.lowercase(a),!d&&o[a]&&(d=a),!d&&p[a]===!0&&(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),h=a==="img"&&g==="src"||g==="background";t[g]===!0&&(q[g]!==!0||c(d,h))&&(e(" "),e(f),e('="'),e(y(d)),e('"'))}),e(">"))},end:function(a){a=b.lowercase(a),!d&&p[a]===!0&&h[a]!==!0&&(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(y(a))}}}function A(b){if(b.nodeType===a.Node.ELEMENT_NODE){var c=b.attributes;for(var d=0,e=c.length;d<e;d++){var f=c[d],g=f.name.toLowerCase();if(g==="xmlns:ns1"||g.indexOf("ns1:")===0)b.removeAttributeNode(f),d--,e--}}var h=b.firstChild;h&&A(h),h=b.nextSibling,h&&A(h)}"use strict";var c=b.$$minErr("$sanitize"),f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=/([^\#-~ |!])/g,h=u("area,br,col,hr,img,wbr"),i=u("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),j=u("rp,rt"),k=b.extend({},j,i),l=b.extend({},i,u("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),m=b.extend({},j,u("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),n=u("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),o=u("script,style"),p=b.extend({},h,l,m,k),q=u("background,cite,href,longdesc,src,xlink:href"),r=u("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),s=u("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),t=b.extend({},q,s,r),v;(function(a){var b;if(a.document&&a.document.implementation)b=a.document.implementation.createHTMLDocument("inert");else throw c("noinert","Can't create an inert html document");var d=b.documentElement||b.getDocumentElement(),e=d.getElementsByTagName("body");if(e.length===1)v=e[0];else{var f=b.createElement("html");v=b.createElement("body"),f.appendChild(v),b.appendChild(f)}})(a),b.module("ngSanitize",[]).provider("$sanitize",d),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i,f=b.$$minErr("linky"),g=b.isString;return function(h,i,j){function p(a){if(!a)return;m.push(e(a))}function q(a,c){var d;m.push("<a "),b.isFunction(j)&&(j=j(a));if(b.isObject(j))for(d in j)m.push(d+'="'+j[d]+'" ');else j={};b.isDefined(i)&&!("target"in j)&&m.push('target="',i,'" '),m.push('href="',a.replace(/"/g,"&quot;"),'">'),p(c),m.push("</a>")}if(h==null||h==="")return h;if(!g(h))throw f("notstring","Expected string but received: {0}",h);var k,l=h,m=[],n,o;while(k=l.match(c))n=k[0],!k[2]&&!k[4]&&(n=(k[3]?"http://":"mailto:")+n),o=k.index,p(l.substr(0,o)),q(n,k[0].replace(d,"")),l=l.substring(o+k[0].length);return p(l),a(m.join(""))}}])}(window,window.angular),angular.module("fs.tryout.controllers",[]),angular.module("fs.tryout.directives",[]),angular.module("fs.tryout.controllers").controller("TryoutContentController",["$scope","$http","localStorageService","$sce","$timeout",function(a,b,c,d,e){var f=window.fs,g=f.app,h="/search_data.json?search_mode=families",i;a.deviceDefaultFontSizes={mobile:48,tablet:72,desktop:80},g.querystrings=g.helpers.getQueryStrings(),a.bg_color=window.tryout_data.bg_color||{},a.bg_image=window.tryout_data.bg_image||{},a.bg_image_attribution=window.tryout_data.bg_image_attribution||{},a.tryoutItems=window.tryout_data.tryout_items||{},a.renderScaleFactor=window.devicePixelRatio||1,a.textBlocks=a.tryoutItems||{},a.textBlocksInitComplete=!1,a.initBlockIncrement=0,a.defaultTypeface={typeface:{weight_name:" "}},a.typefaceSelected=!1,a.currentTypeface=a.defaultTypeface,a.suggestedItems={},a.suggestedStatus="idle",a.likedItems=[],a.recentlyUsedItems=[],a.loadedItems=[],a.enableInfo=!1,a.fontfinderBubbleData={text:"Abc",name:"FF Yoga Sans",layout_id:"eba8eeb20999d4a17e6cd8f7a9562aa2"},a.setLocalStorage=function(){var b=$(".m-tryout__app__canvas__background");b.length>0&&b.css("backgroundColor",a.bg_color),c.remove("bg_color"),c.add("bg_color",a.bg_color),c.remove("tryoutItems"),c.add("tryoutItems",a.textBlocks)},a.getLocalization=function(){return{rails_locale:rails_locale||window.rails_locale,rails_session_currency:rails_session_currency||window.rails_session_currency}},a.initTryout=function(){Modernizr.localstorage&&typeof window.localStorage.tryout_recentlyUsedItems!="undefined"&&(a.recentlyUsedItems=JSON.parse(window.localStorage.tryout_recentlyUsedItems)),$.each(a.textBlocks,function(b){var c=$(this)[0],d=c;typeof d.family=="undefined"&&(d.family={}),c.title=d.family.name||"",c.title_suggestions=d.family.name||"",c.typeface.weight_name=d.typeface.weight_name||d.typeface.weight_names.long_weight_name||"",c.content=d.content||"",c.current_typeface_class="",c.size=a.setBlockTextSize(d.size)}),a.$watch("bg_color",a.setLocalStorage,!0),a.$watch("textBlocks",a.setLocalStorage,!0),$(function(){a.initializeBlocks(function(){$(window).width()<=g.breakpoints.mobile.landscape?a.toggleTypeface(0):a.focusTextBlock(0)}),$(window).on("resize",function(){e.cancel(i),i=e(function(){e.cancel(i),a.resetAfterResize()},100)}),window.fs.vent.on("fs:tryout:familychange",function(b){a.updateTypefaceData(b)}),a.$on("ngRepeatFinished",function(a,b){window.fs.vent.trigger("fs:tryout:tools:suggestions:complete")})})},a.initializeBlocks=function(b){f.vent.on("fs:tryout:fontupdate:complete",function(){a.initBlockIncrement++;var c=a.textBlocks.length;c<=a.initBlockIncrement?a.$safeApply(function(){a.textBlocksInitComplete=!0,f.vent.off("fs:tryout:fontupdate:complete"),_.defer(function(){b.call()})}):a.initializeBlockItem(a.initBlockIncrement)}),a.textBlocks.length>0?a.initializeBlockItem(a.initBlockIncrement):a.textBlocksInitComplete=!0},a.initializeBlockItem=function(b){a.$safeApply(function(){typeof a.textBlocks[b]!="undefined"?(a.currentTypeface=a.textBlocks[b],a.isTypefaceLoaded()):f.vent.trigger("fs:tryout:fontupdate:complete")})},a.addTextBlockStyles=function(b){function d(){var a="",b;if(!c||typeof c.opentype_feature=="undefined")return a;var d=typeof c.opentype_feature.liga=="undefined"||!c.opentype_feature.liga?"0":"1",e=typeof c.opentype_feature.smcp=="undefined"||!c.opentype_feature.smcp?"0":"1";return"'liga' "+d+", 'smcp' "+e+", 'onum' 1"}if(typeof b=="undefined")return;var c=!1;return $.each(a.textBlocks,function(a,d){d.uid==b&&(c=d)}),{"font-size":c.size+"px","line-height":c.line_height,color:c.color,"-webkit-font-feature-settings":d(),"-moz-font-feature-settings":d(),"-ms-font-feature-settings":d(),"-o-font-feature-settings":d(),"font-feature-settings":d()}},a.setBlockTextSize=function(b){return typeof b=="undefined"&&(b=a.deviceDefaultFontSizes.tablet),$(window).width()<=g.breakpoints.mobile.landscape?b>a.deviceDefaultFontSizes.mobile&&(b=a.deviceDefaultFontSizes.mobile):$(window).width()<=g.breakpoints.tablet.landscape&&b>a.deviceDefaultFontSizes.tablet&&(b=a.deviceDefaultFontSizes.tablet),b},a.toggleTypeface=function(b){$(".m-tryout-textblock").removeClass("m-tryout-textblock--active");if(b===-1)a.setCurrentTypeface("default");else{if(typeof a.textBlocks[b]=="undefined")return;$(".m-tryout-textblock").eq(b).addClass("m-tryout-textblock--active"),a.setCurrentTypeface(a.textBlocks[b])}},a.setCurrentTypeface=function(c){var d=c||{};a.$safeApply(function(){d==="default"?(a.currentTypeface=a.defaultTypeface,a.typefaceSelected=!1):(a.currentTypeface=d,a.typefaceSelected=!0,typeof a.currentTypeface.typefaces=="undefined"&&b.get(a.prepareRequest(a.currentTypeface.family.name,"&fields=typeface_data,opentype_features")).success(function(b){var c=[],d=a.accessFamilySourceData(b).filter(function(b){return a.currentTypeface.family.name===b.name});d.length?c=d[0]:c=a.accessFamilySourceData(b)[0],a.currentTypeface.url_string=c.url_string||"",a.currentTypeface.typefaces=c.typeface_data||{},a.currentTypeface.starting_price=a.getLocalizedStartingPrice(c.localized_starting_price),a.currentTypeface.amount_styles=(c.typeface_data||{}).length||0,a.currentTypeface.opentype_features=c.opentype_features||{},a.currentTypeface.opentype_feature=a.setOTF()}),a.updateAutocompleteValues())})},a.selectNewTypeface=function(b,c,d){var b=a[b]||{};if(typeof c!="undefined"){var e=_.findKey(b,{layoutfont_id:c}),f=b[e]||!1;typeof f!="undefined"&&f&&(f.type="selected",f.id=c,f.currentTarget=d.currentTarget,f.originalEvent=d.originalEvent,a.updateTypefaceData(f))}},a.clearSuggestedItems=function(b){a.$safeApply(function(){a.suggestedItems={},a.suggestedStatus=b?"searching":"idle"})},a.updateAutocompleteValues=_.debounce(function(){var c=a.currentTypeface.title_suggestions,d=typeof c!="undefined"&&c!=""&&c.length>0?!0:!1,e=a.prepareRequest(c,"&size=5&fields=typeface_data,opentype_features");a.clearSuggestedItems(d),b.get(e).success(function(b){a.$safeApply(function(){a.suggestedItems=a.accessFamilySourceData(b),a.suggestedStatus="idle"})})},750),a.updateRecentlyUsed=function(b){if(typeof b=="undefined")return!1;if(typeof b.layoutfont_id=="undefined")return!1;var c=!1;$.each(a.recentlyUsedItems,function(a,d){b.layoutfont_id==d.layoutfont_id&&(c=!0)}),c||(a.recentlyUsedItems.unshift(b),a.recentlyUsedItems.length>5&&a.recentlyUsedItems.pop(),window.localStorage.tryout_recentlyUsedItems=JSON.stringify(a.recentlyUsedItems))},a.updateTypefaceData=function(c){function i(b){a.$safeApply(function(){a.currentTypeface.title=b.clean_name||"",a.currentTypeface.family={id:typeof data!="undefined"?data.families.hits.hits[0]._id:"",name:b.name||""},a.currentTypeface.url_string=b.url_string||"",a.currentTypeface.starting_price=a.getLocalizedStartingPrice(b.localized_starting_price),a.currentTypeface.amount_styles=(b.typeface_data||{}).length||0,a.currentTypeface.title_suggestions=b.clean_name||"",a.currentTypeface.opentype_features=b.opentype_features||{},a.currentTypeface.opentype_feature=a.setOTF(),a.currentTypeface.preferred_typeface={},a.currentTypeface.typefaces=b.typeface_data||{},a.currentTypeface.typeface={};var c=0,d=!1;typeof b.typeface_data!="undefined"&&$.each(b.typeface_data,function(b,e){typeof a.currentTypeface.typeface.weight_name!="undefined"&&e.weight_name==a.currentTypeface.typeface.weight_name&&(c=b,d=!0)}),!d&&typeof b.typeface_data!="undefined"&&$.each(b.typeface_data,function(a,b){b.weight_name=="Regular"&&(c=a)}),a.currentTypeface.typeface=typeof b.typeface_data!="undefined"&&typeof b.typeface_data[c]!="undefined"?b.typeface_data[c]:{},a.isTypefaceLoaded(),a.updateAutocompleteValues()})}var d=c.type=="click"||c.type=="selected"?c:!1,e=typeof this.item=="undefined"?c:this.item||{},f=typeof e.id=="undefined"?0:e.id,g=e.clean_name||e.name||!1,h=a.prepareRequest(g,"&fields=typeface_data,opentype_features");if(!!d){window.fs.vent.trigger("fs:tryout:tools:pulldown:click"),typeof d.originalEvent!="undefined"&&d.originalEvent.stopPropagation();if($(c.currentTarget).hasClass("item-unavailable"))return}$("[tryout-search-autocomplete], [tryout-tools-mobile-search]").removeClass("is-active"),a.updateRecentlyUsed(e),c.type==="selected"?i(c):b.get(h).success(function(b){var c=[],d=a.accessFamilySourceData(b).filter(function(a){return g===a.name||g===a.clean_name});d.length>0?c=d[0]:c=a.accessFamilySourceData(b)[0];if(typeof c=="undefined")throw"No Typeface Data was loaded. Request URI: "+h;i(c)})},a.prepareRequest=function(a,b){var c="",a=a||!1,b=typeof b=="string"?b:"",d=h.indexOf("?")===-1?"?":"&",e=h+d;return a?c=e+"q="+encodeURIComponent(a)+b:g.querystrings.referer&&(c=e+"referer="+g.querystrings.referer),c},a.accessFamilySourceData=function(a){var b=[];return typeof a.families!="undefined"&&$.each(a.families.hits.hits,function(a,c){b[a]=c._source}),b},a.isTypefaceSelected=function(){return a.typefaceSelected},a.selectTextBlock=function(a){a.stopPropagation()},a.selectText=function(b){b.currentTarget.select(),a.detouchChosenSelect()},a.detouchChosenSelect=function(){},a.loop_uid=_.max(a.textBlocks,function(a){return a.uid}).uid,a.focusTextBlock=function(b,c){var c=c||!1;if(!c&&$("body").hasClass("l-tryout-page--template-postcard")||$("body").hasClass("l-tryout-page--template-blog")||$("body").hasClass("l-tryout-page--template-book")){a.toggleTypeface(-1),$("[tryout-toggle-tools]").trigger("click");return}$(".m-tryout-textblock").eq(b).find(".m-tryout-textblock__input").focus()},a.clearCanvasSelection=function(b){$(window).width()>g.breakpoints.mobile.landscape&&(a.toggleTypeface(-1),$(".l-offscreen-panel__close--tryout").trigger("click"))},a.deliberatelyTrustDangerousSnippet=function(a){return d.trustAsHtml(a)},a.duplicateBlock=function(b){a.loop_uid++;var c=$.extend(!0,{},a.textBlocks[b]);c.uid=a.loop_uid,a.textBlocks.splice(b+1,0,c),_.defer(function(){a.$safeApply(function(){a.toggleTypeface(b+1)})})},a.deleteBlock=function(b){a.textBlocks.splice(b,1),_.defer(function(){a.$safeApply(function(){a.textBlocks.length>b?a.focusTextBlock(b,!0):a.toggleTypeface(-1)})})},a.triggerTypefaceUpdate=function(b){a.$safeApply(function(){if(typeof b!="undefined"||_.isEmpty(b))a.currentTypeface.typeface=b;a.isTypefaceLoaded()})},a.isTypefaceLoaded=function(){if(typeof a.currentTypeface.typeface=="undefined"||_.isEmpty(a.currentTypeface.typeface))throw a.showErrorMsg(),"Notice: No typeface property defined for requested Typeface";var b=!0;$.each(a.loadedItems,function(c,d){a.currentTypeface.typeface.layoutfont_id==d.layoutfont_id&&(b=!1)}),b?a.appendTypeface():a.updateTypefaceClass()},a.appendTypeface=function(){var b=$(".m-tryout-textblock--active"),c=a.currentTypeface.typeface||{};if(typeof c.webfont=="undefined"||_.isEmpty(c.webfont))throw a.showErrorMsg(),f.vent.trigger("fs:tryout:fontupdate:complete"),"No object defined for $.fontLoader";b.addClass("is-loading"),$.fontLoader("load",{webfonts:c.webfont,loadingClasses:!1,onComplete:function(){var c=$.extend(!0,{},a.currentTypeface.typeface);a.loadedItems.push(c),a.updateTypefaceClass(function(){b.removeClass("is-loading")})},onError:function(){throw a.showErrorMsg(),f.vent.trigger("fs:tryout:fontupdate:complete"),"Error occured during load in $.fontLoader"}})},a.showErrorMsg=function(){var a=$(".m-tryout-textblock--active").find(".m-tryout-textblock__error");a.fadeIn(100,function(){setTimeout(function(){a.fadeOut()},1500)})},a.updateTypefaceClass=function(b){var c=$(".m-tryout-textblock--active").length===0?$(".m-tryout-textblock").eq(a.initBlockIncrement).clone():$(".m-tryout-textblock--active").clone();c.css({position:"absolute",top:"-9999px",left:"-9999px",visibility:"hidden"}).appendTo($("body")).removeClass("is-loading").addClass(a.currentTypeface.typeface.webfont.css_class),_.delay(function(){a.$safeApply(function(){c.remove(),f.vent.trigger("fs:tryout:fontupdate:complete");if(typeof a.currentTypeface.typeface.webfont=="undefined")throw"No Webfont defined for current Typeface";a.currentTypeface.current_typeface_class=a.currentTypeface.typeface.webfont.css_class,f.vent.trigger("fs:tryout:fontupdate:complete"),typeof b=="function"&&b.call()})},500)},a.hasOTF=function(b){return typeof a.currentTypeface.opentype_feature=="undefined"?!1:typeof a.currentTypeface.opentype_feature[b]=="undefined"?!1:!0},a.toggleOTFeature=function(b,c){b.preventDefault();if(typeof a.currentTypeface.opentype_feature[c]=="undefined")return;return a.$safeApply(function(){a.currentTypeface.opentype_feature[c]===!0?a.currentTypeface.opentype_feature[c]=!1:a.currentTypeface.opentype_feature[c]=!0}),!1},a.isOTFActive=function(b){return typeof a.currentTypeface.opentype_feature=="undefined"||typeof a.currentTypeface.opentype_feature[b]=="undefined"?"":"is-active"},a.setOTF=function(){var b={};if(/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor))return;if(Modernizr.prefixed("fontFeatureSettings")===!1)return;if(typeof a.currentTypeface.opentype_features=="undefined")return;return angular.forEach(a.currentTypeface.opentype_features,function(a,c){a=="liga"&&(b.liga=!0);if(a=="smcp"||a=="c2sc")b.smcp=!1;a=="onum"&&(b.onum=!0)}),b},a.getLocalizedStartingPrice=function(b){return typeof b=="undefined"?"":typeof b[a.getLocalization().rails_locale]=="undefined"?"":typeof b[a.getLocalization().rails_locale][a.getLocalization().rails_session_currency]=="undefined"?"":b[a.getLocalization().rails_locale][a.getLocalization().rails_session_currency]},a.resetAfterResize=function(){Modernizr.touch||a.resetTextBlocks(),$(window).width()<=g.breakpoints.tablet.landscape&&$("[tryout-tools]").removeAttr("style")},a.resetTextBlocks=function(){angular.forEach(a.textBlocks,function(b,c){b.size=a.setBlockTextSize(b.size)})},a.$safeApply=function(a){var b=this.$root.$$phase;b=="$apply"||b=="$digest"?a&&typeof a=="function"&&a():this.$apply(a)}}]),angular.module("fs.tryout.controllers").controller("TryoutFontFinderController",["$scope","FontFinder",function(a,b){a.fontFinder={},a.setCategory=function(b){a.fontFinder.settings.style_category=a.fontFinder.settings.style_category==b?a.fontFinder.getSetting("style_category"):b,a.fontFinder.reload()},a.setFilterMode=function(b){a.fontFinder.settings.filter_mode=b},a.setFamily=function(a){a.webfonts_available&&window.fs.vent.trigger("fs:tryout:familychange",a),$(".m-tryout__app__tools--mobile__search.mobile-only:visible").length>0&&$(document.body).removeClass("l-tryout-fontfinder--active")},a.searchFamily=function(){a.fontFinder.reload()},a.onFamilyMouseOver=function(a,b){$target=$(a.currentTarget),b.ypos=$target.offset().top+$target.outerHeight()/2,window.fs.vent.trigger("fs:fontfinder:hover",b)},a.onFamilyMouseOut=function(){window.fs.vent.trigger("fs:fontfinder:hoverout")},a.fontFinderEvents={setFontFinderTrigger:function(){$(document).off("click.fontfinder").on("click.fontfinder",".js-fontfinder-trigger, .js-family-finder-trigger",function(a){$("body").toggleClass("l-tryout-fontfinder--active"),a.preventDefault()}),$(".o-autocomplete__show-more.js-fontfinder-trigger").off("click.fontfinder").on("click.fontfinder",function(a){$("body").toggleClass("l-tryout-fontfinder--active"),a.preventDefault()})},setFontFinderClose:function(){$(document).off("click.fontfinderClose").on("click.fontfinderClose","[tryout-fontfinder-close]",function(a){$("body").removeClass("l-tryout-fontfinder--active"),a.preventDefault()})}},$(function(){a.fontFinder=new b,window.fs.vent.on("fs:fontfinder:events:set",function(){a.fontFinderEvents.setFontFinderTrigger(),a.fontFinderEvents.setFontFinderClose()}),window.fs.vent.trigger("fs:fontfinder:events:set")})}]),angular.module("fs.tryout.controllers").factory("FontFinder",["$http",function(a){angular.module("infinite-scroll").value("THROTTLE_MILLISECONDS",250);var b={data_uri:"/search_data.json?search_mode=families",q:"",style_category:"all_categories_show",filter_mode:"categories",size:50,page:1,touchBottom:100,loaderSet:!1},c=function(){this.settings=$.extend(!0,{},b),this.items=[],this.busy=!1,this.$this=$('[ng-controller="TryoutFontFinderController"]'),this.load()};return c.prototype.getSetting=function(a){return b[a]},c.prototype.load=function(b){var c=this.settings.data_uri,d={q:this.settings.q,page:this.settings.page,size:this.settings.size,style_category:this.settings.style_category},e=typeof b=="function"?b:function(){};a.get(c,{params:d}).then($.proxy(function(a){var b=a.data.families.hits.hits;typeof b!="undefined"&&(angular.forEach(b,$.proxy(function(a){this.items.push(a)},this)),this.settings.loaderSet=!0),e()},this),function(a){console.log(a),e()})},c.prototype.fetch=function(){window.fs.vent.trigger("fs:fontfinder:scrolling");if(this.busy||!this.settings.loaderSet)return;this.busy=!0;var a=this.$this.find("[infinite-scroll]");a.scrollTop()+a.outerHeight()+this.settings.touchBottom>a.find(".fontfinder__list-inside").outerHeight()?(this.settings.page=this.settings.page+1,this.load($.proxy(function(){this.busy=!1},this))):this.busy=!1},c.prototype.reload=function(){this.settings.page=1,this.items=[],this.load()},c}]),angular.module("fs.tryout.controllers").controller("TryoutShareController",["$scope","$http","localStorageService",function(a,b,c){var d=$(".js-tryout__app__share"),e=$(".js-tryout__app__share--refresh");a.getSnapshot=function(){return a.snapshot={},a.snapshot.tryout_items=c.get("tryoutItems"),a.snapshot.bg_color=c.get("bg_color"),a.snapshot.bg_image=c.get("bg_image"),a.snapshot.bg_image_updated=window.tryout_data.bg_image!==a.snapshot.bg_image,a.snapshot},a.sendSnapshotState=function(){var c=a.getSnapshot();a.triggerActiveState(),url=$(".js-in-template").length>0?"/tryout/templates/"+$(".js-in-template").val():"/tryout",$.each(c.tryout_items,function(a,b){var c=b.content.replace(/&lt;/ig
,"<").replace(/&gt;/ig,">"),c=c.replace(/&amp;lt;/ig,"<").replace(/&amp;gt;/ig,">"),d=c.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");b.content=d}),b({method:"post",url:url,data:c}).success(a.sendSnapshotStateSuccess).error(a.sendSnapshotStateError)},a.triggerActiveState=function(){d.addClass("m-tryout__app__share--is-active")},a.sendSnapshotStateSuccess=function(b){b&&b.url&&(a.url=b.url,a.id=b.id),a.updateWindowURL(),a.selectCopyText()},a.updateWindowURL=function(){var b=a.snapshot;b.id=a.id,window.history.pushState(b,"",a.url)},a.selectCopyText=function(){var a=$(".js-tryout__app__share__url-field");_.defer(function(){Modernizr.touch||a.select(),a.get(0).setSelectionRange(0,9999)})},a.copyURLToClipboard=function(){return a.url},a.sendSnapshotStateError=function(){a.sendSnapshotStateSuccess({url:"/tryout/randomsavestring_"+Math.round(Math.random()*1e7)})},$(document).on("click",function(){d.removeClass("m-tryout__app__share--is-active")}),d.on("click",function(b){b.stopPropagation(),$(this).hasClass("m-tryout__app__tools-section--expanded")||a.sendSnapshotState()}),e.on("click",a.sendSnapshotState)}]),angular.module("fs.tryout.directives").directive("contenteditable",["$sce","$timeout",function(a,b){return{require:"ngModel",link:function(c,d,e,f){c.textTools=function(){var a={},e;return a.stripContent=function(a){var b=a.replace(/<(?!br\s*\/?)[^>]+>/g,""),c=b.replace(/&lt;/gi,"<"),d=c.replace(/&gt;/gi,">");return d==="<br>"&&(d=""),d},a.proof=function(){b.cancel(e),e=b(function(){c.$parent.$safeApply(function(){var b=a.stripContent(d.html()),c=b.replace(/<script>|<\/script>/gi,"");d.html(c),f.$setViewValue(d.html())})},50)},a}(),d.bind("focus",function(){!$("body").hasClass("l-tryout-page__tools--maximized")&&$(window).width()>=window.fs.app.breakpoints.tablet.portrait&&$("[tryout-toggle-tools]").trigger("click")}),d.bind("focus blur input",function(a){function b(a){var b=document.createElement("textarea");return b.innerHTML=a,b.value}var d=$(a.currentTarget),e=d.data("uid"),f=b(d.html()).replace(/<script>|<\/script>/gi,"");c.textBlocks[e]&&(c.textBlocks[e].content=f),c.setLocalStorage()}),c.addContentToBlock=function(){c.textTools.proof()},c.deliberatelyTrustDangerousSnippet=function(b){return a.trustAsHtml(c.textTools.stripContent(b))}}}}]),angular.module("fs.tryout.directives").directive("onFinishRender",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){b.$last===!0&&a(function(){b.$emit(d.onFinishRender)})}}}]),angular.module("fs.tryout.directives").directive("tryoutSearchAutocomplete",function(){return{restrict:"A",controller:["$scope",function(a){a.onListItemHover=function(a){window.fs.vent.trigger("fs:tryout:tools:pulldown:hover",a)},a.onListItemHoverOut=function(a){window.fs.vent.trigger("fs:tryout:tools:pulldown:hoverout",a)}}],link:function(a,b,c){var d=angular.element(b),e=d.find(".o-autocomplete__input");d.on("click",function(a){a.stopPropagation(),d.addClass("is-active"),window.fs.vent.trigger("fs:tryout:tools:pulldown:focus")}),$(document).on("click",function(){d.removeClass("is-active"),window.fs.vent.trigger("fs:tryout:tools:pulldown:blur")})}}}),angular.module("fs.tryout.directives").directive("tryoutDropcap",function(){var a,b,c,d;return{link:function(e,f){function i(){a=g.html(),b=a.slice(0,1),c=a.split(" ")[0]}function j(){a=g.html(),d=a.split(" ")[0]}function k(){}function l(){i(),h.html(b)}var g=$(f).next(".m-tryout-textblock__input"),h=$(f).find(".m-tryout-textblock__dropcap__resizer");_.defer(function(){l(),$(document).on("keyup",g,l)})}}}),angular.module("fs.tryout.directives").directive("inputNumber",function(){function b(a,b){var c=b[0],d=Math.abs(a-c);for(var e=0;e<b.length;e++){var f=Math.abs(a-b[e]);f<d&&(d=f,c=b[e])}return c}var a=!1;return{restrict:"A",scope:!0,link:function(a,c,d){if(Modernizr.touch)return;var e=typeof $(c).data("numsteps")!="undefined"?$(c).data("numsteps").split(","):[];c.on("keyup",function(d){var f=[],g=parseInt($(c)[0].value,10);for(var h=48;h<58;h++)f.push(h);f.push(8),f.push(9),f.push(37),f.push(38),f.push(39),f.push(40),f.indexOf(d.keyCode)>=0||d.preventDefault();if(e.length!==0&&g>e[0]*1&&g<e[e.length-1]*1){d.preventDefault();var i=b(g,e),j=d.keyCode==40?-1:1;function k(a){return g==i||g+a==i?i:e[e.indexOf(i)+a]}a.$safeApply(function(){a.currentTypeface.size=parseInt(k(j),10)})}})}}}),angular.module("fs.tryout.directives").directive("tryoutCanvas",function(){return{restrict:"A",link:function(a,b,c){if(!jQuery)return;var d=$(b),e=d.find(".m-tryout__app__canvas__list"),f=$("body").find(".m-footer-links").first(),g=$("body").find(".m-color-switcher").first(),h=function(){$(window).width()>=window.fs.app.breakpoints.tablet.portrait&&(f.length>0&&(f.removeClass("l-consider-offscreen-panel--right js-consider-offscreen-panel").appendTo(d),d.addClass("m-tryout__app__canvas--has-footer"),g.length>0&&(g.appendTo(f),d.addClass("m-tryout__app__canvas--has-color-switcher"))),$.fn.mousewheel?$(document).mousewheel(function(a){$(a.target).closest(e).length>0&&(d.outerHeight()<e.outerHeight()?parseInt(($(window).height()-e.outerHeight())*-1)<=parseInt(d.scrollTop()+1)?d.addClass("_scroll-end"):d.removeClass("_scroll-end"):Math.abs(a.deltaY*a.deltaFactor)>10&&(a.deltaFactor>a.deltaY?d.addClass("_scroll-end"):d.removeClass("_scroll-end")))}):console.log("Missing jquery.mousewheel.min !"))};h(),$(window).on("resize",function(){$(window).width()<window.fs.app.breakpoints.tablet.portrait?(f.length>0&&(f.addClass("l-consider-offscreen-panel--right js-consider-offscreen-panel").appendTo($("body")),d.removeClass("m-tryout__app__canvas--has-footer")),g.length>0&&($(".l-offscreen-content").append(g),d.addClass("m-tryout__app__canvas--has-color-switcher")),$.fn.mousewheel&&$(document).unmousewheel()):h()})}}}),angular.module("fs.tryout.directives").directive("colorSwatcher",function(){return{restrict:"A",scope:!0,controller:["$scope",function(a){a.$watch("bg_color",function(){a.$safeApply(function(){a.$parent.bg_color=a.bg_color})}),a.isCurrentSwatchColor=function(b){var c=b.hex||"",d=b.model||"",e=a.bg_color||"",f=a.currentTypeface.color||"";return d=="bg_color"?c.toString().toLowerCase()==e.toString().toLowerCase()?!0:!1:d=="currentTypeface.color"?c.toString().toLowerCase()==f.toString().toLowerCase()?!0:!1:!1}}],link:function(a,b){function h(a){j(a)}function i(a){k()}function j(){b.hasClass(g)?b.removeClass(g):b.addClass(g)}function k(){d.hasClass("ng-invalid-pattern")&&(typeof a.bg_color=="undefined"?a.bg_color=e:typeof a.tryout.color=="undefined"&&(a.tryout.color=e),a.$apply())}var c=b.find(".js-tryout__app__color-swatcher__trigger"),d=b.find(".js-color-swatcher__hex-input"),e=a.bg_color||a.tryout.color,f=window.fs.app,g="m-tryout__app__color-swatcher--has-popup";c.on("click",h),d.on("blur",i),$(document).on("click",function(){b.removeClass(g)}),b.on("click",function(a){a.stopPropagation()})}}}),angular.module("fs.tryout.directives").directive("tryoutDragPanelSwitch",function(){return{restrict:"A",link:function(a,b,c,d){function g(){var a=$(".QSIInfoBar"),b=a.height();b=b?b:0;var c=$("#fex_update_banner").height();c=c?c:0;var d=b+c,e=$(".m-tryout__app__canvas"),f=$(".m-tryout__app__tools"),g=$(".m-tryout__app__tools--mobile__search");e.hasClass("m-tryout__app__canvas--has-footer")?(e.css("top",d),f.css("top",d)):f.css("z-index",0);var h=$(window).scrollTop();d-h>0?g.css("top",d-h):g.css("top",0)}var e=$("[tryout-tools]"),f=e.find(".m-tryout__app__tools__inner");b.on("click",function(){var a=$(this);return $("body").toggleClass("l-tryout-page__tools--drag-panel"),$(this).toggleClass("is-active"),a.hasClass("o-icon--raquo")?a.removeClass("o-icon--raquo").addClass("o-icon--laquo"):a.removeClass("o-icon--laquo").addClass("o-icon--raquo"),f.toggleClass("js-watchoverflow"),e.removeAttr("style"),$(".QSIInfoBar").length>0&&g(),!1})}}}),angular.module("fs.tryout.directives").directive("tryoutDragPanelDragbar",function(){return{restrict:"A",controller:["$scope",function(a){$toolsInner=$(".m-tryout__app__tools__inner"),a.minmax=function(){return $toolsInner.length>0&&($toolsInner.toggleClass("m-tryout__app__tools__inner--hide"),window.fs.vent.trigger("fs:watchoverflow:watch")),!1}}],link:function(a,b,c,d){if(!jQuery)return;typeof $.fn.tinyDraggable!="undefined"?$("[tryout-tools]").tinyDraggable({handle:b,dropped:function(){window.fs.vent.trigger("fs:watchoverflow:watch")}}):console.log("Could not load $.tinyDraggable Plugin")}}}),angular.module("fs.tryout.directives").directive("fontfinderBubble",function(){return{restrict:"A",link:function(a,b,c,d){a.isFontFinderInfoVisible=function(a){return typeof a=="undefined"||a==null||a==""||a=="null"?!1:!0};var e=e||window.rails_locale,f=typeof e!="undefined"?e:"en",g=function(b){var c=$("[data-uid="+a.currentTypeface.uid+"]").text(),d=c==""?b:c;return d.substr(0,50)},h=function(a){var b=(a+"").split(" "),c=b[b.length-1];return c!=""&&c!="null"&&typeof c!="undefined"&&(b[b.length-1]='<span class="styles--pipe">'+c+"</span>"),b.join(" ")},i=function(a){if(typeof a=="undefined"||a===null)a="";if(typeof a=="object")if(a.length>0){var b="";$.each(a,function(a,c){b+=(a===0?"":", ")+c}),a=b}else a="";return typeof a=="number"&&(a+=""),a},j=function(a){var b=a<2?f=="de"?"Einzelschnitt":"Style":f=="de"?"Einzelschnitte":"Styles";return b};$(function(){window.fs.vent.on("fs:tryout:fontfinderfont",function(b){a.$safeApply(function(){a.fontfinderBubbleData={text:i(g(b.clean_name)),name:i(b.name),layout_id:i(b.layoutfont_id),title:h(i(b.clean_name)),designers:h(i(b.designers)),foundry:h(i(b.foundry)),year:h(i(b.design_year)),styles:i(b.typeface_count)+" "+j(b.typeface_count),license_types:i(b.license_types)}})})})}}}),angular.module("fs.tryout.directives").directive("imageonload",function(){function a(a,b,c){var d=$(b)[0];d=d?d:{};var e=d.style?d.style:{},f=a.renderScaleFactor,g="opacity"in document.body.style,h=d.hasAttribute?d.hasAttribute("src"):"";g&&h&&(e.visibility="hidden"),b.bind("load",function(a){f!=1&&(d&&(e.width=(d.naturalWidth==undefined||!d.naturalWidth?d.clientWidth:d.naturalWidth)/f+"px"),e.height="auto"),g&&(e.visibility="visible")}),b.bind("error",function(){console.log("error: "+$(d).attr("alt"))})}return{link:a}}),angular.module("fs.tryout.directives").directive("imageUploader",function(){return{restrict:"A",link:function(a,b,c,d){var e=angular.element($("[ng-controller=TryoutContentController]")).scope(),f=function(){e.$safeApply(function(){a.bg_image=b.val(),delete e.bg_image_attribution})},g=function(){var b=$(".js-tryout-background");b.css("background-image","url("+a.bg_image+")")};a.$watch("bg_image",g),g(),b.on("change",f).val(a.bg_image)}}}),angular.module("fs.tryout.directives").directive("tryoutToggleTools",function(){return{restrict:"A",link:function(a,b,c,d){if(!jQuery)return;var e=$("body"),f=$("[tryout-app]"),g=$("[tryout-tools]"),h=$("[tryout-drag-panel-switch]"),i=$("[tryout-canvas]"),j=window.fs.app.breakpoints||{},k="l-tryout-page__tools--maximized",l="l-tryout-page__tools--progress";b.on("click",function(a){a.preventDefault(),h.length>0&&h.hasClass("is-active")&&h.trigger("click"),e.addClass(l).toggleClass(k),b.toggleClass("o-icon--x"),b.toggleClass("o-icon--settings"),!e.hasClass(k)&&$(window).width()>j.tablet.portrait&&i.trigger("click"),g.one("webkitTransitionEnd otransitionend msTransitionEnd transitionend",function(a){e.removeClass(l)})})}}}),angular.module("fs.tryout.directives").directive("tryoutToolsSection",["$timeout",function(a){return{restrict:"A",link:function(b,c,d,e){if(!jQuery)return;var f=$(c),g=$("[tryout-tools]"),h=f.find(".m-tryout__app__tools-section__header"),i=f.find(".m-tryout__app__tools-section__expand-container"),j=i.find(".m-tryout__app__tools-section__expand-container-control__close"),k=window.fs.app.breakpoints||!1,l;h.on("click",function(b){b.preventDefault(),i.length>0&&(g.find(".m-tryout__app__tools-section--expanding").removeClass("m-tryout__app__tools-section--expanding"),h.find(".o-icon").toggleClass("o-icon--right-simple-arrow o-icon--down-simple-arrow"),k&&$(window).width()<k.tablet.portrait?(f.addClass("m-tryout__app__tools-section--expanding"),a(function(){g.toggleClass("m-tryout__app__tools--has-section--expanded"),f.toggleClass("m-tryout__app__tools-section--expanded"),g.one("webkitTransitionEnd otransitionend msTransitionEnd transitionend",function(a){f.removeClass("m-tryout__app__tools-section--expanding"),g.hasClass("m-tryout__app__tools--has-section--expanded")&&$("html,body").animate({scrollTop:0},"fast")})},100)):i.addClass("m-tryout__app__tools-section--expanding").slideToggle({duration:150,easing:"swing",complete:function(){f.toggleClass("m-tryout__app__tools-section--expanded"),$(this).removeClass("m-tryout__app__tools-section--expanding").removeAttr("style")}}))}),j.on("click",function(a){a.preventDefault(),h.closest(".m-tryout__app__tools-section__header").trigger("click")})}}}]),angular.module("fs.tryout.directives").directive("toolsInfoOnOffSwitch",function(){return{restrict:"A",scope:{enableInfo:"=info"},link:function(a,b,c,d){if(!jQuery)return;var e=$(b),f=e.find("input[type=checkbox]");e.on("click",function(b){b.preventDefault(),f.prop("checked",function(a,b){return!b}),a.$apply(function(){a.enableInfo=f.prop("checked")})})}}}),angular.module("fs.tryout.directives").directive("tryoutToolsMobileMenu",function(){return{restrict:"A",link:function(a,b,c,d){a.showToolsPanel=function(){return $(window).scrollTop(0),$("[tryout-toggle-tools]").trigger("click"),!1}}}}),angular.module("fs.tryout.directives").directive("tryoutToolsMobileSearch",function(){return{restrict:"A",scope:!0,controller:["$scope","$element",function(a,b){if(!jQuery)return;var c=$(b),d=$("body"),e=$(".o-autocomplete__family"),f="active",g="l-tryout-page__tools--mobile-search-overlay";a.showSearchOverlay=function(){a.clearQuery(),c.addClass(f),c.addClass("is-"+f),d.addClass(g)},a.hideSearchOverlay=function(){c.removeClass(f),c.removeClass("is-"+f),d.removeClass(g),c.find(".o-autocomplete__input").val(a.currentTypeface.title)},a.clearQuery=function(){c.find(".o-autocomplete__input").val("").trigger("input")},a.isClearVisible=function(){return a.suggestedStatus=="searching"?!0:!1},a.suggestedItemsHide=function(){return a.suggestedStatus=="searching"?!1:!0},a.recentlyUsedItemsHide=function(){return a.suggestedStatus=="idle"?!1:!0},a.likedItems=function(){return!0}}]}}),angular.module("fs.tryout.directives").directive("tryoutToolsMobileConfirm",function(){return{restrict:"A",controller:["$scope","$element",function(a,b){if(!jQuery)return;a.hideSearchOverlay=function(){return $("[tryout-toggle-tools]").trigger("click"),!1}}]}}),angular.module("fs.tryout.directives").directive("toolsSearchFamily",function(){return{restrict:"A",scope:!0,controller:["$scope",function(a){a.hasItemID=function(a){return typeof a=="undefined"?!1:!0}}],link:function(a,b,c,d){if(!jQuery)return;var e=angular.element($("[tryout-tools-mobile-search]")).scope();$(b).on("click",function(){e.hideSearchOverlay()})}}}),angular.module("fs.tryout.directives").directive("toolsSwitchWeight",function(){return{restrict:"A",controller:["$scope",function(a){a.onListItemHover=function(a){window.fs.vent.trigger("fs:tryout:tools:pulldown:hover",a)},a.onListItemHoverOut=function(a){window.fs.vent.trigger("fs:tryout:tools:pulldown:hoverout",a)}}],link:function(a,b,c){function e(a){clearTimeout(d),d=setTimeout(function(){clearTimeout(d),a()},50)}function f(){$(b).removeClass("chosen-container-active").closest(".o-pulldown").removeClass("is-active"),window.fs.vent.trigger("fs:tryout:tools:pulldown:blur")}var d;$(b).on("click",function(a){a.preventDefault(),a.stopPropagation(),$(b).addClass("chosen-container-active").find(".active-result").each(function(){$(this).off("click",function(){e(f)}).on("click",function(){e(f)})}),$(b).closest(".o-pulldown").addClass("is-active"),window.fs.vent.trigger("fs:tryout:tools:pulldown:focus")}),$(document).on("click",f),$(".o-autocomplete__input").on("focus",f)}}}),function(){var a;a=function(){function a(b,c){this.form_field=b,this.options=c!=null?c:{};if(!a.browser_is_supported())return;this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers()}return a.prototype.set_default_values=function(){return this.click_test_action=function(a){return function(b){return a.test_active_click(b)}}(this),this.activate_action=function(a){return function(b){return a.activate_field(b)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:!0,this.group_search=this.options.group_search!=null?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:!0,this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:!0},a.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||a.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||a.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||a.default_no_result_text},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(a){if(this.is_multiple){if(!this.active_field)return setTimeout(function(a){return function(){return a.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},a.prototype.input_blur=function(a){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(a){return function(){return a.blur_test()}}(this),100)},a.prototype.results_option_build=function(a){var b,c,d,e,f;b="",f=this.results_data;for(d=0,e=f.length;d<e;d++){c=f[d],c.group?b+=this.result_add_group(c):b+=this.result_add_option(c);if(a!=null?a.first:void 0)c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(c.text)}return b},a.prototype.result_add_option=function(a){var b,c;return a.search_match?this.include_option_in_results(a)?(b=[],!a.disabled&&(!a.selected||!this.is_multiple)&&b.push("active-result"),a.disabled&&(!a.selected||!this.is_multiple)&&b.push("disabled-result"),a.selected&&b.push("result-selected"),a.group_array_index!=null&&b.push("group-option"),a.classes!==""&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,this.outerHTML(c)):"":""},a.prototype.result_add_group=function(a){var b;return!a.search_match&&!a.group_match?"":a.active_options>0?(b=document.createElement("li"),b.className="group-result",b.innerHTML=a.search_text,this.outerHTML(b)):""},a.prototype.results_update_field=function(){this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build();if(this.results_showing)return this.winnow_results()},a.prototype.reset_single_select_options=function(){var a,b,c,d,e;d=this.results_data,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],a.selected?e.push(a.selected=!1):e.push(void 0);return e},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()},a.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l;this.no_results_clear(),d=0,f=this.get_search_text(),a=f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=new RegExp(a,"i"),c=this.get_search_regex(a),l=this.results_data;for(j=0,k=l.length;j<k;j++){b=l[j],b.search_match=!1,e=null;if(this.include_option_in_results(b)){b.group&&(b.group_match=!1,b.active_options=0),b.group_array_index!=null&&this.results_data[b.group_array_index]&&(e=this.results_data[b.group_array_index],e.active_options===0&&e.search_match&&(d+=1),e.active_options+=1);if(!b.group||!!this.group_search)b.search_text=b.group?b.label:b.text,b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(d+=1),b.search_match?(f.length&&(g=b.search_text.search(i),h=b.search_text.substr(0,g+f.length)+"</em>"+b.search_text.substr(g+f.length),b.search_text=h.substr(0,g)+"<em>"+h.substr(g)),e!=null&&(e.group_match=!0)):b.group_array_index!=null&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)}}return this.result_clear_highlight(),d<1&&f.length?(this.update_results_content(""),this.no_results(f)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},a.prototype.get_search_regex=function(a){var b;return b=this.search_contains?"":"^",new RegExp(b+a,"i")},a.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(a.indexOf(" ")>=0||a.indexOf("[")===0)){d=a.replace(/\[|\]/g,"").split(" ");if(d.length)for(e=0,f=d.length;e<f;e++){c=d[e];if(b.test(c))return!0}}},a.prototype.choices_count=function(){var a,b,c,d;if(this.selected_option_count!=null)return this.selected_option_count;this.selected_option_count=0,d=this.form_field.options;for(b=0,c=d.length;b<c;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},a.prototype.choices_click=function(a){a.preventDefault();if(!this.results_showing&&!this.is_disabled)return this.results_show()},a.prototype.keyup_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode,this.search_field_scale();switch(b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:a.preventDefault();if(this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},a.prototype.clipboard_event_checker=function(a){return setTimeout(function(a){return function(){return a.results_search()}}(this),50)},a.prototype.container_width=function(){return this.options.width!=null?this.options.width:""+this.form_field.offsetWidth+"px"},a.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},a.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},a.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},a.prototype.search_results_touchend=function(a){if(this.touch_started)return this.search_results_mouseup(a)},a.prototype.outerHTML=function(a){var b;return a.outerHTML?a.outerHTML:(b=document.createElement("div"),b.appendChild(a),b.innerHTML)},a.browser_is_supported=function(){return window.navigator.appName==="Microsoft Internet Explorer"?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},a.default_multiple_text="Select Some Options",a.default_single_text="Select an Option",a.default_no_result_text="No results match",a}(),window.AbstractChosen=a}.call(this),function(){var a;a=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return a.nodeName.toUpperCase()==="OPTGROUP"?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),children:0,disabled:a.disabled}),f=a.childNodes,g=[];for(d=0,e=f.length;d<e;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){if(a.nodeName.toUpperCase()==="OPTION")return a.text!==""?(b!=null&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},a.prototype.escapeExpression=function(a){var b,c;return a==null||a===!1?"":/[\&\<\>\"\'\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/&(?!\w+;)|[\<\>\"\'\`]/g,a.replace(c,function(a){return b[a]||"&amp;"})):a},a}(),a.select_to_array=function(b){var c,d,e,f,g;d=new a,g=b.childNodes;for(e=0,f=g.length;e<f;e++)c=g[e],d.add_node(c);return d.parsed},window.SelectParser=a}.call(this),function(){var a,b,c={}.hasOwnProperty,d=function(a,b){function e(){this.constructor=a}for(var d in b)c.call(b,d)&&(a[d]=b[d]);return e.prototype=b.prototype,a.prototype=new e,a.__super__=b.prototype,a};a=jQuery,a.fn.extend({chosen:function(c){return AbstractChosen.browser_is_supported()?this.each(function(d){var e,f;e=a(this),f=e.data("chosen"),c==="destroy"&&f instanceof b?f.destroy():f instanceof b||e.data("chosen",new b(this,c))}):this}}),b=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return d(c,b),c.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},c.prototype.set_up_html=function(){var b,c;return b=["chosen-container"],b.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),c={"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",c),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},c.prototype.register_observers=function(){return this.container.bind("touchstart.chosen",function(a){return function(b){a.container_mousedown(b)}}(this)),this.container.bind("touchend.chosen",function(a){return function(b){a.container_mouseup(b)}}(this)),this.container.bind("mousedown.chosen",function(a){return function(b){a.container_mousedown(b)}}(this)),this.container.bind("mouseup.chosen",function(a){return function(b){a.container_mouseup(b)}}(this)),this.container.bind("mouseenter.chosen",function(a){return function(b){a.mouse_enter(b)}}(this)),this.container.bind("mouseleave.chosen",function(a){return function(b){a.mouse_leave(b)}}(this)),this.search_results.bind("mouseup.chosen",function(a){return function(b){a.search_results_mouseup(b)}}(this)),this.search_results.bind("mouseover.chosen",function(a){return function(b){a.search_results_mouseover(b)}}(this)),this.search_results.bind("mouseout.chosen",function(a){return function(b){a.search_results_mouseout(b)}}(this)),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(a){return function(b){a.search_results_mousewheel(b)}}(this)),this.search_results.bind("touchstart.chosen",function(a){return function(b){a.search_results_touchstart(b)}}(this)),this.search_results.bind("touchmove.chosen",function(a){return function(b){a.search_results_touchmove(b)}}(this)),this.search_results.bind("touchend.chosen",function(a){return function(b){a.search_results_touchend(b)}}(this)),this.form_field_jq.bind("chosen:updated.chosen",function(a){return function(b){a.results_update_field(b)}}(this)),this.form_field_jq.bind("chosen:activate.chosen",function(a){return function(b){a.activate_field(b)}}(this)),this.form_field_jq.bind("chosen:open.chosen",function(a){return function(b){a.container_mousedown(b)}}(this)),this.form_field_jq.bind("chosen:close.chosen",function(a){return function(b){a.input_blur(b)}}(this)),this.search_field.bind("blur.chosen",function(a){return function(b){a.input_blur(b)}}(this)),this.search_field.bind("keyup.chosen",function(a){return function(b){a.keyup_checker(b)}}(this)),this.search_field.bind("keydown.chosen",function(a){return function(b){a.keydown_checker(b)}}(this)),this.search_field.bind("focus.chosen",function(a){return function(b){a.input_focus(b)}}(this)),this.search_field.bind("cut.chosen",function(a){return function(b){a.clipboard_event_checker(b)}}(this)),this.search_field.bind("paste.chosen",function(a){return function(b){a.clipboard_event_checker(b)}}(this)),this.is_multiple?this.search_choices.bind("click.chosen",function(a){return function(b){a.choices_click(b)}}(this)):this.container.bind("click.chosen",function(a){a.preventDefault()})},c.prototype.destroy=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},c.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled)return this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field();this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1;if(!this.is_multiple)return this.selected_item.bind("focus.chosen",this.activate_action)},c.prototype.container_mousedown=function(b){if(!this.is_disabled){b&&b.type==="mousedown"&&!this.results_showing&&b.preventDefault();if(b==null||!a(b.target).hasClass("search-choice-close"))return this.active_field?!this.is_multiple&&b&&(a(b.target)[0]===this.selected_item[0]||a(b.target).parents("a.chosen-single").length)&&(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()}},c.prototype.container_mouseup=function(a){if(a.target.nodeName==="ABBR"&&!this.is_disabled)return this.results_reset(a)},c.prototype.search_results_mousewheel=function(a){var b;a.originalEvent&&(b=a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail);if(b!=null)return a.preventDefault(),a.type==="DOMMouseScroll"&&(b*=40),this.search_results.scrollTop(b+this.search_results.scrollTop())},c.prototype.blur_test=function(a){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this
.close_field()},c.prototype.close_field=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},c.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},c.prototype.test_active_click=function(b){var c;return c=a(b.target).closest(".chosen-container"),c.length&&this.container[0]===c[0]?this.active_field=!0:this.close_field()},c.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},c.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight();if(b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(c<f)return this.search_results.scrollTop(c)}},c.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},c.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},c.prototype.update_results_content=function(a){return this.search_results.html(a)},c.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},c.prototype.set_tab_index=function(a){var b;if(this.form_field.tabIndex)return b=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=b},c.prototype.set_label_behavior=function(){this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']"));if(this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(a){return function(b){return a.is_multiple?a.container_mousedown(b):a.activate_field()}}(this))},c.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},c.prototype.search_results_mouseup=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c.length)return this.result_highlight=c,this.result_select(b),this.search_field.focus()},c.prototype.search_results_mouseover=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c)return this.result_do_highlight(c)},c.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result"))return this.result_clear_highlight()},c.prototype.choice_build=function(b){var c,d;return c=a("<li />",{"class":"search-choice"}).html("<span>"+b.html+"</span>"),b.disabled?c.addClass("search-choice-disabled"):(d=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index}),d.bind("click.chosen",function(a){return function(b){return a.choice_destroy_link_click(b)}}(this)),c.append(d)),this.search_container.before(c)},c.prototype.choice_destroy_link_click=function(b){b.preventDefault(),b.stopPropagation();if(!this.is_disabled)return this.choice_destroy(a(b.target))},c.prototype.choice_destroy=function(a){if(this.result_deselect(a[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()},c.prototype.results_reset=function(){this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change");if(this.active_field)return this.results_hide()},c.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},c.prototype.result_select=function(a){var b,c;if(this.result_highlight)return b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(c.text),(!a.metaKey&&!a.ctrlKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},c.prototype.single_set_selected_text=function(a){return a==null&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(a)},c.prototype.result_deselect=function(a){var b;return b=this.results_data[a],this.form_field.options[b.options_index].disabled?!1:(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},c.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect)return;return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},c.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html()},c.prototype.winnow_results_set_highlight=function(){var a,b;b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first();if(a!=null)return this.result_do_highlight(a)},c.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},c.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},c.prototype.keydown_arrow=function(){var a;if(!this.results_showing||!this.result_highlight)return this.results_show();a=this.result_highlight.nextAll("li.active-result").first();if(a)return this.result_do_highlight(a)},c.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight)return a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())},c.prototype.keydown_backstroke=function(){var a;if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();a=this.search_container.siblings("li.search-choice").last();if(a.length&&!a.hasClass("search-choice-disabled"))return this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")},c.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},c.prototype.keydown_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode,this.search_field_scale(),b!==8&&this.pending_backstroke&&this.clear_backstroke();switch(b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},c.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(i=0,j=g.length;i<j;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";return b=a("<div />",{style:f}),b.text(this.search_field.val()),a("body").append(b),h=b.width()+25,b.remove(),c=this.container.outerWidth(),h>c-10&&(h=c-10),this.search_field.css({width:h+"px"})}},c}(AbstractChosen)}.call(this),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};angular.module("localytics.directives",[]),angular.module("localytics.directives").directive("chosen",["$timeout",function(b){var c,d,e,f;return d=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,c=["noResultsText","allowSingleDeselect","disableSearchThreshold","disableSearch","enableSplitWordSearch","inheritSelectClasses","maxSelectedOptions","placeholderTextMultiple","placeholderTextSingle","searchContains","singleBackstrokeDelete","displayDisabledOptions","displaySelectedOptions","width"],f=function(a){return a.replace(/[A-Z]/g,function(a){return"_"+a.toLowerCase()})},e=function(a){var b;if(angular.isArray(a))return a.length===0;if(angular.isObject(a))for(b in a)if(a.hasOwnProperty(b))return!1;return!0},{restrict:"A",require:"?ngModel",priority:1,link:function(g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w;g.disabledValuesHistory=g.disabledValuesHistory?g.disabledValuesHistory:[],h.addClass("localytics-chosen"),q=g.$eval(i.chosen)||{},angular.forEach(i,function(b,d){if(a.call(c,d)>=0)return q[f(d)]=String(h.attr(i.$attr[d])).slice(0,2)==="{{"?b:g.$eval(b)}),t=function(){var a,b;return a={},b=!1,angular.forEach(g.disabledValuesHistory,function(a){a.hasOwnProperty(h.context.id)&&(a[h.context.id]=h.context.disabled,b=!0)}),b||(a[h.context.id]=h.context.disabled,g.disabledValuesHistory.push(a)),h.addClass("loading").attr("disabled",!0).trigger("chosen:updated")},u=function(){var a;return a=!1,angular.forEach(g.disabledValuesHistory,function(b){a=b.hasOwnProperty(h.context.id)?b[h.context.id]:a}),h.removeClass("loading").attr("disabled",a).trigger("chosen:updated")},k=null,l=null,n=!1,o=function(){return k?h.trigger("chosen:updated"):(k=h.chosen(q),l=k.default_text)},s=function(){return n=!1,h.attr("data-placeholder",l).trigger("chosen:updated")},m=function(){return n=!0,h.attr("data-placeholder",k.results_none_found).attr("disabled",!0).trigger("chosen:updated")},j?(r=j.$render,j.$render=function(){return r(),o()},i.multiple&&(w=function(){return j.$viewValue},g.$watch(w,j.$render,!0))):o(),i.$observe("disabled",function(){return h.trigger("chosen:updated")});if(i.ngOptions&&j)return p=i.ngOptions.match(d),v=p[7],g.$watchCollection(v,function(a,c){var d;return d=b(function(){if(angular.isUndefined(a))return t();n&&s(),u();if(e(a)&&!i.allowEmptyResultsList)return m()})}),g.$on("$destroy",function(a){if(typeof timer!="undefined"&&timer!==null)return b.cancel(timer)})}}}])}.call(this),function(a,b,c){"use strict";var d=b.isDefined,e=b.isUndefined,f=b.isNumber,g=b.isObject,h=b.isArray,i=b.extend,j=b.toJson,k=b.module("LocalStorageModule",[]);k.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(a){return this.prefix=a,this},this.setStorageType=function(a){return this.storageType=a,this},this.setStorageCookie=function(a,b){return this.cookie.expiry=a,this.cookie.path=b,this},this.setStorageCookieDomain=function(a){return this.cookie.domain=a,this},this.setNotify=function(a,b){return this.notify={setItem:a,removeItem:b},this},this.$get=["$rootScope","$window","$document","$parse",function(a,b,c,k){var l=this,m=l.prefix,n=l.cookie,o=l.notify,p=l.storageType,q;c?c[0]&&(c=c[0]):c=document,m.substr(-1)!=="."&&(m=m?m+".":"");var r=function(a){return m+a},s=function(){try{var c=p in b&&b[p]!==null,d=r("__"+Math.round(Math.random()*1e7));return c&&(q=b[p],q.setItem(d,""),q.removeItem(d)),c}catch(e){return p="cookie",a.$broadcast("LocalStorageModule.notification.error",e.message),!1}}(),t=function(b,c){e(c)?c=null:c=j(c);if(!s||l.storageType==="cookie")return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),o.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:"cookie"}),z(b,c);try{q&&q.setItem(r(b),c),o.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:l.storageType})}catch(d){return a.$broadcast("LocalStorageModule.notification.error",d.message),z(b,c)}return!0},u=function(b){if(!s||l.storageType==="cookie")return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),A(b);var c=q?q.getItem(r(b)):null;if(!c||c==="null")return null;try{return JSON.parse(c)}catch(d){return c}},v=function(){var b,c;for(b=0;b<arguments.length;b++){c=arguments[b];if(!s||l.storageType==="cookie")s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),o.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:c,storageType:"cookie"}),B(c);else try{q.removeItem(r(c)),o.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:c,storageType:l.storageType})}catch(d){a.$broadcast("LocalStorageModule.notification.error",d.message),B(c)}}},w=function(){if(!s)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var b=m.length,c=[];for(var d in q)if(d.substr(0,b)===m)try{c.push(d.substr(b))}catch(e){return a.$broadcast("LocalStorageModule.notification.error",e.Description),[]}return c},x=function(b){var c=m?new RegExp("^"+m):new RegExp,d=b?new RegExp(b):new RegExp;if(!s||l.storageType==="cookie")return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),C();var e=m.length;for(var f in q)if(c.test(f)&&d.test(f.substr(e)))try{v(f.substr(e))}catch(g){return a.$broadcast("LocalStorageModule.notification.error",g.message),C()}return!0},y=function(){try{return b.navigator.cookieEnabled||"cookie"in c&&(c.cookie.length>0||(c.cookie="test").indexOf.call(c.cookie,"test")>-1)}catch(d){return a.$broadcast("LocalStorageModule.notification.error",d.message),!1}}(),z=function(b,d,i){if(e(d))return!1;if(h(d)||g(d))d=j(d);if(!y)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var k="",l=new Date,m="";d===null?(l.setTime(l.getTime()+ -864e5),k="; expires="+l.toGMTString(),d=""):f(i)&&i!==0?(l.setTime(l.getTime()+i*24*60*60*1e3),k="; expires="+l.toGMTString()):n.expiry!==0&&(l.setTime(l.getTime()+n.expiry*24*60*60*1e3),k="; expires="+l.toGMTString());if(!!b){var o="; path="+n.path;n.domain&&(m="; domain="+n.domain),c.cookie=r(b)+"="+encodeURIComponent(d)+k+o+m}}catch(p){return a.$broadcast("LocalStorageModule.notification.error",p.message),!1}return!0},A=function(b){if(!y)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;var d=c.cookie&&c.cookie.split(";")||[];for(var e=0;e<d.length;e++){var f=d[e];while(f.charAt(0)===" ")f=f.substring(1,f.length);if(f.indexOf(r(b)+"=")===0){var g=decodeURIComponent(f.substring(m.length+b.length+1,f.length));try{return JSON.parse(g)}catch(h){return g}}}return null},B=function(a){z(a,null)},C=function(){var a=null,b=null,d=m.length,e=c.cookie.split(";");for(var f=0;f<e.length;f++){a=e[f];while(a.charAt(0)===" ")a=a.substring(1,a.length);var g=a.substring(d,a.indexOf("="));B(g)}},D=function(){return p},E=function(a,b,c,e){e=e||b;var f=u(e);return f===null&&d(c)?f=c:g(f)&&g(c)&&(f=i(c,f)),k(b).assign(a,f),a.$watch(b,function(a){t(e,a)},g(a[b]))},F=function(){var a=0,c=b[p];for(var d=0;d<c.length;d++)c.key(d).indexOf(m)===0&&a++;return a};return{isSupported:s,getStorageType:D,set:t,add:t,get:u,keys:w,remove:v,clearAll:x,bind:E,deriveKey:r,length:F,cookie:{isSupported:y,set:z,add:z,get:A,remove:B,clearAll:C}}}]})}(window,window.angular);var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(a,b,c,d){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return y=angular.element(b),t=null,u=null,i=null,j=null,q=!0,x=!1,w=null,p=function(a){return a=a[0]||a,isNaN(a.offsetHeight)?a.document.documentElement.clientHeight:a.offsetHeight},r=function(a){return a[0].getBoundingClientRect&&!a.css("none")?a[0].getBoundingClientRect().top+s(a):void 0},s=function(a){return a=a[0]||a,isNaN(window.pageYOffset)?a.document.documentElement.scrollTop:a.ownerDocument.defaultView.pageYOffset},o=function(){var b,c,d,g,h;return j===y?(b=p(j)+s(j[0].document.documentElement),d=r(f)+p(f)):(b=p(j),c=0,void 0!==r(j)&&(c=r(j)),d=r(f)-c+p(f)),x&&(d=p((f[0].ownerDocument||f[0].document).documentElement)),g=d-b,h=g<=p(j)*t+1,h?(i=!0,u?e.$$phase||a.$$phase?e.infiniteScroll():e.$apply(e.infiniteScroll):void 0):i=!1},v=function(a,b){var d,e,f;return f=null,e=0,d=function(){var b;return e=(new Date).getTime(),c.cancel(f),f=null,a.call(),b=null},function(){var g,h;return g=(new Date).getTime(),h=b-(g-e),0>=h?(clearTimeout(f),c.cancel(f),f=null,e=g,a.call()):f?void 0:f=c(d,h,1)}},null!=d&&(o=v(o,d)),e.$on("$destroy",function(){return j.unbind("scroll",o),null!=w?(w(),w=null):void 0}),m=function(a){return t=parseFloat(a)||0},e.$watch("infiniteScrollDistance",m),m(e.infiniteScrollDistance),l=function(a){return u=!a,u&&i?(i=!1,o()):void 0},e.$watch("infiniteScrollDisabled",l),l(e.infiniteScrollDisabled),n=function(a){return x=a},e.$watch("infiniteScrollUseDocumentBottom",n),n(e.infiniteScrollUseDocumentBottom),h=function(a){return null!=j&&j.unbind("scroll",o),j=a,null!=a?j.bind("scroll",o):void 0},h(y),e.infiniteScrollListenForEvent&&(w=a.$on(e.infiniteScrollListenForEvent,o)),k=function(a){if(null!=a&&0!==a.length){if(a instanceof HTMLElement?a=angular.element(a):"function"==typeof a.append?a=angular.element(a[a.length-1]):"string"==typeof a&&(a=angular.element(document.querySelector(a))),null!=a)return h(a);throw new Exception("invalid infinite-scroll-container attribute.")}},e.$watch("infiniteScrollContainer",k),k(e.infiniteScrollContainer||[]),null!=g.infiniteScrollParent&&h(angular.element(f.parent())),null!=g.infiniteScrollImmediateCheck&&(q=e.$eval(g.infiniteScrollImmediateCheck)),c(function(){return q?o():void 0},0,1)}}}]),function(a){$("[tryout-app]").length&&(a.fs.Modules.Tryout=angular.module("fs.tryout",["infinite-scroll","fs.tryout.controllers","fs.tryout.directives","localytics.directives","LocalStorageModule","ngSanitize"],["$rootScopeProvider",function(a){a.digestTtl(15)}]),a.fs.Modules.Tryout.config(["localStorageServiceProvider",function(a){a.setPrefix("fs_tryout")}]),angular.bootstrap($("[tryout-app]").get(0),["fs.tryout"]))}(window),angular.module("fs.search.controllers",[]),angular.module("fs.search.directives",[]),angular.module("fs.search.controllers").controller("SearchController",["$scope","$http","$location","$rootScope","$timeout","$locale","$sce","localStorageService",function(a,b,c,d,e,f,g,h){function w(){function b(){e.cancel(v),a.searchProgress=!1,a.infinityParams.log("Search Process Done"),window.fs.vent.trigger("fs:user-likes:update"),window.fs.vent.trigger("result:update"),window.fs.vent.trigger("search:update")}e.cancel(v),v=e(b,50)}var i=$("meta[name='csrf-token']").attr("content"),j=!1;b.defaults.headers.common["X-CSRF-Token"]=i;var k="صِف خَلقَ خَودِ كَمِثلِ الشَمسِ إِذ بَزَغَت يَحظى الضَجيعُ بِها نَجلاءَ مِعطارِ",l="האלבום נחשב לאלבום הנמכר ביותר מהסוגה שלו, ונמכרו",m="बन्दर-बंदरिया मदमस्त हाथी संग नशीली धुन में मगन हैं",n="道可道，非常道。名可名，非常名。无名天地之始；有名万物之母。故常无欲，以观其妙；常有欲，以观其徼。",o="대통령의 임기가 만료되는 때에는 임기만료 70일 내지 40일전에 후임자를 선거한다",p="わがはい は猫である。名前はまだ無い。どこで生れたかとんと見当 けんとう がつかぬ。",q="พระสัมมาสัมพุทธเจ้าพระนามว่าสุเมธะ ที่ชนทั้งหลายกล่าวกันว่า มีปัญญาดังแผ่นดิน ",r=[{text:"Sixty Randgloves mixed with Quartz & Desktop … Où l’obèse jury mûr? Klön den Hyperlink quer zum Flüstermodus",direction:"ltr"},{text:"AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz",direction:"ltr"},{text:"abcdefghijklmnopqrstuvwxyz 0123456789",direction:"ltr"},{text:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",direction:"ltr"},{text:"Jack, love my big wad of sphinx quartz!",direction:"ltr"},{text:"Crazy Fredericka bought many very exquisite opal jewels.",direction:"ltr"},{text:"Völlig weißes Pony mit Zöpfen jagt quer über die mexikanische Prärie.",direction:"ltr"},{text:"Máquina de vapor, Ångmaskin; Dampfmaschine: Steam-Engine",direction:"ltr"},{text:"AMBIENT FUNK GOA TRANCE DOWNTEMPO JUMPSTYLE",direction:"ltr"},{text:"В чащах юга жил бы цитрус? Да, но фальшивый экземпляр!",direction:"ltr"},{text:"Τάχιστη αλώπηξ βαφής ψημένη γη, δρασκελίζει υπέρ νωθρού κυνός",direction:"ltr"},{text:l,direction:"rtl"},{text:m,direction:"ltr"},{text:n,direction:"ltr"},{text:p,direction:"ltr"},{text:o,direction:"ltr"},{text:q,direction:"ltr"}],s=["262626","262626","ffffff"],t="medium",u={"default":{small:22,medium:36,big:48},rag:{small:30,medium:54,big:72},paragraph:{small:13,medium:16,big:21}};a.init=function(b){j=b||!1,fs.vent=fs.vent||new Backbone.Wreqr.EventAggregator,a.isDesktop=$(window).width()>1024?!0:!1;var d=a.isDesktop?"all_items":"families";a.renderScaleFactor=window.devicePixelRatio||1,a.searchProgress=!1,rails_locale=="de"&&(f.NUMBER_FORMATS.GROUP_SEP=".",f.NUMBER_FORMATS.DECIMAL_SEP=","),a.currency=rails_session_currency,a.locale=rails_locale,a.sampleTexts=r,a.defaultSearchSampleText=a.sampleTexts[0].text,a.defaultSearchParams={settings:{q:"",search_mode:d,order:"bestmatch",style_category:"all_categories_show",license_types:"all_license_types",formats:"all_formats",language_ids:"all_languages",filter_mode:"all_typefaces",sample_text:typeof localStorage.getItem("sample_text")=="undefined"||localStorage.getItem("sample_text")==""||localStorage.getItem("sample_text")==null?a.defaultSearchSampleText:localStorage.getItem("sample_text"),view_mode:localStorage.getItem("view_mode")||"gallery",render_mode:localStorage.getItem("render_mode")||t,theme_color_mode:s[0],force:!1}},a.search_filter={q:""},a.search_results={all_items:{total:{}},families:{total:{}},designers:{total:{}},foundries:{total:{}},fontlists:{total:{}},myfonts_result:!1},a.infinityParams={item_weight:0,item_height:0,items_per_load:{families_linear:50,families_grid:70,families_paragraph:70,families_rag:100,foundries:150,designers:150,fontlists:50,"default":70},items_per_view:1,page:1,size:1,load_new:!0,loader_class:"l-search-results__loader",is_loading:!0,timer:null,timerDelay:2e3,log:function(a){window.rails_env&&window.rails_env=="development"&&console.log(a)},repeat_complete:!1,repeatOnFinished:function(){},page_init_load:!0},a.extendSettings(),a.settings.sample_text==""&&a.safeApply(function(){a.settings.sample_text=a.defaultSearchSampleText,c.search(a.getLocation())}),!a.isDesktop&&a.settings.search_mode=="all_items"&&(a.settings.search_mode="families"),a.setRenderSize(),fs.vent.on("fs:scroll",function(a){}),fs.vent.on("fs:resize",function(){fs.vent.trigger("search:filter:reset"),a.measureTheInfinity()}),fs.vent.on("fs:color-change",function(){a.setTempColorMode()}),typeof ga!="undefined"&&ga("send","pageview",decodeURIComponent(window.document.referrer.replace(window.location.origin,"")+window.location.hash.replace("#","")))},d.$on("$locationChangeSuccess",function(){a.infinityParams.log("Location change detected."),_.isEmpty(c.search())&&(a.infinityParams.page_init_load=!0),a.extendSettings(),a.searchProgress==0&&(a.infinityParams.log("Run Setup()"),a.infinityParams.load_new=!0,a.infinityParams.is_loading=!1,a.search()),window.fs.vent.trigger("search:location-change:complete")}),a.$on("ngRepeatFinished",function(b,c){var d=a.settings.search_mode=="all_items"?"families":a.settings.search_mode;if(a.data[d]!=undefined){var e=a.infinityParams.load_new?a.data[d].hits.hits.length:a.data[d].hits.total;c.index+1>=e&&(document.querySelector("."+a.infinityParams.loader_class).style.display="none",a.infinityParams.load_new||(a.infinityParams.is_loading=!0))}a.infinityParams.repeatOnFinished(),window.fs.vent.trigger("search:infinity-load:complete")}),a.extendSettings=function(){typeof a.settings=="undefined"||_.isEmpty(c.search())?(a.settings=$.extend(!0,{},a.defaultSearchParams.settings),j&&($.extend(a.settings,j),a.infinityParams.page_init_load||(j=!1))):$.extend(a.settings,c.search())},a.getLocation=function(){return{q:a.settings.q||a.defaultSearchParams.settings.q,search_mode:a.settings.search_mode||a.defaultSearchParams.settings.search_mode,order:a.settings.order||a.defaultSearchParams.settings.order,style_category:a.settings.style_category||a.defaultSearchParams.settings.style_category,license_types:a.settings.license_types||a.defaultSearchParams.settings.license_types,formats:a.settings.formats||a.defaultSearchParams.settings.formats,language_ids:a.settings.language_ids||a.defaultSearchParams.settings.language_ids,filter_mode:a.settings.filter_mode||a.defaultSearchParams.settings.filter_mode,sample_text:a.settings.sample_text||a.defaultSearchParams.settings.sample_text,view_mode:a.settings.view_mode||a.defaultSearchParams.settings.view_mode,render_mode:a.settings.render_mode||a.defaultSearchParams.settings.render_mode}},a.setTempColorMode=function(){var b=$("body").attr("class");$.each(["theme--white-bg","theme--yellow-bg","theme--black-bg"],function(c,d){b.indexOf(d)>-1&&a.safeApply(function(){a.settings.theme_color_mode=s[c]})})},a.search=function(){if(a.infinityParams.is_loading)return;a.searchProgress=!0,a.infinityParams.is_loading=!0,a.infinityParams.load_new&&(a.data={},a.infinityParams.page=1,a.infinityParams.size=a.setInfinityInitSize(),a.infinityParams.repeatOnFinished=function(){a.measureTheInfinity(function(){a.infinityParams.repeatOnFinished=function(){}})}),document.querySelector("."+a.infinityParams.loader_class)!=null&&(document.querySelector("."+a.infinityParams.loader_class).style.display=""),a.infinityParams.log("Infinity appears on page: "+a.infinityParams.page+" and results per load size: "+a.infinityParams.size),a.setTempColorMode(),b.get("/search_data.json?page="+a.infinityParams.page+"&size="+a.infinityParams.size,{params:a.settings}).success(function(b){a.settings.force&&(a.settings.force=!1),a.infinityParams.page=b.page;var c=["families","designers","foundries","fontlists"];if(a.isEmpty(a.data)){a.data=b;var d=[],e=b.designers.hits.hits,f=new Map;for(var g=0;g<e.length;g++){var h=e[g];f.has(h._id)||(f.set(h._id,!0),d.push(h))}a.designers=d}else $.each(c,function(c,d){b[d].hits.hits.length>0&&(a.data[d].hits.hits=a.data[d].hits.hits.concat(b[d].hits.hits))});a.safeApply(function(){var b=0;$.each(c,function(c,d){a.search_results[d].total=a.data[d].hits.total,b+=a.search_results[d].total}),a.data.all_items={hits:{total:b}},a.search_results.all_items.total=b});var i=document.querySelector("[infinite-scroll]");i!=null&&(i.className=i.className.replace(a.infinityParams.load_new_class,"")),a.infinityParams.is_loading=!1,a.finishSearch(),a.infinityParams.load_new&&(a.infinityParams.load_new=!1),a.infinityParams.page_init_load=!1})};var v;a.newSearch=function(){a.infinityParams.load_new=!0,a.infinityParams.is_loading=!1,a.search(),a.trackSearchTerm()},a.infiniteSearch=function(){if(a.infinityParams.load_new)return;var b=$("[infinite-scroll]"),c=b.hasClass("js-search-paragraph-masonry-grid");e.cancel(a.infinityParams.timer);if(c&&typeof b.data("idle")!="undefined"&&!b.data("idle"))return;a.infinityParams.timer=e(function(){c&&(b.data("idle",!1),a.infinityParams.repeatOnFinished=function(){e(function(){b.data("idle",!0)},a.infinityParams.timerDelay),a.infinityParams.repeatOnFinished=function(){}}),a.infinityParams.page=a.infinityParams.page+1,a.search()},a.infinityParams.timerDelay)},a.setInfinityInitSize=function(){var b;switch(a.settings.search_mode){case"all_items":case"families":a.settings.view_mode=="linear"?b=a.infinityParams.items_per_load.families_linear:a.settings.view_mode=="card"?b=a.infinityParams.items_per_load.families_grid:a.settings.view_mode=="paragraph"?b=a.infinityParams.items_per_load.families_paragraph:a.settings.view_mode=="rag"?b=a.infinityParams.items_per_load.families_rag:b=a.infinityParams.items_per_load.default;break;case"foundries":b=a.infinityParams.items_per_load.foundries;break;case"designers":b=a.infinityParams.items_per_load.designers;break;case"fontlists":b=a.infinityParams.items_per_load.fontlists;break;default:b=a.infinityParams.items_per_load.default}return b},a.measureTheInfinity=function(b){var c=angular.element(document.querySelector("[infinite-scroll]"));if(c.length===0){a.infinityParams.log("Could not find the Infinity. Quest ends here!");return}var d=angular.element(document.querySelector("[infinite-scroll] [ng-repeat]")),e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;a.infinityParams.item_width=d[0].offsetWidth,a.infinityParams.item_height=d[0].offsetHeight;var f=Math.floor(c[0].offsetWidth/parseInt(a.infinityParams.item_width)),g=2;a.infinityParams.size=a.infinityParams.item_height==0?a.infinityParams.items_per_load.default:Math.ceil(e/a.infinityParams.item_height)*f*g,typeof b=="function"&&b()},a.setTotalResultCount=function(){function b(){var b=0;return $.each(["families","designers","foundries","fontlists"],function(c,d){b+=a.data[d].hits.total}),b}a.safeApply(function(){a.data.all_items={hits:{total:b()}}})},a.doWeHaveResults=function(){return a.infinityParams.items_per_view==0?!1:!0},a.isEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},a.finishSearch=function(){a.infinityParams.page_init_load||c.search(a.getLocation()),a.currentLocation=a.getLocation();var b=a.settings.search_mode=="all_items"?"families":a.settings.search_mode;a.infinityParams.items_per_view=typeof a.data[b]=="undefined"?0:a.data[b].hits.total,a.infinityParams.items_per_view===0&&(a.search_results.myfonts_result=typeof a.data[b].myfonts_result=="undefined"?!1:a.data[b].myfonts_result),a.setPermaLink(),w()},a.pluralizeStyles=function(a){return a==1?a+" "+window.dict.style:a+" "+window.dict.styles},a.pluralizePackages=function(a){return a==1?a+" "+window.dict.package:a>1?a+" "+window.dict.packages:""},a.setViewMode=function(b){a.settings.view_mode=b,a.switchRenderMode("default"),a.trackEvent("Search","Layout",b),localStorage.setItem("view_mode",a.settings.view_mode),window.fs.vent
.trigger("search:viewmode:switch"),a.newSearch()},a.changeSampleText=function(){localStorage.setItem("sample_text",a.settings.sample_text),a.searchProgress=!0,window.fs.vent.trigger("search:viewmode:update"),c.search(a.getLocation()),w()},a.selectedSampleText=function(b){return b==a.settings.sample_text?!0:!1},a.setSearchMode=function(b,c){return a.settings.search_mode=b,a.switchRenderMode("default"),a.trackEvent("Search","Filter",b),b!="families"&&a.resetFilters(),a.newSearch(),!1},a.setFilterMode=function(b){return b=b||a.settings.filter_mode,a.settings.filter_mode=b,a.trackEvent("Search","Filter",b),a.newSearch(),!1},a.resetFilters=function(){a.settings.order="bestmatch",a.settings.filter_mode="all_typefaces",a.settings.style_category="all_categories_show",a.settings.license_types="all_license_types",a.settings.formats="all_formats",a.settings.language_ids="all_languages",delete a.settings.on_sale,delete a.settings.is_free,window.fs.vent.trigger("search:filter:reset")},a.isFiltersReset=function(){var b=!0;return a.settings!=undefined&&(a.settings.order!="bestmatch"&&(b=!1),a.settings.filter_mode!="all_typefaces"&&(b=!1),a.settings.style_category!="all_categories_show"&&(b=!1),a.settings.license_types!="all_license_types"&&(b=!1),a.settings.formats!="all_formats"&&(b=!1),a.settings.language_ids!="all_languages"&&(b=!1),location.href.indexOf("on_sale")>0&&(b=!1),location.href.indexOf("is_free")>0&&(b=!1)),b},a.resetSearch=function(){a.trackEvent("Search","Filter","Reset all filter settings"),location.href=location.href.replace(/&?on_sale=([^&]$|[^&]*)/i,""),location.href=location.href.replace(/&?is_free=([^&]$|[^&]*)/i,""),a.resetFilters(),a.settings.q="",a.newSearch()},a.searchForCategory=function(b,c){c.preventDefault(),a.settings.q=b,a.newSearch()},a.toggleStyleCategory=function(){a.trackEvent("Search","Style Category",a.settings.style_category),a.newSearch()},a.filterLicenseType=function(){a.trackEvent("Search","License Type",a.settings.license_types),a.newSearch()},a.filterFormat=function(){a.trackEvent("Search","Format",a.settings.formats),a.newSearch()},a.filterLanguage=function(){a.trackEvent("Search","Language",a.settings.language_ids),a.newSearch()},a.correctSpelling=function(){a.settings.q=a.correctedTerm(),a.newSearch()},a.forceOriginalQuery=function(){a.settings.q=a.data.query_details.original_query,a.settings.force=!0,a.newSearch()},a.correctedTerm=function(){var b=a.data[a.data.main_index].suggest.suggested_terms,c=[];for(var d=0;d<b.length;d++)b[d].options.length>0?c.push(b[d].options[0].text):c.push(b[d].text);return c.join(" ")},a.hasSpellingCorrection=function(){if(typeof a.data.main_index=="undefined")return!1;var b=a.data[a.data.main_index].suggest.suggested_terms,c=!1;for(var d=0;d<b.length;d++)b[d].options.length>0&&(c=!0);return c},a.setretinaimage=function(a){if(a==undefined)return undefined;var b="jpg",c=["jpg","png","gif"];for(var d=0,e=c.length;d<e;d++)a.indexOf("."+c[d])>-1&&(b="."+c[d]);return a.split(b)[0]+"@2x"+b},a.renderText=function(b){if("special_sample_string"in b&&b["special_sample_string"]!=null)return b.special_sample_string;var c=a.settings.sample_text;return"transform_lowercase"in b&&b.transform_lowercase?c=c.toLowerCase():"transform_uppercase"in b&&b.transform_uppercase&&(c=c.toUpperCase()),encodeURIComponent(c)},a.switchRenderMode=function(b){a.safeApply(function(){a.settings.render_mode=b=="default"?t:b,a.setRenderSize(),localStorage.setItem("render_mode",a.settings.render_mode),window.fs.vent.trigger("search:viewmode:update"),a.silentLocation.change()})},a.setRenderSize=function(){var b=typeof u[a.settings.view_mode]=="undefined"?"default":a.settings.view_mode;a.renderSize=u[b][a.settings.render_mode]},a.setPermaLink=function(){a.permalink=c.absUrl()},a.silentLocation=function(){var b;return{change:function(){a.searchProgress=!0,c.search(a.getLocation()),clearTimeout(b),b=setTimeout(function(){a.searchProgress=!1},50)}}}(),a.deliberatelyTrustDangerousSnippet=function(a){return g.trustAsHtml(a)},a.removeSpecialCharacters=function(a){return a.replace(/[^\w\s]/gi,"")},a.safeApply=function(a){if(this.$root==null)return;var b=this.$root.$$phase;b=="$apply"||b=="$digest"?a&&typeof a=="function"&&a():this.$apply(a)},a.changeSortOrder=function(b){a.trackEvent("Search","Sort Order",b),a.newSearch()},a.trackEvent=function(a,b,c,d){a=a||"Search",b=b||"n/a",c=c||"n/a",d=d||"";var e={all_items:"All Items",only_webfonts:"Families - Webfonts",featured:"Families - Featured",all_typefaces:"Families - All",all_categories_show:"All",bestmatch:"Best Match",size:"Size of Family",linear:"List",card:"Grid",rag:"Small Grid",families:"Families - All",foundries:"Foundries - All",designers:"Designer - All",fontlists:"Fontlists - All"};e[c]!==undefined&&(c=e[c]),c=c.charAt(0).toUpperCase()+c.slice(1),d.length>0&&(c=d+" - "+c),typeof ga!="undefined"&&ga("send","event",a,b,c)},a.trackSearchTermTimer,a.setSearchTerm=function(){a.trackSearchTermTimer.$$state.status==0&&typeof ga!="undefined"&&ga("send","pageview","/search/?q="+a.settings.q)},a.trackSearchTerm=function(){e.cancel(a.trackSearchTermTimer),a.trackSearchTermTimer=e(a.setSearchTerm,3e3,!1)},a.renderHtml=function(a){return g.trustAsHtml(a)}}]),angular.module("fs.search.directives",[]).directive("searchFilterDropcheck",function(){var a="o-dropcheck",b="is-checked",c="is-disabled",d="is-skipped",e="is-skipped-forced",f="is-active",g="is-searching",h="o-dropcheck__search",i="has-active-filter";return{restrict:"A",scope:"=",controller:["$scope",function(a){a.isItemVisible=function(f,g){var h=f.find(".option__name").text().trim().toLowerCase(),i=a.search_filter.q.toLowerCase(),j=f.hasClass(b),k=f.hasClass(c),l=f.hasClass(d),m=f.hasClass(e),n=g||!1;return h.indexOf(i)===0&&!l&&(n=!0),h.indexOf(i)===0&&i!=""&&l&&(n=!0),i===""&&k&&!l&&(n=!0),j&&!k&&!m&&(n=!0),n},a.isGroupVisible=function(b,c){var d=$("#"+b),e=d.find("label"),f=c||!1;return e.each(function(){a.isItemVisible($(this))&&(f=!0)}),f},a.isLabelVisible=function(b,c){return a.isItemVisible($("#"+b),c)},a.findLanguage=function(b){a.safeApply(function(){var c=a.search_filter.q==""?!1:!0;a.searchfilterSearchSearching=c,$("#"+b).data("isactive",c)})},a.isDropDownSearching=function(){return a.searchfilterSearchSearching?!0:!1};var f=null;a.isDropDownActive=function(a){var b=$("#"+a).data("isactive");return clearTimeout(f),f=setTimeout(function(){window.fs.vent.trigger(b?"fs:watchoverflow:watch":"fs:watchoverflow:unset")},50),b?!0:!1},a.setOption=function(a){var b=$(a.currentTarget),c=b.text();b.closest(".o-dropcheck").find("input.option-search__input").val(c).trigger("input")}}],link:function(a,c,d){var e={el:$(c),labels:$(c).find("label"),model:$(c).find(".model"),title:$(c).find(".title"),filterName:d.filterName,isSearch:$(c).hasClass(h),isSearchFilter:$(c).find('input[ng-model="search_filter.q"]').length>0?!0:!1};e.titleDefault=e.isSearch?e.title.val():e.title.text(),e.el.data("isactive",!1);var j=function(){if(e.labels.length===0)return;var c=a.settings[e.filterName].split(",");angular.forEach(e.labels,function(a,d){var e=$(a),f=e.find("input"),g=f.val();c.indexOf(g)>-1&&!f.prop("checked")&&g!=""?(f.prop("checked",!0),e.addClass(b)):c.indexOf(g)==-1&&(f.prop("checked",!1),e.removeClass(b))})},k=function(){var b={};angular.forEach(e.labels,function(a,c){var d=$(a),e=d.find("input"),f=e.val();b[c]={checked:e.prop("checked"),value:f,title:d.find(".option__name").text().trim()}}),a.search_filter[e.filterName]=b},l=function(){var b=_.filter(a.search_filter[e.filterName],{checked:!0}),c=_.map(b,"title"),d=_.map(b,"value").join(","),h=c.length<3?c.join(" & "):e.titleDefault+" ("+c.length+")",i=h==""?e.isSearch?"":e.titleDefault:h;e.isSearchFilter?e.el.hasClass(g)||(a.search_filter.q=e.el.hasClass(f)?"":i):e.title.html(i),e.model.val(d)},m=function(){e.model.trigger("input")},n=function(b,c){var c=typeof c=="function"?c:!1;a.safeApply(function(){e.el.data("isactive",b),s(b),c&&c()})},o=function(){a.safeApply(function(){a.searchfilterSearchSearching=!1})},p=function(){a.safeApply(function(){a.search_filter.q=""})},q=function(){$("[search-filter-dropcheck]").not("."+h).removeClass(f)},r=function(){j(),k(),l()},s=function(a){a?$("[stickysearchheader]").addClass(i):$("[stickysearchheader]").removeClass(i)};e.el.on("click",function(a){return a.preventDefault(),a.stopPropagation(),e.isSearch||($("[search-filter-dropcheck]").removeClass(f),n(!1),e.el.addClass(f)),e.isSearch&&q(),!1}),$(document).on("click",function(){e.el.removeClass(f),n(!1),o(),e.isSearch&&l()}).keyup(function(a){a.keyCode==27&&e.el.hasClass(f)&&$(document).trigger("click")}),e.labels.on("click",function(a){a.preventDefault(),a.stopPropagation();var c=$(this),d=c.hasClass(b);c.toggleClass(b).find("input[type=checkbox]").prop("checked",!d),k(),l(),m()}),e.isSearch?(e.el.find(".o-pulldown__arrow, .o-pulldown__close").on("click",function(){var a=e.el.data("isactive")?!1:!0;return q(),o(),n(a,function(){a?e.el.addClass(f):e.el.removeClass(f),l(),setTimeout(function(){window.fs.vent.trigger(a?"fs:watchoverflow:watch":"fs:watchoverflow:unset")},50)}),!1}),e.el.find(".o-dropcheck__options").on("click",function(a){a.stopPropagation(),a.preventDefault(),n(!0)}),e.isSearchFilter&&e.title.on("focus",p)):e.el.find(".o-pulldown__close").length>0&&e.el.find(".o-pulldown__close").on("click",function(){return q(),!1}),window.fs.vent.on("search:filter:reset",function(){r()}),window.fs.vent.on("search:location-change:complete",function(){r()}),r()}}}),angular.module("fs.search.directives").directive("searchlike",function(){function a(a,b,c){var d=document.getElementsByTagName("html")[0].className;d.indexOf("user-login")>-1&&(window.GlobalLikes||(window.GlobalLikes=new fs.Modules.GlobalLikes),$(b).hasClass("_set")||window.GlobalLikes.addLikeIcon(b)),window.fs.vent.trigger("fs:popup:addcaller",b)}return{restrict:"A",link:a}}).directive("searchaddfont",function(){function a(a,b,c){window.fs.vent.trigger("fs:popup:addcaller",b),setTimeout(function(){window.fs.vent.trigger("fs:user-lists:update")},50)}return{restrict:"A",link:a}}),angular.module("fs.search.directives").directive("stickytouchsearchheader",function(){function a(a,b,c){if(!jQuery){console.log("no $ in stickytouchsearchheader directive!");return}(function(a){a(function(){function o(){a(window).scrollTop()>0?c.addClass("_scrolled"):c.removeClass("_scrolled")}function p(){c.hasClass("_off")?(c.css("top",(g-h)*-1+"px"),e.css("height",h+"px")):(c.css("top",0),e.css("height",g+"px"))}function q(){e.css("height",g+"px")}function r(){c.hasClass("_off")?d.hide():d.show()}function s(){c.data("scroll-status")=="idle"&&(c.data("scroll-status","moving"),k=a(window).scrollTop(),l=setTimeout(function(){Math.abs(a(window).scrollTop()-k)>5&&(a(window).scrollTop()>k?m="down":a(window).scrollTop()+a(window).height()<a("body").height()-200&&(m="up"))},n),setTimeout(function(){clearTimeout(l),c.data("scroll-status","idle")},n+n/2))}function t(){m=="up"&&a(window).scrollTop()>0?c.addClass("_show"):c.removeClass("_show"),c.hasClass("_scrolled")?!c.hasClass("_off")&&!c.hasClass("_show")?u():c.hasClass("_off")&&c.hasClass("_show")&&u():c.hasClass("_off")&&!c.hasClass("_show")&&u()}function u(){if(c.data("shift-status")=="idle"){c.data("shift-status","moving"),r(),c.velocity("stop"),e.velocity("stop");var a=f?c.outerHeight()-h:c.outerHeight();c.velocity({top:c.hasClass("_off")?0:a*-1},{duration:c.hasClass("_off")?400:300,easing:"easeOutQuad",complete:function(){c.toggleClass("_off").data("shift-status","idle")}}),e.velocity({height:c.hasClass("_off")?c.outerHeight(!0):h},{duration:c.hasClass("_off")?400:300,easing:"easeOutQuad"})}}function v(){o(),s(),t()}var c=a(b),d=c.find(".js-sticky-top--touch__switch"),e=c.next(".js-sticky-top--touch__alias").length>0?c.next(".js-sticky-top--touch__alias"):null,f=d.length>0?!0:!1,g=0,h=0,i=c.offset().top,j=c.hasClass("mobile-only")?"mobile-only":"hide-mobile",k,l,m="down",n=200;c.hasClass("_set")?f&&(h=d.outerHeight(!0),g=c.outerHeight(),p()):(c.addClass("_set").after('<div class="js-sticky-top--touch__alias '+j+'"></div>').data("shift-status","idle").data("scroll-status","idle"),e=c.next(".js-sticky-top--touch__alias"),f&&(d.css({position:"absolute",bottom:"0",zIndex:"888",width:"100%","background-color":c.css("background-color")}),h=d.outerHeight(!0),a(window).scrollTop()==0&&d.hide()),window.setInterval(v,150),g=c.outerHeight(),q(),c.addClass("_fixed"),d.on("click",function(){m="up"}))})})(jQuery)}return{link:function(b,c,d){a(b,c,d),window.fs.vent.on("fs:resize",function(){a(b,c,d)}),window.fs.vent.on("search:update",function(){a(b,c,d)})}}}),angular.module("fs.search.directives").directive("stickysearchheader",function(){var a=function(a){function e(c,e,f){b=a(e),d=this,d.handle.setup(),d.setEvents()}var b,c=a(window),d,f=function(){var a="down",b,e=200,f=c.scrollTop(),g=10;return{scroll:function(){clearTimeout(b),b=setTimeout(function(){Math.abs(c.scrollTop()-f)>g&&(a=c.scrollTop()>f?"down":"up"),f=c.scrollTop(),d.handle.scrolling()},e)},getDirection:function(){return a}}}();return e.prototype.handle=function(){function l(){var c=b.find(".js-sticky-search-header-child");e=c.length>0?!0:!1,a=e?b.outerHeight(!0)-c.eq(0).outerHeight(!0):0,h=c.find(".js-sticky-search-header-spacing"),e?(g=h.length?!0:!1,b.addClass("has-child")):b.removeClass("has-child")}function m(){b.closest(".m-sticky-search-header-wrapper").css("height",b.outerHeight(!0)+"px")}function n(){if(b.hasClass("_set"))return;l(),b.addClass("_set _fixed").css({top:"0"}).wrap('<div class="m-sticky-search-header-wrapper"></div>'),m()}function o(){c.scrollTop()>(j?0:a)?b.hasClass("_shadow")||(b.addClass("_shadow").css({top:a*-1+"px"}),g&&h.css({height:i+"px"})):(b.removeClass("_shadow").css({top:"0"}),g&&h.removeAttr("style"),j=!1)}function p(){l(),m()}function q(d){var d=d||{forceNav:!1};c.scrollTop()>a&&e&&!b.hasClass("has-active-filter")&&(f.getDirection()=="up"||d.forceNav||b.hasClass("_hover")?r({top:0,dur:300,mvd:!0,spheight:0,spdur:200}):r({top:a*-1,dur:200,mvd:!1,spheight:i,spdur:100}))}function r(a){if(typeof a=="undefined")return;b.velocity("stop"),b.velocity({top:a.top},{duration:a.dur,easing:"easeOutQuad",complete:function(){j=a.mvd}}),g&&(h.velocity("stop"),h.velocity({height:a.spheight},{duration:a.spdur}))}function s(){clearTimeout(k),b.addClass("_hover"),c.scrollTop()>a&&e&&d.handle.scrolling({forceNav:!0})}function t(){clearTimeout(k),k=setTimeout(function(){b.removeClass("_hover"),c.scrollTop()>a&&e&&d.handle.scrolling()},1e3)}var a=0,e=!1,g=!1,h={},i=30,j=!1,k;return{setup:n,watch:o,update:p,scrolling:q,headerMouseIn:s,headerMouseOut:t}}(),e.prototype.setEvents=function(){c.scroll(function(){f.scroll(),d.handle.watch()}),window.fs.vent.on("fs:resize",d.handle.update),window.fs.vent.on("search:location-change:complete",d.handle.update),b.hover(d.handle.headerMouseIn,d.handle.headerMouseOut)},e}(jQuery);return{restrict:"A",link:function(b,c,d){if($("html").hasClass("touch"))return;_.defer(function(){new a(b,c,d)})}}}),angular.module("fs.search.directives").directive("searchheader",function(){var a=$(".m-search-header__tab-filters--select"),b=$(".m-search-header__tab-filters--tabs");return{restrict:"A",controller:["$scope","$element",function(a,b){var c=b,d,e=$("<div class='m-search-header-tabs__dropdown m-search-header-links__cell'><div class='m-search-header-tabs__dropdown-case'></div></div>"),f="js-search-header-tabs",g="js-search-header-filter",h=8;a.setFilters=function(){if(!jQuery||$("."+g).length===0)return;$("."+g).not("._set").each(function(a){function l(){return e.children().not("."+f).each(function(){k+=Math.ceil($(this).outerWidth(!0))+h}),j+k>=i?!0:!1}function m(){b.addClass("m-search-header__tab-filters--show-select")}function n(){b.removeClass("m-search-header__tab-filters--show-select")}var b=$(this),c=b.find(".m-search-header__tab-filters--select"),d=b.find(".m-search-header__tab-filters--tabs"),e=b.parent(),f=g+"-"+a,i=e.width(),j=b.outerWidth(!0),k=0;if(!b.is(":visible"))return;b.addClass("_set "+f),l()?m():n()})},a.destroyFilters=function(){$("."+g+"._set").each(function(a){$(this).removeClass("_set m-search-header__tab-filters--show-select")})},a.setTabs=function(){if(!jQuery||$("."+f).length===0)return;$("."+f).not("._set").each(function(a){function p(){return d.children().not("."+l).each(function(){o+=Math.ceil($(this).outerWidth(!0))+h}),n+o>=m?!0:!1}function q(){c.append(i),i.on("click",s)}function r(){k.insertBefore(j);var a=k.outerWidth(!0);g.each(function(a){var c=g.length-a-1,d=g.eq(c),e=b.outerWidth(!0)+o;d.attr("tabindex",c),e>=m&&j.append(d)})}function s(){i.toggleClass("is-active")}var b=$(this),c=b.find('[class*="row"]'),d=b.parent(),g=c.find('> [class*="cell"]'),i=e.clone(),j=i.find(".m-search-header-tabs__dropdown-case"),k=$('<div class="m-search-header-links__cell"><span class="o-button o-button--grey-lite-medium m-search-header__link">'+window.dict.more+"</span></div>"),l=f+"-"+a,m=d.width(),n=b.outerWidth(!0),o=0;if(!b.is(":visible"))return;b.addClass("_set "+l),p()&&(q(),r())})},a.destroyTabs=function(){$("."+f+"._set").each(function(a){var b=$(this),c=b.find('[class*="row"]'),d=b.find('[class*="cell"]').not(".m-search-header-tabs__dropdown"),e=b.find(".m-search-header-tabs__dropdown");b.removeClass("_set");if(e.length===0)return;for(var f=0,g=d.length;f<g;f++){var h=d.filter(function(){return $(this).attr("tabindex")==f});h.appendTo(c)}e.remove()})},a.updateTabs=function(){a.destroyTabs(),a.setTabs(),a.destroyFilters(),a.setFilters()}}],link:function(a,b,c){_.defer(function(){a.setTabs(),a.setFilters(),$(window).on("resize",a.updateTabs),window.fs.vent.on("search:update",a.updateTabs)})}}}),angular.module("fs.search.directives").directive("imageonload",function(){function a(a,b,c){var d=$(b)[0],e=d?d.style:{},f=a.renderScaleFactor,g="opacity"in document.body.style;e.visibility="hidden",b.bind("load",function(a){e.display="",f!=1&&(d&&(e.width=(d.naturalWidth==undefined||!d.naturalWidth?d.clientWidth:d.naturalWidth)/f+"px"),e.height="auto"),e.visibility="visible"}),b.bind("error",function(){typeof b.naturalWidth=="undefined"&&(e.display="none")})}return{link:a}}).directive("proofdesignersrc",function(){return{link:function(a,b,c){if(typeof c.ngSrc=="undefined"||c.ngSrc==""){var d=$(b)[0];d=d?d:{};var e=d.parentNode?d.parentNode:{},f=e.parentNode?e.parentNode:{},g=["white","yellow","black"],h=[["faf9f5","2b2b2b"],["fcd900","2b2b2b"],["373630","ffe300"]],i=Math.floor(Math.random()*h.length),j=h[i],k="https://render01.fontshop.com/fonts/font_rend.php?id="+c.smiley+"&idt=f&rbe=&rt=%3A+)&rs=48&bg="+j[0]+"&fg="+j[1]+"&tp=0.0&nf=0&t=og&w=&acs_w=&h=&ft=calt&sc=2";c.$set("src",k),d.className=d.className+" is-rotate-90",e.className=e.className+" o-media--rescale-min50",f.className=f.className+" o-media--bg-"+g[i]}}}}),angular.module("fs.search.directives").directive("itemLocator",function(){function a(a,b,c){function g(a){var b=$($(a.target).parent()).hasClass("favIcon");if(!b){var c=e.href;c!=undefined&&(window.location=c)}}function h(a){d&&(document.addEventListener?d.addEventListener("click",a,!1):d.attachEvent("onclick",a))}function i(a){a.target.tagName==="DIV"&&$(d).find("a")[0].click()}var d=$(b)[0],e=$(d).find(".js-item-location")[0],f=$(d).find("a").hasClass("js-item-new-tab");f?h(i):h(g)}return{link:a}}),angular.module("fs.search.directives").directive("onFinishRender",["$timeout",function(a){var b=0;return{restrict:"A",link:function(c,d,e){var f=b;c.$last===!0&&a(function(){c.$emit("ngRepeatFinished",{index:f,target:d})}),b++}}}]),angular.module("fs.search.directives").controller("searchviewGalleryItemController",["$scope",function(a){a.galleryimages=[],a.setGallery=function(b){a.galleryimages=[];if(typeof b=="undefined"||b.length===0)return;var c=a.getSettings();angular.forEach(b,function(b,d){typeof b[c.screen]!="undefined"&&typeof b[c.screen].url!="undefined"&&(a.galleryimages[d]=b,a.galleryimages[d].itemsrc=b[c.screen].url,a.galleryimages[d].fitonscreen=!1)}),a.setItemVisibility()},a.getSettings=function(){var a=window.devicePixelRatio||1;return{screen:a>1?"retina":"normal",container_width:$('[ng-controller="searchviewGalleryItemController"]').width()||0}},a.setItemVisibility=function(){var b=a.getSettings(),c=0;angular.forEach(a.galleryimages,function(d,e){if(typeof d[b.screen]!="undefined"&&typeof d[b.screen].dimensions!="undefined"){var f,g=150,h=300,i=15,j;typeof d[b.screen].dimensions[0]=="undefined"||typeof d[b.screen].dimensions[1]=="undefined"?j=0:(d[b.screen].dimensions[1]<g?j=h:(f=d[b.screen].dimensions[1]/g,j=d[b.screen].dimensions[0]/f),j+=e>0?i:0),a.galleryimages[e].fitonscreen=c+j<b.container_width&&j!==0?!0:!1,c+=j}})},a.init=function(b){a.setGallery(b),window.fs.vent.on("fs:resize",function(){a.$parent.safeApply(a.setItemVisibility())})}}]),angular.module("fs.search.directives").directive("searchviewParagraphList",function(){return{restrict:"A",link:function(a,b,c){function d(){var a="o-type-paragraph__text",c=390;if($(b).find("."+a).length===0)return;$(b).imagesLoaded(function(){var d=$(b).find(".l-list-fonts-inside"),e=0;$.each(d,function(b,c){$(c).find("."+a).removeAttr("style"),e+=$(c).outerHeight()}),e/=d.length,$.each(d,function(b,d){var f=Math.round(e*1.1);f>c&&(f=c),$(d).outerHeight()>f&&$(d).find("."+a).css({"max-height":f+"px",overflow:"hidden"})})})}$(function(){window.fs.vent.on("search:infinity-load:complete",d),window.fs.vent.on("fs:resize",d),window.fs.vent.on("search:viewmode:update",d),window.fs.vent.on("search:viewmode:switch",d)})}}}).directive("searchviewParagraphItem",function(){return{restrict:"A",link:function(a,b,c){function d(){return $(b).find(".o-type-paragraph__title > span").length}a.isTitleItemVisible=function(a){return typeof a=="undefined"||a==""||a==null?!1:!0},a.verifyContent=function(a){return typeof a=="number"&&(a=a.toString()),a},a.addPipe=function(a){if(typeof a!="undefined"){var b=(a+"").split(" "),c=b[b.length-1];return c!=""&&c!="null"&&typeof c!="undefined"&&(b[b.length-1]='<span class="styles--pipe">'+c+"</span>"),b.join(" ")}}}}}),function(a){if(!!document.querySelector(".js-search-app")){var b=angular.module("fs.search",["infinite-scroll","fs.search.controllers","fs.search.directives","LocalStorageModule"],["$rootScopeProvider",function(a){a.digestTtl(15)}]);b.config(["localStorageServiceProvider",function(a){a.setPrefix("fs_search")}]),angular.bootstrap(document.querySelector(".js-search-app"),["fs.search"])}}(window),angular.module("fs.autocomplete.controllers",[]),angular.module("fs.autocomplete.directives",[]),angular.module("fs.autocomplete.controllers").controller("AutocompleteController",["$scope","$http","$sce","localStorageService","$timeout",function(a,b,c,d,e){var f={data_uri:"/search_data.json",search_mode:"autocomplete",size:3};a.autocomplete={q:"",results:{},window_ratio:window.devicePixelRatio||1,has_focus:!1};var g=function(b){var b=b.data||{},c=b.families||{},d=b.designers||{},e=b.foundries||{},f=b.fontlists||{},g={families:(c.hits||{}).hits||{},designers:(d.hits||{}).hits||{},foundries:(e.hits||{}).hits||{},fontlists:(f.hits||{}).hits||{}};$.extend(a.autocomplete.results,g)};a.fetchResults=function(){$("[ng-controller=AutocompleteController]").find("form").attr("action","/search?q="+a.autocomplete.q),b.get(f.data_uri,{params:{q:encodeURI(a.autocomplete.q),search_mode:f.search_mode,size:f.size}}).then(g,function(a){throw a})},$(function(){$(document).on("click",function(){a.safeApply(function(){a.autocomplete.q="",a.autocomplete.has_focus=!1})}),window.fs.vent.on("fs:ku:tab:focus",function(){a.safeApply(function(){a.autocomplete.has_focus=!0})}),$("[ng-controller=AutocompleteController]").on("click",function(a){a.stopPropagation()})}),a.safeApply=function(a){if(this.$root==null)return;var b=this.$root.$$phase;b=="$apply"||b=="$digest"?a&&typeof a=="function"&&a():this.$apply(a)},a.hasProperty=function(a,b){return typeof a[b]=="undefined"||typeof ((a||{})[b]||{}).length=="undefined"||((a||{})[b]||{}).length===0?!1:!0},a.deliberatelyTrustDangerousSnippet=function(a){return c.trustAsHtml(a)}}]),angular.module("fs.autocomplete.directives").directive("searchAutocomplete",function(){return{restrict:"A",link:function(a,b,c){}}}),angular.module("fs.autocomplete.directives").directive("imageonload",function(){function a(a,b,c){var d=$(b)[0],e=d.style,f=a.renderScaleFactor,g="opacity"in document.body.style;e.visibility="hidden",b.bind("load",function(a){e.display="",f!=1&&(d&&(e.width=(d.naturalWidth==undefined||!d.naturalWidth?d.clientWidth:d.naturalWidth)/f+"px"),e.height="auto"),e.visibility="visible"}),b.bind("error",function(){typeof b.naturalWidth=="undefined"&&(e.display="none")})}return{link:a}}).directive("proofdesignersrc",function(){return{scope:{smiley:"@"},link:function(a,b,c){if(typeof c.ngSrc=="undefined"||c.ngSrc==""){var d=$(b)[0],e=d.parentNode,f=e.parentNode,g=["white","yellow","black"],h=[["faf9f5","2b2b2b"],["fcd900","2b2b2b"],["373630","ffe300"]],i=Math.floor(Math.random()*h.length),j=h[i],k="https://render01.fontshop.com/fonts/font_rend.php?id="+a.smiley+"&idt=f&rbe=&rt=%3A+)&rs=48&bg="+j[0]+"&fg="+j[1]+"&tp=0.0&nf=0&t=og&w=&acs_w=&h=&ft=calt&sc=2";c.$set("src",k),d.className=d.className+" rotate-90",e.className=e.className+" rescale-min50 bg-"+g[i]}}}}),angular.module("fs.autocomplete.directives").directive("autocompleteKu",function(){var a={inputSelector:".js-ku-input",tabsSelector:".js-ku-tab-group",setClass:"ku-is-set",activeClass:"ku-is-active",hoverClass:"is-hover"};return{restrict:"A",link:function(b,c,d){b.currentIdx=-1,b.tabs={};var e=function(){b.currentIdx=-1,$(c).find(a.inputSelector).attr("tabindex",-1)},f=function(d){b.safeApply(function(){b.currentIdx=d,$(c).find(a.tabsSelector).removeClass(a.hoverClass),d>-1&&b.tabs.eq(b.currentIdx).addClass(a.hoverClass)})},g=function(d){function h(){b.tabs=$(c).find(a.tabsSelector),b.tabs.each(function(a,b){$(b).attr("tabindex",a)}),g=b.tabs.length-1}function i(a){d.preventDefault(),e=a}function j(){b.currentIdx!=-1&&(d.preventDefault(),window.location=$(c).find(a.tabsSelector).eq(b.currentIdx).attr("href"))}var e,g;h();switch(d.keyCode){case 38:i(b.currentIdx-1<-1?g:b.currentIdx-1);break;case 40:i(b.currentIdx+1>g?-1:b.currentIdx+1);break;case 13:j();return;case 27:$(document).trigger("click");break;default:e=-1}f(e)};b.onTabHover=function(a){f(a.currentTarget.tabIndex)},$(c).hasClass(a.setClass)||($(c).addClass(a.setClass),e(),$(document).on("keydown",g))}}}),function(a){$("[autocomplete-app]").length&&(a.fs.Modules.Autocomplete=angular.module("fs.autocomplete",["fs.autocomplete.controllers","fs.autocomplete.directives","LocalStorageModule"],["$rootScopeProvider",function(a){a.digestTtl(15)}]),a.fs.Modules.Autocomplete.config(["localStorageServiceProvider",function(a){a.setPrefix("fs_autocomplete")}]),angular.bootstrap($("[autocomplete-app]").get(0),["fs.autocomplete"]))}(window),angular.module("fs.subscription.controllers",[]),angular.module("fs.subscription.directives",[]),angular.module("fs.subscription.controllers").controller("SubscriptionController",["$scope",function(a){a.controller=angular.element($("[ng-controller=SubscriptionController]")),a.sendRequest=function(b){function d(a){var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)}b.preventDefault();var c=a.controller.find("input[type=email]").val();a.controller.removeClass("has-complete has-error").addClass("is-loading"),d(c)?a.processRequest(c):a.displayMessage(!1)},a.processRequest=function(b){$.ajax({url:"/settings/subscribe",type:"POST",data:{test:"test",email:b},dataType:"json",cache:!1,complete:function(b){b.responseJSON.success?(typeof ga!="undefined"&&ga("send","event",{eventCategory:"NL Subscription",eventAction:window.dict.current_language+" Signup",eventLabel:"NL Subscription Page"}),a.displayMessage(b.responseJSON.message)):a.displayMessage(!1)}})},a.displayMessage=function(b){var c=$("[subscription-response]");b?a.controller.addClass("has-complete"):a.controller.addClass("has-error"),b||(b=window.dict.enter_valid_email),c.length>0&&c.html(b),a.controller.removeClass("is-loading")}}]),angular.module("fs.subscription.directives").directive("subscriptionVideoFrame",["$timeout",function(a){var b,c,d,e,f=16/9,g;return{link:function(h,i,j){function k(a){$(i).removeAttr("style").css(a)}function l(){c>d&&(e=Math.ceil(c*f),k({width:e+"px",top:0,left:"50%","margin-left":e/2*-1+"px","padding-top":Math.ceil(e/f)+"px"})),$(i).removeClass("is-init")}function m(){a.cancel(g),k({}),b=$(window).width(),c=$(window).height(),e=$(i).find("iframe").width(),d=$(i).find("iframe").height(),l()}function n(){a.cancel(g),g=a(m,100)}$(window).off("resize",n).on("resize",n),m()}}}]),function(a){$("[subscription-app]").length&&(a.fs.subscriptionApp=angular.module("fs.subscription",["fs.subscription.controllers","fs.subscription.directives"],["$rootScopeProvider",function(a){a.digestTtl(15)}]),angular.bootstrap($("[subscription-app]").get(0),["fs.subscription"]))}(window),function(){function Y(){return function(){}}var aa="\n//# sourceURL=",ba='<script type="text/javascript" src="',b="American Samoa",ca="Antigua and Barbuda",k="Bolivia",p="Bosna i Hercegovina",q="Botswana",da="British Virgin Islands",ea="Cayman Islands",fa="Christmas Island",ga="Falkland Islands",t="Ghana",ha="Guinée équatoriale",ia="Guyane française",u="Honduras",v="Indonesia",w="Itoophiyaa",ja="Kalaallit Nunaat",x="Kiribati",ka="LocaleNameConstants",la="Luxembourg",ma="Madagascar",na="Marshall Islands",y="Micronesia",oa="Moldova, Republica",pa="Nederlandse Antillen",qa="New Zealand",z="Nigeria",ra="Norfolk Island",sa="Northern Mariana Islands",ta="Nouvelle-Calédonie",A="Papua New Guinea",ua="Paraguay",va="Philippines",wa="Polynésie française",xa="Puerto Rico",ya="República Dominicana",B="Rwanda",za="Rywvaneth Unys",Aa="République centrafricaine",Ba="République démocratique du Congo",Ca="Saint Kitts and Nevis",Da="Saint Vincent and the Grenadines",Ea="Saint-Pierre-et-Miquelon",Fa="Serbia and Montenegro",Ga="Seychelles",Ha="Slovenská republika",Ia="Solomon Islands",C="South Africa",Ja="Svalbard og Jan Mayen",Ka="Swaziland",La="São Tomé e Príncipe",D="Sénégal",Ma="Tanzania",Na="Timor Leste",F="Tokelau",Oa="Turks and Caicos Islands",G="Tuvalu",H="Türkiye",Pa="U.S. Virgin Islands",Qa="United Kingdom",Ra="United States",Sa="United States Minor Outlying Islands",Ta="Unknown or Invalid Region",I="Vanuatu",Ua="Wallis-et-Futuna",Va="annotatedtimeline",J="array",K="browserchart",L="complete",M="corechart",N="dygraph",O="function",Wa="google.charts.load",P="imagechart",Q="object",Xa="text/javascript",R="ui",S="ui_base",T="webfontloader",Ya="{css_prefix}/{cssFile}",Za="{prefix}",$a="{prefix}/{version}/third_party/{package}",ab="{version}",bb="Česká republika",cb="Беларусь",db="Кыргызстан",eb="монгольский",fb="Հայաստանի Հանրապետութիւն",U="افغانستان",gb="الامارات العربية المتحدة",hb="الصحراء الغربية",ib="المملكة العربية السعودية",jb="الولايات المتحدة الأمريكية",kb="جزر القمر",V="پاکستان",W="भारत",X="ኢትዮጵያ",lb="조선 민주주의 인민 공화국",Z=Z||{};Z.global=this,Z.O=function(a){return void 0!==a},Z.xa=function(a,b,c){a=a.split("."),c=c||Z.global,a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&Z.O(b)?c[d]=b:c=c[d]?c[d]:c[d]={}},Z.De=function(a,b){Z.xa(a,b)},Z.G=!0,Z.Jd="en",Z.oa=!0,Z.fc=!1,Z.Pb=!Z.G,Z.Ya=!1,Z.Lf=function(a){if(Z.Ka())throw Error("goog.provide can not be used within a goog.module.");Z.gb(a)},Z.gb=function(a,b){Z.xa(a,b)},Z.pc=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,Z.Oa=function(a){if(!Z.h(a)||!a||-1==a.search(Z.pc))throw Error("Invalid module identifier");if(!Z.Ka())throw Error("Module "+a+" has been loaded incorrectly.");if(Z.l.Pa)throw Error("goog.module may only be called once per module.");Z.l.Pa=a},Z.Oa.get=Y(),Z.Oa.Ne=Y(),Z.l=null,Z.Ka=function(){return null!=Z.l},Z.Oa.ua=function(){Z.l.ua=!0},Z.eg=function(a){if(Z.Pb)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."))},Z.Je=Y(),Z.Ea=function(a){a=a.split(".");for(var b=Z.global,c;c=a.shift();)if(Z.Mc(b[c]))b=b[c];else return null;return b},Z.Ye=function(a,b){b=b||Z.global;for(var c in a)b[c]=a[c]},Z.Pd=function(a,b,c,d){if(Z.Wa){var e;a=a.replace(/\\/g,"/");var f=Z.j;d&&"boolean"!=typeof d||(d=d?{module:"goog"}:{});for(var g=0;e=b[g];g++)f.S[e]=a,f.La[a]=d;for(d=0;b=c[d];d++)a in f.F||(f.F[a]={}),f.F[a][b]=!0}},Z.Eg=!1,Z.Gd=!0,Z.Zc=function(a){Z.global.console&&Z.global.console.error(a)},Z.Zf=Y(),Z.B="",Z.Gf=Y(),Z.Od=function(){throw Error("unimplemented abstract method")},Z.Qd=function(a){a.Me=function(){return a.ub?a.ub:(Z.G&&(Z.vb[Z.vb.length]=a),a.ub=new a)}},Z.vb=[],Z.Wb=!0,Z.dc=
Z.G,Z.Yc={},Z.Wa=!1,Z.$a="detect",Z.lc="transpile.js",Z.Wa&&(Z.j={La:{},S:{},F:{},Ib:{},Va:{},W:{}},Z.sb=function(){var a=Z.global.document;return null!=a&&"write"in a},Z.Ec=function(){if(Z.O(Z.global.Mb))Z.B=Z.global.Mb;else if(Z.sb())for(var a=Z.global.document.getElementsByTagName("SCRIPT"),b=a.length-1;0<=b;--b){var c=a[b].src,d=c.lastIndexOf("?"),d=-1==d?c.length:d;if("base.js"==c.substr(d-7,7)){Z.B=c.substr(0,d-7);break}}},Z.Ga=function(a,b){(Z.global.zd||Z.wd)(a,b)&&(Z.j.Va[a]=!0)},Z.Vb=!(Z.global.atob||!Z.global.document||!Z.global.document.all),Z.Kc=function(a,b,c){Z.Ga("",'goog.retrieveAndExec_("'+a+'", '+b+", "+c+");")},Z.Ra=[],Z.Gg=function(a,b){return Z.Wb&&Z.O(Z.global.JSON)?"goog.loadModule("+Z.global.JSON.stringify(b+aa+a+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+b+"\n;return exports});\n//# sourceURL="+a+"\n"},Z.Xc=function(){var a=Z.Ra.length;if(0<a){var b=Z.Ra;Z.Ra=[];for(var c=0;c<a;c++)Z.Ab(b[c])}},Z.Af=function(a){Z.wb(a)&&Z.qc(a)&&Z.Ab(Z.B+Z.Fa(a))},Z.wb=function(a){var b=(a=Z.Fa(a))&&Z.j.La[a]||{};return a&&("goog"==b.module||Z.Bb(b.lang))?Z.B+a in Z.j.W:!1},Z.qc=function(a){if((a=Z.Fa(a))&&a in Z.j.F)for(var b in Z.j.F[a])if(!Z.Qc(b)&&!Z.wb(b))return!1;return!0},Z.Ab=function(a){if(a in Z.j.W){var b=Z.j.W[a];delete Z.j.W[a],Z.Jc(b)}},Z.zf=Y(),Z.vd=function(a){Z.global.document.write(ba+a+'"></script>')},Z.rc=function(a){var b=Z.global.document,c=b.createElement("script");c.type=Xa,c.src=a,c.defer=!1,c.async=!1,b.head.appendChild(c)},Z.wd=function(a,b){if(Z.sb()){var c=Z.global.document;if(!Z.Ya&&c.readyState==L){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load')}return void 0===b?Z.Vb?(b=" onreadystatechange='goog.onScriptLoad_(this, "+ ++Z.yb+")' ",c.write(ba+a+'"'+b+"></script>")):Z.Ya?Z.rc(a):Z.vd(a):c.write('<script type="text/javascript">'+b+"</script>"),!0}return!1},Z.Bb=function(a){if("always"==Z.$a)return!0;if("never"==Z.$a)return!1;if(!Z.M){Z.M={es5:!0,es6:!0,"es6-impl":!0};try{Z.M.es5=eval("[1,].length!=1"),eval('(()=>{"use strict";let a={};const X=class{constructor(){}x(z){return new Map([...arguments]).get(z[0])==3}};return new X().x([a,3])})()')&&(Z.M["es6-impl"]=!1),eval('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')&&(Z.M.es6=!1)}catch(c){}}return!!Z.M[a]},Z.M=null,Z.yb=0,Z.If=function(a,b){return a.readyState==L&&Z.yb==b&&Z.Xc(),!0},Z.Hg=function(a){function b(a){if(!(a in e.Va||a in e.Ib)){e.Ib[a]=!0;if(a in e.F)for(var f in e.F[a])if(!Z.Qc(f))if(f in e.S)b(e.S[f]);else throw Error("Undefined nameToPath for "+f);a in d||(d[a]=!0,c.push(a))}}var c=[],d={},e=Z.j;b(a);for(a=0;a<c.length;a++){var f=c[a];Z.j.Va[f]=!0}var g=Z.l;Z.l=null;for(a=0;a<c.length;a++){if(!(f=c[a]))throw Z.l=g,Error("Undefined script input");var h=e.La[f]||{},i=Z.Bb(h.lang);"goog"==h.module||i?Z.Kc(Z.B+f,"goog"==h.module,i):Z.Ga(Z.B+f)}Z.l=g},Z.Fa=function(a){return a in Z.j.S?Z.j.S[a]:null},Z.Ec(),Z.global.Ad||Z.Ga(Z.B+"deps.js")),Z.yf=function(a){var b=Z.l;try{Z.l={Pa:void 0,ua:!1};var c;if(Z.xb(a))c=a.call(void 0,{});else if(Z.h(a))c=Z.Vc.call(void 0,a);else throw Error("Invalid module definition");var d=Z.l.Pa;if(!Z.h(d)||!d)throw Error('Invalid module name "'+d+'"');Z.l.ua?Z.gb(d,c):Z.dc&&Object.seal&&Object.seal(c),Z.Yc[d]=c}finally{Z.l=b}},Z.Vc=function(a){return eval(a),{}},Z.Df=function(a){a=a.split("/");for(var b=0;b<a.length;)"."==a[b]?a.splice(b,1):b&&".."==a[b]&&a[b-1]&&".."!=a[b-1]?a.splice(--b,2):b++;return a.join("/")},Z.Uc=function(a){if(Z.global.Nb)return Z.global.Nb(a);try{var b=new Z.global.XMLHttpRequest;return b.open("get",a,!1),b.send(),0==b.status||200==b.status?b.responseText:null}catch(c){return null}},Z.$f=Y(),Z.zg=function(a,c){var d=Z.global.$jscomp;d||(Z.global.$jscomp=d={});var e=d.Fb;if(!e){var f=Z.B+Z.lc,g=Z.Uc(f);g&&(eval(g+aa+f),d=Z.global.$jscomp,e=d.Fb)}if(!e)var h=" requires transpilation but no transpiler was found.",h=h+' Please add "//javascript/closure:transpiler" as a data dependency to ensure it is included.',e=d.Fb=function(a,b){return Z.Zc(b+h),a};return e(a,c)},Z.u=function(a){var b=typeof a;if(b==Q){if(!a)return"null";if(a instanceof Array)return J;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return Q;if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return J;if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return O}else if(b==O&&"undefined"==typeof a.call)return Q;return b},Z.pf=function(a){return null===a},Z.Mc=function(a){return null!=a},Z.isArray=function(a){return Z.u(a)==J},Z.Ia=function(a){var b=Z.u(a);return b==J||b==Q&&"number"==typeof a.length},Z.kf=function(a){return Z.Z(a)&&typeof a.getFullYear==O},Z.h=function(a){return"string"==typeof a},Z.Lc=function(a){return"boolean"==typeof a},Z.Pc=function(a){return"number"==typeof a},Z.xb=function(a){return Z.u(a)==O},Z.Z=function(a){var b=typeof a;return b==Q&&null!=a||b==O},Z.qb=function(a){return a[Z.D]||(a[Z.D]=++Z.qd)},Z.Ze=function(a){return!!a[Z.D]},Z.fd=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(Z.D);try{delete a[Z.D]}catch(b){}},Z.D="closure_uid_"+(1e9*Math.random()>>>0),Z.qd=0,Z.Le=Z.qb,Z.Wf=Z.fd,Z.xc=function(a){var b=Z.u(a);if(b==Q||b==J){if(a.clone)return a.clone();var b=b==J?[]:{},c;for(c in a)b[c]=Z.xc(a[c]);return b}return a},Z.vc=function(a,b,c){return a.call.apply(a.bind,arguments)},Z.uc=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}},Z.bind=function(a,b,c){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Z.bind=Z.vc:Z.bind=Z.uc,Z.bind.apply(null,arguments)},Z.cd=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}},Z.Bf=function(a,b){for(var c in b)a[c]=b[c]},Z.now=Z.oa&&Date.now||function(){return+(new Date)},Z.Jc=function(a){if(Z.global.execScript)Z.global.execScript(a,"JavaScript");else{if(!Z.global.eval)throw Error("goog.globalEval not available");if(null==Z.X)if(Z.global.eval("var _evalTest_ = 1;"),"undefined"!=typeof Z.global._evalTest_){try{delete Z.global._evalTest_}catch(b){}Z.X=!0}else Z.X=!1;if(Z.X)Z.global.eval(a);else{var c=Z.global.document,d=c.createElement("SCRIPT");d.type=Xa,d.defer=!1,d.appendChild(c.createTextNode(a)),c.body.appendChild(d),c.body.removeChild(d)}}},Z.X=null,Z.Ke=function(a,b){function c(a){a=a.split("-");for(var b=[],c=0;c<a.length;c++)b.push(d(a[c]));return b.join("-")}function d(a){return Z.hb[a]||a}var e;return e=Z.hb?"BY_WHOLE"==Z.Ac?d:c:function(a){return a},b?a+"-"+e(b):e(a)},Z.ag=function(a,b){Z.hb=a,Z.Ac=b},Z.Qe=function(a,b){return b&&(a=a.replace(/\{\$([^}]+)}/g,function(a,d){return null!=b&&d in b?b[d]:a})),a},Z.Re=function(a){return a},Z.ya=function(a,b){Z.xa(a,b,void 0)},Z.He=function(a,b,c){a[b]=c},Z.Ha=function(a,b){function c(){}c.prototype=b.prototype,a.ma=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.tc=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}},Z.tc=function(a,b,c){var d=arguments.callee.caller;if(Z.fc||Z.G&&!d)throw Error("arguments.caller not defined. goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(d.ma){for(var e=Array(arguments.length-1),f=1;f<arguments.length;f++)e[f-1]=arguments[f];return d.ma.constructor.apply(a,e)}e=Array(arguments.length-2);for(f=2;f<arguments.length;f++)e[f-2]=arguments[f];for(var f=!1,g=a.constructor;g;g=g.ma&&g.ma.constructor)if(g.prototype[b]===d)f=!0;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name")},Z.scope=function(a){if(Z.Ka())throw Error("goog.scope is not supported within a goog.module.");a.call(Z.global)},Z.o=function(a,b){var c=b.constructor,d=b.ld;return c&&c!=Object.prototype.constructor||(c=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),c=Z.o.yc(c,a),a&&Z.Ha(c,a),delete b.constructor,delete b.ld,Z.o.bb(c.prototype,b),null!=d&&(d instanceof Function?d(c):Z.o.bb(c,d)),c},Z.o.cc=Z.G,Z.o.yc=function(a,b){function c(){var b=a.apply(this,arguments)||this;return b[Z.D]=b[Z.D],this.constructor===c&&d&&Object.seal instanceof Function&&Object.seal(b),b}if(!Z.o.cc)return a;var d=!Z.o.Rc(b);return c},Z.o.Rc=function(a){return a&&a.prototype&&a.prototype[Z.mc]},Z.o.Za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Z.o.bb=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(var d=0;d<Z.o.Za.length;d++)c=Z.o.Za[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])},Z.qg=Y(),Z.mc="goog_defineClass_legacy_unsealable",Z.debug={},Z.debug.Error=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Z.debug.Error);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))},Z.Ha(Z.debug.Error,Error),Z.debug.Error.prototype.name="CustomError",Z.ib={},Z.ib.ac={Qb:1,xd:2,Nd:3,yd:4,Id:5,Hd:6,Md:7,Bd:8,Dd:9,Fd:10,Ed:11,Kd:12},Z.b={},Z.b.Xa=!1,Z.b.Sb=!1,Z.b.nc={Zb:" "},Z.b.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)},Z.b.endsWith=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c},Z.b.re=function(a,b){return 0==Z.b.fb(b,a.substr(0,b.length))},Z.b.pe=function(a,b){return 0==Z.b.fb(b,a.substr(a.length-b.length,b.length))},Z.b.qe=function(a,b){return a.toLowerCase()==b.toLowerCase()},Z.b.md=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},Z.b.we=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},Z.b.Ja=function(a){return/^[\s\xa0]*$/.test(a)},Z.b.mf=function(a){return 0==a.length},Z.b.Nc=Z.b.Ja,Z.b.Oc=function(a){return Z.b.Ja(Z.b.$c(a))},Z.b.lf=Z.b.Oc,Z.b.jf=function(a){return!/[^\t\n\r ]/.test(a)},Z.b.gf=function(a){return!/[^a-zA-Z]/.test(a)},Z.b.qf=function(a){return!/[^0-9]/.test(a)},Z.b.hf=function(a){return!/[^a-zA-Z0-9]/.test(a)},Z.b.tf=function(a){return" "==a},Z.b.uf=function(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"�">=a},Z.b.og=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")},Z.b.le=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")},Z.b.Ff=function(a){return a.replace(/\xa0|\s/g," ")},Z.b.Ef=function(a){return a.replace(/\xa0|[ \t]+/g," ")},Z.b.ue=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},Z.b.trim=Z.oa&&String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Z.b.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")},Z.b.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")},Z.b.fb=function(a,b){return a=String(a).toLowerCase(),b=String(b).toLowerCase(),a<b?-1:a==b?0:1},Z.b.Db=function(a,b,c){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var d=a.toLowerCase().match(c),e=b.toLowerCase().match(c),f=Math.min(d.length,e.length),g=0;g<f;g++){c=d[g];var h=e[g];if(c!=h)return a=parseInt(c,10),!isNaN(a)&&(b=parseInt(h,10),!isNaN(b)&&a-b)?a-b:c<h?-1:1}return d.length!=e.length?d.length-e.length:a<b?-1:1},Z.b.df=function(a,b){return Z.b.Db(a,b,/\d+|\D+/g)},Z.b.Hc=function(a,b){return Z.b.Db(a,b,/\d+|\.\d+|\D+/g)},Z.b.Hf=Z.b.Hc,Z.b.Dg=function(a){return encodeURIComponent(String(a))},Z.b.Cg=function(a){return decodeURIComponent(a.replace(/\+/g," "))},Z.b.ad=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")},Z.b.rb=function(a){return Z.b.Kb.test(a)?(-1!=a.indexOf("&")&&(a=a.replace(Z.b.Lb,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(Z.b.Yb,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(Z.b.Tb,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(Z.b.bc,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(Z.b.ec,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(Z.b.$b,"&#0;")),Z.b.Xa&&-1!=a.indexOf("e")&&(a=a.replace(Z.b.Rb,"&#101;")),a):a},Z.b.Lb=/&/g,Z.b.Yb=/</g,Z.b.Tb=/>/g,Z.b.bc=/"/g,Z.b.ec=/'/g,Z.b.$b=/\x00/g,Z.b.Rb=/e/g,Z.b.Kb=Z.b.Xa?/[\x00&<>"'e]/:/[\x00&<>"']/,Z.b.Gb=function(a){return Z.b.contains(a,"&")?!Z.b.Sb&&"document"in Z.global?Z.b.Hb(a):Z.b.rd(a):a},Z.b.Bg=function(a,b){return Z.b.contains(a,"&")?Z.b.Hb(a,b):a},Z.b.Hb=function(a,b){var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},d;return d=b?b.createElement("div"):Z.global.document.createElement("div"),a.replace(Z.b.Ub,function(a,b){var f=c[a];return f?f:("#"==b.charAt(0)&&(b=Number("0"+b.substr(1)),isNaN(b)||(f=String.fromCharCode(b))),f||(d.innerHTML=a+" ",f=d.firstChild.nodeValue.slice(0,-1)),c[a]=f)})},Z.b.rd=function(a){return a.replace(/&([^;]+);/g,function(a,b){switch(b){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=b.charAt(0)||(b=Number("0"+b.substr(1)),isNaN(b))?a:String.fromCharCode(b)}})},Z.b.Ub=/&([^;\s<&]+);?/g,Z.b.Fg=function(a,b){return Z.b.ad(a.replace(/ /g," &#160;"),b)},Z.b.Kf=function(a){return a.replace(/(^|[\n ]) /g,"$1"+Z.b.nc.Zb)},Z.b.pg=function(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a},Z.b.truncate=function(a,b,c){return c&&(a=Z.b.Gb(a)),a.length>b&&(a=a.substring(0,b-3)+"..."),c&&(a=Z.b.rb(a)),a},Z.b.Ag=function(a,b,c,d){return c&&(a=Z.b.Gb(a)),d&&a.length>b?(d>b&&(d=b),a=a.substring(0,b-d)+"..."+a.substring(a.length-d)):a.length>b&&(d=Math.floor(b/2),a=a.substring(0,d+b%2)+"..."+a.substring(a.length-d)),c&&(a=Z.b.rb(a)),a},Z.b.Ua={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},Z.b.$={"'":"\\'"},Z.b.quote=function(a){a=String(a);for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=Z.b.Ua[d]||(31<e&&127>e?d:Z.b.jb(d))}return b.push('"'),b.join("")},Z.b.Ge=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=Z.b.jb(a.charAt(c));return b.join("")},Z.b.jb=function(a){if(a in Z.b.$)return Z.b.$[a];if(a in Z.b.Ua)return Z.b.$[a]=Z.b.Ua[a];var b,c=a.charCodeAt(0);if(31<c&&127>c)b=a;else{if(256>c){if(b="\\x",16>c||256<c)b+="0"}else b="\\u",4096>c&&(b+="0");b+=c.toString(16).toUpperCase()}return Z.b.$[a]=b},Z.b.contains=function(a,b){return-1!=a.indexOf(b)},Z.b.oe=function(a,b){return Z.b.contains(a.toLowerCase(),b.toLowerCase())},Z.b.Be=function(a,b){return a&&b?a.split(b).length-1:0},Z.b.L=function(a,b,c){var d=a;return 0<=b&&b<a.length&&0<c&&(d=a.substr(0,b)+a.substr(b+c,a.length-b-c)),d},Z.b.remove=function(a,b){return b=new RegExp(Z.b.Sa(b),""),a.replace(b,"")},Z.b.Tf=function(a,b){return b=new RegExp(Z.b.Sa(b),"g"),a.replace(b,"")},Z.b.Sa=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Z.b.repeat=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},Z.b.Jf=function(a,b,c){return a=Z.O(c)?a.toFixed(c):String(a),c=a.indexOf("."),-1==c&&(c=a.length),Z.b.repeat("0",Math.max(0,b-c))+a},Z.b.$c=function(a){return null==a?"":String(a)},Z.b.ke=function(a){return Array.prototype.join.call(arguments,"")},Z.b.Ue=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Z.now()).toString(36)},Z.b.ye=function(a,b){var c=0;a=Z.b.trim(String(a)).split("."),b=Z.b.trim(String(b)).split(".");for(var d=Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var f=a[e]||"",g=b[e]||"",h=/(\d*)(\D*)/g,i=/(\d*)(\D*)/g;do{var j=h.exec(f)||["","",""],k=i.exec(g)||["","",""];if(0==j[0].length&&0==k[0].length)break;c=Z.b.qa(0==j[1].length?0:parseInt(j[1],10),0==k[1].length?0:parseInt(k[1],10))||Z.b.qa(0==j[2].length,0==k[2].length)||Z.b.qa(j[2],k[2])}while(0==c)}return c},Z.b.qa=function(a,b){return a<b?-1:a>b?1:0},Z.b.$e=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c)>>>0;return b},Z.b.td=2147483648*Math.random()|0,Z.b.Ce=function(){return"goog_"+Z.b.td++},Z.b.vg=function(a){var b=Number(a);return 0==b&&Z.b.Ja(a)?NaN:b},Z.b.nf=function(a){return/^[a-z]+([A-Z][a-z]*)*$/.test(a)},Z.b.vf=function(a){return/^([A-Z][a-z]*)+$/.test(a)},Z.b.rg=function(a){return String(a).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})},Z.b.xg=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()},Z.b.yg=function(a,b){return b=Z.h(b)?Z.b.Sa(b):"\\s",a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,c){return b+c.toUpperCase()})},Z.b.me=function(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()},Z.b.parseInt=function(a){return isFinite(a)&&(a=String(a)),Z.h(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN},Z.b.hg=function(a,b,c){a=a.split(b);for(var d=[];0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(b)),d},Z.b.xf=function(a,b){if(b)"string"==typeof b&&(b=[b]);else return a;for(var c=-1,d=0;d<b.length;d++)if(""!=b[d]){var e=a.lastIndexOf(b[d]);e>c&&(c=e)}return-1==c?a:a.slice(c+1)},Z.b.Ee=function(a,b){var c=[],d=[];if(a==b)return 0;if(!a.length||!b.length)return Math.max(a.length,b.length);for(var e=0;e<b.length+1;e++)c[e]=e;for(e=0;e<a.length;e++){d[0]=e+1;for(var f=0;f<b.length;f++)d[f+1]=Math.min(d[f]+1,c[f+1]+1,c[f]+Number(a[e]!=b[f]));for(f=0;f<c.length;f++)c[f]=d[f]}return d[b.length]},Z.g={},Z.g.s=Z.G,Z.g.U=function(a,b){b.unshift(a),Z.debug.Error.call(this,Z.b.md.apply(null,b)),b.shift()},Z.Ha(Z.g.U,Z.debug.Error),Z.g.U.prototype.name="AssertionError",Z.g.Ob=function(a){throw a},Z.g.va=Z.g.Ob,Z.g.A=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);a=new Z.g.U(""+e,f||[]),Z.g.va(a)},Z.g.cg=function(a){Z.g.s&&(Z.g.va=a)},Z.g.assert=function(a,b,c){return Z.g.s&&!a&&Z.g.A("",null,b,Array.prototype.slice.call(arguments,2)),a},Z.g.Aa=function(a,b){Z.g.s&&Z.g.va(new Z.g.U("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))},Z.g.Wd=function(a,b,c){return Z.g.s&&!Z.Pc(a)&&Z.g.A("Expected number but got %s: %s.",[Z.u(a),a],b,Array.prototype.slice.call(arguments,2)),a},Z.g.Zd=function(a,b,c){return Z.g.s&&!Z.h(a)&&Z.g.A("Expected string but got %s: %s.",[Z.u(a),a],b,Array.prototype.slice.call(arguments,2)),a},Z.g.Ud=function(a,b,c){return Z.g.s&&!Z.xb(a)&&Z.g.A("Expected function but got %s: %s.",[Z.u(a),a],b,Array.prototype.slice.call(arguments,2)),a},Z.g.Xd=function(a,b,c){return Z.g.s&&!Z.Z(a)&&Z.g.A("Expected object but got %s: %s.",[Z.u(a),a],b,Array.prototype.slice.call(arguments,2)),a},Z.g.Rd=function(a,b,c){return Z.g.s&&!Z.isArray(a)&&Z.g.A("Expected array but got %s: %s.",[Z.u(a),a],b,Array.prototype.slice.call(arguments,2)),a},Z.g.Sd=function(a,b,c){return Z.g.s&&!Z.Lc(a)&&Z.g.A("Expected boolean but got %s: %s.",[Z.u(a),a],b,Array.prototype.slice.call(arguments,2)),a},Z.g.Td=function(a,b,c){return!Z.g.s||Z.Z(a)&&a.nodeType==Z.ib.ac.Qb||Z.g.A("Expected Element but got %s: %s.",[Z.u(a),a],b,Array.prototype.slice.call(arguments,2)),a},Z.g.Vd=function(a,b,c,d){return!Z.g.s||a instanceof b||Z.g.A("Expected instanceof %s but got %s.",[Z.g.pb(b),Z.g.pb(a)],c,Array.prototype.slice.call(arguments,3)),a},Z.g.Yd=function(){for(var a in Object.prototype)Z.g.Aa(a+" should not be enumerable in Object.prototype.")},Z.g.pb=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a},Z.f={},Z.w=Z.oa,Z.f.v=!1,Z.f.dd=function(a){return a[a.length-1]},Z.f.wf=Z.f.dd,Z.f.indexOf=Z.w&&(Z.f.v||Array.prototype.indexOf)?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(Z.h(a))return Z.h(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Z.f.lastIndexOf=Z.w&&(Z.f.v||Array.prototype.lastIndexOf)?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c,0>c&&(c=Math.max(0,a.length+c));if(Z.h(a))return Z.h(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Z.f.forEach=Z.w&&(Z.f.v||Array.prototype.forEach)?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Z.h(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Z.f.kb=function(a,b){for(var c=Z.h(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)},Z.f.filter=Z.w&&(Z.f.v||Array.prototype.filter)?function(a,b,c){return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=Z.h(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var i=g[h];b.call(c,i,h,a)&&(e[f++]=i)}return e},Z.f.map=Z.w&&(Z.f.v||Array.prototype.map)?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=Z.h(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Z.f.reduce=Z.w&&(Z.f.v||Array.prototype.reduce)?function(a,b,c,d){return d&&(b=Z.bind(b,d)),Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;return Z.f.forEach(a,function(c,g){e=b.call(d,e,c,g,a)}),e},Z.f.reduceRight=Z.w&&(Z.f.v||Array.prototype.reduceRight)?function(a,b,c,d){return d&&(b=Z.bind(b,d)),Array.prototype.reduceRight.call(a,b,c)}:function(a,b,c,d){var e=c;return Z.f.kb(a,function(c,g){e=b.call(d,e,c,g,a)}),e},Z.f.some=Z.w&&(Z.f.v||Array.prototype.some)?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Z.h(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Z.f.every=Z.w&&(Z.f.v||Array.prototype.every)?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Z.h(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},Z.f.count=function(a,b,c){var d=0;return Z.f.forEach(a,function(a,f,g){b.call(c,a,f,g)&&++d},c),d},Z.f.find=function(a,b,c){return b=Z.f.findIndex(a,b,c),0>b?null:Z.h(a)?a.charAt(b):a[b]},Z.f.findIndex=function(a,b,c){for(var d=a.length,e=Z.h(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1},Z.f.Ie=function(a,b,c){return b=Z.f.Fc(a,b,c),0>b?null:Z.h(a)?a.charAt(b):a[b]},Z.f.Fc=function(a,b,c){for(var d=Z.h(a)?a.split(""):a,e=a.length-1;0<=e;e--)if(e in d&&b.call(c,d[e],e,a))return e;return-1},Z.f.contains=function(a,b){return 0<=Z.f.indexOf(a,b)},Z.f.Nc=function(a){return 0==a.length},Z.f.clear=function(a){if(!Z.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},Z.f.bf=function(a,b){Z.f.contains(a,b)||a.push(b)},Z.f.tb=function(a,b,c){Z.f.splice(a,c,0,b)},Z.f.cf=function(a,b,c){Z.cd(Z.f.splice,a,c,0).apply(null,b)},Z.f.insertBefore=function(a,b,c){var d;2==arguments.length||0>(d=Z.f.indexOf(a,c))?a.push(b):Z.f.tb(a,b,d)},Z.f.remove=function(a,b){b=Z.f.indexOf(a,b);var c;return(c=0<=b)&&Z.f.L(a,b),c},Z.f.Yf=function(a,b){return b=Z.f.lastIndexOf(a,b),0<=b?(Z.f.L(a,b),!0):!1},Z.f.L=function(a,b){return 1==Array.prototype.splice.call(a,b,1).length},Z.f.Xf=function(a,b,c){return b=Z.f.findIndex(a,b,c),0<=b?(Z.f.L(a,b),!0):!1},Z.f.Uf=function(a,b,c){var d=0;return Z.f.kb(a,function(f,g){b.call(c,f,g,a)&&Z.f.L(a,g)&&d++}),d},Z.f.concat=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Z.f.join=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Z.f.pd=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Z.f.clone=Z.f.pd,Z.f.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(Z.Ia(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}},Z.f.splice=function(a,b,c,d){return Array.prototype.splice.apply(a,Z.f.slice(arguments,1))},Z.f.slice=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},Z.f.Vf=function(a,b,c){function d(a){return Z.Z(a)?"o"+Z.qb(a):(typeof a).charAt(0)+a}b=b||a,c=c||d;for(var e={},f=0,g=0;g<a.length;){var h=a[g++],i=c(h);Object.prototype.hasOwnProperty.call(e,i)||(e[i]=!0,b[f++]=h)}b.length=f},Z.f.cb=function(a,b,c){return Z.f.eb(a,c||Z.f.C,!1,b)},Z.f.ge=function(a,b,c){return Z.f.eb(a,b,!0,void 0,c)},Z.f.eb=function(a,b,c,d,e){for(var f=0,g=a.length,h;f<g;){var i=f+g>>1,j;j=c?b.call(e,a[i],i,a):b(d,a[i]),0<j?f=i+1:(g=i,h=!j)}return h?f:~f},Z.f.sort=function(a,b){a.sort(b||Z.f.C)},Z.f.jg=function(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||Z.f.C;Z.f.sort(c,function(a,b){return e(a.value,b.value)||a.index-b.index});for(d=0;d<a.length;d++)a[d]=c[d].value},Z.f.kd=function(a,b,c){var d=c||Z.f.C;Z.f.sort(a,function(a,c){return d(b(a),b(c))})},Z.f.gg=function(a,b,c){Z.f.kd(a,function(a){return a[b]},c)},Z.f.sf=function(a,b,c){b=b||Z.f.C;for(var d=1;d<a.length;d++){var e=b(a[d-1],a[d]);if(0<e||0==e&&c)return!1}return!0},Z.f.Fe=function(a,b,c){if(!Z.Ia(a)||!Z.Ia(b)||a.length!=b.length)return!1;var d=a.length;c=c||Z.f.Bc;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0},Z.f.xe=function(a,b,c){c=c||Z.f.C;for(var d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f)return f}return Z.f.C(a.length,b.length)},Z.f.C=function(a,b){return a>b?1:a<b?-1:0},Z.f.ef=function(a,b){return-Z.f.C(a,b)},Z.f.Bc=function(a,b){return a===b},Z.f.$d=function(a,b,c){return c=Z.f.cb(a,b,c),0>c?(Z.f.tb(a,b,-(c+1)),!0):!1},Z.f.fe=function(a,b,c){return b=Z.f.cb(a,b,c),0<=b?Z.f.L(a,b):!1},Z.f.je=function(a,b,c){for(var d={},e=0;e<a.length;e++){var f=a[e],g=b.call(c,f,e,a);Z.O(g)&&(d[g]||(d[g]=[])).push(f)}return d},Z.f.wg=function(a,b,c){var d={};return Z.f.forEach(a,function(f,g){d[b.call(c,f,g,a)]=f}),d},Z.f.Mf=function(a,b,c){var d=[],e=0,f=a;c=c||1,void 0!==b&&(e=a,f=b);if(0>c*(f-e))return[];if(0<c)for(a=e;a<f;a+=c)d.push(a);else for(a=e;a>f;a+=c)d.push(a);return d},Z.f.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c},Z.f.Gc=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(Z.isArray(d))for(var e=0;e<d.length;e+=8192)for(var f=Z.f.Gc.apply(null,Z.f.slice(d,e,e+8192)),g=0;g<f.length;g++)b.push(f[g]);else b.push(d)}return b},Z.f.rotate=function(a,b){return a.length&&(b%=a.length,0<b?Array.prototype.unshift.apply(a,a.splice(-b,b)):0>b&&Array.prototype.push.apply(a,a.splice(0,-b))),a},Z.f.Cf=function(a,b,c){b=Array.prototype.splice.call(a,b,1),Array.prototype.splice.call(a,c,0,b[0])},Z.f.Ig=function(a){if(!arguments.length)return[];for(var b=[],c=arguments[0].length,d=1;d<arguments.length;d++)arguments[d].length<c&&(c=arguments[d].length);for(d=0;d<c;d++){for(var e=[],f=0;f<arguments.length;f++)e.push(arguments[f][d]);b.push(e)}return b},Z.f.fg=function(a,b){b=b||Math.random;for(var c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d],a[d]=e}},Z.f.Ae=function(a,b){var c=[];return Z.f.forEach(b,function(b){c.push(a[b])}),c},Z.f.ze=function(a,b,c){return Z.f.concat.apply([],Z.f.map(a,b,c))},Z.locale={},Z.locale.J={COUNTRY:{AD:"Andorra",AE:gb,AF:U,AG:ca,AI:"Anguilla",AL:"Shqipëria",AM:fb,AN:pa,AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:b,AT:"Österreich",AU:"Australia",AW:"Aruba",AX:"Åland",AZ:"Azərbaycan",BA:p,BB:"Barbados",BD:"বাংলাদেশ",BE:"België",BF:"Burkina Faso",BG:"България",BH:"البحرين",BI:"Burundi",BJ:"Bénin",BM:"Bermuda",BN:"Brunei",BO:k,BR:"Brasil",BS:"Bahamas",BT:"भूटान",BV:"Bouvet Island",BW:q,BY:cb,BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:Ba,CF:Aa,CG:"Congo",CH:"Schweiz",CI:"Côte d’Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroun",CN:"中国",CO:"Colombia",CR:"Costa Rica",CS:Fa,CU:"Cuba",CV:"Cabo Verde",CX:fa,CY:"Κύπρος",CZ:bb,DD:"East Germany",DE:"Deutschland",DJ:"Jabuuti",DK:"Danmark",DM:"Dominica",DO:ya,DZ:"الجزائر",EC:"Ecuador",EE:"Eesti",EG:"مصر",EH:hb,ER:"اريتريا",ES:"España",ET:X,FI:"Suomi",FJ:"फिजी",FK:ga,FM:y,FO:"Føroyar",FR:"France",FX:"Metropolitan France",GA:"Gabon",GB:Qa,GD:"Grenada",GE:"საქართველო",GF:ia,GG:"Guernsey",GH:t,GI:"Gibraltar",GL:ja,GM:"Gambia",GN:"Guinée",GP:"Guadeloupe",GQ:ha,GR:"Ελλάδα",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guiné Bissau",GY:"Guyana",HK:"香港",HM:"Heard Island and McDonald Islands",HN:u,HR:"Hrvatska",HT:"Haïti",HU:"Magyarország",ID:v,IE:"Ireland",IL:"ישראל",IM:"Isle of Man",IN:W,IO:"British Indian Ocean Territory",IQ:"العراق",IR:"ایران",IS:"Ísland",IT:"Italia",JE:"Jersey",JM:"Jamaica",JO:"الأردن",JP:"日本",KE:"Kenya",KG:db,KH:"កម្ពុជា",KI:x,KM:kb,KN:Ca,KP:lb,KR:"대한민국",KW:"الكويت",KY:ea,KZ:"Казахстан",LA:"ลาว",LB:"لبنان",LC:"Saint Lucia",LI:"Liechtenstein",LK:"இலங்கை",LR:"Liberia",LS:"Lesotho",LT:"Lietuva",LU:la,LV:"Latvija",LY:"ليبيا",MA:"المغرب",MC:"Monaco",MD:oa,ME:"Црна Гора",MG:ma,MH:na,MK:"Македонија",ML:"مالي",MM:"Myanmar",MN:"蒙古",MO:"澳门",MP:sa,MQ:"Martinique",MR:"موريتانيا",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"México",MY:"Malaysia",MZ:"Moçambique",NA:"Namibia",NC:ta,NE:"Niger",NF:ra,NG:z,NI:"Nicaragua",NL:"Nederland",NO:"Norge",NP:"नेपाल",NR:"Nauru",NT:"Neutral Zone",NU:"Niue",NZ:qa,OM:"عمان",PA:"Panamá",PE:"Perú",PF:wa,PG:A,PH:va,PK:V,PL:"Polska",PM:Ea,PN:"Pitcairn",PR:xa,PS:"فلسطين",PT:"Portugal",PW:"Palau",PY:ua,QA:"قطر",QO:"Outlying Oceania",QU:"European Union",RE:"Réunion",RO:"România",RS:"Србија",RU:"Россия",RW:B,SA:ib,SB:Ia,SC:Ga,SD:"السودان",SE:"Sverige",SG:"新加坡",SH:"Saint Helena",SI:"Slovenija",SJ:Ja,SK:Ha,SL:"Sierra Leone",SM:"San Marino",SN:D,SO:"Somali",SR:"Suriname",ST:La,SU:"Union of Soviet Socialist Republics",SV:"El Salvador",SY:"سوريا",SZ:Ka,TC:Oa,TD:"تشاد",TF:"French Southern Territories",TG:"Togo",TH:"ประเทศไทย",TJ:"تاجیکستان",TK:F,TL:Na,TM:"Туркменистан",TN:"تونس",TO:"Tonga",TR:H,TT:"Trinidad y Tobago",TV:G,TW:"台湾",TZ:Ma,UA:"Україна",UG:"Uganda",UM:Sa,US:Ra,UY:"Uruguay",UZ:"Ўзбекистон",VA:"Vaticano",VC:Da,VE:"Venezuela",VG:da,VI:Pa,VN:"Việt Nam",VU:I,WF:Ua,WS:"Samoa",YD:"People's Democratic Republic of Yemen",YE:"اليمن",YT:"Mayotte",ZA:C,ZM:"Zambia",ZW:"Zimbabwe",ZZ:Ta,aa_DJ:"Jabuuti",aa_ER:"Érythrée",aa_ER_SAAHO:"Érythrée",aa_ET:w,af_NA:"Namibië",af_ZA:"Suid-Afrika",ak_GH:t,am_ET:X,ar_AE:gb,ar_BH:"البحرين",ar_DJ:"جيبوتي",ar_DZ:"الجزائر",ar_EG:"مصر",ar_EH:hb,ar_ER:"اريتريا",ar_IL:"اسرائيل",ar_IQ:"العراق",ar_JO:"الأردن",ar_KM:kb,ar_KW:"الكويت",ar_LB:"لبنان",ar_LY:"ليبيا",ar_MA:"المغرب",ar_MR:"موريتانيا",ar_OM:"عمان",ar_PS:"فلسطين",ar_QA:"قطر",ar_SA:ib,ar_SD:"السودان",ar_SY:"سوريا",ar_TD:"تشاد",ar_TN:"تونس",ar_YE:"اليمن",as_IN:"ভাৰত",ay_BO:k,az_AZ:"Azərbaycan",az_Cyrl_AZ:"Азәрбајҹан",az_Latn_AZ:"Azerbaycan",be_BY:cb,bg_BG:"България",bi_VU:I,bn_BD:"বাংলাদেশ",bn_IN:"ভারত",bo_CN:"རྒྱ་ནག",bo_IN:"རྒྱ་གར་",bs_BA:p,byn_ER:"ኤርትራ",ca_AD:"Andorra",ca_ES:"Espanya",cch_NG:z,ch_GU:"Guam",chk_FM:y,cop_Arab_EG:"مصر",cop_Arab_US:jb,cop_EG:"مصر",cop_US:jb,cs_CZ:bb,cy_GB:"Prydain Fawr",da_DK:"Danmark",da_GL:"Grønland",de_AT:"Österreich",de_BE:"Belgien",de_CH:"Schweiz",de_DE:"Deutschland",de_LI:"Liechtenstein",de_LU:"Luxemburg",dv_MV:"Maldives",dz_BT:"Bhutan",ee_GH:t,ee_TG:"Togo",efi_NG:z,el_CY:"Κύπρος",el_GR:"Ελλάδα",en_AG:ca,en_AI:"Anguilla",en_AS:b,en_AU:"Australia",en_BB:"Barbados",en_BE:"Belgium",en_BM:"Bermuda",en_BS:"Bahamas",en_BW:q,en_BZ:"Belize",en_CA:"Canada",en_CC:"Cocos Islands",en_CK:"Cook Islands",en_CM:"Cameroon",en_CX:fa,en_DM:"Dominica",en_FJ:"Fiji",en_FK:ga,en_FM:y,en_GB:Qa,en_GD:"Grenada",en_GG:"Guernsey",en_GH:t,en_GI:"Gibraltar",en_GM:"Gambia",en_GU:"Guam",en_GY:"Guyana",en_HK:"Hong Kong",en_HN:u,en_IE:"Ireland",en_IM:"Isle of Man",en_IN:"India",en_JE:"Jersey",en_JM:"Jamaica",en_KE:"Kenya",en_KI:x,en_KN:Ca,en_KY:ea,en_LC:"Saint Lucia",en_LR:"Liberia",en_LS:"Lesotho",en_MH:na,en_MP:sa,en_MS:"Montserrat",en_MT:"Malta",en_MU:"Mauritius",en_MW:"Malawi",en_NA:"Namibia",en_NF:ra,en_NG:z,en_NR:"Nauru",en_NU:"Niue",en_NZ:qa,en_PG:A,en_PH:va,en_PK:"Pakistan",en_PN:"Pitcairn",en_PR:xa,en_RW:B,en_SB:Ia,en_SC:Ga,en_SG:"Singapore",en_SH:"Saint Helena",en_SL:"Sierra Leone",en_SZ:Ka,en_TC:Oa,en_TK:F,en_TO:"Tonga",en_TT:"Trinidad and Tobago",en_TV:G,en_TZ:Ma,en_UG:"Uganda",en_UM:Sa,en_US:Ra,en_US_POSIX:Ra,en_VC:Da,en_VG:da,en_VI:Pa,en_VU:I,en_WS:"Samoa",en_ZA:C,en_ZM:"Zambia",en_ZW:"Zimbabwe",es_AR:"Argentina",es_BO:k,es_CL:"Chile",es_CO:"Colombia",es_CR:"Costa Rica",es_CU:"Cuba",es_DO:ya,es_EC:"Ecuador",es_ES:"España"
,es_GQ:"Guinea Ecuatorial",es_GT:"Guatemala",es_HN:u,es_MX:"México",es_NI:"Nicaragua",es_PA:"Panamá",es_PE:"Perú",es_PH:"Filipinas",es_PR:xa,es_PY:ua,es_SV:"El Salvador",es_US:"Estados Unidos",es_UY:"Uruguay",es_VE:"Venezuela",et_EE:"Eesti",eu_ES:"Espainia",fa_AF:U,fa_IR:"ایران",fi_FI:"Suomi",fil_PH:va,fj_FJ:"Fiji",fo_FO:"Føroyar",fr_BE:"Belgique",fr_BF:"Burkina Faso",fr_BI:"Burundi",fr_BJ:"Bénin",fr_CA:"Canada",fr_CD:Ba,fr_CF:Aa,fr_CG:"Congo",fr_CH:"Suisse",fr_CI:"Côte d’Ivoire",fr_CM:"Cameroun",fr_DJ:"Djibouti",fr_DZ:"Algérie",fr_FR:"France",fr_GA:"Gabon",fr_GF:ia,fr_GN:"Guinée",fr_GP:"Guadeloupe",fr_GQ:ha,fr_HT:"Haïti",fr_KM:"Comores",fr_LU:la,fr_MA:"Maroc",fr_MC:"Monaco",fr_MG:ma,fr_ML:"Mali",fr_MQ:"Martinique",fr_MU:"Maurice",fr_NC:ta,fr_NE:"Niger",fr_PF:wa,fr_PM:Ea,fr_RE:"Réunion",fr_RW:B,fr_SC:Ga,fr_SN:D,fr_SY:"Syrie",fr_TD:"Tchad",fr_TG:"Togo",fr_TN:"Tunisie",fr_VU:I,fr_WF:Ua,fr_YT:"Mayotte",fur_IT:"Italia",ga_IE:"Éire",gaa_GH:t,gez_ER:"ኤርትራ",gez_ET:X,gil_KI:x,gl_ES:"España",gn_PY:ua,gu_IN:"ભારત",gv_GB:za,ha_Arab_NG:"نيجيريا",ha_GH:"غانا",ha_Latn_GH:t,ha_Latn_NE:"Niger",ha_Latn_NG:"Nigéria",ha_NE:"النيجر",ha_NG:"نيجيريا",haw_US:"ʻAmelika Hui Pū ʻIa",he_IL:"ישראל",hi_IN:W,ho_PG:A,hr_BA:p,hr_HR:"Hrvatska",ht_HT:"Haïti",hu_HU:"Magyarország",hy_AM:fb,hy_AM_REVISED:fb,id_ID:v,ig_NG:z,ii_CN:"ꍏꇩ",is_IS:"Ísland",it_CH:"Svizzera",it_IT:"Italia",it_SM:"San Marino",ja_JP:"日本",ka_GE:"საქართველო",kaj_NG:z,kam_KE:"Kenya",kcg_NG:z,kfo_NG:"Nigéria",kk_KZ:"Қазақстан",kl_GL:ja,km_KH:"កម្ពុជា",kn_IN:"ಭಾರತ",ko_KP:lb,ko_KR:"대한민국",kok_IN:W,kos_FM:y,kpe_GN:"Guinée",kpe_LR:"Libéria",ks_IN:W,ku_IQ:"Irak",ku_IR:"İran",ku_Latn_IQ:"Irak",ku_Latn_IR:"İran",ku_Latn_SY:"Suriye",ku_Latn_TR:H,ku_SY:"Suriye",ku_TR:H,kw_GB:za,ky_Cyrl_KG:db,ky_KG:"Kırgızistan",la_VA:"Vaticano",lb_LU:la,ln_CD:Ba,ln_CG:"Kongo",lo_LA:"Laos",lt_LT:"Lietuva",lv_LV:"Latvija",mg_MG:ma,mh_MH:na,mi_NZ:qa,mk_MK:"Македонија",ml_IN:"ഇന്ത്യ",mn_Cyrl_MN:"Монголия",mn_MN:"Монголия",mr_IN:W,ms_BN:"Brunei",ms_MY:"Malaysia",ms_SG:"Singapura",mt_MT:"Malta",my_MM:"Myanmar",na_NR:"Nauru",nb_NO:"Norge",nb_SJ:Ja,ne_NP:"नेपाल",niu_NU:"Niue",nl_AN:pa,nl_AW:"Aruba",nl_BE:"België",nl_NL:"Nederland",nl_SR:"Suriname",nn_NO:"Noreg",nr_ZA:C,nso_ZA:C,ny_MW:"Malawi",om_ET:w,om_KE:"Keeniyaa",or_IN:"ଭାରତ",pa_Arab_PK:V,pa_Guru_IN:"ਭਾਰਤ",pa_IN:"ਭਾਰਤ",pa_PK:V,pap_AN:pa,pau_PW:"Palau",pl_PL:"Polska",pon_FM:y,ps_AF:U,pt_AO:"Angola",pt_BR:"Brasil",pt_CV:"Cabo Verde",pt_GW:"Guiné Bissau",pt_MZ:"Moçambique",pt_PT:"Portugal",pt_ST:La,pt_TL:Na,qu_BO:k,qu_PE:"Perú",rm_CH:"Schweiz",rn_BI:"Burundi",ro_MD:oa,ro_RO:"România",ru_BY:cb,ru_KG:db,ru_KZ:"Казахстан",ru_RU:"Россия",ru_UA:"Украина",rw_RW:B,sa_IN:W,sd_Deva_IN:W,sd_IN:W,se_FI:"Finland",se_NO:"Norge",sg_CF:Aa,sh_BA:"Bosnia and Herzegovina",sh_CS:Fa,si_LK:"Sri Lanka",sid_ET:w,sk_SK:Ha,sl_SI:"Slovenija",sm_AS:b,sm_WS:"Samoa",so_DJ:"Jabuuti",so_ET:"Itoobiya",so_KE:"Kiiniya",so_SO:"Soomaaliya",sq_AL:"Shqipëria",sr_BA:"Босна и Херцеговина",sr_CS:"Србија и Црна Гора",sr_Cyrl_BA:"Босния",sr_Cyrl_CS:"Сербия и Черногория",sr_Cyrl_ME:"Черногория",sr_Cyrl_RS:"Сербия",sr_Latn_BA:p,sr_Latn_CS:"Srbija i Crna Gora",sr_Latn_ME:"Crna Gora",sr_Latn_RS:"Srbija",sr_ME:"Црна Гора",sr_RS:"Србија",ss_SZ:Ka,ss_ZA:C,st_LS:"Lesotho",st_ZA:C,su_ID:v,sv_AX:"Åland",sv_FI:"Finland",sv_SE:"Sverige",sw_KE:"Kenya",sw_TZ:Ma,sw_UG:"Uganda",swb_KM:kb,syr_SY:"Syria",ta_IN:"இந்தியா",ta_LK:"இலங்கை",ta_SG:"சிங்கப்பூர்",te_IN:"భారత దేళం",tet_TL:Na,tg_Cyrl_TJ:"Таджикистан",tg_TJ:"تاجکستان",th_TH:"ประเทศไทย",ti_ER:"ኤርትራ",ti_ET:X,tig_ER:"ኤርትራ",tk_TM:"ترکمنستان",tkl_TK:F,tn_BW:q,tn_ZA:C,to_TO:"Tonga",tpi_PG:A,tr_CY:"Güney Kıbrıs Rum Kesimi",tr_TR:H,ts_ZA:C,tt_RU:"Россия",tvl_TV:G,ty_PF:wa,uk_UA:"Україна",uli_FM:y,und_ZZ:Ta,ur_IN:"بھارت",ur_PK:V,uz_AF:"Afganistan",uz_Arab_AF:U,uz_Cyrl_UZ:"Узбекистан",uz_Latn_UZ:"Oʿzbekiston",uz_UZ:"Ўзбекистон",ve_ZA:C,vi_VN:"Việt Nam",wal_ET:X,wo_Arab_SN:"السنغال",wo_Latn_SN:D,wo_SN:D,xh_ZA:C,yap_FM:y,yo_NG:z,zh_CN:"中国",zh_HK:"香港",zh_Hans_CN:"中国",zh_Hans_SG:"新加坡",zh_Hant_HK:"中華人民共和國香港特別行政區",zh_Hant_MO:"澳門",zh_Hant_TW:"臺灣",zh_MO:"澳门",zh_SG:"新加坡",zh_TW:"台湾",zu_ZA:C},LANGUAGE:{aa:"afar",ab:"абхазский",ace:"Aceh",ach:"Acoli",ada:"Adangme",ady:"адыгейский",ae:"Avestan",af:"Afrikaans",afa:"Afro-Asiatic Language",afh:"Afrihili",ain:"Ainu",ak:"Akan",akk:"Akkadian",ale:"Aleut",alg:"Algonquian Language",alt:"Southern Altai",am:"አማርኛ",an:"Aragonese",ang:"Old English",anp:"Angika",apa:"Apache Language",ar:"العربية",arc:"Aramaic",arn:"Araucanian",arp:"Arapaho",art:"Artificial Language",arw:"Arawak",as:"অসমীয়া",ast:"asturiano",ath:"Athapascan Language",aus:"Australian Language",av:"аварский",awa:"Awadhi",ay:"aimara",az:"azərbaycanca",az_Arab:"ترکی آذربایجانی",az_Cyrl:"Азәрбајҹан",az_Latn:"Azerice",ba:"башкирский",bad:"Banda",bai:"Bamileke Language",bal:"بلوچی",ban:"Balin",bas:"Basa",bat:"Baltic Language",be:"беларуская",bej:"Beja",bem:"Bemba",ber:"Berber",bg:"български",bh:"बिहारी",bho:"Bhojpuri",bi:"bichelamar ; bislama",bik:"Bikol",bin:"Bini",bla:"Siksika",bm:"bambara",bn:"বাংলা",bnt:"Bantu",bo:"པོད་སྐད་",br:"breton",bra:"Braj",bs:"Bosanski",btk:"Batak",bua:"Buriat",bug:"Bugis",byn:"ብሊን",ca:"català",cad:"Caddo",cai:"Central American Indian Language",car:"Carib",cau:"Caucasian Language",cch:"Atsam",ce:"чеченский",ceb:"Cebuano",cel:"Celtic Language",ch:"Chamorro",chb:"Chibcha",chg:"Chagatai",chk:"Chuukese",chm:"марийский (черемисский)",chn:"Chinook Jargon",cho:"Choctaw",chp:"Chipewyan",chr:"Cherokee",chy:"Cheyenne",cmc:"Chamic Language",co:"corse",cop:"قبطية",cop_Arab:"قبطية",cpe:"English-based Creole or Pidgin",cpf:"French-based Creole or Pidgin",cpp:"Portuguese-based Creole or Pidgin",cr:"Cree",crh:"Crimean Turkish",crp:"Creole or Pidgin",cs:"čeština",csb:"Kashubian",cu:"Church Slavic",cus:"Cushitic Language",cv:"чувашский",cy:"Cymraeg",da:"dansk",dak:"Dakota",dar:"даргва",day:"Dayak",de:"Deutsch",del:"Delaware",den:"Slave",dgr:"Dogrib",din:"Dinka",doi:"الدوجرى",dra:"Dravidian Language",dsb:"Lower Sorbian",dua:"Duala",dum:"Middle Dutch",dv:"Divehi",dyu:"dioula",dz:"རྫོང་ཁ",ee:"Ewe",efi:"Efik",egy:"Ancient Egyptian",eka:"Ekajuk",el:"Ελληνικά",elx:"Elamite",en:"English",enm:"Middle English",eo:"esperanto",es:"español",et:"eesti",eu:"euskara",ewo:"Ewondo",fa:"فارسی",fan:"fang",fat:"Fanti",ff:"Fulah",fi:"suomi",fil:"Filipino",fiu:"Finno-Ugrian Language",fj:"Fijian",fo:"føroyskt",fon:"Fon",fr:"français",frm:"Middle French",fro:"Old French",frr:"Northern Frisian",frs:"Eastern Frisian",fur:"friulano",fy:"Fries",ga:"Gaeilge",gaa:"Ga",gay:"Gayo",gba:"Gbaya",gd:"Scottish Gaelic",gem:"Germanic Language",gez:"ግዕዝኛ",gil:"Gilbertese",gl:"galego",gmh:"Middle High German",gn:"guaraní",goh:"Old High German",gon:"Gondi",gor:"Gorontalo",got:"Gothic",grb:"Grebo",grc:"Αρχαία Ελληνικά",gsw:"Schweizerdeutsch",gu:"ગુજરાતી",gv:"Gaelg",gwi:"Gwichʼin",ha:"الهوسا",ha_Arab:"الهوسا",ha_Latn:"haoussa",hai:"Haida",haw:"ʻōlelo Hawaiʻi",he:"עברית",hi:"हिंदी",hil:"Hiligaynon",him:"Himachali",hit:"Hittite",hmn:"Hmong",ho:"Hiri Motu",hr:"hrvatski",hsb:"Upper Sorbian",ht:"haïtien",hu:"magyar",hup:"Hupa",hy:"Հայերէն",hz:"Herero",ia:"interlingvao",iba:"Iban",id:"Bahasa Indonesia",ie:"Interlingue",ig:"Igbo",ii:"ꆈꌠꉙ",ijo:"Ijo",ik:"Inupiaq",ilo:"Iloko",inc:"Indic Language",ine:"Indo-European Language",inh:"ингушский",io:"Ido",ira:"Iranian Language",iro:"Iroquoian Language",is:"íslenska",it:"italiano",iu:"Inuktitut",ja:"日本語",jbo:"Lojban",jpr:"Judeo-Persian",jrb:"Judeo-Arabic",jv:"Jawa",ka:"ქართული",kaa:"каракалпакский",kab:"kabyle",kac:"Kachin",kaj:"Jju",kam:"Kamba",kar:"Karen",kaw:"Kawi",kbd:"кабардинский",kcg:"Tyap",kfo:"koro",kg:"Kongo",kha:"Khasi",khi:"Khoisan Language",kho:"Khotanese",ki:"Kikuyu",kj:"Kuanyama",kk:"Қазақ",kl:"kalaallisut",km:"ភាសាខ្មែរ",kmb:"quimbundo",kn:"ಕನ್ನಡ",ko:"한국어",kok:"कोंकणी",kos:"Kosraean",kpe:"kpellé",kr:"Kanuri",krc:"карачаево-балкарский",krl:"карельский",kro:"Kru",kru:"Kurukh",ks:"काश्मिरी",ku:"Kürtçe",ku_Arab:"الكردية",ku_Latn:"Kürtçe",kum:"кумыкский",kut:"Kutenai",kv:"Komi",kw:"kernewek",ky:"Kırgızca",ky_Arab:"القيرغستانية",ky_Cyrl:"киргизский",la:"latino",lad:"לדינו",lah:"لاهندا",lam:"Lamba",lb:"luxembourgeois",lez:"лезгинский",lg:"Ganda",li:"Limburgs",ln:"lingala",lo:"Lao",lol:"mongo",loz:"Lozi",lt:"lietuvių",lu:"luba-katanga",lua:"luba-lulua",lui:"Luiseno",lun:"Lunda",luo:"Luo",lus:"Lushai",lv:"latviešu",mad:"Madura",mag:"Magahi",mai:"Maithili",mak:"Makassar",man:"Mandingo",map:"Austronesian",mas:"Masai",mdf:"мокша",mdr:"Mandar",men:"Mende",mg:"malgache",mga:"Middle Irish",mh:"Marshallese",mi:"Maori",mic:"Micmac",min:"Minangkabau",mis:"Miscellaneous Language",mk:"македонски",mkh:"Mon-Khmer Language",ml:"മലയാളം",mn:eb,mn_Cyrl:eb,mn_Mong:eb,mnc:"Manchu",mni:"Manipuri",mno:"Manobo Language",mo:"Moldavian",moh:"Mohawk",mos:"moré ; mossi",mr:"मराठी",ms:"Bahasa Melayu",mt:"Malti",mul:"Multiple Languages",mun:"Munda Language",mus:"Creek",mwl:"Mirandese",mwr:"Marwari",my:"Burmese",myn:"Mayan Language",myv:"эрзя",na:"Nauru",nah:"Nahuatl",nai:"North American Indian Language",nap:"napoletano",nb:"norsk bokmål",nd:"North Ndebele",nds:"Low German",ne:"नेपाली","new":"Newari",ng:"Ndonga",nia:"Nias",nic:"Niger-Kordofanian Language",niu:"Niuean",nl:"Nederlands",nn:"nynorsk",no:"Norwegian",nog:"ногайский",non:"Old Norse",nqo:"N’Ko",nr:"South Ndebele",nso:"Northern Sotho",nub:"Nubian Language",nv:"Navajo",nwc:"Classical Newari",ny:"nianja; chicheua; cheua",nym:"Nyamwezi",nyn:"Nyankole",nyo:"Nyoro",nzi:"Nzima",oc:"occitan",oj:"Ojibwa",om:"Oromoo",or:"ଓଡ଼ିଆ",os:"осетинский",osa:"Osage",ota:"Ottoman Turkish",oto:"Otomian Language",pa:"ਪੰਜਾਬੀ",pa_Arab:"پنجاب",pa_Guru:"ਪੰਜਾਬੀ",paa:"Papuan Language",pag:"Pangasinan",pal:"Pahlavi",pam:"Pampanga",pap:"Papiamento",pau:"Palauan",peo:"Old Persian",phi:"Philippine Language",phn:"Phoenician",pi:"บาลี",pl:"polski",pon:"Pohnpeian",pra:"Prakrit Language",pro:"Old Provençal",ps:"پښتو",pt:"português",qu:"quechua",raj:"Rajasthani",rap:"Rapanui",rar:"Rarotongan",rm:"Rätoromanisch",rn:"roundi",ro:"română",roa:"Romance Language",rom:"Romany",ru:"русский",rup:"Aromanian",rw:"rwanda",sa:"संस्कृत भाषा",sad:"Sandawe",sah:"якутский",sai:"South American Indian Language",sal:"Salishan Language",sam:"ארמית שומרונית",sas:"Sasak",sat:"Santali",sc:"Sardinian",scn:"siciliano",sco:"Scots",sd:"सिन्धी",sd_Arab:"سندی",sd_Deva:"सिन्धी",se:"nordsamiska",sel:"селькупский",sem:"Semitic Language",sg:"sangho",sga:"Old Irish",sgn:"Sign Language",sh:"Serbo-Croatian",shn:"Shan",si:"Sinhalese",sid:"Sidamo",sio:"Siouan Language",sit:"Sino-Tibetan Language",sk:"slovenský",sl:"slovenščina",sla:"Slavic Language",sm:"Samoan",sma:"sydsamiska",smi:"Sami Language",smj:"lulesamiska",smn:"Inari Sami",sms:"Skolt Sami",sn:"Shona",snk:"soninké",so:"Soomaali",sog:"Sogdien",son:"Songhai",sq:"shqipe",sr:"Српски",sr_Cyrl:"сербский",sr_Latn:"Srpski",srn:"Sranantongo",srr:"sérère",ss:"Swati",ssa:"Nilo-Saharan Language",st:"Sesotho",su:"Sundan",suk:"Sukuma",sus:"soussou",sux:"Sumerian",sv:"svenska",sw:"Kiswahili",syc:"Classical Syriac",syr:"Syriac",ta:"தமிழ்",tai:"Tai Language",te:"తెలుగు",tem:"Timne",ter:"Tereno",tet:"tétum",tg:"تاجک",tg_Arab:"تاجک",tg_Cyrl:"таджикский",th:"ไทย",ti:"ትግርኛ",tig:"ትግረ",tiv:"Tiv",tk:"ترکمنی",tkl:F,tl:"Tagalog",tlh:"Klingon",tli:"Tlingit",tmh:"tamacheq",tn:"Tswana",to:"Tonga",tog:"Nyasa Tonga",tpi:"Tok Pisin",tr:"Türkçe",ts:"Tsonga",tsi:"Tsimshian",tt:"татарский",tum:"Tumbuka",tup:"Tupi Language",tut:"алтайские (другие)",tvl:G,tw:"Twi",ty:"tahitien",tyv:"тувинский",udm:"удмуртский",ug:"уйгурский",uga:"Ugaritic",uk:"українська",umb:"umbundu",und:"English",ur:"اردو",uz:"Ўзбек",uz_Arab:"اۉزبېک",uz_Cyrl:"узбекский",uz_Latn:"o'zbekcha",vai:"Vai",ve:"Venda",vi:"Tiếng Việt",vo:"volapuko",vot:"Votic",wa:"Wallonisch",wak:"Wakashan Language",wal:"Walamo",war:"Waray",was:"Washo",wen:"Sorbian Language",wo:"wolof",wo_Arab:"الولوف",wo_Latn:"wolof",xal:"калмыцкий",xh:"Xhosa",yao:"iao",yap:"Yapese",yi:"יידיש",yo:"Yoruba",ypk:"Yupik Language",za:"Zhuang",zap:"Zapotec",zen:"Zenaga",zh:"中文",zh_Hans:"中文",zh_Hant:"中文",znd:"Zande",zu:"Zulu",zun:"Zuni",zxx:"No linguistic content",zza:"Zaza"}},Z.locale.dg=function(a){a=a.replace(/-/g,"_"),Z.locale.N=a},Z.locale.Da=function(){return Z.locale.N||(Z.locale.N="en"),Z.locale.N},Z.locale.H={Cd:"DateTimeConstants",Ld:"NumberFormatConstants",hc:"TimeZoneConstants",Xb:ka,ic:"TimeZoneSelectedIds",kc:"TimeZoneSelectedShortNames",jc:"TimeZoneSelectedLongNames",gc:"TimeZoneAllLongNames"},Z.locale.Ca=function(a){return(a=a.match(/^\w{2,3}([-_]|$)/))?a[0].replace(/[_-]/g,""):""},Z.locale.mb=function(a){return(a=a.match(/[-_]([a-zA-Z]{2}|\d{3})([-_]|$)/))?a[0].replace(/[_-]/g,""):""},Z.locale.We=function(a){return a=a.split(/[-_]/g),1<a.length&&a[1].match(/^[a-zA-Z]{4}$/)?a[1]:""},Z.locale.Xe=function(a){return(a=a.match(/[-_]([a-z]{2,})/))?a[1]:""},Z.locale.Se=function(a){var b=Z.locale.Ca(a)+"_"+Z.locale.mb(a);return b in Z.locale.J.COUNTRY?Z.locale.J.COUNTRY[b]:a},Z.locale.Oe=function(a,b){b||(b=Z.locale.ob());var c=Z.locale.mb(a);return c in b.COUNTRY?b.COUNTRY[c]:a},Z.locale.Te=function(a){if(a in Z.locale.J.LANGUAGE)return Z.locale.J.LANGUAGE[a];var b=Z.locale.Ca(a);return b in Z.locale.J.LANGUAGE?Z.locale.J.LANGUAGE[b]:a},Z.locale.Pe=function(a,b){b||(b=Z.locale.ob());if(a in b.LANGUAGE)return b.LANGUAGE[a];var c=Z.locale.Ca(a);return c in b.LANGUAGE?b.LANGUAGE[c]:a},Z.locale.K=function(a,b,c){Z.locale.m[b]||(Z.locale.m[b]={}),Z.locale.m[b][c]=a,Z.locale.N||(Z.locale.N=c)},Z.locale.rf=function(a,b){return a in Z.locale.m&&b in Z.locale.m[a]},Z.locale.m={},Z.locale.Pf=function(a,b){Z.locale.K(a,Z.locale.H.hc,b)},Z.locale.Nf=function(a,b){Z.locale.K(a,Z.locale.H.Xb,b)},Z.locale.Qf=function(a,b){Z.locale.K(a,Z.locale.H.ic,b)},Z.locale.Sf=function(a,b){Z.locale.K(a,Z.locale.H.kc,b)},Z.locale.Rf=function(a,b){Z.locale.K(a,Z.locale.H.jc,b)},Z.locale.Of=function(a,b){Z.locale.K(a,Z.locale.H.gc,b)},Z.locale.ob=function(){var a=Z.locale.Da(),a=a?a:Z.locale.Da();return ka in Z.locale.m?Z.locale.m.LocaleNameConstants[a]:void 0},Z.locale.Ve=function(a,b){b=b?b:Z.locale.Da();if(a in Z.locale.m)return b in Z.locale.m[a]?Z.locale.m[a][b]:(b=b.split("_"),1<b.length&&b[0]in Z.locale.m[a]?Z.locale.m[a][b[0]]:Z.locale.m[a].en)};var google={a:{}};google.a.c={},google.a.c.languages={af:!0,am:!0,az:!0,ar:!0,arb:"ar",bg:!0,bn:!0,ca:!0,cs:!0,cmn:"zh",da:!0,de:!0,el:!0,en:!0,en_gb:!0,es:!0,es_419:!0,et:!0,eu:!0,fa:!0,fi:!0,fil:!0,fr:!0,fr_ca:!0,gl:!0,ka:!0,gu:!0,he:"iw",hi:!0,hr:!0,hu:!0,hy:!0,id:!0,"in":"id",is:!0,it:!0,iw:!0,ja:!0,ji:"yi",jv:!1,jw:"jv",km:!0,kn:!0,ko:!0,lo:!0,lt:!0,lv:!0,ml:!0,mn:!0,mo:"ro",mr:!0,ms:!0,nb:"no",ne:!0,nl:!0,no:!0,pl:!0,pt:"pt_br",pt_br:!0,pt_pt:!0,ro:!0,ru:!0,si:!0,sk:!0,sl:!0,sr:!0,sv:!0,sw:!0,swh:"sw",ta:!0,te:!0,th:!0,tl:"fil",tr:!0,uk:!0,ur:!0,vi:!0,yi:!1,zh:"zh_cn",zh_cn:!0,zh_hk:!0,zh_tw:!0,zsm:"ms",zu:!0},google.a.c.P={},google.a.c.I="unknown",google.a.c.log=Y(),google.a.c.error=Y(),google.a.c.Y=!1,google.a.c.window=window,google.a.c.ud={1:"1.0","1.0":"current",1.1:"upcoming",current:"44",upcoming:"45",41:"top",42:"top",43:"top",44:"top"},google.a.c.Ta={gstatic:{prefix:"https://www.gstatic.com/charts",debug:"{prefix}/debug/{version}/jsapi_debug_{package}_module.js",compiled:"{prefix}/{version}/js/jsapi_compiled_{package}_module.js",i18n:"{prefix}/{version}/i18n/jsapi_compiled_i18n_{package}_module__{language}.js",css_prefix:"{prefix}/{version}/css",css:Ya,css_debug:Ya,third_party:$a,third_party_gen:$a}},google.a.c.i=google.a.c.Ta.gstatic,google.a.c.Cc={format:[],"default":["format"],ui:["default"],ui_base:["default"],annotatedtimeline:[R],annotationchart:[R,"controls",M,"table"],areachart:[R,K],bar:[R,N,T],barchart:[R,K],browserchart:[R],calendar:[R],charteditor:[R,M,P,Va,"gauge","motionchart","orgchart","table"],charteditor_base:[S,M,P,Va,"gauge","motionchart","orgchart","table_base"],columnchart:[R,K],controls:[R],controls_base:[S],corechart:[R],gantt:[R,N],gauge:[R],geochart:[R],geomap:[R],geomap_base:[S],helloworld:[R],imageareachart:[R,P],imagebarchart:[R,P],imagelinechart:[R,P],imagechart:[R],imagepiechart:[R,P],imagesparkline:[R,P],intensitymap:[R],line:[R,N,T],linechart:[R,K],map:[R],motionchart:[R],orgchart:[R],overtimecharts:[R,M],piechart:[R,K],sankey:["d3","d3.sankey",R],scatter:[R,N,T],scatterchart:[R,K],table:[R],table_base:[S],timeline:[R,N],treemap:[R],wordtree:[R]},google.a.c.od={d3:"d3/d3.js","d3.sankey":"d3/d3.sankey.js",webfontloader:"webfontloader/webfont.js"},google.a.c.Eb={dygraph:"dygraphs/dygraph-tickers-combined.js"},google.a.c.zc={annotatedtimeline:"/annotatedtimeline/annotatedtimeline.css",annotationchart:"annotationchart/annotationchart.css",charteditor:"charteditor/charteditor.css",charteditor_base:"charteditor/charteditor_base.css",controls:"controls/controls.css",imagesparkline:"imagesparkline/imagesparkline.css",intensitymap:"intensitymap/intensitymap.css",orgchart:"orgchart/orgchart.css",table:"table/table.css",table_base:"table/table_base.css",ui:["util/util.css","core/tooltip.css"],ui_base:"util/util_base.css"},google.a.c.ra=function(a,b){b=b||{};for(var c=[],d=0;d<a.length;d++){var e=a[d];if(!b[e]){b[e]=!0;var f=google.a.c.Cc[e]||[];0<f.length&&(c=c.concat(google.a.c.ra(f,b))),c.push(e)}}return c},google.a.c.Ic=function(a){for(var b={},c=[],d=0;d<a.length;d++){var e=google.a.c.zc[a[d]];Z.isArray(e)||(e=[e]);for(var f=0;f<e.length;f++){var g=e[f];g&&!b[g]&&(b[g]=!0,c.push(g))}}return c},google.a.c.hd=function(a,b){if(b)if("undefined"==typeof a.onload){var c=!1;a.onreadystatechange=function(){c||(a.readyState&&a.readyState!==L?google.a.c.window.setTimeout(a.onreadystatechange,0):(c=!0,delete a.onreadystatechange,google.a.c.window.setTimeout(b,0)))}}else a.onload=b},google.a.c.zb=function(a,b,c){google.a.c.log("loadScript: "+a);var d=b.createElement("script");d.type=Xa,d.language="javascript",d.async=!1,d.defer=!1,b=b.body||b.head||b.getElementsByTagName("HEAD").item(0)||b.documentElement,b.insertBefore(d,b.lastChild),c&&google.a.c.hd(d,c),d.src=a,google.a.c.log("end loadScript: "+a)},google.a.c.Wc=function(a,c){a=google.a.c.ra(a);for(var d=[],e=0;e<a.length;e++){var f=a[e];google.a.c.P[f]||d.push(f)}a=d;if(0===a.length)c();else{google.a.c.log("Load packages + dependencies - previous: "+a);var g=google.a.c.i.prefix,h=google.a.c.i.debug,l=google.a.c.i.compiled,m=google.a.c.i.i18n,n=google.a.c.I,r=google.a.c.Ma;"en"===r&&(r=null);var E={},mb=a.length,ob=function(){for(var d=[],e=0;e<a.length;e++)d.push(E[a[e]]);eval("0,(function(){"+d.join("")+"})")(),google.a.c.window.setTimeout(c,0)};google.a.c.bd=function(a,b){google.a.c.log("callback after loading "+a),E[a]=b,google.a.c.P[a]=!0,mb--,0===mb&&ob()};var nb=function(b){var c=google.a.c.Dc,d=a[b++];if(d){var e=d,f=google.a.c.od[d];f?(e=f,d===T&&(c=window.document),d=google.a.c.i.third_party):google.a.c.Eb[d]?(e=google.a.c.Eb[d],d=google.a.c.i.third_party_gen):d=google.a.c.Y?h:r?m:l,e=d.replace(Za,g).replace(ab,n).replace("{language}",r).replace("{package}",e),google.a.c.zb(e,c),nb(b)}};nb(0)}},google.a.c.V=function(a){function b(){f=!0;for(var a=d.length,b=0;b<a;b++)d[b]()}function c(){g=!0;for(var a=e.length,b=0;b<a;b++)e[b]()}var d=[],e=[],f=!1,g=!1;google.a.c.V.count||(google.a.c.V.count=0);var h="load-css-"+google.a.c.V.count++,i={done:function(a){return d.push(a),f&&a(),i},Aa:function(a){return e.push(a),g&&a(),i}},j=document.createElement("link");return j.setAttribute("id",h),j.setAttribute("rel","stylesheet"),j.setAttribute("type","text/css"),"undefined"!=typeof j.addEventListener?(j.addEventListener("load",b,!1),j.addEventListener("error",c,!1)):"undefined"!=typeof j.attachEvent&&j.attachEvent("onload",function(){var a,d=document.styleSheets.length;try{for(;d--;)if(a=document.styleSheets[d],a.id===h){b();return}}catch(e){}f||c()}),document.getElementsByTagName("head")[0].appendChild(j),j.setAttribute("href",a),i},google.a.c.Sc=function(a,b){google.a.c.log("loadCSSFile: "+a),google.a.c.V(a).done(b).Aa(function(){google.a.c.error("loading css failed: "+a)})},google.a.c.Tc=function(a,b){a=google.a.c.ra(a);var c=google.a.c.Ic(a);if(null===c||0===c.length)b();else{google.a.c.log("Loading css files: "+c.join(", "));var d=google.a.c.i.prefix,e=google.a.c.i.css;google.a.c.Y&&(e=google.a.c.i.css_debug||e);var f=google.a.c.I,g=function(a){var i=c[a],j;j=a<c.length-1?function(){g(a+1)}:b,google.a.c.P[i]?(google.a.c.log("Already loaded "+i),google.a.c.window.setTimeout(j,0)):(google.a.c.P[i]=!0,i=e.replace("{css_prefix}",google.a.c.i.css_prefix).replace(Za,d).replace(ab,f).replace("{cssFile}",i),google.a.c.Sc(i,j))};g(0)}},google.a.c.Cb=function(a){for(var b=a.replace(/-/g,"_").toLowerCase();Z.h(b);)a=b,b=google.a.c.languages[b],b===a&&(b=!1);return b||(a.match(/_[^_]+$/)?(a=a.replace(/_[^_]+$/,""),a=google.a.c.Cb(a)):a="en"),a},google.a.c.ed=function(a,b){b.log&&(google.a.c.log=b.log),b.error&&(google.a.c.error=b.error);var c=b.debug,d=b.language||"",d=google.a.c.Cb(d);a||(a=b.version||"unknown");if(google.a.c.I&&google.a.c.I!==a||google.a.c.Ma&&google.a.c.Ma!==d||google.a.c.Y!==c)google.a.c.P={};google.a.c.I=a,google.a.c.Ma=d,google.a.c.Y=c},google.a.c.ea=!0,google.a.c.R=!1,google.a.c.load=function(a,b,c){if(google.a.c.R)google.a.c.T(function(){google.a.c.load(a,b,c)});else{var d;d=a.match(/^(testing\/)?(.*)/);var e=d[1]||"";for(a=d[2];;){d=google.a.c.ud[a];if(null==d||"top"===d)break;a=d}google.a.c.i=c||google.a.c.Ta[a]||google.a.c.Ta.gstatic,a=e+a,google.a.c.R=!0;var f=function(){google.a.c.R=!1,google.a.c.Na()};if(null==d)e=function(){var d=Z.Ea("google.charts.versionSpecific.load"),e=Z.Ea("google.charts.versionSpecific.setOnLoadCallback");d(a,b,c),e(f)},google.a.c.ea?(google.a.c.ea=!1,google.a.c.zb(google.a.c.i.prefix+"/"+a+"/loader.js",window.document,e)):e();else{if(!google.a.c.ea)throw Error("google.charts.load() cannot be called more than once with version 44 or earlier.");google.a.c.ea=!1,google.a.c.ed(a,b),google.a.c.log("google.charts.load version "+a),window.google=window.google||{},google.visualization=google.visualization||{},google.visualization.ModulePath=google.a.c.i.prefix,google.visualization.CssPath=google.a.c.i.css_prefix.replace(Za,google.a.c.i.prefix).replace(ab,google.a.c.I),google.a.c.window=window,google.a.c.Dc=document;var g=b.packages;g&&0!==g.length||(g=["default"]),google.a.c.T(b.callback),google.a.c.Tc(g,function(){google.a.c.Wc(g,f)})}}},google.a.c.jd=function(a){if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a);else{var b=window.onload;window.onload=function(d){b&&b(d),a()}}},google.a.c.Jb=document&&document.readyState===L,google.a.c.jd(function(){google.a.c.Jb=!0,google.a.c.Na()}),google.a.c.Na=function(){!google.a.c.R&&google.a.c.Jb&&google.a.c.wc()},google.a.c.Ba=[],google.a.c.T=function(a){a&&google.a.c.Ba.push(a),google.a.c.R||google.a.c.Na()},google.a.c.wc=function(){var a=google.a.c.Ba;for(google.a.c.Ba=[];0<a.length;)a.shift()()},google.a.c.Qa=function(a,b){google.a.c.bd(a,b)};if(Z.Ea(Wa))throw Error("Google Charts loader.js can only be loaded once.");google.a.load=function(){var a=0;"visualization"===arguments[a]&&a++;var b="current";Z.h(arguments[a])&&(b=arguments[a],a++);var c={};arguments.length>a&&(c=arguments[a],a++);var d=void 0;arguments.length>a&&(d=arguments[a]),google.a.c.load(b,c,d)},google.a.T=function(a){google.a.c.T(a)},google.a.Qa=function(a,b){google.a.c.Qa(a,b)},Z.ya(Wa,google.a.load),Z.ya("google.charts.setOnLoadCallback",google.a.T),Z.ya("google.charts.packageLoadedCallback",google.a.Qa)}(),function(a){function f(a,f,h){h=h===!1?!1:!0,b.push({selector:a,fn:f});var i=c.querySelectorAll(a);i.length>0?g(!1):(e||(e=new d(function(){g(h)}),e.observe(c.documentElement,{childList:!0,subtree:!0})),g(h))}function g(a){var d=!1;for(var f=0,g=b.length,h,i;f<g;f++){h=b[f],i=c.querySelectorAll(h.selector);for(var j=0,k=i.length,l;j<k;j++)l=i[j],l.ready||(l.ready=!0,h.fn.call(l,l),d=!0)}d===!0&&a===!0&&e.disconnect()}"use strict";var b=[],c=a.document,d=a.MutationObserver||a.WebKitMutationObserver,e;a.elementAppear=f}(this),function(a,b){var c=$(a),d=$("body"),e=a.fs,f=e.app,g=$(".js-vw-sized"),h=$(".no-cssvhunit .l-block--fullscreen, .touch .l-block--fullscreen");e.vent=e.vent||new Backbone.Wreqr.EventAggregator,f.querystrings=f.helpers.getQueryStrings(),$(".o-news-category-table__tr").click(function(){window.location=$(this).find("a").attr("href")}).hover(function(){$(this).toggleClass("hover")}),$(document).ready(function(){a.elementAppear(".QSIInfoBar",function(){function e(){var d=a.position().top+a.outerHeight(!0);if(c.width()<751)$("#site-menu").css("top",""),$(window).scrollTop()>b?$(".m-menu-new__logo").css({top:0}):$(document.body).hasClass("l-offscreen-content--active")||$("nav.l-offscreen-panel").hasClass("is-active")?$(".m-menu-new__logo").css({top:0}):$(".m-menu-new__logo").css({top:d-$(window).scrollTop()});else{$(".m-menu-new__logo").css("top","");if($(window).scrollTop()>b)$("#site-menu").css({top:0});else{var e=$(window).height(),f=$(".QSIInfoBar").height();$("#site-menu").css({top:d-$(window).scrollTop(),height:e-f})}}}function f(){var a=$(window).scrollTop();a>b+d?$(".m-search-header").addClass("_fixed"):$(".m-search-header").removeClass("_fixed")}function g(){var a=b+d,c=$(".m-tryout__app__canvas"),e=$(".m-tryout__app__tools"),f=$(".m-tryout__app__tools--mobile__search");c.hasClass("m-tryout__app__canvas--has-footer")?(c.css("top",a),e.css("top",a)):e.css("z-index",0);var g=$(window).scrollTop();a-g>0?f.css("top",a-g):f.css("top",0)}function h(){var a=b+d,c=$(window).scrollTop();a-c>0?($(".m-sub-menu__profile").css("top",b+20-c),$(".m-sub-menu__profile .m-sub-menu__links").css("top",b-c)):($(".m-sub-menu__profile").css("top","0"),$(".m-sub-menu__profile .m-sub-menu__links").css("top","0"))}function i(){var a=$(window).scrollTop(),c=b+d;c-a>0?$(".m-sub-menu__search").parent().css("top",b+20-a):$(".m-sub-menu__search").parent().css("top",20)}var a=$(".QSIInfoBar"),b=a.height(),d=$("#fex_update_banner").height();d=d?d:0,$(window).on("scroll",function(){e(),f(),g(),h(),i()}),$(window).on("resize",function(){$(document.body).removeClass("l-offscreen-content--active"),$("nav.l-offscreen-panel").removeClass("is-active"),e(),f(),g(),h(),i()}),e(),f(),g(),h(),i(),$(document).on("fs:offscreen-panel:show",function(){e()}),$(document).on("click",".m-tryout__app__tools-control a",function(){g()})}),$(".o-js-back-button").off("click").on("click",function(a){a.preventDefault();var b=($(this).attr("data-back-url")||"").trim();b.length>0&&(window.location.href=b)})}),$("html").toggleClass("ie",a.fs.app.isIE10orHigher()),$("html").toggleClass("no-tls",!a.fs.app.tlsSupport()),$(".js-class-on-change").on("change",function(a){var b=$(a.currentTarget),c=b.data("changeClass"),d=$(b.data("changeTarget"));d.toggleClass(c,b.is(":checked"))}).trigger("change"),$(".js-login-attributes").loginAttributes(),$("html").addClass(window.current_tce_user_id?"user-login":"user-logout"),$(".js-simulate-links").simulateLinks(),$(".js-checkbox-togglr").checkboxTogglr(),$(".js-select-redirect").selectRedirect(),e.Modules.TextRenderer&&(e.modules.textRenderer=new e.Modules.TextRenderer,window.textRenderer=e.modules.textRenderer,window.fs.textRenderer=e.modules.textRenderer),_.defer(function(){f.helpers.fullHeightRefresh(h),f.isOldSafari()&&$("html").addClass("old-safari"),$(document).ajaxSend(function(a,b,c){var d=$("meta[name='csrf-token']").attr("content");b.setRequestHeader("X-CSRF-Token",d)}),e.vent.on("fs:contentload",function(){a.fs.BaseView.initializeViews(),$.waypoints("refresh");var b=$(".js-element-swapr");b.length&&b.not(".js-element-swapr--set").each(function(){$(this).addClass("js-element-swapr--set").elementSwapr()});var c=$(".js-class-selectr");c.length&&c.not(".js-class-selectr--set").each(function(){$(this).addClass("js-class-selectr--set").classSelectr()});var d=$(".js-addtolist");d.length&&d.not(".js-addtolist--set").each(function(){$(this).addClass("js-addtolist--set"),e.Modules.AddToList.init({$el:$(this)})}),e.Modules.FSAddFontlistForm&&(typeof e.modules.fsAddFontlistForm!="undefined"?e.modules.fsAddFontlistForm.set():e.modules.fsAddFontlistForm=new e.Modules.FSAddFontlistForm),e.Modules.SimpleSlider&&(typeof e.modules.SimpleSlider=="undefined"?e.modules.SimpleSlider=new e.Modules.SimpleSlider:e.vent.trigger("fs:simpleslider:set"))});var i=e.Modules.ScrollTo;$(".js-scroller").each(function(){var a=new i.Arrow({el:$(this)})});var j=d.data("fsController");if(j){Controller=e.Modules[j];if(Controller)var k=new Controller({el:d})}e.Modules.Homepage&&new e.Modules.Homepage,e.Modules.SiteMenu&&(e.modules.siteMenu=new e.Modules.SiteMenu),e.Modules.FSPopup&&(e.modules.fsPopup=new e.Modules.FSPopup),e.Modules.FSDialog&&(e.modules.fsDialog=new e.Modules.FSDialog),e.Modules.FSLikes&&(e.modules.fsLikes=new e.Modules.FSLikes),window.GlobalLikes?window.GlobalLikes.updatedLikeIcons():window.GlobalLikes=new e.Modules.GlobalLikes,e.Modules.GlobalInlist&&new e.Modules.GlobalInlist;if(e.Modules.KeyboardTyping){var l=e.Modules.KeyboardTyping;l.init()}if(e.Modules.KU){var m=new e.Modules.KU;m.init()}e.vent.trigger("fs:contentload");var n=function(){o(),p()},o=_.debounce(function(){f.helpers.vwRefresh(g),f.helpers.fullHeightRefresh(h),e.vent.trigger("fs:resize",f.windowWidth,f.windowHeight)},200),p=_.debounce(function(){f.windowWidth=c.width(),f.windowHeight=c.height(),e.vent.trigger("fs:resize:fast",f.windowWidth,f.windowHeight)},50);c.on("resize",n),f.windowWidth=c.width(),f.windowHeight=c.height(),c.on("resizestart",function(){e.vent.trigger("fs:resize-start",f.windowWidth,f.windowHeight)}).on("resizestop",function(){e.vent.trigger("fs:resize-stop",f.windowWidth,f.windowHeight)}),c.on("scroll",function(){var a=_.debounce(function(){e.vent.trigger("fs:scroll",$(this).scrollTop())},500);a()});var q=function(){function e(){b.hasClass("is-set")?b.fadeOut(400,function(){b.removeClass("is-set").removeAttr("style")}):b.show(0).scrollTop(0).hide(0).fadeIn(400,function(){b.addClass("is-set").removeAttr("style")})}function f(){$("body").toggleClass("is-frozen")}function g(a){a.keyCode==27&&h()}function h(){return $(document).off("keyup",g),f(),e(),!1}function i(){return $(document).on("keyup",g),f(),e(),!1}function j(){d||(a.wrap('<div class="'+c+'"></div>'),a.before('<div class="m-search-app-overlay__wrapper--close o-icon o-icon--x o-icon--large js-search-app-overlay__hide"></div>')),b=$("."+c),b.find(".js-search-app-overlay__hide").on("click",h)}function k(){var a=$(".QSIInfoBar").height();a=a?a:0;var b=$("#fex_update_banner").height();b=b?b:0;var c=$(window).scrollTop(),d=a+b;d-c>0?$(".m-search-app-overlay__wrapper").css("top",a-c):$(".m-search-app-overlay__wrapper").css("top",0)}var a=$(".js-search-app-overlay"),b,c="m-search-app-overlay__wrapper",d=a.parent().hasClass(c)?!0:!1,l=function(){$(".js-search-app-overlay__show").off().on("click",function(){i(),setTimeout(function(){k()},1e3)})};window.fs.vent.on("search:update",l),l(),j()};q(),e.Modules.OffscreenTrigger&&new e.Modules.OffscreenTrigger,$(".js-hide-offscreen-panel").on("click",function(a){var b=$("#"+$(this).data("target_id"));b.removeClass("is-active"),a&&a.preventDefault&&a.preventDefault()});var r=$(".l-offscreen-panel");r.length&&r.each(function(a,b){new e.Modules.OffscreenBase({el:b})}),$(".js-consider-offscreen-panel").length>0&&($(document).on("fs:offscreen-panel:show",function(){$(".js-consider-offscreen-panel").addClass("is-active")}),a.fs.vent.on("fs:offscreen-panel:closing",function(){$(".js-consider-offscreen-panel").removeClass("is-active")})),$(".js-sticky-header").each(function(){var a=$(this),b=parseInt(a.data("stickyoffset"),10)||0;a.waypoint("sticky",{stuckClass:"is-fixed",offset:b})});var s=function(){$(".m-search-header__search").each(function(){var a=$(this),b=a.parent(),c=b.find(".m-search-header__permalink"),d=b.width();if($(window).width()<980||$(window).width()>1024){a.removeAttr("style");return}c.length>0&&c.is(":visible")?a.css("width",d-c.outerWidth(!0)+"px"):a.removeAttr("style")})};s(),a.fs.vent.on("fs:resize",s),a.fs.vent.on("search:update",s),$(".js-font-controls-toggle-options").each(function(){var a=$(this);a.find("button").on("click",function(){a.prev().toggleClass("--show-options")})}),$(".js-change-listtype").each(function(){new e.Modules.FamilyFiltering({el:$(this)})}),$(".js-popup").on("click",function(a){a&&a.preventDefault&&a.preventDefault();var b=$(this),c=b.data(),d=c.popupWidth||400,e=c.popupHeight||300,g=window.innerHeight/2-e/2,h=window.innerWidth/2-d/2,i="resizable,location=no,menubar=no,status=no,width="+d+",height="+e+",left="+h+",top="+g;return f.modernBrowser?window.open(this.href,"this.className",i):window.open(this.href,"_blank",i),!1});var t=$(".js-character-count");t.length&&t.each(function(){$(this).charCountr()});var u=function(){$(".js-totop").each(function(){var a=$(this),b,c,d=function(
){clearTimeout(b),b=setTimeout(function(){$("html, body").animate({scrollTop:0},{duration:800})},250)},e=function(){clearTimeout(c),c=setTimeout(function(){a.stop(),$(window).scrollTop()<=0?a.fadeOut(500,function(){a.addClass("_is-top").removeAttr("style")}):a.fadeIn(500,function(){a.removeClass("_is-top").removeAttr("style")})},200)};$("body").find(".m-search-header").length>0&&a.parent().addClass("js-is-on-search-page"),e(),a.on("click",function(){return d(),!1}),$(window).on("scroll",e)})};u();var v=function(){var a=$(this),b=$(a.data("url-target"));b.attr("href",a.find("option:selected").attr("data-url-string"))},w=$(".js-url-selectr");w.length&&w.each(function(){$(this).on("change",v),v.call($(this))});var x=$(".js-masonry-layout");x.length>0&&(window.msnry=new Masonry(x[0],{itemSelector:".js-masonry-layout__item",gutter:20,isFitWidth:!0,transitionDuration:0}),imagesLoaded(x,function(){window.msnry.layout()}),window.msnry.on("layoutComplete",function(a,b){$(a.element).addClass("is-active")})),e.vent.on("fs:update:masonry",function(){window.msnry&&_.delay(function(){window.msnry.layout()},150)}),this.$(".js-newsletter").each(function(){new e.Modules.Newsletter({el:$(this)})});var y=function(){$(".js-tooltip").each(function(a,b){!$(b).hasClass("o-tooltip__item")&&$(b).find(".o-tooltip__item").length===0&&new e.Modules.Tooltip({el:$(this)})})};y(),e.vent.on("fs:image-uploader:uploaded",y),!Modernizr.cssvhunit&&!Modernizr.touch&&$(".hide-content-behind").css("margin-bottom",-(window.innerHeight*.25)+"px"),$.cookie("button-hinting-clicks")===b&&$.cookie("button-hinting-clicks",3,{expires:15,secure:!0}),$(".js-change-locale").on("change",function(){var a=$(this).val();$.cookie("locale",a,{secure:!0}),window.location.reload()}),$(".js-change-location").on("change",function(){var a=$(this).val();window.location=a}),$(".js-download-fonts").each(function(){new e.Modules.DownloadFonts({el:$(this)})}),$(".js-tryout-fontfinder-bubble").each(function(){new e.Modules.FontFinderBubble({el:$(this)})}),a.fs.Modules.FontsPurchase&&new e.Modules.FontsPurchase,a.fs.Modules.WatchOverflow&&new e.Modules.WatchOverflow;var z=$(".js-show-modal");z.each(function(){var a=new e.Modules.ShowModal({el:this})}),a.fs.vent.on("fs:show-modal",function(a){var b=new e.Modules.ShowModal;b.createIframe(a)});var A=$(".js-m-carousel");A.each(function(){var a=$(this),b=a.children().length;a.owlCarousel({singleItem:!0,navigation:!0,navigationText:["<span class='o-icon o-icon--large o-icon--right-arrow o-icon--180-rotate'></span>","<span class='o-icon o-icon--large o-icon--right-arrow'></span>"],autoPlay:1e4,stopOnHover:!0,rewindNav:!0,pagination:!1,paginationSpeed:f.animationDuration*2,rewindSpeed:b>1?f.animationDuration*b:f.animationDuration*2})}),window.active_features.indexOf("context_panel")>-1&&f.modernBrowser&&new e.Modules.OffscreenContent({el:document.body});var B=function(b){b=b||d;var c=b.find(".js-gallery-container__item");c.length&&c.each(function(){var b=$(this);b.on("click",function(c){var d=b.parents(".js-gallery-container"),e=d.find(".js-gallery-container__item"),f=_.map(e,function(a){var b=$(a);return{url:b.data("href"),fig:b.parents(".o-gallery-item").find("figcaption").html()||b.data("caption")}}),g=f.indexOf(_.findWhere(f,{url:$(this).data("href")})),h={index:g,urlProperty:"url",stretchImages:!0,transitionSpeed:a.fs.app.animationDuration*2,toggleControlsOnReturn:!1,hidePageScrollbars:!1,onslide:function(a,b){var c=$(b),d=c.parents(".slides"),e=d.siblings("figcaption");e.html(this.list[a].fig)}};if(b.hasClass("js-open-gallery-after")){var i=b.parents(".o-gallery-item").data("href");i=a.fs.app.helpers.updateQueryStringParameter(i,"gallery",encodeURI(b.data("href"))),window.parent.location=i}else blueimp.Gallery(f,h)})})};a.fs.vent.on("fs:update:galleries",B),B();if(e.app.querystrings.gallery){var C=$(".js-gallery-container__item"),D=C.filter(function(){return $(this).data("href")===decodeURI(e.app.querystrings.gallery)});D.trigger("click")}var E=$(".js-error--serious");E.length&&$("html,body").stop().delay(a.fs.app.animationDuration).animate({scrollTop:E.eq(0).offset().top-(E.eq(0).height()+75)},a.fs.app.animationDuration*2),$(".js-trigger-zendesk-contact").on("click",function(){$("#zenbox_tab").trigger("click")}),$(".js-settings__purchased-survey-close").each(function(){function c(){a.remove()}var a=$(this),b=a.closest(".l-settings__purchased-survey");$.cookie("survey-nov-2015")?c():(b.show(0),a.on("click",function(a){a.preventDefault(),$.cookie("survey-nov-2015",!0,{secure:!0}),b.slideUp(400,c)}))}),$('form > input[name="q"]').length>0&&$('form > input[name="q"]').each(function(){var a=$(this);a.closest("form").on("submit",function(b){var c=$(this).attr("action");c.indexOf("search")>-1&&b.preventDefault(),window.location=c+"#?q="+a.prop("value")})});var F=$(".js-collapsable");F.length&&F.on("click",function(a){a&&a.preventDefault&&(a.preventDefault(),a.stopPropagation());var b=$(this),c=b.parents(".js-collapsable--target");c.toggleClass("is-open")})}.bind(this)),$("#cart_form").on("submit",function(){var a=$("#purchase_button");a.length&&(a.attr("disabled",!0),$("<input type='hidden' name='commit' value='"+a.val()+"' />").insertAfter(a))});var i=function(){var a=$(document).find(".favIcon1").parents(".o-type-card");$(a).on("click",function(a){var b=$(this).attr("data-simulatelink");!$(a.target).hasClass("o-icon--heart")&&!$(a.target).hasClass("add-to-list")&&(window.location=b)})},j=function(){$(document).on("click",".favIcon",function(a){a.preventDefault();var b=$(this)[0].href,c=$(this).attr("data-likeableid"),d=$("a[data-likeableid ="+c+"]"),e=$("div[data-likeableid ="+c+"]");$.get(b).done(function(a){a&&(a.like_status==="on"?($(d).removeClass("is-not-liked"),$(d).addClass("is-liked"),$(e).removeClass("is-not-liked"),$(e).addClass("is-liked")):($(d).removeClass("is-liked"),$(d).addClass("is-not-liked"),$(e).removeClass("is-liked"),$(e).addClass("is-not-liked")))})})};j(),i();var k=document.getElementById("profile_confirm_submit");k&&k.addEventListener("click",function(a){var b=document.getElementById("vat_code"),c=document.getElementById("country_code"),d=c.value,e=b.value;if(!e)return!0;if(!d&&e)c.classList.add("is-error"),document.getElementById("country-and-vat-invalid").style.display="block",b.classList.remove("is-error"),document.getElementById("vat-number-invalid-format").style.display="none",a.preventDefault();else if(d.toLowerCase()!==e.substring(0,2).toLowerCase())b.classList.add("is-error"),document.getElementById("vat-number-invalid-format").style.display="block",c.classList.remove("is-error"),document.getElementById("country-and-vat-invalid").style.display="none",a.preventDefault();else{var f=checkVATNumber(e);b.classList.remove("is-error"),document.getElementById("vat-number-invalid-format").style.display="none",c.classList.remove("is-error"),document.getElementById("country-and-vat-invalid").style.display="none";if(d.toLowerCase()==="GB".toLowerCase())return!0;if(f)return!0;b.classList.add("is-error"),document.getElementById("vat-number-invalid-format").style.display="block",a.preventDefault()}});var l=document.getElementById("country_code");l&&l.addEventListener("change",function(a){var b=document.getElementById("vat_code"),c=l.value;c&&(c.toLowerCase()=="de"||c.toLowerCase()=="ch")&&(b.value="")});var m=document.getElementById("glyphs");m&&(m.onchange=function(){var a=$("#glyphs").find(":selected")[0].dataset.fontclass.split("-").pop()||"";if(a){var b=new URL($(".unencoded-image img")[0].src),c=b.searchParams;c.set("id",a),b.search=c.toString();var d=b.toString();$(".unencoded-image img").attr("src",d)}}),$(document).ready(function(){var a=["first_name","last_name","organization_name","address1","address2","city","presenters_checkout_billing_address_first_name","presenters_checkout_billing_address_last_name","presenters_checkout_billing_address_organization_name","presenters_checkout_billing_address_address1","presenters_checkout_billing_address_address2","presenters_checkout_billing_address_city"];for(var b=0;b<a.length;b++){var c=document.getElementById(a[b]);c&&c.addEventListener("keyup",function(a){/[^\x00-\x7F]/.test(a.target.value)?(a.target.classList.add("is-error"),document.getElementById(a.target.id+"_invalid_format").style.display="block",a.target.value=a.target.value.replace(/[^\x00-\x7F]/g,"?")):(a.target.classList.remove("is-error"),document.getElementById(a.target.id+"_invalid_format").style.display="none")})}})}(window)