!function(o){"use strict";var d,e,t,s,i;(d=o('.js-trigger[data-type="mega-down"]')).on("click",function(){o(window).width();var a=o(this),e=a.next();if("false"===a.attr("aria-expanded")){d.not(a).removeClass("is-active").attr("aria-expanded","false").next().removeClass("is-open").attr("aria-hidden","true");var t,s=a.closest("nav"),i=a.offset().left-s.offset().left,r=s.innerWidth(),n=e.width();t=r<i+n?i-(i+n-r):i,e.css("left",t),a.addClass("is-active").attr("aria-expanded","true"),e.addClass("is-open").attr("aria-hidden","false")}else a.removeClass("is-active").attr("aria-expanded","false"),e.removeClass("is-open").attr("aria-hidden","true")}),o('.js-trigger[data-type="search"]').on("click",function(){var a=o(this);"false"===a.attr("aria-expanded")?a.addClass("is-active").attr("aria-expanded","true").next().fadeIn(300,function(){o(this).addClass("is-open").attr("aria-hidden","false")}):a.removeClass("is-active").attr("aria-expanded","false").next().fadeOut(300,function(){o(this).removeClass("is-open").attr("aria-hidden","true")})}),o('.js-trigger[data-type="pull"]').on("click",function(){var a=o(this);"false"===a.attr("aria-expanded")?a.addClass("is-active").attr("aria-expanded","true").next().addClass("is-open").attr("aria-hidden","false"):a.removeClass("is-active").attr("aria-expanded","false").next().removeClass("is-open").attr("aria-hidden","true")}),o(".js-megaClose").on("click",function(){o(this).closest("[id]").removeClass("is-open").attr("aria-hidden",!0).prev().attr("aria-expanded",!1).focus()}),o(".js-searchClose").on("click",function(){o(this).closest("[id]").removeClass("is-open").attr("aria-hidden",!0).fadeOut(300).prev().attr("aria-expanded",!1).focus()}),o(".js-trigger[data-modal-trigger]").on("click",function(){var a=o(window).scrollTop(),e=o(this).data("modal-trigger"),t="#"+o(this).data("modal-target"),s=o(t);"open"==e?(s.attr("aria-modal","true").attr("role","dialog").addClass("is-open").fadeIn(300),o('[data-modal-trigger="close"]').focus(),o("body").css({height:"100%",overflow:"hidden"})):"close"==e&&(s.removeAttr("aria-modal").removeAttr("role").removeClass("is-open").fadeOut(300,function(){o('.js-trigger[data-modal-trigger="open"]').focus()}),o("body").css({height:"",overflow:""}),window.scrollTo(0,a))}),o('[data-modal-position="start"],[data-modal-position="end"]').on("focus",function(a){o('[data-modal-trigger="close"]').focus()}),o(".js-trigger").on("click",function(a){(e=o(this)).hasClass("js-trigger")&&e.hasClass("is-active")?s=(t=e).data("type"):e.hasClass("js-trigger")&&e.attr("data-modal-trigger")&&(i=1,t="")}),o(window).on("keyup",function(a){27===a.keyCode&&(""!==t?"search"==s?(t.removeClass("is-active").attr("aria-expanded",!1),t.next().removeClass("is-open").attr("aria-hidden",!0).fadeOut(300),t=""):"mega-down"!=s&&"pull"!=s||(t.removeClass("is-active").attr("aria-expanded",!1),t.next().removeClass("is-open").attr("aria-hidden",!0),t=""):""==t&&1==i&&(o("#main-menu").fadeOut(300),console.log(i),i=0))}),o(document).on("click",function(a){o(window).width();var e=o('.js-trigger[data-type="search"]'),t=e.parent(),s=o('.js-trigger[data-type="pull"]'),i=s.parent(),r=o('.js-trigger[data-type="mega-down"]'),n=r.parent();o(a.target).closest(t).length||e.removeClass("is-active").attr("aria-expanded","false").next().fadeOut(300,function(){e.removeClass("is-open").attr("aria-hidden","true")}),o(a.target).closest(i).length||s.removeClass("is-active").attr("aria-expanded","false").next().removeClass("is-open").attr("aria-hidden","true"),o(a.target).closest(n).length||r.removeClass("is-active").attr("aria-expanded","false").next().removeClass("is-open").attr("aria-hidden","true")});var r=o(".js-floating");o(window).on("scroll",function(){var a=o('header[role="banner"]').height();o(this).scrollTop()>a?r.addClass("is-show"):r.removeClass("is-show")});var a=navigator.userAgent,n=o('.js-trigger[data-type="acc"],.js-trigger[data-type="mega-down"],.js-trigger[data-type="pull"]');0<=a.indexOf("iPhone")||0<=a.indexOf("iPad")||0<=a.indexOf("Android")?(n.on("touchstart",function(){o(this).addClass("is-hover")}),n.on("touchend",function(){o(this).removeClass("is-hover")})):n.hover(function(){o(this).addClass("is-hover")},function(){o(this).removeClass("is-hover")}),o(function(){({init:function(){this.setParameters(),0===o("."+this.ACTIVE_CLASS_NAME).length&&this.applyStyle()},setParameters:function(){this.nav=o(".local-nav"),this.ACTIVE_CLASS_NAME="ln-active"},applyStyle:function(){var t={DOM:void 0,path:""};this.nav.find("a").each(function(a){var e=o(this).attr("href").split("#")[0].split("?")[0].replace(location.host,"").replace(/^https*:[\/]{2}/,"").replace("///","");0===location.pathname.indexOf(e)&&t.path.length<e.length&&(t={DOM:o(this),path:e})}),null!=t.DOM&&t.DOM.addClass(this.ACTIVE_CLASS_NAME)}}).init()})}(jQuery);