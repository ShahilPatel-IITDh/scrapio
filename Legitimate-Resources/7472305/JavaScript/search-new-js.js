var CludoSearch, EID = cludo_engineId, SEARCHURL = cludo_searchUrl, LANG = cludo_language; (CludoSearch = new Cludo({ customerId: 1962, engineId: EID, searchUrl: SEARCHURL, richAutocomplete: !0, enableRelatedSearches: !1, autocompleteMinimumQueryLength: 3, facets: ["Category", "Subcategory"], customerTemplate: "2023May", searchInputs: ["searchFormFull", "cludo-search-form", "#cludo-general-search"], loading: "<div class='loading' role='alert' aria-live='assertive'><img src='https://www.bankofengland.co.uk/assets/img/loader.svg' alt='' class='loading' role='progressbar' aria-busy='true' /><p class='loading-text'>Content loading</p></div>", language: LANG, translateSearchTemplates: !0, jumpToTopOnFacetClick: !1, customCallbackAfterSearch: function e() { setTimeout(function () { document.querySelectorAll(".search-results-item"); for (var e = document.querySelectorAll(".search-results-item span.path"), t = 0; t < e.length; t++)e[t].setAttribute("aria-hidden", "true") }, 100), setTimeout(function () { var e = document.getElementsByClassName("search-filter-header-mobile"), t = document.getElementsByClassName("search-filter-container"); if (window.innerWidth < 720 && e.length) { var a = e[0].querySelector("h2"); a.setAttribute("tabindex", "-1"), a.setAttribute("aria-expanded", !1), a.setAttribute("aria-controls", "cludo-item"), a.setAttribute("role", "button"), t[0].setAttribute("aria-hidden", !0), t[0].setAttribute("id", "cludo-item"), a.addEventListener("click", function () { var e = "false" === a.getAttribute("aria-expanded"); a.setAttribute("aria-expanded", e), t[0].setAttribute("aria-hidden", !e) }) } }, 100) }, customCallbackBeforeSearch: function () { setTimeout(function () { document.getElementById("search-count").focus() }, 100) } })).init(); var clearText = document.getElementById("clearInput"), inputField = document.getElementById("clu-q"); function clearInput() { CludoSearch.params.query = "", inputField.setAttribute("tabindex", "-1"), setTimeout(function () { document.querySelector("#clu-q").focus() }, 100), clearText.style.display = "none" } function inputLength() { inputField.value.length > 0 ? clearText.style.display = "block" : clearText.style.display = "none" } function goToFirstResult() { var e = document.getElementById("search-results").getElementsByTagName("li")[0], t = document.querySelectorAll(".search-results-item"); setTimeout(function () { e.focus() }, 100); for (var a = 0; a < t.length; a++)t[a].addEventListener("keyup", function (e) { var t = e.target.nextElementSibling, a = t.childNodes[1]; 40 === e.keyCode && (setTimeout(function () { e.preventDefault(), a.focus() }, 100), setTimeout(function () { a.blur(), t.focus() }, 300)) }) } function giveErrorIfEmpty() { var e = document.getElementById("clu-q").value, t = document.getElementById("search-error"); "" != e || (t.style.display = "block") } function removeErrorMessage(e) { var t = document.getElementById("clu-q").value, a = document.getElementById("search-error"), r = document.getElementById("searchBtn-nosearch"), l = document.getElementById("searchBtn"); "" != t ? (a.style.display = "none", l.style.display = "block", r.style.display = "none") : (l.style.display = "none", r.style.display = "block") } inputField && (clearText.addEventListener("keyup", function (e) { 13 === e.keyCode && (e.preventDefault(), clearInput()) }), clearText.addEventListener("click", clearInput), inputField.addEventListener("keyup", inputLength));