jQuery(function(d){function t(t,o,e){var a=parseInt(t.attr(o));return isNaN(a)?e:a}function l(t){return t.replace(/"/g,'\\"')}var f="woocombo-active",v="woocombo-disabled",o=d(".woocombo-container:first"),u=f,m=v,h=!1,b="form.variations_form",g=0,p=0;0<o.length&&(u=(u+" "+o.attr("data-class-active")).trim(),m=(m+" "+o.attr("data-class-disabled")).trim(),h="1"===o.attr("data-ignore-click-disabled"),b=o.attr("data-form-selector").trim(),g=t(o,"data-trigger-dropdown-reset",0),p=t(o,"data-delay-activation",0)),d(document).on("woocommerce_variation_has_changed",b,function(){d(this).find("select").each(function(){var t=d(this),o=t.parents(".woocombo-container:first");o.find(".woocombo-entity").removeClass(u+" "+m).addClass(m);var e=t.find("option:not(.disabled):selected").filter(function(){return 0!==this.value.length});if(1==e.length){var a=e.attr("value");a=l(a),o.find('.woocombo-entity[data-value="'+a+'"]').removeClass(m).addClass(u)}else t.find("option:not(.disabled)").each(function(){var t=d(this).attr("value");t=l(t),o.find('.woocombo-entity[data-value="'+t+'"]').removeClass(m)})})}),d(document).on("click",".woocombo-entity",function(t){var o=d(this),e=o.closest(b),a=o.parents(".woocombo-container:first").find("select");a.find("option:selected").prop("selected",!1);var n=o.hasClass(f),i=o.hasClass(v);if(i&&h)return t.preventDefault(),!1;var r=e.find(".woocombo-entity."+f);if(e.find(".woocombo-entity").removeClass(u),e.find(".woocombo-entity").removeClass(m),i)(0===g||2===g&&1<e.find(".woocombo-container").length)&&e.find(".variations select").val("").change(),o.hasClass(v)||(o.click(),r.each(function(){var t=d(this),o=t.parents(".woocombo-container:first").find("select");if(!o.is(a)){var e=t.attr("data-value");e=l(e),0<o.find('option[value="'+e+'"]:not(.disabled)').length&&t.click()}}));else{var s=o.attr("data-value");s=l(s);var c=a.find('option[value="'+s+'"]:not(.disabled)');!n&&0<c.length&&(o.addClass(u),c.prop("selected",!0)),0===p?a.change():setTimeout(function(){a.change()},p)}return t.preventDefault(),!1}),setTimeout(function(){var t=d(b);t.find(".variations select").each(function(){var t=d(this);t.trigger("focusin"),t.trigger("touchstart")}),t.each(function(){d(this).trigger("woocommerce_variation_has_changed")})},100)});
