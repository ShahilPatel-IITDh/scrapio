function openAppSettingTool(data){if(appSettingLoading||appSettingLoaded)appSettingLoading&&!appSettingLoaded?console.warn("Appointment Setting Tool - Loading please wait"):appSettingLoaded&&_openAppSettingTool(data);else{appSettingLoading=!0;var loader=Object.create(Loader),host=window.location.host,cssBasedOnDomain="";cssBasedOnDomain=host.indexOf("blockadvisors")>-1||host.indexOf("hrbscaletest")>-1?"assets/css/tools-app-setting-ba.css":"assets/css/tools-app-setting.css",loader.showOverlay(),loader.setContextPath(""),loader.setToolPath("appointment-setting/"),loader.setCssUrls(["assets/css/angular-calendar.css",cssBasedOnDomain,"assets/css/styles.css"]);var urls=["polyfills.js","scripts.js","main.js"];"object"==typeof google&&"object"==typeof google.maps?console.log("Appointment Setting Tool - Google Maps API  is already loaded."):urls.push("//maps.google.com/maps/api/js?libraries=places&client=gme-hrbtaxgroupinc1&channel=officelocator"),urls.push("//addevent.com/libs/atc/1.6.1/atc.min.js"),loader.setScriptUrls(urls),loader.cssLoader(function(){}),loader.scriptLoader(function(){polyfillJsLoaded=!0,loader.hideOverlay(),_openAppSettingTool(data),appSettingLoaded=!0,appSettingLoading=!1})}}function openProductSelectorTool(data){if(productSelectorLoading||productSelectorLoaded)productSelectorLoading&&!productSelectorLoaded?console.warn("Product Selector Tool - Loading please wait"):productSelectorLoaded&&_openProductSelectorTool(data);else{productSelectorLoading=!0;var loader=Object.create(Loader);loader.showOverlay(),loader.setContextPath(""),loader.setToolPath("product-selector/"),loader.setCssUrls(["assets/css/tools-product-selector.css","assets/css/styles.css"]),loader.setScriptUrls(["polyfills.js","scripts.js","main.js"]),loader.cssLoader(function(){}),loader.scriptLoader(function(){polyfillJsLoaded=!0,loader.hideOverlay(),_openProductSelectorTool(data),productSelectorLoaded=!0,productSelectorLoading=!1})}}function openW4Calculator(){if(W4Loading||W4Loaded)W4Loading&&!W4Loaded?console.warn("W4 Tool - Loading please wait"):W4Loaded&&_openW4Calculator();else{W4Loading=!0;var loader=Object.create(Loader);loader.showOverlay(),loader.setContextPath(""),loader.setToolPath("w4-calculator/"),loader.setCssUrls(["assets/css/w4-tool.css"]),loader.setScriptUrls(["rules.js","w4-pdf-generator.js","polyfills.js","main.js","scripts.js"]),loader.cssLoader(function(){}),loader.scriptLoader(function(){polyfillJsLoaded=!0,loader.hideOverlay(),_openW4Calculator(),W4Loaded=!0,W4Loading=!1})}}function openTaxCalculator(){if(TCLoading||TCLoaded)TCLoading&&!TCLoaded?console.warn("TaxCalculator Tool - Loading please wait"):TCLoaded&&_openTaxCalculator();else{TCLoading=!0;var loader=Object.create(Loader);loader.showOverlay(),loader.setContextPath(""),loader.setToolPath("tax-calculator/"),loader.setCssUrls(["assets/css/tools-tax-calculator.css","assets/css/styles.css"]),loader.setScriptUrls(["tc-client.js","polyfills.js","main.js","scripts.js"]),loader.cssLoader(function(){}),loader.scriptLoader(function(){polyfillJsLoaded=!0,loader.hideOverlay(),_openTaxCalculator(),TCLoaded=!0,TCLoading=!1})}}function openReferFriendTool(){if(referFriendLoading||referFriendLoaded)referFriendLoading&&!referFriendLoaded?console.warn("Refer a Friend Tool - Loading please wait"):referFriendLoaded&&_openReferFriendTool();else{referFriendLoading=!0;var loader=Object.create(Loader);loader.showOverlay(),loader.setContextPath(""),loader.setToolPath("refer-a-friend/"),loader.setCssUrls(["assets/css/tools-refer-friend.css","assets/css/styles.css"]),loader.setScriptUrls(["polyfills.js","scripts.js","main.js"]),loader.cssLoader(function(){}),loader.scriptLoader(function(){polyfillJsLoaded=!0,loader.hideOverlay(),_openReferFriendTool(),referFriendLoaded=!0,referFriendLoading=!1})}}function openEmeraldCardTool(){if(emeraldCardLoading||emeraldCardLoaded)emeraldCardLoading&&!emeraldCardLoaded?console.warn("Emerald Card Tool - Loading please wait"):emeraldCardLoaded&&_openEmeraldCardTool();else{emeraldCardLoading=!0;var loader=Object.create(Loader);loader.showOverlay(),loader.setContextPath(""),loader.setToolPath("emerald-card/"),loader.setCssUrls(["assets/css/tools-emerald-card.css","assets/css/styles.css"]),loader.setScriptUrls(["polyfills.js","scripts.js","main.js"]),loader.cssLoader(function(){}),loader.scriptLoader(function(){polyfillJsLoaded=!0,loader.hideOverlay(),_openEmeraldCardTool(),emeraldCardLoaded=!0,emeraldCardLoading=!1})}}function openTaxPrepChecklistTool(){if(TPCLLoading||TPCLLoaded)TPCLLoading&&!TPCLLoaded?console.warn("Tax Prep Checklist Tool - Loading please wait"):TPCLLoaded&&_openTaxPrepChecklistTool();else{TPCLLoading=!0;var loader=Object.create(Loader);loader.showOverlay(),loader.setContextPath(""),loader.setToolPath("tax-prep-checklist/"),loader.setCssUrls(["assets/css/tools-tax-prep-checklist.css"]),loader.setScriptUrls(["polyfills.js","scripts.js","main.js"]),loader.cssLoader(function(){}),loader.scriptLoader(function(){polyfillJsLoaded=!0,loader.hideOverlay(),_openTaxPrepChecklistTool(),TPCLLoaded=!0,TPCLLoading=!1})}}function openBATaxPrepChecklistTool(){if(BATPCLLoading||BATPCLLoaded)BATPCLLoading&&!BATPCLLoaded?console.warn("BA Tax Prep Checklist Tool - Loading please wait"):BATPCLLoaded&&_openBATaxPrepChecklistTool();else{BATPCLLoading=!0;var loader=Object.create(Loader);loader.showOverlay(),loader.setContextPath(""),loader.setToolPath("ba-tax-prep-checklist/"),loader.setCssUrls(["assets/css/tools-tax-prep-checklist-ba.css"]),loader.setScriptUrls(["polyfills.js","scripts.js","main.js"]),loader.cssLoader(function(){}),loader.scriptLoader(function(){polyfillJsLoaded=!0,loader.hideOverlay(),_openBATaxPrepChecklistTool(),BATPCLLoaded=!0,BATPCLLoading=!1})}}function openW2EarlyAccessTool(){if(w2EarlyAccessLoading||w2EarlyAccessLoaded)w2EarlyAccessLoading&&!w2EarlyAccessLoaded?console.warn("W2 Early Access Tool - Loading please wait"):w2EarlyAccessLoaded&&_openW2EATool();else{w2EarlyAccessLoading=!0;var loader=Object.create(Loader);loader.showOverlay(),loader.setContextPath(""),loader.setToolPath("w2-early-access/"),loader.setCssUrls(["assets/css/tools-w2-early-access.css","assets/css/styles.css"]),loader.setScriptUrls(["polyfills.js","scripts.js","main.js"]),loader.cssLoader(function(){}),loader.scriptLoader(function(){polyfillJsLoaded=!0,loader.hideOverlay(),_openW2EATool(),w2EarlyAccessLoaded=!0,w2EarlyAccessLoading=!1})}}function openExpatPricingTool(){if(expatPricingToolLoading||expatPricingToolLoaded)expatPricingToolLoading&&!expatPricingToolLoaded?console.warn("Expat Pricing Tool - Loading please wait"):expatPricingToolLoaded&&_openExpatPricingTool();else{expatPricingToolLoading=!0;var loader=Object.create(Loader);loader.showOverlay(),loader.setContextPath(""),loader.setToolPath("expat-pricing-tool/"),loader.setCssUrls(["assets/css/tool-expat-pricing.css"]),loader.setScriptUrls(["polyfills.js","scripts.js","main.js"]),loader.cssLoader(function(){}),loader.scriptLoader(function(){polyfillJsLoaded=!0,loader.hideOverlay(),_openExpatPricingTool(),expatPricingToolLoaded=!0,expatPricingToolLoading=!1})}}function openRAPreQualTool(){if(ralToolLoading||raToolLoaded)ralToolLoading&&!raToolLoaded?console.warn("RA Tool - Loading please wait"):raToolLoaded&&_openRAPreQualTool();else{ralToolLoading=!0;var loader=Object.create(Loader);loader.showOverlay(),loader.setContextPath(""),loader.setToolPath("refund-advance-prequal/"),loader.setCssUrls(["assets/css/tools-pre-qual.css"]),loader.setScriptUrls(["polyfills.js","scripts.js","main.js"]),loader.cssLoader(function(){}),loader.scriptLoader(function(){polyfillJsLoaded=!0,loader.hideOverlay(),_openRAPreQualTool(),raToolLoaded=!0,ralToolLoading=!1})}}function _getParameterByName(name,url){url||(url=window.location.href),name=name.replace(/[\[\]]/g,"\\$&");var regex=RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);return results?results[2]?decodeURIComponent(results[2].replace(/\+/g," ")):"":null}function _getParameterFromUrl(url){return url=document.location.origin+"/?app-method="+url,url===window.location.href?(window.location.replace(document.location.origin+"/w-4-calculator/?app-method="+_openW4MethodName),!0):window.location.search==="?app-method="+_openW4MethodName?!0:!1}var Loader={cssUrls:[],scriptUrls:[],damPath:"/content/dam/angular-tools/",contextPath:"",toolPath:"",counter:0,log:!1,setContextPath:function(contextPath){this.contextPath=contextPath},setToolPath:function(toolPath){this.toolPath=toolPath},setCssUrls:function(cssUrls){this.cssUrls=[];for(var index=0;cssUrls.length>index;index++)this.cssUrls.push(this.getContextCssUrl(cssUrls[index]));this.cssUrls.reverse(),this.counter=this.cssUrls.length},setScriptUrls:function(scriptUrls){this.scriptUrls=[];for(var index=0;scriptUrls.length>index;index++){var url=scriptUrls[index];url.indexOf("//")>-1?this.scriptUrls.push(scriptUrls[index]):this.scriptUrls.push(this.getContextScriptUrl(scriptUrls[index]))}this.scriptUrls.reverse(),this.counter=this.counter+this.scriptUrls.length},getContextCssUrl:function(css){return this.contextPath.concat(this.damPath).concat(this.toolPath).concat(css)},getContextScriptUrl:function(script){return this.contextPath.concat(this.damPath).concat(this.toolPath).concat(script)},getScript:function(scriptUrl,callback){var script=document.createElement("script");script.src=scriptUrl,script.onload=callback,document.body.appendChild(script)},getCss:function(cssUrl,callback){var head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.type="text/css",link.rel="stylesheet",head.appendChild(link),link.href=cssUrl,link.onload=callback},cssLoader:function(callback){try{if(this.cssUrls&&this.cssUrls.length>0){var css=this.cssUrls.pop(),that=this;css=css.concat("?ts="+(new Date).getTime()),this.log&&that.updateLoadingText(that.counter,css),this.getCss(css,function(){that.counter--,this.log&&(console.log("The css "+css+" load is done. Pending "+that.counter),that.updateLoadingText(that.counter,css)),that.cssLoader(callback)})}else this.log&&console.log("css url loading completed"),callback&&callback()}catch(e){console.error("script url loading failed : "+e)}},scriptLoader:function(callback){try{if(this.scriptUrls&&this.scriptUrls.length>0){var js=this.scriptUrls.pop();polyfillJsLoaded&&js.indexOf("polyfills-es5.js")>-1&&(js=this.scriptUrls.pop(),this.counter--);var that=this;js=js.concat("?ts="+(new Date).getTime()),this.log&&that.updateLoadingText(that.counter,js),this.getScript(js,function(){that.counter--,this.log&&(console.log("The script "+js+" load is done. Pending "+that.counter),that.updateLoadingText(that.counter,js)),that.scriptLoader(callback)})}else this.log&&console.log("script url loading completed"),callback&&callback()}catch(e){console.error("script url loading failed : "+e)}},showOverlay:function(){var style=document.createElement("style");style.type="text/css",style.appendChild(document.createTextNode("#tool-blocker {position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: 99999999;background: rgba(51, 51, 51, 0.8); }")),style.appendChild(document.createTextNode("#tool-blocker-overlay {display: block;position: relative;top: 50%;width: 75px;height: 75px;margin: 0 auto;border-radius: 50%;border: 3px solid transparent;border-top-color: #11a63d;-webkit-animation: spin 2s linear infinite; animation: spin 2s linear infinite;}")),style.appendChild(document.createTextNode('#tool-blocker-overlay:before {content: "";position: absolute;top: 5px;left: 5px;right: 5px;bottom: 5px;border-radius: 50%;border: 3px solid transparent;border-top-color: #11a63d;-webkit-animation: spin 3s linear infinite;animation: spin 3s linear infinite;}')),style.appendChild(document.createTextNode('#tool-blocker-overlay:after {content: "";position: absolute;top: 15px;left: 15px;right: 15px;bottom: 15px;border-radius: 50%;border: 3px solid transparent;border-top-color: #11a63d;-webkit-animation: spin 1.5s linear infinite;animation: spin 1.5s linear infinite;}'));var head=document.getElementsByTagName("head")[0];head.appendChild(style);try{style.sheet.insertRule("@keyframes spin {0%   { -webkit-transform: rotate(0deg);  -ms-transform: rotate(0deg); transform: rotate(0deg); }100% {-webkit-transform: rotate(360deg); -ms-transform: rotate(360deg);  transform: rotate(360deg); }}",style.length)}catch(e){console.error("spinner - "+e)}var divBlocker=document.createElement("div");divBlocker.id="tool-blocker";var divBlockerOverlay=document.createElement("div");divBlockerOverlay.id="tool-blocker-overlay";var divBlockerOverlayText=document.createElement("div");divBlockerOverlayText.id="tool-blocker-overlay-text",divBlockerOverlayText.innerHTML="",divBlockerOverlay.appendChild(divBlockerOverlayText),divBlocker.appendChild(divBlockerOverlay),document.body.appendChild(divBlocker),window.innerHeight+window.outerHeight},hideOverlay:function(){try{document.querySelector("#tool-blocker").style.display="none";var child=document.getElementById("tool-blocker");child.parentNode.removeChild(child)}catch(e){}},updateLoadingText:function(counter,url){document.querySelector("#tool-blocker-overlay-text").innerHTML="Please wait, loading the app <br>"+counter+" or more file(s) <br>"+url+" ..."}};polyfillJsLoaded=!1,appSettingLoaded=!1,appSettingLoading=!1,productSelectorLoaded=!1,productSelectorLoading=!1,W4Loaded=!1,W4Loading=!1,TCLoaded=!1,TCLoading=!1,referFriendLoaded=!1,referFriendLoading=!1,emeraldCardLoaded=!1,emeraldCardLoading=!1,TPCLLoaded=!1,TPCLLoading=!1,BATPCLLoaded=!1,BATPCLLoading=!1,w2EarlyAccessLoaded=!1,w2EarlyAccessLoading=!1,expatPricingToolLoaded=!1,expatPricingToolLoading=!1,raToolLoaded=!1,ralToolLoading=!1;var _method=_getParameterByName("app_method"),_filter=_getParameterByName("filter"),productFlows=["software-flow","digital-online-flow","office-digital-online-flow","office-flow"];setTimeout(function(){_method&&_filter?openAppSettingTool({method:_method,filter:_filter,initialPageLoadAnalytics:!1}):-1!=productFlows.indexOf(_method)?openProductSelectorTool(_method):_method&&openAppSettingTool({method:_method,initialPageLoadAnalytics:!1})},500);var _openW4MethodName="W4",_openW4URL=_getParameterFromUrl(_openW4MethodName);setTimeout(function(){_openW4URL&&openW4Calculator()},500);