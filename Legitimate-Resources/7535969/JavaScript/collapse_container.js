"use strict";exports.__esModule=!0,exports.onLoad=exports.init=void 0;var translate,containerAll=document.querySelectorAll(".cp_collapse-container"),parametroEvent={event:null,id:"0",collapseContainerItens:null};function init(){createFAQSchema(),createTranslate(),containerAll.forEach(function(e,t){var n="cp_collapse-container-"+t.toString(),r=t.toString();e.querySelectorAll(".collapse-button").forEach(function(e,t){e.setAttribute("id",r+"-collapse-item-button-"+t.toString()),e.setAttribute("aria-controls",r+"-collapse-item-button-"+t.toString())}),e.querySelectorAll(".collapse-content").forEach(function(e,t){e.setAttribute("id",r+"-collapse-control-"+t.toString())}),e.setAttribute("id",n),creatListener(n),"true"===e.getAttribute("see-more")&&hideCollapseItens(n)})}function createFAQSchema(){var e=document.createElement("script"),n=(e.setAttribute("type","application/ld+json"),[]),t=(containerAll.forEach(function(e,t){e=e.querySelectorAll(".collapse-container-item");Array.from(e).forEach(function(e,t){if(!e.querySelector(".collapse-button").textContent||!e.querySelector(".collapse-content").innerHTML)return!1;e={"@type":"Question",name:e.querySelector(".collapse-button").textContent.trim(),acceptedAnswer:{"@type":"Answer",text:e.querySelector(".collapse-content").innerHTML.trim()}};n.push(e)})}),{"@context":"https://schema.org","@type":"FAQPage",mainEntity:n});e.append(JSON.stringify(t)),document.head.append(e)}function hideCollapseItens(e){seeMore(null==(e=document.getElementById(e))?void 0:e.children)}function creatListener(r){var e,o=null==(e=document.getElementById(r))?void 0:e.children;Array.from(o).forEach(function(e,t){var n;null!=(n=e.firstElementChild)&&n.setAttribute("id",t+"-"+r),e.classList.contains("accordion-more")?(e.setAttribute("id",t+"-see-more-accordion-"+r),e.addEventListener("click",function(e){seeMore(o,e.target)})):e.addEventListener("click",function(e){handleCollapse(parametroEvent={id:r,event:e,collapseContainerItens:o})})})}function handleCollapse(e){var t=e.event.target.parentNode.nextElementSibling,n=e.event.target,r=[];if(Array.from(e.collapseContainerItens).filter(function(e){e.classList.contains("collapse-container-item")&&r.push(e.children[1])}),t.classList.contains("hide")){for(var o=0;o<r.length;o++){var a,s=r[o];s.classList.contains("hide")||(a=s.parentNode.querySelector(".collapse-button"),s.classList.add("hide"),s.setAttribute("aria-hidden","true"),a.setAttribute("aria-expanded","false"))}t.classList.remove("hide"),t.setAttribute("aria-hidden","false"),n.setAttribute("aria-expanded","true")}else t.classList.add("hide"),t.setAttribute("aria-hidden","true"),n.setAttribute("aria-expanded","false")}function seeMore(e,t){for(var n=[],r=translate.alertInfo,o=document.querySelector(".cp_alert-screen-reader"),a=5;a<e.length-1;a++)e[a].classList.contains("showCollapsed")?(e[a].classList.remove("showCollapsed"),t&&t.innerText==="".concat(translate.showMore)&&(t.innerText="".concat(translate.showLess),o.innerHTML=r,o.setAttribute("aria-hidden","false"),t.setAttribute("aria-label","".concat(translate.showLess)),setTimeout(function(){r="",o.innerHTML="",o.setAttribute("aria-hidden","true")},100))):(e[a].classList.add("showCollapsed"),t&&t.innerText==="".concat(translate.showLess)&&(t.innerText="".concat(translate.showMore),o.setAttribute("aria-hidden","true"),t.setAttribute("aria-label","".concat(translate.showMore)),o.innerHTML="",setTimeout(function(){r="",o.innerHTML="",o.setAttribute("aria-hidden","true")},100))),n.push(e[a])}function createTranslate(){var e=document.getElementsByTagName("html")[0].getAttribute("lang");e&&"pt-br"==e.toLocaleLowerCase()?translate={showMore:"ver mais",showLess:"ver menos",alertInfo:"Alerta: novos itens foram exibidos antes deste botão."}:e&&"en"==e.toLocaleLowerCase()?translate={showMore:"show more",showLess:"show less",alertInfo:"Alert: new items were displayed before this button."}:e&&"es"==e.toLocaleLowerCase()&&(translate={showMore:"ver más",showLess:"ver menos",alertInfo:"Alerta: antes de este botón se mostraban nuevos elementos."})}function onLoad(){init()}exports.init=init,exports.onLoad=onLoad,document.addEventListener("DOMContentLoaded",onLoad);