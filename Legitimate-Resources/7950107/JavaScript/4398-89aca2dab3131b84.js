"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4398,1119],{35593:function(e,t,n){n.r(t),n.d(t,{AddToCartButtonForProductContext:function(){return p}});var o=n(59499),r=n(85893),l=n(67294),i=n(60217),a=n(81982),d=n(93041),c=n(89175);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let p=e=>{let t=(0,i.Ao)(e=>e),n=(0,i.ct)(e=>e),{customGiftCardAmount:o}=(0,c.S)(),s="Custom value"===o?a.TX.DISABLE_WITH_CORRECT_BUTTON_TYPE:e.overrideBehavior,p=(0,i.MN)(),m=null!=p?p:null==t?void 0:t.tcin,v=(0,l.useMemo)(()=>u(u({},n),{},{children:void 0,parent:void 0}),[n]),h=(0,l.useMemo)(()=>u(u({},t),{},{parent:v,tcin:m}),[t,v,m]);return m?(0,r.jsx)(d.a,u(u({childOrStandaloneProduct:h,tcin:m},e),{},{overrideBehavior:s})):null};p.displayName="AddToCartButtonForProductContext"},85393:function(e,t,n){n.d(t,{Dm:function(){return d},VB:function(){return l},Wk:function(){return c},YE:function(){return a},fr:function(){return r},k2:function(){return i},t_:function(){return o}});let o=e=>null==e?void 0:e.recommended_products,r=e=>null==e?void 0:e.recommended_products,l=e=>null==e?void 0:e.products,i=e=>null==e?void 0:e.strategy_description,a=e=>null==e?void 0:e.strategy_name,d=e=>null==e?void 0:e.strategy_id,c=e=>{var t,n;let o=null!==(t=null==e?void 0:e.products)&&void 0!==t?t:[],r=null==o?void 0:o.map(e=>{var t;return{placementType:"recommendations",tcin:null!==(t=null==e?void 0:e.tcin)&&void 0!==t?t:""}}),l={guest:{eventType:"recommendations"},products:r,recommendations:{docType:null!==(n=null==e?void 0:e.doctype)&&void 0!==n?n:"",placementId:null==e?void 0:e.strategy_id,strategyDescription:null==e?void 0:e.strategy_description,strategyId:null==e?void 0:e.strategy_id,strategyName:null==e?void 0:e.strategy_name,type:"product"}};return l}},69390:function(e,t,n){n.d(t,{Ql:function(){return h}});var o=n(59499),r=n(44350),l=n(25682),i=n(61464),a=n(47269),d=n(27139),c=n(11637),s=n(56276);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}let p="@web/domain-promotions/get-recommended-promotions-v1",m=["page","placement_id","pricing_store_id","visitor_id"],{useQuery:v}=(0,l.J)({name:p,keyFn:e=>(m.forEach(t=>{if(!e[t])throw Error(`Required \`${t}\` was missing from query: \`${p}\``)}),[p,e]),queryFn:async(e,t)=>{var n;let l=await (0,d.W)(),{apiKey:c,apis:{promotions:s},baseUrl:p}=(0,r.config)().services.redskyAggregations,{barcode_id:m,category_id:v,channel:h="WEB",fulfillment_types:g,loyalty_id:f,member_id:y,offer_id:b,page:_,placement_id:x,plan_id:j,pricing_store_id:P,purchasable_store_ids:k,slingshot_component_id:O,tcins:w,visitor_id:T,page_token:C}=null!=e?e:{},N=a.Z.buildURLWithParams(new URL(s.endpointPaths.getRecommendedPromotionsV1,p),{barcode_id:m,category_id:v,channel:h,effective_date:l,fulfillment_types:g,loyalty_id:f,member_id:y,offer_id:b,page:_,placement_id:x,plan_id:j,pricing_store_id:P,purchasable_store_ids:k,slingshot_component_id:O,tcins:w,visitor_id:T,page_token:C,key:c}),{data:I,ok:E,statusText:S}=await (0,i.G)(N,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({partialErrorTag:"get_recommended_promotions_v1_error_partial",errorTag:"get_recommended_promotions_v1_error",timerTag:"get_recommended_promotions_v1_call"},t));if(E)return null!==(n=null==I?void 0:I.data)&&void 0!==n?n:null;throw Error(`${S}`)},defaultOptions:{staleTime:s.e}}),h=(0,c.p)(v)},39271:function(e,t,n){n.d(t,{F5:function(){return o},hc:function(){return r}});let o=e=>null==e?void 0:e.promotion_id,r=e=>null==e?void 0:e.image_url},83047:function(e,t,n){n.d(t,{B6:function(){return l},CV:function(){return d},LA:function(){return a},NT:function(){return c},cF:function(){return i},pA:function(){return r},yl:function(){return o}});let o=e=>null==e?void 0:e.recommended_promotions,r=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.strategy_description},l=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.placement_id},i=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.doctype},a=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.strategy_id},d=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.strategy_name},c=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.promotions}},54398:function(e,t,n){n.r(t),n.d(t,{PersonalizationCarousel:function(){return e3}});var o=n(59499),r=n(85893),l=n(238),i=n(96026),a=n.n(i),d=n(41609),c=n.n(d),s=n(67294),u=n(53463),p=n(96722),m=n(39788),v=n(12652),h=n(43430),g=n(46879),f=n(40424),y=n(85393),b=n(60217),_=n(18617),x=n(42850),j=n(32657),P=n(11163),k=n(80367),O=n(35281),w=n(27041);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}let C=(e,t)=>{if(!e)return{};let{category_id:n,doctype:o,placement_id:r,strategy_description:l,strategy_id:i,strategy_name:a,products:d=[]}=e;return{recommendations:{categoryId:n,docType:o,placementId:r,strategyDescription:l,strategyId:i,strategyName:a,type:"product"},components:[{component:t,type:"components"}],products:d.map(({tcin:e})=>({placementType:"recommendations",tcin:e}))}},N=(e,t)=>(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e})({guest:{eventType:"recommendations"}},C(e,t)),I=(e,t)=>{if(null!=t)return e[t]},E=(e,t)=>{let n=t.currentTarget?t.currentTarget.dataset.index:"",o=I(e,Number(n));if(null!=o&&o.sponsoredTrackingData){let{ad_source:e,click_id:t,click_token:n}=o.sponsoredTrackingData;return{customInteraction:{value:`${t}|${n}`},products:[{tcin:o.tcin,sponsor:{name:e}}],guest:{eventType:"customInteraction"}}}return{}},S=e=>{var t;let n=null==e?void 0:null===(t=e.products)||void 0===t?void 0:t.filter(e=>"sponsored_ad"in e);return n.length<=0?{}:{guest:{eventType:"adimp"},adImpressions:null==n?void 0:n.map(e=>({creativeId:e.sponsored_ad?e.sponsored_ad.impression_id:"",lineItemId:e.tcin,orderId:"",slotSize:"",xApiId:"",sponsor:{name:e.sponsored_ad?e.sponsored_ad.ad_source:""}}))}},D=(e,t)=>{var n,o,r;let l=null!==(n=null==e?void 0:null===(o=e.components)||void 0===o?void 0:o[0])&&void 0!==n?n:{};return{name:null!==(r=null==l?void 0:l.title)&&void 0!==r?r:null==l?void 0:l.id,position:String(t),component:null!=l&&l.title?`${null==l?void 0:l.id} || ${null==l?void 0:l.title}`:null==l?void 0:l.id,componentType:null==l?void 0:l.type_name,contentType:null==l?void 0:l.content_type}};var A=n(8668);let z=(e=[])=>e.map(e=>{let t=(0,A.hg)(e),n=(0,_.TV)(e);return{tcin:t,sponsoredTrackingData:n,id:t}});var B=n(90945),F=n(37586),$=n(48496),Z=n(35593),R=n(81982),L=n(72604),W=n(44350),H=n(77041),M=n(36786),V=n(30497),Y=n(30695),U=n(60390),q=n(33460),G=n(45597),K=n(85702),X=n(66069);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let ee=({product:e,handleAddToCartClick:t,handleAddToRegistryClick:n,handleItemClick:o,useBorder:l,callToAction:i,index:a,trackingPayload:d,metadata:c})=>{var u,p,m;let{tcin:v}=e,h="add_to_cart"===i&&(0,W.flags)("PRZ_ITEM_CAROUSEL_ADD_TO_CART_ENABLED"),g=(0,b.ct)(F.Mw),f=(0,b.ct)(F.jz),y=(0,$.T)(),_=(0,H.u)(),x=(0,s.useMemo)(()=>({recClick:Q({position:a,productId:v,type:"product"},d)}),[a,v,d]),j=(0,s.useCallback)(e=>Q(Q({},e),{},{lnk:Q(Q({},e.lnk),{},{recClick:Q(Q({},d),{},{position:a,productId:v})})}),[a,v,d]);return(0,r.jsx)(G.Y,{position:a,source:v,sourceParent:null==c?void 0:null===(u=c.components)||void 0===u?void 0:null===(p=u[0])||void 0===p?void 0:p.id,tracking:["clicks","impressions"],treatmentId:null==c?void 0:null===(m=c.treatment)||void 0===m?void 0:m.id,children:(0,r.jsxs)(K.a4,{"data-test":`item-card-${v}`,useBorder:l,children:[(0,r.jsxs)(X.Fg,{"data-index":v,"data-test":"item-link",href:g,onClick:o,style:{color:"#333",flex:"1 0 auto",width:"100%"},underline:"invert",children:[(0,r.jsx)(K.Vt,{alt:y,src:f}),(0,r.jsxs)(K.Mv,{children:[(0,r.jsx)(U.S,{showPdpPromoMessage:!0,textAlignment:"left"}),(0,r.jsx)(B.k,{className:"h-text-md h-hidden-md-up h-margin-t-tiny","data-test":"product-title-sm",lines:3,children:y}),(0,r.jsx)(B.k,{className:"h-text-md h-hidden-sm-down h-margin-t-tiny","data-test":"product-title-md-lg",lines:2,children:y})]})]}),"add_to_registry"===i?(0,r.jsx)(K.W4,{onClick:n,children:(0,r.jsx)(q.E,{buttonSize:"sm",isInPrzCarousel:!0,lnkData:x,showPlpVersionButton:!0})}):h?(0,r.jsx)(K.W4,{onClick:t,children:(0,r.jsx)(Z.AddToCartButtonForProductContext,{"aria-label":`Add ${y} to Cart`,handleOverridingOrAddingTrackingFieldsToAddToCartSuccess:j,isFullWidth:!0,overrideBehavior:R.TX.ENABLE_CHOOSE_OPTIONS_ONLY_MODE,placementType:L.bo.SlingshotCarousel,size:"sm"})}):_?(0,r.jsx)(K.W4,{children:(0,r.jsx)(M.M,{placement:V.d7.PLP_PRZ})}):null]})})};ee.displayName="ProductsTile";var et=(0,Y.R)({tag:"error_boundary_prz_carousel_products_tile"})(ee),en=n(56947);let eo="@web/SlingshotComponents/ProductsCarousel";en.colors.palette.gray.darkest,en.colors.palette.white;var er=n(58979),el=n(19521);let ei=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__PlaceholderWrapper",componentId:"sc-f6s8vj-0"})(["margin:",";width:calc(100% - ",");min-width:110px;"],en.space.generic.x1,en.space.generic.x2),ea=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__ImagePlaceholderWrapper",componentId:"sc-f6s8vj-1"})(["width:100%;min-width:117px;"]),ed=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__ImagePlaceholder",componentId:"sc-f6s8vj-2"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:100%;padding-bottom:100%;background:#c4c4c4;}"]),ec=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__TitlePlaceholder",componentId:"sc-f6s8vj-3"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:50%;height:1em;background:",";margin-top:0.25em;margin-bottom:0.4em;}"],en.colors.palette.gray.darkest),es=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__TextPlaceholder",componentId:"sc-f6s8vj-4"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:90%;height:1em;background:#c4c4c4;margin-bottom:0.25em;}&::after{content:' ';display:block;width:80%;height:1em;background:#c4c4c4;margin-bottom:0.4em;}"]),eu=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__BottomTextPlaceholder",componentId:"sc-f6s8vj-5"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:70%;height:1em;background:#c4c4c4;margin-bottom:0.4em;}"]);function ep({useBorder:e}){return(0,r.jsxs)(K.a4,{"data-test":"@web/SiteTopOfFunnel/ProductsTilePlaceholder",useBorder:e,children:[(0,r.jsx)(ea,{children:(0,r.jsx)(ed,{})}),(0,r.jsxs)(ei,{children:[(0,r.jsx)(ec,{}),(0,r.jsx)(es,{}),(0,r.jsx)(eu,{})]})]})}ep.displayName="ProductsTilePlaceholder";var em=n(81316),ev=n(69686),eh=n(17367),eg=n(13347),ef=n(2181),ey=n(99093);let eb=()=>{let{trackEvent:e}=(0,h.rS)(),t=()=>e({guest:{eventType:"componentload"},lnk:{contentClick:{component:"SignInButton",componentType:"Button",linkName:"SignInButton"}}}),n=()=>e({guest:{eventType:"click"},lnk:{contentClick:{component:"CircleOptinButton",componentType:"Button",linkName:"CircleOptinButton"}}});return{trackSignInClick:t,trackCircleOptinClick:n}},e_=()=>{let{trackSignInClick:e}=eb(),t=(0,s.useCallback)(t=>{null==t||t.preventDefault(),e(),(0,eg.zB)()},[e]),{screenMd:n}=(0,p.l)(),o=!n;return(0,r.jsxs)(K.l1,{"data-test":"deals-top-items-sign-in",children:[(0,r.jsxs)(K.Bp,{children:[(0,r.jsx)(ef.t,{alt:"",className:o?"":"h-margin-h-x2",height:"118px",src:"https://target.scene7.com/is/content/Target/GUEST_b35e1251-ed27-4fdb-b18b-66cef3463e86"}),(0,r.jsxs)("span",{className:o?"h-text-bold h-text-md":"h-text-bold h-text-md h-margin-t-tight",children:["Save on your popular items",(0,r.jsx)("span",{className:"h-display-block",children:" from this deal"})]}),(0,r.jsx)("span",{className:"h-text-sm h-padding-v-tiny",children:"Add items to cart with a tap. Plus discover even more items we think youâ€™ll love!"})]}),(0,r.jsx)(ey.D,{isFullWidth:!0,onClick:t,size:"sm",type:"button",children:"Sign in"})]})};e_.displayName="SignInTile";let ex=(0,Y.R)({tag:"error_boundary_deals_hub_top_items_sign_in"})(e_);function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let ek=e=>"standard"===e?"default":e;function eO({content:e,metadata:t,options:n,order:o}){var l,i,d,T,C,I,A;let B=(0,g.xd)(),{isBot:F}=(0,s.useContext)(u.I.Context),{background_color:$,endcap:Z,margin_bottom:R,text_color:L,custom_headline:W}=null!=e?e:{},{fullWidth:H=!1,isDPLPCarousel:M=!1}=null!=n?n:{},V=null!==(l=null!==(i=null==Z?void 0:Z.background_color)&&void 0!==i?i:$)&&void 0!==l?l:"",Y=null!==(d=null!=L?L:null==Z?void 0:Z.text_color)&&void 0!==d?d:"",U=(0,h.rS)(),{asPath:q}=(0,P.useRouter)(),G=(0,j.ew)(q),K=!$||"white"===$||"#FFFFFF"===$,{screenMd:J}=(0,p.l)(),Q=(0,k.X)(),ee=(0,O.Y)(q),en=(0,w.Y)(),el=en(e=>{var t;return null==e?void 0:null===(t=e.metadata)||void 0===t?void 0:t["x-api-id"]}),[ei,ea]=(0,f.q)({placement_id:null==e?void 0:e.placement_id,category_id:null==e?void 0:e.category_id,brand_ids:null==e?void 0:e.brand_ids,offer_id:null==e?void 0:e.offer_id,fulfillment_types:null==e?void 0:e.fulfillment_types,slingshot_component_id:null==t?void 0:null===(T=t.components)||void 0===T?void 0:null===(C=T[0])||void 0===C?void 0:C.id,resolve_to_first_variation_child:"/c/0cb2f"===G,facet_ids:null==e?void 0:e.facet_ids}),ed=ea.isIdle||ea.isFetching||ea.isLoading,ec=null==t?void 0:null===(I=t.components)||void 0===I?void 0:null===(A=I[0])||void 0===A?void 0:A.id,es=ei(y.fr),eu=ee?null!=W?W:"Headline placeholder":ed?(0,r.jsx)("span",{children:"\xa0"}):null!=W?W:"Headline placeholder";(0,s.useEffect)(()=>{es&&(U&&U.trackEvent(N(es,ec)),U&&U.trackEvent(S(es)))},[es,U,ec]);let eg=(0,y.VB)(es),ef=(0,y.k2)(es),ey=(0,y.Dm)(es),eb=(0,y.YE)(es),e_=z(eg),ej={strategyId:ey,strategyName:eb},eO=(0,b.Ao)(_.$y),ew=(0,s.useCallback)((n,r)=>l=>{let i=D(t,o);eO?(U.trackEvent(E(e_,l)),U.trackEvent({event:{name:"openNewPage",source:`product ad | ${null==e?void 0:e.placement_id} | ${n}`,type:"click"},guest:{eventType:"click"},products:[{tcin:r}]})):(0,h.OK)({recClick:{position:n,productId:r,strategyId:ey,strategyName:eb,type:"product"},contentClick:i})},[null==e?void 0:e.placement_id,eO,ey,eb,U,e_,t,o]),eT=(0,s.useCallback)(e=>{var n,o;let r=e.target===e.currentTarget,l=e.currentTarget.contains(e.target);(r||l)&&U.trackEvent((0,eh.P)({name:"addToRegistry",source:null==t?void 0:null===(n=t.components)||void 0===n?void 0:null===(o=n[0])||void 0===o?void 0:o.id,type:"click"},{eventType:"click"},{xApiId:el,relationship:"components"}))},[t,U,el]),eC=(0,s.useCallback)(e=>{var n,o;let r=e.target===e.currentTarget,l=e.currentTarget.contains(e.target);(r||l)&&U.trackEvent((0,eh.P)({name:"addToCart",source:null==t?void 0:null===(n=t.components)||void 0===n?void 0:null===(o=n[0])||void 0===o?void 0:o.id,type:"click"},{eventType:"click"},{xApiId:el,relationship:"components"}))},[t,U,el]),eN=!!(null!=e&&e.placement_id)&&!!(null!=eg&&eg.length),eI=c()(Z)?null:(0,r.jsx)(er.e,eP(eP({},Z),{},{background_color:V,headline:ef&&eN?ef:Q?ee?null!=W?W:"Headline placeholder":ed?void 0:null!=W?W:"Headline placeholder":"",text_color:Y})),eE=J?eI:null,eS=J?null:eI,eD=a()(10).map(e=>(0,r.jsx)(ev.P,{},e)),eA=a()(10).map(e=>(0,r.jsx)(ep,{useBorder:K},e)),ez=Z?null:(0,r.jsx)(X.JU,{background_color:V||$,className:"l-container l-container-standard h-padding-a-x2",text_color:Y,children:(0,r.jsx)(m.w,{className:"h-margin-b-none h-margin-t-x2",level:2,size:1,style:{color:"inherit"},children:ef&&eN?ef:Q?eu:ed?(0,r.jsx)("span",{children:"\xa0"}):""})});return F&&!eN?null:Q?(0,r.jsxs)("div",{"aria-label":"Carousel",className:`l-container ${H?"":"l-container-standard"}`,"data-test":eo,role:"region",children:[ez,(0,r.jsxs)(X.TZ,{backgroundColor:null==e?void 0:e.background_color,className:`${R?`h-margin-b-${ek(R)}`:""}`,"data-test":"filmstrip-products-carousel",extraPadding:!!(null!=e&&e.background_color)&&!eE&&J,children:[eS,(0,r.jsxs)(v.T,{children:[eE,M&&!B&&!ed&&(0,r.jsx)(ex,{}),c()(eg)?ed?ee?eA:eD:eA:null==eg?void 0:eg.map((n,o)=>{var l;return(0,r.jsx)(x.d,{debugName:"PersonalizationCarouselWithProducts",queryResult:ea,value:eP({},n),children:(0,r.jsx)(et,{callToAction:null==e?void 0:null===(l=e.container)||void 0===l?void 0:l.callToAction,handleAddToCartClick:eC,handleAddToRegistryClick:eT,handleItemClick:ew(o,null==n?void 0:n.tcin),index:o,metadata:t,product:n,trackingPayload:ej,useBorder:K})},`product-${o}`)})]})]})]}):(0,r.jsx)(em.p,{controlled:!0,noAnimation:ed||eN,open:ed||eN,variant:"bare",children:(0,r.jsxs)("div",{"aria-label":"Carousel",className:`l-container ${H?"":"l-container-standard"}`,"data-test":eo,role:"region",children:[ez,(0,r.jsxs)(X.TZ,{backgroundColor:null==e?void 0:e.background_color,className:`${R?`h-margin-b-${ek(R)}`:""}`,"data-test":"filmstrip-products-carousel",extraPadding:!!(null!=e&&e.background_color)&&!eE&&J,children:[eS,(0,r.jsxs)(v.T,{children:[eE,M&&!B&&!ed&&(0,r.jsx)(ex,{}),eN?eg.map((n,o)=>{var l;return(0,r.jsx)(x.d,{debugName:"PersonalizationCarouselWithProducts",queryResult:ea,value:eP({},n),children:(0,r.jsx)(et,{callToAction:null==e?void 0:null===(l=e.container)||void 0===l?void 0:l.callToAction,handleAddToCartClick:eC,handleAddToRegistryClick:eT,handleItemClick:ew(o,null==n?void 0:n.tcin),index:o,metadata:t,product:n,trackingPayload:ej,useBorder:K})},`product-${o}`)}):eD]})]})]})})}eO.displayName="ProductsCarousel";var ew=n(23258),eT=n(69390),eC=n(39271),eN=n(83047);let eI="@web/SlingshotComponents/PromotionsCarousel",eE=(e,t)=>({guest:{eventType:"click"},offerInfo:{offers:[{offerId:(0,eC.F5)(t[Number.parseInt(e,10)]),offerPosition:e,offerSelected:!0,offerType:"promo"}]}}),eS=(e,t,n)=>{if(!e.length)return{};let o=e.map((e,t)=>({offerId:e.promotion_id,offerPosition:String(t),offerType:"promo"}));return{offers:o,strategyId:t,strategyName:n}},eD=(e,t)=>{if(!e)return{};let{doctype:n,placement_id:o,strategy_description:r,strategy_id:l,strategy_name:i,promotions:a=[]}=e;return{guest:{eventType:"recommendations"},recommendations:{docType:n,placementId:o,strategyDescription:r,strategyId:l,strategyName:i,type:"promo"},components:[{component:t,type:"components"}],products:a.map(({promotion_id:e})=>({placementType:"recommendations",tcin:e})),offerInfo:eS(a,l,i)}},eA=(e,t)=>{var n,o,r;let l=null!==(n=null==e?void 0:null===(o=e.components)||void 0===o?void 0:o[0])&&void 0!==n?n:{};return{name:null!==(r=null==l?void 0:l.title)&&void 0!==r?r:null==l?void 0:l.id,position:String(t),component:null!=l&&l.title?`${null==l?void 0:l.id} || ${null==l?void 0:l.title}`:null==l?void 0:l.id,componentType:null==l?void 0:l.type_name,contentType:null==l?void 0:l.content_type}};var ez=n(22235);let eB=({item:e,index:t,handleRecItemClick:n,useBorder:o,metadata:l})=>{var i,a,d;let{pdp_message:c,messaging:s}=null!=e?e:{},{short_description:u,title:p,subtitle:m}=null!=s?s:{},v=(0,eC.F5)(e),h=null!=c?c:`${null!=u?u:""} ${null!=p?p:""} ${null!=m?m:""}`;return(0,r.jsx)(G.Y,{position:t,source:v,sourceParent:null==l?void 0:null===(i=l.components)||void 0===i?void 0:null===(a=i[0])||void 0===a?void 0:a.id,tracking:["clicks","impressions"],treatmentId:null==l?void 0:null===(d=l.treatment)||void 0===d?void 0:d.id,children:(0,r.jsxs)(K.a4,{"data-test":`item-card-${t}`,useBorder:o,children:[(0,r.jsxs)(X.Fg,{"aria-label":h,"data-index":t,"data-test":"deal-link",href:`/pl/${v}?link=prz_top_deals_`,onClick:n,style:{flex:"1 0 auto",color:"#333"},underline:"invert",children:[(0,r.jsx)(K.Vt,{alt:"",src:(0,eC.hc)(e)}),(0,r.jsxs)(K.Mv,{children:[!!s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.k,{className:"h-text-red h-text-bold h-text-md","data-test":"pbo-short-desc",lines:1,children:u}),(0,r.jsx)(B.k,{className:"h-text-bold h-text-md","data-test":"pbo-title",lines:2,children:p}),(0,r.jsx)(B.k,{className:"h-text-md h-hidden-md-up","data-test":"pbo-sub-sm",lines:3,children:m}),(0,r.jsx)(B.k,{className:"h-text-md h-hidden-sm-down","data-test":"pbo-sub-md-lg",lines:2,children:m})]}),!!c&&(0,r.jsx)(B.k,{className:"h-text-red h-text-bold h-text-md","data-test":"basket-offers-message",lines:3,children:c})]})]}),(0,r.jsx)(K.W4,{children:(0,r.jsx)(ez.P,{"aria-label":`Shop offer ${h}`,"data-index":t,"data-test":"deals-item-link",href:`/pl/${v}?link=prz_top_deals_`,isFullWidth:!0,onClick:n,role:"button",size:"sm",children:"Shop offer"})})]})})};eB.displayName="PromotionTile";var eF=(0,Y.R)({tag:"error_boundary_prz_carousel_promotion_tile"})(eB),e$=n(86820),eZ=n(50411);let eR=el.ZP.div.attrs({className:"h-padding-h-tight"}).withConfig({displayName:"styles__StyledTextContainer",componentId:"sc-s1bnkt-0"})(["width:100%;h3{line-height:",";font-size:15px;@media (min-width:","){font-size:13px;}@media (min-width:","){font-size:15px;}}"],en.font.lineHeight.heading,en.breakpoints.lg,en.breakpoints.xl),eL=el.ZP.div.withConfig({displayName:"styles__StyledGlobalLinkWrapper",componentId:"sc-s1bnkt-1"})(["display:flex;position:relative;background:",";max-width:175px;padding:",";margin:",";text-align:center;width:100%;align-items:center;&::before{content:'';display:block;}"],en.colors.palette.white,en.space.generic.x3,en.space.generic.x2),eW=(0,el.ZP)(eZ.F).withConfig({displayName:"styles__StyledGlobalLink",componentId:"sc-s1bnkt-2"})(["width:100%;display:flex;align-items:center;min-height:66px;"]),eH=({global_link:e})=>{if(!e)return null;let{link_name:t="",link_tag:n,link_url:o}=e;return(0,r.jsx)(eL,{children:(0,r.jsx)(eW,{"data-lnk":n,href:o,children:(0,r.jsx)(eR,{children:(0,r.jsx)(m.w,{className:"h-margin-b-none",innerHTML:t,level:3,size:3})})})})};eH.displayName="GlobalLink";let eM=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__PlaceholderWrapper",componentId:"sc-1hj3rw-0"})(["margin:",";width:calc(100% - ",");min-width:110px;"],en.space.generic.x1,en.space.generic.x2),eV=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__ImagePlaceholderWrapper",componentId:"sc-1hj3rw-1"})(["width:100%;min-width:117px;"]),eY=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__ImagePlaceholder",componentId:"sc-1hj3rw-2"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:100%;padding-bottom:100%;background:#c4c4c4;}"]),eU=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__TitlePlaceholder",componentId:"sc-1hj3rw-3"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:50%;height:1em;background:",";margin-top:0.25em;margin-bottom:0.4em;}"],en.colors.palette.red.default),eq=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__TextPlaceholder",componentId:"sc-1hj3rw-4"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:90%;height:1em;background:#c4c4c4;margin-bottom:0.25em;}&::after{content:' ';display:block;width:80%;height:1em;background:#c4c4c4;margin-bottom:0.4em;}"]),eG=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__BottomTextPlaceholder",componentId:"sc-1hj3rw-5"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:70%;height:1em;background:#c4c4c4;margin-bottom:0.4em;}"]);function eK({useBorder:e}){return(0,r.jsxs)(K.a4,{"data-test":"@web/SiteTopOfFunnel/PromotionTilePlaceholder",useBorder:e,children:[(0,r.jsx)(eV,{children:(0,r.jsx)(eY,{})}),(0,r.jsxs)(eM,{children:[(0,r.jsx)(eU,{}),(0,r.jsx)(eq,{}),(0,r.jsx)(eG,{})]})]})}function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function eJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}eK.displayName="PromotionTilePlaceholder";let eQ=e=>"standard"===e?"default":e,e0=({content:e,options:t,metadata:n,order:o})=>{var l,i,d,g,f;let{placement_id:y,offer_id:b,endcap:_,global_link:x,background_color:j,margin_bottom:w,category_id:T,text_color:C,fulfillment_types:N,slingshot_component_id:I,custom_headline:E}=null!=e?e:{},{fullWidth:S=!1}=null!=t?t:{},{background_color:D,headline:A,image:z}=null!=_?_:{},B=!j||"white"===j||"#FFFFFF"===j,{trackEvent:F}=(0,h.rS)(),{screenMd:$}=(0,p.l)(),{isBot:Z}=(0,s.useContext)(u.I.Context),[R,L]=(0,eT.Ql)({category_id:T,offer_id:b,placement_id:null!=y?y:"promotions_component_tester",fulfillment_types:N,slingshot_component_id:I}),W=L.isIdle||L.isFetching||L.isLoading,H=R(eN.yl),M=(0,s.useMemo)(()=>{var e;return null!==(e=R(eN.NT))&&void 0!==e?e:[]},[R]),V=R(eN.LA),Y=R(eN.CV),U=R(eN.pA),q=null!=U?U:A,G=(null!==(l=null==M?void 0:M.length)&&void 0!==l?l:0)>0,K=(null==n?void 0:null===(i=n.components)||void 0===i?void 0:null===(d=i[0])||void 0===d?void 0:null===(g=d.type_name)||void 0===g?void 0:g.toLocaleLowerCase())==="item or promotion carousel",J=(0,k.X)(),{asPath:Q}=(0,P.useRouter)(),ee=(0,O.Y)(Q),et=ee?null!=E?E:"Headline placeholder":W?(0,r.jsx)("span",{children:"\xa0"}):null!=E?E:"Headline placeholder";(0,s.useEffect)(()=>{G&&F(eD(H,I))},[F,G,H,I]);let en=(0,s.useCallback)(e=>{var t;let r=null==e?void 0:null===(t=e.currentTarget)||void 0===t?void 0:t.getAttribute("data-index"),l=eA(n,o);M&&r&&(F(eE(r,M)),(0,h.OK)({recClick:{position:+r,productId:(0,eC.F5)(M[Number.parseInt(r,10)]),strategyId:V,strategyName:Y,type:"promo"},contentClick:l}))},[F,M,V,Y,n,o]),eo=(0,r.jsx)(e$.T,{backgroundColor:D,backgroundImages:z,headline:null!=q?q:"Top promotions",textColor:C}),el=c()(_)?null:(0,r.jsx)(er.e,eJ(eJ({},_),{},{background_color:null!==(f=null!=D?D:j)&&void 0!==f?f:"",headline:q&&G?q:J?ee?null!=E?E:"Headline placeholder":W?void 0:null!=E?E:"Headline placeholder":"",text_color:C})),ei=$?K?el:eo:null,ea=$?null:K?el:eo,ed=_?null:(0,r.jsx)(X.JU,{background_color:j,className:"l-container l-container-standard h-padding-a-x2",text_color:C,children:(0,r.jsx)(m.w,{className:"h-margin-b-none",level:2,size:1,style:{color:"inherit"},children:U&&G?U:J?et:W?(0,r.jsx)("span",{children:"\xa0"}):""})}),ec=a()(10).map(e=>(0,r.jsx)(ev.P,{},e)),es=a()(10).map(e=>(0,r.jsx)(eK,{useBorder:B},e));return Z&&!G?null:J?(0,r.jsxs)("div",{"aria-label":"Carousel",className:`l-container ${S?"":"l-container-standard"}`,"data-test":eI,role:"region",children:[ed,(0,r.jsxs)(X.TZ,{backgroundColor:j,className:`${w?`h-margin-b-${eQ(w)}`:""}`,"data-test":"filmstrip-deals-carousel",extraPadding:!!j&&!ei&&$,children:[ea,(0,r.jsxs)(v.T,{children:[ei,G?M.map((e,t)=>(0,r.jsx)(eF,{handleRecItemClick:en,index:t,item:e,metadata:n,useBorder:B},e.promotion_id)):W?ee?es:ec:es,(0,r.jsx)(eH,{global_link:x})]})]})]}):(0,r.jsx)(em.p,{controlled:!0,noAnimation:W||G,open:W||G,variant:"bare",children:(0,r.jsxs)("div",{"aria-label":"Carousel",className:`l-container ${S?"":"l-container-standard"}`,"data-test":eI,role:"region",children:[ed,(0,r.jsxs)(X.TZ,{backgroundColor:j,className:`${w?`h-margin-b-${eQ(w)}`:""}`,"data-test":"filmstrip-deals-carousel",extraPadding:!!j&&!ei&&$,children:[ea,(0,r.jsxs)(v.T,{children:[ei,G?M.map((e,t)=>(0,r.jsx)(eF,{handleRecItemClick:en,index:t,item:e,metadata:n,useBorder:B},e.promotion_id)):ec,(0,r.jsx)(eH,{global_link:x})]})]})]})})};function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function e4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e1(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e0.displayName="PromotionsCarousel";let e3=e=>{var t,n,o,i,a;let{content:d,options:c,metadata:s,order:u,componentId:p}=e,m=(0,l.g)(null==d?void 0:null===(t=d.container)||void 0===t?void 0:null===(n=t.keyValuePairs)||void 0===n?void 0:n.context),v=e4(e4({},d),{},{brand_ids:null==m?void 0:m.brandId,category_id:null==m?void 0:m.categoryId,fulfillment_types:null==m?void 0:m.fulfillmentId,offer_id:null==m?void 0:m.offerId,placement_id:null==m?void 0:m.placementId,slingshot_component_id:p,facet_ids:null==m?void 0:m.facetId});return(null==d?void 0:null===(o=d.container)||void 0===o?void 0:o.type)==="personalizedProducts"?(0,r.jsx)(eO,{content:v,metadata:s,options:c,order:u}):(null==d?void 0:null===(i=d.container)||void 0===i?void 0:i.type)==="personalizedPromotions"?(0,r.jsx)(e0,{content:v,metadata:s,options:c,order:u}):(null==d?void 0:null===(a=d.container)||void 0===a?void 0:a.type)==="personalizedOffers"?(0,r.jsx)(ew.Zo,{content:v,metadata:s,options:c,order:u}):null};e3.displayName="PersonalizationCarousel"},17367:function(e,t,n){n.d(t,{P:function(){return l},s:function(){return i}});var o=n(44350);let r=(0,o.flags)("CONTENT_TRACKING_INTERACTIONS_ON_FIREFLY_NORTH_STAR_ENABLED"),l=(e,t,n)=>({url:"https://api.target.com/consumers/v1/ingest/web/eventstream",apiKey:"9f36aeafbe60771e321a7cc95a78140772ab3e96",event:e,links:r?{array:[{rel:{string:null==n?void 0:n.relationship},href:null!=n&&n.xApiId?{string:`/event/${n.xApiId}`}:void 0}]}:void 0,lnk:{contentClick:null,listClick:null,navClick:null,recClick:null},guest:t}),i=e=>null!=e&&e.prz_placement_id?{placementId:null==e?void 0:e.prz_placement_id,strategyDescription:null==e?void 0:e.prz_strategy_description,strategyId:null==e?void 0:e.prz_strategy_id,strategyName:null==e?void 0:e.prz_strategy_name,type:null==e?void 0:e.type_name}:void 0}}]);