"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8705],{78503:function(e,t,r){r.d(t,{H:function(){return o}});var n=r(67294),i=r(86235);let o=()=>{let{dispatch:e,circleOffersReducerState:t}=(0,n.useContext)(i.j);return[t,e]}},87588:function(e,t,r){r.d(t,{Z:function(){return n},v:function(){return i}});let n={cmsPageId:"/bulkoffers",cmsPageType:"/bulkoffers/",pageName:"bulk offers",pageType:"bulk offers"},i={cmsPageId:"/ATCofferssheet",cmsPageType:"/ATCofferssheet/",pageName:"ATC: offers sheet",pageType:"ATC offers sheet"}},91605:function(e,t,r){r.d(t,{E:function(){return d},b:function(){return u}});var n=r(59499),i=r(67294),o=r(43430),c=r(78503),s=r(14715);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let d=({isMagicWandShown:e,appState:t,circleOffers:r})=>{let{trackEvent:n}=(0,o.rS)(),[s]=(0,c.H)(),a=r.some(e=>{var t,r;return null==s?void 0:null===(t=s[null!==(r=e.id)&&void 0!==r?r:""])||void 0===t?void 0:t.added}),d=(0,i.useMemo)(()=>r.filter(e=>{var t,r;return null==s?void 0:null===(t=s[null!==(r=e.id)&&void 0!==r?r:""])||void 0===t?void 0:t.added}),[r,s]),u=(0,i.useRef)(!1),p=(0,i.useRef)(!1);(0,i.useEffect)(()=>(p.current=!1,u.current=!1,()=>{p.current=!0}),[]),(0,i.useEffect)(()=>{e&&n({appState:t,guest:{eventType:"pageload"}})},[e,n,t]);let m=(0,i.useCallback)((r="button")=>{if(!e||u.current)return;let i=null==d?void 0:d.map(e=>({offerId:e.id,offerSelected:!0,offerType:"cartwheel"}));n(l({appState:t,guest:{eventType:"click"},lnk:{contentClick:{componentType:"action",contentType:`bulk offers: offer: ${a?"added":`${r}: no action`}`}}},a?{offerInfo:{addOffer:!0,offers:i}}:{})),u.current=!0},[e,n,a,d,t]);return(0,i.useEffect)(()=>()=>{p.current&&m("dismiss")},[m]),m},u=e=>{let{trackEvent:t}=(0,o.rS)();return r=>{let n,i;let{offerId:o,action:c,offerAriaLabel:a}=null!=r?r:{};o&&(c===s.x.ADDED_OFFER?n=!0:c===s.x.ADD_OFFER_ERROR&&(n=!1),c===s.x.REMOVED_OFFER?i=!0:c===s.x.REMOVE_OFFER_ERROR&&(i=!1),t({appState:e,guest:{eventType:"click"},offerInfo:l(l(l({},n?{addOffer:n}:{}),i?{removeOffer:i}:{}),{},{offers:[{offerId:o,offerSelected:void 0!==n||void 0!==i,offerType:"cartwheel"}]}),promotionInfo:{promos:[{id:o,omtOfferId:o,added:n,removed:i,longTagSpecialOffer:a}]}}))}}},65416:function(e,t,r){r.d(t,{i:function(){return _}});var n=r(59499),i=r(85893),o=r(67294),c=r(60217),s=r(8668),a=r(48496),l=r(97193),d=r(37586),u=r(18617),p=r(90945),m=r(38620),f=r(60390),g=r(43430),h=r(35593),y=r(19521),v=r(50411),b=r(56947);let x=y.ZP.div.withConfig({displayName:"styles__TileRoot",componentId:"sc-12wgyin-0"})(["",""],e=>e.$isShopSimilarSection?`
    padding: ${b.space.generic.x1};
    width: 133px;
    line-height: ${b.font.lineHeight.heading};
    `:`
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 0 0 50%;
      padding: ${b.space.generic.x4} ${b.space.generic.x2};
      text-align: center;
    `),O=(0,y.ZP)(v.F).withConfig({displayName:"styles__StyledLink",componentId:"sc-12wgyin-1"})(["display:block;flex-grow:1;margin-bottom:",";font-size:",";"],b.space.generic.x2,b.font.size.text.medium),k=y.ZP.div.withConfig({displayName:"styles__TileContentWrapper",componentId:"sc-12wgyin-2"})(["padding:"," "," ",";min-height:85px;"],b.space.generic.x2,b.space.generic.x2,e=>e.$isRegPrice?"10.5px":`${b.space.generic.x2}`),w=y.ZP.img.withConfig({displayName:"styles__CarouselTilePicture",componentId:"sc-12wgyin-3"})(["width:",";aspect-ratio:1;border-radius:",";display:inline-block;"],e=>e.$isShopSimilarSection?"100%":"100px",e=>e.$isShopSimilarSection?`${b.space.generic.x1}`:""),j=y.ZP.div.withConfig({displayName:"styles__ButtonWrapper",componentId:"sc-12wgyin-4"})(["margin:",";width:calc(100% - ",");min-width:110px;& > button{max-width:unset;width:100%;}"],b.space.generic.x1,b.space.generic.x2);var C=r(81982),S=r(72604),T=r(1280);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let _=({index:e,handleRecommendationsClick:t,strategyId:r,strategyName:n,isShopSimilarSection:y})=>{var v;let b=(0,c.ct)(s.hg),P=(0,a.T)(),_=(0,l.h)(),N=(0,c.ct)(d.jz),E=(0,m.b)({hidePromos:!0}),I=(0,c.Ao)(u.$y),{cartRequestParams:R}=null!==(v=(0,o.useContext)(T.zZ))&&void 0!==v?v:{},{trackEvent:A}=(0,g.rS)(),D=y?"web_cart_sfl_subs":"mweba2ch1",F=(0,o.useCallback)(t=>$($({},t),{},{lnk:$($({},t.lnk),{},{recClick:{position:e,productId:b,strategyId:r,strategyName:n}})}),[e,b,r,n]),M=(0,o.useCallback)(()=>{A({event:{name:"addToCart",source:`product ad | ${D} | ${e}`,type:"click"},guest:{eventType:"click"},products:[{tcin:b}]})},[e,D,b,A]);return(0,i.jsxs)(x,{$isShopSimilarSection:y,"data-test":y?`item-card-${b}`:"addToCartSuccessModalRecommendationsTile",children:[(0,i.jsxs)(O,{className:`item-${e}`,color:"onLightSecondary","data-position":e,"data-product-id":b,href:_,onClick:t,underline:"invert",children:[(0,i.jsx)("div",{className:"h-margin-b-tiny",children:(0,i.jsx)(w,{$isShopSimilarSection:y,alt:P,src:N})}),(0,i.jsxs)(k,{$isRegPrice:1===E,children:[(0,i.jsx)(f.S,{hidePromos:!0,textAlignment:`${y?"left":"center"}`}),(0,i.jsx)(p.k,{className:`${y?"h-text-sm h-margin-t-tiny":""}`,lines:4-E,children:P}),I?(0,i.jsx)("p",{className:"h-text-xs",children:"Sponsored"}):null]})]}),(0,i.jsx)(j,{onClick:I?M:F,children:(0,i.jsx)(h.AddToCartButtonForProductContext,{"aria-label":`add to cart for ${P}`,cartRequestParams:$($({},R),{},{registry_information:void 0}),handleOverridingOrAddingTrackingFieldsToAddToCartSuccess:F,isFullWidth:y,overrideBehavior:C.TX.ENABLE_CHOOSE_OPTIONS_ONLY_MODE,placementType:y?S.bo.similarItems:S.bo.AddToCartSuccessModalRecommendation,size:"sm"})})]})};_.displayName="RecommendationsTile"},66031:function(e,t,r){r.d(t,{V:function(){return O}});var n=r(41609),i=r.n(n),o=r(85893),c=r(67294),s=r(43430),a=r(84512),l=r(39788),d=r(36176),u=r(85393),p=r(18617),m=r(42850),f=r(8668),g=r(69626),h=r(6410),y=r(56947),v=r(65416);let b=({recommendedProducts:e})=>{let{trackEvent:t}=(0,s.rS)();return(0,c.useEffect)(()=>{t({guest:{eventType:"recommendations"},recommendations:{categoryId:e.category_id,docType:e.doctype,placementId:e.placement_id,strategyDescription:e.strategy_description,strategyId:e.strategy_id,strategyName:e.strategy_name,type:"product"}})},[e,t]),(0,o.jsx)("div",{"data-test":"recommendations-tracking"})};b.displayName="RecommendationsTracking";var x=r(95114);let O=({tcins:e})=>{var t;let{trackEvent:r}=(0,s.rS)(),n=(0,s.rS)(),O="mweba2ch1",[k,w]=(0,d.T)({placement_id:O,tcins:e}),j=k(u.t_),C=(0,u.VB)(j),S=(0,u.Dm)(j),T=(0,u.YE)(j),P=null!==(t=(0,u.k2)(j))&&void 0!==t?t:"More to consider",$=(0,x._l)(C);(0,c.useEffect)(()=>{i()($)||n.trackEvent({guest:{eventType:"adimp"},adImpressions:$})},[$,n]);let _=(0,c.useCallback)(e=>{var t,n,i,o,c,a;let l=null!==(t=null===(n=e.currentTarget)||void 0===n?void 0:n.getAttribute("data-position"))&&void 0!==t?t:-1,d=null!==(i=null===(o=e.currentTarget)||void 0===o?void 0:o.getAttribute("data-product-id"))&&void 0!==i?i:void 0,u=null!==(c=null==C?void 0:C[l])&&void 0!==c?c:{};if((0,p.$y)(u)){let{ad_source:e,click_id:t,click_token:n}=null!==(a=(0,p.TV)(u))&&void 0!==a?a:{};r({event:{name:"openNewPage",source:`product ad | ${O} | ${l}`,type:"click"},guest:{eventType:"click"},products:[{tcin:d}]}),r({customInteraction:{type:"click",value:`${t}|${n}`},guest:{eventType:"customInteraction"},products:[{tcin:d,sponsor:{name:e}}]})}else(0,s.OK)({recClick:{position:Number(l),productId:d,strategyId:S,strategyName:T,type:"product"}})},[C,S,T,r]),N=(0,g.s_)(w),E=(0,c.useMemo)(()=>{var e;return null==j?void 0:null===(e=j.products)||void 0===e?void 0:e.map((e,t)=>(0,o.jsx)(m.d,{debugName:"RecommendationsFilmstrip",queryResult:N,value:e,children:(0,o.jsx)(v.i,{handleRecommendationsClick:_,index:t,strategyId:S,strategyName:T})},(0,f.iC)(e)))},[null==j?void 0:j.products,S,T,_,N]);return j||w.isSuccess||w.isError?!(null!=j&&j.products)||j.products.length<=0?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b,{recommendedProducts:j}),(0,o.jsxs)("div",{children:[(0,o.jsx)(l.w,{className:"h-margin-t-x2",size:3,children:P}),(0,o.jsx)(h.M,{buttonSize:"sm","data-test":"addToCartSuccessModalRecommendations",itemsPerClick:4,maxClickCount:1,tabTitle:P,tagName:"div",children:E})]})]}):(0,o.jsx)(a.G,{animationDuration:"500ms",height:"120px",isAnimated:!0,stroke:y.colors.palette.gray.light,width:"100%"})};O.displayName="Recommendations"},38620:function(e,t,r){r.d(t,{b:function(){return s}});var n=r(60217),i=r(56696),o=r(83251),c=r(40786);let s=({hidePromos:e=!1}={})=>{var t;let r=(0,n.ct)(i.hp),s=!e&&r&&r.length>0,a=(0,n.ct)(o.mU),l=(0,n.ct)(o.D2),d=!!c.DP[null!==(t=null!=l?l:a)&&void 0!==t?t:""];return s?1!==r.length||d?3:2:d?2:1}},6410:function(e,t,r){r.d(t,{M:function(){return p}});var n=r(85893),i=r(67294),o=r(70958),c=r(50411),s=r(22235),a=r(43430),l=r(23921),d=r(19521);let u=(0,d.ZP)(l.B).withConfig({displayName:"styles__StyledIconNavigationArrowDownFill",componentId:"sc-qwvsl5-0"})(["width:24px;color:#333;vertical-align:bottom;transition:transform;transform:rotate(0deg) translateY(0);",";"],e=>e.isActive&&`transform-origin: center;
        transform: rotate(180deg);`),p=({tabTitle:e,itemsPerClick:t=6,maxClickCount:r=2,tagName:l="ul",hasFlexColumn:d,children:p,justifyContentCenter:m,shouldScrollIntoView:f,alternateButton:g,onClick:h,buttonSize:y,"data-test":v})=>{let{0:b,1:x}=(0,i.useState)(0),{trackEvent:O}=(0,a.rS)();(0,i.useEffect)(()=>{x(0)},[p]);let k=(0,i.useRef)(null),w=(0,i.useCallback)(()=>{var e;if(!k.current||0===b)return;let r=null===(e=k.current)||void 0===e?void 0:e.querySelector(`.item-${b*t}`);r&&r.focus()},[k,t,b]);(0,i.useEffect)(()=>{w()},[w]);let j=(0,i.useCallback)(t=>{null==h||h(t),O({customInteraction:{type:"click",value:`${e} load more button ${b} click`},guest:{eventType:"customInteraction"}}),x(b+1)},[x,O,b,e,h]),C=(0,i.useCallback)(t=>{if(null==h||h(t),O({customInteraction:{type:"click",value:`${e} show less button`},guest:{eventType:"customInteraction"}}),x(0),f&&window.scrollY>=215){var r;null===(r=k.current)||void 0===r||r.scrollIntoView()}},[e,O,f,h]),S=(0,i.useCallback)(()=>b===r?i.Children.toArray(p).length:t*(b+1),[b,r,p,t]),T=(0,i.useCallback)(()=>{if(b===r)return 0;let e=i.Children.toArray(p).length,n=S(),o=e-n;return b===r-1?o:Math.min(o,t)},[b,r,t,p,S]),P=(0,i.useCallback)(e=>{let t=T();if(t>0){j(e);return}C(e)},[j,T,C]),$=i.Children.toArray(p),_=S(),N="Show less";return T()>0&&(N=`Show ${T()} more`),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l,{className:`${d?"h-flex-direction-col h-flex-align-center":"h-flex-direction-row"} h-display-flex h-flex-wrap ${m?"h-flex-justify-center":""}`,"data-test":v,ref:k,children:$.slice(0,_)}),$.length>t&&(g?(0,n.jsx)(o.X,{children:(0,n.jsxs)(c.F,{"aria-label":`${N} ${e}`,className:"h-text-grayDarkest h-margin-t-tiny","data-test":"loadMoreRecommendations",onClick:P,underline:"invert",children:[N," ",(0,n.jsx)(u,{isActive:"Show less"===N})]})}):(0,n.jsx)(o.X,{className:"h-flex-justify-center",children:(0,n.jsx)(s.P,{"aria-label":`${N} ${e} items`,className:"h-margin-h-default h-align-center","data-test":"loadMoreRecommendations",onClick:P,size:y,children:N})}))]})};p.displayName="ShowMoreItemsWrapper"}}]);