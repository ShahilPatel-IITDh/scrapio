function renderMap(n,a,i,r){google.maps.event.addDomListener(window,"load",function(){var e=new google.maps.LatLng(n,a),t={center:e,zoom:i,mapTypeId:google.maps.MapTypeId.ROADMAP,draggable:!1},o=new google.maps.Map(document.getElementById(r),t);new google.maps.Marker({position:e}).setMap(o)})}function renderMapWithMarkers(r,s,l,m,c){google.maps.event.addDomListener(window,"load",function(){var e=new google.maps.LatLng(r,s),t=$("#template-dir").val(),o={center:e,zoom:l,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,draggable:!1};contactMap=new google.maps.Map(document.getElementById(m),o);for(var n=0;n<c.length;n++){var a=new google.maps.LatLng(c[n].lat,c[n].lng),i=new google.maps.Marker({position:a,icon:t+"/assets/production/images/common/fa-map-marker.png"});i.setMap(contactMap),contactPoints.push(i)}})}function closeThankYouPage(){$(document).on("click","#thank-you",function(){$("#thank-you").removeClass("visible")})}function getAuthorName(){$("aside #search").change(function(e){$("aside #author_name").val("");var t=$(this).find("option:selected").attr("data-name");$("aside #author_name").val(t)})}var BoxThumbnail={selector:".contains-two-posts",init:function(){var e=this,t=e.selector;if($(t).length<1)return!1;e.setHeight(),$(window).resize(function(){e.setHeight()})},setHeight:function(){var e=$(this.selector),t=e.length,o=0,n=".box-with-thumbnail";if($(window).outerWidth()<748)return!1;for(e.find(n).removeAttr("style");o<t;o++){var a=e.eq(o);if(1===a.find(n).length)return!1;var i=a.find(n).eq(0),r=a.find(n).eq(1);i.outerHeight()>r.outerHeight()?r.css({height:i.outerHeight()}):i.css({height:r.outerHeight()})}}},AboutUs={init:function(){if($("#about-us").length<1)return!1;this.startSlider()},startSlider:function(){var a=this,o=$("#about-us-slider"),e=$("#about-us-slider").find(".active");o.slick({slidesToShow:6,slidesToScroll:1,arrows:0,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:1}}]}),0<e.length&&o.slick("slickGoTo",parseInt(e.data("index"))),$(document).on("click",".slick-arrow.slick-prev",function(){o.slick("slickPrev")}),$(document).on("click",".slick-arrow.slick-next",function(){o.slick("slickNext")}),$(document).on("click",".slick-slide",function(e){if($(this).hasClass("slick-current"))return!1;var t=parseInt($(this).data("slick-index"));o.slick("slickGoTo",t)}),o.on("beforeChange",function(e,t,o,n){a.showInformationAboutAuthor(n)})},showInformationAboutAuthor:function(e){$(".single-person-information").hide().removeClass("active"),$(".single-person-information").eq(e).fadeIn(300,function(){$(".single-person-information").eq(e).addClass("active")})}},AskQuestion={init:function(){if($("section#ask-question").length<1)return!1;this.validateForm()},validateForm:function(){$("form").validate({rules:{formEmail:{required:1,email:1},formQuestion:{required:1,minlength:10}},messages:{formEmail:{required:"Proszę wypełnić to pole",email:"Proszę podać poprawny adres e-mail"},formQuestion:{required:"Proszę wypełnić to pole",minlength:"Proszę wpisać co najmniej dziesięć znaków"}},submitHandler:function(t){var e=$("#template-dir").val();$(t).find("[type=submit]").prop("disabled",!0),$.ajax({url:e+"/email/ask-question.php",type:"POST",data:{formNameAndSurname:$("[name=formNameAndSurname]").val(),formCompany:$("[name=formCompany]").val(),formEmail:$("[name=formEmail]").val(),formQuestion:$("[name=formQuestion]").val(),formAssetURL:$("[name=formAssetURL]").val(),recaptchaResponse:$("[name=g-recaptcha-response]").val()}}).done(function(e){1===parseInt(e)?($(t)[0].reset(),$(t).find("[type=submit]").removeAttr("disabled"),console.log("Dziękujemy za wysyłkę maila, skontaktujemy się z Tobą jak najszybciej!"),$("#thank-you").addClass("visible")):console.log("Wrong result")}).fail(function(){console.log("error")}).always(function(){console.log("compvare")})}})}},Contact={init:function(){if($("section#contact").length<1)return!1;this.validateForm(),this.toggleTab()},validateForm:function(){$("form").validate({rules:{formNameAndSurname:{required:1,minlength:3},formEmail:{required:1,email:1},formContent:{required:1,minlength:10}},messages:{formNameAndSurname:{required:"Proszę wypełnić to pole",minlength:"Proszę wpisać co najmniej trzy znaki"},formEmail:{required:"Proszę wypełnić to pole",email:"Proszę podać poprawny adres e-mail"},formContent:{required:"Proszę wypełnić to pole",minlength:"Proszę wpisać co najmniej dziesięć znaków"}},submitHandler:function(t){var e=$("#template-dir").val();$(t).find("[type=submit]").prop("disabled",!0),$.ajax({url:e+"/email/contact.php",type:"POST",data:{formNameAndSurname:$("[name=formNameAndSurname]").val(),formEmail:$("[name=formEmail]").val(),formContent:$("[name=formContent]").val(),formAssetURL:$("[name=formAssetURL]").val(),recaptchaResponse:$("[name=g-recaptcha-response]").val()}}).done(function(e){1===parseInt(e)?($(t)[0].reset(),$(t).find("[type=submit]").removeAttr("disabled"),console.log("Dziękujemy za wysyłkę maila, skontaktujemy się z Tobą jak najszybciej!"),$("#thank-you").addClass("visible")):console.log("Wrong result")})}})},toggleTab:function(){$(document).on("click","#tabs li",function(e){$("#tabs").find(".active").removeClass("active"),$(this).addClass("active");var t=$(this).index();$("#tabs-content").find(".active").removeClass("active"),$("#tabs-content").find("li").eq(t).addClass("active"),$("#map").find(".active").removeClass("active"),$("#map").find(".map").eq(t).addClass("active")})},map:function(e){for(var t=[],o=$("#template-dir").val(),n=0;n<$(".markers li").length;n++)t.push({lat:$(".markers li").eq(n).data("lat"),lng:$(".markers li").eq(n).data("lng")});if(void 0===e){var a=parseInt($("#tabs li.active").index());renderMapWithMarkers(t[a].lat,t[a].lng,8,"google-map",t)}else for(n=0;n<contactPoints.length;n++)contactPoints[n].setMap(null),contactMap.setZoom(13),n===e?(contactPoints[n].setIcon(o+"/assets/production/images/common/fa-map-marker-active.png"),contactMap.setCenter(new google.maps.LatLng(t[n].lat,t[n].lng))):contactPoints[n].setIcon(o+"/assets/production/images/common/fa-map-marker.png"),contactPoints[n].setMap(contactMap)}},SingleEvent={init:function(){if($("#single-event").length<1)return!1;this.map()},map:function(){var e="google-map";renderMap($("#"+e).data("lat"),$("#"+e).data("lng"),13,e)}},Mobile={init:function(){this.menu()},menu:function(){$(document).on("click",".icon.hamburger",function(e){e.preventDefault(),e.stopPropagation(),$("header .menu").stop().slideToggle()}),$(document).on("touchend",".icon.hamburger",function(e){e.preventDefault(),e.stopPropagation(),$("header .menu").stop().slideToggle()})}},Aside={init:function(){if($("aside").length<1)return!1;this.newsvarter(),setTimeout(function(){},2e3)},fixedCategoriesList:function(){function i(e){var t=e.outerHeight(),o=$(window).height(),n=e[0].getBoundingClientRect(),a=n.top,i=n.bottom;return Math.max(0,0<a?Math.min(t,o-a):i<o?i:o)}var r=$(".category-list"),e=$("footer"),s="fixed-list",l=r.offset().top,m=(r.outerHeight(),e.offset().top,$("header").outerHeight());$(window).on("scroll",function(){var e,t,o=$(document).scrollTop();if(m<=o?$("header").addClass("fixed"):$("header").removeClass("fixed"),l-m<=o){!function(e,t){if($(window).width()<1200)return;var o=$("aside").width();e.addClass(t),e.width(o)}(r,s);var n=i($("main"))-m,a=(i($("footer")),r.outerHeight());n<=a?r.css("top",n+m-a):r.css("top",m)}else t=s,(e=r).hasClass(t)&&(e.removeClass(t),e.removeAttr("style"))})},newsvarter:function(){if($(".newsvarter-box").length<1)return!1;$(".newsvarter-box form").validate({rules:{newsvarterEmail:{required:!0,email:!0}},messages:{newsvarterEmail:{required:"To pole jest wymagane",email:"Podaj poprawny adres e-mail"}},submitHandler:function(e){var t=$("#template-dir").val();return $.ajax({url:t+"/optivo/newsvarter.php",type:"POST",data:{email:$(".newsvarter-box form [type=email]").val()}}).done(function(e){var t=parseInt(e);0===t?($('<div class="alert alert-danger">Wystąpił nieoczekiwany błąd serwera</div>').insertAfter(".newsvarter-box form"),$(".newsvarter-box form")[0].reset()):1===t?($('<div class="alert alert-success">Zostałeś zapisany do newsvarter!</div>').insertAfter(".newsvarter-box form"),$(".newsvarter-box form [type=submit]").attr("disabled","disabled"),$(".newsvarter-box form")[0].reset()):2===t&&($('<div class="alert alert-info">Jesteś już zapisany!</div>').insertAfter(".newsvarter-box form"),$(".newsvarter-box form")[0].reset())}).fail(function(){console.log("error")}),!1}}),$(document).on("click",".newsvarter-box a",function(e){e.preventDefault();var t=$(".newsvarter-box a"),o=$(".newsvarter-box .disclaimer span");o.toggle(),o.is(":visible")?t.text(t.data("text-visible")):t.text(t.data("text-hidden"))})}},Cookies={init:function(){$.cookie("cookie-agree","1",{expires:7,path:"/"}),console.log($.cookie("cookie-agree")),this.close()},close:function(){$(document).on("click","#cookies i",function(){$("#cookies").fadeOut()})}};$(document).ready(function(){closeThankYouPage(),AboutUs.init(),AskQuestion.init(),Contact.init(),SingleEvent.init(),Mobile.init(),Cookies.init(),getAuthorName()}),$(window).load(function(){Aside.init(),BoxThumbnail.init()});