$(document).ready(function () {
    $("table").addClass('table');
    function e() {
    var e = $("[class*='-active']").length;
    0 === e &&
      r &&
      ((r = !1),
      $("#expandAll").removeClass("expandAll-active").attr("aria-expanded", !1),
      c("expandAll"));
  }
  function t() {
    $(".mainAccordion-item .mainAccordion-answer").show(),
      $(".mainAccordion-header")
        .attr("aria-expanded", !0)
        .addClass("mainAccordion-active"),
      u.each(function (e) {
        $(
          ".mainSubAccordion_" +
            (e + 1) +
            "-item .mainSubAccordion_" +
            (e + 1) +
            "-answer"
        ).show(),
          $(".mainSubAccordion_" + (e + 1) + "-item h6")
            .attr("aria-expanded", !0)
            .addClass("mainSubAccordion_" + (e + 1) + "-active");
      });
  }
  function a() {
    $(".mainAccordion-item .mainAccordion-answer").hide(),
      $(".mainAccordion-header")
        .attr("aria-expanded", !1)
        .removeClass("mainAccordion-active"),
      u.each(function (e) {
        $(
          ".mainSubAccordion_" +
            (e + 1) +
            "-item .mainSubAccordion_" +
            (e + 1) +
            "-answer"
        ).hide(),
          $(".mainSubAccordion_" + (e + 1) + "-item h6")
            .attr("aria-expanded", !1)
            .removeClass("mainSubAccordion_" + (e + 1) + "-active");
      });
  }
  function n(e) {
    f.each(function (e) {
      $(
        ".subAccordion_" +
          (e + 1) +
          "-item .subAccordion_" +
          (e + 1) +
          "-answer"
      ).show(),
        $(".subAccordion_" + (e + 1) + "-item h6")
          .attr("aria-expanded", !0)
          .addClass("subAccordion_" + (e + 1) + "-active");
    });
  }
  function i() {
    f.each(function (e) {
      $(
        ".subAccordion_" +
          (e + 1) +
          "-item .subAccordion_" +
          (e + 1) +
          "-answer"
      ).hide(),
        $(".subAccordion_" + (e + 1) + "-item h6")
          .attr("aria-expanded", !1)
          .removeClass("subAccordion_" + (e + 1) + "-active");
    });
  }
  function o() {
    p = !1;
    var e = $(".card-tooltip"),
      t = $("*[data-cardopen]"),
      a = $("*[data-cardopen].highlight");
    $("span.card-closebtn")
      .unbind()
      .on("click keydown", function (e) {
        (13 === e.keyCode ||
          (32 === e.keyCode && e.ctrlKey && e.altKey) ||
          "click" === e.type) &&
          o();
      }),
      e.remove(),
      t.attr("data-cardopen", !1),
      a.focus().removeClass("highlight"),
      "relative" == e.parent().css("position") &&
        e.parent().css("position", "");
  }
  function l() {
    var e = $(g);
    e.parents().hasClass("mainSubAccordions") &&
      e.parents("article.mainAccordion-item").find("h2").trigger("click"),
      e.trigger("click"),
      $("html,body").animate({ scrollTop: e.offset().top - 128 }, 500);
  }
  function c(e) {
    const t = location.href.split("/")[4],
      a = Object.keys(v);
    $(a).each(function () {
      if (this.toString() == t)
        return (
          $("#expandCollapseAll span")
            .text(v[t][e])
            .attr("aria-label", v[t][e]),
          !1
        );
      $("#expandCollapseAll span")
        .text(v.other[e])
        .attr("aria-label", v.other[e]);
    });
  }
  function s() {
    (getAndEnterHeaderText = (e) => {
      let t,
        a = $(e).children(),
        n = $(e).siblings(".mobileHeaderView")[0];
      a.each(function (e, a) {
        0 == e ? (t = $.trim($(a).text())) : (t += " & " + $.trim($(a).text()));
      }),
        $(n).find("th").text(t);
    }),
      (getAndEnterSecTitleText = (e) => {
        let t,
          a = $(e).children(),
          n = $(e).siblings(".mobileSecTitle");
        n.length > 1 && n.each(function (e, t) {}),
          a.each(function (e, a) {
            0 == e
              ? (t = $.trim($(a).text()))
              : (t += " & " + $.trim($(a).text()));
          }),
          $(n).find("td").text(t);
      }),
      $("table.table thead tr:not('.mobileHeaderView')").each(function (e, t) {
        getAndEnterHeaderText(t);
      }),
      $("table.table tbody tr.title").each(function (e, t) {
        getAndEnterSecTitleText(t);
      });
  }
  var r = !1,
    d = !1,
    p = !1,
    h = !1,
    u = $(".mainSubAccordions"),
    f = $(".subAccordions"),
    m = $(window),
    A = m.width(),
    g = window.location.hash,
    b = $("#card-tooltip").clone();
  $("#card-tooltip").remove();
  const v = {
    ar: { expandAll: "توسيع الكل", collapseAll: "طي الكل" },
    bg: { expandAll: "Разгъване на всички", collapseAll: "Свиване на всички" },
    cs: { expandAll: "Rozbalit vše", collapseAll: "Sbalit vše" },
    da: { expandAll: "Udvid alle", collapseAll: "Skjul alle" },
    de: { expandAll: "Alle erweitern", collapseAll: "Alle reduzieren" },
    el: { expandAll: "Ανάπτυξη όλων", collapseAll: "Σύμπτυξη όλων" },
    en: { expandAll: "Expand all", collapseAll: "Collapse all" },
    es: { expandAll: "Expandir todo", collapseAll: "Contraer todo" },
    et: { expandAll: "Laienda kõik", collapseAll: "Kitsenda kõik" },
    fi: { expandAll: "Laajenna kaikki", collapseAll: "Pienennä kaikki" },
    fr: { expandAll: "Agrandir tout", collapseAll: "Réduire tout" },
    he: { expandAll: "הרחב הכל", collapseAll: "כווץ הכל" },
    hr: { expandAll: "Proširi sve", collapseAll: "Sažmi sve" },
    hu: {
      expandAll: "Az összes kibontása",
      collapseAll: "Az összes összecsukása",
    },
    it: { expandAll: "Espandi tutto", collapseAll: "Comprimi tutto" },
    lt: { expandAll: "Išskleisti viską", collapseAll: "Sutraukti viską" },
    lv: { expandAll: "Izvērst visu", collapseAll: "Sakļaut visu" },
    nb: { expandAll: "Utvid alle", collapseAll: "Skjul alle" },
    nl: { expandAll: "Alles uitvouwen", collapseAll: "Alles samenvouwen" },
    pl: { expandAll: "Rozwiń wszystkie", collapseAll: "Zwiń wszystkie" },
    pt: { expandAll: "Expandir tudo", collapseAll: "Comprimir tudo" },
    ro: { expandAll: "Extindeți tot", collapseAll: "Restrângeți tot" },
    ru: { expandAll: "Развернуть все", collapseAll: "Свернуть все" },
    sk: { expandAll: "Rozbaliť všetko", collapseAll: "Zbaliť všetko" },
    sl: { expandAll: "Razširi vse", collapseAll: "Strni vse" },
    "sr-cyrl": { expandAll: "Прошири све", collapseAll: "Скупи све" },
    sv: { expandAll: "Utöka alla", collapseAll: "Komprimera alla" },
    tr: { expandAll: "Tümünü genişlet", collapseAll: "Tümünü daralt" },
    uk: { expandAll: "Розгорнути все", collapseAll: "Згорнути все" },
    other: { expandAll: "Expand all", collapseAll: "Collapse all" },
  };
  $(document).on(
    "click",
    ".page-menu.active .menu-parent.timing-delay-2 .line-wrap",
    function () {
      768 === m.width() &&
        ($(".page-menu.active button.btn-close").hide(),
        $(this).parent().addClass("active"),
        $(this).parent().parent().addClass("menu-submenu-active"),
        $(this).next().addClass("active"));
    }
  ),
    $(document).on(
      "click",
      ".page-menu.active .menu-parent.timing-delay-3 .line-wrap",
      function () {
        768 === m.width() &&
          ($(".page-menu.active button.btn-close").hide(),
          $(this).parent().addClass("active"),
          $(this).parent().parent().addClass("menu-submenu-active"),
          $(this).next().addClass("active"));
      }
    ),
    $(document).on(
      "click",
      ".page-menu.active .menu-parent .menu-submenu.active button.btn-back",
      function () {
        768 === m.width() &&
          ($(".page-menu.active button.btn-close").show(),
          $(this).parent().parent().parent().removeClass("menu-submenu-active"),
          $(this).parent().parent().removeClass("active"),
          $(this).parent().removeClass("active"));
      }
    ),
    $("#lang-dropdownBtn").on("click keydown", function (e) {
      if (13 === e.keyCode || "click" === e.type) {
        if (h) return (h = !1), !1;
        e.stopPropagation(),
          (d = !0),
          $("#langDropdown").show().find("a:first-child").focus(),
          $(this).attr("aria-expanded", !0);
      }
    }),
    $(document).on(
      "keydown",
      "#pcMainContainer.show-focus #langDropdown a",
      function (e) {
        e.preventDefault(),
          40 === e.keyCode && $(this).is(":focus")
            ? $(this).next().focus()
            : 38 === e.keyCode && $(this).is(":focus")
            ? $(this).prev().focus()
            : 27 === e.keyCode && $("#langDropdown").is(":visible")
            ? ($("#langDropdown").hide(),
              $("#lang-dropdownBtn").attr("aria-expanded", !1).focus())
            : ((13 === e.keyCode && $(this).is(":focus")) ||
                (32 === e.keyCode &&
                  e.ctrlKey &&
                  e.altKey &&
                  $(this).is(":focus"))) &&
              $(this)[0].click();
      }
    ),
    $(".mainAccordion-item .mainAccordion-header").on(
      "click keydown",
      function (t) {
        if (13 === t.keyCode || "click" === t.type) {
          if (h) return (h = !1), !1;
          var a = $(this)
              .parent()
              .find(
                "article[class*='mainSubAccordion_'][class*='-item'] h6[class*='mainSubAccordion_'][class*='-active']"
              ),
            n = $(this).attr("aria-expanded");
          $(this)
            .toggleClass("mainAccordion-active")
            .parent()
            .find(".mainAccordion-answer")
            .toggle(),
            "true" === n
              ? $(this).attr("aria-expanded", !1)
              : $(this).attr("aria-expanded", !0),
            sessionStorage.setItem(
              "currentPageHash_",
              "#" + $(this).attr("id")
            ),
            0 !== a.length &&
              a.each(function (e) {
                $(this)
                  .attr("aria-expanded", !1)
                  .removeClass("mainSubAccordion_" + (e + 1) + "-active"),
                  $(this)
                    .parent()
                    .find(".mainSubAccordion_" + (e + 1) + "-answer")
                    .hide();
              }),
            e();
        }
      }
    ),
    u.each(function (t) {
      $(this).addClass("mainSubAccordion_" + (t + 1));
      var a = $(this).children();
      a.each(function () {
        $(this)
          .attr("class", "mainSubAccordion_" + (t + 1) + "-item")
          .find(".mainSubAccordion-answer")
          .attr("class", "mainSubAccordion_" + (t + 1) + "-answer");
      }),
        $(".mainSubAccordion_" + (t + 1) + "-item h6").on(
          "click keydown",
          function (a) {
            if (13 === a.keyCode || "click" === a.type) {
              if (h) return (h = !1), !1;
              var n = $(this).attr("aria-expanded");
              $(this)
                .toggleClass("mainSubAccordion_" + (t + 1) + "-active")
                .parent()
                .find(".mainSubAccordion_" + (t + 1) + "-answer")
                .toggle(),
                "true" === n
                  ? $(this).attr("aria-expanded", !1)
                  : $(this).attr("aria-expanded", !0),
                sessionStorage.setItem(
                  "currentPageHash_",
                  "#" + $(this).attr("id")
                ),
                e();
            }
          }
        );
    }),
    f.each(function (t) {
      $(this).addClass("subAccordion_" + (t + 1));
      var a = $(this).children();
      a.each(function () {
        $(this)
          .attr("class", "subAccordion_" + (t + 1) + "-item")
          .find(".subAccordion-answer")
          .attr("class", "subAccordion_" + (t + 1) + "-answer");
      }),
        $(this)
          .find(".subAccordion_" + (t + 1) + "-item h6")
          .on("click keydown", function (a) {
            if (13 === a.keyCode || "click" === a.type) {
              if (h) return (h = !1), !1;
              var n = $(this).attr("aria-expanded");
              $(this)
                .toggleClass("subAccordion_" + (t + 1) + "-active")
                .parent()
                .find(".subAccordion_" + (t + 1) + "-answer")
                .toggle(),
                "true" === n
                  ? $(this).attr("aria-expanded", !1)
                  : $(this).attr("aria-expanded", !0),
                sessionStorage.setItem(
                  "currentPageHash_",
                  "#" + $(this).attr("id")
                ),
                e();
            }
          });
    }),
    $("#expandAll").on("click keydown", function (e) {
      if (13 === e.keyCode || "click" === e.type) {
        if (h) return (h = !1), !1;
        (r = !r),
          r
            ? (t(),
              n(),
              $(this).addClass("expandAll-active").attr("aria-expanded", !0),
              c("collapseAll"))
            : (a(),
              i(),
              $(this).removeClass("expandAll-active").attr("aria-expanded", !1),
              c("expandAll"));
      }
    }),
    $("*[data-cardopen]").on("click keydown", function (e) {
      if (
        13 === e.keyCode ||
        (32 === e.keyCode && e.ctrlKey && e.altKey) ||
        "click" === e.type
      ) {
        if ((e.stopPropagation(), $(this).hasClass("highlight"))) return !1;
        {
          var t = $(this),
            a = t.attr("data-cardtitle"),
            n = t.attr("data-cardtext");
          function i() {
            var e,
              a = t.offset().left + t.outerWidth() / 2 - b.outerWidth() / 2,
              n = t.position().left + t.width(),
              i = m.width() / 2;
            m.width() <= 768
              ? (b.parent().css("position", "relative"),
                n > i ? ((a = "unset"), (e = 0)) : (a = 0),
                m.width() <= 500 && (a = 0))
              : "relative" == b.parent().css("position") &&
                b.parent().css("position", ""),
              0 === e ? b.css({ left: a, right: e }) : b.css({ left: a });
          }
          function l() {
            var e = b
                .find("span.card-closebtn, .card-text a")
                .filter(":visible"),
              t = e.first(),
              a = e.last();
            t.focus(),
              a.on("keydown", function (e) {
                9 !== e.which || e.shiftKey || (e.preventDefault(), t.focus());
              }),
              t.on("keydown", function (e) {
                9 === e.which && e.shiftKey && (e.preventDefault(), a.focus());
              }),
              b.on("keyup", function (e) {
                27 === e.keyCode && o();
              });
          }
          $(this).after(b),
            (p = !0),
            b.show(),
            b.find("h5.card-title").text(a),
            b.find("p.card-text").html(n),
            "Apple Computer, Inc." == window.navigator.vendor &&
              b.find("h5.card-title").addClass("safari_only"),
            $(this).addClass("highlight"),
            $(this).attr("data-cardopen", !0),
            i(),
            l();
        }
      }
    }),
    $(document).on("click keydown", "span.card-closebtn", function (e) {
      (13 === e.keyCode ||
        (32 === e.keyCode && e.ctrlKey && e.altKey) ||
        "click" === e.type) &&
        o();
    }),
    $(document).on("touchstart mouseup", function (e) {
      if (p) {
        var t = $(".card-tooltip"),
          a = $("*[data-cardopen].highlight");
        if (!t.is(e.target) && 0 === t.has(e.target).length) {
          if (a.is(e.target)) return;
          ($(e.target.parentNode).is(
            $("[class*=subAccordion_][class*=-info]")
          ) ||
            $(e.target.parentNode).is(
              ".mainAccordion-item, .mainAccordion-header"
            ) ||
            $(e.target.parentNode).is(
              $("[class*=mainSubAccordion_][class*=-item]")
            ) ||
            $(e.target.parentNode).is(".lang-dropdownBtn") ||
            $(e.target.parentNode).is("#expandCollapseAll") ||
            $(e.target).is("#pcMainContainer")) &&
            (h = !0),
            o();
        }
      } else if (d) {
        var n = $("#langDropdown");
        n.is(e.target) ||
          0 !== n.has(e.target).length ||
          (n.hide(), $("#lang-dropdownBtn").attr("aria-expanded", !1));
      }
    }),
    m.on("resize", function () {
      if (m.width() !== A) {
        A = m.width();
        $(".card-tooltip");
        if (m.width() < 349) {
          var e = $(
            ".mainAccordion-answer:visible article[class*='mainSubAccordion_'][class*='-item']"
          );
          e.each(function () {
            var e = $(this).find("h6"),
              t = e.height();
            t > 57 && !e.hasClass("marginChange") && e.addClass("marginChange");
          });
        }
        p && o();
      }
    }),
    $(g).length > 0 && l(),
    $(window).on("hashchange", function () {
      (g = window.location.hash), $(g).length > 0 && l();
    }),
    $("a[href*='#']").on("click", function (e) {
      e.stopPropagation(), $(this).attr("href") === g && l();
    }),
    $(document).on("keydown", function (e) {
      $("#pcMainContainer").hasClass("show-focus") ||
        $("#pcMainContainer").addClass("show-focus");
    }),
    $(document).on("click", function () {
      $("#pcMainContainer").removeClass("show-focus");
    }),
    $(document).on("focus", "#pcMainContainer.show-focus :focus", function () {
      var e = $(this)[0].getBoundingClientRect().top;
      e < 61 &&
        $("html,body").animate({ scrollTop: $(this).offset().top - 128 }, 0);
    }),
    $(function () {
      var e = window.location.pathname;
      if (
        ((window.onbeforeunload = function () {
          var t = sessionStorage.getItem("currentPageHash_");
          sessionStorage.setItem("currentPageHash_" + e, t);
        }),
        "null" !== sessionStorage["currentPageHash_" + e] && "" === g)
      ) {
        var t = $(sessionStorage.getItem("currentPageHash_" + e));
        void 0 !== t.offset() &&
          (t.parents().hasClass("mainSubAccordions") &&
            t.parents("article.mainAccordion-item").find("h2").trigger("click"),
          t.trigger("click"),
          $("html,body").animate({ scrollTop: t.offset().top - 128 }, 500));
      }
    }),
    $("table[title='purpose'] tbody tr").each(function () {
      if (2 === $(this).children().length) {
        var e = $("table[title='purpose']")
            .find("thead tr th:nth-child(2)")
            .text(),
          t = $("table[title='purpose']")
            .find("thead tr th:nth-child(3)")
            .text();
        $(this).find("td:nth-child(1)").attr("data-title", e),
          $(this).find("td:nth-child(2)").attr("data-title", t);
      }
    }),
    $("a[href^='#bookmark']").on("click", function () {
      const e = $(this).attr("href");
      if ($(e).parents(".mainAccordion-answer").is(":hidden")) {
        const t = $(e).parents(".mainAccordion-answer").attr("id");
        $("h2[aria-controls=" + t + "]").trigger("click");
        const a = location.href
            .substring(this.href.lastIndexOf("/") + 1)
            .split("#"),
          n = a[1].replace(/^/, "#");
        n == e &&
          $(e).parents(".mainAccordion-answer").is(":visible") &&
          $("a[href='" + e + "']").trigger("click");
      }
    }),
    c("expandAll"),
    $(function () {
      (addMobileHeader = (e) => {
        const t = '<tr class="mobileHeaderView"><th></th></tr>';
        let a = $(e).find("thead tr")[0];
        $(a).after(t);
      }),
        (addMobileSecondaryTitle = (e) => {
          const t = '<tr class="mobileSecTitle"><td></td></tr>';
          let a = $(e).find("tbody tr.title");
          a.length > 0 &&
            a.each(function (e, a) {
              $(a).after(t);
            });
        }),
        (insertDiv = (e) => {
          const t = "<div></div>";
          let a = $(e).find("tbody td[rowspan]");
          a.length > 0 &&
            a.each(function (e, a) {
              let n = $.trim($(a).text());
              $(a).empty().append(t), $(a).find("div").text(n);
            });
        }),
        (checkEmptyCell = (e) => {
          let t = $(e).find("tbody tr td");
          t.each(function (e, t) {
            if (!$(t).text().trim()) {
              let e = $(t).closest("tr")[0];
              $(e).hasClass("mobileSecTitle") || $(t).addClass("hidden");
            }
          });
        });
      let e = $("table.table");
      e.each(function (e, t) {
        addMobileHeader(t), addMobileSecondaryTitle(t), checkEmptyCell(t);
      }),
        s();
    }),
    "Apple Computer, Inc." == window.navigator.vendor &&
      $("*[data-cardopen]").addClass("safari_only"),
    $("label[data-cardopen]")
      .removeAttr("aria-label")
      .removeAttr("aria-expanded")
      .attr("role", "button")
      .attr("tabindex", "0");
});
