/*! For license information please see published-v8-site.js.LICENSE.txt */
(()=>{var e={75747:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={_showNames:false,setShowNames:function e(t){this._showNames=t},getShowNames:function e(){return this._showNames}};var n=r;t["default"]=n},58278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=a;var n=i(r(64109));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){e.factory("addRowServices",(function(e){return{injectAddRowButtons:function t(r){var i=Object.assign({templateRenderer:e.TemplateRenderer},r);return(0,n.default)(i)}}}));return e}},64109:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return o(e)||a(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){var t=window.frames.siteFrame.document;var n=r(t.querySelectorAll("#page-zones__main > .js-widget"));var i=e.templateRenderer;if(0===n.length){d(t.getElementById("page-zones__main"),i);return}n.forEach((function(e,t){if(0===t){u(e,i);c(e,i);return}c(e,i)}))}function u(e,t){var r=t.render("row_add_button",{sibling:e.getAttribute("data-uniqueid"),position:"above"});e.insertAdjacentHTML("beforebegin",r)}function c(e,t){var r=t.render("row_add_button",{sibling:e.getAttribute("data-uniqueid"),position:"below"});e.insertAdjacentHTML("afterend",r)}function d(e,t){var r=t.render("row_add_button",{parent:e.getAttribute("data-uniqueid")});e.insertAdjacentHTML("afterbegin",r)}var f=l;t["default"]=f},92107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.model=t}i(e,[{key:"storeCurrentState",value:function e(){this.initialState=this.model.toJSON()}},{key:"restoreInitialState",value:function e(){this.model.set(this.initialState)}}]);return e}();var o=a;t["default"]=o},14555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(248));var i=r(1576);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.envData,s=r.siteData,l=r.userData;o(this,e);this._base=t.App.brand;this._featureConfigBase=t.App.frontEndBucket.featureConfig;this._frontEndBucket=t.App.frontEndBucket;this._mainWindow=t;this._trans=t.App.i18n.preboarding;var u="1"===this._base.capabilities.publishUpgradeToTemplatePicker;var f={tracking:"0"!==this._base.capabilities.mixPanelTracking,publishUpgradeToTemplatePicker:u,googleServices:1!==parseInt(this._base.capabilities.disableGoogleServices,10),fileUpload:1===parseInt(this._base.capabilities.enableFileUpload,10),enableIntercom:1===parseInt(this._base.capabilities.enableIntercom,10),enableAppcues:1===parseInt(this._base.capabilities.enableAppcues,10),enableFilestack:1===parseInt(this._base.capabilities.enableFilestack,10),enableFilestackClouddrive:1===parseInt(this._base.capabilities.enableFilestackClouddrive,10),enableFilestackFacebook:1===parseInt(this._base.capabilities.enableFilestackFacebook,10),enableFilestackInstagram:1===parseInt(this._base.capabilities.enableFilestackInstagram,10),enableFilestackOnedrive:1===parseInt(this._base.capabilities.enableFilestackOnedrive,10),enableFilestackPexels:"pexels"===this._frontEndBucket.stockImageProvider,enableFilestackPicasa:1===parseInt(this._base.capabilities.enableFilestackPicasa,10),enableFilestackUnsplash:1===parseInt(this._base.capabilities.enableFilestackUnsplash,10),enableSitePolicyPages:1===parseInt(this._base.capabilities.enableSitePolicyPages,10),hideUpgradeInUnableToPublish:1===parseInt(this._base.capabilities.hideUpgradeInUnableToPublish,10),blockPublishForUnverifiedEmail:1===parseInt(this._base.capabilities.blockPublishForUnverifiedEmail,10)};var p=t.App.user.owner.externalSubscriptionURL;var g=this._base.externalSubscriptionLink||"";var h={brandName:this._base.name,brandDomain:this._base.domain,brandRef:this._base.ref,displayName:this._base.displayName,logoImageURL:this._base.logoImageURL,publishDomain:this._base.publishDomain,externalUpgradeUrl:g,resellerUpgradeUrl:p,brandType:t.App.user.owner.type,googleMapsEmbedKey:this._base.googleMapsEmbedKey,preboardingSettings:this._base.preboardingSettings||{},loginUrl:this._base.loginURL,supportEmail:c(this._base.supportEmail,this._mainWindow.App.user.owner.resellerSupportEmail),upgradeUrl:d(a,s,l,p,g,u),capabilities:f,cookieWarningSetting:this._base.cookieWarningSetting,cookieWarningUrl:this._base.cookieWarningUrl,featureConfig:this._featureConfigBase};n.default.dispatch((0,i.setBrand)(h))}l(e,[{key:"get",value:function e(t){var r=this["get".concat(t[0].toUpperCase()).concat(t.substring(1))];if(r)return r();return n.default.getState().brand[t]}},{key:"has",value:function e(t){return n.default.getState().brand.capabilities[t]}},{key:"getTranslation",value:function e(t){var r="".concat(n.default.getState().brand.brandRef,"-").concat(t);if(this._trans[r])return this._trans[r];return null}}]);return e}();function c(e,t){if(void 0!==t&&null!==t&&t.length)return t;return e}function d(e,t,r,n,i,a){var o=f(e);var s=p(n,i,t,r);if(a||!s)return o;return s}function f(e){return"".concat(e.get("protocol"),"://account.").concat(e.get("domain"),"/subscription")}function p(e,t,r,n){var i=null;var a=e;a&&0!==a.length||(a=t);a&&a.length>0&&(i=g(a,r,n));return i}function g(e,t,r){var n=-1!==e.indexOf("?")?"&":"?";return"".concat(e).concat(n,"accountHolderRef=").concat(r.get("ref"),"&siteRef=").concat(t.get("ref"))}var h=u;t["default"]=h},58691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(248));var i=r(97017);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;o(this,e);var r=t.App.frontEndBucket.siteContentSet;n.default.dispatch((0,i.setContentSetData)(r))}l(e,[{key:"all",value:function e(){return n.default.getState().contentSet}},{key:"get",value:function e(t){return n.default.getState().contentSet[t]}}]);return e}();var c=u;t["default"]=c},76221:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=l(r(248));var a=r(20728);var o=r(79148);var s=l(r(95139));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function d(e,t,r){t&&c(e.prototype,t);r&&c(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&p(e,t)}function p(e,t){p=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return p(e,t)}function g(e){var t=m();return function r(){var n=y(e),i;if(t){var a=y(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return h(this,i)}}function h(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var b=function(e){f(r,e);var t=g(r);function r(){u(this,r);return t.apply(this,arguments)}d(r,[{key:"getDefaultLanguage",value:function e(){return i.default.getState().language.defaultLanguage.language}},{key:"getSiteLanguages",value:function e(){return i.default.getState().language.siteLanguages}},{key:"getSiteRef",value:function e(){return i.default.getState().site.ref}},{key:"getSiteDefaultLanguage",value:function e(){return i.default.getState().language.defaultLanguage}},{key:"extendProperties",value:function e(){var t=this.mainWindow.Editor.Site.Dom.window;var r=this.mainWindow.App.session.get("siteRef");var n=this.mainWindow.App.sites.get(r);Object.assign(this._properties,{templateData:w(t.Server.templateData),templateStylePreprocessorVariableWidgets:w(t.Server.templateStylePreprocessorVariableWidgets),templateName:t.Server.templateData.name,ref:r,app:t.Server.app,blog:t.Server.plugins.blog,ecommerce:t.Server.plugins.ecommerce,connectBookings:t.Server.connect.bookings,pageTree:this.mainWindow.App.pageTree,siteLanguagesPageTree:App.siteLanguagesPageTree,globalValues:App.frontEndBucket.siteGlobalValues,policyPageData:this.getEnabledPolicyPagesDate()});i.default.dispatch((0,a.setSiteRef)(r));i.default.dispatch((0,a.setPrimaryDomain)(this.mainWindow.Editor.Site.primaryDomain));i.default.dispatch((0,a.setEnableRows)(n.get("enableRows")));i.default.dispatch((0,a.setEditorVersion)(n.get("editorVersion")));i.default.dispatch((0,a.setEmailVerification)(n.get("emailVerification")));i.default.dispatch((0,a.setGlobalValues)(App.frontEndBucket.siteGlobalValues));n.get("siteDefaultLanguage")&&i.default.dispatch((0,o.setDefaultLanguage)(n.get("siteDefaultLanguage")));i.default.dispatch((0,o.setSiteLanguages)(n.get("siteLanguages")))}},{key:"getWidgetData",value:function e(){return Editor.Site.Dom.window.Server.widgetsOnPage}},{key:"getEnableRows",value:function e(){return"ten"===i.default.getState().site.editorVersion}},{key:"getEnabledPolicyPagesDate",value:function e(){var t=this.mainWindow.App.frontEndBucket.siteGlobalValues;var r=this.mainWindow.App.frontEndBucket.sitePolicyPageData;var n=[];var i=t.find((function(e){return"enablePolicyPages"===e.name}));var a=t.find((function(e){return"enableCookiePolicyPage"===e.name}));var o=t.find((function(e){return"enableLegalPolicyPage"===e.name}));var s=t.find((function(e){return"enableAccessibilityPolicyPage"===e.name}));var l="undefined"!==typeof i&&i.value;var u="undefined"!==typeof a&&a.value;var c="undefined"!==typeof o&&o.value;var d="undefined"!==typeof s&&s.value;r.forEach((function(e){"privacy"===e.policyType&&l&&n.push(e);"cookie"===e.policyType&&u&&n.push(e);"legal"===e.policyType&&c&&n.push(e);"accessibility"===e.policyType&&d&&n.push(e)}));return n}}]);return r}(s.default);function w(e){return JSON.parse(JSON.stringify(e))}var _=b;t["default"]=_},62783:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;var n=arguments.length>1?arguments[1]:void 0;r(this,e);this.mainWindow=t;this.siteRef=t.App.session.get("siteRef");this.SiteGlobalValuesHelper=n;this._properties={siteLanguageMenuSettings:App.frontEndBucket.siteLanguageMenuSettings}}i(e,[{key:"get",value:function e(t){switch(t){case"siteLanguages":case"siteDefaultLanguage":return this.mainWindow.App.sites.get(this.siteRef).get(t);case"siteLanguageMenuSettings":return this.SiteGlobalValuesHelper.getValue(t,this._properties[t]);case"siteCurrentLanguage":return this.mainWindow.siteFrame.Server.siteCurrentLanguage;default:return this._properties[t]}}}]);return e}();var o=a;t["default"]=o},49697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(248));var i=r(45457);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;o(this,e);var r=t.App.frontEndBucket;var a={codeVersion:r.codeVersion,mixpanelEnv:r.mixpanelEnv,mixpanelToken:r.mixpanelToken,stockImageProvider:r.stockImageProvider,customWidgetsDomain:r.customWidgetsDomain,errors:r.errors,allGoogleFonts:r.allGoogleFonts,googleMapsEmbedKey:r.googleMapsEmbedKey,protocol:f(t),domain:p(t),apiProxyBaseUrl:c(t),csrfToken:d(t),siteSubdomain:g(t),siteRef:h(t),languages:r.languages,localisedLanguages:r.localisedLanguages,flags:r.flags,rows:r.rows,rowLayouts:r.rowLayouts,siteColorSet:r.siteColorSet,intercomAppId:r.intercomAppId||"",intercomUserHash:m(t),manageDomain:v(t),maxFileUploadBytes:r.maxFileUploadBytes,V10CompatibilityMode:r.V10CompatibilityMode};n.default.dispatch((0,i.setEnvData)(a))}l(e,[{key:"get",value:function e(t){return n.default.getState().env[t]}}]);return e}();function c(e){if(e.App.session)return e.App.session.get("apiProxyBaseUrl");return e.App.frontEndBucket.apiProxyBaseUrl}function d(e){if(e.App.session)return e.App.session.get("csrfToken");return e.App.frontEndBucket.csrfToken}function f(e){if(e.App.brand&&"inherit"!==e.App.brand.protocol)return e.App.brand.protocol;if(e.App.session)return e.App.session.get("protocol");return e.App.frontEndBucket.protocol}function p(e){if(e.App.session)return e.App.session.get("domain");return e.App.frontEndBucket.domain}function g(e){if(e.App.session)return e.App.session.get("siteSubdomain");return e.App.frontEndBucket.siteSubdomain}function h(e){if(e.App.session)return e.App.session.get("siteRef");return e.App.frontEndBucket.siteRef||e.App.site.ref}function v(e){return e.App.manageDomain||"manage"}function m(e){return e.App.frontEndBucket.intercomUserHash}var y=u;t["default"]=y},76938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;var n=arguments.length>1?arguments[1]:void 0;var i=arguments.length>2?arguments[2]:void 0;r(this,e);var a=i.has("enableRows")||n.getEnableRows();this._properties={enableRows:a,multiLanguageEditor:i.has("multiLanguageEditor"),enableDesignMode:i.has("enableDesignMode"),formEmailVerification:i.has("formEmailVerification"),connectBookings:i.has("connectBookings")}}i(e,[{key:"get",value:function e(t){return this._properties[t]}}]);return e}();var o=a;t["default"]=o},87824:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;r(this,e);this._properties=t.App.frontEndBucket.languages}i(e,[{key:"all",value:function e(){return this._properties}},{key:"get",value:function e(t){return this._properties[t]}},{key:"has",value:function e(t){return this._properties[t]}}]);return e}();var o=a;t["default"]=o},65049:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=o(r(248));var a=o(r(95139));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function u(e,t,r){t&&l(e.prototype,t);r&&l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&d(e,t)}function d(e,t){d=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return d(e,t)}function f(e){var t=h();return function r(){var n=v(e),i;if(t){var a=v(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return p(this,i)}}function p(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}var m=function(e){c(r,e);var t=f(r);function r(){s(this,r);return t.apply(this,arguments)}u(r,[{key:"getSiteRef",value:function e(){return this._properties.ref}},{key:"getDefaultLanguage",value:function e(){return i.default.getState().language.defaultLanguage.language}},{key:"extendProperties",value:function e(){var t=this.mainWindow.App.controllerData||{};var r=t.cookiePolicyLocation||{};if("undefined"===typeof this.mainWindow.App.site)return;Object.assign(this._properties,{ref:this.mainWindow.App.site.ref,primaryDomain:this.mainWindow.App.site.primaryDomain.domainName,protocol:this.mainWindow.App.site.protocol,profileRef:this.mainWindow.App.site.profileRef,cookieWarning:this.mainWindow.App.site.cookieWarning,cookieWarningUrl:r.externalLink,activePolicyType:t.activePolicyType,useBrandPolicyContent:t.useBrandPolicyContent,policyPageEnabled:t.policyPageEnabled,policyPageData:t.policyPage,cookiePolicyLocation:r.type})}}]);return r}(a.default);var y=m;t["default"]=y},11473:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=o(r(248));var a=o(r(95139));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function u(e,t,r){t&&l(e.prototype,t);r&&l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&d(e,t)}function d(e,t){d=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return d(e,t)}function f(e){var t=h();return function r(){var n=v(e),i;if(t){var a=v(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return p(this,i)}}function p(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}var m=function(e){c(r,e);var t=f(r);function r(){s(this,r);return t.apply(this,arguments)}u(r,[{key:"getSiteRef",value:function e(){return this._properties.ref}},{key:"getDefaultLanguage",value:function e(){return i.default.getState().language.defaultLanguage.language}},{key:"extendProperties",value:function e(){Object.assign(this._properties,{ref:this.mainWindow.App.session.get("siteRef")})}}]);return r}(a.default);var y=m;t["default"]=y},30174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;r(this,e);this._properties={plugins:t.App.plugins}}i(e,[{key:"has",value:function e(t){return-1!==this._properties.plugins.indexOf(t)}}]);return e}();var o=a;t["default"]=o},84895:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a="ecwid";var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;var n=arguments.length>1?arguments[1]:void 0;r(this,e);this.mainWindow=t;this.userDataProvider=n.userDataProvider;this.featureFlagDataProvider=n.featureFlagDataProvider;this.pluginsDataProvider=n.pluginsDataProvider}i(e,[{key:"getRowGroups",value:function e(){var t=this.mainWindow.App.frontEndBucket.rowGroups;return this._normaliseGroupAndRow(t)}},{key:"_normaliseGroupAndRow",value:function e(t){this._normaliseStoreGroupAndRow(t);this._normaliseBookingsGroupAndRow(t);return t}},{key:"_normaliseStoreGroupAndRow",value:function e(t){this._shouldRemoveStoreWidgets()?this._removeStoreWidgets(t):this._removeEcwidWidget(t)}},{key:"_normaliseBookingsGroupAndRow",value:function e(t){this._shouldRemoveBookingsGroup()&&this._removeBookingsGroup(t)}},{key:"_shouldRemoveStoreWidgets",value:function e(){if(!this._isInV10())return false;return this._isEcwidEnabled()}},{key:"_shouldRemoveBookingsGroup",value:function e(){if(!this._isInV10())return false;return!this._isConnectBookingsEnabled()}},{key:"_isInV10",value:function e(){return"ten"===this.userDataProvider.get("productVersion")}},{key:"_isEcwidEnabled",value:function e(){return this.userDataProvider.has("enableEcwid")}},{key:"_isConnectBookingsEnabled",value:function e(){return this.pluginsDataProvider.has("connect-bookings")&&this.featureFlagDataProvider.get("connectBookings")}},{key:"_removeStoreWidgets",value:function e(t){"store"in t&&(t.store.rows=t.store.rows.filter((function(e){return e.includes(a)})))}},{key:"_removeBookingsGroup",value:function e(t){"bookings"in t&&delete t.bookings}},{key:"_removeEcwidWidget",value:function e(t){"store"in t&&(t.store.rows=t.store.rows.filter((function(e){return!e.includes(a)})))}}]);return e}();var s=o;t["default"]=s},95139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;r(this,e);this.mainWindow=t;this._properties={};this.extendProperties()}i(e,[{key:"get",value:function e(t){return this._properties[t]}},{key:"extendProperties",value:function e(){}}]);return e}();var o=a;t["default"]=o},43695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(248));var i=r(35704);var a=o(r(51868));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function f(e,t,r){t&&d(e.prototype,t);r&&d(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;c(this,e);var r=t.App.user;var o={ref:r.ref,email:r.email,emailVerified:r.emailVerified,subscriptionPackageRef:r.subscriptionPackageRef,productVersion:r.productVersion,languageCode:r.languageCode,subscriptionPackageName:"",dateCreated:r.created&&r.created.date?r.created.date:"",sites:t.App.sites?(0,a.default)(t.App.sites):[],accountHolderMetadata:r.metadata};t.App.package&&t.App.package.name&&(o.subscriptionPackageName=t.App.package.name);var s={multiLanguageEditor:t.App.frontEndBucket&&t.App.frontEndBucket.multiLanguageEditor,disableV8SiteAndPageScripts:0!==parseInt(r.capabilities.disableV8SiteAndPageScripts,10),seoAndRedirects:0!==parseInt(r.capabilities.seoAndRedirects,10),multiLanguageLimit:parseInt(r.capabilities.multiLanguageLimit,10),enableDragAndDropWidgets:parseInt(r.capabilities.enableDragAndDropWidgets,10),formEmailVerification:r.enabledFeatureFlags&&r.enabledFeatureFlags.form_email_verification,connectBookings:r.enabledFeatureFlags&&r.enabledFeatureFlags.connect_bookings_access,imageEditing:0!==parseInt(r.capabilities.imageEditing,10),enableEcwid:0!==parseInt(r.capabilities.enableEcwid,10),enableStandaloneMode:0!==parseInt(r.capabilities.enableStandaloneMode,10)};var u=l(l({},o),{},{capabilities:s});n.default.dispatch((0,i.setUserData)(u))}f(e,[{key:"all",value:function e(){return n.default.getState().user}},{key:"get",value:function e(t){return n.default.getState().user[t]}},{key:"has",value:function e(t){return n.default.getState().user.capabilities[t]}}]);return e}();var g=p;t["default"]=g},84420:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=m;var n=v(r(14555));var i=v(r(76221));var a=v(r(65049));var o=v(r(11473));var s=v(r(43695));var l=v(r(49697));var u=v(r(61748));var c=v(r(87824));var d=v(r(62783));var f=v(r(76938));var p=v(r(58691));var g=v(r(84895));var h=v(r(30174));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=(0,u.default)();e.factory("BrandDataProvider",(function(e){return new n.default(t,{envData:e.EnvDataProvider,siteData:e.SiteDataProvider,userData:e.UserDataProvider})}));e.factory("SiteDataProvider",(function(){var e;e=t.Editor&&t.Editor.Site?i.default:t.App.session?o.default:a.default;return new e(t)}));e.factory("UserDataProvider",(function(){return new s.default(t)}));e.factory("ContentSetDataProvider",(function(){return new p.default(t)}));e.factory("EnvDataProvider",(function(){return new l.default(t)}));e.factory("LanguageDataProvider",(function(){return new c.default(t)}));e.factory("editorSiteLanguageDataProvider",(function(e){return new d.default(t,e.SiteGlobalValuesHelper)}));e.factory("featureFlagDataProvider",(function(e){return new f.default(t,e.SiteDataProvider,e.UserDataProvider)}));e.factory("PluginsDataProvider",(function(){return new h.default(t)}));e.factory("RowGroupProvider",(function(e){return new g.default(t,{userDataProvider:e.UserDataProvider,featureFlagDataProvider:e.featureFlagDataProvider,pluginsDataProvider:e.PluginsDataProvider})}));return e}},81032:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){return BaseKit.Static.fonts}},61748:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){var e=window;try{var t=window.frameElement;t&&t.classList.contains("js-site-frame")&&(e=window.parent)}catch(e){console.log(e)}return e}},21434:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var n=o(r(248));var i=o(r(78712));var a=r(73939);function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){return function(e){var r=e.ref;return"".concat(r)==="".concat(t)}};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r=t?t.getState():n.default.getState();var o=r.language.current;var l=r.language.defaultLanguage.language;var u=""===o||o===l?r.page.pages:r.page.languages[o].pages;return new i.default((0,a.formatPages)(u).find(s(e)))}},83851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){return BaseKit.Globals.profile}},73471:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){return App.session}},3104:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=y(r(41351));var i=y(r(84420));var a=y(r(97077));var o=y(r(94177));var s=y(r(18654));var l=y(r(19737));var u=y(r(40363));var c=y(r(41505));var d=y(r(81866));var f=y(r(46279));var p=y(r(54571));var g=y(r(58817));var h=y(r(12649));var v=y(r(58278));var m=y(r(10186));function y(e){return e&&e.__esModule?e:{default:e}}var b=[i.default,a.default,o.default,f.default,g.default,s.default,c.default,d.default,l.default,u.default,p.default,h.default,v.default,m.default];var w=b.reduce((function(e,t){return t(e)}),new n.default);var _=w;t["default"]=_},36371:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(11474);var i=r(52245);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(t){a(this,e);this.dropAreaTimeout=null;this.draggable=t.draggable;this.iframe=t.iframe;this.$iframe=$(this.iframe);this.iFrameOffset={};this.highlighter=t.highlighter;this.context=t.context;this.userOnDragStart=t.onDragStart||function(){return false};this.userOnDragMove=t.onDragMove||function(){return false};this.userOnDragEnd=t.onDragEnd||function(){return false};this.iframeWindow=this.iframe.contentWindow?this.iframe.contentWindow:this.iframe.contentDocument.defaultView;this.iframeBody=$(this.iframeWindow.document.body)[0];this.highlightWidthString="15px";this.highlightWidth=15;this.maximumColumnLimit=4}s(e,[{key:"load",value:function e(){return{draggableObject:this.draggable,helper:void 0===this.draggable.helper||this.draggable.helper,scroll:true,frameEl:this.iframe,context:this.context||"frame",scrollable:this.iframe,scrollSensitivity:100,draggabilly:this.draggable.handle?{handle:this.draggable.handle}:{},onStart:this.onStart.bind(this),onDrag:this.onDrag.bind(this),onEnd:this.onEnd.bind(this),onDragEndAnimation:this.onDragEndAnimation.bind(this),droppableLeaningAllowed:this.droppableLeaningAllowed.bind(this)}}},{key:"onStart",value:function e(t){var r=this;var n;this.$iframe.css("pointer-events","none");this.iFrameOffset=this.$iframe.offset();if((0,i.isIE)()||(0,i.isEdge)()){n=document.createElement("div");$(n).addClass("drag-layer").css({top:"".concat(this.iFrameOffset.top,"px"),position:"absolute",left:"".concat(this.iFrameOffset.left,"px"),width:"".concat(this.$iframe.width(),"px"),height:"".concat(this.$iframe.height(),"px"),"z-index":1});this.$iframe.parent().append(n);$(this.iframe).css("z-index",-1)}if((0,i.iOSFixRequired)()){var a=document.querySelector(".js-site-preview");var o=a.scrollTop;setTimeout((function(){r.iframe.style.position="absolute";r.iframe.style.top=0;r.iframe.style.left=0;window.scrollTo(0,o)}),200)}this.iframeBody.classList.add("drag-active");document.body.classList.add("drag-active");setTimeout((function(){document.body.classList.remove("show-sidebar");t.draggable=r.draggable;r.userOnDragStart(t)}),100)}},{key:"onDrag",value:function e(t){var r=null;var n;var i;var a;var o;var s;if(null!==t)switch(t.leaning){case"top":i=this.isColumnEmptySpace(t)||this.isMainZone(t)?"".concat(t.height,"px"):this.highlightWidthString;this.setDropIndicatorPosition(this.highlighter,t.x+t.scrollX,t.y+t.scrollY,"".concat(t.width,"px"),i);break;case"bottom":a=t.y+t.scrollY;if(this.isColumnEmptySpace(t)||this.isMainZone(t))i="".concat(t.height,"px");else{i=this.highlightWidthString;a+=t.height-this.highlightWidth}this.setDropIndicatorPosition(this.highlighter,t.x+t.scrollX,a,"".concat(t.width,"px"),i);break;case"left":if(this.isDroppableObjInColumn(t)&&!this.isInMainZone(t)){r=this.getElementBoundaries(t.el.parentNode);s=this.getElementBoundaries(t.el.parentNode.parentNode);this.setDropIndicatorPosition(this.highlighter,r.left+t.scrollX,s.top+t.scrollY,this.highlightWidthString,"".concat(s.height,"px"))}else{n=this.isMainZone(t)?"".concat(t.width,"px"):this.highlightWidthString;this.setDropIndicatorPosition(this.highlighter,t.x+t.scrollX,t.y+t.scrollY,n,"".concat(t.height,"px"))}break;case"right":if(this.isDroppableObjInColumn(t)&&!this.isInMainZone(t)){r=this.getElementBoundaries(t.el.parentNode);s=this.getElementBoundaries(t.el.parentNode.parentNode);this.setDropIndicatorPosition(this.highlighter,r.left+t.scrollX+r.width-this.highlightWidth,s.top+t.scrollY,this.highlightWidthString,"".concat(s.height,"px"))}else{o=t.x+t.scrollX;if(this.isMainZone(t))n="".concat(t.width,"px");else{n=this.highlightWidthString;o+=t.width-this.highlightWidth}this.setDropIndicatorPosition(this.highlighter,o,t.y+t.scrollY,n,"".concat(t.height,"px"))}break}else this.setDropIndicatorPosition(this.highlighter,0,0,0,0);this.userOnDragMove(this.draggable)}},{key:"onEnd",value:function e(t){var r=this;var a=t.dropped;this.draggable.el.style.display="none";if(a&&this.draggable.wasMoved){clearTimeout(this.dropAreaTimeout);this.dropAreaTimeout=setTimeout((function(){r.iframeBody.classList.remove("drag-active");document.body.classList.remove("drag-active")}),500)}else{this.iframeBody.classList.remove("drag-active");document.body.classList.remove("drag-active")}this.$iframe.css("pointer-events","");if((0,i.isIE)()||(0,i.isEdge)()){$(".drag-layer").remove();$(this.iframe).css("z-index",0)}if((0,i.iOSFixRequired)()){this.$iframe.css({position:"",top:"",left:""});(0,i.isiOSTablet)()&&(0,n.hasOrientation)("landscape")&&$("body").css({height:""})}this.setDropIndicatorPosition(this.highlighter,0,0,0,0);t.draggable=this.draggable;this.userOnDragEnd(t)}},{key:"onDragEndAnimation",value:function e(){var t=document.querySelector(".js-move-drag");t&&(t.style.display="none");this.iframeWindow.document.querySelectorAll(".js-column-drop").forEach((function(e){e.classList.remove("highlight")}))}},{key:"droppableLeaningAllowed",value:function e(t){var r=t.getDroppableObject();if(this.isDroppableObjInColumn(r)&&this.isLeaningTopOrBottom(t))return true;return!this.isMaxColumnExceeded(r)}},{key:"isLeaningTopOrBottom",value:function e(t){return"top"===t.leaning||"bottom"===t.leaning}},{key:"isMaxColumnExceeded",value:function e(t){if(this.isDroppableObjInColumn(t)){var r=t.el.parentNode;var n=r.parentNode;if(n&&n.childElementCount===this.maximumColumnLimit)return true}return false}},{key:"isDroppableObjInColumn",value:function e(t){var r=t.el.parentNode;return r&&r.classList.contains("column")}},{key:"isColumnEmptySpace",value:function e(t){return t.el.classList.contains("js-column-drop")}},{key:"setDropIndicatorPosition",value:function e(t,r,n,i,a){0===i&&0===a?Object.assign(t.style,{top:0,left:0,width:0,height:0,display:"none"}):Object.assign(t.style,{top:"".concat(n,"px"),left:"".concat(r,"px"),width:i,height:a,display:"block"})}},{key:"getElementBoundaries",value:function e(t){return t.getBoundingClientRect()}},{key:"isInMainZone",value:function e(t){return"page-zones__main"===t.el.parentNode.id}},{key:"isMainZone",value:function e(t){return"page-zones__main"===t.el.id}}]);return e}();var u=l;t["default"]=u},96266:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(36371));var i=a(r(71347));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(t){o(this,e);this.featureFlagDataProvider=t.featureFlagDataProvider;this.userDataProvider=t.userDataProvider}l(e,[{key:"build",value:function e(t){var r=this.featureFlagDataProvider.get("enableRows");var a=this.userDataProvider.has("enableDragAndDropWidgets");var o=r&&a?new i.default(t):new n.default(t);return o.load()}}]);return e}();var c=u;t["default"]=c},84874:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.featureFlagDataProvider=t.featureFlagDataProvider;this.userDataProvider=t.userDataProvider}i(e,[{key:"isEligible",value:function e(t){var r=this.featureFlagDataProvider.get("enableRows");var n=this.userDataProvider.has("enableDragAndDropWidgets");if(r&&n)return this.isEligibleInCustomRowModel(t);if(this.featureFlagDataProvider.get("enableRows"))return this.isEligibleInRowModel(t);if(t.properties.fixed||t.properties.isZone)return false;return true}},{key:"isEligibleInRowModel",value:function e(t){var r="widget.row"===t.properties.type;var n="preheader"===t.properties.parentZone;var i="header"===t.properties.parentZone;var a="footer"===t.properties.parentZone;var o=true===t.properties.fixed;var s=i||a||n||o;if(!r)return false;if(r&&s)return false;return true}},{key:"isEligibleInCustomRowModel",value:function e(t){var r=this.isPreheader(t);var n=this.isHeader(t);var i=this.isFooter(t);var a=this.isMainZone(t);var o=true===t.properties.fixed;var s=n||i||r||o;if(s||a)return false;return true}},{key:"isMainZone",value:function e(t){return"main"===t.properties.name}},{key:"isPreheader",value:function e(t){return"preheader"===t.properties.parentZone||"preheader"===t.properties.name}},{key:"isHeader",value:function e(t){var r="header"===t.properties.parentZone;var e="header"===t.properties.name;return r||e}},{key:"isFooter",value:function e(t){var r="footer"===t.properties.parentZone;var e="footer"===t.properties.name;return r||e}}]);return e}();var o=a;t["default"]=o},71347:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=s(r(248));var a=r(52245);var o=s(r(36371));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function c(e,t,r){t&&u(e.prototype,t);r&&u(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function d(){d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function e(t,r,n){var i=f(t,r);if(!i)return;var a=Object.getOwnPropertyDescriptor(i,r);if(a.get)return a.get.call(arguments.length<3?t:n);return a.value};return d.apply(this,arguments)}function f(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=b(e);if(null===e)break}return e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return g(e,t)}function h(e){var t=y();return function r(){var n=b(e),i;if(t){var a=b(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return v(this,i)}}function v(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var w=function(e){p(r,e);var t=h(r);function r(e){var n;l(this,r);n=t.call(this,e);n.changeHighlightWidth(16);n.isIE=(0,a.isIE)();n.scale=1;n.defaultOverlayPadding=6;n.draggableWidget=null;n.clonedDraggableWidget=null;return n}c(r,[{key:"load",value:function e(){return Object.assign(d(b(r.prototype),"load",this).call(this),{onStart:this.onStart.bind(this),onDrag:this.onDrag.bind(this),onEnd:this.onEnd.bind(this),dropIsAllowed:this.dropIsAllowed.bind(this),droppableLeaningAllowed:this.droppableLeaningAllowed.bind(this),normaliseTargetDroppable:this.normaliseTargetDroppable.bind(this)})}},{key:"onStart",value:function e(t){var n=this;if(this.isWidgetInRow()){document.querySelector("body").classList.add("widget-in-row-dragging");this.enableDraggableWidget();this.updateDraggableWidgetPosition(t.event)}else t.instance.element.classList.add("version-ten");d(b(r.prototype),"onStart",this).call(this,t);(0,a.iOSFixRequired)()&&setTimeout((function(){n.iframe.style.top="40px"}),200)}},{key:"onDrag",value:function e(t,n){this.isWidgetInRow()&&this.updateDraggableWidgetPosition(n);d(b(r.prototype),"onDrag",this).call(this,t)}},{key:"onEnd",value:function e(t){d(b(r.prototype),"onEnd",this).call(this,t);if(this.isWidgetInRow()){this.disableDraggableWidget(t.dropped);document.querySelector("body").classList.remove("widget-in-row-dragging")}else t.instance.element.classList.remove("version-ten")}},{key:"normaliseTargetDroppable",value:function e(t){this.hasReverseLayout(t)?"right"===t.leaning?t.leaning="left":"left"===t.leaning&&(t.leaning="right"):this.hasFlexColumnLayout(t)&&!this.isResponsiveColumns(t.getDroppableObject())&&("top"===t.leaning?t.leaning="left":"bottom"===t.leaning&&(t.leaning="right"));return t}},{key:"dropIsAllowed",value:function e(t){if(this.isWidgetInRow())return!this.isRowWidget(t);if(this.isRowMoveMode())return this.isRowWidget(t);return true}},{key:"droppableLeaningAllowed",value:function e(t){if(!t.leaning||!d(b(r.prototype),"droppableLeaningAllowed",this).call(this,t))return false;var n=t.getDroppableObject();if(this.isResponsiveColumns(n)&&this.isLeaningLeftOrRight(t))return false;if(this.hasFlexColumnLayout(t)&&(this.isLeaningLeftOrRight(t)||this.isRestrictedFlexColumnLeaning(t)))return false;if(this.isWidgetInRow())return true;return!(this.isRowWidget(n)&&this.isLeaningLeftOrRight(t))}},{key:"hasReverseLayout",value:function e(t){var r=t.el.closest(".js-row");return r&&r.classList.contains("row--layout-reverse")}},{key:"hasFlexColumnLayout",value:function e(t){var r=t.el.closest(".js-row");return r&&(r.classList.contains("row--layout-image-text-1c")||r.classList.contains("row--layout-image-text-2b"))}},{key:"isRestrictedFlexColumnLeaning",value:function e(t){var n=t.getDroppableObject();if(d(b(r.prototype),"isDroppableObjInColumn",this).call(this,n)&&d(b(r.prototype),"isMaxColumnExceeded",this).call(this,n))return true;if(!this.isResponsiveColumns(n)||!this.isWidgetInRow())return false;var i=this.draggableWidget.parentNode;var a=i.parentNode;if(a&&a.childElementCount===this.maximumColumnLimit&&d(b(r.prototype),"isLeaningTopOrBottom",this).call(this,t))return false;var o=i.classList.contains("column");if(a&&o&&d(b(r.prototype),"isLeaningTopOrBottom",this).call(this,t))return true;return false}},{key:"isRowWidget",value:function e(t){return t.model&&"widget.row"===t.model.widgetType||t.properties&&"widget.row"===t.properties.type}},{key:"isResponsiveColumns",value:function e(t){return t.isResponsiveColumns}},{key:"isLeaningLeftOrRight",value:function e(t){return"left"===t.leaning||"right"===t.leaning}},{key:"isWidgetInRow",value:function e(){return this.draggable.proxied&&this.draggable.proxied.el}},{key:"isRowMoveMode",value:function e(){return i.default.getState().site.isRowMoveMode}},{key:"changeHighlightWidth",value:function e(t){this.highlightWidthString="".concat(t,"px");this.highlightWidth=t}},{key:"enableDraggableWidget",value:function e(){this.isContentGroupWidget(this.draggable.proxied)&&(this.defaultOverlayPadding=20);this.draggableWidget=this.draggable.proxied.el;this.draggableWidget.style.width="".concat(this.draggableWidget.offsetWidth,"px");this.clonedDraggableWidget=this.draggableWidget.cloneNode(true);this.clonedDraggableWidget.classList.add("is-invisible-widget");this.draggableWidget.parentNode.insertBefore(this.clonedDraggableWidget,this.draggableWidget);this.draggableWidget.classList.add("drag-active-widget");if(this.isIE){this.draggableWidget.style.transformOrigin="0 0";this.draggableWidget.style.transform="scale(".concat(this.scale,")")}}},{key:"disableDraggableWidget",value:function e(t){var r=this;this.defaultOverlayPadding=6;if(t){this.draggableWidget.classList.add("is-invisible-widget");setTimeout((function(){r.draggableWidget.classList.remove("is-invisible-widget")}),500)}this.draggableWidget.removeAttribute("style");this.draggableWidget.classList.remove("drag-active-widget");this.clonedDraggableWidget.parentNode.removeChild(this.clonedDraggableWidget);this.clonedDraggableWidget=null}},{key:"updateDraggableWidgetPosition",value:function e(t){var r=this.getDragOffset(t);this.draggableWidget.style.top="".concat(r.top,"px");this.draggableWidget.style.left="".concat(r.left,"px")}},{key:"getDragOffset",value:function e(t){var r=Math.floor(this.defaultOverlayPadding*this.scale);var n=this.draggableWidget.getBoundingClientRect();var i=this.iframe.getBoundingClientRect();var a=t.pageX-n.width/2-i.left;var o=t.pageY+r-i.top;return{left:a,top:o}}},{key:"isContentGroupWidget",value:function e(t){return"widget.contentgroup"===t.properties.type}}]);return r}(o.default);var _=w;t["default"]=_},13277:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={init:function e(){},addObservation:function e(){},showProxy:function e(){},addToInitQueue:function e(){}};var n=r;t["default"]=n},82340:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.globals=t.getGlobals=t["default"]=void 0;var n=i(r(92107));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.templateStylePreprocessorVariablesTree,n=void 0===r?{}:r;a(this,e);this.templateStylePreprocessorVariablesTree=n}s(e,[{key:"formattedImages",value:function e(t){var r=[];for(var n in t)t[n]&&r.push(t[n]);return r}},{key:"filterUnusedPresetAttributes",value:function e(){var t=["@color--light","@color--dark","@color--accent","@siteBackgroundColor","@siteBackgroundGradientType","@siteBackgroundGradientFrom","@siteBackgroundGradientTo","@siteBackgroundImageScale","@siteBackgroundImage","@siteBackgroundPositionX","@siteBackgroundPositionY","@siteBackgroundRepeat"];var r=App.frontEndBucket.sitePresetAttributes;var n=r.filter((function(e){return-1!==t.indexOf(e.name)}));return n}},{key:"initializeGlobalAssets",value:function e(){var t=document.querySelector("#siteFrame").contentWindow.Server.plugins.assets;BaseKit.Globals.ImageAssets&&void 0===BaseKit.Globals.imageAssets&&(BaseKit.Globals.imageAssets=new BaseKit.Globals.ImageAssets(this.formattedImages(t.images)));BaseKit.Globals.FileAssets&&void 0===BaseKit.Globals.fileAssets&&(BaseKit.Globals.fileAssets=new BaseKit.Globals.FileAssets(t.files))}},{key:"initializeGlobalValues",value:function e(){var t=App.frontEndBucket.siteGlobalValues;if(BaseKit.Globals.SiteGlobalValuesCollection&&void 0===BaseKit.Globals.globalValues){BaseKit.Globals.globalValues=new BaseKit.Globals.SiteGlobalValuesCollection(t);BaseKit.Globals.globalValues.siteRef=App.session.get("siteRef")}}},{key:"initializeGlobalProfile",value:function e(){var t=document.querySelector("#siteFrame").contentWindow.Profile;var r=Object.assign({ref:t.ref},t.profile);if(BaseKit.Globals.Profile&&void 0===BaseKit.Globals.profile){BaseKit.Globals.profile=new BaseKit.Globals.Profile(r);BaseKit.Globals.profile.stateManager=new n.default(BaseKit.Globals.profile);BaseKit.Globals.profile.stateManager.storeCurrentState()}else if(BaseKit.Globals.profile){BaseKit.Globals.profile.off();BaseKit.Globals.profile.clear({silent:true});BaseKit.Globals.profile.set(r);BaseKit.Globals.profile.stateManager.storeCurrentState()}}},{key:"initializePresetAttributes",value:function e(){if(BaseKit.Globals.PresetAttributes&&void 0===BaseKit.Globals.presetAttributes){var t=BaseKit.Globals.PresetAttributes;BaseKit.Globals.presetAttributes=new t(this.filterUnusedPresetAttributes())}}},{key:"handleStylesVariables",value:function e(t,r){var n=[];var i={};t.forEach((function(e){if(e.fontType){i[e.fontType]||(i[e.fontType]=[]);i[e.fontType].push(e)}else n.push(e)}));for(var a in i)if(i[a]){var o=i[a];var s={type:"font",name:a,translation:o[0].translation,siteRef:o[0].siteRef,widget:o[0].widget,section:o[0].section,variables:this.getFontVariables(o)};n.push(s)}this.allStylePreprocessorVariables=this.allStylePreprocessorVariables.concat(n);BaseKit.Globals.templateStylePreprocessorVariableSections[r]=new BaseKit.Globals.TemplateStylePreprocessorVariables(n)}},{key:"getFontVariables",value:function e(t){var r=[];t.forEach((function(e){r.push(e)}));return r}},{key:"initializeTemplateStylePreprocessorVariables",value:function e(t){if(BaseKit.Globals.TemplateStylePreprocessorVariables&&void 0===BaseKit.Globals.templateStylePreprocessorVariableSections){BaseKit.Globals.templateStylePreprocessorVariableSections=[];this.allStylePreprocessorVariables=[];for(var r in t)if(t[r]){var n=t[r];var i=n.variables;this.handleStylesVariables(i,r)}BaseKit.Globals.templateStylePreprocessorVariables=new BaseKit.Globals.TemplateStylePreprocessorVariables(this.allStylePreprocessorVariables)}}},{key:"init",value:function e(){this.initializeGlobalAssets();this.initializeGlobalValues();this.initializeGlobalProfile();this.initializePresetAttributes();this.initializeTemplateStylePreprocessorVariables(this.templateStylePreprocessorVariablesTree)}}]);return e}();t["default"]=l;var u=BaseKit.Globals;t.globals=u;var c=function e(){return BaseKit.Globals||window.BaseKit.Globals};t.getGlobals=c},59200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(248));var i=o(r(42316));var a=r(3786);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return d(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function h(e,t,r){t&&g(e.prototype,t);r&&g(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var v=function(){function e(){p(this,e);this.iframe=document.getElementById("siteFrame");this.window=this.iframe.contentWindow||this.iframe.contentDocument.defaultView}h(e,[{key:"replaceCss",value:function e(t){this.window.document.querySelector(".js-compiled-styles").textContent=t}},{key:"cleanUpStyles",value:function e(){var t=this.window.document.querySelector(".js-initial-styles");null!==t&&t.remove()}},{key:"hideZoneOverlays",value:function e(){var t=this.window.document.querySelectorAll(".bk-zone-overlay");s(t).forEach((function(e){e.style.display="none"}))}},{key:"showZoneOverlays",value:function e(){var t=this.window.document.querySelectorAll(".bk-zone-overlay");s(t).forEach((function(e){e.style.display="block"}))}}]);return e}();var m={Site:null,Events:new Backbone.Wreqr.EventAggregator,Models:{},Collections:{},load:function e(){var t=this;var r=document.getElementById("siteFrame");var o=r.contentWindow||r.window;o.addEventListener("unload",(function(){return t.unloadCleanUp()}));m.Site=o.Site;m.Profile=o.Profile;m.getGlobals();m.Site.Dom=new v;App.session=m.Site.Dom.window.App.session;if(BaseKit.Globals.Pages&&void 0===BaseKit.Globals.pages){var s=App.pageTree;BaseKit.Globals.pages=new i.default(s);n.default.dispatch((0,a.addPages)(s));n.default.dispatch((0,a.setCurrentPage)(App.session.get("pageRef")));this.addSiteLanguagePagesToCollection(App.siteLanguagesPageTree);n.default.dispatch((0,a.addLanguagesPageTree)(App.siteLanguagesPageTree))}var l=m.Site.Dom.window;n.default.dispatch((0,a.setCurrentPage)(App.session.get("pageRef")));n.default.dispatch((0,a.setCurrentPageTextEntryMetadata)(l.Server.page.isRTLLanguage))},unloadCleanUp:function e(){BaseKit.Globals.pages&&BaseKit.Globals.pages.off()},getGlobals:function e(){var t=App.frontEndBucket.siteGlobalValues;null!==m.Site&&t.length>0&&t.forEach((function(e){m.Site.Globals[e.name]=e.value}))},showZoneOverlays:function e(){m.Site.Dom.showZoneOverlays()},hideZoneOverlays:function e(){m.Site.Dom.hideZoneOverlays()},addSiteLanguagePagesToCollection:function e(t){Object.keys(t).forEach((function(e){BaseKit.Globals.pages.addFromPageTree(t[e].pages)}))}};window.Editor=m;var y=m;t["default"]=y},48053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);this._envDataProvider=t.envDataProvider;this._parseQueryString=t.parseQueryString;this._notification=t.notification}i(e,[{key:"display",value:function e(){var t=this._parseQueryString();var r=this._envDataProvider.get("errors");t.error&&r[t.error]&&this._notification(void 0,r[t.error],"error")}}]);return e}();var o=a;t["default"]=o},71642:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){var n=t.brandDataProvider,i=t.DialogPanelView,a=t.SessionTimeoutDialogView;r(this,e);this.brandDataProvider=n;this.DialogPanelView=i;this.SessionTimeoutDialogView=a}i(e,[{key:"display",value:function e(){var t=this.brandDataProvider.get("loginUrl");return new this.DialogPanelView({contentClassname:"dialog__content--center",title:App.t("editor.dialog.title.session-timeout","Session Timeout"),content:new this.SessionTimeoutDialogView({brandLoginUrl:t})})}}]);return e}();var o=a;t["default"]=o},94177:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=c;var n=u(r(41117));var i=u(r(97));var a=u(r(34543));var o=u(r(25683));var s=u(r(71642));var l=u(r(48053));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){e.factory("SessionErrorMessage",(function(e){return new l.default({parseQueryString:n.default,notification:i.default,envDataProvider:e.EnvDataProvider})}));e.factory("SessionTimeoutDialog",(function(e){return new s.default({brandDataProvider:e.BrandDataProvider,DialogPanelView:a.default,SessionTimeoutDialogView:o.default})}));return e}},52747:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.siteDataProvider,n=void 0===r?{}:r,i=t.envDataProvider,o=void 0===i?{}:i,s=t.siteGlobalValuesCollection,l=void 0===s?{}:s;a(this,e);this.siteDataProvider=n;this.envDataProvider=o;this.siteGlobalValuesCollection=l}s(e,[{key:"getValue",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var n=this.siteGlobalValuesCollection.get(t);if("undefined"!==typeof n)return n.get("value");return r}},{key:"saveValue",value:function e(t,r){var n=this.siteDataProvider.getSiteRef();var i=this.siteGlobalValuesCollection.get(t);var a={siteRef:n,name:t,value:r};if("undefined"!==typeof i)return this.updateModel(t,a,i);return this.addModel(a)}},{key:"updateModel",value:function e(t,r,i){i.set(n({},r));return this.putToServer(t,r)}},{key:"addModel",value:function e(t){this.siteGlobalValuesCollection.add(t);return this.postToServer(t)}},{key:"putToServer",value:function e(t,r){var n=this.siteDataProvider.getSiteRef();var i="".concat(this.envDataProvider.get("apiProxyBaseUrl"),"/sites/").concat(n,"/global-values/").concat(t);var a=this.envDataProvider.get("csrfToken");return new Promise((function(e,t){window.fetch(i,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":a},method:"PUT",body:JSON.stringify(r)}).then(e(r)).catch(t)}))}},{key:"postToServer",value:function e(t){var r=this.siteDataProvider.getSiteRef();var n="".concat(this.envDataProvider.get("apiProxyBaseUrl"),"/sites/").concat(r,"/global-values");var i=this.envDataProvider.get("csrfToken");return new Promise((function(e,r){window.fetch(n,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":i},method:"POST",body:JSON.stringify(t)}).then(e(t)).catch(r)}))}}]);return e}();var u=l;t["default"]=u},94014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.openIntercom=t.closeIntercom=void 0;var r=window.matchMedia("(max-width: 930px)").matches;var n=function e(){window.Intercom&&!r&&window.Intercom("update",{hide_default_launcher:false})};t.openIntercom=n;var i=function e(){window.Intercom&&!r&&window.Intercom("update",{hide_default_launcher:true})};t.closeIntercom=i},40923:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(42316);var i=Marionette.ItemView.extend({events:{"click .js-dialog-backstop":"closePanel","click .js-save":"saveClicked","change .js-link-action":"linkActionChanged","click .js-close-dialog":"closePanel","change .js-external-link":"externalLinkChange","keyup .js-external-link":"externalLinkChange","keyup .js-email":"emailChanged","keyup .js-phone-number":"phoneNumberChanged","keypress .js-external-link":"updateExternalLinkTriggered","change .js-external-target":"externalLinkTargetChange","click .js-internal-link":"internalLinkClicked","click .js-remove-link":"removeLinkClicked"},initialize:function e(t){this.currentUrl=t.url||"";this.currentTarget=t.target||"";this.originalUrl=this.currentUrl;this.originalTarget=this.currentTarget;this.linkAction=this._getLinkAction();this.initialLinkAction=this.linkAction;this.listenTo(this,"close:panel",this.closePanel);return this},renderHTML:function e(){var t=this._getContext();this.$el.empty().append(Twig.render(Twig.templates.view_link_editor_dialog,t))},render:function e(){this.renderHTML();this.moveToBody();this.afterRender();return this},afterRender:function e(){this.isLinkEditorOpen=true;"internal"===this.linkAction&&this._scrollToShowSelectedInternalLinkItem();this._setViewElementFocused()},moveToBody:function e(){var t=this.$el.appendTo("body");this.setElement(t)},closePanel:function e(){this.destroy()},saveClicked:function e(){this.notify()},removeLinkClicked:function e(){this.trigger("link:remove");this.destroy()},notify:function e(){this.trigger("link:change",{target:this.currentTarget,url:this.currentUrl});this.destroy()},destroy:function e(){this.isLinkEditorOpen=false;this.trigger("linkEditor:close");this.remove()},linkActionChanged:function e(t){this.linkAction=t.currentTarget.value;if(this.initialLinkAction===this.linkAction){this.currentUrl=this.originalUrl;this.currentTarget=this.originalTarget}else{this.currentUrl="";this.currentTarget="_self"}this.renderHTML();this.afterRender()},internalLinkClicked:function e(t){var r=t.currentTarget;var n=this._getSelectedInternalPageElement();n&&n.classList.remove("selected");r.classList.add("selected");this.currentUrl=t.currentTarget.dataset.itemValue;this._setDoneButtonEnabled(true)},externalLinkChange:function e(){var t=this.$(".js-external-link").val().trim();var r=/^((http|ftp|ftps|https):\/\/)?[\u00C0-\u1FFE\u2C00-\uD7FB\w\-_]+(\.[\u00C0-\u1FFE\u2C00-\uD7FB\w\-_]+)+([\u00C0-\u1FFE\u2C00-\uD7FB\w\-\.,@?\^=%&amp;:\/~\+#!]*[\u00C0-\u1FFE\u2C00-\uD7FB\w\-\@?\^=%&amp;\/~\+#])?$/i;var n=/^(http|ftp|ftps|https)$/i;var i=t.match(r);var a=""!==t;if(a){r.test(t)&&!n.test(i[2])&&(t="http://".concat(t));this.currentUrl=t}this._setDoneButtonEnabled(a)},updateExternalLinkTriggered:function e(t){var r=t.keyCode||t.which;if(13===r){this.externalLinkChange();this.notify()}},externalLinkTargetChange:function e(t){var r=t.currentTarget;this.currentTarget=r.checked?"_blank":"_self";this._setDoneButtonEnabled(this._isLinkAvailable())},emailChanged:function e(t){var r=t.currentTarget.value;var n=this.el.querySelector(".js-email-address-container");var i=/.+@.+/;if(i.test(r)){n.classList.remove("cl-form-fields__container--errored");this.currentUrl="mailto:".concat(r);this._setDoneButtonEnabled(true)}else{n.classList.add("cl-form-fields__container--errored");this._setDoneButtonEnabled(false)}},phoneNumberChanged:function e(t){var r=t.currentTarget.value.trim();if(""!==r){this.currentUrl="tel:".concat(r);this._setDoneButtonEnabled(true)}else this._setDoneButtonEnabled(false)},isOpen:function e(){return this.isLinkEditorOpen},_getContext:function e(){return{action:this.linkAction,target:this._getTarget(),url:this._getUrl(),pages:(0,n.getActiveLanguageInternalPages)(),hasRemoveLink:this._hasRemoveLink(),initialLinkAction:this.initialLinkAction}},_getLinkAction:function e(){if(!this._isInEditor()||!this.currentUrl)return"external";var t=/^https?:\/\//.test(this.currentUrl);var r=/@/.test(this.currentUrl);var n=/tel:/.test(this.currentUrl);if(t)return"external";if(r)return"mail";if(n)return"phone";return"internal"},_getTarget:function e(){return this.currentTarget||"_self"},_getUrl:function e(){return this.currentUrl.replace(/^(mailto:|tel:)/gi,"")},_hasRemoveLink:function e(){return""!==this.originalUrl&&void 0!==this.originalUrl},_isInEditor:function e(){var t=false;"undefined"!==typeof Editor&&Editor&&Editor.Site&&(t=true);return t},_isLinkAvailable:function e(){return""!==this.currentUrl},_getSelectedInternalPageElement:function e(){return this.el.querySelector(".js-internal-link.selected")},_setDoneButtonEnabled:function e(t){var r=this.el.querySelector(".js-save");r.disabled=!t;t?r.classList.remove("cl-button--disabled"):r.classList.add("cl-button--disabled")},_scrollToShowSelectedInternalLinkItem:function e(){var t=this._getSelectedInternalPageElement();if(!t)return;var r=this.el.querySelector(".js-page-select-list-content");var n=r.getBoundingClientRect();var i=t.getBoundingClientRect();var a=i.bottom-n.bottom;a>0&&(r.scrollTop+=a)},_setViewElementFocused:function e(){var t=document.querySelector(".js-close-dialog");setTimeout((function(){t.focus()}),500)}});var a=i;t["default"]=a},56479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(7771));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return l(e)||s(e)||d(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e){if(Array.isArray(e))return f(e)}function u(e,t){return g(e)||p(e,t)||d(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n=[];var i=true;var a=false;var o,s;try{for(r=r.call(e);!(i=(o=r.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;s=e}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw s}}return n}function g(e){if(Array.isArray(e))return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function m(e,t,r){t&&v(e.prototype,t);r&&v(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var y=function(){function e(t){h(this,e);this.templateRenderer=t.templateRenderer;this.rowPanelPreferences=t.rowPanelPreferences;this.envDataProvider=t.envDataProvider;this.rowGroupProvider=t.rowGroupProvider;this.rowGroupData=this.rowGroupProvider.getRowGroups();this.rowPreviewTemplates=[];this.maxWidthForFullScreenMode=875;this.resizeHandler=null}m(e,[{key:"init",value:function e(){this._bindEvents();this._renderRowGroupMenu();this._renderRowGroupList();this._show()}},{key:"remove",value:function e(){this._hide();this._unbindEvents();this._removeRowGroupList();this._removeRowGroupMenu()}},{key:"_bindEvents",value:function e(){Editor.Events.on("category:change",this._categoryChanged.bind(this));this.resizeHandler=this._resize.bind(this);window.addEventListener("resize",this.resizeHandler,false);this._loadingElementShow()}},{key:"_unbindEvents",value:function e(){Editor.Events.off("category:change");window.removeEventListener("resize",this.resizeHandler,false)}},{key:"_siteDocument",value:function e(){return window.frames.siteFrame.document}},{key:"_liveRowPreviewContainer",value:function e(){return this._siteDocument().getElementById("liveRowPreviewContainer")}},{key:"_rowTemplateGroupMenu",value:function e(){return this._siteDocument().querySelector(".js-row-template-groups-menu")}},{key:"_rowTemplateGroupList",value:function e(){return this._siteDocument().querySelector(".js-row-template-groups-list")}},{key:"_loadingElement",value:function e(){return this._siteDocument().querySelector(".js-loading")}},{key:"_loadingElementShow",value:function e(){this._loadingElement().removeAttribute("hidden")}},{key:"_loadingElementHide",value:function e(){this._loadingElement().setAttribute("hidden","hidden")}},{key:"_show",value:function e(){this._liveRowPreviewContainer().classList.add("show")}},{key:"_hide",value:function e(){this._liveRowPreviewContainer().classList.remove("show")}},{key:"_renderRowGroupMenu",value:function e(){var t=this;var r=this._rowTemplateGroupMenu();Object.entries(this.rowGroupData).forEach((function(e){var i=u(e,2),a=i[0],o=i[1];var s=t.templateRenderer.render("row_preview_group_menu_item",{groupTitle:(0,n.default)("editor.row_panel.row_group_".concat(a),o.displayName),id:a});r.insertAdjacentHTML("beforeend",s)}))}},{key:"_renderRowGroupList",value:function e(){var t=this;var r=this._rowTemplateGroupList();var i="";Object.entries(this.rowGroupData).forEach((function(e){var r=u(e,2),a=r[0],o=r[1];i+=t.templateRenderer.render("row_preview_group",{isSelected:"image_text"===a,isHighlighted:"image_text"===a,groupTitle:(0,n.default)("editor.row_panel.row_group_".concat(a),o.displayName),rows:o.rows,id:a,showNames:t.rowPanelPreferences.getShowNames()})}));r.insertAdjacentHTML("beforeend",i)}},{key:"_removeRowGroupList",value:function e(){a(this._rowTemplateGroupList().childNodes).forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"_removeRowGroupMenu",value:function e(){a(this._rowTemplateGroupMenu().childNodes).forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"_fetchLiveRows",value:function e(t){return fetch("/_/row-previews",{headers:{"X-CSRF-Token":this.envDataProvider.get("csrfToken")},credentials:"include"}).then((function(e){return e.json()})).then((function(e){t.callback(e)}))}},{key:"_fetchLiveRowTemplates",value:function e(t){var r=this;return new Promise((function(e){if(r._isGroupTemplateLoaded(t)){e(r.rowPreviewTemplates[t]);return}r._fetchLiveRows({callback:function n(i){r._processLiveRowTemplates(i);e(r.rowPreviewTemplates[t])}})}))}},{key:"_processLiveRowTemplates",value:function e(t){var r=this;Object.entries(this.rowGroupData).forEach((function(e){var n=u(e,2),i=n[0],a=n[1];r.rowPreviewTemplates[i]=t.filter((function(e){return a.rows.includes(e.id)}))}))}},{key:"_isGroupTemplateLoaded",value:function e(t){return void 0!==this.rowPreviewTemplates[t]}},{key:"_categoryChanged",value:function e(){this._isFullScreenMode()?this._renderAllRowPreviews():this._renderSelectedRowPreviews()}},{key:"_isFullScreenMode",value:function e(){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||document.body.offsetWidth;return t<=this.maxWidthForFullScreenMode}},{key:"_resize",value:function e(){this._isFullScreenMode()&&this._renderAllRowPreviews()}},{key:"_renderSelectedRowPreviews",value:function e(){var t=this._siteDocument().querySelector(".js-row-template-group.is-selected");this._renderRowGroupPreviews(t.getAttribute("data-id"))}},{key:"_renderAllRowPreviews",value:function e(){var t=this;var r='.js-row-template-group:not([data-rendered="true"])';var n=this._siteDocument().querySelectorAll(r);n.forEach((function(e){t._renderRowGroupPreviews(e.getAttribute("data-id"))}))}},{key:"_renderLiveRows",value:function e(t){var r=this;var n=this._liveRowPreviewContainer();var i=".js-row-template-group";"groupId"in t&&(i='.js-row-template-group[data-id="'.concat(t.groupId,'"]'));t.rowJSON.forEach((function(e){var t="".concat(i,' .js-row-template-preview-markup[data-row-template-id="').concat(e.id,'"]');a(n.querySelectorAll(t)).forEach((function(t){t.insertAdjacentHTML("beforeend",e.html)}));a(n.querySelectorAll(".js-row-template-preview-markup img")).forEach((function(e){e.addEventListener("load",(function(){r._isFullScreenMode()?r._fixRowPreviewHeight():r._fixSelectedRowPreviewHeight()}))}))}));this._isFullScreenMode()||this._fixSelectedRowPreviewHeight();this._loadingElementHide()}},{key:"_renderRowGroupPreviews",value:function e(t){var r=this;var n=this._siteDocument().querySelector('.js-row-template-group[data-id="'.concat(t,'"]'));var i=null!==n.getAttribute("data-rendered");i||this._fetchLiveRowTemplates(t).then((function(e){r._renderLiveRows({rowJSON:e,groupId:t});n.setAttribute("data-rendered",true)}));this._isFullScreenMode()?this._fixRowPreviewHeight():this._fixSelectedRowPreviewHeight();window.frames.siteFrame.addEventListener("resize",this._fixRowPreviewHeight.bind(this),false)}},{key:"_fixRowPreviewHeight",value:function e(){a(this._siteDocument().querySelectorAll(".js-row-template-preview-markup")).forEach((function(e){e.parentElement.style.height="".concat(e.getBoundingClientRect().height,"px")}))}},{key:"_fixSelectedRowPreviewHeight",value:function e(){var t=this._siteDocument().querySelector(".js-row-template-group.is-selected");a(t.querySelectorAll(".js-row-template-preview-markup")).forEach((function(e){e.parentElement.style.height="".concat(e.getBoundingClientRect().height,"px")}))}}]);return e}();var b=y;t["default"]=b},12649:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=o;var n=a(r(75747));var i=a(r(56479));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){e.factory("RowPanelPreferences",(function(){return n.default}));e.factory("LiveRowPreviewService",(function(e){return new i.default({templateRenderer:e.TemplateRenderer,rowPanelPreferences:e.RowPanelPreferences,envDataProvider:e.EnvDataProvider,rowGroupProvider:e.RowGroupProvider,userDataProvider:e.UserDataProvider})}));return e}},93999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=Marionette.ItemView.extend({template:"animation_panel",events:{"click .js-animation-cancel":"cancelChanges","click .js-animation-done":"closePanel","click .js-animation-bg":"cancelChanges","click .js-animation-item":"onAnimationEffectClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.currentAnimationEffect=t.currentAnimationEffect||"none";this.prevEffect=this.currentAnimationEffect;this.animations=t.animations},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentAnimationEffect:this.currentAnimationEffect,animations:this.animations});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onAnimationEffectClicked:function e(t){this._clearActiveEffectClass();this._addActiveEffectClass(t.currentTarget);this.changeAnimationEffect(t.currentTarget.dataset.name)},changeAnimationEffect:function e(t){if(t===this.currentAnimationEffect)return;this.trigger("animationEffect:change",t);this.currentAnimationEffect=t},closePanel:function e(){this.trigger("panel:close");this.destroy()},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},cancelChanges:function e(){this.changeAnimationEffect(this.prevEffect);this.closePanel()},_clearActiveEffectClass:function e(){this.el.querySelector(".is-current").classList.remove("is-current")},_addActiveEffectClass:function e(t){t.classList.add("is-current")}});var a=i;t["default"]=a},89792:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=c(r(62010));var i=c(r(64461));var a=c(r(58126));var o=c(r(3104));var s=c(r(48698));var l=c(r(69135));var u=c(r(2139));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function p(e,t,r){t&&f(e.prototype,t);r&&f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var g=function(){function e(){d(this,e)}p(e,[{key:"build",value:function e(){return new u.default({notificationCenterView:new n.default({tracker:o.default.container.Tracker}),helpCenterView:new i.default,importView:new a.default,trialPopoverView:new s.default,appSwitcherTooltips:new l.default({navElementSelector:".js-tooltip-enabled",tooltipElementSelector:".js-app-switcher-tooltip",offset:10}),tracker:o.default.container.Tracker})}}]);return e}();var h=g;t["default"]=h},69135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.navElementSelector=t.navElementSelector;this.tooltipElementSelector=t.tooltipElementSelector;this.offset=t.offset}i(e,[{key:"attachEvents",value:function e(){var t=this;this.cacheElements();[].forEach.call(this.navElements,(function(e){e.addEventListener("mouseenter",t.mouseEnter.bind(t));e.addEventListener("mouseleave",t.mouseLeave.bind(t))}))}},{key:"mouseEnter",value:function e(t){this.showTooltip(t.target)}},{key:"mouseLeave",value:function e(){this.hideTooltip()}},{key:"showTooltip",value:function e(t){this.tooltipElement.classList.add("visible");this.tooltipTextElement.innerHTML=this.getNavigationItemText(t);this.tooltipElement.style.top="".concat(t.getBoundingClientRect().top+this.offset,"px");this.tooltipElement.style.left="60px"}},{key:"hideTooltip",value:function e(){this.tooltipElement.classList.remove("visible");this.tooltipElement.style.top="";this.tooltipElement.style.left=""}},{key:"getNavigationItemText",value:function e(t){return t.getAttribute("data-tooltip")}},{key:"cacheElements",value:function e(){this.navElements=document.querySelectorAll(this.navElementSelector);this.tooltipElement=document.querySelector(this.tooltipElementSelector);this.tooltipTextElement=this.tooltipElement.querySelector(".js-tooltip-content")}}]);return e}();var o=a;t["default"]=o},2139:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=Backbone.View.extend({el:".js-navigation-list",events:{"click .js-reveal-navigation":"onRevealNavigationClick","click .js-reveal-notification-center":"onNotificationCenterClick","click .js-reveal-help-center":"onRevealHelpCenterClick","click .js-reveal-import":"onImportClick","click .js-reveal-account-options":"onAccountOptionsClick","click .js-trial-account-button":"onTrialAccountClick","click .js-upgrade-button":"onUpgradeAccountClick","click .js-back-to-app-button":"onBackToAppClick","click .js-analytics-button":"onAnalyticsClick","click .js-site-settings-button":"onSiteSettingsClick","mousedown .js-toggle-release-version":"onReleaseVersionMouseAction","mouseup .js-toggle-release-version":"onReleaseVersionMouseAction","mouseleave .js-toggle-release-version":"onReleaseVersionMouseleave"},initialize:function e(t){this.notificationCenterView=t.notificationCenterView;this.helpCenterView=t.helpCenterView;this.trialPopoverView=t.trialPopoverView;this.tooltips=t.appSwitcherTooltips;this.tracker=t.tracker;this.importViewFactory=t.importView},attachEvents:function e(){this._attachExternalClickEvents();this.tooltips.attachEvents()},onReleaseVersionMouseAction:function e(){var t=this.el.querySelector(".js-release-version");(0,n.toggleHiddenAttribute)(t)},onReleaseVersionMouseleave:function e(){var t=this.el.querySelector(".js-release-version");t.hasAttribute("hidden")||(0,n.toggleHiddenAttribute)(t)},onRevealNavigationClick:function e(t){this._toggleOpenState(t)},onTrialAccountClick:function e(){var t=document.querySelector(".js-trial-popover");t&&(0,n.toggleHiddenAttribute)(t)},onUpgradeAccountClick:function e(t){var r=t.currentTarget.href;t.preventDefault();t.stopPropagation();this.tracker.track("Editor upgrades button clicked");setTimeout((function(){document.location=r}),500);return false},onBackToAppClick:function e(t){var r=t.currentTarget.href;t.preventDefault();t.stopPropagation();this.tracker.track("Editor back to dashboard button clicked");setTimeout((function(){document.location=r}),500);return false},onAnalyticsClick:function e(t){var r=t.currentTarget.href;t.preventDefault();t.stopPropagation();this.tracker.track("Site analytics: App menu item clicked");setTimeout((function(){document.location=r}),500);return false},onSiteSettingsClick:function e(t){var r=t.currentTarget.href;t.preventDefault();t.stopPropagation();this.tracker.track("App menu: Site settings clicked");setTimeout((function(){document.location=r}),500);return false},onNotificationCenterClick:function e(){this.notificationCenterView.toggleOpenState()},onImportClick:function e(t){t.preventDefault();this.importView?this.importView.isDestroyed=false:this.importView=this.importViewFactory.build();this.importView.toggle()},onAccountOptionsClick:function e(){var t=this.el.querySelector(".js-account-options");this.isOpen()||this._toggleOpenState();(0,n.toggleHiddenAttribute)(t)},onRevealHelpCenterClick:function e(){this.helpCenterView.toggleOpenState();this.tracker.track("Help link")},_toggleOpenState:function e(t){t&&t.stopPropagation();Editor.Events.trigger("sidebarPanel:changed");this.el.classList.toggle("is-open");this._closeRelatedElements();this.isOpen()?this._attachDocumentDismissClickEvent():this._removeDocumentDismissClickEvent()},_closeRelatedElements:function e(){var t=document.querySelector(".js-trial-popover");var r=this.el.querySelector(".js-account-options");r.setAttribute("hidden",true);!this.isOpen()&&t&&t.setAttribute("hidden",true)},isOpen:function e(){return this.el.classList.contains("is-open")},_attachExternalClickEvents:function e(){this._attachDismissClickEvents();this._attachToggleClickEvent()},_attachDismissClickEvents:function e(){var t=document.querySelector(".js-account-options");var r=document.querySelector(".js-trial-popover");$(document).off("click.accountOptions").on("click.accountOptions",function(e){!$(e.target).hasClass("js-reveal-account-options")&&0===$(e.target).parents(".js-reveal-account-options").length&&0===$(e.target).parents(".js-account-options").length&&this.isOpen()&&t.setAttribute("hidden",true)}.bind(this));$(document).off("click.trial").on("click.trial",function(e){r&&!$(e.target).hasClass("js-trial-account-button")&&0===$(e.target).parents(".js-trial-account-button").length&&0===$(e.target).parents(".js-trial-popover").length&&this.isOpen()&&r.setAttribute("hidden",true)}.bind(this))},_attachToggleClickEvent:function e(){var t=document.querySelector(".js-app-switcher-toggle");t&&t.addEventListener("click",this._toggleOpenState.bind(this))},_attachDocumentDismissClickEvent:function e(){var t=$(".js-site-frame").contents();$(document).off("click.appSwitcher").on("click.appSwitcher",function(e){e.stopPropagation();!$(e.target).hasClass("js-app-switcher-toggle")&&0===$(e.target).closest("js-app-switcher-toggle").length&&0===$(e.target).closest(".js-navigation-list").length&&this.isOpen()&&this._toggleOpenState(e)}.bind(this));t.off("click.appSwitcher").on("click.appSwitcher",function(e){this.isOpen&&this._toggleOpenState(e)}.bind(this));t.find(".js-settings").off("click.appSwitcher").on("click.appSwitcher",function(){this.isOpen&&this._toggleOpenState()}.bind(this))},_removeDocumentDismissClickEvent:function e(){var t=$(".js-site-frame").contents();$(document).off("click.appSwitcher");t.off("click.appSwitcher");t.find(".js-settings").off("click.appSwitcher")}});var a=i;t["default"]=a},48698:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=Backbone.View.extend({el:".js-trial-popover",events:{"click .js-close-popover":"onCloseButtonClick"},onCloseButtonClick:function e(){this.togglePopover()},togglePopover:function e(){(0,n.toggleHiddenAttribute)(this.el)},closePopover:function e(){this.el.setAttribute("hidden",true)}});var a=i;t["default"]=a},18654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(89792));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){e.factory("AppSwitcherFactory",(function(){return new n.default}));return e}var o=a;t["default"]=o},25757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=s(r(61061));var a=s(r(248));var o=r(94376);function s(e){return e&&e.__esModule?e:{default:e}}var l="is-active";function u(e){return e.ui.colourPanel.activePanel}function c(e){return e.ui.colourPanel.addButtonDisabled}function d(e){return e.ui.colourPanel.selectedColour}function f(e){return e.ui.colourPanel.savedColours}var p=/^(#[0-9a-f]{3}|#[0-9a-f]{6})$/;var g=/^(rgb)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\)$/;var h=/^(hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\)$/;function v(e){var t="".concat(e);if(t.match(p)||t.match(g)||t.match(h))return true;return false}var m=Marionette.ItemView.extend({template:"colour_picker_panel",customColourButtonTemplate:"colour_picker_panel_custom_colour_button",colourPicker:null,events:{"click .js-colour-set-item":"colourSetItemClicked","click .js-palette-colour-item":"paletteColourClicked","click .js-complimentary-palette":"complimentaryColourClicked","click .js-custom-colour-item":"customColourClicked","click .js-colour-set-tab-button":"colourSetTabBtnClicked","click .js-palette-tab-button":"paletteTabBtnClicked","click .js-wheel-tab-button":"wheelTabBtnClicked","change .js-custom-input":"customInputChanged","keyup .js-custom-input":"customInputChanged","paste .js-custom-input":"customInputChanged","click .js-add-custom-colour":"addCustomColourButtonClicked","click .js-remove-custom-colour":"removeCustomColour"},beforeRender:function e(t){return null},afterRender:function e(t){return null},initialize:function e(t){this.model=t.model||null;var r=BaseKit.siteLibraryProvider().BaseKit.Globals;this.globalValues=r.globalValues;this.savedColoursModel=this.globalValues.findWhere({name:"savedColours"})||new r.SiteGlobalValueModel({name:"savedColours",value:[]});this.savedColoursModel.siteRef=a.default.getState().site.ref;this.colourChosen=t.colourChosen||function(){console.warn("colour chosen callback not set")};this.beforeRender=t.beforeRender||function(){};this.afterRender=t.afterRender||function(){};this.showColourSet=t.showColourSet||false;this.colourSet=t.colourSet||[];a.default.dispatch((0,o.changeSavedColours)(this.savedColoursModel.get("value")));this.unsubscribe=a.default.subscribe(this.handleStateChange.bind(this));return this},handleStateChange:function e(){if(!this.el){this.unsubscribe();return}var t=a.default.getState();switch(u(t)){case"colourSet":this.renderColourSet();break;case"palette":this.renderPalette();break;case"wheel":this.renderWheel();break}c(t)?this.disableButton():this.enableButton();var r=this.el.querySelector(".js-custom-input").value;var n=d(t);r!==n&&this.setInputValue(n)},enableButton:function e(){this.el.querySelector(".js-add-custom-colour").disabled=false},disableButton:function e(){this.el.querySelector(".js-add-custom-colour").disabled=true},setInputValue:function e(t){this.el.querySelector(".js-custom-input").value=t},colourSelected:function e(t){this.colourChosen(this.model.id,t)},updateColourInput:function e(t,r){var n=(0,i.default)(t);var s=n.toHexString();1!==n.getAlpha()&&(s=n.toRgbString());if(1===n.getAlpha()&&r){n.setAlpha(r);s=n.toRgbString()}a.default.dispatch((0,o.changeColour)(s));a.default.dispatch((0,o.enableAddButton)())},customInputChanged:function e(){var t=this.el.querySelector(".js-custom-input").value;t=t.replace(/#{2,}/,"#");a.default.dispatch((0,o.changeColour)(t));if((0,i.default)(t).isValid()&&v(t)){a.default.dispatch((0,o.enableAddButton)());this.colourSelected(t)}else a.default.dispatch((0,o.disableAddButton)())},addCustomColourButtonClicked:function e(){var t=d(a.default.getState());if(!(0,i.default)(t).isValid()){a.default.dispatch((0,o.disableAddButton)());return}var r=f(a.default.getState());if(!r.includes(t)){r.push(t);this.addColourToCustomPalette(t);this.saveCustomColours(r)}},removeCustomColour:function e(t){t.preventDefault();var r=t.currentTarget.parentElement;var i=r.dataset.colourValue;var a=this.savedColoursModel.get("value");if(a.includes(i)){a.splice(a.indexOf(i),1);this.saveCustomColours(a)}(0,n.remove)(r)},saveCustomColours:function e(t){a.default.dispatch((0,o.changeSavedColours)(t));this.savedColoursModel.set("value",t);this.savedColoursModel.save()},colourSetTabBtnClicked:function e(t){t.preventDefault();if("colourSet"===u(a.default.getState()))return;a.default.dispatch((0,o.changePanel)("colourSet"))},paletteTabBtnClicked:function e(t){t.preventDefault();if("palette"===u(a.default.getState()))return;a.default.dispatch((0,o.changePanel)("palette"))},wheelTabBtnClicked:function e(t){t.preventDefault();if("wheel"===u(a.default.getState()))return;a.default.dispatch((0,o.changePanel)("wheel"))},renderColourSet:function e(){this._removeActiveTabClass();this._addActiveTabClass(".js-colour-set-tab-button");this.el.querySelector(".js-palette-container").setAttribute("hidden","hidden");this.el.querySelector(".js-wheel-container").setAttribute("hidden","hidden");this.el.querySelector(".js-custom-palette").setAttribute("hidden","hidden");this.el.querySelector(".js-colour-set-container").removeAttribute("hidden")},renderPalette:function e(){this._removeActiveTabClass();this._addActiveTabClass(".js-palette-tab-button");this.showColourSet&&this.el.querySelector(".js-colour-set-container").setAttribute("hidden","hidden");this.el.querySelector(".js-wheel-container").setAttribute("hidden","hidden");this.el.querySelector(".js-custom-palette").removeAttribute("hidden");this.el.querySelector(".js-palette-container").removeAttribute("hidden")},renderWheel:function e(){this._removeActiveTabClass();this._addActiveTabClass(".js-wheel-tab-button");this.showColourSet&&this.el.querySelector(".js-colour-set-container").setAttribute("hidden","hidden");this.el.querySelector(".js-palette-container").setAttribute("hidden","hidden");this.el.querySelector(".js-custom-palette").removeAttribute("hidden");this.el.querySelector(".js-wheel-container").removeAttribute("hidden")},_addActiveTabClass:function e(t){this.el.querySelector(t).classList.add(l)},_removeActiveTabClass:function e(){this.el.querySelector(".js-colourpicker-tabs .is-active").classList.remove(l)},setModel:function e(t){this.model=t},setDefaultColour:function e(t){this.defaultColour=t},render:function e(){if(null===this.model&&null===this.defaultColour)return null;this.beforeRender(this.$el);this.renderColourPickerAndWheel();this.afterRender(this.$el);return this},addColourToCustomPalette:function e(t){var r={colour:t};var i=Twig.render(Twig.templates[this.customColourButtonTemplate],r);(0,n.append)(this.el.querySelector(".js-custom-palette-container"),i)},renderColourPickerAndWheel:function e(){var t={title:this.title,savedColours:f(a.default.getState()),showColourSet:this.showColourSet,colourSet:this.colourSet};var r=Twig.render(Twig.templates[this.template],t);(0,n.emptyElement)(this.el);(0,n.append)(this.el,r);this.showColourSet?a.default.dispatch((0,o.changePanel)("colourSet")):a.default.dispatch((0,o.changePanel)("palette"));this.renderColourWheel()},renderColourWheel:function e(){var t=this;this.colourPicker=this.$el.find(".js-colour-wheel").minicolors({inline:true,control:"wheel",defaultValue:"",theme:"default",format:"rgb",changeDelay:200,opacity:true,change:function e(r,n){return t.colourWheelChanged(r,n)}})},colourWheelChanged:function e(t,r){var n=(0,i.default)(t);var a=n.toHexString();1!==n.getAlpha()&&(a=n.toRgbString());if(1===n.getAlpha()&&r){n.setAlpha(r);a=n.toRgbString()}this.updateColourInput(t,r);this.colourSelected(a)},colourSetItemClicked:function e(t){t.preventDefault();var r=t.currentTarget.getAttribute("data-name");this.colourSelected(r)},complimentaryColourClicked:function e(t){t.preventDefault();var r=t.currentTarget.style.backgroundColor;var n=(0,i.default)(r).toHexString();this.updateColourInput(r);this.colourSelected(n)},customColourClicked:function e(t){t.preventDefault();if(t.target.classList.contains("js-remove-custom-colour"))return;var r=t.currentTarget.parentElement.dataset.colourValue;this.updateColourInput(r);this.colourSelected(r);this.updateComplimentaryColours(r)},paletteColourClicked:function e(t){t.preventDefault();var r=getComputedStyle(t.currentTarget).backgroundColor;var n=(0,i.default)(r).toHexString();this.updateColourInput(r);this.colourSelected(n);this.updateComplimentaryColours(r)},updateComplimentaryColours:function e(t){if((0,i.default)(t).isValid())for(var r=1;r<13;r++){var n=".js-colour-tone".concat(r);var a=r<=6?"darken":"lighten";var o=r<=6?5*r:5*(r-6);this.el.querySelector(n).style.backgroundColor=(0,i.default)(t)[a](o).toString()}},onDestroy:function e(){this.unsubscribe()}});var y=m;t["default"]=y},62e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(23788);var i=c(r(7771));var a=r(39052);var o=r(57595);var s=c(r(93725));var l=r(86192);var u=r(28923);function c(e){return e&&e.__esModule?e:{default:e}}var d=Backbone.View.extend({defaultViewportPadding:8,template:"custom_color_picker",events:{"click .js-custom-color-picker-save":"close","click .js-custom-color-backdrop":"close","input .js-custom-color-input":"onInput","mouseup .js-custom-color-input":"onInputMouseUp"},initialize:function e(t){this.fill=t.fill;this.colorType=t.colorType;this.colorNode=t.colorNode},render:function e(){var t=Twig.render(Twig.templates[this.template],{hexColor:this.fill,rgbColor:(0,n.hexToRgb)(this.fill),title:(0,i.default)("shared_components.custom_color_picker.header.".concat(this.colorType,"_color_title"),"".concat((0,a.toTitleCase)(this.colorType)," colour"))});(0,l.emptyElement)(this.el);(0,l.append)(this.el,t);document.body.insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this._initializePickerComponent();this.onRender()},onRender:function e(){this._cacheElements();this._addEventListeners();this._reposition()},onInput:function e(t){var r=t.currentTarget;var i=r.value.trim();if(!this._isValidColor(i)){this._showValidationError(r,true);return}var a=r.classList.contains("js-custom-hex-color-input");var o=i;if(!a){var s=i.split(",");o=(0,n.rgbToHex)(s[0],s[1],s[2])}this.pickr.setColor(o);this.setColor(o)},onInputMouseUp:function e(t){var r=this;var n=t.currentTarget;if(""===n.value)return;setTimeout((function(){if(""!==n.value)return;r.onInput(t)}),1)},setColor:function e(t){var r=this;this.fill=t;this.colorBox.style.backgroundColor=t;this.hexColorInput.value=t.toUpperCase();this.rgbColorInput.value=(0,n.hexToRgb)(t);this._showValidationError(this.hexColorInput,false);this._showValidationError(this.rgbColorInput,false);this.trigger("change",t);(0,u.debounce)((function(){r.trigger("save",t)}),200)()},close:function e(){this._removeEventListeners();this._destroyPickerComponent();this.trigger("close");this.remove()},_initializePickerComponent:function e(){this.pickr=s.default.create({el:".js-color-inputs",appClass:"custom-color-picker__pickr",useAsButton:true,appendToBody:false,inline:true,position:"left",default:this.fill,components:{preview:false,palette:false,hue:true}});this.pickr.show()},_cacheElements:function e(){this.colorPicker=this.el.querySelector(".js-custom-color-picker");this.colorArrow=this.el.querySelector(".js-custom-color-arrow");this.colorBox=this.el.querySelector(".js-color-box");this.hexColorInput=this.el.querySelector(".js-custom-hex-color-input");this.rgbColorInput=this.el.querySelector(".js-custom-rgb-color-input");this.doneButton=this.el.querySelector(".js-custom-color-picker-save")},_reposition:function e(){(0,o.isDesktopScreenMode)()?this._repositionOnDesktopScreen():this._repositionOnMobileScreen()},_addEventListeners:function e(){this.resizeHandler=this._resize.bind(this);window.addEventListener("resize",this.resizeHandler,false);this.pickr.on("change",this._onColorPickerChange.bind(this))},_showValidationError:function e(t,r){var n="custom-color-picker__field-error";r?t.parentNode.classList.add(n):t.parentNode.classList.remove(n);this.doneButton.disabled=r},_onColorPickerChange:function e(){this.setColor(this.pickr.getColor().toHEXA().toString())},_repositionOnDesktopScreen:function e(){var t=this._calculatePosition();var r=this._calculateArrowPosition();this._setPosition("".concat(t.left,"px"),"".concat(t.top,"px"));this._setArrowPosition("".concat(r.left,"px"),"".concat(r.top,"px"))},_repositionOnMobileScreen:function e(){this._setPosition("0","auto")},_calculatePosition:function e(){var t=this.colorNode.getBoundingClientRect();var r=this.colorPicker.getBoundingClientRect();var n=this._getElementViewportConstraints(this.colorPicker);var i=t.left+t.width/2-r.width/2;i<n.minLeft&&(i=n.minLeft);i>n.maxLeft&&(i=n.maxLeft);return{left:i,top:t.bottom}},_getElementViewportConstraints:function e(t){return{minLeft:this.defaultViewportPadding,maxLeft:(0,o.getWindowWidth)()-this.defaultViewportPadding-t.getBoundingClientRect().width}},_calculateArrowPosition:function e(){var t=this.colorNode.getBoundingClientRect();var r=this.colorArrow.getBoundingClientRect();return{left:t.left+t.width/2-r.width/2,top:t.bottom-r.height}},_setPosition:function e(t,r){this.colorPicker.style.left=t;this.colorPicker.style.top=r},_setArrowPosition:function e(t,r){this.colorArrow.style.left=t;this.colorArrow.style.top=r},_removeEventListeners:function e(){this.pickr.off("change");window.removeEventListener("resize",this.resizeHandler)},_destroyPickerComponent:function e(){this.pickr.destroy()},_resize:function e(){this._reposition()},_isValidColor:function e(t){return(0,n.isValidHexColour)(t)||(0,n.isValidRgbColour)(t)}});var f=d;t["default"]=f},63222:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({idAttribute:"cRef"});var n=r;t["default"]=n},51333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(63222));function i(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.Collection.extend({model:n.default});var o=a;t["default"]=o},4566:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(51333));function i(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.ItemView.extend({template:"custome_display_panel",itemTemplate:"custome_display_results_list",events:{"click .js-close":"closeClicked","click .js-bg":"closePanel","click .js-search":"onSearch","click .js-item":"onSelect"},initialize:function e(){return this},render:function e(){var t=Object.assign({},this.model.toJSON());var r=Twig.render(Twig.templates[this.template],t);this.$el.empty().append(r);this.moveToBody();return this},rerender:function e(){this.currentView&&"function"===typeof this.currentView.destroy&&this.currentView.destroy();this.render()},onSearch:function e(t){var r=this;t.preventDefault();var n=this.model.get("onSearch");var i=this.el.querySelector(".js-search-value").value;if(0===i.trim().length)return;if("function"===typeof n){this.showSearchLoadingUi();n.apply(this,[i]).done((function(e){r.handleResults(e)})).fail((function(e){r.handleResults();console.log("Error: ",e)}))}},handleResults:function e(t){this.hideSearchLoadingUi();this.displayResults(t)},moveToBody:function e(){var t=this.$el.appendTo("body");this.setElement(t)},itemSelected:function e(t){this.trigger("item:selected",t);this.closePanel()},closeClicked:function e(){this.closePanel()},closePanel:function e(){this.currentView&&"function"===typeof this.currentView.destroy&&this.currentView.destroy();this.destroy();this.trigger("panel:close")},onSelect:function e(t){var r=t.currentTarget.getAttribute("data-ref").replace("item-ref-","");this.notify(r);this.closePanel()},notify:function e(t){var r=this.getModel(t);this.trigger("item:selected",r.toJSON())},getModel:function e(t){return this.collection.get(t)},showSearchLoadingUi:function e(){this.el.querySelector(".js-results-list").setAttribute("hidden",true);this.el.querySelector(".js-landing-message").setAttribute("hidden",true);this.el.querySelector(".js-loading").removeAttribute("hidden")},hideSearchLoadingUi:function e(){this.el.querySelector(".js-loading").setAttribute("hidden",true)},displayResults:function e(t){var r=this.formattedResults(t);var n=Twig.render(Twig.templates[this.itemTemplate],{items:r,noSearchResults:this.model.get("noSearchResults")});this.createCollection(r);this.el.querySelector(".js-results-list").innerHTML=n;this.el.querySelector(".js-results-list").removeAttribute("hidden")},createCollection:function e(t){this.collection?this.collection.reset(t):this.collection=new n.default(t)},formattedResults:function e(t){var r=this;var n=[];t&&t.length>0&&t.forEach((function(e){var t=Object.assign(e,{cUrl:e[r.model.get("imageProperty")],cMainTitle:e[r.model.get("mainTitleProperty")],cSecondTitle:e[r.model.get("secondTitleProperty")],cThirdTitle:e[r.model.get("thirdTitleProperty")],cSubTitle:e[r.model.get("subTitleProperty")],cRef:e[r.model.get("idProperty")]});n.push(t)}));return n}});var o=a;t["default"]=o},37461:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({template:"delete_row_dialog",events:{"click .js-cancel":"cancel","click .js-delete":"delete"},initialize:function e(t){this.templateRenderer=t.templateRenderer;return this},cancel:function e(){this.trigger("dialog:resolve","cancel");this.trigger("dialog:close")},delete:function e(){this.trigger("dialog:resolve","delete")},render:function e(){var t=this.templateRenderer;var r=t.render(this.template);var n=document.querySelectorAll(".js-dialog-contents");var i=n.item(n.length-1);i.insertAdjacentHTML("beforeend",r)}});var n=r;t["default"]=n},43614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(7771));var i=o(r(34543));var a=o(r(37461));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function u(e,t,r){t&&l(e.prototype,t);r&&l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var c=(0,n.default)("editor_v8.delete_row_dialog.title","Delete content");var d=function(){function e(t){s(this,e);this.templateRenderer=t.templateRenderer}u(e,[{key:"build",value:function e(){var t=this.templateRenderer;return new i.default({title:c,render:false,content:new a.default({templateRenderer:t})})}}]);return e}();var f=d;t["default"]=f},34543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(248));var i=r(26225);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var u=Backbone.View.extend({el:"body",events:{"click .js-close-dialog":"handleCancel","click .js-dialog-cancel":"handleCancel","click .js-dialog-save":"handleSave","click .js-dialog-done":"handleDone","click .js-dialog-next":"handleNext","click .js-dialog-delete":"handleDelete","click .js-dialog-backstop":"handleCancel","change input,select":"onChange","input input,textarea":"onChange"},defaults:{title:"Untitled",content:null,contentClassname:null,dialogClassname:null,actionClassname:null,fullPage:false,showCancel:false,showSaveCancel:false,showSaveDone:false,showNext:false,showDelete:false,useComponentLibraryDialog:false,render:true,showSaveButtonTextAsDone:false,customSaveButtonText:""},initialize:function e(t){t&&(this.options=s(s({},this.defaults),t));this.bodyElement=document.querySelector("body");this.bodyElement.classList.contains("site-iframe")&&(this.bodyElement=window.parent.document.querySelector("body"));this.options.render&&this.render()},onChange:function e(t){if(this._changeIsIgnored(t))return;if(this.saveBtnIsEnabled)return;this.enableSave()},_changeIsIgnored:function e(t){if(this.ignoredClasses){var r=t.currentTarget.classList;for(var n=0;n<this.ignoredClasses.length;n++)if(r.contains(this.ignoredClasses[n]))return true}return false},disableChangeListener:function e(t){this.ignoredClasses=t},enableSave:function e(){var t=this.el.querySelector(".js-dialog-save");this.enableActionButton(t);this.saveBtnIsEnabled=true},disableSave:function e(){var t=this.el.querySelector(".js-dialog-save");if(t){t.setAttribute("disabled",true);this.options.useComponentLibraryDialog&&false===t.classList.contains("cl-button--disabled")&&t.classList.add("cl-button--disabled")}this.saveBtnIsEnabled=false},enableNext:function e(){var t=this.el.querySelector(".js-dialog-next");this.enableActionButton(t)},enableDelete:function e(){var t=this.el.querySelector(".js-dialog-delete");this.enableActionButton(t)},enableActionButton:function e(t){if(!t)return;t.removeAttribute("disabled");this.options.useComponentLibraryDialog&&t.classList.contains("cl-button--disabled")&&t.classList.remove("cl-button--disabled")},render:function e(){var t=window.parent.Twig.templates.view_dialog||Twig.templates.view_dialog;this.options.useComponentLibraryDialog&&(t=window.parent.Twig.templates.view_cl_dialog||Twig.templates.view_cl_dialog);var r=Twig.render(t,this.options);this.bodyElement.insertAdjacentHTML("beforeend",r);this.setElement(this.bodyElement.querySelector(".js-dialog"));return this.renderModalContent()},setBusy:function e(){if(!this.el.classList.contains("busy")){this.el.classList.add("busy");this.options.useComponentLibraryDialog&&this.setSaveBtnLoading(true)}},clearBusy:function e(){if(this.el.classList.contains("busy")){this.el.classList.remove("busy");this.options.useComponentLibraryDialog&&this.setSaveBtnLoading(false)}},handleCancel:function e(){this.trigger("dialog:cancel");this.destroy()},handleSave:function e(){this.trigger("dialog:save")},handleDone:function e(){this.trigger("dialog:done")},handleNext:function e(){this.trigger("dialog:next")},handleDelete:function e(){this.trigger("dialog:delete")},renderModalContent:function e(){var t=this;return new Promise((function(e,r){t.options.content.modal={modal:t};t.options.content.setElement(t.bodyElement.querySelector(".js-dialog-contents"));t.options.content.render();t.listenTo(t.options.content,"view:remove",(function(){return t.hide()}));t.listenTo(t.options.content,"dialog:resolve",(function(r){return e({dialog:t,result:r})}));t.listenTo(t.options.content,"dialog:reject",(function(e){return r({dialog:t,result:e})}))}))},hide:function e(){this.destroy()},destroy:function e(){this.trigger("panel:close");n.default.dispatch((0,i.closeModal)());this.remove()},setSaveBtnLoading:function e(t){if(!this.options.useComponentLibraryDialog)return;var r=this.el.querySelector(".js-dialog-save-label");var n=this.el.querySelector(".js-dialog-save-loader");if(t){r.setAttribute("hidden",true);n.removeAttribute("hidden")}else{n.setAttribute("hidden",true);r.removeAttribute("hidden")}}});BaseKit.Panels.Dialog=u;var c=u;t["default"]=c},18355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(7771));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,l,"next",e)}function l(e){a(o,n,i,s,l,"throw",e)}s(void 0)}))}}var s=Backbone.View.extend({className:"qa-warning",events:{"click .js-send-email":"sendVerificationEmail"},initialize:function e(t){this.emailToVerify=t.email;this.csrfToken=t.csrfToken;return this},sendVerificationEmail:function e(){var t=this;return o(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:t.addLoading();r="/_/resend-form-email-verification/".concat(t.emailToVerify);i.next=4;return window.parent.fetch(r,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":t.csrfToken},method:"POST"});case 4:n=i.sent;t.removeLoading();n.ok&&t.updateUI();case 7:case"end":return i.stop()}}),e)})))()},updateUI:function e(){var t=this;this.el.querySelector(".js-text").textContent=(0,n.default)("widgets.email.sent","Email has been sent");this.el.querySelector(".js-send-email").disabled=true;var r=setTimeout((function(){t.el.querySelector(".js-text").textContent=(0,n.default)("widgets.email.send_link","Resend the email");t.el.querySelector(".js-send-email").disabled=false;clearTimeout(r)}),5e3)},addLoading:function e(){this.el.querySelector(".js-send-email").classList.add("loading")},removeLoading:function e(){this.el.querySelector(".js-send-email").classList.remove("loading")},render:function e(){var t=Twig.render(Twig.templates.view_email_verification);this.$el.empty().append(t);return this}});var l=s;t["default"]=l},77595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({events:{click:"onFileClick","click .js-delete":"onFileDelete"},initialize:function e(){return this},onFileClick:function e(){this.trigger("select")},onFileDelete:function e(t){t.stopPropagation();this.trigger("delete",this.model)}});var n=r;t["default"]=n},54873:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(3104));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return/pdf$/.test(e.type)}function o(e){var t=true;Array.prototype.forEach.call(e,(function(e){e&&a(e)||(t=false)}));return t}function s(){return n.default.container.EnvDataProvider.get("apiProxyBaseUrl")}function l(){return n.default.container.EnvDataProvider.get("csrfToken")}function u(){return c(App.user.capabilities.storageLimit)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;var r=["B","KB","MB","GB","TB"];var n=1024;var i=0;var a=e;while(a/n>=1){a/=n;i+=1}return a.toFixed(t)+r[i]}var d=Marionette.ItemView.extend({events:{"change .js-upload-input":"handleFileSelection","click .js-upload":"openFileUpload","dragenter .js-upload-area":"handleDragEnter","dragover .js-upload-area":"handleDragOver","dragend .js-upload-area":"handleDragEnd","dragexit .js-upload-area":"handleDragEnd","drop .js-upload-area":"handleDrop","click .js-upload-error-back-btn":"errorBackBtnClicked"},initialize:function e(t){var r=this;this.collection=t.collection;this.siteRef=t.siteRef;this.listenTo(this,"upload:file",this.openFileUpload);var n=new Backbone.Wreqr.EventAggregator;this.chunkedUploader=new BaseKit.chunkedUpload.ChunkedUploader({apiProxyBaseUrl:s(),csrfToken:l(),eventDispatcher:n,type:"file",progressCalculator:new BaseKit.chunkedUpload.ProgressCalculator});n.on("file.progress",(function(e){return r.showProgress(e)}));n.on("file.uploaded",(function(e){r.collection.add(e);r.trigger("file:upload",e)}));n.on("file.uploaderror",(function(e,t){return r.handleErrorUpload(e,t)}));return this},openFileUpload:function e(){this.el.querySelector(".js-upload-input").click()},handleDragEnter:function e(t){t.preventDefault();this.el.querySelector(".js-upload-dropzone").classList.add("is-drop-target")},handleDragEnd:function e(t){t.preventDefault();this.el.querySelector(".js-upload-dropzone").classList.remove("is-drop-target")},handleDragOver:function e(t){t.preventDefault()},handleDrop:function e(t){var r=t.originalEvent.dataTransfer.files;t.stopPropagation();t.preventDefault();r.length&&this.filesSelected(r)},handleFileSelection:function e(){var t=document.getElementById("js-upload-input");this.filesSelected(t.files)},handleFilesUpload:function e(t){if(o(t)){this.model.set("filesNum",t.length);this.showUploadingUi();this.uploaded=0;this.progressObj={};this.uploadedAssets=[];this.trigger("file:upload:start");this.chunkedUploader.upload(t)}},filesSelected:function e(t){this.handleFilesUpload(t)},showProgress:function e(t){this.el.querySelector(".js-progress-indicator").setAttribute("value",t);this.el.querySelector(".js-progress-indicator-value").style.width=t},showUploadingUi:function e(){var t=App.t("shared_components.filesspanel.uploading_file","Hold tight, were uploading your file now");this.el.querySelector(".js-upload-area").setAttribute("hidden","hidden");this.el.querySelector(".js-progress-ui").removeAttribute("hidden");this.el.querySelector(".js-progress-message").textContent=t},handleErrorUpload:function e(t,r){var n=this;this.showErrorUI(t,r);setTimeout((function(){n.trigger("file:upload:error")}),5e3)},showErrorUI:function e(t,r){var i=u();this.el.querySelector(".js-upload-panel-content").setAttribute("hidden","hidden");this.el.querySelector(".js-upload-panel-error-content").removeAttribute("hidden");r&&"cannotUploadAccountHolderExceededStorageLimit"===r&&(this.el.querySelector(".js-upload-error-msg").textContent=App.t("shared_components.filesspanel.uploading_error_exceeded_limit","- you have exceeded the storage limit of %1.",i));400!==t&&(this.el.querySelector(".js-upload-error-msg").textContent=App.t("shared_components.filesspanel.uploading_error_general","- Were really sorry about this. Please email %1 so our support team can look into this for you",n.default.container.BrandDataProvider.get("supportEmail")))},errorBackBtnClicked:function e(){this.trigger("file:upload:error")}});var f=d;t["default"]=f},66878:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({defaults:{panel:"upload",title:App.t("shared_components.filespanel.source_title","File source")},initialize:function e(){return this}});BaseKit.Panels.FilesPanelModel=r;var n=r;t["default"]=n},32245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(54873));var i=o(r(21940));var a=r(11474);function o(e){return e&&e.__esModule?e:{default:e}}var s=616;function l(){var e=(0,a.isTouchDevice)();var t=window.innerWidth<=s;return e&&t}var u=Marionette.ItemView.extend({events:{"click .js-upload":"uploadClicked","click .js-close":"closeClicked","click .js-bg":"closePanel","click .js-recent":"openRecentFilesPanel"},initialize:function e(){this.listenTo(this.model,"change:panel",this.rerender);return this},getGlobalFileAssets:function e(){return BaseKit.Globals.fileAssets},render:function e(){var t=Object.assign({},this.model.toJSON(),{isSmallResTouchDevice:l()});var r=Twig.render(Twig.templates.files_panel,t);this.$el.empty().append(r);this.moveToBody();this.attachPanelEvents();return this},rerender:function e(){this.currentView&&"function"===typeof this.currentView.destroy&&this.currentView.destroy();this.render()},moveToBody:function e(){var t=this.$el.appendTo("body");this.setElement(t)},attachPanelEvents:function e(){switch(this.model.get("panel")){case"upload":this.attachUploadViewEvents();break;case"recentFiles":this.attachRecentFilesViewEvents();break}},attachUploadViewEvents:function e(){this.filesUploadPanelView=new n.default({el:".js-upload-panel",siteRef:this.siteRef,collection:this.getGlobalFileAssets(),model:new Backbone.Model});this.listenTo(this.filesUploadPanelView,"file:upload",this.uploadFinished);this.listenTo(this.filesUploadPanelView,"file:upload:start",this.uploadStarted);this.listenTo(this.filesUploadPanelView,"file:upload:error",this.rerender);this.currentView=this.filesUploadPanelView},attachRecentFilesViewEvents:function e(){var t=this;this.recentFilesPanelView=new i.default({el:".js-recent-files",collection:this.getGlobalFileAssets()});this.listenTo(this.recentFilesPanelView,"file:select",this.fileSelected);this.listenTo(this.recentFilesPanelView,"file:delete",this.fileDeleted);this.listenTo(this.recentFilesPanelView,"files:loaded",(function(){t.el.querySelector(".js-content").removeAttribute("hidden");t.el.querySelector(".js-menu").setAttribute("hidden",true)}));this.currentView=this.recentFilesPanelView},uploadClicked:function e(){l()?this.openFileUpload():this.openUploadPanel()},openFileUpload:function e(){this.filesUploadPanelView.trigger("upload:file")},fileSelected:function e(t){this.trigger("file:selected",t);this.closePanel()},fileDeleted:function e(t){this.trigger("file:deleted",t)},uploadFinished:function e(t){this.el.querySelector(".js-menu-overlay").setAttribute("hidden","hidden");this.fileSelected(t)},uploadStarted:function e(){this.hideMenuUI();this.el.querySelector(".js-menu-overlay").removeAttribute("hidden")},hideMenuUI:function e(){this.el.querySelector(".js-menu").setAttribute("hidden","hidden")},closeClicked:function e(){"upload"!==this.model.get("panel")&&l()?this.model.set({panel:"upload",title:App.t("shared_components.filespanel.source_title","File source")}):this.closePanel()},closePanel:function e(){this.currentView&&"function"===typeof this.currentView.destroy&&this.currentView.destroy();this.destroy();this.trigger("panel:close")},openUploadPanel:function e(){this.model.set({panel:"upload",title:App.t("shared_components.filespanel.source_title","File source")})},openRecentFilesPanel:function e(){this.model.set({panel:"recentFiles",title:App.t("shared_components.filespanel.recent_title","Recent")});this.el.querySelector(".js-recent-icon").setAttribute("hidden",true);this.el.querySelector(".js-recent-loading").removeAttribute("hidden");this.el.querySelector(".js-content").setAttribute("hidden",true)}});BaseKit.Panels.FilesPanelView=u;var c=u;t["default"]=c},21940:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(77595));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;var i=function e(){};return{s:i,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,s=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();a=t.done;return t},e:function e(t){s=true;l=t},f:function e(){try{a||null==r.return||r.return()}finally{if(s)throw l}}}}function o(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=Marionette.CompositeView.extend({ChildView:n.default,childEvents:function e(){var t=this;return{select:function e(r){t.trigger("file:select",r.model.toJSON())},delete:function e(r){t.collection.remove(r.model);while(t.el.firstChild)t.el.removeChild(t.el.firstChild);t.displayFiles(t.formattedFiles(t.collection.toJSON()));r.model.destroy();t.trigger("file:delete",r.model.toJSON())}}},initialize:function e(){var t=this;this.collection.fetch({success:function e(r){t.displayFiles(t.formattedFiles(r.toJSON()));t.trigger("files:loaded")}});return this},formattedFiles:function e(t){var r=t;var n=a(r),i;try{for(n.s();!(i=n.n()).done;){var o=i.value;o.size=this.humanReadableFileSize(o.fileSize)}}catch(e){n.e(e)}finally{n.f()}return r},humanReadableFileSize:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;var n=["B","KB","MB","GB","TB"];var i=1024;var a=0;var o=t;while(o/i>=1){o/=i;a+=1}return o.toFixed(r)+n[a]},displayFiles:function e(t){var r=Twig.render(Twig.templates.files_panel_file,{files:t});this.$el.append(r);this.attachChildrenEvents();this.el.classList.remove("loading-spinner")},attachChildrenEvents:function e(){this.collection.each((function(e){this.attachFileFunction(e)}),this);this.delegateEvents()},attachFileFunction:function e(t){var r=new this.ChildView({el:"[data-file-ref='".concat(t.get("ref"),"']"),model:t});this.proxyChildEvents(r);this.children.add(r)}});var u=l;t["default"]=u},78894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(7771));var i=o(r(66878));var a=o(r(32245));function o(e){return e&&e.__esModule?e:{default:e}}var s={build:function e(){return new a.default({model:new i.default({panel:"upload",title:(0,n.default)("shared_components.filespanel.source_title","File source")})})}};var l=s;t["default"]=l},52422:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(82340);var i=r(86192);function a(){return App.frontEndBucket.sitePresetAttributes}var o=Marionette.ItemView.extend({template:"font_picker_panel",events:{"click .js-toggle-font-family-list":"toggleFontFamilyList","click .js-font-family-button":"fontFamilyChosen","change .js-font-size-select":"fontSizeChosen","change .js-font-weight-select":"fontWeightChosen","change .js-line-height-select":"lineHeightChosen","change .js-letter-spacing-select":"letterSpacingChosen"},beforeRender:function e(t){},afterRender:function e(t){},fontChosen:function e(){},initialize:function e(t){this.model=t.model||null;this.globalValues=n.globals.globalValues;this.fontChosen=t.fontChosen||function(){};this.beforeRender=t.beforeRender||function(){};this.afterRender=t.afterRender||function(){};this.fontListContents=t.fontListContents||[];this.allGoogleFonts=t.allGoogleFonts||{};this.templateStylePreprocessorVariablesEnabled=t.templateStylePreprocessorVariablesEnabled;this.rowsEnabled=t.rowsEnabled;window.setTimeout(this.loadFonts.bind(this),300);return this},fontFamilyChosen:function e(t){var r=this.el.querySelector(".js-font-family-list");var n=t.currentTarget.dataset.fontFamilyValue;var i=this.el.querySelector(".js-toggle-font-family-list");var a=t.currentTarget.innerHTML;$(r).attr("hidden","hidden");$(i).html(a);this.setModelValue("font-family",n);this.fontChosen(this.model)},fontSizeChosen:function e(t){var r=t.target.value;this.setModelValue("font-size",r);this.fontChosen(this.model)},fontWeightChosen:function e(t){var r=t.target.value;this.setModelValue("font-weight",r);this.fontChosen(this.model)},lineHeightChosen:function e(t){var r=t.target.value;this.setModelValue("line-height",r);this.fontChosen(this.model)},letterSpacingChosen:function e(t){var r=t.target.value;this.setModelValue("letter-spacing",r);this.fontChosen(this.model)},setModelValue:function e(t,r){var n="".concat(this.model.get("name"),"-").concat(t);this.templateStylePreprocessorVariablesEnabled&&(n="".concat(this.model.get("name"),"--").concat(t));this.model.variables.findWhere({name:n}).set("value",r)},getModelValue:function e(t){var r="".concat(this.model.get("name"),"-").concat(t);this.templateStylePreprocessorVariablesEnabled&&(r="".concat(this.model.get("name"),"--").concat(t));return this.model.variables.findWhere({name:r}).get("value")},loadFonts:function e(){var t=window.frames.siteFrame;window.WebFont&&window.WebFont.load({google:{families:this.allGoogleFonts}});t&&t.WebFont&&t.WebFont.load({google:{families:this.allGoogleFonts}})},toggleFontFamilyList:function e(t){var r=$(t.currentTarget).next(".js-font-family-list");$(t.currentTarget).toggleClass("is-open");"hidden"===r.attr("hidden")?r.attr("hidden",false):r.attr("hidden","hidden")},setModel:function e(t){this.model=t},setFontChosen:function e(t){this.fontChosen=t},getFontValueString:function e(){var t=this.getModelValue("font-family");var r=window._.findWhere(this.fontListContents,{value:t});var n;var i;if(r)n=r.text;else{var o=a();i=window._.findWhere(o,{name:t});i&&(r=window._.findWhere(this.fontListContents,{value:i.value}));n=r?r.text:null}return n},render:function e(){if(null===this.model)return null;this.beforeRender(this.$el);var t={fontFamily:this.getFontValueString(),fontWeight:this.getModelValue("font-weight"),fontSize:this.getModelValue("font-size"),lineHeight:this.getModelValue("line-height"),letterSpacing:this.getModelValue("letter-spacing"),fontListContents:this.fontListContents,rowsEnabled:this.rowsEnabled};var r=Twig.render(Twig.templates[this.template],t);(0,i.emptyElement)(this.el);(0,i.append)(this.el,r);this.afterRender(this.$el);return this}});var s=o;t["default"]=s},64461:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({el:".js-help-center",events:{"click .js-reveal-help-center":"onRevealHelpCenterClick"},onRevealHelpCenterClick:function e(){this.toggleOpenState()},toggleOpenState:function e(){this.el.classList.toggle("is-open")},isOpen:function e(){return this.el.classList.contains("is-open")}});var n=r;t["default"]=n},2043:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.Behavior.extend({onMouseEnter:function e(){this.view.highlighter.highlightWidget({container:this.view.containerEl,el:this.view.widgetEl})},onMouseLeave:function e(){this.view.highlighter.removeHighlightFromWidget({container:this.view.containerEl,el:this.view.widgetEl})}});var n=r;t["default"]=n},57269:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"hidden_widgets_panel_item",tag:"div",className:"full-page-panel__field",events:{"change .js-input":"onWidgetVisibilityChange"},triggers:{mouseenter:"MouseEnter",mouseleave:"MouseLeave"},behaviors:function e(){return this.options.behaviors},initialize:function e(t){this.highlighter=t.highlighter;this.globalEventsHandler=t.globalEventsHandler;this.containerEl=t.containerEl;this.siteContainerEl=t.siteContainerEl;this.widgetEl=n(this.siteContainerEl,this.model.get("uniqueHTMLId"))},onWidgetVisibilityChange:function e(){this.setVisibilityDataAttribute()},setVisibilityDataAttribute:function e(){var t="hidden";if(this.isVisible()){this.widgetEl.classList.remove("bk-tpl-hidden-mask");t="visible"}else this.widgetEl.classList.add("bk-tpl-hidden-mask");this.globalEventsHandler.trigger("widget:visibility:".concat(this.model.get("uniqueHTMLId")),t)},isVisible:function e(){return this.widgetEl.classList.contains("bk-tpl-hidden-mask")}});function n(e,t){return e.getElementById(t)}var i=r;t["default"]=i},23578:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(94014);var i=s(r(57269));var a=s(r(13678));var o=s(r(97632));function s(e){return e&&e.__esModule?e:{default:e}}var l=Marionette.CompositeView.extend({childViewContainer:".js-hidden-widgets-panel-contents",template:"hidden_widgets_panel_content",childView:i.default,initialize:function e(t){this.widgetRegister=t.widgetRegister;this.toolbarButtonElement=document.querySelector(".js-reveal");this.globalEventsHandler=t.globalEventsHandler;this.highlighter=t.highlighter;this.childBehavior=t.childBehavior;this.siteContainerEl=u();this.containerEl=document.querySelector(".js-primary-container");this.envDataProvider=t.envDataProvider;this.setCollection();this.attachEvents()},events:{"click .js-cancel":"closePanelClicked"},collectionEvents:{"change:data":"templateWidgetUpdated",reset:"render"},setCollection:function e(){this.collection=this.widgetRegister.getTemplateWidgetCollection()},attachEvents:function e(){this.envDataProvider.get("V10CompatibilityMode")&&Editor.Events.on("sidebarPanel:changed pageSwitch:click dragdrop:dragStart",this.closePanel.bind(this))},childViewOptions:function e(){return{highlighter:this.highlighter,globalEventsHandler:this.globalEventsHandler,siteContainerEl:this.siteContainerEl,containerEl:this.containerEl,behaviors:{Highlight:{behaviorClass:this.childBehavior}}}},refresh:function e(t){this.siteContainerEl=u();this.collection.reset(t);return this},templateWidgetUpdated:function e(){this.render()},closePanelClicked:function e(){this.closePanel();(0,n.openIntercom)()},_toggleTemplateWidgetsMask:function e(){this.panelIsOpen?(0,a.default)():(0,o.default)()},_togglePanelOpenClass:function e(){this.panelIsOpen?this.el.classList.add("is-open"):this.el.classList.remove("is-open")},openPanel:function e(){(0,n.closeIntercom)();this.panelIsOpen=true;this._togglePanelOpenClass();this._toggleTemplateWidgetsMask();this.toolbarButtonElement.setAttribute("data-attr","unreveal")},closePanel:function e(){this.panelIsOpen=false;this._togglePanelOpenClass();this._toggleTemplateWidgetsMask();this.highlighter.removeAllHighlights({container:this.containerEl,siteContainer:this.siteContainerEl});this.toolbarButtonElement.setAttribute("data-attr","reveal")},isOpen:function e(){return this.panelIsOpen}});function u(){return document.getElementById("siteFrame").contentDocument}var c=l;t["default"]=c},14504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.Behavior.extend({onMouseEnter:function e(){this.view.highlighter.removeAllHighlights({siteContainer:this.view.siteContainerEl,container:this.view.containerEl});this.view.highlighter.highlightWidget({container:this.view.containerEl,el:this.view.widgetEl})}});var n=r;t["default"]=n},97632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=a;var n=i(r(3104));function i(e){return e&&e.__esModule?e:{default:e}}function a(){var e=n.default.container.WidgetRegister.getTemplateWidgetCollection();e.forEach((function(e){var t=e.get("data");if(0===parseInt(t.showTplWidget,10)){var r=Editor.Site.Dom.window.document.querySelector("#".concat(e.get("uniqueHTMLId")));r.classList.add("bk-tpl-hidden");r.classList.remove("bk-tpl-hidden-mask")}}))}},13678:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=a;var n=i(r(3104));function i(e){return e&&e.__esModule?e:{default:e}}function a(){var e=n.default.container.WidgetRegister.getTemplateWidgetCollection();e.forEach((function(e){var t=e.get("data");if(0===parseInt(t.showTplWidget,10)){var r=Editor.Site.Dom.window.document.querySelector("#".concat(e.get("uniqueHTMLId")));r.classList.remove("bk-tpl-hidden");r.classList.add("bk-tpl-hidden-mask")}}))}},88934:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={highlightWidget:function e(t){var r=i(t.el);t.el.classList.add("highlight");"inView"!==r&&t.container.classList.add("blink-".concat(r))},removeHighlightFromWidget:function e(t){t.el.classList.remove("highlight");n(t.container)},removeAllHighlights:function e(t){var r=t.siteContainer.querySelectorAll(".widget.highlight");Array.prototype.forEach.call(r,(function(e){e.classList.remove("highlight")}));n(t.container)}};function n(e){["top","bottom"].forEach((function(t){e.classList.remove("blink-".concat(t))}))}function i(e){var t=e.getBoundingClientRect();if(t.top<=0)return"top";if(t.bottom>=(window.innerHeight||document.documentElement.clientHeight))return"bottom";return"inView"}var a=r;t["default"]=a},77181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=o(r(52245));var a=r(57595);function o(e){return e&&e.__esModule?e:{default:e}}var s=i.default.isiOS;var l=Marionette.ItemView.extend({template:"image_focus_panel",events:{"click .js-image-focus-cancel":"cancelChanges","click .js-image-focus-done":"closePanel","click .js-image-focus-bg":"cancelChanges","click .js-image-overlay":"focalPointClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.backgroundImage=t.backgroundImage;this.backgroundPosition=t.backgroundPosition;this.currentBackgroundPosition=t.backgroundPosition;this.bindEvents()},bindEvents:function e(){this.resizeHandler=this.resizeImage.bind(this);window.addEventListener("resize",this.resizeHandler,false)},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,backgroundImage:this.backgroundImage,backgroundPosition:this.backgroundPosition});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onRender:function e(){var t=this;Editor.Events.on("screenMode:change",this.closePanel.bind(this));this._loadVirtualImage(this.backgroundImage).then((function(e){var r=t.el.querySelector(".js-image");e.width>e.height?r.style.width="100%":r.style.height="100%";r.removeAttribute("hidden");var n=s()?500:0;setTimeout((function(){var e=t.el.querySelector(".js-image-wrapper");e.style.width="".concat(r.width,"px");e.style.height="".concat(r.height,"px")}),n);(0,a.isMobileScreenMode)()&&t.resizeImage();e.remove()}))},resizeImage:function e(){var t=this.el.querySelector(".js-image-wrapper");var r=this.el.querySelector(".js-image");if((0,a.isMobileScreenMode)()){t.setAttribute("hidden","true");var n=this.el.querySelector(".js-image-container");var i=n.clientWidth/r.width;var o=n.clientHeight/r.height;var s=i>o?o:i;var l=r.width*s;var u=r.height*s;r.style.width="".concat(l,"px");r.style.height="".concat(u,"px");t.style.width="".concat(l,"px");t.style.height="".concat(u,"px");t.removeAttribute("hidden")}else{if(r.width>r.height){r.style.width="100%";r.style.height=""}else{r.style.height="100%";r.style.width=""}t.style.width="".concat(r.width,"px");t.style.height="".concat(r.height,"px")}},closePanel:function e(){window.removeEventListener("resize",this.resizeHandler,false);this.trigger("panel:close");this.destroy()},cancelChanges:function e(){this.changeFocalPoint(this.backgroundPosition);this.closePanel()},focalPointClicked:function e(t){var r=this.el.querySelector(".js-image-overlay");var n="".concat(Math.floor(t.offsetX/r.clientWidth*100),"%");var i="".concat(Math.floor(t.offsetY/r.clientHeight*100),"%");var a=this.el.querySelector(".js-focal-point");a.style.left=n;a.style.top=i;this.changeFocalPoint({left:n,top:i})},changeFocalPoint:function e(t){if(t===this.currentBackgroundPosition)return;this.trigger("focus:change",t);this.currentBackgroundPosition=t},_loadVirtualImage:function e(t){return new Promise((function(e){var r=document.createElement("img");r.src=t;r.addEventListener("load",(function(){e(r)}))}))}});var u=l;t["default"]=u},60851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=o(r(62e3));var a=r(28923);function o(e){return e&&e.__esModule?e:{default:e}}var s=Marionette.ItemView.extend({defaultOverlayOpacity:.65,defaultStyleSets:{black:{background:"#000"},grey:{background:"#999"},white:{background:"#fff"}},excludedColours:["#000","#000000","#999","#999999","#fff","#ffffff"],customColourPickerView:null,template:"overlay_settings_panel",events:{"click .js-overlay-settings-cancel":"cancelChanges","click .js-overlay-settings-done":"saveChanges","click .js-overlay-settings-backstop":"cancelChanges","click .js-presets-tab":"showPresets","click .js-custom-tab":"showCustom","click .js-colour-button":"colourClicked","click .js-edit-colour-button":"editColourClicked","click .js-colour-node":"editColourClicked","change .js-slider-input":"onOpacityChanged","input .js-slider-input":"onOpacityChanged"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.styleSets=this.reorderStyleSets(t.styleSets);this.overlayColour=t.overlayColour;this.currentOverlayColour=this.overlayColour;this.overlayColourType=t.overlayColourType||this.findOverlayColourType(this.overlayColour);this.currentOverlayColourType=this.overlayColourType;this.overlayOpacity=t.overlayOpacity||this.defaultOverlayOpacity;this.currentOverlayOpacity=this.overlayOpacity},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,styleSets:this.styleSets,overlayColour:this.overlayColour,overlayColourType:this.overlayColourType,minValue:0,maxValue:100,overlayOpacity:this.normaliseOpacitySliderValue(this.overlayOpacity)});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onRender:function e(){this.cacheElements();this.addEventListeners()},cacheElements:function e(){this.presetsTab=this.el.querySelector(".js-presets-tab");this.customTab=this.el.querySelector(".js-custom-tab");this.presetsColourView=this.el.querySelector(".js-colour-list");this.customColourView=this.el.querySelector(".js-custom-colour");this.colourNode=this.el.querySelector(".js-colour-node");this.opacitySlider=this.el.querySelector(".js-slider-input");this.opacityValueLabel=this.el.querySelector(".js-opacity-value-label")},addEventListeners:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},closePanel:function e(){this.destroyCustomColourPicker();this.trigger("panel:close");this.destroy()},saveChanges:function e(){this.closePanel()},cancelChanges:function e(){this.changeOverlaySettings({overlayColour:this.overlayColour,overlayColourType:this.overlayColourType,overlayOpacity:this.overlayOpacity});this.closePanel()},colourClicked:function e(t){var r=t.currentTarget;var n=r.getAttribute("data-colour");this.removeActiveColourButtonClass();r.classList.add("is-selected");this.changeCustomColourNodeBackground(n);this.changeOverlaySettings({overlayColour:n,overlayColourType:"presets",overlayOpacity:this.currentOverlayOpacity})},editColourClicked:function e(){this.customColourPickerView=new i.default({colorType:"overlay",fill:this.currentOverlayColour,colorNode:this.colourNode});this.customColourPickerView.render();this.customColourPickerView.on("save",this.onColourPickerColourSaved.bind(this));this.customColourPickerView.on("change",this.onColourPickerColourChanged.bind(this))},showPresets:function e(){this.customColourView.setAttribute("hidden",true);this.presetsColourView.removeAttribute("hidden");this.removeActiveTabClass();this.presetsTab.classList.add("is-selected")},showCustom:function e(){this.presetsColourView.setAttribute("hidden",true);this.customColourView.removeAttribute("hidden");this.removeActiveTabClass();this.customTab.classList.add("is-selected")},onOpacityChanged:function e(){var t=this.opacitySlider.value.trim();this.changeOpacityLabelValue(t);this.changeOverlayOpacity(Number(t/100).toFixed(2))},reorderStyleSets:function e(t){var r=this;var n=Object.keys(t).reduce((function(e,n){r.excludedColours.includes(t[n].background)||(e[n]=t[n]);return e}),{});return Object.assign(n,this.defaultStyleSets)},findOverlayColourType:function e(t){return this.hasSelectedPresetsColour(t)?"presets":"custom"},normaliseOpacitySliderValue:function e(t){return Math.floor(100*t)},destroyCustomColourPicker:function e(){if(!this.customColourPickerView)return;this.customColourPickerView.close();this.customColourPickerView=null},removeActiveTabClass:function e(){this.el.querySelector(".js-tab-button.is-selected").classList.remove("is-selected")},removeActiveColourButtonClass:function e(){var t=this.el.querySelector(".js-colour-button.is-selected");t&&t.classList.remove("is-selected")},hasSelectedPresetsColour:function e(t){var r=this;return Object.keys(this.styleSets).filter((function(e){return r.styleSets[e].background===t})).length>0},isOverlaySettingChanged:function e(t){return t.overlayColour!==this.currentOverlayColour||t.overlayColourType!==this.currentOverlayColourType||t.overlayOpacity!==this.currentOverlayOpacity},changeOverlaySettings:function e(t){if(!this.isOverlaySettingChanged(t))return;this.trigger("overlay:change",{overlayColour:t.overlayColour,overlayColourType:t.overlayColourType,overlayOpacity:t.overlayOpacity});this.currentOverlayColourType=t.overlayColourType;this.currentOverlayColour=t.overlayColour;this.currentOverlayOpacity=t.overlayOpacity},changeOverlayOpacity:function e(t){var r=this;this.trigger("opacity:drag",t);(0,a.debounce)((function(){r.changeOverlaySettings({overlayColour:r.currentOverlayColour,overlayColourType:r.currentOverlayColourType,overlayOpacity:t})}),200)()},onColourPickerColourSaved:function e(t){this.changeOverlaySettings({overlayColour:t,overlayColourType:"custom",overlayOpacity:this.currentOverlayOpacity})},onColourPickerColourChanged:function e(t){this.changeCustomColourNodeBackground(t)},changeCustomColourNodeBackground:function e(t){this.colourNode.style.backgroundColor=t},changeOpacityLabelValue:function e(t){this.opacityValueLabel.innerText="".concat(t,"%")}});var l=s;t["default"]=l},6868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({initialize:function e(t){t.picture&&t.picture.data&&this.set("picture",t.picture.data.url)}});var n=r;t["default"]=n},46106:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(6868));function i(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.Collection.extend({model:n.default},{fromFacebookAlbumData:function e(t){return new a(t)}});var o=a;t["default"]=o},2854:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.ImagesFacebookAlbumView=void 0;var n=r(86192);function i(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,l,"next",e)}function l(e){i(o,n,a,s,l,"throw",e)}s(void 0)}))}}var o="loading-spinner";var s=Backbone.View.extend({tagName:"li",className:"facebook-album-list__wrapper",events:{"click .js-facebook-album":"onClickAlbum"},render:function e(){(0,n.append)(this.el,Twig.render(Twig.templates.images_panel_facebook_album,this.model.toJSON()))},onClickAlbum:function e(){this.trigger("album:click",this.model.get("id"))}});t.ImagesFacebookAlbumView=s;var l=Marionette.CollectionView.extend({childView:s,childEvents:{"album:click":"onClickAlbum"},events:{"click .js-fb-login":"onClickFbLogin"},initialize:function e(t){this.facebookImageRetriever=t.facebookImageRetriever;this.getAlbums()},renderAlbums:function e(t){this.collection=t;this.render();this.hideSpinner()},onClickFbLogin:function e(){var t=this;var r={appId:App.frontEndBucket.facebookAppId,baseUrl:App.frontEndBucket.domain,protocol:App.frontEndBucket.protocol};var n=JSON.stringify({type:"facebook",data:r});if(window.WebViewBridge){window.WebViewBridge.send(n);return}if(window.isReactNative&&"android"===window.reactNativePlatform){postMessage(n);return}this.facebookImageRetriever.login().then((function(){t.hideLogin();t.getAlbums()}))},hideLogin:function e(){this.el.classList.add(o);var t=document.querySelector(".js-fb-login-wrapper");t&&(t.hidden=true)},showLogin:function e(){this.hideSpinner();(0,n.append)(this.el,Twig.render(Twig.templates.images_panel_facebook_login));var t=document.querySelector(".js-fb-login-wrapper");t&&(t.hidden=false)},getAlbums:function e(){var t=this;return a(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return t.facebookImageRetriever.getAlbums();case 3:r=n.sent;t.renderAlbums(r);n.next=10;break;case 7:n.prev=7;n.t0=n["catch"](0);t.showLogin();case 10:case"end":return n.stop()}}),e,null,[[0,7]])})))()},hideSpinner:function e(){this.trigger("album:loaded");this.el.classList.remove(o)},onClickAlbum:function e(t,r){this.trigger("album:click",r,this.facebookImageRetriever)}});var u=l;t["default"]=u},46233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({getImage:function e(){return this.get("images")[0].source}});var n=r;t["default"]=n},37403:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(46106));var i=a(r(76535));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function c(e,t,r){t&&u(e.prototype,t);r&&u(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var d=false;var f="/me?fields=albums{name,count,picture}&limit=25";var p="/photos?fields=id,height,width,picture,images&limit=25";function g(e){return e.authResponse.accessToken}function h(e,t){var r=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&#]".concat(r,"=([^&#]*)"));var i=n.exec(t);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}var v=function(){function e(t){l(this,e);this._injectFacebookRootElement();this._injectFacebookScript(t.locale);this._initializeFacebookSDK()}c(e,[{key:"getAlbums",value:function(){var e=s(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return this._initializeFacebookSDK();case 2:i.prev=2;i.next=5;return this._getAccessToken();case 5:t=i.sent;this._accessToken=t;i.next=9;return this._getAlbumData();case 9:r=i.sent;return i.abrupt("return",n.default.fromFacebookAlbumData(r));case 13:i.prev=13;i.t0=i["catch"](2);throw new Error(i.t0);case 16:case"end":return i.stop()}}),e,this,[[2,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getImages",value:function(){var e=s(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return this._getImagesData(t);case 2:r=n.sent;return n.abrupt("return",i.default.fromFacebookImagesData(r));case 4:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"login",value:function e(){return new Promise((function(e,t){FB.login((function(r){"connected"===r.status?e(g(r)):t()}),{scope:"user_photos"})}))}},{key:"_initializeFacebookSDK",value:function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(e){d?e(d):window.fbAsyncInit=function(){FB.init({appId:App.frontEndBucket.facebookAppId,cookie:true,xfbml:false,status:true,version:"v2.8"});d=true;e(true)}})));case 1:case"end":return t.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_injectFacebookRootElement",value:function e(){if(!document.getElementById("fb-root")){var t=document.createElement("div");t.setAttribute("id","fb-root");document.body.appendChild(t)}}},{key:"_injectFacebookScript",value:function e(t){var r=document.createElement("script");r.src="".concat(document.location.protocol,"//connect.facebook.net/").concat(t,"/sdk.js");document.getElementById("fb-root").appendChild(r)}},{key:"_getImagesData",value:function e(t){var r=this;this._imagesData=[];return new Promise((function(e){FB.api(t+p,"get",{access_token:r._accessToken},r._processImagesResponse.bind(r,e))}))}},{key:"_processImagesResponse",value:function e(t,r){this._imagesData=this._imagesData.concat(r.data);r.paging&&r.paging.next?FB.api(r.paging.next,"get",{access_token:this._accessToken},this._processImagesResponse.bind(this,t)):t(this._imagesData)}},{key:"_getAlbumData",value:function(){var e=s(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:this._albumsData=[];return r.abrupt("return",new Promise((function(e){FB.api(f,"get",{access_token:t._accessToken},t._processAlbumResponse.bind(t,e))})));case 2:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_processAlbumResponse",value:function e(t,r){var n=r.albums?r.albums:r;this._albumsData=this._albumsData.concat(n.data);n.paging&&n.paging.next?FB.api(n.paging.next,"get",{access_token:this._accessToken},this._processAlbumResponse.bind(this,t)):t(this._albumsData)}},{key:"_getAccessToken",value:function(){var e=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(!App.frontEndBucket.facebookAccessToken){r.next=2;break}return r.abrupt("return",Promise.resolve(App.frontEndBucket.facebookAccessToken));case 2:if(!window.location.hash){r.next=7;break}t=h("access_token",window.location.hash);if(!t){r.next=7;break}App.frontEndBucket.facebookAccessToken=t;return r.abrupt("return",Promise.resolve(t));case 7:return r.abrupt("return",new Promise((function(e,t){FB.getLoginStatus((function(r){if("connected"===r.status){var n=g(r);App.frontEndBucket.facebookAccessToken=n;e(n)}else t()}))})));case 8:case"end":return r.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]);return e}();var m=v;t["default"]=m},76535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(46233));function i(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.Collection.extend({model:n.default},{fromFacebookImagesData:function e(t){return new a(t)}});var o=a;t["default"]=o},75466:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.ImagesFacebookImagesCollectionView=t.ImagesFacebookImageView=void 0;var n=i(r(76535));function i(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.View.extend({tagName:"li",className:"images-panel-recent__image-wrapper image-list__wrapper",events:{"click .js-facebook-image":"onClickImage"},render:function e(){this.$el.append(Twig.render(Twig.templates.images_panel_facebook_image,this.model.toJSON()))},onClickImage:function e(){this.trigger("image:click",this.model.getImage())}});t.ImagesFacebookImageView=a;var o=Backbone.View.extend({tagName:"li",className:"images-panel-recent__image-wrapper image-list__wrapper has-checkbox",events:{"click .js-facebook-image":"onClickImage"},onClickImage:function e(){this.$(".js-image-checkbox").click();this.$el.toggleClass("is-selected",this.$(".js-image-checkbox").is(":checked"));this.trigger("galleryImage:click",this.model,this.$(".js-image-checkbox").is(":checked"))},render:function e(){this.$el.append(Twig.render(Twig.templates.images_panel_facebook_image_for_gallery,this.model.toJSON()))}});var s=Marionette.CollectionView.extend({childEvents:{"image:click":"onClickImage","galleryImage:click":"onClickGalleryImage"},initialize:function e(){this.selectedImages=new n.default},onClickGalleryImage:function e(t,r,n){n?this.selectedImages.add(r):this.selectedImages.remove(r);this.trigger("images:change",this.selectedImages)},onClickImage:function e(t,r){this.trigger("click:image",r)}});t.ImagesFacebookImagesCollectionView=s;var l=Backbone.View.extend({initialize:function e(t){var r=this;this.siteRef=t.siteRef||void 0;t.fbImageRetriever.getImages(t.albumId).then((function(e){r.initializeCollectionView(e,t.widgetType);"image"!==t.widgetType&&r.renderGalleryButtons(t.widgetType);r.hideSpinner()}));this.galleryAssets=t.galleryAssets;this.globalAssets=t.globalAssets;this.listenTo(this,"selection:confirm",this.onSelectionConfirm)},destroy:function e(){this.remove()},hideSpinner:function e(){this.trigger("fbImages:loaded");this.$el.removeClass("loading-spinner")},initializeCollectionView:function e(t,r){this.collectionView=new s({collection:t,el:".js-facebook-collection-view",childView:this.collectionChildView(r)});this.listenTo(this.collectionView,"click:image",this.onClickImage);this.listenTo(this.collectionView,"images:change",this.onChangeImages);this.collectionView.render()},onSelectionConfirm:function e(){var t=this,r;var n=[];this.showSpinner();this.selectedImages.forEach((function(e){var r=e.getImage();var i=$.Deferred();t.uploadFacebookImage(r).done((function(e){t.galleryAssets.push(e);i.resolve()})).fail(i.reject);n.push(i.promise())}));(r=$).when.apply(r,n).done((function(){t.trigger("images:select:complete",{assets:t.galleryAssets,enableSave:true})})).fail(this.showErrorUI.bind(this))},onChangeImages:function e(t){this.selectedImages=t;this.$(".js-selected-images-count").text(t.length);this.trigger("images:change")},renderGalleryButtons:function e(){this.selectedImagesCount=0;this.$el.append(Twig.render(Twig.templates.images_panel_facebook_gallery_buttons,{selectedImagesCount:this.selectedImagesCount}))},collectionChildView:function e(t){if("image"===t)return a;return o},showSpinner:function e(){this.collectionView.collection=null;this.collectionView.render();this.$(".js-gallery").prop("hidden",true);this.$el.addClass("loading-spinner")},onClickImage:function e(t){var r=this;this.showSpinner();this.uploadFacebookImage(t).done((function(e){r.trigger("image:click",e)})).fail(this.showErrorUI.bind(this))},showErrorUI:function e(t){var r=Math.round(parseInt(App.user.capabilities.storageLimit,10)/1048576*100)/100;this.$(".js-upload-panel-error-content").removeAttr("hidden");this.hideSpinner();t&&"cannotUploadAccountHolderExceededStorageLimit"===t?this.$(".js-upload-error-msg").text(App.t("shared_components.imagespanel.uploading_error_exceeded_limit","- you have exceeded the storage limit of %1MB.",r)):this.$(".js-upload-error-msg").text(App.t("shared_components.imagespanel.uploading_error_general","- Were really sorry about this. Please email %1 so our support team can look into this for you",App.brand.supportEmail))},uploadFacebookImage:function e(t){var r=this;var n=$.Deferred();this.getUploadToken().done((function(e){var i={token:e,url:t,type:"image",siteRef:App.session.get("siteRef")||r.siteRef};$.ajax({type:"POST",url:"".concat(App.session.get("apiProxyBaseUrl"),"/users/").concat(App.session.get("userRef"),"/assets"),async:true,data:i,xhrFields:{withCredentials:true},headers:{"X-CSRF-TOKEN":App.session.get("csrfToken")}}).done((function(e){var t=JSON.parse(e).result;r.globalAssets.add(new BaseKit.Globals.Asset(t));n.resolve(t)})).fail((function(e){var t=JSON.parse(e.responseText).errorKey;n.reject(t)}))}));return n.promise()},getUploadToken:function e(){var t=$.Deferred();$.ajax({type:"POST",url:"".concat(App.session.get("apiProxyBaseUrl"),"/users/").concat(App.session.get("userRef"),"/upload-tokens"),async:true,xhrFields:{withCredentials:true},headers:{"X-CSRF-TOKEN":App.session.get("csrfToken")}}).done((function(e){t.resolve(e.token)}));return t.promise()}});t["default"]=l},88135:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(40923));var i=r(11474);function a(e){return e&&e.__esModule?e:{default:e}}var o=616;function s(){var e=(0,i.isTouchDevice)();var t=window.innerWidth<o;return e&&t}var l=Marionette.ItemView.extend({events:{"click .js-modify-collection":"modifyImagesCollectionClicked","click .js-reset-order":"resetOrderClicked","click .js-delete":"deleteImageClicked","click .js-reorder":"reorderClicked","click .js-image-list-item":"imageListItemClicked","click .js-navigate-prev":"navigatePrevItemClicked","click .js-navigate-next":"navigateNextItemClicked","input .js-title":"titleChanged","input .js-description":"descriptionChanged","click .js-image-link":"imageLinkClicked"},initialize:function e(t){this.isReorderMode=false;this.previousAssets=t.collection.toJSON();this.currentAssets=t.collection.toJSON();this.selectedAsset=this._getFirstAsset(this.currentAssets);s()||this.addSortableEvents();return this},render:function e(t){var r=t||this.previousAssets;this.selectedAsset||(this.selectedAsset=this._getFirstAsset(r));this.$el.empty().append(Twig.render(Twig.templates.images_panel_gallery,{galleryAssets:r,selectedAsset:this.selectedAsset,widgetType:this.model.get("widgetType")}));this.addSortableEvents();return this},renderSettings:function e(){var t=this._getImageSettingsContainer();t.innerHTML=Twig.render(Twig.templates.images_panel_gallery_settings,{galleryAssets:this.currentAssets,selectedAsset:this.selectedAsset,widgetType:this.model.get("widgetType")})},reorderClicked:function e(){this.switchToReorderMode()},switchToReorderMode:function e(){this.trigger("order:edit");this.model.set("mode","mobile-sortable");this.addSortableEvents()},deleteImageClicked:function e(t){t.stopPropagation();var r=t.currentTarget;var n=r.getAttribute("data-ref");var i="asset";if(r.hasAttribute("data-tpl-asset-ref")){n=r.getAttribute("data-tpl-asset-ref");i="tpl"}this.trigger("asset:delete");this.handleAssetDeletion({ref:n,type:i})},handleAssetDeletion:function e(t){var r=t.ref;var n=this.collection.get(r);var i=[];var a=[];if("tpl"===t.type){n=this.collection.findWhere({tplAssetRef:r});_.each(this.currentAssets,(function(e){e.tplAssetRef!==r&&i.push(e)}));_.each(this.previousAssets,(function(e){e.tplAssetRef!==r&&a.push(e)}))}else{_.each(this.currentAssets,(function(e){parseInt(e.ref,10)!==parseInt(r,10)&&i.push(e)}));_.each(this.previousAssets,(function(e){parseInt(e.ref,10)!==parseInt(r,10)&&a.push(e)}))}this.selectedAsset=null;this.render(i);this.currentAssets=i;this.previousAssets=a;this.collection.remove(n);this.trigger("order:change",i)},onDestroy:function e(){this.removeScrollObserver()},removeScrollObserver:function e(){if(!s())return;$(document).off("touchmove.sortable");$("body").off("touchstart.sortable")},modifyImagesCollectionClicked:function e(){this.trigger("open:upload")},addSortableEvents:function e(){var t=this;if(!this.collection||0===this.collection.length)return;var r={scrollSensitivity:100,scroll:true,sort:true,ghostClass:"sortable-ghost",animation:150,dataIdAttr:"data-ref",onMove:function e(t){var r=-1===t.related.className.indexOf("is-not-sortable");var n=-1===t.dragged.className.indexOf("is-not-sortable");return r&&n},onEnd:function e(){t.updateDisplayOrder()}};if(s()){r.handle=".js-drag-handle";r.draggable=".js-image-list-item"}this.$(".js-image-list").length>0&&Sortable.create(this.$(".js-image-list")[0],r)},updateDisplayOrder:function e(){var t=this;var r=[];this.$(".js-image-list-item").each((function(e,n){var i=void 0!==$(n).data("tpl-asset-ref");var a=t.currentAssets.find((function(e){var t=e.ref,r=e.tplAssetRef;if(i)return r===$(n).data("tpl-asset-ref").toString();return t===$(n).data("ref")}));r.push(a)}));this.trigger("order:change",r);this.currentAssets=r;this.renderSettings()},resetOrderClicked:function e(){this.render();this.trigger("order:change",this.previousAssets)},imageListItemClicked:function e(t){if(this.isReorderMode)return;this._setActiveImageListItem(t.currentTarget)},navigatePrevItemClicked:function e(){var t=this._getActiveImageItem();t.previousElementSibling&&this._setActiveImageListItem(t.previousElementSibling)},navigateNextItemClicked:function e(){var t=this._getActiveImageItem();t.nextElementSibling&&this._setActiveImageListItem(t.nextElementSibling)},titleChanged:function e(t){this.selectedAsset.title=t.currentTarget.value.trim();this.trigger("settings:change",this.currentAssets)},descriptionChanged:function e(t){this.selectedAsset.description=t.currentTarget.value.trim();this.trigger("settings:change",this.currentAssets)},imageLinkClicked:function e(){this.linkEditorView=new n.default({url:this.selectedAsset.linkUrl,target:this.selectedAsset.linkTarget}).render();this.listenTo(this.linkEditorView,"link:change",this._insertLink);this.listenTo(this.linkEditorView,"link:remove",this._removeLink);this.listenTo(this.linkEditorView,"linkEditor:close",this._linkEditorClosed)},setImageSettingsVisible:function e(t){this._setImageListControlsVisible(!t);this._setImageListContainerVisible(!t);this._setImageSettingsContainerVisible(t)},setReorderModeActive:function e(t){this.isReorderMode=t},_setActiveImageListItem:function e(t){this._removeActiveImageItemState();t.classList.add("is-active");var r=t.dataset.ref?parseInt(t.dataset.ref,10):t.dataset.tplAssetRef;this.selectedAsset=this.currentAssets.filter((function(e){return e.ref===r||e.tplAssetRef===r}))[0];this.renderSettings();this.trigger("settings:open")},_insertLink:function e(t){t.url&&this._updateSelectedAssetLink(t.url,t.target)},_removeLink:function e(){this._updateSelectedAssetLink("","")},_updateSelectedAssetLink:function e(t,r){this.selectedAsset.linkUrl=t;this.selectedAsset.linkTarget=r;this.renderSettings();this.trigger("settings:change",this.currentAssets)},_linkEditorClosed:function e(){if(!this.linkEditorView)return;this.stopListening(this.linkEditorView,"link:change");this.stopListening(this.linkEditorView,"link:remove");this.stopListening(this.linkEditorView,"linkEditor:close");this.linkEditorView=null},_getActiveImageItem:function e(){return this.el.querySelector(".js-image-list-item.is-active")},_getFirstAsset:function e(t){return t.length>0?t[0]:null},_removeActiveImageItemState:function e(){var t=this._getActiveImageItem();t.classList.remove("is-active")},_getImageSettingsContainer:function e(){return this.el.querySelector(".js-image-settings-container")},_setImageSettingsContainerVisible:function e(t){var r=this._getImageSettingsContainer();t?r.classList.add("is-active"):r.classList.remove("is-active")},_getImageListContainer:function e(){return this.el.querySelector(".js-image-list-container")},_setImageListContainerVisible:function e(t){var r=this._getImageListContainer();t?r.classList.remove("is-inactive"):r.classList.add("is-inactive")},_getImageListControls:function e(){return this.el.querySelector(".js-controls")},_setImageListControlsVisible:function e(t){var r=this._getImageListControls();t?r.removeAttribute("hidden"):r.setAttribute("hidden","hidden")}});var u=l;t["default"]=u},31662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(){return App.user.capabilities.imageEditing}var n=Marionette.ItemView.extend({events:{"change .js-title":"titleChanged","change .js-description":"descriptionChanged","click .js-edit":"openImageEditor","click .js-preview":"openImagePreview","click .js-delete":"deleteClicked",submit:"onSubmit"},initialize:function e(t){this.imageEditor=t.imageEditor;return this},render:function e(){var t=_.extend(this.model.toJSON());this.$el.empty().append(Twig.render(Twig.templates.images_panel_image_edit,{asset:t,editable:r()}));return this},openImagePreview:function e(){var t=Twig.render(Twig.templates.images_panel_image_preview,_.extend({asset:this.model.toJSON()},this.getImageDimensions(this.model.toJSON())));$("body").append(t);$(".js-close-preview").on("click",(function(){$(".js-image-preview").remove()}));this.addESCKeyEvent()},addESCKeyEvent:function e(){$(document).keyup((function(e){27===e.keyCode&&$(".js-image-preview").remove()}))},getImageDimensions:function e(t){var r=window.innerWidth;var n=window.innerHeight;var i=r-160;var a=n-160;var o=t.imageHeight;var s=t.imageWidth;var l=o;var u=s;if(s>i||o>a)if(s/i>o/a){u=i;l=parseInt(o/(s/u),10)}else{l=a;u=parseInt(s/(o/l),10)}return{width:u,height:l}},titleChanged:function e(){var t=this.$(".js-title").val().trim();this.model.set("title",t)},descriptionChanged:function e(){var t=this.$(".js-description").val().trim();this.model.set("description",t)},onSubmit:function e(t){var r=this;t.preventDefault();this.model.save(void 0,{patch:true,wait:true,success:function e(){r.trigger("asset:saved");r.model.trigger("asset:saved")}})},deleteClicked:function e(t){var r=this;t.preventDefault();this.model.destroy({success:function e(){r.trigger("asset:deleted",r.model)}})},openImageEditor:function e(){this.el.querySelector(".js-image-wrap").classList.add("is-loading");this.imageEditor.open({image:this.el.querySelector(".js-image"),url:this.model.get("url"),onLoad:this.onImageEditorLoad.bind(this),onSave:this.saveEditedImg.bind(this),onError:this.onImageEditorError.bind(this)})},onImageEditorLoad:function e(){this.el.querySelector(".js-image-wrap").classList.remove("is-loading")},onImageEditorError:function e(t){console.error(t)},saveEditedImg:function e(t){var r=this.model.get("title");var n=this.model.get("description");var i=this.model.get("ref");this.model.clear().set(_.extend(t,{title:r,description:n}));this.collection.add(this.model);this.render();this.trigger("asset:edited",this.model.toJSON(),i)}});var i=n;t["default"]=i},97109:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({events:{"click .js-image":"onImageClick","change .js-image-checkbox":"onImageSelected","click .js-setting":"onSettingClick"},initialize:function e(t){this.widgetType=t.widgetType},onImageClick:function e(t){t.stopPropagation();"image"===this.widgetType?this.trigger("select"):this.selectImage()},onSettingClick:function e(t){t.stopPropagation();this.trigger("edit")},selectImage:function e(){this.$(".js-image-checkbox").click()},onImageSelected:function e(t){t.stopPropagation();this.$el.toggleClass("is-selected",this.$(".js-image-checkbox").is(":checked"));this.trigger("pick",this.$(".js-image-checkbox").is(":checked"))}});var n=r;t["default"]=n},5234:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({defaults:{widgetType:"image",panel:"upload",parentPanel:void 0,isSubPanel:false,asset:void 0,title:App.t("shared_components.imagespanel.source_title","Image source"),forceHidden:false,showSaveBtn:false,galleryAssets:void 0},initialize:function e(){return this}});BaseKit.Panels.Model=r;var n=r;t["default"]=n},98654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=v(r(3104));var i=v(r(37403));var a=v(r(2854));var o=v(r(36336));var s=v(r(42323));var l=v(r(75466));var u=v(r(88135));var c=v(r(38323));var d=v(r(31662));var f=v(r(62209));var p=v(r(13386));var g=v(r(28332));var h=r(11474);function v(e){return e&&e.__esModule?e:{default:e}}var m=616;function y(){return(0,h.isTouchDevice)()&&b()}function b(){return window.innerWidth<m}function w(){if(!App.frontEndBucket)return{};return{facebookAppId:App.frontEndBucket.facebookAppId}}function S(){if(App.user.capabilities.hideFacebookImageImport&&1===parseInt(App.user.capabilities.hideFacebookImageImport,10))return true;return false}function E(){var e=false;if(S())return false;w().facebookAppId&&(e=true);return e}function P(){if(App.user.capabilities.stockImages&&1===parseInt(App.user.capabilities.stockImages,10))return true;return false}function k(){return n.default.container.BrandDataProvider.has("enableFilestack")}function C(){return n.default.container.EnvDataProvider.get("stockImageProvider")}var O=Marionette.ItemView.extend({events:{"click .js-upload":"uploadClicked","click .js-close":"closeClicked","click .js-save":"saveClicked","click .js-image-bg":"closePanel","click .js-recent":"openRecentImagesPanel","click .js-stock":"openStockImagesPanel","click .js-facebook":"openFacebookAlbumsPanel","click .js-selection-confirm":"notifySelection","click .images-panel__source":"sourceSelected","click .js-back":"backClicked"},initialize:function e(t){this.currentView=null;this.siteRef=t.siteRef;this.listenTo(this.model,"change:panel",this.rerender);this.listenTo(this,"close:panel",this.closePanel);return this},notifySelection:function e(){this.currentView.trigger("selection:confirm")},getGlobalAssets:function e(){return BaseKit.Globals.imageAssets},isInEditor:function e(){var t=false;"undefined"!==typeof Editor&&Editor.Site&&(t=true);return t},render:function e(){var t=_.extend(this.model.toJSON(),{isFacebookAvailable:E(),isStockImageAvailable:P(),isSmallResTouchDevice:y(),isFilestackEnabled:k(),stockImageProvider:C()});"gallery"===t.panel&&(t.selectedAsset=this._getFirstGalleryAsset(t.galleryAssets));this.$el.empty().append(Twig.render(Twig.templates.images_panel,t));this.moveToBody();this.attachPanelEvents();this.isInEditor()&&Editor.Events.trigger("imagesPanel:rendered");return this},rerender:function e(){this.currentView&&this.currentView.destroy();var t=_.extend(this.model.toJSON(),{isFacebookAvailable:E(),isSmallResTouchDevice:y(),isStockImageAvailable:P(),isFilestackEnabled:k(),stockImageProvider:C(),asset:this.model.get("asset")?this.model.get("asset").toJSON():void 0,editable:App.user.capabilities.imageEditing});"gallery"===t.panel&&(t.selectedAsset=this._getFirstGalleryAsset(t.galleryAssets));var r=Twig.templates.images_panel;this.$el.empty().append(Twig.render(r,t));this.attachPanelEvents();return this},moveToBody:function e(){var t=this.$el.appendTo("body");this.setElement(t)},attachPanelEvents:function e(){switch(this.model.get("panel")){case"upload":this.attachUploadViewEvents();break;case"recentImages":this.attachRecentImagesViewEvents();break;case"stock":this.attachStockImageViewEvents();break;case"unsplashStock":this.attachUnsplashStockViewEvents();break;case"editImage":this.attachEditImageViewEvents();break;case"landing":this.attachLandingViewEvents();break;case"gallery":this.attachGalleryViewEvents();break;case"facebookAlbums":this.attachFacebookAlbumsViewEvents();break;case"facebookImages":this.attachFacebookImagesViewEvents();break}Editor.Events.on("screenMode:change",this.closePanel.bind(this))},attachFacebookAlbumsViewEvents:function e(){var t=this;this.facebookAlbumsView=new a.default({el:".js-facebook-albums",facebookImageRetriever:new i.default({locale:this._getDeducedLocale()})});this.currentView=this.facebookAlbumsView;this.listenTo(this.facebookAlbumsView,"album:click",this.openFacebookImagesPanel);this.listenTo(this.facebookAlbumsView,"album:loaded",(function(){t.$(".js-content").attr("hidden",false)}))},_getDeducedLocale:function e(){if(this.isInEditor()&&Editor.Site&&Editor.Site.Dom&&Editor.Site.Dom.window)return Editor.Site.Dom.window.Server.app.deducedLocale;return null},attachFacebookImagesViewEvents:function e(){var t=this;this.facebookImagesView=new l.default({el:".js-facebook-images",siteRef:this.siteRef,albumId:this.fbSelectedAlbumRef,fbImageRetriever:this.fbImageRetriever,widgetType:this.model.get("widgetType"),galleryAssets:this.model.get("galleryAssets"),globalAssets:this.getGlobalAssets()});this.currentView=this.facebookImagesView;this.listenTo(this.facebookImagesView,"image:click",this.selectFacebookImage);this.listenTo(this.facebookImagesView,"images:change",this._enableAddImages);this.listenTo(this.facebookImagesView,"images:select:complete",this.openGalleryPanel);this.listenTo(this.facebookImagesView,"fbImages:loaded",(function(){t.$(".js-content").attr("hidden",false)}))},selectFacebookImage:function e(t){this.trigger("asset:change",t);this.closePanel()},attachUploadViewEvents:function e(){this.imagesUploadPanelView=new p.default({el:".js-upload-panel",siteRef:this.siteRef,collection:this.getGlobalAssets(),model:new Backbone.Model,userDataProvider:n.default.container.UserDataProvider});this.listenTo(this.imagesUploadPanelView,"image:upload",this.uploadFinished);this.listenTo(this.imagesUploadPanelView,"images:upload:finished",this.multipleUploadFinished);this.listenTo(this.imagesUploadPanelView,"image:upload:start",this.uploadStarted);this.listenTo(this.imagesUploadPanelView,"image:upload:error",this.rerender);this.currentView=this.imagesUploadPanelView},openFileUpload:function e(){this.imagesUploadPanelView.trigger("upload:image")},multipleUploadFinished:function e(t){var r=this.model.get("galleryAssets");this.$(".js-menu-overlay").attr("hidden","hidden");this.model.set("galleryAssets",t.concat(r));this.openRecentImagesPanel({enableSave:true});this.sourceSelected()},uploadFinished:function e(t){this.$(".js-menu-overlay").attr("hidden","hidden");this.imageSelected(t)},uploadStarted:function e(){this.hideMenuUI();this.$(".js-menu-overlay").removeAttr("hidden")},hideMenuUI:function e(){this.$(".js-menu").attr("hidden","hidden")},closeClicked:function e(){if(this.model.get("closeAction")&&"function"===typeof this.model.get("closeAction")){this.model.get("closeAction").call();return}"upload"!==this.model.get("panel")&&y()&&"landing"!==this.model.get("panel")&&y()&&"gallery"!==this.model.get("panel")&&y()?this.model.set({panel:"upload",title:App.t("shared_components.imagespanel.source_title","Image source")}):this.model.get("isSubPanel")?this.openParentPanel(this.model.get("parentPanel")):"mobile-sortable"===this.model.get("mode")?this._restoreDefaultGalleryView():"gallery"===this.model.get("panel")||"landing"===this.model.get("panel")||"gallery"!==this.model.get("widgetType")&&"slideshow"!==this.model.get("widgetType")?this.closePanel():this.openGalleryPanel({assets:this.model.get("galleryAssets"),enableSave:void 0!==this.galleryAssetsUpdated&&this.galleryAssetsUpdated})},saveClicked:function e(){if("mobile-sortable"===this.model.get("mode")){this.model.set("mode",void 0);this.model.set("enableSave",true);this.rerender();return}if("image-settings"===this.model.get("mode")){this._restoreDefaultGalleryView();return}if("gallery"===this.model.get("widgetType")||"slideshow"===this.model.get("widgetType")){this.trigger("save:".concat(this.model.get("widgetType")),this.model.get("galleryAssets"));this.closePanel()}},openParentPanel:function e(t){switch(t){case"upload":this.openUploadPanel();break;case"recentImages":this.openRecentImagesPanel();break;case"stock":this.openStockImagesPanel();break;case"gallery":this.openGalleryPanel();break}},closePanel:function e(){"gallery"===this.model.get("panel")&&void 0!==this.galleryAssetsUpdated&&(this.galleryAssetsUpdated=false);this.currentView&&"function"===typeof this.currentView.destroy&&this.currentView.destroy();this.destroy();this.trigger("close:images-panel");var t=document.querySelector(".js-menu--open");t&&t.classList.remove("images-panel__menu--open","js-menu--open")},sourceSelected:function e(){var t=document.querySelector(".js-upload.is-selected");if(!t){var r=document.querySelector(".js-menu");r&&r.classList.add("images-panel__menu--open","js-menu--open")}},uploadClicked:function e(){y()&&window.innerWidth<=m?this.openFileUpload():this.openUploadPanel()},openUploadPanel:function e(){this.model.set({panel:"upload",parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:false,title:App.t("shared_components.imagespanel.source_title","Image source")})},openRecentImagesPanel:function e(t){var r=this._isMultipleImagesWidget();var n=t||{};this.model.set({panel:"recentImages",forceHidden:false,parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:r,enableSave:n.enableSave,title:App.t("shared_components.imagespanel.recent_title","Recent")});this.$(".js-recent-icon").attr("hidden",true);this.$(".js-recent-loading").attr("hidden",false);this.$(".js-content").attr("hidden",true)},openFacebookAlbumsPanel:function e(){this.model.set({panel:"facebookAlbums",forceHidden:false,parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:false,title:App.t("shared_components.imagespanel.facebook_title","Facebook images")});this.$(".js-facebook-icon").attr("hidden",true);this.$(".js-facebook-loading").attr("hidden",false);this.$(".js-content").attr("hidden",true)},openFacebookImagesPanel:function e(t,r){var n=this._isMultipleImagesWidget();this.fbSelectedAlbumRef=t;this.fbImageRetriever=r;this.model.set({panel:"facebookImages",forceHidden:false,parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:n,title:App.t("shared_components.imagespanel.facebook_title","Facebook images")})},attachRecentImagesViewEvents:function e(){var t=this;this.recentImagesPanelView=new f.default({widgetType:this.model.get("widgetType"),el:".js-recent-images",galleryAssets:this.model.get("galleryAssets")||void 0,collection:this.getGlobalAssets(),userDataProvider:n.default.container.UserDataProvider,serverVars:n.default.container.ServerVars});this.listenTo(this.recentImagesPanelView,"image:select",this.imageSelected);this.listenTo(this.recentImagesPanelView,"images:select",this._enableAddImages);this.listenTo(this.recentImagesPanelView,"image:edit",this.openImageEditPanel);this.listenTo(this.recentImagesPanelView,"image:loaded",(function(){t.$(".js-content").attr("hidden",false)}));this.listenTo(this.recentImagesPanelView,"images:select:complete",this.openGalleryPanel);this.currentView=this.recentImagesPanelView},openGalleryPanel:function e(t){var r=App.t("shared_components.imagespanel.gallery","Gallery");var n=t||{};"slideshow"===this.model.get("widgetType")&&(r=App.t("shared_components.imagespanel.slideshow","Slideshow"));this.model.set({panel:0===n.assets.length?"landing":"gallery",parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:true,enableSave:n.enableSave,galleryAssets:n.assets,title:r})},openStockImagesPanel:function e(){if("unsplash"===C()){this.openUnsplashPanel();return}this.openGenericStockPanel()},openUnsplashPanel:function e(){this.model.set({panel:"unsplashStock",parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:false,title:App.t("shared_components.imagespanel.stock_title","Stock images")})},openGenericStockPanel:function e(){this.model.set({panel:"stock",parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:false,title:App.t("shared_components.imagespanel.stock_title","Stock images")})},attachStockImageViewEvents:function e(){this.stockImagesPanelView=new o.default({el:".js-stock-images",widgetType:this.model.get("widgetType"),model:this.model,siteRef:this.siteRef,globalAssets:this.getGlobalAssets()});this.currentView=this.stockImagesPanelView;this.listenTo(this.stockImagesPanelView,"image:select",this.imageSelected);this.listenTo(this.stockImagesPanelView,"image:reset",this.imageReset)},attachUnsplashStockViewEvents:function e(){this.stockImagesPanelView=new s.default({el:".js-stock-images",widgetType:this.model.get("widgetType"),model:this.model,siteRef:this.siteRef,globalAssets:this.getGlobalAssets()});this.currentView=this.stockImagesPanelView;this.listenTo(this.stockImagesPanelView,"image:select",this.imageSelected);this.listenTo(this.stockImagesPanelView,"image:reset",this.imageReset)},imageSelected:function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("image"===this.model.get("widgetType")){this.trigger("asset:change",t);r&&this.closePanel()}else{this.model.get("galleryAssets").unshift(t);this.openRecentImagesPanel({enableSave:true});this.sourceSelected()}},imageReset:function e(){this.trigger("asset:reset")},openImageEditPanel:function e(t){this.model.set({panel:"editImage",parentPanel:"recentImages",isSubPanel:true,asset:t,showSaveBtn:false,title:App.t("shared_components.imagespanel.edit_image","Image Settings")})},attachEditImageViewEvents:function e(){this.editImageView=new d.default({model:this.model.get("asset"),el:".js-edit-image",collection:this.getGlobalAssets(),imageEditor:c.default});this.currentView=this.editImageView;this.listenTo(this.editImageView,"asset:saved",this.openRecentImagesPanel);this.listenTo(this.editImageView,"asset:deleted",this.handleDeletion);this.listenTo(this.editImageView,"asset:edited",this.hendleEditedAsset)},handleDeletion:function e(t){this.trigger("asset:delete",t);this.openRecentImagesPanel()},hendleEditedAsset:function e(t,r){if("gallery"===this.model.get("widgetType")||"slideshow"===this.model.get("widgetType")){var n=this.model.get("galleryAssets");var i=null;n.unshift(t);_.each(n,(function(e,t){e.ref===r&&(i=t)}));i&&n.splice(i,1)}},attachLandingViewEvents:function e(){this.landingView=new g.default({el:".js-landing"});this.currentView=this.landingView;this.listenTo(this.landingView,"open:main-imagespanel",this.openUploadPanel)},attachGalleryViewEvents:function e(){this.galleryView=new u.default({el:".js-gallery",model:this.model,collection:new BaseKit.Globals.ImageAssets(this.model.get("galleryAssets"))});this.currentView=this.galleryView;this.listenTo(this.galleryView,"open:upload",this.openUploadPanel);this.listenTo(this.galleryView,"order:change",this.updateAssets);this.listenTo(this.galleryView,"order:edit",this.editAssetsOrder);this.listenTo(this.galleryView,"settings:change",this.updateAssets);this.listenTo(this.galleryView,"settings:open",this.openGallerySettings);this.listenTo(this.galleryView,"asset:delete",this.galleryAssetDelete)},updateAssets:function e(t){this.model.set("galleryAssets",t);this.galleryAssetsUpdated=true;t.length<1?this.openGalleryPanel({assets:this.model.get("galleryAssets"),enableSave:true}):this._enableSave()},editAssetsOrder:function e(){this._setGalleryViewInReorderMode(true)},galleryAssetDelete:function e(){this._restoreDefaultGalleryView()},openGallerySettings:function e(){b()&&this.model.set("mode","image-settings");this._setGallerySettingsVisible(true)},backClicked:function e(){this._restoreDefaultGalleryView()},_getFirstGalleryAsset:function e(t){return t.length>0?t[0]:null},_restoreDefaultGalleryView:function e(){"mobile-sortable"!==this.model.get("mode")&&"image-settings"!==this.model.get("mode")||this.model.set("mode",void 0);this._setGalleryViewInReorderMode(false);this._setGallerySettingsVisible(false)},_setGalleryViewInReorderMode:function e(t){var r=this.el.querySelector(".js-images-panel");t?r.classList.add("is-sortable"):r.classList.remove("is-sortable");this.currentView.setReorderModeActive(t)},_setGallerySettingsVisible:function e(t){var r=this.el.querySelector(".js-dialog-header");t?r.classList.add("is-gallery-settings-active"):r.classList.remove("is-gallery-settings-active");this.currentView.setImageSettingsVisible(t)},_isMultipleImagesWidget:function e(){var t=this.model.get("widgetType");return"gallery"===t||"slideshow"===t},_enableAddImages:function e(){this.$(".js-selection-confirm").removeAttr("disabled")},_enableSave:function e(){var t=this.el.querySelector(".js-save");t.removeAttribute("disabled");t.classList.contains("cl-button--disabled")&&t.classList.remove("cl-button--disabled")}});BaseKit.Panels.ImagesPanelView=O;var T=O;t["default"]=T},62209:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(97109));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return c(e)||u(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n=[];var i=true;var a=false;var o,s;try{for(r=r.call(e);!(i=(o=r.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;s=e}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw s}}return n}function c(e){if(Array.isArray(e))return e}var d=Marionette.CompositeView.extend({childView:n.default,childEvents:{},initialize:function e(t){var r=this;this.widgetType=t.widgetType||"image";this.galleryAssets=t.galleryAssets||[];this.userDataProvider=t.userDataProvider;this.serverVars=t.serverVars;this.childEvents={select:function e(t){r.trigger("image:select",t.model.toJSON())},edit:function e(t){r.trigger("image:edit",t.model)},pick:function e(t,n){r.handleSelectedImageCollection(t.model,n)}};this.collection.fetch({error:function e(t,r){401===r.status&&Editor.Responsive.displaySessionTimeoutDialog()},success:function e(){r.addAdditionalAssetsToCollection();"gallery"!==r.widgetType&&"slideshow"!==r.widgetType||r.handleGalleryImages();r.displayImages();r.trigger("image:loaded")}});this.listenTo(this,"selection:confirm",this.onSelectionConfirm);return this},handleGalleryImages:function e(){var t=this;this.galleryCollection=new Backbone.Collection;this.unselectedGalleryAssetsCollection=new Backbone.Collection;_.each(this.galleryAssets,(function(e){if(t.collection.get(e.ref)){t.collection.get(e.ref).set("isSelected",true,{silent:true});t.galleryCollection.add(e)}else e.isTplAsset&&e.tplAssetRef&&t.handleWidgetTplAssets(e)}))},handleWidgetTplAssets:function e(t){var r=t.tplAssetRef;var n=this.collection.findWhere({tplAssetRef:r});if(n)n.set("isSelected",true,{silent:true});else{t.isSelected=true;this.collection.add(t)}this.galleryCollection.add(t)},displayImages:function e(){var t=Twig.render(Twig.templates.images_panel_image,{resizerDomain:"".concat(App.session.get("protocol"),"://").concat(App.session.get("resizerDomain")),assets:this.collection.toJSON(),widgetType:this.widgetType,selectedImageNumber:this.galleryAssets.length,selectedImageUnit:1===this.galleryAssets.length?App.t("shared_components.imagespanel.image_selected","image selected"):App.t("shared_components.imagespanel.images_selected","images selected")});this.$el.append(t);this.attachChildrenEvents();0===this.collection.toJSON().length&&this.$el.addClass("is-empty");this.$el.removeClass("loading-spinner")},addAdditionalAssetsToCollection:function e(){var t=[];t="ten"===this.userDataProvider.get("productVersion")?this.getContentSetImages():this.getTemplateAssets();this.collection.add(t)},getTemplateAssets:function e(){var t=[];if(this.isInEditor()){var r=Editor.Site.Theme.current.images;var n=null;var i=Editor.Site.Theme.current.ref;var a=Editor.Site.Theme.current.templateAssetDomain;r.forEach((function(e,r){n={isTplAsset:true,fileName:e,tplAssetRef:"".concat(i,"-").concat(r),path:"".concat(a,"/").concat(e),url:"".concat(a,"/").concat(e)};t.push(n)}))}return t},getContentSetImages:function e(){var t=[];if(this.isInEditor()){var r=null;Object.entries(this.serverVars.getBundle("siteContentSet").get("images")).forEach((function(e){var n=a(e,2),i=n[0],o=n[1];var s=o.url.split("/").pop();r={isTplAsset:true,fileName:s,tplAssetRef:i,dominantColor:o.dominantColor,path:o.url,thumbPath:o.thumb,imageHeight:o.height,imageWidth:o.width,url:o.url};t.push(r)}))}return t},isInEditor:function e(){var t=false;"undefined"!==typeof Editor&&Editor.Site&&(t=true);return t},attachChildrenEvents:function e(){var t=this;this.collection.each((function(e){t.attachImageFunction(e)}));this.delegateEvents()},attachImageFunction:function e(t){var r=this.getImageViewSelect(t);var n=new this.childView({el:r,model:t,widgetType:this.widgetType});this.proxyChildEvents(n);this.children.add(n)},getImageViewSelect:function e(t){var r="#image-ref-".concat(t.get("ref"));t.get("isTplAsset")&&(r='[data-tpl-asset-ref="'.concat(t.get("tplAssetRef"),'"]'));return r},handleSelectedImageCollection:function e(t,r){if(r){var n=this._getGalleryAssetToBeAdded(t);this.galleryCollection.add(n,{at:0})}else{var i=this._getGalleryAssetToBeRemoved(t);this.galleryCollection.remove(i)}this.trigger("images:select");this.updateCountUi()},updateCountUi:function e(){this.$(".js-selected-images-count").text(this.galleryCollection.size());1===this.galleryCollection.size()?this.$(".js-selected-images-count-unit").text(App.t("shared_components.imagespanel.image_selected","image selected")):this.$(".js-selected-images-count-unit").text(App.t("shared_components.imagespanel.images_selected","images selected"))},onSelectionConfirm:function e(){this.trigger("images:select:complete",{assets:this.galleryCollection.toJSON(),enableSave:true})},onDestroy:function e(){this.cleanUpAssetsProperty()},cleanUpAssetsProperty:function e(){_.each(this.collection.where({isSelected:true}),(function(e){e.unset("isSelected",{silent:true})}))},_getGalleryAssetToBeAdded:function e(t){var r=this._findAssetFromCollection(this.unselectedGalleryAssetsCollection,t);r?this.unselectedGalleryAssetsCollection.remove(r):r=t;return r},_getGalleryAssetToBeRemoved:function e(t){var r=this._findAssetFromCollection(this.galleryCollection,t);this.unselectedGalleryAssetsCollection.add(r);return r},_findAssetFromCollection:function e(t,r){var n;n=r.get("ref")?t.findWhere({ref:r.get("ref")}):t.findWhere({tplAssetRef:r.get("tplAssetRef")});return n}});var f=d;t["default"]=f},36336:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(248));var i=r(19999);var a=o(r(7771));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){s(a,n,i,o,l,"next",e)}function l(e){s(a,n,i,o,l,"throw",e)}o(void 0)}))}}var u=12;var c=616;var d=1;var f=1;function p(){var e;var t=null!==(e=App.brand.capabilities.enforceCreditsForStockImages)&&void 0!==e?e:"0";return"1"===t}function g(){if(p()){var e=parseInt(App.user.capabilities.imageCredits,10);var t=parseInt(App.user.usedImageCredits,10);var r=e-t;var n=r<0?0:r;return n}return Infinity}function h(){return App.user.languageCode}function v(){return App.user.ref}function m(){return n.default.getState().site.ref}function y(){return App.session.get("brand").domain}function b(){return App.session.get("protocol")}function w(){return"".concat(b(),"://account.").concat(y(),"/subscription")}function _(){return App.brand.capabilities.enableBuyCredits}function S(){var e=null;var t=App.user.owner.externalSubscriptionURL;var r=App.brand.externalSubscriptionLink;if(1!==parseInt(_(),10))return null;e=t&&t.length>0?t:r&&r.length>0?r:w();return e}function E(){if(p()){var e=parseInt(App.user.usedImageCredits,10);App.user.usedImageCredits=e+1}}function P(){return Math.round(parseInt(App.user.capabilities.storageLimit,10)/1048576*100)/100}function k(){return App.brand.supportEmail}function C(){return App.frontEndBucket.apiProxyBaseUrl}function O(){App.mixpanelTrack("Editor buy more credits button","")}function T(e){return A.apply(this,arguments)}function A(){A=l(regeneratorRuntime.mark((function e(t){var r,n,i,a,o=arguments;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:r=o.length>1&&void 0!==o[1]?o[1]:"GET";n=o.length>2&&void 0!==o[2]?o[2]:null;i=new Headers;i.append("X-CSRF-TOKEN",App.frontEndBucket.csrfToken);a=new Request(t,{method:r,headers:i,credentials:"include",body:n});return s.abrupt("return",window.fetch(a));case 6:case"end":return s.stop()}}),e)})));return A.apply(this,arguments)}var j=Marionette.ItemView.extend({events:{"click .js-image":"onImageClick","click .js-previous":"onPreviousClick","click .js-next":"onNextClick","click .js-confirm":"onConfirm","click .js-buy-credits":"buyCreditClicked","click .js-search":"onSearchSubmit"},initialize:function e(t){this.searchTerm="";this.globalAssets=t.globalAssets;this.siteRef=t.siteRef;this.currentOffset=d;this.selectedImg="";this.inFilestack=!!t.inFilestack;this.collection=new Backbone.Collection;this.unsubscribe=n.default.subscribe(this.handleStateChange.bind(this));return this},handleStateChange:function e(){if(!this.el){this.unsubscribe();return}var t=n.default.getState();t.ui.panel.cancelActive?this.enableCancel():this.disableCancel()},disableCancel:function e(){var t=document.querySelector(".js-cancel-settings");t&&!t.disabled&&t.setAttribute("disabled","disabled")},enableCancel:function e(){var t=document.querySelector(".js-cancel-settings");t&&t.disabled&&t.removeAttribute("disabled")},onSearchSubmit:function e(t){t.preventDefault();var r=this.el.querySelector(".js-search-value").value;r&&this.doSearch(r,1)},updateImagesCollection:function e(t){this.collection.set(t)},searchError:function e(){this.hideSearchLoadingUi();this.renderHTMLWithResult();this.updateImagesCollection([])},doSearch:function e(t,r){var n=this;return l(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n.searchTerm=t;n.showSearchLoadingUi();o.prev=2;o.next=5;return T("".concat(C(),"/stock-images?search=").concat(t,"&offset=").concat(r,"&count=").concat(u,"&language=").concat(h()));case 5:i=o.sent;if(!i.ok){o.next=16;break}o.next=9;return i.json();case 9:a=o.sent;n.hideSearchLoadingUi();n.renderHTMLWithResult(a.result,r);n.updateImagesCollection(a.result.images);n.currentOffset=r+u;o.next=17;break;case 16:n.searchError();case 17:o.next=22;break;case 19:o.prev=19;o.t0=o["catch"](2);n.searchError();case 22:case"end":return o.stop()}}),e,null,[[2,19]])})))()},addImageAuthorCredit:function e(t){var r=t.name,n=t.photoUrl,i=t.authorUrl;var o=document.createElement("span");var s='<a href="%1">Photo</a> by: <a href="%2">%3</a>';var l=(0,a.default)("shared_components.stockimage.pexels.photo_by",s,n,i,r);o.id="author-credit";this.el.querySelector("#images-panel__author-credit").appendChild(o);this.el.querySelector("#author-credit").innerHTML=l;this.el.querySelectorAll("#author-credit a").forEach((function(e){return e.setAttribute("target","_blank")}))},renderHTMLWithResult:function e(t,r){var n=t?t.images:[];var i=t?t.result_count:void 0;var o=(0,a.default)("shared_components.stockimage.single_credit_remaining","Credit remaining");var s=(0,a.default)("shared_components.stockimage.credits_remaining","Credits remaining");var l=Twig.render(Twig.templates.images_panel_stock_image_list,{images:n,currentOffset:r,searchTotalCount:i,imageUnit:1===g()?o:s,buyCreditUrl:S(),remainingCredits:g()});this.el.querySelector(".js-image-list").innerHTML=l;this.el.querySelector(".js-image-list").removeAttribute("hidden")},onImageClick:function e(t){t.stopPropagation();var r=t.currentTarget.getAttribute("data-ref").replace("image-ref-","");var n=this.collection.find((function(e){return e.get("id").toString()===r}));this.openSelectedImagePreview(n)},onPreviousClick:function e(){var t=this.el.querySelector(".js-search-value").value;var r=this.currentOffset-2*u;t&&r>0&&this.doSearch(t,r)},onNextClick:function e(){var t=this.el.querySelector(".js-search-value").value;t&&this.doSearch(t,this.currentOffset)},showSearchLoadingUi:function e(){try{this.el.querySelector(".js-image-list").setAttribute("hidden",true);this.el.querySelector(".js-landing-message").setAttribute("hidden",true);this.el.querySelector(".js-images-loading").removeAttribute("hidden")}catch(e){console.error(e)}},hideSearchLoadingUi:function e(){this.el.querySelector(".js-images-loading").setAttribute("hidden",true)},addCloseAction:function e(){var t=this;this.model.set("closeAction",(function(){t.closePreview();t.model.unset("closeAction")}))},closePreview:function e(){var t=(0,a.default)("shared_components.stockimage.stock_images","Stock images");this.el.querySelector(".js-stock-image-preview").setAttribute("hidden",true);this.el.querySelector("#images-panel__author-credit").removeChild(this.el.querySelector("#author-credit"));this.el.querySelector(".js-image-wrap").parentNode.removeChild(this.el.querySelector(".js-image-wrap"));this.el.querySelector(".js-stock-images").removeAttribute("hidden");this.el.querySelector(".js-search-wrap").removeAttribute("hidden");this.el.querySelector(".js-selection-confirm").setAttribute("hidden",true);this.el.querySelector(".js-controls").classList.remove("images-panel__callout--compact");document.querySelector(".js-images-panel-header-title").textContent=t;document.querySelector(".js-close").classList.remove("images-panel__button--back")},openSelectedImagePreview:function e(t){var r=Twig.render(Twig.templates.images_panel_stock_image_preview,{asset:t.toJSON(),useFullUrl:window.outerWidth>c});var n=(0,a.default)("shared_components.stockimage.image_preview","Image preview");this.selectedImg=t;this.trigger("image:preview");document.querySelector(".js-confirm").setAttribute("disabled",true);this.preloadImageData(t).then((function(e){if(e.image&&g()>0){document.querySelector(".js-image-wrap").setAttribute("data-stock-image-provider-image-uri",e.image.uri);document.querySelector(".js-confirm").removeAttribute("disabled")}}));this.$(".js-stock-image-preview").append(r).removeAttr("hidden");this.el.querySelector(".js-stock-images").setAttribute("hidden",true);this.el.querySelector(".js-search-wrap").setAttribute("hidden",true);this.el.querySelector(".js-selection-confirm").removeAttribute("hidden");this.el.querySelector(".js-controls").classList.add("images-panel__callout--compact");document.querySelector(".js-images-panel-header-title").textContent=n;document.querySelector(".js-close").classList.add("images-panel__button--back");t.get("author")&&this.addImageAuthorCredit({name:t.get("author"),photoUrl:t.get("photo_url"),authorUrl:t.get("author_url")});this.addCloseAction()},onConfirm:function e(){var t=this;return l(regeneratorRuntime.mark((function e(){var r,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:r=document.querySelector(".settings-imagedetail__image");r&&(r.src=t.selectedImg.get("preview"));n.default.dispatch((0,i.disableSave)());n.default.dispatch((0,i.disableCancel)());a=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-image-uri");o=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-image-filename");t.setMixpanelSearchTerm();t.showImageLoadingUi();if(!t.inFilestack){s.next=12;break}t.filestackHandoff(a,o);s.next=14;break;case 12:s.next=14;return t.uploadImage(a,o);case 14:t.model.unset("closeAction");case 15:case"end":return s.stop()}}),e)})))()},showImageLoadingUi:function e(){var t=(0,a.default)("shared_components.imagespanel.saving_stock_image","Retrieving stock image...");document.querySelector(".js-images-panel-header-title").textContent=t;this.el.querySelector(".js-stock-image-img-loading").removeAttribute("hidden");this.el.querySelector(".js-image-wrap").classList.add("stock-image-wrap--loading");this.el.querySelector(".js-stock-image-img").classList.add("stock-image__image--loading");this.el.querySelector(".js-selection-confirm").setAttribute("hidden","hidden");document.querySelector(".js-images-panel .js-close").setAttribute("hidden","hidden")},preloadImageData:function e(t){return l(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return T("".concat(C(),"/stock-images/").concat(t.id));case 3:r=n.sent;if(!r.ok){n.next=6;break}return n.abrupt("return",r.json());case 6:return n.abrupt("return",null);case 9:n.prev=9;n.t0=n["catch"](0);console.error(n.t0);return n.abrupt("return",null);case 13:case"end":return n.stop()}}),e,null,[[0,9]])})))()},filestackHandoff:function e(t,r){try{this.trigger("image:select",{stockImageUri:t,stockImageFilename:r})}catch(e){this.handleErrorUpload(e);this.reset()}},uploadImage:function e(t,r){var a=this;return l(regeneratorRuntime.mark((function e(){var o,s,l,u,c,d;return regeneratorRuntime.wrap((function e(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return a.getUploadToken();case 2:o=p.sent;s=new FormData;s.append("token",o);s.append("type","image");s.append("stockImageProviderRef",f);s.append("stockImageUri",t);s.append("stockImageFilename",r);s.append("siteRef",m()||a.siteRef);p.prev=10;p.next=13;return T("".concat(C(),"/users/").concat(v(),"/assets"),"POST",s);case 13:l=p.sent;p.next=16;return l.json();case 16:u=p.sent;n.default.dispatch((0,i.enableCancel)());if(!l.ok){p.next=28;break}c=u.result;a.globalAssets.add(c);E();p.next=24;return T("/refresh");case 24:d=p.sent;if(d.ok){a.trigger("image:select",c);n.default.dispatch((0,i.enableSave)())}p.next=30;break;case 28:a.handleErrorUpload(u.errorKey);a.reset();case 30:p.next=37;break;case 32:p.prev=32;p.t0=p["catch"](10);console.log(p.t0);a.handleErrorUpload(p.t0);a.reset();case 37:case"end":return p.stop()}}),e,null,[[10,32]])})))()},reset:function e(){this.trigger("image:reset");this.hideNotification();document.querySelector(".images-panel__overlay").style.display="none";document.querySelector(".js-images-panel").style.display="inherit";n.default.dispatch((0,i.disableSave)());n.default.dispatch((0,i.enableCancel)())},hideNotification:function e(){var t=document.querySelector(".action-notification.action-notification--retrieving");t&&t.classList.remove("is-visible")},handleErrorUpload:function e(t){var r=(0,a.default)("shared_components.stockimage.stock_images","Stock images");var n=(0,a.default)("shared_components.stockimage.uploading_error_general","Were really sorry about this. Please email %1 so our support team can look into this for you",k());t&&"cannotUploadAccountHolderExceededStorageLimit"===t&&(n=(0,a.default)("shared_components.stockimage.uploading_error_exceeded_limit","You have exceeded the storage limit of %1MB available on your plan",P()));document.querySelector(".js-images-panel-header-title").textContent=r;this.el.querySelector(".js-loading").setAttribute("hidden","hidden");this.el.querySelector(".js-stock-image-img-loading").setAttribute("hidden","hidden");this.el.querySelector(".js-stock-image-img").setAttribute("hidden","hidden");this.el.querySelector(".js-error-message").textContent=n;this.el.querySelector(".js-error").removeAttribute("hidden");document.querySelector(".js-images-panel .js-close").removeAttribute("hidden")},getUploadToken:function e(){return l(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return T("".concat(C(),"/users/").concat(App.session.get("userRef"),"/upload-tokens"),"POST");case 3:t=n.sent;if(!t.ok){n.next=9;break}n.next=7;return t.json();case 7:r=n.sent;return n.abrupt("return",r.token);case 9:n.next=14;break;case 11:n.prev=11;n.t0=n["catch"](0);return n.abrupt("return",null);case 14:return n.abrupt("return",null);case 15:case"end":return n.stop()}}),e,null,[[0,11]])})))()},setMixpanelSearchTerm:function e(){var t={provider:"Getty",searchTerm:this.searchTerm};App.mixpanelTrack("Editor stock image save button",t)},buyCreditClicked:function e(){O()}});var D=j;t["default"]=D},13386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=c(r(27661));var i=c(r(5815));var a=r(11474);var o=c(r(3104));var s=c(r(38298));var l=c(r(36336));var u=c(r(7771));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var f='<svg viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2.375 0H35.625C36.2549 0 36.859 0.250223 37.3044 0.695621C37.7498 1.14102 38 1.74511 38 2.375V35.625C38 36.2549 37.7498 36.859 37.3044 37.3044C36.859 37.7498 36.2549 38 35.625 38H2.375C1.74511 38 1.14102 37.7498 0.695621 37.3044C0.250223 36.859 0 36.2549 0 35.625V2.375C0 1.74511 0.250223 1.14102 0.695621 0.695621C1.14102 0.250223 1.74511 0 2.375 0Z" fill="#05A081"/>\n    <path d="M15.4375 24.9375H20.0248V20.482H21.4106C21.8978 20.482 22.3802 20.386 22.8303 20.1996C23.2804 20.0132 23.6893 19.7399 24.0338 19.3954C24.3783 19.051 24.6516 18.642 24.838 18.1919C25.0244 17.7418 25.1204 17.2594 25.1204 16.7722C25.1204 16.2851 25.0244 15.8027 24.838 15.3526C24.6516 14.9025 24.3783 14.4935 24.0338 14.1491C23.6893 13.8046 23.2804 13.5313 22.8303 13.3449C22.3802 13.1585 21.8978 13.0625 21.4106 13.0625H15.4375V24.9375ZM22.3998 27.3125H13.0625V10.6875H21.4106C22.9387 10.6872 24.4109 11.2619 25.5348 12.2973C26.6586 13.3327 27.3517 14.753 27.4763 16.276C27.6009 17.799 27.1479 19.3131 26.2074 20.5174C25.2669 21.7218 23.9076 22.5281 22.3998 22.7763V27.3125Z" fill="#fff"/>\n</svg>';function p(e){return/^image/.test(e.type)&&"image/svg+xml"!==e.type}function g(e){var t=true;_.each(e,(function(e){e&&p(e)||(t=false)}));return t}function h(){return o.default.container.BrandDataProvider.has("enableFilestack")}function v(){return Number(o.default.container.EnvDataProvider.get("maxFileUploadBytes"))}var m=10;var y=Marionette.ItemView.extend({events:{"change .js-upload-input":"handleFileSelection","click .js-upload":"openFileUpload","dragenter .js-upload-area":"handleDragEnter","dragover .js-upload-area":"handleDragOver","dragend .js-upload-area":"handleDragEnd","dragexit .js-upload-area":"handleDragEnd","drop .js-upload-area":"handleDrop","click .js-upload-error-back-btn":"errorBackBtnClicked"},initialize:function e(t){var r=this;this.collection=t.collection;this.siteRef=t.siteRef;this.listenTo(this,"upload:image",this.openFileUpload);this.userDataProvider=t.userDataProvider;var a=new Backbone.Wreqr.EventAggregator;this.chunkedUploader=new n.default({apiProxyBaseUrl:App.session.get("apiProxyBaseUrl"),csrfToken:App.session.get("csrfToken"),eventDispatcher:a,type:"image",progressCalculator:new i.default});a.on("file.uploaded",(function(e){r.collection.add(e);if(r.model.get("filesNum")>1){r.uploaded=r.uploaded+1;r.uploadedAssets.push(e);r.uploaded===r.model.get("filesNum")&&r.trigger("images:upload:finished",r.uploadedAssets)}else r.trigger("image:upload",e)}));a.on("file.progress",(function(e){r.showProgress(e)}));a.on("file.uploaderror",(function(e,t){r.handleErrorUpload(e,t)}));this.eventDispatcher=a;return this},getFilestackImageSources:function e(){var t=this;var r={label:"Pexels",name:"pexels",icon:f,mounted:function e(r,n){var i=Twig.render(Twig.templates.images_panel_stock_filestack);r.innerHTML=i;var a=new l.default({el:".js-stock-images",widgetType:t.model.get("widgetType"),model:t.model,siteRef:t.siteRef,globalAssets:BaseKit.Globals.imageAssets,inFilestack:true});t.listenTo(a,"image:preview",(function(){var e=document.querySelector(".images-panel__content--filestack .js-close");e.removeAttribute("hidden");e.addEventListener("click",(function(){a.closePreview();e.setAttribute("hidden",true)}))}));t.listenTo(a,"image:select",(function(e){n.addCustomUrl({url:e.stockImageUri,type:"image/jpeg",filename:e.stockImageFilename})}))}};return["clouddrive",r,"facebook","instagram","onedrive","picasa","unsplash"].filter((function(e){var t=e.name||e;return o.default.container.BrandDataProvider.has("enableFilestack".concat(t.replace(/^\w/,(function(e){return e.toUpperCase()}))))}))},openFileUpload:function e(){var t=this;if(h()&&void 0!==window.fsClient){var r=void 0!==this.$("#js-upload-input").attr("multiple");var n=r?m:1;window.fsClient.picker({fromSources:["local_file_system"].concat(this.getFilestackImageSources()),accept:["image/*"],maxFiles:n,maxSize:v(),onUploadDone:function e(r){return t.handleFileStackUpload(r)},lang:this._getDefaultFilestackLanguageCode()}).open()}else this.$("#js-upload-input").click()},handleDragEnter:function e(t){t.preventDefault();this.$(".js-upload-dropzone").addClass("is-drop-target")},handleDragEnd:function e(t){t.preventDefault();this.$(".js-upload-dropzone").removeClass("is-drop-target")},handleDragOver:function e(t){t.preventDefault()},handleDrop:function e(t){var r=t.originalEvent.dataTransfer.files;t.stopPropagation();t.preventDefault();r.length&&this.filesSelected(r)},handleFileStackUpload:function e(t){var r=this;var n=t.filesUploaded.length;if(n<1)return;this.model.set("filesNum",n);a.deviceFeaturesHelper.isMobileDevice()||this.$(".js-progress-indicator").attr("hidden","hidden");this.showUploadingUi();this.uploaded=0;this.uploadedAssets=[];this.trigger("image:upload:start");t.filesUploaded.forEach((function(e){var t={filestackImageHandle:e.handle,filestackImageFilename:e.filename};s.default.upload(null,t).then((function(e){r.eventDispatcher.trigger("file.uploaded",e);r.eventDispatcher.trigger("file.progress",Math.floor(r.uploaded/n*1e3)/10)})).catch((function(e){null!==e&&"object"===d(e)&&"status"in e&&r.eventDispatcher.trigger("file.uploaderror",e.status,e.errorKey)}))}))},handleFileSelection:function e(){var t=document.getElementById("js-upload-input");this.filesSelected(t.files)},handleFilesUpload:function e(t){if(g(t)){this.model.set("filesNum",t.length);this.showUploadingUi();this.uploaded=0;this.progressObj={};this.uploadedAssets=[];this.trigger("image:upload:start");this.chunkedUploader.upload(t)}else this.handleErrorUpload(400,"invalidFileFormat")},filesSelected:function e(t){this.handleFilesUpload(t)},showProgress:function e(t){this.$(".js-progress-indicator").attr("value",t);this.$(".js-progress-indicator-value").css("width","".concat(t,"%"))},showUploadingUi:function e(){var t=App.t("shared_components.imagespanel.uploading_image","Hold tight, were uploading your image now");this.model.get("filesNum")>1&&(t=App.t("shared_components.imagespanel.uploading_images","Hold tight, were uploading your images now"));this.$(".js-upload-title").text(App.t("shared_components.imagedetail.uploading","Uploading image"));this.$(".js-close-popup").attr("disabled","disabled");this.$(".js-upload-area").attr("hidden","hidden");this.$(".js-progress-ui").removeAttr("hidden");this.$(".js-progress-message").text(t)},handleErrorUpload:function e(t,r){var n=this;this.showErrorUI(t,r);setTimeout((function(){n.trigger("image:upload:error")}),5e3)},replaceJsUploadErrorMsg:function e(t){this.$(".js-upload-error-msg").text(t)},showErrorUI:function e(t,r){var n=Math.round(parseInt(App.user.capabilities.storageLimit,10)/1048576*100)/100;this.$(".js-upload-panel-content").attr("hidden","hidden");this.$(".js-upload-panel-error-content").removeAttr("hidden");if(r)switch(r){case"cannotUploadAccountHolderExceededStorageLimit":this.replaceJsUploadErrorMsg(App.t("shared_components.imagespanel.uploading_error_exceeded_limit","- you have exceeded the storage limit of %1MB.",n));break;case"invalidFileFormat":this.replaceJsUploadErrorMsg(App.t("shared_components.imagespanel.uploading_error_unsupported_file","Sorry, this file format is not supported."));break}400!==t&&this.$(".js-upload-error-msg").text(App.t("shared_components.imagespanel.uploading_error_general","- Were really sorry about this. Please email %1 so our support team can look into this for you",App.brand.supportEmail))},errorBackBtnClicked:function e(){this.trigger("image:upload:error")},_getDefaultFilestackLanguageCode:function e(){var t=["ca","da","de","en","es","fr","he","it","ja","ko","nl","no","pl","pt","sv","ru","vi","zh","tr","ar"];var r=this.userDataProvider.get("languageCode");-1!==r.indexOf("_")&&(r=r.split("_")[0]);if(-1!==t.indexOf(r))return r;return"en"}});var b=y;t["default"]=b},28332:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({events:{"click .js-add-images":"addImagesClicked"},initialize:function e(){return this},addImagesClicked:function e(){this.trigger("open:main-imagespanel")}});var n=r;t["default"]=n},42323:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(248));var i=r(19999);var a=o(r(7771));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){s(a,n,i,o,l,"next",e)}function l(e){s(a,n,i,o,l,"throw",e)}o(void 0)}))}}var u=12;var c=616;var d=1;var f="https://unsplash.com/@USERNAME?utm_source=BaseKit&utm_medium=referral";function p(){return App.user.languageCode}function g(){return Math.round(parseInt(App.user.capabilities.storageLimit,10)/1048576*100)/100}function h(){return App.brand.supportEmail}function v(){return App.frontEndBucket.apiProxyBaseUrl}function m(){App.mixpanelTrack("Editor buy more credits button","")}function y(e){return b.apply(this,arguments)}function b(){b=l(regeneratorRuntime.mark((function e(t){var r,n,i,a,o=arguments;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:r=o.length>1&&void 0!==o[1]?o[1]:"GET";n=o.length>2&&void 0!==o[2]?o[2]:null;i=new Headers;i.append("X-CSRF-TOKEN",App.frontEndBucket.csrfToken);a=new Request(t,{method:r,headers:i,credentials:"include",body:n});return s.abrupt("return",window.fetch(a));case 6:case"end":return s.stop()}}),e)})));return b.apply(this,arguments)}var w=Marionette.ItemView.extend({events:{"click .js-image":"onImageClick","click .js-previous":"onPreviousClick","click .js-next":"onNextClick","click .js-confirm":"onConfirm","click .js-buy-credits":"buyCreditClicked","click .js-search":"onSearchSubmit"},initialize:function e(t){this.searchTerm="";this.globalAssets=t.globalAssets;this.siteRef=t.siteRef;this.currentOffset=d;this.selectedImg="";this.collection=new Backbone.Collection;this.unsubscribe=n.default.subscribe(this.handleStateChange.bind(this));return this},handleStateChange:function e(){if(!this.el){this.unsubscribe();return}var t=n.default.getState();t.ui.panel.cancelActive?this.enableCancel():this.disableCancel()},disableCancel:function e(){var t=document.querySelector(".js-cancel-settings");t&&!t.disabled&&t.setAttribute("disabled","disabled")},enableCancel:function e(){var t=document.querySelector(".js-cancel-settings");t&&t.disabled&&t.removeAttribute("disabled")},onSearchSubmit:function e(t){t.preventDefault();var r=this.el.querySelector(".js-search-value").value;r&&this.doSearch(r,1)},updateImagesCollection:function e(t){this.collection.set(t)},searchError:function e(){this.hideSearchLoadingUi();this.renderHTMLWithResult();this.updateImagesCollection([])},doSearch:function e(t,r){var n=this;return l(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n.searchTerm=t;n.showSearchLoadingUi();o.prev=2;o.next=5;return y("".concat(v(),"/stock-images?search=").concat(t,"&offset=").concat(r,"&count=").concat(u,"&language=").concat(p()));case 5:i=o.sent;if(!i.ok){o.next=16;break}o.next=9;return i.json();case 9:a=o.sent;n.hideSearchLoadingUi();n.renderHTMLWithResult(a.result,r);n.updateImagesCollection(a.result.images);n.currentOffset=r+u;o.next=17;break;case 16:n.searchError();case 17:o.next=22;break;case 19:o.prev=19;o.t0=o["catch"](2);n.searchError();case 22:case"end":return o.stop()}}),e,null,[[2,19]])})))()},renderHTMLWithResult:function e(t,r){var n=t?t.images:[];var i=t?t.result_count:void 0;var a=Twig.render(Twig.templates.images_panel_unsplash_stock_image_list,{images:n,currentOffset:r,searchTotalCount:i});this.el.querySelector(".js-image-list").innerHTML=a;this.el.querySelector(".js-image-list").removeAttribute("hidden")},onImageClick:function e(t){t.stopPropagation();var r=t.currentTarget.getAttribute("data-ref").replace("image-ref-","");var n=this.collection.find((function(e){return e.get("id")===r}));this.openSelectedImagePreview(n)},onPreviousClick:function e(){var t=this.el.querySelector(".js-search-value").value;var r=this.currentOffset-2*u;t&&r>0&&this.doSearch(t,r)},onNextClick:function e(){var t=this.el.querySelector(".js-search-value").value;t&&this.doSearch(t,this.currentOffset)},showSearchLoadingUi:function e(){try{this.el.querySelector(".js-image-list").setAttribute("hidden",true);this.el.querySelector(".js-landing-message").setAttribute("hidden",true);this.el.querySelector(".js-images-loading").removeAttribute("hidden")}catch(e){console.error(e)}},hideSearchLoadingUi:function e(){this.el.querySelector(".js-images-loading").setAttribute("hidden",true)},addCloseAction:function e(){var t=this;this.model.set("closeAction",(function(){t.closePreview();t.model.unset("closeAction")}))},closePreview:function e(){var t=(0,a.default)("shared_components.stockimage.stock_images","Stock images");this.el.querySelector(".js-stock-image-preview").setAttribute("hidden",true);this.el.querySelector(".js-image-wrap").parentNode.removeChild(this.el.querySelector(".js-image-wrap"));this.el.querySelector(".js-stock-images").removeAttribute("hidden");this.el.querySelector(".js-search-wrap").removeAttribute("hidden");this.el.querySelector(".js-selection-confirm").setAttribute("hidden",true);this.el.querySelector(".js-controls").classList.remove("images-panel__callout--compact");this.el.querySelector(".js-attribution-display").setAttribute("hidden",true);document.querySelector(".js-images-panel-header-title").textContent=t;document.querySelector(".js-close").classList.remove("images-panel__button--back")},openSelectedImagePreview:function e(t){var r=Twig.render(Twig.templates.images_panel_stock_image_preview,{asset:t.toJSON(),useFullUrl:window.outerWidth>c});var n=(0,a.default)("shared_components.stockimage.image_preview","Image preview");var i=f.replace("USERNAME",t.get("username"));this.el.querySelector(".js-attribution-link").setAttribute("href",i);this.el.querySelector(".js-attribution-link").innerText=t.get("author");this.$(".js-stock-image-preview").append(r).removeAttr("hidden");this.selectedImg=t;document.querySelector(".js-image-wrap").setAttribute("data-stock-image-provider-image-uri",t.get("filename"));document.querySelector(".js-image-wrap").setAttribute("data-stock-image-provider-download-endpoint",t.get("download"));document.querySelector(".js-image-wrap").setAttribute("data-stock-image-provider-image-width",t.get("imageWidth"));document.querySelector(".js-image-wrap").setAttribute("data-stock-image-provider-image-height",t.get("imageHeight"));document.querySelector(".js-confirm").removeAttribute("disabled");this.el.querySelector(".js-stock-images").setAttribute("hidden",true);this.el.querySelector(".js-search-wrap").setAttribute("hidden",true);this.el.querySelector(".js-selection-confirm").removeAttribute("hidden");this.el.querySelector(".js-controls").classList.add("images-panel__callout--compact");this.el.querySelector(".js-attribution-display").removeAttribute("hidden");document.querySelector(".js-images-panel-header-title").textContent=n;document.querySelector(".js-close").classList.add("images-panel__button--back");this.addCloseAction()},triggerUnsplashDownloadEvent:function e(t){y("".concat(v(),"/stock-image?endpoint=").concat(t))},handleUnsplashClick:function e(t,r,a,o){this.triggerUnsplashDownloadEvent(r);this.trigger("image:select",{url:t,imageWidth:a,imageHeight:o,type:"jpg"});n.default.dispatch((0,i.enableSave)())},onConfirm:function e(){var t=this;return l(regeneratorRuntime.mark((function e(){var r,a,o,s,l;return regeneratorRuntime.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:r=document.querySelector(".settings-imagedetail__image");r&&(r.src=t.selectedImg.get("preview"));n.default.dispatch((0,i.disableSave)());n.default.dispatch((0,i.disableCancel)());a=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-image-uri");o=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-download-endpoint");s=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-image-width");l=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-image-height");t.setMixpanelSearchTerm();t.handleUnsplashClick(a,o,s,l);t.model.unset("closeAction");case 11:case"end":return u.stop()}}),e)})))()},showImageLoadingUi:function e(){var t=(0,a.default)("shared_components.imagespanel.saving_stock_image","Retrieving stock image...");document.querySelector(".js-images-panel-header-title").textContent=t;this.el.querySelector(".js-stock-image-img-loading").removeAttribute("hidden");this.el.querySelector(".js-image-wrap").classList.add("stock-image-wrap--loading");this.el.querySelector(".js-stock-image-img").classList.add("stock-image__image--loading");this.el.querySelector(".js-selection-confirm").setAttribute("hidden","hidden");document.querySelector(".js-images-panel .js-close").setAttribute("hidden","hidden")},reset:function e(){this.trigger("image:reset");this.hideNotification();document.querySelector(".images-panel__overlay").style.display="none";document.querySelector(".js-images-panel").style.display="inherit";n.default.dispatch((0,i.disableSave)());n.default.dispatch((0,i.enableCancel)())},hideNotification:function e(){var t=document.querySelector(".action-notification.action-notification--retrieving");t&&t.classList.remove("is-visible")},handleErrorUpload:function e(t){var r=(0,a.default)("shared_components.stockimage.stock_images","Stock images");var n=(0,a.default)("shared_components.stockimage.uploading_error_general","Were really sorry about this. Please email %1 so our support team can look into this for you",h());t&&"cannotUploadAccountHolderExceededStorageLimit"===t&&(n=(0,a.default)("shared_components.stockimage.uploading_error_exceeded_limit","You have exceeded the storage limit of %1MB available on your plan",g()));document.querySelector(".js-images-panel-header-title").textContent=r;this.el.querySelector(".js-loading").setAttribute("hidden","hidden");this.el.querySelector(".js-stock-image-img-loading").setAttribute("hidden","hidden");this.el.querySelector(".js-stock-image-img").setAttribute("hidden","hidden");this.el.querySelector(".js-error-message").textContent=n;this.el.querySelector(".js-error").removeAttribute("hidden");document.querySelector(".js-images-panel .js-close").removeAttribute("hidden")},getUploadToken:function e(){return l(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return y("".concat(v(),"/users/").concat(App.session.get("userRef"),"/upload-tokens"),"POST");case 3:t=n.sent;if(!t.ok){n.next=9;break}n.next=7;return t.json();case 7:r=n.sent;return n.abrupt("return",r.token);case 9:n.next=14;break;case 11:n.prev=11;n.t0=n["catch"](0);return n.abrupt("return",null);case 14:return n.abrupt("return",null);case 15:case"end":return n.stop()}}),e,null,[[0,11]])})))()},setMixpanelSearchTerm:function e(){var t={provider:"Unsplash",searchTerm:this.searchTerm};App.mixpanelTrack("Editor stock image save button",t)},buyCreditClicked:function e(){m()}});var _=w;t["default"]=_},38323:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(38298));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;var i=function e(){};return{s:i,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,s=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();a=t.done;return t},e:function e(t){s=true;l=t},f:function e(){try{a||null==r.return||r.return()}finally{if(s)throw l}}}}function o(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){l(a,n,i,o,s,"next",e)}function s(e){l(a,n,i,o,s,"throw",e)}o(void 0)}))}}function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var d=null;var f={open:function e(t){d?p(t):h().then(p.bind(null,t))}};function p(e){if(e.image.src.includes("data:image/"))return;var t=document.querySelector(".image-editor");var r=document.querySelector(".js-image-editor-overlay");t.classList.add("open");var i=new Image;var a=Math.round((new Date).getTime()/1e3);i.crossOrigin="anonymous";var o=e.image.src.split(".").pop().toLowerCase();var s="png"===o?o:"jpeg";var l="image/".concat(s);i.src="".concat(e.image.src,"?=").concat(a);d=new PhotoEditorSDK.UI.DesktopUI({container:t,language:b(),displayWelcomeMessage:false,responsive:true,license:y(),editor:{image:i,displayCloseButton:true,enableExport:true,maxMegaPixels:{desktop:2,mobile:2},export:{download:false,type:"data-url",format:l}},assets:{baseUrl:"".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/assets")},extensions:{languages:g()}});d.on("export",(function(t){r.classList.add("active");var i=e.image.dataset.filename;i||(i=e.image.src.split("/").pop().split("?")[0]);var a={data:t,filename:i};n.default.upload(null,{photoEditorImage:a}).then((function(t){e.onSave(t);d.emit("close")})).catch((function(t){e.onError(t);d.emit("close")}))}));d.on("close",(function(){t.classList.remove("open");r.classList.remove("active");d.dispose()}))}function g(){return c({},b(),{pesdk:{common:{title:{error:App.t("shared_components.image_editor.common.title","Error")},text:{loading:App.t("shared_components.image_editor.common.text","Loading...")},button:{cancel:App.t("shared_components.image_editor.common.button","Cancel")}},editor:{button:{export:App.t("shared_components.image_editor.editor.button.export","Done"),close:App.t("shared_components.image_editor.editor.button.close","Close"),newImageChangesLostWarningYes:App.t("shared_components.image_editor.editor.button.newImageChangesLostWarningYes","Yes"),newImageChangesLostWarningNo:App.t("shared_components.image_editor.editor.button.newImageChangesLostWarningNo","No"),discardChangesWarningKeep:App.t("shared_components.image_editor.editor.button.discardChangesWarningKeep","Keep changes"),discardChangesWarningDiscard:App.t("shared_components.image_editor.editor.button.discardChangesWarningDiscard","Discard changes")},title:{newImageChangesLostWarning:App.t("shared_components.image_editor.editor.title.newImageChangesLostWarning","New Image"),imageResizedWarning_maxMegaPixels:App.t("shared_components.image_editor.editor.title.imageResizedWarning_maxMegaPixels","Image resized"),imageResizedWarning_maxDimensions:App.t("shared_components.image_editor.editor.title.imageResizedWarning_maxDimensions","Image resized"),fontLoadingError:App.t("shared_components.image_editor.editor.title.fontLoadingError","Failed to load font"),discardChangesWarning:App.t("shared_components.image_editor.editor.title.discardChangesWarning","Discard changes?")},text:{newImageChangesLostWarning:App.t("shared_components.image_editor.editor.text.newImageChangesLostWarning","Any unsaved changes will be lost. Continue?"),imageResizedWarning_maxMegaPixels:App.t("shared_components.image_editor.editor.text.imageResizedWarning_maxMegaPixels","Your image exceeds the maximum size of ${maxMegaPixels} megapixels and has therefore been resized to ${width}x${height} pixels."),imageResizedWarning_maxDimensions:App.t("shared_components.image_editor.editor.text.imageResizedWarning_maxDimensions","Due to hardware limitations your image has been resized to ${width}x${height} pixels."),renderingError:App.t("shared_components.image_editor.editor.text.renderingError","An error has occurred while rendering the image."),exporting:App.t("shared_components.image_editor.editor.text.exporting","Exporting..."),resizing:App.t("shared_components.image_editor.editor.text.resizing","Resizing..."),loadingFonts:App.t("shared_components.image_editor.editor.text.loadingFonts","Loading fonts..."),fontLoadingError:App.t("shared_components.image_editor.editor.text.fontLoadingError","The following fonts could not be loaded: ${fonts}."),webcamUnavailableError:App.t("shared_components.image_editor.editor.text.webcamUnavailableError","Unable to display webcam image (Error: ${error})"),invalidFileTypeError:App.t("shared_components.image_editor.editor.text.invalidFileTypeError","The file type ${fileType} is not supported."),imageLoadingError:App.t("shared_components.image_editor.editor.text.imageLoadingError","Failed to load image. This can have multiple reasons, e.g. the file is corrupted or the file type is not supported."),discardChangesWarning:App.t("shared_components.image_editor.editor.text.discardChangesWarning","You have unsaved changes. Are you sure you want to discard the changes?")}},library:{title:{name:App.t("shared_components.image_editor.library.title.name","Library")},button:{fileDropZone:App.t("shared_components.image_editor.library.button.fileDropZone","Drag image here or click to browse for one."),fileDropZoneHovered:App.t("shared_components.image_editor.library.button.fileDropZoneHovered","Drop to upload.")},placeholder:{search:App.t("shared_components.image_editor.library.placeholder.search","Search Library")},text:{noResults:App.t("shared_components.image_editor.library.text.noResults","No results")}},transform:{title:{name:App.t("shared_components.image_editor.transform.title.name","Transform")},button:{reset:App.t("shared_components.image_editor.transform.button.reset","Reset Default")},asset:{imgly_transforms_common:{name:App.t("shared_components.image_editor.transform.asset.imgly_transforms_common.name","Common Crops"),asset:{imgly_transform_common_custom:App.t("shared_components.image_editor.transform.asset.imgly_transforms_common.asset.imgly_transform_common_custom","Custom"),imgly_transform_common_square:App.t("shared_components.image_editor.transform.asset.imgly_transforms_common.asset.imgly_transform_common_square","Square"),"imgly_transform_common_4-3":App.t("shared_components.image_editor.transform.asset.imgly_transforms_common.asset.imgly_transform_common_4-3","4:3"),"imgly_transform_common_16-9":App.t("shared_components.image_editor.transform.asset.imgly_transforms_common.asset.imgly_transform_common_16-9","16:9")}},imgly_transforms_facebook:{name:App.t("shared_components.image_editor.transform.asset.imgly_transforms_facebook.name","Facebook"),asset:{imgly_transform_facebook_ad:App.t("shared_components.image_editor.transform.asset.imgly_transforms_facebook.asset.imgly_transform_facebook_ad","Ad"),imgly_transform_facebook_post:App.t("shared_components.image_editor.transform.asset.imgly_transforms_facebook.asset.imgly_transform_facebook_post","Post"),imgly_transform_facebook_cover:App.t("shared_components.image_editor.transform.asset.imgly_transforms_facebook.asset.imgly_transform_facebook_cover","Cover"),imgly_transform_facebook_profile:App.t("shared_components.image_editor.transform.asset.imgly_transforms_facebook.asset.imgly_transform_facebook_profile","Profile Pic")}}},placeholder:{width:App.t("shared_components.image_editor.transform.placeholder.width","w"),height:App.t("shared_components.image_editor.transform.placeholder.height","h")}},filter:{asset:{identity:App.t("shared_components.image_editor.transform.filter.asset.identity","None"),imgly_lut_celsius:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_celsius","Celsius"),imgly_lut_chest:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_chest","Chest"),imgly_lut_fixie:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_fixie","Fixie"),imgly_lut_fridge:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_fridge","Fridge"),imgly_lut_front:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_front","Front"),imgly_lut_k2:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_k2","K2"),imgly_lut_mellow:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_mellow","Mellow"),imgly_lut_sin:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_sin","Sin"),imgly_lut_texas:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_texas","Texas"),imgly_lut_ad1920:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_ad1920","A.D."),imgly_lut_ancient:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_ancient","Ancient"),imgly_lut_bleached:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_bleached","Bleached"),imgly_lut_bleachedblue:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_bleachedblue","Bleached Blue"),imgly_lut_blues:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_blues","Blues"),imgly_lut_blueshadows:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_blueshadows","Blue Shadows"),imgly_lut_breeze:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_breeze","Breeze"),imgly_lut_bw:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_bw","B & W"),imgly_lut_classic:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_classic","Classic"),imgly_lut_colorful:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_colorful","Colorful"),imgly_lut_cool:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_cool","Cool"),imgly_lut_cottoncandy:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_cottoncandy","Cotton Candy"),imgly_lut_creamy:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_creamy","Creamy"),imgly_lut_eighties:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_eighties","Eighties"),imgly_lut_elder:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_elder","Elder"),imgly_lut_evening:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_evening","Evening"),imgly_lut_fall:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_fall","Fall"),imgly_lut_food:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_food","Food"),imgly_lut_glam:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_glam","Glam"),imgly_lut_gobblin:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_gobblin","Gobblin"),imgly_lut_highcarb:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_highcarb","High Carb"),imgly_lut_highcontrast:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_highcontrast","High Contrast"),imgly_lut_k1:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_k1","K1"),imgly_lut_k6:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_k6","K6"),imgly_lut_kdynamic:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_kdynamic","KDynamic"),imgly_lut_keen:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_keen","Keen"),imgly_lut_lenin:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_lenin","Lenin"),imgly_lut_litho:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_litho","Litho"),imgly_lut_lomo100:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_lomo100","Lomo 100"),imgly_lut_lucid:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_lucid","Lucid"),imgly_lut_neat:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_neat","Neat"),imgly_lut_nogreen:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_nogreen","No Green"),imgly_lut_orchid:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_orchid","Orchid"),imgly_lut_pale:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_pale","Pale"),imgly_lut_pitched:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_pitched","Pitched"),imgly_lut_plate:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_plate","Plate"),imgly_lut_pola669:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_plateimgly_lut_pola669","Pola 669"),imgly_lut_polasx:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_plateimgly_lut_polasx","Pola SX"),imgly_lut_pro400:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_plateimgly_lut_pro400","Pro 400"),imgly_lut_quozi:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_quozi","Quozi"),imgly_lut_sepiahigh:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_plateimgly_lut_sepiahigh","Sepia High"),imgly_lut_settled:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_settled","Settled"),imgly_lut_seventies:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_seventies","Seventies"),imgly_lut_soft:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_soft","Soft"),imgly_lut_steel:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_steel","Steel"),imgly_lut_summer:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_summer","Summer"),imgly_lut_sunset:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_sunset","Sunset"),imgly_lut_tender:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_tender","Tender"),imgly_lut_twilight:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_twilight","Twilight"),imgly_lut_winter:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_winter","Winter"),imgly_lut_x400:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_x400","X400")},title:{name:App.t("shared_components.image_editor.transform.filter.title.name","Filters")}},adjustments:{button:{reset:App.t("shared_components.image_editor.transform.adjustments.button.reset","Reset Default")},title:{name:App.t("shared_components.image_editor.transform.adjustments.title.name","Adjust"),basics:App.t("shared_components.image_editor.transform.adjustments.title.basics","Basics"),refinements:App.t("shared_components.image_editor.transform.adjustments.title.refinements","Refinements")},text:{brightness:App.t("shared_components.image_editor.transform.adjustments.text.brightness","Brightness"),saturation:App.t("shared_components.image_editor.transform.adjustments.text.saturation","Saturation"),contrast:App.t("shared_components.image_editor.transform.adjustments.text.contrast","Contrast"),gamma:App.t("shared_components.image_editor.transform.adjustments.text.gamma","Gamma"),clarity:App.t("shared_components.image_editor.transform.adjustments.text.clarity","Clarity"),exposure:App.t("shared_components.image_editor.transform.adjustments.text.exposure","Exposure"),shadows:App.t("shared_components.image_editor.transform.adjustments.text.shadows","Shadows"),highlights:App.t("shared_components.image_editor.transform.adjustments.text.highlights","Highlights"),whites:App.t("shared_components.image_editor.transform.adjustments.text.whites","Whites"),blacks:App.t("shared_components.image_editor.transform.adjustments.text.blacks","Blacks"),temperature:App.t("shared_components.image_editor.transform.adjustments.text.temperature","Temperature"),sharpness:App.t("shared_components.image_editor.transform.adjustments.text.sharpness","Sharpness")}},focus:{title:{name:App.t("shared_components.image_editor.transform.focus.title.name","Focus")},button:{none:App.t("shared_components.image_editor.transform.focus.button.none","None"),radial:App.t("shared_components.image_editor.transform.focus.button.radial","Radial"),mirrored:App.t("shared_components.image_editor.transform.focus.button.mirrored","Mirrored"),linear:App.t("shared_components.image_editor.transform.focus.button.linear","Linear"),gaussian:App.t("shared_components.image_editor.transform.focus.button.gaussian","Gaussian")}},text:{title:{name:App.t("shared_components.image_editor.transform.text.title.name","Text"),font:App.t("shared_components.image_editor.transform.text.title.font","Font"),size:App.t("shared_components.image_editor.transform.text.title.size","Size"),spacing:App.t("shared_components.image_editor.transform.text.title.spacing","Spacing"),line:App.t("shared_components.image_editor.transform.text.title.line","Line"),background:App.t("shared_components.image_editor.transform.text.title.background","Background")},placeholder:{defaultText:App.t("shared_components.image_editor.transform.text.placeholder.defaultText","Double-click to edit!")},button:{new:App.t("shared_components.image_editor.transform.text.button.new","New Text")}},textdesign:{title:{name:App.t("shared_components.image_editor.transform.textdesign.title.name","Text Design"),input:App.t("shared_components.image_editor.transform.textdesign.title.input","Text")},button:{invert:App.t("shared_components.image_editor.transform.textdesign.button.invert","Text as mask")}},sticker:{title:{name:App.t("shared_components.image_editor.transform.sticker.title.name","Stickers"),opacity:App.t("shared_components.image_editor.transform.sticker.title.opacity","Opacity")},text:{stickerLoadingError:App.t("shared_components.image_editor.transform.sticker.text.stickerLoadingError","Failed to load sticker ${path}.")},button:{replace:App.t("shared_components.image_editor.transform.sticker.button.replace","Replace"),new:App.t("shared_components.image_editor.transform.sticker.button.new","New Sticker"),fill:App.t("shared_components.image_editor.transform.sticker.button.fill","Fill")},asset:{imgly_sticker_emoticons:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons","Emoticons"),imgly_sticker_emoticons_alien:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_alien","Alien"),imgly_sticker_emoticons_angel:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_angel","Angel"),imgly_sticker_emoticons_angry:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_angry","Angry"),imgly_sticker_emoticons_anxious:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_anxious","Anxious"),imgly_sticker_emoticons_asleep:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_asleep","Asleep"),imgly_sticker_emoticons_attention:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_attention","Attention"),imgly_sticker_emoticons_baby_chicken:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_baby_chicken","Baby Chicken"),imgly_sticker_emoticons_batman:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_batman","Batman"),imgly_sticker_emoticons_beer:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_beer","Beer"),imgly_sticker_emoticons_black:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_black","Black"),imgly_sticker_emoticons_blue:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_blue","Blue"),imgly_sticker_emoticons_blush:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_blush","Blush"),imgly_sticker_emoticons_boxer:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_boxer","Boxer"),imgly_sticker_emoticons_business:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_business","Business"),imgly_sticker_emoticons_chicken:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_chicken","Chicken"),imgly_sticker_emoticons_cool:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_cool","Cool"),imgly_sticker_emoticons_cry:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_cry","Cry"),imgly_sticker_emoticons_deceased:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_deceased","Deceased"),imgly_sticker_emoticons_devil:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_devil","Devil"),imgly_sticker_emoticons_duckface:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_duckface","Duckface"),imgly_sticker_emoticons_furious:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_furious","Furious"),imgly_sticker_emoticons_grin:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_grin","Grin"),imgly_sticker_emoticons_guitar:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_guitar","Guitar"),imgly_sticker_emoticons_harry_potter:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_harry_potter","Harry Potter"),imgly_sticker_emoticons_hippie:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_hippie","Hippie"),imgly_sticker_emoticons_hitman:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_hitman","Hitman"),imgly_sticker_emoticons_humourous:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_humourous","Humourous"),imgly_sticker_emoticons_idea:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_idea","Idea"),imgly_sticker_emoticons_impatient:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_impatient","Impatient"),imgly_sticker_emoticons_kiss:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_kiss","Kiss"),imgly_sticker_emoticons_kisses:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_kisses","Kisses"),imgly_sticker_emoticons_laugh:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_laugh","Laugh"),imgly_sticker_emoticons_loud_cry:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_loud_cry","Loud Cry"),imgly_sticker_emoticons_loving:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_loving","Loving"),imgly_sticker_emoticons_masked:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_masked","Masked"),imgly_sticker_emoticons_music:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_music","Music"),imgly_sticker_emoticons_nerd:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_nerd","Nerd"),imgly_sticker_emoticons_ninja:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_ninja","Ninja"),imgly_sticker_emoticons_not_speaking_to_you:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_not_speaking_to_you","Not speaking to you"),imgly_sticker_emoticons_pig:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_pig","Pig"),imgly_sticker_emoticons_pumpkin:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_pumpkin","Pumpkin"),imgly_sticker_emoticons_question:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_question","Question"),imgly_sticker_emoticons_rabbit:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_rabbit","Rabbit"),imgly_sticker_emoticons_sad:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_sad","Sad"),imgly_sticker_emoticons_sick:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_sick","Sick"),imgly_sticker_emoticons_skateboard:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_skateboard","Skateboard"),imgly_sticker_emoticons_skull:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_skull","Skull"),imgly_sticker_emoticons_sleepy:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_sleepy","Sleepy"),imgly_sticker_emoticons_smile:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_smile","Smile"),imgly_sticker_emoticons_smoking:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_smoking","Smoking"),imgly_sticker_emoticons_sobbing:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_sobbing","Sobbing"),imgly_sticker_emoticons_star:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_star","Star"),imgly_sticker_emoticons_steaming_furious:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_steaming_furious","Steaming Furious"),imgly_sticker_emoticons_sunbathing:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_sunbathing","Sunbathing"),imgly_sticker_emoticons_tired:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_tired","Tired"),imgly_sticker_emoticons_tongue_out_wink:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_tongue_out_wink","Tongue out wink"),imgly_sticker_emoticons_wave:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_wave","Wave"),imgly_sticker_emoticons_wide_grin:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_wide_grin","Wide Grin"),imgly_sticker_emoticons_wink:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_wink","Wink"),imgly_sticker_emoticons_wrestler:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_wrestler","Wrestler"),imgly_sticker_shapes:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes","Shapes"),imgly_sticker_shapes_arrow_02:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_arrow_02","Arrow 1"),imgly_sticker_shapes_arrow_03:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_arrow_03","Arrow 2"),imgly_sticker_shapes_badge_01:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_01","Badge 1"),imgly_sticker_shapes_badge_11:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_11","Badge 5"),imgly_sticker_shapes_badge_12:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_12","Badge 6"),imgly_sticker_shapes_badge_13:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_13","Badge 7"),imgly_sticker_shapes_badge_15:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_15","Badge 8"),imgly_sticker_shapes_badge_18:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_18","Badge 9"),imgly_sticker_shapes_badge_19:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_19","Badge 10"),imgly_sticker_shapes_badge_20:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_20","Badge 11"),imgly_sticker_shapes_badge_28:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_28","Badge 12"),imgly_sticker_shapes_badge_32:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_32","Badge 13"),imgly_sticker_shapes_badge_35:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_35","Badge 14"),imgly_sticker_shapes_badge_36:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_36","Badge 15"),imgly_sticker_shapes_badge_04:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_04","Badge 2"),imgly_sticker_shapes_badge_06:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_06","Badge 3"),imgly_sticker_shapes_badge_08:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_08","Badge 4"),imgly_sticker_shapes_spray_01:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_spray_01","Spray 1"),imgly_sticker_shapes_spray_03:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_spray_03","Spray 2"),imgly_sticker_shapes_spray_04:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_spray_04","Spray 3")}},brush:{title:{name:App.t("shared_components.image_editor.transform.brush.title.name","Brush"),width:App.t("shared_components.image_editor.transform.brush.title.width","Width"),hardness:App.t("shared_components.image_editor.transform.brush.title.hardness","Hardness"),settings:App.t("shared_components.image_editor.transform.brush.title.settings","Brush Settings")}},frame:{title:{name:App.t("shared_components.image_editor.transform.frame.title.name","Frames"),opacity:App.t("shared_components.image_editor.transform.frame.title.opacity","Opacity"),width:App.t("shared_components.image_editor.transform.frame.title.width","Width")},button:{fill:App.t("shared_components.image_editor.transform.frame.button.fill","Fill"),replace:App.t("shared_components.image_editor.transform.frame.button.replace","Replace"),none:App.t("shared_components.image_editor.transform.frame.button.none","None")},asset:{imgly_frame_dia:App.t("shared_components.image_editor.transform.frame.asset.imgly_frame_dia","Dia"),imgly_frame_art_decor:App.t("shared_components.image_editor.transform.frame.asset.imgly_frame_art_decor","Art Decor"),imgly_frame_black_passepartout:App.t("shared_components.image_editor.transform.frame.asset.imgly_frame_black_passepartout","Black Passepartout"),imgly_frame_lowpoly_shadow:App.t("shared_components.image_editor.transform.frame.asset.imgly_frame_lowpoly_shadow","Low Poly"),imgly_frame_wood_passepartout:App.t("shared_components.image_editor.transform.frame.asset.imgly_frame_wood_passepartout","Wood Passepartout")}},overlay:{title:{name:App.t("shared_components.image_editor.transform.overlay.title.name","Overlays"),blending:App.t("shared_components.image_editor.transform.overlay.title.blending","Blending"),none:App.t("shared_components.image_editor.transform.overlay.title.none","None"),normal:App.t("shared_components.image_editor.transform.overlay.title.normal","Normal"),overlay:App.t("shared_components.image_editor.transform.overlay.title.overlay","Overlay"),hardLight:App.t("shared_components.image_editor.transform.overlay.title.hardLight","Hard Light"),softLight:App.t("shared_components.image_editor.transform.overlay.title.softLight","Soft Light"),multiply:App.t("shared_components.image_editor.transform.overlay.title.multiply","Multiply"),darken:App.t("shared_components.image_editor.transform.overlay.title.darken","Darken"),lighten:App.t("shared_components.image_editor.transform.overlay.title.lighten","Lighten"),screen:App.t("shared_components.image_editor.transform.overlay.title.screen","Screen"),colorBurn:App.t("shared_components.image_editor.transform.overlay.title.colorBurn","Color Burn")},button:{none:App.t("shared_components.image_editor.transform.overlay.button.none","None")},asset:{imgly_overlay_bokeh:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_bokeh","Bokeh"),imgly_overlay_chop:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_chop","Chop"),imgly_overlay_clouds:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_clouds","Clouds"),imgly_overlay_golden:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_golden","Golden"),imgly_overlay_grain:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_grain","Grain"),imgly_overlay_hearts:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_hearts","Hearts"),imgly_overlay_lightleak1:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_lightleak1","Light Leak 1"),imgly_overlay_lightleak2:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_lightleak2","Light Leak 2"),imgly_overlay_metal:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_metal","Metal"),imgly_overlay_mosaic:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_mosaic","Mosaic"),imgly_overlay_painting:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_painting","Painting"),imgly_overlay_paper:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_paper","Paper"),imgly_overlay_rain:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_rain","Rain"),imgly_overlay_vintage:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_vintage","Vintage"),imgly_overlay_wall1:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_wall1","Wall"),imgly_overlay_wall2:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_wall2","Wall 2"),imgly_overlay_wood:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_wood","Wood")}}}})}function h(){var e=["".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/css/PhotoEditorSDK.UI.DesktopUI.min.css"),"".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/js/lib/react.production.min.js"),"".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/js/lib/react-dom.production.min.js"),"".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/js/PhotoEditorSDK.min.js"),"".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/js/PhotoEditorSDK.UI.DesktopUI.min.js")];return new Promise(function(){var t=u(regeneratorRuntime.mark((function t(r){var n,i,o;return regeneratorRuntime.wrap((function t(s){while(1)switch(s.prev=s.next){case 0:n=a(e);s.prev=1;n.s();case 3:if((i=n.n()).done){s.next=9;break}o=i.value;s.next=7;return v(o);case 7:s.next=3;break;case 9:s.next=14;break;case 11:s.prev=11;s.t0=s["catch"](1);n.e(s.t0);case 14:s.prev=14;n.f();return s.finish(14);case 17:r();case 18:case"end":return s.stop()}}),t,null,[[1,11,14,17]])})));return function(e){return t.apply(this,arguments)}}())}function v(e){return m.apply(this,arguments)}function m(){m=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(e){var r=t.split(".").pop();var n=null;if("js"===r){n=document.createElement("script");n.type="text/javascript";n.src=t}else{n=document.createElement("link");n.href=t;n.type="text/css";n.rel="stylesheet"}n.onload=function(){e()};document.head.appendChild(n)})));case 1:case"end":return r.stop()}}),e)})));return m.apply(this,arguments)}function y(){return App.session.get("photoEditorApiKey")}function b(){return App.session.get("languageCode")}var w=f;t["default"]=w},38298:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={upload:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a=new Promise((function(e,a){n().then((function(n){i(t,n,r).then((function(t){e(t)})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))}));return a}};function n(){var e="".concat(o(),"/users/").concat(s(),"/upload-tokens");var t=new Promise((function(t,r){window.fetch(e,a()).then((function(e){200!==e.status?r(e):e.json().then((function(e){t(e.token)}))}))}));return t}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t=arguments.length>1?arguments[1]:void 0;var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=new Promise((function(n,i){var l=Object.assign({token:t,siteRef:u(),url:e,type:"image"},r);var c={body:JSON.stringify(l)};var d="".concat(o(),"/users/").concat(s(),"/assets");window.fetch(d,_.extend(a(),c)).then((function(e){200!==e.status?e.json().then((function(e){i(e)})):e.json().then((function(e){n(e.result)}))}))}));return n}function a(){return{credentials:"include",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":l()}}}function o(){return App.frontEndBucket.apiProxyBaseUrl}function s(){return App.session.get("userRef")}function l(){return App.frontEndBucket.csrfToken}function u(){return App.session.get("siteRef")}var c=r;t["default"]=c},58126:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(94285));var i=a(r(52784));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(){o(this,e)}l(e,[{key:"build",value:function e(){Cocktail.mixin(n.default,i.default);return new n.default}}]);return e}();var c=u;t["default"]=c},94285:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=f(r(7771));var i=f(r(97));var a=f(r(248));var o=r(19999);var s=r(54113);var l=r(73939);var u=r(69923);var c=f(r(69362));var d=f(r(63573));function f(e){return e&&e.__esModule?e:{default:e}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return"folder"!==e.type}))}function g(e,t){var r=[];var i=a.default.getState().user.sites;i.forEach((function(i){var a=[];var o=i.ref;var s=i.primaryDomain;var l="desktop"===i.siteType;var u=i.reverseParentRef;if(null!==s&&l)r.push({value:o,selected:false,title:s.domainName,text:s.domainName});else if(null===s&&l){i.domains.forEach((function(e){a.push(parseInt(e,10))}));var c=Math.max.apply(null,a);void 0!==i.domains[c]&&r.push({value:o,selected:false,title:i.domains[c],text:i.domains[c]})}e===u&&t&&r.push({value:u,selected:false,title:(0,n.default)("shared_views.importpanel.previous_site","Previous site"),text:(0,n.default)("shared_views.importpanel.previous_site","Previous site")})}));return r}function h(e){var t=document.createElement("div");t.innerHTML=e;return t.textContent||t.innerText}var v=Marionette.ItemView.extend({template:"import_panel",events:{"click .js-next":"onImportClick","click .js-back":"closePanel","change .js-import-page-from":"onImportSourcePageChange","change .js-import-content-from":"onImportSourceSiteChange","change .js-import-page-destination":"onImportDestinationPageChange","change .import__checkbox":"onContentToggle","change .js-import-text-filter":"onTextFilterChange","change .js-import-image-filter":"onImgFilterChange","change .js-select-all-text":"onTextToggle","change .js-select-all-images":"onImgToggle"},state:{selectedSourceSite:0,selectedSourcePage:0,selectedDestinationPage:0,sourceSitePages:{},domains:[],siteRef:0,selectedWidgets:[],saveEnabled:false},toggle:function e(){this.slice=new d.default({store:a.default,stateId:"importPanel"});this.props=this.slice.get();this.slice.subscribe(this.handleStateChange.bind(this));var t=a.default.getState();var r=t.site.ref;var n=t.user.sites.find((function(e){return e.ref===r}));n.isReversible?this.state.selectedSourceSite=n.reverseParentRef:this.state.selectedSourceSite=App.desktopSite.ref;this.state.domains=g(this.state.selectedSourceSite,n.isReversible);this.state.selectedDestinationPage=t.page.activePage;this.state.selectedSourceSite=this.state.domains[0].value;var i=t.env.csrfToken;var l=t.env.apiProxyBaseUrl;var u="".concat(l,"/sites/").concat(this.state.selectedSourceSite,"/pages?type=page");a.default.dispatch((0,s.getSitePages)(u,i,this.state.selectedSourceSite));a.default.dispatch((0,o.openPanel)("import"));this.render()},handleStateChange:function e(t){if((0,c.default)(this.props,t))return;var r=this.props;this.props=t;if(r.pagesLoading&&!this.props.pagesLoading){if(!this.state.selectedSourcePage||0===this.state.selectedSourcePage){this.state.selectedSourcePage=this.props.sites[this.state.selectedSourceSite].pages[0].ref;a.default.dispatch((0,s.changeSourcePage)(this.state.selectedSourcePage))}var n=a.default.getState().env;var i=n.csrfToken;var o=n.apiProxyBaseUrl;var l=this.state.selectedSourceSite;var u=this.state.selectedSourcePage;var d="".concat(o,"/sites/").concat(l,"/pages/").concat(u,"/widgets/extractable");a.default.dispatch((0,s.getWidgets)(d,i,l,u))}!r.importLoading||this.props.importLoading||this.props.importError||this.onImportSuccess();r.importLoading&&!this.props.importLoading&&this.props.importError&&this.onImportError();if(this.props.importLoading||this.props.widgetsLoading||this.props.pagesLoading)this.state.saveEnabled=false;else{var f=this.props,p=f.textFilter,g=f.imgFilter,h=f.includeText,v=f.includeImg;var m=this.props.widgets[this.state.selectedSourceSite];var y=this.filterWidgets(m,p,g,h,v);y.length?this.state.saveEnabled=true:this.state.saveEnabled=false}a.default.getState().ui.panel.panelOpen&&this.render()},onImportClick:function e(){var t=this.$(".import__content--selected [checked]");var r=[];t.each((function(e,t){r.push(parseInt(t.value,10))}));var n=a.default.getState().site.ref;var i=this.state.selectedDestinationPage;var o=this.state.selectedSourceSite;var l=this.state.selectedSourcePage;var u=a.default.getState().env.csrfToken;var c=a.default.getState().env.apiProxyBaseUrl;var d="".concat(c,"/sites/").concat(n,"/pages/").concat(i,"/import");var f={siteRef:n,pageRef:i,sourceSiteRef:o,sourcePageRef:l,widgetRefs:r};a.default.dispatch((0,s.importContent)(d,u,f))},render:function e(){var t=a.default.getState();var r=p((0,l.formatPages)(t.page.pages));var n=t.importPanel,i=n.textFilter,o=n.imgFilter,s=n.includeText,u=n.includeImg;var c=t.importPanel.widgets[this.state.selectedSourceSite];var d=this.filterWidgets(c,i,o,s,u);var f=t.importPanel.sites[this.state.selectedSourceSite];var g=this.filterWidgets(c,i,o,false,u);var h=this.filterWidgets(c,i,o,s,false);this.tplData={lightBackground:true,pages:r,sourceSite:this.state.selectedSourceSite,sourceSitePages:f?p(f.pages):[],sourcePageRef:this.state.selectedSourcePage,destPageRef:this.state.selectedDestinationPage,widgets:d,selectedImageWidgets:g,selectedTextWidgets:h,domains:this.state.domains,textFilter:i,imgFilter:o,includeImg:u,includeText:s,widgetsLoading:t.importPanel.widgetsLoading,pagesLoading:t.importPanel.pagesLoading,importLoading:t.importPanel.importLoading,importError:t.importPanel.importError,saveEnabled:this.state.saveEnabled};"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl()},onImportSourcePageChange:function e(t){this.state.selectedSourcePage=parseInt(t.target.value,10);a.default.dispatch((0,s.changeSourcePage)(this.state.selectedSourcePage));if(!a.default.getState().importPanel.widgets[this.state.selectedSourceSite][this.state.selectedSourcePage]){var r=a.default.getState().env;var n=r.csrfToken;var i=r.apiProxyBaseUrl;var o=this.state.selectedSourceSite;var l=this.state.selectedSourcePage;var u="".concat(i,"/sites/").concat(o,"/pages/").concat(l,"/widgets/extractable");a.default.dispatch((0,s.getWidgets)(u,n,o,l))}},onImportDestinationPageChange:function e(t){this.state.selectedDestinationPage=parseInt(t.target.value,10)},onImportSourceSiteChange:function e(t){this.state.selectedSourceSite=parseInt(t.target.value,10);this.state.selectedSourcePage=0;a.default.dispatch((0,s.changeSourcePage)(this.state.selectedSourcePage));var r=a.default.getState().env;var n=r.csrfToken;var i=r.apiProxyBaseUrl;var o=this.state.selectedSourceSite;var l="".concat(i,"/sites/").concat(o,"/pages?type=page");a.default.dispatch((0,s.getSitePages)(l,n,o))},onTextFilterChange:function e(t){a.default.dispatch((0,s.changeTextFilter)(parseInt(t.target.value,10)))},onImgFilterChange:function e(t){a.default.dispatch((0,s.changeImgFilter)(parseInt(t.target.value,10)))},onContentToggle:function e(t){var r=t.currentTarget.closest(".import__content");if(!r)return;r.classList.toggle("import__content--selected")},onTextToggle:function e(){a.default.dispatch((0,s.changeIncludeText)(!a.default.getState().importPanel.includeText))},onImgToggle:function e(){a.default.dispatch((0,s.changeIncludeImg)(!a.default.getState().importPanel.includeImg))},onImportSuccess:function e(){this.closePanel();document.querySelector("#siteFrame").contentWindow.location.reload(true);(0,i.default)((0,n.default)("shared_views.language_panel.success","Success"),(0,n.default)("blog.post_import.completed_title","Import complete"),"success")},onImportError:function e(){(0,i.default)((0,n.default)("shared_views.language_panel.error","Error"),(0,n.default)("plugin_v7.blog.wordpress-import.import_failed_title","Import failed"),"error")},closePanel:function e(){this.slice.unsubscribe();a.default.dispatch((0,o.closePanel)());this.mixinClosePanel()},filterWidgets:function e(t,r,n,i,a){if(!t||!t[this.state.selectedSourcePage])return[];var o=t[this.state.selectedSourcePage];if(i&&a&&r===u.NO_FILTER&&n===u.NO_FILTER)return o;if(!i&&!a)return[];var s=o.filter((function(e){if("widget.image"!==e.type){if(i&&h(e.data.content).split(" ").length>r)return e;return false}if(a&&e.data.height>n)return e;return false}));return s}});var m=v;t["default"]=m},89174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=a(r(3104));function a(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.ItemView.extend({template:"row_layout_panel",events:{"click .js-row-layout-cancel":"cancelChanges","click .js-row-layout-done":"saveChanges","click .js-row-layout-bg":"cancelChanges","click .js-previous-layout":"previousClicked","click .js-next-layout":"nextClicked","change .js-radio-item":"itemChanged"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.layouts=t.layouts;this.currentLayout=t.currentLayout;this.currentIndex=this.layouts.indexOf(this.currentLayout);this.prevIndex=this.currentIndex},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentLayout:this.currentLayout,layouts:this.layouts});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},closePanel:function e(){this.trigger("panel:close");this.destroy()},saveChanges:function e(){this.closePanel()},cancelChanges:function e(){this.prevIndex!==this.currentIndex&&this.trigger("layout:change",{layout:this.layouts[this.prevIndex]});this.closePanel()},unsetCheckedItem:function e(){var t=this.el.querySelector(".js-radio-item:checked");t.checked=false},checkRadioItem:function e(t){var r=this.el.querySelector(".js-radio-item[value=".concat(t,"]"));r.checked=true},updateLayout:function e(){this.trigger("layout:change",{layout:this.layouts[this.currentIndex]});i.default.container.Tracker.track("Section layout updated")},itemChanged:function e(t){this.currentIndex=this.layouts.indexOf(t.currentTarget.value);this.updateLayout()},previousClicked:function e(){this.currentIndex-1<0?this.currentIndex=this.layouts.length-1:this.currentIndex--;this.unsetCheckedItem();this.checkRadioItem(this.layouts[this.currentIndex]);this.updateLayout()},nextClicked:function e(){this.currentIndex+1>this.layouts.length-1?this.currentIndex=0:this.currentIndex++;this.unsetCheckedItem();this.checkRadioItem(this.layouts[this.currentIndex]);this.updateLayout()}});var s=o;t["default"]=s},79724:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=h(r(79440));var a=p(r(76660));var o=p(r(7771));var s=r(65074);var l=r(79148);var u=r(81798);var c=p(r(67925));var d=p(r(24874));var f=p(r(97));function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(g=function e(n){return n?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function y(e,t,r){t&&m(e.prototype,t);r&&m(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return w(e,t)}function _(e){var t=P();return function r(){var n=k(e),i;if(t){var a=k(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}function S(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}function C(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var O=function(e){b(r,e);var t=_(r);function r(e){var n;v(this,r);n=t.call(this,e);C(E(n),"onCloseClick",(function(e){e.preventDefault();n.close()}));C(E(n),"close",(function(){n.props.closeAddLanguage()}));C(E(n),"saveSiteActiveLanguage",(function(){n.props.addSiteActiveLanguage({language:n.state.selectedLanguageCode});n.openPagesSelector()}));C(E(n),"saveSiteDefaultLanguage",(function(){n.props.updateDefaultLanguage({siteRef:n.props.env.siteRef,url:"".concat(n.props.env.apiProxyBaseUrl,"/sites/").concat(n.props.env.siteRef),token:n.props.env.csrfToken,language:n.state.selectedLanguageCode})}));C(E(n),"onAddLanguageClick",(function(e){e.preventDefault();n.props.language.defaultLanguage.language?n.saveSiteActiveLanguage():n.saveSiteDefaultLanguage()}));C(E(n),"trackEvent",(function(e){n.props.tracker.track("DEFAULT LANGUAGE ADDED",{defaultLanguage:e})}));C(E(n),"componentDidUpdate",(function(e){var t=e.language.defaultLanguage.language;var r=n.props.language.defaultLanguage.language;if(r&&t!==r){n.trackEvent(r);n.notifySuccess();n.setState({buttonDisabled:true})}n.props.language.languageError&&n.nofityError()}));C(E(n),"notifySuccess",(function(){(0,f.default)((0,o.default)("shared_views.ml.success","Success"),(0,o.default)("shared_views.ml.default-language-success","Default language has been saved."),"success")}));C(E(n),"nofityError",(function(){(0,f.default)((0,o.default)("shared_views.ml.error","Error"),(0,o.default)("shared_views.ml.error.default-language-error","Unable to save the default language."),"error")}));C(E(n),"languageSelected",(function(e){e.preventDefault();n.setState({selectedLanguageCode:e.target.value,buttonDisabled:!e.target.value})}));C(E(n),"openPagesSelector",(function(){n.props.openPagesSelector()}));C(E(n),"getFilteredLanguages",(function(){var e=n.props.env.languages;var t=n.props.language.siteLanguages;var r=n.props.language.defaultLanguage.language;var i={};Object.keys(e).forEach((function(n){var a=t.find((function(e){return e.language===n}));"undefined"===typeof a&&r!==n&&(i[n]=e[n])}));return i}));C(E(n),"buildUpgradeUrl",(function(){var e=n.props.brand.brandType;if("Reseller"===e&&n.props.brand.resellerUpgradeUrl&&n.props.brand.resellerUpgradeUrl.length>0)return n.props.brand.resellerUpgradeUrl;return n.props.brand.upgradeUrl}));C(E(n),"checkLanguageLimit",(function(){var e=n.props.user.capabilities.multiLanguageLimit;var t=(0,o.default)("editor.dialog.language_limit_reached","You've used all %1 languages available for your website. Either upgrade to a higher package or remove some languages.",e);if(0!==e&&n.props.language.siteLanguages.length>=e)return i.default.createElement(d.default,{addCancel:n.close,content:t,upgradeUrl:n.buildUpgradeUrl(),hideUpgradeInUnableToPublish:n.props.brand.capabilities.hideUpgradeInUnableToPublish});return false}));C(E(n),"checkLanguageAvailabilities",(function(){var e=n.getFilteredLanguages();var t=Object.keys(e).length;var r=(0,o.default)("editor.dialog.no_available_language","You've used all languages available for your website.");if(0===t)return i.default.createElement(d.default,{addCancel:n.close,content:r,hideUpgradeInUnableToPublish:"true"});return false}));C(E(n),"addLanguageModal",(function(){var e=(0,o.default)("shared_views.ml.next","Next");var t=(0,o.default)("shared_views.ml.default_language","Default language");var r=(0,o.default)("shared_views.ml.default_lang_title","Website default language");var a=(0,o.default)("shared_views.ml.default_lang_subtitle","This should be the language spoken by most of your visitors. This cannot be changed later so please consider this choice carefully.");if(n.props.language.defaultLanguage.language){t=(0,o.default)("shared_views.ml.add_language","Add language");r=(0,o.default)("shared_views.ml.site_lang_title","New content language");a=(0,o.default)("shared_views.ml.site_lang_subtitle","Pick the language you would like to add to your website")}return i.default.createElement(i.Fragment,null,i.default.createElement("div",{className:"ml-modal"},i.default.createElement("div",{className:"ml-modal__header"},i.default.createElement("button",{className:"ml-modal__close-button",onClick:n.onCloseClick},i.default.createElement("span",null,t)),n.props.language.languageLoading?i.default.createElement("div",{className:"loader"}):i.default.createElement("button",{className:"ml-modal__done-button",onClick:n.onAddLanguageClick,disabled:n.state.buttonDisabled},e)),i.default.createElement("div",{className:"ml-modal__content"},i.default.createElement("div",{className:"ml-modal__content-left"},i.default.createElement("div",{className:"ml-modal__description"},i.default.createElement("div",{className:"ml-modal__title"},r),i.default.createElement("div",{className:"ml-modal__subtitle"},a))),i.default.createElement("div",{className:"ml-modal__content-right"},i.default.createElement(c.default,{userLanguage:n.props.user.languageCode,languageSelected:n.languageSelected,activeLanguageCode:n.props.language.activeLanguage,allLanguages:n.getFilteredLanguages(),localisedLanguages:n.props.env.localisedLanguages})))),i.default.createElement("div",{className:"ml-modal__overlay"}))}));n.state={selectedLanguageCode:"",buttonDisabled:true};return n}y(r,[{key:"componentDidMount",value:function e(){this.props.language.defaultLanguage.language?this.setState({buttonDisabled:!this.props.language.activeLanguage,selectedLanguageCode:this.props.language.activeLanguage}):this.setState({buttonDisabled:!this.props.user.languageCode,selectedLanguageCode:this.props.user.languageCode})}},{key:"render",value:function e(){return i.default.createElement(i.Fragment,null,this.checkLanguageLimit()||this.checkLanguageAvailabilities()||this.addLanguageModal())}}]);return r}(i.Component);O.propTypes={updateDefaultLanguage:a.default.func.isRequired,addSiteActiveLanguage:a.default.func.isRequired,language:a.default.object.isRequired,user:a.default.object.isRequired,openPagesSelector:a.default.func.isRequired,closeAddLanguage:a.default.func.isRequired,tracker:a.default.object.isRequired,env:a.default.object.isRequired,brand:a.default.object.isRequired};var T=function e(t){var r=t.language,n=t.user,i=t.env,a=t.brand;return{language:r,user:n,env:i,brand:a}};var A=function e(t){return{updateDefaultLanguage:function e(r){return t((0,l.updateDefaultLanguage)(r))},addSiteActiveLanguage:function e(r){return t((0,l.addSiteActiveLanguage)(r))},openPagesSelector:function e(){return t((0,u.openPagesSelector)())},closeAddLanguage:function e(){return t((0,u.closeAddLanguage)())}}};var j=(0,s.connect)(T,A)(O);t["default"]=j},65236:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=h(r(79440));var a=p(r(76660));var o=r(65074);var s=r(81798);var l=r(79148);var u=p(r(7771));var c=r(3786);var d=p(r(73471));var f=p(r(21434));function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(g=function e(n){return n?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function y(e,t,r){t&&m(e.prototype,t);r&&m(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return w(e,t)}function _(e){var t=P();return function r(){var n=k(e),i;if(t){var a=k(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}function S(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}function C(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var O=function(e){b(r,e);var t=_(r);function r(){var e;v(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i));C(E(e),"onDoneClicked",(function(t){t.preventDefault();e.props.closeAddLanguageDone();e.props.removeActiveLanguage();if("ten"===e.props.user.productVersion){var r=e.props.env.csrfToken;e.props.getLanguagesPageTree(r);e.reloadSiteFrameOnFirstLanguageAdded()}else e.updateSite({siteDefaultLanguage:e.props.language.defaultLanguage,siteCurrentLanguage:e.props.language.defaultLanguage,siteLanguages:e.props.language.siteLanguages})}));C(E(e),"reloadSiteFrameOnFirstLanguageAdded",(function(){var t=document.getElementById("siteFrame");var r=t.contentWindow.document.querySelector('[data-name="languagemenu"]');if(e.props.language.siteLanguages.length>0&&!r){Editor.Events.trigger("page:change",(0,f.default)((0,d.default)().get("pageRef")));t.contentWindow.location.reload()}}));C(E(e),"updateSite",(function(e){var t=document.getElementById("siteFrame");var r=Object.assign({},e,{action:"rerender:languagemenu"});t&&t.contentWindow&&t.contentWindow.postMessage(r,"".concat(t.contentWindow.location.protocol,"//").concat(t.contentWindow.location.host))}));return e}y(r,[{key:"render",value:function e(){var t=this.props.language.activeLanguage;var r=this.props.env.languages[t];var n=(0,u.default)("shared_views.ml.add_language","Add language");var a=(0,u.default)("shared_views.ml.done","Done");var o=(0,u.default)("shared_views.ml.done_message","Language added. You can now edit the %1 version of your site from the Pages Menu",r);return i.default.createElement(i.Fragment,null,i.default.createElement("div",{className:"ml-modal"},i.default.createElement("div",{className:"ml-modal__header"},i.default.createElement("button",{className:"ml-modal__close-button",onClick:this.onDoneClicked},i.default.createElement("span",null,n))),i.default.createElement("div",{className:"ml-modal__content"},i.default.createElement("div",{className:"ml-modal__description--central"},i.default.createElement("div",{className:"ml-modal__icon"}),i.default.createElement("div",{className:"ml-modal__subtitle ml-modal__subtitle--central"},o),i.default.createElement("button",{className:"ml-modal__button--done qa-add-language-done-button",onClick:this.onDoneClicked},a)))),i.default.createElement("div",{className:"ml-modal__overlay"}))}}]);return r}(i.Component);O.propTypes={closeAddLanguageDone:a.default.func.isRequired,removeActiveLanguage:a.default.func.isRequired,getLanguagesPageTree:a.default.func.isRequired,language:a.default.object.isRequired,env:a.default.object.isRequired,user:a.default.object.isRequired};var T=function e(t){var r=t.language,n=t.env,i=t.user;return{language:r,env:n,user:i}};var A=function e(t){return{closeAddLanguageDone:function e(){return t((0,s.closeAddLanguageDone)())},removeActiveLanguage:function e(){return t((0,l.removeActiveLanguage)())},getLanguagesPageTree:function e(r){return t((0,c.getLanguagesPageTree)(r))}}};var j=(0,o.connect)(T,A)(O);t["default"]=j},26877:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=g(r(79440));var a=f(r(76660));var o=r(65074);var s=r(49236);var l=f(r(52398));var u=r(81798);var c=r(79148);var d=f(r(7771));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(p=function e(n){return n?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function m(e,t,r){t&&v(e.prototype,t);r&&v(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&b(e,t)}function b(e,t){b=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return b(e,t)}function w(e){var t=E();return function r(){var n=P(e),i;if(t){var a=P(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _(this,i)}}function _(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function P(e){P=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return P(e)}function k(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var C=function(e){y(r,e);var t=w(r);function r(){var e;h(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i));k(S(e),"onLanguageSelected",(function(t){var r=t.target.dataset.lang;e.props.changeLanguage(r);e.hideList()}));k(S(e),"openAddLanguageModal",(function(){e.props.openAddLanguage();e.hideList()}));k(S(e),"openManageLanguageList",(function(){e.props.showManageLanguageList();e.hideList()}));k(S(e),"hideList",(function(){e.props.hideLanguageList()}));return e}m(r,[{key:"render",value:function e(){var t=this;var r=this.props.language.current||this.props.language.defaultLanguage.language;var n=(0,d.default)("shared_views.ml.add_language","Add language");var a=(0,d.default)("shared_views.ml.manage_languages","Manage languages");return i.default.createElement("div",{className:"ml-list"},i.default.createElement("div",{className:"ml-list__content"},i.default.createElement("ul",{className:"ml-list__languges"},i.default.createElement(l.default,{currentLanguageCode:r,language:this.props.language.defaultLanguage.language,localisedName:this.props.language.defaultLanguage.localisedName,languageFlag:this.props.language.defaultLanguage.flag,languageSelected:this.onLanguageSelected}),this.props.language.siteLanguages.map((function(e){return i.default.createElement(l.default,{key:e.id,currentLanguageCode:r,language:e.language,localisedName:e.localisedName,languageFlag:e.flag,languageSelected:t.onLanguageSelected})}))),i.default.createElement("ul",{className:"ml-list__controls"},i.default.createElement("li",{className:"ml-list__controls-item",onClick:this.openAddLanguageModal},n),this.props.language.siteLanguages.length>0&&i.default.createElement("li",{className:"ml-list__controls-item js-lang-manager",onClick:this.openManageLanguageList},a))),i.default.createElement("div",{className:"ml-list__overlay",onClick:this.hideList}))}}]);return r}(i.Component);C.propTypes={language:a.default.object.isRequired,hideLanguageList:a.default.func.isRequired,openAddLanguage:a.default.func.isRequired,showManageLanguageList:a.default.func.isRequired,changeLanguage:a.default.func.isRequired};var O=function e(t){var r=t.language;return{language:r}};var T=function e(t){return{hideLanguageList:function e(){return t((0,s.hideLanguageList)())},openAddLanguage:function e(){return t((0,u.openAddLanguage)())},showManageLanguageList:function e(){return t((0,s.showManageLanguageList)())},changeLanguage:function e(r){return t((0,c.changeLanguage)(r))}}};var A=(0,o.connect)(O,T)(C);t["default"]=A},93214:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=v(r(79440));var a=g(r(76660));var o=r(65074);var s=g(r(87538));var l=g(r(82637));var u=r(49236);var c=r(79148);var d=g(r(97));var f=g(r(7771));var p=g(r(69362));function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(h=function e(n){return n?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function b(e,t,r){t&&y(e.prototype,t);r&&y(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&_(e,t)}function _(e,t){_=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return _(e,t)}function S(e){var t=k();return function r(){var n=C(e),i;if(t){var a=C(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return E(this,i)}}function E(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function C(e){C=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return C(e)}function O(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var T=function(e){w(r,e);var t=S(r);function r(){var e;m(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i));O(P(e),"state",{openOptionsFor:"",openDeleteDialog:false,deleteLanguageCode:null,deletelocalisedName:null,allowBack:true});O(P(e),"close",(function(){e.props.hideManageLanguageList()}));O(P(e),"onDelete",(function(t){t.preventDefault();e.setState({openDeleteDialog:true,deleteLanguageCode:t.target.value,deletelocalisedName:t.target.dataset.localisedname})}));O(P(e),"deleteConfirm",(function(t){t.preventDefault();var r=e.state.deleteLanguageCode;Promise.resolve(e.props.deleteLanguage({url:"".concat(e.props.env.apiProxyBaseUrl,"/sites/").concat(e.props.env.siteRef,"/languages/").concat(r),token:e.props.env.csrfToken})).then((function(){e.checkCurrentLang(r)}))}));O(P(e),"checkCurrentLang",(function(t){if(t===e.props.language.current){e.props.changeLanguage(e.props.language.defaultLanguage.language);e.props.language.siteLanguages.length>0&&e.setState({allowBack:false})}}));O(P(e),"deleteCancel",(function(t){t.preventDefault();e.closeDialog()}));O(P(e),"closeDialog",(function(){e.setState({openDeleteDialog:false,deleteLanguageCode:null,deletelocalisedName:null})}));O(P(e),"onOffline",(function(t){t.preventDefault();var r=t.target.value;var n=1===parseInt(t.target.dataset.active,10)?0:1;e.props.updateLanguageStatus({url:"".concat(e.props.env.apiProxyBaseUrl,"/sites/").concat(e.props.env.siteRef,"/languages/").concat(r),token:e.props.env.csrfToken,siteRef:e.props.env.siteRef,active:n})}));O(P(e),"onOptionsClicked",(function(t){t.preventDefault();var r=t.target.value;e.setState((function(e){if(e.openOptionsFor===r)return{openOptionsFor:""};return{openOptionsFor:r}}))}));O(P(e),"componentDidUpdate",(function(t){var r=t.language.siteLanguages;var n=e.props.language.siteLanguages;if(e.props.language.siteLanguageDeletingError||e.props.language.languageStatusUpdatingError){e.notifyError();e.closeDialog();return}if((0,p.default)(r,n))return;r.length!==n.length&&e.trackEvent();e.closeDialog();e.updateSite({siteDefaultLanguage:e.props.language.defaultLanguage,siteCurrentLanguage:e.props.language.defaultLanguage,siteLanguages:e.props.language.siteLanguages});0===n.length&&e.close()}));O(P(e),"updateSite",(function(e){var t=document.getElementById("siteFrame");var r=Object.assign({},e,{action:"rerender:languagemenu"});t&&t.contentWindow&&t.contentWindow.postMessage(r,"".concat(t.contentWindow.location.protocol,"//").concat(t.contentWindow.location.host))}));O(P(e),"notifyError",(function(){(0,d.default)((0,f.default)("shared_views.ml.error","Error"),(0,f.default)("shared_views.ml.error.site-language-error","Unable to save the language."),"error")}));O(P(e),"trackEvent",(function(){e.props.tracker.track("LANGUAGE DELETED",{deletedLanguage:e.state.deleteLanguageCode})}));O(P(e),"generateContentClass",(function(){var t=e.props.language.siteLanguages.length;var r=t>0&&e.props.language.siteLanguages[t-1].language;return e.state.openOptionsFor===r&&"manage-list--padded"}));return e}b(r,[{key:"render",value:function e(){var t=this;var r=(0,f.default)("shared_views.ml.delete_language","Delete %1",this.state.deletelocalisedName);var n=(0,f.default)("shared_views.ml.delete_confirm","Yes, delete %1",this.state.deletelocalisedName);var a=this.generateContentClass();var o=this.state.allowBack?"nav-drawer__back-button":"nav-drawer__close-button";var u=(0,f.default)("shared_views.ml.manage_languages","Manage languages");return i.default.createElement(i.Fragment,null,i.default.createElement("div",{className:"nav-drawer"},i.default.createElement("div",{className:"nav-drawer__backstop",onClick:this.close}),i.default.createElement("div",{className:"pages-nav__suface"},i.default.createElement("div",{className:"pages-nav__header"},i.default.createElement("button",{className:o,type:"button",onClick:this.close},i.default.createElement("span",null,u))),i.default.createElement("div",{className:"nav-drawer__content\n                            nav-drawer__content--grey-bg\n                            nav-drawer__content--full-width-large-res-only\n                            manage-list ".concat(a)},i.default.createElement("div",{className:"pages-panel manage-list__content pages-panel--no-border"},i.default.createElement("div",{className:"pages-panel__section pages-panel__section--no-border pages-tree pages-panel__section--grey-bg"},i.default.createElement(s.default,{isDefaultLanguage:true,languageCode:this.props.language.defaultLanguage.language,localisedName:this.props.language.defaultLanguage.localisedName,onDelete:this.onDelete,onOffline:this.onOffline,onOptionsClicked:this.onOptionsClicked,openOptionsFor:this.state.openOptionsFor}),this.props.language.siteLanguages.map((function(e){return i.default.createElement(s.default,{localisedName:e.localisedName,languageCode:e.language,onDelete:t.onDelete,onOffline:t.onOffline,onOptionsClicked:t.onOptionsClicked,openOptionsFor:t.state.openOptionsFor,active:e.active.toString(),key:e.id})})))))),this.state.openDeleteDialog&&i.default.createElement(l.default,{deleteConfirm:this.deleteConfirm,deleteCancel:this.deleteCancel,dialogTitle:r,confirmButtonText:n})))}}]);return r}(i.Component);T.propTypes={language:a.default.object.isRequired,env:a.default.object.isRequired,hideManageLanguageList:a.default.func.isRequired,deleteLanguage:a.default.func.isRequired,tracker:a.default.object.isRequired,updateLanguageStatus:a.default.func.isRequired,changeLanguage:a.default.func.isRequired};var A=function e(t){var r=t.language,n=t.env;return{language:r,env:n}};var j=function e(t){return{hideManageLanguageList:function e(){return t((0,u.hideManageLanguageList)())},deleteLanguage:function e(r){return t((0,c.deleteLanguage)(r))},updateLanguageStatus:function e(r){return t((0,c.updateLanguageStatus)(r))},changeLanguage:function e(r){return t((0,c.changeLanguage)(r))}}};var D=(0,o.connect)(A,j)(T);t["default"]=D},64928:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=p(r(79440));var a=d(r(76660));var o=r(65074);var s=d(r(79724));var l=d(r(5042));var u=d(r(78172));var c=d(r(65236));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(f=function e(n){return n?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function v(e,t,r){t&&h(e.prototype,t);r&&h(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&y(e,t)}function y(e,t){y=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return y(e,t)}function b(e){var t=S();return function r(){var n=E(e),i;if(t){var a=E(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return w(this,i)}}function w(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return E(e)}var P=function(e){m(r,e);var t=b(r);function r(){g(this,r);return t.apply(this,arguments)}v(r,[{key:"renderModal",value:function e(){switch(this.props.languageModal.activeModal){case"add_language":return i.default.createElement(s.default,this.props);case"select_pages":return i.default.createElement(l.default,this.props);case"page_title_edit":return i.default.createElement(u.default,this.props);case"add_language_done":return i.default.createElement(c.default,this.props);default:return null}}},{key:"render",value:function e(){return i.default.createElement("div",null,this.renderModal())}}]);return r}(i.Component);P.propTypes={languageModal:a.default.object.isRequired};var k=function e(t){var r=t.ui;return{languageModal:r.languageModal}};var C=(0,o.connect)(k)(P);t["default"]=C},8731:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=f(r(79440));var a=r(55269);var o=c(r(248));var s=r(65074);var l=c(r(64928));var u=c(r(89180));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(d=function e(n){return n?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function h(e,t,r){t&&g(e.prototype,t);r&&g(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return m(e,t)}function y(e){var t=_();return function r(){var n=S(e),i;if(t){var a=S(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return b(this,i)}}function b(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}var E=function(e){v(r,e);var t=y(r);function r(){p(this,r);return t.apply(this,arguments)}h(r,[{key:"init",value:function e(){var t=document.querySelector(".js-language-mount");(0,a.render)(i.default.createElement(s.Provider,{store:o.default},i.default.createElement(i.Fragment,null,i.default.createElement(l.default,this.props),i.default.createElement(u.default,this.props))),t)}}]);return r}(i.Component);var P=E;t["default"]=P},89180:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=d(r(79440));var a=u(r(76660));var o=r(65074);var s=u(r(26877));var l=u(r(93214));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(c=function e(n){return n?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function g(e,t,r){t&&p(e.prototype,t);r&&p(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&v(e,t)}function v(e,t){v=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return v(e,t)}function m(e){var t=w();return function r(){var n=_(e),i;if(t){var a=_(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return y(this,i)}}function y(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return _(e)}var S=function(e){h(r,e);var t=m(r);function r(){f(this,r);return t.apply(this,arguments)}g(r,[{key:"render",value:function e(){return i.default.createElement(i.Fragment,null,this.props.languageList.showLanguageList&&i.default.createElement(s.default,null),this.props.languageList.showManageList&&i.default.createElement(l.default,this.props))}}]);return r}(i.Component);S.propTypes={languageList:a.default.object.isRequired};var E=function e(t){var r=t.ui;return{languageList:r.languageList}};var P=(0,o.connect)(E)(S);t["default"]=P},78172:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=h(r(79440));var i=p(r(76660));var a=r(65074);var o=p(r(7771));var s=p(r(69362));var l=r(81798);var u=p(r(58421));var c=p(r(75144));var d=r(79148);var f=p(r(97));function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(g=function e(n){return n?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==v(e)&&"function"!==typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){b(a,n,i,o,s,"next",e)}function s(e){b(a,n,i,o,s,"throw",e)}o(void 0)}))}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function E(e,t,r){t&&S(e.prototype,t);r&&S(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&k(e,t)}function k(e,t){k=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return k(e,t)}function C(e){var t=A();return function r(){var n=j(e),i;if(t){var a=j(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return O(this,i)}}function O(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function j(e){j=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return j(e)}function D(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var L=function(e){P(r,e);var t=C(r);function r(e){var n;_(this,r);n=t.call(this,e);D(T(n),"onBackClick",(function(e){e.preventDefault();n.goBack()}));D(T(n),"goBack",(function(){n.props.removeSelectedPages();n.props.openPagesSelector()}));D(T(n),"onConfirm",(function(e){e.preventDefault();var t=n.props.language.activeLanguage;n.props.addSiteLanguagePages({url:"".concat(n.props.env.apiProxyBaseUrl,"/sites/").concat(n.props.env.siteRef,"/languages/").concat(t),token:n.props.env.csrfToken,pages:n.state.pageTitles})}));D(T(n),"onPageTitleChange",function(){var e=w(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r=t.target.dataset.pageid;i=t.target.value.trim();a.next=4;return n.setState((function(e){var t=y(y({},e.pageTitles),D({},r,i));return{pageTitles:t}}));case 4:n.checkAllPageTitles();case 5:case"end":return a.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());D(T(n),"checkAllPageTitles",(function(){var e=true;Object.keys(n.props.language.pages).forEach((function(t){n.state.pageTitles[t]||(e=false);"object"===v(n.props.language.pages[t])&&Object.keys(n.props.language.pages[t]).forEach((function(t){n.state.pageTitles[t]||(e=false)}))}));n.setState({buttonDisabled:!e})}));D(T(n),"openAddedModal",(function(){n.props.openAddLanguageDone()}));D(T(n),"trackEvent",(function(){n.props.tracker.track("NEW LANGUAGE ADDED",{selectedLanguage:n.props.language.activeLanguage})}));D(T(n),"componentDidUpdate",(function(e){var t=e.language.siteLanguages;var r=n.props.language.siteLanguages;if(n.props.language.siteLanguagePagesAddingError){n.notifyError();return}if(t.length===r.length||(0,s.default)(t,r))return;n.trackEvent();n.openAddedModal();n.props.removeSelectedPages()}));n.state={pageTitles:{},buttonDisabled:true};return n}E(r,[{key:"componentDidMount",value:function e(){this.setState({buttonDisabled:true})}},{key:"notifyError",value:function e(){(0,f.default)((0,o.default)("shared_views.ml.error","Error"),(0,o.default)("shared_views.ml.error.site-language-error","Unable to save the language."),"error")}},{key:"render",value:function e(){var t=this.props.language.activeLanguage;var r=this.props.env.languages[t];var i=this.props.language.defaultLanguage.name;var a=(0,o.default)("shared_views.ml.add_language","Add language");var s=(0,o.default)("shared_views.ml.next","Next");var l=(0,o.default)("shared_views.ml.page_titles_title","Name these pages in %1",r);return n.default.createElement(n.Fragment,null,n.default.createElement("div",{className:"ml-modal"},n.default.createElement("div",{className:"ml-modal__header"},n.default.createElement("button",{className:"ml-modal__back-button",onClick:this.onBackClick},n.default.createElement("span",null,a)),this.props.language.siteLanguagePagesAdding?n.default.createElement("div",{className:"loader"}):n.default.createElement("button",{className:"ml-modal__done-button",onClick:this.onConfirm,disabled:this.state.buttonDisabled},s)),n.default.createElement("div",{className:"ml-modal__description--central"},n.default.createElement("div",{className:"ml-modal__title"},l)),n.default.createElement("div",{className:"ml-modal__content is-edit-title"},n.default.createElement("div",{className:"ml-modal__table-header"},n.default.createElement("span",{className:"plain-page-tree__header"},i),n.default.createElement("span",{className:"edit-page-tree__header"},r)),n.default.createElement("div",{className:"ml-modal__table-content"},n.default.createElement("div",{className:"plain-page-tree"},n.default.createElement(u.default,{selectedPages:this.props.language.pages,pages:this.props.page.pages})),n.default.createElement("div",{className:"edit-page-tree"},n.default.createElement(c.default,{activeLanguage:r,selectedPages:this.props.language.pages,pages:this.props.page.pages,onPageTitleChange:this.onPageTitleChange}))))),n.default.createElement("div",{className:"ml-modal__overlay"}))}}]);return r}(n.Component);L.propTypes={language:i.default.object.isRequired,page:i.default.object.isRequired,openPagesSelector:i.default.func.isRequired,removeSelectedPages:i.default.func.isRequired,addSiteLanguagePages:i.default.func.isRequired,openAddLanguageDone:i.default.func.isRequired,tracker:i.default.object.isRequired,env:i.default.object.isRequired};var R=function e(t){var r=t.language,n=t.page,i=t.env;return{language:r,page:n,env:i}};var I=function e(t){return{openPagesSelector:function e(){return t((0,l.openPagesSelector)())},removeSelectedPages:function e(){return t((0,d.removeSelectedPages)())},addSiteLanguagePages:function e(r){return t((0,d.addSiteLanguagePages)(r))},openAddLanguageDone:function e(){return t((0,l.openAddLanguageDone)())}}};var x=(0,a.connect)(R,I)(L);t["default"]=x},5042:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=p(r(79440));var a=d(r(76660));var o=r(65074);var s=d(r(7771));var l=d(r(1600));var u=r(81798);var c=r(79148);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(f=function e(n){return n?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function y(e,t,r){t&&m(e.prototype,t);r&&m(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return w(e,t)}function _(e){var t=P();return function r(){var n=k(e),i;if(t){var a=k(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}function S(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}function C(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var O=function(e){b(r,e);var t=_(r);function r(e){var n;v(this,r);n=t.call(this,e);C(E(n),"onBackClick",(function(e){e.preventDefault();n.goBack()}));C(E(n),"goBack",(function(){n.props.openAddLanguage()}));C(E(n),"onConfirm",(function(e){e.preventDefault();var t=n.state.selectedPages;n.state.selectAllPages&&(t=n.getAllPagesRefs());n.props.addSelectedPages({pages:t});n.openPageTitleEdit()}));C(E(n),"getAllPagesRefs",(function(){var e=n.props.page.pages;var t={};e.forEach((function(e){if("home"===e.type||"index"===e.type||"page"===e.type)t[e.ref]=e.ref;else if("folder"===e.type){var r={};e.subPages.forEach((function(e){r[e.ref]=e.ref}));t[e.ref]=r}}));return t}));C(E(n),"openPageTitleEdit",(function(){n.props.openPageTitleEdit()}));C(E(n),"onPageSelected",(function(e){n.updateSelectedPages(e.target.value,e.target.checked)}));C(E(n),"onFolderSelectionChange",(function(e,t){n.setState((function(r){var n=r.selectedPages;Object.keys(t).length>0?n=h(h({},r.selectedPages),C({},e,t)):delete r.selectedPages[e];return{selectedPages:n}}))}));C(E(n),"updateSelectedPages",(function(e,t){n.setState((function(r){t?r.selectedPages[e]=e:delete r.selectedPages[e];return{selectedPages:r.selectedPages}}))}));C(E(n),"onSelectionMethodChange",(function(e){n.setState({selectAllPages:"all"===e.target.value})}));n.state={selectAllPages:false,selectedPages:{}};return n}y(r,[{key:"componentDidMount",value:function e(){var t=this.props.page.pages.find((function(e){return"home"===e.type}));this.setState({selectedPages:C({},t.ref,t.ref)})}},{key:"render",value:function e(){var t=(0,s.default)("shared_views.ml.add_language","Add language");var r=(0,s.default)("shared_views.ml.next","Next");var n=this.props.env.languages[this.props.language.activeLanguage];var a=(0,s.default)("shared_views.ml.choose_page","Choose pages for %1",n);var o=(0,s.default)("shared_views.ml.choose_page_mesg","Which pages would you like to copy for later translation?");var u=(0,s.default)("shared_views.ml.choose_page_custom","Let me pick which pages");var c=(0,s.default)("shared_views.ml.choose_page_all","All pages");var d=(0,s.default)("shared_views.ml.clone","Clone");return i.default.createElement(i.Fragment,null,i.default.createElement("div",{className:"ml-modal"},i.default.createElement("div",{className:"ml-modal__header"},i.default.createElement("button",{className:"ml-modal__back-button",onClick:this.onBackClick},i.default.createElement("span",null,t)),i.default.createElement("button",{className:"ml-modal__done-button",onClick:this.onConfirm},r)),i.default.createElement("div",{className:"ml-modal__content"},i.default.createElement("div",{className:"ml-modal__content-left"},i.default.createElement("div",{className:"ml-modal__description"},i.default.createElement("div",{className:"ml-modal__title"},a),i.default.createElement("div",{className:"ml-modal__subtitle"},o))),i.default.createElement("div",{className:"ml-modal__content-right"},i.default.createElement("div",{className:"pretty-select ml-modal__control"},i.default.createElement("label",{className:"ml-modal__control-label"},d),i.default.createElement("select",{id:"pagesSelectionMethod",className:"pretty-select__select ml-modal__select",onChange:this.onSelectionMethodChange},i.default.createElement("option",{value:"custom",key:"custom"},u),i.default.createElement("option",{value:"all",key:"all"},c))),i.default.createElement("div",{className:"ml-modal__card-wrapper"},i.default.createElement("div",{className:"ml-modal__card"},i.default.createElement(l.default,{selectAllPages:this.state.selectAllPages,pages:this.props.page.pages,onFolderSelectionChange:this.onFolderSelectionChange,onPageSelected:this.onPageSelected})))))),i.default.createElement("div",{className:"ml-modal__overlay"}))}}]);return r}(i.Component);O.propTypes={language:a.default.object.isRequired,page:a.default.object.isRequired,openAddLanguage:a.default.func.isRequired,addSelectedPages:a.default.func.isRequired,openPageTitleEdit:a.default.func.isRequired,env:a.default.object.isRequired};var T=function e(t){var r=t.language,n=t.env,i=t.page;return{language:r,env:n,page:i}};var A=function e(t){return{openAddLanguage:function e(){return t((0,u.openAddLanguage)())},addSelectedPages:function e(r){return t((0,c.addSelectedPages)(r))},openPageTitleEdit:function e(){return t((0,u.openPageTitleEdit)())}}};var j=(0,o.connect)(T,A)(O);t["default"]=j},82637:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(79440));var i=o(r(76660));var a=o(r(7771));function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var r=t.dialogTitle,i=t.confirmButtonText,o=t.deleteCancel,s=t.deleteConfirm;return n.default.createElement("div",{className:"dialog"},n.default.createElement("div",{className:"dialog__backstop"}),n.default.createElement("div",{className:"dialog__surface"},n.default.createElement("div",{className:"dialog__header"},n.default.createElement("h2",{className:"dialog__header-title"},r),n.default.createElement("button",{className:"dialog__header-close",type:"button",onClick:o},n.default.createElement("span",null,"Close"))),n.default.createElement("div",{className:"dialog__content dialog__content--center"},n.default.createElement("div",{className:"dialog__information"},n.default.createElement("p",null,(0,a.default)("editor.dialog.delete_language.message_warning","Deleting a language will remove all the pages associated with that language.")),n.default.createElement("p",null,(0,a.default)("editor.dialog.delete_language.message_warning_question","Are you sure you wish to delete this language?"))),n.default.createElement("div",{className:"dialog__controls"},n.default.createElement("button",{type:"button",className:"button--outline deletion-popup__confirm-button",onClick:s},i),n.default.createElement("button",{type:"button",className:"button--outline deletion-popup__cancel-button",onClick:o},(0,a.default)("editor.dialog.footer.cancel","Cancel"))))))};s.propTypes={dialogTitle:i.default.string.isRequired,deleteCancel:i.default.func.isRequired,deleteConfirm:i.default.func.isRequired,confirmButtonText:i.default.string.isRequired};var l=s;t["default"]=l},47722:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(79440));var i=a(r(76660));function a(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var r=t.page,i=t.onPageTitleChange,a=t.activeLanguage;return n.default.createElement("div",{className:"edit-page-tree__page"},n.default.createElement("div",{className:"edit-page-tree__pagetitle"},r.title),n.default.createElement("input",{autoFocus:"home"===r.type,className:"edit-page-tree__input",placeholder:r.title,key:r.ref,"data-pageid":r.ref,spellCheck:"false",autoCorrect:"off",onChange:i}),n.default.createElement("label",{className:"edit-page-tree__label"},a))};o.propTypes={page:i.default.object.isRequired,onPageTitleChange:i.default.func.isRequired,activeLanguage:i.default.string};var s=o;t["default"]=s},75144:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=u(r(79440));var a=s(r(76660));var o=s(r(47722));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(l=function e(n){return n?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}var c=function e(t){var r=t.selectedPages,n=t.pages,a=t.onPageTitleChange,s=t.activeLanguage;var l=n.map((function(e,t){if(("page"===e.type||"index"===e.type||"home"===e.type)&&r[e.ref])return i.default.createElement(o.default,{key:e.ref,page:e,isFolder:null,onPageTitleChange:a,activeLanguage:s});if("folder"===e.type&&r[e.ref])return i.default.createElement(i.Fragment,{key:t},i.default.createElement(o.default,{key:e.ref,page:e,onPageTitleChange:a,activeLanguage:s}),e.subPages.map((function(t){if(r[e.ref][t.ref])return i.default.createElement(o.default,{key:t.ref,page:t,onPageTitleChange:a,activeLanguage:s});return null})));return null}));return i.default.createElement(i.Fragment,null,l)};c.propTypes={selectedPages:a.default.object.isRequired,activeLanguage:a.default.string,onPageTitleChange:a.default.func.isRequired,pages:a.default.array.isRequired};var d=c;t["default"]=d},24874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(79440));var i=o(r(76660));var a=o(r(7771));function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var r=t.addCancel,i=t.upgradeUrl,o=t.content,s=t.hideUpgradeInUnableToPublish;return n.default.createElement("div",{className:"ml-warning"},n.default.createElement("div",{className:"ml-warning__backstop"}),n.default.createElement("div",{className:"ml-warning__surface"},n.default.createElement("div",{className:"ml-warning__header"},n.default.createElement("h2",{className:"ml-warning__header-title"},(0,a.default)("editor.dialog.language_limit_title","Language limit reached")),n.default.createElement("button",{className:"ml-warning__header-close",type:"button",onClick:r},n.default.createElement("span",null,"Close"))),n.default.createElement("div",{className:"ml-warning__content"},n.default.createElement("div",{className:"ml-warning__information"},n.default.createElement("p",null,o),n.default.createElement("div",{className:"ml-warning__actions"},!s&&n.default.createElement("a",{className:"button--primary ml-warning__actions--primary",href:i},(0,a.default)("shared_views.cannotpublish.upgrade_options","Upgrade options")),n.default.createElement("button",{className:"button--outline ml-warning__action--secondary",onClick:r,type:"button"},(0,a.default)("editor.dialog.footer.cancel","Cancel")))))))};s.propTypes={addCancel:i.default.func.isRequired,upgradeUrl:i.default.string,content:i.default.string.isRequired,hideUpgradeInUnableToPublish:i.default.bool.isRequired};var l=s;t["default"]=l},52398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(79440));var i=a(r(76660));function a(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var r=t.localisedName,i=t.languageFlag,a=t.languageSelected,o=t.language,s=t.currentLanguageCode;var l="ml-list__language-item\n        language-selector__icon\n        language-selector__icon--".concat(i);s===o&&(l="".concat(l," is-current-lang"));return n.default.createElement("li",{className:l,"data-lang":o,title:r,onClick:a},n.default.createElement("span",{"data-lang":o},r))};o.propTypes={language:i.default.string.isRequired,localisedName:i.default.string.isRequired,languageFlag:i.default.string.isRequired,languageSelected:i.default.func.isRequired,currentLanguageCode:i.default.string.isRequired};var s=o;t["default"]=s},67925:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(79440));var i=o(r(76660));var a=o(r(7771));function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var r=Object.keys(t.allLanguages).map((function(e){return n.default.createElement("option",{value:e,key:e},t.allLanguages[e]," | ",t.localisedLanguages[e])}));var i=(0,a.default)("shared_views.ml.select_a_language","Select a language");return n.default.createElement("div",{className:"pretty-select ml-modal__control ml-modal__control--central"},n.default.createElement("select",{id:"lanuage-selector",className:"pretty-select__select ml-modal__select",onChange:t.languageSelected,defaultValue:t.activeLanguageCode||t.userLanguage},n.default.createElement("option",{value:""},i),r))};s.propTypes={languageSelected:i.default.func.isRequired,activeLanguageCode:i.default.string,allLanguages:i.default.object.isRequired,localisedLanguages:i.default.object.isRequired,userLanguage:i.default.string};var l=s;t["default"]=l},87538:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=u(r(79440));var a=s(r(76660));var o=s(r(7771));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(l=function e(n){return n?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}var c=function e(t){var r=t.isDefaultLanguage,n=t.localisedName,a=t.languageCode,s=t.onDelete,l=t.onOffline,u=t.onOptionsClicked,c=t.openOptionsFor,d=t.active;var f=(0,o.default)("shared_views.language_panel.default","default");var p=r?"".concat(n," (").concat(f,")"):n;var g=d&&"1"===d?(0,o.default)("shared_views.language_panel.take_offline","Take offline"):(0,o.default)("shared_views.language_panel.take_online","Take online");var h=(0,o.default)("shared_views.language_panel.offline","Offline");var v=(0,o.default)("shared_views.language_panel.online","Online");var m=(0,o.default)("shared_views.language_panel.delete","Delete");var y="pages-tree__title pages-tree__title--flex pages-tree__title--not-selectable";return i.default.createElement("div",{className:"pages-tree"},i.default.createElement("div",{className:y},i.default.createElement("span",{className:"text text--flex text--bolder",title:p},p),d&&"1"!==d?i.default.createElement("span",{className:"pages-tree__flex-offline"},h):i.default.createElement("span",{className:"pages-tree__flex-online"},v)),!r&&i.default.createElement(i.Fragment,null,i.default.createElement("button",{className:"pages-panel__deletion-button","aria-controls":"language-".concat(a,"-deletion"),value:a,"data-localisedname":n,title:m,type:"button",onClick:s},i.default.createElement("span",null,m)),i.default.createElement("button",{className:"pages-panel__options-button","aria-controls":"language-".concat(a,"-options"),value:a,type:"button",onClick:u},i.default.createElement("span",null,"Options")),c===a?i.default.createElement("ol",{className:"dropdown-menu pages-panel__options","data-ref":"language-".concat(a,"-options")},i.default.createElement("li",{className:"dropdown-menu__item"},i.default.createElement("button",{className:"dropdown-menu__control",title:g,value:a,"data-active":d,type:"button",onClick:l},g))):null))};c.propTypes={localisedName:a.default.string.isRequired,isDefaultLanguage:a.default.bool,languageCode:a.default.string.isRequired,openOptionsFor:a.default.string.isRequired,onOffline:a.default.func.isRequired,onDelete:a.default.func.isRequired,onOptionsClicked:a.default.func.isRequired,active:a.default.string};var d=c;t["default"]=d},58421:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=l(r(79440));var a=o(r(76660));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(s=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(i,o,l):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}var u=function e(t){var r=t.selectedPages,n=t.pages;var a=n.map((function(e){if(("page"===e.type||"index"===e.type||"home"===e.type)&&r[e.ref])return i.default.createElement("div",{className:"plain-page-tree__page",value:e.ref,key:e.ref},e.title);if("folder"===e.type&&r[e.ref])return i.default.createElement("div",{value:e.ref,key:e.ref,className:"plain-page-tree__folder"},i.default.createElement("span",null,e.title),e.subPages.map((function(t){if("index"===t.type||r[e.ref][t.ref])return i.default.createElement("div",{className:"plain-page-tree__page in-folder",value:t.title,key:t.ref},t.title);return null})));return null}));return i.default.createElement(i.Fragment,null,a)};u.propTypes={selectedPages:a.default.object.isRequired,pages:a.default.array.isRequired};var c=u;t["default"]=c},82746:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=c(r(79440));var a=l(r(76660));var o=l(r(98279));var s=l(r(1720));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(u=function e(n){return n?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function d(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){d(a,n,i,o,s,"next",e)}function s(e){d(a,n,i,o,s,"throw",e)}o(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function h(e,t,r){t&&g(e.prototype,t);r&&g(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return m(e,t)}function y(e){var t=_();return function r(){var n=S(e),i;if(t){var a=S(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return b(this,i)}}function b(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}function E(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var P=function(e){v(r,e);var t=y(r);function r(){var e;p(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];e=t.call.apply(t,[this].concat(a));E(w(e),"state",{folderSelected:false,checkFolder:false,checkIndex:false,defaultChecked:false,subpages:[],selectedPages:{}});E(w(e),"componentDidMount",(function(){e.setState({subpages:e.props.folder.subPages})}));E(w(e),"onFolderChange",function(){var t=f(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function t(n){while(1)switch(n.prev=n.next){case 0:e.setState({folderSelected:r.target.checked});n.next=3;return e.props.folder.subPages.forEach((function(t){e.updateSelectedPages(t.ref,r.target.checked)}));case 3:e.notifyChange();case 4:case"end":return n.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());E(w(e),"onPageChange",function(){var t=f(regeneratorRuntime.mark((function t(r){var n,i,a;return regeneratorRuntime.wrap((function t(o){while(1)switch(o.prev=o.next){case 0:n=r.target.value;i=r.target.dataset.pagetype;a=e.state.subpages.find((function(e){return"index"===e.type}));"index"===i&&e.forceCheckFolder(r.target.checked);"page"===i&&r.target.checked&&e.forceCheckIndexAndFolder(a.ref,true);"page"!==i||r.target.checked||2!==Object.keys(e.state.selectedPages).length||e.forceCheckIndexAndFolder(a.ref,false);o.next=8;return e.updateSelectedPages(n,r.target.checked);case 8:e.notifyChange();case 9:case"end":return o.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());E(w(e),"forceCheckFolder",(function(t){e.setState({checkFolder:t})}));E(w(e),"forceCheckIndexAndFolder",(function(t,r){e.setState({checkIndex:r,checkFolder:r});e.updateSelectedPages(t,r)}));E(w(e),"updateSelectedPages",(function(t,r){e.setState((function(e){if(r){e.selectedPages[t]=t;return{selectedPages:e.selectedPages}}delete e.selectedPages[t];return{selectedPages:e.selectedPages}}))}));E(w(e),"notifyChange",(function(){var t=e.props.folder.ref;e.props.onFolderSelectionChange(t,e.state.selectedPages)}));E(w(e),"folderTree",(function(){var t=[];e.state.subpages.map((function(r){"page"!==r.type&&"index"!==r.type||("index"===r.type&&e.state.checkIndex||e.state.folderSelected?t.push(i.default.createElement(s.default,{page:r,key:r.ref})):t.push(i.default.createElement(o.default,{page:r,key:r.ref,onPageSelected:e.onPageChange})));return null}));return t}));return e}h(r,[{key:"render",value:function e(){var t=this.props.folder;return i.default.createElement("div",{className:"ml-modal__select-folder"},this.state.checkFolder?i.default.createElement(s.default,{page:t,key:t.ref}):i.default.createElement(o.default,{page:t,key:t.ref,onPageSelected:this.onFolderChange}),this.folderTree())}}]);return r}(i.Component);P.propTypes={folder:a.default.object,subPages:a.default.array,onFolderSelectionChange:a.default.func.isRequired};var k=P;t["default"]=k},98279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(79440));var i=a(r(76660));function a(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var r=t.page,i=t.onPageSelected;return n.default.createElement("div",{className:"ml-modal__select-page"},n.default.createElement("label",{className:"page-checkbox__container",title:r.title},n.default.createElement("input",{value:r.ref,type:"checkbox","data-pagetype":r.type,className:"page-checkbox__checkbox",onChange:i}),n.default.createElement("span",{className:"page-checkbox__text"},r.title),n.default.createElement("span",{className:"page-checkbox__checkmark"})))};o.propTypes={page:i.default.object.isRequired,onPageSelected:i.default.func.isRequired};var s=o;t["default"]=s},1600:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=d(r(79440));var a=u(r(76660));var o=u(r(98279));var s=u(r(1720));var l=u(r(82746));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(c=function e(n){return n?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}var f=function e(t){var r=t.pages.map((function(e){if("undefined"===typeof e.group&&"page"===e.type)return i.default.createElement(o.default,{page:e,key:e.ref,onPageSelected:t.onPageSelected});if("home"===e.type)return i.default.createElement(s.default,{page:e,key:e.ref});if("folder"===e.type)return i.default.createElement(l.default,{folder:e,key:e.ref,onFolderSelectionChange:t.onFolderSelectionChange,onPageSelected:t.onPageSelected});return null}));var n=t.pages.map((function(e){if("undefined"===typeof e.group&&("page"===e.type||"home"===e.type))return i.default.createElement(s.default,{page:e,key:e.ref});if("folder"===e.type)return i.default.createElement("div",{className:"ml-modal__select-folder",key:e.ref},i.default.createElement(s.default,{page:e,key:e.ref}),e.subPages.map((function(e){return i.default.createElement(s.default,{page:e,key:e.ref})})));return null}));return i.default.createElement(i.Fragment,null,t.selectAllPages?n:r)};f.propTypes={pages:a.default.array.isRequired,onPageSelected:a.default.func.isRequired,onFolderSelectionChange:a.default.func.isRequired,selectAllPages:a.default.bool.isRequired};var p=f;t["default"]=p},1720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(79440));var i=a(r(76660));function a(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var r=t.page;return n.default.createElement("div",{className:"ml-modal__select-page"},n.default.createElement("label",{className:"page-checkbox__container is-disabled",title:r.title},n.default.createElement("input",{value:r.ref,type:"checkbox",className:"page-checkbox__checkbox",checked:true,disabled:true}),n.default.createElement("span",{className:"page-checkbox__text"},r.title),n.default.createElement("span",{className:"page-checkbox__checkmark"})))};o.propTypes={page:i.default.object.isRequired};var s=o;t["default"]=s},52784:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={events:{"click .js-backstop":"mixinClosePanel","click .js-back":"mixinClosePanel"},initialize:function e(){},mixinRenderTpl:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r=Twig.render(Twig.templates[this.template],this.tplData);this.$el.empty().append(r);if(t.refresh)return;this.moveToBody()},moveToBody:function e(){var t=this.$el.appendTo("body");this.setElement(t);"function"===typeof this.postRender&&this.postRender()},mixinClosePanel:function e(){var t=new Event("panel:close");document.dispatchEvent(t);this.trigger("close");this.destroy()}};var n=r;t["default"]=n},62010:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({el:".js-notification-center",events:{"click .js-notification-tab-control-new":"showUnreadTab","click .js-notification-tab-control-read":"showReadTab","click .js-reveal-notification-center":"toggleOpenState","click .js-notification-item":"track"},initialize:function e(t){this.tracker=t.tracker;this.el&&this.cacheElements()},track:function e(t){var r=t.currentTarget.href;t.preventDefault();t.stopPropagation();this.tracker.track("Notifications link action");setTimeout((function(){document.location=r}),500);return false},cacheElements:function e(){this.elementCache={unreadTab:this.el.querySelector(".js-notification-tab-control-new"),unreadBody:this.el.querySelector(".js-notification-center-tab-new"),readTab:this.el.querySelector(".js-notification-tab-control-read"),readBody:this.el.querySelector(".js-notification-center-tab-read")}},showUnreadTab:function e(){this.elementCache.unreadTab.classList.add("is-selected");this.elementCache.unreadBody.removeAttribute("hidden");this.elementCache.readTab.classList.remove("is-selected");this.elementCache.readBody.setAttribute("hidden",true)},showReadTab:function e(){this.elementCache.readTab.classList.add("is-selected");this.elementCache.readBody.removeAttribute("hidden");this.elementCache.unreadTab.classList.remove("is-selected");this.elementCache.unreadBody.setAttribute("hidden",true)},toggleOpenState:function e(){this.el.classList.toggle("is-open");this.isOpen()&&this.tracker.track("Notifications open action")},isOpen:function e(){return this.el.classList.contains("is-open")}});var n=r;t["default"]=n},37970:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(52784));var i=a(r(2190));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageTypes,n=void 0===r?{}:r,i=t.envDataProvider,a=void 0===i?{}:i,s=t.tracker,l=void 0===s?{}:s,u=t.siteDataProvider,c=void 0===u?{}:u,d=t.featureFlagDataProvider,f=void 0===d?{}:d,p=t.serverVars,g=void 0===p?{}:p;o(this,e);this.pageTypes=n;this.envDataProvider=a;this.siteDataProvider=c;this.tracker=l;this.featureFlagDataProvider=f;this.serverVars=g;return this}l(e,[{key:"build",value:function e(t){Cocktail.mixin(i.default,n.default);return new i.default({selectedLanguage:t,pageTypes:this.pageTypes,envDataProvider:this.envDataProvider,tracker:this.tracker,siteDataProvider:this.siteDataProvider,featureFlagDataProvider:this.featureFlagDataProvider,serverVars:this.serverVars})}}]);return e}();var c=u;t["default"]=c},2190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=f(r(248));var i=r(19999);var a=r(3786);var o=r(79148);var s=f(r(97));var l=f(r(7771));var u=f(r(73471));var c=r(94014);var d=r(42316);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return m(e)||v(e)||h(e)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){if(Array.isArray(e))return y(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){b(a,n,i,o,s,"next",e)}function s(e){b(a,n,i,o,s,"throw",e)}o(void 0)}))}}function _(){return(0,u.default)().get("pageRef")}function S(e,t,r){return E.apply(this,arguments)}function E(){E=w(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",window.fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":r},method:"POST",body:JSON.stringify(n)}));case 1:case"end":return i.stop()}}),e)})));return E.apply(this,arguments)}var P=Marionette.ItemView.extend({template:"page_add_panel",events:{"click .js-type":"onTypeChange","input input":"onChange","change input,select":"onChange","click .js-done":"onDoneClicked","change .js-new-page-language":"onLanguageChanged","click .js-page-password-protect":"onPasswordProtectToggled"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageTypes,i=void 0===r?{}:r,a=t.envDataProvider,o=void 0===a?{}:a,s=t.tracker,l=void 0===s?{}:s,u=t.siteDataProvider,c=void 0===u?{}:u,d=t.selectedLanguage,f=void 0===d?null:d,p=t.featureFlagDataProvider,g=void 0===p?{}:p,h=t.serverVars,v=void 0===h?{}:h;this.getPages();this.pageTypes=i;this.envDataProvider=o;this.tracker=l;this.siteDataProvider=c;this.selectedLanguage=f;this.featureFlagDataProvider=g;this.store=n.default;this.serverVars=v;this.tplData={pageTypes:this.getPageTypesData(),foldersData:this.getFoldersData(this.selectedLanguage),siteLanguages:this.siteDataProvider.getSiteLanguages(),siteDefaultLanguage:this.siteDataProvider.getDefaultLanguage(),localisedLanguages:this.envDataProvider.get("localisedLanguages"),languages:this.envDataProvider.get("languages"),lightBackground:true,selectedLanguage:this.selectedLanguage,rowsEnabled:this.featureFlagDataProvider.get("enableRows")};this.render()},getPages:function e(){var t=BaseKit.Globals.pages;0===t.length&&(t=(0,d.fromPageTree)(App.pageTree));this.pages=t},getApiProxyBaseUrl:function e(){return this.envDataProvider.get("apiProxyBaseUrl")},getCsrfToken:function e(){return this.serverVars.getBundle("session").get("csrfToken")},getSiteRef:function e(){return this.envDataProvider.get("siteRef")},render:function e(){"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl()},postRender:function e(){this.onPasswordProtectToggled()},onLanguageChanged:function e(t){var r=t.currentTarget.value;this.filterFolders(r)},filterFolders:function e(t){var r=this.getFoldersData(t);var n=this.el.querySelector(".js-new-page-location");while(n.firstChild)n.removeChild(n.firstChild);r.forEach((function(e){var t=document.createElement("option");t.textContent=e.text;t.setAttribute("value",e.value);n.appendChild(t)}))},getPageTypesData:function e(){var t=[{name:"default",title:(0,l.default)("shared_views.addpageorfolderpanel.page-type-default","Default")},{name:"clone",title:(0,l.default)("shared_views.addpageorfolderpanel.page-type-clone","Clone current page")}];this.pageTypes.forEach((function(e){t.push({name:e.name,title:(0,l.default)("shared_views.addpageorfolderpanel.page-type-".concat(e.name),e.title)})}));return t},getFoldersData:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var r=this.siteDataProvider.getDefaultLanguage();if(!t||""===t||t===r)return this.store.getState().page.folders;return this.store.getState().page.languages[t].folders},onPasswordProtectToggled:function e(){var t=this.el.querySelector(".js-input-username");var r=this.el.querySelector(".js-input-password");if(true===this.el.querySelector(".js-page-password-protect").checked){t.parentNode.removeAttribute("hidden");r.parentNode.removeAttribute("hidden")}else{t.parentNode.setAttribute("hidden","hidden");r.parentNode.setAttribute("hidden","hidden");t.value="";r.value=""}},onChange:function e(){this.clearError();if(this.saveBtnIsEnabled)return;this.enableSave()},enableSave:function e(){this.el.querySelector(".js-done").removeAttribute("disabled");this.saveBtnIsEnabled=true},onTypeChange:function e(t){this.onChange();var r=t.currentTarget.getAttribute("data-type");var n=this.el.querySelectorAll(".js-type");var i=this.el.querySelectorAll(".js-type-card");p(n).forEach((function(e){return e.classList.remove("is-selected")}));p(i).forEach((function(e){return e.setAttribute("hidden",true)}));t.currentTarget.classList.add("is-selected");this.showSelectedCardType(r)},showSelectedCardType:function e(t){this.el.querySelector('[data-card-type="'.concat(t,'"]')).removeAttribute("hidden")},onDoneClicked:function e(t){t.preventDefault();"folder"===this.el.querySelector(".js-type.is-selected").getAttribute("data-type")?this.createFolder():this.createPage();(0,c.openIntercom)()},hasDuplicateUrl:function e(t){var r=false;this.pages.models.forEach((function(e){e.get("request")!==t&&e.get("request")!=="".concat(t,"/")||(r=true)}));return r},buildUrl:function e(t){var r=t;var n=0;while(this.hasDuplicateUrl(r)){n+=1;r=t+n}return r},createPage:function e(){var t=this.el.querySelector(".js-template-type:checked")?this.el.querySelector(".js-template-type:checked").value:"default";var r=this.el.querySelector(".js-new-page-location")?parseInt(this.el.querySelector(".js-new-page-location").value,10):0;var n=_();var i=this.pages.get(_());var a=this.el.querySelector(".js-new-page-title").value;var o=this.el.querySelector(".js-new-page-language");var s=this.siteDataProvider.getDefaultLanguage();var u={siteRef:this.getSiteRef(),type:"page",pageUrl:a.replace(/\s+/g,"-").toLowerCase(),title:a,status:"active",folder:r||void 0};var c=null;var d=null;o&&o.value!==s&&(u.language=o.value);if(0===a.trim().length||"sitemap.xml"===u.pageTitle){c=(0,l.default)("shared_views.addpageorfolderpanel.errors_invalid-page-title","Invalid page title");this.el.querySelector(".js-page-title-error").textContent=c;return}if("clone"===t){d="".concat(this.getApiProxyBaseUrl(),"/sites/").concat(this.getSiteRef(),"/pages/").concat(n,"/clone");u.templateType=i.get("templateType")}else{d="".concat(this.getApiProxyBaseUrl(),"/sites/").concat(this.getSiteRef(),"/pages");u.templateType=t}u.pageUrl=this.buildUrl(u.pageUrl);this.apiCall({type:"page",data:u,url:d})},areHtmlValidatorsValid:function e(t){var r=true;for(var n=0;n<t.length;n++){if(!t[n].reportValidity||!t[n].checkValidity)continue;t[n].reportValidity();t[n].checkValidity()||(r=false)}return r},setJointCheckboxRequirement:function e(t,r){true===t.checked?r.setAttribute("required","required"):r.removeAttribute("required")},createFolder:function e(){var t="".concat(this.getApiProxyBaseUrl(),"/sites/").concat(this.getSiteRef(),"/pages");var r=this.el.querySelector(".js-new-folder-title").value;var n=this.el.querySelector(".js-new-folder-language");var i=true===this.el.querySelector(".js-page-password-protect").checked?1:0;var a=this.el.querySelector(".js-input-username");var o=this.el.querySelector(".js-input-password");var s=this.el.querySelector(".js-page-password-protect");var u=a.value;var c=o.value;this.setJointCheckboxRequirement(s,o);this.setJointCheckboxRequirement(s,a);if(!this.areHtmlValidatorsValid([a,o]))return;var d={siteRef:this.getSiteRef(),type:"folder",pageUrl:r.replace(/\s+/g,"-").toLowerCase(),title:r,status:"active",passwordEnabled:i,username:u,password:c};var f=null;n&&(d.language=n.value);if(0===r.trim().length){f=(0,l.default)("shared_views.addpageorfolderpanel.errors_invalid-folder-title","Invalid folder title");this.el.querySelector(".js-folder-title-error").textContent=f;return}d.pageUrl=this.buildUrl(d.pageUrl);this.apiCall({type:"folder",data:d,title:r,url:t})},apiCall:function e(){var t=arguments,r=this;return w(regeneratorRuntime.mark((function e(){var n,i,a,o,s,l,u,c,d,f,p,g,h,v,m;return regeneratorRuntime.wrap((function e(y){while(1)switch(y.prev=y.next){case 0:n=t.length>0&&void 0!==t[0]?t[0]:{},i=n.type,a=void 0===i?"page":i,o=n.url,s=void 0===o?void 0:o,l=n.data,u=void 0===l?{}:l,c=n.title,d=void 0===c?void 0:c;f=a;p=u;g=d;h="folder"===a&&p.passwordEnabled;y.prev=5;y.next=8;return S(s,r.getCsrfToken(),p);case 8:v=y.sent;if(!(200===v.status)){y.next=16;break}y.next=12;return v.json();case 12:m=y.sent;r.handleResponse({type:f,folderTitle:g,rsp:m,isPasswordProtected:h});y.next=17;break;case 16:401===v.status?Editor.Responsive.displaySessionTimeoutDialog():r.handleFetchError(v.status);case 17:y.next=22;break;case 19:y.prev=19;y.t0=y["catch"](5);r.handleFetchError(y.t0);case 22:case"end":return y.stop()}}),e,null,[[5,19]])})))()},handleResponse:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.type,i=void 0===n?"page":n,s=r.folderTitle,l=void 0===s?void 0:s,u=r.rsp,c=void 0===u?{}:u,d=r.isPasswordProtected,f=void 0!==d&&d;var p=c.page.ref;var g=c.page.language||"";var h="Editor add page";var v=[c.page];if("folder"===i){v=[{hiddenFromNavigation:0,ref:c.page.parentId,type:"folder",status:"active",request:c.page.request.replace("index",""),title:l,parentId:0,password_enabled:f},Object.assign(c.page,{parentTitle:l})];h="Editor add folder"}this.pages.add(v);v.forEach((function(e){return t.store.dispatch((0,a.addSinglePage)(e,g))}));g!==this.store.getState().language.current&&this.store.dispatch((0,o.changeLanguage)(g));this.afterSaved(p,g);this.tracker.track(h,"")},handleFetchError:function e(t){console.error("Error creating page: ".concat(t));(0,s.default)((0,l.default)("editor_v8.delete_row.error","Error"),(0,l.default)("shared_views.pagespanel.errors_creating-page","Unable to add page."),"error");this.closePanel()},afterSaved:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var n=r;""===r&&(n=this.siteDataProvider.getDefaultLanguage());this.closePanel();this.store.dispatch((0,i.closePanel)());this.trigger("page:added",{selectedLanguage:n,currentPageRef:t})},closePanel:function e(){this.destroy()},clearError:function e(){this.el.querySelector(".js-folder-title-error").textContent="";this.el.querySelector(".js-page-title-error").textContent=""}});var k=P;t["default"]=k},446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(52784));var i=a(r(51817));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.featureFlagDataProvider,n=void 0===r?{}:r,i=t.envDataProvider,a=void 0===i?{}:i,s=t.tracker,l=void 0===s?{}:s;o(this,e);this.featureFlagDataProvider=n;this.envDataProvider=a;this.tracker=l;return this}l(e,[{key:"build",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageModel,a=void 0===r?{}:r,o=t.selectedLanguage;Cocktail.mixin(i.default,n.default);return new i.default({model:a,selectedLanguage:o,featureFlagDataProvider:this.featureFlagDataProvider,envDataProvider:this.envDataProvider,tracker:this.tracker})}}]);return e}();var c=u;t["default"]=c},51817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(248));var i=o(r(7771));var a=r(3786);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){s(a,n,i,o,l,"next",e)}function l(e){s(a,n,i,o,l,"throw",e)}o(void 0)}))}}function u(e,t){var r=this;var n=true;var a="folder"===t?(0,i.default)("shared_views.addpageorfolderpanel.errors_invalid-folder-title","Invalid folder title"):(0,i.default)("shared_views.addpageorfolderpanel.errors_invalid-page-title","Invalid page title");var o={title:{selector:".js-page-title-error",message:a},pageUrl:{selector:".js-page-url-error",message:(0,i.default)("shared_views.addpageorfolderpanel.errors_invalid-page-url","Invalid page URL")}};Object.keys(o).forEach((function(t){if("undefined"!==typeof e[t]&&(0===e[t].trim().length||"sitemap.xml"===e[t])){r.el.querySelector(o[t].selector).textContent=o[t].message;n=false}}));return n}var c=Marionette.ItemView.extend({template:"page_edit_panel",events:{"click .js-done":"onDoneClicked","change input,select":"onChange","input input,textarea":"onChange","change .js-convert-home":"onConvertToHomeChanged","click .js-page-password-protect":"onPasswordProtectToggled"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.model,n=void 0===r?{}:r,i=t.selectedLanguage,a=void 0===i?null:i,o=t.featureFlagDataProvider,s=void 0===o?{}:o,l=t.envDataProvider,u=void 0===l?{}:l,c=t.tracker,d=void 0===c?{}:c;this.model=n;this.featureFlagDataProvider=s;this.envDataProvider=u;this.tracker=d;this.selectedLanguage=a;this.setTplData();this.render()},onPasswordProtectToggled:function e(){var t=this.el.querySelector(".js-input-username");var r=this.el.querySelector(".js-input-password");if(true===this.el.querySelector(".js-page-password-protect").checked){t.parentNode.removeAttribute("hidden");r.parentNode.removeAttribute("hidden")}else{t.parentNode.setAttribute("hidden","hidden");r.parentNode.setAttribute("hidden","hidden");t.value="";r.value=""}},setTplData:function e(){this.tplData=Object.assign(this.getModelData(),{folderData:this.getFoldersData(),lightBackground:true,rowsEnabled:this.featureFlagDataProvider.get("enableRows")})},render:function e(){"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl()},postRender:function e(){Backbone.Syphon.deserialize(this,this.getModelData());this.updateSyntheticFields()},updateSyntheticFields:function e(){var t=this.getModelData();"folder"===t.type&&(t.password_enabled?this.el.querySelector(".js-page-password-protect").checked=true:this.el.querySelector(".js-page-password-protect").checked=false)},getFoldersData:function e(){var t=n.default.getState();var r=t.language.current;if(r&&r!==t.language.defaultLanguage.language)return t.page.languages[r].folders;return t.page.folders},getModelData:function e(){var t=this.model.toJSON();if(0!==parseInt(this.model.get("parentId"),10)){var r=this.model.collection.get(this.model.get("parentId"));var n=r.get("request");t.request=t.request.replace(n,"")}this.selectedLanguage&&(t.request=t.request.replace("".concat(this.selectedLanguage,"/"),""));return t},closePanel:function e(){this.mixinClosePanel();this.destroy()},onChange:function e(){this.clearError();if(this.saveBtnIsEnabled)return;this.enableSave()},clearError:function e(){this.el.querySelector(".js-page-title-error")&&(this.el.querySelector(".js-page-title-error").textContent="");this.el.querySelector(".js-page-url-error")&&(this.el.querySelector(".js-page-url-error").textContent="")},enableSave:function e(){this.el.querySelector(".js-done").removeAttribute("disabled");this.saveBtnIsEnabled=true},areHtmlValidatorsValid:function e(t){var r=true;for(var n=0;n<t.length;n++){if(!t[n].reportValidity||!t[n].checkValidity)continue;t[n].reportValidity();t[n].checkValidity()||(r=false)}return r},setJointCheckboxRequirement:function e(t,r){true===t.checked?r.setAttribute("required","required"):r.removeAttribute("required")},onDoneClicked:function e(t){var r=this;return l(regeneratorRuntime.mark((function e(){var i,o,s,l,c,d,f,p,g,h;return regeneratorRuntime.wrap((function e(v){while(1)switch(v.prev=v.next){case 0:t.preventDefault();i=r.getUpdatedAttributes();o=r.model.get("language")||"";if(i){v.next=6;break}r.closePanel();return v.abrupt("return");case 6:if(u.call(r,i,r.model.get("type"))){v.next=8;break}return v.abrupt("return");case 8:s=r.el.querySelector(".js-input-username");l=r.el.querySelector(".js-input-password");c=r.el.querySelector(".js-page-password-protect");if(!(s&&l)){v.next=15;break}r.setJointCheckboxRequirement(c,s);if(r.areHtmlValidatorsValid([s,l])){v.next=15;break}return v.abrupt("return");case 15:d=r.envDataProvider.get("csrfToken");f=r.envDataProvider.get("apiProxyBaseUrl");p=r.envDataProvider.get("siteRef");g=r.model.get("ref");h="".concat(f,"/sites/").concat(p,"/pages/").concat(g);v.next=22;return n.default.dispatch((0,a.savePageChanges)(h,d,g,i,o));case 22:r.tracker.track([{tracker:"Mixpanel",event:"Update page SEO"},{tracker:"Intercom",event:"SEO update page"}],{id:r.model.id,keywords:r.model.get("keywords"),seo_title:r.model.get("seo_title"),description:r.model.get("description")});r.closePanel();r.trigger("page:updated",{selectedLanguage:o});case 25:case"end":return v.stop()}}),e)})))()},onConvertToHomeChanged:function e(){var t=this.el.querySelector(".js-convert-home").checked;var r=this.el.querySelector(".js-page-status");var n=this.el.querySelector(".js-folder");if(t){r.setAttribute("hidden",true);n.setAttribute("hidden",true)}else{r.removeAttribute("hidden");n.removeAttribute("hidden")}},getUpdatedAttributes:function e(){var t=null;var r=this.model.clone();r.set(Backbone.Syphon.serialize(this),{silent:true});t=r.changedAttributes();t.parentId&&parseInt(this.model.get("parentId"),10)!==parseInt(t.parentId,10)&&(t.folder=t.parentId);t.request&&(t.pageUrl=t.request);if(t.convertToHome&&1===parseInt(t.convertToHome,10)){t.type="home";t=_.omit(t,"convertToHome");t.status="active";t.folder=0;this.homePageChanged=true}return t}});var d=c;t["default"]=d},58966:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(248));var i=r(26225);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function d(e,t,r){t&&c(e.prototype,t);r&&c(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var f=new WeakMap;var p=function(){function e(t){u(this,e);f.set(this,s({},t));this.selectedLanguage=null}d(e,[{key:"setSelectedLanguage",value:function e(t){this.selectedLanguage=t}},{key:"clone",value:function e(t){return this.displayDialog(t).then(this.clonePage.bind(this))}},{key:"clonePage",value:function e(t){var r=t.result,n=r.page,i=r.pageLanguage,a=r.pageTitle;var o=f.get(this).envDataProvider;var s=o.get("apiProxyBaseUrl");var l=o.get("siteRef");var u=o.get("csrfToken");var c="".concat(s,"/sites/").concat(l,"/pages/").concat(n.ref,"/clone");var d={title:a,pageUrl:a.replace(/\s+/g,"-").toLowerCase(),status:"active",language:i};t.dialog.hide();return new Promise((function(e,t){window.fetch(c,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":u},method:"POST",body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(t){return e(t.page)})).catch(t)}))}},{key:"displayDialog",value:function e(t){n.default.dispatch((0,i.openModal)("clonePage"));var r=f.get(this).siteDataProvider;var a=f.get(this).envDataProvider;var o=r.getSiteLanguages();var s=r.getDefaultLanguage();var l=f.get(this).PageClonerDialogViewFactory;var u=a.get("languages");var c=a.get("localisedLanguages");var d=f.get(this).multiLanguageEditor;var p=this.selectedLanguage;var g=t.toJSON();var h=new l({multiLanguageEditor:d,siteLanguages:o,siteDefaultLanguage:s,languages:u,localisedLanguages:c,selectedLanguage:p,pageData:g});return h.build()}}]);return e}();t["default"]=p},96739:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var a=new WeakMap;var o=Backbone.View.extend({template:"page_clone_dialog",events:{"click .js-cancel":"cancel","click .js-clone":"clone","change .js-page-title":"enableButton","keyup .js-page-title":"checkForReturn"},initialize:function e(t){a.set(this,n({},t))},checkForReturn:function e(t){var r=t.keyCode;var n=this.el.querySelector(".js-clone");this.enableButton();false===n.hasAttribute("disabled")&&13===r&&this.clone()},enableButton:function e(){var t=this.el.querySelector(".js-page-title");var r=this.el.querySelector(".js-clone");""!==t.value?r.removeAttribute("disabled"):r.setAttribute("disabled","disabled")},clone:function e(){var t=this.el.querySelector(".js-page-title");var r=this.el.querySelector(".js-page-language");var n=t.value;var i=a.get(this).context.pageData;var o=null;r&&(o=r.value);this.trigger("dialog:resolve",{page:i,pageTitle:n,pageLanguage:o})},cancel:function e(){this.trigger("dialog:close")},render:function e(){var t=Twig.render(Twig.templates[this.template],a.get(this).context);var r=document.querySelectorAll(".js-dialog-contents");var n=r.item(r.length-1);n.insertAdjacentHTML("beforeend",t);this.el.querySelector(".js-page-title").focus()}});var s=o;t["default"]=s},31565:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(34543));var i=a(r(96739));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function d(e,t,r){t&&c(e.prototype,t);r&&c(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var f=new WeakMap;var p=function(){function e(t){u(this,e);f.set(this,s({},t))}d(e,[{key:"build",value:function e(){var t=f.get(this);var r=f.get(this).pageData;var a=new n.default({title:App.t("shared_components.addpageorfolderpanel.page_clone_dialog_title","Clone page '%1'",r.title),showSaveCancel:false,content:new i.default({context:t}),render:false});return a.render()}}]);return e}();var g=p;t["default"]=g},75424:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({idAttribute:"ref",urlRoot:function e(){return"".concat(App.session.get("apiProxyBaseUrl"),"/sites/").concat(this.getSiteRef(),"/pages/")},getSiteRef:function e(){return App.session.get("siteRef")},parse:function e(t){return t.page}});var n=r;t["default"]=n},28082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(30181));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(t){var r=t.envDataProvider,n=void 0===r?{}:r;a(this,e);this.envDataProvider=n}s(e,[{key:"build",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageModel,i=void 0===r?{}:r;return new n.default({pageRef:i.get("ref"),title:i.get("title"),envDataProvider:this.envDataProvider})}}]);return e}();var u=l;t["default"]=u},92993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=u(r(36354));var i=u(r(248));var a=u(r(97));var o=u(r(7771));var s=r(19999);var l=r(3786);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return JSON.stringify(e)===JSON.stringify(t)}var d=Marionette.ItemView.extend({template:"pages_advanced_reorder_panel",events:{"click .js-done":"onSaveClicked"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.language,n=void 0===r?null:r,a=t.pageTree,o=void 0===a?{}:a,l=t.pages,u=void 0===l?{}:l;this.language=n;this.pageTree=o;this.pages=u;this.setTplData();this.render();i.default.dispatch((0,s.openPanel)("reorder"));this.state=i.default.getState().page;this.unsubscribe=i.default.subscribe(this.handleStateChange.bind(this))},handleStateChange:function e(){if(!this.el){this.unsubscribe();return}var t=i.default.getState();t.ui.panel.saveActive?this.el.querySelector(".js-done").removeAttribute("disabled"):this.el.querySelector(".js-done").disabled="disabled";var r=t.page;if(c(this.state,r))return;if(r.pagesOrdering)return;this.state=r;if(this.state.pagesError&&this.state.pagesErrorDetails)if(401===r.pagesErrorDetails.status)Editor.Responsive.displaySessionTimeoutDialog();else{(0,a.default)((0,o.default)("editor_v8.delete_row.error","Error"),(0,o.default)("shared_views.pages-reorder.error","Error reordering pages"),"error");this.mixinClosePanel();this.destroy()}else{this.updateUI();(0,a.default)((0,o.default)("editor_v8.delete_row.success","Success"),(0,o.default)("shared_views.pages-reorder.saved","Page order updated"),"success")}},onDestroy:function e(){this.unsubscribe()},setTplData:function e(){this.tplData={pages:this.pageTree,lightBackground:true}},render:function e(){"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl()},postRender:function e(){this.setupReorderEvents()},setupReorderEvents:function e(){var t=this;this.setupTopLevelReorderEvents();var r=this.el.querySelectorAll(".js-sortable-folder");Array.prototype.forEach.call(r,(function(e){t.setupFolderSubpagesReorderEvents(e)}))},setupTopLevelReorderEvents:function e(){var t=this;var r=this.el.querySelector(".js-top-level");var i={ghostClass:"is-item-ghost",group:"reorder",animation:150,draggable:".js-draggable",handle:".js-drag-handle",chosenClass:"is-drag-chosen",onMove:function e(r){var n=r.dragged;var i=r.related;n.classList.contains("is-folder-wrapper")&&t.collapseFolderNode(n);if(n.classList.contains("is-fixed-top-level")&&t.isMovingPageIntoFolder(i))return false;t.updatePagesInOrOutFolderUI(n,i);t.enableSaveBtn();return true},onEnd:function e(r){var n=r.item;n.classList.contains("is-folder-wrapper")&&t.reopenFolderNode(n)}};n.default.create(r,i)},setupFolderSubpagesReorderEvents:function e(t){var r=this;var i={ghostClass:"is-item-ghost",group:"reorder",animation:150,chosenClass:"is-drag-chosen",draggable:".js-draggable",handle:".js-drag-handle",onMove:function e(t){var n=t.dragged;var i=t.related;if(n.classList.contains("is-folder-index")){if(r.isMovingIntoTopLevel(i))return false;if(r.isMoveingIntoAnoterFolder(n,i))return false}r.updatePagesInOrOutFolderUI(n,i);r.enableSaveBtn();return true}};n.default.create(t,i)},collapseFolderNode:function e(t){t.querySelector(".js-sortable-folder").classList.add("is-collapsed")},reopenFolderNode:function e(t){t.querySelector(".js-sortable-folder").classList.remove("is-collapsed")},isMovingPageIntoFolder:function e(t){return t.parentNode.classList.contains("js-sortable-folder")},isMoveingIntoAnoterFolder:function e(t,r){return t.getAttribute("data-folder-ref")!==r.parentNode.getAttribute("data-folder-ref")},isMovingIntoTopLevel:function e(t){return!t.parentNode.classList.contains("js-sortable-folder")},updatePagesInOrOutFolderUI:function e(t,r){if(this.isMovingPageIntoFolder(r)){t.classList.remove("pages-tree");t.classList.add("pages-tree__folder-wrapper");t.classList.add("is-folder-draggable-item")}else{t.classList.remove("pages-tree__folder-wrapper");t.classList.remove("is-folder-draggable-item");t.classList.add("pages-tree")}},enableSaveBtn:function e(){i.default.dispatch((0,s.enableSave)())},onSaveClicked:function e(){var t=this.getNewOrder();this.updatePages(t)},getNewOrder:function e(){var t=[];var r=this.el.querySelector(".js-top-level").children;var n=0;Array.prototype.forEach.call(r,(function(e){var r=e.getAttribute("data-page-ref");n+=1;t.push([parseInt(r,10),n,0]);if(e.classList.contains("is-folder-wrapper")){var i=e.querySelectorAll(".js-draggable");Array.prototype.forEach.call(i,(function(e){var i=e.getAttribute("data-page-ref");n+=1;t.push([parseInt(i,10),n,parseInt(r,10)])}))}}));return t},updatePages:function e(t){var r={pagesOrder:t,language:this.language};i.default.dispatch((0,l.updateOrder)(r))},updateUI:function e(){this.notifyNewOrder();this.mixinClosePanel();this.destroy()},notifyNewOrder:function e(){this.trigger("page:order:changed",{fetch:true,selectedLanguage:this.language})}});var f=d;t["default"]=f},99328:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=c(r(248));var i=r(19999);var a=r(26225);var o=r(49236);var s=r(81798);var l=c(r(73471));var u=r(94014);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function p(e,t,r){t&&f(e.prototype,t);r&&f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.PagesPanelFactory,n=void 0===r?{}:r,i=t.AddPagePanelFactory,a=void 0===i?{}:i,o=t.EditPagePanelFactory,s=void 0===o?{}:o,l=t.PagesReorderPanelFactory,u=void 0===l?{}:l,c=t.SiteStylePanelFactory,f=void 0===c?{}:c,p=t.SiteScriptsFactory,g=void 0===p?{}:p,h=t.PageScriptsFactory,v=void 0===h?{}:h,m=t.SiteLanguageFactory,y=void 0===m?{}:m,b=t.languageListUIState,w=void 0===b?{}:b;d(this,e);this.PagesPanelFactory=n;this.AddPagePanelFactory=a;this.EditPagePanelFactory=s;this.PagesReorderPanelFactory=u;this.SiteStylePanelFactory=f;this.SiteScriptsFactory=g;this.PageScriptsFactory=v;this.SiteLanguageFactory=y;this.selectedLanguage=null;this.pageRef=null;this.event=Object.assign(this,Backbone.Events);this.languageListUIState=w;return this}p(e,[{key:"openPagesPanel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selectedLanguage&&(t.selectedLanguage=this.selectedLanguage);this.pageRef&&(t.currentPageRef=this.pageRef);this.pagesPanelView=this.PagesPanelFactory.build(t);this.attachPagesPanelEvents(this.pagesPanelView);n.default.dispatch((0,i.openPanel)("pagesPanel"))}},{key:"attachPagesPanelEvents",value:function e(t){this.event.listenTo(t,"open:re-order",this.openReorderPanel);this.event.listenTo(t,"open:add-page",this.openAddPagePanel);this.event.listenTo(t,"open:edit-page",this.openEditPagePanel);this.event.listenTo(t,"open:page-script",this.openPageScriptPanel);this.event.listenTo(t,"open:site-style-panel",this.openSiteStylePanel);this.event.listenTo(t,"open:site-scripts",this.openSiteScriptsPanel);this.event.listenTo(t,"open:site-languages",this.openSiteLanguagesPanel);this.event.listenTo(t,"change:language",this.languageChanged);this.event.listenTo(t,"open:language-dropdown",this.openLanguageDropdown);this.event.listenTo(t,"open:add-language",this.openAddLanguage);document.addEventListener("panel:close",this.panelClosed);this.event.listenTo(t,"close",this.close);Editor.Events.on("page:change",this.pageChanged);this.storeSubscribe()}},{key:"storeSubscribe",value:function e(){this.state=this.languageListUIState.get();this.languageListUIState.subscribe(this.handleStateChange.bind(this))}},{key:"handleStateChange",value:function e(t){if(t.showManageList===this.state.showManageList)return;t.showManageList&&!this.state.showManageList&&this.pagesPanelView&&this.pagesPanelView.el.setAttribute("hidden","hidden");t.showManageList||this.pagesPanelView&&this.pagesPanelView.el.removeAttribute("hidden");this.state=this.languageListUIState.get()}},{key:"panelClosed",value:function e(){n.default.dispatch((0,i.closeSubpanel)())}},{key:"close",value:function e(){document.removeEventListener("panel:close",this.panelClosed);n.default.dispatch((0,i.closePanel)());(0,u.openIntercom)()}},{key:"languageChanged",value:function e(t){this.selectedLanguage=t}},{key:"pageChanged",value:function e(t){this.pageRef=t.get("ref");(0,l.default)().set("pageRef",this.pageRef)}},{key:"openReorderPanel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.language,n=void 0===r?null:r,i=t.pageTree,a=void 0===i?{}:i;var o=this.PagesReorderPanelFactory.build({pageTree:a,language:n});this.attachReorderPanelEvents(o)}},{key:"attachReorderPanelEvents",value:function e(t){this.event.listenTo(t,"page:order:changed",this.updatePagesPanel)}},{key:"openAddPagePanel",value:function e(){var t=this.AddPagePanelFactory.build(this.selectedLanguage);this.attachAddPagePanelEvents(t);n.default.dispatch((0,i.openPanel)("addPage"));return t}},{key:"attachAddPagePanelEvents",value:function e(t){this.event.listenTo(t,"page:added",this.updatePagesPanel);this.event.listenTo(t,"close",this.onOverlayPanelClosed)}},{key:"onOverlayPanelClosed",value:function e(){this.pagesPanelView.showPanel()}},{key:"openEditPagePanel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.page,a=void 0===r?{}:r;var o=a;var s=this.EditPagePanelFactory.build({pageModel:o,selectedLanguage:this.selectedLanguage});this.attachEditPagePanelEvents(s);n.default.dispatch((0,i.openPanel)("editPage"));return s}},{key:"attachEditPagePanelEvents",value:function e(t){this.event.listenTo(t,"page:updated",this.updatePagesPanel);this.event.listenTo(t,"close",this.onOverlayPanelClosed)}},{key:"updatePagesPanel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.currentPageRef,n=void 0!==r&&r,i=t.fetch,a=void 0===i||i,o=t.pageTree,s=void 0===o?{}:o,l=t.selectedLanguage,u=void 0===l?null:l;this.pagesPanelView.updatePages({currentPageRef:n,fetch:a,pageTree:s,selectedLanguage:u})}},{key:"openPageScriptPanel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.page,o=void 0===r?{}:r;var s=o;var l=this.PageScriptsFactory.build({pageModel:s});if(this.pagesPanelView){this.pagesPanelView.closePanel();n.default.dispatch((0,i.closePanel)())}n.default.dispatch((0,i.closePanel)());n.default.dispatch((0,a.openModal)("pageScript"));return l}},{key:"openSiteStylePanel",value:function e(){this.SiteStylePanelFactory.build();if(this.pagesPanelView){this.pagesPanelView.closePanel();n.default.dispatch((0,i.closePanel)())}n.default.dispatch((0,i.openPanel)("siteStyle"))}},{key:"openSiteScriptsPanel",value:function e(){var t=this.SiteScriptsFactory.build();if(this.pagesPanelView){this.pagesPanelView.closePanel();n.default.dispatch((0,i.closePanel)())}n.default.dispatch((0,i.closePanel)());n.default.dispatch((0,a.openModal)("siteScripts"));return t}},{key:"openSiteLanguagesPanel",value:function e(){var t=this;var r=this.selectedLanguage;var a=this.SiteLanguageFactory.build({selectedLanguage:r});this.event.listenToOnce(a,"panel:closed, close",(function(){t.updatePagesPanel({selectedLanguage:t.selectedLanguage})}));n.default.dispatch((0,i.openPanel)("siteLanguages"))}},{key:"openLanguageDropdown",value:function e(){this.SiteLanguageFactory.initAddLanguage();n.default.dispatch((0,o.showLanguageList)())}},{key:"openAddLanguage",value:function e(){this.SiteLanguageFactory.initAddLanguage();n.default.dispatch((0,s.openAddLanguage)())}}]);return e}();var h=g;t["default"]=h},42316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;t.fromPageTree=f;t.getActiveLanguageInternalPages=c;t.getInternalPages=d;var n=r(52245);var i=r(73939);var a=s(r(248));var o=s(r(75424));function s(e){return e&&e.__esModule?e:{default:e}}var l=Backbone.Collection.extend({url:function e(){return"".concat(App.frontEndBucket.apiProxyBaseUrl,"/sites/").concat(this.getSiteRef(),"/pages")},model:o.default,initialize:function e(){},getSiteRef:function e(){return App.session.get("siteRef")},parse:function e(t){return t.pages},getPageTree:function e(){var t="/_/page-tree";var r=window.fetch(t,{credentials:"include",method:"GET"});return r},resetPageTree:function e(t){var r=(0,i.formatPages)(t);if((0,n.isEdge)()||(0,n.isIE)())return this.callResetIE(r);return this.reset(r)},callResetIE:function e(t){try{this.reset(t)}catch(e){console.log(e)}},addFromPageTree:function e(t){this.add((0,i.formatPages)(t))}});function u(e,t){var r=e.filter((function(e){return"".concat(e.ref)==="".concat(t)}));if(r.length)return r[0].title;return""}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t=e||a.default.getState();var r=t.language.current;var n=t.language.defaultLanguage.language;var i=t.page.pages;""!==r&&r!==n&&(i=t.page.languages[r].pages);return d(i)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var t=[];var r=["order-confirmation","blogpost","singleproduct"];(0,i.formatPages)(e).forEach((function(n){var i=null;var a=null;if(0!==parseInt(n.parentId,10)){i=parseInt(n.parentId,10);a=u(e,i)}"folder"!==n.type&&"active"===n.status&&-1===r.indexOf(n.request)&&t.push({text:a?"".concat(a," -> ").concat(n.title):n.title,value:"/".concat(n.request)})}));return t}function f(e){return new l((0,i.formatPages)(e))}BaseKit.Globals.Pages=l;var p=l;t["default"]=p},7843:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(52784));var i=a(r(44661));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pages,n=void 0===r?{}:r,i=t.envDataProvider,a=void 0===i?{}:i,s=t.userDataProvider,l=void 0===s?{}:s,u=t.siteDataProvider,c=void 0===u?{}:u,d=t.profile,f=void 0===d?{}:d,p=t.pageCloner,g=void 0===p?{}:p,h=t.featureFlagDataProvider,v=void 0===h?{}:h,m=t.languageState,y=void 0===m?{}:m;o(this,e);this.pages=n;this.envDataProvider=a;this.userDataProvider=l;this.siteDataProvider=c;this.profile=f;this.pageCloner=g;this.featureFlagDataProvider=v;this.languageState=y;return this}l(e,[{key:"build",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.fetch,a=void 0!==r&&r,o=t.selectedLanguage,s=void 0===o?null:o,l=t.currentPageRef,u=void 0===l?null:l;Cocktail.mixin(i.default,n.default);return new i.default({pageTree:this.siteDataProvider.get("pageTree"),siteLanguagesPageTree:this.siteDataProvider.get("siteLanguagesPageTree"),collection:this.pages,updatePages:a,envDataProvider:this.envDataProvider,userDataProvider:this.userDataProvider,siteDataProvider:this.siteDataProvider,profileModel:this.profile,multiLanguageEditor:this.featureFlagDataProvider.get("multiLanguageEditor"),localisedLanguages:this.envDataProvider.get("localisedLanguages"),languages:this.envDataProvider.get("languages"),selectedLanguage:s,currentPageRef:u,pageCloner:this.pageCloner,featureFlagDataProvider:this.featureFlagDataProvider,languageState:this.languageState})}}]);return e}();var c=u;t["default"]=c},44661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=v(r(248));var i=v(r(36354));var a=v(r(97));var o=v(r(7771));var s=r(19999);var l=r(26225);var u=r(3786);var c=r(79148);var d=v(r(69362));var f=v(r(73471));var p=v(r(63573));var g=v(r(51868));var h=r(94014);function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return S(e)||_(e,t)||b(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n=[];var i=true;var a=false;var o,s;try{for(r=r.call(e);!(i=(o=r.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;s=e}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw s}}return n}function S(e){if(Array.isArray(e))return e}function E(){return(0,f.default)().get("pageRef")}function P(e){n.default.dispatch((0,u.getPageTree)(e))}function k(e,t,r){var n="".concat(e,"/sites/").concat(t,"/languages");return new Promise((function(e,t){window.fetch(n,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":r},method:"GET"}).then((function(t){200===t.status&&t.json().then((function(t){e(t)}))})).catch(t)}))}function C(e){n.default.dispatch((0,u.getLanguagesPageTree)(e))}var O=Marionette.CompositeView.extend({template:"pages_panel",deleteDialogTemplate:"pages_panel_deletion_dialog",events:{"click .js-page-reorder":"onReorderClicked","click .js-add-page-folder":"onAddPageFolderClicked","click .js-option-button":"onOptionsClicked","click .js-edit-page":"onEditPageClicked","click .js-delete":"onDeletePageClicked","click .js-page-scripts":"onPageScriptClicked","click .js-page-title":"onPageClicked","click .js-site-styles":"openSiteStylePanel","click .js-site-scripts":"openSiteScriptsPanel","click .js-site-languages":"onSiteLanguagesClicked","click .js-v10-site-languages":"onV10SiteLanguageClicked","click .js-v10-add-site-languages":"onV10AddSiteLanguageClicked","change .js-language":"onSiteLanguageChange","click .js-clone":"onCloneClicked"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageTree,i=void 0===r?{}:r,a=t.siteLanguagesPageTree,o=void 0===a?{}:a,s=t.collection,l=void 0===s?{}:s,u=t.envDataProvider,c=void 0===u?{}:u,d=t.userDataProvider,f=void 0===d?{}:d,g=t.siteDataProvider,v=void 0===g?{}:g,m=t.updatePages,y=void 0!==m&&m,b=t.profileModel,w=void 0===b?{}:b,_=t.multiLanguageEditor,S=void 0!==_&&_,E=t.localisedLanguages,P=void 0===E?{}:E,k=t.languages,C=void 0===k?{}:k,O=t.selectedLanguage,T=void 0===O?null:O,A=t.pageRef,j=void 0===A?null:A,D=t.pageCloner,L=void 0===D?{}:D,R=t.featureFlagDataProvider,I=void 0===R?{}:R,x=t.languageState,M=void 0===x?{}:x;this.pageTree=i;this.siteLanguagesPageTree=o;this.collection=l;this.envDataProvider=c;this.userDataProvider=f;this.siteDataProvider=v;this.profileModel=w;this.multiLanguageEditor=S;this.languages=C;this.localisedLanguages=P;this.selectedLanguage=T;this.pageRef=j;this.pageCloner=L;this.featureFlagDataProvider=I;this.pageChanging=false;this.languageState=M;var V=n.default.getState().language.current;var N=n.default.getState().language.defaultLanguage.language;var F=V&&V!==N?"page.languages.".concat(V):"page";this.slice=new p.default({store:n.default,stateId:F});this.state=this.slice.get();this.slice.subscribe(this.handleStateChange.bind(this));y?this.updatePages({currentPageRef:j,selectedLanguage:T}):this.render();if(this.multiLanguageEditor){Editor.Events.off("siteframe:load").on("siteframe:load",this.updateToolbarPageTitle.bind(this));Editor.Events.off("language:deleted").on("language:deleted",this.checkDeletedLanguage.bind(this))}this.addProfileEvent(w);this.featureFlagDataProvider.get("enableRows")&&this.addLanguageSlice();(0,h.closeIntercom)()},addLanguageSlice:function e(){this.language=this.languageState.get();this.languageState.subscribe(this.handleLanguageChange.bind(this))},handleLanguageChange:function e(t){if((0,d.default)(this.language,t))return;if(this.language.current!==t.current){var r=t.current;this.changeSiteLanguage(r)}var n=this.language.siteLanguages.length;var i=t.siteLanguages.length;if(n!==i&&(0===i||0===n)){this.render();this.updateToolbarPageTitle();this.language=this.languageState.get()}},handleStateChange:function e(t){if((0,d.default)(this.state,t))return;var r=this.state;this.state=(0,g.default)(t);if(!(0,d.default)(this.state.pages,r.pages)){if(this.state.pagesError&&this.state.pagesErrorDetails)if(401===t.pagesErrorDetails.status)Editor.Responsive.displaySessionTimeoutDialog();else{(0,a.default)((0,o.default)("editor_v8.delete_row.error","Error"),(0,o.default)("shared_views.pages-reorder.error","Error reordering pages"),"error");this.mixinClosePanel();this.destroy()}else if(this.featureFlagDataProvider.get("enableRows")&&!this.state.pagesOrdering&&r.pagesOrdering){this.updatePagesCollection();(0,a.default)((0,o.default)("editor_v8.delete_row.success","Success"),(0,o.default)("shared_views.pages-reorder.saved","Page order updated"),"success")}else this.multiLanguageEditor||this.updatePagesCollection();this.render()}},buildTplData:function e(){var t=this.siteDataProvider.getDefaultLanguage();var r=n.default.getState().language.current||n.default.getState().language.defaultLanguage.language;var i=n.default.getState().language.siteLanguages;var a=this.selectedLanguage||t||"";var o=E();var s=this.getCurrentFolderRef();var l=n.default.getState().user.capabilities.enableStandaloneMode;this.tplData={pages:this.getPageTreeByLangCode(a),siteName:this.profileModel.get("business"),currentPageRef:o,currentFolderRef:s,currentPageTemplateType:this.getCurrentPageTemplateType(),disableV8SiteAndPageScripts:this.userDataProvider.has("disableV8SiteAndPageScripts"),rowsEnabled:this.featureFlagDataProvider.get("enableRows"),multiLanguageEditor:this.multiLanguageEditor,enableStandaloneMode:l,localisedLanguages:this.localisedLanguages,languages:this.languages,currentLanguageFlag:r?this.getFlags()[r.toLowerCase()]:null,currentLanguageCode:r,siteLanguages:i,defaultLanguage:t,selectedLanguage:a}},getPageTreeByLangCode:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===t||t===n.default.getState().language.defaultLanguage.language||0===n.default.getState().language.siteLanguages.filter((function(e){return e.language===t})).length)return n.default.getState().page.pages;return n.default.getState().page.languages[t].pages},getCurrentPageTemplateType:function e(){return this.getPageModel(E()).get("templateType")},getCurrentFolderRef:function e(){var t=this.getPageModel(E());if(t)return t.get("parentId");return 0},updatePages:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.currentPageRef,a=void 0!==i&&i,o=r.fetch,s=void 0===o||o,l=r.pageTree,u=void 0===l?{}:l,c=r.selectedLanguage,d=void 0===c?null:c;if(this.selectedLanguage&&this.selectedLanguage!==d){this.changeLanguage(d,a);return}this.selectedLanguage=d||n.default.getState().language.defaultLanguage.language;if(s){this.currentPageRef=a;this.updatePageTrees().then((function(){t.render();t.updateToolbarPageTitle()})).catch((function(e){return console.error(e)}))}else{this.pageTree=u;this.render();this.updateToolbarPageTitle()}},updatePageTrees:function e(){var t=this;return new Promise((function(e,r){var n=[];n.push(P(t.getCsrfToken()));if(t.multiLanguageEditor){n.push(C(t.getCsrfToken()));n.push(k(t.getApiProxyBaseUrl(),t.getSiteRef(),t.getCsrfToken()))}Promise.all(n).then((function(r){var n=m(r,2),i=n[0],a=n[1];"undefined"!==typeof i&&t.updateMultiLanguagePageTree(i);"undefined"!==typeof a&&t.updateSiteLanguages(a);e()})).catch(r)}))},updateMultiLanguagePageTree:function e(t){var r=this;try{this.siteLanguagesPageTree=t;Object.keys(this.siteLanguagesPageTree).forEach((function(e){BaseKit.Globals.pages.addFromPageTree(r.siteLanguagesPageTree[e].pages)}))}catch(e){console.error(e)}},updateSiteLanguages:function e(t){this.siteLanguages=t.siteLanguages},getCsrfToken:function e(){return this.envDataProvider.get("csrfToken")},getApiProxyBaseUrl:function e(){return this.envDataProvider.get("apiProxyBaseUrl")},getSiteRef:function e(){return this.envDataProvider.get("siteRef")},getFlags:function e(){return this.envDataProvider.get("flags")},render:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.pageChanging)return;this.buildTplData();"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl({refresh:t.refresh});this.deleteDialogIsOpen=false;Editor.Events.trigger("pagespanel:rendered")},postRender:function e(){this.trigger("change:language",this.selectedLanguage);if(this.currentPageRef){var t=this.el.querySelector('.js-page-title[data-ref="'.concat(this.currentPageRef,'"]'));t&&t.click()}this.attachFolderEvents();this.featureFlagDataProvider.get("enableRows")&&this.setupReorderEvents()},closePanel:function e(){n.default.dispatch((0,s.closePanel)());this.destroy()},onDestroy:function e(){this.slice.unsubscribe();this.featureFlagDataProvider.get("enableRows")&&this.languageState.unsubscribe()},checkDeletedLanguage:function e(t){var r=this.siteDataProvider.getDefaultLanguage();if(t!==this.selectedLanguage){this.render({refresh:true});return}this.changeLanguage(r)},onOptionsClicked:function e(t){var r=t.currentTarget.getAttribute("data-ref");var n=this.el.querySelector(".js-options[data-ref=".concat(r,"]"));if(n.classList.contains("is-open"))this.hideOptionDropdown(n);else{this.closeAllOptionsDropdown();this.showOptionDropdown(n)}},closeAllOptionsDropdown:function e(){var t=this;var r=this.el.querySelectorAll(".js-options");Array.prototype.forEach.call(r,(function(e){t.hideOptionDropdown(e)}))},showOptionDropdown:function e(t){t.removeAttribute("hidden");t.classList.add("is-open");this.positionOptionDropdown(t)},hideOptionDropdown:function e(t){t.setAttribute("hidden",true);t.classList.remove("is-open");if(this.featureFlagDataProvider.get("enableRows")){t.hasAttribute("style")&&t.removeAttribute("style");var r=this.el.querySelector(".js-nav-drawer__content");r.hasAttribute("style")&&r.removeAttribute("style")}},positionOptionDropdown:function e(t){if(!this.featureFlagDataProvider.get("enableRows"))return;var r=t.parentNode.getAttribute("data-ref");var n='.js-is-folder-draggable-item[data-page-ref="'.concat(r,'"]');var i=this.el.querySelector(n);var a=i&&i.hasAttribute("data-folder-ref")?i.getAttribute("data-folder-ref"):r;var o='.js-is-draggable-page[data-page-ref="'.concat(a,'"]');var s=this.el.querySelector(o);var l=0;i?l=s.offsetTop:i=s;var u=this.el.querySelector(".js-nav-drawer__inner");var c=u.offsetTop+l+i.offsetTop;var d=c+t.offsetTop+t.clientHeight;var f=this.el.querySelector(".js-nav-drawer__content");if(d>f.clientHeight+f.scrollTop){var p=t.parentNode.clientHeight-t.offsetTop-t.clientHeight;var g=c+p;if(g<0){var h=4;f.style.height="".concat(f.scrollHeight+h,"px")}else t.style.top="".concat(p,"px")}},onEditPageClicked:function e(t){this.hidePanel();var r=t.currentTarget.getAttribute("data-ref");var n=this.getPageModel(r);this.trigger("open:edit-page",{page:n});this.closeAllOptionsDropdown()},onReorderClicked:function e(){var t=this.selectedLanguage||this.defaultLanguage;var r=this.getPageTreeByLangCode(t);this.trigger("open:re-order",{language:t,pageTree:r})},onSiteLanguagesClicked:function e(){this.trigger("open:site-languages")},onAddPageFolderClicked:function e(){this.hidePanel();this.trigger("open:add-page")},hidePanel:function e(){if(this.featureFlagDataProvider.get("enableRows")){var t=this.el.querySelector(".js-pages-nav__surface");void 0!==t&&t.setAttribute("hidden",true)}},showPanel:function e(){if(this.featureFlagDataProvider.get("enableRows")){var t=this.el.querySelector(".js-pages-nav__surface");void 0!==t&&t.removeAttribute("hidden")}},onDeletePageClicked:function e(t){var r=t.currentTarget.getAttribute("data-ref");var i=this.getPageModel(r);var a=i.get("type");if(!this.deleteDialogIsOpen){this.openPageDeletionDialog({pageModel:i,pageType:a});this.deleteDialogIsOpen=true;n.default.dispatch((0,l.openModal)("deletePage"))}},deleteConfirmedBtnClicked:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageModel;this.hidePopup();if(this.isCurrentPage(r)||this.isCurrentFolder(r)){this.redirectToHome(r);(0,h.openIntercom)()}this.removePageFromDB(r)},removePageFromDB:function e(t){var r=n.default.getState().language.current;r&&r!==n.default.getState().language.defaultLanguage.language?n.default.dispatch((0,u.deleteLangPage)(t.get("ref"),r)):n.default.dispatch((0,u.deletePage)(t.get("ref")));t.destroy()},isCurrentPage:function e(t){var r=false;parseInt(E(),10)===parseInt(t.get("ref"),10)&&(r=true);return r},isCurrentFolder:function e(t){var r=false;var n=this.getPageModel(E());parseInt(n.get("parentId"),10)===parseInt(t.get("ref"),10)&&(r=true);return r},redirectToHome:function e(t){var r=t.get("language");var n=r?this.getLanguageHomePage(r):this.collection.findWhere({type:"home"});var i=r?n.ref:n.get("ref");var a=this.el.querySelector('.js-page-title[data-ref="'.concat(i,'"]'));a.click()},openPageDeletionDialog:function e(t){var r=this;var i=t.pageModel,a=t.pageType;n.default.dispatch((0,l.openModal)("deleteModal"));var o=Twig.render(Twig.templates[this.deleteDialogTemplate],{pageTitle:i.get("title"),deleteFolder:"folder"===a});$("body").append(o);var s=document.querySelectorAll(".js-close-popup");Array.prototype.forEach.call(s,(function(e){e.addEventListener("click",(function(){r.hidePopup()}))}));document.querySelector(".js-popup-bg").addEventListener("click",(function(){r.hidePopup()}));var u=document.querySelector(".js-delete-confirmed");u.addEventListener("click",(function(e){e.stopPropagation();r.deleteConfirmedBtnClicked({pageModel:i,pageType:a})}));u.classList.add("js-delete-confirmed-event-attached")},hidePopup:function e(){var t=document.querySelector(".js-deletion-popup");t.parentNode.removeChild(t);this.deleteDialogIsOpen=false;n.default.dispatch((0,l.closeModal)())},onPageScriptClicked:function e(t){var r=t.currentTarget.getAttribute("data-ref");var n=this.getPageModel(r);this.trigger("open:page-script",{page:n})},onPageClicked:function e(t){var r=t.currentTarget.getAttribute("data-ref");this.updateToolbarPageTitle(r);this.changePage(r);this.closePanel();(0,h.openIntercom)()},changePage:function e(t){var r=this.getPageModel(t);Editor.Events.trigger("page:change",r);this.changeIframeUrl(r)},updateToolbarPageTitle:function e(t){var r=t||E();var n=this.getPageModel(r);if(!n)return;var i=n.get("title");n.get("plugin")&&(i=(0,o.default)(n.get("plugin").displayTitle.key,n.get("plugin").displayTitle.default));this.featureFlagDataProvider.get("enableRows")&&(i=this.prefixedCurrentPageTitle(i));document.querySelector(".js-active-page").textContent=i;document.querySelector(".js-active-page").setAttribute("title",i)},prefixedCurrentPageTitle:function e(t){var r=t;var i=this.selectedLanguage||n.default.getState().language.defaultLanguage.language;n.default.getState().language.siteLanguages.length>0&&i&&(r="".concat(i.toUpperCase()," / ").concat(t));return r},changeIframeUrl:function e(t){this.pageChanging=true;var r=encodeURIComponent(t.get("request"));r=r.replace(/%2F/g,"/");var n=[this.envDataProvider.get("protocol"),"://",this.envDataProvider.get("siteSubdomain"),".",this.envDataProvider.get("domain"),""===App.getPort()?"":":".concat(App.getPort()),"/",r].join("");var i=document.querySelector("#siteFrame");var a=i.contentWindow?i.contentWindow:i.contentDocument.defaultView;a.location.href=n},getPageModel:function e(t){return this.collection.get(t)},openSiteStylePanel:function e(){this.trigger("open:site-style-panel")},openSiteScriptsPanel:function e(){this.trigger("open:site-scripts");this.featureFlagDataProvider.get("enableRows")&&this.slice.unsubscribe()},addProfileEvent:function e(t){t&&"function"===typeof t.listenTo&&this.listenTo(t,"change:business",this.updateSiteName)},updateSiteName:function e(t){this.$(".js-site-name").text(t.get("business"))},attachFolderEvents:function e(){var t=this;var r=this.el.querySelectorAll(".js-folder-title");Array.prototype.forEach.call(r,(function(e){e.addEventListener("click",(function(e){t.onFolderClicked(e)}))}))},onFolderClicked:function e(t){var r=t.currentTarget.parentNode.parentNode.parentNode;t.currentTarget.parentNode.parentNode.classList.toggle("is-collapsed");r.classList.toggle("is-collapsed-folder");r.classList.contains("is-dragging-item")&&r.classList.remove("is-dragging-item")},onSiteLanguageChange:function e(t){var r=this.el.querySelector(".js-site-languages");if("manage"===t.currentTarget.value){this.selectedLanguage?this.el.querySelector(".js-language option[value=".concat(this.selectedLanguage,"]")).selected=true:this.el.querySelectorAll(".js-language option")[0].selected=true;this.trigger("open:site-languages")}else{r.setAttribute("disabled","disabled");Editor.Events.once("siteframe:load",(function(){return r.removeAttribute("disabled")}));this.changeLanguage(t.currentTarget.value)}},changeLanguage:function e(t,r){var i=t||this.siteDataProvider.getDefaultLanguage();n.default.dispatch((0,c.changeLanguage)(i));this.changeSiteLanguage(i,r)},changeSiteLanguage:function e(t,r){this.selectedLanguage=t;this.trigger("change:language",this.selectedLanguage);this.collection.resetPageTree(this.getPageTreeByLangCode(this.selectedLanguage));this.closePanel();if(r){this.changePage(r);return}var n=this.getLanguageHomePage(this.selectedLanguage);this.changePage(n.ref)},getLanguageHomePage:function e(t){var r=this.getPageTreeByLangCode(t);var n=r.filter((function(e){return"home"===e.templateType})).shift();return n},onCloneClicked:function e(t){var r=this;var n=t.currentTarget.getAttribute("data-ref");var i=this.getPageModel(n);this.closeAllOptionsDropdown();this.pageCloner.setSelectedLanguage(this.selectedLanguage);this.pageCloner.clone(i).then((function(e){r.updatePages({currentPageRef:e.ref,selectedLanguage:e.language})}))},setupReorderEvents:function e(){var t=this;n.default.dispatch((0,u.orderPages)());this.setupTopLevelReorderEvents();var r=this.el.querySelectorAll(".js-sortable-folder");Array.prototype.forEach.call(r,(function(e){t.setupFolderSubpagesReorderEvents(e)}))},setupTopLevelReorderEvents:function e(){var t=this;var r=this.el.querySelector(".js-top-level");var n={ghostClass:"is-item-ghost-new",group:"reorder",animation:150,draggable:".js-draggable",handle:".js-drag-handle",dragClass:"is-dragging-item",onChoose:function e(){t.el.querySelector(".js-options.is-open")&&t.hideOptionDropdown(t.el.querySelector(".js-options.is-open"))},onMove:function e(r){var n=r.dragged;var i=r.related;var a=r.to;n.classList.contains("is-fixed-top-level")||i.classList.contains("is-folder-wrapper")&&t.openSortableFolderNode(i);if(t.isHomeMovingIntoFolder(n,a))return false;t.updatePagesInOrOutFolderUI(n,i);return true},onEnd:function e(){var r=t.getNewOrder();t.updatePagesWithOrder(r)}};i.default.create(r,n)},setupFolderSubpagesReorderEvents:function e(t){var r=this;var n={ghostClass:"is-item-ghost-new",group:"reorder",animation:150,draggable:".js-draggable",handle:".js-drag-handle",dragClass:"is-dragging-item",onChoose:function e(){r.el.querySelector(".js-options.is-open")&&r.hideOptionDropdown(r.el.querySelector(".js-options.is-open"))},onMove:function e(t){var n=t.dragged;var i=t.related;if(r.isFolderIndexPage(n)){if(r.isMovingIntoTopLevel(i))return false;if(r.isMovingIntoAnotherFolder(n,i))return false}else i.classList.contains("is-folder-wrapper")&&r.openSortableFolderNode(i);r.updatePagesInOrOutFolderUI(n,i);return true},onEnd:function e(){var t=r.getNewOrder();r.updatePagesWithOrder(t)}};i.default.create(t,n)},updatePagesInOrOutFolderUI:function e(t,r){if(this.isMovingPageIntoFolder(r)){t.classList.remove("pages-tree");t.classList.add("pages-tree__folder-wrapper");t.classList.add("pages-tree__folder-wrapper--no-icon");t.classList.add("is-folder-draggable-item")}else{t.classList.remove("pages-tree__folder-wrapper");t.classList.remove("pages-tree__folder-wrapper--no-icon");t.classList.remove("is-folder-draggable-item");t.classList.add("pages-tree")}},updatePagesWithOrder:function e(t){var r={pagesOrder:t,language:this.language};n.default.dispatch((0,u.updateOrder)(r))},updatePagesCollection:function e(){this.pageTree=n.default.getState().page.pages;this.collection.resetPageTree(this.pageTree)},openSortableFolderNode:function e(t){t.querySelector(".js-sortable-folder")&&t.querySelector(".js-sortable-folder").classList.remove("is-collapsed")},isFolderIndexPage:function e(t){return t.classList.contains("is-folder-index")},isMovingPageIntoFolder:function e(t){return t.parentNode.classList.contains("js-sortable-folder")},isHomeMovingIntoFolder:function e(t,r){return t.classList.contains("is-fixed-top-level")&&r.classList.contains("js-sortable-folder")},isMovingIntoAnotherFolder:function e(t,r){return t.getAttribute("data-folder-ref")!==r.parentNode.getAttribute("data-folder-ref")},isMovingIntoTopLevel:function e(t){return!t.parentNode.classList.contains("js-sortable-folder")},getNewOrder:function e(){var t=[];var r=this.el.querySelector(".js-top-level").children;var n=0;Array.prototype.forEach.call(r,(function(e){var r=e.getAttribute("data-page-ref");n+=1;t.push([parseInt(r,10),n,0]);if(e.classList.contains("is-folder-wrapper")){var i=e.querySelectorAll(".js-draggable");Array.prototype.forEach.call(i,(function(e){var i=e.getAttribute("data-page-ref");n+=1;t.push([parseInt(i,10),n,parseInt(r,10)])}))}}));return t},onV10SiteLanguageClicked:function e(){this.trigger("open:language-dropdown")},onV10AddSiteLanguageClicked:function e(){this.trigger("open:add-language")}});var T=O;t["default"]=T},67124:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(52784));var i=a(r(92993));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pages,n=void 0===r?{}:r;o(this,e);this.pages=n;return this}l(e,[{key:"build",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.language,a=void 0===r?null:r,o=t.pageTree,s=void 0===o?{}:o;var l=i.default;Cocktail.mixin(l,n.default);return new l({pageTree:s,language:a,pages:this.pages})}}]);return e}();var c=u;t["default"]=c},32327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(66549));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function c(e,t,r){t&&u(e.prototype,t);r&&u(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var d=new WeakMap;var f=function(){function e(t){l(this,e);d.set(this,o({},t))}c(e,[{key:"build",value:function e(){var t=d.get(this),r=t.envDataProvider;return new n.default({envDataProvider:r})}}]);return e}();var p=f;t["default"]=p},9203:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=s(r(4404));var i=s(r(25757));var a=s(r(52422));var o=s(r(98654));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function c(e,t,r){t&&u(e.prototype,t);r&&u(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.globalValuesCollection,n=void 0===r?{}:r,i=t.presetAttributesCollection,a=void 0===i?{}:i,o=t.contentStylesCollection,s=void 0===o?{}:o,u=t.fontListContents,c=void 0===u?{}:u,d=t.templateStylePreprocessorVariables,f=void 0===d?{}:d,p=t.allGoogleFonts,g=void 0===p?{}:p,h=t.siteDataProvider,v=void 0===h?{}:h,m=t.envDataProvider,y=void 0===m?{}:m,b=t.brandDataProvider,w=void 0===b?{}:b;l(this,e);this.globalValuesCollection=n;this.presetAttributesCollection=a;this.contentStylesCollection=s;this.fontListContents=c;this.templateStylePreprocessorVariables=f;this.allGoogleFonts=g;this.siteDataProvider=v;this.envDataProvider=y;this.brandDataProvider=w}c(e,[{key:"build",value:function e(){var t=this.siteDataProvider.get("templateData");var r=false;t.templateStylePreprocessorVariablesEnabled&&1===t.templateStylePreprocessorVariablesEnabled&&(r=true);return new n.default({globalValuesCollection:this.globalValuesCollection,presetAttributesCollection:this.presetAttributesCollection,contentStylesCollection:this.contentStylesCollection,templateStylePreprocessorVariables:this.templateStylePreprocessorVariables,fontListContents:this.fontListContents,allGoogleFonts:this.allGoogleFonts,themeRef:t.templateRef,siteRef:this.envDataProvider.get("siteRef"),protocol:this.envDataProvider.get("protocol"),v10CompatibilityMode:this.envDataProvider.get("V10CompatibilityMode"),brandDomain:this.brandDataProvider.get("brandDomain"),templateStylePreprocessorVariablesEnabled:r,ColourPickerView:i.default,FontPickerView:a.default,ImagesPanelView:o.default})}}]);return e}();var f=d;t["default"]=f},73939:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.formatPages=a;t.nestPages=o;var r=["subPages"];function n(e,t){if(null==e)return{};var r=i(e,t);var n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++){n=o[a];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function i(e,t){if(null==e)return{};var r={};var n=Object.keys(e);var i,a;for(a=0;a<n.length;a++){i=n[a];if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var t=[];e.forEach((function(e){if(e.subPages){var i=e.subPages,a=n(e,r);a.subPages=[];t.push(a);i.forEach((function(r){r.parentId=e.ref;t.push(r)}))}else t.push(e)}));return t}function o(e){var t=[];var r=[];e.forEach((function(e){"0"==="".concat(e.parentId)?t.push(e):r.push(e)}));r.forEach((function(e){t.forEach((function(t){if("".concat(t.ref)==="".concat(e.parentId)){t.subPages||(t.subPages=[]);t.subPages.push(e)}}))}));return t}},19737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=h(r(8925));var i=h(r(7843));var a=h(r(99328));var o=h(r(37970));var s=h(r(446));var l=h(r(67124));var u=h(r(9203));var c=h(r(32327));var d=h(r(28082));var f=h(r(22161));var p=h(r(58966));var g=h(r(31565));function h(e){return e&&e.__esModule?e:{default:e}}function v(){var e=BaseKit.Globals.templateStylePreprocessorVariables.where({widget:"content"});var t=new BaseKit.Globals.TemplateStylePreprocessorVariables(e);return t}function m(e){e.factory("SiteStylePanelFactory",(function(e){return new u.default({globalValuesCollection:BaseKit.Globals.globalValues,presetAttributesCollection:BaseKit.Globals.presetAttributes,contentStylesCollection:v(),fontListContents:BaseKit.Static.fonts,templateStylePreprocessorVariables:BaseKit.Globals.templateStylePreprocessorVariables,allGoogleFonts:App.frontEndBucket.allGoogleFonts,siteDataProvider:e.SiteDataProvider,envDataProvider:e.EnvDataProvider,brandDataProvider:e.BrandDataProvider})}));e.factory("PagesPanelFactory",(function(e){return new i.default({pages:BaseKit.Globals.pages,profile:BaseKit.Globals.profile,envDataProvider:e.EnvDataProvider,userDataProvider:e.UserDataProvider,siteDataProvider:e.SiteDataProvider,pageCloner:e.pageCloner,featureFlagDataProvider:e.featureFlagDataProvider,languageState:e.StoreDataAdapterFactory.build({stateId:"language"})})}));e.factory("AddPagePanelFactory",(function(e){return new o.default({pageTypes:JSON.parse(JSON.stringify(Editor.Site.Theme.current.pageTypes)),envDataProvider:e.EnvDataProvider,tracker:e.Tracker,siteDataProvider:e.SiteDataProvider,featureFlagDataProvider:e.featureFlagDataProvider,serverVars:e.ServerVars})}));e.factory("EditPagePanelFactory",(function(e){return new s.default({featureFlagDataProvider:e.featureFlagDataProvider,envDataProvider:e.EnvDataProvider,tracker:e.Tracker})}));e.factory("PagesReorderPanelFactory",(function(){return new l.default({pages:BaseKit.Globals.pages})}));e.factory("SiteScriptsFactory",(function(e){return new c.default({envDataProvider:e.EnvDataProvider})}));e.factory("PageScriptsFactory",(function(e){return new d.default({envDataProvider:e.EnvDataProvider})}));e.factory("SiteLanguageFactory",(function(e){return new f.default({siteDataProvider:e.SiteDataProvider,languageDataProvider:e.LanguageDataProvider,envDataProvider:e.EnvDataProvider,userDataProvider:e.UserDataProvider,sessionTimeoutDialog:e.SessionTimeoutDialog,siteGlobalValuesHelper:e.SiteGlobalValuesHelper,tracker:e.Tracker})}));e.factory("pageCloner",(function(e){return new p.default({PageClonerDialogViewFactory:g.default,languageDataProvider:e.LanguageDataProvider,siteDataProvider:e.SiteDataProvider,envDataProvider:e.EnvDataProvider,multiLanguageEditor:e.featureFlagDataProvider.get("multiLanguageEditor")})}));e.factory("siteLanguageMenuSettingsPanel",(function(e){return new n.default({siteDataProvider:e.SiteDataProvider,languageDataProvider:e.LanguageDataProvider,envDataProvider:e.EnvDataProvider,sessionTimeoutDialog:e.SessionTimeoutDialog,siteGlobalValuesHelper:e.SiteGlobalValuesHelper})}));e.factory("PagesAndFoldersPanel",(function(e){return new a.default({PagesPanelFactory:e.PagesPanelFactory,AddPagePanelFactory:e.AddPagePanelFactory,EditPagePanelFactory:e.EditPagePanelFactory,PagesReorderPanelFactory:e.PagesReorderPanelFactory,SiteStylePanelFactory:e.SiteStylePanelFactory,SiteScriptsFactory:e.SiteScriptsFactory,PageScriptsFactory:e.PageScriptsFactory,SiteLanguageFactory:e.SiteLanguageFactory,envDataProvider:e.EnvDataProvider,siteGlobalValuesHelper:e.SiteGlobalValuesHelper,pageCloner:e.pageCloner,languageListUIState:e.StoreDataAdapterFactory.build({stateId:"ui.languageList"})})}));return e}var y=m;t["default"]=y},99695:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.Model=t.Model;this.Collection=t.Collection;this.RowPanelView=t.RowPanelView;this.dataTransformer=t.dataTransformer}i(e,[{key:"build",value:function e(t){var r=this.dataTransformer.transformRowData(t);var n=new this.Collection(r,{model:this.Model});this.rowPanelView=new this.RowPanelView({el:".js-widgets-overlay-panel",collection:n});return this.rowPanelView}}]);return e}();var o=a;t["default"]=o},45374:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({tagName:"li",events:{"click .js-widget":"hidePanel"},initialize:function e(){this.widgetType="widget.row";this.rowTemplate=this.model.get("value");this.model.on("widget:filtered",this.hideWidget.bind(this));this.model.on("widget:restored",this.showWidget.bind(this))},hideWidget:function e(){this.el.style.display="none"},showWidget:function e(){this.el.style.display=""}});var n=r;t["default"]=n},15511:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(11474);var i=s(r(45374));var a=s(r(45515));var o=r(86192);function s(e){return e&&e.__esModule?e:{default:e}}var l=Marionette.CompositeView.extend({childView:i.default,events:{"click .js-close-widget-overlay-panel":"hidePanel","click .js-widget":"hidePanel","click .js-search-footer":"footerSearchClicked","keyup .js-footer-search-field":"footerSearchKeyup"},render:function e(){var t=this.collection.toJSON();var r=Twig.render(Twig.templates.row_panel_container,{rows:t});(0,o.emptyElement)(this.el);this.el.innerHTML=r;this.attachChildrenEvents();this.onRender()},attachChildrenEvents:function e(){this.collection.each((function(e){this.attachRowItemFunction(e)}),this);this.delegateEvents()},attachRowItemFunction:function e(t){var r=new i.default({el:".js-widget[data-ref=".concat(t.get("ref"),"]"),model:t});this.proxyChildEvents(r);this.children.add(r)},initialize:function e(t){this.collection=t.collection;this.attachEditorEvents()},attachEditorEvents:function e(){Editor.Events.on("toolbar:togglePopover",this.togglePanel.bind(this));Editor.Events.on("widgetSettingsPanel:opened",this.hidePanel.bind(this));Editor.Events.on("dragdrop:clickToAddWidget",this.hidePanel.bind(this));Editor.Events.on("dragdrop:dragStart",this.hidePanel.bind(this))},footerSearchClicked:function e(){var t=this.search.getInput();this.search.applyFilter(t)},footerSearchKeyup:function e(t){this.search.handleKeyup(t)},togglePanel:function e(){if(this.el.classList.contains("is-open"))this.hidePanel();else{this.el.classList.add("is-open");this.giveSearchBoxFocus();this.hidePreviewBar()}},hidePreviewBar:function e(){if(n.deviceFeaturesHelper.isSmallDevice()){document.querySelector(".js-main-toolbar").classList.add("hidden");document.querySelector(".editor-body").classList.add("no-preview")}},showPreviewBar:function e(){if(n.deviceFeaturesHelper.isSmallDevice()){document.querySelector(".js-main-toolbar").classList.remove("hidden");document.querySelector(".editor-body").classList.remove("no-preview")}},giveSearchBoxFocus:function e(){this.el.querySelector(".js-footer-search-field").focus()},hidePanel:function e(){this.resetRowPanel();this.el.classList.remove("is-open")},resetRowPanel:function e(){this.search.clearInput();this.showPreviewBar();this.search.clearFilter()},onRender:function e(){this.search=new a.default({view:this});this.setTouchClasses()},setTouchClasses:function e(){"coarse"===n.deviceFeaturesHelper.getInputType()&&this.el.classList.add("mobile-panel")}});var u=l;t["default"]=u},28572:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={defaults:{callback:"",custom:false,default:1,enabled:1,private:0,ref:1,version:"responsive"},transformRowData:function e(t){var r=this;var n=1;var i=t.map((function(e){var t={};Object.assign(t,r.defaults);t.type=e.id;t.value=e.id;t.name=e.name;t.title=e.name;t.ref=n;t.translatedName=e.name;n++;return t}));return i}};var n=r;t["default"]=n},81866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(99695));var i=o(r(15511));var a=o(r(28572));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){e.factory("RowPanelFactory",(function(){return new n.default({Model:Backbone.Model.extend(),Collection:Backbone.Collection.extend(),RowPanelView:i.default,dataTransformer:a.default})}));return e}var l=s;t["default"]=l},87448:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=Marionette.ItemView.extend({template:"scroll_effects_panel",events:{"click .js-scroll-effects-cancel":"cancelChanges","click .js-scroll-effects-done":"closePanel","click .js-scroll-effects-bg":"cancelChanges","click .js-scroll-effects-item":"onScrollEffectClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.currentScrollEffect=t.scrollEffect||"none";this.prevEffect=this.currentScrollEffect;this.effects=t.effects},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentScrollEffect:this.currentScrollEffect,effects:this.effects});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onScrollEffectClicked:function e(t){this._clearActiveEffectClass();this._addActiveEffectClass(t.currentTarget);this.changeScrollEffect(t.currentTarget.dataset.name)},changeScrollEffect:function e(t){if(t===this.currentScrollEffect)return;this.trigger("scrollEffect:change",t);this.currentScrollEffect=t},closePanel:function e(){this.trigger("panel:close");this.destroy()},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},cancelChanges:function e(){this.changeScrollEffect(this.prevEffect);this.closePanel()},_clearActiveEffectClass:function e(){this.el.querySelector(".is-current").classList.remove("is-current")},_addActiveEffectClass:function e(t){t.classList.add("is-current")}});var a=i;t["default"]=a},53383:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=Marionette.ItemView.extend({template:"section_gradient_panel",events:{"click .js-section-gradient-cancel":"cancelChanges","click .js-section-gradient-done":"closePanel","click .js-section-gradient-bg":"cancelChanges","click .js-section-gradient-item":"onSectionGradientClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.currentSectionGradient=t.currentSectionGradient||"none";this.prevGradient=this.currentSectionGradient;this.sectionGradients=t.sectionGradients},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentSectionGradient:this.currentSectionGradient,sectionGradients:this.sectionGradients});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onSectionGradientClicked:function e(t){this._clearActiveClass();this._addActiveClass(t.currentTarget);this.changeSectionGradient(t.currentTarget.dataset.name)},changeSectionGradient:function e(t){if(t===this.currentSectionGradient)return;this.trigger("gradient:change",t);this.currentSectionGradient=t},closePanel:function e(){this.trigger("panel:close");this.destroy()},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},cancelChanges:function e(){this.changeSectionGradient(this.prevGradient);this.closePanel()},_clearActiveClass:function e(){this.el.querySelector(".is-current").classList.remove("is-current")},_addActiveClass:function e(t){t.classList.add("is-current")}});var a=i;t["default"]=a},89594:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=Marionette.ItemView.extend({template:"section_height_panel",events:{"click .js-section-height-cancel":"cancelChanges","click .js-section-height-done":"closePanel","click .js-section-height-bg":"cancelChanges","click .js-section-height-item":"onSectionHeightClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.currentSectionHeight=t.currentSectionHeight||"default";this.prevHeight=this.currentSectionHeight;this.sectionHeights=t.sectionHeights},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentSectionHeight:this.currentSectionHeight,sectionHeights:this.sectionHeights});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onSectionHeightClicked:function e(t){this._clearActiveClass();this._addActiveClass(t.currentTarget);this.changeSectionHeight(t.currentTarget.dataset.name)},changeSectionHeight:function e(t){if(t===this.currentSectionHeight)return;this.trigger("height:change",t);this.currentSectionHeight=t},closePanel:function e(){this.trigger("panel:close");this.destroy()},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},cancelChanges:function e(){this.changeSectionHeight(this.prevHeight);this.closePanel()},_clearActiveClass:function e(){this.el.querySelector(".is-current").classList.remove("is-current")},_addActiveClass:function e(t){t.classList.add("is-current")}});var a=i;t["default"]=a},52687:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=Marionette.ItemView.extend({template:"section_width_panel",events:{"click .js-section-width-cancel":"cancelChanges","click .js-section-width-done":"closePanel","click .js-section-width-bg":"cancelChanges","click .js-section-width-item":"onSectionWidthClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.currentSectionWidth=t.currentSectionWidth||"default";this.prevWidth=this.currentSectionWidth;this.sectionWidths=t.sectionWidths},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentSectionWidth:this.currentSectionWidth,sectionWidths:this.sectionWidths});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onSectionWidthClicked:function e(t){this._clearActiveClass();this._addActiveClass(t.currentTarget);this.changeSectionWidth(t.currentTarget.dataset.name)},changeSectionWidth:function e(t){if(t===this.currentSectionWidth)return;this.trigger("width:change",t);this.currentSectionWidth=t},closePanel:function e(){this.trigger("panel:close");this.destroy()},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},cancelChanges:function e(){this.changeSectionWidth(this.prevWidth);this.closePanel()},_clearActiveClass:function e(){this.el.querySelector(".is-current").classList.remove("is-current")},_addActiveClass:function e(t){t.classList.add("is-current")}});var a=i;t["default"]=a},25683:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({template:"session_timeout_dialog",events:{"click .js-cancel":"closeDialog","click .js-login":"login"},brandLoginUrl:"",initialize:function e(t){var r=t.brandLoginUrl;this.brandLoginUrl=r},login:function e(){""!==this.brandLoginUrl?window.top.location=this.brandLoginUrl:window.top.location.reload()},render:function e(){var t=Twig.render(Twig.templates[this.template]);var r=document.querySelectorAll(".js-dialog-contents");var n=r.item(r.length-1);n.insertAdjacentHTML("beforeend",t)}});var n=r;t["default"]=n},22777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=a(r(3104));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return c(e)||u(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}function u(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f="dark";var p="none";var g=Marionette.ItemView.extend({template:"shape_divider_panel",events:{"click .js-shape-divider-cancel":"cancelChanges","click .js-shape-divider-done":"saveChanges","click .js-shape-divider-bg":"cancelChanges","click .js-shape-divider-item":"shapeDividerClicked","click .js-shape-divider-color-option":"colorClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.shapeDividers=t.shapeDividers;this.styleSets=t.styleSets;this.currentShapeDivider=t.currentShapeDivider;this.currentShapeDividerColor=t.currentShapeDividerColor;this.prevShapeDivider=this.currentShapeDivider;this.prevShapeDividerColor=this.currentShapeDividerColor},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentShapeDivider:this.currentShapeDivider,currentShapeDividerColor:this.currentShapeDividerColor,shapeDividers:this.shapeDividers,styleSets:this.styleSets});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},closePanel:function e(){this.trigger("panel:close");this.destroy()},saveChanges:function e(){i.default.container.Tracker.track("Shape divider updated");this.closePanel()},cancelChanges:function e(){if(this.prevShapeDivider!==this.currentShapeDivider||this.prevShapeDividerColor!==this.currentShapeDividerColor){"undefined"===typeof this.prevShapeDivider&&(this.prevShapeDivider=p);this.trigger("shapeDivider:change",{shapeDivider:this.prevShapeDivider,shapeDividerColor:this.prevShapeDividerColor})}this.closePanel()},shapeDividerClicked:function e(t){if(this._isSelectedTypeAllowed(t.currentTarget.getAttribute("data-name"))){this.currentShapeDivider=t.currentTarget.getAttribute("data-name");"undefined"===typeof this.currentShapeDividerColor&&(this.currentShapeDividerColor=f);this._clearSelectedShapeDividerClasses();this._addSelectedShapeDividerClass(t.currentTarget);this._updateColorSwitchVisibility(this.currentShapeDivider);this.updateShapeDivider();i.default.container.Tracker.track("Divider type selected",{shapeDividerType:this.currentShapeDivider})}},colorClicked:function e(t){if(this._isSelectedColorAllowed(t.currentTarget.getAttribute("data-name"))){this.currentShapeDividerColor=t.currentTarget.getAttribute("data-name");this._clearSelectedColorClasses();this._addSelectedColorClass(t.currentTarget);this.updateShapeDivider();i.default.container.Tracker.track("Divider colour selected",{shapeDividerColour:this.currentShapeDividerColor})}},updateShapeDivider:function e(){this.trigger("shapeDivider:change",{shapeDivider:this.currentShapeDivider,shapeDividerColor:this.currentShapeDividerColor})},_isSelectedColorAllowed:function e(t){return-1!==Object.keys(this.styleSets).indexOf(t)},_isSelectedTypeAllowed:function e(t){return-1!==this.shapeDividers.indexOf(t)},_clearSelectedShapeDividerClasses:function e(){o(this.el.querySelectorAll(".js-shape-divider-item")).forEach((function(e){e.classList.remove("is-current")}))},_addSelectedShapeDividerClass:function e(t){t.classList.add("is-current")},_clearSelectedColorClasses:function e(){o(this.el.querySelectorAll(".js-shape-divider-color-option")).forEach((function(e){e.classList.remove("is-current-color")}))},_addSelectedColorClass:function e(t){t.classList.add("is-current-color")},_updateColorSwitchVisibility:function e(t){var r=this.el.querySelector(".js-shape-divider-color-switch");t===p?r.setAttribute("hidden","true"):r.removeAttribute("hidden")}});var h=g;t["default"]=h},21460:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({template:"delete_language_dialog",events:{"click .js-cancel":"cancel","click .js-delete":"delete"},cancel:function e(){this.trigger("dialog:close")},delete:function e(){this.trigger("dialog:resolve","delete")},render:function e(){var t=Twig.render(Twig.templates[this.template]);var r=document.querySelectorAll(".js-dialog-contents");var n=r.item(r.length-1);n.insertAdjacentHTML("beforeend",t)}});var n=r;t["default"]=n},22161:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=f(r(34543));var i=f(r(52784));var a=f(r(23483));var o=f(r(97));var s=f(r(248));var l=r(26225);var u=f(r(8731));var c=f(r(21460));var d=f(r(28922));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function y(e,t,r){t&&m(e.prototype,t);r&&m(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var b=new WeakMap;var w=function(){function e(t){v(this,e);b.set(this,g({},t))}y(e,[{key:"build",value:function e(t){var r=b.get(this),u=r.envDataProvider,f=r.siteDataProvider,p=r.sessionTimeoutDialog,g=r.tracker;var h=u.get("localisedLanguages");var v=u.get("languages");var m=u.get("flags");var y=t.selectedLanguage;var w=function e(){var t=new c.default;var r=new n.default({contentClassname:"dialog__content--center",title:App.t("editor.dialog.title.delete_language","Delete Language"),content:t,render:false});s.default.dispatch((0,l.openModal)("deleteLanguage"));return r.render()};Cocktail.mixin(d.default,i.default);return new d.default({siteDataProvider:f,sessionTimeoutDialog:p,displayDeleteDialog:w,localisedLanguages:h,envDataProvider:u,languages:v,tracker:g,sessionUpdate:a.default,notification:o.default,selectedLanguage:y,flags:m,initAddLanguage:this.initAddLanguage.bind(this)})}},{key:"initAddLanguage",value:function e(){var t=b.get(this),r=t.tracker;var n=new u.default({tracker:r});return n.init()}}]);return e}();var _=w;t["default"]=_},8925:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(97));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l=new WeakMap;var u=Marionette.ItemView.extend({el:".js-language-settings-container",template:"language_settings_panel",panelIsOpen:false,events:{"click .js-save-settings":"saveValues","click .js-cancel-settings":"revertAndClose","change .js-input":"valueChanged"},initialize:function e(t){l.set(this,o({},t));this.render();this.attachEvents()},attachEvents:function e(){Editor.Events.on("sidebarPanel:changed pageSwitch:click dragdrop:dragStart visibility:click",this.revertAndClose.bind(this))},serializeData:function e(){var t={isVersionTenCompatibility:l.get(this).envDataProvider.get("V10CompatibilityMode")};var r=l.get(this).siteGlobalValuesHelper;var n=r.getValue("siteLanguageMenuSettings");null!==n&&Object.assign(t,n);return t},valueChanged:function e(){var t={menuType:this.el.querySelector('[name="menu-type"]').value,menuShade:this.el.querySelector('[name="menu-shade"]').value,menuStyle:this.el.querySelector('[name="menu-style"]').value};this.el.querySelector(".js-save-settings").removeAttribute("disabled");this.updateSite(t)},saveValues:function e(){var t={menuType:this.el.querySelector('[name="menu-type"]').value,menuShade:this.el.querySelector('[name="menu-shade"]').value,menuStyle:this.el.querySelector('[name="menu-style"]').value};var r=l.get(this).siteGlobalValuesHelper;r.saveValue("siteLanguageMenuSettings",t).then(this.updateSite(t)).then(this.notifyAndClose.bind(this)).catch(this.notifyError)},notifyAndClose:function e(){(0,n.default)(App.t("shared_views.language_panel.success","Success"),App.t("shared_views.language_panel.saved","Language menu settings saved"),"success");this.closePanel()},notifyError:function e(){(0,n.default)(App.t("shared_views.language_panel.error","Error"),App.t("shared_views.language_panel.not_saved","Unable to save language menu settings"),"error")},updateSite:function e(t){var r=document.getElementById("siteFrame");var n={siteLanguageMenuSettings:t,action:"rerender:languagemenu"};r&&r.contentWindow&&r.contentWindow.postMessage(n,"".concat(r.contentWindow.location.protocol,"//").concat(r.contentWindow.location.host))},openPanel:function e(){this.panelIsOpen=true;this.render();this._togglePanelOpenClass()},revertAndClose:function e(){var t=l.get(this).siteGlobalValuesHelper;this.updateSite(t.getValue("siteLanguageMenuSettings"));this.closePanel()},closePanel:function e(){this.panelIsOpen=false;this._togglePanelOpenClass()},_togglePanelOpenClass:function e(){var t=document.querySelector(".js-main-toolbar-overlay");if(this.panelIsOpen){this.el.classList.add("is-open");t.classList.add("is-displayed")}else{this.el.classList.remove("is-open");t.classList.remove("is-displayed")}}});var c=u;t["default"]=c},28922:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=l(r(248));var i=r(79148);var a=r(81798);var o=l(r(63573));var s=l(r(69362));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function f(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){f(a,n,i,o,s,"next",e)}function s(e){f(a,n,i,o,s,"throw",e)}o(void 0)}))}}var g=new WeakMap;function h(e,t,r,n){return v.apply(this,arguments)}function v(){v=p(regeneratorRuntime.mark((function e(t,r,n,i){var a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:a="".concat(r,"/sites/").concat(n,"/languages/").concat(t);s.next=3;return window.fetch(a,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":i},method:"DELETE"});case 3:o=s.sent;return s.abrupt("return",o.json());case 5:case"end":return s.stop()}}),e)})));return v.apply(this,arguments)}function m(e,t,r,n,i){return y.apply(this,arguments)}function y(){y=p(regeneratorRuntime.mark((function e(t,r,n,i,a){var o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:o="".concat(n,"/sites/").concat(i,"/languages/").concat(t);l.next=3;return window.fetch(o,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":a},method:"PUT",body:JSON.stringify({active:r})});case 3:s=l.sent;return l.abrupt("return",s.json());case 5:case"end":return l.stop()}}),e)})));return y.apply(this,arguments)}var b=Marionette.ItemView.extend({template:"language_panel",siteAddLanguagePanelView:null,openOptionMenu:null,events:{"click .js-add-language":"addLanguage","click .js-option-button":"onOptionsClicked","click .js-change-active":"onActiveChanged","click .js-delete":"onDeleteClicked","click .js-back":"onClosePanel"},initialize:function e(t){g.set(this,c({},t));this.render();Editor.Events.on("page:change",this.closePanel.bind(this));this.documentHandler=this.documentClickHandler.bind(this);this.setupStoreListener()},onDestroy:function e(){this.slice.unsubscribe()},setupStoreListener:function e(){var t="language.siteLanguages";this.slice=new o.default({store:n.default,stateId:t});this.state=this.slice.get();this.slice.subscribe(this.handleStateChange.bind(this))},handleStateChange:function e(t){if((0,s.default)(this.state,t))return;var r=t;var n=this.state;r.length!==n&&this.render()},render:function e(){var t=g.get(this),r=t.languages,n=t.siteDataProvider,i=t.localisedLanguages,a=t.selectedLanguage;this.tplData={languages:r,localisedLanguages:i,selectedLanguage:a,siteLanguages:n.getSiteLanguages(),lightBackground:true};"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl()},addLanguage:function e(){this.options.initAddLanguage();n.default.dispatch((0,a.openAddLanguage)())},documentClickHandler:function e(t){var r=t.target;var n=false;while(r.parentNode){r.classList.contains("is-open")&&(n=true);r=r.parentNode}n||this.closeAllOptionsDropdown()},onOptionsClicked:function e(t){t.stopPropagation();var r=t.currentTarget.getAttribute("data-ref");var n=this.el.querySelector(".js-options[data-ref=".concat(r,"]"));if(n.classList.contains("is-open"))this.hideOptionDropdown(n);else{this.closeAllOptionsDropdown();this.showOptionDropdown(n)}},closeAllOptionsDropdown:function e(){var t=this.el.querySelectorAll(".js-options");Array.prototype.forEach.call(t,(function(e){e.setAttribute("hidden",true);e.classList.remove("is-open")}));document.removeEventListener("click",this.documentHandler,true)},showOptionDropdown:function e(t){t.removeAttribute("hidden");t.classList.add("is-open");document.addEventListener("click",this.documentHandler,true)},hideOptionDropdown:function e(t){t.setAttribute("hidden",true);t.classList.remove("is-open");document.removeEventListener("click",this.documentHandler,true)},onActiveChanged:function e(t){var r=t.currentTarget.getAttribute("data-ref");var n=t.currentTarget.getAttribute("data-active");this.changeSiteLangStatus(r,n);var i=this.el.querySelector(".js-status[data-ref=".concat(r,"]"));var a=this.el.querySelector(".js-change-active[data-ref=".concat(r,"] span"));if(1===parseInt(n,10)){i.removeAttribute("hidden");t.currentTarget.setAttribute("data-active",0);a.textContent=App.t("shared_views.language_panel.take_online","Take online")}else{i.setAttribute("hidden","hidden");t.currentTarget.setAttribute("data-active",1);a.textContent=App.t("shared_views.language_panel.take_offline","Take offline")}},changeSiteLangStatus:function e(t,r){var a=this;return p(regeneratorRuntime.mark((function e(){var o,s,l,u,c;return regeneratorRuntime.wrap((function e(d){while(1)switch(d.prev=d.next){case 0:o=1===parseInt(r,10)?0:1;s=g.get(a).notification;l=g.get(a).sessionUpdate;u=App.t("shared_views.language_panel.language_is_online","Language is now online");o||(u=App.t("shared_views.language_panel.language_is_offline","Language is now offline"));d.next=7;return m(t,o,a.getApiProxyBaseUrl(),a.getSiteRef(),a.getCsrfToken());case 7:c=d.sent;n.default.dispatch((0,i.setSiteLanguages)(c.siteLanguages));a.updateSite({siteLanguages:c.siteLanguages});s(u,false,"success");l();return d.abrupt("return",o);case 13:case"end":return d.stop()}}),e)})))()},onDeleteClicked:function e(t){var r=this;return p(regeneratorRuntime.mark((function e(){var n,i,a,o,s,l;return regeneratorRuntime.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:n=g.get(r),i=n.displayDeleteDialog,a=n.sessionUpdate;o=t.currentTarget.getAttribute("data-ref");s=r.el.querySelector(".js-language-item[data-ref=".concat(o,"]"));u.next=5;return i();case 5:l=u.sent;l.dialog.hide();s.parentNode.removeChild(s);u.next=10;return h(o,r.getApiProxyBaseUrl(),r.getSiteRef(),r.getCsrfToken());case 10:u.next=12;return a();case 12:r.updateSite({siteLanguages:g.get(r).siteDataProvider.getSiteLanguages()});Editor.Events.trigger("language:deleted",o);r.closePanel();r.checkLangListLength();case 16:case"end":return u.stop()}}),e)})))()},checkLangListLength:function e(){if(0===this.el.querySelectorAll(".js-language-item").length){this.el.querySelector(".js-landing").removeAttribute("hidden");this.el.querySelector(".js-lang-list").setAttribute("hidden","hidden")}else{this.el.querySelector(".js-lang-list").removeAttribute("hidden");this.el.querySelector(".js-landing").setAttribute("hidden","hidden")}},updateSite:function e(t){var r=document.getElementById("siteFrame");var n=Object.assign({},t,{action:"rerender:languagemenu"});r&&r.contentWindow&&r.contentWindow.postMessage(n,"".concat(r.contentWindow.location.protocol,"//").concat(r.contentWindow.location.host))},onClosePanel:function e(t){t.preventDefault();this.closePanel()},closePanel:function e(){this.trigger("panel:closed");"function"===typeof this.mixinClosePanel&&this.mixinClosePanel();this.destroy()},getSiteRef:function e(){var t=g.get(this),r=t.envDataProvider;return r.get("siteRef")},getApiProxyBaseUrl:function e(){var t=g.get(this),r=t.envDataProvider;return r.get("apiProxyBaseUrl")},getCsrfToken:function e(){var t=g.get(this),r=t.envDataProvider;return r.get("csrfToken")}});var w=b;t["default"]=w},30181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=l(r(248));var i=l(r(7771));var a=r(3786);var o=r(26225);var s=l(r(21434));function l(e){return e&&e.__esModule?e:{default:e}}var u={value:{advertising:true,analytics:true,preferences:true}};var c=Marionette.ItemView.extend({className:"site-scripts-panel",template:"site_scripts_panel",el:".js-page-scripts-editor-container",currentTab:"head",events:{"click .js-bg":"closePanelClicked","click .js-close":"closePanelClicked","click .js-save":"saveScriptsClicked","click .js-dialog-tab-head":"dialogHeadTabClicked","click .js-dialog-tab-body":"dialogBodyTabClicked"},initialize:function e(t){this.globalValuesCollection=BaseKit.Globals.globalValues;this.pageRef=t.pageRef;this.pageTitle=t.title;this.envDataProvider=t.envDataProvider;this.getScriptsFromGlobalCollection();this.getOptionsFromGlobalCollection();this.render()},render:function e(){var t="force"===n.default.getState().brand.cookieWarningSetting;var r=n.default.getState().site.enableCookiePolicyPage;var a=n.default.getState().site.cookieWarning;var o=r||t||a;var s=(0,i.default)("shared_views.pagespanel.page_scripts_placeholder","Page Scripts: %1",this.pageTitle);var l=Twig.render(Twig.templates[this.template],{title:s,renderPrivacyOptions:o});this.$el.empty().append(l);this.onRender();return this},onRender:function e(){this.loadHeadScripts();this.loadHeadOptions()},setupCodePanel:function e(t){this.editorPanel||(this.editorPanel=this.initializeCodeEditor(t.textAreaId));this.editorPanel.setValue(t.value)},getScriptsFromGlobalCollection:function e(){var t=(0,s.default)(this.pageRef);this.headScriptPage=t.get("headScript")||"";this.bodyScriptPage=t.get("bodyScript")||""},getOptionsFromGlobalCollection:function e(){var t=(0,s.default)(this.pageRef);this.getHeadOptionsFromGlobalCollection(t);this.getBodyOptionsFromGlobalCollection(t)},getHeadOptionsFromGlobalCollection:function e(t){if(Array.isArray(t.get("headScriptOptions"))){this.headOptionsPage=u.value;return}this.headOptionsPage=t.get("headScriptOptions")||u.value},getBodyOptionsFromGlobalCollection:function e(t){if(Array.isArray(t.get("bodyScriptOptions"))){this.bodyOptionsPage=u.value;return}this.bodyOptionsPage=t.get("bodyScriptOptions")||u.value},loadHeadScripts:function e(){this.setupCodePanel({textAreaId:"user-scripts-code-editor",value:this.headScriptPage})},loadHeadOptions:function e(){this.setElOptionValues(this.headOptionsPage)},loadBodyScripts:function e(){this.setupCodePanel({textAreaId:"user-scripts-code-editor",value:this.bodyScriptPage})},loadBodyOptions:function e(){this.setElOptionValues(this.bodyOptionsPage)},initializeCodeEditor:function e(t){return CodeMirror.fromTextArea(document.getElementById(t),{lineNumbers:false,matchBrackets:true,extraKeys:{Enter:"newlineAndIndentContinueComment"},mode:"htmlmixed"})},closePanelClicked:function e(){n.default.dispatch((0,o.closeModal)());this.setElement(this.$(".code-editor-panel"));delete this.editorPanel;this.destroy()},saveScriptsClicked:function e(){if("head"===this.currentTab){this.storeHeadScriptChanges();this.storeHeadOptionsChanges()}else{this.storeBodyScriptChanges();this.storeBodyOptionsChanges()}this.data=(0,s.default)(this.pageRef).toJSON();this.setHeadScripts(this.data);this.setHeadOptions(this.data);this.setBodyScripts(this.data);this.setBodyOptions(this.data);var t=this.envDataProvider.get("csrfToken");var r=this.envDataProvider.get("apiProxyBaseUrl");var i=this.envDataProvider.get("siteRef");var o="".concat(r,"/sites/").concat(i,"/pages/").concat(this.pageRef);var l=n.default.getState().language;var u=l.current;u===l.defaultLanguage.language&&(u="");n.default.dispatch((0,a.setScript)(o,t,this.data,u));this.closePanelClicked()},setHeadScripts:function e(t){t.headscript=this.headScriptPage;t.headScript=this.headScriptPage},setHeadOptions:function e(t){t.headScriptOptions=this.headOptionsPage},setBodyScripts:function e(t){t.bodyscript=this.bodyScriptPage;t.bodyScript=this.bodyScriptPage},setBodyOptions:function e(t){t.bodyScriptOptions=this.bodyOptionsPage},dialogHeadTabClicked:function e(){if("head"===this.currentTab)return;this.currentTab="head";this.storeBodyScriptChanges();this.storeBodyOptionsChanges();this.loadHeadScripts();this.loadHeadOptions();this.$(".js-dialog-tab-body").removeClass("is-active");this.$(".js-dialog-tab-head").addClass("is-active")},dialogBodyTabClicked:function e(){if("body"===this.currentTab)return;this.currentTab="body";this.storeHeadScriptChanges();this.storeHeadOptionsChanges();this.loadBodyScripts();this.loadBodyOptions();this.$(".js-dialog-tab-head").removeClass("is-active");this.$(".js-dialog-tab-body").addClass("is-active")},storeHeadScriptChanges:function e(){this.headScriptPage=this.editorPanel.getValue()},storeHeadOptionsChanges:function e(){if(!this.optionValuesShown())return;this.headOptionsPage=this.getElOptionValues()},storeBodyScriptChanges:function e(){this.bodyScriptPage=this.editorPanel.getValue()},storeBodyOptionsChanges:function e(){if(!this.optionValuesShown())return;this.bodyOptionsPage=this.getElOptionValues()},optionValuesShown:function e(){return!!this.el.querySelector("#privacy-options-section")},setElOptionValues:function e(t){var r=t.advertising,n=t.analytics,i=t.preferences;if(!this.optionValuesShown())return;this.el.querySelector("#advertising-checkbox").checked=r;this.el.querySelector("#preferences-checkbox").checked=i;this.el.querySelector("#analytics-checkbox").checked=n},getElOptionValues:function e(){return{advertising:this.el.querySelector("#advertising-checkbox").checked,preferences:this.el.querySelector("#preferences-checkbox").checked,analytics:this.el.querySelector("#analytics-checkbox").checked}}});var d=c;t["default"]=d},66549:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=l(r(7771));var i=r(86192);var a=l(r(248));var o=r(26225);var s=r(94014);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var f=new WeakMap;var p={value:{advertising:true,analytics:true,preferences:true}};var g={value:""};var h=Marionette.ItemView.extend({className:"site-scripts-panel",template:"site_scripts_panel",el:".js-page-scripts-editor-container",currentTab:"head",events:{"click .js-bg":"closePanelClicked","click .js-close":"closePanelClicked","click .js-save":"saveScriptsClicked","click .js-dialog-tab-head":"dialogHeadTabClicked","click .js-dialog-tab-body":"dialogBodyTabClicked"},initialize:function e(t){f.set(this,c({},t));this.globalValuesCollection=BaseKit.Globals.globalValues;this.getScriptsFromGlobalCollection();this.render()},render:function e(){var t="force"===a.default.getState().brand.cookieWarningSetting;var r=a.default.getState().site.enableCookiePolicyPage;var o=a.default.getState().site.cookieWarning;var s=r||t||o;var l=(0,n.default)("shared_views.pagespanel.site_scripts","Site Scripts");var u=Twig.render(Twig.templates[this.template],{title:l,renderPrivacyOptions:s});(0,i.emptyElement)(this.el);(0,i.append)(this.el,u);this.onRender();return this},onRender:function e(){this.loadHeadScripts();this.optionValuesShown()&&this.loadHeadOptions()},setupCodePanel:function e(t){var r=t.textAreaId,n=t.value;this.editorPanel||(this.editorPanel=this.initializeCodeEditor(r));this.editorPanel.setValue(n)},getScriptsFromGlobalCollection:function e(){this.getGlobalHeadScript();this.getGlobalHeadScriptOptions();this.getGlobalBodyScript();this.getGlobalBodyScriptOptions()},getGlobalHeadScript:function e(){var t=this.globalValuesCollection.get("headScript");if(t)this.headScriptGlobal=t;else{this.headScriptGlobal=new BaseKit.Globals.SiteGlobalValueModel(c(c({},g),{},{name:"headScript"}));this.globalValuesCollection.add(this.headScriptGlobal,{silent:true})}var r=f.get(this),n=r.envDataProvider;this.headScriptGlobal.siteRef=n.get("siteRef")},getGlobalBodyScript:function e(){var t=this.globalValuesCollection.get("bodyScript");if(t)this.bodyScriptGlobal=t;else{this.bodyScriptGlobal=new BaseKit.Globals.SiteGlobalValueModel(c(c({},g),{},{name:"bodyScript"}));this.globalValuesCollection.add(this.bodyScriptGlobal,{silent:true})}var r=f.get(this),n=r.envDataProvider;this.bodyScriptGlobal.siteRef=n.get("siteRef")},getGlobalBodyScriptOptions:function e(){var t=this.globalValuesCollection.get("bodyScriptOptions");if(t)this.bodyScriptGlobalOptions=t;else{this.bodyScriptGlobalOptions=new BaseKit.Globals.SiteGlobalValueModel(c(c({},p),{},{name:"bodyScriptOptions"}));this.globalValuesCollection.add(this.bodyScriptGlobalOptions,{silent:true})}var r=f.get(this),n=r.envDataProvider;this.bodyScriptGlobalOptions.siteRef=n.get("siteRef")},getGlobalHeadScriptOptions:function e(){var t=this.globalValuesCollection.get("headScriptOptions");if(t)this.headScriptGlobalOptions=t;else{this.headScriptGlobalOptions=new BaseKit.Globals.SiteGlobalValueModel(c(c({},p),{},{name:"headScriptOptions"}));this.globalValuesCollection.add(this.headScriptGlobalOptions,{silent:true})}var r=f.get(this),n=r.envDataProvider;this.headScriptGlobalOptions.siteRef=n.get("siteRef")},loadHeadScripts:function e(){this.setupCodePanel({textAreaId:"user-scripts-code-editor",value:this.headScriptGlobal.get("value")})},loadHeadOptions:function e(){var t=this.headScriptGlobalOptions.get("value")||p.value;this.setOptionValues(t)},loadBodyScripts:function e(){this.setupCodePanel({textAreaId:"user-scripts-code-editor",value:this.bodyScriptGlobal.get("value")})},loadBodyOptions:function e(){var t=this.bodyScriptGlobalOptions.get("value")||p.value;this.setOptionValues(t)},initializeCodeEditor:function e(t){return CodeMirror.fromTextArea(document.getElementById(t),{lineNumbers:false,matchBrackets:true,extraKeys:{Enter:"newlineAndIndentContinueComment"},mode:"htmlmixed"})},closePanelClicked:function e(){a.default.dispatch((0,o.closeModal)());this.setElement(this.el.querySelector(".code-editor-panel"));delete this.editorPanel;this.destroy();(0,s.openIntercom)()},saveScriptsClicked:function e(){"head"===this.currentTab?this.storeHeadScriptChanges():this.storeBodyScriptChanges();this.saveHead();this.saveBody();this.closePanelClicked()},saveHead:function e(){this.headScriptGlobal.save();this.headScriptGlobalOptions.save();this.globalValuesCollection.get("headScript").set("value",this.headScriptGlobal.get("value"));this.globalValuesCollection.get("headScriptOptions").set("value",this.headScriptGlobalOptions.get("value"))},saveBody:function e(){this.bodyScriptGlobal.save();this.bodyScriptGlobalOptions.save();this.globalValuesCollection.get("bodyScript").set("value",this.bodyScriptGlobal.get("value"));this.globalValuesCollection.get("bodyScriptOptions").set("value",this.bodyScriptGlobalOptions.get("value"))},dialogHeadTabClicked:function e(){if("head"===this.currentTab)return;this.currentTab="head";this.storeBodyScriptChanges();this.storeBodyOptionsChanges();this.loadHeadScripts();this.loadHeadOptions();this.el.querySelector(".js-dialog-tab-body").classList.remove("is-active");this.el.querySelector(".js-dialog-tab-head").classList.add("is-active")},dialogBodyTabClicked:function e(){if("body"===this.currentTab)return;this.currentTab="body";this.storeHeadScriptChanges();this.storeHeadOptionsChanges();this.loadBodyScripts();this.loadBodyOptions();this.el.querySelector(".js-dialog-tab-head").classList.remove("is-active");this.el.querySelector(".js-dialog-tab-body").classList.add("is-active")},storeHeadScriptChanges:function e(){this.headScriptGlobal.set("value",this.editorPanel.getValue());this.optionValuesShown()&&this.headScriptGlobalOptions.set("value",this.getOptionValues())},storeHeadOptionsChanges:function e(){if(!this.optionValuesShown())return;var t=this.globalValuesCollection.get("headScriptOptions");var r=t.get("value");this.headScriptGlobalOptions.set("value",r)},storeBodyScriptChanges:function e(){this.bodyScriptGlobal.set("value",this.editorPanel.getValue());this.optionValuesShown()&&this.bodyScriptGlobalOptions.set("value",this.getOptionValues())},storeBodyOptionsChanges:function e(){if(!this.optionValuesShown())return;var t=this.globalValuesCollection.get("bodyScriptOptions");var r=t.get("value");this.bodyScriptGlobalOptions.set("value",r)},optionValuesShown:function e(){return!!this.el.querySelector("#privacy-options-section")},setOptionValues:function e(t){var r=t.advertising,n=t.analytics,i=t.preferences;if(!this.optionValuesShown())return;this.el.querySelector("#advertising-checkbox").checked=r;this.el.querySelector("#preferences-checkbox").checked=i;this.el.querySelector("#analytics-checkbox").checked=n},getOptionValues:function e(){return{advertising:this.el.querySelector("#advertising-checkbox").checked,preferences:this.el.querySelector("#preferences-checkbox").checked,analytics:this.el.querySelector("#analytics-checkbox").checked}}});var v=h;t["default"]=v},4404:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=d(r(34543));var i=d(r(248));var a=r(19999);var o=r(45457);var s=r(94014);var l=d(r(51868));var u=d(r(7771));var c=d(r(68576));function d(e){return e&&e.__esModule?e:{default:e}}var f=Marionette.ItemView.extend({template:"site_styles_panel",className:"slide-in-panel site-styles-panel-container",events:{"click .js-cancel":"closePanel","click .js-colour-back":"closeColourPalette","click .js-font-back":"closeFontPicker","click .js-colour-set-button":"showColourSetPalette","click .js-solid-colour-button":"showSolidColourPalette","click .js-gradient-colour-button":"showGradientColourPalette","click .js-change-image":"openImagePopup","click .js-content-styles-button":"showStyleOptions","click .js-reset-styles":"resetStylesButtonClicked","change .js-body-background-select":"changeBodyBackgroundType","change .js-gradient-type-select":"changeGradientType","change .js-image-scale-select":"changeImageScale","change .js-image-alignment-horizontal-select":"changeImageAlignment","change .js-image-alignment-vertical-select":"changeImageAlignment","change .js-image-repeat-select":"changeImageRepeat"},colourPicker:null,fontPicker:null,$colourPicker:null,$body:null,initialize:function e(t){this.globalValuesCollection=t.globalValuesCollection;this.presetAttributesCollection=t.presetAttributesCollection;this.contentStylesCollection=t.contentStylesCollection;this.templateStylePreprocessorVariables=t.templateStylePreprocessorVariables;this.fontListContents=t.fontListContents;this.allGoogleFonts=t.allGoogleFonts;this.themeRef=t.themeRef;this.siteRef=t.siteRef;this.brandDomain=t.brandDomain;this.protocol=t.protocol;this.templateStylePreprocessorVariablesEnabled=t.templateStylePreprocessorVariablesEnabled;this.ColourPickerView=t.ColourPickerView;this.FontPickerView=t.FontPickerView;this.ImagesPanelView=t.ImagesPanelView;this.v10CompatibilityMode=t.v10CompatibilityMode;this.$body=$("#siteFrame").contents().find("body");this.listenTo(this,"open:panel",this.openPanel);this.renderToDom();this.attachEvents();return this},renderToDom:function e(){var t=this;this.render();$(".js-style-panel-wrapper").empty().append(this.$el);setTimeout((function(){t.openPanel()}),100)},attachEvents:function e(){this.v10CompatibilityMode&&Editor.Events.on("sidebarPanel:changed pageSwitch:click dragdrop:dragStart visibility:click",this.closePanel.bind(this))},serializeData:function e(){return{globalValues:this.globalValuesCollection.toProcessedJSON(),presetAttributes:this.presetAttributesCollection.toProcessedJSON(),contentStyles:this.replaceStyleVariablesWithColour(this.contentStylesCollection.toJSON()),v10CompatibilityMode:i.default.getState().env.V10CompatibilityMode,mainTitle:(0,u.default)("shared_views.site_styles_panel.main_title","Design")}},replaceStyleVariablesWithColour:function e(t){var r=this;var n=/^@[a-z0-9-_]*$/;t.map((function(e){e.value&&e.value.match(n)&&(e.value=r.getColourFromVariableName(e.value));return e}));return t},getColourFromVariableName:function e(t){var r=/^@[a-z0-9-_]*$/;var n="#000";var i;try{n=Editor.Site.Presets.getValueFromLessVar(t)}catch(e){i=this.templateStylePreprocessorVariables.findWhere({name:t.substring(1)});if(!i)return n;n=i.get("value").match(r)?this.getColourFromVariableName(i.get("value")):i.get("value")}return n},changeBodyBackgroundType:function e(t){var r=$(t.target).val();if("solid"===r){this.hideImageBodyBackgroundOptions();this.hideGradientBodyBackgroundOptions();this.setBodyClassForBackgroundColour();this.saveBackgroundType("solidcolor");return this.showSolidBodyBackgroundOptions()}if("gradient"===r){this.hideImageBodyBackgroundOptions();this.hideSolidBodyBackgroundOptions();this.setBodyClassForGradient();this.saveBackgroundType("gradient");return this.showGradientBodyBackgroundOptions()}if("image"===r){this.hideSolidBodyBackgroundOptions();this.hideGradientBodyBackgroundOptions();this.setBodyClassForImage();this.saveBackgroundType("image");return this.showImageBodyBackgroundOptions()}return null},saveBackgroundType:function e(t){this.getGlobalValuesModel("backgroundtype").set("value",t);this.updateStyleSheet()},hideSolidBodyBackgroundOptions:function e(){var t=document.querySelector(".js-solid-container");t.setAttribute("hidden","hidden")},hideImageBodyBackgroundOptions:function e(){var t=document.querySelector(".js-image-container");t.setAttribute("hidden","hidden")},hideGradientBodyBackgroundOptions:function e(){var t=document.querySelector(".js-gradient-container");t.setAttribute("hidden","hidden")},showImageBodyBackgroundOptions:function e(){var t=document.querySelector(".js-image-container");t.removeAttribute("hidden")},showSolidBodyBackgroundOptions:function e(){var t=document.querySelector(".js-solid-container");t.removeAttribute("hidden")},showGradientBodyBackgroundOptions:function e(){var t=document.querySelector(".js-gradient-container");t.removeAttribute("hidden")},updateStyleSheet:function e(){var t={globalValues:this.globalValuesCollection.toProcessedJSON(),preprocessorVariables:this.presetAttributesCollection.toProcessedJSON(),templateStylePreprocessorVariables:this.contentStylesCollection.toProcessedJSON()};var r=App.session.get("siteRef");window.parent.fetch("/site-css-template-model/".concat(r),{credentials:"include",method:"POST",body:JSON.stringify(t),headers:{"X-CSRF-TOKEN":App.frontEndBucket.csrfToken}}).then((function(e){401===e.status&&Editor.Responsive.displaySessionTimeoutDialog();return e.text()})).then((function(e){Editor.Site.Dom.replaceCss(e);Editor.Site.Dom.cleanUpStyles()}))},openImagePopup:function e(){this.imagesPanelView=new this.ImagesPanelView({model:new BaseKit.Panels.Model({panel:"upload",parentPanel:void 0,subPanel:false,isSubPanel:false,showSaveBtn:false,title:App.t("shared_components.imagespanel.source_title","Image source")})}).render();this.listenTo(this.imagesPanelView,"asset:change",this.setAsset)},setAsset:function e(t){var r=t.url.replace(/http[s]?:\/\//i,"//");var n=$(".js-image-scale-select").val();this.getGlobalValuesModel("backgroundtype").set("value","image");this.getGlobalValuesModel("backgroundImageUrl").set("value",r);this.getPresetAttributeModel("@siteBackgroundImage").set("value","url(".concat(r,")"));this.getPresetAttributeModel("@siteBackgroundImageScale").set("value",n);$(".js-image-thumbnail").attr("src",r);this.updateStyleSheet();this.setBodyClassForImage()},setBodyClassForImage:function e(){var t=this.getPresetAttributeModel("@siteBackgroundImageScale").get("value");switch(t){case"original":this.$body.addClass("bgImageOriginal");this.$body.removeClass("bgImageFullscreen");this.$body.removeClass("bc");this.$body.removeClass("bgradVertical");this.$body.removeClass("bgradHorizontal");this.$body.removeClass("bgradCircular");this.$body.removeClass("bgImageFullscreen");return;case"full":this.$body.addClass("bgImageFullscreen");this.$body.removeClass("bgImageOriginal");this.$body.removeClass("bc");this.$body.removeClass("bgradVertical");this.$body.removeClass("bgradHorizontal");this.$body.removeClass("bgradCircular");this.$body.removeClass("bgImageOriginal")}},changeImageScale:function e(t){var r=$(t.target).val();this.getPresetAttributeModel("@siteBackgroundImageScale").set("value",r);this.updateStyleSheet();this.setBodyClassForImage()},changeImageAlignment:function e(){var t=$(".js-image-alignment-horizontal-select").val();var r=$(".js-image-alignment-vertical-select").val();this.getPresetAttributeModel("@siteBackgroundPositionX").set("value",t);this.getPresetAttributeModel("@siteBackgroundPositionY").set("value",r);this.updateStyleSheet();this.setBodyClassForImage()},changeImageRepeat:function e(t){var r=$(t.currentTarget).val();this.getPresetAttributeModel("@siteBackgroundRepeat").set("value",r);this.updateStyleSheet();this.setBodyClassForImage()},showSolidColourPalette:function e(){this.showColourPicker(this.getPresetAttributeModel("@siteBackgroundColor"),this.setBackgroundColour.bind(this))},showColourSetPalette:function e(t){var r=this;var n=t.currentTarget.getAttribute("data-name");this.showColourPicker(this.getPresetAttributeModel(n),(function(e,t){r.getPresetAttributeModel(n).set("value",t);r.el.querySelector('.js-colour-set-button[data-name="'.concat(n,'"] span')).style.backgroundColor=t;r.updateSiteColourSet(n.replace("@color--",""),t);r.updateStyleSheet()}))},updateSiteColourSet:function e(t,r){var n=(0,l.default)(i.default.getState().env.siteColorSet);n[t].background=r;i.default.dispatch((0,o.updateSiteColorSet)(n))},showStyleOptions:function e(t){var r=$(t.currentTarget).data("content-style-type");switch(r){case"colour":return this.showContentStylesColourPalette(t);case"font":return this.showContentStylesFontOptione(t)}return null},showContentStylesFontOptione:function e(t){var r=$(t.currentTarget).data("content-style-name");var n=this.getContentStyleModel(r);if("undefined"===typeof n)return;this.showFontOptions(n,this.updateFont.bind(this))},showContentStylesColourPalette:function e(t){var r=$(t.currentTarget).data("content-style-name");var n=this.getContentStyleModel(r);if("undefined"===typeof n)return;this.showColourPicker(n,this.updateContentStyle.bind(this))},updateFont:function e(){this.updateStyleSheet()},updateContentStyle:function e(t,r){var n=this.getContentStyleModel(t);$('button[data-content-style-name="'.concat(t,'"] > span')).css("background-color",r);n.set("value",r);this.updateStyleSheet()},setBackgroundColour:function e(t,r){this.getPresetAttributeModel("@siteBackgroundColor").set("value",r);this.getGlobalValuesModel("backgroundtype").set("value","solidcolor");this.$(".js-solid-colour-button > span").css("background-color",r);this.updateStyleSheet();this.setBodyClassForBackgroundColour()},setBodyClassForBackgroundColour:function e(){this.$body.addClass("bc");this.$body.removeClass("bgradVertical");this.$body.removeClass("bgradHorizontal");this.$body.removeClass("bgradCircular");this.$body.removeClass("bgImageOriginal");this.$body.removeClass("bgImageFullscreen")},showGradientColourPalette:function e(t){var r=$(t.currentTarget).data("colour");var n="one"===r?"@siteBackgroundGradientFrom":"@siteBackgroundGradientTo";this.showColourPicker(this.getPresetAttributeModel(n),this.setGradientColour.bind(this))},setGradientColour:function e(t,r){var n=this.presetAttributesCollection.findWhere({ref:t});n.set("value",r);this.getGlobalValuesModel("backgroundtype").set("value","gradient");this.updateStyleSheet();this.setBodyClassForGradient();switch(n.get("name")){case"@siteBackgroundGradientFrom":this.$('.js-gradient-colour-button[data-colour="one"] > span').css("background-color",r);return;case"@siteBackgroundGradientTo":this.$('.js-gradient-colour-button[data-colour="two"] > span').css("background-color",r)}},changeGradientType:function e(t){var r=$(t.target).val();this.getGlobalValuesModel("backgroundtype").set("value","gradient");this.getPresetAttributeModel("@siteBackgroundGradientType").set("value",r);this.updateStyleSheet();this.setBodyClassForGradient()},setBodyClassForGradient:function e(){var t=this.getPresetAttributeModel("@siteBackgroundGradientType").get("value");var r=this.getPresetAttributeModel("@siteBackgroundGradientFrom").get("value");var n=this.getPresetAttributeModel("@siteBackgroundGradientTo").get("value");if("undefined"===typeof r||"undefined"===typeof n)return;if("transparent"===r&&"transparent"===n)return;this.$body.removeClass("bc");this.$body.removeClass("bgImageFullscreen");this.$body.removeClass("bgImageOriginal");switch(t){case"vertical":this.$body.addClass("bgradVertical");this.$body.removeClass("bgradHorizontal");this.$body.removeClass("bgradCircular");return;case"horizontal":this.$body.addClass("bgradHorizontal");this.$body.removeClass("bgradVertical");this.$body.removeClass("bgradCircular");return;case"circular":this.$body.addClass("bgradCircular");this.$body.removeClass("bgradVertical");this.$body.removeClass("bgradHorizontal")}},getContentStyleModel:function e(t){return this.contentStylesCollection.findWhere({name:t})},getPresetAttributeModel:function e(t){var r=this.presetAttributesCollection.findWhere({name:t});if("undefined"===typeof r){r=new BaseKit.Globals.PresetAttribute({name:t,value:null});this.presetAttributesCollection.add(r)}return r},getGlobalValuesModel:function e(t){var r=this.globalValuesCollection.findWhere({name:t});if("undefined"===typeof r){r=new BaseKit.Globals.SiteGlobalValueModel({name:t,value:null});this.globalValuesCollection.add(r)}r.siteRef||(r.siteRef=App.session.get("siteRef"));return r},showColourPicker:function e(t,r){var n=this;null===this.colourPicker&&(this.colourPicker=new this.ColourPickerView({el:".js-colour-contents",afterRender:function e(){return n.openColourPalette()},colourChosen:r}));this.colourPicker.setModel(t);this.colourPicker.render()},showFontOptions:function e(t,r){var n=this;null===this.fontPicker&&(this.fontPicker=new this.FontPickerView({el:".js-font-contents",fontListContents:this.fontListContents,allGoogleFonts:this.allGoogleFonts,templateStylePreprocessorVariablesEnabled:this.templateStylePreprocessorVariablesEnabled,afterRender:function e(){return n.openFontPicker()}}));this.fontPicker.setModel(t);this.fontPicker.setFontChosen(r);this.fontPicker.render()},openPanel:function e(){this.$el.addClass("is-open");(0,s.closeIntercom)()},closePanel:function e(){i.default.dispatch((0,a.closePanel)());this.$el.removeClass("is-open");(0,s.openIntercom)()},openColourPalette:function e(){this.$el.find(".js-site-styles-panel").removeClass("is-open");this.$el.find(".js-colour-picker-container").addClass("is-open")},openFontPicker:function e(){$(".js-site-styles-panel").removeClass("is-open");$(".js-font-picker-container").addClass("is-open")},closeColourPalette:function e(){$(".js-site-styles-panel").addClass("is-open");$(".js-colour-picker-container").removeClass("is-open");this.colourPicker.setElement(this.$(".js-colour-picker-wrapper"));this.colourPicker.destroy();this.colourPicker=null},closeFontPicker:function e(){$(".js-site-styles-panel").addClass("is-open");$(".js-font-picker-container").removeClass("is-open");this.fontPicker.setElement(this.$(".js-font-panel-wrapper"));this.fontPicker.destroy();this.fontPicker=null},resetStylesButtonClicked:function e(){return new n.default({contentClassname:"dialog__content--center",title:App.t("editor.dialog.title.reset-styles","Reset styles"),content:new c.default({themeRef:this.themeRef,siteRef:this.siteRef,protocol:this.protocol,brandDomain:this.brandDomain})})}});var p=f;t["default"]=p},68576:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function n(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}var i=Backbone.View.extend({template:"colour_picker_panel_reset_styles_dialog",events:{"click .js-reset-styles":"resetStyles","click .js-cancel":"closeDialog"},initialize:function e(t){this.themeRef=t.themeRef;this.siteRef=t.siteRef;this.protocol=t.protocol;this.brandDomain=t.brandDomain;return this},render:function e(){this.renderTemplate(this.template);return this},resetStyles:function e(){var t=this;return n(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return window.parent.fetch("".concat(App.session.get("apiProxyBaseUrl"),"/sites/").concat(t.siteRef,"/reset-styles"),{credentials:"include",method:"POST",headers:{"X-CSRF-TOKEN":App.frontEndBucket.csrfToken}});case 2:r=n.sent;204===r.status?window.location="".concat(t.protocol,"://editor.").concat(t.brandDomain):401===r.status?Editor.Responsive.displaySessionTimeoutDialog():App.t("editor.dialog.reset-styles.error","We were unable to reset your site's styles. Please contact support.");case 4:case"end":return n.stop()}}),e)})))()}});var a=i;t["default"]=a},13509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_widgetpropertypanel_empty",initialize:function e(t){this.emptySettingMessage=t.emptySettingMessage||"";return this},serializeData:function e(){return{emptySettingMessage:this.emptySettingMessage}}});var n=r;t["default"]=n},93973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=l(r(7771));var i=l(r(13509));var a=r(19999);var o=l(r(59200));var s=l(r(248));function l(e){return e&&e.__esModule?e:{default:e}}var u="is-active";var c="is-open";function d(e){return e.ui.panel.activePanel}function f(e){return e.ui.panel.panelOpen}function p(e){return e.ui.panel.saveActive}function g(e){return e.ui.panel.hasError}var h=Marionette.CompositeView.extend({template:"view_settings_widgetpropertypanel",emptyView:i.default,keepWidgetPanelOpen:false,childEvents:{"save:disable":"onSaveDisabled","save:enable":"onSaveEnabled","save:validate":"onSaveValidated","setting:change":"onSettingsChange","setting:click":"onSettingsButtonClick","setting:reset":"onSettingsReset"},initialize:function e(t){this.profileModel=t.profileModel;this.widgetStyleSettingsViewFactory=t.widgetStyleSettingsViewFactory;this.styleSettingsProvider=t.styleSettingsProvider;this.stylesEnabled=false;this.settingsComponentProvider=t.settingsComponentProvider;this.tracker=t.tracker;t.rowsEnabled||this.setupViewBindings();return this},setupViewBindings:function e(){s.default.dispatch((0,a.removeError)());this.bindGlobalEvents();this.unsubscribe=s.default.subscribe(this.handleChange.bind(this))},handleChange:function e(){if(!this.el){this.unsubscribe();return}switch(d(s.default.getState())){case"style":this.renderStyle();break;case"settings":this.renderSettings();break}p(s.default.getState())&&!this.hasInputError()?this.enableSaveBtn():this.disableSaveBtn();s.default.getState().ui.panel.showSave?this.showSaveBtn():this.hideSaveBtn()},onSettingsChange:function e(t,r,n){s.default.dispatch((0,a.enableSave)());this.trigger(r,n)},onSettingsReset:function e(t,r,n){this.updateStyleSettings();this.options.rowsEnabled&&true===this.options.rowsEnabled||this.render()},onSettingsButtonClick:function e(t,r,n){this.trigger(r,n)},onPanelChange:function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s.default.dispatch((0,a.openPanel)(t));r?s.default.dispatch((0,a.hideSave)()):s.default.dispatch((0,a.showSave)())},childViewOptions:function e(){return{profileModel:this.profileModel,emptySettingMessage:this.emptySettingMessage}},childViewContainer:".js-settings-content",featuredChildViewContainer:".js-featured-settings-content",events:{"click .js-cancel-settings":"cancelBtnClicked",submit:"onSubmit","click .js-settings-tab-button":"settingsTabBtnClicked","click .js-style-tab-button":"styleTabBtnClicked","input input,textarea":"onChange"},onChange:function e(){!p(s.default.getState())&&this.hasInputError()||s.default.dispatch((0,a.enableSave)())},settingsTabBtnClicked:function e(t){t.preventDefault();if("settings"===d(s.default.getState()))return;s.default.dispatch((0,a.openPanel)("settings"))},renderSettings:function e(){var t=this.el.querySelector(".js-style-tab-button");if(t){t.classList.remove(u);this.el.querySelector(".js-settings-tab-button").classList.add(u);this.el.querySelector(".js-settings-tab").style.display="block";this.el.querySelector(".js-styles-tab").style.display="none"}this.el.querySelector(".js-save-settings")&&this.el.querySelector(".js-save-settings").removeAttribute("hidden")},styleTabBtnClicked:function e(t){t.preventDefault();if("style"===d(s.default.getState()))return;s.default.dispatch((0,a.openPanel)("style"))},renderStyle:function e(){this.el.querySelector(".js-settings-tab-button").classList.remove(u);this.el.querySelector(".js-style-tab-button").classList.add(u);this.el.querySelector(".js-styles-tab").style.display="block";this.el.querySelector(".js-settings-tab").style.display="none";this.el.querySelector(".js-save-settings")&&this.el.querySelector(".js-save-settings").setAttribute("hidden","hidden")},getChildView:function e(t){return this.settingsComponentProvider(t.get("type"))},serializeData:function e(){return{componentsLength:this.collection.length,widgetTitle:this.widgetTitle,immutable:this.model.get("immutable"),fixed:this.fixed,stylesEnabled:this.stylesEnabled,forceEnableSave:this.forceEnableSave}},bindGlobalEvents:function e(){o.default.Events.on("widgetSettings:exit-edit-mode",this.hideWidgetPanel.bind(this));o.default.Events.on("sidebarPanel:changed",this.hideWidgetPanel.bind(this));o.default.Events.on("setting:error:show",this.showSettingsError.bind(this));o.default.Events.on("setting:error:clear",this.clearSettingsError.bind(this));o.default.Events.on("on:toolbarOverlay:click on:textEditor:open",this.saveAndClosePanel.bind(this));o.default.Events.on("page:change",this.pageChangeCleanUp.bind(this));o.default.Events.on("panel:change",this.onPanelChange.bind(this))},pageChangeCleanUp:function e(){this.stopListening(this.model);this.model=null},saveAndClosePanel:function e(){f(s.default.getState())&&!g(s.default.hasError)&&this.saveSettingsChange()},onRender:function e(){this.el.classList.add(c);this.stylesEnabled&&this.renderStyleSectionsPanel();s.default.getState().ui.panel.activePanel||s.default.dispatch((0,a.openPanel)("settings"));o.default.Events.trigger("on:propertyPanel:open")},renderStyleSectionsPanel:function e(){var t=this.widgetStyleSettingsViewFactory.build({el:".js-style-content"});t.render()},attachHtml:function e(t,r,n){var i=null;if(r.model.get("featuredSetting")){i=t.$(this.featuredChildViewContainer);i.append(r.el)}else if(t.isBuffering){t.elBuffer.appendChild(r.el);t._bufferedChildren.push(r)}else t._insertBefore(r,n)||t._insertAfter(r)},onSaveDisabled:function e(){s.default.dispatch((0,a.disableSave)());s.default.dispatch((0,a.addError)())},onSaveValidated:function e(){this.hasInputError()||this.onSaveEnabled()},onSaveEnabled:function e(){s.default.dispatch((0,a.enableSave)());s.default.dispatch((0,a.removeError)())},disableSaveBtn:function e(){var t=this.el.querySelector(".js-save-settings");t&&t.setAttribute("disabled","disabled")},enableSaveBtn:function e(){var t=this.el.querySelector(".js-save-settings");t&&t.removeAttribute("disabled")},hideSaveBtn:function e(){var t=this.el.querySelector(".js-save-settings");t&&(t.style.display="none")},showSaveBtn:function e(){var t=this.el.querySelector(".js-save-settings");t&&(t.style.display="inherit")},showSettingsError:function e(t){var r=this.collection.get(t.settingId);if(!r)return;var n=this.children.findByModel(r);r.set("error",t.message);n.render();s.default.dispatch((0,a.disableSave)());s.default.dispatch((0,a.addError)())},clearSettingsError:function e(t){var r=this.collection.get(t);if(!r)return;var n=this.children.findByModel(r);r.set("error","");n.render();s.default.dispatch((0,a.enableSave)());s.default.dispatch((0,a.removeError)())},clearAllSettingsErrors:function e(){var t=this;this.collection.forEach((function(e){if(!e.get("error"))return;e.set("error","");var r=t.children.findByModel(e);r.render()}));s.default.dispatch((0,a.enableSave)());s.default.dispatch((0,a.removeError)())},hideWidgetPanel:function e(){this.el.classList.remove(c);s.default.dispatch((0,a.removeError)());this.previousPosition&&(document.querySelector(".js-site-preview").scrollTop=this.previousPosition);o.default.Events.trigger("on:propertyPanel:close");s.default.dispatch((0,a.closePanel)())},viewReset:function e(t){if(!f(s.default.getState())||g(s.default.getState())||t.enableSave){if(g(s.default.getState()))return this}else this.saveSettingsChange();this.cleanUpEventsListener();this.model=t.model||{};this.collection=t.collection||{};this.widgetTitle=t.widgetTitle||"";this.widgetName=t.widgetName||"";this.widgetUniqueId=t.widgetUniqueId;this.fixed=t.fixed;this.widgetType=t.className||"";this.widgetEl=t.widgetEl;this.forceEnableSave=t.enableSave;this.previousAttributes=t.previousAttributes;this.previousProfileAttributes=t.previousProfileAttributes;this.previousPosition=$(".js-site-preview").scrollTop();this.emptySettingMessage=t.emptySettingMessage||"";this.updateStyleSettings();this.options.rowsEnabled&&true===this.options.rowsEnabled||this.render();this.listenTo(this.model,"saved",this.widgetModelSaved);s.default.getState().ui.panel.activePanel||s.default.dispatch((0,a.openPanel)(""));t.enableSave||s.default.dispatch((0,a.disableSave)());s.default.getState().ui.panel.showSave||s.default.dispatch((0,a.hideSave)());return this},updateStyleSettings:function e(){if(this.styleSettingsProvider.hasStyleCollection()){var t=this.styleSettingsProvider.getStyleSettings({widgetType:this.widgetType,widgetEl:this.widgetEl,fixed:this.fixed,model:this.model});this.stylesEnabled=Object.keys(t).length>0;this.stylesEnabled&&s.default.dispatch((0,a.updateStyles)(t))}},cleanUpEventsListener:function e(){this.off();this.model&&this.stopListening(this.model,"saved",this.widgetModelSaved)},cancelBtnClicked:function e(){this.model.get("type")&&-1!==this.model.get("type").indexOf("widget.content")&&this.handleTextEditorClose();if(this.isModelChanged()&&!this.keepWidgetPanelOpen){this.model.clear({silent:true});this.model.set(this.previousAttributes)}if(this.isProfileModelChanged()&&!this.keepWidgetPanelOpen){this.profileModel.clear({silent:true});this.profileModel.set(this.previousProfileAttributes)}this.trigger("before:close");this.hideWidgetPanel()},onSubmit:function e(t){t.preventDefault();this.clearAllSettingsErrors();var r=this.checkRequiredFields();this.model.get("type")&&-1!==this.model.get("type").indexOf("widget.content")&&this.handleTextEditorClose();if(!g(s.default.getState())&&!r){this.saveSettingsChange();this.trigger("widget:save-clicked")}},checkRequiredFields:function e(){var t=false;var r=this.collection.filter((function(e){return e.get("required")}));r.forEach((function(e){var r=e.get("value");if(!r||!r.length){t=true;var i={settingId:e.get("id"),message:(0,n.default)("global.message-field-required","This field is required")};o.default.Events.trigger("setting:error:show",i)}}));return t},handleTextEditorClose:function e(){this.hideWidgetPanel()},saveSettingsChange:function e(){this.isProfileModelChanged()&&this.handleProfileModel();this.isModelChanged()?this.handleWidgetModel():this.hideWidgetPanel();this.trigger("save")},isModelChanged:function e(){var t=Object.keys(this.previousAttributes);var r=Object.keys(this.model.toJSON());var n=false;(this.model.changedAttributes(this.previousAttributes)||t.length!==r.length)&&(n=true);return n},isProfileModelChanged:function e(){var t=Object.keys(this.previousProfileAttributes);var r=Object.keys(this.profileModel.toJSON());var n=false;(this.profileModel.changedAttributes(this.previousProfileAttributes)||t.length!==r.length)&&(n=true);return n},handleWidgetModel:function e(){this.model.save({widgetName:this.widgetName,widgetUniqueId:this.widgetUniqueId,fixed:this.fixed});this.trackChanges()},handleProfileModel:function e(){this.profileModel.save()},widgetModelSaved:function e(){if(this.keepWidgetPanelOpen)return;this.hideWidgetPanel()},trackChanges:function e(){var t=this.getWidgetTypeName();if(""===t)return;this.sendChanges(t)},sendChanges:function e(t){if(!this.tracker)return;this.tracker.track("".concat(t," widget updated"),{changedFields:this.getChangedFields()})},getWidgetTypeName:function e(){var t=this.model.widgetType;var r=t.split(".");if(2!==r.length)return"";if("widget"!==r[0])return"";return r[1]},getChangedFields:function e(){var t=[];var r=this.previousAttributes,n=this.model;var i=n.toJSON();Object.keys(i).forEach((function(e){Object.prototype.hasOwnProperty.call(r,e)&&r[e]===i[e]||t.push(e)}));return t.join(", ")},hasInputError:function e(){return this.el.querySelectorAll(".settings__error-input").length>0}});var v=h;t["default"]=v},7354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(248));var i=o(r(18355));var a=r(20728);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){s(a,n,i,o,l,"next",e)}function l(e){s(a,n,i,o,l,"throw",e)}o(void 0)}))}}var u={onSettingsChange:function e(t,r,n){this.handleEmailVerificationOnChange(t,r,n)},onRender:function e(t){this.handleEmailVerificationOnRender(t)},updateEmailVerification:function e(){return l(regeneratorRuntime.mark((function e(){var t,r,i,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:t=n.default.getState();r=t.site.ref;i=t.env.csrfToken;o="".concat(t.env.apiProxyBaseUrl,"/sites/").concat(r,"/email-verification");s.next=6;return n.default.dispatch((0,a.getEmailVerification)(o,i));case 6:case"end":return s.stop()}}),e)})))()},handleEmailVerificationOnRender:function e(){var t=this;return l(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r=t.getEmailSettingsComponent();n=null;if(!r){i.next=8;break}n="profile-settings"===r.model.get("type")&&"form"===r.model.get("profileType")?r.model.get("email"):r.model.get("value");if(!(n&&!t.isEmailVerified(n))){i.next=8;break}i.next=7;return t.updateEmailVerification();case 7:if(t.isEmailUnverified(n)){t.emailToVerify=n;t.showEmailVerificationInfo()}case 8:case"end":return i.stop()}}),e)})))()},handleEmailVerificationOnChange:function e(t,r,n){if(t.model.get("emailVerificationEnable")){if("profile-settings"===t.model.get("type")){this.handlProfileWidget(r,n);Editor.Events.once("profile:changed",this.onSave.bind(this))}else this.handleEmailVerification(n);this.verificationView&&this.isEmailVerified(n)&&this.verificationView.remove()}},handlProfileWidget:function e(t,r){if("widget-profile-form-email"===t)this.handleEmailVerification(r);else{this.keepWidgetPanelOpen=false;this.emailToVerify=null;this.verificationView&&this.verificationView.remove()}},handleEmailVerification:function e(t){if(this.isEmailVerified(t)){this.keepWidgetPanelOpen=false;this.emailToVerify=null}else{this.keepWidgetPanelOpen=true;this.emailToVerify=t}},widgetModelSaved:function e(){this.onSave()},onSave:function e(){this.emailToVerify&&this.showEmailVerificationInfo()},showEmailVerificationInfo:function e(){this.verificationView=new i.default({email:this.emailToVerify,csrfToken:n.default.getState().env.csrfToken}).render();this.$(this.featuredChildViewContainer).empty().append(this.verificationView.el);this.disableSaveButton()},disableSaveButton:function e(){var t=this.getEmailSettingsComponent();t&&t.trigger("save:disable")},getEmailSettingsComponent:function e(){var t=this.collection.filter((function(e){return e.get("emailVerificationEnable")}));if(t.length>0)return this.children.findByModel(t[0]);return false},isEmailVerified:function e(t){return n.default.getState().site.emailVerification.some((function(e){return t===e.email&&1===parseInt(e.verified,10)}))},isEmailUnverified:function e(t){return n.default.getState().site.emailVerification.some((function(e){return t===e.email&&0===parseInt(e.verified,10)}))}};var c=u;t["default"]=c},46088:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=["contentgroup","policypages","ecombasket","ecombasketsummary","ecomconfirmation","ecomlegal","ecomproduct","blogpost","buynow","navigation","extendednavigation","feature","parkinglogin","fonectacontactform","fonectamap","menusections","menu","redirecttodesktop","resetpassword","forgottenpassword","responsivecolumns","row","companybrand","emaildisplay","companyaddress","companydescription","contact","languagemenu","linkedinprofile","linkedincompanyprofile","ecwid","ecwidsearch","ecwidbasket","bookingsservicelist","bookingsservice"];var o=["bookingsservicelist","bookingsservice"];var s=["ecomproductslist","ecomfeaturedproducts","ecomcategorieslist"];var l={content:["image","text","h1","button","gallery","responsiveslideshow","clicktocall","map"],layout:["line","space"],forms:["contactform","signupform","advancedcontactform"],files:["dropbox","filedownload"],video_and_audio:["youtube","embed","soundcloud"],social:["twitter","facebooklike","tweet","socialicons","yelpreview"],blog:["blogpostlist","blogsearch","disqus","facebookcomments"],store:["ecomproductslist","ecomfeaturedproducts","ecomcategorieslist","paypalbuynow"],others:[]};var u=function(){function e(t){r(this,e);this.userDataProvider=t.userDataProvider;this.featureFlagDataProvider=t.featureFlagDataProvider;this.pluginsDataProvider=t.pluginsDataProvider}i(e,[{key:"filterWidgetArray",value:function e(t){this.nonEmptyGroup=[];this.widgetData=t;this.removeRedundantTextWidgets();this.removeDenylistedWidgets();this.removeBookingsDenylistedWidgetsIfRequired();this.removeEcwidDenylistedWidgetsIfRequired();this.addDefaultImageWidget();this.updateWidgetProperties();this.sortContentWidgets();this.sortNonEmptyGroup();return{widgetData:this.widgetData,widgetGroup:this.nonEmptyGroup}}},{key:"removeRedundantTextWidgets",value:function e(){this.widgetData=this.widgetData.filter((function(e){if("text"===e.group&&("text"===e.name||"h1"===e.name))return true;if("text"!==e.group&&"none"!==e.group)return true;return false}))}},{key:"addDefaultImageWidget",value:function e(){this.widgetData.unshift({callback:"",default:1,description:"Image",enabled:1,group:"normal",imageName:"image",name:"image",private:0,ref:0,title:"IMAGE",type:"basics",value:"widget.image",version:"responsive"})}},{key:"removeDenylistedWidgets",value:function e(){this.widgetData=this.widgetData.filter((function(e){return-1===a.indexOf(e.name)}))}},{key:"removeBookingsDenylistedWidgetsIfRequired",value:function e(){if(!this._shouldRemoveBookingsDenylistedWidgets())return;this.widgetData=this.widgetData.filter((function(e){return-1===o.indexOf(e.name)}))}},{key:"removeEcwidDenylistedWidgetsIfRequired",value:function e(){if(!this._shouldRemoveEcwidDenylistedWidgets())return;this.widgetData=this.widgetData.filter((function(e){return-1===s.indexOf(e.name)}))}},{key:"attachTranslatedName",value:function e(t){var r=t.title.toLowerCase();r=r[0].toUpperCase()+r.slice(1);t.translatedName=App.t("shared_views.".concat(t.value,".title_52"),r)}},{key:"updateWidgetProperties",value:function e(){var t=this;this.widgetData.forEach((function(e){t.attachTranslatedName(e);t.addWidgetsPanelGroup(e)}))}},{key:"addWidgetsPanelGroup",value:function e(t){var r=this;Object.keys(l).forEach((function(e){if(-1!==l[e].indexOf(t.name)){t.groupName=e;r.updateNonEmptyGroup(e)}}));if("undefined"===typeof t.groupName){t.groupName="others";this.updateNonEmptyGroup("others")}}},{key:"updateNonEmptyGroup",value:function e(t){-1===this.nonEmptyGroup.indexOf(t)&&this.nonEmptyGroup.push(t)}},{key:"sortNonEmptyGroup",value:function e(){var t=this;var r=[];Object.keys(l).forEach((function(e){l[e]&&-1!==t.nonEmptyGroup.indexOf(e)&&r.push(e)}));this.nonEmptyGroup=r}},{key:"sortContentWidgets",value:function e(){var t=this;var r=[];var n=l.content;n.forEach((function(e){t.widgetData.forEach((function(n,i){if(n.name===e){t.widgetData.splice(i,1);r.push(n)}}))}));this.widgetData=r.concat(this.widgetData)}},{key:"_shouldRemoveBookingsDenylistedWidgets",value:function e(){if(!this._isInV10())return true;return!this._isConnectBookingsEnabled()}},{key:"_shouldRemoveEcwidDenylistedWidgets",value:function e(){if(!this._isInV10())return false;return this._isEcwidEnabled()}},{key:"_isInV10",value:function e(){return"ten"===this.userDataProvider.get("productVersion")}},{key:"_isConnectBookingsEnabled",value:function e(){return this.pluginsDataProvider.has("connect-bookings")&&this.featureFlagDataProvider.get("connectBookings")}},{key:"_isEcwidEnabled",value:function e(){return this.userDataProvider.has("enableEcwid")}}]);return e}();var c=u;t["default"]=c},18146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.Model=t.Model;this.Collection=t.Collection;this.WidgetsPanelView=t.WidgetsPanelView;this.dataFilter=t.dataFilter;this.EnvDataProvider=t.EnvDataProvider;this.featureFlagDataProvider=t.featureFlagDataProvider}i(e,[{key:"build",value:function e(t){var r=this.dataFilter.filterWidgetArray(t);var n=r.widgetData;var i=r.widgetGroup;var a=new this.Collection(n,{model:this.Model});this.widgetsPanelView=new this.WidgetsPanelView({el:".js-widgets-overlay-panel-container",collection:a,widgetGroup:i,EnvDataProvider:this.EnvDataProvider,featureFlagDataProvider:this.featureFlagDataProvider});return this.widgetsPanelView}}]);return e}();var o=a;t["default"]=o},90791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({tagName:"li",events:{"click .js-widget":"hidePanel"},initialize:function e(){this.widgetType=this.model.get("value");this.rowTemplate=null;this.model.on("widget:filtered",this.hideWidget.bind(this));this.model.on("widget:restored",this.showWidget.bind(this))},hideWidget:function e(){this.el.style.display="none"},showWidget:function e(){this.el.style.display=""}});var n=r;t["default"]=n},45515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return o(e)||a(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function c(e,t,r){t&&u(e.prototype,t);r&&u(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var d=function(){function e(t){l(this,e);this.view=t.view;this.cacheElements();this.keyEventHash={13:"_returnKeyDown",27:"_escKeyDown",8:"_backspaceKeyDown"}}c(e,[{key:"cacheElements",value:function e(){this.panelElements={panel:this.view.el,searchButton:this.view.el.querySelector(".js-search-footer"),closeButton:this.view.el.querySelector(".js-close-widget-overlay-panel"),searchInput:this.view.el.querySelector(".js-footer-search-field"),searchNoMatch:this.view.el.querySelector(".js-search-nomatch"),groupNameEls:this.view.el.querySelectorAll(".js-group")}}},{key:"applyFilter",value:function e(t){this.clearFilter();this.filteredWidgets=[];this.view.collection.models.forEach(function(e){if(-1===e.get("translatedName").toLowerCase().indexOf(t.toLowerCase())){e.trigger("widget:filtered");this.filteredWidgets.push(e)}}.bind(this));this._checkResultLength();this.hideGroupNames()}},{key:"clearFilter",value:function e(){if(!this.filteredWidgets)return;this.filteredWidgets.forEach((function(e){e.trigger("widget:restored")}));delete this.filteredWidgets;this._checkResultLength()}},{key:"getInput",value:function e(){return this.panelElements.searchInput.value}},{key:"clearInput",value:function e(){this.panelElements.searchInput.value="";this.showGroupNames()}},{key:"handleKeyup",value:function e(t){var r=this.keyEventHash[t.which];var n=this.getInput();if(r){this[r](n);return}this.clearFilter();this.applyFilter(n)}},{key:"_checkResultLength",value:function e(){if(this.filteredWidgets&&this.filteredWidgets.length===this.view.collection.models.length){this.panelElements.searchNoMatch.classList.add("show-message");return}this.panelElements.searchNoMatch.classList.remove("show-message")}},{key:"_returnKeyDown",value:function e(t){t.length>0?this.applyFilter(t):this.clearFilter()}},{key:"_escKeyDown",value:function e(t){if(t.length>0){this.clearInput();this.clearFilter()}else this.view.hidePanel()}},{key:"_backspaceKeyDown",value:function e(t){0===t.length&&this.showGroupNames();if(t.length<=1){this.clearFilter();return}this.applyFilter(t)}},{key:"hideGroupNames",value:function e(){r(this.panelElements.groupNameEls).forEach((function(e){e.setAttribute("hidden",true)}))}},{key:"showGroupNames",value:function e(){r(this.panelElements.groupNameEls).forEach((function(e){e.removeAttribute("hidden")}))}}]);return e}();var f=d;t["default"]=f},22259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(11474);var i=f(r(3377));var a=r(86192);var o=r(19999);var s=r(94014);var l=f(r(248));var u=f(r(85921));var c=f(r(45515));var d=f(r(90791));function f(e){return e&&e.__esModule?e:{default:e}}var p=i.default.getIframeDocument,g=i.default.scrollToMainZone;var h=Marionette.CompositeView.extend({childView:d.default,events:{"click .js-close-widget-overlay-panel":"togglePanel","click .js-widget-panel-backstop":"togglePanel","click .js-site-frame-backstop":"togglePanel","click .js-search-footer":"footerSearchClicked","keyup .js-footer-search-field":"footerSearchKeyup"},render:function e(){var t=this.collection.toJSON();var r=u.default.groupWidgets(t,this.widgetGroup);var n=Twig.render(Twig.templates.widgets_panel_container,{groupedWidgetData:r,widgets:t,customWidgetsDomain:this.EnvDataProvider.get("customWidgetsDomain"),enableRows:this.featureFlagDataProvider.get("enableRows")});(0,a.emptyElement)(this.widgetPanel);this.widgetPanel.innerHTML=n;this.attachChildrenEvents();this.onRender()},attachChildrenEvents:function e(){this.collection.each((function(e){this.attachWidgetItemFunction(e)}),this);this.delegateEvents()},attachWidgetItemFunction:function e(t){var r=new d.default({el:".js-widget[data-ref=".concat(t.get("ref"),"]"),model:t});this.proxyChildEvents(r);this.children.add(r)},initialize:function e(t){this.widgetGroup=t.widgetGroup;this.collection=t.collection;this.EnvDataProvider=t.EnvDataProvider;this.featureFlagDataProvider=t.featureFlagDataProvider;this.widgetPanel=this.el.querySelector(".js-widgets-overlay-panel");this.attachEditorEvents()},attachEditorEvents:function e(){Editor.Events.on("toolbar:togglePopover",this.togglePanel.bind(this));Editor.Events.on("widgetSettingsPanel:opened",this.hidePanel.bind(this));Editor.Events.on("dragdrop:clickToAddWidget",this.hidePanel.bind(this));Editor.Events.on("dragdrop:dragStart",this.hidePanel.bind(this))},footerSearchClicked:function e(){var t=this.search.getInput();this.search.applyFilter(t)},footerSearchKeyup:function e(t){this.search.handleKeyup(t)},togglePanel:function e(){Editor.Events.trigger("addRowMode:addButtons");if(l.default.getState().ui.panel.panelOpen){l.default.dispatch((0,o.closePanel)());this.hidePanel();this.unfocusMainZone()}else{l.default.dispatch((0,o.openPanel)("content"));this._addWidgetAddModeClass();this.widgetPanel.classList.add("is-open");this.giveSearchBoxFocus();this.hidePreviewBar();this.focusMainZone();(0,s.closeIntercom)()}},focusMainZone:function e(){if("coarse"===n.deviceFeaturesHelper.getInputType()){g();p().body.classList.add("drag-active")}},unfocusMainZone:function e(){"coarse"===n.deviceFeaturesHelper.getInputType()&&p().body.classList.remove("drag-active")},hidePreviewBar:function e(){if(n.deviceFeaturesHelper.isSmallDevice()){document.querySelector(".js-main-toolbar").classList.add("hidden");document.querySelector(".editor-body").classList.add("no-preview")}},showPreviewBar:function e(){if(n.deviceFeaturesHelper.isSmallDevice()){document.querySelector(".js-main-toolbar").classList.remove("hidden");document.querySelector(".editor-body").classList.remove("no-preview")}},giveSearchBoxFocus:function e(){this.el.querySelector(".js-footer-search-field").focus()},hidePanel:function e(){this.resetWidgetPanel();this.widgetPanel.classList.remove("is-open");this._removeWidgetAddModeClass();l.default.dispatch((0,o.closePanel)());(0,s.openIntercom)()},resetWidgetPanel:function e(){this.search.clearInput();this.showPreviewBar();this.search.clearFilter()},onRender:function e(){this.search=new c.default({view:this});this.setTouchClasses();this.bindEvents()},bindEvents:function e(){Editor.Events.on("screenMode:change",this.hidePanel.bind(this));p().querySelector(".js-site-frame-backstop").addEventListener("click",this.hidePanel.bind(this))},setTouchClasses:function e(){"coarse"===n.deviceFeaturesHelper.getInputType()&&this.widgetPanel.classList.add("mobile-panel")},_addWidgetAddModeClass:function e(){p().body.classList.add("widget-add-mode");document.body.classList.add("widget-add-mode")},_removeWidgetAddModeClass:function e(){p().body.classList.remove("widget-add-mode");document.body.classList.remove("widget-add-mode")}});var v=h;t["default"]=v},85921:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={groupWidgets:function e(t,r){var n={};r.forEach((function(e){n[e]=[];t.forEach((function(t){t.groupName===e&&n[e].push(t)}))}));return n}};var n=r;t["default"]=n},41505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(18146));var i=o(r(46088));var a=o(r(22259));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){e.factory("WidgetsPanelDataFilter",(function(e){return new i.default({userDataProvider:e.UserDataProvider,featureFlagDataProvider:e.featureFlagDataProvider,pluginsDataProvider:e.PluginsDataProvider})}));e.factory("WidgetsPanelFactory",(function(e){return new n.default({Collection:Backbone.Collection.extend(),Model:Backbone.Model.extend(),dataFilter:e.WidgetsPanelDataFilter,WidgetsPanelView:a.default,EnvDataProvider:e.EnvDataProvider,featureFlagDataProvider:e.featureFlagDataProvider})}));return e}var l=s;t["default"]=l},8201:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(73471));function i(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.View.extend({template:"header_footer_sharing_content_dialog",events:{"click .js-content-option":"onOptionClicked"},initialize:function e(t){this.zoneType=t.zoneType;this.currentZoneScope=t.currentZoneScope;this.zoneRestorer=t.zoneRestorer;this.zoneCloner=t.zoneCloner;this.templateRenderer=t.templateRenderer},onOptionClicked:function e(t){var r=t.currentTarget;var n="is-selected";if(r.classList.contains(n))return;var i=r.parentNode.querySelector(".".concat(n));i.classList.remove(n);r.classList.add(n)},restoreZone:function e(){this.zoneRestorer.restoreZone({name:this.zoneType,pageRef:Number((0,n.default)().get("pageRef"))})},cloneZone:function e(){this.zoneCloner.cloneZone({name:this.zoneType,pageRef:Number((0,n.default)().get("pageRef"))})},closeDialog:function e(){this.trigger("view:remove")},render:function e(){var t=this.templateRenderer.render(this.template,{zoneType:this.zoneType,currentZoneScope:this.currentZoneScope});var r=document.querySelectorAll(".js-dialog-contents");var n=r.item(r.length-1);n.insertAdjacentHTML("beforeend",t);this.onRender()},onRender:function e(){this.modal&&this.modal.modal.on("dialog:done",this.onDoneClicked.bind(this))},onDoneClicked:function e(){var t=this.el.querySelector(".is-selected");t.classList.contains("js-custom-option")&&"custom"!==this.currentZoneScope&&this.cloneZone();t.classList.contains("js-shared-option")&&"shared"!==this.currentZoneScope&&this.restoreZone();this.closeDialog()}});var o=a;t["default"]=o},19341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(73471));function i(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.View.extend({template:"shared_row_dialog",events:{"click .js-change-zone-scope":"changeZoneScopeClicked","click .js-cancel":"cancelClicked","click .js-update":"updateClicked","click .js-done":"closeDialog"},initialize:function e(t){this.zoneType=t.zoneType;this.currentZoneScope=t.currentZoneScope;this.zoneRestorer=t.zoneRestorer;this.zoneCloner=t.zoneCloner;this.templateRenderer=t.templateRenderer},updateClicked:function e(){this.useSharedZoneEl.checked&&"shared"!==this.currentZoneScope&&this.restoreZone();this.useCustomZoneEl.checked&&"custom"!==this.currentZoneScope&&this.cloneZone();this.closeDialog()},closeDialog:function e(){this.trigger("view:remove")},restoreZone:function e(){this.zoneRestorer.restoreZone({name:this.zoneType,pageRef:Number((0,n.default)().get("pageRef"))})},cloneZone:function e(){this.zoneCloner.cloneZone({name:this.zoneType,pageRef:Number((0,n.default)().get("pageRef"))})},cacheElements:function e(){this.stepOneEl=this.el.querySelector(".js-step-one");this.stepTwoEl=this.el.querySelector(".js-step-two");this.useSharedZoneEl=this.el.querySelector("#use-shared-zone");this.useCustomZoneEl=this.el.querySelector("#use-custom-zone")},goForward:function e(){this.stepOneEl.setAttribute("hidden",true);this.stepTwoEl.removeAttribute("hidden")},goBack:function e(){this.stepTwoEl.setAttribute("hidden",true);this.stepOneEl.removeAttribute("hidden")},changeZoneScopeClicked:function e(){this.goForward()},cancelClicked:function e(){this.goBack()},render:function e(){var t=this.templateRenderer.render(this.template,{zoneType:this.zoneType,currentZoneScope:this.currentZoneScope});var r=document.querySelectorAll(".js-dialog-contents");var n=r.item(r.length-1);n.insertAdjacentHTML("beforeend",t);this.cacheElements()}});var o=a;t["default"]=o},31708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.zoneCloner=t.zoneCloner;this.zoneRestorer=t.zoneRestorer;this.templateRenderer=t.templateRenderer}i(e,[{key:"build",value:function e(t,r,n){return new t({zoneCloner:this.zoneCloner,zoneRestorer:this.zoneRestorer,templateRenderer:this.templateRenderer,zoneType:n,currentZoneScope:r})}}]);return e}();var o=a;t["default"]=o},82824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(7771));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(t){a(this,e);this.DialogPanelView=t.DialogPanelView;this.contentViewFactory=t.contentViewFactory}s(e,[{key:"display",value:function e(t,r,i,a){var o=(0,n.default)("editor.zone_scope_dialog.title_header","Page header");var s=(0,n.default)("editor.zone_scope_dialog.title_footer","Page footer");return new this.DialogPanelView(Object.assign({title:"header"===i?o:s,content:this.contentViewFactory.build(t,r,i)},a))}}]);return e}();var u=l;t["default"]=u},58916:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;r(this,e);this.mainWindow=t;this._properties={siteLanguages:this.mainWindow.Server.siteLanguages,siteCurrentLanguage:this.mainWindow.Server.siteCurrentLanguage,siteDefaultLanguage:this.mainWindow.Server.siteDefaultLanguage,siteLanguageMenuSettings:this.mainWindow.Server.siteLanguageMenuSettings}}i(e,[{key:"get",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object.keys(this._properties).includes(t))return this._properties[t];return r}}]);return e}();t["default"]=a},98368:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){return window.BaseKit.Widget}},60956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){return window.Server.widgetsOnPage}},56802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=f(r(41351));var i=f(r(56334));var a=f(r(47470));var o=f(r(99806));var s=f(r(16458));var l=f(r(98368));var u=f(r(35074));var c=f(r(58916));var d=f(r(45775));function f(e){return e&&e.__esModule?e:{default:e}}var p=new n.default;p.factory("WidgetClassDefinitionRetriever",(function(){return new i.default({widgetDefinitionsProvider:l.default})}));p.factory("WidgetViewFactory",(function(e){return new s.default({widgetClassDefinitionRetriever:e.WidgetClassDefinitionRetriever,StdViewClass:Backbone.View})}));p.factory("WidgetModelFactory",(function(e){return new o.default({widgetClassDefinitionRetriever:e.WidgetClassDefinitionRetriever,StdModelClass:Backbone.View})}));p.factory("WidgetFactory",(function(e){return new a.default({widgetViewFactory:e.WidgetViewFactory,widgetModelFactory:e.WidgetModelFactory})}));p.factory("siteLanguageDataProvider",(function(){return new c.default(window)}));p.factory("languageMenuRendererFactory",(function(e){return new u.default({LanguageMenuRenderer:d.default,targetElement:window.document.body,languageDataProvider:e.siteLanguageDataProvider})}));var g=p.container;t["default"]=g},45775:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(248));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return u(e)||l(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function p(e,t,r){t&&f(e.prototype,t);r&&f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.siteLanguages,i=void 0===r?[]:r,a=t.siteDefaultLanguage,o=void 0!==a&&a,s=t.siteCurrentLanguage,l=void 0!==s&&s,u=t.siteLanguageMenuSettings,c=void 0===u?{}:u,f=t.sitePreview,p=void 0!==f&&f,g=t.widgetOverlayView,h=void 0!==g&&g,v=t.targetElement,m=void 0===v?window.document.body:v;d(this,e);this.siteLanguages=0!==n.default.getState().language.siteLanguages.length?n.default.getState().language.siteLanguages:i;this.siteDefaultLanguage=0!==n.default.getState().language.defaultLanguage.language.length?n.default.getState().language.defaultLanguage:o;this.siteCurrentLanguage=l;this.siteLanguageMenuSettings=c;this.sitePreview=p;this.widgetOverlayView=h;this.overlayElement=false;this.targetElement=m;this._listenToEvents()}p(e,[{key:"display",value:function e(){if(!this.siteDefaultLanguage||0===this.siteLanguages.length||this._isPageBlogOrStore())return;if(!this._hasActiveLanguages())return;this._renderMenu()}},{key:"reRender",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.siteLanguages,n=void 0!==r&&r,i=t.siteLanguageMenuSettings,a=void 0!==i&&i,o=t.siteDefaultLanguage,s=void 0!==o&&o,l=t.siteCurrentLanguage,u=void 0!==l&&l;var c=this.targetElement.querySelector(".js-language-selector");c&&c.parentNode.removeChild(c);false!==n&&(this.siteLanguages=n);false!==a&&(this.siteLanguageMenuSettings=a);false!==s&&(this.siteDefaultLanguage=s);false!==u&&(this.siteCurrentLanguage=u);if(false===this.siteDefaultLanguage||0===this.siteLanguages.length)return;if(!this._hasActiveLanguages())return;this._renderMenu()}},{key:"_listenToEvents",value:function e(){var t=this;var r=this.targetElement.ownerDocument.defaultView;if(!this.sitePreview)return;r.addEventListener("message",(function(e){var r="string"===typeof e.data?e.data:e.data.action||"";"rerender:languagemenu"===r&&t.reRender(e.data)}),false)}},{key:"_renderMenu",value:function e(){var t=this.targetElement;var r=this._createMenuElement();t.insertBefore(r,t.firstChild);var n=t.querySelector(".js-language-selector--current");if(!n)return;n.addEventListener("click",(function(e){e.preventDefault();e.stopPropagation();var r=t.querySelector(".js-language-selector");if(t.classList.contains("touch")){r.classList.toggle("hover");var n=function e(){r.classList.toggle("hover");document.removeEventListener("click",e)};document.addEventListener("click",n)}}))}},{key:"_setupMenuOverlay",value:function e(t){var r=this;this.overlayElement||(this.overlayElement=this.widgetOverlayView.render().el);t.appendChild(this.overlayElement);this.overlayElement.addEventListener("mouseenter",(function(){var e=a(r.targetElement.querySelectorAll(".js-widget-overlay.hover"));e.forEach((function(e){return e.classList.remove("hover")}));r.overlayElement.classList.add("hover")}));this.overlayElement.addEventListener("mouseleave",(function(){r.overlayElement.classList.remove("hover")}));this.widgetOverlayView.on("widget:settings",(function(){Editor.Events.trigger("languagemenu:settings")}));this.widgetOverlayView.on("widget:overlayClick",(function(){Editor.Events.trigger("languagemenu:settings")}))}},{key:"_createMenuElement",value:function e(){var t=this;var r=document.createElement("div");var n=this._getMenuElementClasses();var i=this._createMenuInnerElement();var a=this._createLanguageList();var o=this.siteLanguages.slice(0);o.unshift(this.siteDefaultLanguage);o=o.filter((function(e){return!e.active||"0"!==e.active}));n.forEach((function(e){return r.classList.add(e)}));r.appendChild(i);i.appendChild(a);o.forEach((function(e){var r=document.createElement("li");var n=t._createLanguageLinkElement(e);var i=t._getItemClasses(e);i.forEach((function(e){return r.classList.add(e)}));r.appendChild(n);a.appendChild(r)}));this.sitePreview&&this.widgetOverlayView&&this._setupMenuOverlay(i);return r}},{key:"_getItemClasses",value:function e(t){var r=["language-selector__item"];var n=this.siteCurrentLanguage?this.siteCurrentLanguage.language:"";t.id||r.push("language-selector__item---default");n===t.language&&r.push("language-selector__item--current","js-language-selector--current");""!==n||t.id||r.push("language-selector__item--current","js-language-selector--current");return r}},{key:"_createLanguageLinkElement",value:function e(t){var r=document.createElement("a");var n=document.createElement("span");var i=document.createElement("span");n.classList.add("language-selector__icon");t.flag&&n.classList.add("language-selector__icon--".concat(t.flag.toLowerCase()));i.classList.add("language-selector__name");i.textContent=t.localisedName;r.classList.add("language-selector__link");r.appendChild(n);r.appendChild(i);if(this.sitePreview){r.addEventListener("click",(function(e){return e.preventDefault()}));r.addEventListener("hover",(function(e){return e.preventDefault()}));r.classList.add("language-selector__link--site-preview")}t.id?r.setAttribute("href","/".concat(t.language,"/home")):r.setAttribute("href","/");return r}},{key:"_createLanguageList",value:function e(){var t=document.createElement("ul");t.classList.add("language-selector__list");return t}},{key:"_createMenuInnerElement",value:function e(){var t=document.createElement("div");t.classList.add("language-selector__inner");return t}},{key:"_getMenuElementClasses",value:function e(){var t=["language-selector","js-language-selector"];var r="language-selector--light";var n="language-selector--horizontal";var i="language-selector--flag-text";this.sitePreview&&t.push("language-selector--site-preview");null!==this.siteLanguageMenuSettings&&this.siteLanguageMenuSettings.menuShade&&(r="language-selector--".concat(this.siteLanguageMenuSettings.menuShade));null!==this.siteLanguageMenuSettings&&this.siteLanguageMenuSettings.menuStyle&&(n="language-selector--".concat(this.siteLanguageMenuSettings.menuStyle));null!==this.siteLanguageMenuSettings&&this.siteLanguageMenuSettings.menuType&&(i="language-selector--".concat(this.siteLanguageMenuSettings.menuType));return t.concat([r,n,i])}},{key:"_isPageBlogOrStore",value:function e(){var t=this.targetElement.ownerDocument.defaultView;if("undefined"===typeof t.Server)return false;if("undefined"===typeof t.Server.page)return false;return"ecomproductlist"===t.Server.page.templateType||"ecombasketsummary"===t.Server.page.templateType||"ecomproduct"===t.Server.page.templateType||"ecomlegal"===t.Server.page.templateType||"blogpostlist"===t.Server.page.templateType||"blogpost"===t.Server.page.templateType}},{key:"_hasActiveLanguages",value:function e(){return this.siteLanguages.some((function(e){return 1===parseInt(e.active,10)}))}}]);return e}();t["default"]=g},35074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(11474);var i=o(r(44189));var a=o(r(36864));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function u(e,t,r){t&&l(e.prototype,t);r&&l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.LanguageMenuRenderer,n=void 0===r?{}:r,i=t.languageDataProvider,a=void 0===i?{}:i,o=t.sitePreview,l=void 0!==o&&o,u=t.targetElement,c=void 0===u?window.document.body:u,d=t.templateRenderer;s(this,e);this.LanguageMenuRenderer=n;this.languageDataProvider=a;this.sitePreview=l;this.targetElement=c;this.templateRenderer=d}u(e,[{key:"build",value:function e(t){var r=this.languageDataProvider.get("siteLanguages");var n=this.languageDataProvider.get("siteDefaultLanguage");var i=this.languageDataProvider.get("siteCurrentLanguage");var a=this.languageDataProvider.get("siteLanguageMenuSettings");var o=this.languageDataProvider;var s=this.createWidgetOverlayView();return new this.LanguageMenuRenderer({siteLanguages:r,siteDefaultLanguage:n,siteCurrentLanguage:i,siteLanguageMenuSettings:a,languageDataProvider:o,widgetOverlayView:s,targetElement:t,sitePreview:this.sitePreview})}},{key:"createWidgetOverlayView",value:function e(){var t={showTplWidget:false,isDeletable:false,isImageEditable:false,isMovable:false,showSettingsIcon:n.deviceFeaturesHelper.isSmallTouchDevice(),parentView:{$:function e(){return[]}},templateRenderer:this.templateRenderer};if(!this.sitePreview)return false;return n.deviceFeaturesHelper.isSmallTouchDevice()?new a.default(t):new i.default(t)}}]);return e}();t["default"]=c},56334:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(39052);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function o(e,t,r){t&&a(e.prototype,t);r&&a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var s=function(){function e(t){i(this,e);this.widgetDefinitionsProvider=t.widgetDefinitionsProvider}o(e,[{key:"getDefinition",value:function e(t){var r=this.widgetDefinitionsProvider();var n="".concat(d(t.widgetType)).concat(t.type);var i="function"===typeof r[n]?r[n]:t.StdClass;return i}}]);return e}();var l=s;t["default"]=l;function u(e){return(0,n.camelCase)("basekit.".concat(e)).replace(/^basekitWidget/i,"")}function c(e){var t="ColumnsColumn"===e?"ResponsivecolumnsColumn":e;return t}function d(e){return c(u(e))}},47470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.widgetViewFactory=t.widgetViewFactory;this.widgetModelFactory=t.widgetModelFactory}i(e,[{key:"build",value:function e(t){var r=this.widgetModelFactory.build(t);this.widgetViewFactory.build(t,r)}}]);return e}();var o=a;t["default"]=o},99806:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(92107));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function c(e,t,r){t&&u(e.prototype,t);r&&u(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var d=function(){function e(t){l(this,e);this.widgetClassDefinitionRetriever=t.widgetClassDefinitionRetriever;this.StdModelClass=t.StdModelClass;this.rowsEnabled=t.rowsEnabled}c(e,[{key:"build",value:function e(t){var r=this.widgetClassDefinitionRetriever.getDefinition({widgetType:t.type,type:"Model",StdClass:this.StdModelClass});var i=new r(o(o({},t.data),{},{uniqueId:t.uniqueId}));if(this.rowsEnabled){i.stateManager=new n.default(i);i.stateManager.storeCurrentState()}return i}}]);return e}();var f=d;t["default"]=f},16458:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(248));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(t){a(this,e);this.widgetClassDefinitionRetriever=t.widgetClassDefinitionRetriever;this.StdViewClass=t.StdViewClass}s(e,[{key:"build",value:function e(t,r){var i=this.widgetClassDefinitionRetriever.getDefinition({widgetType:t.type,type:"View",StdClass:this.StdViewClass});var a=this._setSelectorAccordingToWidgetType(t);var o=new i({el:a,properties:c(t),model:r,store:n.default,profile:BaseKit.Globals.profile,pages:BaseKit.Globals.pages,assets:BaseKit.Globals.imageAssets,enablePolicyPages:t.enablePolicyPages});return o}},{key:"_setSelectorAccordingToWidgetType",value:function e(t){if(t.isTemplateWidget)return"#".concat(t.uniqueHTMLId);return'[data-uniqueid="'.concat(t.uniqueId,'"]')}}]);return e}();var u=l;t["default"]=u;function c(e){return{fixed:e.fixed,name:e.name,className:e.className,uniqueId:e.uniqueId,uniqueHTMLId:e.uniqueHTMLId,debugMode:e.debugMode||void 0,type:e.type,ref:e.ref}}},65814:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=l(r(7771));var i=r(62936);var a=l(r(52245));var o=l(r(67120));var s=r(3377);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function d(e,t,r){t&&c(e.prototype,t);r&&c(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var f=a.default.iOSFixRequired();var p=a.default.isiOS13OrAbove();var g=function(){function e(t){u(this,e);if(!t.featureFlagDataProvider.get("enableRows"))return;this.store=t.store;this.widgetSettingsData=t.widgetSettingsData;this.editModeLayoutView=t.editModeLayoutView;this.eventDispatcher=t.eventDispatcher;this.RowEditingToolbarView=t.RowEditingToolbarView;this.RowSettingsView=t.RowSettingsView;this.RowSettingsViewEmailMixin=t.RowSettingsViewEmailMixin;this.TooltipView=t.TooltipView;this.templateRenderer=t.templateRenderer;this.widgetSettingsComponentViewFactory=t.widgetSettingsComponentViewFactory;this.rowLayoutControl=t.rowLayoutControl;this.envDataProvider=t.envDataProvider;this.widgetRegister=t.widgetRegister;this.featureFlagDataProvider=t.featureFlagDataProvider;this.featureFlagDataProvider.get("enableRows")&&this.editModeLayoutView.render();this.featureFlagDataProvider.get("formEmailVerification")&&(this.RowSettingsView=Cocktail.mixin(this.RowSettingsView,this.RowSettingsViewEmailMixin));this.attachEvents()}d(e,[{key:"attachEvents",value:function e(){Editor.Events.on("widgetSettings:changed",this.openSettings.bind(this))}},{key:"enable",value:function e(t){this._storeScrollPosition();this._cacheActiveRowView(t);f&&this.eventDispatcher.trigger("iosFrameBug:reset");this.editModeLayoutView.enableEditMode(this.rowView);this._renderViews()}},{key:"disable",value:function e(){this.store.dispatch((0,i.closeWidgetSettings)());this.editModeLayoutView.disableEditMode(this.rowView);if(f){this.eventDispatcher.trigger("iosFrameBug:fix");this._restoreScrollPosition()}p&&this._restoreScrollPosition()}},{key:"showStyleOptions",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-style-picker",autoSave:true});this.editModeLayoutView.getRegion("drawer").show(t);this.editModeLayoutView.getRegion("tooltip").empty()}},{key:"showRowPicker",value:function e(){this.editModeLayoutView.getRegion("drawer").empty();this.editModeLayoutView.getRegion("tooltip").empty();this.editModeLayoutView.getRegion("banner").empty();this.rowLayoutControl.enable(this.rowView)}},{key:"showRowLayoutSwitcher",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-layout-picker",autoSave:true});this.editModeLayoutView.getRegion("drawer").show(t);this.editModeLayoutView.getRegion("tooltip").empty()}},{key:"showShapeDividerSwitcher",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-shape-divider-picker",autoSave:true});this.editModeLayoutView.getRegion("drawer").show(t);this.editModeLayoutView.getRegion("tooltip").empty()}},{key:"showAnimationPicker",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-animation-picker",autoSave:true});this.editModeLayoutView.getRegion("animationPicker").show(t)}},{key:"showSectionHeightPicker",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-section-height-picker",autoSave:true});this.editModeLayoutView.getRegion("sectionHeightPicker").show(t)}},{key:"showSectionWidthPicker",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-section-width-picker",autoSave:true});this.editModeLayoutView.getRegion("sectionWidthPicker").show(t)}},{key:"showSectionGradientPicker",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-section-gradient-picker",autoSave:true});this.editModeLayoutView.getRegion("sectionGradientPicker").show(t)}},{key:"openSettings",value:function e(t){if(!this.store.getState().site.isRowEditingMode)return;this._renderSettings(t);var r=this.editModeLayoutView.getRegion("settings").currentView;var n=this.widgetSettingsComponentViewFactory.build({widgetView:t});r.getRegion("settingsBody").show(n)}},{key:"isSettingsAlreadyOpen",value:function e(){var t=this.widgetSettingsData.get();return t.openWidgetUniqueId}},{key:"hideStyleOptions",value:function e(){this.editModeLayoutView.getRegion("drawer").empty();this._renderTooltip()}},{key:"_storeScrollPosition",value:function e(){this.scrollTop=p?(0,s.getIframeWindow)().scrollY:document.querySelector(".js-site-preview").scrollTop}},{key:"_restoreScrollPosition",value:function e(){p?(0,s.getIframeWindow)().scrollTo(0,this.scrollTop):document.querySelector(".js-site-preview").scrollTo(0,this.scrollTop)}},{key:"_showBanner",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-information"});this.editModeLayoutView.getRegion("banner").show(t)}},{key:"_cacheActiveRowView",value:function e(t){this.rowView=t}},{key:"_renderViews",value:function e(){this._renderToolbar();this._renderTooltip();this.rowView.isHeaderOrFooterRow()&&this._showBanner()}},{key:"_renderToolbar",value:function e(){var t=new this.RowEditingToolbarView({templateRenderer:this.templateRenderer,disableEditMode:this.disable.bind(this),editMode:this,rowProperties:this.rowView.properties,envDataProvider:this.envDataProvider});this.editModeLayoutView.getRegion("toolbar").show(t)}},{key:"_renderTooltip",value:function e(){if(o.default.getItem("rowEditModeContentHintShown"))return;var t="Tap any content to change its properties";var r=new this.TooltipView({text:(0,n.default)("editor.row_editing.content_hint",t),templateRenderer:this.templateRenderer,closeCallback:function e(){o.default.setItem("rowEditModeContentHintShown",true)}});this.editModeLayoutView.getRegion("tooltip").show(r)}},{key:"_renderSettings",value:function e(t){var r=this.widgetRegister.getParentByUniqueId(t.model.get("uniqueId"));var n=new this.RowSettingsView({store:this.store,templateRenderer:this.templateRenderer,model:t.model,profileModel:t.profileModel,title:t.getSettings().title,widgetView:t,parentWidget:r});this.editModeLayoutView.getRegion("settings").show(n);this.settings=n;Editor.Events.on("setting:error:show",this.showSettingsError.bind(this));Editor.Events.on("setting:error:clear",this.clearSettingsError.bind(this));Editor.Events.on("setting:save:enable",this._enableSaveSettings.bind(this));Editor.Events.on("setting:save:disable",this._disableSaveSettings.bind(this));this._removeTooltip()}},{key:"_removeTooltip",value:function e(){this.editModeLayoutView.getRegion("tooltip").empty();o.default.setItem("rowEditModeContentHintShown",true)}},{key:"_getErrorModel",value:function e(t){var r=this.settings.settingsBody.currentView.collection.toArray();var n=!!(r&&r[0].get("groupId"));var i=null;n?this.settings.settingsBody.currentView.collection.toJSON().every((function(e){var r=e.collection.filter((function(e){return e.get("id")===t})).pop();if(r){i=r;return false}return true})):i=r.filter((function(e){return e.get("id")===t})).pop();return i}},{key:"showSettingsError",value:function e(t){if(!this.store.getState().site.isRowEditingMode)return;var r=this._getErrorModel(t.settingId);r&&r.set("error",t.message);var n=this.settings.settingsBody.currentView;n.render();this.settings.el.classList.add("error");this.settings.el.querySelector(".js-save-panel").disabled=true}},{key:"clearSettingsError",value:function e(t){if(!this.store.getState().site.isRowEditingMode)return;var r=this._getErrorModel(t);r&&r.set("error","");var n=this.settings.settingsBody.currentView;n.render();if(n.el.querySelectorAll(".popup-panel-form__field--error").length<1){this.settings.el.classList.remove("error");this.settings.el.querySelector(".js-save-panel").disabled=false}}},{key:"_enableSaveSettings",value:function e(){this.settings.el.classList.remove("error");this.settings.el.querySelector(".js-save-panel").disabled=false}},{key:"_disableSaveSettings",value:function e(t){t&&this.settings.el.classList.add("error");this.settings.el.querySelector(".js-save-panel").disabled=true}}]);return e}();var h=g;t["default"]=h},19903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(82491));function i(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.LayoutView.extend({template:"row_editing_mode_layout",el:".js-row-edit-mode-elements",regions:{settings:"#row-editing-settings-region",tooltip:"#row-editing-tooltip-region",drawer:"#row-editing-drawer-region",toolbar:"#row-editing-toolbar-region",banner:"#row-editing-banner-region",rowPicker:"#row-editing-row-picker-region",animationPicker:"#row-editing-animation-picker-region",sectionHeightPicker:"#row-editing-section-height-picker-region",sectionWidthPicker:"#row-editing-section-width-picker-region",sectionGradientPicker:"#row-editing-section-gradient-picker-region"},enableEditMode:function e(t){n.default.enableEditMode(t);this._scrollActiveRowIntoView(t)},disableEditMode:function e(t){n.default.disableEditMode(t);this.regionManager.emptyRegions()},_scrollActiveRowIntoView:function e(t){t.el.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}});var o=a;t["default"]=o},19056:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(3104));var i=o(r(248));var a=o(r(3377));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return d(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=Backbone.View.extend({template:"row_editing_toolbar",events:{"click .js-exit-edit-mode":"exitEditMode","click .js-style-tab":"openStyleOptions","click .js-content-tab":"setContentView","click .js-layout-tab":"setLayoutView","click .js-shape-divider-tab":"setShapeDividerView","click .js-animation-tab":"setAnimationView","click .js-section-height-tab":"setSectionHeightView","click .js-section-width-tab":"setSectionWidthView","click .js-section-gradient-tab":"setSectionGradientView"},className:"row-editing-toolbar row-editor",initialize:function e(t){this.templateRenderer=t.templateRenderer;this.disableEditMode=t.disableEditMode;this.editMode=t.editMode;this.rowProperties=t.rowProperties;this.envDataProvider=t.envDataProvider;this.sectionEdited=false;this.attachGlobalEvents()},attachGlobalEvents:function e(){Editor.Events.on("section:edited",this.onSectionEdited.bind(this));Editor.Events.on("widgetSettingsPanel:opened",this.onWidgetSettingsOpened.bind(this));Editor.Events.on("widgetSettings:exit-edit-mode",this.exitEditMode.bind(this));Editor.Events.on("rowEditMode:orientationchange",this.onOrientationChanged.bind(this))},render:function e(){var t=this.templateRenderer.render(this.template,{tabs:{content:true,style:true,layout:this._rowSupportsLayoutSwitching(),shapeDivider:this._rowSupportsShapeDivider(),animation:true,sectionHeight:true,sectionWidth:true,sectionGradient:true}});this.el.insertAdjacentHTML("beforeend",t);this._rowSupportsGradients()},exitEditMode:function e(){Editor.Events.trigger("widgetSettings:close");this.setContentView();this._removeBodyRowEditingClass();n.default.container.Tracker.track("Edited any widget inside a section",{section_edited:this.sectionEdited});this.disableEditMode()},setContentView:function e(){Editor.Events.trigger("EditModeTab:changed");this._removeBodyRowEditingClass();this.el.querySelector(".is-selected").classList.remove("is-selected");this.el.querySelector(".js-content-tab").classList.add("is-selected");this.editMode.hideStyleOptions();this._scrollToCurrentRow()},setLayoutView:function e(){this._removeBodyRowEditingClass();this._getSiteFrameElement().body.classList.add("row-editing-layout");this.el.querySelector(".is-selected").classList.remove("is-selected");this.el.querySelector(".js-layout-tab").classList.add("is-selected");["header","footer"].includes(this.rowProperties.parentZone)?this.editMode.showRowPicker():this.editMode.showRowLayoutSwitcher()},setShapeDividerView:function e(){Editor.Events.trigger("EditModeTab:changed");n.default.container.Tracker.track("Shape divider button clicked");this._removeBodyRowEditingClass();this._getSiteFrameElement().body.classList.add("row-editing-shape-divider");this.el.querySelector(".is-selected").classList.remove("is-selected");this.el.querySelector(".js-shape-divider-tab").classList.add("is-selected");this.editMode.showShapeDividerSwitcher()},setAnimationView:function e(){n.default.container.Tracker.track("Animation button clicked");this.editMode.showAnimationPicker()},setSectionHeightView:function e(){n.default.container.Tracker.track("Section height button clicked");this.editMode.showSectionHeightPicker()},setSectionWidthView:function e(){n.default.container.Tracker.track("Section width button clicked");this.editMode.showSectionWidthPicker()},setSectionGradientView:function e(){n.default.container.Tracker.track("Section gradient button clicked");this.editMode.showSectionGradientPicker()},openStyleOptions:function e(){Editor.Events.trigger("EditModeTab:changed");this._removeBodyRowEditingClass();this._getSiteFrameElement().body.classList.add("row-editing-style");this.el.querySelector(".is-selected").classList.remove("is-selected");this.el.querySelector(".js-style-tab").classList.add("is-selected");this.editMode.showStyleOptions();this._scrollToCurrentRow()},_rowSupportsLayoutSwitching:function e(){var t=this.envDataProvider.get("rowLayouts");var r=t[this.rowProperties.rowType];var n=["header","footer"].includes(this.rowProperties.parentZone);var a=i.default.getState().user.capabilities.enableStandaloneMode;if(n&&a)return false;return r||n},_rowSupportsShapeDivider:function e(){if("footer"===this.rowProperties.parentZone)return false;var t=this.envDataProvider.get("rows");var r=[];Object.keys(t).forEach((function(e){r.push.apply(r,s(t[e]))}));if("undefined"===typeof this.rowProperties.rowType)return false;var n=this.rowProperties.rowType.replace(/-/g,"_");var i=r.filter((function(e){return e.id===n}))[0];if(i&&i.values&&"true"===i.values.disableShapeDivider)return false;return true},_rowSupportsGradients:function e(){var t=a.default.getIframeDocument().querySelector(".active-row.style--background-image");t&&this.el.querySelector(".js-section-gradient-tab").closest("li").setAttribute("hidden","true")},_removeBodyRowEditingClass:function e(){this._getSiteFrameElement().body.classList.remove("row-editing-style","row-editing-layout","row-editing-shape-divider")},_getSiteFrameElement:function e(){return document.querySelector("#siteFrame").contentDocument},_scrollToCurrentRow:function e(){var t=a.default.getIframeDocument().querySelector(".active-row");t&&t.scrollIntoView()},onSectionEdited:function e(){this.sectionEdited=true},onWidgetSettingsOpened:function e(){this.el.querySelector(".js-content-tab").classList.contains("is-selected")||this.setContentView()},onOrientationChanged:function e(){var t=this;setTimeout((function(){t._scrollToCurrentRow()}),200)}});var g=p;t["default"]=g},88258:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(7771));var i=r(62936);function a(e){return e&&e.__esModule?e:{default:e}}var o=27;var s=Marionette.LayoutView.extend({template:"row_settings_view",attributes:{role:"dialog","aria-labelledby":"row-settings-panel-title"},className:function e(){var t="popup-panel";if(this._widgetIsOnRight(this.options.parentWidget))return"".concat(t,"--left-aligned");return t},regions:{settingsBody:".js-settings-body"},events:{"click .js-close-panel":"closePanel",keydown:"handleKeydown",submit:"handleSubmit"},keepPanelOpen:false,initialize:function e(t){this.store=t.store;this.templateRenderer=t.templateRenderer;this.title=t.title;this.model=t.model;this.profileModel=t.profileModel;this.widgetView=t.widgetView;this.parentWidget=t.parentWidget;this.closePanelHandler=this.closePanel.bind(this);this.attachEvents()},attachEvents:function e(){Editor.Events.on("widgetSettings:exit-edit-mode",this.closePanelHandler);Editor.Events.on("widgetSettings:close",this.closePanelHandler);Editor.Events.on("dragdrop:dragStart",this.closePanelHandler)},render:function e(){var t=this.templateRenderer.render(this.template,{title:this.title,hasSettings:this.widgetView.getSettings().components.length>0,emptySettingMessage:this.widgetView.getSettings().emptySettingMessage||""});this.el.insertAdjacentHTML("beforeend",t)},removePanel:function e(){Editor.Events.off("widgetSettings:exit-edit-mode",this.closePanelHandler);Editor.Events.off("widgetSettings:close",this.closePanelHandler);Editor.Events.off("dragdrop:dragStart",this.closePanelHandler);this.remove();this.store.dispatch((0,i.closeWidgetSettings)())},closePanel:function e(){this.model.clear({silent:true});this.model.stateManager.restoreInitialState();this.profileModel.stateManager.restoreInitialState();this.removePanel()},save:function e(){if(this.model.hasChanged){this.model.save({widgetName:this.widgetView.properties.name,widgetUniqueId:this.widgetView.properties.uniqueId,fixed:this.widgetView.properties.fixed});this.model.stateManager.storeCurrentState()}if(this.profileModel.hasChanged){this.profileModel.save();this.profileModel.stateManager.storeCurrentState()}if(this.keepPanelOpen)return this;this.removePanel();return this},clearAllErrors:function e(){this.el.classList.remove("error");var t=this.settingsBody.currentView.collection.toArray();var r=!!(t&&t[0].get("groupId"));r?this.settingsBody.currentView.collection.toJSON().forEach((function(e){e.collection.toArray().forEach((function(e){return e.set("error","")}))})):t.forEach((function(e){return e.set("error","")}));var n=this.settingsBody.currentView;n.render()},handleSubmit:function e(t){var r=this;t.preventDefault();this.clearAllErrors();var n=false;var i=this.settingsBody.currentView.collection.toArray();var a=!!(i&&i[0].get("groupId"));if(a)n=this.settingsBody.currentView.collection.toJSON().some((function(e){var t=e.collection.toArray().filter((function(e){return e.get("required")}));return r.checkRequiredFields(t)}));else{var o=i.filter((function(e){return e.get("required")}));n=this.checkRequiredFields(o)}n||this.save()},checkRequiredFields:function e(t){var r=false;t.forEach((function(e){var t=e.get("value");if(!t||!t.length){r=true;var i={settingId:e.get("id"),message:(0,n.default)("global.message-field-required","This field is required")};Editor.Events.trigger("setting:error:show",i)}}));return r},handleKeydown:function e(t){t.keyCode===o&&this.closePanel()},_widgetIsOnRight:function e(t){return t.isColumn()&&t.model.collection.indexOf(t.model)>0}});var l=s;t["default"]=l},37869:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=s(r(63573));var i=s(r(69362));var a=s(r(18355));var o=r(20728);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){l(a,n,i,o,s,"next",e)}function s(e){l(a,n,i,o,s,"throw",e)}o(void 0)}))}}var c={regions:{preSettingsBody:".js-settings-pre-body"},initialize:function e(){this.addStoreSubscriber()},addStoreSubscriber:function e(){var t="widgetSettings.openWidgetUniqueId";this.slice=new n.default({store:this.store,stateId:t});this.state=this.slice.get();this.slice.subscribe(this.onWidgetSettingsOpen.bind(this))},onWidgetSettingsOpen:function e(t){var r=this;if((0,i.default)(this.state,t))return;this.showVerificationDialog();if(this.isEmailVerificationEnable()){this.settingsBody.currentView.on("render",(function(){r.addEventListener()}));this.addEventListener()}},updateEmailVerification:function e(){var t=this;return u(regeneratorRuntime.mark((function e(){var r,n,i,a;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:r=t.store.getState();n=r.site.ref;i=r.env.csrfToken;a="".concat(r.env.apiProxyBaseUrl,"/sites/").concat(n,"/email-verification");s.next=6;return t.store.dispatch((0,o.getEmailVerification)(a,i));case 6:case"end":return s.stop()}}),e)})))()},showVerificationDialog:function e(){var t=this;return u(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r=t.getEmailSettingsComponentModel();if(!r){i.next=7;break}n=r.get("value");if(!(n&&!t.isEmailVerified(n))){i.next=7;break}i.next=6;return t.updateEmailVerification();case 6:if(t.isEmailUnverified(n)){t.emailToVerify=n;t.showEmailVerificationInfo()}case 7:case"end":return i.stop()}}),e)})))()},addEventListener:function e(){var t=this.getEmailSettingsComponentView();this.listenToOnce(t,"setting:change",this.handleEmailVerificationOnChange)},handleEmailVerificationOnChange:function e(t,r){if(this.isEmailVerified(r)){this.keepPanelOpen=false;this.emailToVerify=null}else{this.keepPanelOpen=true;this.emailToVerify=r}this.verificationView&&this.isEmailVerified(r)&&this.verificationView.remove()},remove:function e(){this.slice.unsubscribe()},handleSubmit:function e(){this.emailToVerify&&this.showEmailVerificationInfo()},showEmailVerificationInfo:function e(){this.verificationView=new a.default({email:this.emailToVerify,csrfToken:this.store.getState().env.csrfToken}).render();this.$(".js-settings-pre-body").empty().append(this.verificationView.el)},isEmailVerified:function e(t){return this.store.getState().site.emailVerification.some((function(e){return t===e.email&&1===parseInt(e.verified,10)}))},isEmailUnverified:function e(t){return this.store.getState().site.emailVerification.some((function(e){return t===e.email&&0===parseInt(e.verified,10)}))},getEmailSettingsComponentView:function e(){var t=this.settingsBody.currentView.children;var r=this.getEmailSettingsComponentModel();var n=null;t.findByModel(r)?n=t.findByModel(r):t.each((function(e){e.children.findByModel(r)&&(n=e.children.findByModel(r))}));return n},getEmailSettingsComponentModel:function e(){var t=this.settingsBody.currentView.collection;var r=t.some((function(e){return e.get("groupId")}));var n=null;r?t.forEach((function(e){var t=e.get("collection");var r=t.filter((function(e){return e.get("emailVerificationEnable")}));r.length>0&&(n=r[0])})):n=t.filter((function(e){return e.get("emailVerificationEnable")}))[0];return n},removePanel:function e(){this.keepPanelOpen=true},isEmailVerificationEnable:function e(){var t=this.settingsBody.currentView.collection;var r=t.some((function(e){return e.get("groupId")}));var n=false;n=r?t.some((function(e){return e.get("collection").some((function(e){return e.get("emailVerificationEnable")}))})):t.some((function(e){return e.get("emailVerificationEnable")}));return n}};var d=c;t["default"]=d},82491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(248));var i=r(20728);function a(e){return e&&e.__esModule?e:{default:e}}var o={enableEditMode:function e(t){this._addEditingClassToRowElement(t);this._addEditingClassToSiteFrameBody();this._addEditingClassToEditorBody();n.default.dispatch((0,i.setRowEditingMode)(true))},disableEditMode:function e(t){this._removeEditingClassFromRowElement(t);this._removeEditingClassFromSiteFrameBody();this._removeEditingClassFromEditorBody();n.default.dispatch((0,i.setRowEditingMode)(false))},_getSiteFrameElement:function e(){return document.querySelector("#siteFrame").contentDocument},_addEditingClassToEditorBody:function e(){document.body.classList.add("row-editing");document.body.classList.add("hide-primary-ui")},_addEditingClassToSiteFrameBody:function e(){var t=this._getSiteFrameElement();t.body.classList.add("row-editing")},_addEditingClassToRowElement:function e(t){t.el.classList.add("active-row")},_removeEditingClassFromEditorBody:function e(){document.body.classList.remove("row-editing");document.body.classList.remove("hide-primary-ui")},_removeEditingClassFromSiteFrameBody:function e(){var t=this._getSiteFrameElement();t.body.classList.remove("row-editing")},_removeEditingClassFromRowElement:function e(t){t.el.classList.remove("active-row")}};var s=o;t["default"]=s},83223:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(3377));var i=a(r(73471));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u="row-layout-selection-mode";var c=function(){function e(t){o(this,e);this.rowLayoutSelectorPanelView=t.rowLayoutSelectorPanelView;this.disableHandler=this.disable.bind(this);this.closePanelViewHandler=this.closeRowLayoutView.bind(this)}l(e,[{key:"attachEvents",value:function e(){Editor.Events.on("rowLayoutSelectorView:close",this.disableHandler);Editor.Events.on("screenMode:change widgetSettings:close EditModeTab:changed",this.closePanelViewHandler);document.querySelector(".js-layout-selection-mode-overlay").addEventListener("click",this.closePanelViewHandler)}},{key:"enable",value:function e(t){this._enableRowLayoutSelectionMode();this.rowLayoutSelectorPanelView.setup({layoutType:t.properties.parentZone,pageRef:(0,i.default)().get("pageRef"),selectedRow:t.model.get("originalRowTemplateId"),uniqueId:t.properties.uniqueId});this.attachEvents();return this.rowLayoutSelectorPanelView.render()}},{key:"disable",value:function e(){Editor.Events.off("rowLayoutSelectorView:close",this.disableHandler);Editor.Events.off("screenMode:change widgetSettings:close EditModeTab:changed",this.closePanelViewHandler);this._disableRowLayoutSelectionMode()}},{key:"closeRowLayoutView",value:function e(){this.rowLayoutSelectorPanelView.closePanel()}},{key:"_enableRowLayoutSelectionMode",value:function e(){document.body.classList.add(u);n.default.getIframeDocument().body.classList.add(u)}},{key:"_disableRowLayoutSelectionMode",value:function e(){n.default.getIframeDocument().body.classList.remove(u);document.body.classList.remove(u)}}]);return e}();var d=c;t["default"]=d},69986:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);var i=o(r(3377));var a=o(r(52245));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return d(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=Marionette.ItemView.extend({template:"layout_preview_container",events:{"click .js-row-selector-cancel":"cancelChanges","click .js-row-selector-update":"saveChanges","click .js-row-selector-bg":"cancelChanges","click .js-update-row-template":"rowClicked"},initialize:function e(t){this.store=t.store;this.envDataProvider=t.envDataProvider;this.templateRenderer=t.templateRenderer;this.widgetApi=t.widgetApi},setup:function e(t){this.layoutType=t.layoutType;this.pageRef=t.pageRef;this.selectedRow=t.selectedRow;this.currentRow=t.selectedRow;this.uniqueId=t.uniqueId;this.setElement(i.default.getIframeDocument().getElementById("rowSelectorPreviewContainer"));this.loadingElement=this.el.querySelector(".js-loading")},beforeRender:function e(){if(!this.store.getState().site.isRowEditingMode&&a.default.isiOS()){var t=i.default.getIframeDocument().querySelector(".is-setting-open .js-edit-control");this.el.querySelector(".row-selector-panel").style.top="".concat(t.getBoundingClientRect().bottom,"px")}this.loadingElement.removeAttribute("hidden");this.el.removeAttribute("hidden")},render:function e(){var t=this;this.beforeRender();var r=this.el.querySelector(".js-row-selector-list");(0,n.emptyElement)(r);this._fetchLayoutPreview({callback:function e(i){t.rowData=i;var a="";t.rowData.forEach((function(e){a+=t.templateRenderer.render(t.template,{rowHtml:e.html,id:e.id,selectedRow:t.selectedRow})}));t.loadingElement.setAttribute("hidden","hidden");(0,n.append)(r,a);t.onRender()}});return this},onRender:function e(){this._fixRowPreviewHeight()},closePanel:function e(){if(this.el.hasAttribute("hidden"))return;this.trigger("panel:close");this.el.setAttribute("hidden","hidden");this.el.querySelector(".row-selector-panel").removeAttribute("style");Editor.Events.trigger("rowLayoutSelectorView:close")},saveChanges:function e(){this._isSelectedRowChanged()&&this._updateRow(this.currentRow);this.closePanel()},cancelChanges:function e(){this.closePanel()},rowClicked:function e(t){this.currentRow=t.currentTarget.getAttribute("data-row-template-id");this.el.querySelector(".js-update-row-template.is-selected").classList.remove("is-selected");t.currentTarget.classList.add("is-selected");this.store.getState().site.isRowEditingMode&&this._isSelectedRowChanged()&&this.saveChanges()},_isSelectedRowChanged:function e(){return this.selectedRow!==this.currentRow},_updateRow:function e(t){this.widgetApi.replaceRow({uniqueId:this.uniqueId,rowTemplate:t})},_fetchLayoutPreview:function e(t){return fetch("/_/row-previews?zone=".concat(this.layoutType,"&page=").concat(this.pageRef),{headers:{"X-CSRF-Token":this.envDataProvider.get("csrfToken")},credentials:"include"}).then((function(e){return e.json()})).then((function(e){t.callback(e)}))},_fixRowPreviewHeight:function e(){s(i.default.getIframeDocument().querySelectorAll(".js-row-template-preview-markup")).forEach((function(e){e.parentElement.style.height="".concat(e.getBoundingClientRect().height,"px")}))}});var g=p;t["default"]=g},81007:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){r(this,e);this.bundles={}}i(e,[{key:"addBundle",value:function e(t,r){this.bundles[t]=r}},{key:"hasBundle",value:function e(t){return Object.keys(this.bundles).includes(t)}},{key:"getBundle",value:function e(t){if(this.hasBundle(t))return this.bundles[t];return null}}]);return e}();var o=a;t["default"]=o},26627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.properties=t}i(e,[{key:"get",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object.keys(this.properties).includes(t))return r;return this.properties[t]}}]);return e}();var o=a;t["default"]=o},10186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(81007));var i=a(r(26627));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return d(e)||c(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n=[];var i=true;var a=false;var o,s;try{for(r=r.call(e);!(i=(o=r.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;s=e}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw s}}return n}function d(e){if(Array.isArray(e))return e}var f=function e(t){t.service("ServerVars",n.default);t.decorator("ServerVars",(function(e){var t="__SERVER_VARS__";void 0!==window[t]&&Object.entries(window[t]).forEach((function(t){var r=o(t,2),n=r[0],a=r[1];var s=new i.default(a);e.addBundle(n,s)}));return e}));return t};var p=f;t["default"]=p},54571:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=s;var n=o(r(35074));var i=o(r(87824));var a=o(r(45775));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){e.factory("languageDataProvider",(function(){return new i.default}));e.factory("languageMenuRendererFactory",(function(e){return new n.default({LanguageMenuRenderer:a.default,languageDataProvider:e.editorSiteLanguageDataProvider,sitePreview:true,templateRenderer:e.TemplateRenderer})}));return e}},78712:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.props=t}i(e,[{key:"get",value:function e(t){return this.props[t]||null}},{key:"toJSON",value:function e(){return this.props}}]);return e}();t["default"]=a},63573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.store=t.store;this.stateId=t.stateId;this.currentState=this.get()}i(e,[{key:"subscribe",value:function e(t){this.onChange=t;this.unsubscribeMethod=this.store.subscribe(this._handleChange.bind(this))}},{key:"unsubscribe",value:function e(){this.unsubscribeMethod()}},{key:"get",value:function e(){var t=o(this.store.getState(),this.stateId);if(t)return t;return{}}},{key:"_handleChange",value:function e(){var t=this.get();if(t!==this.currentState){this.currentState=t;this.onChange(this.currentState)}}}]);return e}();t["default"]=a;function o(e,t){if(!t)return e;var r=e;var n=t.split(".");n.forEach((function(e){var t=r[e];"undefined"!==typeof t&&(r=t)}));return r}},64324:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(63573));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(t){a(this,e);this.store=t.store}s(e,[{key:"build",value:function e(t){return new n.default({store:this.store,stateId:t.stateId})}}]);return e}();t["default"]=l},1576:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setBrand=t.SET_BRAND=void 0;var r="SET_BRAND";t.SET_BRAND=r;var n=function e(t){return{type:r,brand:t}};t.setBrand=n},94376:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.enableAddButton=t.disableAddButton=t.changeSavedColours=t.changePanel=t.changeColour=t.ENABLE_ADD=t.DISABLE_ADD=t.CHANGE_SAVED_COLOURS=t.CHANGE_PANEL=t.CHANGE_COLOUR=void 0;var r="CHANGE_PANEL";t.CHANGE_PANEL=r;var n="ENABLE_ADD";t.ENABLE_ADD=n;var i="DISABLE_ADD";t.DISABLE_ADD=i;var a="CHANGE_COLOUR";t.CHANGE_COLOUR=a;var o="CHANGE_SAVED_COLOURS";t.CHANGE_SAVED_COLOURS=o;var s=function e(t){return{type:r,panel:t}};t.changePanel=s;var l=function e(){return{type:n}};t.enableAddButton=l;var u=function e(){return{type:i}};t.disableAddButton=u;var c=function e(t){return{type:a,colour:t}};t.changeColour=c;var d=function e(t){return{type:o,colours:t}};t.changeSavedColours=d},97017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setContentSetData=t.SET_CONTENT_SET=void 0;var r="SET_CONTENT_SET";t.SET_CONTENT_SET=r;var n=function e(t){return{type:r,data:t}};t.setContentSetData=n},45457:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.updateSiteColorSet=t.setEnvData=t.UPDATE_SITE_COLOR_SET=t.SET_ENV=void 0;var r="SET_ENV";t.SET_ENV=r;var n="UPDATE_SITE_COLOR_SET";t.UPDATE_SITE_COLOR_SET=n;var i=function e(t){return{type:r,data:t}};t.setEnvData=i;var a=function e(t){return{type:n,colorSet:t}};t.updateSiteColorSet=a},54113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.importContentSuccess=t.importContentStart=t.importContentFailure=t.importContent=t.getWidgetsSuccess=t.getWidgetsStart=t.getWidgetsFailure=t.getWidgets=t.getSitePagesSuccess=t.getSitePagesStart=t.getSitePagesFailure=t.getSitePages=t.changeTextFilter=t.changeSourcePage=t.changeIncludeText=t.changeIncludeImg=t.changeImgFilter=t.WIDGETS_LOADING_SUCCESS=t.WIDGETS_LOADING_START=t.WIDGETS_LOADING_FAILURE=t.PAGES_LOADING_SUCCESS=t.PAGES_LOADING_START=t.PAGES_LOADING_FAILURE=t.IMPORT_CONTENT_SUCCESS=t.IMPORT_CONTENT_START=t.IMPORT_CONTENT_FAILURE=t.CHANGE_TEXT_FILTER=t.CHANGE_SOURCE_PAGE=t.CHANGE_INCLUDE_TEXT=t.CHANGE_INCLUDE_IMG=t.CHANGE_IMG_FILTER=void 0;function r(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function n(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}var i="WIDGETS_LOADING_START";t.WIDGETS_LOADING_START=i;var a="WIDGETS_LOADING_SUCCESS";t.WIDGETS_LOADING_SUCCESS=a;var o="WIDGETS_LOADING_FAILURE";t.WIDGETS_LOADING_FAILURE=o;var s="SITE_PAGES_LOADING_START";t.PAGES_LOADING_START=s;var l="SITE_PAGES_LOADING_SUCCESS";t.PAGES_LOADING_SUCCESS=l;var u="SITE_PAGES_LOADING_FAILURE";t.PAGES_LOADING_FAILURE=u;var c="CHANGE_TEXT_FILTER";t.CHANGE_TEXT_FILTER=c;var d="CHANGE_IMG_FILTER";t.CHANGE_IMG_FILTER=d;var f="CHANGE_INCLUDE_TEXT";t.CHANGE_INCLUDE_TEXT=f;var p="CHANGE_INCLUDE_IMG";t.CHANGE_INCLUDE_IMG=p;var g="IMPORT_CONTENT_START";t.IMPORT_CONTENT_START=g;var h="IMPORT_CONTENT_SUCCESS";t.IMPORT_CONTENT_SUCCESS=h;var v="IMPORT_CONTENT_FAILURE";t.IMPORT_CONTENT_FAILURE=v;var m="CHANGE_SOURCE_PAGE";t.CHANGE_SOURCE_PAGE=m;var y=function e(){return{type:i}};t.getWidgetsStart=y;var b=function e(t,r,n){return{type:a,payload:{widgets:t,siteRef:r,pageRef:n}}};t.getWidgetsSuccess=b;var w=function e(t){return{type:o,error:true,payload:t}};t.getWidgetsFailure=w;var _=function e(t,r,i,a){return function(){var e=n(regeneratorRuntime.mark((function e(n){var o,s,l;return regeneratorRuntime.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:n(y());u.prev=1;u.next=4;return window.fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":r},method:"GET"});case 4:o=u.sent;if(!(200===o.status)){u.next=14;break}u.next=8;return o.json();case 8:s=u.sent;l=s.widgets;l.forEach((function(e){e.ref=parseInt(e.ref,10)}));n(b(s.widgets,i,a));u.next=15;break;case 14:n(w({message:"Server error"}));case 15:u.next=20;break;case 17:u.prev=17;u.t0=u["catch"](1);n(w(u.t0));case 20:case"end":return u.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()};t.getWidgets=_;var S=function e(){return{type:s}};t.getSitePagesStart=S;var E=function e(t,r){return{type:l,payload:{siteRef:r,pages:t}}};t.getSitePagesSuccess=E;var P=function e(t){return{type:u,error:true,payload:t}};t.getSitePagesFailure=P;var k=function e(t,r,i){return function(){var e=n(regeneratorRuntime.mark((function e(n){var a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:n(S());s.prev=1;s.next=4;return window.fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":r},method:"GET"});case 4:a=s.sent;if(!(200===a.status)){s.next=12;break}s.next=8;return a.json();case 8:o=s.sent;n(E(o.pages,i));s.next=13;break;case 12:n(P({message:"Server error"}));case 13:s.next=18;break;case 15:s.prev=15;s.t0=s["catch"](1);n(P(s.t0));case 18:case"end":return s.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()};t.getSitePages=k;var C=function e(t){return{type:m,payload:t}};t.changeSourcePage=C;var O=function e(t){return{type:c,payload:t}};t.changeTextFilter=O;var T=function e(t){return{type:d,payload:t}};t.changeImgFilter=T;var A=function e(t){return{type:f,payload:t}};t.changeIncludeText=A;var j=function e(t){return{type:p,payload:t}};t.changeIncludeImg=j;var D=function e(){return{type:g}};t.importContentStart=D;var L=function e(){return{type:h}};t.importContentSuccess=L;var R=function e(t){return{type:v,error:true,payload:t}};t.importContentFailure=R;var I=function e(t,r,i){return function(){var e=n(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n(D());o.prev=1;o.next=4;return window.fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":r},method:"POST",body:JSON.stringify(i)});case 4:a=o.sent;200===a.status?n(L()):n(R({message:"Server error"}));o.next=11;break;case 8:o.prev=8;o.t0=o["catch"](1);n(R(o.t0));case 11:case"end":return o.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()};t.importContent=I},79148:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.updateLanguageStatus=t.updateDefaultLanguage=t.setSiteLanguages=t.setDefaultLanguage=t.removeSelectedPages=t.removeActiveLanguage=t.deleteLanguage=t.changeLanguage=t.addSiteLanguagePages=t.addSiteActiveLanguage=t.addSelectedPages=t.UPDATE_LANGUAGE_STATUS_SUCCESS=t.UPDATE_LANGUAGE_STATUS_START=t.UPDATE_LANGUAGE_STATUS_FAILED=t.UPDATE_DEFAULT_LANGUAGE_SUCCESS=t.UPDATE_DEFAULT_LANGUAGE_START=t.UPDATE_DEFAULT_LANGUAGE_FAILED=t.SET_SITE_LANGUAGES=t.SET_DEFAULT=t.REMOVE_SITE_ACTIVE_LANGUAGE=t.REMOVE_SELECTED_PAGES=t.DELETE_LANGUAGE_SUCCESS=t.DELETE_LANGUAGE_START=t.DELETE_LANGUAGE_FAILED=t.DELETE_LANGUAGE=t.CHANGE_LANGUAGE=t.ADD_SITE_LANGUAGE_PAGES_SUCCESS=t.ADD_SITE_LANGUAGE_PAGES_START=t.ADD_SITE_LANGUAGE_PAGES_FAILED=t.ADD_SITE_ACTIVE_LANGUAGE=t.ADD_SELECTED_PAGES=void 0;function r(e,t){return s(e)||o(e,t)||i(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n=[];var i=true;var a=false;var o,s;try{for(r=r.call(e);!(i=(o=r.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;s=e}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw s}}return n}function s(e){if(Array.isArray(e))return e}function l(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){l(a,n,i,o,s,"next",e)}function s(e){l(a,n,i,o,s,"throw",e)}o(void 0)}))}}var c="CHANGE_LANGUAGE";t.CHANGE_LANGUAGE=c;var d="SET_DEFAULT";t.SET_DEFAULT=d;var f="SET_SITE_LANGUAGES";t.SET_SITE_LANGUAGES=f;var p="DELETE_LANGUAGE";t.DELETE_LANGUAGE=p;var g="UPDATE_DEFAULT_LANGUAGE_START";t.UPDATE_DEFAULT_LANGUAGE_START=g;var h="UPDATE_DEFAULT_LANGUAGE_FAILED";t.UPDATE_DEFAULT_LANGUAGE_FAILED=h;var v="UPDATE_DEFAULT_LANGUAGE_SUCCESS";t.UPDATE_DEFAULT_LANGUAGE_SUCCESS=v;var m="ADD_SITE_ACTIVE_LANGUAGE";t.ADD_SITE_ACTIVE_LANGUAGE=m;var y="REMOVE_SITE_ACTIVE_LANGUAGE";t.REMOVE_SITE_ACTIVE_LANGUAGE=y;var b="ADD_SELECTED_PAGES";t.ADD_SELECTED_PAGES=b;var w="REMOVE_SELECTED_PAGES";t.REMOVE_SELECTED_PAGES=w;var _="ADD_SITE_LANGUAGE_PAGES_START";t.ADD_SITE_LANGUAGE_PAGES_START=_;var S="ADD_SITE_LANGUAGE_PAGES_SUCCESS";t.ADD_SITE_LANGUAGE_PAGES_SUCCESS=S;var E="ADD_SITE_LANGUAGE_PAGES_FAILED";t.ADD_SITE_LANGUAGE_PAGES_FAILED=E;var P="DELETE_LANGUAGE_START";t.DELETE_LANGUAGE_START=P;var k="DELETE_LANGUAGE_SUCCESS";t.DELETE_LANGUAGE_SUCCESS=k;var C="DELETE_LANGUAGE_FAILED";t.DELETE_LANGUAGE_FAILED=C;var O="UPDATE_LANGUAGE_STATUS_START";t.UPDATE_LANGUAGE_STATUS_START=O;var T="UPDATE_LANGUAGE_STATUS_FAILED";t.UPDATE_LANGUAGE_STATUS_FAILED=T;var A="UPDATE_LANGUAGE_STATUS_SUCCESS";t.UPDATE_LANGUAGE_STATUS_SUCCESS=A;var j=function e(t){return{type:c,lang:t}};t.changeLanguage=j;var D=function e(t){return{type:d,lang:t}};t.setDefaultLanguage=D;var L=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:f,languages:t}};t.setSiteLanguages=L;var R=function(){var e=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",window.fetch("/refresh",{method:"GET",credentials:"include"}));case 1:case"end":return t.stop()}}),e)})));return function t(){return e.apply(this,arguments)}}();var I=function e(){return{type:P}};var x=function e(t){return{type:C,error:true,payload:t}};var M=function e(t){return{type:k,siteLanguages:t}};var V=function e(t){var r=t.url,n=t.token;return function(){var e=u(regeneratorRuntime.mark((function e(t){var i,a,o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:t(I());s.prev=1;s.next=4;return window.fetch(r,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":n},method:"DELETE"});case 4:i=s.sent;if(!(200===i.status)){s.next=15;break}s.next=8;return i.json();case 8:a=s.sent;o=a.siteLanguages;s.next=12;return R();case 12:t(M(o));s.next=16;break;case 15:t(x({message:"Server error"}));case 16:s.next=21;break;case 18:s.prev=18;s.t0=s["catch"](1);t(x(s.t0));case 21:case"end":return s.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}()};t.deleteLanguage=V;var N=function e(){return{type:g}};var F=function e(t){return{type:h,error:true,payload:t}};var B=function e(t){return{type:v,payload:{language:t}}};var W=function e(t){var n=t.siteRef,i=t.url,a=t.token,o=t.language;return function(){var e=u(regeneratorRuntime.mark((function e(t){var s,l,u,c,d,f;return regeneratorRuntime.wrap((function e(p){while(1)switch(p.prev=p.next){case 0:t(N());p.prev=1;p.next=4;return window.fetch(i,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":a},method:"PUT",body:JSON.stringify({defaultLanguage:o})});case 4:s=p.sent;if(!(200===s.status)){p.next=16;break}p.next=8;return R();case 8:l=p.sent;p.next=11;return l.json();case 11:u=p.sent;c=u.sites.filter((function(e){return e.ref===n})),d=r(c,1),f=d[0];t(B(f.siteDefaultLanguage));p.next=17;break;case 16:t(F({message:"Server error"}));case 17:p.next=22;break;case 19:p.prev=19;p.t0=p["catch"](1);t(F(p.t0));case 22:case"end":return p.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}()};t.updateDefaultLanguage=W;var G=function e(t){var r=t.language;return{type:m,payload:{language:r}}};t.addSiteActiveLanguage=G;var q=function e(t){var r=t.pages;return{type:b,payload:{pages:r}}};t.addSelectedPages=q;var U=function e(){return{type:w}};t.removeSelectedPages=U;var H=function e(){return{type:y}};t.removeActiveLanguage=H;var z=function e(){return{type:_}};var $=function e(t){var r=t.siteLanguages;return{type:S,siteLanguages:r}};var K=function e(t){return{type:E,error:true,payload:t}};var Z=function e(t){var r=t.url,n=t.token,i=t.pages;return function(){var e=u(regeneratorRuntime.mark((function e(t){var a,o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:t(z());l.prev=1;l.next=4;return window.fetch(r,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":n},method:"POST",body:JSON.stringify({pages:i})});case 4:a=l.sent;if(!(200===a.status)){l.next=15;break}l.next=8;return a.json();case 8:o=l.sent;s=o.siteLanguages;l.next=12;return R();case 12:t($({siteLanguages:s}));l.next=16;break;case 15:t(K({message:"Server error"}));case 16:l.next=21;break;case 18:l.prev=18;l.t0=l["catch"](1);t(K(l.t0));case 21:case"end":return l.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}()};t.addSiteLanguagePages=Z;var Y=function e(){return{type:O}};var X=function e(t){var r=t.siteLanguages;return{type:A,siteLanguages:r}};var J=function e(t){return{type:T,error:true,payload:t}};var Q=function e(t){var r=t.url,n=t.token,i=t.active;return function(){var e=u(regeneratorRuntime.mark((function e(t){var a,o,s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:t(Y());l.prev=1;l.next=4;return window.fetch(r,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":n},method:"PUT",body:JSON.stringify({active:i})});case 4:a=l.sent;if(!(200===a.status)){l.next=15;break}l.next=8;return a.json();case 8:o=l.sent;s=o.siteLanguages;l.next=12;return R();case 12:t(X({siteLanguages:s}));l.next=16;break;case 15:t(J({message:"Server error"}));case 16:l.next=21;break;case 18:l.prev=18;l.t0=l["catch"](1);t(J(l.t0));case 21:case"end":return l.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}()};t.updateLanguageStatus=Q},49236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.showManageLanguageList=t.showLanguageList=t.hideManageLanguageList=t.hideLanguageList=t.OPEN_MANAGE_LANGUAGE_LIST=t.OPEN_ADD_LANGUAGE_LIST=t.CLOSE_MANAGE_LANGUAGE_LIST=t.CLOSE_ADD_LANGUAGE_LIST=void 0;var r="OPEN_ADD_LANGUAGE_LIST";t.OPEN_ADD_LANGUAGE_LIST=r;var n="CLOSE_ADD_LANGUAGE_LIST";t.CLOSE_ADD_LANGUAGE_LIST=n;var i="OPEN_MANAGE_LANGUAGE_LIST";t.OPEN_MANAGE_LANGUAGE_LIST=i;var a="CLOSE_MANAGE_LANGUAGE_LIST";t.CLOSE_MANAGE_LANGUAGE_LIST=a;var o=function e(){return{type:r}};t.showLanguageList=o;var s=function e(){return{type:n}};t.hideLanguageList=s;var l=function e(){return{type:i}};t.showManageLanguageList=l;var u=function e(){return{type:a}};t.hideManageLanguageList=u},81798:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.openPagesSelector=t.openPageTitleEdit=t.openAddLanguageDone=t.openAddLanguage=t.closeAddLanguageDone=t.closeAddLanguage=t.OPEN_PAGE_TITLE_EDIT_MODAL=t.OPEN_PAGES_SELECTOR_MODAL=t.OPEN_ADD_LANGUAGE_MODAL=t.OPEN_ADD_LANGUAGE_DONE_MODAL=t.CLOSE_ADD_LANGUAGE_MODAL=t.CLOSE_ADD_LANGUAGE_DONE_MODAL=void 0;var r="OPEN_ADD_LANGUAGE_MODAL";t.OPEN_ADD_LANGUAGE_MODAL=r;var n="CLOSE_ADD_LANGUAGE_MODAL";t.CLOSE_ADD_LANGUAGE_MODAL=n;var i="OPEN_PAGES_SELECTOR_MODAL";t.OPEN_PAGES_SELECTOR_MODAL=i;var a="OPEN_PAGE_TITLE_EDIT_MODAL";t.OPEN_PAGE_TITLE_EDIT_MODAL=a;var o="OPEN_ADD_LANGUAGE_DONE_MODAL";t.OPEN_ADD_LANGUAGE_DONE_MODAL=o;var s="CLOSE_ADD_LANGUAGE_DONE_MODAL";t.CLOSE_ADD_LANGUAGE_DONE_MODAL=s;var l=function e(){return{type:r,modal:"add_language"}};t.openAddLanguage=l;var u=function e(){return{type:i,modal:"select_pages"}};t.openPagesSelector=u;var c=function e(){return{type:n,modal:null}};t.closeAddLanguage=c;var d=function e(){return{type:a,modal:"page_title_edit"}};t.openPageTitleEdit=d;var f=function e(){return{type:o,modal:"add_language_done"}};t.openAddLanguageDone=f;var p=function e(){return{type:s,modal:null}};t.closeAddLanguageDone=p},26225:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.openModal=t.closeModal=t.OPEN_MODAL=t.CLOSE_MODAL=void 0;var r="OPEN_MODAL";t.OPEN_MODAL=r;var n="CLOSE_MODAL";t.CLOSE_MODAL=n;var i=function e(t){return{type:r,name:t}};t.openModal=i;var a=function e(){return{type:n}};t.closeModal=a},1347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.showNotification=t.hideNotification=t.NOTIFY=t.HIDE_NOTIFICATION=void 0;var r="NOTIFY";t.NOTIFY=r;var n="HIDE_NOTIFICATION";t.HIDE_NOTIFICATION=n;var i=function e(t){return{type:r,payload:t}};t.showNotification=i;var a=function e(){return{type:n}};t.hideNotification=a},3786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.updateOrder=t.setScript=t.setCurrentPageTextEntryMetadata=t.setCurrentPage=t.savePageChanges=t.orderPages=t.langPageTreeSuccess=t.getPageTreeSuccess=t.getPageTree=t.getLanguagesPageTree=t.editPageSuccess=t.editPageStart=t.editPageFailure=t.deletePage=t.deleteLangPage=t.addSinglePage=t.addScriptSuccess=t.addScriptStart=t.addScriptFailure=t.addPagesRequest=t.addPages=t.addLanguagesPageTree=t.SET_CURRENT_PAGE_TEXT_ENTRY_METADATA=t.SET_CURRENT_PAGE=t.PAGE_TREE_SUCCESS=t.PAGE_TREE_START=t.PAGE_TREE_FAILURE=t.ORDER_PAGES_SUCCESS=t.ORDER_PAGES_START=t.ORDER_PAGES_FAILURE=t.LANGUAGES_PAGE_TREE_SUCCESS=t.LANGUAGES_PAGE_TREE_START=t.LANGUAGES_PAGE_TREE_FAILURE=t.EDIT_PAGE_SUCCESS=t.EDIT_PAGE_START=t.EDIT_PAGE_FAILURE=t.DELETE_PAGE=t.DELETE_LANG_PAGE=t.ADD_SINGLE_PAGE=t.ADD_SCRIPT_SUCCESS=t.ADD_SCRIPT_START=t.ADD_SCRIPT_FAILURE=t.ADD_PAGES=t.ADD_LANGUAGES_PAGE_TREE=void 0;function r(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function n(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}var i="ADD_PAGES";t.ADD_PAGES=i;var a="ADD_SINGLE_PAGE";t.ADD_SINGLE_PAGE=a;var o="DELETE_PAGE";t.DELETE_PAGE=o;var s="DELETE_LANG_PAGE";t.DELETE_LANG_PAGE=s;var l="SET_CURRENT_PAGE";t.SET_CURRENT_PAGE=l;var u="SET_CURRENT_PAGE_TEXT_ENTRY_METADATA";t.SET_CURRENT_PAGE_TEXT_ENTRY_METADATA=u;var c="ADD_LANGUAGES_PAGE_TREE";t.ADD_LANGUAGES_PAGE_TREE=c;var d="ORDER_PAGES";t.ORDER_PAGES_START=d;var f="ORDER_PAGES_SUCCESS";t.ORDER_PAGES_SUCCESS=f;var p="ORDER_PAGES_FAILURE";t.ORDER_PAGES_FAILURE=p;var g="PAGE_TREE_START";t.PAGE_TREE_START=g;var h="PAGE_TREE_SUCCESS";t.PAGE_TREE_SUCCESS=h;var v="PAGE_TREE_FAILURE";t.PAGE_TREE_FAILURE=v;var m="LANGUAGES_PAGE_TREE_START";t.LANGUAGES_PAGE_TREE_START=m;var y="LANGUAGES_PAGE_TREE_SUCCESS";t.LANGUAGES_PAGE_TREE_SUCCESS=y;var b="LANGUAGES_PAGE_TREE_FAILURE";t.LANGUAGES_PAGE_TREE_FAILURE=b;var w="ADD_SCRIPT_SUCCESS";t.ADD_SCRIPT_SUCCESS=w;var _="ADD_SCRIPT_START";t.ADD_SCRIPT_START=_;var S="ADD_SCRIPT_FAILURE";t.ADD_SCRIPT_FAILURE=S;var E="EDIT_PAGE_SUCCESS";t.EDIT_PAGE_SUCCESS=E;var P="EDIT_PAGE_FAILURE";t.EDIT_PAGE_FAILURE=P;var k="EDIT_PAGE_START";t.EDIT_PAGE_START=k;var C=function e(t){return{type:i,pages:t}};t.addPagesRequest=C;var O=function e(t){return function(){var e=n(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:BaseKit.Globals.pages.resetPageTree(t);r(C(t));case 2:case"end":return n.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.addPages=O;var T=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:a,payload:{page:t,lang:r}}};t.addSinglePage=T;var A=function e(t){return{type:o,payload:t}};t.deletePage=A;var j=function e(t,r){return{type:s,payload:{id:t,lang:r}}};t.deleteLangPage=j;var D=function e(t){return{type:l,ref:t}};t.setCurrentPage=D;var L=function e(t){return{type:u,isRTLLanguage:t}};t.setCurrentPageTextEntryMetadata=L;var R=function e(t){return{type:c,payload:t}};t.addLanguagesPageTree=R;var I=function e(){return{type:d}};t.orderPages=I;var x=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:f,payload:{tree:t,lang:r}}};var M=function e(t){return{type:p,payload:t,error:true}};var V=function e(){return{type:g}};var N=function e(t){return{type:h,payload:t}};var F=function e(t){return{type:v,error:true,payload:t}};var B=function e(){return{type:m}};var W=function e(t){return{type:y,payload:t}};t.langPageTreeSuccess=W;var G=function e(t){return{type:b,error:true,payload:t}};function q(e){return U.apply(this,arguments)}function U(){U=n(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/order-pages";n={credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(t)};return i.abrupt("return",window.fetch(r,n));case 3:case"end":return i.stop()}}),e)})));return U.apply(this,arguments)}var H=function e(t){return function(){var e=n(regeneratorRuntime.mark((function e(r){var n,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r(I());a.prev=1;a.next=4;return q(t);case 4:n=a.sent;if(!(200===n.status)){a.next=12;break}a.next=8;return n.json();case 8:i=a.sent;r(x(i.pageTree,t.language||""));a.next=13;break;case 12:401===n.status?r(M({status:401})):r(M({message:"Unknown error"}));case 13:a.next=18;break;case 15:a.prev=15;a.t0=a["catch"](1);r(M(a.t0));case 18:case"end":return a.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()};t.updateOrder=H;var z=function e(t){return function(){var e=n(regeneratorRuntime.mark((function e(r){var n,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r(B());a.prev=1;a.next=4;return window.fetch("/_/site-languages-page-tree",{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":t},method:"GET"});case 4:n=a.sent;if(!(200===n.status)){a.next=12;break}a.next=8;return n.json();case 8:i=a.sent;r(W(i));a.next=13;break;case 12:r(G({message:"Server error"}));case 13:a.next=18;break;case 15:a.prev=15;a.t0=a["catch"](1);r(G(a.t0));case 18:case"end":return a.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()};t.getLanguagesPageTree=z;var $=function e(t){return function(){var e=n(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:BaseKit.Globals.pages.resetPageTree(t);r(N(t));case 2:case"end":return n.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.getPageTreeSuccess=$;var K=function e(t){return function(){var e=n(regeneratorRuntime.mark((function e(r){var n,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r(V());a.prev=1;a.next=4;return window.fetch("/_/page-tree",{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":t},method:"GET"});case 4:n=a.sent;if(!(200===n.status)){a.next=12;break}a.next=8;return n.json();case 8:i=a.sent;r($(i.pageTree));a.next=13;break;case 12:r(F({message:"Server error"}));case 13:a.next=18;break;case 15:a.prev=15;a.t0=a["catch"](1);r(F(a.t0));case 18:case"end":return a.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()};t.getPageTree=K;var Z=function e(){return{type:_}};t.addScriptStart=Z;var Y=function e(t){return{type:S,error:true,payload:t}};t.addScriptFailure=Y;var X=function e(t,r){return{type:w,payload:{page:t,lang:r}}};t.addScriptSuccess=X;var J=function e(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(){var e=n(regeneratorRuntime.mark((function e(n){var o;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:n(Z());s.prev=1;s.next=4;return window.fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":r},method:"PUT",body:JSON.stringify(i)});case 4:o=s.sent;200===o.status?n(X(i,a)):n(Y({message:"Server error"}));s.next=11;break;case 8:s.prev=8;s.t0=s["catch"](1);n(Y(s.t0));case 11:case"end":return s.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()};t.setScript=J;var Q=function e(){return{type:k}};t.editPageStart=Q;var ee=function e(t,r,n){return{type:E,payload:{ref:t,page:r,lang:n}}};t.editPageSuccess=ee;var te=function e(t){return{type:P,error:true,payload:t}};t.editPageFailure=te;var re=function e(t,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(){var e=n(regeneratorRuntime.mark((function e(n){var s;return regeneratorRuntime.wrap((function e(l){while(1)switch(l.prev=l.next){case 0:n(Q());l.prev=1;l.next=4;return window.fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":r},method:"PUT",body:JSON.stringify(a)});case 4:s=l.sent;200===s.status?n(ee(i,a,o)):n(te({message:"Server error"}));l.next=11;break;case 8:l.prev=8;l.t0=l["catch"](1);n(te(l.t0));case 11:case"end":return l.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()};t.savePageChanges=re},19999:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.updateStyles=t.showSave=t.removeError=t.openPanel=t.hideSave=t.enableSave=t.enableCancel=t.disableSave=t.disableCancel=t.closeSubpanel=t.closePanel=t.addError=t.UPDATE_STYLES=t.SHOW_SAVE=t.REMOVE_ERROR=t.OPEN_PANEL=t.HIDE_SAVE=t.ENABLE_SAVE=t.ENABLE_CANCEL=t.DISABLE_SAVE=t.DISABLE_CANCEL=t.CLOSE_SUBPANEL=t.CLOSE_PANEL=t.ADD_ERROR=void 0;var r="OPEN_PANEL";t.OPEN_PANEL=r;var n="CLOSE_PANEL";t.CLOSE_PANEL=n;var i="CLOSE_SUBPANEL";t.CLOSE_SUBPANEL=i;var a="ENABLE_SAVE";t.ENABLE_SAVE=a;var o="DISABLE_SAVE";t.DISABLE_SAVE=o;var s="HIDE_SAVE";t.HIDE_SAVE=s;var l="SHOW_SAVE";t.SHOW_SAVE=l;var u="ENABLE_CANCEL";t.ENABLE_CANCEL=u;var c="DISABLE_CANCEL";t.DISABLE_CANCEL=c;var d="ADD_ERROR";t.ADD_ERROR=d;var f="REMOVE_ERROR";t.REMOVE_ERROR=f;var p="UPDATE_STYLES";t.UPDATE_STYLES=p;var g=function e(t){return{type:r,panel:t}};t.openPanel=g;var h=function e(t){return{type:n,panel:t}};t.closePanel=h;var v=function e(){return{type:i}};t.closeSubpanel=v;var m=function e(){return{type:a}};t.enableSave=m;var y=function e(){return{type:o}};t.disableSave=y;var b=function e(){return{type:s}};t.hideSave=b;var w=function e(){return{type:l}};t.showSave=w;var _=function e(){return{type:u}};t.enableCancel=_;var S=function e(){return{type:c}};t.disableCancel=S;var E=function e(){return{type:d}};t.addError=E;var P=function e(){return{type:f}};t.removeError=P;var k=function e(t){return{type:p,styles:t}};t.updateStyles=k},36957:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.showRowWidgetLayoutControlList=t.showRowWidgetControlList=t.showImageBackgroundControlList=t.setRowWidgetControlSettings=t.setRowWidgetControlRendered=t.openControlPanel=t.hideRowWidgetLayoutControlList=t.hideRowWidgetControlList=t.hideImageBackgroundControlList=t.closeControlPanel=t.changeRowWidgetStyle=t.SHOW_ROW_WIDGET_LAYOUT_CONTROL_LIST=t.SHOW_IMAGE_BACKGROUND_CONTROL_LIST=t.SET_ROW_WIDGET_CONTROL_SETTINGS=t.SET_ROW_WIDGET_CONTROL_RENDERED=t.OPEN_ROW_WIDGET_CONTROL_LIST=t.OPEN_CONTROL_PANEL=t.HIDE_ROW_WIDGET_LAYOUT_CONTROL_LIST=t.HIDE_IMAGE_BACKGROUND_CONTROL_LIST=t.CLOSE_ROW_WIDGET_CONTROL_LIST=t.CLOSE_CONTROL_PANEL=t.CHANGE_ROW_WIDGET_STYLE=void 0;var r="OPEN_ROW_WIDGET_CONTROL_LIST";t.OPEN_ROW_WIDGET_CONTROL_LIST=r;var n="CLOSE_ROW_WIDGET_CONTROL_LIST";t.CLOSE_ROW_WIDGET_CONTROL_LIST=n;var i="SHOW_ROW_WIDGET_LAYOUT_CONTROL_LIST";t.SHOW_ROW_WIDGET_LAYOUT_CONTROL_LIST=i;var a="HIDE_ROW_WIDGET_LAYOUT_CONTROL_LIST";t.HIDE_ROW_WIDGET_LAYOUT_CONTROL_LIST=a;var o="SET_ROW_WIDGET_CONTROL_SETTINGS";t.SET_ROW_WIDGET_CONTROL_SETTINGS=o;var s="CHANGE_ROW_WIDGET_STYLE";t.CHANGE_ROW_WIDGET_STYLE=s;var l="SET_ROW_WIDGET_CONTROL_RENDERED";t.SET_ROW_WIDGET_CONTROL_RENDERED=l;var u="SHOW_IMAGE_BACKGROUND_CONTROL_LIST";t.SHOW_IMAGE_BACKGROUND_CONTROL_LIST=u;var c="HIDE_IMAGE_BACKGROUND_CONTROL_LIST";t.HIDE_IMAGE_BACKGROUND_CONTROL_LIST=c;var d="OPEN_CONTROL_PANEL";t.OPEN_CONTROL_PANEL=d;var f="CLOSE_CONTROL_PANEL";t.CLOSE_CONTROL_PANEL=f;var p=function e(){return{type:r}};t.showRowWidgetControlList=p;var g=function e(){return{type:n}};t.hideRowWidgetControlList=g;var h=function e(){return{type:i}};t.showRowWidgetLayoutControlList=h;var v=function e(){return{type:a}};t.hideRowWidgetLayoutControlList=v;var m=function e(t){var r=t.settings,n=t.rowType,i=t.zoneSharingScope,a=t.showLayout,s=t.showShapeDivider;return{type:o,settings:r,rowType:n,showLayout:a,zoneSharingScope:i,showShapeDivider:s}};t.setRowWidgetControlSettings=m;var y=function e(t){return{type:s,settings:t}};t.changeRowWidgetStyle=y;var b=function e(t){return{type:l,payload:t}};t.setRowWidgetControlRendered=b;var w=function e(){return{type:u}};t.showImageBackgroundControlList=w;var _=function e(){return{type:c}};t.hideImageBackgroundControlList=_;var S=function e(t){return{type:d,panel:t}};t.openControlPanel=S;var E=function e(t){return{type:f,panel:t}};t.closeControlPanel=E},20728:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.undoColorSetChange=t.setSiteStyleType=t.setSiteRef=t.setRowMoveMode=t.setRowEditingMode=t.setPrimaryDomain=t.setPrevFontSet=t.setPrevCustomColorSet=t.setPrevColorSet=t.setPolicyPageData=t.setOrigColorSet=t.setGlobalValues=t.setEnableRows=t.setEmailVerification=t.setEditorVersion=t.setDesktopScreenMode=t.setColorSet=t.initColorSets=t.getEmailVerification=t.UNDO_COLOR_SET_CHANGE=t.SET_SITE_STYLE_TYPE=t.SET_SITE_REF=t.SET_ROW_MOVE_MODE=t.SET_ROW_EDITING_MODE=t.SET_PRIMARY_DOMAIN=t.SET_PREV_FONT_SET=t.SET_PREV_CUSTOM_COLOR_SET=t.SET_PREV_COLOR_SET=t.SET_POLICY_PAGE_DATA=t.SET_ORIG_COLOR_SET=t.SET_GLOBAL_VALUES=t.SET_ENABLE_ROWS=t.SET_EMAIL_VERIFICATION=t.SET_EDITOR_VERSION=t.SET_DESKTOP_SCREEN_MODE=t.SET_COLOR_SET=t.INIT_COLOR_SETS=t.EMAIL_VERIFICATION_SUCCESS=t.EMAIL_VERIFICATION_START=t.EMAIL_VERIFICATION_FAILURE=void 0;function r(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function n(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}var i="SET_SITE_REF";t.SET_SITE_REF=i;var a="SET_PRIMARY_DOMAIN";t.SET_PRIMARY_DOMAIN=a;var o="SET_ENABLE_ROWS";t.SET_ENABLE_ROWS=o;var s="SET_EDITOR_VERSION";t.SET_EDITOR_VERSION=s;var l="SET_GLOBAL_VALUES";t.SET_GLOBAL_VALUES=l;var u="SET_POLICY_PAGE_DATA";t.SET_POLICY_PAGE_DATA=u;var c="SET_COLOR_SET";t.SET_COLOR_SET=c;var d="INIT_COLOR_SETS";t.INIT_COLOR_SETS=d;var f="SET_ORIG_COLOR_SET";t.SET_ORIG_COLOR_SET=f;var p="UNDO_COLOR_SET_CHANGE";t.UNDO_COLOR_SET_CHANGE=p;var g="SET_SITE_STYLE_TYPE";t.SET_SITE_STYLE_TYPE=g;var h="SET_PREV_COLOR_SET";t.SET_PREV_COLOR_SET=h;var v="SET_PREV_CUSTOM_COLOR_SET";t.SET_PREV_CUSTOM_COLOR_SET=v;var m="SET_PREV_FONT_SET";t.SET_PREV_FONT_SET=m;var y="SET_ROW_EDITING_MODE";t.SET_ROW_EDITING_MODE=y;var b="SET_ROW_MOVE_MODE";t.SET_ROW_MOVE_MODE=b;var w="SET_DESKTOP_SCREEN_MODE";t.SET_DESKTOP_SCREEN_MODE=w;var _="SET_EMAIL_VERIFICATION";t.SET_EMAIL_VERIFICATION=_;var S="EMAIL_VERIFICATION_START";t.EMAIL_VERIFICATION_START=S;var E="EMAIL_VERIFICATION_SUCCESS";t.EMAIL_VERIFICATION_SUCCESS=E;var P="EMAIL_VERIFICATION_FAILURE";t.EMAIL_VERIFICATION_FAILURE=P;var k=function e(t){return{type:d,payload:t}};t.initColorSets=k;var C=function e(){return{type:p}};t.undoColorSetChange=C;var O=function e(t){return{type:c,payload:t}};t.setColorSet=O;var T=function e(){return{type:f}};t.setOrigColorSet=T;var A=function e(t){return{type:g,payload:t}};t.setSiteStyleType=A;var j=function e(t){return{type:h,payload:t}};t.setPrevColorSet=j;var D=function e(t){return{type:v,payload:t}};t.setPrevCustomColorSet=D;var L=function e(t){return{type:m,payload:t}};t.setPrevFontSet=L;var R=function e(t){return{type:i,ref:t}};t.setSiteRef=R;var I=function e(t){return{type:a,domain:t}};t.setPrimaryDomain=I;var x=function e(t){return{type:o,enableRows:t}};t.setEnableRows=x;var M=function e(t){return{type:s,editorVersion:t}};t.setEditorVersion=M;var V=function e(t){return{type:l,payload:t}};t.setGlobalValues=V;var N=function e(t){return{type:u,policyPageData:t}};t.setPolicyPageData=N;var F=function e(t){return{type:y,payload:t}};t.setRowEditingMode=F;var B=function e(t){return{type:b,payload:t}};t.setRowMoveMode=B;var W=function e(t){return{type:w,payload:t}};t.setDesktopScreenMode=W;var G=function e(t){return{type:_,payload:t}};t.setEmailVerification=G;var q=function e(){return{type:S}};var U=function e(t){return{type:E,payload:t}};var H=function e(t){return{type:P,error:true,payload:t}};var z=function e(t,r){return function(){var e=n(regeneratorRuntime.mark((function e(n){var i,a;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n(q());o.prev=1;o.next=4;return window.fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":r},method:"GET"});case 4:i=o.sent;if(!(200===i.status)){o.next=12;break}o.next=8;return i.json();case 8:a=o.sent;n(U(a.emailVerification));o.next=13;break;case 12:401===i.status?n(H({status:401})):n(H({message:"Unknown error"}));case 13:o.next=18;break;case 15:o.prev=15;o.t0=o["catch"](1);n(H(o.t0));case 18:case"end":return o.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()};t.getEmailVerification=z},35704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setUserData=t.SET_USER=void 0;var r="SET_USER";t.SET_USER=r;var n=function e(t){return{type:r,user:t}};t.setUserData=n},24744:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.changeLastWidgetOnPage=t.changeFirstWidgetOnPage=t.CHANGE_LAST_WIDGET_ON_PAGE=t.CHANGE_FIRST_WIDGET_ON_PAGE=void 0;var r="CHANGE_FIRST_WIDGET_ON_PAGE";t.CHANGE_FIRST_WIDGET_ON_PAGE=r;var n="CHANGE_LAST_WIDGET_ON_PAGE";t.CHANGE_LAST_WIDGET_ON_PAGE=n;var i=function e(t){return{type:r,widget:t}};t.changeFirstWidgetOnPage=i;var a=function e(t){return{type:n,widget:t}};t.changeLastWidgetOnPage=a},62936:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.openWidgetSettings=t.closeWidgetSettings=t.OPEN_WIDGET_SETTINGS=t.CLOSE_WIDGET_SETTINGS=void 0;var r="OPEN_WIDGET_SETTINGS";t.OPEN_WIDGET_SETTINGS=r;var n="CLOSE_WIDGET_SETTINGS";t.CLOSE_WIDGET_SETTINGS=n;var i=function e(t){return{type:r,openWidgetUniqueId:t}};t.openWidgetSettings=i;var a=function e(){return{type:n}};t.closeWidgetSettings=a},248:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.createStore=void 0;var i=r(10397);var a=u(r(16411));var o=l(r(3778));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(s=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(i,o,l):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function u(e){return e&&e.__esModule?e:{default:e}}var c=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.compose;var n=(0,i.createStore)((0,i.combineReducers)(o),t,r((0,i.applyMiddleware)(a.default)));return n};t.createStore=c;var d=c();var f=d;t["default"]=f},3778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"brand",{enumerable:true,get:function e(){return a.default}});Object.defineProperty(t,"contentSet",{enumerable:true,get:function e(){return o.default}});Object.defineProperty(t,"env",{enumerable:true,get:function e(){return d.default}});Object.defineProperty(t,"importPanel",{enumerable:true,get:function e(){return g.default}});Object.defineProperty(t,"language",{enumerable:true,get:function e(){return l.default}});Object.defineProperty(t,"notification",{enumerable:true,get:function e(){return i.default}});Object.defineProperty(t,"page",{enumerable:true,get:function e(){return u.default}});Object.defineProperty(t,"site",{enumerable:true,get:function e(){return s.default}});Object.defineProperty(t,"ui",{enumerable:true,get:function e(){return n.default}});Object.defineProperty(t,"user",{enumerable:true,get:function e(){return c.default}});Object.defineProperty(t,"widget",{enumerable:true,get:function e(){return f.default}});Object.defineProperty(t,"widgetSettings",{enumerable:true,get:function e(){return p.default}});var n=h(r(75297));var i=h(r(76594));var a=h(r(85874));var o=h(r(15692));var s=h(r(82933));var l=h(r(97292));var u=h(r(47917));var c=h(r(50356));var d=h(r(34620));var f=h(r(33595));var p=h(r(11873));var g=h(r(69923));function h(e){return e&&e.__esModule?e:{default:e}}},85874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var n=r(1576);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_BRAND:return a(a({},e),t.brand);default:return e}}},44399:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;t.initialState=void 0;var n=r(94376);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={activePanel:"palette",addButtonDisabled:true,selectedColour:"",savedColours:[]};t.initialState=s;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.CHANGE_PANEL:return a(a({},e),{},{activePanel:t.panel});case n.ENABLE_ADD:return a(a({},e),{},{addButtonDisabled:false});case n.DISABLE_ADD:return a(a({},e),{},{addButtonDisabled:true});case n.CHANGE_COLOUR:return a(a({},e),{},{selectedColour:t.colour});case n.CHANGE_SAVED_COLOURS:return a(a({},e),{},{savedColours:t.colours});default:return e}}},15692:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var n=r(97017);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={images:""};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_CONTENT_SET:return a(a({},e),t.data);default:return e}}},34620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var n=r(45457);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={codeVersion:"",mixpanelEnv:"",mixpanelToken:"",customWidgetsDomain:"",errors:[],allGoogleFonts:[],colorSets:{},googleMapsEmbedKey:"",protocol:"",domain:"",apiProxyBaseUrl:"",csrfToken:"",siteSubdomain:"",siteRef:null,languages:{},localisedLanguages:{},rows:false,rowLayouts:{},intercomAppId:"",manageDomain:"manage",V10CompatibilityMode:false};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_ENV:return a(a({},e),t.data);case n.UPDATE_SITE_COLOR_SET:return a(a({},e),{},{siteColorSet:t.colorSet});default:return e}}},69923:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NO_FILTER=void 0;t["default"]=u;var n=r(54113);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s=-1;t.NO_FILTER=s;var l={sites:{},pagesLoading:false,pagesError:false,selectedSourcePage:0,widgets:{},widgetsLoading:false,widgetsError:false,importLoading:false,importError:false,errorDetails:"",includeText:true,includeImg:true,textFilter:s,imgFilter:s};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.PAGES_LOADING_START:return a(a({},e),{},{pagesLoading:true,pagesError:false});case n.PAGES_LOADING_SUCCESS:return a(a({},e),{},{sites:a(a({},e.sites),{},o({},t.payload.siteRef,{pages:t.payload.pages})),pagesLoading:false,pagesError:false});case n.PAGES_LOADING_FAILURE:return a(a({},e),{},{pagesLoading:false,pagesError:true,errorDetails:t.payload});case n.WIDGETS_LOADING_START:return a(a({},e),{},{widgetsLoading:true,widgetsError:false});case n.WIDGETS_LOADING_SUCCESS:return a(a({},e),{},{widgetsLoading:false,widgetsError:false,widgets:a(a({},e.widgets),{},o({},t.payload.siteRef,a(a({},e.widgets[t.payload.siteRef]),{},o({},t.payload.pageRef,t.payload.widgets))))});case n.WIDGETS_LOADING_FAILURE:return a(a({},e),{},{widgetsLoading:false,widgetsError:true});case n.IMPORT_CONTENT_START:return a(a({},e),{},{importLoading:true,importError:false});case n.IMPORT_CONTENT_SUCCESS:return a(a({},e),{},{importLoading:false});case n.IMPORT_CONTENT_FAILURE:return a(a({},e),{},{importLoading:false,importError:true,errorDetails:t.payload});case n.CHANGE_TEXT_FILTER:return a(a({},e),{},{textFilter:t.payload});case n.CHANGE_IMG_FILTER:return a(a({},e),{},{imgFilter:t.payload});case n.CHANGE_INCLUDE_TEXT:return a(a({},e),{},{includeText:t.payload});case n.CHANGE_INCLUDE_IMG:return a(a({},e),{},{includeImg:t.payload});case n.CHANGE_SOURCE_PAGE:return a(a({},e),{},{selectedSourcePage:t.payload});default:return e}}},97292:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var n=r(79148);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={current:"",defaultLanguage:{language:"",name:"",localisedName:"",flag:""},pages:{},siteLanguages:[],activeLanguage:null,languageLoading:false,languageError:false,defaultLanguageUpdated:false,siteLanguagePagesAdding:false,siteLanguagePagesAddingError:false,siteLanguageDeleting:false,siteLanguageDeletingError:false,languageStatusUpdating:false,languageStatusUpdatingError:false};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.CHANGE_LANGUAGE:var r=e.defaultLanguage.language===t.lang;var i=e.siteLanguages.filter((function(e){return e.language===t.lang})).length>0;var o=r||i?t.lang:"";return a(a({},e),{},{current:o});case n.SET_DEFAULT:return a(a({},e),{},{defaultLanguage:t.lang});case n.SET_SITE_LANGUAGES:return a(a({},e),{},{siteLanguages:t.languages});case n.ADD_SITE_ACTIVE_LANGUAGE:return a(a({},e),{},{activeLanguage:t.payload.language});case n.UPDATE_DEFAULT_LANGUAGE_START:return a(a({},e),{},{languageLoading:true,languageError:false});case n.UPDATE_DEFAULT_LANGUAGE_FAILED:return a(a({},e),{},{languageLoading:false,languageError:true});case n.UPDATE_DEFAULT_LANGUAGE_SUCCESS:return a(a({},e),{},{languageLoading:false,languageError:false,defaultLanguageUpdated:true,defaultLanguage:t.payload.language});case n.ADD_SELECTED_PAGES:return a(a({},e),{},{pages:t.payload.pages});case n.REMOVE_SELECTED_PAGES:return a(a({},e),{},{pages:{}});case n.REMOVE_SITE_ACTIVE_LANGUAGE:return a(a({},e),{},{activeLanguage:null});case n.ADD_SITE_LANGUAGE_PAGES_START:return a(a({},e),{},{siteLanguagePagesAdding:true,siteLanguagePagesAddingError:false});case n.ADD_SITE_LANGUAGE_PAGES_SUCCESS:return a(a({},e),{},{siteLanguages:t.siteLanguages,siteLanguagePagesAdding:false,siteLanguagePagesAddingError:false});case n.ADD_SITE_LANGUAGE_PAGES_FAILED:return a(a({},e),{},{siteLanguagePagesAdding:false,siteLanguagePagesAddingError:true});case n.DELETE_LANGUAGE_START:return a(a({},e),{},{siteLanguageDeleting:true,siteLanguageDeletingError:false});case n.DELETE_LANGUAGE_SUCCESS:return a(a({},e),{},{siteLanguages:t.siteLanguages,siteLanguageDeleting:false,siteLanguageDeletingError:false});case n.DELETE_LANGUAGE_FAILED:return a(a({},e),{},{siteLanguageDeleting:false,siteLanguageDeletingError:true});case n.UPDATE_LANGUAGE_STATUS_START:return a(a({},e),{},{languageStatusUpdating:true,languageStatusUpdatingError:false});case n.UPDATE_LANGUAGE_STATUS_SUCCESS:return a(a({},e),{},{siteLanguages:t.siteLanguages,languageStatusUpdating:false,languageStatusUpdatingError:false});case n.UPDATE_LANGUAGE_STATUS_FAILED:return a(a({},e),{},{languageStatusUpdating:false,languageStatusUpdatingError:true});default:return e}}},67864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var n=r(49236);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={showLanguageList:false,showManageList:false};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.OPEN_ADD_LANGUAGE_LIST:return a(a({},e),{},{showLanguageList:true});case n.CLOSE_ADD_LANGUAGE_LIST:return a(a({},e),{},{showLanguageList:false});case n.OPEN_MANAGE_LANGUAGE_LIST:return a(a({},e),{},{showManageList:true});case n.CLOSE_MANAGE_LANGUAGE_LIST:return a(a({},e),{},{showManageList:false});default:return e}}},81265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var n=r(81798);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={activeModal:""};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.OPEN_ADD_LANGUAGE_DONE_MODAL:case n.CLOSE_ADD_LANGUAGE_DONE_MODAL:case n.OPEN_PAGE_TITLE_EDIT_MODAL:case n.OPEN_PAGES_SELECTOR_MODAL:case n.OPEN_ADD_LANGUAGE_MODAL:case n.CLOSE_ADD_LANGUAGE_MODAL:return a(a({},e),{},{activeModal:t.modal});default:return e}}},41179:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;t.initialState=void 0;var n=r(26225);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={modalOpen:false,activeModal:""};t.initialState=s;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.OPEN_MODAL:return a(a({},e),{},{modalOpen:true,activeModal:t.name});case n.CLOSE_MODAL:return a(a({},e),{},{modalOpen:false,activeModal:""});default:return e}}},76594:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;t.initialState=void 0;var n=r(1347);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={visible:false,current:null,queue:[]};t.initialState=s;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.NOTIFY:var r=e.queue;var i=e.current;e.current?i=t.payload:r.push(t.payload);return a(a({},e),{},{current:i,queue:r});case n.HIDE_NOTIFICATION:var o=e.queue;var l=null;e.queue.length&&(l=o.shift());return a(a({},e),{},{current:l,queue:o});default:return e}}},47917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=y;t.initialState=void 0;var n=r(73939);var i=o(r(7771));var a=r(3786);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return d(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function v(e){var t=[{text:(0,i.default)("shared_views.pagespanel.top_level","Top level"),value:0}];return e.reduce((function(e,t){"folder"===t.type&&e.push({text:t.title,value:t.ref});return e}),t)}var m={pages:[],folders:[],activePage:null,pagesError:false,pagesLoading:false,pagesOrdering:false,pagesErrorDetails:{},languages:{}};t.initialState=m;function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.ADD_PAGES:Editor.addSiteLanguagePagesToCollection(e.languages);return g(g({},e),{},{pages:t.pages,folders:v((0,n.formatPages)(t.pages))});case a.ADD_SINGLE_PAGE:if(""===t.payload.lang){var r=s(e.pages);r.push(t.payload.page);return g(g({},e),{},{pages:r})}var i=s(e.languages[t.payload.lang].pages);i.push(t.payload.page);return g(g({},e),{},{languages:g(g({},e.languages),{},h({},t.payload.lang,g(g({},e.languages[t.payload.lang]),{},{pages:i})))});case a.ADD_SCRIPT_START:case a.EDIT_PAGE_START:return g(g({},e),{},{pagesLoading:true,pagesError:false});case a.ADD_SCRIPT_SUCCESS:if(""===t.payload.lang){var o=(0,n.formatPages)(e.pages);o.forEach((function(e){if("".concat(e.ref)==="".concat(t.payload.page.ref)){e.headscript=t.payload.page.headscript;e.headScript=t.payload.page.headScript;e.bodyscript=t.payload.page.bodyscript;e.bodyScript=t.payload.page.bodyScript;e.headScriptOptions=t.payload.page.headScriptOptions;e.bodyScriptOptions=t.payload.page.bodyScriptOptions}}));return g(g({},e),{},{pages:(0,n.nestPages)(o),pagesError:false,pagesLoading:false})}var l=(0,n.formatPages)(e.languages[t.payload.lang].pages);l.forEach((function(e){if("".concat(e.ref)==="".concat(t.payload.page.ref)){e.headscript=t.payload.page.headscript;e.headScript=t.payload.page.headScript;e.bodyscript=t.payload.page.bodyscript;e.bodyScript=t.payload.page.bodyScript;e.headScriptOptions=t.payload.page.headScriptOptions;e.bodyScriptOptions=t.payload.page.bodyScriptOptions}}));return g(g({},e),{},{languages:g(g({},e.languages),{},h({},t.payload.lang,g(g({},e.languages[t.payload.lang]),{},{pages:(0,n.nestPages)(l)}))),pagesError:false,pagesLoading:false});case a.EDIT_PAGE_SUCCESS:if(""===t.payload.lang){var u=(0,n.formatPages)(e.pages);u.forEach((function(e){"".concat(e.ref)==="".concat(t.payload.ref)&&Object.keys(t.payload.page).forEach((function(r){e[r]=t.payload.page[r]}))}));return g(g({},e),{},{folders:v(u),pages:(0,n.nestPages)(u)})}var c=(0,n.formatPages)(e.languages[t.payload.lang].pages);c.forEach((function(e){"".concat(e.ref)==="".concat(t.payload.ref)&&Object.keys(t.payload.page).forEach((function(r){e[r]=t.payload.page[r]}))}));return g(g({},e),{},{languages:g(g({},e.languages),{},h({},t.payload.lang,{folders:v(c),pages:(0,n.nestPages)(c)}))});case a.ADD_SCRIPT_FAILURE:case a.EDIT_PAGE_FAILURE:return g(g({},e),{},{pagesError:true,pagesLoading:false,pagesErrorDetails:t.payload});case a.DELETE_PAGE:var d=(0,n.formatPages)(e.pages).filter((function(e){return e.ref!==t.payload}));return g(g({},e),{},{pages:(0,n.nestPages)(d),folders:v((0,n.formatPages)(d))});case a.DELETE_LANG_PAGE:var f=(0,n.formatPages)(e.languages[t.payload.lang].pages).filter((function(e){return e.ref!==t.payload.id}));return g(g({},e),{},{languages:g(g({},e.languages),{},h({},t.payload.lang,g(g({},e.languages[t.payload.lang]),{},{pages:(0,n.nestPages)(f),folders:v((0,n.formatPages)(f))})))});case a.SET_CURRENT_PAGE:return g(g({},e),{},{activePage:t.ref});case a.SET_CURRENT_PAGE_TEXT_ENTRY_METADATA:return g(g({},e),{},{isRTLLanguage:t.isRTLLanguage});case a.LANGUAGES_PAGE_TREE_START:return g(g({},e),{},{pagesLoading:true,pagesError:false});case a.ADD_LANGUAGES_PAGE_TREE:case a.LANGUAGES_PAGE_TREE_SUCCESS:Editor.addSiteLanguagePagesToCollection(t.payload);var p=Object.keys(t.payload);var y=g(g({},e),{},{languages:{}});p.forEach((function(e){y.languages[e]={pages:t.payload[e],folders:v((0,n.formatPages)(t.payload[e]))}}));return y;case a.LANGUAGES_PAGE_TREE_FAILURE:return g(g({},e),{},{pagesError:true,pagesLoading:false,pagesErrorDetails:t.payload});case a.ORDER_PAGES_START:return g(g({},e),{},{pagesOrdering:true,pagesError:false});case a.ORDER_PAGES_SUCCESS:if(""===t.payload.lang)return g(g({},e),{},{pages:t.payload.tree,folders:v((0,n.formatPages)(t.payload.tree)),pagesError:false,pagesLoading:false,pagesOrdering:false});return g(g({},e),{},{pagesError:false,pagesOrdering:false,pagesLoading:false,languages:g(g({},e.languages),{},h({},t.payload.lang,{pages:t.payload.tree,folders:v((0,n.formatPages)(t.payload.tree))}))});case a.ORDER_PAGES_FAILURE:return g(g({},e),{},{pagesError:true,pagesOrdering:false,pagesErrorDetails:t.payload});case a.PAGE_TREE_START:return g(g({},e),{},{pagesLoading:true,pagesError:false});case a.PAGE_TREE_SUCCESS:Editor.addSiteLanguagePagesToCollection(e.languages);return g(g({},e),{},{pages:t.payload,folders:v((0,n.formatPages)(t.payload)),pagesError:false,pagesLoading:false});case a.PAGE_TREE_FAILURE:return g(g({},e),{},{pagesError:true,pagesLoading:false,pagesErrorDetails:t.payload});default:return e}}},33606:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;t.initialState=void 0;var n=r(19999);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={panelOpen:false,activePanel:"",saveActive:false,showSave:true,cancelActive:true,hasError:false,styles:{},panelHistory:[]};t.initialState=s;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;var r=e.panelHistory.slice();switch(t.type){case n.OPEN_PANEL:r.push(t.panel);return a(a({},e),{},{panelOpen:true,activePanel:t.panel,panelHistory:r});case n.CLOSE_PANEL:r.pop();return a(a({},e),{},{panelOpen:false,activePanel:"",panelHistory:r});case n.CLOSE_SUBPANEL:r.pop();return a(a({},e),{},{panelOpen:r.length>0,activePanel:r.length?r[r.length-1]:"",panelHistory:r});case n.ENABLE_SAVE:return a(a({},e),{},{saveActive:true});case n.DISABLE_SAVE:return a(a({},e),{},{saveActive:false});case n.HIDE_SAVE:return a(a({},e),{},{showSave:false});case n.SHOW_SAVE:return a(a({},e),{},{showSave:true});case n.ENABLE_CANCEL:return a(a({},e),{},{cancelActive:true});case n.DISABLE_CANCEL:return a(a({},e),{},{cancelActive:false});case n.ADD_ERROR:return a(a({},e),{},{hasError:true});case n.REMOVE_ERROR:return a(a({},e),{},{hasError:false});case n.UPDATE_STYLES:return a(a({},e),{},{styles:t.styles});default:return e}}},83123:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var n=r(36957);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={showRowWidgetControlList:false,showRowWidgetLayoutControlList:false,showImageBackgroundControlList:false,showLayoutControlList:false,showShapeDividerControlList:false,isRowWidgetControlRendered:false,rowType:"",zoneSharingScope:"",settings:{},panelOpen:false,activePanel:""};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.OPEN_ROW_WIDGET_CONTROL_LIST:return a(a({},e),{},{showRowWidgetControlList:true});case n.CLOSE_ROW_WIDGET_CONTROL_LIST:return a(a({},s),{},{panelOpen:e.panelOpen,activePanel:e.activePanel});case n.SHOW_ROW_WIDGET_LAYOUT_CONTROL_LIST:return a(a({},e),{},{showRowWidgetLayoutControlList:true});case n.HIDE_ROW_WIDGET_LAYOUT_CONTROL_LIST:return a(a({},e),{},{showRowWidgetLayoutControlList:false});case n.SET_ROW_WIDGET_CONTROL_SETTINGS:return a(a({},e),{},{settings:t.settings,rowType:t.rowType,zoneSharingScope:t.zoneSharingScope,showLayoutControlList:t.showLayout,showShapeDividerControlList:t.showShapeDivider});case n.CHANGE_ROW_WIDGET_STYLE:return a(a({},e),{},{settings:a(a({},e.settings),{},{selectedStyleSet:t.settings.selectedStyleSet,selectedStyleType:t.settings.selectedStyleType})});case n.SET_ROW_WIDGET_CONTROL_RENDERED:return a(a({},e),{},{isRowWidgetControlRendered:t.payload});case n.SHOW_IMAGE_BACKGROUND_CONTROL_LIST:return a(a({},e),{},{showImageBackgroundControlList:true});case n.HIDE_IMAGE_BACKGROUND_CONTROL_LIST:return a(a({},e),{},{showImageBackgroundControlList:false});case n.OPEN_CONTROL_PANEL:return a(a({},e),{},{panelOpen:true,activePanel:t.panel});case n.CLOSE_CONTROL_PANEL:return a(a({},e),{},{panelOpen:false,activePanel:""});default:return e}}},82933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=c;var n=r(20728);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={ref:void 0,domain:void 0,enableRows:false,backgroundtype:"",colorSwatch:"",seoTitle:"",seoDescription:"",seoKeywords:"",seoLang:"",autogenerateOpengraph:false,enablePolicyPages:false,siteColors:{orig:{colorsInUse:{},colorSetId:"",colorsSource:""},current:{colorsInUse:{},colorSetId:"",colorsSource:""}},siteStyleType:"",prevColorSetId:"",prevCustomColorSet:{},prevFontSetId:"",isRowEditingMode:false,isRowMoveMode:false,isDesktopMode:false,emailVerificationLoading:false,emailVerificationLoadingError:false};function l(e){return e.replace(/(_)(.)/,(function(e,t,r){return r.toUpperCase()}))}function u(e){return e.reduce((function(e,t){return a(a({},e),{},o({},l(t.name),t.value))}),{})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.INIT_COLOR_SETS:return a(a({},e),{},{siteColors:{current:t.payload.siteColors,orig:t.payload.siteColors},colorSets:t.payload.colorSets});case n.SET_ORIG_COLOR_SET:return a(a({},e),{},{siteColors:{current:a({},e.siteColors.current),orig:a({},e.siteColors.current)}});case n.UNDO_COLOR_SET_CHANGE:return a(a({},e),{},{siteColors:{current:a({},e.siteColors.orig),orig:a({},e.siteColors.orig)}});case n.SET_COLOR_SET:return a(a({},e),{},{siteColors:{orig:a({},e.siteColors.orig),current:{colorSetId:t.payload.colorSetId,colorsSource:t.payload.colorsSource,colorsInUse:t.payload.colorsInUse}}});case n.SET_SITE_STYLE_TYPE:return a(a({},e),{},{siteStyleType:t.payload});case n.SET_PREV_COLOR_SET:return a(a({},e),{},{prevColorSetId:t.payload});case n.SET_PREV_CUSTOM_COLOR_SET:return a(a({},e),{},{prevCustomColorSet:t.payload});case n.SET_PREV_FONT_SET:return a(a({},e),{},{prevFontSetId:t.payload});case n.SET_SITE_REF:return a(a({},e),{},{ref:t.ref});case n.SET_PRIMARY_DOMAIN:return a(a({},e),{},{domain:t.domain});case n.SET_ENABLE_ROWS:return a(a({},e),{},{enableRows:t.enableRows});case n.SET_EDITOR_VERSION:return a(a({},e),{},{editorVersion:t.editorVersion});case n.SET_GLOBAL_VALUES:return a(a({},e),u(t.payload));case n.SET_ROW_EDITING_MODE:return a(a({},e),{},{isRowEditingMode:t.payload});case n.SET_ROW_MOVE_MODE:return a(a({},e),{},{isRowMoveMode:t.payload});case n.SET_DESKTOP_SCREEN_MODE:return a(a({},e),{},{isDesktopMode:t.payload});case n.SET_EMAIL_VERIFICATION:return a(a({},e),{},{emailVerification:t.payload});case n.EMAIL_VERIFICATION_START:return a(a({},e),{},{emailVerificationLoading:true});case n.EMAIL_VERIFICATION_SUCCESS:return a(a({},e),{},{emailVerificationLoading:false,emailVerificationLoadingError:false,emailVerification:t.payload});case n.EMAIL_VERIFICATION_FAILURE:return a(a({},e),{},{emailVerificationLoading:false,emailVerificationLoadingError:true});default:return e}}},75297:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(10397);var i=c(r(33606));var a=c(r(41179));var o=c(r(81265));var s=c(r(67864));var l=c(r(44399));var u=c(r(83123));function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,n.combineReducers)({panel:i.default,modal:a.default,colourPanel:l.default,languageModal:o.default,languageList:s.default,rowWidgetControl:u.default});var f=d;t["default"]=f},50356:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var n=r(35704);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={ref:-1,email:"",subscriptionPackageRef:-1,productVersion:-1,languageCode:"en",subscriptionPackageName:"",dateCreated:"",capabilities:{multiLanguageEditor:false,disableV8SiteAndPageScripts:false,enableStandaloneMode:false}};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_USER:return a(a({},e),t.user);default:return e}}},33595:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;t.initialState=void 0;var n=r(24744);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={};t.initialState=s;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.CHANGE_FIRST_WIDGET_ON_PAGE:return a(a({},e),{},{firstWidget:t.widget});case n.CHANGE_LAST_WIDGET_ON_PAGE:return a(a({},e),{},{lastWidget:t.widget});default:return e}}},11873:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;t.initialState=void 0;var n=r(62936);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s={};t.initialState=s;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.OPEN_WIDGET_SETTINGS:return a(a({},e),{},{openWidgetUniqueId:t.openWidgetUniqueId});case n.CLOSE_WIDGET_SETTINGS:return a(a({},e),{},{openWidgetUniqueId:null});default:return e}}},98514:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.templateRendererFactory=t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.twig=t.twig}i(e,[{key:"_getTemplate",value:function e(t){return this.twig.templates[t]}},{key:"render",value:function e(t,r){return this.twig.render(this._getTemplate(t),r)}}]);return e}();var o=function e(t){return new a({twig:t.Twig})};t.templateRendererFactory=o;var s=a;t["default"]=s},58817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(61748));var i=a(r(98514));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)();function s(e){e.factory("TemplateRenderer",(function(){return new i.default({twig:o.Twig})}));return e}var l=s;t["default"]=l},40335:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return o(e)||a(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){var t={container:["header","footer","sidebar"],companyname:["header","sidebar","footer"],extendednavigation:["header","sidebar"],feature:["header"],socialicons:["footer"]};e.forEach((function(n){t[n]&&e.push.apply(e,r(t[n]))}));return e}var u=l;t["default"]=u},90819:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({template:"hint",events:{"click .js-close-hint":"closeHint"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.text=t.text;this.closeCallback=t.closeCallback},render:function e(){var t=this.templateRenderer.render(this.template,{text:this.text});this.el.insertAdjacentHTML("beforeend",t)},closeHint:function e(){this.remove();this.closeCallback()}});var n=r;t["default"]=n},46264:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.options=t.appcues}i(e,[{key:"track",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NOT DEFINED";var r=arguments.length>1?arguments[1]:void 0;return Promise.resolve(window.Appcues.track(t,r))}},{key:"identify",value:function e(){var t=this.options,r=t.userDataProvider,n=t.brandDataProvider,i=t.envDataProvider;window.Appcues.identify(r.get("email"),{brand:n.get("brandName"),productVersion:r.get("productVersion"),subscriptionPackageRef:r.get("subscriptionPackageRef"),accountCreated:r.get("dateCreated"),compatibilityMode:i.get("V10CompatibilityMode")})}},{key:"getName",value:function e(){return"Appcues"}}]);return e}();var o=a;t["default"]=o},41647:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(46264));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function c(e,t,r){t&&u(e.prototype,t);r&&u(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var d=new WeakMap;var f=function(){function e(t){l(this,e);d.set(this,o({},t))}c(e,[{key:"create",value:function e(){var t=new n.default({appcues:d.get(this)});t.identify();return t}}]);return e}();var p=f;t["default"]=p},34447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=new WeakMap;var u=function(){function e(t){a(this,e);l.set(this,t.intercom)}s(e,[{key:"track",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NOT DEFINED";var r=arguments.length>1?arguments[1]:void 0;return Promise.resolve(window.Intercom("trackEvent",t,r))}},{key:"boot",value:function e(){var t=l.get(this),r=t.userDataProvider,i=t.envDataProvider,a=t.brandDataProvider,o=t.siteDataProvider;var s=i.get("intercomAppId");if(!window.Intercom||!s)return;var u=n(n({app_id:s,user_hash:i.get("intercomUserHash"),name:r.get("email"),brand:a.get("brandName"),template:o.get("templateName"),siteRef:o.getSiteRef(),siteDefaultLanguage:o.getDefaultLanguage()},r.all()),{},{hide_default_launcher:false});window.Intercom("boot",u)}},{key:"open",value:function e(){window.Intercom("showNewMessage")}},{key:"hideDefaultLauncher",value:function e(){window.Intercom("update",{hide_default_launcher:true})}},{key:"getName",value:function e(){return"Intercom"}}]);return e}();var c=u;t["default"]=c},14808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(11474);var i=a(r(34447));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function d(e,t,r){t&&c(e.prototype,t);r&&c(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var f=new WeakMap;var p=window.matchMedia("(max-width: 930px)").matches;var g=function(){function e(t){u(this,e);f.set(this,s({},t))}d(e,[{key:"create",value:function e(){var t=new i.default({intercom:f.get(this)});t.boot();((0,n.isMobileDevice)()||p)&&t.hideDefaultLauncher();return t}}]);return e}();var h=g;t["default"]=h},75850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(61748));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return c(e)||u(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n=[];var i=true;var a=false;var o,s;try{for(r=r.call(e);!(i=(o=r.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;s=e}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw s}}return n}function c(e){if(Array.isArray(e))return e}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function v(e,t,r){t&&h(e.prototype,t);r&&h(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var m=new WeakMap;var y="x-";var b=function(){function e(t){g(this,e);m.set(this,t.mixpanel)}v(e,[{key:"track",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NOT DEFINED";var i=arguments.length>1?arguments[1]:void 0;return new Promise((function(e){var a=m.get(t);void 0!==(0,n.default)().mixpanelDistinctId&&(a=(0,n.default)().mixpanel);a.track(r,i,(function(){e()}))}))}},{key:"register",value:function e(t){var r=this.getFormattedMetadata(t.accountHolderMetadata);m.get(this).register(f({userRef:t.userRef,primaryDomain:t.primaryDomain,subscriptionPackageRef:t.subscriptionPackageRef,env:t.mixpanelEnv,brand:t.brandName,codeVersion:t.codeVersion,productVersion:t.productVersion,languageCode:t.languageCode,compatibilityMode:t.compatibilityMode},r));return this}},{key:"identify",value:function e(t){m.get(this).identify("".concat(t.mixpanelEnv,"-").concat(t.userRef));return this}},{key:"getName",value:function e(){return"Mixpanel"}},{key:"getFormattedMetadata",value:function e(t){var r={};Object.entries(t||{}).forEach((function(e){var t=a(e,2),n=t[0],i=t[1];r["".concat(y).concat(n)]=i}));return r}}]);return e}();var w=b;t["default"]=w},74433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(75850));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=new WeakMap;var u=function(){function e(t){a(this,e);this._envDataProvider=t.envDataProvider;this._userDataProvider=t.userDataProvider;this._siteDataProvider=t.siteDataProvider;this._brandDataProvider=t.brandDataProvider;l.set(this,t.mixpanel)}s(e,[{key:"create",value:function e(){var t=new n.default({mixpanel:l.get(this)});t.register({mixpanelEnv:this._envDataProvider.get("mixpanelEnv"),userRef:this._userDataProvider.get("ref"),subscriptionPackageRef:this._userDataProvider.get("subscriptionPackageRef"),primaryDomain:this._siteDataProvider.get("primaryDomain"),brandName:this._brandDataProvider.get("brandName"),codeVersion:this._envDataProvider.get("codeVersion"),productVersion:this._userDataProvider.get("productVersion"),languageCode:this._userDataProvider.get("languageCode"),compatibilityMode:this._envDataProvider.get("V10CompatibilityMode"),accountHolderMetadata:this._userDataProvider.get("accountHolderMetadata")});t.identify({mixpanelEnv:this._envDataProvider.get("mixpanelEnv"),userRef:this._userDataProvider.get("ref")});return t}}]);return e}();var c=u;t["default"]=c},95560:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=new WeakMap;var o=function(){function e(){r(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.set(this,{trackers:n})}i(e,[{key:"addTracker",value:function e(t){var r=a.get(this),n=r.trackers;n.push(t);a.set(this,{trackers:n})}},{key:"track",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NOT DEFINED";var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=a.get(this),i=n.trackers;var o=""===r?{}:r;var s=[];Array.isArray(t)?i.forEach((function(e){var r=t.filter((function(t){return void 0!==t.tracker&&t.tracker===e.getName()}));r.length&&void 0!==r[0].event&&s.push(e.track(r[0].event,o))})):i.forEach((function(e){return s.push(e.track(t,o))}));return Promise.all(s)}}]);return e}();var s=o;t["default"]=s},97077:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=l(r(61748));var i=l(r(74433));var a=l(r(95560));var o=l(r(14808));var s=l(r(41647));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,n.default)();function c(e){e.factory("MixpanelFactory",(function(e){return new i.default({envDataProvider:e.EnvDataProvider,userDataProvider:e.UserDataProvider,brandDataProvider:e.BrandDataProvider,siteDataProvider:e.SiteDataProvider,mixpanel:u.mixpanel})}));e.factory("IntercomFactory",(function(e){return new o.default({envDataProvider:e.EnvDataProvider,userDataProvider:e.UserDataProvider,brandDataProvider:e.BrandDataProvider,siteDataProvider:e.SiteDataProvider})}));e.factory("AppcuesFactory",(function(e){return new s.default({envDataProvider:e.EnvDataProvider,userDataProvider:e.UserDataProvider,brandDataProvider:e.BrandDataProvider})}));e.factory("Tracker",(function(e){var t=new a.default;d(e,(function(){t.addTracker(e.MixpanelFactory.create())}));f(e,(function(){t.addTracker(e.IntercomFactory.create())}));p(e,(function(){t.addTracker(e.AppcuesFactory.create())}));return t}));e.factory("ErrorMonitor",(function(e){return{init:function t(){window.Raven&&window.Raven.setExtraContext({template:e.SiteDataProvider.get("templateName"),codeVersion:e.EnvDataProvider.get("codeVersion"),brand:e.BrandDataProvider.get("displayName")})}}}));return e}function d(e,t){v(e)?t():m(u,"mixpanel",5e3).then((function(){v(e)&&t()})).catch((function(){}))}function f(e,t){g(e)?t():m(window,"Intercom",5e3).then((function(){g(e)&&t()})).catch((function(){}))}function p(e,t){h(e)?t():m(window,"Appcues",5e3).then((function(){h(e)&&t()})).catch((function(){}))}function g(e){var t=e.BrandDataProvider;var r=t.get("capabilities"),n=r.enableIntercom;return n&&window.Intercom}function h(e){var t=e.BrandDataProvider;return t.has("enableAppcues")&&window.Appcues}function v(e){var t=!!u.mixpanel;var r=e.EnvDataProvider.get("mixpanelEnv")&&e.EnvDataProvider.get("mixpanelToken");var n=e.BrandDataProvider.has("tracking");var i=!e.UserDataProvider.get("email").includes("@basekit.com");return t&&r&&n&&i}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return new Promise((function(n,i){var a=0;function o(s){setTimeout((function(){a+=s;if(void 0!==e[t]){n();return}if(a>=r){i();return}o(2*s)}),s)}o(10)}))}var y=c;t["default"]=y},23519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({el:".js-undo-prompt",events:{"click .js-undo-button":"undoButtonClicked"},initialize:function e(){this.animationEndHandler=this.hideElement.bind(this);this.attachGlobalEvents()},attachGlobalEvents:function e(){Editor.Events.on("undoAvailable",this.startUndo.bind(this));Editor.Events.on("imagesPanel:rendered",this.hide.bind(this));Editor.Events.on("widgetSettingsPanel:opened",this.hide.bind(this));Editor.Events.on("widgetAction:triggered",this.hide.bind(this));Editor.Events.on("widgetOverlay:destroy",this.hide.bind(this));Editor.Events.on("page:change",this.hide.bind(this));Editor.Events.on("pagespanel:rendered",this.hide.bind(this))},remove:function e(){Backbone.View.prototype.remove.call(this);Editor.Events.off("undoAvailable",this.startUndo.bind(this));Editor.Events.off("imagesPanel:rendered",this.hide.bind(this));Editor.Events.off("widgetSettingsPanel:opened",this.hide.bind(this));Editor.Events.off("widgetAction:triggered",this.hide.bind(this));Editor.Events.off("widgetOverlay:destroy",this.hide.bind(this));Editor.Events.off("page:change",this.hide.bind(this));Editor.Events.on("pagespanel:rendered",this.hide.bind(this))},startUndo:function e(t){this.widgetModel=t.widgetModel;this.show()},undoButtonClicked:function e(){this.hide();this.widgetModel.undo()},show:function e(){this.removeAnimationEndEvent();this.el.hidden=false;this.el.classList.add("is-visible");this.startAutoCloseTimer()},hide:function e(){this.removeAutoCloseTimer();this.el.classList.remove("is-visible");this.attachAnimationEndEvent()},hideElement:function e(){this.el.hidden=true},attachAnimationEndEvent:function e(){this.el.addEventListener("animationend",this.animationEndHandler)},removeAnimationEndEvent:function e(){this.el.removeEventListener("animationend",this.animationEndHandler)},startAutoCloseTimer:function e(){var t=this;this.autoCloseTimeoutId=window.setTimeout((function(){t.hide()}),12e3)},removeAutoCloseTimer:function e(){window.clearTimeout(this.autoCloseTimeoutId)}});var n=r;t["default"]=n},39428:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=new WeakMap;var u=function(){function e(t){a(this,e);l.set(this,n({},t))}s(e,[{key:"checkTimeout",value:function e(t){var r=l.get(this),n=r.sessionTimeoutDialog;if(401===t.status){n.display();throw new Error}return t}},{key:"update",value:function e(){var t=this;return new Promise((function(e,r){window.fetch("/refresh",{method:"GET",credentials:"include",mode:"cors"}).then(t.checkTimeout.bind(t)).then((function(e){return e.json()})).then((function(t){var r=t.billingCycle&&t.billingCycle.offerExpiryDate||null;App.sites.reset&&App.sites.reset(t.sites);App.user=t.accountHolder;App.brand=t.brand;App.frontEndBucket.languageCode=t.accountHolder.languageCode;App.frontEndBucket.tier=t.accountHolder.capabilities.templateTier;App.frontEndBucket.offerExpiryDate=r;e(t)})).catch(r)}))}}]);return e}();var c=u;t["default"]=c},27661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=3;var o=function(){function e(t){r(this,e);this.options=t;this.options.chunkSize=this.options.chunkSize||1048576}i(e,[{key:"upload",value:function e(t){var r=Array.prototype.map.call(t,(function(e,t){e.fileIndex=t;return e}));s({files:r,fileCount:r.length,chunkTotals:{},progressObj:{},chunks:[],chunksComplete:0,options:this.options})}}]);return e}();function s(e){var t=e.files.shift();if("undefined"===typeof t)return;l(e,t,t.fileIndex)}function l(e,t,r){var n=t.size;var i=e.options.chunkSize;var o=Math.ceil(n/i);var s=p();var l=0;var d=i;var f=1;var h=1;n<=i&&(f=0);e.chunks=[];e.chunksComplete=0;e.chunkTotals[r]=o;e.chunkTotal=o;while(l<n){var v=t.slice(l,d);var m=g(v,t.name,e.options.type);if(f){m.append("chunkIndex",h);m.append("chunkTotal",o);m.append("id",s)}var y={formData:m,counter:h,chunkTotal:o,fileIndex:r,id:s,fileName:t.name};e.chunks.push(y);l=d;d=l+i;h+=1}if(1===e.chunks.length){u(e,e.chunks.pop());return}var b=a;a>e.chunks.length&&(b=e.chunks.length);for(var w=0;w<b;w++)c(e)}function u(e,t){var r=new XMLHttpRequest;var n=e.options.eventDispatcher;r.onload=function(){var t=JSON.parse(r.response);if(200!==r.status){n.trigger("file.uploaderror",r.status,t.errorKey);return}var i=t.result;n.trigger("file.uploaded",i);s(e)};r.upload.onprogress=function(r){f(e,r,t)};r.open("POST","".concat(e.options.apiProxyBaseUrl,"/_/assemble"),true);r.setRequestHeader("X-CSRF-TOKEN",e.options.csrfToken);r.withCredentials=true;r.send(t.formData)}function c(e){if(0===e.chunks.length)return;var t=e.chunks.pop();d(e,t)}function d(e,t){var r=new XMLHttpRequest;var n=t.counter,i=t.fileIndex;r.upload.onprogress=function(r){f(e,r,t)};r.onload=function(){e.chunksComplete+=1;c(e);if(e.chunksComplete===e.chunkTotal){var r=new FormData;r.append("id",t.id);r.append("fileName",t.fileName);u(e,{formData:r,fileIndex:i,counter:n,chunkTotal:e.chunkTotal})}};r.open("POST","".concat(e.options.apiProxyBaseUrl,"/_/chunk"),true);r.setRequestHeader("X-CSRF-TOKEN",e.options.csrfToken);r.withCredentials=true;r.send(t.formData)}function f(e,t,r){var n=e.options.progressCalculator;if(t.lengthComputable){n.updateProgress(e.progressObj,t.loaded,t.total,r);var i=n.calculateProgress(e.progressObj,e.chunkTotals,e.fileCount);e.options.eventDispatcher.trigger("file.progress",i)}}function p(){var e=32;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var r=new Uint32Array(e);var n=window.msCrypto?window.msCrypto:window.crypto;var i="";n.getRandomValues(r);for(var a=0;a<e;a++)i+=t[r[a]%t.length];return i}function g(e,t,r){var n=new FormData;n.append("type",r);n.append("file",e,t);return n}BaseKit.chunkedUpload=BaseKit.chunkedUpload||{};BaseKit.chunkedUpload.ChunkedUploader=o;var h=o;t["default"]=h},5815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){r(this,e)}i(e,[{key:"calculateProgress",value:function e(t,r,n){var i=Reflect.ownKeys(t).reduce((function(e,n){var i=o(t[n]);return e+i/r[n]}),0);if(0===i)return i;return i/n}},{key:"updateProgress",value:function e(t,r,n,i){var a=Math.floor(r/n*1e3)/10;if(t[i.fileIndex])t[i.fileIndex][i.counter]=a;else{t[i.fileIndex]=[];t[i.fileIndex][i.counter]=a}return t}}]);return e}();function o(e){var t=e.reduce((function(e,t){if(void 0!==t)return e+t;return 0}),0);return t}BaseKit.chunkedUpload=BaseKit.chunkedUpload||{};BaseKit.chunkedUpload.ProgressCalculator=a;var s=a;t["default"]=s},23788:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.rgbToHex=t.isValidRgbColour=t.isValidHexColour=t.hexToRgb=t["default"]=t.convertComputedStyleRgbColourToHex=void 0;var r=function e(t){return/^#([a-f0-9]{3}){1,2}\b$/i.test(t.trim())};t.isValidHexColour=r;var n=function e(t){if(!/^(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})$/i.test(t))return false;var r=t.trim().split(",");for(var n=0;n<r.length;n++)if(parseInt(r[n],10)>255)return false;return true};t.isValidRgbColour=n;var i=function e(t){return t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return"#".concat(t).concat(t).concat(r).concat(r).concat(n).concat(n)})).substring(1).match(/.{2}/g).map((function(e){return parseInt(e,16)}))};t.hexToRgb=i;var a=function e(t,r,n){return"#".concat([t,r,n].map((function(e){return Number(e).toString(16).padStart(2,"0")})).join(""))};t.rgbToHex=a;var o=function e(t){var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);if(!n("".concat(r[1],",").concat(r[2],",").concat(r[3])))throw new Error("Invalid computed RGB colour, ".concat(t));return a(r[1],r[2],r[3])};t.convertComputedStyleRgbColourToHex=o;var s={isValidHexColour:r,isValidRgbColour:n,hexToRgb:i,rgbToHex:a,convertComputedStyleRgbColourToHex:o};t["default"]=s},28923:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.debounce=n;var r;function n(e,t){return function(){var n=this;var i=function t(){return e.apply(n)};clearTimeout(r);r=setTimeout(i,t)}}},51868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(e){return JSON.parse(JSON.stringify(e))}},11474:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.deviceFeaturesHelper=void 0;t.getInputType=h;t.hasOrientation=d;t.isLargeDevice=c;t.isMobileDevice=g;t.isSmallDevice=u;t.isSmallTouchDevice=f;t.isTouchDevice=p;var n=i(r(52245));function i(e){return e&&e.__esModule?e:{default:e}}var a="(max-width: 616px) and (orientation: portrait)";var o="(orientation: landscape) and (max-height: 616px)";var s="(min-width: 617px) and (orientation: portrait)";var l="(orientation: landscape) and (min-height: 617px)";function u(){return window.matchMedia("".concat(a,", ").concat(o)).matches}function c(){return window.matchMedia("".concat(s,", ").concat(l)).matches}function d(e){return window.matchMedia("(orientation: ".concat(e,")")).matches}function f(){return"coarse"===this.getInputType()&&n.default.isMobileWebKit()}function p(){return"ontouchstart"in window}function g(){return n.default.isMobileWebKit()}function h(){if(p())return"coarse";return"fine"}var v={isSmallDevice:u,isLargeDevice:c,hasOrientation:d,isSmallTouchDevice:f,getInputType:h,isTouchDevice:p,isMobileDevice:g};t.deviceFeaturesHelper=v;window.BaseKit&&(window.BaseKit.deviceFeaturesHelper=v)},86192:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toggleHiddenAttribute=t.remove=t.emptyElement=t["default"]=t.append=void 0;function r(e){return o(e)||a(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=function e(t){t.setAttribute("hidden",true)};var u=function e(t){t.removeAttribute("hidden")};var c=function e(t,r){null===t.getAttribute("hidden")||r?l(t):u(t)};t.toggleHiddenAttribute=c;var d=function e(t){while(t.firstChild)t.removeChild(t.firstChild)};t.emptyElement=d;var f=function e(t,n){var i=new DOMParser;var a=i.parseFromString(n,"text/html");if(!a)return;r(a.querySelectorAll("body > *")).forEach((function(e){var r=document.importNode(e,true);t.appendChild(r)}))};t.append=f;var p=function e(t){t.remove?t.remove():t.parentElement.removeChild(t)};t.remove=p;var g={toggleHiddenAttribute:c,emptyElement:d,append:f,remove:p};t["default"]=g},85284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(60956));var i=a(r(27998));function a(e){return e&&e.__esModule?e:{default:e}}var o={addEcwidScript:function e(){var t=(0,n.default)();this.storeId=i.default.getData("ecwidStoreId");var r=this._getStoreElementId();var a=this._getSearchElementId();var o=false;var s=false;var l=false;window.ecwid_script_defer=true;window.ec=window.ec||{};window.ec.config=window.ec.config||{};window.ec.config.storefrontUrls=window.ec.config.storefrontUrls||{};window.ec.config.storefrontUrls.cleanUrls=true;window.ec.config.storefrontUrls.queryBasedCleanUrls=true;if(this.storeId&&!document.getElementById("ecwid-script")){var u=document.createElement("script");u.charset="utf-8";u.type="text/javascript";u.id="ecwid-script";u.src="https://app.ecwid.com/script.js?".concat(this.storeId);window.document.head.appendChild(u)}t.forEach((function(e){"widget.ecwid"===e.type&&(o=true);"widget.ecwidsearch"===e.type&&(s=true);"widget.ecwidbasket"===e.type&&document.getElementById("ecwid-script")&&(l=true)}));o&&s&&(window._xnext_initialization_scripts=[{widgetType:"ProductBrowser",id:r,arg:["id=".concat(r)]},{widgetType:"SearchWidget",id:a,arg:["id=".concat(a)]}]);o&&!s&&(window._xnext_initialization_scripts=[{widgetType:"ProductBrowser",id:r,arg:["id=".concat(r)]}]);!o&&s&&(window._xnext_initialization_scripts=[{widgetType:"SearchWidget",id:a,arg:["id=".concat(r)]}]);l&&window.addEventListener("load",(function(){var e=document.createElement("script");e.charset="utf-8";e.type="text/javascript";e.text="Ecwid.init();";window.document.body.appendChild(e)}))},_getStoreElementId:function e(){return"my-store-".concat(this.storeId)},_getSearchElementId:function e(){return"my-search-".concat(this.storeId)}};var s=o;t["default"]=s},99437:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=function e(t){var r={};_.each(t,(function(e){r[e.ref]=e}));return r};var n=r;t["default"]=n},3377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;t.getIframeWindow=h;var n=i(r(52245));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return c(e)||u(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n=[];var i=true;var a=false;var o,s;try{for(r=r.call(e);!(i=(o=r.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;s=e}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw s}}return n}function c(e){if(Array.isArray(e))return e}var d=n.default.iOSFixRequired;var f={calculateFrameHeight:function e(){var t=$(v());var r=$("body",t.contents()).height()-2;t.height(r)},resetFrameHeight:function e(){v().style.height="100%"},updateViewportHeight:function e(){var t=h();var r=t.document.body;var n=window.getComputedStyle(document.querySelector(".js-canvas")).getPropertyValue("height");r.style.setProperty("--viewport-height",n);if(r.classList.contains("editor-loaded"))return;r.classList.add("editor-loaded")},getScrollWin:function e(){var t=h();var r=d()?window:t;return r},getScrollListenerTarget:function e(){return g()},getIframeDocument:function e(){return h().document},scrollToMainZone:function e(){var t=g();var r=p(t),n=a(r,3),i=n[1],o=n[2];null!==i&&o.scrollIntoView({behavior:"smooth",block:"nearest"})}};function p(e){var t=h();var r=t.document.getElementById("page-zones__main");var n=r.offsetTop;var i=r.offsetHeight+n;var a=void 0!==e.pageYOffset?e.pageYOffset:e.scrollTop;var o=null;a<n?o=n:a>i&&(o=i);return[a,o,r]}function g(){var e=h();var t=d()?document.querySelector(".js-site-preview"):e;return t}function h(){var e=v().contentWindow?v().contentWindow:v().contentDocument.defaultView;return e}function v(){return Editor.Site.Dom.iframe}var m=f;t["default"]=m},69362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(e,t){return JSON.stringify(e)===JSON.stringify(t)}},97:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=function e(t,r,s){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;var u=document.createElement("div");var c=document.querySelector(".container");var d=function e(){return new Promise((function(e){return setTimeout(e,l)}))};u.setAttribute("role","alert");i(s,u);a(t,u);o(r,u);c.appendChild(u);u.classList.add("is-visible");d().then((function(){return n(u)}))};function n(e){e.addEventListener("animationend",(function(){return e.remove()}));e.classList.remove("is-visible")}function i(e,t){var r=e&&"string"===typeof e?"action-notification--".concat(e):"";t.classList.add("action-notification",r)}function a(e,t){if("string"===typeof e){var r=document.createElement("h2");r.textContent=e;r.classList.add("action-notification__title");t.appendChild(r)}}function o(e,t){if("string"===typeof e){var r=document.createElement("p");r.textContent=e;r.classList.add("action-notification__message");t.appendChild(r)}}window.Eight=window.Eight||{};window.Eight.notify=r;var s=r;t["default"]=s},41117:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){var e={};var t=window.top.location.href.match(/\?(.+)/);if(t){var r=t[1].split("&");r.reduce((function(e,t){var r=t.split("=");2===r.length&&(e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]));return e}),e)}return e}},67120:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={getItem:function e(t){return window.sessionStorage.getItem(t)},setItem:function e(t,r){return window.sessionStorage.setItem(t,r)}};var n=r;t["default"]=n},23483:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=g;var n=s(r(3104));var i=s(r(248));var a=r(79148);var o=r(20728);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return p(e)||f(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n=[];var i=true;var a=false;var o,s;try{for(r=r.call(e);!(i=(o=r.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;s=e}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw s}}return n}function p(e){if(Array.isArray(e))return e}function g(){var e=function e(t){var r=n.default.container.SessionErrorMessage;if(401===t.status){r.display();throw new Error}return t};return new Promise((function(t,r){window.fetch("/refresh",{method:"GET",credentials:"include"}).then(e).then((function(e){return e.json()})).then((function(e){var n=e.sites.filter((function(e){return e.ref===i.default.getState().site.ref})),s=l(n,1),u=s[0];u||r("Current site not found");i.default.dispatch((0,a.setSiteLanguages)(u.siteLanguages));u.siteDefaultLanguage&&i.default.dispatch((0,a.setDefaultLanguage)(u.siteDefaultLanguage));i.default.dispatch((0,o.setPrimaryDomain)(u.primaryDomain.domainName));App.sites.reset(e.sites);App.user=e.accountHolder;App.brand=e.brand;App.frontEndBucket.languageCode=e.accountHolder.languageCode;App.frontEndBucket.tier=e.accountHolder.capabilities.templateTier;App.frontEndBucket.offerExpiryDate=e.billingCycle&&e.billingCycle.offerExpiryDate||null;t(e)})).catch(r)}))}"undefined"!==typeof Editor&&Editor.Events&&Editor.Events.on("session:update",g)},39052:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toTitleCase=t["default"]=t.camelCase=void 0;var r=function e(t){return t.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")};t.toTitleCase=r;var n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return t.replace(/(\.[a-z])/g,(function(e){return e.toUpperCase().replace(r,"")}))};t.camelCase=n;var i={toTitleCase:r,camelCase:n};t["default"]=i},7771:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(41117));var i=a(r(61748));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return d(e)||c(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n=[];var i=true;var a=false;var o,s;try{for(r=r.call(e);!(i=(o=r.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;s=e}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw s}}return n}function d(e){if(Array.isArray(e))return e}var f=function e(t,r){for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];var s={debugkeys:h.bind(null,t),debugvalues:v.bind(null,t),translate:m.bind.apply(m,[null,t,r].concat(a))};return s[(0,n.default)().translate||"translate"]()};function p(e){var t=(0,i.default)();var r=e.match(/^(.+?)\.(.+)$/),n=o(r,3),a=n[1],s=n[2];if("undefined"!==typeof t.App.i18n[a]&&"undefined"!==typeof t.App.i18n[a][s])return t.App.i18n[a][s];return null}function g(){var e=(0,i.default)();return e.App.frontEndBucket&&0!==parseInt(e.App.frontEndBucket.useDefaultTranslations,10)}function h(e){return e}function v(e){var t=p(e);if(""===t)return"MASTER";if(t)return"TRANSLATED";return"DEFAULT"}function m(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var a=p(e);var o=t||"";var s=a||(g()?o:"");var l=s.replace(/%([1-9])/g,(function(e,t){return"undefined"!==typeof n[t-1]?n[t-1]:""}));return l||e}var y=f;t["default"]=y},52245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;t.iOSFixRequired=l;t.iOSVersion=o;t.isAndroidChrome=f;t.isEdge=g;t.isIE=p;t.isMobileWebKit=d;t.isiOS=a;t.isiOS13OrAbove=s;t.isiOSSafari=i;t.isiOSTablet=u;t.isiPadOS=c;var n=r(11474);function i(){var e=/Version\/[\d.]+.*Safari/.test(navigator.userAgent);return e&&a()}function a(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return e||c()}function o(){if(a()){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(e)return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)];if(c())return[13,0,0]}return""}function s(){var e=o();return""!==e&&e[0]>=13}function l(){return a()&&!s()}function u(){return/iPad/.test(navigator.platform)}function c(){return"MacIntel"===navigator.platform&&(0,n.isTouchDevice)()}function d(){var e=navigator.userAgent;var t=new RegExp(" AppleWebKit/").test(e);var r=t&&new RegExp(" Android").test(e);var n=t&&new RegExp(" Silk/").test(e);var i=t&&new RegExp(" Mobile/").test(e);var a=t&&c();var o=new RegExp("^basekit-app").test(e);return i||r||n||o||a}function f(){var e=navigator.userAgent;var t=new RegExp("^basekit-app").test(e);var r=new RegExp(" AppleWebKit/").test(e)&&new RegExp(" Android").test(e);return r||t}function p(){var e=new RegExp("/Trident/.*rv:([0-9]{1,}[.0-9]{0,})/");return e.test(navigator.userAgent)}function g(){var e=new RegExp("/ Edge//");return e.test(navigator.userAgent)}var h={isiOSSafari:i,isiOS:a,iOSVersion:o,isiOS13OrAbove:s,iOSFixRequired:l,isiOSTablet:u,isMobileWebKit:d,isAndroidChrome:f,isIE:p,isEdge:g};window.BaseKit&&(BaseKit.UserAgentSniffer=h);var v=h;t["default"]=v},46279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(97));var i=o(r(52747));var a=o(r(39428));function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){t.factory("notification",(function(){return n.default}));t.factory("session",(function(e){return new a.default({sessionTimeoutDialog:e.SessionErrorMessage})}));t.factory("SiteGlobalValuesHelper",(function(e){return new i.default({siteDataProvider:e.SiteDataProvider,envDataProvider:e.EnvDataProvider,siteGlobalValuesCollection:BaseKit.Globals.globalValues})}));return t};t["default"]=s},75420:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getWidgetClass=l;t.getWidgetName=s;t.getWidgetNameFromType=a;t.normalisedColumnName=o;t.normalisedWidgetContentType=i;var n=r(39052);function i(e){if(/\.content\./.test(e))return"widget.content";return e}function a(e){return(0,n.camelCase)("basekit.".concat(e)).replace(/^basekitWidget/i,"")}function o(e){var t="ColumnsColumn"===e?"ResponsivecolumnsColumn":e;return t}function s(e){return o(a(i(e)))}function l(e){var t=u();var r="".concat(s(e.widgetType)).concat(e.type);var n="function"===typeof t[r]?t[r]:t["DefaultWidget".concat(e.type)];return n}function u(){return document.querySelector(".js-site-frame").contentWindow.BaseKit.Widget}},57595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isMobileScreenMode=t.isDesktopScreenMode=t.getWindowWidth=t["default"]=void 0;var r=930;var n=function e(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||document.body.offsetWidth};t.getWindowWidth=n;var i=function e(){return n()>=r};t.isDesktopScreenMode=i;var a=function e(){return n()<r};t.isMobileScreenMode=a;var o={getWindowWidth:n,isDesktopScreenMode:i,isMobileScreenMode:a};t["default"]=o},37379:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.widgetDataTransformer=t.widgetDataTransformer;this.newWidgetAction=t.newWidgetAction;this.replaceWidgetAction=t.replaceWidgetAction;this.deleteWidgetAction=t.deleteWidgetAction;this.afterChangesAction=t.afterChangesAction;this.changeOrder=["deletion","addition","replacement"]}i(e,[{key:"interpretAndExecute",value:function e(t){var r=this._extractChangeProcedures(t);this._executeChanges(r,this.changeOrder)}},{key:"_executeChanges",value:function e(t,r){var n=this;r.forEach((function(e){t.forEach((function(t){if(t.type===e){var r=t.action;var i=n._prepareData(t.data);r.applyChange(i)}}))}));this.afterChangesAction.applyChange()}},{key:"_prepareData",value:function e(t){var r=this;t.widgets&&(t.widgets=t.widgets.map((function(e){e.data=r.widgetDataTransformer.transform(e.type,e.data);return e})));return t}},{key:"_extractChangeProcedures",value:function e(t){var r=this;var n=this._getPageTreeChanges(t);var i=[];n.forEach((function(e){i.push({type:e.type,action:r._changeTypeMapper(e.type),data:e})}));return i}},{key:"_changeTypeMapper",value:function e(t){var r={addition:this.newWidgetAction,deletion:this.deleteWidgetAction,replacement:this.replaceWidgetAction};return r[t]}},{key:"_getPageTreeChanges",value:function e(t){return t.pageTreeChanges}}]);return e}();var o=a;t["default"]=o},40620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.widgetAPI=t.serverWidgetAPIFacade;this.widgetRequestBodyFactory=t.widgetRequestBodyFactory}i(e,[{key:"add",value:function e(t){var r=this.widgetRequestBodyFactory.build(t,"add");this.widgetAPI.add(r)}},{key:"move",value:function e(t){var r=this.widgetRequestBodyFactory.build(t);return this.widgetAPI.move(r)}}]);return e}();var o=a;t["default"]=o},88001:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t,r,n,i,a,o){try{var s=e[a](o);var l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function n(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function o(e,t,r){t&&a(e.prototype,t);r&&a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var s=function(){function e(t){i(this,e);this.fetch=t.fetch;this.envDataProvider=t.envDataProvider;this.changeInstructionInterpreter=t.changeInstructionInterpreter;this.tracker=t.tracker}o(e,[{key:"add",value:function(){var e=n(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/add-widget";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"add");this.tracker.track("Add widget",{widget:t.type});case 6:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"move",value:function(){var e=n(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/move-widget";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"move");case 5:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=n(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r="/_/delete-widget";n={uniqueId:t};a.next=4;return this._makeRequest(r,n);case 4:i=a.sent;this.changeInstructionInterpreter.interpretAndExecute(i,"remove");case 6:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceRow",value:function(){var e=n(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/replace-row";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"replace");case 5:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"cloneZone",value:function(){var e=n(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/clone-shared-zone";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"clone");case 5:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"restoreZone",value:function(){var e=n(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/restore-shared-zone";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"restore");case 5:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_makeRequest",value:function(){var e=n(regeneratorRuntime.mark((function e(t,r){var n,i,a=arguments;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:n=a.length>2&&void 0!==a[2]?a[2]:"POST";o.next=3;return this._request({url:t,method:n,body:r});case 3:i=o.sent;return o.abrupt("return",i.json());case 5:case"end":return o.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_getBaseURL",value:function e(){var t=this.envDataProvider.get("protocol");var r=this.envDataProvider.get("domain");return"".concat(t,"://editor.").concat(r)}},{key:"_request",value:function e(t){var r=this._getBaseURL();return window.fetch("".concat(r).concat(t.url),{method:t.method,credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":this.envDataProvider.get("csrfToken")},body:JSON.stringify(t.body)})}}]);return e}();var l=s;t["default"]=l},23499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(75420);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function o(e,t,r){t&&a(e.prototype,t);r&&a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var s=function(){function e(t){i(this,e);this.widgetDefaultValueRetriever=t.widgetDefaultValueRetriever;this.widgetRegister=t.widgetRegister}o(e,[{key:"build",value:function e(t,r){var n=t;r&&"add"===r&&(n=this._createAddWidgetRequest(t));return n}},{key:"_createAddWidgetRequest",value:function e(t){var r=Object.assign(t,{values:this._getWidgetDefaults(t.type),type:(0,n.normalisedWidgetContentType)(t.type)});this._isEmptyMainZoneAdd(t.target)&&(r.parent=t.target);return r}},{key:"_isEmptyMainZoneAdd",value:function e(t){var r=this.widgetRegister.getMainZoneWidget();return t===r.uniqueId&&r.isEmpty()}},{key:"_getWidgetDefaults",value:function e(t){return this.widgetDefaultValueRetriever.getDefaults(t)}}]);return e}();var l=s;t["default"]=l},70777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(24744);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function o(e,t,r){t&&a(e.prototype,t);r&&a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var s=function(){function e(t){i(this,e);this.store=t.store;this.widgetRegister=t.widgetRegister}o(e,[{key:"applyChange",value:function e(){this._updateWidgetPositionsInState();this._recalculateFrameScrollbar();Editor.Events.trigger("addRowMode:addButtons")}},{key:"_updateWidgetPositionsInState",value:function e(){var t=this.widgetRegister.getZone("main");var r=this._getWidgetIdFromElement(t.view.el.firstElementChild);var i=this._getWidgetIdFromElement(t.view.el.lastElementChild);this.store.dispatch((0,n.changeFirstWidgetOnPage)(r));this.store.dispatch((0,n.changeLastWidgetOnPage)(i))}},{key:"_getWidgetIdFromElement",value:function e(t){if(t)return t.getAttribute("data-uniqueId");return null}},{key:"_recalculateFrameScrollbar",value:function e(){Editor.Events.trigger("FrameScrollbar:recalculate")}}]);return e}();var l=s;t["default"]=l},12293:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.widgetRegister=t.widgetRegister}i(e,[{key:"applyChange",value:function e(t){var r=t.widget;this.widgetRegister.unregister(r);Editor.Events.trigger("addRowMode:removeButtons");this._emptyMainZoneIfEmpty()}},{key:"_emptyMainZoneIfEmpty",value:function e(){var t=this.widgetRegister.getMainZoneWidget();t.isEmpty()&&t.emptyElement()}}]);return e}();var o=a;t["default"]=o},30415:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(t){a(this,e);this.nodeTreeConstructor=t.nodeTreeConstructor;this.widgetInserter=t.widgetInserter;this.widgetFactory=t.widgetFactory;this.widgetRegister=t.widgetRegister;this.dragdropEngine=t.dragdropEngine}s(e,[{key:"applyChange",value:function e(t){var r=this;var i=this.nodeTreeConstructor.createTreeFromWidgetData(t.widgets);Editor.Events.trigger("addRowMode:removeButtons");this.widgetInserter.insert(n(n({},t.insertInto),{},{node:i}));t.widgets.forEach((function(e){r.widgetFactory.build(e)}));this._resolveDragDrop(t.widgets.slice(0,1).pop())}},{key:"_resolveDragDrop",value:function e(t){var r=this.widgetRegister.get(t.uniqueId);this.dragdropEngine.finishDrag(r.view)}}]);return e}();var u=l;t["default"]=u},39873:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(248));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(t){a(this,e);this.nodeTreeConstructor=t.nodeTreeConstructor;this.widgetFactory=t.widgetFactory;this.widgetRegister=t.widgetRegister;this.widgetReplacer=t.widgetReplacer;this.dragdropEngine=t.dragdropEngine}s(e,[{key:"applyChange",value:function e(t){var r=this;var n=this.nodeTreeConstructor.createTreeFromWidgetData(t.widgets);this.widgetReplacer.replace({replaces:t.replaces,node:n});this.widgetRegister.unregister(t.replaces);t.widgets.forEach((function(e){r.widgetFactory.build(e)}));Editor.Events.trigger("addRowMode:addButtons");var i=this._getFirstWidget(t);this._resolveDragDrop(i);this._openSettingsPanel(i)}},{key:"_getFirstWidget",value:function e(t){return this.widgetRegister.get(t.widgets.slice(0,1).pop().uniqueId)}},{key:"_openSettingsPanel",value:function e(t){if(!n.default.getState().site.isRowEditingMode)return;if(t.model.get("isZone")){t.children().pop().view.openSettings();return}t.isRow()&&t.view.openSettings()}},{key:"_resolveDragDrop",value:function e(t){this.dragdropEngine.finishDrag(t.view)}}]);return e}();var u=l;t["default"]=u},58169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){r(this,e)}i(e,[{key:"setRelationships",value:function e(t){this._setCollection(t);this._setColumnViewRelationship(t)}},{key:"_setCollection",value:function e(t){if(t.parentUniqueId){var r=t.parent();r.addToChildCollection(t)}}},{key:"_setColumnViewRelationship",value:function e(t){var r=t.parent();!r||t.isResponsiveColumnWidget()||r.isMainZone()||t.view.setContainer(r.view);if(r&&!t.isResponsiveColumnWidget()){r.view.children&&r.view.children.add(t.view,t.uniqueId);r.view.collection&&r.view.collection.add(t.model)}}}]);return e}();var o=a;t["default"]=o},70969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){r(this,e)}i(e,[{key:"breakRelationships",value:function e(t){this._removeFromParentViewCollection(t);this._removeFromParentViewChildren(t)}},{key:"_removeFromParentViewCollection",value:function e(t){var r=t.parent();r&&r.view.collection&&r.view.collection.remove(t.model)}},{key:"_removeFromParentViewChildren",value:function e(t){var r=t.parent();r&&r.view.children&&r.view.children.remove(t.view)}}]);return e}();var o=a;t["default"]=o},17596:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(59544));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(t){a(this,e);this.templateRenderer=t.templateRenderer}s(e,[{key:"build",value:function e(t){var r=Object.assign({templateRenderer:this.templateRenderer},t);return new n.default(r)}}]);return e}();var u=l;t["default"]=u},59544:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({template:"view_rowbackgroundcontrol",className:"row__background-controls js-row-background-controls",events:{"click .js-replace-background":"replaceBackgroundClicked"},initialize:function e(t){this.properties=t.properties;this.parentView=t.parentView;this.templateRenderer=t.templateRenderer},render:function e(){var t=this.templateRenderer.render(this.template,{headerOrFooter:this._isHeaderOrFooterRow(),backgroundType:this.parentView.model.get("backgroundType")});this.$el.append(t);return this},replaceBackgroundClicked:function e(){this.trigger("widget:replaceBackgroundClick")},_isHeaderOrFooterRow:function e(){return"header"===this.properties.parentZone||"footer"===this.properties.parentZone}});var n=r;t["default"]=n},40363:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=ke(r(99226));var i=ke(r(58169));var a=ke(r(70969));var o=ke(r(85611));var s=ke(r(99989));var l=ke(r(8776));var u=ke(r(11640));var c=ke(r(88975));var d=ke(r(88779));var f=ke(r(23578));var p=ke(r(88934));var g=ke(r(2043));var h=ke(r(14504));var v=r(11474);var m=ke(r(13277));var y=ke(r(56211));var b=ke(r(97396));var w=ke(r(6209));var _=ke(r(37723));var S=ke(r(22993));var E=ke(r(21434));var P=ke(r(73471));var k=ke(r(99437));var C=ke(r(86334));var O=ke(r(62226));var T=ke(r(26902));var A=ke(r(13173));var j=ke(r(40620));var D=ke(r(69883));var L=ke(r(87957));var R=ke(r(88001));var I=ke(r(37379));var x=ke(r(70040));var M=ke(r(14674));var V=ke(r(60530));var N=ke(r(47387));var F=ke(r(59532));var B=ke(r(30415));var W=ke(r(70777));var G=ke(r(39873));var q=ke(r(12293));var U=ke(r(23499));var H=ke(r(23519));var z=ke(r(22321));var $=ke(r(38323));var K=ke(r(83223));var Z=ke(r(69986));var Y=ke(r(23453));var X=ke(r(16122));var J=ke(r(34543));var Q=ke(r(19341));var ee=ke(r(8201));var te=ke(r(82824));var re=ke(r(31708));var ne=ke(r(84874));var ie=ke(r(96266));var ae=ke(r(72207));var oe=ke(r(65814));var se=ke(r(19056));var le=ke(r(19903));var ue=ke(r(72701));var ce=ke(r(90819));var de=ke(r(88258));var fe=ke(r(2926));var pe=ke(r(37869));var ge=ke(r(43614));var he=ke(r(78894));var ve=ke(r(81024));var me=ke(r(64324));var ye=ke(r(17596));var be=ke(r(21561));var we=ke(r(7068));var _e=ke(r(20719));var Se=ke(r(14768));var Ee=ke(r(11275));var Pe=ke(r(248));function ke(e){return e&&e.__esModule?e:{default:e}}var Ce=function e(t){t.factory("WidgetInserter",(function(){return new D.default}));t.factory("UndoWidgetSettingsView",(function(){return new H.default}));t.factory("WidgetReplacer",(function(){return new L.default}));t.factory("RowEditModeLayoutView",(function(){return new le.default}));t.factory("WidgetSettingsControlLayoutView",(function(){return new _e.default}));t.factory("WidgetSettingsComponentViewFactory",(function(){return new fe.default({settingsComponentProvider:ae.default})}));t.factory("StoreDataAdapterFactory",(function(){return new me.default({store:Pe.default})}));t.factory("RowEditMode",(function(e){return new oe.default({store:Pe.default,RowEditingToolbarView:se.default,TooltipView:ce.default,RowSettingsView:de.default,RowSettingsViewEmailMixin:pe.default,eventDispatcher:Editor.Events,editModeLayoutView:e.RowEditModeLayoutView,templateRenderer:e.TemplateRenderer,widgetSettingsComponentViewFactory:e.WidgetSettingsComponentViewFactory,rowLayoutControl:e.RowLayoutControl,envDataProvider:e.EnvDataProvider,widgetRegister:e.WidgetRegister,featureFlagDataProvider:e.featureFlagDataProvider})}));t.factory("WidgetSettingsControl",(function(e){return new we.default({store:Pe.default,widgetSettingsView:Se.default,RowSettingsViewEmailMixin:pe.default,widgetStyleSettingsViewFactory:e.WidgetStyleSettingsViewFactory,styleSettingsProvider:e.StyleSettingsProvider,widgetSettingsControlLayoutView:e.WidgetSettingsControlLayoutView,templateRenderer:e.TemplateRenderer,widgetSettingsComponentViewFactory:e.WidgetSettingsComponentViewFactory,widgetRegister:e.WidgetRegister,featureFlagDataProvider:e.featureFlagDataProvider})}));t.factory("RowWidgetControlViewFactory",(function(){return new be.default}));t.factory("RowWidgetSettingsControl",(function(e){return new ue.default({store:Pe.default,templateRenderer:e.TemplateRenderer,rowWidgetSettingsView:Ee.default,widgetSettingsControlLayoutView:e.WidgetSettingsControlLayoutView,storeDataAdapterFactory:e.StoreDataAdapterFactory,rowWidgetControlViewFactory:e.RowWidgetControlViewFactory,envDataProvider:e.EnvDataProvider,zoneSharingDialogView:e.ZoneSharingDialogView,HeaderFooterSharingDialogContentView:ee.default,rowLayoutControl:e.RowLayoutControl,tracker:e.Tracker})}));t.factory("SiteWidgetOverlayFactory",(function(e){return new u.default({templateRenderer:e.TemplateRenderer,featureFlagDataProvider:e.featureFlagDataProvider,storeDataAdapterFactory:e.StoreDataAdapterFactory,userDataProvider:e.UserDataProvider})}));t.factory("ZoneSharingDialogContentViewFactory",(function(e){return new re.default({zoneCloner:e.ZoneCloner,zoneRestorer:e.ZoneRestorer,templateRenderer:e.TemplateRenderer})}));t.factory("ZoneSharingDialogView",(function(e){return new te.default({DialogPanelView:J.default,contentViewFactory:e.ZoneSharingDialogContentViewFactory})}));t.factory("WidgetAssociator",(function(){return new i.default}));t.factory("WidgetDisassociator",(function(){return new a.default}));t.factory("WidgetRegister",(function(){return new n.default({stdCollectionClass:Backbone.Collection,globalEventsHandler:Editor.Events})}));t.factory("WidgetCollectionObserver",(function(e){return new c.default({widgetRegister:e.WidgetRegister})}));t.factory("WidgetViewModelFactory",(function(e){return new V.default({rowsEnabled:e.featureFlagDataProvider.get("enableRows")})}));t.factory("WidgetModelFactory",(function(e){return new x.default({widgetViewModelFactory:e.WidgetViewModelFactory,StdModelClass:Backbone.Model,StdCollectionClass:Backbone.Collection,rowsEnabled:e.featureFlagDataProvider.get("enableRows")})}));t.factory("WidgetPropertyPanelFactory",(function(e){return new O.default({siteDataProvider:e.SiteDataProvider,widgetStyleSettingsViewFactory:e.WidgetStyleSettingsViewFactory,styleSettingsProvider:e.StyleSettingsProvider,rowsEnabled:e.featureFlagDataProvider.get("enableRows"),settingsComponentProvider:ae.default,tracker:e.Tracker,formEmailVerification:e.featureFlagDataProvider.get("formEmailVerification")})}));t.factory("WidgetStyleSettingsViewFactory",(function(e){return new T.default({store:Pe.default,styleSettingsProvider:e.StyleSettingsProvider,envDataProvider:e.EnvDataProvider,rowsEnabled:e.featureFlagDataProvider.get("enableRows")})}));t.factory("StyleSettingsProvider",(function(e){return new A.default({siteDataProvider:e.SiteDataProvider})}));t.factory("WidgetDefaultValueRetriever",(function(){return new N.default({StdModelClass:Backbone.Model})}));t.factory("WidgetDataTransformer",(function(){return new F.default({StdModelClass:Backbone.Model})}));t.factory("WidgetPropertyPanelAdapter",(function(e){return new C.default({settingsView:e.WidgetPropertyPanelFactory.build()})}));t.factory("WidgetViewFactory",(function(e){return new o.default({store:Pe.default,profile:BaseKit.Globals.profile,pages:BaseKit.Globals.pages,assets:BaseKit.Globals.imageAssets,hiddenWidgetsPanel:e.HiddenWidgetsPanelView,overlayFactory:e.SiteWidgetOverlayFactory,fileViewFactory:he.default,imageEditor:$.default,widgetPropertyPanelAdapter:e.WidgetPropertyPanelAdapter,undoWidgetSettingsView:e.UndoWidgetSettingsView,envDataProvider:e.EnvDataProvider,fetch:window.fetch,dragDropEligibilityChecker:e.DragDropEligibilityChecker,userDataProvider:e.UserDataProvider,siteDataProvider:e.SiteDataProvider,featureFlagDataProvider:e.featureFlagDataProvider})}));t.factory("RowsWidgetViewFactory",(function(e){return new s.default({profile:BaseKit.Globals.profile,pages:BaseKit.Globals.pages,assets:BaseKit.Globals.imageAssets,hiddenWidgetsPanel:e.HiddenWidgetsPanelView,overlayFactory:e.SiteWidgetOverlayFactory,widgetBackgroundControlFactory:e.WidgetBackgroundControlFactory,fileViewFactory:he.default,imageEditor:$.default,widgetPropertyPanelAdapter:e.WidgetPropertyPanelAdapter,undoWidgetSettingsView:e.UndoWidgetSettingsView,envDataProvider:e.EnvDataProvider,fetch:window.fetch,zoneCloner:e.ZoneCloner,zoneRestorer:e.ZoneRestorer,zoneSharingDialogView:e.ZoneSharingDialogView,ZoneSharingDialogContentView:Q.default,dragDropEligibilityChecker:e.DragDropEligibilityChecker,rowEditMode:e.RowEditMode,widgetSettingsControl:e.WidgetSettingsControl,rowWidgetSettingsControl:e.RowWidgetSettingsControl,userDataProvider:e.UserDataProvider,featureFlagDataProvider:e.featureFlagDataProvider,siteDataProvider:e.SiteDataProvider,widgetSettingsData:e.StoreDataAdapterFactory.build({stateId:"widgetSettings"}),tracker:e.Tracker,brandDataProvider:e.BrandDataProvider})}));t.factory("AbstractWidgetViewFactory",(function(e){return new l.default({widgetViewFactory:e.WidgetViewFactory,rowsWidgetViewFactory:e.RowsWidgetViewFactory,featureFlagDataProvider:e.featureFlagDataProvider})}));t.factory("WidgetRendererFactory",(function(e){return new y.default({store:Pe.default,siteDataProvider:e.SiteDataProvider,envDataProvider:e.EnvDataProvider,assets:BaseKit.Globals.imageAssets,pagesProvider:E.default,sessionProvider:P.default,profile:BaseKit.Globals.profile,twig:Twig,formatImageAssetData:k.default,ColumnWidgetRenderer:b.default,ZoneRenderer:w.default,ZoneWidgetRenderer:_.default})}));t.factory("NodeTreeConstructor",(function(e){return new S.default({widgetRendererFactory:e.WidgetRendererFactory})}));t.factory("WidgetFactory",(function(e){return new M.default({Widget:d.default,userDataProvider:e.UserDataProvider,widgetViewFactory:e.AbstractWidgetViewFactory,modelFactory:e.WidgetModelFactory,widgetRegister:e.WidgetRegister,widgetAssociator:e.WidgetAssociator,widgetDisassociator:e.WidgetDisassociator,dragdropEngine:BaseKit.DragDropV8&&BaseKit.DragDropV8.dragdropEngine||m.default})}));t.factory("WidgetInitialiser",(function(e){return new ve.default({store:Pe.default,siteDataProvider:e.SiteDataProvider,widgetFactory:e.WidgetFactory,widgetRegister:e.WidgetRegister})}));t.factory("DragDropEligibilityChecker",(function(e){return new ne.default({featureFlagDataProvider:e.featureFlagDataProvider,userDataProvider:e.UserDataProvider})}));t.factory("DragBehaviourFactory",(function(e){return new ie.default({featureFlagDataProvider:e.featureFlagDataProvider,userDataProvider:e.UserDataProvider})}));t.factory("HiddenWidgetsPanelView",(function(e){return new f.default({el:".js-hidden-widgets-panel-container",widgetRegister:e.WidgetRegister,highlighter:p.default,globalEventsHandler:Editor.Events,childBehavior:Oe()?h.default:g.default,envDataProvider:e.EnvDataProvider})}));t.factory("NewWidgetAction",(function(e){return new B.default({widgetFactory:e.WidgetFactory,widgetInserter:e.WidgetInserter,nodeTreeConstructor:e.NodeTreeConstructor,widgetRegister:e.WidgetRegister,dragdropEngine:BaseKit.DragDropV8&&BaseKit.DragDropV8.dragdropEngine||m.default})}));t.factory("ReplaceWidgetAction",(function(e){return new G.default({widgetFactory:e.WidgetFactory,widgetReplacer:e.WidgetReplacer,nodeTreeConstructor:e.NodeTreeConstructor,widgetRegister:e.WidgetRegister,dragdropEngine:BaseKit.DragDropV8&&BaseKit.DragDropV8.dragdropEngine||m.default})}));t.factory("DeleteWidgetAction",(function(e){return new q.default({widgetRegister:e.WidgetRegister})}));t.factory("AfterChangesAction",(function(e){return new W.default({store:Pe.default,widgetRegister:e.WidgetRegister})}));t.factory("ChangeInstructionInterpreter",(function(e){return new I.default({widgetDataTransformer:e.WidgetDataTransformer,newWidgetAction:e.NewWidgetAction,replaceWidgetAction:e.ReplaceWidgetAction,deleteWidgetAction:e.DeleteWidgetAction,afterChangesAction:e.AfterChangesAction})}));t.factory("ServerWidgetAPIFacade",(function(e){return new R.default({fetch:window.fetch,envDataProvider:e.EnvDataProvider,changeInstructionInterpreter:e.ChangeInstructionInterpreter,tracker:e.Tracker})}));t.factory("RowLayoutControl",(function(e){return new K.default({rowLayoutSelectorPanelView:e.RowLayoutSelectorPanelView})}));t.factory("RowLayoutSelectorPanelView",(function(e){return new Z.default({store:Pe.default,envDataProvider:e.EnvDataProvider,widgetApi:BaseKit.Globals.widgetApi,templateRenderer:e.TemplateRenderer})}));t.factory("ZoneRestorer",(function(){return new Y.default({widgetApi:BaseKit.Globals.widgetApi})}));t.factory("ZoneCloner",(function(){return new X.default({widgetApi:BaseKit.Globals.widgetApi})}));t.factory("WidgetRequestBodyFactory",(function(e){return new U.default({widgetDefaultValueRetriever:e.WidgetDefaultValueRetriever,widgetRegister:e.WidgetRegister})}));t.factory("DragAndDropInterface",(function(e){return new j.default({serverWidgetAPIFacade:e.ServerWidgetAPIFacade,widgetRequestBodyFactory:e.WidgetRequestBodyFactory})}));t.factory("MoveWidgetOnDevice",(function(e){return new z.default({widgetAPI:e.DragAndDropInterface})}));t.factory("deleteRowDialogViewFactory",(function(e){var t=e.TemplateRenderer;return new ge.default({templateRenderer:t})}));t.factory("WidgetBackgroundControlFactory",(function(e){return new ye.default({templateRenderer:e.TemplateRenderer})}));return t};function Oe(){return"coarse"===v.deviceFeaturesHelper.getInputType()}var Te=Ce;t["default"]=Te},27998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={getPluginData:function e(t){return window.Server.plugins[t]||{}},getAppData:function e(t){return window.Server.app[t]},getAppBag:function e(){return window.Server.app},getData:function e(t){return window.Server[t]}};var n=r;t["default"]=n},8776:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.rowsWidgetViewFactory=t.rowsWidgetViewFactory;this.widgetViewFactory=t.widgetViewFactory;this.featureFlagDataProvider=t.featureFlagDataProvider}i(e,[{key:"build",value:function e(t,r){if(this.featureFlagDataProvider.get("enableRows"))return this.rowsWidgetViewFactory.build(t,r);return this.widgetViewFactory.build(t,r)}}]);return e}();var o=a;t["default"]=o},99989:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(75420);var i=a(r(248));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(t){o(this,e);this.profile=t.profile;this.pages=t.pages;this.assets=t.assets;this.hiddenWidgetsPanel=t.hiddenWidgetsPanel;this.overlayFactory=t.overlayFactory;this.widgetBackgroundControlFactory=t.widgetBackgroundControlFactory;this.imageEditor=t.imageEditor;this.widgetPropertyPanelAdapter=t.widgetPropertyPanelAdapter;this.envData=t.envDataProvider;this.fetch=t.fetch;this.zonecloner=t.zoneCloner;this.zoneRestorer=t.zoneRestorer;this.zoneSharingDialogView=t.zoneSharingDialogView;this.zoneSharingDialogContentView=t.ZoneSharingDialogContentView;this.dragDropEligibilityChecker=t.dragDropEligibilityChecker;this.rowEditMode=t.rowEditMode;this.widgetSettingsControl=t.widgetSettingsControl;this.rowWidgetSettingsControl=t.rowWidgetSettingsControl;this.userDataProvider=t.userDataProvider;this.featureFlagDataProvider=t.featureFlagDataProvider;this.widgetSettingsData=t.widgetSettingsData;this.siteDataProvider=t.siteDataProvider;this.tracker=t.tracker;this.brandDataProvider=t.brandDataProvider;this.fileViewFactory=t.fileViewFactory}l(e,[{key:"build",value:function e(t,r){var a=false;var o=this.siteDataProvider.get("globalValues").find((function(e){return"enablePolicyPages"===e.name}));"undefined"!==typeof o&&(a=o.value);var s=this.siteDataProvider.get("policyPageData");var l=this._setSelectorAccordingToType(t);var u=(0,n.getWidgetClass)({widgetType:t.type,type:"View"});var c={el:l,store:i.default,properties:d(t),model:r.get("viewModel"),collection:r.get("collection"),profile:this.profile,pages:this.pages,assets:this.assets,hiddenWidgetsPanel:this.hiddenWidgetsPanel,overlayFactory:this.overlayFactory,widgetBackgroundControlFactory:this.widgetBackgroundControlFactory,imageEditor:this.imageEditor,widgetPropertyPanelAdapter:this.widgetPropertyPanelAdapter,envData:this.envData,rowEditMode:this.rowEditMode,widgetSettingsControl:this.widgetSettingsControl,userDataProvider:this.userDataProvider,featureFlagDataProvider:this.featureFlagDataProvider,widgetSettingsData:this.widgetSettingsData,enablePolicyPages:a,policyPageData:s,tracker:this.tracker,brandDataProvider:this.brandDataProvider,fileViewFactory:this.fileViewFactory};c=this._setRowArguments(c,t);c.isDragDropEnabled=this.dragDropEligibilityChecker.isEligible(c);var f=new u(c);return f}},{key:"_setRowArguments",value:function e(t,r){if("widget.row"===r.type)return Object.assign(t,{fetch:this.fetch,zoneCloner:this.zoneCloner,zoneRestorer:this.zoneRestorer,zoneSharingDialogView:this.zoneSharingDialogView,zoneSharingDialogContentView:this.zoneSharingDialogContentView,rowWidgetSettingsControl:this.rowWidgetSettingsControl});return t}},{key:"_setSelectorAccordingToType",value:function e(t){if(t.isTemplateWidget)return"#".concat(t.uniqueHTMLId);if("widget.template"===t.type)return"[data-uniqueid=".concat(t.uniqueId,"]");return"[data-parentuniqueid=".concat(t.parentUniqueId,"][data-uniqueid=").concat(t.uniqueId,"]")}}]);return e}();var c=u;t["default"]=c;function d(e){return{fixed:e.fixed,name:e.name,className:e.className,uniqueId:e.uniqueId,uniqueHTMLId:e.uniqueHTMLId,debugMode:e.debugMode||void 0,type:e.type,ref:e.ref,pageRef:e.pageRef,isZone:e.isZone,zone:e.zoneName,parentZone:e.parentZone,rowType:e.data.rowType,layout:e.data.layout,isInRow:e.isInRow}}},88779:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(86192);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function o(e,t,r){t&&a(e.prototype,t);r&&a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var s=function(){function e(t){i(this,e);this.uniqueId=t.uniqueId;this.parentUniqueId=t.parentUniqueId;this.model=t.model;this.view=t.view;this.widgetRegister=t.widgetRegister;this.widgetAssociator=t.widgetAssociator;this.widgetDisassociator=t.widgetDisassociator;this.dragdropEngine=t.dragdropEngine;this.userDataProvider=t.userDataProvider;this._setMetadata();this._setAssociations();this._enableDragAndDrop()}o(e,[{key:"get",value:function e(t){return this.model.get(t)}},{key:"set",value:function e(t,r){this.model.set(t,r)}},{key:"destroy",value:function e(){this.widgetDisassociator.breakRelationships(this);this.view.deleteWidget();this.model.destroy()}},{key:"children",value:function e(){return this.widgetRegister.getByParentId(this.uniqueId)}},{key:"parent",value:function e(){return this.widgetRegister.get(this.parentUniqueId)}},{key:"addToChildCollection",value:function e(t){this.get("collection").add(t.model)}},{key:"isInColumn",value:function e(){var t=this.parent();return"widget.columns.column"===t.get("type")}},{key:"isResponsiveColumnWidget",value:function e(){return"widget.responsivecolumns"===this.get("type")}},{key:"isColumn",value:function e(){return"widget.columns.column"===this.get("type")}},{key:"isEmpty",value:function e(){return 0===this.get("collection").length}},{key:"isMainZone",value:function e(){return"page-zones__main"===this.get("uniqueHTMLId")}},{key:"isRow",value:function e(){return"widget.row"===this.get("type")}},{key:"emptyElement",value:function e(){var t=this.view.el||document.querySelector(".js-site-frame").contentWindow.document.querySelector('[data-uniqueid="'.concat(this.uniqueId,'"]'));(0,n.emptyElement)(t)}},{key:"_setAssociations",value:function e(){this.widgetAssociator.setRelationships(this)}},{key:"_enableDragAndDrop",value:function e(){this.dragdropEngine.addToInitQueue(this.view)}},{key:"_setMetadata",value:function e(){this.isTemplateWidget=this.model.get("isTemplateWidget")}}]);return e}();var l=s;t["default"]=l},14674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.Widget=t.Widget;this.userDataProvider=t.userDataProvider;this.widgetViewFactory=t.widgetViewFactory;this.modelFactory=t.modelFactory;this.widgetRegister=t.widgetRegister;this.widgetAssociator=t.widgetAssociator;this.widgetDisassociator=t.widgetDisassociator;this.dragdropEngine=t.dragdropEngine}i(e,[{key:"build",value:function e(t){var r=this.modelFactory.build(t);var n=this.widgetViewFactory.build(t,r);var i=new this.Widget({uniqueId:t.uniqueId,parentUniqueId:t.parentUniqueId,model:r,view:n,widgetRegister:this.widgetRegister,widgetAssociator:this.widgetAssociator,widgetDisassociator:this.widgetDisassociator,dragdropEngine:this.dragdropEngine,userDataProvider:this.userDataProvider});this.widgetRegister.register(i)}}]);return e}();var o=a;t["default"]=o},81024:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(24744);var i=a(r(3377));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return c(e)||u(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}function u(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function g(e,t,r){t&&p(e.prototype,t);r&&p(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var h=function(){function e(t){f(this,e);this.store=t.store;this.siteDataProvider=t.siteDataProvider;this.widgetFactory=t.widgetFactory;this.widgetRegister=t.widgetRegister}g(e,[{key:"initialiseWidgets",value:function e(){var t=this;this._setFirstAndLastWidget();var r=this.siteDataProvider.getWidgetData();r=this._removeWidgetsWithNoElement(r);r.forEach((function(e){t.widgetFactory.build(e)}))}},{key:"_setFirstAndLastWidget",value:function e(){var t=i.default.getIframeDocument();var r=t.getElementById("page-zones__main");var a=null;var o=null;if(r.children.length>0){a=this._getWidgetIdFromElement(r.firstElementChild);o=this._getWidgetIdFromElement(r.lastElementChild)}this.store.dispatch((0,n.changeFirstWidgetOnPage)(a));this.store.dispatch((0,n.changeLastWidgetOnPage)(o))}},{key:"_getWidgetIdFromElement",value:function e(t){return t.getAttribute("data-uniqueId")}},{key:"_removeWidgetsWithNoElement",value:function e(t){var r=i.default.getIframeDocument();return o(t).filter((function(e){return!!r.getElementById(e.uniqueHTMLId)}))}}]);return e}();t["default"]=h},70040:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(t){a(this,e);this.widgetViewModelFactory=t.widgetViewModelFactory;this.StdModelClass=t.StdModelClass;this.StdCollectionClass=t.StdCollectionClass}s(e,[{key:"build",value:function e(t){var r=this.widgetViewModelFactory.build(t);var i=n(n({},t),{},{viewModel:r,collection:new this.StdCollectionClass});return new this.StdModelClass(i,{idAttribute:"uniqueId"})}}]);return e}();var u=l;t["default"]=u},85611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(75420);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function o(e,t,r){t&&a(e.prototype,t);r&&a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var s=function(){function e(t){i(this,e);this.profile=t.profile;this.pages=t.pages;this.assets=t.assets;this.hiddenWidgetsPanel=t.hiddenWidgetsPanel;this.overlayFactory=t.overlayFactory;this.fileViewFactory=t.fileViewFactory;this.imageEditor=t.imageEditor;this.widgetPropertyPanelAdapter=t.widgetPropertyPanelAdapter;this.envData=t.envDataProvider;this.fetch=t.fetch;this.dragDropEligibilityChecker=t.dragDropEligibilityChecker;this.userDataProvider=t.userDataProvider;this.store=t.store;this.featureFlagDataProvider=t.featureFlagDataProvider;this.siteDataProvider=t.siteDataProvider}o(e,[{key:"build",value:function e(t,r){var i=false;var a=this.siteDataProvider.get("globalValues").find((function(e){return"enablePolicyPages"===e.name}));"undefined"!==typeof a&&(i=a.value);var o=this.siteDataProvider.get("policyPageData");var s=this._setSelectorAccordingToType(t);var l=(0,n.getWidgetClass)({widgetType:t.type,type:"View"});var c={el:s,properties:u(t),model:r.get("viewModel"),collection:r.get("collection"),profile:this.profile,pages:this.pages,assets:this.assets,store:this.store,hiddenWidgetsPanel:this.hiddenWidgetsPanel,overlayFactory:this.overlayFactory,imageEditor:this.imageEditor,widgetPropertyPanelAdapter:this.widgetPropertyPanelAdapter,envData:this.envData,fileViewFactory:this.fileViewFactory,userDataProvider:this.userDataProvider,featureFlagDataProvider:this.featureFlagDataProvider,enablePolicyPages:i,policyPageData:o};c.isDragDropEnabled=this.dragDropEligibilityChecker.isEligible(c);var d=new l(c);return d}},{key:"_setSelectorAccordingToType",value:function e(t){if(t.isTemplateWidget)return"#".concat(t.uniqueHTMLId);if("widget.template"===t.type)return"[data-uniqueid=".concat(t.uniqueId,"]");return"[data-parentuniqueid=".concat(t.parentUniqueId,"][data-uniqueid=").concat(t.uniqueId,"]")}}]);return e}();var l=s;t["default"]=l;function u(e){return{fixed:e.fixed,name:e.name,className:e.className,uniqueId:e.uniqueId,uniqueHTMLId:e.uniqueHTMLId,debugMode:e.debugMode||void 0,type:e.type,ref:e.ref,pageRef:e.pageRef,isZone:e.isZone,zone:e.zoneName,parentZone:e.parentZone}}},60530:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(75420);var i=a(r(92107));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function d(e,t,r){t&&c(e.prototype,t);r&&c(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var f=function(){function e(t){u(this,e);this.rowsEnabled=t.rowsEnabled}d(e,[{key:"build",value:function e(t){var r=(0,n.getWidgetClass)({widgetType:t.type,type:"Model"});var a=new r(s(s({},t.data),{},{isNew:t.isNew||void 0,uniqueId:t.uniqueId}));a.widgetType=t.type;if(this.rowsEnabled){a.stateManager=new i.default(a);a.stateManager.storeCurrentState()}return a}}]);return e}();var p=f;t["default"]=p},72701:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(36957);var i=o(r(3377));var a=o(r(52245));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return d(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function h(e,t,r){t&&g(e.prototype,t);r&&g(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var v=a.default.isiOS;var m=function(){function e(t){p(this,e);this.store=t.store;this.templateRenderer=t.templateRenderer;this.storeDataAdapterFactory=t.storeDataAdapterFactory;this.envDataProvider=t.envDataProvider;this.widgetSettingsControlLayoutView=t.widgetSettingsControlLayoutView;this.RowWidgetSettingsView=t.rowWidgetSettingsView;this.rowWidgetControlViewFactory=t.rowWidgetControlViewFactory;this.zoneSharingDialogView=t.zoneSharingDialogView;this.headerFooterSharingDialogContentView=t.HeaderFooterSharingDialogContentView;this.rowLayoutControl=t.rowLayoutControl;this.tracker=t.tracker;this._listenToRowWidgetControlState()}h(e,[{key:"openSettings",value:function e(t){this.rowView=t;this.widgetSettingsControlLayoutView.getRegion("settings").show(this._createRowWidgetSettingsView(t));this._showControlList()}},{key:"_listenToRowWidgetControlState",value:function e(){this.rowWidgetControlState=this._createRowWidgetControlState();this.state=this.rowWidgetControlState.get();this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this))}},{key:"_createRowWidgetControlState",value:function e(){return this.storeDataAdapterFactory.build({stateId:"ui.rowWidgetControl"})}},{key:"_createRowWidgetSettingsView",value:function e(t){return new this.RowWidgetSettingsView({store:this.store,templateRenderer:this.templateRenderer,rowView:t,rowWidgetControlState:this._createRowWidgetControlState(),envDataProvider:this.envDataProvider,zoneSharingDialogView:this.zoneSharingDialogView,headerFooterSharingDialogContentView:this.headerFooterSharingDialogContentView,rowLayoutControl:this.rowLayoutControl,tracker:this.tracker})}},{key:"_onRowWidgetControlUIStateChange",value:function e(t){t.showRowWidgetControlList&&t.isRowWidgetControlRendered&&this._repositionControlList();!t.showRowWidgetControlList&&this.state.showRowWidgetControlList&&this._hideControlList();this.state=t}},{key:"_showControlList",value:function e(){document.body.classList.add("is-row-menu-open");this.rowWidgetControlViewFactory.build(this.rowView.el.querySelector(".js-row-edit-mount"));this.store.dispatch((0,n.setRowWidgetControlSettings)({settings:this._getRowStyleSettings(),rowType:this.rowView.properties.parentZone,zoneSharingScope:this._isShared()?"shared":"custom",showLayout:this._rowSupportsLayoutSwitching(),showShapeDivider:this._rowSupportsShapeDivider()}));this.store.dispatch((0,n.showRowWidgetControlList)())}},{key:"_hideControlList",value:function e(){this.rowWidgetControlViewFactory.destroy();document.body.classList.remove("is-row-menu-open")}},{key:"_repositionControlList",value:function e(){var t=this.rowView.el.querySelector(".js-row-edit-mount");var r=this.rowView.el.querySelector(".js-edit");var n=document.querySelector(".js-site-preview").getBoundingClientRect();var a=document.querySelector(".js-site-frame");var o=t.getBoundingClientRect();var s=r.getBoundingClientRect();var l=r.parentNode.offsetTop+this.rowView.el.offsetTop;var u=0;if(v()){var c=i.default.getIframeDocument().querySelector("#page-zones__footer");var d=c?c.getBoundingClientRect().bottom:a.offsetHeight;u=d-s.bottom}else u=n.height-s.bottom;u<o.height&&l>o.height?t.style.top="".concat(-o.height,"px"):t.removeAttribute("style")}},{key:"_getRowStyleSettings",value:function e(){return this.rowView.getSettings().components.filter((function(e){return"widget-style-picker"===e.id}))[0]}},{key:"_rowSupportsLayoutSwitching",value:function e(){var t=this.envDataProvider.get("rowLayouts");var r=void 0!==t[this.rowView.properties.rowType];return r||this._isHeaderOrFooterRow()}},{key:"_rowSupportsShapeDivider",value:function e(){if("footer"===this.rowView.properties.parentZone)return false;var t=this.envDataProvider.get("rows");var r=[];Object.keys(t).forEach((function(e){r.push.apply(r,s(t[e]))}));if("undefined"===typeof this.rowView.properties.rowType)return false;var n=this.rowView.properties.rowType.replace(/-/g,"_");var i=r.filter((function(e){return e.id===n}))[0];if(i&&i.values&&"true"===i.values.disableShapeDivider)return false;return true}},{key:"_isShared",value:function e(){return this._isHeaderOrFooterRow()&&!this.rowView.properties.pageRef}},{key:"_isHeaderOrFooterRow",value:function e(){return"header"===this.rowView.properties.parentZone||"footer"===this.rowView.properties.parentZone}}]);return e}();var y=m;t["default"]=y},11275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(36957);var i=m(r(98654));var a=m(r(5234));var o=m(r(60851));var s=m(r(77181));var l=m(r(89174));var u=m(r(22777));var c=m(r(87448));var d=m(r(93999));var f=m(r(89594));var p=m(r(52687));var g=m(r(53383));var h=m(r(3377));var v=m(r(52245));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var _=v.default.iOSFixRequired;var S=Marionette.LayoutView.extend({template:"row_widget_settings_layout",attributes:{id:"row-widget-settings-region"},className:"row-widget-settings-container js-row-widget-settings-container",events:{"click .js-row-widget-settings-backstop":"onBackstopClick","click .js-widget-control-backstop":"onBackstopClick"},initialize:function e(t){this.store=t.store;this.templateRenderer=t.templateRenderer;this.rowView=t.rowView;this.rowWidgetControlState=t.rowWidgetControlState;this.state=this.rowWidgetControlState.get();this.envDataProvider=t.envDataProvider;this.zoneSharingDialogView=t.zoneSharingDialogView;this.headerFooterSharingDialogContentView=t.headerFooterSharingDialogContentView;this.rowLayoutControl=t.rowLayoutControl;this.tracker=t.tracker;this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this));this.rowStyleSettings=this._getRowStyleSettings();this.rowView.listenForSettingsChanges(this)},changeSettings:function e(t,r){this.trigger(t,r);this.rowView.model.save({widgetName:this.rowView.properties.name,widgetUniqueId:this.rowView.properties.uniqueId,fixed:this.rowView.properties.fixed})},updateSettings:function e(t,r){this.trigger(t,r)},render:function e(){var t=this.templateRenderer.render(this.template,{});this.el.insertAdjacentHTML("beforeend",t)},destroy:function e(){this.rowWidgetControlState.unsubscribe()},onBackstopClick:function e(){this.store.dispatch((0,n.hideRowWidgetControlList)())},_onRowWidgetControlUIStateChange:function e(t){t.panelOpen&&this.state.panelOpen!==t.panelOpen&&this._handleOpenControlPanel(t.activePanel);this._shouldHandleStyleChange(this.state,t)&&this._styleChanged(t.settings.selectedStyleSet);this._shouldRestorePreviousImageStyleChange(this.state,t)&&this._restorePreviousBackgroundImage(t);t.showRowWidgetControlList&&!this.state.showRowWidgetControlList&&this._showControlList();this.state=t},_handleOpenControlPanel:function e(t){"more-information"!==t&&this._beforePanelOpen();switch(t){case"replace-image":this.openReplaceImagePanel();break;case"overlay":this.openOverlayPanel();break;case"focal-point":this.openFocalPointPanel();break;case"change-layout":this.openChangeLayoutPanel();break;case"more-information":this.openMoreInformationPanel();break;case"change-shape-divider":this.openChangeShapeDividerPanel();break;case"scroll-effects":this.openScrollEffectsPanel();break;case"animation":this.openAnimationPanel();break;case"section-height":this.openSectionHeightPanel();break;case"section-width":this.openSectionWidthPanel();break;case"section-gradient":this.openSectionGradientPanel();break}},_shouldHandleStyleChange:function e(t,r){return"image"!==r.settings.selectedStyleType&&r.settings.selectedStyleSet&&t.settings.selectedStyleSet&&("image"===t.settings.selectedStyleType||r.settings.selectedStyleSet!==t.settings.selectedStyleSet)},_shouldRestorePreviousImageStyleChange:function e(t,r){return r.showImageBackgroundControlList&&"image"!==r.settings.selectedStyleType&&"image"!==t.settings.selectedStyleType&&t.settings.backgroundImageSrc},_restorePreviousBackgroundImage:function e(t){this._setAsset({url:t.settings.backgroundImageSrc,ref:t.settings.backgroundImageRef,dominantColor:t.settings.dominantColor},t.settings.backgroundPosition);this.rowStyleSettings=this._getRowStyleSettings();this.store.dispatch((0,n.changeRowWidgetStyle)({selectedStyleSet:this.rowStyleSettings.selectedStyleSet,selectedStyleType:this.rowStyleSettings.selectedStyleType}))},_showControlList:function e(){this._scrollToCurrentRow()},_getRowStyleSettings:function e(){return this.rowView.getSettings().components.filter((function(e){return"widget-style-picker"===e.id}))[0]},_getRowLayoutSettings:function e(){return this.rowView.getSettings().components.filter((function(e){return"widget-layout-picker"===e.id}))[0]},_getShapeDividerSettings:function e(){return this.rowView.getSettings().components.filter((function(e){return"widget-shape-divider-picker"===e.id}))[0]},_getAnimationSettings:function e(){return this.rowView.getSettings().components.filter((function(e){return"widget-animation-picker"===e.id}))[0]},_getSectionHeightSettings:function e(){return this.rowView.getSettings().components.filter((function(e){return"widget-section-height-picker"===e.id}))[0]},_getSectionWidthSettings:function e(){return this.rowView.getSettings().components.filter((function(e){return"widget-section-width-picker"===e.id}))[0]},_getSectionGradientSettings:function e(){return this.rowView.getSettings().components.filter((function(e){return"widget-section-gradient-picker"===e.id}))[0]},_styleChanged:function e(t){this.changeSettings("row-style-changed",{styleName:t})},openReplaceImagePanel:function e(){var t=new i.default({model:new a.default({panel:"upload",title:App.t("shared_components.imagespanel.source_title","Image source")})}).render();this.listenTo(t,"asset:change",this._setAsset.bind(this));this.listenTo(t,"close:images-panel",this._onPanelClosed.bind(this))},openOverlayPanel:function e(){var t=new o.default({dialogStyle:"dialog__panel-style--green",styleSets:this.rowStyleSettings.styleSets,overlayColour:this.rowStyleSettings.overlayColour,overlayColourType:this.rowStyleSettings.overlayColourType,overlayOpacity:this.rowStyleSettings.overlayOpacity}).render();this.listenTo(t,"overlay:change",this._setOverlaySettings.bind(this));this.listenTo(t,"opacity:drag",this._updateOverlayOpacity.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openFocalPointPanel:function e(){var t=new s.default({dialogStyle:"dialog__panel-style--green",backgroundImage:this.rowStyleSettings.backgroundImageSrc,backgroundPosition:this.rowStyleSettings.backgroundPosition}).render();this.listenTo(t,"focus:change",this._setBackgroundPosition.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openChangeLayoutPanel:function e(){this._isHeaderOrFooterRow()?this.openLayoutSelectorPanel():this.openRowLayoutPanel()},openLayoutSelectorPanel:function e(){var t=this.rowLayoutControl.enable(this.rowView);this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openRowLayoutPanel:function e(){var t=new l.default(b({dialogStyle:"dialog__panel-style--green"},this._getRowLayoutSettings())).render();this.listenTo(t,"layout:change",this._setLayout.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openChangeShapeDividerPanel:function e(){this.tracker.track("Shape divider button clicked");var t=new u.default(b({dialogStyle:"dialog__panel-style--green"},this._getShapeDividerSettings())).render();this.listenTo(t,"shapeDivider:change",this._setShapeDivider.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openScrollEffectsPanel:function e(){var t=new c.default(b({dialogStyle:"dialog__panel-style--green"},this._getRowStyleSettings())).render();this.listenTo(t,"scrollEffect:change",this._setScrollEffect.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openAnimationPanel:function e(){this.tracker.track("Animation button clicked");var t=new d.default(b({dialogStyle:"dialog__panel-style--green"},this._getAnimationSettings())).render();this.listenTo(t,"animationEffect:change",this._setAnimationEffect.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openSectionHeightPanel:function e(){this.tracker.track("Section height button clicked");var t=new f.default(b({dialogStyle:"dialog__panel-style--green"},this._getSectionHeightSettings())).render();this.listenTo(t,"height:change",this._setSectionHeight.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openSectionWidthPanel:function e(){this.tracker.track("Section width button clicked");var t=new p.default(b({dialogStyle:"dialog__panel-style--green"},this._getSectionWidthSettings())).render();this.listenTo(t,"width:change",this._setSectionWidth.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openSectionGradientPanel:function e(){this.tracker.track("Section gradient button clicked");var t=new g.default(b({dialogStyle:"dialog__panel-style--green"},this._getSectionGradientSettings())).render();this.listenTo(t,"gradient:change",this._setSectionGradient.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openMoreInformationPanel:function e(){var t=this.zoneSharingDialogView.display(this.headerFooterSharingDialogContentView,this._isShared()?"shared":"custom",this.rowView.properties.parentZone,{dialogClassname:"zone-sharing-dialog",showDone:true});this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},_isShared:function e(){return this._isHeaderOrFooterRow()&&!this.rowView.properties.pageRef},_isHeaderOrFooterRow:function e(){return"header"===this.rowView.properties.parentZone||"footer"===this.rowView.properties.parentZone},_setAsset:function e(t,r){var n=r||{left:"50%",top:"50%"};this.changeSettings("row-image-changed",{asset:t,backgroundPosition:n})},_setBackgroundPosition:function e(t){this.changeSettings("row-background-position-changed",{backgroundPosition:t})},_setOverlaySettings:function e(t){this.changeSettings("row-overlay-changed",{overlayColour:t.overlayColour,overlayColourType:t.overlayColourType,overlayOpacity:t.overlayOpacity})},_updateOverlayOpacity:function e(t){this.updateSettings("row-overlay-opacity-changed",{overlayOpacity:t})},_setLayout:function e(t){this.changeSettings("row-layout-changed",t)},_setShapeDivider:function e(t){this.changeSettings("row-shape-divider-changed",t)},_setScrollEffect:function e(t){this.changeSettings("row-scroll-effect-changed",t)},_setAnimationEffect:function e(t){this.changeSettings("row-animation-effect-changed",t)},_setSectionHeight:function e(t){this.changeSettings("row-section-height-changed",t)},_setSectionGradient:function e(t){this.changeSettings("row-section-gradient-changed",t)},_setSectionWidth:function e(t){this.changeSettings("row-section-width-changed",t)},_beforePanelOpen:function e(){document.body.classList.add("is-setting-open");this.rowView.el.querySelector(".row-overlay").classList.add("is-setting-open");this._addFramePadding();this._scrollToCurrentRow()},_onPanelClosed:function e(){this.store.dispatch((0,n.closeControlPanel)());document.body.classList.remove("is-setting-open");this.rowView.el.querySelector(".row-overlay").classList.remove("is-setting-open");this._scrollToCurrentRow();this._updateFramePadding()},_updateFramePadding:function e(){setTimeout((function(){Editor.Events.trigger("sitePadding:update")}),500)},_addFramePadding:function e(){var t=document.querySelector(".js-site-preview").getBoundingClientRect();Editor.Events.trigger("sitePadding:set",t.height)},_scrollToCurrentRow:function e(){if(_()){var t=document.querySelector(".js-site-preview");t.scrollTo(0,this.rowView.el.getBoundingClientRect().top)}else{var r=h.default.getIframeDocument();r.body.scrollTop=0;r.documentElement.scrollTop=0;r.body.scrollTop=this.rowView.el.getBoundingClientRect().top;r.documentElement.scrollTop=this.rowView.el.getBoundingClientRect().top}}});var E=S;t["default"]=E},7068:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(19999);var i=o(r(3377));var a=o(r(83851));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function u(e,t,r){t&&l(e.prototype,t);r&&l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var c=function(){function e(t){s(this,e);if(!t.featureFlagDataProvider.get("enableRows"))return;this.store=t.store;this.widgetSettingsControlLayoutView=t.widgetSettingsControlLayoutView;this.WidgetSettingsView=t.widgetSettingsView;this.RowSettingsViewEmailMixin=t.RowSettingsViewEmailMixin;this.widgetStyleSettingsViewFactory=t.widgetStyleSettingsViewFactory;this.styleSettingsProvider=t.styleSettingsProvider;this.templateRenderer=t.templateRenderer;this.widgetSettingsComponentViewFactory=t.widgetSettingsComponentViewFactory;this.widgetRegister=t.widgetRegister;this.featureFlagDataProvider=t.featureFlagDataProvider;this.init()}u(e,[{key:"init",value:function e(){this.widgetSettingsControlLayoutView.render();this.featureFlagDataProvider.get("formEmailVerification")&&(this.RowSettingsView=Cocktail.mixin(this.WidgetSettingsView,this.RowSettingsViewEmailMixin));this.attachEvents()}},{key:"attachEvents",value:function e(){Editor.Events.on("widgetSettings:changed",this.openSettings.bind(this))}},{key:"openSettings",value:function e(t){if(this.store.getState().site.isRowEditingMode)return;this._setWidgetInEditingStatus();var r=this._hasStyleSettings(t);this.widgetSettingsPanel=this._createWidgetSettingsPanel(t,r);var n=this._createWidgetSettingsPanelBody(t);this._renderWidgetSettings(this.widgetSettingsPanel,n);if(r){var i=this._createWidgetStyleSettingsPanelBody();i.render()}this._monitorWidgetSettingError()}},{key:"_hasStyleSettings",value:function e(t){var r=false;if(!this._isWidgetInSection(t)&&this._shouldHandleStyleSettings()){var i=this.styleSettingsProvider.getStyleSettings({widgetType:t.properties.className||t.properties.type,widgetEl:t.$el,fixed:t.properties.fixed,model:t.model});r=Object.keys(i).length>0;r&&this.store.dispatch((0,n.updateStyles)(i))}return r}},{key:"_isWidgetInSection",value:function e(t){return t.properties.isInRow}},{key:"_shouldHandleStyleSettings",value:function e(){return this.store.getState().env.V10CompatibilityMode&&this.styleSettingsProvider.hasStyleCollection()}},{key:"_setWidgetInEditingStatus",value:function e(){document.body.classList.add("widget-editing");i.default.getIframeDocument().body.classList.add("widget-editing")}},{key:"_createWidgetSettingsPanel",value:function e(t,r){var n=t.model.get("uniqueId")||t.properties.uniqueHTMLId;var i=n?this.widgetRegister.getParentByUniqueId(n):null;return new this.WidgetSettingsView({store:this.store,stylesEnabled:r,templateRenderer:this.templateRenderer,model:t.model,profileModel:t.profileModel,title:t.getSettings().title,widgetView:t,parentWidget:i})}},{key:"_createWidgetSettingsPanelBody",value:function e(t){return this.widgetSettingsComponentViewFactory.build({widgetView:t,profileModel:(0,a.default)()})}},{key:"_createWidgetStyleSettingsPanelBody",value:function e(){return this.widgetStyleSettingsViewFactory.build({el:".js-style-content"})}},{key:"_renderWidgetSettings",value:function e(t,r){var n=this.widgetSettingsControlLayoutView.getRegion("settings");n.show(t);n.currentView.getRegion("settingsBody").show(r)}},{key:"_monitorWidgetSettingError",value:function e(){Editor.Events.on("setting:error:show",this._showSettingsError.bind(this));Editor.Events.on("setting:error:clear",this._clearSettingsError.bind(this));Editor.Events.on("setting:save:validate",this._validateSaveSettings.bind(this));Editor.Events.on("setting:save:enable",this._enableSaveSettings.bind(this));Editor.Events.on("setting:save:disable",this._disableSaveSettings.bind(this))}},{key:"_getErrorModel",value:function e(t){var r=this.widgetSettingsPanel.settingsBody.currentView.collection.toArray();var n=!!(r&&r[0].get("groupId"));var i=null;n?this.widgetSettingsPanel.settingsBody.currentView.collection.toJSON().every((function(e){var r=e.collection.filter((function(e){return e.get("id")===t})).pop();if(r){i=r;return false}return true})):i=r.filter((function(e){return e.get("id")===t})).pop();return i}},{key:"_showSettingsError",value:function e(t){if(this.store.getState().site.isRowEditingMode)return;var r=this._getErrorModel(t.settingId);r&&r.set("error",t.message);this.widgetSettingsPanel.settingsBody.currentView.render();this._disableSaveSettings(true)}},{key:"_clearSettingsError",value:function e(t){if(this.store.getState().site.isRowEditingMode)return;var r=this._getErrorModel(t);r&&r.set("error","");this.widgetSettingsPanel.settingsBody.currentView.render();this._validateSaveSettings()}},{key:"_validateSaveSettings",value:function e(){var t=this.widgetSettingsPanel.settingsBody.currentView;t.el.querySelectorAll(".popup-panel-form__field--error").length<1&&this._enableSaveSettings()}},{key:"_enableSaveSettings",value:function e(){this.widgetSettingsPanel.el.classList.remove("error");this.widgetSettingsPanel.el.querySelector(".js-save-panel").disabled=false}},{key:"_disableSaveSettings",value:function e(t){t&&this.widgetSettingsPanel.el.classList.add("error");this.widgetSettingsPanel.el.querySelector(".js-save-panel").disabled=true}}]);return e}();var d=c;t["default"]=d},20719:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.LayoutView.extend({template:"widget_settings_control_layout",el:".js-widget-settings-elements",regions:{settings:"#widget-settings-region"}});var n=r;t["default"]=n},14768:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=l(r(7771));var i=r(62936);var a=l(r(3377));var o=l(r(57595));var s=r(94014);function l(e){return e&&e.__esModule?e:{default:e}}var u=27;var c=Marionette.LayoutView.extend({template:"widget_settings_view",attributes:{role:"dialog","aria-labelledby":"row-settings-panel-title"},className:function e(){var t="popup-panel";if(this._widgetIsOnRight(this.options.parentWidget,this.options.widgetView))return"".concat(t,"--left-aligned");return t},regions:{settingsBody:".js-settings-body",styleSettingsBody:".js-style-content"},events:{"click .js-close-panel":"closePanel","click .js-backstop":"onBackstopClicked","click .js-settings-tab-button":"onSettingsTabClicked","click .js-style-tab-button":"onStyleTabClicked",keydown:"handleKeydown",submit:"handleSubmit"},keepPanelOpen:false,initialize:function e(t){this.store=t.store;this.stylesEnabled=t.stylesEnabled;this.templateRenderer=t.templateRenderer;this.title=t.title;this.model=t.model;this.profileModel=t.profileModel;this.widgetView=t.widgetView;this.parentWidget=t.parentWidget;this.closePanelHandler=this.closePanel.bind(this);this.attachEvents();(0,s.closeIntercom)()},attachEvents:function e(){Editor.Events.on("widgetSettings:close",this.closePanelHandler);Editor.Events.on("dragdrop:dragStart",this.closePanelHandler)},render:function e(){var t=this.templateRenderer.render(this.template,{title:this.title,stylesEnabled:this.stylesEnabled,hasSettings:this.widgetView.getSettings().components.length>0,emptySettingMessage:this.widgetView.getSettings().emptySettingMessage||""});this.el.insertAdjacentHTML("beforeend",t)},removePanel:function e(){Editor.Events.off("widgetSettings:close",this.closePanelHandler);Editor.Events.off("dragdrop:dragStart",this.closePanelHandler);this.remove();this._unsetWidgetInEditingStatus();this.store.dispatch((0,i.closeWidgetSettings)());(0,s.openIntercom)()},closePanel:function e(){this.model.clear({silent:true});this.model.stateManager.restoreInitialState();this.profileModel.stateManager.restoreInitialState();this.removePanel()},onBackstopClicked:function e(t){t.stopPropagation();var r=this.el.querySelector(".js-save-panel");if(r&&r.disabled)return;this.save()},onSettingsTabClicked:function e(t){t.preventDefault();t.stopPropagation();this.el.querySelector(this.regions.styleSettingsBody).setAttribute("hidden","hidden");this.el.querySelector(this.regions.settingsBody).removeAttribute("hidden");this.el.querySelector(".js-save-panel").removeAttribute("hidden");t.currentTarget.classList.add("is-active");this.el.querySelector(".js-style-tab-button").classList.remove("is-active")},onStyleTabClicked:function e(t){t.preventDefault();t.stopPropagation();this.el.querySelector(this.regions.settingsBody).setAttribute("hidden","hidden");this.el.querySelector(this.regions.styleSettingsBody).removeAttribute("hidden");this.el.querySelector(".js-save-panel").setAttribute("hidden","hidden");t.currentTarget.classList.add("is-active");this.el.querySelector(".js-settings-tab-button").classList.remove("is-active")},save:function e(){if(this.model.hasChanged()){this.model.save({widgetName:this.widgetView.properties.name,widgetUniqueId:this.widgetView.properties.uniqueId||this.widgetView.properties.uniqueHTMLId,fixed:this.widgetView.properties.fixed});this.model.stateManager.storeCurrentState()}if(this.profileModel.hasChanged()){this.profileModel.save();this.profileModel.stateManager.storeCurrentState()}if(this.keepPanelOpen)return this;this.removePanel();return this},clearAllErrors:function e(){this.el.classList.remove("error");var t=this.settingsBody.currentView.collection.toArray();var r=!!(t&&t[0].get("groupId"));r?this.settingsBody.currentView.collection.toJSON().forEach((function(e){e.collection.toArray().forEach((function(e){return e.set("error","")}))})):t.forEach((function(e){return e.set("error","")}));var n=this.settingsBody.currentView;n.render()},handleSubmit:function e(t){var r=this;t.preventDefault();this.clearAllErrors();var n=false;var i=this.settingsBody.currentView.collection.toArray();var a=!!(i&&i[0].get("groupId"));if(a)n=this.settingsBody.currentView.collection.toJSON().some((function(e){var t=e.collection.toArray().filter((function(e){return e.get("required")}));return r.checkRequiredFields(t)}));else{var o=i.filter((function(e){return e.get("required")}));n=this.checkRequiredFields(o)}n||this.save()},checkRequiredFields:function e(t){var r=false;t.forEach((function(e){var t=e.get("value");if(!t||!t.length){r=true;var i={settingId:e.get("id"),message:(0,n.default)("global.message-field-required","This field is required")};Editor.Events.trigger("setting:error:show",i)}}));return r},handleKeydown:function e(t){t.keyCode===u&&this.closePanel()},_widgetIsOnRight:function e(t,r){if(t)return t.isColumn()&&t.model.collection.indexOf(t.model)>0;var n=r.el.getBoundingClientRect();return o.default.getWindowWidth()/2<n.left+n.width/2},_unsetWidgetInEditingStatus:function e(){document.body.classList.remove("widget-editing");a.default.getIframeDocument().body.classList.remove("widget-editing")}});var d=c;t["default"]=d},22321:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(52245));var i=o(r(248));var a=r(20728);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function u(e,t,r){t&&l(e.prototype,t);r&&l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var c=n.default.iOSFixRequired();var d=function(){function e(t){s(this,e);this.widgetAPI=t.widgetAPI}u(e,[{key:"toggleMoveMode",value:function e(){var t=document.querySelector("body");var r=Editor.Site.Dom.window.document.querySelector("body");r.classList.toggle("is-move-mode");t.classList.toggle("is-move-mode");i.default.dispatch((0,a.setRowMoveMode)(this.isMoveModeEnabled()));c&&Editor.Events.trigger("iosFrameBug:recalculate")}},{key:"isMoveModeEnabled",value:function e(){var t=document.querySelector("body");return t.classList.contains("is-move-mode")}}]);return e}();var f=d;t["default"]=f},79728:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=r(52245);var a=d(r(248));var o=d(r(3104));var s=c(r(3377));var l=r(36957);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(u=function e(n){return n?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function d(e){return e&&e.__esModule?e:{default:e}}var f=Backbone.View.extend({className:"row-overlay js-widget-overlay",events:{click:"onClick","click .js-delete-confirm":"onDeleteConfirmClick","click .js-delete":"onDeleteClick","click .js-cancel-delete":"hideRowDeleteModal","click .js-move-up":"onMoveClick","click .js-move-down":"onMoveClick","click .js-edit":"onEditClick","click .js-layout":"onLayoutClick","click .js-backstop":"onBackstopClick","click .js-delete-backstop":"hideRowDeleteModal","mouseover .js-content-area":"onContentAreaMouseOver"},initialize:function e(t){this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.properties=t.properties;this.immutable=t.immutable;this.isImageEditable=t.isImageEditable;this.isDeletable=t.isDeletable;this.isMovable=t.isMovable||false;this.parentView=t.parentView;this.templateRenderer=t.templateRenderer;this.sticky=t.sticky;this.widgetData=t.widgetData;this.widgetData.subscribe(this._onWidgetDataChange.bind(this));this.rowWidgetControlState=t.rowWidgetControlState;this.rowDeleteBackstopClick=this.closeRowDeleteModalClickHandler.bind(this)},render:function e(){var t=this.templateRenderer.render("view_rowoverlay",this._getTwigTemplateContext());this.$el.append(t);this.onRender();return this},onRender:function e(){var t=this;var r=new MutationObserver((function(e,r){t.onAttach(r)}));if(this.parentView&&this.parentView.el){r.observe(this.parentView.el,{childList:true});this.updateParentViewChildWidgetStatus();this.removeEmptyParentView()}},onAttach:function e(t){Editor.Events.trigger("widgetOverlay:render",this.parentView);(0,i.isIE)()||this.sticky.add(this.el.querySelector(".js-overlay-sticky"));t.disconnect()},updateParentViewChildWidgetStatus:function e(){this._hasMultipleChildWidgetsInParentView()?this.parentView.el.classList.remove("has-last-child-widget"):this.parentView.el.classList.add("has-last-child-widget")},removeEmptyParentView:function e(){if(this._hasNoChildWidgetInParentView()&&!this.deleteRequestInFlight){this._deleteParentRowWidget();this.deleteRequestInFlight=true}},onParentViewDelete:function e(){this.sticky.remove(this.el.querySelector(".js-overlay-sticky"));this.widgetData.unsubscribe()},onClick:function e(t){var r=this.parentView.el;var n=r.querySelector('[data-name="ecomproductslist"');var i=o.default.container.SiteDataProvider.get("ecommerce");if(a.default.getState().site.isRowMoveMode||a.default.getState().site.isDesktopMode||i&&!i.store.live&&n||!i&&n)return;this.trigger("widget:overlayClick",t)},onDeleteConfirmClick:function e(){var t=this.el.querySelector(".js-delete-backstop");Editor.Events.trigger("addRowMode:removeButtons");t.removeAttribute("hidden");parent.document.body.classList.add("row-delete-mode");s.default.getIframeDocument().body.classList.add("row-menu-open");document.addEventListener("click",this.rowDeleteBackstopClick,true);this.showRowDeleteModal()},showRowDeleteModal:function e(){var t=Twig.render(Twig.templates.view_row_confirm_delete_dialog);this.$el.append(t);return this},hideRowDeleteModal:function e(){var t=this.el.querySelector(".row-overlay__delete-modal");var r=this.el.querySelector(".js-delete-backstop");r.setAttribute("hidden","hidden");parent.document.body.classList.remove("row-delete-mode");s.default.getIframeDocument().body.classList.remove("row-menu-open");document.removeEventListener("click",this.rowDeleteBackstopClick,true);t.remove();Editor.Events.trigger("addRowMode:addButtons")},onDeleteClick:function e(t){t.stopPropagation();this._deleteParentRowWidget();this.hideRowDeleteModal()},closeRowDeleteModalClickHandler:function e(t){t.target.closest(".row-overlay__delete-modal")||this.hideRowDeleteModal()},onMoveClick:function e(t){Editor.Events.trigger("addRowMode:removeButtons");t.stopPropagation();var r=t.currentTarget.getAttribute("data-position");var n=this.properties.uniqueId;Editor.Events.trigger("widget:move:".concat(n),{position:r,uniqueId:n});this._updateFramePadding()},onEditClick:function e(t){Editor.Events.trigger("addRowMode:removeButtons");t.stopPropagation();this.el.querySelector(".js-edit").classList.add("is-active");this.state=this.rowWidgetControlState.get();this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this));this.trigger("rowWidget:editClick",t)},onLayoutClick:function e(t){Editor.Events.trigger("addRowMode:removeButtons");t.stopPropagation();this.el.querySelector(".js-layout").classList.add("is-active");a.default.dispatch((0,l.showRowWidgetLayoutControlList)());this.state=this.rowWidgetControlState.get();this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this));this.trigger("rowWidget:editClick",t)},onBackstopClick:function e(){Editor.Events.trigger("addRowMode:addButtons");a.default.dispatch((0,l.hideRowWidgetLayoutControlList)());a.default.dispatch((0,l.hideRowWidgetControlList)())},onContentAreaMouseOver:function e(t){t.stopPropagation();t.stopImmediatePropagation();this.el.classList.contains("is-setting-open")||this.el.classList.remove("hover")},_deleteParentRowWidget:function e(){this.trigger("widget:delete");this._updateFramePadding()},_onWidgetDataChange:function e(){this.$el.empty();this.render()},_getTwigTemplateContext:function e(){return{hideTplWidget:this.hideTplWidget,properties:this.properties,immutable:this.immutable,isImageEditable:this.isImageEditable,isDeletable:this.isDeletable,isMovable:this.isMovable,canMoveUp:this.widgetData.get().firstWidget!==this.properties.uniqueId,canMoveDown:this.widgetData.get().lastWidget!==this.properties.uniqueId}},_onRowWidgetControlUIStateChange:function e(t){t.showRowWidgetControlList&&!this.state.showRowWidgetControlList&&this._showControlList();!t.showRowWidgetControlList&&this.state.showRowWidgetControlList&&this._hideControlList();this.state=t},_showControlList:function e(){this.el.classList.add("is-dropdown-open");this.el.querySelector(".js-backstop").removeAttribute("hidden");s.default.getIframeDocument().body.classList.add("row-menu-open")},_hideControlList:function e(){var t=this;Editor.Events.trigger("addRowMode:addButtons");this.rowWidgetControlState.unsubscribe();this.el.querySelector(".is-active").classList.remove("is-active");this.el.classList.remove("is-dropdown-open");s.default.getIframeDocument().body.classList.remove("row-menu-open");setTimeout((function(){t.el.querySelector(".js-backstop").setAttribute("hidden","hidden")}),100)},_updateFramePadding:function e(){setTimeout((function(){Editor.Events.trigger("sitePadding:update")}),500)},_hasMultipleChildWidgetsInParentView:function e(){return this.parentView.el.querySelectorAll(".js-widget").length>1},_hasNoChildWidgetInParentView:function e(){return this.parentView.el.querySelectorAll(".js-widget").length<1}});var p=f;t["default"]=p},96234:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=c(r(248));var a=c(r(3104));var o=u(r(3377));var s=r(36957);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(l=function e(n){return n?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function c(e){return e&&e.__esModule?e:{default:e}}var d=Backbone.View.extend({className:"row-overlay js-widget-overlay",events:{click:"onTouch","click .js-delete-confirm":"onDeleteConfirmClick","click .js-delete":"onDeleteTouch","click .js-cancel-delete":"hideRowDeleteModal","click .js-move-up":"onMoveClick","click .js-move-down":"onMoveClick","click .js-edit":"onEditClick","click .js-layout":"onLayoutClick","click .js-backstop":"onBackstopClick","click .js-delete-backstop":"hideRowDeleteModal"},initialize:function e(t){this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.properties=t.properties;this.immutable=t.immutable;this.isImageEditable=t.isImageEditable;this.isDeletable=t.isDeletable;this.isMovable=t.isMovable||false;this.parentView=t.parentView;this.templateRenderer=t.templateRenderer;this.isActive=false;this.widgetData=t.widgetData;this.widgetData.subscribe(this._onWidgetDataChange.bind(this));this.rowWidgetControlState=t.rowWidgetControlState;this.rowDeleteBackstopClick=this.closeRowDeleteModalClickHandler.bind(this);Editor.Events.on("widgetOverlay:touchOverlayClicked",this.onGlobalOverlayTouch.bind(this))},render:function e(){var t=this.templateRenderer.render("view_rowoverlay",this._getTwigTemplateContext());this.$el.append(t);return this},onGlobalOverlayTouch:function e(){this.isActive&&this._deactivateOverlay()},onTouch:function e(t){var r=this.parentView.el;var n=r.querySelector('[data-name="ecomproductslist"');var o=a.default.container.SiteDataProvider.get("ecommerce");if(i.default.getState().site.isRowMoveMode||i.default.getState().site.isDesktopMode||o&&!o.store.live&&n||!o&&n)return;this.trigger("widget:overlayClick",t)},onDeleteConfirmClick:function e(){var t=this.el.querySelector(".js-delete-backstop");t.removeAttribute("hidden");this.el.classList.add("hover");parent.document.body.classList.add("row-delete-mode");o.default.getIframeDocument().body.classList.add("row-menu-open");document.addEventListener("touchstart",this.rowDeleteBackstopClick,true);this.showRowDeleteModal()},showRowDeleteModal:function e(){var t=Twig.render(Twig.templates.view_row_confirm_delete_dialog);this.$el.append(t);return this},hideRowDeleteModal:function e(){var t=this.el.querySelector(".row-overlay__delete-modal");var r=this.el.querySelector(".js-delete-backstop");r.setAttribute("hidden","hidden");this.el.classList.remove("hover");parent.document.body.classList.remove("row-delete-mode");o.default.getIframeDocument().body.classList.remove("row-menu-open");document.removeEventListener("touchstart",this.rowDeleteBackstopClick,true);t.remove()},closeRowDeleteModalClickHandler:function e(t){t.target.closest(".row-overlay__delete-modal")||this.hideRowDeleteModal()},onDeleteTouch:function e(t){t.stopPropagation();this.trigger("widget:delete");this.hideRowDeleteModal();this._updateFramePadding()},onMoveClick:function e(t){var r=t.currentTarget.getAttribute("data-position");var n=this.properties.uniqueId;Editor.Events.trigger("widget:move:".concat(n),{position:r,uniqueId:n});this._updateFramePadding()},onEditClick:function e(t){t.stopPropagation();this.el.querySelector(".js-edit").classList.add("is-active");this.el.classList.add("hover");this.state=this.rowWidgetControlState.get();this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this));this.trigger("rowWidget:editClick",t)},onLayoutClick:function e(t){t.stopPropagation();this.el.classList.add("hover");this.el.querySelector(".js-layout").classList.add("is-active");i.default.dispatch((0,s.showRowWidgetLayoutControlList)());this.state=this.rowWidgetControlState.get();this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this));this.trigger("rowWidget:editClick",t)},onBackstopClick:function e(t){t.stopPropagation();i.default.dispatch((0,s.hideRowWidgetControlList)())},onParentViewDelete:function e(){},_onWidgetDataChange:function e(){this.$el.empty();this.render()},_getTwigTemplateContext:function e(){return{hideTplWidget:this.hideTplWidget,properties:this.properties,immutable:this.immutable,isImageEditable:this.isImageEditable,isDeletable:this.isDeletable,isMovable:this.isMovable,canMoveUp:this.widgetData.get().firstWidget!==this.properties.uniqueId,canMoveDown:this.widgetData.get().lastWidget!==this.properties.uniqueId}},_onRowWidgetControlUIStateChange:function e(t){t.showRowWidgetControlList&&!this.state.showRowWidgetControlList&&this._showControlList();!t.showRowWidgetControlList&&this.state.showRowWidgetControlList&&this._hideControlList();this.state=t},_showControlList:function e(){this.el.classList.add("is-dropdown-open");this.el.querySelector(".js-backstop").removeAttribute("hidden")},_hideControlList:function e(){var t=this;this.rowWidgetControlState.unsubscribe();this.el.querySelector(".is-active").classList.remove("is-active");this.el.classList.remove("is-dropdown-open","hover");o.default.getIframeDocument().body.classList.remove("row-menu-open");setTimeout((function(){t.el.querySelector(".js-backstop").setAttribute("hidden","hidden")}),100)},_updateFramePadding:function e(){setTimeout((function(){Editor.Events.trigger("sitePadding:update")}),500)}});var f=d;t["default"]=f},11640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=p(r(23898));var i=r(11474);var a=p(r(44189));var o=p(r(79728));var s=p(r(36864));var l=p(r(96234));var u=p(r(34470));var c=p(r(81300));var d=p(r(86330));var f=p(r(70792));function p(e){return e&&e.__esModule?e:{default:e}}function g(e){return y(e)||m(e)||v(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}function m(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function y(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function S(e,t,r){t&&_(e.prototype,t);r&&_(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var E=function(){function e(t){w(this,e);this.templateRenderer=t.templateRenderer;this.featureFlagDataProvider=t.featureFlagDataProvider;this.storeDataAdapterFactory=t.storeDataAdapterFactory;this.userDataProvider=t.userDataProvider}S(e,[{key:"build",value:function e(t){var r=this._getOverlayClass(t);var n=this._getAdditionalOptions(t);var i=Object.assign(n,t);var a=this._createWidgetOverlays(r,i);t.hasMigratedTopLevelOverlay&&a.push(this._createTopLevelOverlay(i));return a}},{key:"_createWidgetOverlays",value:function e(t,r){var n=[];if(!r.hasWidgetOverlay)return n;r.multipleOverlays?n=this._createMultipleOverlays(t,r):n.push(new t(r));return n}},{key:"_createTopLevelOverlay",value:function e(t){return new n.default(Object.assign(t,{isMovable:true,isDeletable:true}))}},{key:"_createMultipleOverlays",value:function e(t,r){var n=[];var i=r.parentView;var a=g(i.el.querySelectorAll(".js-has-overlay"));a.forEach((function(e){var i=Object.assign({},r,{childElement:e});var a=new t(i);n.push(a)}));this._shouldCreateParentWidgetOverlay(r)&&n.push(new t(Object.assign(r,{isMovable:true,isDeletable:true})));return n}},{key:"_getOverlayClass",value:function e(t){var r=this._getOverlayType(t);if(this.featureFlagDataProvider.get("enableRows")){if("widgetInRow"===r)return P()?c.default:u.default;if(P())return"row"===r?l.default:f.default;return"row"===r?o.default:d.default}return P()?s.default:a.default}},{key:"_getOverlayType",value:function e(t){if(this.featureFlagDataProvider.get("enableRows")&&"widget.row"===t.properties.type)return"row";if(t.properties.isInRow)return"widgetInRow";return"widget"}},{key:"_getAdditionalOptions",value:function e(t){var r=this.featureFlagDataProvider.get("enableRows");var n="widget.row"===t.properties.type;var i=this.userDataProvider.has("enableDragAndDropWidgets");var a={templateRenderer:this.templateRenderer,isMovable:this._checkIsMovable(t,n,r,i),isDeletable:this._checkIsDeletable(t,n,r,i),showImageSelectionButton:this._shouldShowImageSelectionButton(t,r),showImageEditorButton:this._shouldShowImageEditorButton(t,r),sticky:t.sticky};if(r){a.widgetData=this.storeDataAdapterFactory.build({stateId:"widget"});n&&(a.rowWidgetControlState=this.storeDataAdapterFactory.build({stateId:"ui.rowWidgetControl"}))}else a.showSettingsIcon=true;return a}},{key:"_checkIsMovable",value:function e(t,r,n,i){if(n&&"main"!==t.properties.parentZone)return false;var a=n&&!r;if(a)return this._isMovableWidgetInRow(t,i);return!t.properties.fixed}},{key:"_isMovableWidgetInRow",value:function e(t,r){return r&&!this._isMovableExceptionInRow(t)&&!P()}},{key:"_checkIsDeletable",value:function e(t,r,n,i){if(t.properties.fixed)return false;if(t.immutable&&"0"!==t.immutable)return false;if(n&&"main"!==t.properties.parentZone)return false;if(n&&!r){if("widget.contentgroup"===t.properties.type)return false;return i&&!P()}return true}},{key:"_shouldShowImageSelectionButton",value:function e(t,r){if(r)return false;return["image","gallery","responsiveslideshow"].includes(t.properties.className)}},{key:"_shouldShowImageEditorButton",value:function e(t,r){if(r)return false;return"image"===t.properties.className}},{key:"_shouldCreateParentWidgetOverlay",value:function e(t){var r=this.featureFlagDataProvider.get("enableRows");var n=this.userDataProvider.has("enableDragAndDropWidgets");var i="main"===t.properties.parentZone;var a="widget.contentgroup"===t.properties.type;if(P())return false;if(!r||!n)return false;return i&&a}},{key:"_isMovableExceptionInRow",value:function e(t){if(this._isWidgetImmutable(t))return true;return this._isContentGroupWidget(t)}},{key:"_isWidgetImmutable",value:function e(t){return t.immutable&&"0"!==t.immutable}},{key:"_isContentGroupWidget",value:function e(t){return"widget.contentgroup"===t.properties.type}}]);return e}();function P(){return i.deviceFeaturesHelper.isSmallTouchDevice()}var k=E;t["default"]=k},23898:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(52245);var i=r(86192);var a=Backbone.View.extend({className:"top-level-overlay js-widget-overlay",events:{"click .js-delete":"onDeleteClick","click .js-move-up":"onMoveClick","click .js-move-down":"onMoveClick"},initialize:function e(t){this.properties=t.properties;this.isDeletable=t.isDeletable;this.isMovable=t.isMovable;this.parentView=t.parentView;this.templateRenderer=t.templateRenderer;this.sticky=t.sticky;this.widgetData=t.widgetData;this.widgetData.subscribe(this.onWidgetDataChange.bind(this))},render:function e(){var t=this.templateRenderer.render("view_topleveloverlay",this._getTwigTemplateContext());(0,i.append)(this.el,t);this.onRender();return this},onRender:function e(){this.attachParentViewObserver()},attachParentViewObserver:function e(){var t=new MutationObserver(this.onParentViewMutated.bind(this));t.observe(this.parentView.el,{childList:true})},onParentViewMutated:function e(t,r){Editor.Events.trigger("widgetOverlay:render",this.parentView);(0,n.isIE)()||this.sticky.add(this.el.querySelector(".js-overlay-sticky"));r.disconnect()},onParentViewDelete:function e(){(0,n.isIE)()||this.sticky.remove(this.el.querySelector(".js-overlay-sticky"));this.widgetData.unsubscribe()},onDeleteClick:function e(t){t.stopPropagation();this.trigger("widget:delete")},onMoveClick:function e(t){t.stopPropagation();var r=t.currentTarget.getAttribute("data-position");var n=this.properties.uniqueId;Editor.Events.trigger("widget:move:".concat(n),{position:r,uniqueId:n})},onWidgetDataChange:function e(){(0,i.emptyElement)(this.el);this.render()},_getTwigTemplateContext:function e(){return{isDeletable:this.isDeletable,isMovable:this.isMovable,canMoveUp:this.widgetData.get().firstWidget!==this.properties.uniqueId,canMoveDown:this.widgetData.get().lastWidget!==this.properties.uniqueId}}});var o=a;t["default"]=o},86330:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(52245);var i=Backbone.View.extend({className:"widget-overlay js-widget-overlay",events:{click:"onClick","click .js-delete":"onDeleteClick","click .js-visibility":"onVisibilityClick"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.overlayData=this.setOverlayData(t);this.parentView=t.parentView;this.childElement=t.childElement;this.sticky=t.sticky},setOverlayData:function e(t){return{hideTplWidget:this.hideTplWidget,properties:t.properties,immutable:t.immutable,isImageEditable:t.isImageEditable,isDeletable:t.isDeletable,isMovable:t.isMovable||false,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton,enableRows:true}},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.append(t);this.onRender();return this},onRender:function e(){var t=this;var r=new MutationObserver((function(e,r){t.onAttach(r)}));this.parentView&&this.parentView.el&&r.observe(this.parentView.el,{childList:true,subtree:true})},onAttach:function e(t){Editor.Events.trigger("widgetOverlay:render",this.parentView);(0,n.isIE)()||this.sticky.add(this.el.querySelector(".js-overlay-sticky"));t.disconnect()},onParentViewDelete:function e(){this.sticky.remove(this.el.querySelector(".js-overlay-sticky"))},onClick:function e(t){this.trigger("widget:overlayClick",t)},onDeleteClick:function e(t){t.stopPropagation();this.trigger("widget:delete")},onVisibilityClick:function e(t){t.stopPropagation();Editor.Events.trigger("visibility:click");var r=this._getNewVisibilityState(t.currentTarget);this.parentView.changeVisibility(r);this._setVisibilityDataAttribute(t.currentTarget,r)},_getNewVisibilityState:function e(t){var r=t.getAttribute("data-visibility");if("hidden"===r)return"visible";return"hidden"},_setVisibilityDataAttribute:function e(t,r){t.setAttribute("data-visibility",r)}});var a=i;t["default"]=a},70792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({className:"widget-overlay js-widget-overlay",events:{click:"onTouch","click .js-delete":"onDeleteTouch","click .js-visibility":"onVisibilityTouch"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.overlayData=this.setOverlayData(t);this.parentView=t.parentView;this.childElement=t.childElement;this.isActive=false;Editor.Events.on("widgetOverlay:touchOverlayClicked",this.onGlobalOverlayTouch.bind(this))},setOverlayData:function e(t){return{hideTplWidget:this.hideTplWidget,properties:t.properties,immutable:t.immutable,isImageEditable:t.isImageEditable,isDeletable:t.isDeletable,isMovable:t.isMovable||false,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton}},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.append(t);return this},onGlobalOverlayTouch:function e(){this.isActive&&this._deactivateOverlay()},onTouch:function e(t){this.trigger("widget:overlayClick",t)},onDeleteTouch:function e(t){t.stopPropagation();this.isActive&&this.trigger("widget:delete")},onParentViewDelete:function e(){},onVisibilityTouch:function e(t){t.stopPropagation();Editor.Events.trigger("visibility:click");if(this.isActive){var r=this._getNewVisibilityState(t.currentTarget);this.parentView.changeVisibility(r);this._setVisibilityDataAttribute(t.currentTarget,r)}},_getNewVisibilityState:function e(t){var r=t.getAttribute("data-visibility");if("hidden"===r)return"visible";return"hidden"},_setVisibilityDataAttribute:function e(t,r){t.setAttribute("data-visibility",r)}});var n=r;t["default"]=n},44189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(3104));function i(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.View.extend({className:"widget-overlay js-widget-overlay",events:{click:"onClick","click .js-settings":"onSettingsClick","click .js-image-picker":"onImagePickerClick","click .js-visibility":"onVisibilityClick","click .js-delete":"onDeleteClick","click .js-edit-image":"onEditImageClick",mouseover:"onMouseover",mouseout:"onMouseout"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.overlayData=this.setOverlayData(t);this.parentView=t.parentView;this.sticky=t.sticky},setOverlayData:function e(t){var r=t.hasOwnProperty("properties");var i=n.default.container.SiteDataProvider.get("ecommerce");var a=!(i&&!i.store.live&&r&&"widget.ecomproductslist"===t.properties.type||!i&&r&&"widget.ecomproductslist"===t.properties.type)&&t.showSettingsIcon;var o={hideTplWidget:this.hideTplWidget,properties:t.properties,immutable:t.immutable,isImageEditable:t.isImageEditable,isMovable:t.isMovable,isDeletable:t.isDeletable,showSettingsIcon:a,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton};return o},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.append(t);this.onRender();return this},onRender:function e(){var t=this;var r=new MutationObserver((function(e,r){t.onAttach(r)}));this.parentView&&this.parentView.el&&r.observe(this.parentView.el,{childList:true})},onAttach:function e(t){Editor.Events.trigger("widgetOverlay:render",this.parentView);try{this.sticky.add(this.el.querySelector(".js-overlay-sticky"));t.disconnect()}catch(e){}},onParentViewDelete:function e(){this.sticky.remove(this.el.querySelector(".js-overlay-sticky"))},onClick:function e(t){var r=n.default.container.SiteDataProvider.get("ecommerce");var i="widget.ecomproductslist"===this.overlayData.properties.type;if(r&&!r.store.live&&i||!r&&i)return;this.trigger("widget:overlayClick",t)},onEditImageClick:function e(t){t.stopPropagation();this.trigger("widget:editImage")},onSettingsClick:function e(t){t.stopPropagation();this.trigger("widget:settings")},onImagePickerClick:function e(t){t.stopPropagation();this.trigger("widget:imagePicker")},onDeleteClick:function e(t){t.stopPropagation();this.trigger("widget:delete")},onVisibilityClick:function e(t){t.stopPropagation();Editor.Events.trigger("visibility:click");var r=this._getNewVisibilityState(t.currentTarget);this.parentView.changeVisibility(r);this._setVisibilityDataAttribute(t.currentTarget,r)},_getNewVisibilityState:function e(t){var r=t.getAttribute("data-visibility");if("hidden"===r)return"visible";return"hidden"},_setVisibilityDataAttribute:function e(t,r){t.setAttribute("data-visibility",r)},onMouseover:function e(t){t.stopPropagation();var r=n.default.container.SiteDataProvider.get("ecommerce");var i="widget.ecomproductslist"===this.overlayData.properties.type;(r&&!r.store.live&&i||!r&&i)&&this.el.classList.add("no-pointer")},onMouseout:function e(t){t.stopPropagation();var r=n.default.container.SiteDataProvider.get("ecommerce");var i="widget.ecomproductslist"===this.overlayData.properties.type;(r&&!r.store.live&&i||!r&&i)&&this.el.classList.remove("no-pointer")}});var o=a;t["default"]=o},34470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(52245);var i=a(r(3104));function a(e){return e&&e.__esModule?e:{default:e}}var o=Backbone.View.extend({className:"widget-overlay widget-in-row-overlay js-widget-overlay js-widget-in-row-overlay",events:{click:"onClick","click .js-delete":"onDeleteClick",mouseover:"onMouseover",mouseout:"onMouseout"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.overlayData=this.setOverlayData(t);this.parentView=t.parentView;this.childElement=t.childElement;this.sticky=t.sticky},setOverlayData:function e(t){return{hideTplWidget:this.hideTplWidget,properties:t.properties,immutable:t.immutable,isImageEditable:t.isImageEditable,isDeletable:t.isDeletable,isMovable:t.isMovable||false,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton,enableRows:true}},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.append(t);this.onRender();return this},onRender:function e(){var t=this;var r=new MutationObserver((function(e,r){t.onAttach(r)}));this.parentView&&this.parentView.el&&r.observe(this.parentView.el,{childList:true,subtree:true})},onAttach:function e(t){Editor.Events.trigger("widgetOverlay:render",this.parentView);(0,n.isIE)()||this.sticky.add(this.el.querySelector(".js-overlay-sticky"));t.disconnect()},onParentViewDelete:function e(){this.sticky.remove(this.el.querySelector(".js-overlay-sticky"))},onClick:function e(t){var r=i.default.container.SiteDataProvider.get("ecommerce");var n="widget.ecomproductslist"===this.overlayData.properties.type;if(r&&!r.store.live&&n||!r&&n)return;this.trigger("widget:overlayClick",t)},onDeleteClick:function e(t){t.stopPropagation();this.trigger("widget:delete")},onMouseover:function e(t){t.stopPropagation();this.el.closest(".js-widget").classList.add("hover-active-widget");var r=i.default.container.SiteDataProvider.get("ecommerce");var n="widget.ecomproductslist"===this.overlayData.properties.type;(r&&!r.store.live&&n||!r&&n)&&this.el.classList.add("no-pointer")},onMouseout:function e(t){t.stopPropagation();this.el.closest(".js-widget").classList.remove("hover-active-widget");var r=i.default.container.SiteDataProvider.get("ecommerce");var n="widget.ecomproductslist"===this.overlayData.properties.type;(r&&!r.store.live&&n||!r&&n)&&this.el.classList.remove("no-pointer")}});var s=o;t["default"]=s},81300:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(3104));function i(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.View.extend({className:"widget-overlay js-widget-overlay js-widget-in-row-overlay",events:{click:"onTouch","click .js-delete":"onDeleteTouch"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.overlayData=this.setOverlayData(t);this.parentView=t.parentView;this.childElement=t.childElement;this.isActive=false;Editor.Events.on("widgetOverlay:touchOverlayClicked",this.onGlobalOverlayTouch.bind(this))},setOverlayData:function e(t){return{hideTplWidget:this.hideTplWidget,properties:t.properties,immutable:t.immutable,isImageEditable:t.isImageEditable,isDeletable:t.isDeletable,isMovable:t.isMovable||false,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton}},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.append(t);return this},onGlobalOverlayTouch:function e(){this.isActive&&this._deactivateOverlay()},onTouch:function e(t){var r=n.default.container.SiteDataProvider.get("ecommerce");var i="widget.ecomproductslist"===this.overlayData.properties.type;if(r&&!r.store.live&&i||!r&&i)return;this.trigger("widget:overlayClick",t)},onDeleteTouch:function e(t){t.stopPropagation();this.isActive&&this.trigger("widget:delete")},onParentViewDelete:function e(){}});var o=a;t["default"]=o},36864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(3104));function i(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.View.extend({className:"widget-overlay js-widget-overlay",events:{click:"onTouch","click .js-settings":"onSettingsTouch","click .js-image-picker":"onImagePickerTouch","click .js-visibility":"onVisibilityTouch","click .js-delete":"onDeleteTouch"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.overlayData=this.setOverlayData(t);this.parentView=t.parentView;this.isActive=false;Editor.Events.on("widgetOverlay:touchOverlayClicked",this.onGlobalOverlayTouch.bind(this))},setOverlayData:function e(t){var r=t.hasOwnProperty("properties");var i=n.default.container.SiteDataProvider.get("ecommerce");var a=!(i&&!i.store.live&&r&&"widget.ecomproductslist"===t.properties.type||!i&&r&&"widget.ecomproductslist"===t.properties.type)&&t.showSettingsIcon;return{hideTplWidget:this.hideTplWidget,properties:t.properties,immutable:t.immutable,isMovable:t.isMovable,isDeletable:t.isDeletable,showSettingsIcon:a,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton}},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.append(t);return this},onGlobalOverlayTouch:function e(){this.isActive&&this._deactivateOverlay()},onTouch:function e(){if(this.isActive)this._deactivateOverlay();else{Editor.Events.trigger("widgetOverlay:touchOverlayClicked",this.parentView);this._activateOverlay()}},onSettingsTouch:function e(t){t.stopPropagation();this.isActive&&this.trigger("widget:settings")},onImagePickerTouch:function e(t){t.stopPropagation();this.isActive&&this.trigger("widget:imagePicker")},onDeleteTouch:function e(t){t.stopPropagation();this.isActive&&this.trigger("widget:delete")},onVisibilityTouch:function e(t){t.stopPropagation();Editor.Events.trigger("visibility:click");if(this.isActive){var r=this._getNewVisibilityState(t.currentTarget);this.parentView.changeVisibility(r);this._setVisibilityDataAttribute(t.currentTarget,r)}},onParentViewDelete:function e(){},_deactivateOverlay:function e(){this.isActive=false;this.el.classList.remove("hover")},_activateOverlay:function e(){this.isActive=true;this.el.classList.add("hover")},_getNewVisibilityState:function e(t){var r=t.getAttribute("data-visibility");if("hidden"===r)return"visible";return"hidden"},_setVisibilityDataAttribute:function e(t,r){t.setAttribute("data-visibility",r)}});var o=a;t["default"]=o},21561:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=d(r(79440));var a=r(55269);var o=u(r(248));var s=r(65074);var l=u(r(70293));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(c=function e(n){return n?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function g(e,t,r){t&&p(e.prototype,t);r&&p(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&v(e,t)}function v(e,t){v=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return v(e,t)}function m(e){var t=w();return function r(){var n=_(e),i;if(t){var a=_(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return y(this,i)}}function y(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return _(e)}function S(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var E=function(e){h(r,e);var t=m(r);function r(){var e;f(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];e=t.call.apply(t,[this].concat(i));S(b(e),"destroy",(function(){e.container&&(0,a.unmountComponentAtNode)(e.container)}));return e}g(r,[{key:"build",value:function e(t){this.container=t;(0,a.render)(i.default.createElement(s.Provider,{store:o.default},i.default.createElement(i.Fragment,null,i.default.createElement(l.default,this.props))),this.container)}}]);return r}(i.Component);var P=E;t["default"]=P},42930:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=m(r(79440));var a=h(r(76660));var o=r(65074);var s=r(36957);var l=h(r(248));var u=h(r(7771));var c=h(r(31500));var d=h(r(14910));var f=h(r(24445));var p=h(r(28304));var g=h(r(21635));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(v=function e(n){return n?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function w(e,t,r){t&&b(e.prototype,t);r&&b(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&S(e,t)}function S(e,t){S=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return S(e,t)}function E(e){var t=C();return function r(){var n=O(e),i;if(t){var a=O(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return P(this,i)}}function P(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return O(e)}function T(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var A=function(e){_(r,e);var t=E(r);function r(){var e;y(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i));T(k(e),"onStyleSelected",(function(t){var r=t.currentTarget.dataset.style;var n=t.currentTarget.dataset.name;if("image"!==r){e.props.changeRowWidgetStyle({selectedStyleSet:n,selectedStyleType:r});e.props.hideImageBackgroundControlList()}else e.props.showImageBackgroundControlList()}));T(k(e),"onImageControlClicked",(function(t){if(t.currentTarget.classList.contains("is-inactive"))return;e.props.openControlPanel(t.currentTarget.dataset.name);e.hideList()}));T(k(e),"onLayoutControlClicked",(function(){e.props.openControlPanel("change-layout");e.hideList()}));T(k(e),"onShapeDividerControlClicked",(function(){e.props.openControlPanel("change-shape-divider");e.hideList()}));T(k(e),"onScrollEffectsControlClicked",(function(){e.props.openControlPanel("scroll-effects");e.hideList()}));T(k(e),"onAnimationControlClicked",(function(){e.props.openControlPanel("animation");e.hideList()}));T(k(e),"onSectionHeightControlClicked",(function(){e.props.openControlPanel("section-height");e.hideList()}));T(k(e),"onSectionWidthControlClicked",(function(){e.props.openControlPanel("section-width");e.hideList()}));T(k(e),"onSectionGradientControlClicked",(function(){e.props.openControlPanel("section-gradient");e.hideList()}));T(k(e),"hideList",(function(){e.props.hideRowWidgetControlList()}));T(k(e),"componentDidUpdate",(function(t,r){e.props.repositionControlList()}));return e}w(r,[{key:"render",value:function e(){var t=(0,u.default)("editor.animation_picker.animation","Animation");var r=(0,u.default)("editor.section_height_picker.section_height","Height");var n=(0,u.default)("editor.section_height_picker.section_width","Width");var a=(0,u.default)("editor.section_gradient_picker.section_gradient","Gradient");var o="main"!==l.default.getState().ui.rowWidgetControl.rowType;var s=l.default.getState().user.capabilities.enableStandaloneMode&&o;var h=false!==l.default.getState().ui.rowWidgetControl.showRowWidgetLayoutControlList;return i.default.createElement("div",{className:"row-overlay__control-list"},i.default.createElement("div",{className:"row-overlay__control-list-content"},!h&&i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{styleSets:this.props.rowSettings.styleSets,selectedStyleType:this.props.rowSettings.selectedStyleType,selectedStyleSet:this.props.rowSettings.selectedStyleSet,styleSelected:this.onStyleSelected}),("image"===this.props.rowSettings.selectedStyleType||this.props.showImageBackgroundControl)&&i.default.createElement(d.default,{selectedStyleType:this.props.rowSettings.selectedStyleType,scrollEffectsControlClicked:this.onScrollEffectsControlClicked,imageControlClicked:this.onImageControlClicked}),"image"!==this.props.rowSettings.selectedStyleType&&i.default.createElement(g.default,{controlClicked:this.onSectionGradientControlClicked,controlName:"section-gradient",controlLabel:a}),this.props.showShapeDividerControlList&&i.default.createElement(p.default,{shapeDividerControlClicked:this.onShapeDividerControlClicked}),i.default.createElement(g.default,{controlClicked:this.onAnimationControlClicked,controlName:"animation",controlLabel:t})),h&&i.default.createElement(i.default.Fragment,null,this.props.showLayoutControlList&&!s&&i.default.createElement(f.default,{layoutControlClicked:this.onLayoutControlClicked}),i.default.createElement(g.default,{controlClicked:this.onSectionHeightControlClicked,controlName:"section-height",controlLabel:r}),i.default.createElement(g.default,{controlClicked:this.onSectionWidthControlClicked,controlName:"section-width",controlLabel:n}))))}}]);return r}(i.Component);A.propTypes={rowSettings:a.default.shape({styleSets:a.default.shape({accent:a.default.shape({background:a.default.string.isRequired,foreground:a.default.string.isRequired}),dark:a.default.shape({background:a.default.string.isRequired,foreground:a.default.string.isRequired}),light:a.default.shape({background:a.default.string.isRequired,foreground:a.default.string.isRequired}),spare:a.default.shape({background:a.default.string.isRequired,foreground:a.default.string.isRequired})}),selectedStyleType:a.default.string.isRequired,selectedStyleSet:a.default.string.isRequired,backgroundImageSrc:a.default.string}),showImageBackgroundControl:a.default.bool.isRequired,showLayoutControlList:a.default.bool.isRequired,showShapeDividerControlList:a.default.bool.isRequired,hideRowWidgetControlList:a.default.func.isRequired,changeRowWidgetStyle:a.default.func.isRequired,showImageBackgroundControlList:a.default.func.isRequired,hideImageBackgroundControlList:a.default.func.isRequired,openControlPanel:a.default.func.isRequired,repositionControlList:a.default.func.isRequired};var j=function e(t){var r=t.ui;return{rowSettings:r.rowWidgetControl.settings,showImageBackgroundControl:r.rowWidgetControl.showImageBackgroundControlList,showLayoutControlList:r.rowWidgetControl.showLayoutControlList,showShapeDividerControlList:r.rowWidgetControl.showShapeDividerControlList}};var D=function e(t){return{hideRowWidgetControlList:function e(){return t((0,s.hideRowWidgetControlList)())},changeRowWidgetStyle:function e(r){return t((0,s.changeRowWidgetStyle)(r))},showImageBackgroundControlList:function e(){return t((0,s.showImageBackgroundControlList)())},hideImageBackgroundControlList:function e(){return t((0,s.hideImageBackgroundControlList)())},openControlPanel:function e(r){return t((0,s.openControlPanel)(r))}}};var L=(0,o.connect)(j,D)(A);t["default"]=L},70293:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=f(r(79440));var a=c(r(76660));var o=r(65074);var s=r(36957);var l=c(r(42930));var u=c(r(95627));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(d=function e(n){return n?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function h(e,t,r){t&&g(e.prototype,t);r&&g(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return m(e,t)}function y(e){var t=_();return function r(){var n=S(e),i;if(t){var a=S(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return b(this,i)}}function b(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}function E(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var P=function(e){v(r,e);var t=y(r);function r(){var e;p(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i));E(w(e),"repositionControlList",(function(){e.props.setRowWidgetControlRendered(true)}));E(w(e),"componentDidMount",(function(){e.repositionControlList()}));E(w(e),"componentDidUpdate",(function(t,r){e.repositionControlList()}));E(w(e),"showRowWidgetInformation",(function(){return e.props.showRowWidgetControlList&&["header","footer"].includes(e.props.rowType)}));return e}h(r,[{key:"render",value:function e(){return i.default.createElement(i.Fragment,null,this.props.showRowWidgetControlList&&i.default.createElement(l.default,{repositionControlList:this.repositionControlList}),this.showRowWidgetInformation()&&i.default.createElement(u.default,null))}}]);return r}(i.Component);P.propTypes={showRowWidgetControlList:a.default.bool.isRequired,rowType:a.default.string.isRequired,setRowWidgetControlRendered:a.default.func.isRequired};var k=function e(t){var r=t.ui;return{showRowWidgetControlList:r.rowWidgetControl.showRowWidgetControlList,rowType:r.rowWidgetControl.rowType}};var C=function e(t){return{setRowWidgetControlRendered:function e(r){return t((0,s.setRowWidgetControlRendered)(r))}}};var O=(0,o.connect)(k,C)(P);t["default"]=O},95627:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=d(r(79440));var a=u(r(76660));var o=r(65074);var s=r(36957);var l=u(r(7771));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(c=function e(n){return n?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function g(e,t,r){t&&p(e.prototype,t);r&&p(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&v(e,t)}function v(e,t){v=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return v(e,t)}function m(e){var t=w();return function r(){var n=_(e),i;if(t){var a=_(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return y(this,i)}}function y(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return _(e)}function S(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var E=function(e){h(r,e);var t=m(r);function r(){var e;f(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i));S(b(e),"onClicked",(function(){e.props.openControlPanel("more-information");e.props.hideRowWidgetControlList()}));return e}g(r,[{key:"render",value:function e(){var t=(0,l.default)("editor.zone_sharing.info_heading_".concat(this.props.rowType),"Page ".concat(this.props.rowType));var r="shared"===this.props.zoneSharingScope?(0,l.default)("editor.zone_sharing.shared_info_text","Changes applied to all pages"):(0,l.default)("editor.zone_sharing.custom_info_text","Changes applied to just this page");return i.default.createElement("div",{className:"row-overlay__information"},i.default.createElement("div",{className:"row-overlay__information-content"},i.default.createElement("ul",{className:"row-overlay__information-list"},i.default.createElement("li",{className:"row-overlay__information-item row-overlay__control-icon row-overlay__control-icon--information",onClick:this.onClicked},i.default.createElement("div",{className:"row-overlay__information-label"},i.default.createElement("span",{className:"row-overlay__control-item--heading"},t),i.default.createElement("span",{className:"row-overlay__control-item--text"},r)),i.default.createElement("span",{className:"row-overlay__information-icon row-overlay__information-icon--edit"})))))}}]);return r}(i.Component);E.propTypes={rowType:a.default.string.isRequired,zoneSharingScope:a.default.string.isRequired,openControlPanel:a.default.func.isRequired,hideRowWidgetControlList:a.default.func.isRequired};var P=function e(t){var r=t.ui;return{rowType:r.rowWidgetControl.rowType,zoneSharingScope:r.rowWidgetControl.zoneSharingScope}};var k=function e(t){return{openControlPanel:function e(r){return t((0,s.openControlPanel)(r))},hideRowWidgetControlList:function e(){return t((0,s.hideRowWidgetControlList)())}}};var C=(0,o.connect)(P,k)(E);t["default"]=C},44424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(79440));var i=a(r(76660));function a(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var r=t.colorType,i=t.colorSet,a=t.selectedStyleType,o=t.selectedStyleSet,s=t.styleSelected;var l="row-overlay__control-item js-".concat(r,"-preview");"color"===a&&r===o&&(l="".concat(l," is-current-style"));return n.default.createElement("li",{className:l,"data-name":r,"data-style":"color",onClick:s},n.default.createElement("span",{className:"row-overlay__style-label",style:{backgroundColor:i.background,color:i.background}}))};o.propTypes={colorType:i.default.string.isRequired,colorSet:i.default.shape({background:i.default.string.isRequired,foreground:i.default.string.isRequired}),selectedStyleType:i.default.string.isRequired,selectedStyleSet:i.default.string.isRequired,styleSelected:i.default.func.isRequired};var s=o;t["default"]=s},14910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(79440));var i=o(r(76660));var a=o(r(7771));function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var r=t.selectedStyleType,i=t.imageControlClicked,o=t.scrollEffectsControlClicked;var s=(0,a.default)("editor.style_picker.replace_image","Replace image");var l=(0,a.default)("editor.style_picker.overlay","Overlay");var u=(0,a.default)("editor.style_picker.focal_point","Image focal point");var c="row-overlay__control-item row-overlay__control-icon";var d="image"!==r?"is-inactive":"";var f=(0,a.default)("editor.style_picker.scroll_effects","Scroll effects");return n.default.createElement("ul",{className:"row-overlay__style-list--advanced"},n.default.createElement("li",{className:"".concat(c,"\n            row-overlay__control-icon--image-replace js-replace-image-option"),"data-name":"replace-image",onClick:i},n.default.createElement("span",null,s)),n.default.createElement("li",{className:"".concat(c," ").concat(d,"\n            row-overlay__control-icon--overlay js-overlay-option"),"data-name":"overlay",onClick:i},n.default.createElement("span",null,l)),n.default.createElement("li",{className:"".concat(c," ").concat(d,"\n            row-overlay__control-icon--image-focus js-focal-point-option"),"data-name":"focal-point",onClick:i},n.default.createElement("span",null,u)),n.default.createElement("li",{className:"".concat(c," ").concat(d,"\n            row-overlay__control-icon--scroll-effects js-scroll-effects-option"),"data-name":"scroll-effects",onClick:o},n.default.createElement("span",null,f)))};s.propTypes={selectedStyleType:i.default.string.isRequired,imageControlClicked:i.default.func.isRequired,scrollEffectsControlClicked:i.default.func.isRequired};var l=s;t["default"]=l},31500:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(79440));var i=o(r(76660));var a=o(r(44424));function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var r=t.styleSets,i=t.selectedStyleType,o=t.selectedStyleSet,s=t.styleSelected;var l=["light","accent","dark","spare"];var u="row-overlay__control-item js-image-style-preview";"image"===i&&(u="".concat(u," is-current-style"));var c={};l.forEach((function(e){r[e]&&(c[e]=r[e])}));return n.default.createElement("ul",{className:"row-overlay__style-list"},Object.keys(c).map((function(e){return n.default.createElement(a.default,{key:e,colorType:e,colorSet:r[e],selectedStyleType:i,selectedStyleSet:o,styleSelected:s})})),n.default.createElement("li",{className:u,"data-name":"image","data-style":"image",onClick:s},n.default.createElement("span",{className:"row-overlay__style-label row-overlay__control-icon row-overlay__control-icon--image-control"})))};s.propTypes={styleSets:i.default.shape({spare:i.default.shape({background:i.default.string.isRequired,foreground:i.default.string.isRequired}),accent:i.default.shape({background:i.default.string.isRequired,foreground:i.default.string.isRequired}),dark:i.default.shape({background:i.default.string.isRequired,foreground:i.default.string.isRequired}),light:i.default.shape({background:i.default.string.isRequired,foreground:i.default.string.isRequired})}),selectedStyleType:i.default.string.isRequired,selectedStyleSet:i.default.string.isRequired,styleSelected:i.default.func.isRequired};var l=s;t["default"]=l},24445:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(79440));var i=o(r(76660));var a=o(r(7771));function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var r=t.layoutControlClicked;var i=(0,a.default)("editor.layout_picker.change_layout","Change layout");return n.default.createElement("ul",{className:"row-overlay__layout-list"},n.default.createElement("li",{className:"row-overlay__control-item row-overlay__control-icon row-overlay__control-icon--layout-control js-layout-control","data-name":"replace-image",onClick:r},n.default.createElement("span",null,i)))};s.propTypes={layoutControlClicked:i.default.func.isRequired};var l=s;t["default"]=l},28304:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(79440));var i=o(r(76660));var a=o(r(7771));function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var r=t.shapeDividerControlClicked;var i=(0,a.default)("editor.shape_divider_picker.shape_dividers","Shape dividers");return n.default.createElement("ul",{className:"row-overlay__shape-divider-list"},n.default.createElement("li",{className:"row-overlay__control-item row-overlay__control-icon row-overlay__control-icon--shape-divider-control js-shape-divider-control","data-name":"shape-divider",onClick:r},n.default.createElement("span",null,i)))};s.propTypes={shapeDividerControlClicked:i.default.func.isRequired};var l=s;t["default"]=l},21635:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(79440));var i=a(r(76660));function a(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var r=t.controlClicked,i=t.controlLabel,a=t.controlName;return n.default.createElement("ul",{className:"row-overlay__".concat(a,"-list")},n.default.createElement("li",{className:"row-overlay__control-item row-overlay__control-icon\n        row-overlay__control-icon--".concat(a,"-control js-").concat(a,"-control"),"data-name":a,onClick:r},n.default.createElement("span",null,i)))};o.propTypes={controlClicked:i.default.func.isRequired,controlLabel:i.default.string.isRequired,controlName:i.default.string.isRequired};var s=o;t["default"]=s},99226:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=new WeakMap;var o=function(){function e(t){r(this,e);this.CollectionClass=t.stdCollectionClass;this.globalEventsHandler=t.globalEventsHandler;this.initialize()}i(e,[{key:"initialize",value:function e(){this.collections={};this._setRegisters();this._setupCollections();this._bindEvents()}},{key:"register",value:function e(t){var r=a.get(this);var n=s(t);r[n]=t;this._addToCollection(t)}},{key:"unregister",value:function e(t){var r=this;var n=this.getByParentId(t);n.length&&n.forEach((function(e){r.unregister(e.uniqueId)}));this.get(t)&&this._removeFromRegister(t)}},{key:"clearRegister",value:function e(){this._setRegisters();this._setupCollections()}},{key:"get",value:function e(t){var r=a.get(this);return r[t]}},{key:"getByParentId",value:function e(t){var r=a.get(this);var n=[];this.getKeys().forEach((function(e){var i=r[e];i.parentUniqueId===t&&n.push(i)}));return n}},{key:"getByAttribute",value:function e(t,r){var n=this;var i=this.getKeys();var a=i.find((function(e){var i=n.get(e);return i.get(t)===r}));return this.get(a)}},{key:"getMainZoneWidget",value:function e(){return this.getByAttribute("uniqueHTMLId","page-zones__main")}},{key:"isWidgetInZone",value:function e(t,r){var n=this.getZone(t);if(n)return n.get("uniqueId")===r;return false}},{key:"getZone",value:function e(t){return this.getByAttribute("uniqueHTMLId","page-zones__".concat(t))}},{key:"getByUniqueHTMLId",value:function e(t){return this.getByAttribute("uniqueHTMLId",t)}},{key:"getParentByUniqueId",value:function e(t){var r=this.get(t);return this.get(r.parentUniqueId)}},{key:"getKeys",value:function e(){return Object.keys(a.get(this))}},{key:"getAll",value:function e(){var t=a.get(this);return t}},{key:"getTemplateWidgetCollection",value:function e(){return this.getCollection("template-widgets")}},{key:"getZoneWidgetCollection",value:function e(){return this.getCollection("main-widgets")}},{key:"getCollection",value:function e(t){var r=a.get(this.collections);return r[t]}},{key:"_bindEvents",value:function e(){this.globalEventsHandler.on("page:change",this.clearRegister.bind(this))}},{key:"_removeFromRegister",value:function e(t){var r=a.get(this);var n=r[t];delete r[t];this._removeFromCollection(n);n.destroy()}},{key:"_setRegisters",value:function e(){a.set(this,{});a.set(this.collections,{})}},{key:"_setupCollections",value:function e(){var t=a.get(this.collections);t["main-widgets"]=new this.CollectionClass;t["template-widgets"]=new this.CollectionClass}},{key:"_addToCollection",value:function e(t){t.isTemplateWidget?this._addToTemplateCollection(t.model):this._addToMainZoneCollection(t.model)}},{key:"_removeFromCollection",value:function e(t){t.isTemplateWidget?this._removeFromTemplateCollection(t.model):this._removeFromMainZoneCollection(t.model)}},{key:"_removeFromMainZoneCollection",value:function e(t){var r=a.get(this.collections);r["main-widgets"].remove(t)}},{key:"_removeFromTemplateCollection",value:function e(t){var r=a.get(this.collections);r["template-widgets"].remove(t)}},{key:"_addToMainZoneCollection",value:function e(t){var r=a.get(this.collections);r["main-widgets"].add(t)}},{key:"_addToTemplateCollection",value:function e(t){var r=a.get(this.collections);r["template-widgets"].add(t)}}]);return e}();function s(e){var t=e.get("fixed")?e.get("uniqueHTMLId"):e.uniqueId;return t}var l=o;t["default"]=l},97396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.twig=t.twig}i(e,[{key:"render",value:function e(t){var r=this.twig.render(Twig.templates.widget_responsivecolumnscolumn,{widget:t});return r}}]);return e}();var o=a;t["default"]=o},71929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){r(this,e)}i(e,[{key:"create",value:function e(t){var r=document.createRange();r.selectNode(document.body);var n=r.createContextualFragment(t);return n}}]);return e}();var o=a;t["default"]=o},22993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(71929));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(t){a(this,e);this.widgetRendererFactory=t.widgetRendererFactory;this.tree=document.createElement("div")}s(e,[{key:"createTreeFromWidgetData",value:function e(t){var r=this;this.tree=document.createElement("div");var i=new n.default;t.forEach((function(e){if(r._canRender(e)){var t=r.widgetRendererFactory.build(e.type);var n=t.render(e);var a=i.create(n.trim());r._insertNodeIntoTree(a,e.parentUniqueId)}}));return this.tree}},{key:"_insertNodeIntoTree",value:function e(t,r){var n=this._getNodeFromTree(r);n=this._setParentElement(n);var i=n||this.tree;i.appendChild(t)}},{key:"_setParentElement",value:function e(t){if(t&&"row"===t.getAttribute("data-name"))return t.querySelector(".js-row-container");if(t&&"responsivecolumns"===t.getAttribute("data-name"))return t.querySelector(".js-responsivecolumns");return t}},{key:"_getNodeFromTree",value:function e(t){return this.tree.querySelector('[data-uniqueid="'.concat(t,'"]'))}},{key:"_canRender",value:function e(t){if("widget.template"===t.type&&"main"===t.name)return false;return false===t.fixed}}]);return e}();var u=l;t["default"]=u},69883:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(){r(this,e)}i(e,[{key:"insert",value:function e(t){var r=this.getInsertionRoot(t.parent);var n=r.children;var i=n.item(t.position)||null;r.insertBefore(t.node.firstChild,i)}},{key:"getInsertionRoot",value:function e(t){var r=Editor.Site.Dom.window.document.querySelector('[data-uniqueid="'.concat(t,'"]'));if("row"===r.getAttribute("data-name"))return r.querySelector(".js-row-container");return r}}]);return e}();var o=a;t["default"]=o},56211:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.store=t.store;this.siteDataProvider=t.siteDataProvider;this.pagesProvider=t.pagesProvider;this.envDataProvider=t.envDataProvider;this.sessionProvider=t.sessionProvider;this.twig=t.twig;this.imageAssets=t.assets;this.profile=t.profile;this.formatImageAssetData=t.formatImageAssetData;this.ColumnWidgetRenderer=t.ColumnWidgetRenderer;this.ZoneRenderer=t.ZoneRenderer;this.ZoneWidgetRenderer=t.ZoneWidgetRenderer}i(e,[{key:"build",value:function e(t){if("widget.template"===t)return new this.ZoneRenderer({twig:this.twig});if("widget.columns.column"===t)return new this.ColumnWidgetRenderer({twig:this.twig});return new this.ZoneWidgetRenderer({store:this.store,siteDataProvider:this.siteDataProvider,pagesProvider:this.pagesProvider,sessionProvider:this.sessionProvider,envDataProvider:this.envDataProvider,twig:this.twig,assets:this.imageAssets,profile:this.profile,formatImageAssetData:this.formatImageAssetData})}}]);return e}();var o=a;t["default"]=o},87957:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return o(e)||a(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function c(e,t,r){t&&u(e.prototype,t);r&&u(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var d=function(){function e(){l(this,e)}c(e,[{key:"replace",value:function e(t){var n=Editor.Site.Dom.window.document.querySelector('[data-uniqueid="'.concat(t.replaces,'"]'));var i=r(t.node.childNodes);Array.prototype.forEach.call(i,(function(e){n.insertAdjacentElement("beforebegin",e)}));n.parentNode.removeChild(n)}}]);return e}();var f=d;t["default"]=f},6209:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.twig=t.twig}i(e,[{key:"render",value:function e(t){var r=this.twig.render(Twig.templates.widget_zone,{zone:t});return r}}]);return e}();var o=a;t["default"]=o},37723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.store=t.store;this.siteDataProvider=t.siteDataProvider;this.pagesProvider=t.pagesProvider;this.envDataProvider=t.envDataProvider;this.sessionProvider=t.sessionProvider;this.twig=t.twig;this.assets=t.assets;this.profile=t.profile;this.formatImageAssetData=t.formatImageAssetData}i(e,[{key:"render",value:function e(t){var r=false;var n=this.siteDataProvider.get("globalValues").find((function(e){return"enablePolicyPages"===e.name}));"undefined"!==typeof n&&(r=n.value);var i=this.siteDataProvider.get("policyPageData");var a=this.twig.render(this.twig.templates.widget_wrapper,{app:this.siteDataProvider.get("app"),googleMapsEmbedKey:this.envDataProvider.get("googleMapsEmbedKey"),widget:t,profile:this.profile.toJSON(),debugMode:true===this.sessionProvider().get("debugMode"),page:this.pagesProvider(this.sessionProvider().get("pageRef")).toJSON(),plugins:{assets:{images:this.formatImageAssetData(this.assets.toJSON())},blog:this.siteDataProvider.get("blog"),ecommerce:this.siteDataProvider.get("ecommerce")},connect:{bookings:this.siteDataProvider.get("connectBookings")},siteLanguages:this.siteDataProvider.getSiteLanguages(),siteDefaultLanguage:this.siteDataProvider.getSiteDefaultLanguage(),enablePolicyPages:r,policyPageData:i,isRTLLanguage:this.store.getState().page.isRTLLanguage});return a}}]);return e}();var o=a;t["default"]=o},52806:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(41967));function i(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.CollectionView.extend({childView:n.default,initialize:function e(t){this.widgetView=t.widgetView},childViewOptions:function e(t){return{title:t.get("groupTitle"),collection:t.get("collection"),widgetView:this.widgetView}}});var o=a;t["default"]=o},41967:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(72207));function i(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.CompositeView.extend({template:"view_settings_group",tagName:"fieldset",className:"popup-panel-form__fieldset",childViewContainer:".js-container",childEvents:{"setting:change":"onSettingsChange"},initialize:function e(t){this.title=t.title;this.widgetView=t.widgetView;this.widgetView.listenForSettingsChanges(this)},onSettingsChange:function e(t,r,n){this.trigger(r,n);this.autoSave&&this.widgetView.model.save({widgetName:this.widgetView.properties.name,widgetUniqueId:this.widgetView.properties.uniqueId,fixed:this.widgetView.properties.fixed})},childViewOptions:function e(){return{isRowsEnabled:true}},getChildView:function e(t){return(0,n.default)(t.get("type"))}});var o=a;t["default"]=o},13173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(40335));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function s(e,t,r){t&&o(e.prototype,t);r&&o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var l=function(){function e(t){a(this,e);this.siteDataProvider=t.siteDataProvider}s(e,[{key:"getStyleSettings",value:function e(t){this.widgetType=t.widgetType;this.widgetEl=t.widgetEl;this.fixed=t.fixed;this.model=t.model;this.stylesCollection=this.getStylesCollection();this.templateStylePreprocessorVariableWidgets=this.siteDataProvider.get("templateStylePreprocessorVariableWidgets");var r=this._getAssociatedWidgets(this.widgetEl);return this._combineWidgetsAndStyles(r)}},{key:"hasStyleCollection",value:function e(){return null!==this.getStylesCollection()}},{key:"getStylesCollection",value:function e(){var t=this.siteDataProvider.get("templateData");return t.templateStylePreprocessorVariablesEnabled&&1===t.templateStylePreprocessorVariablesEnabled?BaseKit.Globals.templateStylePreprocessorVariables:null}},{key:"_getWidgetTypeForElementAndChildren",value:function e(t){var r=[];t.find("*").each(function(e,n){var i=$(n);var a=this._getWidgetType(i);void 0!==a&&r.push(a);t=t.parent()}.bind(this));return r}},{key:"_getWidgetType",value:function e(t){if(t)return t.attr("data-widget-type");return this.widgetType}},{key:"_addWidgetTranslations",value:function e(t){return window._.compact(window._.map(t,function(e){if(this.templateStylePreprocessorVariableWidgets&&this.templateStylePreprocessorVariableWidgets[e]){var t=window._.clone(this.templateStylePreprocessorVariableWidgets[e]);t.name=e;return t}}.bind(this)))}},{key:"_setProfileWidgetType",value:function e(t){var r=window._.indexOf(t,"profile");if("-1"===r)return t;t[r]=this.model.get("profileType");return t}},{key:"_getAssociatedWidgets",value:function e(t){var r=[this.widgetType];if(this.fixed){r=r.concat(this._getWidgetTypeForElementAndChildren(t.parent().parent().parent()));(0,n.default)(r);window._.uniq(r)}r=this._setProfileWidgetType(r);r=this._addWidgetTranslations(r);r=window._.indexBy(r,"name");return r}},{key:"_combineWidgetsAndStyles",value:function e(t){var r=this;var n={};Object.keys(t).forEach((function(e){var i=r.stylesCollection.where({widget:t[e].name});if(i.length){n[e]=t[e];n[e].styles=i}}));return n}}]);return e}();var u=l;t["default"]=u},86334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.settingsView=t.settingsView;Object.assign(this,Backbone.Events)}i(e,[{key:"isOpen",value:function e(){return this.settingsView.isOpen}},{key:"reset",value:function e(t){var r=this;var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i=t.getWidgetSettings();var a=!!n.enableSave&&n.enableSave;this.off();this.settingsView.viewReset({widgetTitle:i.title,widgetName:t.properties.name,className:t.properties.className||t.properties.type,model:t.model,collection:new Backbone.Collection(i.components),widgetEl:t.$el,widgetElId:t.el.getAttribute("id"),widgetUniqueId:t.el.getAttribute("data-uniqueid"),fixed:t.properties.fixed,profileModel:t.profileModel,previousAttributes:t.previousAttributes,previousProfileAttributes:t.previousProfileAttributes,enableSave:a,emptySettingMessage:i.emptySettingMessage||""});this.listenTo(this.settingsView,"all",(function(){r.trigger.apply(r,arguments)}))}}]);return e}();var o=a;t["default"]=o},62226:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(93973));var i=o(r(7354));var a=o(r(83851));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function u(e,t,r){t&&l(e.prototype,t);r&&l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var c=function(){function e(t){s(this,e);this.siteDataProvider=t.siteDataProvider;this.widgetStyleSettingsViewFactory=t.widgetStyleSettingsViewFactory;this.styleSettingsProvider=t.styleSettingsProvider;this.settingsComponentProvider=t.settingsComponentProvider;this.rowsEnabled=t.rowsEnabled;this.tracker=t.tracker;this.formEmailVerification=t.formEmailVerification}u(e,[{key:"build",value:function e(){this.formEmailVerification&&Cocktail.mixin(n.default,i.default);return new n.default({el:".js-widget-property-panel",profileModel:(0,a.default)(),widgetStyleSettingsViewFactory:this.widgetStyleSettingsViewFactory,styleSettingsProvider:this.styleSettingsProvider,settingsComponentProvider:this.settingsComponentProvider,rowsEnabled:this.rowsEnabled,tracker:this.tracker})}}]);return e}();var d=c;t["default"]=d},2926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(66010));var i=a(r(52806));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(t){o(this,e);this.settingsComponentProvider=t.settingsComponentProvider}l(e,[{key:"build",value:function e(t){var r=t.widgetView.getSettings();if(r.groupInformation&&!t.settingId)return this._buildGroupedSettings(t.widgetView,r.components,r.groupInformation);return new n.default({settingsComponentProvider:this.settingsComponentProvider,widgetView:t.widgetView,settingId:t.settingId||false,autoSave:t.autoSave||false,settingsComponents:r.components,profileModel:t.profileModel})}},{key:"_buildGroupedSettings",value:function e(t,r,n){var a=this._createGroupCollection(n);this._addSettingsToGroups(r,a);return new i.default({collection:a,widgetView:t})}},{key:"_createGroupCollection",value:function e(t){var r=new Backbone.Collection;t.forEach((function(e){var t=new Backbone.Model({collection:new Backbone.Collection,groupId:e.groupId,title:e.groupTitle});r.add(t)}));return r}},{key:"_addSettingsToGroups",value:function e(t,r){t.forEach((function(e){if("label"===e.type)return;var t=r.findWhere({groupId:e.groupId});t.get("collection").add(e)}))}}]);return e}();var c=u;t["default"]=c},66010:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.CollectionView.extend({childEvents:{"setting:change":"onSettingsChange","setting:click":"onSettingsChange","setting:update":"onSettingsUpdate","setting:reset":"onSettingsReset"},childViewOptions:function e(){return{isRowsEnabled:true,profileModel:this.profileModel}},onSettingsChange:function e(t,r,n){this.trigger(r,n);this.autoSave&&this.widgetView.model.save({widgetName:this.widgetView.properties.name,widgetUniqueId:this.widgetView.properties.uniqueId,fixed:this.widgetView.properties.fixed})},onSettingsButtonClick:function e(t,r,n){this.trigger(r,n)},onSettingsUpdate:function e(t,r,n){this.trigger(r,n)},onSettingsReset:function e(t,r,n){Editor.Events.trigger("widgetSettings:changed",this.widgetView)},initialize:function e(t){this.widgetView=t.widgetView;this.profileModel=t.profileModel;if(!this.widgetView||"function"!==typeof this.widgetView.listenForSettingsChanges){var r;var n;var i="";try{r=JSON.stringify(this)}catch(e){r=JSON.stringify(Object.keys(this));n=JSON.stringify(Object.keys(this.options));i=e.stack}console.error("WidgetView not set correctly: ".concat(r));console.error("".concat(n));console.error(i)}this.settingsComponentProvider=t.settingsComponentProvider;this.settingId=t.settingId;this.autoSave=t.autoSave||false;this.settingsComponents=t.settingsComponents;this.setupCollection();this.widgetView.listenForSettingsChanges(this)},setupCollection:function e(){var t;t=this.settingId?this._getSettingsComponentById(this.settingId):this.settingsComponents;this.collection=this._generateCollection(t)},getChildView:function e(t){return this.settingsComponentProvider(t.get("type"))},_getSettingsComponents:function e(){return this.widgetView.getSettings().components},_getSettingsComponentById:function e(t){var r=this._getSettingsComponents();return r.find((function(e){return e.id===t}))},_generateCollection:function e(t){return new Backbone.Collection(t)}});var n=r;t["default"]=n},26902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(81032));var i=a(r(13077));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function l(e,t,r){t&&s(e.prototype,t);r&&s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var u=function(){function e(t){o(this,e);this.store=t.store;this.styleSettingsProvider=t.styleSettingsProvider;this.envDataProvider=t.envDataProvider;this.rowsEnabled=t.rowsEnabled}l(e,[{key:"build",value:function e(t){return new i.default({el:t.el,styles:this.store.getState().ui.panel.styles,stylesCollection:this.styleSettingsProvider.getStylesCollection(),fontListContents:(0,n.default)(),allGoogleFonts:this.envDataProvider.get("allGoogleFonts"),presetAttributesCollection:BaseKit.Globals.presetAttributes,rowsEnabled:this.rowsEnabled})}}]);return e}();var c=u;t["default"]=c},72207:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=R(r(79197));var a=D(r(11224));var o=D(r(30131));var s=D(r(5608));var l=D(r(64626));var u=D(r(72481));var c=D(r(60001));var d=D(r(28338));var f=D(r(60316));var p=D(r(24581));var g=D(r(26286));var h=D(r(43025));var v=D(r(8036));var m=D(r(60862));var y=D(r(89392));var b=D(r(2378));var w=D(r(12896));var _=D(r(9763));var S=D(r(54783));var E=D(r(1886));var P=D(r(83246));var k=D(r(27955));var C=D(r(51815));var O=D(r(73302));var T=D(r(38841));var A=D(r(64777));var j=D(r(14496));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(L=function e(n){return n?r:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=L(t);if(r&&r.has(e))return r.get(e);var i={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e;r&&r.set(e,i);return i}var I={advancedtextbox:h.default,button:i.default,visualButton:i.VisualButtonView,buttonset:a.default,radiobutton:o.default,paragraph:s.default,textarea:l.default,text:u.default,select:d.default,datasourcechooser:c.default,slider:f.default,checkbox:p.default,imagedetail:y.default,label:g.default,information:E.default,logo:C.default,"profile-settings":w.default,"link-editor-select":m.default,"file-selector":v.default,"custom-select":_.default,"label-counter":b.default,"style-picker":S.default,"row-layout":P.default,"shape-divider":k.default,animation:O.default,"section-height":T.default,"section-width":A.default,"section-gradient":j.default};var x=function e(t){var r=I[t];if(r)return r;throw new Error("Invalid settings component supplied")};var M=x;t["default"]=M},43025:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-advancedtextbox"},events:{"change .js-input":"inputChanged","change .js-font-size-select":"fontSizeChanged","click .js-bold":"boldButtonClicked","click .js-italic":"italicButtonClicked"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_advancedtextbox_component_v8r":"view_settings_advancedtextbox"},inputChanged:function e(){this.trigger("setting:change",this.model.get("id"),{type:"text",value:this.el.querySelector(".js-input").value.trim()})},fontSizeChanged:function e(){this.trigger("setting:change",this.model.get("id"),{type:"font",value:this.el.querySelector(".js-font-size-select").value})},boldButtonClicked:function e(){this.el.querySelector(".js-bold").classList.toggle("is-selected");this.trigger("setting:change",this.model.get("id"),{type:"style",value:"bold"})},italicButtonClicked:function e(){this.el.querySelector(".js-italic").classList.toggle("is-selected");this.trigger("setting:change",this.model.get("id"),{type:"style",value:"italic"})}});var n=r;t["default"]=n},73302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(93999));function i(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.ItemView.extend({template:"view_settings_animation_picker",initialize:function e(){this.animations=this.model.get("animations");this.currentAnimationEffect=this.model.get("currentAnimationEffect");return this},onRender:function e(){this.openAnimationPanel()},openAnimationPanel:function e(){var t=new n.default({dialogStyle:"dialog__panel-style--green",animations:this.animations,currentAnimationEffect:this.currentAnimationEffect}).render();this.listenTo(t,"animationEffect:change",this._setAnimationEffect.bind(this))},_setAnimationEffect:function e(t){this.trigger("setting:change","row-animation-effect-changed",t);this.currentAnimationEffect=t}});var o=a;t["default"]=o},11224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){var e=this.options.isRowsEnabled?"popup-panel-form__field":"settings-buttonset";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e},events:{"click .js-btn":"btnClicked"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();this.listenTo(this.model,"change",this.render);return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_buttonset_component_v8r":"view_settings_buttonset"},btnClicked:function e(t){var r=t.currentTarget.querySelector(".js-value");var n=r.dataset.attr;this.model.set("value",n);var i=r.dataset.visual;i?this.trigger("setting:click",this.model.get("id"),n):this.trigger("setting:change",this.model.get("id"),n)}});var n=r;t["default"]=n},79197:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.VisualButtonView=void 0;var r=Marionette.ItemView.extend({template:"view_settings_button",className:"settings-button",events:{"click .js-button":"buttonClicked"},initialize:function e(){return this},buttonClicked:function e(){this.trigger("setting:change",this.model.get("id"))}});var n=r;t["default"]=n;var i=Marionette.ItemView.extend({template:"view_settings_button",className:"settings-button",events:{"click .js-button":"buttonClicked"},initialize:function e(){return this},buttonClicked:function e(){this.trigger("setting:click",this.model.get("id"))}});t.VisualButtonView=i},24581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-checkbox"},events:{"change .js-input":"inputChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_checkbox_component_v8r":"view_settings_checkbox"},inputChanged:function e(){var t=this.el.querySelector(".js-input").checked;this.trigger("setting:change",this.model.get("id"),t)}});var n=r;t["default"]=n},9763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(4566));function i(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.ItemView.extend({template:"view_settings_button",className:"settings-customselect",events:{"click .js-button":"openSelectPanel"},openSelectPanel:function e(){var t=new n.default({model:new Backbone.Model({title:this.model.get("searchPanelTitle"),onSearch:this.model.get("onSearch"),helpWords:this.model.get("searchHelpWords"),noSearchResults:this.model.get("noSearchResultsWords"),imageProperty:this.model.get("imageProperty"),idProperty:this.model.get("idProperty"),mainTitleProperty:this.model.get("mainTitleProperty"),secondTitleProperty:this.model.get("secondTitleProperty"),thirdTitleProperty:this.model.get("thirdTitleProperty"),subTitleProperty:this.model.get("subTitleProperty")})}).render();this.listenTo(t,"item:selected",this.itemSelected)},itemSelected:function e(t){this.trigger("setting:change",this.model.get("id"),t)}});var o=a;t["default"]=o},60001:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=2e3;var n=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-datasource-chooser"},events:{"change .js-select":"selectChanged","change .js-custom-input":"inputChanged","mouseover .js-tooltip-icon":"showTooltip","mouseout .js-tooltip-icon":"hideTooltip"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();this.listenTo(this.model,"change",this.render);return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_datachooser_component_v8r":"view_settings_datasourcechooser"},showTooltip:function e(){var t=this.el.querySelector(".js-tooltip");if(!t.hasAttribute("hidden"))return;t.removeAttribute("hidden")},hideTooltip:function e(){var t=this.el.querySelector(".js-tooltip");setTimeout((function(){t.setAttribute("hidden","hidden")}),r)},selectChanged:function e(){var t=this.el.querySelector(".js-select").value.trim();if("custom"!==t){this.model.set("value",t);this.trigger("setting:change",this.model.get("id"),{value:t,source:""})}else{this.model.set("value","");this.trigger("setting:change",this.model.get("id"),{value:"",source:t})}},inputChanged:function e(){var t=this.el.querySelector(".js-custom-input").value.trim();this.model.set("value",t);this.trigger("setting:change",this.model.get("id"),{value:t,source:"custom"})}});var i=n;t["default"]=i},8036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_fileselector",events:{"click .js-file":"openFileManagement"},initialize:function e(){return this},openFileManagement:function e(){this.filePanelView=new BaseKit.Panels.FilesPanelView({model:new BaseKit.Panels.FilesPanelModel({panel:"upload",title:App.t("shared_components.filespanel.source_title","File source")})}).render();this.listenTo(this.filePanelView,"file:selected",this.updateFileLink);this.listenTo(this.filePanelView,"file:deleted",this.deleteFileLink);this.listenTo(this.filePanelView,"panel:close",this.render)},updateFileLink:function e(t){this.model.set({url:t.url,fileName:t.fileName},{silent:true});this.notifyChanges()},deleteFileLink:function e(t){if(this.model.get("url")===t.url){this.model.set({url:"",fileName:""});this.trigger("setting:change","widget-filedownload-linkeditor-delete",{url:this.model.get("url"),fileName:this.model.get("fileName")})}},notifyChanges:function e(){this.trigger("setting:change",this.model.get("id"),{url:this.model.get("url"),fileName:this.model.get("fileName")})}});var n=r;t["default"]=n},89392:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(98654));var i=r(11474);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function u(){return"".concat(App.assetBaseUrl(),"/apps/images/mobile/transparent_218x98.png")}var c=Marionette.ItemView.extend({template:"view_settings_imagedetail",className:function e(){var e="settings-imagedetail settings-imagedetail--short js-imagedetail";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e},events:{"click .js-change-image":"chooseRecentClicked","click .js-add-image":"addNewImageClicked"},initialize:function e(){this.previousModel=null;this.model.get("draggable")&&!(0,i.isMobileDevice)()&&(this.isDraggable=true);this.listenTo(this.model,"change:imageSrc",this.render);return this},onRender:function e(){if(!this.isDraggable)return;setTimeout(function(){this.handleImagePositioning()}.bind(this),10)},serializeData:function e(){return Object.assign(this.model.toJSON(),{isDraggable:this.isDraggable,proxySrc:u()})},handleImagePositioning:function e(){var t=this.el.querySelector(".js-image-container").offsetWidth;var r=this.el.querySelector(".js-image-container").offsetHeight;var n=this.model.get("imageNaturalHeight");var i=this.model.get("imageNaturalWidth");var a=n/i*t;var o=a-r;this.setImageContainerHeight();this.setImageDragProxyHeight(o,a);this.attachDragEvent(o)},setImageContainerHeight:function e(){var t=this.el.offsetWidth;var r=t*this.model.get("imageDisplayRadio");this.el.querySelector(".js-image-container").style.height="".concat(r,"px")},setImageDragProxyHeight:function e(t,r){this.el.querySelector(".js-drag-proxy").style.height="".concat(r,"px");if(t){var n=this.model.get("positionTopPercentage")/100*t;this.el.querySelector(".js-drag-proxy").style.top="-".concat(n,"px")}},attachDragEvent:function e(t){var r=this.el.querySelector(".js-image-container");var n=r.getBoundingClientRect();var i=n.top-t;var a=n.top;var o=null;this.$(".js-drag-proxy").draggable({axis:"y",containment:[0,i,0,a],drag:function(e,n){o=-n.position.top/t*100;r.style.backgroundPosition="center ".concat(o,"%");this.model.set("positionTopPercentage",o);this.notifyChanges()}.bind(this)})},openImagePopup:function e(t){this.imagesPanelView=new n.default({model:new BaseKit.Panels.Model(t.model)}).render();this.listenTo(this.imagesPanelView,"asset:change",this.setAsset);this.listenTo(this.imagesPanelView,"asset:reset",this.resetAsset)},addNewImageClicked:function e(){var t=this;this.openImagePopup({model:{panel:"upload",parentPanel:void 0,subPanel:false,isSubPanel:false,showSaveBtn:false,title:App.t("shared_components.imagespanel.source_title","Image source")}});setTimeout((function(){t.imagesPanelView.openFileUpload()}),50)},chooseRecentClicked:function e(){this.openImagePopup({model:{panel:"recentImages",forceHidden:false,parentPanel:void 0,isSubPanel:false,asset:void 0,title:App.t("shared_components.imagespanel.recent_title","Recent")}});this.imagesPanelView.sourceSelected()},notifyChanges:function e(){this.trigger("setting:change",this.model.get("id"),{positionTopPercentage:this.model.get("positionTopPercentage"),src:this.model.get("imageSrc"),url:this.model.get("imageSrc"),fileName:this.model.get("fileName"),fileSize:this.model.get("fileSize"),imageWidth:this.model.get("imageWidth"),imagePxWidth:"".concat(this.model.get("imageWidth"),"px"),imageHeight:this.model.get("imageHeight"),path:this.model.get("path"),imageSize:"".concat(this.model.get("imageWidth")," x ").concat(this.model.get("imageHeight")),description:this.model.get("description"),title:this.model.get("title"),assetRef:this.model.get("ref")})},setAsset:function e(t){this.previousModel=this.model.clone().toJSON();this.model.set({imageSrc:t.url,fileName:t.fileName,fileSize:t.fileSize,imageHeight:t.imageHeight,imageWidth:t.imageWidth,path:t.path,description:"assets",title:"assets",ref:t.ref});this.notifyChanges()},resetAsset:function e(){if(this.previousModel){this.model.set(s({},this.previousModel));this.notifyChanges()}}});var d=c;t["default"]=d},1886:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_information",className:"settings_information",events:{"click .js-more-info":"moreInfoClicked"},moreInfoClicked:function e(){this.trigger("setting:change","more-information")}});var n=r;t["default"]=n},72481:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-input"},events:{"change .js-input":"inputChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_input_component_v8r":"view_settings_input"},inputChanged:function e(){var t=this.el.querySelector(".js-input").value.trim();this.model.set("value",t);this.trigger("setting:change",this.model.get("id"),t)}});var n=r;t["default"]=n},2378:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_label_counter",className:function e(){var e="settings-label-counter";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e}});var n=r;t["default"]=n},26286:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_label",className:function e(){var e="settings-label";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e}});var n=r;t["default"]=n},60862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(3104));var i=r(42316);function a(e){return e&&e.__esModule?e:{default:e}}function o(){return n.default.container.BrandDataProvider.has("fileUpload")}var s=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-linkeditor-select"},events:{"change .js-link-action":"linkActionChanged","change .js-internal-link":"internalLinkChanged","change .js-external-link":"externalLinkChange","change .js-external-target":"externalLinkTargetChange","click .js-file":"openFileManagement","change .js-email":"emailChanged"},serializeData:function e(){return Object.assign(this.model.toJSON(),{isFileUploadEnabled:o(),pages:(0,i.getActiveLanguageInternalPages)()})},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();this.listenTo(this.model,"change",this.render);return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_link_component_v8r":"view_settings_linkeditorselect"},linkActionChanged:function e(){var t=this.el.querySelector(".js-link-action").value;this.model.set({value:t,url:"",fileName:"",target:"_self"});this.notifyChanges();"file"===t&&this.openFileManagement()},openFileManagement:function e(){this.filePanelView=new BaseKit.Panels.FilesPanelView({model:new BaseKit.Panels.FilesPanelModel({panel:"upload",title:App.t("shared_components.filespanel.source_title","File source")})}).render();this.listenTo(this.filePanelView,"file:selected",this.updateFileLink);this.listenTo(this.filePanelView,"panel:close",this.render)},updateFileLink:function e(t){this.model.set({value:"file",url:t.url,fileName:t.fileName},{silent:true});this.notifyChanges()},internalLinkChanged:function e(){var t=this.el.querySelector(".js-internal-link").value;this.model.set("url",t);this.notifyChanges()},externalLinkChange:function e(){var t=this.el.querySelector(".js-external-link").value.trim();var r=/^((http|ftp|ftps|https):\/\/)?[\u00C0-\u1FFE\u2C00-\uD7FB\w\-_]+(\.[\u00C0-\u1FFE\u2C00-\uD7FB\w\-_]+)+([\u00C0-\u1FFE\u2C00-\uD7FB\w\-\.,@?\^=%&amp;:\/~\+#!]*[\u00C0-\u1FFE\u2C00-\uD7FB\w\-\@?\^=%&amp;\/~\+#])?$/i;var n=/^(http|ftp|ftps|https)$/i;var i=t.match(r);if(r.test(t)){n.test(i[2])||(t="http://".concat(t));this.model.set("url",t);this.notifyChanges();this.model.set("linkError",void 0);this.trigger("save:enable")}else{this.model.set({url:"",linkError:App.t("shared_components.linkeditor.error_invalidllink","Invalid link")});this.trigger("save:disable")}},externalLinkTargetChange:function e(){var t=this.el.querySelector(".js-external-target").value;this.model.set("target",t);this.notifyChanges()},emailChanged:function e(){var t=this.el.querySelector(".js-email").value.trim();var r=/.+@.+/;this.model.set("target","_self");if(r.test(t)){this.model.set("url","mailto:".concat(t));this.notifyChanges();this.model.set("emailError",void 0);this.trigger("save:enable")}else{this.model.set({url:"",emailError:App.t("shared_components.linkeditor.error_invalidEmail","Invalid email address")});this.trigger("save:disable")}},notifyChanges:function e(){this.trigger("setting:change",this.model.get("id"),{target:this.model.get("target"),url:this.model.get("url"),action:this.model.get("value"),fileName:this.model.get("fileName")})}});var l=s;t["default"]=l},5608:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_paragraph",className:"settings-paragraph",initialize:function e(){return this}});var n=r;t["default"]=n},72106:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=c(r(43025));var i=c(r(60862));var a=c(r(64626));var o=c(r(72481));var s=c(r(28338));var l=c(r(60316));var u=c(r(60001));function c(e){return e&&e.__esModule?e:{default:e}}var d=Marionette.CollectionView.extend({tagName:"div",className:"settings__child",childEvents:{"setting:change":function e(t,r,n){this.trigger("profileSettings:change",{id:r,value:n,childView:t})}},childViewOptions:function e(){return{isRowsEnabled:this.isRowsEnabled}},initialize:function e(t){this.isRowsEnabled=t.isRowsEnabled;return this},getChildView:function e(t){var r=null;switch(t.get("type")){case"advancedtextbox":r=n.default;break;case"link-editor-select":r=i.default;break;case"textarea":r=a.default;break;case"text":r=o.default;break;case"select":r=s.default;break;case"datasourcechooser":r=u.default;break;case"slider":r=l.default;break}return r}});var f=d;t["default"]=f},12896:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(3104));var i=o(r(72106));var a=r(42316);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return n.default.container.BrandDataProvider.has("googleServices")}function u(){var e=false;var t=n.default.container.SiteDataProvider.get("globalValues").find((function(e){return"enablePolicyPages"===e.name}));"undefined"!==typeof t&&(e=t.value);return e}var c={"form-email":"e.g. mail@example.com"};var d=Marionette.ItemView.extend({className:"settings-profile settings__child",events:{"change .js-profile-type":"profileTypeChanged"},ui:{settingsContainer:".js-profile-settings-container"},initialize:function e(t){this.isRowsEnabled=t.isRowsEnabled;this._setTemplate();this.previousModel=_.omit(this.model.toJSON(),"profileType");this.profileModel=t.profileModel;this.previousProfileModel=t.profileModel.toJSON();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_profile_component_v8r":"view_settings_profile"},profileTypeChanged:function e(){var t=this.el.querySelector(".js-profile-type").value.trim();this.model.set("profileType",t);this.trigger("setting:change",this.model.get("id"),t);this.renderSettingsByType();this.trigger("setting:reset",this.model.get("id"),t)},onRender:function e(){this.renderSettingsByType()},countryData:function e(){var t=Editor.Site.Dom.window.Data.countries;var e=[{text:App.t("widgets.companyaddress.choose-country","Choose country"),value:""}];t.forEach((function(t){e.push({text:t.name,value:t.name})}));return e},getAddressTypeSetting:function e(){return[{id:this.model.get("addressSettingId"),label:App.t("widgets.profile.address","Address"),type:"text",value:this.model.get("address")},{id:this.model.get("address1SettingId"),label:App.t("widgets.profile.address1","Address"),type:"text",value:this.model.get("address1")},{id:this.model.get("address2SettingId"),label:App.t("widgets.profile.address2","Address"),type:"text",value:this.model.get("address2")},{id:this.model.get("countrySettingId"),type:"select",label:App.t("widgets.companyaddress.country","Country"),value:this.model.get("country"),data:this.countryData()},{id:this.model.get("postalcodeSettingId"),label:App.t("widgets.profile.postalcode","Postal Code"),type:"text",value:this.model.get("addressPostalCode")}]},getEmailTypeSetting:function e(){return[{id:this.model.get("emailSettingId"),label:App.t("widgets.profile.email","Email"),type:"text",inputType:"email",value:this.model.get("email")}]},getHeadlineTypeSetting:function e(){return[{id:this.model.get("headlineSettingId"),label:App.t("widgets.profile.headline","Headline"),type:"text",autocapitalize:"on",autocorrect:"on",value:this.model.get("headline")}]},getStraplineTypeSetting:function e(){return[{id:this.model.get("straplineSettingId"),label:App.t("widgets.profile.strapline","Strap Line"),type:"text",autocapitalize:"on",autocorrect:"on",value:this.model.get("strapline")}]},getCompanydescriptionTypeSetting:function e(){return[{id:this.model.get("companydescriptionSettingId"),label:App.t("widgets.profile.companydescription","Company Description"),type:"textarea",autocapitalize:"on",autocorrect:"on",value:this.model.get("companydescription")}]},getPhoneTypeSetting:function e(){return[{id:this.model.get("phoneSettingId"),label:App.t("widgets.profile.phone","Phone"),type:"text",value:this.model.get("phone")}]},getBusinessTypeSetting:function e(){return[{id:this.model.get("businessSettingId"),label:App.t("widgets.profile.business","Business"),type:"text",value:this.model.get("business")}]},getCopyrightTypeSetting:function e(){return[{id:this.model.get("copyrightSettingId"),label:App.t("widgets.profile.copyright","Copyright"),type:"textarea",autocapitalize:"on",autocorrect:"on",value:this.model.get("copyright")}]},getTwitterTypeSetting:function e(){return[{id:this.model.get("twitterSettingId"),label:App.t("widgets.profile.latesttweet","Latest Tweet"),type:"text",value:this.model.get("twitter")}]},getMapTypeSetting:function e(){return[{id:this.model.get("mapAddressSettingId"),type:"text",label:App.t("widgets.map.address","Address line 1"),value:this.model.get("mapAddress")},{id:this.model.get("mapAddress1SettingId"),type:"text",label:App.t("widgets.map.address1","Address line 2"),value:this.model.get("mapAddress1")},{id:this.model.get("mapAddress2SettingId"),type:"text",label:App.t("widgets.map.address2","Address line 3"),value:this.model.get("mapAddress2")},{id:this.model.get("mapPostalcodeSettingId"),type:"text",label:App.t("widgets.map.postalcode","Postal Code"),value:this.model.get("mapPostalCode")},{id:this.model.get("mapZoomSettingId"),type:"slider",label:App.t("widgets.map.zoom","Zoom"),minValue:1,maxValue:20,value:this.model.get("mapZoom")},{id:this.model.get("mapHeightSettingId"),type:"slider",label:App.t("shared_views.settings.height","Height"),minValue:100,maxValue:500,units:"px",value:this.model.get("mapHeight")}]},getFormTypeSetting:function e(){var t=[{id:this.model.get("formLabelId"),type:"text",label:App.t("widgets.profile.formtitle_label","Form Title"),value:this.model.get("formLabel")},{id:this.model.get("formTitleSettingId"),type:"text",label:App.t("widgets.contactform.email_title","Email Title"),value:this.model.get("formTitle")},{id:this.model.get("emailPlaceholderSettingId"),type:"text",label:App.t("widgets.signupform.label_placeholder","Email placeholder"),value:this.model.get("emailPlaceholder")},{id:this.model.get("formButtonSettingId"),type:"advancedtextbox",label:App.t("widgets.contactform.btntext","Button Text"),value:this.model.get("formText"),bold:this.model.get("formBold"),italic:this.model.get("formItalic"),size:this.model.get("formFontSize")},{id:this.model.get("formEmailSettingId"),type:"text",inputType:"email",label:App.t("widgets.profile.form_email","Profile Email"),value:this.model.get("email")},{id:this.model.get("goalUrlSettingId"),type:"datasourcechooser",label:App.t("widgets.contactform.goal_label","Success Page"),requireValidation:true,value:this.model.get("goalUrl"),data:(0,a.getActiveLanguageInternalPages)()}];u()&&t.push({id:this.model.get("privacyLabelId"),type:"text",label:App.t("widgets.profile.privacy_label","Privacy Label"),placeholder:App.t("widgets.profile.privacy_label_placeholder","eg. I agree to the use..."),value:this.model.get("privacyLabel")});return t},getSocialiconsTypeSetting:function e(){var t=[{id:this.model.get("socialIconsLinkedinSettingId"),label:App.t("widgets.socialicons.linkedin","LinkedIn"),requireValidation:true,type:"text",placeholder:App.t("widgets.linkedinprofile.profileurl_placeholder","eg. www.linkedin.com/in/yourname"),value:this.model.get("socialIconsLinkedin")},{id:this.model.get("socialIconsTwitterSettingId"),label:App.t("widgets.socialicons.twitter","Twitter"),placeholder:App.t("widgets.twitter.search_placeholder","eg. coffee"),type:"text",value:this.model.get("socialIconsTwitter")},{id:this.model.get("socialIconsInstagramSettingId"),label:App.t("widgets.socialicons.instagram","Instagram"),placeholder:App.t("widgets.instagram.search_placeholder","eg. coffee"),type:"text",value:this.model.get("socialIconsInstagram")},{id:this.model.get("socialIconsPinterestSettingId"),label:App.t("widgets.socialicons.pinterest","Pinterest"),placeholder:App.t("widgets.pinterest.search_placeholder","eg. coffee"),type:"text",value:this.model.get("socialIconsPinterest")},{id:this.model.get("socialIconsFacebookSettingId"),label:App.t("widgets.socialicons.facebook","Facebook"),placeholder:App.t("widgets.profile.facebook_placeholder","eg. www.facebook.com/example"),requireValidation:true,type:"text",value:this.model.get("socialIconsFacebook")},{id:this.model.get("socialIconsRssSettingId"),label:App.t("widgets.socialicons.rss","RSS"),placeholder:App.t("widgets.profile.rss_placeholder","eg. http://www.example.com/rss"),requireValidation:true,type:"text",value:this.model.get("socialIconsRss")},{id:this.model.get("socialIconsVkontakteSettingId"),label:App.t("widgets.socialicons.vkontakte","VKontakte"),placeholder:App.t("widgets.profile.vkontakte_placeholder","eg. www.vk.com/example"),requireValidation:true,type:"text",value:this.model.get("socialIconsVkontakte")},{id:this.model.get("socialIconsXingSettingId"),label:App.t("widgets.socialicons.xing","Xing"),placeholder:App.t("widgets.profile.xing_placeholder","eg. www.xing.com/profile/your_name"),requireValidation:true,type:"text",value:this.model.get("socialIconsXing")}];l()&&t.push({id:this.model.get("socialIconsYoutubeSettingId"),label:App.t("widgets.socialicons.youtube","YouTube"),placeholder:App.t("widgets.profile.youtube_placeholder","eg. www.youtube.com/yourid"),requireValidation:true,type:"text",value:this.model.get("socialIconsYoutube")});return t},getSettings:function e(t){var r=null;switch(t){case"address":r=this.getAddressTypeSetting();break;case"email":r=this.getEmailTypeSetting();break;case"headline":r=this.getHeadlineTypeSetting();break;case"strapline":r=this.getStraplineTypeSetting();break;case"companydescription":r=this.getCompanydescriptionTypeSetting();break;case"phone":r=this.getPhoneTypeSetting();break;case"business":r=this.getBusinessTypeSetting();break;case"copyright":r=this.getCopyrightTypeSetting();break;case"twitter":r=this.getTwitterTypeSetting();break;case"map":r=this.getMapTypeSetting();break;case"form":r=this.getFormTypeSetting();break;case"socialicons":r=this.getSocialiconsTypeSetting();break}return r},renderSettingsByType:function e(){var t=this.getSettings(this.model.get("profileType"));var r=this.profileModel.changedAttributes(this.previousProfileModel);this.model.hasChanged()&&this.model.set(this.previousModel);if(this.settingsView){this.stopListening(this.settingsView,"profileSettings:change",this.settingChanged);this.settingsView.collection=new Backbone.Collection(t)}else this.settingsView=new i.default({collection:new Backbone.Collection(t),isRowsEnabled:this.isRowsEnabled});this.ui.settingsContainer.empty().append(this.settingsView.render().$el);this.listenTo(this.settingsView,"profileSettings:change",this.settingChanged);r&&this.profileModel.set(r)},settingChanged:function e(t){if(!this.isValidate(t))return;if(this.isEmpty(t))return;this.trigger("setting:change",t.id,t.value)},isRequired:function e(t){return Object.keys(c).includes(t)},isEmpty:function e(t){var e=false;var r=t.id.match(/widget-profile-([a-zA-Z-]+)/i)[1];var n="object"===s(t.value)?t.value.value:t.value;var i=this.settingsView.collection.get(t.id);var a=this.settingsView.children.findByModel(i);if(!this.isRequired(r))return false;if(0===n.length){i.set("error",App.t("widgets.profile.error_empty_".concat(r),c[r]));a.render();e=true;this.trigger("save:disable")}else{i.set("error","");a.render();e=false;this.trigger("save:enable")}return e},isValidate:function e(t){var e=true;var r="object"===s(t.value)?t.value.value:t.value;var n=t.id;var i=this.settingsView.collection.get(n);var a=this.settingsView.children.findByModel(i);var o=/^(http|ftp|ftps|https)$/i;var l=/^((http|ftp|ftps|https):\/\/)?[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?\^=%&amp;:\/~\+#]*[\w\-\@?\^=%&amp;\/~\+#])?$/i;if("object"===s(t.value)&&"undefined"!==typeof t.value.source&&"custom"!==t.value.source)return e;if(t.childView.model.get("requireValidation"))if(0===r.length||l.test(r)){0===r.length||o.test(r.match(l)[2])||("object"===s(t.value)?t.value.value="http://".concat(r):t.value="http://".concat(r));i.set("error","");a.render();a.el.querySelector(".js-input").focus();e=true;this.isRowsEnabled?Editor.Events.trigger("setting:save:validate"):this.trigger("save:validate")}else{i.set("error",App.t("widgets.socialicons.error_link","Please enter a URL"));a.render();a.el.querySelector(".js-input").focus();e=false;this.isRowsEnabled?Editor.Events.trigger("setting:save:disable",true):this.trigger("save:disable")}return e}});var f=d;t["default"]=f},30131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_radiobutton",tagName:function e(){return this.options.isRowsEnabled?"fieldset":"div"},className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-radiobutton"},events:{"change input":"inputChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_radiobutton_component_v8r":"view_settings_radiobutton"},inputChanged:function e(t){this.trigger("setting:change",this.model.get("id"),t.currentTarget.value.trim())}});var n=r;t["default"]=n},83246:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(3104));function i(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.ItemView.extend({template:"view_settings_row_layout",events:{"click .js-previous-layout":"previousClicked","click .js-next-layout":"nextClicked","change .js-radio-item":"itemChanged"},initialize:function e(){this.layouts=this.model.get("layouts");this.currentIndex=this.layouts.indexOf(this.model.get("currentLayout"));return this},unsetCheckedItem:function e(){var t=this.el.querySelector(".js-radio-item:checked");t.checked=false},checkRadioItem:function e(t){var r=this.el.querySelector(".js-radio-item[value=".concat(t,"]"));r.checked=true},updateLayout:function e(){this.trigger("setting:change","row-layout-changed",{layout:this.layouts[this.currentIndex]});n.default.container.Tracker.track("Section layout updated")},itemChanged:function e(t){this.currentIndex=this.layouts.indexOf(t.currentTarget.value);this.updateLayout()},previousClicked:function e(){this.currentIndex-1<0?this.currentIndex=this.layouts.length-1:this.currentIndex--;this.unsetCheckedItem();this.checkRadioItem(this.layouts[this.currentIndex]);this.updateLayout()},nextClicked:function e(){this.currentIndex+1>this.layouts.length-1?this.currentIndex=0:this.currentIndex++;this.unsetCheckedItem();this.checkRadioItem(this.layouts[this.currentIndex]);this.updateLayout()}});var o=a;t["default"]=o},14496:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(53383));function i(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.ItemView.extend({template:"view_settings_section_gradient_picker",initialize:function e(){this.sectionGradients=this.model.get("sectionGradients");this.currentSectionGradient=this.model.get("currentSectionGradient");return this},onRender:function e(){this.openSectionGradientPanel()},openSectionGradientPanel:function e(){var t=new n.default({dialogStyle:"dialog__panel-style--green",sectionGradients:this.sectionGradients,currentSectionGradient:this.currentSectionGradient}).render();this.listenTo(t,"gradient:change",this._setSectionGradient.bind(this))},_setSectionGradient:function e(t){this.trigger("setting:change","row-section-gradient-changed",t);this.currentSectionGradient=t}});var o=a;t["default"]=o},38841:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(89594));function i(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.ItemView.extend({template:"view_settings_section_height_picker",initialize:function e(){this.sectionHeights=this.model.get("sectionHeights");this.currentSectionHeight=this.model.get("currentSectionHeight");return this},onRender:function e(){this.openSectionHeightPanel()},openSectionHeightPanel:function e(){var t=new n.default({dialogStyle:"dialog__panel-style--green",sectionHeights:this.sectionHeights,currentSectionHeight:this.currentSectionHeight}).render();this.listenTo(t,"height:change",this._setSectionHeight.bind(this))},_setSectionHeight:function e(t){this.trigger("setting:change","row-section-height-changed",t);this.currentSectionHeight=t}});var o=a;t["default"]=o},64777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(52687));function i(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.ItemView.extend({template:"view_settings_section_width_picker",initialize:function e(){this.sectionWidths=this.model.get("sectionWidths");this.currentSectionWidth=this.model.get("currentSectionWidth");return this},onRender:function e(){this.openSectionWidthPanel()},openSectionWidthPanel:function e(){var t=new n.default({dialogStyle:"dialog__panel-style--green",sectionWidths:this.sectionWidths,currentSectionWidth:this.currentSectionWidth}).render();this.listenTo(t,"width:change",this._setSectionWidth.bind(this))},_setSectionWidth:function e(t){this.trigger("setting:change","row-section-width-changed",t);this.currentSectionWidth=t}});var o=a;t["default"]=o},28338:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){var e=this.options.isRowsEnabled?"popup-panel-form__field":"settings-select";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e},events:{"change .js-select":"selectChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_select_component_v8r":"view_settings_select"},selectChanged:function e(){this.trigger("setting:change",this.model.get("id"),this.el.querySelector(".js-select").value.trim())}});var n=r;t["default"]=n},27955:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(3104));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return u(e)||l(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d="dark";var f="none";var p=Marionette.ItemView.extend({template:"view_settings_shape_divider",events:{"click .js-shape-divider-item":"shapeDividerClicked","click .js-shape-divider-color-option":"colorClicked"},initialize:function e(){this.shapeDividers=this.model.get("shapeDividers");this.currentShapeDividerIndex=this.shapeDividers.indexOf(this.model.get("currentShapeDivider"));this.currentShapeDividerColor=this.model.get("currentShapeDividerColor");this.styleSets=this.model.get("styleSets");return this},shapeDividerClicked:function e(t){if(this._isSelectedTypeAllowed(t.currentTarget.getAttribute("data-name"))){this.currentShapeDividerIndex=this.shapeDividers.indexOf(t.currentTarget.getAttribute("data-name"));"undefined"===typeof this.currentShapeDividerColor&&(this.currentShapeDividerColor=d);this._clearSelectedShapeDividerClasses();this._addSelectedShapeDividerClass(t.currentTarget);this._updateColorSwitchVisibility(this.shapeDividers[this.currentShapeDividerIndex]);this.updateShapeDivider();n.default.container.Tracker.track("Divider type selected",{shapeDividerType:this.shapeDividers[this.currentShapeDividerIndex]})}},colorClicked:function e(t){if(this._isSelectedColorAllowed(t.currentTarget.getAttribute("data-name"))){this.currentShapeDividerColor=t.currentTarget.getAttribute("data-name");this._clearSelectedColorClasses();this._addSelectedColorClass(t.currentTarget);this.updateShapeDivider();n.default.container.Tracker.track("Divider colour selected",{shapeDividerColour:this.currentShapeDividerColor})}},updateShapeDivider:function e(){this.trigger("setting:change","row-shape-divider-changed",{shapeDivider:this.shapeDividers[this.currentShapeDividerIndex],shapeDividerColor:this.currentShapeDividerColor})},_isSelectedColorAllowed:function e(t){return-1!==Object.keys(this.styleSets).indexOf(t)},_isSelectedTypeAllowed:function e(t){return-1!==this.shapeDividers.indexOf(t)},_clearSelectedShapeDividerClasses:function e(){a(this.el.querySelectorAll(".js-shape-divider-item")).forEach((function(e){e.classList.remove("is-current")}))},_addSelectedShapeDividerClass:function e(t){t.classList.add("is-current")},_clearSelectedColorClasses:function e(){a(this.el.querySelectorAll(".js-shape-divider-color-option")).forEach((function(e){e.classList.remove("is-current-color")}))},_addSelectedColorClass:function e(t){t.classList.add("is-current-color")},_updateColorSwitchVisibility:function e(t){var r=this.el.querySelector(".js-shape-divider-color-switch");t===f?r.setAttribute("hidden","true"):r.removeAttribute("hidden")}});var g=p;t["default"]=g},51815:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(98654));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l=Marionette.ItemView.extend({template:"view_settings_site_logo",events:{"click .js-change-logo":"openImagePicker","click .js-remove-logo":"removeLogo"},initialize:function e(){this.listenTo(this.model,"change:imageSrc",this.render);return this},removeLogo:function e(){this.model.set("imageSrc",null);this.notifyChanges()},openImagePicker:function e(){this.imagesPanelView=new n.default({model:new BaseKit.Panels.Model({panel:"upload",parentPanel:void 0,subPanel:false,isSubPanel:false,showSaveBtn:false,title:App.t("shared_components.imagespanel.source_title","Image source")})}).render();this.listenTo(this.imagesPanelView,"asset:change",this.setAsset);this.listenTo(this.imagesPanelView,"asset:reset",this.resetAsset)},setAsset:function e(t){this.previousModel=this.model.clone().toJSON();this.model.set({imageSrc:t.url,fileName:t.fileName,fileSize:t.fileSize,imageHeight:t.imageHeight,imageWidth:t.imageWidth,path:t.path,description:"assets",title:"assets",ref:t.ref});this.notifyChanges()},resetAsset:function e(){if(this.previousModel){this.model.set(o({},this.previousModel));this.notifyChanges()}},notifyChanges:function e(){this.trigger("setting:change",this.model.get("id"),{positionTopPercentage:this.model.get("positionTopPercentage"),src:this.model.get("imageSrc"),url:this.model.get("imageSrc"),fileName:this.model.get("fileName"),fileSize:this.model.get("fileSize"),imageWidth:this.model.get("imageWidth"),imageHeight:this.model.get("imageHeight"),path:this.model.get("path"),imageSize:"".concat(this.model.get("imageWidth")," x ").concat(this.model.get("imageHeight")),description:this.model.get("description"),title:this.model.get("title"),assetRef:this.model.get("ref")})}});var u=l;t["default"]=u},60316:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-slider"},events:{"change .js-input":"inputChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();this.listenTo(this.model,"change",this.render);return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_slider_component_v8r":"view_settings_slider"},inputChanged:function e(){var t=this.el.querySelector(".js-input").value.trim();this.model.set("value",t);this.trigger("setting:change",this.model.get("id"),t)}});var n=r;t["default"]=n},54783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=l(r(98654));var i=l(r(5234));var a=l(r(77181));var o=l(r(60851));var s=l(r(87448));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return p(e)||f(e)||d(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h="is-selected";var v=Marionette.ItemView.extend({template:"view_settings_stylepicker",className:function e(){var e="settings-stylepicker";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e},events:{"click .js-style-option":"styleClicked","click .js-image-option":"imageClicked","click .js-presets-option":"presetsClicked","click .js-replace-image-option":"replaceImageClicked","click .js-overlay-option":"overlayClicked","click .js-focal-point-option":"focalPointClicked","click .js-scroll-effects-option":"scrollEffectClicked"},initialize:function e(){this.defaultBackgroundPosition={left:"50%",top:"50%"};this.overlayColourType=this.model.get("overlayColourType");this.overlayColour=this.model.get("overlayColour");this.overlayOpacity=this.model.get("overlayOpacity");this.dominantColor=this.model.get("dominantColor");this.backgroundImageRef=this.model.get("backgroundImageRef");this.backgroundImage=this.model.get("backgroundImageSrc");this.backgroundPosition=this.model.get("backgroundPosition")||this.defaultBackgroundPosition;this.scrollEffect=this.model.get("scrollEffect");return this},onRender:function e(){this.cacheElements()},cacheElements:function e(){this.focalPointButton=this.el.querySelector(".js-focal-point-button");this.scrollEffectsButton=this.el.querySelector(".js-scroll-effects-button");this.overlayButton=this.el.querySelector(".js-overlay-button");this.editMode=this.el.querySelector(".js-style-edit-mode");this.presetsMode=this.el.querySelector(".js-style-presets-mode")},styleClicked:function e(t){this._clearSelectedStyleClasses();this._addSelectedStyleClass(t.currentTarget);document.querySelector(".js-section-gradient-tab").closest("li").removeAttribute("hidden");this.trigger("setting:change","row-style-changed",{styleName:t.currentTarget.getAttribute("data-name")});this._disableCustomiseButtons()},replaceImageClicked:function e(){var t=this;this.imagesPanelView=new n.default({model:new i.default({panel:"upload",title:App.t("shared_components.imagespanel.source_title","Image source")})}).render();this.listenTo(this.imagesPanelView,"asset:change",this.setAsset);this.listenTo(this.imagesPanelView,"close:images-panel",(function(){t.backgroundImage||t.presetsClicked()}))},imageClicked:function e(){if(!this._isImageStyleActive()&&this.backgroundImage){var t=this.backgroundPosition;this.setAsset({url:this.backgroundImage,ref:this.backgroundImageRef,dominantColor:this.dominantColor});this.setBackgroundPosition(t)}this._enableEditMode();document.querySelector(".js-section-gradient-tab").closest("li").setAttribute("hidden","");this.backgroundImage||this.replaceImageClicked()},presetsClicked:function e(){this._enablePresetsMode()},overlayClicked:function e(){if(!this._isOverlayButtonEnabled())return;this.overlayColourPanelView=new o.default({styleSets:this.model.get("styleSets"),overlayColour:this.overlayColour,overlayColourType:this.overlayColourType,overlayOpacity:this.overlayOpacity}).render();this.listenTo(this.overlayColourPanelView,"overlay:change",this.setOverlaySettings.bind(this));this.listenTo(this.overlayColourPanelView,"opacity:drag",this.updateOverlayOpacity.bind(this))},focalPointClicked:function e(){if(!this._isFocalPointButtonEnabled())return;this.imageFocusPanelView=new a.default({backgroundImage:this.backgroundImage,backgroundPosition:this.backgroundPosition}).render();this.listenTo(this.imageFocusPanelView,"focus:change",this.setBackgroundPosition)},scrollEffectClicked:function e(){if(!this._isScrollEffectsButtonEnabled())return;this.scrollEffectsPanel=new s.default({dialogStyle:"dialog__panel-style--green",effects:this.model.get("effects"),scrollEffect:this.scrollEffect}).render();this.listenTo(this.scrollEffectsPanel,"scrollEffect:change",this.setScrollEffect.bind(this))},setAsset:function e(t){this._clearSelectedStyleClasses();this._addSelectedStyleClass(this.el.querySelector(".js-image-option"));this.trigger("setting:change","row-image-changed",{asset:t,backgroundPosition:this.defaultBackgroundPosition});this.backgroundImage=t.url;this.backgroundPosition=this.defaultBackgroundPosition;this._enableCustomiseButtons()},setBackgroundPosition:function e(t){this.trigger("setting:change","row-background-position-changed",{backgroundPosition:t});this.backgroundPosition=t},setScrollEffect:function e(t){this.trigger("setting:change","row-scroll-effect-changed",t);this.scrollEffect=t},setOverlaySettings:function e(t){this.trigger("setting:change","row-overlay-changed",{overlayColour:t.overlayColour,overlayColourType:t.overlayColourType,overlayOpacity:t.overlayOpacity});this.overlayColour=t.overlayColour;this.overlayColourType=t.overlayColourType;this.overlayOpacity=t.overlayOpacity},updateOverlayOpacity:function e(t){this.trigger("setting:update","row-overlay-opacity-changed",{overlayOpacity:t});this.overlayOpacity=t},_addSelectedStyleClass:function e(t){t.classList.add(h)},_clearSelectedStyleClasses:function e(){u(this.el.querySelectorAll(".js-style-option, .js-image-option")).forEach((function(e){e.classList.remove(h)}))},_isImageStyleActive:function e(){return this.el.querySelector(".js-image-option").classList.contains("is-selected")},_isFocalPointButtonEnabled:function e(){return!this.focalPointButton.disabled},_isScrollEffectsButtonEnabled:function e(){return!this.scrollEffectsButton.disabled},_isOverlayButtonEnabled:function e(){return!this.overlayButton.disabled},_enableCustomiseButtons:function e(){this.overlayButton.disabled=false;this.focalPointButton.disabled=false;this.scrollEffectsButton.disabled=false},_disableCustomiseButtons:function e(){this.overlayButton.disabled=true;this.focalPointButton.disabled=true;this.scrollEffectsButton.disabled=true},_enableEditMode:function e(){this.presetsMode.setAttribute("hidden","true");this.editMode.removeAttribute("hidden")},_enablePresetsMode:function e(){this.editMode.setAttribute("hidden","true");this.presetsMode.removeAttribute("hidden")}});var m=v;t["default"]=m},13077:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(25757));var i=o(r(52422));var a=r(86192);function o(e){return e&&e.__esModule?e:{default:e}}var s=/^@[a-z0-9-_]*$/;var l=Marionette.ItemView.extend({activeItem:null,colourPicker:null,fontPicker:null,stylesCollection:null,events:{"click .js-section-list-button":"sectionListButtonClicked","click .js-back":"closeColourPalette","click .js-font-back":"closeFontOptions"},initialize:function e(t){this.styles=t.styles;this.stylesCollection=t.stylesCollection;this.fontListContents=t.fontListContents;this.allGoogleFonts=t.allGoogleFonts;this.presetAttributesCollection=t.presetAttributesCollection;this.rowsEnabled=t.rowsEnabled;this._setTemplate();return this},_setTemplate:function e(){this.template=this.rowsEnabled?"settings_widget_style_component_v8r":"view_settings_widget_style"},render:function e(){var t=this.convertStyleObjectsToJson();var r={styles:t};var n=Twig.render(Twig.templates[this.template],r);(0,a.emptyElement)(this.el);(0,a.append)(this.el,n);return this},replaceStyleVariablesWithColour:function e(t){var r=this;return t.map((function(e){e.value&&e.value.match(s)&&(e.value=r.getColourFromVariableName(e.value));return e}))},getColourFromVariableName:function e(t){var r="#000";var n;try{r=Editor.Site.Presets.getValueFromLessVar(t)}catch(e){n=this.stylesCollection.findWhere({name:t.substring(1)});if(!n)return r;r=n.get("value").match(s)?this.getColourFromVariableName(n.get("value")):n.get("value")}return r},viewReset:function e(t){this.styles=t.styles;this.stylesCollection=t.stylesCollection;this.fontListContents=t.fontListContents;this.allGoogleFonts=t.allGoogleFonts;return this},convertStyleObjectsToJson:function e(){var t=this;var r=_.clone(this.styles);Object.keys(r).forEach((function(e){r[e].styles=r[e].styles.map((function(e){return e.toJSON()}));r[e].styles=t.replaceStyleVariablesWithColour(r[e].styles);var n=r[e].styles.map((function(e){return e.type}));r[e].hasFont=n.indexOf("font")>-1}));return r},sectionListButtonClicked:function e(t){t.preventDefault();var r=t.currentTarget;var n=r.dataset.sectionName;var i=r.dataset.styleName;var a=r.dataset.styleType;var o=this.stylesCollection.findWhere({name:i});this.activeItem=r;"font"===a?this.showFontOptions(o,this.updateFont.bind(this)):this.showColourPicker(n,i)},getColourModel:function e(t){return this.stylesCollection.findWhere({name:t})},updateSampleColour:function e(t){this.activeItem.querySelector(".js-colour-preview").style.backgroundColor=t},updateFont:function e(){var t={templateStylePreprocessorVariables:this.stylesCollection.toProcessedJSON()};window.parent.fetch("/site-css-template-model/".concat(App.session.get("siteRef")),{credentials:"include",method:"POST",body:JSON.stringify(t),headers:{"X-CSRF-TOKEN":App.frontEndBucket.csrfToken}}).then((function(e){401===e.status&&Editor.Responsive.displaySessionTimeoutDialog();return e.text()})).then((function(e){Editor.Site.Dom.replaceCss(e);Editor.Site.Dom.cleanUpStyles()}))},colourChosen:function e(t,r){this.stylesCollection.findWhere({name:t}).set({value:r});this.stylesCollection.save();this.updateSampleColour(r)},showColourPicker:function e(t,r){var i=this;this.colourPicker=new n.default({el:".js-widget-colour-picker-contents",afterRender:function e(){return i.openColourPalette()},colourChosen:this.colourChosen.bind(this),showColourSet:this.rowsEnabled,colourSet:this.getColourSet()});this.colourPicker.setModel(this.getColourModel(r));this.colourPicker.render()},getColourSet:function e(){var t=this;return this.rowsEnabled?[{name:"light",attr:"@color--light"},{name:"dark",attr:"@color--dark"},{name:"accent",attr:"@color--accent"}].map((function(e){var r=t.presetAttributesCollection.findWhere({name:e.attr});e.background=r.get("value");return e})):[]},showFontOptions:function e(t,r){var n=this;this.fontPicker=new i.default({el:".js-widget-font-picker-contents",fontListContents:this.fontListContents,allGoogleFonts:this.allGoogleFonts,templateStylePreprocessorVariablesEnabled:true,rowsEnabled:this.rowsEnabled,afterRender:function e(){return n.openFontOptions()}});this.fontPicker.setModel(t);this.fontPicker.setFontChosen(r);this.fontPicker.render()},openColourPalette:function e(){var t=this;this.rowsEnabled||document.querySelector(".js-widget-property-panel").classList.remove("is-open");document.querySelector(".js-widget-styles-picker-container").classList.add("is-open");document.querySelector(".js-widget-colour-picker-container").classList.add("is-open");$(".js-widget-colour-picker-container").find(".js-back").off("click").on("click",(function(){return t.closeColourPalette()}));this.bindStylePickerBackstopEvent(this.closeColourPalette.bind(this))},closeColourPalette:function e(){this.rowsEnabled||document.querySelector(".js-widget-property-panel").classList.add("is-open");document.querySelector(".js-widget-styles-picker-container").classList.remove("is-open");document.querySelector(".js-widget-colour-picker-container").classList.remove("is-open");this.colourPicker.setElement(this.$(".js-colour-picker-wrapper"));this.colourPicker.destroy();this.colourPicker=null;this.unbindStylePickerBackstopEvent(this.closeHandler)},openFontOptions:function e(){var t=this;this.rowsEnabled||document.querySelector(".js-widget-property-panel").classList.remove("is-open");document.querySelector(".js-widget-styles-picker-container").classList.add("is-open");document.querySelector(".js-widget-font-picker-container").classList.add("is-open");$(".js-widget-font-picker-container").find(".js-font-back").off("click").on("click",(function(){return t.closeFontOptions()}));this.bindStylePickerBackstopEvent(this.closeFontOptions.bind(this))},closeFontOptions:function e(){this.rowsEnabled||document.querySelector(".js-widget-property-panel").classList.add("is-open");document.querySelector(".js-widget-styles-picker-container").classList.remove("is-open");document.querySelector(".js-widget-font-picker-container").classList.remove("is-open");this.fontPicker.setElement(this.$(".js-font-panel-wrapper"));this.fontPicker.destroy();this.fontPicker=null;this.unbindStylePickerBackstopEvent(this.closeHandler)},bindStylePickerBackstopEvent:function e(t){this.closeHandler=t;document.querySelector(".js-widget-styles-picker-backstop").addEventListener("click",this.closeHandler)},unbindStylePickerBackstopEvent:function e(t){t&&document.querySelector(".js-widget-styles-picker-backstop").removeEventListener("click",t)}});var u=l;t["default"]=u},64626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-textarea"},events:{"change textarea":"textareaChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_textarea_component_v8r":"view_settings_textarea"},textareaChanged:function e(){var t=this.el.querySelector(".js-input").value.trim();this.model.set("value",t);this.trigger("setting:change",this.model.get("id"),t)}});var n=r;t["default"]=n},88975:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.widgetRegister=t.widgetRegister}i(e,[{key:"observeWidgets",value:function e(t){var r=this;this._createAdaptor();Object.keys(t).forEach((function(e){if(!r.widgets[e])return;Object.keys(t[e]).forEach((function(n){r.widgets[e].on(n,t[e][n])}))}))}},{key:"_createAdaptor",value:function e(){this.widgets={"main-widgets":this.widgetRegister.getZoneWidgetCollection(),"template-widgets":this.widgetRegister.getTemplateWidgetCollection()}}}]);return e}();var o=a;t["default"]=o},59532:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(75420);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function o(e,t,r){t&&a(e.prototype,t);r&&a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var s=function(){function e(t){i(this,e);this.StdModelClass=t.StdModelClass}o(e,[{key:"transform",value:function e(t,r){var i=(0,n.getWidgetClass)({widgetType:t,type:"Model",StdClass:this.StdModelClass});if("function"!==typeof i.prototype.transformWidgetData)return r;return i.prototype.transformWidgetData(r)}}]);return e}();var l=s;t["default"]=l},47387:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(75420);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function o(e,t,r){t&&a(e.prototype,t);r&&a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var s=function(){function e(t){i(this,e);this.StdModelClass=t.StdModelClass}o(e,[{key:"getDefaults",value:function e(t){var r;var i=(0,n.getWidgetClass)({widgetType:t,type:"Model",StdClass:this.StdModelClass});r=t.includes("widget.content")?i.prototype.defaults(t):i.prototype.defaults;return r}}]);return e}();var l=s;t["default"]=l},16122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.widgetApi=t.widgetApi}i(e,[{key:"cloneZone",value:function e(t){this.widgetApi.cloneZone({name:t.name,pageRef:t.pageRef})}}]);return e}();var o=a;t["default"]=o},23453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function i(e,t,r){t&&n(e.prototype,t);r&&n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}var a=function(){function e(t){r(this,e);this.widgetApi=t.widgetApi}i(e,[{key:"restoreZone",value:function e(t){this.widgetApi.restoreZone({name:t.name,pageRef:t.pageRef})}}]);return e}();var o=a;t["default"]=o},93676:(e,t,r)=>{"use strict";r(8212);r(81193);r(49942);r(85074);r(30272);r(92593);r(52377);r(41689);r(47125);r(51759);r(53198);r(83187);r(54029);r(35800)},35800:e=>{var t=function(e){"use strict";var t=Object.prototype;var r=t.hasOwnProperty;var n;var i="function"===typeof Symbol?Symbol:{};var a=i.iterator||"@@iterator";var o=i.asyncIterator||"@@asyncIterator";var s=i.toStringTag||"@@toStringTag";function l(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true});return e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v;var a=Object.create(i.prototype);var o=new A(n||[]);a._invoke=k(e,r,o);return a}e.wrap=u;function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var d="suspendedStart";var f="suspendedYield";var p="executing";var g="completed";var h={};function v(){}function m(){}function y(){}var b={};l(b,a,(function(){return this}));var w=Object.getPrototypeOf;var _=w&&w(w(j([])));_&&_!==t&&r.call(_,a)&&(b=_);var S=y.prototype=v.prototype=Object.create(b);m.prototype=y;l(S,"constructor",y);l(y,"constructor",m);m.displayName=l(y,s,"GeneratorFunction");function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))};e.mark=function(e){if(Object.setPrototypeOf)Object.setPrototypeOf(e,y);else{e.__proto__=y;l(e,s,"GeneratorFunction")}e.prototype=Object.create(S);return e};e.awrap=function(e){return{__await:e}};function P(e,t){function n(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg;var d=u.value;if(d&&"object"===typeof d&&r.call(d,"__await"))return t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)}));return t.resolve(d).then((function(e){u.value=e;o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var i;function a(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}this._invoke=a}E(P.prototype);l(P.prototype,o,(function(){return this}));e.AsyncIterator=P;e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))};function k(e,t,r){var n=d;return function i(a,o){if(n===p)throw new Error("Generator is already running");if(n===g){if("throw"===a)throw o;return D()}r.method=a;r.arg=o;while(true){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===h)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d){n=g;throw r.arg}r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=c(e,t,r);if("normal"===u.type){n=r.done?g:f;if(u.arg===h)continue;return{value:u.arg,done:r.done}}if("throw"===u.type){n=g;r.method="throw";r.arg=u.arg}}}}function C(e,t){var r=e.iterator[t.method];if(r===n){t.delegate=null;if("throw"===t.method){if(e.iterator["return"]){t.method="return";t.arg=n;C(e,t);if("throw"===t.method)return h}t.method="throw";t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=c(r,e.iterator,t.arg);if("throw"===i.type){t.method="throw";t.arg=i.arg;t.delegate=null;return h}var a=i.arg;if(!a){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return h}if(!a.done)return a;t[e.resultName]=a.value;t.next=e.nextLoc;if("return"!==t.method){t.method="next";t.arg=n}t.delegate=null;return h}E(S);l(S,s,"Generator");l(S,a,(function(){return this}));l(S,"toString",(function(){return"[object Generator]"}));function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]);if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(O,this);this.reset(true)}e.keys=function(e){var t=[];for(var r in e)t.push(r);t.reverse();return function r(){while(t.length){var n=t.pop();if(n in e){r.value=n;r.done=false;return r}}r.done=true;return r}};function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){while(++i<e.length)if(r.call(e,i)){t.value=e[i];t.done=false;return t}t.value=n;t.done=true;return t};return o.next=o}}return{next:D}}e.values=j;function D(){return{value:n,done:true}}A.prototype={constructor:A,reset:function(e){this.prev=0;this.next=0;this.sent=this._sent=n;this.done=false;this.delegate=null;this.method="next";this.arg=n;this.tryEntries.forEach(T);if(!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=true;var e=this.tryEntries[0];var t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(r,i){s.type="throw";s.arg=e;t.next=r;if(i){t.method="next";t.arg=n}return!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];var s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc");var u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,true);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,true)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};o.type=e;o.arg=t;if(a){this.method="next";this.next=a.finallyLoc;return h}return this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;if("break"===e.type||"continue"===e.type)this.next=e.arg;else if("return"===e.type){this.rval=this.arg=e.arg;this.method="return";this.next="end"}else"normal"===e.type&&t&&(this.next=t);return h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e){this.complete(r.completion,r.afterLoc);T(r);return h}}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){this.delegate={iterator:j(e),resultName:t,nextLoc:r};"next"===this.method&&(this.arg=n);return h}};return e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},93725:e=>{!function(t,r){e.exports=r()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n={};function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(n),r.d(n,"on",(function(){return o})),r.d(n,"off",(function(){return s})),r.d(n,"createElementFromString",(function(){return u})),r.d(n,"removeAttribute",(function(){return c})),r.d(n,"createFromTemplate",(function(){return d})),r.d(n,"eventPath",(function(){return f})),r.d(n,"adjustableInputNumbers",(function(){return p}));const o=l.bind(null,"addEventListener"),s=l.bind(null,"removeEventListener");function l(e,t,r,n,a={}){t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);for(const o of t)for(const t of r)o[e](t,n,i({capture:!1},a));return Array.prototype.slice.call(arguments,1)}function u(e){const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild}function c(e,t){const r=e.getAttribute(t);return e.removeAttribute(t),r}function d(e){return function e(t,r={}){const n=c(t,"data-con"),i=c(t,"data-key");i&&(r[i]=t);const a=n?r[n]={}:r;for(let r of Array.from(t.children)){const t=c(r,"data-arr");t?(a[t]||(a[t]=[])).push(r):e(r,a)}return r}(u(e))}function f(e){let t=e.path||e.composedPath&&e.composedPath();if(t)return t;let r=e.target.parentElement;for(t=[e.target,r];r=r.parentElement;)t.push(r);return t.push(document,window),t}function p(e,t=(e=>e)){function r(r){const n=[.001,.01,.1][Number(r.shiftKey||2*r.ctrlKey)]*(r.deltaY<0?1:-1);let i=0,a=e.selectionStart;e.value=e.value.replace(/[\d.]+/g,(e,r)=>r<=a&&r+e.length>=a?(a=r,t(Number(e),n,i)):(i++,e)),e.focus(),e.setSelectionRange(a,a),r.preventDefault(),e.dispatchEvent(new Event("input"))}o(e,"focus",()=>o(window,"wheel",r,{passive:!1})),o(e,"blur",()=>s(window,"wheel",r))}const{min:g,max:h,floor:v,round:m}=Math;function y(e,t,r){t/=100,r/=100;let n=v(e=e/360*6),i=e-n,a=r*(1-t),o=r*(1-i*t),s=r*(1-(1-i)*t),l=n%6;return[255*[r,o,a,a,s,r][l],255*[s,r,r,o,a,a][l],255*[a,a,s,r,r,o][l]]}function b(e,t,r){let n,i,a;const o=g(e/=255,t/=255,r/=255),s=h(e,t,r),l=s-o;if(0===l)n=i=0;else{i=l/s;let a=((s-e)/6+l/2)/l,o=((s-t)/6+l/2)/l,u=((s-r)/6+l/2)/l;e===s?n=u-o:t===s?n=1/3+a-u:r===s&&(n=2/3+o-a),n<0?n+=1:n>1&&(n-=1)}return[360*n,100*i,100*(a=s)]}function w(e,t,r,n){return t/=100,r/=100,[...b(255*(1-g(1,(e/=100)*(1-(n/=100))+n)),255*(1-g(1,t*(1-n)+n)),255*(1-g(1,r*(1-n)+n)))]}function _(e,t,r){return t/=100,[e,2*(t*=(r/=100)<.5?r:1-r)/(r+t)*100,100*(r+t)]}function S(e){return b(...e.match(/.{2}/g).map(e=>parseInt(e,16)))}function E(e){e=e.match(/^[a-zA-Z]+$/)?function(e){const t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,t.fillStyle}(e):e;const t={cmyk:/^cmyk[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)/i,rgba:/^(rgb|rgba)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]*?([\d.]+|$)/i,hsla:/^(hsl|hsla)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]*?([\d.]+|$)/i,hsva:/^(hsv|hsva)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]*?([\d.]+|$)/i,hex:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},r=e=>e.map(e=>/^(|\d+)\.\d+|\d+$/.test(e)?Number(e):void 0);let n;for(const i in t)if(n=t[i].exec(e))switch(i){case"cmyk":{let[,e,t,a,o]=r(n);if(e>100||t>100||a>100||o>100)break;return{values:[...w(e,t,a,o),1],type:i}}case"rgba":{let[,,e,t,a,o=1]=r(n);if(e>255||t>255||a>255||o<0||o>1)break;return{values:[...b(e,t,a),o],type:i}}case"hex":{const e=(e,t)=>[e.substring(0,t),e.substring(t,e.length)];let t,[,r]=n;return 3===r.length?r+="F":6===r.length&&(r+="FF"),4===r.length?[r,t]=e(r,3).map(e=>e+e):8===r.length&&([r,t]=e(r,6)),t=parseInt(t,16)/255,{values:[...S(r),t],type:i}}case"hsla":{let[,,e,t,a,o=1]=r(n);if(e>360||t>100||a>100||o<0||o>1)break;return{values:[..._(e,t,a),o],type:i}}case"hsva":{let[,,e,t,a,o=1]=r(n);if(e>360||t>100||a>100||o<0||o>1)break;return{values:[e,t,a,o],type:i}}}return{values:null,type:null}}function P(e=0,t=0,r=0,n=1){const{ceil:i}=Math,a={h:e,s:t,v:r,a:n,toHSVA(){const e=[a.h,a.s,a.v],t=e.map(i);return e.push(a.a),e.toString=()=>"hsva(".concat(t[0],", ").concat(t[1],"%, ").concat(t[2],"%, ").concat(a.a.toFixed(1),")"),e},toHSLA(){const e=function(e,t,r){let n=(2-(t/=100))*(r/=100)/2;return 0!==n&&(t=1===n?0:n<.5?t*r/(2*n):t*r/(2-2*n)),[e,100*t,100*n]}(a.h,a.s,a.v),t=e.map(i);return e.push(a.a),e.toString=()=>"hsla(".concat(t[0],", ").concat(t[1],"%, ").concat(t[2],"%, ").concat(a.a.toFixed(1),")"),e},toRGBA(){const e=y(a.h,a.s,a.v),t=e.map(i);return e.push(a.a),e.toString=()=>"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(a.a.toFixed(1),")"),e},toCMYK(){const e=function(e,t,r){const n=y(e,t,r),i=n[0]/255,a=n[1]/255,o=n[2]/255;let s,l,u,c;return[100*(l=1===(s=g(1-i,1-a,1-o))?0:(1-i-s)/(1-s)),100*(u=1===s?0:(1-a-s)/(1-s)),100*(c=1===s?0:(1-o-s)/(1-s)),100*s]}(a.h,a.s,a.v),t=e.map(i);return e.toString=()=>"cmyk(".concat(t[0],"%, ").concat(t[1],"%, ").concat(t[2],"%, ").concat(t[3],"%)"),e},toHEXA(){const e=function(e,t,r){return y(e,t,r).map(e=>m(e).toString(16).padStart(2,"0"))}(a.h,a.s,a.v);return e.toString=()=>{const t=a.a>=1?"":Number((255*a.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return"#".concat(e.join("").toUpperCase()+t)},e},clone:()=>P(a.h,a.s,a.v,a.a)};return a}const k=e=>Math.max(Math.min(e,1),0);function C(e){const t={options:Object.assign({lock:null,onchange:()=>0},e),_tapstart(e){o(document,["mouseup","touchend","touchcancel"],t._tapstop),o(document,["mousemove","touchmove"],t._tapmove),e.preventDefault(),t._tapmove(e)},_tapmove(e){const{options:{lock:n},cache:i}=t,{element:a,wrapper:o}=r,s=o.getBoundingClientRect();let l=0,u=0;if(e){const t=e&&e.touches&&e.touches[0];l=e?(t||e).clientX:0,u=e?(t||e).clientY:0,l<s.left?l=s.left:l>s.left+s.width&&(l=s.left+s.width),u<s.top?u=s.top:u>s.top+s.height&&(u=s.top+s.height),l-=s.left,u-=s.top}else i&&(l=i.x*s.width,u=i.y*s.height);"h"!==n&&(a.style.left="calc(".concat(l/s.width*100,"% - ").concat(a.offsetWidth/2,"px)")),"v"!==n&&(a.style.top="calc(".concat(u/s.height*100,"% - ").concat(a.offsetHeight/2,"px)")),t.cache={x:l/s.width,y:u/s.height};const c=k(l/o.offsetWidth),d=k(u/o.offsetHeight);switch(n){case"v":return r.onchange(c);case"h":return r.onchange(d);default:return r.onchange(c,d)}},_tapstop(){s(document,["mouseup","touchend","touchcancel"],t._tapstop),s(document,["mousemove","touchmove"],t._tapmove)},trigger(){t._tapmove()},update(e=0,r=0){const{left:n,top:i,width:a,height:o}=t.options.wrapper.getBoundingClientRect();t._tapmove({clientX:n+a*e,clientY:i+o*r})},destroy(){const{options:e,_tapstart:r}=t;s([e.wrapper,e.element],"mousedown",r),s([e.wrapper,e.element],"touchstart",r,{passive:!1})}},{options:r,_tapstart:n}=t;return o([r.wrapper,r.element],"mousedown",n),o([r.wrapper,r.element],"touchstart",n,{passive:!1}),t}function O(e={}){e=Object.assign({onchange:()=>0,className:"",elements:[]},e);const t=o(e.elements,"click",t=>{e.elements.forEach(r=>r.classList[t.target===r?"add":"remove"](e.className)),e.onchange(t)});return{destroy:()=>s(...t)}}var T=({components:e,strings:t,useAsButton:r,inline:n,appClass:i})=>{const a=e=>e?"":'style="display:none" hidden',o=d('\n      <div data-key="root" class="pickr">\n\n        '.concat(r?"":'<button type="button" data-key="button" class="pcr-button"></button>','\n\n        <div data-key="app" class="pcr-app ').concat(i||"",'" ').concat(n?'style="position: unset"':"",'>\n          <div class="pcr-selection" ').concat(a(e.palette),'>\n            <div data-con="preview" class="pcr-color-preview" ').concat(a(e.preview),'>\n              <button type="button" data-key="lastColor" class="pcr-last-color"></button>\n              <div data-key="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div data-con="palette" class="pcr-color-palette">\n              <div data-key="picker" class="pcr-picker"></div>\n              <div data-key="palette" class="pcr-palette"></div>\n            </div>\n\n            <div data-con="hue" class="pcr-color-chooser" ').concat(a(e.hue),'>\n              <div data-key="picker" class="pcr-picker"></div>\n              <div data-key="slider" class="pcr-hue pcr-slider"></div>\n            </div>\n\n            <div data-con="opacity" class="pcr-color-opacity" ').concat(a(e.opacity),'>\n              <div data-key="picker" class="pcr-picker"></div>\n              <div data-key="slider" class="pcr-opacity pcr-slider"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ').concat(e.palette?"":" pcr-last",'" data-key="swatches"></div> \n\n          <div data-con="interaction" class="pcr-interaction" ').concat(a(Object.keys(e.interaction).length),'>\n            <input data-key="result" class="pcr-result" type="text" spellcheck="false" ').concat(a(e.interaction.input),'>\n\n            <input data-arr="options" class="pcr-type" data-type="HEXA" value="HEXA" type="button" ').concat(a(e.interaction.hex),'>\n            <input data-arr="options" class="pcr-type" data-type="RGBA" value="RGBA" type="button" ').concat(a(e.interaction.rgba),'>\n            <input data-arr="options" class="pcr-type" data-type="HSLA" value="HSLA" type="button" ').concat(a(e.interaction.hsla),'>\n            <input data-arr="options" class="pcr-type" data-type="HSVA" value="HSVA" type="button" ').concat(a(e.interaction.hsva),'>\n            <input data-arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ').concat(a(e.interaction.cmyk),'>\n\n            <input data-key="save" class="pcr-save" value="').concat(t.save||"Save",'" type="button" ').concat(a(e.interaction.save),'>\n            <input data-key="clear" class="pcr-clear" value="').concat(t.clear||"Clear",'" type="button" ').concat(a(e.interaction.clear),">\n          </div>\n        </div>\n      </div>\n    ")),s=o.interaction;return s.options.find(e=>!e.hidden&&!e.classList.add("active")),s.type=()=>s.options.find(e=>e.classList.contains("active")),o};function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class j{constructor(e){A(this,"_initializingActive",!0),A(this,"_recalc",!0),A(this,"_color",P()),A(this,"_lastColor",P()),A(this,"_swatchColors",[]),A(this,"_eventListener",{swatchselect:[],change:[],save:[],init:[]}),this.options=e=Object.assign({appClass:null,useAsButton:!1,disabled:!1,comparison:!0,closeOnScroll:!1,components:{interaction:{}},strings:{},swatches:null,inline:!1,sliders:"v",default:"#42445A",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"},e);const{swatches:t,inline:r,components:n}=e;n.interaction||(n.interaction={});const{preview:i,opacity:a,hue:o,palette:s}=n;n.palette=s||i||a||o,r&&(e.showAlways=!0),this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),t&&t.length&&t.forEach(e=>this.addSwatch(e)),this._nanopop=function({el:e,reference:t,padding:r=8}){const n={start:"sme",middle:"mse",end:"ems"},i={top:"tb",right:"rl",bottom:"bt",left:"lr"},a=((e={})=>(t,r=e[t])=>{if(r)return r;const[n,i="middle"]=t.split("-"),a="top"===n||"bottom"===n;return e[t]={position:n,variant:i,isVertical:a}})();return{update(o){const{position:s,variant:l,isVertical:u}=a(o),c=t.getBoundingClientRect(),d=e.getBoundingClientRect(),f=((e,t=0)=>{for(;e=e.parentElement;)t+=e.scrollTop;return t})(e),p=u?{t:c.top-d.height-r,b:c.bottom+r+f}:{r:c.right+r,l:c.left-d.width-r},g=u?{s:c.left+c.width-d.width,m:-d.width/2+(c.left+c.width/2),e:c.left}:{s:c.bottom-d.height,m:c.bottom-c.height/2-d.height/2,e:c.bottom-c.height};function h(t,r,n){const i="top"===n,a=i?d.height:d.width,o=window[i?"innerHeight":"innerWidth"];for(const i of t){const t=r[i];if(t>0&&t+a<o)return e.style[n]="".concat(t,"px"),!0}return!1}const v=h(n[l],g,u?"left":"top"),m=h(i[s],p,u?"top":"left");v&&m?e.style.margin="inherit":Object.assign(e.style,{top:"".concat(r,"px"),left:0,right:0,margin:"auto"})}}}({reference:this._root.button,el:this._root.app});const{button:l}=this._root,u=this;requestAnimationFrame((function t(){if(null===l.offsetParent&&l!==document.body)return requestAnimationFrame(t);u.setColor(e.default),u._rePositioningPicker(),e.defaultRepresentation&&(u._representation=e.defaultRepresentation,u.setColorRepresentation(u._representation)),e.showAlways&&u.show(),u._initializingActive=!1,u._emit("init")}))}_preBuild(){const e=this.options;"string"==typeof e.el&&(e.el=e.el.split(/>>/g).reduce((e,t,r,n)=>(e=e.querySelector(t),r<n.length-1?e.shadowRoot:e),document)),this._root=T(e),e.useAsButton&&(this._root.button=e.el),document.body.appendChild(this._root.root)}_finalBuild(){const e=this.options,t=this._root;if(document.body.removeChild(t.root),e.inline){const{parentElement:r}=e.el;r.lastChild===e.el?r.appendChild(t.app):r.insertBefore(t.app,e.el.nextSibling)}else document.body.appendChild(t.app);e.useAsButton||e.el.parentNode.replaceChild(t.root,e.el),e.disabled&&this.disable(),e.comparison||(t.button.style.transition="none",e.useAsButton||(t.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const e=this,t=this.options.components,[r,n]=(()=>{const{sliders:t}=e.options;let r="v",n="v";t.match(/^[vh]+$/g)&&(t.length>1?[r,n]=t:r=n=t);const i={v:"h",h:"v"};return[i[r],i[n]]})(),i={palette:C({element:e._root.palette.picker,wrapper:e._root.palette.palette,onchange(r,n){if(!t.palette)return;const{_color:i,_root:a,options:o}=e;i.s=100*r,i.v=100-100*n,i.v<0&&(i.v=0);const s=i.toRGBA().toString();this.element.style.background=s,this.wrapper.style.background="\n                        linear-gradient(to top, rgba(0, 0, 0, ".concat(i.a,"), transparent),\n                        linear-gradient(to left, hsla(").concat(i.h,", 100%, 50%, ").concat(i.a,"), rgba(255, 255, 255, ").concat(i.a,"))\n                    "),o.comparison||(a.button.style.color=s,o.useAsButton||(a.preview.lastColor.style.color=s)),a.preview.currentColor.style.color=s,e._recalc&&e._updateOutput(),e.options.comparison||a.button.classList.remove("clear")}}),hue:C({lock:n,element:e._root.hue.picker,wrapper:e._root.hue.slider,onchange(r){t.hue&&t.palette&&(e._color.h=360*r,this.element.style.backgroundColor="hsl(".concat(e._color.h,", 100%, 50%)"),i.palette.trigger())}}),opacity:C({lock:r,element:e._root.opacity.picker,wrapper:e._root.opacity.slider,onchange(r){t.opacity&&t.palette&&(e._color.a=Math.round(100*r)/100,this.element.style.background="rgba(0, 0, 0, ".concat(e._color.a,")"),e.components.palette.trigger())}}),selectable:O({elements:e._root.interaction.options,className:"active",onchange(t){e._representation=t.target.getAttribute("data-type").toUpperCase(),e._updateOutput()}})};this.components=i}_bindEvents(){const{_root:e,options:t}=this,r=[o(e.interaction.clear,"click",()=>this._clearColor()),o(e.preview.lastColor,"click",()=>this.setHSVA(...this._lastColor.toHSVA())),o(e.interaction.save,"click",()=>{!this.applyColor()&&!t.showAlways&&this.hide()}),o(e.interaction.result,["keyup","input"],e=>{this._recalc=!1,this.setColor(e.target.value,!0)&&!this._initializingActive&&this._emit("change",this._color),e.stopImmediatePropagation()}),o([e.palette.palette,e.palette.picker,e.hue.slider,e.hue.picker,e.opacity.slider,e.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0)];if(!t.showAlways){const n=t.closeWithKey;r.push(o(e.button,"click",()=>this.isOpen()?this.hide():this.show()),o(document,"keyup",e=>this.isOpen()&&(e.key===n||e.code===n)&&this.hide()),o(document,["touchstart","mousedown"],t=>{this.isOpen()&&!f(t).some(t=>t===e.app||t===e.button)&&this.hide()},{capture:!0}))}if(t.adjustableNumbers){const t={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};p(e.interaction.result,(e,r,n)=>{const i=t[this.getColorRepresentation().toLowerCase()];if(i){const t=i[n],a=e+(t>=100?1e3*r:r);return a<=0?0:Number((a<t?a:t).toPrecision(3))}return e})}if(!t.inline){let e=null;const n=this;r.push(o(window,["scroll","resize"],()=>{n.isOpen()&&(t.closeOnScroll&&n.hide(),null===e?(e=setTimeout(()=>e=null,100),requestAnimationFrame((function t(){n._rePositioningPicker(),null!==e&&requestAnimationFrame(t)}))):(clearTimeout(e),e=setTimeout(()=>e=null,100)))},{capture:!0}))}this._eventBindings=r}_rePositioningPicker(){const{options:e}=this;e.inline||this._nanopop.update(e.position)}_updateOutput(){if(this._root.interaction.type()){const e="to".concat(this._root.interaction.type().getAttribute("data-type"));this._root.interaction.result.value="function"==typeof this._color[e]?this._color[e]().toString():""}this._initializingActive||this._emit("change",this._color)}_clearColor(){const{_root:e,options:t}=this;t.useAsButton||(e.button.style.color="rgba(0, 0, 0, 0.15)"),e.button.classList.add("clear"),t.showAlways||this.hide(),this._initializingActive||this._emit("save",null)}_emit(e,...t){this._eventListener[e].forEach(e=>e(...t,this))}on(e,t){return"function"==typeof t&&"string"==typeof e&&e in this._eventListener&&this._eventListener[e].push(t),this}off(e,t){const r=this._eventListener[e];if(r){const e=r.indexOf(t);~e&&r.splice(e,1)}return this}addSwatch(e){const{values:t}=E(e);if(t){const{_swatchColors:e,_root:r}=this,n=P(...t),i=u('<button type="button" style="color: '.concat(n.toRGBA(),'"></button>'));return r.swatches.appendChild(i),e.push({element:i,hsvaColorObject:n}),this._eventBindings.push(o(i,"click",()=>{this.setHSVA(...n.toHSVA(),!0),this._emit("swatchselect",n)})),!0}return!1}removeSwatch(e){if("number"==typeof e){const t=this._swatchColors[e];if(t){const{element:r}=t;return this._root.swatches.removeChild(r),this._swatchColors.splice(e,1),!0}}return!1}applyColor(e=!1){const{preview:t,button:r}=this._root,n=this._color.toRGBA().toString();t.lastColor.style.color=n,this.options.useAsButton||(r.style.color=n),r.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||e||this._emit("save",this._color)}destroy(){this._eventBindings.forEach(e=>s(...e)),Object.keys(this.components).forEach(e=>this.components[e].destroy())}destroyAndRemove(){this.destroy();const e=this._root.root;e.parentElement.removeChild(e);const t=this._root.app;t.parentElement.removeChild(t);const r=this;Object.keys(r).forEach(e=>r[e]=null)}hide(){return this._root.app.classList.remove("visible"),this}show(){if(!this.options.disabled)return this._root.app.classList.add("visible"),this._rePositioningPicker(),this}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(e=360,t=0,r=0,n=1,i=!1){const a=this._recalc;if(this._recalc=!1,e<0||e>360||t<0||t>100||r<0||r>100||n<0||n>1)return!1;this._color=P(e,t,r,n);const{hue:o,opacity:s,palette:l}=this.components;return o.update(0,e/360),s.update(0,n),l.update(t/100,1-r/100),this._recalc=a,this._recalc&&this._updateOutput(),i||this.applyColor(),!0}setColor(e,t=!1){if(null===e)return this._clearColor(),!0;const{values:r,type:n}=E(e);if(r){const e=n.toUpperCase(),{options:i}=this._root.interaction,a=i.find(t=>t.getAttribute("data-type").startsWith(e));if(a&&!a.hidden)for(const e of i)e.classList[e===a?"add":"remove"]("active");return this.setHSVA(...r,t)}}setColorRepresentation(e){return e=e.toUpperCase(),!!this._root.interaction.options.find(t=>t.getAttribute("data-type").startsWith(e)&&!t.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}j.utils=n,j.create=e=>new j(e),j.version="0.6.6";t.default=j}]).default}))},41351:function(e,t,r){e=r.nmd(e);var n;(function(i){"use strict";var a;var o=".";var s="function";var l="string";var u="__global__";var c="Provider";var d=0;var f=Array.prototype.slice;var p=function e(t,r){var n=t[r];if(n===i&&a.config.strict)throw new Error("Bottle was unable to resolve a service.  `"+r+"` is undefined.");return n};var g=function e(t){var r;if(!this.nested[t]){r=a.pop();this.nested[t]=r;this.factory(t,(function e(){return r.container}))}return this.nested[t]};var h=function e(t){return t.split(o).reduce(p,this)};var v=function e(t,r,n,i){var a={configurable:true,enumerable:true};if(t.length)a.get=function e(){var r=0;var i=function e(a){if(a)throw a;t[r]&&t[r++](n,i)};i();return n};else{a.value=n;a.writable=true}Object.defineProperty(i,r,a);return i[r]};var m=function e(t,r){var n,i;if(typeof t===s){r=t;t=u}n=t.split(o);i=n.shift();if(n.length)g.call(this,i).middleware(n.join(o),r);else{this.middlewares[i]||(this.middlewares[i]=[]);this.middlewares[i].push(r)}return this};var y=function e(t,r){return r(t)};var b=function e(t,r){return(t[r]||[]).concat(t.__global__||[])};var w=function e(t,r){var n,a,o,s,l,u;s=this.id;o=this.container;l=this.decorators;u=this.middlewares;n=t+c;a=Object.create(null);a[n]={configurable:true,enumerable:true,get:function e(){var t=new r;delete o[n];o[n]=t;return t}};a[t]={configurable:true,enumerable:true,get:function e(){var r=o[n];var a;if(r){a=b(l,t).reduce(y,r.$get(o));delete o[n];delete o[t]}return a===i?a:v(b(u,t),t,a,o)}};Object.defineProperties(o,a);return this};var _=function e(t,r){var n,i;n=t.split(o);if(this.providerMap[t]&&1===n.length&&!this.container[t+c])return console.error(t+" provider already instantiated.");this.originalProviders[t]=r;this.providerMap[t]=true;i=n.shift();if(n.length){g.call(this,i).provider(n.join(o),r);return this}return w.call(this,i,r)};var S=function e(t,r){return _.call(this,t,(function e(){this.$get=r}))};var E=function e(t,r,n){var i=arguments.length>3?f.call(arguments,3):[];var a=this;return S.call(this,t,(function e(){var t=r;var o=i.map(h,a.container);if(!n)return t.apply(null,o);return new(r.bind.apply(r,[null].concat(o)))}))};var P=function e(t,r){return E.apply(this,[t,r,true].concat(f.call(arguments,2)))};var k=function e(t,r){return E.apply(this,[t,r,false].concat(f.call(arguments,2)))};var C=function e(t,r){Object.defineProperty(this,t,{configurable:true,enumerable:true,value:r,writable:true})};var O=function e(t,r){var n=t[r];if(!n){n={};C.call(t,r,n)}return n};var T=function e(t,r){var n;n=t.split(o);t=n.pop();C.call(n.reduce(O,this.container),t,r);return this};var A=function e(t,r){Object.defineProperty(this,t,{configurable:false,enumerable:true,value:r,writable:false})};var j=function e(t,r){var n=t.split(o);t=n.pop();A.call(n.reduce(O,this.container),t,r);return this};var D=function e(t,r){var n,i;if(typeof t===s){r=t;t=u}n=t.split(o);i=n.shift();if(n.length)g.call(this,i).decorator(n.join(o),r);else{this.decorators[i]||(this.decorators[i]=[]);this.decorators[i].push(r)}return this};var L=function e(t){this.deferred.push(t);return this};var R=function e(t){return(t||[]).map(h,this.container)};var I=function e(t,r){return S.call(this,t,(function e(t){return{instance:r.bind(r,t)}}))};var x=function e(t){return!/^\$(?:decorator|register|list)$|Provider$/.test(t)};var M=function e(t){return Object.keys(t||this.container||{}).filter(x)};var V={};var N=function e(t){var r;if(typeof t===l){r=V[t];if(!r){V[t]=r=new a;r.constant("BOTTLE_NAME",t)}return r}return new a};var F=function e(t){typeof t===l?delete V[t]:V={}};var B=function e(t){var r=t.$value===i?t:t.$value;return this[t.$type||"service"].apply(this,[t.$name,r].concat(t.$inject||[]))};var W=function e(t){delete this.providerMap[t];delete this.container[t];delete this.container[t+c]};var G=function e(t){var r=this.originalProviders;var n=Array.isArray(t);Object.keys(this.originalProviders).forEach((function e(i){if(n&&-1===t.indexOf(i))return;var a=i.split(o);a.length>1&&a.forEach(W,g.call(this,a[0]));W.call(this,i);this.provider(i,r[i])}),this)};var q=function e(t){this.deferred.forEach((function e(r){r(t)}));return this};a=function e(t){if(!(this instanceof e))return e.pop(t);this.id=d++;this.decorators={};this.middlewares={};this.nested={};this.providerMap={};this.originalProviders={};this.deferred=[];this.container={$decorator:D.bind(this),$register:B.bind(this),$list:M.bind(this)}};a.prototype={constant:j,decorator:D,defer:L,digest:R,factory:S,instanceFactory:I,list:M,middleware:m,provider:_,resetProviders:G,register:B,resolve:q,service:P,serviceFactory:k,value:T};a.pop=N;a.clear=F;a.list=M;a.config={strict:false};var U={function:true,object:true};(function o(l){var u=U[typeof t]&&t&&!t.nodeType&&t;var c=U["object"]&&e&&!e.nodeType&&e;var d=c&&c.exports===u&&u;var f=U[typeof r.g]&&r.g;!f||f.global!==f&&f.window!==f||(l=f);if("function"===s&&r.amdO){l.Bottle=a;!(n=function(){return a}.call(t,r,t,e),n!==i&&(e.exports=n))}else u&&c?d?(c.exports=a).Bottle=a:u.Bottle=a:l.Bottle=a})(U[typeof window]&&window||this)}).call(this)},8212:(e,t,r)=>{r(34990);r(6420);r(21186);r(26249);r(10065);r(36755);r(79481);r(79122);r(6433);r(45533);r(59403);r(14781);r(53272);r(71371);r(2563);r(81674);r(47550);r(23560);r(70331);r(88144);r(54423);r(72249);r(40894);r(47885);r(76871);r(66301);r(99307);r(73294);r(20482);r(519);r(4198);r(2346);r(2376);r(18047);r(68317);r(92646);r(83393);r(7428);r(83953);r(60947);r(73818);r(49438);r(80124);r(21043);r(89609);r(69263);r(94046);r(79108);r(21696);r(62506);r(34328);r(92064);r(41816);r(19586);r(56609);r(77794);r(26685);r(50849);r(39577);r(43747);r(29955);r(21389);r(75761);r(1729);r(5218);r(62211);r(8902);r(2753);r(9449);r(58269);r(6367);r(14367);r(56851);r(43414);r(42025);r(3385);r(99292);r(30535);r(61722);r(41671);r(55154);r(40821);r(44414);r(76917);r(20337);r(40606);r(15894);r(35159);r(32925);r(41040);r(94099);r(69167);r(72340);r(56915);r(43163);r(62057);r(18722);r(23558);r(44660);r(63862);r(93878);r(49649);r(40553);r(50243);r(14811);r(3462);r(73009);r(15769);r(10029);r(50832);r(18775);r(78081);r(19073);r(95829);r(10129);r(92978);r(12190);r(57347);r(68717);r(54591);r(91583);r(35797);r(71072);r(25335);r(5550);r(13210);r(15337);r(67561);r(9209);r(43368);r(62985);r(86023);r(99624);r(6965);r(47695);r(29695);r(61445);r(71260);e.exports=r(56717)},49942:(e,t,r)=>{r(12014);e.exports=r(56717).Array.flatMap},81193:(e,t,r)=>{r(55311);e.exports=r(56717).Array.includes},53198:(e,t,r)=>{r(72046);e.exports=r(56717).Object.entries},47125:(e,t,r)=>{r(78973);e.exports=r(56717).Object.getOwnPropertyDescriptors},51759:(e,t,r)=>{r(91080);e.exports=r(56717).Object.values},83187:(e,t,r)=>{"use strict";r(10029);r(28744);e.exports=r(56717).Promise["finally"]},30272:(e,t,r)=>{r(5875);e.exports=r(56717).String.padEnd},85074:(e,t,r)=>{r(48102);e.exports=r(56717).String.padStart},52377:(e,t,r)=>{r(31912);e.exports=r(56717).String.trimRight},92593:(e,t,r)=>{r(3471);e.exports=r(56717).String.trimLeft},41689:(e,t,r)=>{r(68607);e.exports=r(2214).f("asyncIterator")},20012:(e,t,r)=>{r(63873);e.exports=r(81764).global},95173:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},27116:(e,t,r)=>{var n=r(59952);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},81764:e=>{var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)},17492:(e,t,r)=>{var n=r(95173);e.exports=function(e,t,r){n(e);if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},74702:(e,t,r)=>{e.exports=!r(51888)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},19971:(e,t,r)=>{var n=r(59952);var i=r(38958).document;var a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},89640:(e,t,r)=>{var n=r(38958);var i=r(81764);var a=r(17492);var o=r(80095);var s=r(43741);var l="prototype";var u=function(e,t,r){var c=e&u.F;var d=e&u.G;var f=e&u.S;var p=e&u.P;var g=e&u.B;var h=e&u.W;var v=d?i:i[t]||(i[t]={});var m=v[l];var y=d?n:f?n[t]:(n[t]||{})[l];var b,w,_;d&&(r=t);for(b in r){w=!c&&y&&void 0!==y[b];if(w&&s(v,b))continue;_=w?y[b]:r[b];v[b]=d&&"function"!=typeof y[b]?r[b]:g&&w?a(_,n):h&&y[b]==_?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};t[l]=e[l];return t}(_):p&&"function"==typeof _?a(Function.call,_):_;if(p){(v.virtual||(v.virtual={}))[b]=_;e&u.R&&m&&!m[b]&&o(m,b,_)}}};u.F=1;u.G=2;u.S=4;u.P=8;u.B=16;u.W=32;u.U=64;u.R=128;e.exports=u},51888:e=>{e.exports=function(e){try{return!!e()}catch(e){return true}}},38958:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},43741:e=>{var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},80095:(e,t,r)=>{var n=r(16516);var i=r(78933);e.exports=r(74702)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){e[t]=r;return e}},31244:(e,t,r)=>{e.exports=!r(74702)&&!r(51888)((function(){return 7!=Object.defineProperty(r(19971)("div"),"a",{get:function(){return 7}}).a}))},59952:e=>{e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},16516:(e,t,r)=>{var n=r(27116);var i=r(31244);var a=r(76459);var o=Object.defineProperty;t.f=r(74702)?Object.defineProperty:function e(t,r,s){n(t);r=a(r,true);n(s);if(i)try{return o(t,r,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");"value"in s&&(t[r]=s.value);return t}},78933:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},76459:(e,t,r)=>{var n=r(59952);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},63873:(e,t,r)=>{var n=r(89640);n(n.G,{global:r(38958)})},40669:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},20958:(e,t,r)=>{var n=r(32589);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},7263:(e,t,r)=>{var n=r(94549)("unscopables");var i=Array.prototype;void 0==i[n]&&r(30122)(i,n,{});e.exports=function(e){i[n][e]=true}},93238:(e,t,r)=>{"use strict";var n=r(46685)(true);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},48924:e=>{e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},99691:(e,t,r)=>{var n=r(31787);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},97735:(e,t,r)=>{"use strict";var n=r(85023);var i=r(2692);var a=r(39995);e.exports=[].copyWithin||function e(t,r){var o=n(this);var s=a(o.length);var l=i(t,s);var u=i(r,s);var c=arguments.length>2?arguments[2]:void 0;var d=Math.min((void 0===c?s:i(c,s))-u,s-l);var f=1;if(u<l&&l<u+d){f=-1;u+=d-1;l+=d-1}while(d-- >0){u in o?o[l]=o[u]:delete o[l];l+=f;u+=f}return o}},39429:(e,t,r)=>{"use strict";var n=r(85023);var i=r(2692);var a=r(39995);e.exports=function e(t){var r=n(this);var o=a(r.length);var s=arguments.length;var l=i(s>1?arguments[1]:void 0,o);var u=s>2?arguments[2]:void 0;var c=void 0===u?o:i(u,o);while(c>l)r[l++]=t;return r}},55681:(e,t,r)=>{var n=r(57129);var i=r(39995);var a=r(2692);e.exports=function(e){return function(t,r,o){var s=n(t);var l=i(s.length);var u=a(o,l);var c;if(e&&r!=r)while(l>u){c=s[u++];if(c!=c)return true}else for(;l>u;u++)if((e||u in s)&&s[u]===r)return e||u||0;return!e&&-1}}},14529:(e,t,r)=>{var n=r(76666);var i=r(84856);var a=r(85023);var o=r(39995);var s=r(81544);e.exports=function(e,t){var r=1==e;var l=2==e;var u=3==e;var c=4==e;var d=6==e;var f=5==e||d;var p=t||s;return function(t,s,g){var h=a(t);var v=i(h);var m=n(s,g,3);var y=o(v.length);var b=0;var w=r?p(t,y):l?p(t,0):void 0;var _,S;for(;y>b;b++)if(f||b in v){_=v[b];S=m(_,b,h);if(e)if(r)w[b]=S;else if(S)switch(e){case 3:return true;case 5:return _;case 6:return b;case 2:w.push(_)}else if(c)return false}return d?-1:u||c?c:w}}},13719:(e,t,r)=>{var n=r(40669);var i=r(85023);var a=r(84856);var o=r(39995);e.exports=function(e,t,r,s,l){n(t);var u=i(e);var c=a(u);var d=o(u.length);var f=l?d-1:0;var p=l?-1:1;if(r<2)for(;;){if(f in c){s=c[f];f+=p;break}f+=p;if(l?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;l?f>=0:d>f;f+=p)f in c&&(s=t(s,c[f],f,u));return s}},55820:(e,t,r)=>{var n=r(31787);var i=r(39587);var a=r(94549)("species");e.exports=function(e){var t;if(i(e)){t=e.constructor;"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0);if(n(t)){t=t[a];null===t&&(t=void 0)}}return void 0===t?Array:t}},81544:(e,t,r)=>{var n=r(55820);e.exports=function(e,t){return new(n(e))(t)}},39897:(e,t,r)=>{"use strict";var n=r(40669);var i=r(31787);var a=r(19155);var o=[].slice;var s={};var l=function(e,t,r){if(!(t in s)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)};e.exports=Function.bind||function e(t){var r=n(this);var s=o.call(arguments,1);var u=function(){var e=s.concat(o.call(arguments));return this instanceof u?l(r,e.length,e):a(r,e,t)};i(r.prototype)&&(u.prototype=r.prototype);return u}},42144:(e,t,r)=>{var n=r(32589);var i=r(94549)("toStringTag");var a="Arguments"==n(function(){return arguments}());var o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=o(t=Object(e),i))?r:a?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},32589:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},7655:(e,t,r)=>{"use strict";var n=r(4062).f;var i=r(22449);var a=r(98893);var o=r(76666);var s=r(48924);var l=r(41473);var u=r(89118);var c=r(51915);var d=r(53614);var f=r(60737);var p=r(46774).fastKey;var g=r(59210);var h=f?"_s":"size";var v=function(e,t){var r=p(t);var n;if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,r,u){var c=e((function(e,n){s(e,c,t,"_i");e._t=t;e._i=i(null);e._f=void 0;e._l=void 0;e[h]=0;void 0!=n&&l(n,r,e[u],e)}));a(c.prototype,{clear:function e(){for(var r=g(this,t),n=r._i,i=r._f;i;i=i.n){i.r=true;i.p&&(i.p=i.p.n=void 0);delete n[i.i]}r._f=r._l=void 0;r[h]=0},delete:function(e){var r=g(this,t);var n=v(r,e);if(n){var i=n.n;var a=n.p;delete r._i[n.i];n.r=true;a&&(a.n=i);i&&(i.p=a);r._f==n&&(r._f=i);r._l==n&&(r._l=a);r[h]--}return!!n},forEach:function e(r){g(this,t);var n=o(r,arguments.length>1?arguments[1]:void 0,3);var i;while(i=i?i.n:this._f){n(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function e(r){return!!v(g(this,t),r)}});f&&n(c.prototype,"size",{get:function(){return g(this,t)[h]}});return c},def:function(e,t,r){var n=v(e,t);var i,a;if(n)n.v=r;else{e._l=n={i:a=p(t,true),k:t,v:r,p:i=e._l,n:void 0,r:false};e._f||(e._f=n);i&&(i.n=n);e[h]++;"F"!==a&&(e._i[a]=n)}return e},getEntry:v,setStrong:function(e,t,r){u(e,t,(function(e,r){this._t=g(e,t);this._k=r;this._l=void 0}),(function(){var e=this;var t=e._k;var r=e._l;while(r&&r.r)r=r.p;if(!e._t||!(e._l=r=r?r.n:e._t._f)){e._t=void 0;return c(1)}if("keys"==t)return c(0,r.k);if("values"==t)return c(0,r.v);return c(0,[r.k,r.v])}),r?"entries":"values",!r,true);d(t)}}},39959:(e,t,r)=>{"use strict";var n=r(98893);var i=r(46774).getWeak;var a=r(99691);var o=r(31787);var s=r(48924);var l=r(41473);var u=r(14529);var c=r(46596);var d=r(59210);var f=u(5);var p=u(6);var g=0;var h=function(e){return e._l||(e._l=new v)};var v=function(){this.a=[]};var m=function(e,t){return f(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var r=m(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));~t&&this.a.splice(t,1);return!!~t}};e.exports={getConstructor:function(e,t,r,a){var u=e((function(e,n){s(e,u,t,"_i");e._t=t;e._i=g++;e._l=void 0;void 0!=n&&l(n,r,e[a],e)}));n(u.prototype,{delete:function(e){if(!o(e))return false;var r=i(e);if(true===r)return h(d(this,t))["delete"](e);return r&&c(r,this._i)&&delete r[this._i]},has:function e(r){if(!o(r))return false;var n=i(r);if(true===n)return h(d(this,t)).has(r);return n&&c(n,this._i)}});return u},def:function(e,t,r){var n=i(a(t),true);true===n?h(e).set(t,r):n[e._i]=r;return e},ufstore:h}},98510:(e,t,r)=>{"use strict";var n=r(95512);var i=r(45736);var a=r(71631);var o=r(98893);var s=r(46774);var l=r(41473);var u=r(48924);var c=r(31787);var d=r(65262);var f=r(94955);var p=r(7494);var g=r(99089);e.exports=function(e,t,r,h,v,m){var y=n[e];var b=y;var w=v?"set":"add";var _=b&&b.prototype;var S={};var E=function(e){var t=_[e];a(_,e,"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function e(r){return!(m&&!c(r))&&t.call(this,0===r?0:r)}:"get"==e?function e(r){return m&&!c(r)?void 0:t.call(this,0===r?0:r)}:"add"==e?function e(r){t.call(this,0===r?0:r);return this}:function e(r,n){t.call(this,0===r?0:r,n);return this})};if("function"==typeof b&&(m||_.forEach&&!d((function(){(new b).entries().next()})))){var P=new b;var k=P[w](m?{}:-0,1)!=P;var C=d((function(){P.has(1)}));var O=f((function(e){new b(e)}));var T=!m&&d((function(){var e=new b;var t=5;while(t--)e[w](t,t);return!e.has(-0)}));if(!O){b=t((function(t,r){u(t,b,e);var n=g(new y,t,b);void 0!=r&&l(r,v,n[w],n);return n}));b.prototype=_;_.constructor=b}if(C||T){E("delete");E("has");v&&E("get")}(T||k)&&E(w);m&&_.clear&&delete _.clear}else{b=h.getConstructor(t,e,v,w);o(b.prototype,r);s.NEED=true}p(b,e);S[e]=b;i(i.G+i.W+i.F*(b!=y),S);m||h.setStrong(b,e,v);return b}},56717:e=>{var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)},67728:(e,t,r)=>{"use strict";var n=r(4062);var i=r(38449);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},76666:(e,t,r)=>{var n=r(40669);e.exports=function(e,t,r){n(e);if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},27542:(e,t,r)=>{"use strict";var n=r(65262);var i=Date.prototype.getTime;var a=Date.prototype.toISOString;var o=function(e){return e>9?e:"0"+e};e.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-50000000000001))}))||!n((function(){a.call(new Date(NaN))}))?function e(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this;var r=t.getUTCFullYear();var n=t.getUTCMilliseconds();var a=r<0?"-":r>9999?"+":"";return a+("00000"+Math.abs(r)).slice(a?-6:-4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+(n>99?n:"0"+o(n))+"Z"}:a},68628:(e,t,r)=>{"use strict";var n=r(99691);var i=r(43087);var a="number";e.exports=function(e){if("string"!==e&&e!==a&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),e!=a)}},27574:e=>{e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},60737:(e,t,r)=>{e.exports=!r(65262)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},8037:(e,t,r)=>{var n=r(31787);var i=r(95512).document;var a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},49849:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},40277:(e,t,r)=>{var n=r(6540);var i=r(16123);var a=r(54225);e.exports=function(e){var t=n(e);var r=i.f;if(r){var o=r(e);var s=a.f;var l=0;var u;while(o.length>l)s.call(e,u=o[l++])&&t.push(u)}return t}},45736:(e,t,r)=>{var n=r(95512);var i=r(56717);var a=r(30122);var o=r(71631);var s=r(76666);var l="prototype";var u=function(e,t,r){var c=e&u.F;var d=e&u.G;var f=e&u.S;var p=e&u.P;var g=e&u.B;var h=d?n:f?n[t]||(n[t]={}):(n[t]||{})[l];var v=d?i:i[t]||(i[t]={});var m=v[l]||(v[l]={});var y,b,w,_;d&&(r=t);for(y in r){b=!c&&h&&void 0!==h[y];w=(b?h:r)[y];_=g&&b?s(w,n):p&&"function"==typeof w?s(Function.call,w):w;h&&o(h,y,w,e&u.U);v[y]!=w&&a(v,y,_);p&&m[y]!=w&&(m[y]=w)}};n.core=i;u.F=1;u.G=2;u.S=4;u.P=8;u.B=16;u.W=32;u.U=64;u.R=128;e.exports=u},62144:(e,t,r)=>{var n=r(94549)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{t[n]=false;return!"/./"[e](t)}catch(e){}}return true}},65262:e=>{e.exports=function(e){try{return!!e()}catch(e){return true}}},39327:(e,t,r)=>{"use strict";r(49649);var n=r(71631);var i=r(30122);var a=r(65262);var o=r(27574);var s=r(94549);var l=r(41793);var u=s("species");var c=!a((function(){var e=/./;e.exec=function(){var e=[];e.groups={a:"7"};return e};return"7"!=="".replace(e,"$<a>")}));var d=function(){var e=/(?:)/;var t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var f=s(e);var p=!a((function(){var t={};t[f]=function(){return 7};return 7!=""[e](t)}));var g=p?!a((function(){var t=false;var r=/a/;r.exec=function(){t=true;return null};if("split"===e){r.constructor={};r.constructor[u]=function(){return r}}r[f]("");return!t})):void 0;if(!p||!g||"replace"===e&&!c||"split"===e&&!d){var h=/./[f];var v=r(o,f,""[e],(function e(t,r,n,i,a){if(r.exec===l){if(p&&!a)return{done:true,value:h.call(r,n,i)};return{done:true,value:t.call(n,r,i)}}return{done:false}}));var m=v[0];var y=v[1];n(String.prototype,e,m);i(RegExp.prototype,f,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},27771:(e,t,r)=>{"use strict";var n=r(99691);e.exports=function(){var e=n(this);var t="";e.global&&(t+="g");e.ignoreCase&&(t+="i");e.multiline&&(t+="m");e.unicode&&(t+="u");e.sticky&&(t+="y");return t}},83579:(e,t,r)=>{"use strict";var n=r(39587);var i=r(31787);var a=r(39995);var o=r(76666);var s=r(94549)("isConcatSpreadable");function l(e,t,r,u,c,d,f,p){var g=c;var h=0;var v=!!f&&o(f,p,3);var m,y;while(h<u){if(h in r){m=v?v(r[h],h,t):r[h];y=false;if(i(m)){y=m[s];y=void 0!==y?!!y:n(m)}if(y&&d>0)g=l(e,t,m,a(m.length),g,d-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=m}g++}h++}return g}e.exports=l},41473:(e,t,r)=>{var n=r(76666);var i=r(47708);var a=r(76091);var o=r(99691);var s=r(39995);var l=r(15023);var u={};var c={};var d=e.exports=function(e,t,r,d,f){var p=f?function(){return e}:l(e);var g=n(r,d,t?2:1);var h=0;var v,m,y,b;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(a(p))for(v=s(e.length);v>h;h++){b=t?g(o(m=e[h])[0],m[1]):g(e[h]);if(b===u||b===c)return b}else for(y=p.call(e);!(m=y.next()).done;){b=i(y,g,m.value,t);if(b===u||b===c)return b}};d.BREAK=u;d.RETURN=c},4585:(e,t,r)=>{e.exports=r(50573)("native-function-to-string",Function.toString)},95512:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},46596:e=>{var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},30122:(e,t,r)=>{var n=r(4062);var i=r(38449);e.exports=r(60737)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){e[t]=r;return e}},92923:(e,t,r)=>{var n=r(95512).document;e.exports=n&&n.documentElement},53805:(e,t,r)=>{e.exports=!r(60737)&&!r(65262)((function(){return 7!=Object.defineProperty(r(8037)("div"),"a",{get:function(){return 7}}).a}))},99089:(e,t,r)=>{var n=r(31787);var i=r(94248).set;e.exports=function(e,t,r){var a=t.constructor;var o;a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(e,o);return e}},19155:e=>{e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},84856:(e,t,r)=>{var n=r(32589);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},76091:(e,t,r)=>{var n=r(27085);var i=r(94549)("iterator");var a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},39587:(e,t,r)=>{var n=r(32589);e.exports=Array.isArray||function e(t){return"Array"==n(t)}},11701:(e,t,r)=>{var n=r(31787);var i=Math.floor;e.exports=function e(t){return!n(t)&&isFinite(t)&&i(t)===t}},31787:e=>{e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},11531:(e,t,r)=>{var n=r(31787);var i=r(32589);var a=r(94549)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},47708:(e,t,r)=>{var n=r(99691);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var a=e["return"];void 0!==a&&n(a.call(e));throw t}}},84288:(e,t,r)=>{"use strict";var n=r(22449);var i=r(38449);var a=r(7494);var o={};r(30122)(o,r(94549)("iterator"),(function(){return this}));e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)});a(e,t+" Iterator")}},89118:(e,t,r)=>{"use strict";var n=r(96325);var i=r(45736);var a=r(71631);var o=r(30122);var s=r(27085);var l=r(84288);var u=r(7494);var c=r(45843);var d=r(94549)("iterator");var f=!([].keys&&"next"in[].keys());var p="@@iterator";var g="keys";var h="values";var v=function(){return this};e.exports=function(e,t,r,m,y,b,w){l(r,t,m);var _=function(e){if(!f&&e in k)return k[e];switch(e){case g:return function t(){return new r(this,e)};case h:return function t(){return new r(this,e)}}return function t(){return new r(this,e)}};var S=t+" Iterator";var E=y==h;var P=false;var k=e.prototype;var C=k[d]||k[p]||y&&k[y];var O=C||_(y);var T=y?E?_("entries"):O:void 0;var A="Array"==t&&k.entries||C;var j,D,L;if(A){L=c(A.call(new e));if(L!==Object.prototype&&L.next){u(L,S,true);n||"function"==typeof L[d]||o(L,d,v)}}if(E&&C&&C.name!==h){P=true;O=function e(){return C.call(this)}}n&&!w||!f&&!P&&k[d]||o(k,d,O);s[t]=O;s[S]=v;if(y){j={values:E?O:_(h),keys:b?O:_(g),entries:T};if(w)for(D in j)D in k||a(k,D,j[D]);else i(i.P+i.F*(f||P),t,j)}return j}},94955:(e,t,r)=>{var n=r(94549)("iterator");var i=false;try{var a=[7][n]();a["return"]=function(){i=true};Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return false;var r=false;try{var a=[7];var o=a[n]();o.next=function(){return{done:r=true}};a[n]=function(){return o};e(a)}catch(e){}return r}},51915:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},27085:e=>{e.exports={}},96325:e=>{e.exports=false},24217:e=>{var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function e(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:t},80901:(e,t,r)=>{var n=r(80250);var i=Math.pow;var a=i(2,-52);var o=i(2,-23);var s=i(2,127)*(2-o);var l=i(2,-126);var u=function(e){return e+1/a-1/a};e.exports=Math.fround||function e(t){var r=Math.abs(t);var i=n(t);var c,d;if(r<l)return i*u(r/l/o)*l*o;c=(1+o/a)*r;d=c-(c-r);if(d>s||d!=d)return Infinity*i;return i*d}},38305:e=>{e.exports=Math.log1p||function e(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},80250:e=>{e.exports=Math.sign||function e(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},46774:(e,t,r)=>{var n=r(39015)("meta");var i=r(31787);var a=r(46596);var o=r(4062).f;var s=0;var l=Object.isExtensible||function(){return true};var u=!r(65262)((function(){return l(Object.preventExtensions({}))}));var c=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})};var d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[n].i};var f=function(e,t){if(!a(e,n)){if(!l(e))return true;if(!t)return false;c(e)}return e[n].w};var p=function(e){u&&g.NEED&&l(e)&&!a(e,n)&&c(e);return e};var g=e.exports={KEY:n,NEED:false,fastKey:d,getWeak:f,onFreeze:p}},32557:(e,t,r)=>{var n=r(95512);var i=r(8535).set;var a=n.MutationObserver||n.WebKitMutationObserver;var o=n.process;var s=n.Promise;var l="process"==r(32589)(o);e.exports=function(){var e,t,r;var u=function(){var n,i;l&&(n=o.domain)&&n.exit();while(e){i=e.fn;e=e.next;try{i()}catch(n){e?r():t=void 0;throw n}}t=void 0;n&&n.enter()};if(l)r=function(){o.nextTick(u)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(u)}}else r=function(){i.call(n,u)};else{var d=true;var f=document.createTextNode("");new a(u).observe(f,{characterData:true});r=function(){f.data=d=!d}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i);if(!e){e=i;r()}t=i}}},31404:(e,t,r)=>{"use strict";var n=r(40669);function i(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e;r=n}));this.resolve=n(t);this.reject=n(r)}e.exports.f=function(e){return new i(e)}},88550:(e,t,r)=>{"use strict";var n=r(60737);var i=r(6540);var a=r(16123);var o=r(54225);var s=r(85023);var l=r(84856);var u=Object.assign;e.exports=!u||r(65262)((function(){var e={};var t={};var r=Symbol();var n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach((function(e){t[e]=e}));return 7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n}))?function e(t,r){var u=s(t);var c=arguments.length;var d=1;var f=a.f;var p=o.f;while(c>d){var g=l(arguments[d++]);var h=f?i(g).concat(f(g)):i(g);var v=h.length;var m=0;var y;while(v>m){y=h[m++];n&&!p.call(g,y)||(u[y]=g[y])}}return u}:u},22449:(e,t,r)=>{var n=r(99691);var i=r(25541);var a=r(49849);var o=r(44413)("IE_PROTO");var s=function(){};var l="prototype";var u=function(){var e=r(8037)("iframe");var t=a.length;var n="<";var i=">";var o;e.style.display="none";r(92923).appendChild(e);e.src="javascript:";o=e.contentWindow.document;o.open();o.write(n+"script"+i+"document.F=Object"+n+"/script"+i);o.close();u=o.F;while(t--)delete u[l][a[t]];return u()};e.exports=Object.create||function e(t,r){var a;if(null!==t){s[l]=n(t);a=new s;s[l]=null;a[o]=t}else a=u();return void 0===r?a:i(a,r)}},4062:(e,t,r)=>{var n=r(99691);var i=r(53805);var a=r(43087);var o=Object.defineProperty;t.f=r(60737)?Object.defineProperty:function e(t,r,s){n(t);r=a(r,true);n(s);if(i)try{return o(t,r,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");"value"in s&&(t[r]=s.value);return t}},25541:(e,t,r)=>{var n=r(4062);var i=r(99691);var a=r(6540);e.exports=r(60737)?Object.defineProperties:function e(t,r){i(t);var o=a(r);var s=o.length;var l=0;var u;while(s>l)n.f(t,u=o[l++],r[u]);return t}},6286:(e,t,r)=>{var n=r(54225);var i=r(38449);var a=r(57129);var o=r(43087);var s=r(46596);var l=r(53805);var u=Object.getOwnPropertyDescriptor;t.f=r(60737)?u:function e(t,r){t=a(t);r=o(r,true);if(l)try{return u(t,r)}catch(e){}if(s(t,r))return i(!n.f.call(t,r),t[r])}},75760:(e,t,r)=>{var n=r(57129);var i=r(37169).f;var a={}.toString;var o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var s=function(e){try{return i(e)}catch(e){return o.slice()}};e.exports.f=function e(t){return o&&"[object Window]"==a.call(t)?s(t):i(n(t))}},37169:(e,t,r)=>{var n=r(79534);var i=r(49849).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return n(t,i)}},16123:(e,t)=>{t.f=Object.getOwnPropertySymbols},45843:(e,t,r)=>{var n=r(46596);var i=r(85023);var a=r(44413)("IE_PROTO");var o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=i(e);if(n(e,a))return e[a];if("function"==typeof e.constructor&&e instanceof e.constructor)return e.constructor.prototype;return e instanceof Object?o:null}},79534:(e,t,r)=>{var n=r(46596);var i=r(57129);var a=r(55681)(false);var o=r(44413)("IE_PROTO");e.exports=function(e,t){var r=i(e);var s=0;var l=[];var u;for(u in r)u!=o&&n(r,u)&&l.push(u);while(t.length>s)n(r,u=t[s++])&&(~a(l,u)||l.push(u));return l}},6540:(e,t,r)=>{var n=r(79534);var i=r(49849);e.exports=Object.keys||function e(t){return n(t,i)}},54225:(e,t)=>{t.f={}.propertyIsEnumerable},26263:(e,t,r)=>{var n=r(45736);var i=r(56717);var a=r(65262);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e];var o={};o[e]=t(r);n(n.S+n.F*a((function(){r(1)})),"Object",o)}},45134:(e,t,r)=>{var n=r(60737);var i=r(6540);var a=r(57129);var o=r(54225).f;e.exports=function(e){return function(t){var r=a(t);var s=i(r);var l=s.length;var u=0;var c=[];var d;while(l>u){d=s[u++];n&&!o.call(r,d)||c.push(e?[d,r[d]]:r[d])}return c}}},71696:(e,t,r)=>{var n=r(37169);var i=r(16123);var a=r(99691);var o=r(95512).Reflect;e.exports=o&&o.ownKeys||function e(t){var r=n.f(a(t));var o=i.f;return o?r.concat(o(t)):r}},18433:(e,t,r)=>{var n=r(95512).parseFloat;var i=r(95002).trim;e.exports=1/n(r(12771)+"-0")!==-Infinity?function e(t){var r=i(String(t),3);var a=n(r);return 0===a&&"-"==r.charAt(0)?-0:a}:n},47165:(e,t,r)=>{var n=r(95512).parseInt;var i=r(95002).trim;var a=r(12771);var o=/^[-+]?0[xX]/;e.exports=8!==n(a+"08")||22!==n(a+"0x16")?function e(t,r){var a=i(String(t),3);return n(a,r>>>0||(o.test(a)?16:10))}:n},41495:e=>{e.exports=function(e){try{return{e:false,v:e()}}catch(e){return{e:true,v:e}}}},63562:(e,t,r)=>{var n=r(99691);var i=r(31787);var a=r(31404);e.exports=function(e,t){n(e);if(i(t)&&t.constructor===e)return t;var r=a.f(e);var o=r.resolve;o(t);return r.promise}},38449:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},98893:(e,t,r)=>{var n=r(71631);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},71631:(e,t,r)=>{var n=r(95512);var i=r(30122);var a=r(46596);var o=r(39015)("src");var s=r(4585);var l="toString";var u=(""+s).split(l);r(56717).inspectSource=function(e){return s.call(e)};(e.exports=function(e,t,r,s){var l="function"==typeof r;l&&(a(r,"name")||i(r,"name",t));if(e[t]===r)return;l&&(a(r,o)||i(r,o,e[t]?""+e[t]:u.join(String(t))));if(e===n)e[t]=r;else if(s)e[t]?e[t]=r:i(e,t,r);else{delete e[t];i(e,t,r)}})(Function.prototype,l,(function e(){return"function"==typeof this&&this[o]||s.call(this)}))},91747:(e,t,r)=>{"use strict";var n=r(42144);var i=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var a=r.call(e,t);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},41793:(e,t,r)=>{"use strict";var n=r(27771);var i=RegExp.prototype.exec;var a=String.prototype.replace;var o=i;var s="lastIndex";var l=function(){var e=/a/,t=/b*/g;i.call(e,"a");i.call(t,"a");return 0!==e[s]||0!==t[s]}();var u=void 0!==/()??/.exec("")[1];var c=l||u;c&&(o=function e(t){var r=this;var o,c,d,f;u&&(c=new RegExp("^"+r.source+"$(?!\\s)",n.call(r)));l&&(o=r[s]);d=i.call(r,t);l&&d&&(r[s]=r.global?d.index+d[0].length:o);u&&d&&d.length>1&&a.call(d[0],c,(function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(d[f]=void 0)}));return d});e.exports=o},84691:e=>{e.exports=Object.is||function e(t,r){return t===r?0!==t||1/t===1/r:t!=t&&r!=r}},94248:(e,t,r)=>{var n=r(31787);var i=r(99691);var a=function(e,t){i(e);if(!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(76666)(Function.call,r(6286).f(Object.prototype,"__proto__").set,2);n(e,[]);t=!(e instanceof Array)}catch(e){t=true}return function e(r,i){a(r,i);t?r.__proto__=i:n(r,i);return r}}({},false):void 0),check:a}},53614:(e,t,r)=>{"use strict";var n=r(95512);var i=r(4062);var a=r(60737);var o=r(94549)("species");e.exports=function(e){var t=n[e];a&&t&&!t[o]&&i.f(t,o,{configurable:true,get:function(){return this}})}},7494:(e,t,r)=>{var n=r(4062).f;var i=r(46596);var a=r(94549)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:true,value:t})}},44413:(e,t,r)=>{var n=r(50573)("keys");var i=r(39015);e.exports=function(e){return n[e]||(n[e]=i(e))}},50573:(e,t,r)=>{var n=r(56717);var i=r(95512);var a="__core-js_shared__";var o=i[a]||(i[a]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(96325)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},3602:(e,t,r)=>{var n=r(99691);var i=r(40669);var a=r(94549)("species");e.exports=function(e,t){var r=n(e).constructor;var o;return void 0===r||void 0==(o=n(r)[a])?t:i(o)}},6617:(e,t,r)=>{"use strict";var n=r(65262);e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},46685:(e,t,r)=>{var n=r(23397);var i=r(27574);e.exports=function(e){return function(t,r){var a=String(i(t));var o=n(r);var s=a.length;var l,u;if(o<0||o>=s)return e?"":void 0;l=a.charCodeAt(o);return l<55296||l>56319||o+1===s||(u=a.charCodeAt(o+1))<56320||u>57343?e?a.charAt(o):l:e?a.slice(o,o+2):u-56320+(l-55296<<10)+65536}}},50685:(e,t,r)=>{var n=r(11531);var i=r(27574);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))}},13216:(e,t,r)=>{var n=r(45736);var i=r(65262);var a=r(27574);var o=/"/g;var s=function(e,t,r,n){var i=String(a(e));var s="<"+t;""!==r&&(s+=" "+r+'="'+String(n).replace(o,"&quot;")+'"');return s+">"+i+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(s);n(n.P+n.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",r)}},58380:(e,t,r)=>{var n=r(39995);var i=r(40594);var a=r(27574);e.exports=function(e,t,r,o){var s=String(a(e));var l=s.length;var u=void 0===r?" ":String(r);var c=n(t);if(c<=l||""==u)return s;var d=c-l;var f=i.call(u,Math.ceil(d/u.length));f.length>d&&(f=f.slice(0,d));return o?f+s:s+f}},40594:(e,t,r)=>{"use strict";var n=r(23397);var i=r(27574);e.exports=function e(t){var r=String(i(this));var a="";var o=n(t);if(o<0||Infinity==o)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(r+=r))1&o&&(a+=r);return a}},95002:(e,t,r)=>{var n=r(45736);var i=r(27574);var a=r(65262);var o=r(12771);var s="["+o+"]";var l="";var u=RegExp("^"+s+s+"*");var c=RegExp(s+s+"*$");var d=function(e,t,r){var i={};var s=a((function(){return!!o[e]()||l[e]()!=l}));var u=i[e]=s?t(f):o[e];r&&(i[r]=u);n(n.P+n.F*s,"String",i)};var f=d.trim=function(e,t){e=String(i(e));1&t&&(e=e.replace(u,""));2&t&&(e=e.replace(c,""));return e};e.exports=d},12771:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},8535:(e,t,r)=>{var n=r(76666);var i=r(19155);var a=r(92923);var o=r(8037);var s=r(95512);var l=s.process;var u=s.setImmediate;var c=s.clearImmediate;var d=s.MessageChannel;var f=s.Dispatch;var p=0;var g={};var h="onreadystatechange";var v,m,y;var b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e];t()}};var w=function(e){b.call(e.data)};if(!u||!c){u=function e(t){var r=[];var n=1;while(arguments.length>n)r.push(arguments[n++]);g[++p]=function(){i("function"==typeof t?t:Function(t),r)};v(p);return p};c=function e(t){delete g[t]};if("process"==r(32589)(l))v=function(e){l.nextTick(n(b,e,1))};else if(f&&f.now)v=function(e){f.now(n(b,e,1))};else if(d){m=new d;y=m.port2;m.port1.onmessage=w;v=n(y.postMessage,y,1)}else if(s.addEventListener&&"function"==typeof postMessage&&!s.importScripts){v=function(e){s.postMessage(e+"","*")};s.addEventListener("message",w,false)}else v=h in o("script")?function(e){a.appendChild(o("script"))[h]=function(){a.removeChild(this);b.call(e)}}:function(e){setTimeout(n(b,e,1),0)}}e.exports={set:u,clear:c}},2692:(e,t,r)=>{var n=r(23397);var i=Math.max;var a=Math.min;e.exports=function(e,t){e=n(e);return e<0?i(e+t,0):a(e,t)}},98132:(e,t,r)=>{var n=r(23397);var i=r(39995);e.exports=function(e){if(void 0===e)return 0;var t=n(e);var r=i(t);if(t!==r)throw RangeError("Wrong length!");return r}},23397:e=>{var t=Math.ceil;var r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},57129:(e,t,r)=>{var n=r(84856);var i=r(27574);e.exports=function(e){return n(i(e))}},39995:(e,t,r)=>{var n=r(23397);var i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},85023:(e,t,r)=>{var n=r(27574);e.exports=function(e){return Object(n(e))}},43087:(e,t,r)=>{var n=r(31787);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},92123:(e,t,r)=>{"use strict";if(r(60737)){var n=r(96325);var i=r(95512);var a=r(65262);var o=r(45736);var s=r(30931);var l=r(84916);var u=r(76666);var c=r(48924);var d=r(38449);var f=r(30122);var p=r(98893);var g=r(23397);var h=r(39995);var v=r(98132);var m=r(2692);var y=r(43087);var b=r(46596);var w=r(42144);var _=r(31787);var S=r(85023);var E=r(76091);var P=r(22449);var k=r(45843);var C=r(37169).f;var O=r(15023);var T=r(39015);var A=r(94549);var j=r(14529);var D=r(55681);var L=r(3602);var R=r(63862);var I=r(27085);var x=r(94955);var M=r(53614);var V=r(39429);var N=r(97735);var F=r(4062);var B=r(6286);var W=F.f;var G=B.f;var q=i.RangeError;var U=i.TypeError;var H=i.Uint8Array;var z="ArrayBuffer";var $="Shared"+z;var K="BYTES_PER_ELEMENT";var Z="prototype";var Y=Array[Z];var X=l.ArrayBuffer;var J=l.DataView;var Q=j(0);var ee=j(2);var te=j(3);var re=j(4);var ne=j(5);var ie=j(6);var ae=D(true);var oe=D(false);var se=R.values;var le=R.keys;var ue=R.entries;var ce=Y.lastIndexOf;var de=Y.reduce;var fe=Y.reduceRight;var pe=Y.join;var ge=Y.sort;var he=Y.slice;var ve=Y.toString;var me=Y.toLocaleString;var ye=A("iterator");var be=A("toStringTag");var we=T("typed_constructor");var _e=T("def_constructor");var Se=s.CONSTR;var Ee=s.TYPED;var Pe=s.VIEW;var ke="Wrong length!";var Ce=j(1,(function(e,t){return De(L(e,e[_e]),t)}));var Oe=a((function(){return 1===new H(new Uint16Array([1]).buffer)[0]}));var Te=!!H&&!!H[Z].set&&a((function(){new H(1).set({})}));var Ae=function(e,t){var r=g(e);if(r<0||r%t)throw q("Wrong offset!");return r};var je=function(e){if(_(e)&&Ee in e)return e;throw U(e+" is not a typed array!")};var De=function(e,t){if(!(_(e)&&we in e))throw U("It is not a typed array constructor!");return new e(t)};var Le=function(e,t){return Re(L(e,e[_e]),t)};var Re=function(e,t){var r=0;var n=t.length;var i=De(e,n);while(n>r)i[r]=t[r++];return i};var Ie=function(e,t,r){W(e,t,{get:function(){return this._d[r]}})};var xe=function e(t){var r=S(t);var n=arguments.length;var i=n>1?arguments[1]:void 0;var a=void 0!==i;var o=O(r);var s,l,c,d,f,p;if(void 0!=o&&!E(o)){for(p=o.call(r),c=[],s=0;!(f=p.next()).done;s++)c.push(f.value);r=c}a&&n>2&&(i=u(i,arguments[2],2));for(s=0,l=h(r.length),d=De(this,l);l>s;s++)d[s]=a?i(r[s],s):r[s];return d};var Me=function e(){var t=0;var r=arguments.length;var n=De(this,r);while(r>t)n[t]=arguments[t++];return n};var Ve=!!H&&a((function(){me.call(new H(1))}));var Ne=function e(){return me.apply(Ve?he.call(je(this)):je(this),arguments)};var Fe={copyWithin:function e(t,r){return N.call(je(this),t,r,arguments.length>2?arguments[2]:void 0)},every:function e(t){return re(je(this),t,arguments.length>1?arguments[1]:void 0)},fill:function e(t){return V.apply(je(this),arguments)},filter:function e(t){return Le(this,ee(je(this),t,arguments.length>1?arguments[1]:void 0))},find:function e(t){return ne(je(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function e(t){return ie(je(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function e(t){Q(je(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function e(t){return oe(je(this),t,arguments.length>1?arguments[1]:void 0)},includes:function e(t){return ae(je(this),t,arguments.length>1?arguments[1]:void 0)},join:function e(t){return pe.apply(je(this),arguments)},lastIndexOf:function e(t){return ce.apply(je(this),arguments)},map:function e(t){return Ce(je(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function e(t){return de.apply(je(this),arguments)},reduceRight:function e(t){return fe.apply(je(this),arguments)},reverse:function e(){var t=this;var r=je(t).length;var n=Math.floor(r/2);var i=0;var a;while(i<n){a=t[i];t[i++]=t[--r];t[r]=a}return t},some:function e(t){return te(je(this),t,arguments.length>1?arguments[1]:void 0)},sort:function e(t){return ge.call(je(this),t)},subarray:function e(t,r){var n=je(this);var i=n.length;var a=m(t,i);return new(L(n,n[_e]))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,h((void 0===r?i:m(r,i))-a))}};var Be=function e(t,r){return Le(this,he.call(je(this),t,r))};var We=function e(t){je(this);var r=Ae(arguments[1],1);var n=this.length;var i=S(t);var a=h(i.length);var o=0;if(a+r>n)throw q(ke);while(o<a)this[r+o]=i[o++]};var Ge={entries:function e(){return ue.call(je(this))},keys:function e(){return le.call(je(this))},values:function e(){return se.call(je(this))}};var qe=function(e,t){return _(e)&&e[Ee]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)};var Ue=function e(t,r){return qe(t,r=y(r,true))?d(2,t[r]):G(t,r)};var He=function e(t,r,n){if(qe(t,r=y(r,true))&&_(n)&&b(n,"value")&&!b(n,"get")&&!b(n,"set")&&!n.configurable&&(!b(n,"writable")||n.writable)&&(!b(n,"enumerable")||n.enumerable)){t[r]=n.value;return t}return W(t,r,n)};if(!Se){B.f=Ue;F.f=He}o(o.S+o.F*!Se,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:He});a((function(){ve.call({})}))&&(ve=me=function e(){return pe.call(this)});var ze=p({},Fe);p(ze,Ge);f(ze,ye,Ge.values);p(ze,{slice:Be,set:We,constructor:function(){},toString:ve,toLocaleString:Ne});Ie(ze,"buffer","b");Ie(ze,"byteOffset","o");Ie(ze,"byteLength","l");Ie(ze,"length","e");W(ze,be,{get:function(){return this[Ee]}});e.exports=function(e,t,r,l){l=!!l;var u=e+(l?"Clamped":"")+"Array";var d="get"+e;var p="set"+e;var g=i[u];var m=g||{};var y=g&&k(g);var b=!g||!s.ABV;var S={};var E=g&&g[Z];var O=function(e,r){var n=e._d;return n.v[d](r*t+n.o,Oe)};var T=function(e,r,n){var i=e._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n);i.v[p](r*t+i.o,n,Oe)};var A=function(e,t){W(e,t,{get:function(){return O(this,t)},set:function(e){return T(this,t,e)},enumerable:true})};if(b){g=r((function(e,r,n,i){c(e,g,u,"_d");var a=0;var o=0;var s,l,d,p;if(_(r)){if(!(r instanceof X||(p=w(r))==z||p==$))return Ee in r?Re(g,r):xe.call(g,r);s=r;o=Ae(n,t);var m=r.byteLength;if(void 0===i){if(m%t)throw q(ke);l=m-o;if(l<0)throw q(ke)}else{l=h(i)*t;if(l+o>m)throw q(ke)}d=l/t}else{d=v(r);l=d*t;s=new X(l)}f(e,"_d",{b:s,o:o,l:l,e:d,v:new J(s)});while(a<d)A(e,a++)}));E=g[Z]=P(ze);f(E,"constructor",g)}else if(!a((function(){g(1)}))||!a((function(){new g(-1)}))||!x((function(e){new g;new g(null);new g(1.5);new g(e)}),true)){g=r((function(e,r,n,i){c(e,g,u);var a;if(!_(r))return new m(v(r));if(r instanceof X||(a=w(r))==z||a==$)return void 0!==i?new m(r,Ae(n,t),i):void 0!==n?new m(r,Ae(n,t)):new m(r);if(Ee in r)return Re(g,r);return xe.call(g,r)}));Q(y!==Function.prototype?C(m).concat(C(y)):C(m),(function(e){e in g||f(g,e,m[e])}));g[Z]=E;n||(E.constructor=g)}var j=E[ye];var D=!!j&&("values"==j.name||void 0==j.name);var L=Ge.values;f(g,we,true);f(E,Ee,u);f(E,Pe,true);f(E,_e,g);(l?new g(1)[be]==u:be in E)||W(E,be,{get:function(){return u}});S[u]=g;o(o.G+o.W+o.F*(g!=m),S);o(o.S,u,{BYTES_PER_ELEMENT:t});o(o.S+o.F*a((function(){m.of.call(g,1)})),u,{from:xe,of:Me});K in E||f(E,K,t);o(o.P,u,Fe);M(u);o(o.P+o.F*Te,u,{set:We});o(o.P+o.F*!D,u,Ge);n||E.toString==ve||(E.toString=ve);o(o.P+o.F*a((function(){new g(1).slice()})),u,{slice:Be});o(o.P+o.F*(a((function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()}))||!a((function(){E.toLocaleString.call([1,2])}))),u,{toLocaleString:Ne});I[u]=D?j:L;n||D||f(E,ye,L)}}else e.exports=function(){}},84916:(e,t,r)=>{"use strict";var n=r(95512);var i=r(60737);var a=r(96325);var o=r(30931);var s=r(30122);var l=r(98893);var u=r(65262);var c=r(48924);var d=r(23397);var f=r(39995);var p=r(98132);var g=r(37169).f;var h=r(4062).f;var v=r(39429);var m=r(7494);var y="ArrayBuffer";var b="DataView";var w="prototype";var _="Wrong length!";var S="Wrong index!";var E=n[y];var P=n[b];var k=n.Math;var C=n.RangeError;var O=n.Infinity;var T=E;var A=k.abs;var j=k.pow;var D=k.floor;var L=k.log;var R=k.LN2;var I="buffer";var x="byteLength";var M="byteOffset";var V=i?"_b":I;var N=i?"_l":x;var F=i?"_o":M;function B(e,t,r){var n=new Array(r);var i=8*r-t-1;var a=(1<<i)-1;var o=a>>1;var s=23===t?j(2,-24)-j(2,-77):0;var l=0;var u=e<0||0===e&&1/e<0?1:0;var c,d,f;e=A(e);if(e!=e||e===O){d=e!=e?1:0;c=a}else{c=D(L(e)/R);if(e*(f=j(2,-c))<1){c--;f*=2}e+=c+o>=1?s/f:s*j(2,1-o);if(e*f>=2){c++;f/=2}if(c+o>=a){d=0;c=a}else if(c+o>=1){d=(e*f-1)*j(2,t);c+=o}else{d=e*j(2,o-1)*j(2,t);c=0}}for(;t>=8;n[l++]=255&d,d/=256,t-=8);c=c<<t|d;i+=t;for(;i>0;n[l++]=255&c,c/=256,i-=8);n[--l]|=128*u;return n}function W(e,t,r){var n=8*r-t-1;var i=(1<<n)-1;var a=i>>1;var o=n-7;var s=r-1;var l=e[s--];var u=127&l;var c;l>>=7;for(;o>0;u=256*u+e[s],s--,o-=8);c=u&(1<<-o)-1;u>>=-o;o+=t;for(;o>0;c=256*c+e[s],s--,o-=8);if(0===u)u=1-a;else{if(u===i)return c?NaN:l?-O:O;c+=j(2,t);u-=a}return(l?-1:1)*c*j(2,u-t)}function G(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function q(e){return[255&e]}function U(e){return[255&e,e>>8&255]}function H(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function z(e){return B(e,52,8)}function $(e){return B(e,23,4)}function K(e,t,r){h(e[w],t,{get:function(){return this[r]}})}function Z(e,t,r,n){var i=+r;var a=p(i);if(a+t>e[N])throw C(S);var o=e[V]._b;var s=a+e[F];var l=o.slice(s,s+t);return n?l:l.reverse()}function Y(e,t,r,n,i,a){var o=+r;var s=p(o);if(s+t>e[N])throw C(S);var l=e[V]._b;var u=s+e[F];var c=n(+i);for(var d=0;d<t;d++)l[u+d]=c[a?d:t-d-1]}if(o.ABV){if(!u((function(){E(1)}))||!u((function(){new E(-1)}))||u((function(){new E;new E(1.5);new E(NaN);return E.name!=y}))){E=function e(t){c(this,E);return new T(p(t))};var X=E[w]=T[w];for(var J=g(T),Q=0,ee;J.length>Q;)(ee=J[Q++])in E||s(E,ee,T[ee]);a||(X.constructor=E)}var te=new P(new E(2));var re=P[w].setInt8;te.setInt8(0,2147483648);te.setInt8(1,2147483649);!te.getInt8(0)&&te.getInt8(1)||l(P[w],{setInt8:function e(t,r){re.call(this,t,r<<24>>24)},setUint8:function e(t,r){re.call(this,t,r<<24>>24)}},true)}else{E=function e(t){c(this,E,y);var r=p(t);this._b=v.call(new Array(r),0);this[N]=r};P=function e(t,r,n){c(this,P,b);c(t,E,b);var i=t[N];var a=d(r);if(a<0||a>i)throw C("Wrong offset!");n=void 0===n?i-a:f(n);if(a+n>i)throw C(_);this[V]=t;this[F]=a;this[N]=n};if(i){K(E,x,"_l");K(P,I,"_b");K(P,x,"_l");K(P,M,"_o")}l(P[w],{getInt8:function e(t){return Z(this,1,t)[0]<<24>>24},getUint8:function e(t){return Z(this,1,t)[0]},getInt16:function e(t){var r=Z(this,2,t,arguments[1]);return(r[1]<<8|r[0])<<16>>16},getUint16:function e(t){var r=Z(this,2,t,arguments[1]);return r[1]<<8|r[0]},getInt32:function e(t){return G(Z(this,4,t,arguments[1]))},getUint32:function e(t){return G(Z(this,4,t,arguments[1]))>>>0},getFloat32:function e(t){return W(Z(this,4,t,arguments[1]),23,4)},getFloat64:function e(t){return W(Z(this,8,t,arguments[1]),52,8)},setInt8:function e(t,r){Y(this,1,t,q,r)},setUint8:function e(t,r){Y(this,1,t,q,r)},setInt16:function e(t,r){Y(this,2,t,U,r,arguments[2])},setUint16:function e(t,r){Y(this,2,t,U,r,arguments[2])},setInt32:function e(t,r){Y(this,4,t,H,r,arguments[2])},setUint32:function e(t,r){Y(this,4,t,H,r,arguments[2])},setFloat32:function e(t,r){Y(this,4,t,$,r,arguments[2])},setFloat64:function e(t,r){Y(this,8,t,z,r,arguments[2])}})}m(E,y);m(P,b);s(P[w],o.VIEW,true);t[y]=E;t[b]=P},30931:(e,t,r)=>{var n=r(95512);var i=r(30122);var a=r(39015);var o=a("typed_array");var s=a("view");var l=!!(n.ArrayBuffer&&n.DataView);var u=l;var c=0;var d=9;var f;var p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(c<d)if(f=n[p[c++]]){i(f.prototype,o,true);i(f.prototype,s,true)}else u=false;e.exports={ABV:l,CONSTR:u,TYPED:o,VIEW:s}},39015:e=>{var t=0;var r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},31322:(e,t,r)=>{var n=r(95512);var i=n.navigator;e.exports=i&&i.userAgent||""},59210:(e,t,r)=>{var n=r(31787);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},80646:(e,t,r)=>{var n=r(95512);var i=r(56717);var a=r(96325);var o=r(2214);var s=r(4062).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},2214:(e,t,r)=>{t.f=r(94549)},94549:(e,t,r)=>{var n=r(50573)("wks");var i=r(39015);var a=r(95512).Symbol;var o="function"==typeof a;var s=e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:i)("Symbol."+e))};s.store=n},15023:(e,t,r)=>{var n=r(42144);var i=r(94549)("iterator");var a=r(27085);e.exports=r(56717).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||a[n(e)]}},43163:(e,t,r)=>{var n=r(45736);n(n.P,"Array",{copyWithin:r(97735)});r(7263)("copyWithin")},41040:(e,t,r)=>{"use strict";var n=r(45736);var i=r(14529)(4);n(n.P+n.F*!r(6617)([].every,true),"Array",{every:function e(t){return i(this,t,arguments[1])}})},62057:(e,t,r)=>{var n=r(45736);n(n.P,"Array",{fill:r(39429)});r(7263)("fill")},35159:(e,t,r)=>{"use strict";var n=r(45736);var i=r(14529)(2);n(n.P+n.F*!r(6617)([].filter,true),"Array",{filter:function e(t){return i(this,t,arguments[1])}})},23558:(e,t,r)=>{"use strict";var n=r(45736);var i=r(14529)(6);var a="findIndex";var o=true;a in[]&&Array(1)[a]((function(){o=false}));n(n.P+n.F*o,"Array",{findIndex:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}});r(7263)(a)},18722:(e,t,r)=>{"use strict";var n=r(45736);var i=r(14529)(5);var a="find";var o=true;a in[]&&Array(1)[a]((function(){o=false}));n(n.P+n.F*o,"Array",{find:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}});r(7263)(a)},40606:(e,t,r)=>{"use strict";var n=r(45736);var i=r(14529)(0);var a=r(6617)([].forEach,true);n(n.P+n.F*!a,"Array",{forEach:function e(t){return i(this,t,arguments[1])}})},55154:(e,t,r)=>{"use strict";var n=r(76666);var i=r(45736);var a=r(85023);var o=r(47708);var s=r(76091);var l=r(39995);var u=r(67728);var c=r(15023);i(i.S+i.F*!r(94955)((function(e){Array.from(e)})),"Array",{from:function e(t){var r=a(t);var i="function"==typeof this?this:Array;var d=arguments.length;var f=d>1?arguments[1]:void 0;var p=void 0!==f;var g=0;var h=c(r);var v,m,y,b;p&&(f=n(f,d>2?arguments[2]:void 0,2));if(void 0==h||i==Array&&s(h)){v=l(r.length);for(m=new i(v);v>g;g++)u(m,g,p?f(r[g],g):r[g])}else for(b=h.call(r),m=new i;!(y=b.next()).done;g++)u(m,g,p?o(b,f,[y.value,g],true):y.value);m.length=g;return m}})},72340:(e,t,r)=>{"use strict";var n=r(45736);var i=r(55681)(false);var a=[].indexOf;var o=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!r(6617)(a)),"Array",{indexOf:function e(t){return o?a.apply(this,arguments)||0:i(this,t,arguments[1])}})},41671:(e,t,r)=>{var n=r(45736);n(n.S,"Array",{isArray:r(39587)})},63862:(e,t,r)=>{"use strict";var n=r(7263);var i=r(51915);var a=r(27085);var o=r(57129);e.exports=r(89118)(Array,"Array",(function(e,t){this._t=o(e);this._i=0;this._k=t}),(function(){var e=this._t;var t=this._k;var r=this._i++;if(!e||r>=e.length){this._t=void 0;return i(1)}if("keys"==t)return i(0,r);if("values"==t)return i(0,e[r]);return i(0,[r,e[r]])}),"values");a.Arguments=a.Array;n("keys");n("values");n("entries")},44414:(e,t,r)=>{"use strict";var n=r(45736);var i=r(57129);var a=[].join;n(n.P+n.F*(r(84856)!=Object||!r(6617)(a)),"Array",{join:function e(t){return a.call(i(this),void 0===t?",":t)}})},56915:(e,t,r)=>{"use strict";var n=r(45736);var i=r(57129);var a=r(23397);var o=r(39995);var s=[].lastIndexOf;var l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!r(6617)(s)),"Array",{lastIndexOf:function e(t){if(l)return s.apply(this,arguments)||0;var r=i(this);var n=o(r.length);var u=n-1;arguments.length>1&&(u=Math.min(u,a(arguments[1])));u<0&&(u=n+u);for(;u>=0;u--)if(u in r&&r[u]===t)return u||0;return-1}})},15894:(e,t,r)=>{"use strict";var n=r(45736);var i=r(14529)(1);n(n.P+n.F*!r(6617)([].map,true),"Array",{map:function e(t){return i(this,t,arguments[1])}})},40821:(e,t,r)=>{"use strict";var n=r(45736);var i=r(67728);n(n.S+n.F*r(65262)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function e(){var t=0;var r=arguments.length;var n=new("function"==typeof this?this:Array)(r);while(r>t)i(n,t,arguments[t++]);n.length=r;return n}})},69167:(e,t,r)=>{"use strict";var n=r(45736);var i=r(13719);n(n.P+n.F*!r(6617)([].reduceRight,true),"Array",{reduceRight:function e(t){return i(this,t,arguments.length,arguments[1],true)}})},94099:(e,t,r)=>{"use strict";var n=r(45736);var i=r(13719);n(n.P+n.F*!r(6617)([].reduce,true),"Array",{reduce:function e(t){return i(this,t,arguments.length,arguments[1],false)}})},76917:(e,t,r)=>{"use strict";var n=r(45736);var i=r(92923);var a=r(32589);var o=r(2692);var s=r(39995);var l=[].slice;n(n.P+n.F*r(65262)((function(){i&&l.call(i)})),"Array",{slice:function e(t,r){var n=s(this.length);var i=a(this);r=void 0===r?n:r;if("Array"==i)return l.call(this,t,r);var u=o(t,n);var c=o(r,n);var d=s(c-u);var f=new Array(d);var p=0;for(;p<d;p++)f[p]="String"==i?this.charAt(u+p):this[u+p];return f}})},32925:(e,t,r)=>{"use strict";var n=r(45736);var i=r(14529)(3);n(n.P+n.F*!r(6617)([].some,true),"Array",{some:function e(t){return i(this,t,arguments[1])}})},20337:(e,t,r)=>{"use strict";var n=r(45736);var i=r(40669);var a=r(85023);var o=r(65262);var s=[].sort;var l=[1,2,3];n(n.P+n.F*(o((function(){l.sort(void 0)}))||!o((function(){l.sort(null)}))||!r(6617)(s)),"Array",{sort:function e(t){return void 0===t?s.call(a(this)):s.call(a(this),i(t))}})},44660:(e,t,r)=>{r(53614)("Array")},42025:(e,t,r)=>{var n=r(45736);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},99292:(e,t,r)=>{var n=r(45736);var i=r(27542);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},3385:(e,t,r)=>{"use strict";var n=r(45736);var i=r(85023);var a=r(43087);n(n.P+n.F*r(65262)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function e(t){var r=i(this);var n=a(r);return"number"!=typeof n||isFinite(n)?r.toISOString():null}})},61722:(e,t,r)=>{var n=r(94549)("toPrimitive");var i=Date.prototype;n in i||r(30122)(i,n,r(68628))},30535:(e,t,r)=>{var n=Date.prototype;var i="Invalid Date";var a="toString";var o=n[a];var s=n.getTime;new Date(NaN)+""!=i&&r(71631)(n,a,(function e(){var t=s.call(this);return t===t?o.call(this):i}))},70331:(e,t,r)=>{var n=r(45736);n(n.P,"Function",{bind:r(39897)})},54423:(e,t,r)=>{"use strict";var n=r(31787);var i=r(45843);var a=r(94549)("hasInstance");var o=Function.prototype;a in o||r(4062).f(o,a,{value:function(e){if("function"!=typeof this||!n(e))return false;if(!n(this.prototype))return e instanceof this;while(e=i(e))if(this.prototype===e)return true;return false}})},88144:(e,t,r)=>{var n=r(4062).f;var i=Function.prototype;var a=/^\s*function ([^ (]*)/;var o="name";o in i||r(60737)&&n(i,o,{configurable:true,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},50832:(e,t,r)=>{"use strict";var n=r(7655);var i=r(59210);var a="Map";e.exports=r(98510)(a,(function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function e(t){var r=n.getEntry(i(this,a),t);return r&&r.v},set:function e(t,r){return n.def(i(this,a),0===t?0:t,r)}},n,true)},92646:(e,t,r)=>{var n=r(45736);var i=r(38305);var a=Math.sqrt;var o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&Infinity==o(Infinity)),"Math",{acosh:function e(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+a(t-1)*a(t+1))}})},83393:(e,t,r)=>{var n=r(45736);var i=Math.asinh;function a(e){return isFinite(e=+e)&&0!=e?e<0?-a(-e):Math.log(e+Math.sqrt(e*e+1)):e}n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:a})},7428:(e,t,r)=>{var n=r(45736);var i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function e(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},83953:(e,t,r)=>{var n=r(45736);var i=r(80250);n(n.S,"Math",{cbrt:function e(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},60947:(e,t,r)=>{var n=r(45736);n(n.S,"Math",{clz32:function e(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},73818:(e,t,r)=>{var n=r(45736);var i=Math.exp;n(n.S,"Math",{cosh:function e(t){return(i(t=+t)+i(-t))/2}})},49438:(e,t,r)=>{var n=r(45736);var i=r(24217);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},80124:(e,t,r)=>{var n=r(45736);n(n.S,"Math",{fround:r(80901)})},21043:(e,t,r)=>{var n=r(45736);var i=Math.abs;n(n.S,"Math",{hypot:function e(t,r){var n=0;var a=0;var o=arguments.length;var s=0;var l,u;while(a<o){l=i(arguments[a++]);if(s<l){u=s/l;n=n*u*u+1;s=l}else if(l>0){u=l/s;n+=u*u}else n+=l}return Infinity===s?Infinity:s*Math.sqrt(n)}})},89609:(e,t,r)=>{var n=r(45736);var i=Math.imul;n(n.S+n.F*r(65262)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function e(t,r){var n=65535;var i=+t;var a=+r;var o=n&i;var s=n&a;return 0|o*s+((n&i>>>16)*s+o*(n&a>>>16)<<16>>>0)}})},69263:(e,t,r)=>{var n=r(45736);n(n.S,"Math",{log10:function e(t){return Math.log(t)*Math.LOG10E}})},94046:(e,t,r)=>{var n=r(45736);n(n.S,"Math",{log1p:r(38305)})},79108:(e,t,r)=>{var n=r(45736);n(n.S,"Math",{log2:function e(t){return Math.log(t)/Math.LN2}})},21696:(e,t,r)=>{var n=r(45736);n(n.S,"Math",{sign:r(80250)})},62506:(e,t,r)=>{var n=r(45736);var i=r(24217);var a=Math.exp;n(n.S+n.F*r(65262)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function e(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(a(t-1)-a(-t-1))*(Math.E/2)}})},34328:(e,t,r)=>{var n=r(45736);var i=r(24217);var a=Math.exp;n(n.S,"Math",{tanh:function e(t){var r=i(t=+t);var n=i(-t);return Infinity==r?1:Infinity==n?-1:(r-n)/(a(t)+a(-t))}})},92064:(e,t,r)=>{var n=r(45736);n(n.S,"Math",{trunc:function e(t){return(t>0?Math.floor:Math.ceil)(t)}})},47885:(e,t,r)=>{"use strict";var n=r(95512);var i=r(46596);var a=r(32589);var o=r(99089);var s=r(43087);var l=r(65262);var u=r(37169).f;var c=r(6286).f;var d=r(4062).f;var f=r(95002).trim;var p="Number";var g=n[p];var h=g;var v=g.prototype;var m=a(r(22449)(v))==p;var y="trim"in String.prototype;var b=function(e){var t=s(e,false);if("string"==typeof t&&t.length>2){t=y?t.trim():f(t,3);var r=t.charCodeAt(0);var n,i,a;if(43===r||45===r){n=t.charCodeAt(2);if(88===n||120===n)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:i=2;a=49;break;case 79:case 111:i=8;a=55;break;default:return+t}for(var o=t.slice(2),l=0,u=o.length,c;l<u;l++){c=o.charCodeAt(l);if(c<48||c>a)return NaN}return parseInt(o,i)}}return+t};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function e(t){var r=arguments.length<1?0:t;var n=this;return n instanceof g&&(m?l((function(){v.valueOf.call(n)})):a(n)!=p)?o(new h(b(r)),n,g):b(r)};for(var w=r(60737)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0,S;w.length>_;_++)i(h,S=w[_])&&!i(g,S)&&d(g,S,c(h,S));g.prototype=v;v.constructor=g;r(71631)(n,p,g)}},99307:(e,t,r)=>{var n=r(45736);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},73294:(e,t,r)=>{var n=r(45736);var i=r(95512).isFinite;n(n.S,"Number",{isFinite:function e(t){return"number"==typeof t&&i(t)}})},20482:(e,t,r)=>{var n=r(45736);n(n.S,"Number",{isInteger:r(11701)})},519:(e,t,r)=>{var n=r(45736);n(n.S,"Number",{isNaN:function e(t){return t!=t}})},4198:(e,t,r)=>{var n=r(45736);var i=r(11701);var a=Math.abs;n(n.S,"Number",{isSafeInteger:function e(t){return i(t)&&a(t)<=9007199254740991}})},2346:(e,t,r)=>{var n=r(45736);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},2376:(e,t,r)=>{var n=r(45736);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},18047:(e,t,r)=>{var n=r(45736);var i=r(18433);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},68317:(e,t,r)=>{var n=r(45736);var i=r(47165);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},76871:(e,t,r)=>{"use strict";var n=r(45736);var i=r(23397);var a=r(20958);var o=r(40594);var s=1..toFixed;var l=Math.floor;var u=[0,0,0,0,0,0];var c="Number.toFixed: incorrect invocation!";var d="0";var f=function(e,t){var r=-1;var n=t;while(++r<6){n+=e*u[r];u[r]=n%1e7;n=l(n/1e7)}};var p=function(e){var t=6;var r=0;while(--t>=0){r+=u[t];u[t]=l(r/e);r=r%e*1e7}};var g=function(){var e=6;var t="";while(--e>=0)if(""!==t||0===e||0!==u[e]){var r=String(u[e]);t=""===t?r:t+o.call(d,7-r.length)+r}return t};var h=function(e,t,r){return 0===t?r:t%2===1?h(e,t-1,r*e):h(e*e,t/2,r)};var v=function(e){var t=0;var r=e;while(r>=4096){t+=12;r/=4096}while(r>=2){t+=1;r/=2}return t};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(65262)((function(){s.call({})}))),"Number",{toFixed:function e(t){var r=a(this,c);var n=i(t);var s="";var l=d;var u,m,y,b;if(n<0||n>20)throw RangeError(c);if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return String(r);if(r<0){s="-";r=-r}if(r>1e-21){u=v(r*h(2,69,1))-69;m=u<0?r*h(2,-u,1):r/h(2,u,1);m*=4503599627370496;u=52-u;if(u>0){f(0,m);y=n;while(y>=7){f(1e7,0);y-=7}f(h(10,y,1),0);y=u-1;while(y>=23){p(1<<23);y-=23}p(1<<y);f(1,1);p(2);l=g()}else{f(0,m);f(1<<-u,0);l=g()+o.call(d,n)}}if(n>0){b=l.length;l=s+(b<=n?"0."+o.call(d,n-b)+l:l.slice(0,b-n)+"."+l.slice(b-n))}else l=s+l;return l}})},66301:(e,t,r)=>{"use strict";var n=r(45736);var i=r(65262);var a=r(20958);var o=1..toPrecision;n(n.P+n.F*(i((function(){return"1"!==o.call(1,void 0)}))||!i((function(){o.call({})}))),"Number",{toPrecision:function e(t){var r=a(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(r):o.call(r,t)}})},2563:(e,t,r)=>{var n=r(45736);n(n.S+n.F,"Object",{assign:r(88550)})},6420:(e,t,r)=>{var n=r(45736);n(n.S,"Object",{create:r(22449)})},26249:(e,t,r)=>{var n=r(45736);n(n.S+n.F*!r(60737),"Object",{defineProperties:r(25541)})},21186:(e,t,r)=>{var n=r(45736);n(n.S+n.F*!r(60737),"Object",{defineProperty:r(4062).f})},6433:(e,t,r)=>{var n=r(31787);var i=r(46774).onFreeze;r(26263)("freeze",(function(e){return function t(r){return e&&n(r)?e(i(r)):r}}))},10065:(e,t,r)=>{var n=r(57129);var i=r(6286).f;r(26263)("getOwnPropertyDescriptor",(function(){return function e(t,r){return i(n(t),r)}}))},79122:(e,t,r)=>{r(26263)("getOwnPropertyNames",(function(){return r(75760).f}))},36755:(e,t,r)=>{var n=r(85023);var i=r(45843);r(26263)("getPrototypeOf",(function(){return function e(t){return i(n(t))}}))},71371:(e,t,r)=>{var n=r(31787);r(26263)("isExtensible",(function(e){return function t(r){return!!n(r)&&(!e||e(r))}}))},14781:(e,t,r)=>{var n=r(31787);r(26263)("isFrozen",(function(e){return function t(r){return!n(r)||!!e&&e(r)}}))},53272:(e,t,r)=>{var n=r(31787);r(26263)("isSealed",(function(e){return function t(r){return!n(r)||!!e&&e(r)}}))},81674:(e,t,r)=>{var n=r(45736);n(n.S,"Object",{is:r(84691)})},79481:(e,t,r)=>{var n=r(85023);var i=r(6540);r(26263)("keys",(function(){return function e(t){return i(n(t))}}))},59403:(e,t,r)=>{var n=r(31787);var i=r(46774).onFreeze;r(26263)("preventExtensions",(function(e){return function t(r){return e&&n(r)?e(i(r)):r}}))},45533:(e,t,r)=>{var n=r(31787);var i=r(46774).onFreeze;r(26263)("seal",(function(e){return function t(r){return e&&n(r)?e(i(r)):r}}))},47550:(e,t,r)=>{var n=r(45736);n(n.S,"Object",{setPrototypeOf:r(94248).set})},23560:(e,t,r)=>{"use strict";var n=r(42144);var i={};i[r(94549)("toStringTag")]="z";i+""!="[object z]"&&r(71631)(Object.prototype,"toString",(function e(){return"[object "+n(this)+"]"}),true)},40894:(e,t,r)=>{var n=r(45736);var i=r(18433);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},72249:(e,t,r)=>{var n=r(45736);var i=r(47165);n(n.G+n.F*(parseInt!=i),{parseInt:i})},10029:(e,t,r)=>{"use strict";var n=r(96325);var i=r(95512);var a=r(76666);var o=r(42144);var s=r(45736);var l=r(31787);var u=r(40669);var c=r(48924);var d=r(41473);var f=r(3602);var p=r(8535).set;var g=r(32557)();var h=r(31404);var v=r(41495);var m=r(31322);var y=r(63562);var b="Promise";var w=i.TypeError;var _=i.process;var S=_&&_.versions;var E=S&&S.v8||"";var P=i[b];var k="process"==o(_);var C=function(){};var O,T,A,j;var D=T=h.f;var L=!!function(){try{var e=P.resolve(1);var t=(e.constructor={})[r(94549)("species")]=function(e){e(C,C)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t&&0!==E.indexOf("6.6")&&-1===m.indexOf("Chrome/66")}catch(e){}}();var R=function(e){var t;return!(!l(e)||"function"!=typeof(t=e.then))&&t};var I=function(e,t){if(e._n)return;e._n=true;var r=e._c;g((function(){var n=e._v;var i=1==e._s;var a=0;var o=function(t){var r=i?t.ok:t.fail;var a=t.resolve;var o=t.reject;var s=t.domain;var l,u,c;try{if(r){if(!i){2==e._h&&V(e);e._h=1}if(true===r)l=n;else{s&&s.enter();l=r(n);if(s){s.exit();c=true}}l===t.promise?o(w("Promise-chain cycle")):(u=R(l))?u.call(l,a,o):a(l)}else o(n)}catch(e){s&&!c&&s.exit();o(e)}};while(r.length>a)o(r[a++]);e._c=[];e._n=false;t&&!e._h&&x(e)}))};var x=function(e){p.call(i,(function(){var t=e._v;var r=M(e);var n,a,o;if(r){n=v((function(){k?_.emit("unhandledRejection",t,e):(a=i.onunhandledrejection)?a({promise:e,reason:t}):(o=i.console)&&o.error&&o.error("Unhandled promise rejection",t)}));e._h=k||M(e)?2:1}e._a=void 0;if(r&&n.e)throw n.v}))};var M=function(e){return 1!==e._h&&0===(e._a||e._c).length};var V=function(e){p.call(i,(function(){var t;k?_.emit("rejectionHandled",e):(t=i.onrejectionhandled)&&t({promise:e,reason:e._v})}))};var N=function(e){var t=this;if(t._d)return;t._d=true;t=t._w||t;t._v=e;t._s=2;t._a||(t._a=t._c.slice());I(t,true)};var F=function(e){var t=this;var r;if(t._d)return;t._d=true;t=t._w||t;try{if(t===e)throw w("Promise can't be resolved itself");if(r=R(e))g((function(){var n={_w:t,_d:false};try{r.call(e,a(F,n,1),a(N,n,1))}catch(e){N.call(n,e)}}));else{t._v=e;t._s=1;I(t,false)}}catch(e){N.call({_w:t,_d:false},e)}};if(!L){P=function e(t){c(this,P,b,"_h");u(t);O.call(this);try{t(a(F,this,1),a(N,this,1))}catch(e){N.call(this,e)}};O=function e(t){this._c=[];this._a=void 0;this._s=0;this._d=false;this._v=void 0;this._h=0;this._n=false};O.prototype=r(98893)(P.prototype,{then:function e(t,r){var n=D(f(this,P));n.ok="function"!=typeof t||t;n.fail="function"==typeof r&&r;n.domain=k?_.domain:void 0;this._c.push(n);this._a&&this._a.push(n);this._s&&I(this,false);return n.promise},catch:function(e){return this.then(void 0,e)}});A=function(){var e=new O;this.promise=e;this.resolve=a(F,e,1);this.reject=a(N,e,1)};h.f=D=function(e){return e===P||e===j?new A(e):T(e)}}s(s.G+s.W+s.F*!L,{Promise:P});r(7494)(P,b);r(53614)(b);j=r(56717)[b];s(s.S+s.F*!L,b,{reject:function e(t){var r=D(this);var n=r.reject;n(t);return r.promise}});s(s.S+s.F*(n||!L),b,{resolve:function e(t){return y(n&&this===j?P:this,t)}});s(s.S+s.F*!(L&&r(94955)((function(e){P.all(e)["catch"](C)}))),b,{all:function e(t){var r=this;var n=D(r);var i=n.resolve;var a=n.reject;var o=v((function(){var e=[];var n=0;var o=1;d(t,false,(function(t){var s=n++;var l=false;e.push(void 0);o++;r.resolve(t).then((function(t){if(l)return;l=true;e[s]=t;--o||i(e)}),a)}));--o||i(e)}));o.e&&a(o.v);return n.promise},race:function e(t){var r=this;var n=D(r);var i=n.reject;var a=v((function(){d(t,false,(function(e){r.resolve(e).then(n.resolve,i)}))}));a.e&&i(a.v);return n.promise}})},5550:(e,t,r)=>{var n=r(45736);var i=r(40669);var a=r(99691);var o=(r(95512).Reflect||{}).apply;var s=Function.apply;n(n.S+n.F*!r(65262)((function(){o((function(){}))})),"Reflect",{apply:function e(t,r,n){var l=i(t);var u=a(n);return o?o(l,r,u):s.call(l,r,u)}})},13210:(e,t,r)=>{var n=r(45736);var i=r(22449);var a=r(40669);var o=r(99691);var s=r(31787);var l=r(65262);var u=r(39897);var c=(r(95512).Reflect||{}).construct;var d=l((function(){function e(){}return!(c((function(){}),[],e)instanceof e)}));var f=!l((function(){c((function(){}))}));n(n.S+n.F*(d||f),"Reflect",{construct:function e(t,r){a(t);o(r);var n=arguments.length<3?t:a(arguments[2]);if(f&&!d)return c(t,r,n);if(t==n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var l=[null];l.push.apply(l,r);return new(u.apply(t,l))}var p=n.prototype;var g=i(s(p)?p:Object.prototype);var h=Function.apply.call(t,g,r);return s(h)?h:g}})},15337:(e,t,r)=>{var n=r(4062);var i=r(45736);var a=r(99691);var o=r(43087);i(i.S+i.F*r(65262)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function e(t,r,i){a(t);r=o(r,true);a(i);try{n.f(t,r,i);return true}catch(e){return false}}})},67561:(e,t,r)=>{var n=r(45736);var i=r(6286).f;var a=r(99691);n(n.S,"Reflect",{deleteProperty:function e(t,r){var n=i(a(t),r);return!(n&&!n.configurable)&&delete t[r]}})},9209:(e,t,r)=>{"use strict";var n=r(45736);var i=r(99691);var a=function(e){this._t=i(e);this._i=0;var t=this._k=[];var r;for(r in e)t.push(r)};r(84288)(a,"Object",(function(){var e=this;var t=e._k;var r;do{if(e._i>=t.length)return{value:void 0,done:true}}while(!((r=t[e._i++])in e._t));return{value:r,done:false}}));n(n.S,"Reflect",{enumerate:function e(t){return new a(t)}})},62985:(e,t,r)=>{var n=r(6286);var i=r(45736);var a=r(99691);i(i.S,"Reflect",{getOwnPropertyDescriptor:function e(t,r){return n.f(a(t),r)}})},86023:(e,t,r)=>{var n=r(45736);var i=r(45843);var a=r(99691);n(n.S,"Reflect",{getPrototypeOf:function e(t){return i(a(t))}})},43368:(e,t,r)=>{var n=r(6286);var i=r(45843);var a=r(46596);var o=r(45736);var s=r(31787);var l=r(99691);function u(e,t){var r=arguments.length<3?e:arguments[2];var o,c;if(l(e)===r)return e[t];if(o=n.f(e,t))return a(o,"value")?o.value:void 0!==o.get?o.get.call(r):void 0;if(s(c=i(e)))return u(c,t,r)}o(o.S,"Reflect",{get:u})},99624:(e,t,r)=>{var n=r(45736);n(n.S,"Reflect",{has:function e(t,r){return r in t}})},6965:(e,t,r)=>{var n=r(45736);var i=r(99691);var a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function e(t){i(t);return!a||a(t)}})},47695:(e,t,r)=>{var n=r(45736);n(n.S,"Reflect",{ownKeys:r(71696)})},29695:(e,t,r)=>{var n=r(45736);var i=r(99691);var a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function e(t){i(t);try{a&&a(t);return true}catch(e){return false}}})},71260:(e,t,r)=>{var n=r(45736);var i=r(94248);i&&n(n.S,"Reflect",{setPrototypeOf:function e(t,r){i.check(t,r);try{i.set(t,r);return true}catch(e){return false}}})},61445:(e,t,r)=>{var n=r(4062);var i=r(6286);var a=r(45843);var o=r(46596);var s=r(45736);var l=r(38449);var u=r(99691);var c=r(31787);function d(e,t,r){var s=arguments.length<4?e:arguments[3];var f=i.f(u(e),t);var p,g;if(!f){if(c(g=a(e)))return d(g,t,r,s);f=l(0)}if(o(f,"value")){if(false===f.writable||!c(s))return false;if(p=i.f(s,t)){if(p.get||p.set||false===p.writable)return false;p.value=r;n.f(s,t,p)}else n.f(s,t,l(0,r));return true}return void 0!==f.set&&(f.set.call(s,r),true)}s(s.S,"Reflect",{set:d})},93878:(e,t,r)=>{var n=r(95512);var i=r(99089);var a=r(4062).f;var o=r(37169).f;var s=r(11531);var l=r(27771);var u=n.RegExp;var c=u;var d=u.prototype;var f=/a/g;var p=/a/g;var g=new u(f)!==f;if(r(60737)&&(!g||r(65262)((function(){p[r(94549)("match")]=false;return u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")})))){u=function e(t,r){var n=this instanceof u;var a=s(t);var o=void 0===r;return!n&&a&&t.constructor===u&&o?t:i(g?new c(a&&!o?t.source:t,r):c((a=t instanceof u)?t.source:t,a&&o?l.call(t):r),n?this:d,u)};var h=function(e){e in u||a(u,e,{configurable:true,get:function(){return c[e]},set:function(t){c[e]=t}})};for(var v=o(c),m=0;v.length>m;)h(v[m++]);d.constructor=u;u.prototype=d;r(71631)(n,"RegExp",u)}r(53614)("RegExp")},49649:(e,t,r)=>{"use strict";var n=r(41793);r(45736)({target:"RegExp",proto:true,forced:n!==/./.exec},{exec:n})},50243:(e,t,r)=>{r(60737)&&"g"!=/./g.flags&&r(4062).f(RegExp.prototype,"flags",{configurable:true,get:r(27771)})},14811:(e,t,r)=>{"use strict";var n=r(99691);var i=r(39995);var a=r(93238);var o=r(91747);r(39327)("match",1,(function(e,t,r,s){return[function r(n){var i=e(this);var a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=s(r,e,this);if(t.done)return t.value;var l=n(e);var u=String(this);if(!l.global)return o(l,u);var c=l.unicode;l.lastIndex=0;var d=[];var f=0;var p;while(null!==(p=o(l,u))){var g=String(p[0]);d[f]=g;""===g&&(l.lastIndex=a(u,i(l.lastIndex),c));f++}return 0===f?null:d}]}))},3462:(e,t,r)=>{"use strict";var n=r(99691);var i=r(85023);var a=r(39995);var o=r(23397);var s=r(93238);var l=r(91747);var u=Math.max;var c=Math.min;var d=Math.floor;var f=/\$([$&`']|\d\d?|<[^>]*>)/g;var p=/\$([$&`']|\d\d?)/g;var g=function(e){return void 0===e?e:String(e)};r(39327)("replace",2,(function(e,t,r,h){return[function n(i,a){var o=e(this);var s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,o,a):r.call(String(o),i,a)},function(e,t){var i=h(r,e,this,t);if(i.done)return i.value;var d=n(e);var f=String(this);var p="function"===typeof t;p||(t=String(t));var m=d.global;if(m){var y=d.unicode;d.lastIndex=0}var b=[];while(true){var w=l(d,f);if(null===w)break;b.push(w);if(!m)break;var _=String(w[0]);""===_&&(d.lastIndex=s(f,a(d.lastIndex),y))}var S="";var E=0;for(var P=0;P<b.length;P++){w=b[P];var k=String(w[0]);var C=u(c(o(w.index),f.length),0);var O=[];for(var T=1;T<w.length;T++)O.push(g(w[T]));var A=w.groups;if(p){var j=[k].concat(O,C,f);void 0!==A&&j.push(A);var D=String(t.apply(void 0,j))}else D=v(k,f,C,O,A,t);if(C>=E){S+=f.slice(E,C)+D;E=C+k.length}}return S+f.slice(E)}];function v(e,t,n,a,o,s){var l=n+e.length;var u=a.length;var c=p;if(void 0!==o){o=i(o);c=f}return r.call(s,c,(function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(l);case"<":s=o[i.slice(1,-1)];break;default:var c=+i;if(0===c)return r;if(c>u){var f=d(c/10);if(0===f)return r;if(f<=u)return void 0===a[f-1]?i.charAt(1):a[f-1]+i.charAt(1);return r}s=a[c-1]}return void 0===s?"":s}))}}))},73009:(e,t,r)=>{"use strict";var n=r(99691);var i=r(84691);var a=r(91747);r(39327)("search",1,(function(e,t,r,o){return[function r(n){var i=e(this);var a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=o(r,e,this);if(t.done)return t.value;var s=n(e);var l=String(this);var u=s.lastIndex;i(u,0)||(s.lastIndex=0);var c=a(s,l);i(s.lastIndex,u)||(s.lastIndex=u);return null===c?-1:c.index}]}))},15769:(e,t,r)=>{"use strict";var n=r(11531);var i=r(99691);var a=r(3602);var o=r(93238);var s=r(39995);var l=r(91747);var u=r(41793);var c=r(65262);var d=Math.min;var f=[].push;var p="split";var g="length";var h="lastIndex";var v=4294967295;var m=!c((function(){RegExp(v,"y")}));r(39327)("split",2,(function(e,t,r,c){var y;y="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[g]||2!="ab"[p](/(?:ab)*/)[g]||4!="."[p](/(.?)(.?)/)[g]||"."[p](/()()/)[g]>1||""[p](/.?/)[g]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(i,e,t);var a=[];var o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"");var s=0;var l=void 0===t?v:t>>>0;var c=new RegExp(e.source,o+"g");var d,p,m;while(d=u.call(c,i)){p=c[h];if(p>s){a.push(i.slice(s,d.index));d[g]>1&&d.index<i[g]&&f.apply(a,d.slice(1));m=d[0][g];s=p;if(a[g]>=l)break}c[h]===d.index&&c[h]++}s===i[g]?!m&&c.test("")||a.push(""):a.push(i.slice(s));return a[g]>l?a.slice(0,l):a}:"0"[p](void 0,0)[g]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r;return[function r(n,i){var a=e(this);var o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,a,i):y.call(String(a),n,i)},function(e,t){var n=c(y,e,this,t,y!==r);if(n.done)return n.value;var u=i(e);var f=String(this);var p=a(u,RegExp);var g=u.unicode;var h=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(m?"y":"g");var b=new p(m?u:"^(?:"+u.source+")",h);var w=void 0===t?v:t>>>0;if(0===w)return[];if(0===f.length)return null===l(b,f)?[f]:[];var _=0;var S=0;var E=[];while(S<f.length){b.lastIndex=m?S:0;var P=l(b,m?f:f.slice(S));var k;if(null===P||(k=d(s(b.lastIndex+(m?0:S)),f.length))===_)S=o(f,S,g);else{E.push(f.slice(_,S));if(E.length===w)return E;for(var C=1;C<=P.length-1;C++){E.push(P[C]);if(E.length===w)return E}S=_=k}}E.push(f.slice(_));return E}]}))},40553:(e,t,r)=>{"use strict";r(50243);var n=r(99691);var i=r(27771);var a=r(60737);var o="toString";var s=/./[o];var l=function(e){r(71631)(RegExp.prototype,o,e,true)};r(65262)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?l((function e(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)})):s.name!=o&&l((function e(){return s.call(this)}))},18775:(e,t,r)=>{"use strict";var n=r(7655);var i=r(59210);var a="Set";e.exports=r(98510)(a,(function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function e(t){return n.def(i(this,a),t=0===t?0:t,t)}},n)},21389:(e,t,r)=>{"use strict";r(13216)("anchor",(function(e){return function t(r){return e(this,"a","name",r)}}))},75761:(e,t,r)=>{"use strict";r(13216)("big",(function(e){return function t(){return e(this,"big","","")}}))},1729:(e,t,r)=>{"use strict";r(13216)("blink",(function(e){return function t(){return e(this,"blink","","")}}))},5218:(e,t,r)=>{"use strict";r(13216)("bold",(function(e){return function t(){return e(this,"b","","")}}))},26685:(e,t,r)=>{"use strict";var n=r(45736);var i=r(46685)(false);n(n.P,"String",{codePointAt:function e(t){return i(this,t)}})},50849:(e,t,r)=>{"use strict";var n=r(45736);var i=r(39995);var a=r(50685);var o="endsWith";var s=""[o];n(n.P+n.F*r(62144)(o),"String",{endsWith:function e(t){var r=a(this,t,o);var n=arguments.length>1?arguments[1]:void 0;var l=i(r.length);var u=void 0===n?l:Math.min(i(n),l);var c=String(t);return s?s.call(r,c,u):r.slice(u-c.length,u)===c}})},62211:(e,t,r)=>{"use strict";r(13216)("fixed",(function(e){return function t(){return e(this,"tt","","")}}))},8902:(e,t,r)=>{"use strict";r(13216)("fontcolor",(function(e){return function t(r){return e(this,"font","color",r)}}))},2753:(e,t,r)=>{"use strict";r(13216)("fontsize",(function(e){return function t(r){return e(this,"font","size",r)}}))},41816:(e,t,r)=>{var n=r(45736);var i=r(2692);var a=String.fromCharCode;var o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function e(t){var r=[];var n=arguments.length;var o=0;var s;while(n>o){s=+arguments[o++];if(i(s,1114111)!==s)throw RangeError(s+" is not a valid code point");r.push(s<65536?a(s):a(55296+((s-=65536)>>10),s%1024+56320))}return r.join("")}})},39577:(e,t,r)=>{"use strict";var n=r(45736);var i=r(50685);var a="includes";n(n.P+n.F*r(62144)(a),"String",{includes:function e(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},9449:(e,t,r)=>{"use strict";r(13216)("italics",(function(e){return function t(){return e(this,"i","","")}}))},77794:(e,t,r)=>{"use strict";var n=r(46685)(true);r(89118)(String,"String",(function(e){this._t=String(e);this._i=0}),(function(){var e=this._t;var t=this._i;var r;if(t>=e.length)return{value:void 0,done:true};r=n(e,t);this._i+=r.length;return{value:r,done:false}}))},58269:(e,t,r)=>{"use strict";r(13216)("link",(function(e){return function t(r){return e(this,"a","href",r)}}))},19586:(e,t,r)=>{var n=r(45736);var i=r(57129);var a=r(39995);n(n.S,"String",{raw:function e(t){var r=i(t.raw);var n=a(r.length);var o=arguments.length;var s=[];var l=0;while(n>l){s.push(String(r[l++]));l<o&&s.push(String(arguments[l]))}return s.join("")}})},43747:(e,t,r)=>{var n=r(45736);n(n.P,"String",{repeat:r(40594)})},6367:(e,t,r)=>{"use strict";r(13216)("small",(function(e){return function t(){return e(this,"small","","")}}))},29955:(e,t,r)=>{"use strict";var n=r(45736);var i=r(39995);var a=r(50685);var o="startsWith";var s=""[o];n(n.P+n.F*r(62144)(o),"String",{startsWith:function e(t){var r=a(this,t,o);var n=i(Math.min(arguments.length>1?arguments[1]:void 0,r.length));var l=String(t);return s?s.call(r,l,n):r.slice(n,n+l.length)===l}})},14367:(e,t,r)=>{"use strict";r(13216)("strike",(function(e){return function t(){return e(this,"strike","","")}}))},56851:(e,t,r)=>{"use strict";r(13216)("sub",(function(e){return function t(){return e(this,"sub","","")}}))},43414:(e,t,r)=>{"use strict";r(13216)("sup",(function(e){return function t(){return e(this,"sup","","")}}))},56609:(e,t,r)=>{"use strict";r(95002)("trim",(function(e){return function t(){return e(this,3)}}))},34990:(e,t,r)=>{"use strict";var n=r(95512);var i=r(46596);var a=r(60737);var o=r(45736);var s=r(71631);var l=r(46774).KEY;var u=r(65262);var c=r(50573);var d=r(7494);var f=r(39015);var p=r(94549);var g=r(2214);var h=r(80646);var v=r(40277);var m=r(39587);var y=r(99691);var b=r(31787);var w=r(85023);var _=r(57129);var S=r(43087);var E=r(38449);var P=r(22449);var k=r(75760);var C=r(6286);var O=r(16123);var T=r(4062);var A=r(6540);var j=C.f;var D=T.f;var L=k.f;var R=n.Symbol;var I=n.JSON;var x=I&&I.stringify;var M="prototype";var V=p("_hidden");var N=p("toPrimitive");var F={}.propertyIsEnumerable;var B=c("symbol-registry");var W=c("symbols");var G=c("op-symbols");var q=Object[M];var U="function"==typeof R&&!!O.f;var H=n.QObject;var z=!H||!H[M]||!H[M].findChild;var $=a&&u((function(){return 7!=P(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=j(q,t);n&&delete q[t];D(e,t,r);n&&e!==q&&D(q,t,n)}:D;var K=function(e){var t=W[e]=P(R[M]);t._k=e;return t};var Z=U&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R};var Y=function e(t,r,n){t===q&&Y(G,r,n);y(t);r=S(r,true);y(n);if(i(W,r)){if(n.enumerable){i(t,V)&&t[V][r]&&(t[V][r]=false);n=P(n,{enumerable:E(0,false)})}else{i(t,V)||D(t,V,E(1,{}));t[V][r]=true}return $(t,r,n)}return D(t,r,n)};var X=function e(t,r){y(t);var n=v(r=_(r));var i=0;var a=n.length;var o;while(a>i)Y(t,o=n[i++],r[o]);return t};var J=function e(t,r){return void 0===r?P(t):X(P(t),r)};var Q=function e(t){var r=F.call(this,t=S(t,true));if(this===q&&i(W,t)&&!i(G,t))return false;return!(r||!i(this,t)||!i(W,t)||i(this,V)&&this[V][t])||r};var ee=function e(t,r){t=_(t);r=S(r,true);if(t===q&&i(W,r)&&!i(G,r))return;var n=j(t,r);!n||!i(W,r)||i(t,V)&&t[V][r]||(n.enumerable=true);return n};var te=function e(t){var r=L(_(t));var n=[];var a=0;var o;while(r.length>a)i(W,o=r[a++])||o==V||o==l||n.push(o);return n};var re=function e(t){var r=t===q;var n=L(r?G:_(t));var a=[];var o=0;var s;while(n.length>o)!i(W,s=n[o++])||r&&!i(q,s)||a.push(W[s]);return a};if(!U){R=function e(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0);var r=function(e){this===q&&r.call(G,e);i(this,V)&&i(this[V],t)&&(this[V][t]=false);$(this,t,E(1,e))};a&&z&&$(q,t,{configurable:true,set:r});return K(t)};s(R[M],"toString",(function e(){return this._k}));C.f=ee;T.f=Y;r(37169).f=k.f=te;r(54225).f=Q;O.f=re;a&&!r(96325)&&s(q,"propertyIsEnumerable",Q,true);g.f=function(e){return K(p(e))}}o(o.G+o.W+o.F*!U,{Symbol:R});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;ne.length>ie;)p(ne[ie++]);for(var ae=A(p.store),oe=0;ae.length>oe;)h(ae[oe++]);o(o.S+o.F*!U,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=R(e)},keyFor:function e(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var r in B)if(B[r]===t)return r},useSetter:function(){z=true},useSimple:function(){z=false}});o(o.S+o.F*!U,"Object",{create:J,defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:re});var se=u((function(){O.f(1)}));o(o.S+o.F*se,"Object",{getOwnPropertySymbols:function e(t){return O.f(w(t))}});I&&o(o.S+o.F*(!U||u((function(){var e=R();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))}))),"JSON",{stringify:function e(t){var r=[t];var n=1;var i,a;while(arguments.length>n)r.push(arguments[n++]);a=i=r[1];if(!b(i)&&void 0===t||Z(t))return;m(i)||(i=function(e,t){"function"==typeof a&&(t=a.call(this,e,t));if(!Z(t))return t});r[1]=i;return x.apply(I,r)}});R[M][N]||r(30122)(R[M],N,R[M].valueOf);d(R,"Symbol");d(Math,"Math",true);d(n.JSON,"JSON",true)},95829:(e,t,r)=>{"use strict";var n=r(45736);var i=r(30931);var a=r(84916);var o=r(99691);var s=r(2692);var l=r(39995);var u=r(31787);var c=r(95512).ArrayBuffer;var d=r(3602);var f=a.ArrayBuffer;var p=a.DataView;var g=i.ABV&&c.isView;var h=f.prototype.slice;var v=i.VIEW;var m="ArrayBuffer";n(n.G+n.W+n.F*(c!==f),{ArrayBuffer:f});n(n.S+n.F*!i.CONSTR,m,{isView:function e(t){return g&&g(t)||u(t)&&v in t}});n(n.P+n.U+n.F*r(65262)((function(){return!new f(2).slice(1,void 0).byteLength})),m,{slice:function e(t,r){if(void 0!==h&&void 0===r)return h.call(o(this),t);var n=o(this).byteLength;var i=s(t,n);var a=s(void 0===r?n:r,n);var u=new(d(this,f))(l(a-i));var c=new p(this);var g=new p(u);var v=0;while(i<a)g.setUint8(v++,c.getUint8(i++));return u}});r(53614)(m)},10129:(e,t,r)=>{var n=r(45736);n(n.G+n.W+n.F*!r(30931).ABV,{DataView:r(84916).DataView})},71072:(e,t,r)=>{r(92123)("Float32",4,(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},25335:(e,t,r)=>{r(92123)("Float64",8,(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},68717:(e,t,r)=>{r(92123)("Int16",2,(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},91583:(e,t,r)=>{r(92123)("Int32",4,(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},92978:(e,t,r)=>{r(92123)("Int8",1,(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},54591:(e,t,r)=>{r(92123)("Uint16",2,(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},35797:(e,t,r)=>{r(92123)("Uint32",4,(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},12190:(e,t,r)=>{r(92123)("Uint8",1,(function(e){return function t(r,n,i){return e(this,r,n,i)}}))},57347:(e,t,r)=>{r(92123)("Uint8",1,(function(e){return function t(r,n,i){return e(this,r,n,i)}}),true)},78081:(e,t,r)=>{"use strict";var n=r(95512);var i=r(14529)(0);var a=r(71631);var o=r(46774);var s=r(88550);var l=r(39959);var u=r(31787);var c=r(59210);var d=r(59210);var f=!n.ActiveXObject&&"ActiveXObject"in n;var p="WeakMap";var g=o.getWeak;var h=Object.isExtensible;var v=l.ufstore;var m;var y=function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}};var b={get:function e(t){if(u(t)){var r=g(t);if(true===r)return v(c(this,p)).get(t);return r?r[this._i]:void 0}},set:function e(t,r){return l.def(c(this,p),t,r)}};var w=e.exports=r(98510)(p,y,b,l,true,true);if(d&&f){m=l.getConstructor(y,p);s(m.prototype,b);o.NEED=true;i(["delete","has","get","set"],(function(e){var t=w.prototype;var r=t[e];a(t,e,(function(t,n){if(u(t)&&!h(t)){this._f||(this._f=new m);var i=this._f[e](t,n);return"set"==e?this:i}return r.call(this,t,n)}))}))}},19073:(e,t,r)=>{"use strict";var n=r(39959);var i=r(59210);var a="WeakSet";r(98510)(a,(function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function e(t){return n.def(i(this,a),t,true)}},n,false,true)},12014:(e,t,r)=>{"use strict";var n=r(45736);var i=r(83579);var a=r(85023);var o=r(39995);var s=r(40669);var l=r(81544);n(n.P,"Array",{flatMap:function e(t){var r=a(this);var n,u;s(t);n=o(r.length);u=l(r,0);i(u,r,r,n,0,1,t,arguments[1]);return u}});r(7263)("flatMap")},55311:(e,t,r)=>{"use strict";var n=r(45736);var i=r(55681)(true);n(n.P,"Array",{includes:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}});r(7263)("includes")},72046:(e,t,r)=>{var n=r(45736);var i=r(45134)(true);n(n.S,"Object",{entries:function e(t){return i(t)}})},78973:(e,t,r)=>{var n=r(45736);var i=r(71696);var a=r(57129);var o=r(6286);var s=r(67728);n(n.S,"Object",{getOwnPropertyDescriptors:function e(t){var r=a(t);var n=o.f;var l=i(r);var u={};var c=0;var d,f;while(l.length>c){f=n(r,d=l[c++]);void 0!==f&&s(u,d,f)}return u}})},91080:(e,t,r)=>{var n=r(45736);var i=r(45134)(false);n(n.S,"Object",{values:function e(t){return i(t)}})},28744:(e,t,r)=>{"use strict";var n=r(45736);var i=r(56717);var a=r(95512);var o=r(3602);var s=r(63562);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise);var r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then((function(){return r}))}:e,r?function(r){return s(t,e()).then((function(){throw r}))}:e)}})},5875:(e,t,r)=>{"use strict";var n=r(45736);var i=r(58380);var a=r(31322);var o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padEnd:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0,false)}})},48102:(e,t,r)=>{"use strict";var n=r(45736);var i=r(58380);var a=r(31322);var o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padStart:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0,true)}})},3471:(e,t,r)=>{"use strict";r(95002)("trimLeft",(function(e){return function t(){return e(this,1)}}),"trimStart")},31912:(e,t,r)=>{"use strict";r(95002)("trimRight",(function(e){return function t(){return e(this,2)}}),"trimEnd")},68607:(e,t,r)=>{r(80646)("asyncIterator")},99285:(e,t,r)=>{var n=r(63862);var i=r(6540);var a=r(71631);var o=r(95512);var s=r(30122);var l=r(27085);var u=r(94549);var c=u("iterator");var d=u("toStringTag");var f=l.Array;var p={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var g=i(p),h=0;h<g.length;h++){var v=g[h];var m=p[v];var y=o[v];var b=y&&y.prototype;var w;if(b){b[c]||s(b,c,f);b[d]||s(b,d,v);l[v]=f;if(m)for(w in n)b[w]||a(b,w,n[w],true)}}},99344:(e,t,r)=>{var n=r(45736);var i=r(8535);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},3628:(e,t,r)=>{var n=r(95512);var i=r(45736);var a=r(31322);var o=[].slice;var s=/MSIE .\./.test(a);var l=function(e){return function(t,r){var n=arguments.length>2;var i=!!n&&o.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,r)}};i(i.G+i.B+i.F*s,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},54029:(e,t,r)=>{r(3628);r(99344);r(99285);e.exports=r(56717)},87625:(e,t,r)=>{"use strict";var n=r(95001);var i={childContextTypes:true,contextType:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromError:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var a={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var o={$$typeof:true,render:true,defaultProps:true,displayName:true,propTypes:true};var s={$$typeof:true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var l={};l[n.ForwardRef]=o;l[n.Memo]=s;function u(e){if(n.isMemo(e))return s;return l[e["$$typeof"]]||i}var c=Object.defineProperty;var d=Object.getOwnPropertyNames;var f=Object.getOwnPropertySymbols;var p=Object.getOwnPropertyDescriptor;var g=Object.getPrototypeOf;var h=Object.prototype;function v(e,t,r){if("string"!==typeof t){if(h){var n=g(t);n&&n!==h&&v(e,n,r)}var i=d(t);f&&(i=i.concat(f(t)));var o=u(e);var s=u(t);for(var l=0;l<i.length;++l){var m=i[l];if(!a[m]&&!(r&&r[m])&&!(s&&s[m])&&!(o&&o[m])){var y=p(t,m);try{c(e,m,y)}catch(e){}}}}return e}e.exports=v},57907:e=>{"use strict";var t=function(e,t,r,n,i,a,o,s){false;if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,a,o,s];var c=0;l=new Error(t.replace(/%s/g,(function(){return u[c++]})));l.name="Invariant Violation"}l.framesToPop=1;throw l}};e.exports=t},34244:e=>{"use strict";var t=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty;var n=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(){try{if(!Object.assign)return false;var e=new String("abc");e[5]="de";if("5"===Object.getOwnPropertyNames(e)[0])return false;var t={};for(var r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==n.join(""))return false;var i={};"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e}));if("abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return false;return true}catch(e){return false}}e.exports=a()?Object.assign:function(e,a){var o;var s=i(e);var l;for(var u=1;u<arguments.length;u++){o=Object(arguments[u]);for(var c in o)r.call(o,c)&&(s[c]=o[c]);if(t){l=t(o);for(var d=0;d<l.length;d++)n.call(o,l[d])&&(s[l[d]]=o[l[d]])}}return s}},52287:(e,t,r)=>{"use strict";var n=r(25694);function i(){}function a(){}a.resetWarningCache=i;e.exports=function(){function e(e,t,r,i,a,o){if(o===n)return;var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");s.name="Invariant Violation";throw s}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};r.PropTypes=r;return r}},76660:(e,t,r)=>{var n,i;false;e.exports=r(52287)()},25694:e=>{"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},79582:(e,t,r)=>{"use strict";var n=r(79440),i=r(34244),a=r(60804);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));function s(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(e){this.onError(e)}}var l=!1,u=null,c=!1,d=null,f={onError:function(e){l=!0;u=e}};function p(e,t,r,n,i,a,o,c,d){l=!1;u=null;s.apply(f,arguments)}function g(e,t,r,n,i,a,s,f,g){p.apply(this,arguments);if(l){if(!l)throw Error(o(198));var h=u;l=!1;u=null;c||(c=!0,d=h)}}var h=null,v=null,m=null;function y(e,t,r){var n=e.type||"unknown-event";e.currentTarget=m(r);g(n,t,void 0,e);e.currentTarget=null}var b=null,w={};function _(){if(b)for(var e in w){var t=w[e],r=b.indexOf(e);if(!(-1<r))throw Error(o(96,e));if(!E[r]){if(!t.extractEvents)throw Error(o(97,e));E[r]=t;r=t.eventTypes;for(var n in r){var i=void 0;var a=r[n],s=t,l=n;if(P.hasOwnProperty(l))throw Error(o(99,l));P[l]=a;var u=a.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&S(u[i],s,l);i=!0}else a.registrationName?(S(a.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(o(98,n,e))}}}}function S(e,t,r){if(k[e])throw Error(o(100,e));k[e]=t;C[e]=t.eventTypes[r].dependencies}var E=[],P={},k={},C={};function O(e){var t=!1,r;for(r in e)if(e.hasOwnProperty(r)){var n=e[r];if(!w.hasOwnProperty(r)||w[r]!==n){if(w[r])throw Error(o(102,r));w[r]=n;t=!0}}t&&_()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=null,j=null,D=null;function L(e){if(e=v(e)){if("function"!==typeof A)throw Error(o(280));var t=e.stateNode;t&&(t=h(t),A(e.stateNode,e.type,t))}}function R(e){j?D?D.push(e):D=[e]:j=e}function I(){if(j){var e=j,t=D;D=j=null;L(e);if(t)for(e=0;e<t.length;e++)L(t[e])}}function x(e,t){return e(t)}function M(e,t,r,n,i){return e(t,r,n,i)}function V(){}var N=x,F=!1,B=!1;function W(){null===j&&null===D||(V(),I())}function G(e,t,r){if(B)return e(t,r);B=!0;try{return N(e,t,r)}finally{B=!1,W()}}var q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U=Object.prototype.hasOwnProperty,H={},z={};function $(e){if(U.call(z,e))return!0;if(U.call(H,e))return!1;if(q.test(e))return z[e]=!0;H[e]=!0;return!1}function K(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(n)return!1;if(null!==r)return!r.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function Z(e,t,r,n){if(null===t||"undefined"===typeof t||K(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Y(e,t,r,n,i,a){this.acceptsBooleans=2===t||3===t||4===t;this.attributeName=n;this.attributeNamespace=i;this.mustUseProperty=r;this.propertyName=e;this.type=t;this.sanitizeURL=a}var X={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){X[e]=new Y(e,0,!1,e,null,!1)}));[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];X[t]=new Y(t,1,!1,e[1],null,!1)}));["contentEditable","draggable","spellCheck","value"].forEach((function(e){X[e]=new Y(e,2,!1,e.toLowerCase(),null,!1)}));["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){X[e]=new Y(e,2,!1,e,null,!1)}));"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){X[e]=new Y(e,3,!1,e.toLowerCase(),null,!1)}));["checked","multiple","muted","selected"].forEach((function(e){X[e]=new Y(e,3,!0,e,null,!1)}));["capture","download"].forEach((function(e){X[e]=new Y(e,4,!1,e,null,!1)}));["cols","rows","size","span"].forEach((function(e){X[e]=new Y(e,6,!1,e,null,!1)}));["rowSpan","start"].forEach((function(e){X[e]=new Y(e,5,!1,e.toLowerCase(),null,!1)}));var J=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(J,Q);X[t]=new Y(t,1,!1,e,null,!1)}));"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(J,Q);X[t]=new Y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}));["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(J,Q);X[t]=new Y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}));["tabIndex","crossOrigin"].forEach((function(e){X[e]=new Y(e,1,!1,e.toLowerCase(),null,!1)}));X.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach((function(e){X[e]=new Y(e,1,!1,e.toLowerCase(),null,!0)}));var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ee.hasOwnProperty("ReactCurrentDispatcher")||(ee.ReactCurrentDispatcher={current:null});ee.hasOwnProperty("ReactCurrentBatchConfig")||(ee.ReactCurrentBatchConfig={suspense:null});function te(e,t,r,n){var i=X.hasOwnProperty(t)?X[t]:null;var a=null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));a||(Z(t,r,i,n)&&(r=null),n||null===i?$(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(i=i.type,r=3===i||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var re=/^(.*)[\\\/]/,ne="function"===typeof Symbol&&Symbol.for,ie=ne?Symbol.for("react.element"):60103,ae=ne?Symbol.for("react.portal"):60106,oe=ne?Symbol.for("react.fragment"):60107,se=ne?Symbol.for("react.strict_mode"):60108,le=ne?Symbol.for("react.profiler"):60114,ue=ne?Symbol.for("react.provider"):60109,ce=ne?Symbol.for("react.context"):60110,de=ne?Symbol.for("react.concurrent_mode"):60111,fe=ne?Symbol.for("react.forward_ref"):60112,pe=ne?Symbol.for("react.suspense"):60113,ge=ne?Symbol.for("react.suspense_list"):60120,he=ne?Symbol.for("react.memo"):60115,ve=ne?Symbol.for("react.lazy"):60116,me=ne?Symbol.for("react.block"):60121,ye="function"===typeof Symbol&&Symbol.iterator;function be(e){if(null===e||"object"!==typeof e)return null;e=ye&&e[ye]||e["@@iterator"];return"function"===typeof e?e:null}function we(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t();e._result=t;t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}function _e(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case oe:return"Fragment";case ae:return"Portal";case le:return"Profiler";case se:return"StrictMode";case pe:return"Suspense";case ge:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ce:return"Context.Consumer";case ue:return"Context.Provider";case fe:var t=e.render;t=t.displayName||t.name||"";return e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return _e(e.type);case me:return _e(e.render);case ve:if(e=1===e._status?e._result:null)return _e(e)}return null}function Se(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,a=_e(e.type);r=null;n&&(r=_e(n.type));n=a;a="";i?a=" (at "+i.fileName.replace(re,"")+":"+i.lineNumber+")":r&&(a=" (created by "+r+")");r="\n    in "+(n||"Unknown")+a}t+=r;e=e.return}while(e);return t}function Ee(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Pe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ke(e){var t=Pe(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e;a.call(this,e)}});Object.defineProperty(e,t,{enumerable:r.enumerable});return{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null;delete e[t]}}}}function Ce(e){e._valueTracker||(e._valueTracker=ke(e))}function Oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue();var n="";e&&(n=Pe(e)?e.checked?"true":"false":e.value);e=n;return e!==r&&(t.setValue(e),!0)}function Te(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Ae(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=Ee(null!=t.value?t.value:r);e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function je(e,t){t=t.checked;null!=t&&te(e,"checked",t,!1)}function De(e,t){je(e,t);var r=Ee(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n){e.removeAttribute("value");return}t.hasOwnProperty("value")?Re(e,t.type,r):t.hasOwnProperty("defaultValue")&&Re(e,t.type,Ee(t.defaultValue));null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Le(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue;r||t===e.value||(e.value=t);e.defaultValue=t}r=e.name;""!==r&&(e.name="");e.defaultChecked=!!e._wrapperState.initialChecked;""!==r&&(e.name=r)}function Re(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Ie(e){var t="";n.Children.forEach(e,(function(e){null!=e&&(t+=e)}));return t}function xe(e,t){e=i({children:void 0},t);(t=Ie(t.children))&&(e.children=t);return e}function Me(e,t,r,n){e=e.options;if(t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{r=""+Ee(r);t=null;for(i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0;n&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ve(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,t){var r=t.value;if(null==r){r=t.children;t=t.defaultValue;if(null!=r){if(null!=t)throw Error(o(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(o(93));r=r[0]}t=r}null==t&&(t="");r=t}e._wrapperState={initialValue:Ee(r)}}function Fe(e,t){var r=Ee(t.value),n=Ee(t.defaultValue);null!=r&&(r=""+r,r!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r));null!=n&&(e.defaultValue=""+n)}function Be(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var We={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ge(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ge(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,He=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r,n,i)}))}:e}((function(e,t){if(e.namespaceURI!==We.svg||"innerHTML"in e)e.innerHTML=t;else{Ue=Ue||document.createElement("div");Ue.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";for(t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType){r.nodeValue=t;return}}e.textContent=t}function $e(e,t){var r={};r[e.toLowerCase()]=t.toLowerCase();r["Webkit"+e]="webkit"+t;r["Moz"+e]="moz"+t;return r}var Ke={animationend:$e("Animation","AnimationEnd"),animationiteration:$e("Animation","AnimationIteration"),animationstart:$e("Animation","AnimationStart"),transitionend:$e("Transition","TransitionEnd")},Ze={},Ye={};T&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete Ke.animationend.animation,delete Ke.animationiteration.animation,delete Ke.animationstart.animation),"TransitionEvent"in window||delete Ke.transitionend.transition);function Xe(e){if(Ze[e])return Ze[e];if(!Ke[e])return e;var t=Ke[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ye)return Ze[e]=t[r];return e}var Je=Xe("animationend"),Qe=Xe("animationiteration"),et=Xe("animationstart"),tt=Xe("transitionend"),rt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nt=new("function"===typeof WeakMap?WeakMap:Map);function it(e){var t=nt.get(e);void 0===t&&(t=new Map,nt.set(e,t));return t}function at(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(1026&t.effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function ot(e){if(13===e.tag){var t=e.memoizedState;null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState));if(null!==t)return t.dehydrated}return null}function st(e){if(at(e)!==e)throw Error(o(188))}function lt(e){var t=e.alternate;if(!t){t=at(e);if(null===t)throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){n=i.return;if(null!==n){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return st(i),e;if(a===n)return st(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0;r=i;n=a;break}if(l===n){s=!0;n=i;r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0;r=a;n=i;break}if(l===n){s=!0;n=a;r=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}function ut(e){e=lt(e);if(!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return;t=t.sibling}}return null}function ct(e,t){if(null==t)throw Error(o(30));if(null==e)return t;if(Array.isArray(e)){if(Array.isArray(t))return e.push.apply(e,t),e;e.push(t);return e}return Array.isArray(t)?[e].concat(t):[e,t]}function dt(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var ft=null;function pt(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)y(e,t[n],r[n]);else t&&y(e,t,r);e._dispatchListeners=null;e._dispatchInstances=null;e.isPersistent()||e.constructor.release(e)}}function gt(e){null!==e&&(ft=ct(ft,e));e=ft;ft=null;if(e){dt(e,pt);if(ft)throw Error(o(95));if(c)throw e=d,c=!1,d=null,e}}function ht(e){e=e.target||e.srcElement||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}function vt(e){if(!T)return!1;e="on"+e;var t=e in document;t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"===typeof t[e]);return t}var mt=[];function yt(e){e.topLevelType=null;e.nativeEvent=null;e.targetInst=null;e.ancestors.length=0;10>mt.length&&mt.push(e)}function bt(e,t,r,n){if(mt.length){var i=mt.pop();i.topLevelType=e;i.eventSystemFlags=n;i.nativeEvent=t;i.targetInst=r;return i}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function wt(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;t=r.tag;5!==t&&6!==t||e.ancestors.push(r);r=Br(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=ht(e.nativeEvent);n=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===r&&(o|=64);for(var s=null,l=0;l<E.length;l++){var u=E[l];u&&(u=u.extractEvents(n,t,a,i,o))&&(s=ct(s,u))}gt(s)}}function _t(e,t,r){if(!r.has(e)){switch(e){case"scroll":nr(t,"scroll",!0);break;case"focus":case"blur":nr(t,"focus",!0);nr(t,"blur",!0);r.set("blur",null);r.set("focus",null);break;case"cancel":case"close":vt(e)&&nr(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===rt.indexOf(e)&&rr(e,t)}r.set(e,null)}}var St,Et,Pt,kt=!1,Ct=[],Ot=null,Tt=null,At=null,jt=new Map,Dt=new Map,Lt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),It="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function xt(e,t){var r=it(t);Rt.forEach((function(e){_t(e,t,r)}));It.forEach((function(e){_t(e,t,r)}))}function Mt(e,t,r,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:i,container:n}}function Vt(e,t){switch(e){case"focus":case"blur":Ot=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Nt(e,t,r,n,i,a){if(null===e||e.nativeEvent!==a)return e=Mt(t,r,n,i,a),null!==t&&(t=Wr(t),null!==t&&Et(t)),e;e.eventSystemFlags|=n;return e}function Ft(e,t,r,n,i){switch(t){case"focus":return Ot=Nt(Ot,e,t,r,n,i),!0;case"dragenter":return Tt=Nt(Tt,e,t,r,n,i),!0;case"mouseover":return At=Nt(At,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;jt.set(a,Nt(jt.get(a)||null,e,t,r,n,i));return!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Nt(Dt.get(a)||null,e,t,r,n,i)),!0}return!1}function Bt(e){var t=Br(e.target);if(null!==t){var r=at(t);if(null!==r)if(t=r.tag,13===t){if(t=ot(r),null!==t){e.blockedOn=t;a.unstable_runWithPriority(e.priority,(function(){Pt(r)}));return}}else if(3===t&&r.stateNode.hydrate){e.blockedOn=3===r.tag?r.stateNode.containerInfo:null;return}}e.blockedOn=null}function Wt(e){if(null!==e.blockedOn)return!1;var t=sr(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=Wr(t);null!==r&&Et(r);e.blockedOn=t;return!1}return!0}function Gt(e,t,r){Wt(e)&&r.delete(t)}function qt(){for(kt=!1;0<Ct.length;){var e=Ct[0];if(null!==e.blockedOn){e=Wr(e.blockedOn);null!==e&&St(e);break}var t=sr(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Ct.shift()}null!==Ot&&Wt(Ot)&&(Ot=null);null!==Tt&&Wt(Tt)&&(Tt=null);null!==At&&Wt(At)&&(At=null);jt.forEach(Gt);Dt.forEach(Gt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,qt)))}function Ht(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var r=1;r<Ct.length;r++){var n=Ct[r];n.blockedOn===e&&(n.blockedOn=null)}}null!==Ot&&Ut(Ot,e);null!==Tt&&Ut(Tt,e);null!==At&&Ut(At,e);jt.forEach(t);Dt.forEach(t);for(r=0;r<Lt.length;r++)n=Lt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Lt.length&&(r=Lt[0],null===r.blockedOn);)Bt(r),null===r.blockedOn&&Lt.shift()}var zt={},$t=new Map,Kt=new Map,Zt=["abort","abort",Je,"animationEnd",Qe,"animationIteration",et,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",tt,"transitionEnd","waiting","waiting"];function Yt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[n],eventPriority:t};Kt.set(n,t);$t.set(n,a);zt[i]=a}}Yt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Yt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Yt(Zt,2);for(var Xt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Jt=0;Jt<Xt.length;Jt++)Kt.set(Xt[Jt],0);var Qt=a.unstable_UserBlockingPriority,er=a.unstable_runWithPriority,tr=!0;function rr(e,t){nr(t,e,!1)}function nr(e,t,r){var n=Kt.get(t);switch(void 0===n?2:n){case 0:n=ir.bind(null,t,1,e);break;case 1:n=ar.bind(null,t,1,e);break;default:n=or.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function ir(e,t,r,n){F||V();var i=or,a=F;F=!0;try{M(i,e,t,r,n)}finally{(F=a)||W()}}function ar(e,t,r,n){er(Qt,or.bind(null,e,t,r,n))}function or(e,t,r,n){if(tr)if(0<Ct.length&&-1<Rt.indexOf(e))e=Mt(null,e,t,r,n),Ct.push(e);else{var i=sr(e,t,r,n);if(null===i)Vt(e,n);else if(-1<Rt.indexOf(e))e=Mt(i,e,t,r,n),Ct.push(e);else if(!Ft(i,e,t,r,n)){Vt(e,n);e=bt(e,n,null,t);try{G(wt,e)}finally{yt(e)}}}}function sr(e,t,r,n){r=ht(n);r=Br(r);if(null!==r){var i=at(r);if(null===i)r=null;else{var a=i.tag;if(13===a){r=ot(i);if(null!==r)return r;r=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}e=bt(e,n,r,t);try{G(wt,e)}finally{yt(e)}return null}var lr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ur=["Webkit","ms","Moz","O"];Object.keys(lr).forEach((function(e){ur.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1);lr[t]=lr[e]}))}));function cr(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function dr(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=cr(r,t[r],n);"float"===r&&(r="cssFloat");n?e.setProperty(r,i):e[r]=i}}var fr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pr(e,t){if(t){if(fr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function gr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hr=We.html;function vr(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var r=it(e);t=C[t];for(var n=0;n<t.length;n++)_t(t[n],e,r)}function mr(){}function yr(e){e=e||("undefined"!==typeof document?document:void 0);if("undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function br(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wr(e,t){var r=br(e);e=0;for(var n;r;){if(3===r.nodeType){n=e+r.textContent.length;if(e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=br(r)}}function _r(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?_r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Sr(){for(var e=window,t=yr();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;e=t.contentWindow;t=yr(e.document)}return t}function Er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Pr="$",kr="/$",Cr="$?",Or="$!",Tr=null,Ar=null;function jr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Dr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Lr="function"===typeof setTimeout?setTimeout:void 0,Rr="function"===typeof clearTimeout?clearTimeout:void 0;function Ir(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if(r===Pr||r===Or||r===Cr){if(0===t)return e;t--}else r===kr&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Vr="__reactInternalInstance$"+Mr,Nr="__reactEventHandlers$"+Mr,Fr="__reactContainere$"+Mr;function Br(e){var t=e[Vr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fr]||r[Vr]){r=t.alternate;if(null!==t.child||null!==r&&null!==r.child)for(e=xr(e);null!==e;){if(r=e[Vr])return r;e=xr(e)}return t}e=r;r=e.parentNode}return null}function Wr(e){e=e[Vr]||e[Fr];return!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Gr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function qr(e){return e[Nr]||null}function Ur(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t){var r=e.stateNode;if(!r)return null;var n=h(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}function zr(e,t,r){(t=Hr(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=ct(r._dispatchListeners,t),r._dispatchInstances=ct(r._dispatchInstances,e))}function $r(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Ur(t);for(t=r.length;0<t--;)zr(r[t],"captured",e);for(t=0;t<r.length;t++)zr(r[t],"bubbled",e)}}function Kr(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=Hr(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=ct(r._dispatchListeners,t),r._dispatchInstances=ct(r._dispatchInstances,e))}function Zr(e){e&&e.dispatchConfig.registrationName&&Kr(e._targetInst,null,e)}function Yr(e){dt(e,$r)}var Xr=null,Jr=null,Qr=null;function en(){if(Qr)return Qr;var e,t=Jr,r=t.length,n,i="value"in Xr?Xr.value:Xr.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Qr=i.slice(e,1<n?1-n:void 0)}function tn(){return!0}function rn(){return!1}function nn(e,t,r,n){this.dispatchConfig=e;this._targetInst=t;this.nativeEvent=r;e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?tn:rn;this.isPropagationStopped=rn;return this}i(nn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){this.isPersistent=tn},isPersistent:rn,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=rn;this._dispatchInstances=this._dispatchListeners=null}});nn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};nn.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var a=new t;i(a,r.prototype);r.prototype=a;r.prototype.constructor=r;r.Interface=i({},n.Interface,e);r.extend=n.extend;sn(r);return r};sn(nn);function an(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();this.call(i,e,t,r,n);return i}return new this(e,t,r,n)}function on(e){if(!(e instanceof this))throw Error(o(279));e.destructor();10>this.eventPool.length&&this.eventPool.push(e)}function sn(e){e.eventPool=[];e.getPooled=an;e.release=on}var ln=nn.extend({data:null}),un=nn.extend({data:null}),cn=[9,13,27,32],dn=T&&"CompositionEvent"in window,fn=null;T&&"documentMode"in document&&(fn=document.documentMode);var pn=T&&"TextEvent"in window&&!fn,gn=T&&(!dn||fn&&8<fn&&11>=fn),hn=String.fromCharCode(32),vn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},mn=!1;function yn(e,t){switch(e){case"keyup":return-1!==cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function bn(e){e=e.detail;return"object"===typeof e&&"data"in e?e.data:null}var wn=!1;function _n(e,t){switch(e){case"compositionend":return bn(t);case"keypress":if(32!==t.which)return null;mn=!0;return hn;case"textInput":return e=t.data,e===hn&&mn?null:e;default:return null}}function Sn(e,t){if(wn)return"compositionend"===e||!dn&&yn(e,t)?(e=en(),Qr=Jr=Xr=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gn&&"ko"!==t.locale?null:t.data;default:return null}}var En={eventTypes:vn,extractEvents:function(e,t,r,n){var i;if(dn)e:{switch(e){case"compositionstart":var a=vn.compositionStart;break e;case"compositionend":a=vn.compositionEnd;break e;case"compositionupdate":a=vn.compositionUpdate;break e}a=void 0}else wn?yn(e,r)&&(a=vn.compositionEnd):"keydown"===e&&229===r.keyCode&&(a=vn.compositionStart);a?(gn&&"ko"!==r.locale&&(wn||a!==vn.compositionStart?a===vn.compositionEnd&&wn&&(i=en()):(Xr=n,Jr="value"in Xr?Xr.value:Xr.textContent,wn=!0)),a=ln.getPooled(a,t,r,n),i?a.data=i:(i=bn(r),null!==i&&(a.data=i)),Yr(a),i=a):i=null;(e=pn?_n(e,r):Sn(e,r))?(t=un.getPooled(vn.beforeInput,t,r,n),t.data=e,Yr(t)):t=null;return null===i?t:null===t?i:[i,t]}},Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}var Cn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function On(e,t,r){e=nn.getPooled(Cn.change,e,t,r);e.type="change";R(r);Yr(e);return e}var Tn=null,An=null;function jn(e){gt(e)}function Dn(e){var t=Gr(e);if(Oe(t))return e}function Ln(e,t){if("change"===e)return t}var Rn=!1;T&&(Rn=vt("input")&&(!document.documentMode||9<document.documentMode));function In(){Tn&&(Tn.detachEvent("onpropertychange",xn),An=Tn=null)}function xn(e){if("value"===e.propertyName&&Dn(An))if(e=On(An,e,ht(e)),F)gt(e);else{F=!0;try{x(jn,e)}finally{F=!1,W()}}}function Mn(e,t,r){"focus"===e?(In(),Tn=t,An=r,Tn.attachEvent("onpropertychange",xn)):"blur"===e&&In()}function Vn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(An)}function Nn(e,t){if("click"===e)return Dn(t)}function Fn(e,t){if("input"===e||"change"===e)return Dn(t)}var Bn={eventTypes:Cn,_isInputEventSupported:Rn,extractEvents:function(e,t,r,n){var i=t?Gr(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=Ln;else if(kn(i))if(Rn)o=Fn;else{o=Vn;var s=Mn}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Nn);if(o&&(o=o(e,t)))return On(o,r,n);s&&s(e,i,t);"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Re(i,"number",i.value)}},Wn=nn.extend({view:null,detail:null}),Gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Gn[e])&&!!t[e]}function Un(){return qn}var Hn=0,zn=0,$n=!1,Kn=!1,Zn=Wn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Un,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Hn;Hn=e.screenX;return $n?"mousemove"===e.type?e.screenX-t:0:($n=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=zn;zn=e.screenY;return Kn?"mousemove"===e.type?e.screenY-t:0:(Kn=!0,0)}}),Yn=Zn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Xn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Jn={eventTypes:Xn,extractEvents:function(e,t,r,n,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(r.relatedTarget||r.fromElement)||!o&&!a)return null;a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window;if(o){if(o=t,t=(t=r.relatedTarget||r.toElement)?Br(t):null,null!==t){var s=at(t);(t!==s||5!==t.tag&&6!==t.tag)&&(t=null)}}else o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e){var l=Zn;var u=Xn.mouseLeave;var c=Xn.mouseEnter;var d="mouse"}else"pointerout"!==e&&"pointerover"!==e||(l=Yn,u=Xn.pointerLeave,c=Xn.pointerEnter,d="pointer");e=null==o?a:Gr(o);a=null==t?a:Gr(t);u=l.getPooled(u,o,r,n);u.type=d+"leave";u.target=e;u.relatedTarget=a;r=l.getPooled(c,t,r,n);r.type=d+"enter";r.target=a;r.relatedTarget=e;n=o;d=t;if(n&&d)e:{l=n;c=d;o=0;for(e=l;e;e=Ur(e))o++;e=0;for(t=c;t;t=Ur(t))e++;for(;0<o-e;)l=Ur(l),o--;for(;0<e-o;)c=Ur(c),e--;for(;o--;){if(l===c||l===c.alternate)break e;l=Ur(l);c=Ur(c)}l=null}else l=null;c=l;for(l=[];n&&n!==c;){o=n.alternate;if(null!==o&&o===c)break;l.push(n);n=Ur(n)}for(n=[];d&&d!==c;){o=d.alternate;if(null!==o&&o===c)break;n.push(d);d=Ur(d)}for(d=0;d<l.length;d++)Kr(l[d],"bubbled",u);for(d=n.length;0<d--;)Kr(n[d],"captured",r);return 0===(64&i)?[u]:[u,r]}};function Qn(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var ei="function"===typeof Object.is?Object.is:Qn,ti=Object.prototype.hasOwnProperty;function ri(e,t){if(ei(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!ti.call(t,r[n])||!ei(e[r[n]],t[r[n]]))return!1;return!0}var ni=T&&"documentMode"in document&&11>=document.documentMode,ii={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ai=null,oi=null,si=null,li=!1;function ui(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;if(li||null==ai||ai!==yr(r))return null;r=ai;"selectionStart"in r&&Er(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset});return si&&ri(si,r)?null:(si=r,e=nn.getPooled(ii.select,oi,e,t),e.type="select",e.target=ai,Yr(e),e)}var ci={eventTypes:ii,extractEvents:function(e,t,r,n,i,a){i=a||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument);if(!(a=!i)){e:{i=it(i);a=C.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;i=t?Gr(t):window;switch(e){case"focus":(kn(i)||"true"===i.contentEditable)&&(ai=i,oi=t,si=null);break;case"blur":si=oi=ai=null;break;case"mousedown":li=!0;break;case"contextmenu":case"mouseup":case"dragend":return li=!1,ui(r,n);case"selectionchange":if(ni)break;case"keydown":case"keyup":return ui(r,n)}return null}},di=nn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),fi=nn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pi=Wn.extend({relatedTarget:null});function gi(e){var t=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t;10===e&&(e=13);return 32<=e||13===e?e:0}var hi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mi=Wn.extend({key:function(e){if(e.key){var t=hi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=gi(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?vi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Un,charCode:function(e){return"keypress"===e.type?gi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?gi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),yi=Zn.extend({dataTransfer:null}),bi=Wn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Un}),wi=nn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),_i=Zn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Si={eventTypes:zt,extractEvents:function(e,t,r,n){var i=$t.get(e);if(!i)return null;switch(e){case"keypress":if(0===gi(r))return null;case"keydown":case"keyup":e=mi;break;case"blur":case"focus":e=pi;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=yi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=bi;break;case Je:case Qe:case et:e=di;break;case tt:e=wi;break;case"scroll":e=Wn;break;case"wheel":e=_i;break;case"copy":case"cut":case"paste":e=fi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Yn;break;default:e=nn}t=e.getPooled(i,t,r,n);Yr(t);return t}};if(b)throw Error(o(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));_();var Ei=Wr;h=qr;v=Ei;m=Gr;O({SimpleEventPlugin:Si,EnterLeaveEventPlugin:Jn,ChangeEventPlugin:Bn,SelectEventPlugin:ci,BeforeInputEventPlugin:En});var Pi=[],ki=-1;function Ci(e){0>ki||(e.current=Pi[ki],Pi[ki]=null,ki--)}function Oi(e,t){ki++;Pi[ki]=e.current;e.current=t}var Ti={},Ai={current:Ti},ji={current:!1},Di=Ti;function Li(e,t){var r=e.type.contextTypes;if(!r)return Ti;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i);return i}function Ri(e){e=e.childContextTypes;return null!==e&&void 0!==e}function Ii(){Ci(ji);Ci(Ai)}function xi(e,t,r){if(Ai.current!==Ti)throw Error(o(168));Oi(Ai,t);Oi(ji,r)}function Mi(e,t,r){var n=e.stateNode;e=t.childContextTypes;if("function"!==typeof n.getChildContext)return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(o(108,_e(t)||"Unknown",a));return i({},r,{},n)}function Vi(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti;Di=Ai.current;Oi(Ai,e);Oi(ji,ji.current);return!0}function Ni(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=Mi(e,t,Di),n.__reactInternalMemoizedMergedChildContext=e,Ci(ji),Ci(Ai),Oi(Ai,e)):Ci(ji);Oi(ji,r)}var Fi=a.unstable_runWithPriority,Bi=a.unstable_scheduleCallback,Wi=a.unstable_cancelCallback,Gi=a.unstable_requestPaint,qi=a.unstable_now,Ui=a.unstable_getCurrentPriorityLevel,Hi=a.unstable_ImmediatePriority,zi=a.unstable_UserBlockingPriority,$i=a.unstable_NormalPriority,Ki=a.unstable_LowPriority,Zi=a.unstable_IdlePriority,Yi={},Xi=a.unstable_shouldYield,Ji=void 0!==Gi?Gi:function(){},Qi=null,ea=null,ta=!1,ra=qi(),na=1e4>ra?qi:function(){return qi()-ra};function ia(){switch(Ui()){case Hi:return 99;case zi:return 98;case $i:return 97;case Ki:return 96;case Zi:return 95;default:throw Error(o(332))}}function aa(e){switch(e){case 99:return Hi;case 98:return zi;case 97:return $i;case 96:return Ki;case 95:return Zi;default:throw Error(o(332))}}function oa(e,t){e=aa(e);return Fi(e,t)}function sa(e,t,r){e=aa(e);return Bi(e,t,r)}function la(e){null===Qi?(Qi=[e],ea=Bi(Hi,ca)):Qi.push(e);return Yi}function ua(){if(null!==ea){var e=ea;ea=null;Wi(e)}ca()}function ca(){if(!ta&&null!==Qi){ta=!0;var e=0;try{var t=Qi;oa(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}}));Qi=null}catch(t){throw null!==Qi&&(Qi=Qi.slice(e+1)),Bi(Hi,ua),t}finally{ta=!1}}}function da(e,t,r){r/=10;return 1073741821-(1+((1073741821-e+t/10)/r|0))*r}function fa(e,t){if(e&&e.defaultProps){t=i({},t);e=e.defaultProps;for(var r in e)void 0===t[r]&&(t[r]=e[r])}return t}var pa={current:null},ga=null,ha=null,va=null;function ma(){va=ha=ga=null}function ya(e){var t=pa.current;Ci(pa);e.type._context._currentValue=t}function ba(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function wa(e,t){ga=e;va=ha=null;e=e.dependencies;null!==e&&null!==e.firstContext&&(e.expirationTime>=t&&(Ko=!0),e.firstContext=null)}function _a(e,t){if(va!==e&&!1!==t&&0!==t){"number"===typeof t&&1073741823!==t||(va=e,t=1073741823);t={context:e,observedBits:t,next:null};if(null===ha){if(null===ga)throw Error(o(308));ha=t;ga.dependencies={expirationTime:0,firstContext:t,responders:null}}else ha=ha.next=t}return e._currentValue}var Sa=!1;function Ea(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Pa(e,t){e=e.updateQueue;t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ka(e,t){e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null};return e.next=e}function Ca(e,t){e=e.updateQueue;if(null!==e){e=e.shared;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t);e.pending=t}}function Oa(e,t){var r=e.alternate;null!==r&&Pa(r,e);e=e.updateQueue;r=e.baseQueue;null===r?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function Ta(e,t,r,n){var a=e.updateQueue;Sa=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var l=o.next;o.next=s.next;s.next=l}o=s;a.shared.pending=null;l=e.alternate;null!==l&&(l=l.updateQueue,null!==l&&(l.baseQueue=s))}if(null!==o){l=o.next;var u=a.baseState,c=0,d=null,f=null,p=null;if(null!==l){var g=l;do{s=g.expirationTime;if(s<n){var h={expirationTime:g.expirationTime,suspenseConfig:g.suspenseConfig,tag:g.tag,payload:g.payload,callback:g.callback,next:null};null===p?(f=p=h,d=u):p=p.next=h;s>c&&(c=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:g.suspenseConfig,tag:g.tag,payload:g.payload,callback:g.callback,next:null});xl(s,g.suspenseConfig);e:{var v=e,m=g;s=t;h=r;switch(m.tag){case 1:v=m.payload;if("function"===typeof v){u=v.call(h,u,s);break e}u=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:v=m.payload;s="function"===typeof v?v.call(h,u,s):v;if(null===s||void 0===s)break e;u=i({},u,s);break e;case 2:Sa=!0}}null!==g.callback&&(e.effectTag|=32,s=a.effects,null===s?a.effects=[g]:s.push(g))}g=g.next;if(null===g||g===l){if(s=a.shared.pending,null===s)break;g=o.next=s.next,s.next=l,a.baseQueue=o=s,a.shared.pending=null}}while(1)}null===p?d=u:p.next=f;a.baseState=d;a.baseQueue=p;Ml(c);e.expirationTime=c;e.memoizedState=u}}function Aa(e,t,r){e=t.effects;t.effects=null;if(null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){n.callback=null;n=i;i=r;if("function"!==typeof n)throw Error(o(191,n));n.call(i)}}}var ja=ee.ReactCurrentBatchConfig,Da=(new n.Component).refs;function La(e,t,r,n){t=e.memoizedState;r=r(n,t);r=null===r||void 0===r?t:i({},t,r);e.memoizedState=r;0===e.expirationTime&&(e.updateQueue.baseState=r)}var Ra={isMounted:function(e){return!!(e=e._reactInternalFiber)&&at(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=_l(),i=ja.suspense;n=Sl(n,e,i);i=ka(n,i);i.payload=t;void 0!==r&&null!==r&&(i.callback=r);Ca(e,i);El(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=_l(),i=ja.suspense;n=Sl(n,e,i);i=ka(n,i);i.tag=1;i.payload=t;void 0!==r&&null!==r&&(i.callback=r);Ca(e,i);El(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=_l(),n=ja.suspense;r=Sl(r,e,n);n=ka(r,n);n.tag=2;void 0!==t&&null!==t&&(n.callback=t);Ca(e,n);El(e,r)}};function Ia(e,t,r,n,i,a,o){e=e.stateNode;return"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ri(r,n)||!ri(i,a))}function xa(e,t,r){var n=!1,i=Ti;var a=t.contextType;"object"===typeof a&&null!==a?a=_a(a):(i=Ri(t)?Di:Ai.current,n=t.contextTypes,a=(n=null!==n&&void 0!==n)?Li(e,i):Ti);t=new t(r,a);e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null;t.updater=Ra;e.stateNode=t;t._reactInternalFiber=e;n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a);return t}function Ma(e,t,r,n){e=t.state;"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n);"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n);t.state!==e&&Ra.enqueueReplaceState(t,t.state,null)}function Va(e,t,r,n){var i=e.stateNode;i.props=r;i.state=e.memoizedState;i.refs=Da;Ea(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Ri(t)?Di:Ai.current,i.context=Li(e,a));Ta(e,r,i,n);i.state=e.memoizedState;a=t.getDerivedStateFromProps;"function"===typeof a&&(La(e,t,a,r),i.state=e.memoizedState);"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ra.enqueueReplaceState(i,i.state,null),Ta(e,r,i,n),i.state=e.memoizedState);"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Na=Array.isArray;function Fa(e,t,r){e=r.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){r=r._owner;if(r){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=""+e;if(null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i)return t.ref;t=function(e){var t=n.refs;t===Da&&(t=n.refs={});null===e?delete t[i]:t[i]=e};t._stringRef=i;return t}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function Ba(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Wa(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r;r.nextEffect=null;r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){e=au(e,t);e.index=0;e.sibling=null;return e}function a(t,r,n){t.index=n;if(!e)return r;n=t.alternate;if(null!==n)return n=n.index,n<r?(t.effectTag=2,r):n;t.effectTag=2;return r}function s(t){e&&null===t.alternate&&(t.effectTag=2);return t}function l(e,t,r,n){if(null===t||6!==t.tag)return t=lu(r,e.mode,n),t.return=e,t;t=i(t,r);t.return=e;return t}function u(e,t,r,n){if(null!==t&&t.elementType===r.type)return n=i(t,r.props),n.ref=Fa(e,t,r),n.return=e,n;n=ou(r.type,r.key,r.props,null,e.mode,n);n.ref=Fa(e,t,r);n.return=e;return n}function c(e,t,r,n){if(null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation)return t=uu(r,e.mode,n),t.return=e,t;t=i(t,r.children||[]);t.return=e;return t}function d(e,t,r,n,a){if(null===t||7!==t.tag)return t=su(r,e.mode,n,a),t.return=e,t;t=i(t,r);t.return=e;return t}function f(e,t,r){if("string"===typeof t||"number"===typeof t)return t=lu(""+t,e.mode,r),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ie:return r=ou(t.type,t.key,t.props,null,e.mode,r),r.ref=Fa(e,null,t),r.return=e,r;case ae:return t=uu(t,e.mode,r),t.return=e,t}if(Na(t)||be(t))return t=su(t,e.mode,r,null),t.return=e,t;Ba(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ie:return r.key===i?r.type===oe?d(e,t,r.props.children,n,i):u(e,t,r,n):null;case ae:return r.key===i?c(e,t,r,n):null}if(Na(r)||be(r))return null!==i?null:d(e,t,r,n,null);Ba(e,r)}return null}function g(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return e=e.get(r)||null,l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ie:return e=e.get(null===n.key?r:n.key)||null,n.type===oe?d(t,e,n.props.children,i,n.key):u(t,e,n,i);case ae:return e=e.get(null===n.key?r:n.key)||null,c(t,e,n,i)}if(Na(n)||be(n))return e=e.get(r)||null,d(t,e,n,i,null);Ba(t,n)}return null}function h(i,o,s,l){for(var u=null,c=null,d=o,h=o=0,v=null;null!==d&&h<s.length;h++){d.index>h?(v=d,d=null):v=d.sibling;var m=p(i,d,s[h],l);if(null===m){null===d&&(d=v);break}e&&d&&null===m.alternate&&t(i,d);o=a(m,o,h);null===c?u=m:c.sibling=m;c=m;d=v}if(h===s.length)return r(i,d),u;if(null===d){for(;h<s.length;h++)d=f(i,s[h],l),null!==d&&(o=a(d,o,h),null===c?u=d:c.sibling=d,c=d);return u}for(d=n(i,d);h<s.length;h++)v=g(d,i,h,s[h],l),null!==v&&(e&&null!==v.alternate&&d.delete(null===v.key?h:v.key),o=a(v,o,h),null===c?u=v:c.sibling=v,c=v);e&&d.forEach((function(e){return t(i,e)}));return u}function v(i,s,l,u){var c=be(l);if("function"!==typeof c)throw Error(o(150));l=c.call(l);if(null==l)throw Error(o(151));for(var d=c=null,h=s,v=s=0,m=null,y=l.next();null!==h&&!y.done;v++,y=l.next()){h.index>v?(m=h,h=null):m=h.sibling;var b=p(i,h,y.value,u);if(null===b){null===h&&(h=m);break}e&&h&&null===b.alternate&&t(i,h);s=a(b,s,v);null===d?c=b:d.sibling=b;d=b;h=m}if(y.done)return r(i,h),c;if(null===h){for(;!y.done;v++,y=l.next())y=f(i,y.value,u),null!==y&&(s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);return c}for(h=n(i,h);!y.done;v++,y=l.next())y=g(h,i,v,y.value,u),null!==y&&(e&&null!==y.alternate&&h.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);e&&h.forEach((function(e){return t(i,e)}));return c}return function(e,n,a,l){var u="object"===typeof a&&null!==a&&a.type===oe&&null===a.key;u&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case ie:e:{c=a.key;for(u=n;null!==u;){if(u.key===c){switch(u.tag){case 7:if(a.type===oe){r(e,u.sibling);n=i(u,a.props.children);n.return=e;e=n;break e}break;default:if(u.elementType===a.type){r(e,u.sibling);n=i(u,a.props);n.ref=Fa(e,u,a);n.return=e;e=n;break e}}r(e,u);break}t(e,u);u=u.sibling}a.type===oe?(n=su(a.props.children,e.mode,l,a.key),n.return=e,e=n):(l=ou(a.type,a.key,a.props,null,e.mode,l),l.ref=Fa(e,n,a),l.return=e,e=l)}return s(e);case ae:e:{for(u=a.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(e,n.sibling);n=i(n,a.children||[]);n.return=e;e=n;break e}r(e,n);break}t(e,n);n=n.sibling}n=uu(a,e.mode,l);n.return=e;e=n}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(e,n.sibling),n=i(n,a),n.return=e,e=n):(r(e,n),n=lu(a,e.mode,l),n.return=e,e=n),s(e);if(Na(a))return h(e,n,a,l);if(be(a))return v(e,n,a,l);c&&Ba(e,a);if("undefined"===typeof a&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return r(e,n)}}var Ga=Wa(!0),qa=Wa(!1),Ua={},Ha={current:Ua},za={current:Ua},$a={current:Ua};function Ka(e){if(e===Ua)throw Error(o(174));return e}function Za(e,t){Oi($a,t);Oi(za,e);Oi(Ha,Ua);e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qe(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qe(t,e)}Ci(Ha);Oi(Ha,t)}function Ya(){Ci(Ha);Ci(za);Ci($a)}function Xa(e){Ka($a.current);var t=Ka(Ha.current);var r=qe(t,e.type);t!==r&&(Oi(za,e),Oi(Ha,r))}function Ja(e){za.current===e&&(Ci(Ha),Ci(za))}var Qa={current:0};function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(r=r.dehydrated,null===r||r.data===Cr||r.data===Or))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t;t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return;t=t.sibling}return null}function to(e,t){return{responder:e,props:t}}var ro=ee.ReactCurrentDispatcher,no=ee.ReactCurrentBatchConfig,io=0,ao=null,oo=null,so=null,lo=!1;function uo(){throw Error(o(321))}function co(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ei(e[r],t[r]))return!1;return!0}function fo(e,t,r,n,i,a){io=a;ao=t;t.memoizedState=null;t.updateQueue=null;t.expirationTime=0;ro.current=null===e||null===e.memoizedState?xo:Mo;e=r(n,i);if(t.expirationTime===io){a=0;do{t.expirationTime=0;if(!(25>a))throw Error(o(301));a+=1;so=oo=null;t.updateQueue=null;ro.current=Vo;e=r(n,i)}while(t.expirationTime===io)}ro.current=Io;t=null!==oo&&null!==oo.next;io=0;so=oo=ao=null;lo=!1;if(t)throw Error(o(300));return e}function po(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===so?ao.memoizedState=so=e:so=so.next=e;return so}function go(){if(null===oo){var e=ao.alternate;e=null!==e?e.memoizedState:null}else e=oo.next;var t=null===so?ao.memoizedState:so.next;if(null!==t)so=t,oo=e;else{if(null===e)throw Error(o(310));oo=e;e={memoizedState:oo.memoizedState,baseState:oo.baseState,baseQueue:oo.baseQueue,queue:oo.queue,next:null};null===so?ao.memoizedState=so=e:so=so.next=e}return so}function ho(e,t){return"function"===typeof t?t(e):t}function vo(e){var t=go(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=oo,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next;a.next=s}n.baseQueue=i=a;r.pending=null}if(null!==i){i=i.next;n=n.baseState;var l=s=a=null,u=i;do{var c=u.expirationTime;if(c<io){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,a=n):l=l.next=d;c>ao.expirationTime&&(ao.expirationTime=c,Ml(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),xl(c,u.suspenseConfig),n=u.eagerReducer===e?u.eagerState:e(n,u.action);u=u.next}while(null!==u&&u!==i);null===l?a=n:l.next=s;ei(n,t.memoizedState)||(Ko=!0);t.memoizedState=n;t.baseState=a;t.baseQueue=l;r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function mo(e){var t=go(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);ei(a,t.memoizedState)||(Ko=!0);t.memoizedState=a;null===t.baseQueue&&(t.baseState=a);r.lastRenderedState=a}return[a,n]}function yo(e){var t=po();"function"===typeof e&&(e=e());t.memoizedState=t.baseState=e;e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ho,lastRenderedState:e};e=e.dispatch=Ro.bind(null,ao,e);return[t.memoizedState,e]}function bo(e,t,r,n){e={tag:e,create:t,destroy:r,deps:n,next:null};t=ao.updateQueue;null===t?(t={lastEffect:null},ao.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,null===r?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e));return e}function wo(){return go().memoizedState}function _o(e,t,r,n){var i=po();ao.effectTag|=e;i.memoizedState=bo(1|t,r,void 0,void 0===n?null:n)}function So(e,t,r,n){var i=go();n=void 0===n?null:n;var a=void 0;if(null!==oo){var o=oo.memoizedState;a=o.destroy;if(null!==n&&co(n,o.deps)){bo(t,r,a,n);return}}ao.effectTag|=e;i.memoizedState=bo(1|t,r,a,n)}function Eo(e,t){return _o(516,4,e,t)}function Po(e,t){return So(516,4,e,t)}function ko(e,t){return So(4,2,e,t)}function Co(e,t){if("function"===typeof t)return e=e(),t(e),function(){t(null)};if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Oo(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null;return So(4,2,Co.bind(null,t,e),r)}function To(){}function Ao(e,t){po().memoizedState=[e,void 0===t?null:t];return e}function jo(e,t){var r=go();t=void 0===t?null:t;var n=r.memoizedState;if(null!==n&&null!==t&&co(t,n[1]))return n[0];r.memoizedState=[e,t];return e}function Do(e,t){var r=go();t=void 0===t?null:t;var n=r.memoizedState;if(null!==n&&null!==t&&co(t,n[1]))return n[0];e=e();r.memoizedState=[e,t];return e}function Lo(e,t,r){var n=ia();oa(98>n?98:n,(function(){e(!0)}));oa(97<n?97:n,(function(){var n=no.suspense;no.suspense=void 0===t?null:t;try{e(!1),r()}finally{no.suspense=n}}))}function Ro(e,t,r){var n=_l(),i=ja.suspense;n=Sl(n,e,i);i={expirationTime:n,suspenseConfig:i,action:r,eagerReducer:null,eagerState:null,next:null};var a=t.pending;null===a?i.next=i:(i.next=a.next,a.next=i);t.pending=i;a=e.alternate;if(e===ao||null!==a&&a===ao)lo=!0,i.expirationTime=io,ao.expirationTime=io;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&(a=t.lastRenderedReducer,null!==a))try{var o=t.lastRenderedState,s=a(o,r);i.eagerReducer=a;i.eagerState=s;if(ei(s,o))return}catch(e){}El(e,n)}}var Io={readContext:_a,useCallback:uo,useContext:uo,useEffect:uo,useImperativeHandle:uo,useLayoutEffect:uo,useMemo:uo,useReducer:uo,useRef:uo,useState:uo,useDebugValue:uo,useResponder:uo,useDeferredValue:uo,useTransition:uo},xo={readContext:_a,useCallback:Ao,useContext:_a,useEffect:Eo,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null;return _o(4,2,Co.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _o(4,2,e,t)},useMemo:function(e,t){var r=po();t=void 0===t?null:t;e=e();r.memoizedState=[e,t];return e},useReducer:function(e,t,r){var n=po();t=void 0!==r?r(t):t;n.memoizedState=n.baseState=t;e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t};e=e.dispatch=Ro.bind(null,ao,e);return[n.memoizedState,e]},useRef:function(e){var t=po();e={current:e};return t.memoizedState=e},useState:yo,useDebugValue:To,useResponder:to,useDeferredValue:function(e,t){var r=yo(e),n=r[0],i=r[1];Eo((function(){var r=no.suspense;no.suspense=void 0===t?null:t;try{i(e)}finally{no.suspense=r}}),[e,t]);return n},useTransition:function(e){var t=yo(!1),r=t[0];t=t[1];return[Ao(Lo.bind(null,t,e),[t,e]),r]}},Mo={readContext:_a,useCallback:jo,useContext:_a,useEffect:Po,useImperativeHandle:Oo,useLayoutEffect:ko,useMemo:Do,useReducer:vo,useRef:wo,useState:function(){return vo(ho)},useDebugValue:To,useResponder:to,useDeferredValue:function(e,t){var r=vo(ho),n=r[0],i=r[1];Po((function(){var r=no.suspense;no.suspense=void 0===t?null:t;try{i(e)}finally{no.suspense=r}}),[e,t]);return n},useTransition:function(e){var t=vo(ho),r=t[0];t=t[1];return[jo(Lo.bind(null,t,e),[t,e]),r]}},Vo={readContext:_a,useCallback:jo,useContext:_a,useEffect:Po,useImperativeHandle:Oo,useLayoutEffect:ko,useMemo:Do,useReducer:mo,useRef:wo,useState:function(){return mo(ho)},useDebugValue:To,useResponder:to,useDeferredValue:function(e,t){var r=mo(ho),n=r[0],i=r[1];Po((function(){var r=no.suspense;no.suspense=void 0===t?null:t;try{i(e)}finally{no.suspense=r}}),[e,t]);return n},useTransition:function(e){var t=mo(ho),r=t[0];t=t[1];return[jo(Lo.bind(null,t,e),[t,e]),r]}},No=null,Fo=null,Bo=!1;function Wo(e,t){var r=ru(5,null,null,0);r.elementType="DELETED";r.type="DELETED";r.stateNode=t;r.return=e;r.effectTag=8;null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Go(e,t){switch(e.tag){case 5:var r=e.type;t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t;return null!==t&&(e.stateNode=t,!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1}}function qo(e){if(Bo){var t=Fo;if(t){var r=t;if(!Go(e,t)){t=Ir(r.nextSibling);if(!t||!Go(e,t)){e.effectTag=-1025&e.effectTag|2;Bo=!1;No=e;return}Wo(No,r)}No=e;Fo=Ir(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Bo=!1,No=e}}function Uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;No=e}function Ho(e){if(e!==No)return!1;if(!Bo)return Uo(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Dr(t,e.memoizedProps))for(t=Fo;t;)Wo(e,t),t=Ir(t.nextSibling);Uo(e);if(13===e.tag){e=e.memoizedState;e=null!==e?e.dehydrated:null;if(!e)throw Error(o(317));e:{e=e.nextSibling;for(t=0;e;){if(8===e.nodeType){var r=e.data;if(r===kr){if(0===t){Fo=Ir(e.nextSibling);break e}t--}else r!==Pr&&r!==Or&&r!==Cr||t++}e=e.nextSibling}Fo=null}}else Fo=No?Ir(e.stateNode.nextSibling):null;return!0}function zo(){Fo=No=null;Bo=!1}var $o=ee.ReactCurrentOwner,Ko=!1;function Zo(e,t,r,n){t.child=null===e?qa(t,null,r,n):Ga(t,e.child,r,n)}function Yo(e,t,r,n,i){r=r.render;var a=t.ref;wa(t,i);n=fo(e,t,r,n,a,i);if(null!==e&&!Ko)return t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),us(e,t,i);t.effectTag|=1;Zo(e,t,n,i);return t.child}function Xo(e,t,r,n,i,a){if(null===e){var o=r.type;if("function"===typeof o&&!nu(o)&&void 0===o.defaultProps&&null===r.compare&&void 0===r.defaultProps)return t.tag=15,t.type=o,Jo(e,t,o,n,i,a);e=ou(r.type,null,n,null,t.mode,a);e.ref=t.ref;e.return=t;return t.child=e}o=e.child;if(i<a&&(i=o.memoizedProps,r=r.compare,r=null!==r?r:ri,r(i,n)&&e.ref===t.ref))return us(e,t,a);t.effectTag|=1;e=au(o,n);e.ref=t.ref;e.return=t;return t.child=e}function Jo(e,t,r,n,i,a){return null!==e&&ri(e.memoizedProps,n)&&e.ref===t.ref&&(Ko=!1,i<a)?(t.expirationTime=e.expirationTime,us(e,t,a)):es(e,t,r,n,a)}function Qo(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function es(e,t,r,n,i){var a=Ri(r)?Di:Ai.current;a=Li(t,a);wa(t,i);r=fo(e,t,r,n,a,i);if(null!==e&&!Ko)return t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),us(e,t,i);t.effectTag|=1;Zo(e,t,r,i);return t.child}function ts(e,t,r,n,i){if(Ri(r)){var a=!0;Vi(t)}else a=!1;wa(t,i);if(null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),xa(t,r,n),Va(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;"object"===typeof u&&null!==u?u=_a(u):(u=Ri(r)?Di:Ai.current,u=Li(t,u));var c=r.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==u)&&Ma(t,o,n,u);Sa=!1;var f=t.memoizedState;o.state=f;Ta(t,n,o,i);l=t.memoizedState;s!==n||f!==l||ji.current||Sa?("function"===typeof c&&(La(t,r,c,n),l=t.memoizedState),(s=Sa||Ia(t,r,s,n,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),n=!1)}else o=t.stateNode,Pa(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:fa(t.type,s),l=o.context,u=r.contextType,"object"===typeof u&&null!==u?u=_a(u):(u=Ri(r)?Di:Ai.current,u=Li(t,u)),c=r.getDerivedStateFromProps,(d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==u)&&Ma(t,o,n,u),Sa=!1,l=t.memoizedState,o.state=l,Ta(t,n,o,i),f=t.memoizedState,s!==n||l!==f||ji.current||Sa?("function"===typeof c&&(La(t,r,c,n),f=t.memoizedState),(c=Sa||Ia(t,r,s,n,l,f,u))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,f,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,f,u)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=f),o.props=n,o.state=f,o.context=u,n=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return rs(e,t,r,n,a,i)}function rs(e,t,r,n,i,a){Qo(e,t);var o=0!==(64&t.effectTag);if(!n&&!o)return i&&Ni(t,r,!1),us(e,t,a);n=t.stateNode;$o.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();t.effectTag|=1;null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,s,a)):Zo(e,t,s,a);t.memoizedState=n.state;i&&Ni(t,r,!0);return t.child}function ns(e){var t=e.stateNode;t.pendingContext?xi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xi(e,t.context,!1);Za(e,t.containerInfo)}var is={dehydrated:null,retryTime:0};function as(e,t,r){var n=t.mode,i=t.pendingProps,a=Qa.current,o=!1,s;(s=0!==(64&t.effectTag))||(s=0!==(2&a)&&(null===e||null!==e.memoizedState));s?(o=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1);Oi(Qa,1&a);if(null===e){void 0!==i.fallback&&qo(t);if(o){o=i.fallback;i=su(null,n,0,null);i.return=t;if(0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;r=su(o,n,r,null);r.return=t;i.sibling=r;t.memoizedState=is;t.child=i;return r}n=i.children;t.memoizedState=null;return t.child=qa(t,null,n,r)}if(null!==e.memoizedState){e=e.child;n=e.sibling;if(o){i=i.fallback;r=au(e,e.pendingProps);r.return=t;if(0===(2&t.mode)&&(o=null!==t.memoizedState?t.child.child:t.child,o!==e.child))for(r.child=o;null!==o;)o.return=r,o=o.sibling;n=au(n,i);n.return=t;r.sibling=n;r.childExpirationTime=0;t.memoizedState=is;t.child=r;return n}r=Ga(t,e.child,i.children,r);t.memoizedState=null;return t.child=r}e=e.child;if(o){o=i.fallback;i=su(null,n,0,null);i.return=t;i.child=e;null!==e&&(e.return=i);if(0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;r=su(o,n,r,null);r.return=t;i.sibling=r;r.effectTag|=2;i.childExpirationTime=0;t.memoizedState=is;t.child=i;return r}t.memoizedState=null;return t.child=Ga(t,e,i.children,r)}function os(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);ba(e.return,t)}function ss(e,t,r,n,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function ls(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;Zo(e,t,n.children,r);n=Qa.current;if(0!==(2&n))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&os(e,r);else if(19===e.tag)os(e,r);else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return;e=e.sibling}n&=1}Oi(Qa,n);if(0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":r=t.child;for(i=null;null!==r;)e=r.alternate,null!==e&&null===eo(e)&&(i=r),r=r.sibling;r=i;null===r?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null);ss(t,!1,i,r,a,t.lastEffect);break;case"backwards":r=null;i=t.child;for(t.child=null;null!==i;){e=i.alternate;if(null!==e&&null===eo(e)){t.child=i;break}e=i.sibling;i.sibling=r;r=i;i=e}ss(t,!0,r,null,a,t.lastEffect);break;case"together":ss(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function us(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;0!==n&&Ml(n);if(t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){e=t.child;r=au(e,e.pendingProps);t.child=r;for(r.return=t;null!==e.sibling;)e=e.sibling,r=r.sibling=au(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}var cs,ds,fs,ps;cs=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r;r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return;r=r.sibling}};ds=function(){};fs=function(e,t,r,n,a){var o=e.memoizedProps;if(o!==n){var s=t.stateNode;Ka(Ha.current);e=null;switch(r){case"input":o=Te(s,o);n=Te(s,n);e=[];break;case"option":o=xe(s,o);n=xe(s,n);e=[];break;case"select":o=i({},o,{value:void 0});n=i({},n,{value:void 0});e=[];break;case"textarea":o=Ve(s,o);n=Ve(s,n);e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(s.onclick=mr)}pr(r,n);var l,u;r=null;for(l in o)if(!n.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l)for(u in s=o[l],s)s.hasOwnProperty(u)&&(r||(r={}),r[u]="");else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(k.hasOwnProperty(l)?e||(e=[]):(e=e||[]).push(l,null));for(l in n){var c=n[l];s=null!=o?o[l]:void 0;if(n.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(u in s)!s.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in c)c.hasOwnProperty(u)&&s[u]!==c[u]&&(r||(r={}),r[u]=c[u])}else r||(e||(e=[]),e.push(l,r)),r=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(e=e||[]).push(l,c)):"children"===l?s===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(k.hasOwnProperty(l)?(null!=c&&vr(a,l),e||s===c||(e=[])):(e=e||[]).push(l,c))}r&&(e=e||[]).push("style",r);a=e;(t.updateQueue=a)&&(t.effectTag|=4)}};ps=function(e,t,r,n){r!==n&&(t.effectTag|=4)};function gs(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hs(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ri(t.type)&&Ii(),null;case 3:return Ya(),Ci(ji),Ci(Ai),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!Ho(t)||(t.effectTag|=4),ds(t),null;case 5:Ja(t);r=Ka($a.current);var a=t.type;if(null!==e&&null!=t.stateNode)fs(e,t,a,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(o(166));return null}e=Ka(Ha.current);if(Ho(t)){n=t.stateNode;a=t.type;var s=t.memoizedProps;n[Vr]=t;n[Nr]=s;switch(a){case"iframe":case"object":case"embed":rr("load",n);break;case"video":case"audio":for(e=0;e<rt.length;e++)rr(rt[e],n);break;case"source":rr("error",n);break;case"img":case"image":case"link":rr("error",n);rr("load",n);break;case"form":rr("reset",n);rr("submit",n);break;case"details":rr("toggle",n);break;case"input":Ae(n,s);rr("invalid",n);vr(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!s.multiple};rr("invalid",n);vr(r,"onChange");break;case"textarea":Ne(n,s),rr("invalid",n),vr(r,"onChange")}pr(a,s);e=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?n.textContent!==u&&(e=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(e=["children",""+u]):k.hasOwnProperty(l)&&null!=u&&vr(r,l)}switch(a){case"input":Ce(n);Le(n,s,!0);break;case"textarea":Ce(n);Be(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=mr)}r=e;t.updateQueue=r;null!==r&&(t.effectTag|=4)}else{l=9===r.nodeType?r:r.ownerDocument;e===hr&&(e=Ge(a));e===hr?"script"===a?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(a,{is:n.is}):(e=l.createElement(a),"select"===a&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,a);e[Vr]=t;e[Nr]=n;cs(e,t,!1,!1);t.stateNode=e;l=gr(a,n);switch(a){case"iframe":case"object":case"embed":rr("load",e);u=n;break;case"video":case"audio":for(u=0;u<rt.length;u++)rr(rt[u],e);u=n;break;case"source":rr("error",e);u=n;break;case"img":case"image":case"link":rr("error",e);rr("load",e);u=n;break;case"form":rr("reset",e);rr("submit",e);u=n;break;case"details":rr("toggle",e);u=n;break;case"input":Ae(e,n);u=Te(e,n);rr("invalid",e);vr(r,"onChange");break;case"option":u=xe(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple};u=i({},n,{value:void 0});rr("invalid",e);vr(r,"onChange");break;case"textarea":Ne(e,n);u=Ve(e,n);rr("invalid",e);vr(r,"onChange");break;default:u=n}pr(a,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?dr(e,d):"dangerouslySetInnerHTML"===s?(d=d?d.__html:void 0,null!=d&&He(e,d)):"children"===s?"string"===typeof d?("textarea"!==a||""!==d)&&ze(e,d):"number"===typeof d&&ze(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?null!=d&&vr(r,s):null!=d&&te(e,s,d,l))}switch(a){case"input":Ce(e);Le(e,n,!1);break;case"textarea":Ce(e);Be(e);break;case"option":null!=n.value&&e.setAttribute("value",""+Ee(n.value));break;case"select":e.multiple=!!n.multiple;r=n.value;null!=r?Me(e,!!n.multiple,r,!1):null!=n.defaultValue&&Me(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=mr)}jr(a,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)ps(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));r=Ka($a.current);Ka(Ha.current);Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[Vr]=t,r.nodeValue!==n&&(t.effectTag|=4)):(r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n),r[Vr]=t,t.stateNode=r)}return null;case 13:Ci(Qa);n=t.memoizedState;if(0!==(64&t.effectTag))return t.expirationTime=r,t;r=null!==n;n=!1;null===e?void 0!==t.memoizedProps.fallback&&Ho(t):(a=e.memoizedState,n=null!==a,r||null===a||(a=e.child.sibling,null!==a&&(s=t.firstEffect,null!==s?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)));if(r&&!n&&0!==(2&t.mode))if(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Qa.current))tl===Hs&&(tl=Ks);else{tl!==Hs&&tl!==Ks||(tl=Zs);0!==ol&&null!==Js&&(fu(Js,el),pu(Js,ol))}(r||n)&&(t.effectTag|=4);return null;case 4:return Ya(),ds(t),null;case 10:return ya(t),null;case 17:return Ri(t.type)&&Ii(),null;case 19:Ci(Qa);n=t.memoizedState;if(null===n)return null;a=0!==(64&t.effectTag);s=n.rendering;if(null===s){if(a)gs(n,!1);else if(tl!==Hs||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){e=eo(s);if(null!==e){t.effectTag|=64;gs(n,!1);a=e.updateQueue;null!==a&&(t.updateQueue=a,t.effectTag|=4);null===n.lastEffect&&(t.firstEffect=null);t.lastEffect=n.lastEffect;for(n=t.child;null!==n;)a=n,s=r,a.effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,e=a.alternate,null===e?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;Oi(Qa,1&Qa.current|2);return t.child}s=s.sibling}}else{if(!a)if(e=eo(s),null!==e){if(t.effectTag|=64,a=!0,r=e.updateQueue,null!==r&&(t.updateQueue=r,t.effectTag|=4),gs(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate)return t=t.lastEffect=n.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*na()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,a=!0,gs(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(s.sibling=t.child,t.child=s):(r=n.last,null!==r?r.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=na()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=na(),r.sibling=null,t=Qa.current,Oi(Qa,a?1&t|2:1&t),r):null}throw Error(o(156,t.tag))}function vs(e){switch(e.tag){case 1:Ri(e.type)&&Ii();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:Ya();Ci(ji);Ci(Ai);t=e.effectTag;if(0!==(64&t))throw Error(o(285));e.effectTag=-4097&t|64;return e;case 5:return Ja(e),null;case 13:return Ci(Qa),t=e.effectTag,4096&t?(e.effectTag=-4097&t|64,e):null;case 19:return Ci(Qa),null;case 4:return Ya(),null;case 10:return ya(e),null;default:return null}}function ms(e,t){return{value:e,source:t,stack:Se(t)}}var ys="function"===typeof WeakSet?WeakSet:Set;function bs(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=Se(r));null!==r&&_e(r.type);t=t.value;null!==e&&1===e.tag&&_e(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ws(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Kl(e,t)}}function _s(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){Kl(e,t)}else t.current=null}function Ss(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode;t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:fa(t.type,r),n);e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function Es(e,t){t=t.updateQueue;t=null!==t?t.lastEffect:null;if(null!==t){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0;void 0!==n&&n()}r=r.next}while(r!==t)}}function Ps(e,t){t=t.updateQueue;t=null!==t?t.lastEffect:null;if(null!==t){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ks(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:Ps(3,r);return;case 1:e=r.stateNode;if(4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:fa(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}t=r.updateQueue;null!==t&&Aa(r,t,e);return;case 3:t=r.updateQueue;if(null!==t){e=null;if(null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}Aa(r,t,e)}return;case 5:e=r.stateNode;null===t&&4&r.effectTag&&jr(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Ht(r))));return;case 19:case 17:case 20:case 21:return}throw Error(o(163))}function Cs(e,t,r){"function"===typeof Ql&&Ql(t);switch(t.tag){case 0:case 11:case 14:case 15:case 22:e=t.updateQueue;if(null!==e&&(e=e.lastEffect,null!==e)){var n=e.next;oa(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(e){Kl(i,e)}}e=e.next}while(e!==n)}))}break;case 1:_s(t);r=t.stateNode;"function"===typeof r.componentWillUnmount&&ws(t,r);break;case 5:_s(t);break;case 4:Ls(e,t,r)}}function Os(e){var t=e.alternate;e.return=null;e.child=null;e.memoizedState=null;e.updateQueue=null;e.dependencies=null;e.alternate=null;e.firstEffect=null;e.lastEffect=null;e.pendingProps=null;e.memoizedProps=null;e.stateNode=null;null!==t&&Os(t)}function Ts(e){return 5===e.tag||3===e.tag||4===e.tag}function As(e){e:{for(var t=e.return;null!==t;){if(Ts(t)){var r=t;break e}t=t.return}throw Error(o(160))}t=r.stateNode;switch(r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo;n=!0;break;case 4:t=t.containerInfo;n=!0;break;default:throw Error(o(161))}16&r.effectTag&&(ze(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||Ts(r.return)){r=null;break e}r=r.return}r.sibling.return=r.return;for(r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?js(e,r,t):Ds(e,r,t)}function js(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==t.onclick||(t.onclick=mr));else if(4!==n&&(e=e.child,null!==e))for(js(e,t,r),e=e.sibling;null!==e;)js(e,t,r),e=e.sibling}function Ds(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(e=e.child,null!==e))for(Ds(e,t,r),e=e.sibling;null!==e;)Ds(e,t,r),e=e.sibling}function Ls(e,t,r){for(var n=t,i=!1,a,s;;){if(!i){i=n.return;e:for(;;){if(null===i)throw Error(o(160));a=i.stateNode;switch(i.tag){case 5:s=!1;break e;case 3:a=a.containerInfo;s=!0;break e;case 4:a=a.containerInfo;s=!0;break e}i=i.return}i=!0}if(5===n.tag||6===n.tag){e:for(var l=e,u=n,c=r,d=u;;)if(Cs(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return;d=d.sibling}s?(l=a,u=n.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):a.removeChild(n.stateNode)}else if(4===n.tag){if(null!==n.child){a=n.stateNode.containerInfo;s=!0;n.child.return=n;n=n.child;continue}}else if(Cs(e,n,r),null!==n.child){n.child.return=n;n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return;4===n.tag&&(i=!1)}n.sibling.return=n.return;n=n.sibling}}function Rs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:Es(3,t);return;case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var a=t.updateQueue;t.updateQueue=null;if(null!==a){r[Nr]=n;"input"===e&&"radio"===n.type&&null!=n.name&&je(r,n);gr(e,i);t=gr(e,n);for(i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?dr(r,l):"dangerouslySetInnerHTML"===s?He(r,l):"children"===s?ze(r,l):te(r,s,l,t)}switch(e){case"input":De(r,n);break;case"textarea":Fe(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,e=n.value,null!=e?Me(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Me(r,!!n.multiple,n.defaultValue,!0):Me(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:t=t.stateNode;t.hydrate&&(t.hydrate=!1,Ht(t.containerInfo));return;case 12:return;case 13:r=t;null===t.memoizedState?n=!1:(n=!0,r=t.child,ll=na());if(null!==r)e:for(e=r;;){if(5===e.tag)a=e.stateNode,n?(a=a.style,"function"===typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(a=e.stateNode,i=e.memoizedProps.style,i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=cr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){a=e.child.sibling;a.return=e;e=a;continue}if(null!==e.child){e.child.return=e;e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return;e=e.sibling}Is(t);return;case 19:Is(t);return;case 17:return}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new ys);t.forEach((function(t){var n=Yl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var xs="function"===typeof WeakMap?WeakMap:Map;function Ms(e,t,r){r=ka(r,null);r.tag=3;r.payload={element:null};var n=t.value;r.callback=function(){dl||(dl=!0,fl=n);bs(e,t)};return r}function Vs(e,t,r){r=ka(r,null);r.tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){bs(e,t);return n(i)}}var a=e.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===pl?pl=new Set([this]):pl.add(this),bs(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})});return r}var Ns=Math.ceil,Fs=ee.ReactCurrentDispatcher,Bs=ee.ReactCurrentOwner,Ws=0,Gs=8,qs=16,Us=32,Hs=0,zs=1,$s=2,Ks=3,Zs=4,Ys=5,Xs=Ws,Js=null,Qs=null,el=0,tl=Hs,rl=null,nl=1073741823,il=1073741823,al=null,ol=0,sl=!1,ll=0,ul=500,cl=null,dl=!1,fl=null,pl=null,gl=!1,hl=null,vl=90,ml=null,yl=0,bl=null,wl=0;function _l(){return(Xs&(qs|Us))!==Ws?1073741821-(na()/10|0):0!==wl?wl:wl=1073741821-(na()/10|0)}function Sl(e,t,r){t=t.mode;if(0===(2&t))return 1073741823;var n=ia();if(0===(4&t))return 99===n?1073741823:1073741822;if((Xs&qs)!==Ws)return el;if(null!==r)e=da(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=da(e,150,100);break;case 97:case 96:e=da(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}null!==Js&&e===el&&--e;return e}function El(e,t){if(50<yl)throw yl=0,bl=null,Error(o(185));e=Pl(e,t);if(null!==e){var r=ia();1073741823===t?(Xs&Gs)!==Ws&&(Xs&(qs|Us))===Ws?Tl(e):(Cl(e),Xs===Ws&&ua()):Cl(e);(4&Xs)===Ws||98!==r&&99!==r||(null===ml?ml=new Map([[e,t]]):(r=ml.get(e),(void 0===r||r>t)&&ml.set(e,t)))}}function Pl(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){r=n.alternate;n.childExpirationTime<t&&(n.childExpirationTime=t);null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);if(null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}null!==i&&(Js===i&&(Ml(t),tl===Zs&&fu(i,el)),pu(i,t));return i}function kl(e){var t=e.lastExpiredTime;if(0!==t)return t;t=e.firstPendingTime;if(!du(e,t))return t;var r=e.lastPingedTime;e=e.nextKnownPendingLevel;e=r>e?r:e;return 2>=e&&t!==e?0:e}function Cl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=la(Tl.bind(null,e));else{var t=kl(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=_l();1073741823===t?n=99:1===t||2===t?n=95:(n=10*(1073741821-t)-10*(1073741821-n),n=0>=n?99:250>=n?98:5250>=n?97:95);if(null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==Yi&&Wi(r)}e.callbackExpirationTime=t;e.callbackPriority=n;t=1073741823===t?la(Tl.bind(null,e)):sa(n,Ol.bind(null,e),{timeout:10*(1073741821-t)-na()});e.callbackNode=t}}}function Ol(e,t){wl=0;if(t)return t=_l(),gu(e,t),Cl(e),null;var r=kl(e);if(0!==r){t=e.callbackNode;if((Xs&(qs|Us))!==Ws)throw Error(o(327));Hl();e===Js&&r===el||Ll(e,r);if(null!==Qs){var n=Xs;Xs|=qs;var i=Il();do{try{Nl();break}catch(t){Rl(e,t)}}while(1);ma();Xs=n;Fs.current=i;if(tl===zs)throw t=rl,Ll(e,r),fu(e,r),Cl(e),t;if(null===Qs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=tl,Js=null,n){case Hs:case zs:throw Error(o(345));case $s:gu(e,2<r?2:r);break;case Ks:fu(e,r);n=e.lastSuspendedTime;r===n&&(e.nextKnownPendingLevel=Wl(i));if(1073741823===nl&&(i=ll+ul-na(),10<i)){if(sl){var a=e.lastPingedTime;if(0===a||a>=r){e.lastPingedTime=r;Ll(e,r);break}}a=kl(e);if(0!==a&&a!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=Lr(Gl.bind(null,e),i);break}Gl(e);break;case Zs:fu(e,r);n=e.lastSuspendedTime;r===n&&(e.nextKnownPendingLevel=Wl(i));if(sl&&(i=e.lastPingedTime,0===i||i>=r)){e.lastPingedTime=r;Ll(e,r);break}i=kl(e);if(0!==i&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}1073741823!==il?n=10*(1073741821-il)-na():1073741823===nl?n=0:(n=10*(1073741821-nl)-5e3,i=na(),r=10*(1073741821-r)-i,n=i-n,0>n&&(n=0),n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n,r<n&&(n=r));if(10<n){e.timeoutHandle=Lr(Gl.bind(null,e),n);break}Gl(e);break;case Ys:if(1073741823!==nl&&null!==al){a=nl;var s=al;n=0|s.busyMinDurationMs;0>=n?n=0:(i=0|s.busyDelayMs,a=na()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)),n=a<=i?0:i+n-a);if(10<n){fu(e,r);e.timeoutHandle=Lr(Gl.bind(null,e),n);break}}Gl(e);break;default:throw Error(o(329))}Cl(e);if(e.callbackNode===t)return Ol.bind(null,e)}}return null}function Tl(e){var t=e.lastExpiredTime;t=0!==t?t:1073741823;if((Xs&(qs|Us))!==Ws)throw Error(o(327));Hl();e===Js&&t===el||Ll(e,t);if(null!==Qs){var r=Xs;Xs|=qs;var n=Il();do{try{Vl();break}catch(t){Rl(e,t)}}while(1);ma();Xs=r;Fs.current=n;if(tl===zs)throw r=rl,Ll(e,t),fu(e,t),Cl(e),r;if(null!==Qs)throw Error(o(261));e.finishedWork=e.current.alternate;e.finishedExpirationTime=t;Js=null;Gl(e);Cl(e)}return null}function Al(){if(null!==ml){var e=ml;ml=null;e.forEach((function(e,t){gu(t,e);Cl(t)}));ua()}}function jl(e,t){var r=Xs;Xs|=1;try{return e(t)}finally{Xs=r,Xs===Ws&&ua()}}function Dl(e,t){var r=Xs;Xs&=-2;Xs|=Gs;try{return e(t)}finally{Xs=r,Xs===Ws&&ua()}}function Ll(e,t){e.finishedWork=null;e.finishedExpirationTime=0;var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,Rr(r));if(null!==Qs)for(r=Qs.return;null!==r;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes;null!==n&&void 0!==n&&Ii();break;case 3:Ya();Ci(ji);Ci(Ai);break;case 5:Ja(n);break;case 4:Ya();break;case 13:Ci(Qa);break;case 19:Ci(Qa);break;case 10:ya(n)}r=r.return}Js=e;Qs=au(e.current,null);el=t;tl=Hs;rl=null;il=nl=1073741823;al=null;ol=0;sl=!1}function Rl(e,t){do{try{ma();ro.current=Io;if(lo)for(var r=ao.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null);r=r.next}io=0;so=oo=ao=null;lo=!1;if(null===Qs||null===Qs.return)return tl=zs,rl=t,Qs=null;e:{var i=e,a=Qs.return,o=Qs,s=t;t=el;o.effectTag|=2048;o.firstEffect=o.lastEffect=null;if(null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.expirationTime=u.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!==(1&Qa.current),d=a;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var g=d.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!c)}}if(f){var h=d.updateQueue;if(null===h){var v=new Set;v.add(l);d.updateQueue=v}else h.add(l);if(0===(2&d.mode)){d.effectTag|=64;o.effectTag&=-2981;if(1===o.tag)if(null===o.alternate)o.tag=17;else{var m=ka(1073741823,null);m.tag=2;Ca(o,m)}o.expirationTime=1073741823;break e}s=void 0;o=t;var y=i.pingCache;null===y?(y=i.pingCache=new xs,s=new Set,y.set(l,s)):(s=y.get(l),void 0===s&&(s=new Set,y.set(l,s)));if(!s.has(o)){s.add(o);var b=Zl.bind(null,i,l,o);l.then(b,b)}d.effectTag|=4096;d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((_e(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Se(o))}tl!==Ys&&(tl=$s);s=ms(s,o);d=a;do{switch(d.tag){case 3:l=s;d.effectTag|=4096;d.expirationTime=t;var w=Ms(d,l,t);Oa(d,w);break e;case 1:l=s;var _=d.type,S=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===pl||!pl.has(S)))){d.effectTag|=4096;d.expirationTime=t;var E=Vs(d,l,t);Oa(d,E);break e}}d=d.return}while(null!==d)}Qs=Bl(Qs)}catch(e){t=e;continue}break}while(1)}function Il(){var e=Fs.current;Fs.current=Io;return null===e?Io:e}function xl(e,t){e<nl&&2<e&&(nl=e);null!==t&&e<il&&2<e&&(il=e,al=t)}function Ml(e){e>ol&&(ol=e)}function Vl(){for(;null!==Qs;)Qs=Fl(Qs)}function Nl(){for(;null!==Qs&&!Xi();)Qs=Fl(Qs)}function Fl(e){var t=Xl(e.alternate,e,el);e.memoizedProps=e.pendingProps;null===t&&(t=Bl(e));Bs.current=null;return t}function Bl(e){Qs=e;do{var t=Qs.alternate;e=Qs.return;if(0===(2048&Qs.effectTag)){t=hs(t,Qs,el);if(1===el||1!==Qs.childExpirationTime){for(var r=0,n=Qs.child;null!==n;){var i=n.expirationTime,a=n.childExpirationTime;i>r&&(r=i);a>r&&(r=a);n=n.sibling}Qs.childExpirationTime=r}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Qs.firstEffect),null!==Qs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Qs.firstEffect),e.lastEffect=Qs.lastEffect),1<Qs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Qs:e.firstEffect=Qs,e.lastEffect=Qs))}else{t=vs(Qs);if(null!==t)return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}t=Qs.sibling;if(null!==t)return t;Qs=e}while(null!==Qs);tl===Hs&&(tl=Ys);return null}function Wl(e){var t=e.expirationTime;e=e.childExpirationTime;return t>e?t:e}function Gl(e){var t=ia();oa(99,ql.bind(null,e,t));return null}function ql(e,t){do{Hl()}while(null!==hl);if((Xs&(qs|Us))!==Ws)throw Error(o(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;e.finishedWork=null;e.finishedExpirationTime=0;if(r===e.current)throw Error(o(177));e.callbackNode=null;e.callbackExpirationTime=0;e.callbackPriority=90;e.nextKnownPendingLevel=0;var i=Wl(r);e.firstPendingTime=i;n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1);n<=e.lastPingedTime&&(e.lastPingedTime=0);n<=e.lastExpiredTime&&(e.lastExpiredTime=0);e===Js&&(Qs=Js=null,el=0);1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect;if(null!==i){var a=Xs;Xs|=Us;Bs.current=null;Tr=tr;var s=Sr();if(Er(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var f=0,p=-1,g=-1,h=0,v=0,m=s,y=null;t:for(;;){for(var b;;){m!==l||0!==c&&3!==m.nodeType||(p=f+c);m!==d||0!==u&&3!==m.nodeType||(g=f+u);3===m.nodeType&&(f+=m.nodeValue.length);if(null===(b=m.firstChild))break;y=m;m=b}for(;;){if(m===s)break t;y===l&&++h===c&&(p=f);y===d&&++v===u&&(g=f);if(null!==(b=m.nextSibling))break;m=y;y=m.parentNode}m=b}l=-1===p||-1===g?null:{start:p,end:g}}else l=null}l=l||{start:0,end:0}}else l=null;Ar={activeElementDetached:null,focusedElem:s,selectionRange:l};tr=!1;cl=i;do{try{Ul()}catch(e){if(null===cl)throw Error(o(330));Kl(cl,e);cl=cl.nextEffect}}while(null!==cl);cl=i;do{try{for(s=e,l=t;null!==cl;){var w=cl.effectTag;16&w&&ze(cl.stateNode,"");if(128&w){var _=cl.alternate;if(null!==_){var S=_.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&w){case 2:As(cl);cl.effectTag&=-3;break;case 6:As(cl);cl.effectTag&=-3;Rs(cl.alternate,cl);break;case 1024:cl.effectTag&=-1025;break;case 1028:cl.effectTag&=-1025;Rs(cl.alternate,cl);break;case 4:Rs(cl.alternate,cl);break;case 8:c=cl,Ls(s,c,l),Os(c)}cl=cl.nextEffect}}catch(e){if(null===cl)throw Error(o(330));Kl(cl,e);cl=cl.nextEffect}}while(null!==cl);S=Ar;_=Sr();w=S.focusedElem;l=S.selectionRange;if(_!==w&&w&&w.ownerDocument&&_r(w.ownerDocument.documentElement,w)){null!==l&&Er(w)&&(_=l.start,S=l.end,void 0===S&&(S=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(S,w.value.length)):(S=(_=w.ownerDocument||document)&&_.defaultView||window,S.getSelection&&(S=S.getSelection(),c=w.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!S.extend&&s>l&&(c=l,l=s,s=c),c=wr(w,s),d=wr(w,l),c&&d&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==d.node||S.focusOffset!==d.offset)&&(_=_.createRange(),_.setStart(c.node,c.offset),S.removeAllRanges(),s>l?(S.addRange(_),S.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),S.addRange(_))))));_=[];for(S=w;S=S.parentNode;)1===S.nodeType&&_.push({element:S,left:S.scrollLeft,top:S.scrollTop});"function"===typeof w.focus&&w.focus();for(w=0;w<_.length;w++)S=_[w],S.element.scrollLeft=S.left,S.element.scrollTop=S.top}tr=!!Tr;Ar=Tr=null;e.current=r;cl=i;do{try{for(w=e;null!==cl;){var E=cl.effectTag;36&E&&ks(w,cl.alternate,cl);if(128&E){_=void 0;var P=cl.ref;if(null!==P){var k=cl.stateNode;switch(cl.tag){case 5:_=k;break;default:_=k}"function"===typeof P?P(_):P.current=_}}cl=cl.nextEffect}}catch(e){if(null===cl)throw Error(o(330));Kl(cl,e);cl=cl.nextEffect}}while(null!==cl);cl=null;Ji();Xs=a}else e.current=r;if(gl)gl=!1,hl=e,vl=t;else for(cl=i;null!==cl;)t=cl.nextEffect,cl.nextEffect=null,cl=t;t=e.firstPendingTime;0===t&&(pl=null);1073741823===t?e===bl?yl++:(yl=0,bl=e):yl=0;"function"===typeof Jl&&Jl(r.stateNode,n);Cl(e);if(dl)throw dl=!1,e=fl,fl=null,e;if((Xs&Gs)!==Ws)return null;ua();return null}function Ul(){for(;null!==cl;){var e=cl.effectTag;0!==(256&e)&&Ss(cl.alternate,cl);0===(512&e)||gl||(gl=!0,sa(97,(function(){Hl();return null})));cl=cl.nextEffect}}function Hl(){if(90!==vl){var e=97<vl?97:vl;vl=90;return oa(e,zl)}}function zl(){if(null===hl)return!1;var e=hl;hl=null;if((Xs&(qs|Us))!==Ws)throw Error(o(331));var t=Xs;Xs|=Us;for(e=e.current.firstEffect;null!==e;){try{var r=e;if(0!==(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:Es(5,r),Ps(5,r)}}catch(t){if(null===e)throw Error(o(330));Kl(e,t)}r=e.nextEffect;e.nextEffect=null;e=r}Xs=t;ua();return!0}function $l(e,t,r){t=ms(r,t);t=Ms(e,t,1073741823);Ca(e,t);e=Pl(e,1073741823);null!==e&&Cl(e)}function Kl(e,t){if(3===e.tag)$l(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){$l(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===pl||!pl.has(n))){e=ms(t,e);e=Vs(r,e,1073741823);Ca(r,e);r=Pl(r,1073741823);null!==r&&Cl(r);break}}r=r.return}}function Zl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t);Js===e&&el===r?tl===Zs||tl===Ks&&1073741823===nl&&na()-ll<ul?Ll(e,el):sl=!0:du(e,r)&&(t=e.lastPingedTime,0!==t&&t<r||(e.lastPingedTime=r,Cl(e)))}function Yl(e,t){var r=e.stateNode;null!==r&&r.delete(t);t=0;0===t&&(t=_l(),t=Sl(t,e,null));e=Pl(e,t);null!==e&&Cl(e)}var Xl;Xl=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||ji.current)Ko=!0;else{if(n<r){Ko=!1;switch(t.tag){case 3:ns(t);zo();break;case 5:Xa(t);if(4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Ri(t.type)&&Vi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;i=t.type._context;Oi(pa,i._currentValue);i._currentValue=n;break;case 13:if(null!==t.memoizedState){n=t.child.childExpirationTime;if(0!==n&&n>=r)return as(e,t,r);Oi(Qa,1&Qa.current);t=us(e,t,r);return null!==t?t.sibling:null}Oi(Qa,1&Qa.current);break;case 19:n=t.childExpirationTime>=r;if(0!==(64&e.effectTag)){if(n)return ls(e,t,r);t.effectTag|=64}i=t.memoizedState;null!==i&&(i.rendering=null,i.tail=null);Oi(Qa,Qa.current);if(!n)return null}return us(e,t,r)}Ko=!1}}else Ko=!1;t.expirationTime=0;switch(t.tag){case 2:n=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2);e=t.pendingProps;i=Li(t,Ai.current);wa(t,r);i=fo(null,t,n,e,i,r);t.effectTag|=1;if("object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){t.tag=1;t.memoizedState=null;t.updateQueue=null;if(Ri(n)){var a=!0;Vi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;Ea(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&La(t,n,s,e);i.updater=Ra;t.stateNode=i;i._reactInternalFiber=t;Va(t,n,e,r);t=rs(null,t,n,!0,a,r)}else t.tag=0,Zo(null,t,i,r),t=t.child;return t;case 16:e:{i=t.elementType;null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2);e=t.pendingProps;we(i);if(1!==i._status)throw i._result;i=i._result;t.type=i;a=t.tag=iu(i);e=fa(i,e);switch(a){case 0:t=es(null,t,i,e,r);break e;case 1:t=ts(null,t,i,e,r);break e;case 11:t=Yo(null,t,i,e,r);break e;case 14:t=Xo(null,t,i,fa(i.type,e),n,r);break e}throw Error(o(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:fa(n,i),es(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:fa(n,i),ts(e,t,n,i,r);case 3:ns(t);n=t.updateQueue;if(null===e||null===n)throw Error(o(282));n=t.pendingProps;i=t.memoizedState;i=null!==i?i.element:null;Pa(e,t);Ta(t,n,null,r);n=t.memoizedState.element;if(n===i)zo(),t=us(e,t,r);else{(i=t.stateNode.hydrate)&&(Fo=Ir(t.stateNode.containerInfo.firstChild),No=t,i=Bo=!0);if(i)for(r=qa(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Zo(e,t,n,r),zo();t=t.child}return t;case 5:return Xa(t),null===e&&qo(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Dr(n,i)?s=null:null!==a&&Dr(n,a)&&(t.effectTag|=16),Qo(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Zo(e,t,s,r),t=t.child),t;case 6:return null===e&&qo(t),null;case 13:return as(e,t,r);case 4:return Za(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ga(t,null,n,r):Zo(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:fa(n,i),Yo(e,t,n,i,r);case 7:return Zo(e,t,t.pendingProps,r),t.child;case 8:return Zo(e,t,t.pendingProps.children,r),t.child;case 12:return Zo(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context;i=t.pendingProps;s=t.memoizedProps;a=i.value;var l=t.type._context;Oi(pa,l._currentValue);l._currentValue=a;if(null!==s)if(l=s.value,a=ei(l,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,a):1073741823),0===a){if(s.children===i.children&&!ji.current){t=us(e,t,r);break e}}else for(l=t.child,null!==l&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&a)){1===l.tag&&(c=ka(r,null),c.tag=2,Ca(l,c));l.expirationTime<r&&(l.expirationTime=r);c=l.alternate;null!==c&&c.expirationTime<r&&(c.expirationTime=r);ba(l.return,r);u.expirationTime<r&&(u.expirationTime=r);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}l=s.sibling;if(null!==l){l.return=s.return;s=l;break}s=s.return}l=s}Zo(e,t,i.children,r);t=t.child}return t;case 9:return i=t.type,a=t.pendingProps,n=a.children,wa(t,r),i=_a(i,a.unstable_observedBits),n=n(i),t.effectTag|=1,Zo(e,t,n,r),t.child;case 14:return i=t.type,a=fa(i,t.pendingProps),a=fa(i.type,a),Xo(e,t,i,a,n,r);case 15:return Jo(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:fa(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Ri(n)?(e=!0,Vi(t)):e=!1,wa(t,r),xa(t,n,i),Va(t,n,i,r),rs(null,t,n,!0,e,r);case 19:return ls(e,t,r)}throw Error(o(156,t.tag))};var Jl=null,Ql=null;function eu(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);Jl=function(e){try{t.onCommitFiberRoot(r,e,void 0,64===(64&e.current.effectTag))}catch(e){}};Ql=function(e){try{t.onCommitFiberUnmount(r,e)}catch(e){}}}catch(e){}return!0}function tu(e,t,r,n){this.tag=e;this.key=r;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=t;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=n;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function ru(e,t,r,n){return new tu(e,t,r,n)}function nu(e){e=e.prototype;return!(!e||!e.isReactComponent)}function iu(e){if("function"===typeof e)return nu(e)?1:0;if(void 0!==e&&null!==e){e=e.$$typeof;if(e===fe)return 11;if(e===he)return 14}return 2}function au(e,t){var r=e.alternate;null===r?(r=ru(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null);r.childExpirationTime=e.childExpirationTime;r.expirationTime=e.expirationTime;r.child=e.child;r.memoizedProps=e.memoizedProps;r.memoizedState=e.memoizedState;r.updateQueue=e.updateQueue;t=e.dependencies;r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders};r.sibling=e.sibling;r.index=e.index;r.ref=e.ref;return r}function ou(e,t,r,n,i,a){var s=2;n=e;if("function"===typeof e)nu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case oe:return su(r.children,i,a,t);case de:s=8;i|=7;break;case se:s=8;i|=1;break;case le:return e=ru(12,r,t,8|i),e.elementType=le,e.type=le,e.expirationTime=a,e;case pe:return e=ru(13,r,t,i),e.type=pe,e.elementType=pe,e.expirationTime=a,e;case ge:return e=ru(19,r,t,i),e.elementType=ge,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ue:s=10;break e;case ce:s=9;break e;case fe:s=11;break e;case he:s=14;break e;case ve:s=16;n=null;break e;case me:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}t=ru(s,r,t,i);t.elementType=e;t.type=n;t.expirationTime=a;return t}function su(e,t,r,n){e=ru(7,e,n,t);e.expirationTime=r;return e}function lu(e,t,r){e=ru(6,e,null,t);e.expirationTime=r;return e}function uu(e,t,r){t=ru(4,null!==e.children?e.children:[],e.key,t);t.expirationTime=r;t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return t}function cu(e,t,r){this.tag=t;this.current=null;this.containerInfo=e;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=r;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function du(e,t){var r=e.firstSuspendedTime;e=e.lastSuspendedTime;return 0!==r&&r>=t&&e<=t}function fu(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t);(n>t||0===r)&&(e.lastSuspendedTime=t);t<=e.lastPingedTime&&(e.lastPingedTime=0);t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function pu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function gu(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function hu(e,t,r,n){var i=t.current,a=_l(),s=ja.suspense;a=Sl(a,i,s);e:if(r){r=r._reactInternalFiber;t:{if(at(r)!==r||1!==r.tag)throw Error(o(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Ri(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===r.tag){var u=r.type;if(Ri(u)){r=Mi(r,u,l);break e}}r=l}else r=Ti;null===t.context?t.context=r:t.pendingContext=r;t=ka(a,s);t.payload={element:e};n=void 0===n?null:n;null!==n&&(t.callback=n);Ca(i,t);El(i,a);return a}function vu(e){e=e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mu(e,t){e=e.memoizedState;null!==e&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function yu(e,t){mu(e,t);(e=e.alternate)&&mu(e,t)}function bu(e,t,r){r=null!=r&&!0===r.hydrate;var n=new cu(e,t,r),i=ru(3,null,null,2===t?7:1===t?3:0);n.current=i;i.stateNode=n;Ea(i);e[Fr]=n.current;r&&0!==t&&xt(e,9===e.nodeType?e:e.ownerDocument);this._internalRoot=n}bu.prototype.render=function(e){hu(e,this._internalRoot,null,null)};bu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;hu(null,e,null,(function(){t[Fr]=null}))};function wu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function _u(e,t){t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot")));if(!t)for(var r;r=e.lastChild;)e.removeChild(r);return new bu(e,0,t?{hydrate:!0}:void 0)}function Su(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=vu(o);s.call(e)}}hu(t,o,e,i)}else{a=r._reactRootContainer=_u(r,n);o=a._internalRoot;if("function"===typeof i){var l=i;i=function(){var e=vu(o);l.call(e)}}Dl((function(){hu(t,o,e,i)}))}return vu(o)}function Eu(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ae,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}St=function(e){if(13===e.tag){var t=da(_l(),150,100);El(e,t);yu(e,t)}};Et=function(e){13===e.tag&&(El(e,3),yu(e,3))};Pt=function(e){if(13===e.tag){var t=_l();t=Sl(t,e,null);El(e,t);yu(e,t)}};A=function(e,t,r){switch(t){case"input":De(e,r);t=r.name;if("radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]');for(t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=qr(n);if(!i)throw Error(o(90));Oe(n);De(n,i)}}}break;case"textarea":Fe(e,r);break;case"select":t=r.value,null!=t&&Me(e,!!r.multiple,t,!1)}};x=jl;M=function(e,t,r,n,i){var a=Xs;Xs|=4;try{return oa(98,e.bind(null,t,r,n,i))}finally{Xs=a,Xs===Ws&&ua()}};V=function(){(Xs&(1|qs|Us))===Ws&&(Al(),Hl())};N=function(e,t){var r=Xs;Xs|=2;try{return e(t)}finally{Xs=r,Xs===Ws&&ua()}};function Pu(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!wu(t))throw Error(o(200));return Eu(e,t,null,r)}var ku={Events:[Wr,Gr,qr,O,P,Yr,function(e){dt(e,Zr)},R,I,or,gt,Hl,{current:!1}]};(function(e){var t=e.findFiberByHostInstance;return eu(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){e=ut(e);return null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Br,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ku;t.createPortal=Pu;t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}e=ut(t);e=null===e?null:e.stateNode;return e};t.flushSync=function(e,t){if((Xs&(qs|Us))!==Ws)throw Error(o(187));var r=Xs;Xs|=1;try{return oa(99,e.bind(null,t))}finally{Xs=r,ua()}};t.hydrate=function(e,t,r){if(!wu(t))throw Error(o(200));return Su(null,e,t,!0,r)};t.render=function(e,t,r){if(!wu(t))throw Error(o(200));return Su(null,e,t,!1,r)};t.unmountComponentAtNode=function(e){if(!wu(e))throw Error(o(40));return!!e._reactRootContainer&&(Dl((function(){Su(null,null,e,!1,(function(){e._reactRootContainer=null;e[Fr]=null}))})),!0)};t.unstable_batchedUpdates=jl;t.unstable_createPortal=function(e,t){return Pu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wu(r))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Su(e,t,r,!1,n)};t.version="16.14.0"},55269:(e,t,r)=>{"use strict";function n(){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__||"function"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)return;false;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}true;n();e.exports=r(79582)},5561:(e,t)=>{"use strict";var r,n,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,l=null,u=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e);s=null}catch(e){throw setTimeout(u,0),e}},c=Date.now();t.unstable_now=function(){return Date.now()-c};r=function(e){null!==s?setTimeout(r,0,e):(s=e,setTimeout(u,0))};n=function(e,t){l=setTimeout(e,t)};i=function(){clearTimeout(l)};a=function(){return!1};o=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var h=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills");"function"!==typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var v=f.now();t.unstable_now=function(){return f.now()-v}}var m=!1,y=null,b=-1,w=5,_=0;a=function(){return t.unstable_now()>=_};o=function(){};t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,E=S.port2;S.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+w;try{y(!0,e)?E.postMessage(null):(m=!1,y=null)}catch(e){throw E.postMessage(null),e}}else m=!1};r=function(e){y=e;m||(m=!0,E.postMessage(null))};n=function(e,r){b=p((function(){e(t.unstable_now())}),r)};i=function(){g(b);b=-1}}function P(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<O(i,t)))break e;e[n]=t,e[r]=i,r=n}}function k(e){e=e[0];return void 0===e?null:e}function C(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var a=2*(n+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>O(o,r))void 0!==l&&0>O(l,o)?(e[n]=l,e[s]=r,n=s):(e[n]=o,e[a]=r,n=a);else{if(!(void 0!==l&&0>O(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function O(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var T=[],A=[],j=1,D=null,L=3,R=!1,I=!1,x=!1;function M(e){for(var t=k(A);null!==t;){if(null===t.callback)C(A);else{if(!(t.startTime<=e))break;C(A),t.sortIndex=t.expirationTime,P(T,t)}t=k(A)}}function V(e){x=!1;M(e);if(!I)if(null!==k(T))I=!0,r(N);else{var t=k(A);null!==t&&n(V,t.startTime-e)}}function N(e,r){I=!1;x&&(x=!1,i());R=!0;var o=L;try{M(r);for(D=k(T);null!==D&&(!(D.expirationTime>r)||e&&!a());){var s=D.callback;if(null!==s){D.callback=null;L=D.priorityLevel;var l=s(D.expirationTime<=r);r=t.unstable_now();"function"===typeof l?D.callback=l:D===k(T)&&C(T);M(r)}else C(T);D=k(T)}if(null!==D)var u=!0;else{var c=k(A);null!==c&&n(V,c.startTime-r);u=!1}return u}finally{D=null,L=o,R=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=o;t.unstable_IdlePriority=5;t.unstable_ImmediatePriority=1;t.unstable_LowPriority=4;t.unstable_NormalPriority=3;t.unstable_Profiling=null;t.unstable_UserBlockingPriority=2;t.unstable_cancelCallback=function(e){e.callback=null};t.unstable_continueExecution=function(){I||R||(I=!0,r(N))};t.unstable_getCurrentPriorityLevel=function(){return L};t.unstable_getFirstCallbackNode=function(){return k(T)};t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var r=L;L=t;try{return e()}finally{L=r}};t.unstable_pauseExecution=function(){};t.unstable_requestPaint=B;t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=L;L=e;try{return t()}finally{L=r}};t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?s+l:s;o="number"===typeof o.timeout?o.timeout:F(e)}else o=F(e),l=s;o=l+o;e={id:j++,callback:a,priorityLevel:e,startTime:l,expirationTime:o,sortIndex:-1};l>s?(e.sortIndex=l,P(A,e),null===k(T)&&e===k(A)&&(x?i():x=!0,n(V,l-s))):(e.sortIndex=o,P(T,e),I||R||(I=!0,r(N)));return e};t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var r=k(T);return r!==D&&null!==D&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<D.expirationTime||a()};t.unstable_wrapCallback=function(e){var t=L;return function(){var r=L;L=t;try{return e.apply(this,arguments)}finally{L=r}}}},60804:(e,t,r)=>{"use strict";true;e.exports=r(5561)},16618:(e,t)=>{"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type,e){case c:case d:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof,e){case u:case f:case v:case h:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=c;t.ConcurrentMode=d;t.ContextConsumer=u;t.ContextProvider=l;t.Element=n;t.ForwardRef=f;t.Fragment=a;t.Lazy=v;t.Memo=h;t.Portal=i;t.Profiler=s;t.StrictMode=o;t.Suspense=p;t.isAsyncMode=function(e){return S(e)||_(e)===c};t.isConcurrentMode=S;t.isContextConsumer=function(e){return _(e)===u};t.isContextProvider=function(e){return _(e)===l};t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n};t.isForwardRef=function(e){return _(e)===f};t.isFragment=function(e){return _(e)===a};t.isLazy=function(e){return _(e)===v};t.isMemo=function(e){return _(e)===h};t.isPortal=function(e){return _(e)===i};t.isProfiler=function(e){return _(e)===s};t.isStrictMode=function(e){return _(e)===o};t.isSuspense=function(e){return _(e)===p};t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)};t.typeOf=_},95001:(e,t,r)=>{"use strict";true;e.exports=r(16618)},65074:(e,t,r)=>{"use strict";r.r(t);r.d(t,{Provider:()=>g,connect:()=>ie,connectAdvanced:()=>L,createProvider:()=>p});function n(e,t){n=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return n(e,t)}function i(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;n(e,t)}var a=r(79440);var o=r(76660);var s=r.n(o);var l=s().shape({trySubscribe:s().func.isRequired,tryUnsubscribe:s().func.isRequired,notifyNestedSubs:s().func.isRequired,isSubscribed:s().func.isRequired});var u=s().shape({subscribe:s().func.isRequired,dispatch:s().func.isRequired,getState:s().func.isRequired});var c="undefined"!==typeof a.forwardRef;var d=false;function f(){if(d)return;d=true;warning("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reduxjs/react-redux/releases/tag/v2.0.0 for the migration instructions.")}function p(e){var t;void 0===e&&(e="store");var r=e+"Subscription";var n=function(t){i(o,t);var n=o.prototype;n.getChildContext=function t(){var n;return n={},n[e]=this[e],n[r]=null,n};function o(r,n){var i;i=t.call(this,r,n)||this;i[e]=r.store;return i}n.render=function e(){return a.Children.only(this.props.children)};return o}(a.Component);var o;false;n.propTypes={store:u.isRequired,children:s().element.isRequired};n.childContextTypes=(t={},t[e]=u.isRequired,t[r]=l,t);return n}const g=p();function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return v.apply(this,arguments)}function m(e,t){if(null==e)return{};var r={};var n=Object.keys(e);var i,a;for(a=0;a<n.length;a++){i=n[a];if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var y=r(87625);var b=r.n(y);var w=r(57907);var _=r.n(w);var S=r(95001);var E=null;var P={notify:function e(){}};function k(){var e=[];var t=[];return{clear:function r(){t=E;e=E},notify:function r(){var n=e=t;for(var i=0;i<n.length;i++)n[i]()},get:function e(){return t},subscribe:function r(n){var i=true;t===e&&(t=e.slice());t.push(n);return function r(){if(!i||e===E)return;i=false;t===e&&(t=e.slice());t.splice(t.indexOf(n),1)}}}}var C=function(){function e(e,t,r){this.store=e;this.parentSub=t;this.onStateChange=r;this.unsubscribe=null;this.listeners=P}var t=e.prototype;t.addNestedSub=function e(t){this.trySubscribe();return this.listeners.subscribe(t)};t.notifyNestedSubs=function e(){this.listeners.notify()};t.isSubscribed=function e(){return Boolean(this.unsubscribe)};t.trySubscribe=function e(){if(!this.unsubscribe){this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange);this.listeners=k()}};t.tryUnsubscribe=function e(){if(this.unsubscribe){this.unsubscribe();this.unsubscribe=null;this.listeners.clear();this.listeners=P}};return e}();var O="undefined"!==typeof a.forwardRef;var T=0;var A={};function j(){}function D(e,t){var r={run:function n(i){try{var a=e(t.getState(),i);if(a!==r.props||r.error){r.shouldComponentUpdate=true;r.props=a;r.error=null}}catch(e){r.shouldComponentUpdate=true;r.error=e}}};return r}function L(e,t){var r,n;void 0===t&&(t={});var o=t,s=o.getDisplayName,c=void 0===s?function(e){return"ConnectAdvanced("+e+")"}:s,d=o.methodName,f=void 0===d?"connectAdvanced":d,p=o.renderCountProp,g=void 0===p?void 0:p,y=o.shouldHandleStateChanges,w=void 0===y||y,E=o.storeKey,P=void 0===E?"store":E,k=o.withRef,L=void 0!==k&&k,R=m(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]);var I=P+"Subscription";var x=T++;var M=(r={},r[P]=u,r[I]=l,r);var V=(n={},n[I]=l,n);return function t(r){_()((0,S.isValidElementType)(r),"You must pass a component to the function returned by "+f+". Instead received "+JSON.stringify(r));var n=r.displayName||r.name||"Component";var o=c(n);var s=v({},R,{getDisplayName:c,methodName:f,renderCountProp:g,shouldHandleStateChanges:w,storeKey:P,withRef:L,displayName:o,wrappedComponentName:n,WrappedComponent:r});var l=function(t){i(n,t);function n(e,r){var n;n=t.call(this,e,r)||this;n.version=x;n.state={};n.renderCount=0;n.store=e[P]||r[P];n.propsMode=Boolean(e[P]);n.setWrappedInstance=n.setWrappedInstance.bind(h(h(n)));_()(n.store,'Could not find "'+P+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+P+'" as a prop to "'+o+'".');n.initSelector();n.initSubscription();return n}var l=n.prototype;l.getChildContext=function e(){var t;var r=this.propsMode?null:this.subscription;return t={},t[I]=r||this.context[I],t};l.componentDidMount=function e(){if(!w)return;this.subscription.trySubscribe();this.selector.run(this.props);this.selector.shouldComponentUpdate&&this.forceUpdate()};l.componentWillReceiveProps=function e(t){this.selector.run(t)};l.shouldComponentUpdate=function e(){return this.selector.shouldComponentUpdate};l.componentWillUnmount=function e(){this.subscription&&this.subscription.tryUnsubscribe();this.subscription=null;this.notifyNestedSubs=j;this.store=null;this.selector.run=j;this.selector.shouldComponentUpdate=false};l.getWrappedInstance=function e(){_()(L,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+f+"() call.");return this.wrappedInstance};l.setWrappedInstance=function e(t){this.wrappedInstance=t};l.initSelector=function t(){var r=e(this.store.dispatch,s);this.selector=D(r,this.store);this.selector.run(this.props)};l.initSubscription=function e(){if(!w)return;var t=(this.propsMode?this.props:this.context)[I];this.subscription=new C(this.store,t,this.onStateChange.bind(this));this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)};l.onStateChange=function e(){this.selector.run(this.props);if(this.selector.shouldComponentUpdate){this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate;this.setState(A)}else this.notifyNestedSubs()};l.notifyNestedSubsOnComponentDidUpdate=function e(){this.componentDidUpdate=void 0;this.notifyNestedSubs()};l.isSubscribed=function e(){return Boolean(this.subscription)&&this.subscription.isSubscribed()};l.addExtraProps=function e(t){if(!L&&!g&&!(this.propsMode&&this.subscription))return t;var r=v({},t);L&&(r.ref=this.setWrappedInstance);g&&(r[g]=this.renderCount++);this.propsMode&&this.subscription&&(r[I]=this.subscription);return r};l.render=function e(){var t=this.selector;t.shouldComponentUpdate=false;if(t.error)throw t.error;return(0,a.createElement)(r,this.addExtraProps(t.props))};return n}(a.Component);if(O){l.prototype.UNSAFE_componentWillReceiveProps=l.prototype.componentWillReceiveProps;delete l.prototype.componentWillReceiveProps}l.WrappedComponent=r;l.displayName=o;l.childContextTypes=V;l.contextTypes=M;l.propTypes=M;var u;false;return b()(l,r)}}var R=Object.prototype.hasOwnProperty;function I(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function x(e,t){if(I(e,t))return true;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return false;var r=Object.keys(e);var n=Object.keys(t);if(r.length!==n.length)return false;for(var i=0;i<r.length;i++)if(!R.call(t,r[i])||!I(e[r[i]],t[r[i]]))return false;return true}var M=r(10397);function V(e){return function t(r,n){var i=e(r,n);function a(){return i}a.dependsOnOwnProps=false;return a}}function N(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function F(e,t){return function t(r,n){var i=n.displayName;var a=function e(t,r){return a.dependsOnOwnProps?a.mapToProps(t,r):a.mapToProps(t)};a.dependsOnOwnProps=true;a.mapToProps=function t(r,n){a.mapToProps=e;a.dependsOnOwnProps=N(e);var i=a(r,n);if("function"===typeof i){a.mapToProps=i;a.dependsOnOwnProps=N(i);i=a(r,n)}false;return i};return a}}function B(e){return"function"===typeof e?F(e,"mapDispatchToProps"):void 0}function W(e){return e?void 0:V((function(e){return{dispatch:e}}))}function G(e){return e&&"object"===typeof e?V((function(t){return(0,M.bindActionCreators)(e,t)})):void 0}const q=[B,W,G];function U(e){return"function"===typeof e?F(e,"mapStateToProps"):void 0}function H(e){return e?void 0:V((function(){return{}}))}const z=[U,H];function $(e,t,r){return v({},r,e,t)}function K(e){return function t(r,n){var i=n.displayName,a=n.pure,o=n.areMergedPropsEqual;var s=false;var l;return function t(r,n,i){var u=e(r,n,i);if(s)a&&o(u,l)||(l=u);else{s=true;l=u;false}return l}}}function Z(e){return"function"===typeof e?K(e):void 0}function Y(e){return e?void 0:function(){return $}}const X=[Z,Y];function J(e,t,r,n){return function i(a,o){return r(e(a,o),t(n,o),o)}}function Q(e,t,r,n,i){var a=i.areStatesEqual,o=i.areOwnPropsEqual,s=i.areStatePropsEqual;var l=false;var u;var c;var d;var f;var p;function g(i,a){u=i;c=a;d=e(u,c);f=t(n,c);p=r(d,f,c);l=true;return p}function h(){d=e(u,c);t.dependsOnOwnProps&&(f=t(n,c));p=r(d,f,c);return p}function v(){e.dependsOnOwnProps&&(d=e(u,c));t.dependsOnOwnProps&&(f=t(n,c));p=r(d,f,c);return p}function m(){var t=e(u,c);var n=!s(t,d);d=t;n&&(p=r(d,f,c));return p}function y(e,t){var r=!o(t,c);var n=!a(e,u);u=e;c=t;if(r&&n)return h();if(r)return v();if(n)return m();return p}return function e(t,r){return l?y(t,r):g(t,r)}}function ee(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,a=m(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);var o=r(e,a);var s=n(e,a);var l=i(e,a);false;var u=a.pure?Q:J;return u(o,s,l,e,a)}function te(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function re(e,t){return e===t}function ne(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?L:r,i=t.mapStateToPropsFactories,a=void 0===i?z:i,o=t.mapDispatchToPropsFactories,s=void 0===o?q:o,l=t.mergePropsFactories,u=void 0===l?X:l,c=t.selectorFactory,d=void 0===c?ee:c;return function e(t,r,i,o){void 0===o&&(o={});var l=o,c=l.pure,f=void 0===c||c,p=l.areStatesEqual,g=void 0===p?re:p,h=l.areOwnPropsEqual,y=void 0===h?x:h,b=l.areStatePropsEqual,w=void 0===b?x:b,_=l.areMergedPropsEqual,S=void 0===_?x:_,E=m(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]);var P=te(t,a,"mapStateToProps");var k=te(r,s,"mapDispatchToProps");var C=te(i,u,"mergeProps");return n(d,v({methodName:"connect",getDisplayName:function e(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:P,initMapDispatchToProps:k,initMergeProps:C,pure:f,areStatesEqual:g,areOwnPropsEqual:y,areStatePropsEqual:w,areMergedPropsEqual:S},E))}}const ie=ne()},34888:(e,t,r)=>{"use strict";var n=r(34244),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.memo"):60115,h=i?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,r){this.props=e;this.context=t;this.refs=b;this.updater=r||y}w.prototype.isReactComponent={};w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")};w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _(){}_.prototype=w.prototype;function S(e,t,r){this.props=e;this.context=t;this.refs=b;this.updater=r||y}var E=S.prototype=new _;E.constructor=S;n(E,w.prototype);E.isPureReactComponent=!0;var P={current:null},k=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var n,i={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,n)&&!C.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:P.current}}function T(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}function j(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}var D=/\/+/g,L=[];function R(e,t,r,n){if(L.length){var i=L.pop();i.result=e;i.keyPrefix=t;i.func=r;i.context=n;i.count=0;return i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function I(e){e.result=null;e.keyPrefix=null;e.func=null;e.context=null;e.count=0;10>L.length&&L.push(e)}function x(e,t,r,n){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return r(n,e,""===t?"."+V(e,0):t),1;s=0;t=""===t?".":t+":";if(Array.isArray(e))for(var l=0;l<e.length;l++){i=e[l];var u=t+V(i,l);s+=x(i,u,r,n)}else if(null===e||"object"!==typeof e?u=null:(u=v&&e[v]||e["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=t+V(i,l++),s+=x(i,u,r,n);else if("object"===i)throw r=""+e,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return s}function M(e,t,r){return null==e?0:x(e,"",t,r)}function V(e,t){return"object"===typeof e&&null!==e&&null!=e.key?j(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++);Array.isArray(e)?B(e,n,r,(function(e){return e})):null!=e&&(A(e)&&(e=T(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+r)),n.push(e))}function B(e,t,r,n,i){var a="";null!=r&&(a=(""+r).replace(D,"$&/")+"/");t=R(t,a,n,i);M(e,F,t);I(t)}var W={current:null};function G(){var e=W.current;if(null===e)throw Error(m(321));return e}var q={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];B(e,n,null,t,r);return n},forEach:function(e,t,r){if(null==e)return e;t=R(null,null,t,r);M(e,N,t);I(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];B(e,t,null,(function(e){return e}));return t},only:function(e){if(!A(e))throw Error(m(143));return e}};t.Component=w;t.Fragment=s;t.Profiler=u;t.PureComponent=S;t.StrictMode=l;t.Suspense=p;t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q;t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(m(267,e));var i=n({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,l=P.current);void 0!==t.key&&(o=""+t.key);if(e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:l}};t.createContext=function(e,t){void 0===t&&(t=null);e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null};e.Provider={$$typeof:c,_context:e};return e.Consumer=e};t.createElement=O;t.createFactory=function(e){var t=O.bind(null,e);t.type=e;return t};t.createRef=function(){return{current:null}};t.forwardRef=function(e){return{$$typeof:f,render:e}};t.isValidElement=A;t.lazy=function(e){return{$$typeof:h,_ctor:e,_status:-1,_result:null}};t.memo=function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}};t.useCallback=function(e,t){return G().useCallback(e,t)};t.useContext=function(e,t){return G().useContext(e,t)};t.useDebugValue=function(){};t.useEffect=function(e,t){return G().useEffect(e,t)};t.useImperativeHandle=function(e,t,r){return G().useImperativeHandle(e,t,r)};t.useLayoutEffect=function(e,t){return G().useLayoutEffect(e,t)};t.useMemo=function(e,t){return G().useMemo(e,t)};t.useReducer=function(e,t,r){return G().useReducer(e,t,r)};t.useRef=function(e){return G().useRef(e)};t.useState=function(e){return G().useState(e)};t.version="16.14.0"},79440:(e,t,r)=>{"use strict";true;e.exports=r(34888)},16411:(e,t,r)=>{"use strict";r.r(t);r.d(t,{default:()=>a});function n(e){var t=function t(r){var n=r.dispatch,i=r.getState;return function(t){return function(r){if("function"===typeof r)return r(n,i,e);return t(r)}}};return t}var i=n();i.withExtraArgument=n;const a=i},10397:(e,t,r)=>{"use strict";r.r(t);r.d(t,{applyMiddleware:()=>Y,bindActionCreators:()=>$,combineReducers:()=>H,compose:()=>K,createStore:()=>W});var n="object"==typeof global&&global&&global.Object===Object&&global;const i=n;var a="object"==typeof self&&self&&self.Object===Object&&self;var o=i||a||Function("return this")();const s=o;var l=s.Symbol;const u=l;var c=Object.prototype;var d=c.hasOwnProperty;var f=c.toString;var p=u?u.toStringTag:void 0;function g(e){var t=d.call(e,p),r=e[p];try{e[p]=void 0;var n=true}catch(e){}var i=f.call(e);n&&(t?e[p]=r:delete e[p]);return i}const h=g;var v=Object.prototype;var m=v.toString;function y(e){return m.call(e)}const b=y;var w="[object Null]",_="[object Undefined]";var S=u?u.toStringTag:void 0;function E(e){if(null==e)return void 0===e?_:w;return S&&S in Object(e)?h(e):b(e)}const P=E;function k(e,t){return function(r){return e(t(r))}}const C=k;var O=C(Object.getPrototypeOf,Object);const T=O;function A(e){return null!=e&&"object"==typeof e}const j=A;var D="[object Object]";var L=Function.prototype,R=Object.prototype;var I=L.toString;var x=R.hasOwnProperty;var M=I.call(Object);function V(e){if(!j(e)||P(e)!=D)return false;var t=T(e);if(null===t)return true;var r=x.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&I.call(r)==M}const N=V;var F=r(42310);var B={INIT:"@@redux/INIT"};function W(e,t,r){var n;if("function"===typeof t&&"undefined"===typeof r){r=t;t=void 0}if("undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(W)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var i=e;var a=t;var o=[];var s=o;var l=false;function u(){s===o&&(s=o.slice())}function c(){return a}function d(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.");var t=true;u();s.push(e);return function r(){if(!t)return;t=false;u();var n=s.indexOf(e);s.splice(n,1)}}function f(e){if(!N(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=true;a=i(a,e)}finally{l=false}var t=o=s;for(var r=0;r<t.length;r++){var n=t[r];n()}return e}function p(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");i=e;f({type:B.INIT})}function g(){var e;var t=d;return e={subscribe:function e(r){if("object"!==typeof r)throw new TypeError("Expected the observer to be an object.");function n(){r.next&&r.next(c())}n();var i=t(n);return{unsubscribe:i}}},e[F.Z]=function(){return this},e}f({type:B.INIT});return n={dispatch:f,subscribe:d,getState:c,replaceReducer:p},n[F.Z]=g,n}function G(e,t){var r=t&&t.type;var n=r&&'"'+r.toString()+'"'||"an action";return"Given action "+n+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function q(e,t,r,n){var i=Object.keys(t);var a=r&&r.type===ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===i.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!isPlainObject(e))return"The "+a+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+i.join('", "')+'"';var o=Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)&&!n[e]}));o.forEach((function(e){n[e]=true}));if(o.length>0)return"Unexpected "+(o.length>1?"keys":"key")+' "'+o.join('", "')+'" found in '+a+'. Expected to find one of the known reducer keys instead: "'+i.join('", "')+'". Unexpected keys will be ignored.'}function U(e){Object.keys(e).forEach((function(t){var r=e[t];var n=r(void 0,{type:B.INIT});if("undefined"===typeof n)throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"===typeof r(void 0,{type:i}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+B.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}function H(e){var t=Object.keys(e);var r={};for(var n=0;n<t.length;n++){var i=t[n];false;"function"===typeof e[i]&&(r[i]=e[i])}var a=Object.keys(r);var o=void 0;false;var s=void 0;try{U(r)}catch(e){s=e}return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=arguments[1];if(s)throw s;var i;false;var o=false;var l={};for(var u=0;u<a.length;u++){var c=a[u];var d=r[c];var f=t[c];var p=d(f,n);if("undefined"===typeof p){var g=G(c,n);throw new Error(g)}l[c]=p;o=o||p!==f}return o?l:t}}function z(e,t){return function(){return t(e.apply(void 0,arguments))}}function $(e,t){if("function"===typeof e)return z(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r=Object.keys(e);var n={};for(var i=0;i<r.length;i++){var a=r[i];var o=e[a];"function"===typeof o&&(n[a]=z(o,t))}return n}function K(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];return t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Y(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,i){var a=e(r,n,i);var o=a.dispatch;var s=[];var l={getState:a.getState,dispatch:function e(t){return o(t)}};s=t.map((function(e){return e(l)}));o=K.apply(void 0,s)(a.dispatch);return Z({},a,{dispatch:o})}}}function X(){}false},36354:(e,t,r)=>{"use strict";r.r(t);r.d(t,{MultiDrag:()=>qt,Sortable:()=>rt,Swap:()=>Dt,default:()=>$t});function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),true).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return a(e)}function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return s.apply(this,arguments)}function l(e,t){if(null==e)return{};var r={};var n=Object.keys(e);var i,a;for(a=0;a<n.length;a++){i=n[a];if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function u(e,t){if(null==e)return{};var r=l(e,t);var n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++){n=a[i];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function c(e){return d(e)||f(e)||p(e)||h()}function d(e){if(Array.isArray(e))return g(e)}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var v="1.15.0";function m(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var y=m(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i);var b=m(/Edge/i);var w=m(/firefox/i);var _=m(/safari/i)&&!m(/chrome/i)&&!m(/android/i);var S=m(/iP(ad|od|hone)/i);var E=m(/chrome/i)&&m(/android/i);var P={capture:false,passive:false};function k(e,t,r){e.addEventListener(t,r,!y&&P)}function C(e,t,r){e.removeEventListener(t,r,!y&&P)}function O(e,t){if(!t)return;">"===t[0]&&(t=t.substring(1));if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return false}return false}function T(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function A(e,t,r,n){if(e){r=r||document;do{if(null!=t&&(">"===t[0]?e.parentNode===r&&O(e,t):O(e,t))||n&&e===r)return e;if(e===r)break}while(e=T(e))}return null}var j=/\s+/g;function D(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(j," ").replace(" "+t+" "," ");e.className=(n+(r?" "+t:"")).replace(j," ")}}function L(e,t,r){var n=e&&e.style;if(n){if(void 0===r){document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle);return void 0===t?r:r[t]}t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t);n[t]=r+("string"===typeof r?"":"px")}}function R(e,t){var r="";if("string"===typeof e)r=e;else do{var n=L(e,"transform");n&&"none"!==n&&(r=n+" "+r)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function I(e,t,r){if(e){var n=e.getElementsByTagName(t),i=0,a=n.length;if(r)for(;i<a;i++)r(n[i],i);return n}return[]}function x(){var e=document.scrollingElement;return e||document.documentElement}function M(e,t,r,n,i){if(!e.getBoundingClientRect&&e!==window)return;var a,o,s,l,u,c,d;if(e!==window&&e.parentNode&&e!==x()){a=e.getBoundingClientRect();o=a.top;s=a.left;l=a.bottom;u=a.right;c=a.height;d=a.width}else{o=0;s=0;l=window.innerHeight;u=window.innerWidth;c=window.innerHeight;d=window.innerWidth}if((t||r)&&e!==window){i=i||e.parentNode;if(!y)do{if(i&&i.getBoundingClientRect&&("none"!==L(i,"transform")||r&&"static"!==L(i,"position"))){var f=i.getBoundingClientRect();o-=f.top+parseInt(L(i,"border-top-width"));s-=f.left+parseInt(L(i,"border-left-width"));l=o+a.height;u=s+a.width;break}}while(i=i.parentNode)}if(n&&e!==window){var p=R(i||e),g=p&&p.a,h=p&&p.d;if(p){o/=h;s/=g;d/=g;c/=h;l=o+c;u=s+d}}return{top:o,left:s,bottom:l,right:u,width:d,height:c}}function V(e,t,r){var n=q(e,true),i=M(e)[t];while(n){var a=M(n)[r],o=void 0;o="top"===r||"left"===r?i>=a:i<=a;if(!o)return n;if(n===x())break;n=q(n,false)}return false}function N(e,t,r,n){var i=0,a=0,o=e.children;while(a<o.length){if("none"!==o[a].style.display&&o[a]!==rt.ghost&&(n||o[a]!==rt.dragged)&&A(o[a],r.draggable,e,false)){if(i===t)return o[a];i++}a++}return null}function F(e,t){var r=e.lastElementChild;while(r&&(r===rt.ghost||"none"===L(r,"display")||t&&!O(r,t)))r=r.previousElementSibling;return r||null}function B(e,t){var r=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===rt.clone||t&&!O(e,t)||r++;return r}function W(e){var t=0,r=0,n=x();if(e)do{var i=R(e),a=i.a,o=i.d;t+=e.scrollLeft*a;r+=e.scrollTop*o}while(e!==n&&(e=e.parentNode));return[t,r]}function G(e,t){for(var r in e){if(!e.hasOwnProperty(r))continue;for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[r][n])return Number(r)}return-1}function q(e,t){if(!e||!e.getBoundingClientRect)return x();var r=e;var n=false;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=L(r);if(r.clientWidth<r.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!r.getBoundingClientRect||r===document.body)return x();if(n||t)return r;n=true}}}while(r=r.parentNode);return x()}function U(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function H(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var z;function $(e,t){return function(){if(!z){var r=arguments,n=this;1===r.length?e.call(n,r[0]):e.apply(n,r);z=setTimeout((function(){z=void 0}),t)}}}function K(){clearTimeout(z);z=void 0}function Z(e,t,r){e.scrollLeft+=t;e.scrollTop+=r}function Y(e){var t=window.Polymer;var r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(true):r?r(e).clone(true)[0]:e.cloneNode(true)}function X(e,t){L(e,"position","absolute");L(e,"top",t.top);L(e,"left",t.left);L(e,"width",t.width);L(e,"height",t.height)}function J(e){L(e,"position","");L(e,"top","");L(e,"left","");L(e,"width","");L(e,"height","")}var Q="Sortable"+(new Date).getTime();function ee(){var e=[],t;return{captureAnimationState:function t(){e=[];if(!this.options.animation)return;var r=[].slice.call(this.el.children);r.forEach((function(t){if("none"===L(t,"display")||t===rt.ghost)return;e.push({target:t,rect:M(t)});var r=i({},e[e.length-1].rect);if(t.thisAnimationDuration){var n=R(t,true);if(n){r.top-=n.f;r.left-=n.e}}t.fromRect=r}))},addAnimationState:function t(r){e.push(r)},removeAnimationState:function t(r){e.splice(G(e,{target:r}),1)},animateAll:function r(n){var i=this;if(!this.options.animation){clearTimeout(t);"function"===typeof n&&n();return}var a=false,o=0;e.forEach((function(e){var t=0,r=e.target,n=r.fromRect,s=M(r),l=r.prevFromRect,u=r.prevToRect,c=e.rect,d=R(r,true);if(d){s.top-=d.f;s.left-=d.e}r.toRect=s;r.thisAnimationDuration&&H(l,s)&&!H(n,s)&&(c.top-s.top)/(c.left-s.left)===(n.top-s.top)/(n.left-s.left)&&(t=re(c,l,u,i.options));if(!H(s,n)){r.prevFromRect=n;r.prevToRect=s;t||(t=i.options.animation);i.animate(r,c,s,t)}if(t){a=true;o=Math.max(o,t);clearTimeout(r.animationResetTimer);r.animationResetTimer=setTimeout((function(){r.animationTime=0;r.prevFromRect=null;r.fromRect=null;r.prevToRect=null;r.thisAnimationDuration=null}),t);r.thisAnimationDuration=t}}));clearTimeout(t);a?t=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n();e=[]},animate:function e(t,r,n,i){if(i){L(t,"transition","");L(t,"transform","");var a=R(this.el),o=a&&a.a,s=a&&a.d,l=(r.left-n.left)/(o||1),u=(r.top-n.top)/(s||1);t.animatingX=!!l;t.animatingY=!!u;L(t,"transform","translate3d("+l+"px,"+u+"px,0)");this.forRepaintDummy=te(t);L(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:""));L(t,"transform","translate3d(0,0,0)");"number"===typeof t.animated&&clearTimeout(t.animated);t.animated=setTimeout((function(){L(t,"transition","");L(t,"transform","");t.animated=false;t.animatingX=false;t.animatingY=false}),i)}}}}function te(e){return e.offsetWidth}function re(e,t,r,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*n.animation}var ne=[];var ie={initializeByDefault:true};var ae={mount:function e(t){for(var r in ie)ie.hasOwnProperty(r)&&!(r in t)&&(t[r]=ie[r]);ne.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}));ne.push(t)},pluginEvent:function e(t,r,n){var a=this;this.eventCanceled=false;n.cancel=function(){a.eventCanceled=true};var o=t+"Global";ne.forEach((function(e){if(!r[e.pluginName])return;r[e.pluginName][o]&&r[e.pluginName][o](i({sortable:r},n));r.options[e.pluginName]&&r[e.pluginName][t]&&r[e.pluginName][t](i({sortable:r},n))}))},initializePlugins:function e(t,r,n,i){ne.forEach((function(e){var i=e.pluginName;if(!t.options[i]&&!e.initializeByDefault)return;var a=new e(t,r,t.options);a.sortable=t;a.options=t.options;t[i]=a;s(n,a.defaults)}));for(var a in t.options){if(!t.options.hasOwnProperty(a))continue;var o=this.modifyOption(t,a,t.options[a]);"undefined"!==typeof o&&(t.options[a]=o)}},getEventProperties:function e(t,r){var n={};ne.forEach((function(e){if("function"!==typeof e.eventProperties)return;s(n,e.eventProperties.call(r[e.pluginName],t))}));return n},modifyOption:function e(t,r,n){var i;ne.forEach((function(e){if(!t[e.pluginName])return;e.optionListeners&&"function"===typeof e.optionListeners[r]&&(i=e.optionListeners[r].call(t[e.pluginName],n))}));return i}};function oe(e){var t=e.sortable,r=e.rootEl,n=e.name,a=e.targetEl,o=e.cloneEl,s=e.toEl,l=e.fromEl,u=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,f=e.newDraggableIndex,p=e.originalEvent,g=e.putSortable,h=e.extraEventProperties;t=t||r&&r[Q];if(!t)return;var v,m=t.options,w="on"+n.charAt(0).toUpperCase()+n.substr(1);if(!window.CustomEvent||y||b){v=document.createEvent("Event");v.initEvent(n,true,true)}else v=new CustomEvent(n,{bubbles:true,cancelable:true});v.to=s||r;v.from=l||r;v.item=a||r;v.clone=o;v.oldIndex=u;v.newIndex=c;v.oldDraggableIndex=d;v.newDraggableIndex=f;v.originalEvent=p;v.pullMode=g?g.lastPutMode:void 0;var _=i(i({},h),ae.getEventProperties(n,t));for(var S in _)v[S]=_[S];r&&r.dispatchEvent(v);m[w]&&m[w].call(t,v)}var se=["evt"];var le=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.evt,o=u(n,se);ae.pluginEvent.bind(rt)(t,r,i({dragEl:ce,parentEl:de,ghostEl:fe,rootEl:pe,nextEl:ge,lastDownEl:he,cloneEl:ve,cloneHidden:me,dragStarted:Re,putSortable:Ee,activeSortable:rt.active,originalEvent:a,oldIndex:ye,oldDraggableIndex:we,newIndex:be,newDraggableIndex:_e,hideGhostForTarget:Je,unhideGhostForTarget:Qe,cloneNowHidden:function e(){me=true},cloneNowShown:function e(){me=false},dispatchSortableEvent:function e(t){ue({sortable:r,name:t,originalEvent:a})}},o))};function ue(e){oe(i({putSortable:Ee,cloneEl:ve,targetEl:ce,rootEl:pe,oldIndex:ye,oldDraggableIndex:we,newIndex:be,newDraggableIndex:_e},e))}var ce,de,fe,pe,ge,he,ve,me,ye,be,we,_e,Se,Ee,Pe=false,ke=false,Ce=[],Oe,Te,Ae,je,De,Le,Re,Ie,xe,Me=false,Ve=false,Ne,Fe,Be=[],We=false,Ge=[];var qe="undefined"!==typeof document,Ue=S,He=b||y?"cssFloat":"float",ze=qe&&!E&&!S&&"draggable"in document.createElement("div"),$e=function(){if(!qe)return;if(y)return false;var e=document.createElement("x");e.style.cssText="pointer-events:auto";return"auto"===e.style.pointerEvents}(),Ke=function e(t,r){var n=L(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=N(t,0,r),o=N(t,1,r),s=a&&L(a),l=o&&L(o),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+M(a).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+M(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&s["float"]&&"none"!==s["float"]){var d="left"===s["float"]?"left":"right";return!o||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return a&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||u>=i&&"none"===n[He]||o&&"none"===n[He]&&u+c>i)?"vertical":"horizontal"},Ze=function e(t,r,n){var i=n?t.left:t.top,a=n?t.right:t.bottom,o=n?t.width:t.height,s=n?r.left:r.top,l=n?r.right:r.bottom,u=n?r.width:r.height;return i===s||a===l||i+o/2===s+u/2},Ye=function e(t,r){var n;Ce.some((function(e){var i=e[Q].options.emptyInsertThreshold;if(!i||F(e))return;var a=M(e),o=t>=a.left-i&&t<=a.right+i,s=r>=a.top-i&&r<=a.bottom+i;if(o&&s)return n=e}));return n},Xe=function e(t){function r(e,t){return function(n,i,a,o){var s=n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name;if(null==e&&(t||s))return true;if(null==e||false===e)return false;if(t&&"clone"===e)return e;if("function"===typeof e)return r(e(n,i,a,o),t)(n,i,a,o);var l=(t?n:i).options.group.name;return true===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={};var i=t.group;i&&"object"==a(i)||(i={name:i});n.name=i.name;n.checkPull=r(i.pull,true);n.checkPut=r(i.put);n.revertClone=i.revertClone;t.group=n},Je=function e(){!$e&&fe&&L(fe,"display","none")},Qe=function e(){!$e&&fe&&L(fe,"display","")};qe&&!E&&document.addEventListener("click",(function(e){if(ke){e.preventDefault();e.stopPropagation&&e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();ke=false;return false}}),true);var et=function e(t){if(ce){t=t.touches?t.touches[0]:t;var r=Ye(t.clientX,t.clientY);if(r){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=r;n.preventDefault=void 0;n.stopPropagation=void 0;r[Q]._onDragOver(n)}}};var tt=function e(t){ce&&ce.parentNode[Q]._isOutsideThisEl(t.target)};function rt(e,t){if(!(e&&e.nodeType&&1===e.nodeType))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e;this.options=t=s({},t);e[Q]=this;var r={group:null,sort:true,disabled:false,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:false,invertedSwapThreshold:null,removeCloneOnHide:true,direction:function t(){return Ke(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:true,animation:0,easing:null,setData:function e(t,r){t.setData("Text",r.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:false,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:false,fallbackClass:"sortable-fallback",fallbackOnBody:false,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:false!==rt.supportPointer&&"PointerEvent"in window&&!_,emptyInsertThreshold:5};ae.initializePlugins(this,e,r);for(var n in r)!(n in t)&&(t[n]=r[n]);Xe(t);for(var i in this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&ze;this.nativeDraggable&&(this.options.touchStartThreshold=1);if(t.supportPointer)k(e,"pointerdown",this._onTapStart);else{k(e,"mousedown",this._onTapStart);k(e,"touchstart",this._onTapStart)}if(this.nativeDraggable){k(e,"dragover",this);k(e,"dragenter",this)}Ce.push(this.el);t.store&&t.store.get&&this.sort(t.store.get(this)||[]);s(this,ee())}rt.prototype={constructor:rt,_isOutsideThisEl:function e(t){this.el.contains(t)||t===this.el||(Ie=null)},_getDirection:function e(t,r){return"function"===typeof this.options.direction?this.options.direction.call(this,t,r,ce):this.options.direction},_onTapStart:function e(t){if(!t.cancelable)return;var r=this,n=this.el,i=this.options,a=i.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,l=(s||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=i.filter;ft(n);if(ce)return;if(/mousedown|pointerdown/.test(o)&&0!==t.button||i.disabled)return;if(u.isContentEditable)return;if(!this.nativeDraggable&&_&&l&&"SELECT"===l.tagName.toUpperCase())return;l=A(l,i.draggable,n,false);if(l&&l.animated)return;if(he===l)return;ye=B(l);we=B(l,i.draggable);if("function"===typeof c){if(c.call(this,t,l,this)){ue({sortable:r,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n});le("filter",r,{evt:t});a&&t.cancelable&&t.preventDefault();return}}else if(c){c=c.split(",").some((function(e){e=A(u,e.trim(),n,false);if(e){ue({sortable:r,rootEl:e,name:"filter",targetEl:l,fromEl:n,toEl:n});le("filter",r,{evt:t});return true}}));if(c){a&&t.cancelable&&t.preventDefault();return}}if(i.handle&&!A(u,i.handle,n,false))return;this._prepareDragStart(t,s,l)},_prepareDragStart:function e(t,r,n){var i=this,a=i.el,o=i.options,s=a.ownerDocument,l;if(n&&!ce&&n.parentNode===a){var u=M(n);pe=a;ce=n;de=ce.parentNode;ge=ce.nextSibling;he=n;Se=o.group;rt.dragged=ce;Oe={target:ce,clientX:(r||t).clientX,clientY:(r||t).clientY};De=Oe.clientX-u.left;Le=Oe.clientY-u.top;this._lastX=(r||t).clientX;this._lastY=(r||t).clientY;ce.style["will-change"]="all";l=function e(){le("delayEnded",i,{evt:t});if(rt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents();!w&&i.nativeDraggable&&(ce.draggable=true);i._triggerDragStart(t,r);ue({sortable:i,name:"choose",originalEvent:t});D(ce,o.chosenClass,true)};o.ignore.split(",").forEach((function(e){I(ce,e.trim(),at)}));k(s,"dragover",et);k(s,"mousemove",et);k(s,"touchmove",et);k(s,"mouseup",i._onDrop);k(s,"touchend",i._onDrop);k(s,"touchcancel",i._onDrop);if(w&&this.nativeDraggable){this.options.touchStartThreshold=4;ce.draggable=true}le("delayStart",this,{evt:t});if(!o.delay||o.delayOnTouchOnly&&!r||this.nativeDraggable&&(b||y))l();else{if(rt.eventCanceled){this._onDrop();return}k(s,"mouseup",i._disableDelayedDrag);k(s,"touchend",i._disableDelayedDrag);k(s,"touchcancel",i._disableDelayedDrag);k(s,"mousemove",i._delayedDragTouchMoveHandler);k(s,"touchmove",i._delayedDragTouchMoveHandler);o.supportPointer&&k(s,"pointermove",i._delayedDragTouchMoveHandler);i._dragStartTimer=setTimeout(l,o.delay)}}},_delayedDragTouchMoveHandler:function e(t){var r=t.touches?t.touches[0]:t;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function e(){ce&&at(ce);clearTimeout(this._dragStartTimer);this._disableDelayedDragEvents()},_disableDelayedDragEvents:function e(){var t=this.el.ownerDocument;C(t,"mouseup",this._disableDelayedDrag);C(t,"touchend",this._disableDelayedDrag);C(t,"touchcancel",this._disableDelayedDrag);C(t,"mousemove",this._delayedDragTouchMoveHandler);C(t,"touchmove",this._delayedDragTouchMoveHandler);C(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function e(t,r){r=r||"touch"==t.pointerType&&t;if(!this.nativeDraggable||r)this.options.supportPointer?k(document,"pointermove",this._onTouchMove):k(document,r?"touchmove":"mousemove",this._onTouchMove);else{k(ce,"dragend",this);k(pe,"dragstart",this._onDragStart)}try{document.selection?pt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function e(t,r){Pe=false;if(pe&&ce){le("dragStarted",this,{evt:r});this.nativeDraggable&&k(document,"dragover",tt);var n=this.options;!t&&D(ce,n.dragClass,false);D(ce,n.ghostClass,true);rt.active=this;t&&this._appendGhost();ue({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function e(){if(Te){this._lastX=Te.clientX;this._lastY=Te.clientY;Je();var t=document.elementFromPoint(Te.clientX,Te.clientY);var r=t;while(t&&t.shadowRoot){t=t.shadowRoot.elementFromPoint(Te.clientX,Te.clientY);if(t===r)break;r=t}ce.parentNode[Q]._isOutsideThisEl(t);if(r)do{if(r[Q]){var n=void 0;n=r[Q]._onDragOver({clientX:Te.clientX,clientY:Te.clientY,target:t,rootEl:r});if(n&&!this.options.dragoverBubble)break}t=r}while(r=r.parentNode);Qe()}},_onTouchMove:function e(t){if(Oe){var r=this.options,n=r.fallbackTolerance,i=r.fallbackOffset,a=t.touches?t.touches[0]:t,o=fe&&R(fe,true),s=fe&&o&&o.a,l=fe&&o&&o.d,u=Ue&&Fe&&W(Fe),c=(a.clientX-Oe.clientX+i.x)/(s||1)+(u?u[0]-Be[0]:0)/(s||1),d=(a.clientY-Oe.clientY+i.y)/(l||1)+(u?u[1]-Be[1]:0)/(l||1);if(!rt.active&&!Pe){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(t,true)}if(fe){if(o){o.e+=c-(Ae||0);o.f+=d-(je||0)}else o={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");L(fe,"webkitTransform",f);L(fe,"mozTransform",f);L(fe,"msTransform",f);L(fe,"transform",f);Ae=c;je=d;Te=a}t.cancelable&&t.preventDefault()}},_appendGhost:function e(){if(!fe){var t=this.options.fallbackOnBody?document.body:pe,r=M(ce,true,Ue,true,t),n=this.options;if(Ue){Fe=t;while("static"===L(Fe,"position")&&"none"===L(Fe,"transform")&&Fe!==document)Fe=Fe.parentNode;if(Fe!==document.body&&Fe!==document.documentElement){Fe===document&&(Fe=x());r.top+=Fe.scrollTop;r.left+=Fe.scrollLeft}else Fe=x();Be=W(Fe)}fe=ce.cloneNode(true);D(fe,n.ghostClass,false);D(fe,n.fallbackClass,true);D(fe,n.dragClass,true);L(fe,"transition","");L(fe,"transform","");L(fe,"box-sizing","border-box");L(fe,"margin",0);L(fe,"top",r.top);L(fe,"left",r.left);L(fe,"width",r.width);L(fe,"height",r.height);L(fe,"opacity","0.8");L(fe,"position",Ue?"absolute":"fixed");L(fe,"zIndex","100000");L(fe,"pointerEvents","none");rt.ghost=fe;t.appendChild(fe);L(fe,"transform-origin",De/parseInt(fe.style.width)*100+"% "+Le/parseInt(fe.style.height)*100+"%")}},_onDragStart:function e(t,r){var n=this;var i=t.dataTransfer;var a=n.options;le("dragStart",this,{evt:t});if(rt.eventCanceled){this._onDrop();return}le("setupClone",this);if(!rt.eventCanceled){ve=Y(ce);ve.removeAttribute("id");ve.draggable=false;ve.style["will-change"]="";this._hideClone();D(ve,this.options.chosenClass,false);rt.clone=ve}n.cloneId=pt((function(){le("clone",n);if(rt.eventCanceled)return;n.options.removeCloneOnHide||pe.insertBefore(ve,ce);n._hideClone();ue({sortable:n,name:"clone"})}));!r&&D(ce,a.dragClass,true);if(r){ke=true;n._loopId=setInterval(n._emulateDragOver,50)}else{C(document,"mouseup",n._onDrop);C(document,"touchend",n._onDrop);C(document,"touchcancel",n._onDrop);if(i){i.effectAllowed="move";a.setData&&a.setData.call(n,i,ce)}k(document,"drop",n);L(ce,"transform","translateZ(0)")}Pe=true;n._dragStartId=pt(n._dragStarted.bind(n,r,t));k(document,"selectstart",n);Re=true;_&&L(document.body,"user-select","none")},_onDragOver:function e(t){var r=this.el,n=t.target,a,o,s,l=this.options,u=l.group,c=rt.active,d=Se===u,f=l.sort,p=Ee||c,g,h=this,v=false;if(We)return;function m(e,l){le(e,h,i({evt:t,isOwner:d,axis:g?"vertical":"horizontal",revert:s,dragRect:a,targetRect:o,canSort:f,fromSortable:p,target:n,completed:b,onMove:function e(n,i){return it(pe,r,ce,a,n,M(n),t,i)},changed:w},l))}function y(){m("dragOverAnimationCapture");h.captureAnimationState();h!==p&&p.captureAnimationState()}function b(e){m("dragOverCompleted",{insertion:e});if(e){d?c._hideClone():c._showClone(h);if(h!==p){D(ce,Ee?Ee.options.ghostClass:c.options.ghostClass,false);D(ce,l.ghostClass,true)}Ee!==h&&h!==rt.active?Ee=h:h===rt.active&&Ee&&(Ee=null);p===h&&(h._ignoreWhileAnimating=n);h.animateAll((function(){m("dragOverAnimationComplete");h._ignoreWhileAnimating=null}));if(h!==p){p.animateAll();p._ignoreWhileAnimating=null}}(n===ce&&!ce.animated||n===r&&!n.animated)&&(Ie=null);if(!l.dragoverBubble&&!t.rootEl&&n!==document){ce.parentNode[Q]._isOutsideThisEl(t.target);!e&&et(t)}!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation();return v=true}function w(){be=B(ce);_e=B(ce,l.draggable);ue({sortable:h,name:"change",toEl:r,newIndex:be,newDraggableIndex:_e,originalEvent:t})}void 0!==t.preventDefault&&t.cancelable&&t.preventDefault();n=A(n,l.draggable,r,true);m("dragOver");if(rt.eventCanceled)return v;if(ce.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||h._ignoreWhileAnimating===n)return b(false);ke=false;if(c&&!l.disabled&&(d?f||(s=de!==pe):Ee===this||(this.lastPutMode=Se.checkPull(this,c,ce,t))&&u.checkPut(this,c,ce,t))){g="vertical"===this._getDirection(t,n);a=M(ce);m("dragOverValid");if(rt.eventCanceled)return v;if(s){de=pe;y();this._hideClone();m("revert");rt.eventCanceled||(ge?pe.insertBefore(ce,ge):pe.appendChild(ce));return b(true)}var _=F(r,l.draggable);if(!_||lt(t,g,this)&&!_.animated){if(_===ce)return b(false);_&&r===t.target&&(n=_);n&&(o=M(n));if(false!==it(pe,r,ce,a,n,o,t,!!n)){y();_&&_.nextSibling?r.insertBefore(ce,_.nextSibling):r.appendChild(ce);de=r;w();return b(true)}}else if(_&&st(t,g,this)){var S=N(r,0,l,true);if(S===ce)return b(false);n=S;o=M(n);if(false!==it(pe,r,ce,a,n,o,t,false)){y();r.insertBefore(ce,S);de=r;w();return b(true)}}else if(n.parentNode===r){o=M(n);var E=0,P,k=ce.parentNode!==r,C=!Ze(ce.animated&&ce.toRect||a,n.animated&&n.toRect||o,g),O=g?"top":"left",T=V(n,"top","top")||V(ce,"top","top"),j=T?T.scrollTop:void 0;if(Ie!==n){P=o[O];Me=false;Ve=!C&&l.invertSwap||k}E=ut(t,n,o,g,C?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ve,Ie===n);var R;if(0!==E){var I=B(ce);do{I-=E;R=de.children[I]}while(R&&("none"===L(R,"display")||R===fe))}if(0===E||R===n)return b(false);Ie=n;xe=E;var x=n.nextElementSibling,W=false;W=1===E;var G=it(pe,r,ce,a,n,o,t,W);if(false!==G){1!==G&&-1!==G||(W=1===G);We=true;setTimeout(ot,30);y();W&&!x?r.appendChild(ce):n.parentNode.insertBefore(ce,W?x:n);T&&Z(T,0,j-T.scrollTop);de=ce.parentNode;void 0===P||Ve||(Ne=Math.abs(P-M(n)[O]));w();return b(true)}}if(r.contains(ce))return b(false)}return false},_ignoreWhileAnimating:null,_offMoveEvents:function e(){C(document,"mousemove",this._onTouchMove);C(document,"touchmove",this._onTouchMove);C(document,"pointermove",this._onTouchMove);C(document,"dragover",et);C(document,"mousemove",et);C(document,"touchmove",et)},_offUpEvents:function e(){var t=this.el.ownerDocument;C(t,"mouseup",this._onDrop);C(t,"touchend",this._onDrop);C(t,"pointerup",this._onDrop);C(t,"touchcancel",this._onDrop);C(document,"selectstart",this)},_onDrop:function e(t){var r=this.el,n=this.options;be=B(ce);_e=B(ce,n.draggable);le("drop",this,{evt:t});de=ce&&ce.parentNode;be=B(ce);_e=B(ce,n.draggable);if(rt.eventCanceled){this._nulling();return}Pe=false;Ve=false;Me=false;clearInterval(this._loopId);clearTimeout(this._dragStartTimer);gt(this.cloneId);gt(this._dragStartId);if(this.nativeDraggable){C(document,"drop",this);C(r,"dragstart",this._onDragStart)}this._offMoveEvents();this._offUpEvents();_&&L(document.body,"user-select","");L(ce,"transform","");if(t){if(Re){t.cancelable&&t.preventDefault();!n.dropBubble&&t.stopPropagation()}fe&&fe.parentNode&&fe.parentNode.removeChild(fe);(pe===de||Ee&&"clone"!==Ee.lastPutMode)&&ve&&ve.parentNode&&ve.parentNode.removeChild(ve);if(ce){this.nativeDraggable&&C(ce,"dragend",this);at(ce);ce.style["will-change"]="";Re&&!Pe&&D(ce,Ee?Ee.options.ghostClass:this.options.ghostClass,false);D(ce,this.options.chosenClass,false);ue({sortable:this,name:"unchoose",toEl:de,newIndex:null,newDraggableIndex:null,originalEvent:t});if(pe!==de){if(be>=0){ue({rootEl:de,name:"add",toEl:de,fromEl:pe,originalEvent:t});ue({sortable:this,name:"remove",toEl:de,originalEvent:t});ue({rootEl:de,name:"sort",toEl:de,fromEl:pe,originalEvent:t});ue({sortable:this,name:"sort",toEl:de,originalEvent:t})}Ee&&Ee.save()}else if(be!==ye&&be>=0){ue({sortable:this,name:"update",toEl:de,originalEvent:t});ue({sortable:this,name:"sort",toEl:de,originalEvent:t})}if(rt.active){if(null==be||-1===be){be=ye;_e=we}ue({sortable:this,name:"end",toEl:de,originalEvent:t});this.save()}}}this._nulling()},_nulling:function e(){le("nulling",this);pe=ce=de=fe=ge=ve=he=me=Oe=Te=Re=be=_e=ye=we=Ie=xe=Ee=Se=rt.dragged=rt.ghost=rt.clone=rt.active=null;Ge.forEach((function(e){e.checked=true}));Ge.length=Ae=je=0},handleEvent:function e(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":if(ce){this._onDragOver(t);nt(t)}break;case"selectstart":t.preventDefault();break}},toArray:function e(){var t=[],r,n=this.el.children,i=0,a=n.length,o=this.options;for(;i<a;i++){r=n[i];A(r,o.draggable,this.el,false)&&t.push(r.getAttribute(o.dataIdAttr)||dt(r))}return t},sort:function e(t,r){var n={},i=this.el;this.toArray().forEach((function(e,t){var r=i.children[t];A(r,this.options.draggable,i,false)&&(n[e]=r)}),this);r&&this.captureAnimationState();t.forEach((function(e){if(n[e]){i.removeChild(n[e]);i.appendChild(n[e])}}));r&&this.animateAll()},save:function e(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function e(t,r){return A(t,r||this.options.draggable,this.el,false)},option:function e(t,r){var n=this.options;if(void 0===r)return n[t];var i=ae.modifyOption(this,t,r);n[t]="undefined"!==typeof i?i:r;"group"===t&&Xe(n)},destroy:function e(){le("destroy",this);var t=this.el;t[Q]=null;C(t,"mousedown",this._onTapStart);C(t,"touchstart",this._onTapStart);C(t,"pointerdown",this._onTapStart);if(this.nativeDraggable){C(t,"dragover",this);C(t,"dragenter",this)}Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")}));this._onDrop();this._disableDelayedDragEvents();Ce.splice(Ce.indexOf(this.el),1);this.el=t=null},_hideClone:function e(){if(!me){le("hideClone",this);if(rt.eventCanceled)return;L(ve,"display","none");this.options.removeCloneOnHide&&ve.parentNode&&ve.parentNode.removeChild(ve);me=true}},_showClone:function e(t){if("clone"!==t.lastPutMode){this._hideClone();return}if(me){le("showClone",this);if(rt.eventCanceled)return;ce.parentNode!=pe||this.options.group.revertClone?ge?pe.insertBefore(ve,ge):pe.appendChild(ve):pe.insertBefore(ve,ce);this.options.group.revertClone&&this.animate(ce,ve);L(ve,"display","");me=false}}};function nt(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}function it(e,t,r,n,i,a,o,s){var l,u=e[Q],c=u.options.onMove,d;if(!window.CustomEvent||y||b){l=document.createEvent("Event");l.initEvent("move",true,true)}else l=new CustomEvent("move",{bubbles:true,cancelable:true});l.to=t;l.from=e;l.dragged=r;l.draggedRect=n;l.related=i||t;l.relatedRect=a||M(t);l.willInsertAfter=s;l.originalEvent=o;e.dispatchEvent(l);c&&(d=c.call(u,l,o));return d}function at(e){e.draggable=false}function ot(){We=false}function st(e,t,r){var n=M(N(r.el,0,r.options,true));var i=10;return t?e.clientX<n.left-i||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-i||e.clientY<n.bottom&&e.clientX<n.left}function lt(e,t,r){var n=M(F(r.el,r.options.draggable));var i=10;return t?e.clientX>n.right+i||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+i}function ut(e,t,r,n,i,a,o,s){var l=n?e.clientY:e.clientX,u=n?r.height:r.width,c=n?r.top:r.left,d=n?r.bottom:r.right,f=false;if(!o)if(s&&Ne<u*i){!Me&&(1===xe?l>c+u*a/2:l<d-u*a/2)&&(Me=true);if(Me)f=true;else if(1===xe?l<c+Ne:l>d-Ne)return-xe}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return ct(t);f=f||o;if(f&&(l<c+u*a/2||l>d-u*a/2))return l>c+u/2?1:-1;return 0}function ct(e){return B(ce)<B(e)?1:-1}function dt(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,n=0;while(r--)n+=t.charCodeAt(r);return n.toString(36)}function ft(e){Ge.length=0;var t=e.getElementsByTagName("input");var r=t.length;while(r--){var n=t[r];n.checked&&Ge.push(n)}}function pt(e){return setTimeout(e,0)}function gt(e){return clearTimeout(e)}qe&&k(document,"touchmove",(function(e){(rt.active||Pe)&&e.cancelable&&e.preventDefault()}));rt.utils={on:k,off:C,css:L,find:I,is:function e(t,r){return!!A(t,r,t,false)},extend:U,throttle:$,closest:A,toggleClass:D,clone:Y,index:B,nextTick:pt,cancelNextTick:gt,detectDirection:Ke,getChild:N};rt.get=function(e){return e[Q]};rt.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]);t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(rt.utils=i(i({},rt.utils),e.utils));ae.mount(e)}))};rt.create=function(e,t){return new rt(e,t)};rt.version=v;var ht=[],vt,mt,yt=false,bt,wt,_t,St;function Et(){function e(){this.defaults={scroll:true,forceAutoScrollFallback:false,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:true};for(var e in this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}e.prototype={dragStarted:function e(t){var r=t.originalEvent;this.sortable.nativeDraggable?k(document,"dragover",this._handleAutoScroll):this.options.supportPointer?k(document,"pointermove",this._handleFallbackAutoScroll):r.touches?k(document,"touchmove",this._handleFallbackAutoScroll):k(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function e(t){var r=t.originalEvent;this.options.dragOverBubble||r.rootEl||this._handleAutoScroll(r)},drop:function e(){if(this.sortable.nativeDraggable)C(document,"dragover",this._handleAutoScroll);else{C(document,"pointermove",this._handleFallbackAutoScroll);C(document,"touchmove",this._handleFallbackAutoScroll);C(document,"mousemove",this._handleFallbackAutoScroll)}kt();Pt();K()},nulling:function e(){_t=mt=vt=yt=St=bt=wt=null;ht.length=0},_handleFallbackAutoScroll:function e(t){this._handleAutoScroll(t,true)},_handleAutoScroll:function e(t,r){var n=this;var i=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(i,a);_t=t;if(r||this.options.forceAutoScrollFallback||b||y||_){Ct(t,this.options,o,r);var s=q(o,true);if(yt&&(!St||i!==bt||a!==wt)){St&&kt();St=setInterval((function(){var e=q(document.elementFromPoint(i,a),true);if(e!==s){s=e;Pt()}Ct(t,n.options,e,r)}),10);bt=i;wt=a}}else{if(!this.options.bubbleScroll||q(o,true)===x()){Pt();return}Ct(t,this.options,q(o,false),false)}}};return s(e,{pluginName:"scroll",initializeByDefault:true})}function Pt(){ht.forEach((function(e){clearInterval(e.pid)}));ht=[]}function kt(){clearInterval(St)}var Ct=$((function(e,t,r,n){if(!t.scroll)return;var i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,s=t.scrollSpeed,l=x();var u=false,c;if(mt!==r){mt=r;Pt();vt=t.scroll;c=t.scrollFn;true===vt&&(vt=q(r,true))}var d=0;var f=vt;do{var p=f,g=M(p),h=g.top,v=g.bottom,m=g.left,y=g.right,b=g.width,w=g.height,_=void 0,S=void 0,E=p.scrollWidth,P=p.scrollHeight,k=L(p),C=p.scrollLeft,O=p.scrollTop;if(p===l){_=b<E&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX);S=w<P&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)}else{_=b<E&&("auto"===k.overflowX||"scroll"===k.overflowX);S=w<P&&("auto"===k.overflowY||"scroll"===k.overflowY)}var T=_&&(Math.abs(y-i)<=o&&C+b<E)-(Math.abs(m-i)<=o&&!!C);var A=S&&(Math.abs(v-a)<=o&&O+w<P)-(Math.abs(h-a)<=o&&!!O);if(!ht[d])for(var j=0;j<=d;j++)ht[j]||(ht[j]={});if(ht[d].vx!=T||ht[d].vy!=A||ht[d].el!==p){ht[d].el=p;ht[d].vx=T;ht[d].vy=A;clearInterval(ht[d].pid);if(0!=T||0!=A){u=true;ht[d].pid=setInterval(function(){n&&0===this.layer&&rt.active._onTouchMove(_t);var t=ht[this.layer].vy?ht[this.layer].vy*s:0;var r=ht[this.layer].vx?ht[this.layer].vx*s:0;if("function"===typeof c&&"continue"!==c.call(rt.dragged.parentNode[Q],r,t,e,_t,ht[this.layer].el))return;Z(ht[this.layer].el,r,t)}.bind({layer:d}),24)}}d++}while(t.bubbleScroll&&f!==l&&(f=q(f,false)));yt=u}),30);var Ot=function e(t){var r=t.originalEvent,n=t.putSortable,i=t.dragEl,a=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(!r)return;var u=n||a;s();var c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r;var d=document.elementFromPoint(c.clientX,c.clientY);l();if(u&&!u.el.contains(d)){o("spill");this.onSpill({dragEl:i,putSortable:n})}};function Tt(){}Tt.prototype={startIndex:null,dragStart:function e(t){var r=t.oldDraggableIndex;this.startIndex=r},onSpill:function e(t){var r=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState();n&&n.captureAnimationState();var i=N(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(r,i):this.sortable.el.appendChild(r);this.sortable.animateAll();n&&n.animateAll()},drop:Ot};s(Tt,{pluginName:"revertOnSpill"});function At(){}At.prototype={onSpill:function e(t){var r=t.dragEl,n=t.putSortable;var i=n||this.sortable;i.captureAnimationState();r.parentNode&&r.parentNode.removeChild(r);i.animateAll()},drop:Ot};s(At,{pluginName:"removeOnSpill"});var jt;function Dt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}e.prototype={dragStart:function e(t){var r=t.dragEl;jt=r},dragOverValid:function e(t){var r=t.completed,n=t.target,i=t.onMove,a=t.activeSortable,o=t.changed,s=t.cancel;if(!a.options.swap)return;var l=this.sortable.el,u=this.options;if(n&&n!==l){var c=jt;if(false!==i(n)){D(n,u.swapClass,true);jt=n}else jt=null;c&&c!==jt&&D(c,u.swapClass,false)}o();r(true);s()},drop:function e(t){var r=t.activeSortable,n=t.putSortable,i=t.dragEl;var a=n||this.sortable;var o=this.options;jt&&D(jt,o.swapClass,false);if(jt&&(o.swap||n&&n.options.swap)&&i!==jt){a.captureAnimationState();a!==r&&r.captureAnimationState();Lt(i,jt);a.animateAll();a!==r&&r.animateAll()}},nulling:function e(){jt=null}};return s(e,{pluginName:"swap",eventProperties:function e(){return{swapItem:jt}}})}function Lt(e,t){var r=e.parentNode,n=t.parentNode,i,a;if(!r||!n||r.isEqualNode(t)||n.isEqualNode(e))return;i=B(e);a=B(t);r.isEqualNode(n)&&i<a&&a++;r.insertBefore(t,r.children[i]);n.insertBefore(e,n.children[a])}var Rt=[],It=[],xt,Mt,Vt=false,Nt=false,Ft=false,Bt,Wt,Gt;function qt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this));if(!e.options.avoidImplicitDeselect)if(e.options.supportPointer)k(document,"pointerup",this._deselectMultiDrag);else{k(document,"mouseup",this._deselectMultiDrag);k(document,"touchend",this._deselectMultiDrag)}k(document,"keydown",this._checkKeyDown);k(document,"keyup",this._checkKeyUp);this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:false,setData:function t(r,n){var i="";Rt.length&&Mt===e?Rt.forEach((function(e,t){i+=(t?", ":"")+e.textContent})):i=n.textContent;r.setData("Text",i)}}}e.prototype={multiDragKeyDown:false,isMultiDrag:false,delayStartGlobal:function e(t){var r=t.dragEl;Bt=r},delayEnded:function e(){this.isMultiDrag=~Rt.indexOf(Bt)},setupClone:function e(t){var r=t.sortable,n=t.cancel;if(!this.isMultiDrag)return;for(var i=0;i<Rt.length;i++){It.push(Y(Rt[i]));It[i].sortableIndex=Rt[i].sortableIndex;It[i].draggable=false;It[i].style["will-change"]="";D(It[i],this.options.selectedClass,false);Rt[i]===Bt&&D(It[i],this.options.chosenClass,false)}r._hideClone();n()},clone:function e(t){var r=t.sortable,n=t.rootEl,i=t.dispatchSortableEvent,a=t.cancel;if(!this.isMultiDrag)return;if(!this.options.removeCloneOnHide&&Rt.length&&Mt===r){Ht(true,n);i("clone");a()}},showClone:function e(t){var r=t.cloneNowShown,n=t.rootEl,i=t.cancel;if(!this.isMultiDrag)return;Ht(false,n);It.forEach((function(e){L(e,"display","")}));r();Gt=false;i()},hideClone:function e(t){var r=this;var n=t.sortable,i=t.cloneNowHidden,a=t.cancel;if(!this.isMultiDrag)return;It.forEach((function(e){L(e,"display","none");r.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)}));i();Gt=true;a()},dragStartGlobal:function e(t){var r=t.sortable;!this.isMultiDrag&&Mt&&Mt.multiDrag._deselectMultiDrag();Rt.forEach((function(e){e.sortableIndex=B(e)}));Rt=Rt.sort((function(e,t){return e.sortableIndex-t.sortableIndex}));Ft=true},dragStarted:function e(t){var r=this;var n=t.sortable;if(!this.isMultiDrag)return;if(this.options.sort){n.captureAnimationState();if(this.options.animation){Rt.forEach((function(e){if(e===Bt)return;L(e,"position","absolute")}));var i=M(Bt,false,true,true);Rt.forEach((function(e){if(e===Bt)return;X(e,i)}));Nt=true;Vt=true}}n.animateAll((function(){Nt=false;Vt=false;r.options.animation&&Rt.forEach((function(e){J(e)}));r.options.sort&&zt()}))},dragOver:function e(t){var r=t.target,n=t.completed,i=t.cancel;if(Nt&&~Rt.indexOf(r)){n(false);i()}},revert:function e(t){var r=t.fromSortable,n=t.rootEl,i=t.sortable,a=t.dragRect;if(Rt.length>1){Rt.forEach((function(e){i.addAnimationState({target:e,rect:Nt?M(e):a});J(e);e.fromRect=a;r.removeAnimationState(e)}));Nt=false;Ut(!this.options.removeCloneOnHide,n)}},dragOverCompleted:function e(t){var r=t.sortable,n=t.isOwner,i=t.insertion,a=t.activeSortable,o=t.parentEl,s=t.putSortable;var l=this.options;if(i){n&&a._hideClone();Vt=false;if(l.animation&&Rt.length>1&&(Nt||!n&&!a.options.sort&&!s)){var u=M(Bt,false,true,true);Rt.forEach((function(e){if(e===Bt)return;X(e,u);o.appendChild(e)}));Nt=true}if(!n){Nt||zt();if(Rt.length>1){var c=Gt;a._showClone(r);a.options.animation&&!Gt&&c&&It.forEach((function(e){a.addAnimationState({target:e,rect:Wt});e.fromRect=Wt;e.thisAnimationDuration=null}))}else a._showClone(r)}}},dragOverAnimationCapture:function e(t){var r=t.dragRect,n=t.isOwner,i=t.activeSortable;Rt.forEach((function(e){e.thisAnimationDuration=null}));if(i.options.animation&&!n&&i.multiDrag.isMultiDrag){Wt=s({},r);var a=R(Bt,true);Wt.top-=a.f;Wt.left-=a.e}},dragOverAnimationComplete:function e(){if(Nt){Nt=false;zt()}},drop:function e(t){var r=t.originalEvent,n=t.rootEl,i=t.parentEl,a=t.sortable,o=t.dispatchSortableEvent,s=t.oldIndex,l=t.putSortable;var u=l||this.sortable;if(!r)return;var c=this.options,d=i.children;if(!Ft){c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag();D(Bt,c.selectedClass,!~Rt.indexOf(Bt));if(~Rt.indexOf(Bt)){Rt.splice(Rt.indexOf(Bt),1);xt=null;oe({sortable:a,rootEl:n,name:"deselect",targetEl:Bt,originalEvent:r})}else{Rt.push(Bt);oe({sortable:a,rootEl:n,name:"select",targetEl:Bt,originalEvent:r});if(r.shiftKey&&xt&&a.el.contains(xt)){var f=B(xt),p=B(Bt);if(~f&&~p&&f!==p){var g,h;if(p>f){h=f;g=p}else{h=p;g=f+1}for(;h<g;h++){if(~Rt.indexOf(d[h]))continue;D(d[h],c.selectedClass,true);Rt.push(d[h]);oe({sortable:a,rootEl:n,name:"select",targetEl:d[h],originalEvent:r})}}}else xt=Bt;Mt=u}}if(Ft&&this.isMultiDrag){Nt=false;if((i[Q].options.sort||i!==n)&&Rt.length>1){var v=M(Bt),m=B(Bt,":not(."+this.options.selectedClass+")");!Vt&&c.animation&&(Bt.thisAnimationDuration=null);u.captureAnimationState();if(!Vt){if(c.animation){Bt.fromRect=v;Rt.forEach((function(e){e.thisAnimationDuration=null;if(e!==Bt){var t=Nt?M(e):v;e.fromRect=t;u.addAnimationState({target:e,rect:t})}}))}zt();Rt.forEach((function(e){d[m]?i.insertBefore(e,d[m]):i.appendChild(e);m++}));if(s===B(Bt)){var y=false;Rt.forEach((function(e){if(e.sortableIndex!==B(e)){y=true;return}}));y&&o("update")}}Rt.forEach((function(e){J(e)}));u.animateAll()}Mt=u}(n===i||l&&"clone"!==l.lastPutMode)&&It.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},nullingGlobal:function e(){this.isMultiDrag=Ft=false;It.length=0},destroyGlobal:function e(){this._deselectMultiDrag();C(document,"pointerup",this._deselectMultiDrag);C(document,"mouseup",this._deselectMultiDrag);C(document,"touchend",this._deselectMultiDrag);C(document,"keydown",this._checkKeyDown);C(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function e(t){if("undefined"!==typeof Ft&&Ft)return;if(Mt!==this.sortable)return;if(t&&A(t.target,this.options.draggable,this.sortable.el,false))return;if(t&&0!==t.button)return;while(Rt.length){var r=Rt[0];D(r,this.options.selectedClass,false);Rt.shift();oe({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvent:t})}},_checkKeyDown:function e(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=true)},_checkKeyUp:function e(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=false)}};return s(e,{pluginName:"multiDrag",utils:{select:function e(t){var r=t.parentNode[Q];if(!r||!r.options.multiDrag||~Rt.indexOf(t))return;if(Mt&&Mt!==r){Mt.multiDrag._deselectMultiDrag();Mt=r}D(t,r.options.selectedClass,true);Rt.push(t)},deselect:function e(t){var r=t.parentNode[Q],n=Rt.indexOf(t);if(!r||!r.options.multiDrag||!~n)return;D(t,r.options.selectedClass,false);Rt.splice(n,1)}},eventProperties:function e(){var t=this;var r=[],n=[];Rt.forEach((function(e){r.push({multiDragElement:e,index:e.sortableIndex});var i;i=Nt&&e!==Bt?-1:Nt?B(e,":not(."+t.options.selectedClass+")"):B(e);n.push({multiDragElement:e,index:i})}));return{items:c(Rt),clones:[].concat(It),oldIndicies:r,newIndicies:n}},optionListeners:{multiDragKey:function e(t){t=t.toLowerCase();"ctrl"===t?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1));return t}}})}function Ut(e,t){Rt.forEach((function(r,n){var i=t.children[r.sortableIndex+(e?Number(n):0)];i?t.insertBefore(r,i):t.appendChild(r)}))}function Ht(e,t){It.forEach((function(r,n){var i=t.children[r.sortableIndex+(e?Number(n):0)];i?t.insertBefore(r,i):t.appendChild(r)}))}function zt(){Rt.forEach((function(e){if(e===Bt)return;e.parentNode&&e.parentNode.removeChild(e)}))}rt.mount(new Et);rt.mount(At,Tt);const $t=rt},42310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});function n(e){var t;var r=e.Symbol;if("function"===typeof r)if(r.observable)t=r.observable;else{t=r("observable");r.observable=t}else t="@@observable";return t}e=r.hmd(e);var i;if("undefined"!==typeof self)i=self;else if("undefined"!==typeof window)i=window;else if("undefined"!==typeof r.g)i=r.g;else{true;i=e}var a=n(i);const o=a},61061:(e,t,r)=>{var n;(function(i){var a=/^\s+/,o=/\s+$/,s=0,l=i.round,u=i.min,c=i.max,d=i.random;function f(e,t){e=e||"";t=t||{};if(e instanceof f)return e;if(!(this instanceof f))return new f(e,t);var r=p(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=l(100*this._a)/100,this._format=t.format||r.format;this._gradientType=t.gradientType;this._r<1&&(this._r=l(this._r));this._g<1&&(this._g=l(this._g));this._b<1&&(this._b=l(this._b));this._ok=r.ok;this._tc_id=s++}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e=this.toRgb();var t,r,n,a,o,s;t=e.r/255;r=e.g/255;n=e.b/255;a=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4);o=r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4);s=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4);return.2126*a+.7152*o+.0722*s},setAlpha:function(e){this._a=N(e);this._roundA=l(100*this._a)/100;return this},toHsv:function(){var e=m(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=m(this._r,this._g,this._b);var t=l(360*e.h),r=l(100*e.s),n=l(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b);var t=l(360*e.h),r=l(100*e.s),n=l(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return b(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return w(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*F(this._r,255))+"%",g:l(100*F(this._g,255))+"%",b:l(100*F(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*F(this._r,255))+"%, "+l(100*F(this._g,255))+"%, "+l(100*F(this._b,255))+"%)":"rgba("+l(100*F(this._r,255))+"%, "+l(100*F(this._g,255))+"%, "+l(100*F(this._b,255))+"%, "+this._roundA+")"},toName:function(){if(0===this._a)return"transparent";if(this._a<1)return false;return M[b(this._r,this._g,this._b,true)]||false},toFilter:function(e){var t="#"+_(this._r,this._g,this._b,this._a);var r=t;var n=this._gradientType?"GradientType = 1, ":"";if(e){var i=f(e);r="#"+_(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=false;var n=this._a<1&&this._a>=0;var i=!t&&n&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);if(i){if("name"===e&&0===this._a)return this.toName();return this.toRgbString()}"rgb"===e&&(r=this.toRgbString());"prgb"===e&&(r=this.toPercentageRgbString());"hex"!==e&&"hex6"!==e||(r=this.toHexString());"hex3"===e&&(r=this.toHexString(true));"hex4"===e&&(r=this.toHex8String(true));"hex8"===e&&(r=this.toHex8String());"name"===e&&(r=this.toName());"hsl"===e&&(r=this.toHslString());"hsv"===e&&(r=this.toHsvString());return r||this.toHexString()},clone:function(){return f(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));this._r=r._r;this._g=r._g;this._b=r._b;this.setAlpha(r._a);return this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(S,arguments)},saturate:function(){return this._applyModification(E,arguments)},greyscale:function(){return this._applyModification(P,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(A,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(L,arguments)},triad:function(){return this._applyCombination(j,arguments)},tetrad:function(){return this._applyCombination(D,arguments)}};f.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:H(e[n]));e=r}return f(e,t)};function p(e){var t={r:0,g:0,b:0};var r=1;var n=null;var i=null;var a=null;var o=false;var s=false;"string"==typeof e&&(e=Y(e));if("object"==typeof e){if(Z(e.r)&&Z(e.g)&&Z(e.b)){t=g(e.r,e.g,e.b);o=true;s="%"===String(e.r).substr(-1)?"prgb":"rgb"}else if(Z(e.h)&&Z(e.s)&&Z(e.v)){n=H(e.s);i=H(e.v);t=y(e.h,n,i);o=true;s="hsv"}else if(Z(e.h)&&Z(e.s)&&Z(e.l)){n=H(e.s);a=H(e.l);t=v(e.h,n,a);o=true;s="hsl"}e.hasOwnProperty("a")&&(r=e.a)}r=N(r);return{ok:o,format:e.format||s,r:u(255,c(t.r,0)),g:u(255,c(t.g,0)),b:u(255,c(t.b,0)),a:r}}function g(e,t,r){return{r:255*F(e,255),g:255*F(t,255),b:255*F(r,255)}}function h(e,t,r){e=F(e,255);t=F(t,255);r=F(r,255);var n=c(e,t,r),i=u(e,t,r);var a,o,s=(n+i)/2;if(n==i)a=o=0;else{var l=n-i;o=s>.5?l/(2-n-i):l/(n+i);switch(n){case e:a=(t-r)/l+(t<r?6:0);break;case t:a=(r-e)/l+2;break;case r:a=(e-t)/l+4;break}a/=6}return{h:a,s:o,l:s}}function v(e,t,r){var n,i,a;e=F(e,360);t=F(t,100);r=F(r,100);function o(e,t,r){r<0&&(r+=1);r>1&&(r-=1);if(r<1/6)return e+6*(t-e)*r;if(r<.5)return t;if(r<2/3)return e+(t-e)*(2/3-r)*6;return e}if(0===t)n=i=a=r;else{var s=r<.5?r*(1+t):r+t-r*t;var l=2*r-s;n=o(l,s,e+1/3);i=o(l,s,e);a=o(l,s,e-1/3)}return{r:255*n,g:255*i,b:255*a}}function m(e,t,r){e=F(e,255);t=F(t,255);r=F(r,255);var n=c(e,t,r),i=u(e,t,r);var a,o,s=n;var l=n-i;o=0===n?0:l/n;if(n==i)a=0;else{switch(n){case e:a=(t-r)/l+(t<r?6:0);break;case t:a=(r-e)/l+2;break;case r:a=(e-t)/l+4;break}a/=6}return{h:a,s:o,v:s}}function y(e,t,r){e=6*F(e,360);t=F(t,100);r=F(r,100);var n=i.floor(e),a=e-n,o=r*(1-t),s=r*(1-a*t),l=r*(1-(1-a)*t),u=n%6,c=[r,s,o,o,l,r][u],d=[l,r,r,s,o,o][u],f=[o,o,l,r,r,s][u];return{r:255*c,g:255*d,b:255*f}}function b(e,t,r,n){var i=[U(l(e).toString(16)),U(l(t).toString(16)),U(l(r).toString(16))];if(n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0);return i.join("")}function w(e,t,r,n,i){var a=[U(l(e).toString(16)),U(l(t).toString(16)),U(l(r).toString(16)),U(z(n))];if(i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}function _(e,t,r,n){var i=[U(z(n)),U(l(e).toString(16)),U(l(t).toString(16)),U(l(r).toString(16))];return i.join("")}f.equals=function(e,t){if(!e||!t)return false;return f(e).toRgbString()==f(t).toRgbString()};f.random=function(){return f.fromRatio({r:d(),g:d(),b:d()})};function S(e,t){t=0===t?0:t||10;var r=f(e).toHsl();r.s-=t/100;r.s=B(r.s);return f(r)}function E(e,t){t=0===t?0:t||10;var r=f(e).toHsl();r.s+=t/100;r.s=B(r.s);return f(r)}function P(e){return f(e).desaturate(100)}function k(e,t){t=0===t?0:t||10;var r=f(e).toHsl();r.l+=t/100;r.l=B(r.l);return f(r)}function C(e,t){t=0===t?0:t||10;var r=f(e).toRgb();r.r=c(0,u(255,r.r-l(-t/100*255)));r.g=c(0,u(255,r.g-l(-t/100*255)));r.b=c(0,u(255,r.b-l(-t/100*255)));return f(r)}function O(e,t){t=0===t?0:t||10;var r=f(e).toHsl();r.l-=t/100;r.l=B(r.l);return f(r)}function T(e,t){var r=f(e).toHsl();var n=(r.h+t)%360;r.h=n<0?360+n:n;return f(r)}function A(e){var t=f(e).toHsl();t.h=(t.h+180)%360;return f(t)}function j(e){var t=f(e).toHsl();var r=t.h;return[f(e),f({h:(r+120)%360,s:t.s,l:t.l}),f({h:(r+240)%360,s:t.s,l:t.l})]}function D(e){var t=f(e).toHsl();var r=t.h;return[f(e),f({h:(r+90)%360,s:t.s,l:t.l}),f({h:(r+180)%360,s:t.s,l:t.l}),f({h:(r+270)%360,s:t.s,l:t.l})]}function L(e){var t=f(e).toHsl();var r=t.h;return[f(e),f({h:(r+72)%360,s:t.s,l:t.l}),f({h:(r+216)%360,s:t.s,l:t.l})]}function R(e,t,r){t=t||6;r=r||30;var n=f(e).toHsl();var i=360/r;var a=[f(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;){n.h=(n.h+i)%360;a.push(f(n))}return a}function I(e,t){t=t||6;var r=f(e).toHsv();var n=r.h,i=r.s,a=r.v;var o=[];var s=1/t;while(t--){o.push(f({h:n,s:i,v:a}));a=(a+s)%1}return o}f.mix=function(e,t,r){r=0===r?0:r||50;var n=f(e).toRgb();var i=f(t).toRgb();var a=r/100;var o={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return f(o)};f.readability=function(e,t){var r=f(e);var n=f(t);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)};f.isReadable=function(e,t,r){var n=f.readability(e,t);var i,a;a=false;i=X(r);switch(i.level+i.size){case"AAsmall":case"AAAlarge":a=n>=4.5;break;case"AAlarge":a=n>=3;break;case"AAAsmall":a=n>=7;break}return a};f.mostReadable=function(e,t,r){var n=null;var i=0;var a;var o,s,l;r=r||{};o=r.includeFallbackColors;s=r.level;l=r.size;for(var u=0;u<t.length;u++){a=f.readability(e,t[u]);if(a>i){i=a;n=f(t[u])}}if(f.isReadable(e,n,{level:s,size:l})||!o)return n;r.includeFallbackColors=false;return f.mostReadable(e,["#fff","#000"],r)};var x=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var M=f.hexNames=V(x);function V(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function N(e){e=parseFloat(e);(isNaN(e)||e<0||e>1)&&(e=1);return e}function F(e,t){G(e)&&(e="100%");var r=q(e);e=u(t,c(0,parseFloat(e)));r&&(e=parseInt(e*t,10)/100);if(i.abs(e-t)<1e-6)return 1;return e%t/parseFloat(t)}function B(e){return u(1,c(0,e))}function W(e){return parseInt(e,16)}function G(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function q(e){return"string"===typeof e&&-1!=e.indexOf("%")}function U(e){return 1==e.length?"0"+e:""+e}function H(e){e<=1&&(e=100*e+"%");return e}function z(e){return i.round(255*parseFloat(e)).toString(16)}function $(e){return W(e)/255}var K=function(){var e="[-\\+]?\\d+%?";var t="[-\\+]?\\d*\\.\\d+%?";var r="(?:"+t+")|(?:"+e+")";var n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";var i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Z(e){return!!K.CSS_UNIT.exec(e)}function Y(e){e=e.replace(a,"").replace(o,"").toLowerCase();var t=false;if(x[e]){e=x[e];t=true}else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var r;if(r=K.rgb.exec(e))return{r:r[1],g:r[2],b:r[3]};if(r=K.rgba.exec(e))return{r:r[1],g:r[2],b:r[3],a:r[4]};if(r=K.hsl.exec(e))return{h:r[1],s:r[2],l:r[3]};if(r=K.hsla.exec(e))return{h:r[1],s:r[2],l:r[3],a:r[4]};if(r=K.hsv.exec(e))return{h:r[1],s:r[2],v:r[3]};if(r=K.hsva.exec(e))return{h:r[1],s:r[2],v:r[3],a:r[4]};if(r=K.hex8.exec(e))return{r:W(r[1]),g:W(r[2]),b:W(r[3]),a:$(r[4]),format:t?"name":"hex8"};if(r=K.hex6.exec(e))return{r:W(r[1]),g:W(r[2]),b:W(r[3]),format:t?"name":"hex"};if(r=K.hex4.exec(e))return{r:W(r[1]+""+r[1]),g:W(r[2]+""+r[2]),b:W(r[3]+""+r[3]),a:$(r[4]+""+r[4]),format:t?"name":"hex8"};if(r=K.hex3.exec(e))return{r:W(r[1]+""+r[1]),g:W(r[2]+""+r[2]),b:W(r[3]+""+r[3]),format:t?"name":"hex"};return false}function X(e){var t,r;e=e||{level:"AA",size:"small"};t=(e.level||"AA").toUpperCase();r=(e.size||"small").toLowerCase();"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}if(true,e.exports)e.exports=f;else{true;!(n=function(){return f}.call(t,r,t,e),void 0!==n&&(e.exports=n))}})(Math)}};var t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:false,exports:{}};e[n].call(a.exports,a,a.exports,r);a.loaded=true;return a.exports}(()=>{r.amdO={}})();(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;r.d(t,{a:t});return t}})();(()=>{r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:true,get:t[n]})}})();(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})();(()=>{r.hmd=e=>{e=Object.create(e);e.children||(e.children=[]);Object.defineProperty(e,"exports",{enumerable:true,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}});return e}})();(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:true})}})();(()=>{r.nmd=e=>{e.paths=[];e.children||(e.children=[]);return e}})();var n={};(()=>{"use strict";r(93676);var e=t(r(20012));function t(e){return e&&e.__esModule?e:{default:e}}e["default"]._babelPolyfill&&"undefined"!==typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning.");e["default"]._babelPolyfill=true})();(()=>{"use strict";var e=i(r(56802));var t=i(r(60956));var n=i(r(85284));function i(e){return e&&e.__esModule?e:{default:e}}window.Site={load:function e(){this._initialiseWidgets();this._initialiseLanguageSelector();Server.ecwidStoreId&&this._initialiseEcwid()},_initialiseWidgets:function r(){var n=(0,t.default)();n.forEach((function(t){e.default.WidgetFactory.build(t)}))},_initialiseLanguageSelector:function t(){if(Server.isFullVersionTenSite)return;var r=e.default.languageMenuRendererFactory.build(document.body);r.display()},_initialiseEcwid:function e(){n.default.addEcwidScript()}}})()})();