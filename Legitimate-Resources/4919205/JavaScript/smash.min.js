function Smash(t){this.smashElements=t,this.addSmashElements=function(t,e){this.smashElements.hasOwnProperty(t)||(this.smashElements[t]=e)},this.start=function(t,e,s){s=s||!1;var a=document.querySelector('a[id="smash-link-'+t+'"]');a&&Helpers.hasClassName(a,"random-link")&&a.getAttribute("smash-key")===e&&this.smashElements.hasOwnProperty(e)&&(this.smashElements[e].length>(s?0:1)?this.changeLink(a,this.getRandomLink(this.smashElements[e]),s):this.activateLink(a))},this.getRandomLink=function(t){var e=t.length;return t[Math.floor(Math.random()*(e-1+1))+1-1]},this.changeLink=function(t,e,s){t.setAttribute("href",e.url),t.setAttribute("title",e.text),e.hasOwnProperty("isSmash")&&e.isSmash&&(t.setAttribute("class",t.getAttribute("class").split(" ").filter(function(t){return"ad"!==t||"ad"===t&&(!e.isBuffer||e.isBuffer&&e.isBufferAd)}).join(" ")),(!e.isBuffer||e.isBuffer&&e.isBufferAd)&&-1===t.getAttribute("class").split(" ").indexOf("ad")&&t.setAttribute("class",t.getAttribute("class")+" ad")),t.removeAttribute("data-canonical-url"),t.removeAttribute("data-ajax-url"),e.hasOwnProperty("isBuffer")&&e.isBuffer&&e.hasOwnProperty("btGroup")&&null!==t.getAttribute("data-measurement-group")&&t.setAttribute("data-measurement-group",e.btGroup),void 0!==e.canonicalUrl&&t.setAttribute("data-canonical-url",e.canonicalUrl),void 0!==e.dataAjaxUrl&&t.setAttribute("data-ajax-url",e.dataAjaxUrl);var a=t.getElementsByTagName("img");if(a.length?(a[0].setAttribute(s?"src":"data-srcset",e.img),t.getElementsByClassName("title")[0].innerHTML=e.text):t.innerHTML=e.text,s){let e=window.location.host.endsWith("p24.hu")?"zuzda-teszt":"zuzda";t.setAttribute("data-measurement-group",`${e}-`+(t.getAttribute("data-measurement-group")||"4-kiskepes")),t.setAttribute("link-type","zuzda_kepes")}this.activateLink(t)},this.activateLink=function(t){Helpers.addClass(t,"active")}}var smashManager=null;function setSmash(){"undefined"!=typeof smashElements?smashManager=new Smash(JSON.parse(smashElements)):window.setTimeout(function(){setSmash()},100)}setSmash();
