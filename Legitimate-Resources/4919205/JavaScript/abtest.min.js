function AbTest(t,i,e,s){this.name=t,this.from=i,this.duration=e,this.splittings=s,this.value=null,this.expire=null,this.generateRandomNumber=function(t,i){return Math.floor(Math.random()*(i-t+1))+t},this.getExpire=function(){if(this.expire)return this.expire;var t=new Date(this.from);return t.setDate(t.getDate()+this.duration),this.expire=t.toUTCString(),this.expire},this.create=function(t){t||(t=this.generateRandomNumber(1,100));var i=t+"|"+this.getExpire();return Helpers.createCookie(this.name,i,this.duration+":d",null,"/",this.from),i},this.setSplitTest=function(){this.splittings=JSON.parse(this.splittings);for(var t=0;t<this.splittings.length;t++)if(this.value>=this.splittings[t].from&&this.value<this.splittings[t].to){window.splitTest=this.splittings[t].name;break}},this.getValue=function(){var t=Helpers.getCookieValue(this.name);if(t){var i=t.split("|");this.value=parseInt(i[0]),i[1]!=this.getExpire()&&this.create(this.value)}else t=this.create(),this.value=parseInt(t.split("|")[0])},this.init=function(){this.getValue(),this.setSplitTest()},this.init()}
