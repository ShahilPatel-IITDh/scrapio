function Menu(){this.menuContainer=document.getElementsByClassName("menu-container")[0],this.mainMenu=document.getElementsByClassName("menu")[0],this.subMenus=document.getElementsByClassName("sub-menu"),this.onAllContent=!1,this.mainMenu&&(this.mainLinks=this.mainMenu.getElementsByTagName("a")),this.init=function(){if(this.mainMenu){var e,t=this,n=0;[].forEach.call(this.mainLinks,function(s){0===n&&(s.className+=" active",e=s),s.addEventListener("mouseover",function(){Helpers.hasClassName(s,"active")||(t.setAllMainMenuInactive(),s.className+=" active",t.setAllSubMenuInactive(),t.setSubMenuActive(s.getAttribute("rel"))),Helpers.hasClassName(s,"all-content")?t.onAllContent=!0:t.onAllContent=!1}),s.addEventListener("click",function(e){"#"===s.getAttribute("href")&&e.preventDefault()}),n++}),[].forEach.call(this.subMenus,function(t){t.getAttribute("rel")===e.getAttribute("rel")&&(t.className+=" active")}),this.menuContainer.addEventListener("mouseleave",function(){t.onAllContent&&(t.onAllContent=!1,t.setAllMainMenuInactive(),t.setAllSubMenuInactive(),Helpers.addClass(t.mainLinks[0],"active"),t.setSubMenuActive(t.mainLinks[0].getAttribute("rel")))})}},this.setAllMainMenuInactive=function(){[].forEach.call(this.mainLinks,function(e){Helpers.removeClass(e,"active")})},this.setAllSubMenuInactive=function(){[].forEach.call(this.subMenus,function(e){Helpers.removeClass(e,"active")})},this.setSubMenuActive=function(e){[].forEach.call(this.subMenus,function(t){t.getAttribute("rel")!==e||Helpers.hasClassName(t,"active")||(t.className+=" active")})}}var menu=new Menu;menu.init();
