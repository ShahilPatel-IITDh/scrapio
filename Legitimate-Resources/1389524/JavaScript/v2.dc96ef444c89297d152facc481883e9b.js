(self.webpackChunk=self.webpackChunk||[]).push([["ally-core.core.v2.build"],{"./ally-core/clientlibs/core/v2/src/index.js":(e,t,l)=>{"use strict";l("./ally-core/clientlibs/core/v2/src/scss/core.scss");var n=l("../../../../../node_modules/@allysf/logger/dist/logger.build.js"),a=l("./ally-core/clientlibs/utils/js/constants.js"),s=l("./ally-core/clientlibs/utils/js/debounce.js"),o=l("./ally-core/clientlibs/ui/js/window/toggle-scroll-lock.js"),i=l("./ally-core/clientlibs/utils/js/component/get-ref.js"),r=l("./ally-core/clientlibs/utils/js/component/get-fragment-src.js"),c=l("./ally-core/clientlibs/utils/js/dom/closest-ancestor.js"),d=l("./ally-core/clientlibs/ui/js/window/aria-hidden.js"),u=l("./ally-core/clientlibs/core/v2/src/js/modal/constants.js"),m=l("./ally-core/components/content/action/v1/action/clientlibs/src/js/config/constants.js");let g=null,p=null,A=!1;function L(e,t,l){const n=document.createElement("div");return n.setAttribute("data-modal-ref",t),n.setAttribute("data-sf-component-name",`${e.textContent.replace(/[^A-Za-z0-9]/g,"")}Modal`),l&&n.setAttribute("data-sf-component-src",(0,r.h)(e.dataset.fragmentUrl)),n.setAttribute("aria-hidden",!0),n.classList=`${u.Xc} ${u.Fh} ${u.On}`,n}function b(e){requestAnimationFrame((()=>{const t=u.al[e].modal.getElementsByClassName("js-modal")[0].getAttribute(a.q0.LN);window.ALLYSF("publish",u.FP.OPENED,{modalName:t,openElem:u.al[e].modal,trigger:u.al[e].trigger,triggerName:u.al[e].trigger.getAttribute(a.q0.LN)})}))}function y(e,t){const{modal:l}=u.al[e];requestAnimationFrame((()=>{(0,o.dg)(),document.body.style.top=`-${p}px`,l.classList.remove(u.On),l.setAttribute("aria-hidden",!1),g.classList.add(u.TG),(0,d.Qm)(d.zU.MODAL),-1===u.al.history.indexOf(e)&&u.al.history.push(e),u.al.isModalOpen=!0})),t&&b(e)}function E(e){let{triggerOverride:t,pop:l=!0}=e;if(!u.al.isModalOpen)return;const n=u.al.history[u.al.history.length-1],s=u.al[n].modal,i=t?t.getAttribute(a.q0.LN):u.al[n].trigger.getAttribute(a.q0.LN),r=s.getElementsByClassName("js-modal")[0].getAttribute(a.q0.LN);window.ALLYSF("publish",u.FP.CLOSED,{modalName:r,openElem:s,trigger:t||u.al.trigger,triggerName:i}),requestAnimationFrame((()=>{s.classList.add(u.On),s.setAttribute("aria-hidden",!0),l&&u.al.history.pop();const e=u.al.history.length;0===e&&(g.classList.remove(u.TG),(0,d.qn)(),(0,o.pX)(),u.al[n].trigger&&u.al[n].trigger.focus(),u.al.isModalOpen=!1,document.body.style.top="",window.scrollTo(0,p));const a=!t||null!==(0,c.Y)(t,".js-modal");if(e>=1&&a&&l){y(u.al.history[e-1])}}))}function N(e,t){const l=document.createDocumentFragment();l.appendChild(e),requestAnimationFrame((()=>{t.appendChild(l)}))}function O(){if(!A){g.addEventListener("click",(e=>{e.preventDefault();const t=u.al.history[u.al.history.length-1],l=(u.al[t]||{}).trigger;l&&!l.dataset.disableClick&&E(e)}));const e=(0,s.D)((e=>{const t=u.al.history[u.al.history.length-1],l=(u.al[t]||{}).trigger;l&&!l.dataset.disableEsc&&("Escape"===(e.key||e.code)&&u.al.isModalOpen&&E({triggerOverride:null}))}),250);document.addEventListener("keyup",e),A=!0}}window.ALLYSF?(window.ALLYSF("subscribe",u.FP.OPEN,{callback:function(e){let{modalTrigger:t,content:l,contentKey:n}=e;null!==(0,c.Y)(t,".js-modal")||(p=window.scrollY),g||(g=document.createElement("div"),g.id=u.C7,g.classList=`${u.Xc} ${u.BT}`,document.body.appendChild(g));const a=t;u.al.isModalOpen&&E({triggerOverride:a,pop:!1});let s=null,o=!1,r=null;r=n||(0,i.l)(a.dataset.fragmentUrl),u.al[r]?(s=u.al[r].modal,l&&requestAnimationFrame((()=>{s.innerHTML="",N(l,s)})),u.al[r].trigger=a,o=!0):(l?(s=L(a,r,!1),N(l,s)):s=L(a,r,!0),u.al[r]={modal:s,trigger:a}),requestAnimationFrame((async()=>{g.contains(s)||g.appendChild(s),y(r,o),O(),a.classList.remove("-loading")})),window.ALLYSF("subscribe",u.FP.INITIALIZED,{callback:()=>{b(r)},once:!0})}}),window.ALLYSF("subscribe",u.FP.CLOSE,{callback:E}),window.ALLYSF.isExternal||async function(){u.ot.test(navigator.userAgent)&&function(){const e=document.getElementById("main"),t=e.getElementsByClassName(m._i.ANCHOR);Array.from(t).filter((e=>"modal"===e.dataset.actionType&&"external"!==e.getAttribute("rel"))).forEach((t=>{const l=document.createElement("section");l.setAttribute("data-sf-component-src",(0,r.h)(t.dataset.fragmentUrl)),l.setAttribute("data-sf-component-name",`SEO ${t.dataset.fragmentUrl}`),e.appendChild(l)}))}()}()):((0,n.WARN)(`Unable to subscribe to ${u.FP.OPEN}. window.ALLYSF is undefined`),(0,n.WARN)(`Unable to subscribe to ${u.FP.CLOSE}. window.ALLYSF is undefined`))},"./ally-core/clientlibs/core/v2/src/js/modal/constants.js":(e,t,l)=>{"use strict";l.d(t,{BT:()=>o,C7:()=>r,FP:()=>d,Fh:()=>i,On:()=>a,TG:()=>s,Xc:()=>n,al:()=>c,ot:()=>u});const n="allysf",a="-hide",s="-in",o="allysf-modal-layer",i="allysf-modal-wrap",r="modalLayer",c={history:[],isModalOpen:!1},d={CLOSE:"modal.close",CLOSED:"modal.closed",INITIALIZED:"modal.initialized",OPEN:"modal.open",OPENED:"modal.opened"},u=/googlebot|bingbot/gi},"./ally-core/components/content/action/v1/action/clientlibs/src/js/config/constants.js":(e,t,l)=>{"use strict";l.d(t,{A$:()=>i,J9:()=>n,KY:()=>g,Ke:()=>s,Ve:()=>m,_i:()=>r,aI:()=>c,ds:()=>u,g0:()=>o,jg:()=>d,lP:()=>a});const n="Content",a="Action",s="v1",o=`ALLYSF ${n}/${a}:`,i="staticParams",r={ANCHOR:"allysf-action-v1-anchor"},c={INTERSTITIAL:"interstitial",INTERSTITIAL_CONTINUE:"interstitialContinue",LINK:"link",MODAL:"modal",PAGE_SCROLL:"pagescroll",TOOL_TIP:"tooltip"},d={NONE:"none",DAO:"dao",LADDER_LIFE:"ladderLife",AUTO_INSURANCE:"autoInsurance",ALLY_AUTO_DIRECT:"allyAutoDirect",DIRECT_ALLY:"directAlly",NON_ALLY:"nonAlly"},u=1e3,m=250,g={[d.DAO]:{OAP:"OAP",CP:"CP",source:"source",cjevent:"cjevent",campaigned:"campaigned",mbsy:"mbsy",mbsy_source:"mbsy_source"},[d.LADDER_LIFE]:{[i]:{lddr_source:"ally"},CP:"lddr_name",mid:"external_id"},[d.AUTO_INSURANCE]:{CP:"CP",mid:"mid"},[d.ALLY_AUTO_DIRECT]:{[i]:{partnerId:"10321",productName:"Refinance"},pid:"partnerId",pcid:"partnerClientId",accountNumber:"accountNumber"},[d.DIRECT_ALLY]:{[i]:{partnerId:"9042",productName:"LeaseBuyout"},pcid:"partnerClientId",accountNumber:"accountNumber"},[d.NON_ALLY]:{[i]:{partnerId:"10321",productName:"LeaseBuyout"},pid:"partnerId",pcid:"partnerClientId",accountNumber:"accountNumber"}}},"./ally-core/clientlibs/core/v2/src/scss/core.scss":e=>{e.exports={PHONE_MAX:"640",TABLET_MAX:"1024",DESKTOP_MAX:"1172"}}},e=>{e.O(0,["allysf.build"],(()=>{return t="./ally-core/clientlibs/core/v2/src/index.js",e(e.s=t);var t}));e.O()}]);