(self.webpackChunk=self.webpackChunk||[]).push([["ally-core.stickynav.v2.build"],{"./ally-core/components/navigation/stickynav/v2/stickynav/clientlibs/src/index.js":(t,e,s)=>{"use strict";var n=s("./ally-core/clientlibs/utils/js/component/index.js");s("./ally-core/components/navigation/stickynav/v2/stickynav/clientlibs/src/scss/component.scss");const i="Navigation",o="StickyNav",a="v2",c=`ALLYSF ${i}/${o}:`,l=`allysf-stickynav-${a}`,r=`js-${l}`,m={ACTIVE:"-active",BASE:l,INFOBAR_REF:"allysf-infobar-v1",JS_CALL_WAIT_ELEMENT:`${r}-cwt`,JS_CONTENT:`${r}-content`,JS_LINK:`${r}-link`},d={script:o,version:a},u={TARGET:"data-sf-target"};var g=s("./ally-core/clientlibs/ui/js/element/fix.js"),y=s("./ally-core/clientlibs/ui/js/element/call-wait-time/index.js"),v=s("../../../../../node_modules/@allysf/logger/dist/logger.build.js"),E=s("./ally-core/clientlibs/ui/js/window/index.js");function A(){const t=document.body.querySelector(`.${m.JS_LINK}.${m.ACTIVE}`);if(null!==t)window.requestAnimationFrame((()=>{t.classList.remove(m.ACTIVE)}));else{const t=`${c} Missing activeLink to clear active state`;(0,v.LOGROCKET)(t,d),(0,v.WARN)([t])}}const N={},f={};function T(t){const[e]=document.getElementsByClassName(m.BASE);if(e){if(!f.threshold||!f.rootMargin||!f.watcherRangeHeight){let t=e.offsetHeight;const[s]=document.getElementsByClassName(m.INFOBAR_REF);s&&(t+=s.offsetHeight),f.threshold=function(t){const e=[0];for(let s=1;s<=t;s++){const n=s/t;e.push(n)}return e}(30),f.rootMargin=`-${t}px 0px 0px 0px`,f.watcherRangeHeight=t}N[t.id]=new IntersectionObserver((t=>{t.forEach((t=>{const s=t.target.id,n=document.body.querySelector(`.${m.JS_LINK}[${u.TARGET}='${s}']`);t.isIntersecting&&(window.requestAnimationFrame((()=>{t.target.getBoundingClientRect().top<=f.watcherRangeHeight&&(A(),window.requestAnimationFrame((()=>{n.classList.add(m.ACTIVE)})))})),e.classList.contains(g.Am)||A())}))}),f),N[t.id].observe(t)}}class L extends n.wA{constructor(t){super(t,o,a),this.init()}init(){const[t]=this.el.getElementsByClassName(m.JS_CONTENT);if(!(t&&t.hasAttribute("data-edit-mode"))){const t=document.getElementsByClassName(m.INFOBAR_REF),[e]=this.el.getElementsByClassName(m.JS_CALL_WAIT_ELEMENT);if((0,g.i6)(this.el,`stickyNav-${this.id}`,{target:t[0]}),function(){const t=document.body.getElementsByClassName(m.JS_LINK),e=t.length;if(!e){const t=`${c} navLinks ${m.JS_LINK} empty or missing`;(0,v.LOGROCKET)(t,d),(0,v.WARN)([t])}for(let s=0;s<e;s++)t[s].addEventListener("click",(t=>{const e=t.currentTarget,s=e.getAttribute(u.TARGET);t.preventDefault(),t.stopPropagation(),(0,E.Qj)(s,50),setTimeout((()=>{window.requestAnimationFrame((()=>{e.classList.contains(m.ACTIVE)||(A(),e.classList.add(m.ACTIVE))}))}),1e3)}))}(),function(){const t=document.body.getElementsByClassName(m.JS_LINK),e=t.length;if(!e){const t=`${c} stickyNavLinks ${m.JS_LINK} empty or missing`;(0,v.LOGROCKET)(t,d),(0,v.WARN)([t])}for(let s=0;s<e;s++){const e=t[s].attributes[u.TARGET].value,n=document.getElementById(e);null!==n&&T(n)}}(),e){const t=e.dataset.lob;t&&"none"!==t&&(0,y.j)(e,t,`stickynav-${a}-${this.id}`)}}}}(0,n.xp)({group:i,name:o,version:a,class:L})},"./ally-core/components/navigation/stickynav/v2/stickynav/clientlibs/src/scss/component.scss":t=>{t.exports={PHONE_MAX:"640",TABLET_MAX:"1024",DESKTOP_MAX:"1172"}}},t=>{t.O(0,["allysf.build"],(()=>{return e="./ally-core/components/navigation/stickynav/v2/stickynav/clientlibs/src/index.js",t(t.s=e);var e}));t.O()}]);