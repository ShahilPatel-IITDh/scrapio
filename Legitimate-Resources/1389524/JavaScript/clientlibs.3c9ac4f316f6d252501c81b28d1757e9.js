(self.webpackChunk=self.webpackChunk||[]).push([["ally-core.segmentedcontrol.v1.build"],{"./ally-core/components/structure/segmentedcontrol/v1/segmentedcontrol/clientlibs/src/index.js":(t,e,s)=>{"use strict";var n=s("./ally-core/clientlibs/utils/js/component/index.js"),o=(s("./ally-core/components/structure/segmentedcontrol/v1/segmentedcontrol/clientlibs/src/scss/component.scss"),s("./ally-core/components/structure/segmentedcontrol/v1/segmentedcontrol/clientlibs/src/js/config/constants.js")),i=s("../../../../../node_modules/@allysf/logger/dist/logger.build.js");function r(t,e,s){if("string"!=typeof t||"string"!=typeof e||"object"!=typeof s&&"string"!=typeof s){const t=new Error(`${o.g0} componentId or key ${n.el} or element ${n.nM} and ${n.el}`);throw(0,i.LOGROCKET)(t,o.YI),t}o.xy[t]={...o.xy[t],[e]:s}}function a(t,e){if("string"!=typeof t||"string"!=typeof e){const t=new Error(`${o.g0} componentId or key ${n.el}`);throw(0,i.LOGROCKET)(t,o.YI),t}return o.xy[t]?o.xy[t][e]:void 0}function c(t,e,s){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!function(t){const e=a(t,"activeTab");if(e){const s=a(t,e.dataset.sfTarget);window.requestAnimationFrame((()=>{e.classList.remove(o.$C.ACTIVE),s.classList.remove(o.$C.ACTIVE),e.setAttribute("aria-selected",!1),s.setAttribute("aria-hidden",!0)})),window.ALLYSF("publish",o.Fv,{element:e,name:e.innerText,state:o.Uf})}}(s.id),s.activePanel=e,window.requestAnimationFrame((()=>{t.classList.add(o.$C.ACTIVE),e.classList.add(o.$C.ACTIVE),t.setAttribute("aria-selected",!0),e.setAttribute("aria-hidden",!1),n&&function(t,e){const s=`${t.id}-heading`,n=a(e,s);if(n instanceof Element)return void n.focus();if(n===o.ki)return;const i=o.yp.length;let c,l=0;for(;l<i;){const n=t.getElementsByTagName(o.yp[l]);n.length&&([c]=n,c.focus(),r(e,s,c),l=i),l+=1}c||r(e,s,o.ki)}(e,s.id)})),r(s.id,"activeTab",t)}function l(t,e){if("object"!=typeof t||"object"!=typeof e){const t=new Error(`${o.g0} tab ${n.nM} or instance ${n.nM}`);throw(0,i.LOGROCKET)(t,o.YI),t}if(!t.classList.contains(o.$C.ACTIVE)){const s=t.dataset.sfTarget;c(t,a(e.id,s),e)}window.ALLYSF("publish",o.Fv,{element:t,name:t.innerText,activePanel:e.activePanel,state:o.Hr})}var d=s("./ally-core/clientlibs/utils/js/constants.js");class u extends n.wA{constructor(t){super(t,o.lP,o.Ke),this.panelsArray=Array.from(this.el.getElementsByClassName(o.$C.JS_PANEL)),[this.activeTab]=this.el.getElementsByClassName(`${o.$C.JS_TAB} ${o.$C.ACTIVE}`),[this.activePanel]=this.panelsArray.filter((t=>t.classList.contains(o.$C.ACTIVE))),[this.tabs]=this.el.getElementsByClassName(o.$C.JS_TABS),this.tabs&&(this.tabsArray=this.tabs.getElementsByClassName(o.$C.JS_TAB)),this.init()}setupEvents(){return this.el.addEventListener("change",(t=>{t.target.classList.contains(o.$C.JS_SELECT_LIST)&&function(t,e){if("object"!=typeof t||"string"!=typeof e){const t=new Error(`${o.g0} select ${n.nM} or componentId ${n.el}`);throw(0,i.LOGROCKET)(t,o.YI),t}const s=a(e,t.value);s&&s.click()}(t.target,this.id)})),this.tabs.addEventListener("click",(t=>{t.target.classList.contains(o.$C.JS_TAB)&&(t.preventDefault(),l(t.target,this))})),this.tabs.addEventListener("keydown",(t=>{if(t.target.classList.contains(o.$C.JS_TAB)){const e=t.keyCode||t.which;32!==e&&38!==e&&40!==e||t.preventDefault(),function(t,e,s,n){if("object"!=typeof t||"number"!=typeof e||"object"!=typeof s||"object"!=typeof n){const t=new Error(`${o.g0} tab, keyCode, tabsArray, or instance has incorrect data type`);throw(0,i.LOGROCKET)(t,o.YI),t}const r=Object.values(s).indexOf(t),l=s.length-1;let d,u=!0;if(32===e||13===e)d=t,u=!1;else if(37===e||38===e)d=0===r?s[l]:s[r-1];else{if(39!==e&&40!==e)return;d=r===l?s[0]:s[r+1]}const m=d.dataset.sfTarget,h=a(n.id,m);u&&d.focus(),c(d,h,n,!u)}(t.target,e,this.tabsArray,this)}})),!0}init(){if(this.activeTab&&r(this.id,"activeTab",this.activeTab),this.tabsArray&&this.panelsArray){let t,e;for(let e=0;e<this.tabsArray.length;e++)t=this.tabsArray[e].id,r(this.id,t,this.tabsArray[e]);for(let t=0;t<this.panelsArray.length;t++)e=this.panelsArray[t].id,r(this.id,e,this.panelsArray[t]);this.setupEvents(),this.el.classList.contains(o.$C.PILLS)||function(t,e){if("object"!=typeof t||"object"!=typeof e){const t=new Error(`${o.g0} tabs or targetEl ${n.nM}`);throw(0,i.LOGROCKET)(t,o.YI),t}const s=e.getAttribute("aria-label")||"",r=document.createElement("div");r.className=o.$C.SELECT_BOX;const a=document.createElement("select");a.setAttribute("aria-label",s),a.className=`${o.$C.SELECT_LIST} ${o.$C.JS_SELECT_LIST}`;const c=document.createElementNS(d.Wj.NS_PATH,"svg");c.classList.add(d.Wj.BASE_CLASS,o.$C.SELECT_ICON);const l=document.createElementNS(d.Wj.NS_PATH,"use");l.setAttribute("href",d.Wj.V2.PATH+d.Wj.V2.ICONS.CHEVRON_DOWN),c.appendChild(l);const u=document.createDocumentFragment();for(let e=0;e<t.length;e++){const s=t[e].classList.contains(o.$C.ACTIVE),n=document.createElement("option");n.value=t[e].id,n.innerText=t[e].innerText,n.selected=s,u.append(n)}a.append(u),r.append(a),r.append(c),e.insertAdjacentElement("afterend",r)}(this.tabsArray,this.tabs)}}}(0,n.xp)({group:o.J9,name:o.lP,version:o.Ke,class:u})},"./ally-core/components/structure/segmentedcontrol/v1/segmentedcontrol/clientlibs/src/js/config/constants.js":(t,e,s)=>{"use strict";s.d(e,{$C:()=>l,Fv:()=>h,Hr:()=>f,J9:()=>n,Ke:()=>i,Uf:()=>p,YI:()=>g,g0:()=>r,ki:()=>m,lP:()=>o,xy:()=>d,yp:()=>u});const n="Structure",o="SegmentedControl",i="v1",r=`ALLYSF ${n}/${o}:`,a="allysf-segmentedcontrol-v1",c=`js-${a}`,l={ACTIVE:"-active",SELECT_BOX:`${a}-select-box`,SELECT_ICON:`${a}-select-icon`,SELECT_LIST:`${a}-select`,PILLS:"-pills",JS_PANEL:`${c}-panel`,JS_SELECT_LIST:`${c}-select`,JS_TAB:`${c}-tab`,JS_TABS:`${c}-tabs`},d={},u=["h2","h3","h4","h5","h6"],m="no heading present",h="segmentedcontrol.tab",f="open",p="closed",g={script:o,version:i}},"./ally-core/components/structure/segmentedcontrol/v1/segmentedcontrol/clientlibs/src/scss/component.scss":t=>{t.exports={PHONE_MAX:"640",TABLET_MAX:"1024",DESKTOP_MAX:"1172"}}},t=>{t.O(0,["allysf.build"],(()=>{return e="./ally-core/components/structure/segmentedcontrol/v1/segmentedcontrol/clientlibs/src/index.js",t(t.s=e);var e}));t.O()}]);