(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8157],{12325:function(e,n,r){"use strict";r.d(n,{G5:function(){return u},Ps:function(){return c},hS:function(){return o},kJ:function(){return a}});var t=r(29815),c=function(e){return e[0]},o=function(e){return(0,t.Z)(Array(e).keys())},u=function(e){return e.length<1},a=function(e){return!!e&&Array.isArray(e)}},59160:function(e,n,r){"use strict";r.d(n,{Py:function(){return d},Ye:function(){return h},mW:function(){return y}});var t=r(47568),c=r(97582),o=r(8221),u=r(27484),a=r.n(u),s=r(25474),i=r(63273),l=r(12325),d=function(e){var n=e.token,r=e.language,t=e.currency,c=e.promocode,u=e.paxes,d=e.dates,h=e.country,f=e.hotelCode,y=e.countryRule,C=!1;u&&(C=u.map((function(e){return{Adults:e.adults}})));var m={channel:o.I.CHANNEL,clientID:o.I.CLIENT_ID,language:r||"es",currency:t||"USD",country:(0,s.g)({currency:t,country:h,rule:y}),promocode:c||"",hotelCode:f||(0,l.Ps)(o.I.CODES),habs:[],paxes:C||[{Adults:2}],checkIn:d?d.checkin:a()().add(1,"day").format("YYYY-MM-DD"),checkOut:d?d.checkout:a()().add(2,"day").format("YYYY-MM-DD")};return new Promise((function(e,r){(0,i.M$)(n).then((function(t){200===t.status?e(n):(0,i.aH)(m.channel,m.clientID,m.language,m.country,m.currency,m.promocode,m.hotelCode,m.habs,m.paxes,m.checkIn,m.checkOut).then((function(n){var r=n.data;e(r)})).catch((function(e){console.log(e),r(e)}))})).catch((function(n){(0,i.aH)(m.channel,m.clientID,m.language,m.country,m.currency,m.promocode,m.hotelCode,m.habs,m.paxes,m.checkIn,m.checkOut).then((function(n){var r=n.data;e(r)})).catch((function(e){console.log(e),r(e)}))}))}))},h=function(e){return new Promise((function(n,r){(0,i.M$)(e).then((function(e){var r=e.data;n(r)})).catch((function(e){r(e),console.error(e)}))}))},f=function(e){return new Promise((function(n,r){(0,i.Xd)(e.SessionID,e.Channel,e.ClientID,e.Language,e.Country,e.Currency,e.PromoCode,e.HotelCode,e.Habs,e.Paxes,e.CheckIn,e.CheckOut,e.Ecommerce).then((function(e){200===e.status?n(!0):n(!1)})).catch((function(e){r(e),console.error(e),n(!1)}))}))},y=function(){var e=(0,t.Z)((function(e){var n,r,t,u,a,i,d,y,C,m,p;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return n=e.token,r=e.currency,t=e.promocode,u=e.selectedRooms,a=e.paxes,i=e.dates,d=e.country,y=e.hotelCode,C=e.countryRule,m=!1,p=[],a&&(m=a.map((function(e){return{Adults:e.adults,Children:e.children,Ages:e.childrenAges}}))),u&&(p=u.map((function(e){return e?{RoomCode:e.code,Name:e.name,RatePlanCode:e.plan,Amount:e.amount,Legal:e.legal,Policies:e.policies,Afi:(null===e||void 0===e?void 0:e.afi)||{}}:null}))),[4,h(n).then((function(e){var c=y||(0,l.Ps)(o.I.CODES),u=r||e.Header.Currency,a=d||e.Header.Country,h=(0,s.g)({currency:u,country:a,rule:C}),k=null!==t?t:e.PromoCode,g={SessionID:n,Channel:e.Header.Channel,ClientID:e.Header.ClientId,Language:e.Header.Language,Country:h,Currency:u,PromoCode:k,HotelCode:c,Habs:p,Paxes:m||e.Paxes,CheckIn:i?i.checkin:e.CheckIn,CheckOut:i?i.checkout:e.CheckOut};return f(g)})).catch((function(){return!1}))];case 1:return[2,c.sent()]}}))}));return function(n){return e.apply(this,arguments)}}();!function(){var e=(0,t.Z)((function(e){var n,r;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return n=e.ecommerce,r=e.token,[4,h(r).then((function(e){var t={SessionID:r,Channel:e.Header.Channel,ClientID:e.Header.ClientId,Language:e.Header.Language,Country:e.Header.Country,Currency:e.Header.Currency,PromoCode:e.PromoCode,HotelCode:e.Hotel.HotelCode,Habs:e.Hotel.Habs,Paxes:e.Paxes,CheckIn:e.CheckIn,CheckOut:e.CheckOut,Ecommerce:n};return f(t)})).catch((function(){return!1}))];case 1:return[2,t.sent()]}}))}))}()},28157:function(e,n,r){"use strict";r.r(n);var t=r(85893),c=r(67294),o=r(45697),u=r.n(o),a=r(5152),s=r.n(a),i=r(67814),l=r(26628),d=r(59160),h=r(39074),f=r(44094),y=r(72200),C=r.n(y),m=s()((function(){return r.e(6073).then(r.bind(r,96073))}),{loadableGenerated:{webpack:function(){return[96073]}}}),p=function(e){var n=e.currency,r=e.setCurrency,o=e.setCalendar,u=e.setSelectedRooms,a=e.currencies,s=e.token,l=e.setToken,h=e.language,f=e.dates,y=e.paxes,p=e.promocode,k=e.country,g=(0,c.useState)(!1),x=g[0],b=g[1],v=(0,c.useState)(!1),I=v[0],w=v[1],H=null;a.length>0&&!x&&(H=(0,t.jsx)("ul",{className:"".concat(I?C().dropdownCurrencyVisible:C().dropdownCurrency," "),children:a.filter((function(e){return e.iso!==n})).map((function(e){return(0,t.jsx)("li",{className:"w-1/2 uppercase ".concat(C().currencyOption," "),children:(0,t.jsxs)("button",{type:"button",onClick:function(){(0,d.Py)({token:s,language:h,dates:{checkin:f.checkin,checkout:f.checkout},paxes:y,promocode:p,country:k}).then((function(e){return l({token:e}),e})).then((function(n){(0,d.mW)({currency:e.iso,token:n,promocode:p}).then((function(n){b(!0),n&&(r({iso:e.iso,id:e.id}),o({calendar:"idle"}),u({selectedRooms:[]}))})).finally((function(){return b(!1)}))}))},className:"w-full flex items-center justify-around p-2 hover:bg-white text-white hover:text-black cursor-pointer",children:[(0,t.jsx)(m,{className:"w-2/5 m-0 mr-2 rounded-sm",src:e.flag,alt:e.iso,s3:!0,width:32,height:24}),(0,t.jsx)("span",{children:e.iso})]})},e.id)}))}));var j=x?(0,t.jsx)(i.G,{icon:"spinner",spin:!0}):(0,t.jsxs)("div",{className:"link flex justify-center items-center",children:[(0,t.jsx)("span",{className:"pr-1",children:n.iso}),(0,t.jsx)("div",{className:"mt-1",children:I?(0,t.jsx)(i.G,{className:"caret mb-1",size:"xs",icon:"chevron-up"}):(0,t.jsx)(i.G,{className:"caret mb-1",size:"xs",icon:"chevron-down"})})]});return(0,t.jsxs)("div",{onClick:function(){return w(!I)},className:"".concat(C().option," relative cursor-pointer  rounded"),children:[j,H]})};var k={setCurrency:h.NW,setToken:f.o4,setCalendar:f.hb,setSelectedRooms:f.ag};p.propTypes={currency:u().instanceOf(Object).isRequired,setCurrency:u().func.isRequired,setCalendar:u().func.isRequired,setSelectedRooms:u().func.isRequired,currencies:u().instanceOf(Array).isRequired,dates:u().instanceOf(Object).isRequired,paxes:u().instanceOf(Object).isRequired},n.default=(0,l.$j)((function(e){return{currency:e.currency,token:e.token,language:e.language,dates:e.dates,paxes:e.paxes,promocode:e.promocode,country:e.country}}),k)(p)},72200:function(e){e.exports={dropdownCurrency:"currency-switch_dropdownCurrency__dQqrj",dropdownCurrencyVisible:"currency-switch_dropdownCurrencyVisible__1iha3"}},29815:function(e,n,r){"use strict";r.d(n,{Z:function(){return u}});var t=r(20943);var c=r(13375);var o=r(91566);function u(e){return function(e){if(Array.isArray(e))return(0,t.Z)(e)}(e)||(0,c.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);