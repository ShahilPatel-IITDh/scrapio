(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2146],{25054:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var n=["th","st","nd","rd"],t=e%100;return"["+e+(n[(t-20)%10]||n[t]||n[0])+"]"}}}()},29387:function(e){e.exports=function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(t,r,o){var a,c=function(e,t,r){void 0===r&&(r={});var o=new Date(e),a=function(e,t){void 0===t&&(t={});var r=t.timeZoneName||"short",o=e+"|"+r,a=n[o];return a||(a=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:r}),n[o]=a),a}(t,r);return a.formatToParts(o)},i=function(n,t){for(var r=c(n,t),a=[],i=0;i<r.length;i+=1){var s=r[i],l=s.type,u=s.value,d=e[l];d>=0&&(a[d]=parseInt(u,10))}var h=a[3],f=24===h?0:h,m=a[0]+"-"+a[1]+"-"+a[2]+" "+f+":"+a[4]+":"+a[5]+":000",p=+n;return(o.utc(m).valueOf()-(p-=p%1e3))/6e4},s=r.prototype;s.tz=function(e,n){void 0===e&&(e=a);var t=this.utcOffset(),r=this.toDate(),c=r.toLocaleString("en-US",{timeZone:e}),i=Math.round((r-new Date(c))/1e3/60),s=o(c).$set("millisecond",this.$ms).utcOffset(15*-Math.round(r.getTimezoneOffset()/15)-i,!0);if(n){var l=s.utcOffset();s=s.add(t-l,"minute")}return s.$x.$timezone=e,s},s.offsetName=function(e){var n=this.$x.$timezone||o.tz.guess(),t=c(this.valueOf(),n,{timeZoneName:e}).find((function(e){return"timezonename"===e.type.toLowerCase()}));return t&&t.value};var l=s.startOf;s.startOf=function(e,n){if(!this.$x||!this.$x.$timezone)return l.call(this,e,n);var t=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return l.call(t,e,n).tz(this.$x.$timezone,!0)},o.tz=function(e,n,t){var r=t&&n,c=t||n||a,s=i(+o(),c);if("string"!=typeof e)return o(e).tz(c);var l=function(e,n,t){var r=e-60*n*1e3,o=i(r,t);if(n===o)return[r,n];var a=i(r-=60*(o-n)*1e3,t);return o===a?[r,o]:[e-60*Math.min(o,a)*1e3,Math.max(o,a)]}(o.utc(e,r).valueOf(),s,c),u=l[0],d=l[1],h=o(u).utcOffset(d);return h.$x.$timezone=c,h},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(e){a=e}}}()},70178:function(e){e.exports=function(){"use strict";var e="minute",n=/[+-]\d\d(?::?\d\d)?/g,t=/([+-]|\d\d)/g;return function(r,o,a){var c=o.prototype;a.utc=function(e){return new o({date:e,utc:!0,args:arguments})},c.utc=function(n){var t=a(this.toDate(),{locale:this.$L,utc:!0});return n?t.add(this.utcOffset(),e):t},c.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var i=c.parse;c.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),i.call(this,e)};var s=c.init;c.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else s.call(this)};var l=c.utcOffset;c.utcOffset=function(r,o){var a=this.$utils().u;if(a(r))return this.$u?0:a(this.$offset)?l.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(n);if(!r)return null;var o=(""+r[0]).match(t)||["-",0,0],a=o[0],c=60*+o[1]+ +o[2];return 0===c?0:"+"===a?c:-c}(r),null===r))return this;var c=Math.abs(r)<=16?60*r:r,i=this;if(o)return i.$offset=c,i.$u=0===r,i;if(0!==r){var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(i=this.local().add(c+s,e)).$offset=c,i.$x.$localOffset=s}else i=this.utc();return i};var u=c.format;c.format=function(e){var n=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,n)},c.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var d=c.toDate;c.toDate=function(e){return"s"===e&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var h=c.diff;c.diff=function(e,n,t){if(e&&this.$u===e.$u)return h.call(this,e,n,t);var r=this.local(),o=a(e).local();return h.call(r,o,n,t)}}}()},2146:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var r=t(47568),o=t(26042),a=t(29815),c=t(97582),i=t(85893),s=t(67294),l=t(45697),u=t.n(l),d=t(27484),h=t.n(d),f=t(5152),m=t.n(f),p=t(26628),x=t(67814),g=t(85327),b=t.n(g),v=t(44094),y=t(53617),C={Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkdydXBvIFhjYXJldCIsImlhdCI6MTYwMDE2NzU0MH0._UnXCs5X-LcHGHkFkEafcAM8fD7lK-JITa4p5JHha3M"),PrefixProject:"gx-hotel-xcaret-mexico-v2"},k=function(e,n,t,r,a){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,h={Header:{Channel:Number(e),ClientId:n,Language:String(t).toUpperCase(),Country:r,Currency:String(a).toUpperCase()},PromoCode:c,Hotel:{HotelCode:i,Habs:s},Paxes:l,CheckIn:u,CheckOut:d,Summary:!0};return y.Z.post("/payment-reservation",(0,o.Z)({},h),{headers:C})},w=function(){var e=(0,r.Z)((function(e){var n;return(0,c.__generator)(this,(function(t){return n={SessionID:e},[2,y.Z.get("/payment-reservation",{headers:C,params:n})]}))}));return function(n){return e.apply(this,arguments)}}(),I=function(){var e=(0,r.Z)((function(e,n,t,r,a,i){var s,l,u,d,h,f,m,p,x=arguments;return(0,c.__generator)(this,(function(c){return s=x.length>6&&void 0!==x[6]?x[6]:"",l=x.length>7?x[7]:void 0,u=x.length>8?x[8]:void 0,d=x.length>9?x[9]:void 0,h=x.length>10?x[10]:void 0,f=x.length>11?x[11]:void 0,m=x.length>12?x[12]:void 0,p={SessionID:e,Header:{Channel:n,ClientId:t,Language:r,Country:a,Currency:String(i).toUpperCase()},PromoCode:s,Hotel:{HotelCode:l,Habs:u},Paxes:d,CheckIn:h,CheckOut:f,Summary:!0,Ecommerce:m},[2,y.Z.put("/payment-reservation",(0,o.Z)({},p),{headers:C})]}))}));return function(n,t,r,o,a,c){return e.apply(this,arguments)}}(),N={USA:function(e){e.currency,e.country;return"USA"},USAMEX:function(e){return function(e){var n=String(e.currency).toUpperCase(),t=String(e.country).toUpperCase();return"MXN"===n&&"MEX"===t?t:"USA"}({currency:e.currency,country:e.country})}},M=function(e){var n,t=e.currency,r=e.country,o=e.rule;return(null!==(n=N[o])&&void 0!==n?n:N.USAMEX)({currency:t,country:r})},_=function(e){return 79260===e?"USAMEX":null},S=t(8221),D=function(e){var n=e.token,t=e.language,r=e.currency,o=e.promocode,a=e.paxes,c=e.dates,i=e.hotelCode,s=e.country,l=!1;a&&(l=a.map((function(e){return{Adults:e.adults}})));var u=_(i),d={channel:S.I.CHANNEL,clientID:S.I.CLIENT_ID||0,language:t||"es",currency:r||"USD",country:M({currency:r,country:s,rule:u})||"mex",promocode:o||"",hotelCode:i||74213,habs:[],paxes:l||[{Adults:2}],checkIn:c?c.checkin:h()().add(1,"day").format("YYYY-MM-DD"),checkOut:c?c.checkout:h()().add(2,"day").format("YYYY-MM-DD")};return new Promise((function(e,t){w(n).then((function(r){200===r.status?e(n):k(d.channel,d.clientID,d.language,d.country,d.currency,d.promocode,d.hotelCode,d.habs,d.paxes,d.checkIn,d.checkOut).then((function(n){var t=n.data;e(t)})).catch((function(e){console.log(e),t(e)}))})).catch((function(n){k(d.channel,d.clientID,d.language,d.country,d.currency,d.promocode,d.hotelCode,d.habs,d.paxes,d.checkIn,d.checkOut).then((function(n){var t=n.data;e(t)})).catch((function(e){console.log(e),t(e)}))}))}))},j=function(e){return new Promise((function(n,t){w(e).then((function(e){var t=e.data;n(t)})).catch((function(e){t(e),console.error(e)}))}))},O=function(e){return new Promise((function(n,t){I(e.SessionID,e.Channel,e.ClientID,e.Language,e.Country,e.Currency,e.PromoCode,e.HotelCode,e.Habs,e.Paxes,e.CheckIn,e.CheckOut,e.Ecommerce).then((function(e){200===e.status?n(!0):n(!1)})).catch((function(e){t(e),console.error(e),n(!1)}))}))},H=function(){var e=(0,r.Z)((function(e){var n,t,r,o,a,i,s,l,u,d;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return n=e.token,t=e.currency,r=e.promocode,o=e.selectedRooms,a=e.paxes,i=e.dates,s=e.hotelCode,l=e.country,u=!1,d=[],a&&(u=a.map((function(e){return{Adults:e.adults,Children:e.children,Ages:e.childrenAges}}))),o&&(d=o.map((function(e){return e?{RoomCode:e.code,Name:e.name,RatePlanCode:e.plan,Amount:e.amount,Legal:e.legal}:null}))),[4,j(n).then((function(e){var o=_(s),a=M({currency:t||e.Header.Currency,country:l||e.Header.Country,rule:o}),c=null!==r?r:e.PromoCode,h={SessionID:n,Channel:e.Header.Channel,ClientID:e.Header.ClientId,Language:e.Header.Language,Country:a||e.Header.Country,Currency:t||e.Header.Currency,PromoCode:c,HotelCode:s||e.Hotel.HotelCode,Habs:d,Paxes:u||e.Paxes,CheckIn:i?i.checkin:e.CheckIn,CheckOut:i?i.checkout:e.CheckOut};return O(h)})).catch((function(){return!1}))];case 1:return[2,c.sent()]}}))}));return function(n){return e.apply(this,arguments)}}(),A=(function(){var e=(0,r.Z)((function(e){var n,t;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return n=e.ecommerce,t=e.token,[4,j(t).then((function(e){var r={SessionID:t,Channel:e.Header.Channel,ClientID:e.Header.ClientId,Language:e.Header.Language,Country:e.Header.Country,Currency:e.Header.Currency,PromoCode:e.PromoCode,HotelCode:e.Hotel.HotelCode,Habs:e.Hotel.Habs,Paxes:e.Paxes,CheckIn:e.CheckIn,CheckOut:e.CheckOut,Ecommerce:n};return O(r)})).catch((function(){return!1}))];case 1:return[2,r.sent()]}}))}))}(),t(14924),t(70178)),$=t.n(A),L=t(29387),E=t.n(L);t(83454).env.API_URL_IFRAME_ID_CLIENT;h().extend(E()),h().extend($());var B=t(79983),P=m()((function(){return t.e(8367).then(t.bind(t,78367))}),{loadableGenerated:{webpack:function(){return[78367]}}}),T=m()((function(){return t.e(4454).then(t.bind(t,14454))}),{loadableGenerated:{webpack:function(){return[14454]}}}),Z=m()((function(){return t.e(873).then(t.bind(t,10873))}),{loadableGenerated:{webpack:function(){return[10873]}}}),U=m()((function(){return t.e(3316).then(t.bind(t,23316))}),{loadableGenerated:{webpack:function(){return[23316]}}});t(67763),t(25054);var Y=function(e){var n=e.onListing,t=e.isMobile,l=e.t,u=e.monthsToShow,d=e.dates,f=e.calendar,m=e.country,p=e.setCalendar,g=e.language,v=e.withChildren,C=e.currency,k=e.promocode,w=e.setDates,I=e.setSelectedRooms,N=(e.paxes,e.setPaxes),_=e.loading,j=e.setLoading,O=e.token,A=e.setToken,$=e.isRelative,L=e.showBtnCancel,E=e.onClickCancel,Y=e.sizeCalendar,R=e.isControlled,z=e.isModify,G=e.setBooking,F=e.setPromocode,J=e.booking,X=(e.desktop,e.u),q=e.handleOnClickModify,W=e.showBanksBell,V=e.tAvailable,K=e.showBookingButton,Q=e.onDatesUpdate,ee=e.setCurrentRoom,ne=e.hotelCodes,te=e.selectedConfig,re=e.childrenMinAge,oe=e.childrenMaxAge,ae=(0,s.useMemo)((function(){return!!l.config}),[l.config]),ce=(0,s.useMemo)((function(){return ae?l.config[te]:{childrenMinAge:re,childrenMaxAge:oe,childrenAgeDescription:l.adultsLabelAge,childLabel:l.childLabel,childrenLabel:l.childrenLabel,childrenMinOption:l.childrenMinOption}}),[ae]);h().locale("en");for(var ie=(0,s.useState)([]),se=(ie[0],ie[1],(0,s.useState)(!1)),le=se[0],ue=se[1],de=(0,s.useState)("hidden"),he=de[0],fe=de[1],me=(0,s.useState)("hidden"),pe=me[0],xe=me[1],ge=(0,s.useState)(!1),be=ge[0],ve=ge[1],ye=(0,s.useState)([]),Ce=ye[0],ke=ye[1],we="es"===g?"/es/busqueda/":"/en/search/",Ie=(0,s.useRef)(),Ne=new Date,Me={month:Ne.getMonth()+1,year:Ne.getFullYear()},_e=(0,s.useState)(function(){var e=Me.year,n=null;if(""!==d.checkin){var t=h()(d.checkin);e=t.year(),n=t.month()+u}else e=Me.year,n=Me.month+u-1;return n>12&&(n-=12,e+=1),{month:n,year:e}}()),Se=_e[0],De=_e[1],je=(0,s.useState)([]),Oe=je[0],He=je[1],Ae=(0,s.useState)([]),$e=Ae[0],Le=Ae[1],Ee=(0,s.useState)(!0),Be=Ee[0],Pe=Ee[1],Te=(0,s.useState)(d),Ze=Te[0],Ue=Te[1],Ye=function(e){var n=Se.month-u+e+1,t=Se.year;return n<1&&(n+=12,t-=1),n>12&&(n-=12,t+=1),{month:n,year:t}},Re=(0,s.useState)({checkInClassError:"text-gray-700",checkInClassBorderError:"border-gray-800",checkOutClassError:"text-gray-700",checkOutClassBorderError:"border-gray-800"}),ze=Re[0],Ge=Re[1],Fe=(0,s.useState)([]),Je=Fe[0],Xe=Fe[1],qe=J.pax_rooms,We=(0,s.useState)(qe),Ve=We[0],Ke=We[1],Qe=function(e,n){var t=(0,o.Z)({},Ve[e]);t.adults=parseInt(n,10);var r=parseInt(function(e){return 4-e}(n),10);t.maxChildren=r,t.children>r&&(t.children=r);var c=(0,a.Z)(Ve);c[e]=t,Ke(c)},en=function(e,n){var t=(0,o.Z)({},Ve[e]);t.children=parseInt(n,10);var r=(0,a.Z)(Ve);r[e]=t,Ke(r)},nn=function(e,n,t){var r=(0,o.Z)({},Ve[e]);r.childrenAges[parseInt(n,10)]=parseInt(t,10);var c=(0,a.Z)(Ve);c[e]=r,Ke(c)},tn=function(){!le?fe("fadeIn block"):(fe("fadeOut"),setTimeout((function(){fe("hidden")}),500)),ue(!le)},rn=function(){!be?xe("fadeIn block"):(xe("fadeOut"),setTimeout((function(){xe("hidden")}),500)),ve(!be)},on=J.number_rooms,an=(0,s.useState)(on),cn=an[0],sn=an[1],ln=[],un=0;un<cn;un+=1)ln.push((0,i.jsx)(U,{t:l,id:un,paxRoom:Ve[un],withChildren:v,updateAdults:Qe,updateChildren:en,updateChildrenAges:nn,errorValidationPaxes:Je,childrenMinAge:ce.childrenMinAge,childrenMaxAge:ce.childrenMaxAge,childrenMinOption:ce.childrenMinOption,config:ce,childrenLabelAge:ce.childrenAgeDescription,childLabel:ce.childLabel,childrenLabel:ce.childrenLabel},un));var dn="D MMM",hn=function(){(function(){var e=!0,n="text-red-500",t="border-red-500",r={checkInClassError:"text-gray-700",checkInClassBorderError:"border-gray-800",checkOutClassError:"text-gray-700",checkOutClassBorderError:"border-gray-800"},a=Je;return null!==(null===Ze||void 0===Ze?void 0:Ze.checkin)&&""!==(null===Ze||void 0===Ze?void 0:Ze.checkin)||(e=!1,r.checkInClassError=n,r.checkInClassBorderError=t),null!==(null===Ze||void 0===Ze?void 0:Ze.checkout)&&""!==(null===Ze||void 0===Ze?void 0:Ze.checkout)||(e=!1,r.checkOutClassError=n,r.checkOutClassBorderError=t),(0,B.xb)(Ce)||Ce.every((function(e){var n=e.children,t=e.childrenAges;return parseInt(n||0,10)<=0||!(0,B.xb)(t)&&t.every((function(e){var n=parseInt(e,10);return!Number.isNaN(n)||n>=0}))}))||(e=!1,a=function(e,t){var r=t;return e.forEach((function(e,t){var o=e.children,a=e.childrenAges;(0,B.xb)(a)||a.forEach((function(e,a){var c=parseInt(e,10);(o>0&&c<0||Number.isNaN(c))&&(r[t].childLabelClassError[a]=n)}))})),r}(Ce,a)),Ge((function(e){return(0,o.Z)({},e,r)})),Xe(a),e})()&&D({token:O,language:g,dates:Ze,promocode:k,currency:C.iso}).then((function(e){return A({token:e}),e})).then((function(e){j({loading:!0}),H({token:e,paxes:Ce,dates:Ze,promocode:k}).then((function(e){e&&(N({paxes:Ce}),w({dates:Ze}),I({selectedRooms:[]}),ee({current_room:1}),G({booking:{pax_rooms:Ve,number_rooms:cn}}),q())})).then((function(){z||document.getElementById("booking").submit()})).finally((function(){j({loading:!1})}))}))};(0,s.useEffect)((function(){var e=(0,a.Z)(Array(u)).map((function(e,n){return Ye(n)}));Le(e)}),[]),(0,s.useEffect)((function(){null!==(null===Ze||void 0===Ze?void 0:Ze.checkout)&&R&&D({token:O,language:g,dates:Ze,promocode:k}).then((function(e){return A({token:e}),e})).then((function(e){H({dates:Ze,token:e,promocode:k}).then((function(e){e&&w({dates:Ze})}))}))}),[Ze]),(0,s.useEffect)((function(){for(var e=function(e){var r=(0,a.Z)(Array(Ve[e].children).keys()).map((function(n){return Ve[e].childrenAges[n]})),c=(0,o.Z)({},{adults:Ve[e].adults},Ve[e].children>0&&{children:Ve[e].children},Ve[e].children>0&&{childrenAges:r}),i={childLabelClassError:r.map((function(){return"text-gray-700"}))};t.push(i),n.push(c)},n=[],t=[],r=0;r<cn;r+=1)e(r);Xe(t),ke(n),R&&(G({booking:{pax_rooms:Ve,number_rooms:cn}}),D({token:O,language:g,dates:Ze,promocode:k}).then((function(e){return A({token:e}),e})).then((function(e){H({paxes:n,token:e,promocode:k}).then((function(e){e&&N({paxes:n})}))})))}),[Ve,cn]),(0,s.useEffect)((function(){be&&!t&&Ie.current.scrollIntoView({block:"end",behavior:"smooth"})}),[be]);var fn=(0,s.useMemo)((function(){return function(){for(var e=0,n=0,t=0;t<cn;t+=1)e+=Ve[t].adults,n+=Ve[t].children;return{adults:e,children:n}}()}),[Ve,cn]),mn=(0,s.useMemo)((function(){return function(){if(null===Ze||void 0===Ze?void 0:Ze.checkin){var e=Ze.checkin.split("-");return h()(new Date(Number(e[0]),Number(e[1])-1,Number(e[2]))).locale(g).format(dn)}return null}()}),[Ze]),pn=(0,s.useMemo)((function(){return function(){if(null===Ze||void 0===Ze?void 0:Ze.checkout){var e=Ze.checkout.split("-");return h()(new Date(Number(e[0]),Number(e[1])-1,Number(e[2]))).locale(g).format(dn)}return null}()}),[Ze]),xn=t?"w-full":"md:w-2/6",gn=t?"w-full":"md:w-3/6",bn=t?"w-full":"flex md:w-1/6",vn=$?"relative":"",yn=t?b().negativeMargin1:"",Cn=b().default,kn=b().default;"small"===Y&&(Cn=b().small,kn=b().smallRooms),"default"===Y&&(Cn=b().default,kn=b().default),(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,Promise.all((0,a.Z)(Array(u)).map((function(e,n){var t=Ye(n),r=t.month,o=t.year,c=Oe.find((function(e){return e.key==="".concat(o,"-").concat(r,"-").concat(C.iso)}));return c||(p({calendar:"fetching"}),new Promise((function(e){(function(e){var n=e.year,t=e.month,r=e.currency,o=e.promocode,a=void 0===o?"":o,c=e.language,i=e.country,s=e.hotelCodes,l=new Date,u=new Date(n,t-1,1);u.setHours(l.getHours()),l>u&&(u=l);var d=new Date(n,t-1,1);d.setMonth(d.getMonth()+1),d.setHours(u.getHours());var f=h()(u).tz("America/Cancun").format("YYYY-MM-DD"),m=h()(d).tz("America/Cancun").format("YYYY-MM-DD"),p={"Header[Language]":c.toUpperCase(),"Header[Channel]":S.I.CHANNEL,"Header[ClientId]":S.I.CLIENT_ID||0,"Header[Currency]":r,"Header[Country]":M({currency:r,country:i,rule:S.I.COUNTRY_RULE}),HotelCodes:s||S.I.CODES,PromoCode:a,CheckIn:f,CheckOut:m,"Paxes[][Adults]":2};return y.Z.get("hotel-calendar-availability",{params:p})})({year:o,month:r,currency:C.iso,promocode:k,language:g,country:m,hotelCodes:ne}).then((function(e){var n=e.data,t=n.some((function(e){return null===e.filters.promotion||e.filters.promotion.applied}));Pe(t);var c=[];n.forEach((function(e){e.nights.forEach((function(e,n){((0,B.xb)(c[n])||(e.amount<c[n].amount||0===c[n].amount)&&e.amount>0)&&(c[n]=e)}))}));var i={key:"".concat(o,"-").concat(r,"-").concat(C.iso),date:{year:o,month:r},nights:c};return He((function(e){return(0,a.Z)(e).concat([i])})),i})).then((function(n){p({calendar:"success"}),e(n)})).catch((function(){p({calendar:"failed"}),e({date:{year:o,month:r}})}))})))})))];case 1:return e=n.sent(),Le(e),[2]}}))}));return function(){return e.apply(this,arguments)}}();be&&e()}),[Se,C,k,be]);var wn=(0,i.jsx)("div",{className:"fixed md:absolute flex flex-wrap flex-col left-0 top-0 md:border md:border-simplegrey rounded z-50 md:p-8 bg-lightpinkxc ".concat(pe,"\n        ").concat(t?"w-full animated ".concat(Cn):"md:w-full lg:w-full xl:w-11/12 box-calendar shadow-md"),children:(0,i.jsx)(P,{t:l.hotelBoxCalendar,u:X,state:{status:f},promocode:k,onMonthChange:function(e){p({calendar:"idle"}),De(e)},onApplyPromocode:function(e){p({calendar:"idle"}),F({promocode:e}),He([])},onDatesUpdate:function(e){Ue(e),Q({checkin:e.checkin,checkout:e.checkout})},isValidPromocode:Be,language:g,currency:C.iso,country:m,monthsToShow:u,data:$e,date:Se,initDatex:Me,checkin:d.checkin,checkout:d.checkout,toggleBoxCalendarHandler:rn,isMobile:t,showBanksBell:W})});return(0,i.jsxs)(i.Fragment,{children:[_&&(0,i.jsx)(Z,{}),(0,i.jsxs)("form",{id:"booking",action:we,className:"".concat(b().bookingHotel," ").concat(yn," ").concat(vn),method:"get",children:[(0,i.jsx)("div",{id:"startCalendar",className:"invisible",ref:Ie}),(0,i.jsxs)("div",{className:"".concat(b().booking," flex flex-wrap items-center rounded ").concat(vn," "),children:[(0,i.jsx)("div",{className:"".concat(xn," my-3 md:my-0 mb-6 md:mb-0"),children:(0,i.jsxs)("div",{className:"flex flex-row justify-around w-full px-2 xl:px-4 py-3 ".concat(ze.checkInClassError," text-center rounded leading-tight uppercase appearance-none focus:outline-none focus:bg-lightpinkxc focus:border-gray-800"),children:[(0,i.jsxs)("div",{className:"flex flex-col w-1/2 my-1 md:my-0 mx-auto pr-2 xl:px-4 cursor-pointer",children:[(0,i.jsx)("label",{className:"w-full text-left text-xs font-serif text-simplegrey ".concat(b().paddedLabel),children:l.llegada}),(0,i.jsxs)("span",{className:"w-full flex",children:[(0,i.jsx)("div",{className:"w-full h-3 pb-5 text-xs  border-b  border-blue-600 ".concat(ze.checkInClassBorderError),onClick:function(e){return rn()},children:mn}),(0,i.jsx)(x.G,{className:"chevron ml-1 cursor-pointer",icon:"chevron-down",onClick:function(e){return rn()}})]})]}),(0,i.jsxs)("div",{className:"flex flex-col w-1/2 my-1 md:my-0 mx-auto pl-2 xl:px-4 cursor-pointer",children:[(0,i.jsx)("label",{className:"w-full text-left font-serif text-xs text-simplegrey ".concat(b().paddedLabel),children:l.salida}),(0,i.jsxs)("span",{className:"w-full flex",children:[(0,i.jsx)("div",{className:"w-full text-xs px-2  h-3 pb-5 border-b  border-blue-600 ".concat(ze.checkOutClassBorderError),onClick:function(e){return rn()},children:pn}),(0,i.jsx)(x.G,{className:"chevron ml-1 cursor-pointer",icon:"chevron-down",onClick:function(e){return rn()}})]})]}),(0,i.jsx)("input",{type:"hidden",name:"checkin",value:(null===Ze||void 0===Ze?void 0:Ze.checkin)||""}),(0,i.jsx)("input",{type:"hidden",name:"checkout",value:(null===Ze||void 0===Ze?void 0:Ze.checkout)||""})]})}),t&&wn,(0,i.jsxs)("div",{className:"".concat(gn," ").concat(vn),children:[(0,i.jsxs)("div",{className:"".concat(t?"mb-4":""," flex flex-row flex-wrap mb-2 md:flex-no-wrap justify-around w-full px-2 xl:px-4 py-3 appearance-none text-gray-700 text-center rounded leading-tight uppercase focus:outline-none focus:bg-lightpinkxc focus:border-gray-800"),children:[(0,i.jsxs)("div",{className:"flex flex-col w-full md:w-1/2 mb-4 md:mb-0 mx-auto md:pr-2 xl:px-4",children:[(0,i.jsx)("label",{className:"text-xs text-left font-serif ".concat(b().paddedLabel),children:l.suites}),(0,i.jsxs)("span",{className:"w-full flex",children:[(0,i.jsx)("span",{className:"pb1 h-6 border-b border-blue-600 text-xs w-full cursor-pointer",onClick:function(e){return tn()},children:cn}),(0,i.jsx)(x.G,{className:"chevron ml-1 cursor-pointer",icon:"chevron-down",onClick:function(e){return tn()}})]})]}),(0,i.jsxs)("div",{className:"flex flex-col w-1/2 my-1 md:my-0 mx-auto pr-2 md:pl-2 xl:px-4",children:[(0,i.jsx)("label",{className:"text-xs text-left font-serif ".concat(b().paddedLabel),children:l.adultsLabel}),(0,i.jsxs)("span",{className:"w-full flex",children:[(0,i.jsx)("span",{className:"pb-1 h-6 border-b border-blue-600 w-full text-xs cursor-pointer",onClick:function(e){return tn()},children:fn.adults}),(0,i.jsx)(x.G,{className:"chevron ml-1 cursor-pointer",icon:"chevron-down",onClick:function(e){return tn()}})]})]}),(0,i.jsxs)("div",{className:"flex flex-col w-1/2 my-1 md:my-0 mx-auto pl-2 md:pr-2 xl:px-4",children:[(0,i.jsx)("label",{className:"text-xs font-serif text-left",children:ce.childrenLabel}),(0,i.jsx)("span",{className:b().adultSpan,children:ce.childrenAgeDescription}),(0,i.jsxs)("span",{className:"w-full flex",children:[(0,i.jsx)("span",{className:"pb-1 h-6 border-b border-blue-600 w-full text-xs cursor-pointer",onClick:function(e){return tn()},children:fn.children}),(0,i.jsx)(x.G,{className:"chevron ml-1 cursor-pointer",icon:"chevron-down",onClick:function(e){return tn()}})]})]})]}),(0,i.jsxs)("div",{className:"".concat(t?"mb-20":""," md:absolute md:text-sm flex flex-wrap flex-col  md:bg-lightpinkxc left-0 mx-auto right-0 md:border md:border-simplegrey rounded z-50 md:p-4 animated ").concat(he," ").concat(kn),children:[(0,i.jsx)(x.G,{className:"absolute right-0 mr-2 -mt-1 cursor-pointer text-woodarrow",icon:"times",onClick:function(e){return tn()}}),(0,i.jsxs)("div",{className:"px-3 md:mb-0 mx-auto",children:[(0,i.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-md font-bold font-serif mb-2",htmlFor:"rooms",children:l.hab}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(T,{className:"block appearance-none w-full bg-transparent md:bg-lightpinkxc border border-blue-500 text-gray-700 py-2 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-lightpinkxc focus:border-beachstone",controlled:!0,maxPax:5,onChange:function(e){return sn(e.target.value)},value:cn}),(0,i.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,i.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),(0,i.jsx)("div",{className:"w-auto flex flex-wrap justify-center ".concat(t?"mb-8":""),children:ln})]})]}),(L||K)&&(0,i.jsxs)("div",{className:"items-center ".concat(bn," ").concat(K?"fixed text-center right-0 left-0 px-4":""," ").concat(K?"".concat(L?b().classButtonWithCancel:b().classButton):""),children:[(0,i.jsx)("button",{onClick:function(){return hn()},type:"button",className:"".concat(n?"text-xs p-1":"text-sm"," ").concat(""," ").concat(t?"".concat(L?"w-full text-sm border-1 border bg-cotton-pink":"w-10/12"):"w-full"," flex-1\n                bg-cotton-pink font-serif rounded text-center text-white font-semibold uppercase font-thin tracking-widest mt-4 py-2"),children:z?l.btnSave:V?l.btnAvailable:l.btn}),L&&(0,i.jsx)("button",{onClick:E,type:"button",className:" ".concat(n?"text-sm":""," w-full text-sm border-1 border text-simplegrey border-simplegrey\n                  px-1 py-2 text-center mt-4 focus:outline-none"),children:"Cancelar"})]}),!t&&(0,i.jsx)("div",{className:"items-center ".concat(bn," "),children:(0,i.jsx)("button",{onClick:function(){return hn()},type:"button",className:"".concat(n?"text-xs p-1":"text-xxs xl:text-xs"," w-full flex-1\n                block ml-auto px-4 py-2 text-white bg-cotton-pink rounded uppercase font-GothicStd"),children:z?l.btnSave:V?l.btnAvailable:l.btn})})]}),!t&&wn]})]})};var R={setDates:v.rm,setPaxes:v.DL,setBooking:v.Sj,setLoading:v.K4,setToken:v.o4,setCalendar:v.hb,setPromocode:v.mI,setSelectedRooms:v.ag,setCurrentRoom:v.N$};Y.propTypes={isMobile:u().bool,desktop:u().bool,language:u().string.isRequired,withChildren:u().bool,setDates:u().func.isRequired,setPaxes:u().func.isRequired,setSelectedRooms:u().func.isRequired,isRelative:u().bool,showBtnCancel:u().bool,sizeCalendar:u().string,isControlled:u().bool,onListing:u().bool,isModify:u().bool,setLoading:u().func.isRequired,setToken:u().func.isRequired,u:u().instanceOf(Object).isRequired,monthsToShow:u().number,handleOnClickModify:u().func,showBanksBell:u().bool,tAvailable:u().bool,showBookingButton:u().bool,onDatesUpdate:u().func,hotelCodes:u().arrayOf(u().number).isRequired,selectedConfig:u().string,childrenMinAge:u().string,childrenMaxAge:u().string},Y.defaultProps={monthsToShow:2,desktop:!1,isMobile:!1,onListing:!1,isRelative:!0,showBtnCancel:!1,sizeCalendar:"default",isControlled:!0,isModify:!1,withChildren:!0,handleOnClickModify:function(){},showBanksBell:!0,tAvailable:!1,showBookingButton:!1,onDatesUpdate:function(){},selectedConfig:"default",childrenMinAge:1,childrenMaxAge:17};var z=(0,p.$j)((function(e){return{paxes:e.paxes,booking:e.booking,loading:e.loading,token:e.token,country:e.country,currency:e.currency,dates:e.dates,calendar:e.calendar,promocode:e.promocode}}),R)(Y)},53617:function(e,n,t){"use strict";var r=t(47568),o=t(97582),a=t(9669),c=t.n(a),i=t(11702),s=c().create({baseURL:"https://hotels.api.xcaret.com/api/v1",withCredentials:!0});s.interceptors.response.use((function(e){return e}),function(){var e=(0,r.Z)((function(e){return(0,o.__generator)(this,(function(n){return(0,i.q)(e,"Interceptor",null,"helpers/api-back.js"),[2,Promise.reject(e)]}))}));return function(n){return e.apply(this,arguments)}}()),delete s.defaults.headers.common["X-Requested-With"],n.Z=s},85327:function(e){e.exports={bookingHotel:"booking_bookingHotel__9TkGN",booking:"booking_booking__Jdm9h",small:"booking_small__P93Li",smallRooms:"booking_smallRooms__MnseY",negativeMargin1:"booking_negativeMargin1__XRPuP",paddedLabel:"booking_paddedLabel__W56kS",adultSpan:"booking_adultSpan__fO5ud",classButton:"booking_classButton__IWOTB",classButtonWithCancel:"booking_classButtonWithCancel__yVJN3"}},29815:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(20943);var o=t(13375);var a=t(91566);function c(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);