$(document).ready(function(){$(".dm-responsive-image").each(function(){try{s7responsiveImage(this)}catch(k){console.log("Error From s7responsiveImage()"+k)}});$('[class^\x3d"form-search"]').submit(function(b){HRB.search.getSearch({form:this,event:b})});$(".form-appointment").submit(function(b){HRB.locator.getLocations({form:this,event:b})});$(".location-cta").click(function(b){});$(".appointment-cta").click(function(b){HRB.integration.getApptUrl($(this).closest("form").find("#office-id").val())});
$(".form-email").submit(function(b){HRB.integration.submitEmail({form:this,event:b})});$(".tile-email-submit").submit(function(b){HRB.integration.submitEmail({form:this,event:b})});$(".create-account").on("click",function(){var b=$("#product-type").val();window.location="/online-tax-filing/create-account.html?taxType\x3d"+b;return!1});$("a.click-tab").on("click",function(){var b=$(this).data("href");$('a[href\x3d"'+b+'"]').trigger("click")});$(".speed-bump").click(function(){var b=$(this).data("href");
$(".speed-bump-continue").on("click",function(){window.location=b;return!1})});$(".product-tab-activate").on("click",function(b){$("#product-info-anchor").click()});$(".compare-tab-activate").on("click",function(b){$("#compare-anchor").click()});$(".requirements-tab-activate").on("click",function(b){$("#requirements-anchor").click()});$(".reviews-tab-activate").on("click",function(b){$("#reviews-anchor").click()});var b=HRB.tools.getParameterByName("nav");b&&setTimeout(function(){var k=$("#"+b).offset().top;
$('a[href\x3d"#'+b+'"]').trigger("click");$("html, body").animate({scrollTop:k-150});return!1},500);g_partner_id=HRB.partner.determinePartnerId();2007==g_partner_id&&(document.location="/?otpPartnerId\x3d0");processMainCookie();campaignIdCheck();HRB.ui.initializeTprObject();HRB.products.processPricing();try{HRB.tools.log("calling partnerIdDetermined('"+g_partner_id+"')."),partnerIdDetermined(g_partner_id)}catch(k){HRB.tools.log("calling partnerIdDetermined('"+g_partner_id+"') returned: '"+k+"'. Containing page does NOT need to implement function partnerIdDetermined().")}$(document).on("click",
"[data-track],[data-analytics]",function(b){var g;$(this).data("track")?g=jQuery.parseJSON(JSON.stringify($(this).data("track"))):$(this).data("analytics")&&(g=jQuery.parseJSON(JSON.stringify($(this).data("analytics"))));if(!$(this).hasClass("accordion-toggle")){var k=$(this).attr("class");try{HRB.omniture.doAnalytics(g,k)}catch(l){console.error("doAnalytics error: "+l)}try{HRB.datatrack.processPixels(g)}catch(l){console.error("processPixels error: "+l)}if("true"==("undefined"!=typeof g.pd?g.pd:"false"))b.preventDefault();
else return!0;"sn"==g.type&&HRB.integration.productStartNow(g);"ln"==g.type&&HRB.integration.productLearnMore(g);if("dn"==g.type){b=$(this).closest("form");if(null==b||0==b.length)b=$('form[name\x3d"stateform"]');g=jQuery.parseJSON(JSON.stringify($(this).data("track")));g.os=b.find('[name\x3d"product-choice"]:checked').val();"undefined"==typeof g.os&&(g.os="win");if("win"==g.os){if(0==b.find("#state").val())return $("#state").addClass("error"),$("#stateerror").html("\x3cspan style\x3d'color:red;margin-bottom: 10px;'\x3ePlease select a  State.\x3c/span\x3e"),
!1;g.st=b.find("#state").val()}else if("mac"==g.os){if(0==b.find("#state-mac").val())return alert("Please select a  State."),!1;g.st=b.find("#state-mac").val()}"undefined"==typeof g.pid&&("mac"==g.os?g.pid=g.skum:"win"==g.os&&(g.pid=g.skuw));g.yr="undefined"!=typeof g.yr?g.yr:HRBData.config.yearForSoftware;HRB.integration.productStartNow(g)}}});HRB.pixel.processPixel();HRB.ui.setTprByProduct();HRB.ui.setMDLTprSelections();$("select.fancy").each(function(){HRB.ui.select().config($(this))});$(".accordion").each(function(){HRB.ui.accordion().config($(this))});
$(document.body).on("keydown","*[role\x3dbutton]",function(b){$(this).is("a")?32==b.keyCode&&$(this).trigger("click"):(32==b.keyCode||13==b.keyCode)&&$(this).trigger("click")});$("footer .phone-number, footer .footer-phone-link").click(function(b){try{if(HRB.libraries.isHrObj()&&HR.Utils.isMobile.any()){var g=this.textContent;if(g){var k={click_to_call_phone:g.trim(),page_events:"clickToCall",evt_name:"click_to_call"};callAnalytics("page_action",k);HRB.tools.log("DTM: Call rule click_to_call")}}}catch(l){HRB.tools.log("DTM: Call rule click : Error "+
l)}});null==HRB.session.getValue("initialReferer")&&(""!=document.referrer?HRB.session.storeValue("initialReferer",document.referrer):null!=HRB.tools.getQueryUrl("ivrtype")&&""!=HRB.tools.getQueryUrl("ivrtype")?HRB.session.storeValue("initialReferer","ivr-"+HRB.tools.getQueryUrl("ivrtype")):HRB.session.storeValue("initialReferer","n/a"));null==HRB.session.getValue("ci")&&HRB.session.initItem("ci",JSON.stringify(HRB.session.clientInfo));null==HRB.session.getValue("noByAddr")&&HRB.session.initItem("noByAddr",
JSON.stringify(HRB.session.noByAddr));null==HRB.session.getValue("noByLoc")&&HRB.session.initItem("noByLoc",JSON.stringify(HRB.session.noByLoc));HRB.bRemoveAdobeSessionObject&&removeAdobePriceTestObject()});"undefined"==typeof HRBData&&document.write('\x3cscript src\x3d"/etc.clientlibs/reimagine/clientlibs/clientlib-hrb-common-data.min.js" charset\x3d"utf-8"\x3e\x3c/script\x3e');
var g_partner_id=0,g_partner_cid="",g_b_ws_partner_id_different=!1,g_dr_url_info="",g_b_drInfoInCookie=!1,HRB=function(b){var k=function(a,b,d,c,f,q,g){var h=window.location.hostname;if("localhost"!=h||f&&""!=f)if("root"==g)var v=h.substr(h.indexOf("."));else"sub"==g&&(v=window.location.hostname);else v="localhost";cookie=[a+"\x3d"+escape(b),"path\x3d"+(c&&""!=c?c:"/"),"domain\x3d"+(f&&""!=f?f:v)];d&&("NaN"==parseInt(d)?a="":(now=new Date,now.setTime(now.getTime()+36E5*parseInt(d)),a=now.toGMTString()),
cookie.push(a));q&&cookie.push("secure");return document.cookie=cookie.join("; ")},g=[/,"sn":"\/loginRedirect.html\?TaxType/g,/"bpr":"/g,/"sn":null,"lm":"\/tax-software/g,/&FV=T&HT=F&/g,/\/online-tax-filing/g,/\.html/g,/"pl":"O","on"/g,/"pl":"S","on"/g,/"rv":null,"rt":null,"ppr":"/g,/"sk":{"win":/g,/{"pid":"/g,/","rv":"0","rt":"0"}/g,/premium/g,/deluxe/g,/TaxYear=2019","lm":"/g,/","ppr":"/g],m={TCX:"https://login.taxes.hrblock.com/",MYACCT:"https://account.hrblock.com/",CMRY:"https://store.hrblock.com/",
CART:"https://store.hrblock.com/",HRB:"",GUA:"https://loginrouter.hrblock.com/",SEARCH:"search3"},l=null,p=null;return{spclEmpSolPartnerId:"9423",bIsSpclEmpSolPartner:!1,bForcePartnerChange:!1,bRemoveAdobeSessionObject:!1,test:!1,page:{_srchPartner:{localhost123:{p:2007,t:"q"},google:{p:2054,t:"q"},yahoo:{p:2055,t:"p"},bing:{p:2056,t:"q"},aol:{p:2057,t:"query|userQuery"},netscape:{p:2058,t:"query|userQuery"},ask:{p:2059,t:"q|ask"},duckduckgo:{p:9607,t:"q|ask"}},getPageProperties:function(){if(null==
p){p=new Page;var a=document.referrer;p.setPath(document.location.pathname);var b=HRB.tools.getQueryUrl("CampaignID"),d={};window.location.search.replace(/([^?=&]+)(=([^&]*))?/g,function(a,b,h,g){d[b]=g});p.setQueryMap(d);p.setReferrer(a);p.setCampaignId(b);null!=a&&-1!=a.indexOf("?")&&a.substr(a.indexOf("?"));if(""!=a)for(partner in HRB.page._srchPartner)HRB.tools.log("Referrer Check: Is it "+partner),b=0<=a.indexOf(partner)?HRB.page._srchPartner[partner]:null,null!=b&&p.setRefPartner(b.p)}return p}},
settings:{officeMaps:{enableSignedUrlCall:!1}},dataLayer:{},integration:{configLookup:{TAXYEAR:"2022"},getURL:function(a){return m[a]},getConfig:function(a){return HRB.integration.configLookup[a]},delayedProductStartNow:function(a){HRB.tools.log("DTM:delayedProductStartNow() waiting "+HRBData.config.dtmDelay+" milliseconds...");setTimeout(function(){HRB.integration.productStartNow(a)},HRBData.config.dtmDelay)},delayedProductStartNowFinish:function(a,b){HRB.tools.log("DTM:delayedProductStartNowFinish() waiting "+
HRBData.config.dtmDelay+" milliseconds...");setTimeout(function(){HRB.integration.productStartNowFinish(a,b)},HRBData.config.dtmDelay)},productStartNow:function(a){null!=HRB.partner.fromCookie()&&HRB.partner.fromCookie();var b="";null!=HRB.session.getValue("digitalriver")&&(b="/"+HRB.tools.getQueryParam("CamryID",HRB.session.getValue("digitalriver")));-1!=document.location.href.indexOf("symantec.html")&&(b="/0BA7F90C");"/null"==b&&(b="/");"/81091483"==b&&(b="/51B366B5");"/7762FD76"==b&&(b="/E08482DD");
var d="",c="",f=HRB.products.getProducts().getProductInfo(a.pid),q=HRB.products.getProducts().getProductsByPlatform("S");if("dn"==a.type){"undefined"==typeof a.os&&(a.os="win");for(var g=0;g<q.length;g++)if(a.pid==q[g].pid){c="Y";var u=39==a.pid?"state/"+a.yr+"/"+a.st+"/"+a.os:a.yr+"/"+f.sk[a.os];break}"Y"==c?d="checkout/"+u:""==c&&40!=a.pid?d="checkout/"+a.yr+"/"+a.pid:""==c&&40==a.pid&&(d="checkout/bstate/"+a.yr+"/"+a.st+"/"+a.os);if(HRB.test)return d;bIsBackEdition=parseInt(a.yr)<HRBData.config.yearForSoftware?
!0:!1;if(HRBData.config.softwareCartMaintenance&&!bIsBackEdition)window.top.location="/service_unavailable.html?action\x3dsoftcartmaint";else if(bIsBackEdition&&HRBData.config.sendBackEditionsToMaintPage)window.top.location="/service_unavailable.html?action\x3dsoftwarebackeditions";else{softwareSku="";switch(f.sk[a.os]){case "WDBF":softwareSku="Win_B1";break;case "WDDF":softwareSku="Win_D1";break;case "WDDA":softwareSku="Win_D2";break;case "WDPA":softwareSku="Win_P2";break;case "WDPH":softwareSku=
"Win_H2";break;default:softwareSku="INVALID"}window.top.location=bIsBackEdition?"39"!=a.pid?this.getURL("CART")+"shoppingcart/cart?pricegroupkey\x3d"+HRBData.config.priceGroupKeyForBackEditions+"\x26taxYear\x3d"+a.yr+"\x26sku\x3d"+softwareSku:this.getURL("CART")+"shoppingcart/cart?pricegroupkey\x3d"+HRBData.config.priceGroupKeyForBackEditions+"\x26taxYear\x3d"+a.yr+"\x26state\x3d"+a.st.toLowerCase():"39"!=a.pid?this.getURL("CART")+"shoppingcart/cart?pricegroupkey\x3d"+b.slice(1)+"\x26taxYear\x3d"+
a.yr+"\x26sku\x3d"+softwareSku:this.getURL("CART")+"shoppingcart/cart?pricegroupkey\x3d"+b.slice(1)+"\x26taxYear\x3d"+a.yr+"\x26state\x3d"+a.st.toLowerCase()}}else{HRB.tools.log("TPR: bShowTprPrompt:false");d="undefined"!=typeof a.tprPopup&&"Y"==a.tprPopup.toUpperCase()?!0:!1;HRB.tools.log("TPR: bTprSentRequest:"+d);HRB.tools.log("TPR: Adobe T\x26T didn't enable TPR prompt on this page, continue normal processing.");d=f.sn;f=HRB.session.getValue("main_cookie");null!=f&&("\x26"!=f.substring(0,1)&&
(f="\x26"+f),d+=f);if(HRB.test)return d;d=d.substr(d.indexOf("?")+1);HRB.tools.getQueryParam("taxtype",d).toLowerCase();HRB.tools.log("unsetCookie WSC");HRB.tools.unsetCookie("wsc","");f="ctrack srchterm orpid otppartnerid productid tpage pgm cid ocsstat offerid coname coid showpanels sr oauth_consumer_key oauth_nonce oauth_signature_method oauth_timestamp oauth_version oauth_signature uid".split(" ");for(b=0;b<f.length;b++)d=HRB.tools.removeParameter(d,f[b]);d+="\x26PS\x3dY";f=HRB.tools.getQueryParam("srchterm",
HRB.tools.getCookie("main_cookie"));null!=f&&(d+="\x26siteID\x3d"+f);d=d.split("\x26\x26").join("\x26");f=HRB.integration.getURL("TCX");b="/"==f[f.length-1]?"":"/";c=f+b+"hrblock/login/LoginRegistration.hrbx?"+d;try{if("DEV"==HRB.tools.checkEnv()||"QA"==HRB.tools.checkEnv())d=d.replace("\x3d2021","\x3d2022"),c=f+b+"hrblock/login/LoginRegistration.hrbx?"+d}catch(w){}"Y"==HRB.ui.getTPRbyProduct(a.pid).toUpperCase()&&(HRB.tools.log("TPR: adding RS\x3dY to GUA url"),c+="\x26RS\x3dY");c="60"==a.pid?(c+
"\x26origin\x3dhrblock.product.sn\x26FilingOption\x3dDIY\x26createlater\x3dfalse").replace("/login/","/weblogin/"):c+"\x26showStartwithoutAccount\x3dtrue\x26origin\x3dhrblock.product.sn";HRB.integration.delayedProductStartNowFinish(a,c)}},productStartNowFinish:function(a,b){HRB.tools.log("gua:"+b.substr(0,b.indexOf("?")));HRB.tools.log("gua:"+b.substr(b.indexOf("?")));if("true"==a.guapage)-1==b.toLowerCase().indexOf("\x26rs\x3dy")?window.top.location="/lp/sign-in/index.html?tpr\x3dfalse":window.top.location=
"/lp/sign-in/index.html?tpr\x3dtrue";else if(a.nw)window.open(b);else{bReplacePartnerIdInPriceResponseWithES=!1;if("9423"==g_partner_id&&(a=HRB.tools.getQueryParam("campaignid",HRB.tools.getCookie("main_cookie")),null!=a)){HRB.tools.log("ES: startnow: campaignIdToEvaluate:"+a);var h=a.lastIndexOf("_");HRB.tools.log("ES: startnow: pidIndex:"+h);a=a.substr(h+1);HRB.tools.log("ES: startnow: partner id from campaignid parameter is:"+a);HRBData.config.estest.corestream&&"7443"==a?(otp_partner_id=9538,
bReplacePartnerIdInPriceResponseWithES=!0):HRBData.config.estest.beneplace&&"4359"==a?(otp_partner_id=9539,bReplacePartnerIdInPriceResponseWithES=!0):HRBData.config.estest.perkspot&&"4209"==a&&(otp_partner_id=9540,bReplacePartnerIdInPriceResponseWithES=!0);"DEV"==HRB.tools.checkEnv()&&"7801"==a&&(otp_partner_id=9540,bReplacePartnerIdInPriceResponseWithES=!0);HRB.tools.log("ES: 1:"+b.substr(b.indexOf("?")));bReplacePartnerIdInPriceResponseWithES&&(HRB.tools.log("ES: 2:"+b.substr(b.indexOf("?"))),b=
b.replace(/9423/g,otp_partner_id))}window.top.location=b}},productLearnMore:function(a){var b=HRB.products.getProducts().getProductInfo(a.pid).lm;if(HRB.test)return b;a.nw?window.open(this.getURL("HRB")+b):window.top.location=this.getURL("HRB")+b},getGUAUrl:function(a){a="loginrouter/login?viewType\x3d"+a+"\x26origin\x3dhrblock.li";"DEV"==HRB.tools.checkEnv()&&(a="gateway/auth/login?origin\x3dhrblock.li");-1!=window.location.href.indexOf("/espanol")&&(a+="\x26lang\x3des");if(HRB.test)return a;window.top.location=
this.getURL("GUA")+a},getGUAUrlCreateAccount:function(a){a="loginrouter/login?viewType\x3d"+a+"\x26origin\x3dhrblock.li\x26createuser\x3dtrue";"DEV"==HRB.tools.checkEnv()?a="mytax/login?origin\x3dhrblock.li":"QA"==HRB.tools.checkEnv()&&(a="loginrouter/login?viewType\x3d4\x26origin\x3dhrblock.li\x26createuser\x3dtrue");-1!=window.location.href.indexOf("/espanol")&&(a+="\x26lang\x3des");if(HRB.test)return a;window.top.location=this.getURL("GUA")+a},getMyAccUrl:function(){return HRB.test?"mytax/login?origin\x3dhrblock.ec.sn":
this.getURL("MYACCT")+"mytax/login?origin\x3dhrblock.ec.sn"},getApptUrl:function(a){a=0<a?HRB.locator.getAppointmentCalendarPath(null)+a:"/tax-offices/tax-pro-finder.html";if(HRB.test)return a;window.top.location=this.getURL("HRB")+a},submitEmail:function(a){a.event.preventDefault();emailval=a.form.email.value;messageDiv=b(a.form).hasClass("form-email")?b(".generic-message"):b(".tile-generic-message");HRB.aria.clearAlert();if(emailval.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/))a.form.email.setAttribute("aria-invalid",
"false"),b.ajax({type:"GET",url:"/taxtip/TaxtipEmailServlet",data:"store_email\x3d"+emailval+"\x26tax_tips_subscribe\x3dCOUPON\x26tax_tips_store\x3dSTORE",success:function(a){if("undefined"!=typeof a){var b=a.split("_")[1].split(":")[1];a=a.split("_")[0].split(":")[1];"true"==b&&"true"==a?messageDiv.html("\x3cb\x3eThank you for your registration.\x3c/b\x3e"):"true"==a?messageDiv.html("\x3cb\x3eThank you for your registration.\x3c/b\x3e"):"false"==a?(messageDiv.html("\x3cspan class\x3d'reader'\x3eError.\x3c/span\x3e\x3cfont color\x3d'#ff0000'\x3eYour e-mail address is already registered.\x3c/font\x3e"),
".tile-generic-message"==messageDiv.selector&&messageDiv.html("\x3cspan class\x3d'reader'\x3eError.\x3c/span\x3e\x3cfont color\x3d'#ff0000'\x3eYour e-mail address is \x3cbr/\x3ealready registered.\x3c/font\x3e")):messageDiv.html('\x3cspan class\x3d"reader"\x3eError.\x3c/span\x3e\x3cfont color\x3d"#ff0000"\x3ePlease try later.\x3c/font\x3e')}},error:function(){messageDiv.html('\x3cspan class\x3d"reader"\x3eError.\x3c/span\x3e\x3cfont color\x3d"#ff0000"\x3ePlease try later.\x3c/font\x3e')}});else return messageDiv.html('\x3cfont color\x3d"#e0e055"\x3e\x3cspan class\x3d"reader"\x3eError. \x3c/span\x3eThe email address is not valid.\x3c/font\x3e'),
".tile-generic-message"==messageDiv.selector&&messageDiv.html('\x3cfont color\x3d"#e0e055"\x3e\x3cspan class\x3d"reader"\x3eThe email address \x3cbr/\x3eis not valid\x3c/span\x3e'),a.form.email.setAttribute("aria-invalid","true"),a.form.email.focus(),!1}},aria:{clearAlert:function(){0!=b("#alert").length&&b("#alert").remove()},setAlert:function(a){var h=document.createElement("div");h.setAttribute("aria-live","polite");h.setAttribute("role","alert");h.setAttribute("id","alert");h.setAttribute("class",
"reader");a=document.createTextNode(a);h.appendChild(a);b("body").append(h)}},tools:{checkEnv:function(){return"PROD"},toTitleCase:function(a,h){return a.replace(/\w\S*/g,function(a){return-1!=b.inArray(a,h)?a:a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},IsValidImage:function(a,h){b("\x3cimg\x3e",{src:a,error:function(){h(a,!1)},load:function(){h(a,!0)}})},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return"object"===typeof a},logger:function(a){1==
this.getQueryUrl("debug")&&window.open("","debugwin","resizable\x3d1,width\x3d600,height\x3d350,scrollbars\x3d1").document.write("\x3cbody\x3e\x3cdiv id\x3d'd3' style\x3d'font-family:Verdana;font-size:11px;'\x3e\x3cp align\x3dcenter\x3e\x3c/p\x3e"+a+"\x3c/body\x3e")},log:function(){if(!window.console||!window.console.log){for(var a="",b=0;b<Array.prototype.slice.call(arguments).length;b++)a+=Array.prototype.slice.call(arguments)[b]+"\x3cbr\x3e\x3cbr\x3e";this.logger(a)}},_compress:function(a){return a},
_decompress:function(a){if(-1!=a.indexOf("!b"))for(var b=g.length-1;0<=b;b--)a=a.replace(new RegExp("!"+String.fromCharCode(97+b),"g"),g[b].source.replace(/\\/g,""));return a},getQueryParam:function(a,b){null!=b&&"?"!=b.charAt(0)&&"\x26"!=b.charAt(0)&&(b="\x26"+b);a=new RegExp("[?\x26]"+a+"\x3d([^\x26$]*)","i");return-1==(null!=b?b.search(a):-1)?null:RegExp.$1},getParameterByName:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)")).exec(location.search);
return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))},getQueryUrl:function(a){return HRB.tools.getQueryParam(a,location.search)},removeParameter:function(a,b){b=encodeURIComponent(b)+"\x3d";a=a.split(/[&;]/g);for(var d=a.length;0<d--;)-1!==a[d].toLowerCase().lastIndexOf(b.toLowerCase(),0)&&a.splice(d,1);return a=0<a.length?a.join("\x26"):""},getBscId:function(){var a=Math.random()+"";return a=a.slice(-1*(a.length-2))},getCookie:function(a){return(tmp=unescape(document.cookie).match(new RegExp(a+
'\x3d[a-zA-Z0-9-. "(){},\x3d|:%/\x26_+]+($|;)',"g")))&&tmp[0]&&""!=tmp?tmp[0].substring(a.length+1,tmp[0].length).replace(";",""):null},unsetCookie:function(a,b,d){b=b&&"string"==typeof b?b:"";d=d&&"string"==typeof d?d:"";HRB.tools.getCookie(a)&&k(a,"","Thu, 01-Jan-70 00:00:01 GMT",b,d)}},ui:{BVratings:function(){function a(a,c){b.getJSON(h+"/statistics.json?callback\x3d?",{apiversion:"5.4",passkey:d,filter:"productid:"+a,stats:"reviews"}).done(c).fail(function(a,b,d){c(b+", "+d)})}var h="https://api.bazaarvoice.com/data",
d="ovsi8a5tfp6mt8dsemh8dkb3b",c=!1;try{-1<window.location.hostname.indexOf("www.hrblock.com")&&(c=!0),c||(h="https://stg.api.bazaarvoice.com/data",d="2483w6cqdpex7hlbv3e61c8a9")}catch(q){}var f={free:"201",deluxe:"204",premium:"32",taxproreview:"50",selfemployed:"47",basic_software:"199",deluxe_software:"207",premium_software:"36",business_software:"38"};return{requestRatings:a,writeRatings:function(c){var d=c.data("bvratingId");d=f[d]||(isNaN(d)?null:d);if(!d)return!1;a(d,function(a){var d=a.Results[0].ProductStatistics.ReviewStatistics.TotalReviewCount;
a=Math.round(10*a.Results[0].ProductStatistics.ReviewStatistics.AverageOverallRating)/10;a=a.toFixed(1);var h=c.find("[data-bvrating-stars]"),f=c.find("[data-bvrating-rating]"),q=c.find("[data-bvrating-count]");f.text(a).attr("role","presentation");q.text(d).attr("role","presentation");b(".bv-rating span.bracket").removeClass("hide");if(0<h.length)for(f=1;5>=f;f++){q=Math.round(f<=a?0:100*(1-a%1));var g=b("\x3cdiv/\x3e",{class:"star-inner"}).appendTo(b("\x3cdiv/\x3e",{class:"star-box"}).appendTo(h));
1>f-a&&g.append(b("\x3cdiv/\x3e",{class:"star-highlight",style:"padding-right:"+q+"%"}))}h.append('\x3cp class\x3d"reader"\x3eRated '+a+" out of 5 stars. "+d+" reviews.\x3c/p\x3e")})}}}(),initializeTprObject:function(){HRB.session.initItem("tprSelections",JSON.stringify(HRB.session.tprSelections))},setTprByProduct:function(){var a=this,h={"js-tpr-47":47,"js-tpr-201":201,"js-tpr-204":204,"js-tpr-32":32};b(document).on("change",'input[class*\x3d"js-tpr-"]',function(d){var c=HRB.session.getValue("tprSelections");
c=jQuery.parseJSON(c);var f=d.target.className.replace(/mdl-checkbox__input/,"").trim();c[h[f]]=b(d.target).is(":checked")?"Y":"N";HRB.session.storeValue("tprSelections",JSON.stringify(c));HRB.products.displayPricing();a.setMDLTprSelections()})},setMDLTprSelections:function(){},getTPRbyProduct:function(a){var h=HRB.session.getValue("tprSelections");h=jQuery.parseJSON(h);var d="";b.each(h,function(b,h){if(b==a)return d=h,!1});return d},setBVRatingsText:function(a){},select:function(){var a=null,h=
null,d=null,c=null,f=null,q=-1,g=null;return{config:function(a){h=a;d=b(h).attr("id");this.initialize();this.handlers()},initialize:function(){c=b("\x3cdiv\x3e",{width:b(h).outerWidth(),html:'\x3cdiv class\x3d"'+d+' select-box" tabindex\x3d"0"\x3e\x3c/div\x3e'});c.addClass("ui-select");c.attr("role","combobox");c.attr("aria-live","polite");c.attr("aria-autocomplete","list");c.attr("aria-haspopup","true");c.attr("aria-expandeded","false");c.attr("aria-owns","");c.attr("aria-label","Press enter key or spacebar to toggle the menu. Choose item using up or down arrow. ");
f=b("\x3cul\x3e");f.addClass("drop-down");q=-1;f.attr("tabindex","-1");f.attr("aria-hidden","true");f.attr("role","listbox");a=c.find("."+d);b(h).find("option").each(function(c){var d=b(this);c==b(h).attr("selectedIndex")&&(a.html(d.text()),q=c-1);if(d.data("skip"))return a.html(d.text()),!0;c="";d.data("icon")&&(c='\x3cimg src\x3d"'+d.data("icon")+'"\x3e');d.data("html-text")&&(c=c+"\x3cspan\x3e"+d.data("html-text")+"\x3c/span\x3e");c=b("\x3cli\x3e",{html:c});c.attr("role","option");c.click(function(){a.html(d.text());
f.trigger("hide");h.val(d.val());return!1});b(f).append(c)});c.append(f.hide());b(h).hide();b(h).after(c)},handlers:function(){f.bind("show",function(){if(f.is(":animated"))return!1;c.css("z-index","99999");c.attr("aria-expandeded","true");a.addClass("expanded");f.attr("aria-hidden","false");f.slideDown()}).bind("hide",function(){if(f.is(":animated"))return!1;c.attr("aria-expandeded","true");a.removeClass("expanded");f.attr("aria-hidden","true");f.slideUp(function(){c.css("z-index","0")})}).bind("toggle",
function(){a.hasClass("expanded")?f.trigger("hide"):f.trigger("show")});a.click(function(){f.trigger("toggle");return!1});a.blur(function(){f.trigger("hide");return!1});a.bind("keydown",function(c){if(13==c.keyCode||32==c.keyCode)null!=g&&(a.html(g.text()),b(d).val(g.val())),f.trigger("toggle");27==c.keyCode&&f.trigger("hide");if(40==c.keyCode)c=f.children(),c.removeClass("hover"),q<c.length-1&&q++,c.each(function(a){a==q&&(g=b(this))}),g.addClass("hover");else if(38==c.keyCode)0<q?q--:q=0,c=f.children(),
c.removeClass("hover"),g=null,c.each(function(a){a==q&&(g=b(this))}),g.addClass("hover");else if(9==c.keyCode)return!0;return!1})}}},accordion:function(){var a,h,d=null,c=null;return{config:function(c){a=c;a.attr("role","tablist");b(a).find(".accordion-toggle").attr("tabindex","0");b(a).find(".accordion-toggle").attr("role","tab");b(a).find(".accordion-toggle").attr("aria-expanded","false");b(a).find(".accordion-toggle").attr("aria-selected","false");b(a).find(".accordion-body").attr("aria-hidden",
"true");b(a).find(".accordion-body").attr("role","tabpanel");b(a).find(".accordion-body").find("a").attr("tabindex","-1");_this=this;this.initialize();this.handlers()},initialize:function(){h=b(a).find(".accordion-toggle");b(h).each(function(a){a=b(this).attr("href");a=a.substr(1);b(this).attr("aria-controls",a)})},handlers:function(){h.bind("focus",function(c){null!=d&&d!=this&&(b(d).removeClass("in"),b(d).addClass("collapsed"),b(d).attr("aria-selected","false"),b(d).attr("aria-expanded","false"),
b(a).find("#"+b(d).attr("aria-controls")).attr("aria-hidden","true"),b(a).find("#"+b(d).attr("aria-controls")).attr("tabindex","-1"),b(a).find("#"+b(d).attr("aria-controls")).find("a").attr("tabindex","-1"),b(a).find("#"+b(d).attr("aria-controls")).removeClass("in"),b(a).find("#"+b(d).attr("aria-controls")).animate({height:"0px"}));d!=this&&(b(this).attr("aria-label",b(this).text()+". Press spacebar to toggle the menu. "),b(this).attr("aria-selected","true"));d=this});h.bind("click",function(d){b(this).is(".in")?
(b(a).find("#"+b(this).attr("aria-controls")).find("a").attr("tabindex","-1"),b(this).attr("aria-selected","false"),b(this).attr("aria-expanded","false"),b(a).find("#"+b(this).attr("aria-controls")).attr("aria-hidden","true")):(b(a).find("#"+b(this).attr("aria-controls")).find("a").attr("tabindex","0"),b(this).attr("aria-selected","true"),b(this).attr("aria-expanded","true"),b(a).find("#"+b(this).attr("aria-controls")).attr("aria-hidden","false"));null!=c&&c!=this&&(b(a).find("#"+b(c).attr("aria-controls")).find("a").attr("tabindex",
"-1"),b(c).attr("aria-selected","false"),b(c).attr("aria-expanded","false"),b(a).find("#"+b(c).attr("aria-controls")).attr("aria-hidden","true"));c!=this&&(b(this).attr("aria-label",b(this).text()+". Press spacebar to toggle the menu. "),b(this).attr("aria-selected","true"));c=this});h.bind("keydown",function(c){if(13==c.keyCode||32==c.keyCode)return _this.toggle(this),!1;if(27==c.keyCode)null!=d&&(b(d).removeClass("in"),b(d).addClass("collapsed"),b(d).attr("aria-selected","false"),b(d).attr("aria-expanded",
"false"),b(a).find("#"+b(d).attr("aria-controls")).attr("aria-hidden","true"),b(a).find("#"+b(d).attr("aria-controls")).attr("tabindex","-1"),b(a).find("#"+b(d).attr("aria-controls")).find("a").attr("tabindex","-1"),b(a).find("#"+b(d).attr("aria-controls")).removeClass("in"),b(a).find("#"+b(d).attr("aria-controls")).animate({height:"0px"}));else{if(40==c.keyCode)return c=h.index(this),c=c==h.length-1?h.first():h.eq(c+1),b(c).focus(),!0;if(38==c.keyCode)return c=h.index(this),c=0==c?h.last():h.eq(c-
1),b(c).focus(),!0}})},toggle:function(a){b(a).is(".collapsed")?_this.show(a):_this.hide(a)},show:function(c){b(c).attr("aria-expanded","true");b(c).addClass("in");b(c).removeClass("collapsed");b(a).find("#"+b(c).attr("aria-controls")).attr("aria-hidden","false");b(a).find("#"+b(c).attr("aria-controls")).addClass("in");b(a).find("#"+b(c).attr("aria-controls")).attr("tabindex","0");b(a).find("#"+b(c).attr("aria-controls")).css("height","auto");b(a).find("#"+b(c).attr("aria-controls")).find("a").attr("tabindex",
"0")},hide:function(c){b(c).attr("aria-expanded","false");b(c).addClass("collapsed");b(c).removeClass("in");b(a).find("#"+b(c).attr("aria-controls")).attr("aria-hidden","true");b(a).find("#"+b(c).attr("aria-controls")).removeClass("in");b(a).find("#"+b(c).attr("aria-controls")).attr("tabindex","-1");b(a).find("#"+b(c).attr("aria-controls")).css("height","0px");b(a).find("#"+b(c).attr("aria-controls")).find("a").attr("tabindex","-1")}}}},permanent:{config:{per_val:"PERMANENT",overlay:"PERMANENT"},
storeValue:function(a,b){HRB.tools.log("permanent.storeValue("+a+","+b+")");"PERMANENT"==HRB.permanent.config[a]&&"localStorage"in window&&null!==window.localStorage&&(HRB.session.sessionStorageStatus.isPrivateBrowsing?HRB.tools.log("permanent.storeValue("+a+","+b+"). Apple Private Browse detected. Cookie/Local Storage disabled."+a+" will not be written."):localStorage[a]=b)},getValue:function(a){if("PERMANENT"==HRB.permanent.config[a]&&"localStorage"in window&&null!==window.localStorage)return"undefined"!==
typeof localStorage[a]?"null"!==localStorage[a]&&0<localStorage[a].indexOf("data")?localStorage[a]:null:null}},session:{config:{initialReferer:{typ:"STORE",lvl:"root"},testSS:{typ:"STORE",lvl:"root"},olay:{typ:"STORE",lvl:"root"},ci:{typ:"STORE",lvl:"root"},bvReviewSelector:{typ:"STORE",lvl:"root"},refundEst:{typ:"STORE",lvl:"root"},wsc:{typ:"STORE",lvl:"sub"},main_cookie:{typ:"COOKIE",lvl:"root"},camry_cookie:{typ:"EITHER",lvl:"sub"},bsc_sessiontrack:{typ:"COOKIE",lvl:"root"},digitalriver:{typ:"COOKIE",
lvl:"root"},hrblockCampaignIDcookie:{typ:"COOKIE",lvl:"sub"},hrbopfc:{typ:"COOKIE",lvl:"sub"},HRBStore:{typ:"COOKIE",lvl:"sub"},OI:{typ:"STORE",lvl:"root"},CityImgData:{typ:"STORE",lvl:"root"},calculatorUsage:{typ:"STORE",lvl:"sub"},tpfUsage:{typ:"STORE",lvl:"sub"},drawer:{typ:"STORE",lvl:"sub"},bundle:{typ:"STORE",lvl:"sub"},testAndTarget:{typ:"STORE",lvl:"sub"},softwareHelp:{typ:"STORE",lvl:"sub"},noByAddr:{typ:"STORE",lvl:"sub"},noByLoc:{typ:"STORE",lvl:"sub"},tprSelections:{typ:"STORE",lvl:"sub"},
adobePartnerId:{typ:"STORE",lvl:"root"}},sessionStorageStatus:{storageTested:!1,isSupported:!1,isEnabled:!1,isPrivateBrowsing:!1},storeValue:function(a,b){HRB.tools.log("3.1) session.storeValue("+a+","+b+")");HRB.tools.log("3.2) session.storeValue:"+JSON.stringify(HRB.session.sessionStorageStatus));"undefined"==typeof HRB.session.config[a]&&(HRB.session.config[a]={},HRB.session.config[a].typ="STORE",HRB.session.config[a].lvl="sub");var d=HRB.session.config[a].typ,c=HRB.session.config[a].lvl;if("testSS"==
a){HRB.tools.log("3.3) session.storeValue: testing session storage now...");if("undefined"!==typeof Storage){HRB.session.sessionStorageStatus.isSupported=!0;HRB.tools.log("3.4) session.storeValue: session storage supported!");try{sessionStorage.testSS="1",HRB.tools.log("3.4a) session.storeValue: session storage enabled!"),HRB.session.sessionStorageStatus.isEnabled=!0}catch(f){HRB.tools.log("3.4b) session.storeValue: session storage disabled!"),HRB.session.sessionStorageStatus.isEnabled=!1,HRB.session.sessionStorageStatus.isPrivateBrowsing=
!0}}HRB.session.sessionStorageStatus.storageTested=!0;HRB.tools.log("3.5) session.storeValue: "+JSON.stringify(HRB.session.sessionStorageStatus))}else{HRB.tools.log("4.0) This cookie "+a+" has type "+d);HRB.tools.log("4.1) "+JSON.stringify(HRB.session.sessionStorageStatus));if(HRB.session.sessionStorageStatus.isSupported&&!HRB.session.sessionStorageStatus.isEnabled)return HRB.tools.log("4.2) session.storeValue("+a+","+b+"). Apple Private Browse detected. Cookie/Local Storage disabled."+a+" will not be written."),
!1;if("EITHER"==d)if("undefined"!==typeof Storage)try{return HRB.tools.log("5.1a) setting "+a+" as a COOKIE with value "+b),sessionStorage[a]=b,!0}catch(f){return HRB.tools.log("5.1b) session.storeValue("+a+","+b+"):"+f.message),!1}else HRB.tools.log("5.1c) session.storeValue("+a+","+b+"):"+e.message),k(a,b,null,"/","","",c);else if("COOKIE"==d)HRB.tools.log("5.2) setting "+a+" as a COOKIE with value "+b),k(a,b,null,"/","","",c);else if("STORE"==d&&"undefined"!==typeof Storage)try{return HRB.tools.log("5.3a) setting "+
a+" as a COOKIE with value "+b),sessionStorage[a]=b,!0}catch(f){return HRB.tools.log("5.3b) session.storeValue("+a+","+b+"):"+f.message),!1}}},getValue:function(a){var b="undefined"==typeof HRB.session.config[a]?"STORE":HRB.session.config[a].typ;HRB.tools.log("1) session storage: getValue("+a+") of type "+b);if("EITHER"==b){if("undefined"!==typeof Storage){if("undefined"!==typeof sessionStorage[a])return HRB.tools.log("2a) session storage: getValue("+a+") of type "+b+" returned from storage"),sessionStorage[a];
HRB.tools.log("2b) session storage: getValue("+a+") of type "+b+" returning null");return null}HRB.tools.log("2c) session storage: getValue("+a+") of type "+b+" returning from cookie");return HRB.tools.getCookie(a)}if("COOKIE"==b)return HRB.tools.log("3) session storage: getValue("+a+") of type "+b+" returning from cookie"),HRB.tools.getCookie(a);if("STORE"==b){if("undefined"!==typeof sessionStorage[a])return HRB.tools.log("4a) session storage: getValue("+a+") of type "+b+" returned from storage"),
sessionStorage[a];HRB.tools.log("4b) session storage: getValue("+a+") of type "+b+" returning null");return null}},removeItem:function(a){sessionStorage.removeItem(a)},initItem:function(a,b){sessionStorage[a]=b},officePod:{clientInfo:{lat:"",lon:"",distanceToMyOffice:"",cityImageAddressUrl:"",geoPromptCount:"0",geoPromptAnswered:"0",no:{mapUrl:"",tax_id:""}},oi:{mapUrl:"",tax_id:""}},clientInfo:{location:{byCurrentPosition:{lat:"",lon:""},byAddress:{lat:"",lon:"",address:""}},geoAskedAlready:!1,geoAllowed:!1},
noByAddr:{srchAddr:"",srchLat:"",srchLon:""},noByLoc:{srchLat:"",srchLon:""},calculatorUsage:{te:{s:0,c:0},w4:{s:0,c:0},hc:{s:0,c:0}},tpfUsage:{contactId:0,emeraldSeasonStartDate:"",emeraldPreSeasonStartDate:"",emeraldSeasonEndDate:"",taxSeasonStartDate:"",taxSeasonEndDate:""},testSessionStorage:function(){HRB.session.storeValue("testSS","0")},tprSelections:{201:"N",204:"N",32:"N",47:"N"}},location:{getLocation:{ip:"168.137.32.32",country_code:"US",country_name:"United States",region_code:"MO",region_name:"Missouri",
city:"Kansas City",zipcode:"64111",latitude:39.0572,longitude:-94.5933,metro_code:"616",areacode:"816"},getCurrentLocation:function(a,b){var d=HRB.session.getValue("ci");null==d&&HRB.session.initItem("ci",JSON.stringify(HRB.session.clientInfo));var c=jQuery.parseJSON(d);c.geoAllowed?(d={coords:{}},d.coords.latitude=c.location.byCurrentPosition.lat,d.coords.longitude=c.location.byCurrentPosition.lon,a(d)):(c.geoAskedAlready=!0,navigator.geolocation?navigator.geolocation.getCurrentPosition(function(b){c.location.byCurrentPosition.lat=
b.coords.latitude;c.location.byCurrentPosition.lon=b.coords.longitude;c.geoAllowed=!0;HRB.session.storeValue("ci",JSON.stringify(c));a(b)},function(a){c.geoAllowed=!1;HRB.session.storeValue("ci",JSON.stringify(c));switch(a.code){case a.PERMISSION_DENIED:HRB.locator.geoDenied=!0}b(a)}):(c.geoAllowed=!1,HRB.session.storeValue("ci",JSON.stringify(c)),b(null)))}},search:{getSearch:function(a){a.event.preventDefault();term=a.form.searchbox.value;a=void 0!=a.form.sectionbox?a.form.sectionbox.value:null;
a=null!=a?"x1\x3dsection;q1\x3d"+a+";":"";if(""==term)return alert("please enter text to search"),!1;searchurl="http://"+HRB.integration.getURL("SEARCH")+".hrblock.com/?"+a+"q\x3d"+escape(term);if(HRB.test)return searchurl;location.href=searchurl}},locator:{baOffice:!1,officeId:null,isBAOffice2:function(a){b.ajax({url:"/locator-service/officeservice/tpf/001/data/getOfficeDetailsByTaxID?oid\x3d"+a,async:!1,method:"GET",success:function(a){a&&a.ftLocations&&0<a.ftLocations.length?"BA"==a.ftLocations[0].aff_nm?
(HRB.locator.baOffice=!0,HRB.locator.officeType="BA"):(HRB.locator.baOffice=!1,HRB.locator.officeType="REG"):(HRB.locator.baOffice=!1,HRB.locator.officeType="")},error:function(a){HRB.tools.log("isBAOffice2 Failed : "+a);HRB.locator.officeType=""}})},getRootPath:function(a){null==a&&(a=HRB.session.getValue("OI"),a=jQuery.parseJSON(a).clientInfo.no.officeType);return"BA"==a?"/ba-appointments/tax-offices/local-offices/":"/tax-offices/local-offices/"},getOfficeProfilePath:function(a){return HRB.locator.getRootPath(a)+
"index.html#!/"+HRB.locator.getLocale()+"/office-profile/"},getAppointmentCalendarPath:function(a){return HRB.locator.getRootPath(a)+"appointment-setting.html#/"+HRB.locator.getLocale()+"/calendar/"},getAppointmentPath:function(a){return HRB.locator.getRootPath(a)+"appointment-setting.html#/"+HRB.locator.getLocale()+"/appointment/"},getOfficeDirectionPath:function(a){return HRB.locator.getRootPath(a)+"office-directions.html#!/"+HRB.locator.getLocale()+"/direction/"},getOfficeLocatorPath:function(a){return HRB.locator.getRootPath(a)+
"index.html#!/"+HRB.locator.getLocale()+"/office-locator/"},getOfficesForAddressOrZip:function(a){return HRB.locator.getRootPath(a)+"index.html#!/"+HRB.locator.getLocale()+"/office-list/"},getLocale:function(){var a="en";try{window.location.pathname&&1==window.location.pathname.indexOf("espanol")&&(a="es")}catch(h){}return a},mapSize:"170x140",geoSupport:!1,geoDenied:!1,geoUnavailable:!1,geoTimeout:!1,geoError:!1,default_opts:{url:"/tax-offices/local-offices/#!/en/office-list/",typemap:{hc:"healthcare\x3d1",
samplekey:"value"}},getLocations:function(a){var h=HRB.locator.default_opts;a.event.preventDefault();var d=a.form.zipcode.value;if(""==d)return b(".map-office-pod .find-office-txt").html("Address cannot be blank"),b(".map-office-pod .find-office-txt").css({color:"red"}),!1;var c=h.url+d;"undefined"!=typeof a.type&&(c+="\x26"+h.typemap[a.type]);HRB.libraries.isHrObj()&&HR.Utils.isMobile.any()&&(c="/tax-offices/local-offices/#!/en/office-list/"+d,HRB.tools.log("mobile:"+HRB.libraries.isHrObj()&&HR.Utils.isMobile.any()));
HRB.tools.log("Form submitted post to "+c);location.href=c},updateSessionInfoAfterAppointmentMade:function(){},formatAddress:function(a,h,d,c,f,q){a=b.trim(a);""!=h&&(a+="\x3cbr\x3e"+b.trim(h));return a+("\x3cbr\x3e"+c+","+f+" "+q)},getOfficeHours:function(a){var b={seasonClosed:"",pastClosing:"",hours:"",closed:""};(new Date).getDay();a=a["week1_"+"sun mon tues wed thur fri sat".split(" ")[(new Date).getDay()]];null!=a&&-1<a.indexOf("\x3e")&&(oh=a.substr(a.indexOf("\x3e")+1),"closed"==oh.toLowerCase()?
"force-my-office-open"==HRB.tools.getQueryUrl("ol")?b.hours="9 - 4":(b.closed="1",b.hours="Closed"):b.hours=oh);"office-closed"==HRB.tools.getQueryUrl("ol")&&(b.closed="1");return b},getNearestOfficeInfoOnly:function(a,h,d){a="/locator-service/officeservice/ol/001/jsonp/getOfficeDetailsOrderByDistance?query\x3dlt:"+a.lat+","+a.lon+"|d:80|s:s\x26callback\x3d?";var c={};HRB.tools.log("getNearestOfficeInfoOnly: Nearest office url : "+a);b.getJSON(a,null,function(a){if("undefined"==typeof a)HRB.tools.log("getNearestOfficeInfoOnly:getOfficeDetailsOrderByDistance:no response"),
d(c);else if("undefined"!=typeof a.statusCode&&"failed"==a.statusCode.toLowerCase())HRB.tools.log("getNearestOfficeInfoOnly:getOfficeDetailsOrderByDistance:status:"+a.statusCode+","+a.statusMessage),d(c);else if("undefined"!=typeof a.ftLocations&&null!=a.ftLocations&&0<a.ftLocations.length){for(var f=a.ftLocations[0],g=0;g<a.ftLocations.length;g++){f=a.ftLocations[g];if(0!=f.fatp_ind&&"BA"!=f.aff_nm&&(2==f.cdas||1==f.yr_round_ind))break;f=null}null!=f?(HRB.tools.log("officeObj : "+JSON.stringify(f)),
c.tax_id=f.tax_id,"BA"==f.aff_nm?(HRB.locator.baOffice=!0,HRB.locator.officeType="BA"):(HRB.locator.baOffice=!1,HRB.locator.officeType="REG"),c.officeType=HRB.locator.officeType,c.latitude=f.Latitude,c.longitude=f.Longitude,c.addressLine=f.AddressLine,c.addressLine2=f.AddressLine2,c.addressLine3=f.AddressLine3,c.primaryCity=f.PrimaryCity,c.subdivision=f.Subdivision,c.seas_close_ind=f.seas_close_ind,c.postalCode=f.PostalCode,c.countryRegion=f.CountryRegion,c.distance=f.distance,c.tax_phone=f.tax_phone,
c.week1_sun=f.week1_sun,c.week1_mon=f.week1_mon,c.week1_tues=f.week1_tues,c.week1_wed=f.week1_wed,c.week1_thur=f.week1_thur,c.week1_fri=f.week1_fri,c.week1_sat=f.week1_sat,c.seas_close_ind=f.seas_close_ind,c.fatp_ind=f.fatp_ind,c.formattedAddress=HRB.locator.formatAddress(c.addressLine,c.addressLine2,c.addressLine3,c.primaryCity,c.subdivision,c.postalCode),HRB.settings.officeMaps.enableSignedUrlCall&&(HRB.tools.log("getNearestOfficeMapUrl():get signed url..."),f=[{path:"",query:"",key:"1"}],f[0].path=
"/maps/api/staticmap",f[0].query="center\x3d"+c.latitude+","+c.longitude+"\x26client\x3dgme-hrbtaxgroupinc1\x26zoom\x3d15\x26size\x3d"+HRB.locator.mapSize+"\x26sensor\x3dfalse\x26markers\x3dcolor:green%7Clabel:*%7C"+c.latitude+","+c.longitude,f=escape(JSON.stringify(f)),b.getJSON("/locator-service/officeservice/ol/001/jsonp/getSignedURL?req\x3d"+f+"\x26callback\x3d?",null,function(b){"undefined"==typeof b&&HRB.tools.log("getNearestOfficeMapUrl:getSignedURL:no response");"failed"==b.status.toLowerCase()?
HRB.tools.log("getNearestOfficeMapUrl:getSignedURL:status:"+a.status+","+a.statusMessage):(HRB.tools.log("getNearestOfficeMapUrl():signed url..."+c.mapUrl),c.mapUrl="//maps.googleapis.com"+b.signedURL[1])})),c.todaysHours=HRB.locator.getOfficeHours(c),c.officeDetailsUrl=HRB.locator.getOfficeProfilePath(c.officeType)+c.tax_id,c.makeApptUrl=HRB.locator.getAppointmentCalendarPath(c.officeType)+c.tax_id,c.directionsUrl=HRB.locator.getOfficeDirectionPath(c.officeType)+c.postalCode,1!=c.fatp_ind?(c.showMakeApptCTA=
!1,c.showCallOfficeCTA=!0):(c.showMakeApptCTA=!0,c.showCallOfficeCTA=!1),h(c)):d(c)}else HRB.tools.log("getNearestOfficeInfoOnly:getOfficeDetailsOrderByDistance:status:"+a.statusCode+","+a.statusMessage),d(c)})},getNextAppointmentTime:function(a,b,d){var c={apptDate:"",apptTime:"",apptLink:"",msg:""};HRB.locator.getContactId(function(h){HRB.tools.log("Office Pod contactId - "+h.contactId);HRB.locator.getAppointments(a,h,null,function(d){if(0<d.length&&null!=d[0].appointmentList&&0<d[0].appointmentList.length){d=
d[0].appointmentList;1<d.length&&(d=d.slice(0,1));for(var h=0;h<d.length;h++){var f=d[h],g=a+"/"+f.appointmentToken;null!=f.employeeId&&0!=f.employeeId&&(g=a+"/"+f.employeeId+"/"+f.appointmentToken);var t=f.formattedStartDate.replace(/\s+/g,"");f=t.substring(0,t.lastIndexOf("/"));t=t.substring(t.indexOf("|")+1,t.length);0==h&&(c.apptDate=f,c.apptTime=t,c.apptLink=HRB.locator.getAppointmentPath("NON-BA")+g,c.msg="appointment found",b(c))}}else c.msg="no appointment found",b(c)},function(a,b,h){respMsg=
b;c.msg=respMsg;d(c)})},function(a,b,h){respMsg=b;c.msg=respMsg;d(c)})},formatSysDate:function(){var a=new Date,b=a.getMonth()+1,d=a.getDate();a=a.getFullYear()+"-";a=10>b?a+"0"+b+"-":a+b+"-";return 10>d?a+"0"+d:a+d},getUserLocaleTime:function(){var a;(new Date).toLocaleTimeString();var b=new Date,d=b.getHours();12<d&&(d-=12);b=b.getMinutes();var c=d-(new Date).getHours();0<b&&d++;d=d+2-c;8>=d?a="08:00:00":8<d&&23>=d?a=d+":00:00":23<d&&(a="23:00:00");return a},getContactId:function(a,h){var d=HRB.session.getValue("tpfUsage"),
c=null,f=0;null!=d?(c=jQuery.parseJSON(d),f=c.contactId):(HRB.tools.log("initialize tpfUsage with value "+JSON.stringify(HRB.session.tpfUsage)),HRB.session.storeValue("tpfUsage",JSON.stringify(HRB.session.tpfUsage)),d=HRB.session.getValue("tpfUsage"),c=jQuery.parseJSON(d));0==f?b.ajax({type:"GET",url:"/gateway-am/services/tpf/meta/appmeta",data:"",success:function(b,d,h){f=b.response.contactId;HRB.tools.log("ContactId : "+f);null!=c&&(c.contactId=f,c.emeraldSeasonStartDate=b.response.emeraldSeasonStartDate.replace(/-/g,
"/"),c.emeraldPreSeasonStartDate=b.response.emeraldPreSeasonStartDate.replace(/-/g,"/"),c.emeraldSeasonEndDate=b.response.emeraldSeasonEndDate.replace(/-/g,"/"),c.taxSeasonStartDate=b.response.taxSeasonStartDate.replace(/-/g,"/"),c.taxSeasonEndDate=b.response.taxSeasonEndDate.replace(/-/g,"/"),HRB.session.storeValue("tpfUsage",JSON.stringify(c)));a(c)},error:function(a,b,c){h(a,b,c)}}):a(c)},getTaxPros:function(a,h,d,c){var f={};f.officeId=a;f.contactId=h;a=JSON.stringify(f);var g=[];HRB.tools.log("Office Pod - "+
a);b.ajax({headers:{Accept:"application/json","Content-Type":"application/json"},type:"POST",url:"/gateway-am/services/tpf/taxpro/basicinfo-bm",data:a,success:function(a,b,c){if(null!=a.response&&a.response.taxProList)for(a=a.response.taxProList,b=0;b<a.length;b++)"A"!=a[b].seasonalityIndicator&&"D"!=a[b].seasonalityIndicator||g.push(a[b].employeeId);d(g)},error:function(a,b,d){c(a,b,d)}})},getTaxProDetails:function(a,h,d,c,f){var g={};g.officeId=a;g.contactId=h;g.employeeList=d;a=JSON.stringify(g);
var k=[];HRB.tools.log("Office Pod - "+a);b.ajax({headers:{Accept:"application/json","Content-Type":"application/json"},type:"POST",url:"/gateway-am/services/tpf/taxpro/details-officeid-empidlist",data:a,success:function(a,b,d){HRB.tools.log("getTaxProDetails - "+a);null!=a.response&&a.response.taxProList&&0<a.response.taxProList.length&&(k=a.response.taxProList[0]);c(k)},error:function(a,b,c){f(a,b,c)}})},getAppointments:function(a,h,d,c,f){var g={numberOfSlots:50,duration:"",clientRating:1,earliestAppointment:!0,
multiState:!1,appointmentServiceType:"OFFICE",spanishIndicator:!1,slotFilter:"TP"};g.officeList=[a];g.employeeList=[d];g.appointmentStartDateTime=HRB.locator.formatSysDate()+"T08:00:00";g.appointmentEndDateTime=HRB.locator.formatSysDate()+"T22:00:00";g.contactId=h.contactId;g.appointmentStartDateTimeUser=HRB.locator.formatSysDate()+"T"+HRB.locator.getUserLocaleTime();g.serviceType=1;g.catpFlowType="CATPNonBestMatch";g.employeeRole=1;a=JSON.stringify(g);HRB.tools.log("Office Pod - "+a);b.ajax({headers:{Accept:"application/json",
"Content-Type":"application/json"},type:"POST",url:"/gateway-am/services/tpf/appointment/available-slots",data:a,success:function(a,b,d){b=[];null!=a&&null!=a.response&&null!=a.response.officeAppointmentList&&0<a.response.officeAppointmentList.length&&(b=a.response.officeAppointmentList);c(b)},error:function(a,b,c){f(a,b,c)}})}},analytics:{callRule:function(a,b){HRB.tools.log('DTM: hrb.js: HRB.analytics.callRule: calling _dd("'+a+'")');try{callAnalytics(a,b)}catch(d){return HRB.tools.log("DTM: hrb.js: HRB.analytics.callRule: error! :"+
d),!1}return!0}},personalization:{processApptConfirmation:function(a,b,d,c,f,g){return!0}},datatrack:{processPixels:function(a){"undefined"!=typeof a&&"undefined"!=typeof a.px?(a=a.px,HRB.tools.log("processPixels : "+a),a=a.split(","),b.each(a,function(a,b){HRB.tools.log("px : "+b);processPixelTracking(b)})):HRB.tools.log("Info Only: dataTrack did not specify any pixels to fire.")}},pixel:{processPixel:function(a){processPixelTracking.apply(this,arguments)}},libraries:{isHrObj:function(){return"undefined"===
typeof HR?!1:!0},isCategorizr:function(){return"undefined"===typeof categorizr?!1:!0}},omniture:{doAnalytics:function(a,b){"undefined"==typeof omni_pagename&&(omni_pagename="wasundefined");for(key in a);a.pid="undefined"!=typeof a.pid?a.pid:"-1";var d="undefined"!=typeof a.rule?a.rule:"n/a";var c="undefined"!=typeof a.linkname?a.linkname:"n/a",f="undefined"!=typeof a.loc?a.loc:"n/a",h="undefined"!=typeof a.nm?a.nm:"n/a";"rc"==d&&(d="page_link");if("n/a"==d)if("undefined"==typeof a.trackevents&&"undefined"==
typeof a.trackvars)d="page_link";else{HRB.tools.log("DTM:hrb.js:trackevents and/or trackvars found.  link must be updated with DTM sytnax.");try{HRB.tools.log("DTM:hrb.js:trackevents value was '"+JSON.stringify(a.trackevents)+"'")}catch(u){}try{HRB.tools.log("DTM:hrb.js:trackvars value was '"+JSON.stringify(a.trackvars)+"'")}catch(u){}}if("undefined"==typeof a.trackvars||""==a.trackvars)a.trackvars={};"sn"==a.type&&"n/a"==d&&(d="page_link");"dn"==a.type&&"n/a"==d&&(d="page_link");if("sn"==a.type||
"dn"==a.type){try{var g=HRB.products.getProducts().getProductPlatform(a.pid)}catch(u){HRB.tools.log("doAnalytics:Exception Handler:obj.pid is:"+a.pid)}g="O"==g?"tco":"R"==g?"off":"S"==g?"tcs":"nfd";a.trackevents="undefined"!=typeof a.trackevents?a.trackevents+",event14":"event14";"-1"==a.pid?(a.trackvars.eVar10="dn"==a.type?"software-unknown product id-"+a.nm+"-"+omni_pagename+"-"+c:"online-unknown product id-"+a.nm+"-"+omni_pagename+"-"+c,a.trackvars.prop5="D\x3dv10"):(a.trackvars.eVar10=g+"-"+a.pid+
"-"+HRB.products.getProducts().getProductName(a.pid)+"-"+omni_pagename+"-"+c,a.trackvars.prop5="D\x3dv10",HRB.products.getProducts().getProductName(a.pid))}a.trackvars.eVar48=omni_pagename+"/nav/"+f+"/"+h;if("n/a"!=d)HRB.analytics.callRule(d,a),HRB.tools.log("DTM:hrb.js:HRB.analytics.callRule('"+d+"') complete. Continued...");else{HRB.tools.log("DTM:hrb.js:since ruleNameToCall is "+d+" calling scode in legacy format.");try{this.recordEvent(this,a,b)}catch(u){HRB.tools.log("DTM: hrb.js: 1: failed calling scode in legacy format. Error:"+
u)}}},recordEvent:function(a,b,d){b=this.buildOmnitureObject(JSON.stringify(b));HRB.tools.log("DTM: hrb.js: recordEvent():calling scode in legacy format. Your link "+d+" was not DTM compliant OR adobedtm.js not in page.");this.webAnalytics(a,b,d)},buildOmnitureObject:function(a){var b=-1!=a.indexOf("@ref:")?!0:!1;dataObj=jQuery.parseJSON(a);a={trackvars:{},trackevents:"",linktype:""};var d="undefined"!=typeof dataObj.trackevents?dataObj.trackevents:null,c="undefined"!=typeof dataObj.linktype?dataObj.linktype:
"o";a.trackvars="undefined"!=typeof dataObj.trackvars?dataObj.trackvars:null;a.trackevents=d;a.linktype=c;if(b)for(key in a.trackvars)HRB.tools.log("key: "+key+" has value "+a.trackvars[key]),a.trackvars.hasOwnProperty(key)&&0==a.trackvars[key].indexOf("@ref:")&&(d=a.trackvars[key],b=d.substr(5),HRB.tools.log("for key '"+key+"', replace keyValue '"+d+"' with '"+HRB.dataLayer[b]),a.trackvars[key]=HRB.dataLayer[b],HRB.tools.log("obj.trackvars["+key+"] now has value '"+a.trackvars[key]+"'"));return a},
webAnalytics:function(a,b,d){var c=s_gi(s_hrb.account);c.prop19=""==c.pageName?"":c.pageName;c.prop20=c.prop19;c.eVar100="Legacy call format. Update "+d+" to use call rule";c.linkTrackVars="eVar100,";d=b.trackvars;for(key in d)if(d.hasOwnProperty(key)){c[key]=d[key];if("undefined"==typeof c.linkTrackVars||"undefined"!=typeof c.linkTrackVars&&"none"==c.linkTrackVars.toLowerCase())c.linkTrackVars="";c.linkTrackVars+=key+","}b.trackevents&&(c.events=b.trackevents,c.linkTrackEvents=b.trackevents,c.linkTrackVars+=
"events");c.linkType=b.linktype;"undefined"!=typeof g_exceptionToRecord&&""!=g_exceptionToRecord?(HRB.tools.log("DTM: hrb.js: OMNITURE CALL: LEGACY ROUTE! - Exception Call"),c.tl(a,c.linkType,g_exceptionToRecord),g_exceptionToRecord=""):(HRB.tools.log("DTM: hrb.js: OMNITURE CALL: LEGACY ROUTE!"),c.tl(!0,c.linkType,c.prop19));for(key in d)d.hasOwnProperty(key)&&(c[key]="");c.linkTrackVars="None";c.linkTrackEvents="None";c.events=""},recordVirtualPage:function(a){processPixelTracking("omnivirtual",
"channel\x3d"+a.channel+"\x26subchannel\x3d"+a.subchannel+"\x26page_id\x3d"+a.pageid+"\x26"+a.evars+"\x26"+a.props+"\x26events\x3d"+a.events+"\x26products\x3d"+a.products+"\x26rnd\x3d"+Math.random())}},partner:{offermatica_ptnr_id:null,fromSearchEngine:function(){return HRB.page.getPageProperties().getRefPartner()},fromURL:function(){return HRB.tools.getQueryUrl("otpPartnerId")},fromCookie:function(){var a=HRB.session.getValue("main_cookie");return HRB.tools.getQueryParam("otpPartnerId",a)},fromTarget:function(){return HRB.session.getValue("adobePartnerId")},
determinePartnerId:function(){var a=HRB.partner.fromURL(),b=HRB.partner.fromCookie(),d=HRB.partner.fromSearchEngine(),c=HRB.partner.fromTarget();if(null!=a&&a!=c||null!=b&&b!=c)HRB.tools.log("pricing: Since cookie ["+b+"] or url ["+a+"] !\x3d adobe ["+c+"] kill adobe session obj"),removeAdobePriceTestObject(),c=null;var f=null!=c?c:null!=a?a:null!=b?b:null!=d?d:0;HRB.tools.log("pricing: adobe cookie:  t_partner_id:"+c);HRB.tools.log("pricing: URL:\t       u_partner_id:"+a);HRB.tools.log("pricing: main cookie:   c_partner_id:"+
b);HRB.tools.log("pricing: search engine: s_partner_id:"+d);HRB.tools.log("pricing: The partner id we'll use is: "+f);return f}},products:{getServiceHost:function(){var a="";try{var h=b("#servicehost").val();void 0!=h&&"/"==h.substring(h.length-1)&&(a=h.substring(0,h.length-1),HRB.tools.log("ServiceHost is: "+h))}catch(d){a=""}return a},default_opts:{url:"/api/hrb/pricingservice/"},getProducts:function(){return l},isLateSeasonPartner:function(a){try{return-1!=HRBData.config.lspPartners.indexOf(a+
"")?!0:!1}catch(h){return!1}},displayPricing:function(){HRB.tools.log("displayPricing: ****************** BEGIN ****************");b('[class*\x3d"product-price"]').each(function(a){if(b(this).hasClass("product-price")){try{var d=jQuery.parseJSON(JSON.stringify(b(this).data("product")))}catch(v){HRB.tools.log("displayPricing: 1:"+v)}a="undefined"!=typeof d&&null!=d?d.pid:null;if("undefined"!=typeof a&&null!=a){try{var c=b(this).attr("itemprop"),f=b(this).attr("content");if("undefined"!==typeof c&&
!1!==c&&"undefined"!==typeof f&&!1!==f){var g=parseFloat(l.getProductInfo(a).ppr);0>g&&(g="0.00");b(this).attr("content",g)}}catch(v){HRB.tools.log("displayPricing: error setting price schema info:"+v)}c=a;if(HRBData.config.bEnableTprPriceUpdate&&"32"==a|"47"==a|"201"==a|"204"==a&&"Y"==HRB.ui.getTPRbyProduct(a).toUpperCase()){switch(a){case "201":d.skipTpr||(a="Free201PlusTpr45");break;case "204":d.skipTpr||(a="Deluxe204PlusTpr46");break;case "32":d.skipTpr||(a="Prem32PlusTpr44");break;case "47":d.skipTpr||
(a="SelfEmp47PlusTpr49")}HRB.tools.log("TPR: original pid:"+c+", using this pid for price "+a)}c=l.getProductInfo(a);"undefined"==c||null==c?HRB.tools.log("displayPricing: can't find product data for product id '"+a+"'"):("S"==c.pl?0==l.getObj().status.tcs&&b("[data-product*\x3d"+a+"]").css("color","#7D007D"):0==l.getObj().status.tco&&b("[data-product*\x3d"+a+"]").css("color","#7D007D"),f=Number(parseFloat(c.ppr).toFixed(2)),g=Number(parseFloat(c.bpr).toFixed(2)),0>f?d="$0\x26nbsp;":0==f?d="$"+c.bpr.replace(/[.,]00$/,
""):f<g?(f="",d.lb&&(f="\x3cbr\x3e"),d=b(this).hasClass("strike-through-last")?"$"+c.ppr.replace(/[.,]00$/,"")+f+"\x3cdel\x3e$"+c.bpr.replace(/[.,]00$/,"")+"\x3c/del\x3e":"\x3cdel\x3e$"+c.bpr.replace(/[.,]00$/,"")+"\x3c/del\x3e"+f+"$"+c.ppr.replace(/[.,]00$/,"")):f>g?(d="$"+c.ppr.replace(/[.,]00$/,""),HRB.tools.log("displayPricing: setPID "+a+" "+c.on+' partner price as "'+d+'"')):d="$"+c.bpr.replace(/[.,]00$/,""),this.innerHTML=d,HRB.tools.log("displayPricing: set "+a+" "+c.on+' price as "'+d+'"'))}}});
try{HRB.tools.log("displayPricing: notifying page that displayPricing is complete"),displayPricingComplete()}catch(h){HRB.tools.log("displayPricing: page did not implement displayPricingComplete()")}try{HrbTunneled.processPartnerDrawer()}catch(h){HRB.tools.log("displayPricing: error calling HRB.tunneled.processPartnerDrawer():"+h+". Is partner-drawer.html on the page?")}var a=l.getObj();for(i=0;i<a.prodList.length;i++)b(".bvRatings .bvProdRating .prodRating"+a.prodList[i].pid).css("width",23*a.prodList[i].rt+
"px"),b(".bvRatings .bvProdReviews"+a.prodList[i].pid).html(a.prodList[i].rv+" customer reviews"),b(".bvRatings").css({visibility:"visible",display:"block"});HRB.tools.log("displayPricing: ****************** END ****************")},processPricing:function(){otp_partner_id=g_partner_id;HRB.tools.log("otp_partner_id: "+otp_partner_id);null==HRB.session.getValue("bsc_sessiontrack")&&HRB.session.storeValue("bsc_sessiontrack",HRB.tools.getBscId(),"","/",".hrblock.com","");var a=HRB.products.default_opts;
l=new PartnerProduct;var g=HRB.tools.getQueryUrl("CamryID");if(HRBData.config.bEnablePidCamryOverride){var d=HRBData.config.pidCamryOverride[otp_partner_id];"undefined"!=typeof d&&(g=d)}d=HRB.session.getValue("wsc");HRB.tools.log("wsc cookie value: "+d);if(null!=d){HRB.tools.log("inside wsc condition");d=HRB.tools._decompress(d);HRB.tools.log("Decompressed wscCookie: "+d);try{if(l.setObj(jQuery.parseJSON(d)),otp_partner_id!=l.getObj().partner.otpPartnerID||HRB.bForcePartnerChange)l.setObj(jQuery.parseJSON('{"status":{"tco":0,"tcs":0,"ver":1},"partner":{"cid":"otpPartnerID\x3d0","name":"-","typ":"normal","welcome":"na","otpPartnerID":"0","tunnel":0,"partnerID":"0","active":1},"prodList":[{"pid":"64",                "bpr":"0.00",  "ppr":"0.00",  "sk":"NA",         "sn":"-","lm":"/tax-offices/","pl":"R","on":"-","rv":"0","rt":"0"},{"pid":"31",                "bpr":"0.00",  "ppr":"0.00",  "sk":"NA",         "sn":"-","lm":"/online-tax-filing/","pl":"O","on":"parent","rv":"0","rt":"0"},{"pid":"201",               "bpr":"0.00",  "ppr":"-1",    "sk":"TCFFED",     "sn":"TaxType\x3dTCF\x26TaxYear\x3d2022","lm":"/online-tax-filing/free-online-tax-filing/","pl":"O","on":"free_edition_fed","rv":"","rt":""},{"pid":"202",               "bpr":"0.00",  "ppr":"-1",    "sk":"TCFSTA",     "sn":"-","lm":"202.html","pl":"O","on":"free_edition-state","rv":"0","rt":"0"},{"pid":"45",                "bpr":"70.00", "ppr":"70.00", "sk":"TCFReview",  "sn":"-","lm":"/online-tax-filing/","pl":"O","on":"taxpro_review_for_free","rv":"","rt":""},{"pid":"204",               "bpr":"55.00", "ppr":"55.00", "sk":"TCDFED",     "sn":"TaxType\x3dTCD\x26TaxYear\x3d2022","lm":"/online-tax-filing/deluxe-online-tax-filing/","pl":"O","on":"deluxe_fed","rv":"","rt":""},{"pid":"205",               "bpr":"49.00", "ppr":"49.00", "sk":"TCDSTA",     "sn":"-","lm":"205.html","pl":"O","on":"deluxe_state","rv":"0","rt":"0"},{"pid":"46",                "bpr":"60.00", "ppr":"60.00", "sk":"TCDReview",  "sn":"-","lm":"/online-tax-filing/","pl":"O","on":"taxpro_review_for_deluxe","rv":"","rt":""},{"pid":"32",                "bpr":"75.00", "ppr":"75.00", "sk":"PAID1040FED","sn":"TaxType\x3dOPP\x26TaxYear\x3d2022","lm":"/online-tax-filing/premium-online-tax-filing/","pl":"O","on":"premium","rv":"","rt":""},{"pid":"192",               "bpr":"49.00", "ppr":"49.00", "sk":"PAID1040STA","sn":"-","lm":"192.html","pl":"O","on":"premium_state","rv":"0","rt":"0"},{"pid":"44",                "bpr":"90.00", "ppr":"90.00", "sk":"OPPReview",  "sn":"-","lm":"/online-tax-filing/","pl":"O","on":"taxpro_review_for_premium","rv":"","rt":""},{"pid":"47",                "bpr":"115.00","ppr":"115.00","sk":"SEPFed",     "sn":"TaxType\x3dSEP\x26TaxYear\x3d2022","lm":"/online-tax-filing/self-employed-online-tax-filing/","pl":"O","on":"selfemployed_fed_return","rv":"","rt":""},{"pid":"48",                "bpr":"49.00", "ppr":"49.00", "sk":"SEPSta",     "sn":"-","lm":"","pl":"O","on":"selfemployed_state_return","rv":"","rt":""},{"pid":"49",                "bpr":"90.00", "ppr":"90.00", "sk":"SEPReview",  "sn":"-","lm":"/online-tax-filing/self-employed-online-tax-filing/","pl":"O","on":"taxpro_review_for_selfemployed","rv":"","rt":""},{"pid":"50",                "bpr":"119.99","ppr":"119.99","sk":"TRVFed",     "sn":"TaxType\x3dTRV\x26TaxYear\x3d2022","lm":"/online-tax-filing/tax-pro-review/","pl":"O","on":"taxproreview_fed_return","rv":"","rt":""},{"pid":"51",                "bpr":"40.00", "ppr":"40.00", "sk":"TRVSta",     "sn":"-","lm":"","pl":"O","on":"taxproreview_state_return","rv":"","rt":""},{"pid":"52",                "bpr":"70.00", "ppr":"70.00", "sk":"OABFED",     "sn":"TaxType\x3dOAB\x26TaxYear\x3d2022","lm":"","pl":"O","on":"assist basic fed","rv":"","rt":""},{"pid":"53",                "bpr":"40.00", "ppr":"40.00", "sk":"OABSTA",     "sn":"-","lm":"","pl":"O","on":"assist basic state","rv":"","rt":""},{"pid":"54",                "bpr":"115.00","ppr":"115.00","sk":"OADFED",     "sn":"TaxType\x3dOAD\x26TaxYear\x3d2022","lm":"","pl":"O","on":"assist deluxe fed","rv":"","rt":""},{"pid":"55",                "bpr":"50.00", "ppr":"50.00", "sk":"OADSTA",     "sn":"-","lm":"","pl":"O","on":"assist deluxe state","rv":"","rt":""},{"pid":"56",                "bpr":"165.00","ppr":"165.00","sk":"OAPFED",     "sn":"TaxType\x3dOAP\x26TaxYear\x3d2022","lm":"","pl":"O","on":"assist premium fed","rv":"","rt":""},{"pid":"57",                "bpr":"50.00", "ppr":"50.00", "sk":"OAPSTA",     "sn":"-","lm":"","pl":"O","on":"assist premium state","rv":"","rt":""},{"pid":"58",                "bpr":"195.00","ppr":"195.00","sk":"OASFED",     "sn":"TaxType\x3dOAS\x26TaxYear\x3d2022","lm":"","pl":"O","on":"assist self emp fed","rv":"","rt":""},{"pid":"59",                "bpr":"50.00", "ppr":"50.00", "sk":"OASSTA",     "sn":"-","lm":"","pl":"O","on":"assist self emp state","rv":"","rt":""},{"pid":"60",                "bpr":"145.00","ppr":"145.00","sk":"SMBFED",     "sn":"TaxType\x3dSMB\x26TaxYear\x3d2022","lm":"","pl":"O","on":"small business fed","rv":"","rt":""},{"pid":"61",                "bpr":"49.00", "ppr":"49.00", "sk":"SMBSTA",     "sn":"-","lm":"","pl":"O","on":"small business state","rv":"","rt":""},{"pid":"85",                "bpr":"0.00",  "ppr":"0.00",  "sk":"FREE1040FED","sn":"TaxType\x3dOTP\x26TaxYear\x3d2022","lm":"product.jsp?productId\x3d85","pl":"O","on":"ffa","rv":"","rt":""},{"pid":"189",               "bpr":"0.00",  "ppr":"0.00",  "sk":"FREE1040STA","sn":"-","lm":"product.jsp?productId\x3d189","pl":"O","on":"ffa_st","rv":"0","rt":"0"},{"pid":"199",               "bpr":"29.95", "ppr":"29.95", "sk":{"win":"WDBF","mac":"MDBF"},"sn":"-","lm":"/tax-software/basic-tax-software/","pl":"S","on":"tcs_basic_fed","rv":"","rt":""},{"pid":"206",               "bpr":"44.95", "ppr":"44.95", "sk":{"win":"WDDF","mac":"MDDF"},"sn":"-","lm":"/tax-software/deluxe-without-state/","pl":"S","on":"tcs_deluxe_fed","rv":"0","rt":"0"},{"pid":"207",               "bpr":"54.95", "ppr":"54.95", "sk":{"win":"WDDA","mac":"MDDA"},"sn":"-","lm":"/tax-software/deluxe-tax-software/","pl":"S","on":"tcs_deluxe_state","rv":"","rt":""},{"pid":"36",                "bpr":"74.95", "ppr":"74.95", "sk":{"win":"WDPA","mac":"MDPA"},"sn":"-","lm":"/tax-software/premium-tax-software/","pl":"S","on":"tcs_premium_fed","rv":"","rt":""},{"pid":"38",                "bpr":"89.95", "ppr":"89.95", "sk":{"win":"WDPH","mac":"MDPH"},"sn":"-","lm":"/tax-software/premium-small-business-tax-software/","pl":"S","on":"tcs_home_and_business","rv":"","rt":""},{"pid":"39",                "bpr":"39.95", "ppr":"39.95", "sk":{"win":"","mac":""},        "sn":"-","lm":"/tax-software/state-editions.html","pl":"S","on":"tcs_state","rv":"0","rt":"0"}]}'));
else{HRB.products.displayPricing();return}}catch(t){HRB.tools.log("processPricing : "+t)}}else try{l.setObj(jQuery.parseJSON('{"status":{"tco":0,"tcs":0,"ver":1},"partner":{"cid":"otpPartnerID\x3d0","name":"-","typ":"normal","welcome":"na","otpPartnerID":"0","tunnel":0,"partnerID":"0","active":1},"prodList":[{"pid":"64",                "bpr":"0.00",  "ppr":"0.00",  "sk":"NA",         "sn":"-","lm":"/tax-offices/","pl":"R","on":"-","rv":"0","rt":"0"},{"pid":"31",                "bpr":"0.00",  "ppr":"0.00",  "sk":"NA",         "sn":"-","lm":"/online-tax-filing/","pl":"O","on":"parent","rv":"0","rt":"0"},{"pid":"201",               "bpr":"0.00",  "ppr":"-1",    "sk":"TCFFED",     "sn":"TaxType\x3dTCF\x26TaxYear\x3d2022","lm":"/online-tax-filing/free-online-tax-filing/","pl":"O","on":"free_edition_fed","rv":"","rt":""},{"pid":"202",               "bpr":"0.00",  "ppr":"-1",    "sk":"TCFSTA",     "sn":"-","lm":"202.html","pl":"O","on":"free_edition-state","rv":"0","rt":"0"},{"pid":"45",                "bpr":"70.00", "ppr":"70.00", "sk":"TCFReview",  "sn":"-","lm":"/online-tax-filing/","pl":"O","on":"taxpro_review_for_free","rv":"","rt":""},{"pid":"204",               "bpr":"55.00", "ppr":"55.00", "sk":"TCDFED",     "sn":"TaxType\x3dTCD\x26TaxYear\x3d2022","lm":"/online-tax-filing/deluxe-online-tax-filing/","pl":"O","on":"deluxe_fed","rv":"","rt":""},{"pid":"205",               "bpr":"49.00", "ppr":"49.00", "sk":"TCDSTA",     "sn":"-","lm":"205.html","pl":"O","on":"deluxe_state","rv":"0","rt":"0"},{"pid":"46",                "bpr":"60.00", "ppr":"60.00", "sk":"TCDReview",  "sn":"-","lm":"/online-tax-filing/","pl":"O","on":"taxpro_review_for_deluxe","rv":"","rt":""},{"pid":"32",                "bpr":"75.00", "ppr":"75.00", "sk":"PAID1040FED","sn":"TaxType\x3dOPP\x26TaxYear\x3d2022","lm":"/online-tax-filing/premium-online-tax-filing/","pl":"O","on":"premium","rv":"","rt":""},{"pid":"192",               "bpr":"49.00", "ppr":"49.00", "sk":"PAID1040STA","sn":"-","lm":"192.html","pl":"O","on":"premium_state","rv":"0","rt":"0"},{"pid":"44",                "bpr":"90.00", "ppr":"90.00", "sk":"OPPReview",  "sn":"-","lm":"/online-tax-filing/","pl":"O","on":"taxpro_review_for_premium","rv":"","rt":""},{"pid":"47",                "bpr":"115.00","ppr":"115.00","sk":"SEPFed",     "sn":"TaxType\x3dSEP\x26TaxYear\x3d2022","lm":"/online-tax-filing/self-employed-online-tax-filing/","pl":"O","on":"selfemployed_fed_return","rv":"","rt":""},{"pid":"48",                "bpr":"49.00", "ppr":"49.00", "sk":"SEPSta",     "sn":"-","lm":"","pl":"O","on":"selfemployed_state_return","rv":"","rt":""},{"pid":"49",                "bpr":"90.00", "ppr":"90.00", "sk":"SEPReview",  "sn":"-","lm":"/online-tax-filing/self-employed-online-tax-filing/","pl":"O","on":"taxpro_review_for_selfemployed","rv":"","rt":""},{"pid":"50",                "bpr":"119.99","ppr":"119.99","sk":"TRVFed",     "sn":"TaxType\x3dTRV\x26TaxYear\x3d2022","lm":"/online-tax-filing/tax-pro-review/","pl":"O","on":"taxproreview_fed_return","rv":"","rt":""},{"pid":"51",                "bpr":"40.00", "ppr":"40.00", "sk":"TRVSta",     "sn":"-","lm":"","pl":"O","on":"taxproreview_state_return","rv":"","rt":""},{"pid":"52",                "bpr":"70.00", "ppr":"70.00", "sk":"OABFED",     "sn":"TaxType\x3dOAB\x26TaxYear\x3d2022","lm":"","pl":"O","on":"assist basic fed","rv":"","rt":""},{"pid":"53",                "bpr":"40.00", "ppr":"40.00", "sk":"OABSTA",     "sn":"-","lm":"","pl":"O","on":"assist basic state","rv":"","rt":""},{"pid":"54",                "bpr":"115.00","ppr":"115.00","sk":"OADFED",     "sn":"TaxType\x3dOAD\x26TaxYear\x3d2022","lm":"","pl":"O","on":"assist deluxe fed","rv":"","rt":""},{"pid":"55",                "bpr":"50.00", "ppr":"50.00", "sk":"OADSTA",     "sn":"-","lm":"","pl":"O","on":"assist deluxe state","rv":"","rt":""},{"pid":"56",                "bpr":"165.00","ppr":"165.00","sk":"OAPFED",     "sn":"TaxType\x3dOAP\x26TaxYear\x3d2022","lm":"","pl":"O","on":"assist premium fed","rv":"","rt":""},{"pid":"57",                "bpr":"50.00", "ppr":"50.00", "sk":"OAPSTA",     "sn":"-","lm":"","pl":"O","on":"assist premium state","rv":"","rt":""},{"pid":"58",                "bpr":"195.00","ppr":"195.00","sk":"OASFED",     "sn":"TaxType\x3dOAS\x26TaxYear\x3d2022","lm":"","pl":"O","on":"assist self emp fed","rv":"","rt":""},{"pid":"59",                "bpr":"50.00", "ppr":"50.00", "sk":"OASSTA",     "sn":"-","lm":"","pl":"O","on":"assist self emp state","rv":"","rt":""},{"pid":"60",                "bpr":"145.00","ppr":"145.00","sk":"SMBFED",     "sn":"TaxType\x3dSMB\x26TaxYear\x3d2022","lm":"","pl":"O","on":"small business fed","rv":"","rt":""},{"pid":"61",                "bpr":"49.00", "ppr":"49.00", "sk":"SMBSTA",     "sn":"-","lm":"","pl":"O","on":"small business state","rv":"","rt":""},{"pid":"85",                "bpr":"0.00",  "ppr":"0.00",  "sk":"FREE1040FED","sn":"TaxType\x3dOTP\x26TaxYear\x3d2022","lm":"product.jsp?productId\x3d85","pl":"O","on":"ffa","rv":"","rt":""},{"pid":"189",               "bpr":"0.00",  "ppr":"0.00",  "sk":"FREE1040STA","sn":"-","lm":"product.jsp?productId\x3d189","pl":"O","on":"ffa_st","rv":"0","rt":"0"},{"pid":"199",               "bpr":"29.95", "ppr":"29.95", "sk":{"win":"WDBF","mac":"MDBF"},"sn":"-","lm":"/tax-software/basic-tax-software/","pl":"S","on":"tcs_basic_fed","rv":"","rt":""},{"pid":"206",               "bpr":"44.95", "ppr":"44.95", "sk":{"win":"WDDF","mac":"MDDF"},"sn":"-","lm":"/tax-software/deluxe-without-state/","pl":"S","on":"tcs_deluxe_fed","rv":"0","rt":"0"},{"pid":"207",               "bpr":"54.95", "ppr":"54.95", "sk":{"win":"WDDA","mac":"MDDA"},"sn":"-","lm":"/tax-software/deluxe-tax-software/","pl":"S","on":"tcs_deluxe_state","rv":"","rt":""},{"pid":"36",                "bpr":"74.95", "ppr":"74.95", "sk":{"win":"WDPA","mac":"MDPA"},"sn":"-","lm":"/tax-software/premium-tax-software/","pl":"S","on":"tcs_premium_fed","rv":"","rt":""},{"pid":"38",                "bpr":"89.95", "ppr":"89.95", "sk":{"win":"WDPH","mac":"MDPH"},"sn":"-","lm":"/tax-software/premium-small-business-tax-software/","pl":"S","on":"tcs_home_and_business","rv":"","rt":""},{"pid":"39",                "bpr":"39.95", "ppr":"39.95", "sk":{"win":"","mac":""},        "sn":"-","lm":"/tax-software/state-editions.html","pl":"S","on":"tcs_state","rv":"0","rt":"0"}]}'))}catch(t){}var c=
!1;try{var f=HRB.tools.getQueryUrl("campaignid");if(null!=f){HRB.tools.log("ES: campaignIdToEvaluate:"+f);var k=f.lastIndexOf("_");HRB.tools.log("ES: pidIndex:"+k);var m=f.substr(k+1);HRB.tools.log("ES: partner id from campaignid parameter is:"+m);HRBData.config.estest.corestream&&"7443"==m?(otp_partner_id=9538,c=!0):HRBData.config.estest.beneplace&&"4359"==m?(otp_partner_id=9539,c=!0):HRBData.config.estest.perkspot&&"4209"==m&&(otp_partner_id=9540,c=!0);"DEV"==HRB.tools.checkEnv()&&"7801"==m&&(otp_partner_id=
9540,c=!0)}}catch(t){HRB.tools.log("ES: error is "+t)}HRB.tools.log("processPricing","calling ajax to get pricing for partner id: "+otp_partner_id);var p=!1,w="";f=HRB.products.getServiceHost();""!=f&&"undefined"!=f&&void 0!=f&&(a.url=f+a.url);a.url+="pid/"+otp_partner_id;null!=g&&""!=g&&(a.url+="/offerid/"+g);b.ajax({type:"GET",url:a.url,dataType:"json",timeout:5E3,beforeSend:function(a){a.setRequestHeader("TRACKINGIDTOKEN","5fe2d3e1ba5bd581b22348564a794978255664a0")},success:function(a){if(0!=a.productVOList.length){c&&
(a.partnerVO.otpPartnerID="9423");var b=l.getPartnerInfo();var d={basePrice:"",bvrating:"",bvreview:"",learnMore:"",partnerPrice:"",platform:"O",productId:"Free201PlusTpr45",productName:"",serviceName:"",skuText:"",startNow:""};a.productVOList.push(d);d={basePrice:"",bvrating:"",bvreview:"",learnMore:"",partnerPrice:"",platform:"O",productId:"Deluxe204PlusTpr46",productName:"",serviceName:"",skuText:"",startNow:""};a.productVOList.push(d);d={basePrice:"",bvrating:"",bvreview:"",learnMore:"",partnerPrice:"",
platform:"O",productId:"Prem32PlusTpr44",productName:"",serviceName:"",skuText:"",startNow:""};a.productVOList.push(d);d={basePrice:"",bvrating:"",bvreview:"",learnMore:"",partnerPrice:"",platform:"O",productId:"SelfEmp47PlusTpr49",productName:"",serviceName:"",skuText:"",startNow:""};a.productVOList.push(d);HRB.tools.log("processPricing: camry id from service is:"+a.partnerVO.cid);-1==a.partnerVO.cid.toLowerCase().indexOf("camryid\x3d")&&(a.partnerVO.cid="CamryID\x3d"+a.partnerVO.cid,HRB.tools.log("processPricing: modified camry to be:"+
a.partnerVO.cid));b.cid=a.partnerVO.cid;b.partnerName=a.partnerVO.partnerName;b.partnerType=a.partnerVO.partnerType;b.otpPartnerID=a.partnerVO.otpPartnerID;b.partnerTunnel=a.partnerVO.partnerTunnelInd;b.partnerID=a.partnerVO.partnerID;b.partnerActive=a.partnerVO.partnerActiveStatusInd;b.welcome=a.partnerVO.partnerWelcomeText;HRBData.config.bEnableBasePriceChange&&HRB.products.isLateSeasonPartner(b.otpPartnerID)&&(p=!0);for(var f=d=b=0,h=0,k=0,m=0,q=0,t=0,v=0,u=0,y=0,x=0,r=0;r<a.productVOList.length;r++){var n=
l.getProductInfo(a.productVOList[r].productId);if(null!=n){w=a.productVOList[r].basePrice;if(p)try{"undefined"!=typeof HRBData.config.lsp[n.pid]&&(w=HRBData.config.lsp[n.pid])}catch(z){HRB.tools.log("hrb.js:no special price for product #"+n.pid+" found.  Using "+w)}n.bpr=w;n.ppr=a.productVOList[r].partnerPrice;n.sn=a.productVOList[r].startNow;"undefined"!=typeof n.sn&&"undefined"!=typeof n.sn!=null&&-1!=n.sn.indexOf("/loginRedirect.html?")&&(n.sn=n.sn.replace("/loginRedirect.html?",""));n.rt=a.productVOList[r].bvrating;
n.rv=a.productVOList[r].bvreview;switch(a.productVOList[r].productId){case "201":b=a.productVOList[r].partnerPrice;d=w;break;case "45":f=a.productVOList[r].partnerPrice;break;case "204":h=a.productVOList[r].partnerPrice;k=w;break;case "46":m=a.productVOList[r].partnerPrice;break;case "32":q=a.productVOList[r].partnerPrice;t=w;break;case "44":v=a.productVOList[r].partnerPrice;break;case "47":u=a.productVOList[r].partnerPrice,y=w;case "49":x=a.productVOList[r].partnerPrice}}}l.getObj().status.tco=0;
for(i=l.getObj().status.tcs=0;i<a.statusVOs.length;i++)"online_pricing"==a.statusVOs[i].service.toLowerCase()?"success"==a.statusVOs[i].status.toLowerCase()?l.getObj().status.tco=1:(console.error("tcx service error"),console.error("tcx error: pid: "+a.partnerVO.otpPartnerID)):"software-pricing"==a.statusVOs[i].service.toLowerCase()||"software-pricing-v2"==a.statusVOs[i].service.toLowerCase()?"success"==a.statusVOs[i].status.toLowerCase()?l.getObj().status.tcs=1:(console.error("software service error"),
-1!=a.statusVOs[1].errorCode.indexOf("RestClientException")?console.error("software error: pid: "+a.partnerVO.otpPartnerID+". software pricing service is unavailable"):console.error("software error: pid: "+a.partnerVO.otpPartnerID+". check priceGroupKey "+a.partnerVO.cid)):console.error("unable to determine pricing service call status.  service:"+a.statusVOs[i].service+", status: "+a.statusVOs[i].status+", errorCode: "+a.statusVOs[i].errorCode+",errorMessage: "+a.statusVOs[i].errorMessage);b="-1"==
b?0:b;h="-1"==h?0:h;q="-1"==q?0:q;u="-1"==u?0:u;for(r=0;r<a.productVOList.length;r++)n=l.getProductInfo(a.productVOList[r].productId),null!=n&&("Free201PlusTpr45"==n.pid&&(n.ppr=(parseFloat(b)+parseFloat(f)).toFixed(2),n.bpr=(parseFloat(d)+parseFloat(f)).toFixed(2),HRB.tools.log("TPR: set pid "+n.pid+" bpr:"+n.bpr+", and ppr:"+n.ppr)),"Deluxe204PlusTpr46"==n.pid&&(n.ppr=(parseFloat(h)+parseFloat(m)).toFixed(2),n.bpr=(parseFloat(k)+parseFloat(m)).toFixed(2),HRB.tools.log("TPR: Deluxe PPR:"+h+". Deluxe BPR:"+
k),HRB.tools.log("TPR: set pid "+n.pid+" bpr:"+n.bpr+", and ppr:"+n.ppr)),"Prem32PlusTpr44"==n.pid&&(n.ppr=(parseFloat(q)+parseFloat(v)).toFixed(2),n.bpr=(parseFloat(t)+parseFloat(v)).toFixed(2),HRB.tools.log("TPR: set pid "+n.pid+" bpr:"+n.bpr+", and ppr:"+n.ppr)),"SelfEmp47PlusTpr49"==n.pid&&(n.ppr=(parseFloat(u)+parseFloat(x)).toFixed(2),n.bpr=(parseFloat(y)+parseFloat(x)).toFixed(2),HRB.tools.log("TPR: set pid "+n.pid+" bpr:"+n.bpr+", and ppr:"+n.ppr)));HRB.session.storeValue("drawer",null);HRB.tools.log("New Object"+
JSON.stringify(l.getObj()));b=HRB.tools._compress(JSON.stringify(l.getObj()));HRB.tools.log("compress object: "+b);HRB.session.storeValue("wsc",b);HRB.tools.log("processPricing: writing digitalriver with "+g);HRB.session.storeValue("digitalriver",g);useThisCID=a.partnerVO.cid;if("no__thanks"==useThisCID||"0"==useThisCID||"na"==useThisCID)useThisCID="";a.partnerVO.otpPartnerID!=g_partner_id&&(HRB.tools.log("Since "+a.partnerVO.otpPartnerID+" !\x3d "+g_partner_id+" lets overwrite main_cookie"),g_b_ws_partner_id_different=
!0,g_partner_cid=useThisCID,g_partner_id=a.partnerVO.otpPartnerID,HRB.session.storeValue("main_cookie","\x26otpPartnerId\x3d"+g_partner_id+"\x26PartnerId\x3d"+g_partner_id));processDigitalRiverCookie()}HRB.products.displayPricing()},error:function(a,b,c){HRB.tools.log("ajax Error:"+a.responseText);HRB.products.displayPricing()}})}}}}(jQuery);
function Page(){this.setQueryMap=function(b){this.queryMap=b};this.getQueryMap=function(){return this.queryMap};this.setReferrer=function(b){this.ref=b};this.getReferrer=function(){return this.ref};this.setRefPartner=function(b){this.refPartner=b};this.getRefPartner=function(){return this.refPartner};this.setSearchTerm=function(b){this.searchTerm=b};this.getSearchTerm=function(){return this.searchTerm};this.setCampaignId=function(b){this.campaignId=b};this.getCampaignId=function(){return this.campaignId};
this.setPath=function(b){this.path=b};this.getPath=function(){return this.path}}
function PartnerProduct(){this.getObj=function(){return this._partner_product};this.setObj=function(b){this._partner_product=b};this.getPartnerInfo=function(){return this._partner_product.partner};this.getProductInfo=function(b){for(var k=this._partner_product.prodList,g=0;g<k.length;g++)if(k[g].pid==b)return k[g];return null};this.getProductsByPlatform=function(b){for(var k=[],g=this._partner_product.prodList,m=0;m<g.length;m++)g[m].pl==b&&(k[k.length]=g[m]);return k};this.getProductBasePrice=function(b){return this.getProductInfo(b).bpr};
this.getProductPartnerPrice=function(b){return this.getProductInfo(b).ppr};this.getPartnerTunnel=function(){return this._partner_product.partner.partnerTunnel};this.getPartnerWelcomeText=function(){return this._partner_product.partner.welcome};this.getPartnerType=function(){return this._partner_product.partner.partnerType};this.getProductName=function(b){return-1!=b?this._partner_product.prodList.length?this.getProductInfo(b).on:"nfd":"nfd"};this.getProductPlatform=function(b){if(this._partner_product.prodList.length)return this.getProductInfo(b).pl}}
function processMainCookie(){var b=HRB.partner.fromSearchEngine(),k=HRB.partner.fromURL(),g=HRB.partner.fromCookie(),m=HRB.partner.fromTarget();g_partner_id==HRB.spclEmpSolPartnerId&&(HRB.bIsSpclEmpSolPartner=!0,HRBData.config.bSpclEmpSolEnabled&&k==HRB.spclEmpSolPartnerId&&(HRB.bForcePartnerChange=!0));HRB.tools.log("processMainCookie():g_partner_id_from_search_engine:"+b);HRB.tools.log("processMainCookie():g_partner_id_from_url:"+k);HRB.tools.log("processMainCookie():g_partner_id_from_cookie:"+
g);HRB.tools.log("processMainCookie():g_partner_id_from_target:"+m);HRB.tools.log("\x3cb\x3eInside processMainCookie\x3c/b\x3e");var l=location.search;HRB.tools.log("1 query:"+l);l=l.split("\x26");for(var p="",a=0;a<l.length;a++)-1==l[a].indexOf("omnisource")&&(0!=a&&(p+="\x26"),p+=l[a]);l=unescape(p);HRB.tools.log("2 query:"+l);p=["reffriendid"];a="";for(var h=null,d=0;d<p.length;d++)try{h=HRB.tools.getQueryUrl(p[d]),null!=h&&(a+="\x26"+p[d]+"\x3d"+h)}catch(c){}""!=m&&null!=m?(HRB.tools.log("processMainCookie(): writing partner id '"+
m+"' assigned by offermatica. Call setCookie('main_cookie','otpPartnerId\x3d"+g_partner_id+"\x26PartnerId\x3d"+g_partner_id+"')\x3cbr/\x3e"),HRB.session.storeValue("main_cookie","\x26otpPartnerId\x3d"+g_partner_id+"\x26PartnerId\x3d"+g_partner_id+a)):""!=k&&null!=k?k!=g||HRB.bForcePartnerChange?(-1!=l.indexOf("?")&&(l=l.slice(l.indexOf("?")+1)),b=l.toLowerCase(),iBeginPos=b.indexOf("otppartnerid"),fullQS=l.substring(0,iBeginPos)+"otpPartnerId\x3d"+l.substring(iBeginPos+13,l.length),l=fullQS.replace(/@/g,
""),HRB.tools.log("processMainCookie(): g_partner_id_from_url["+k+"] !\x3d g_partner_id_from_cookie["+g+"] so write g_partner_id["+g_partner_id+"] to the cookie.\x3cbr/\x3e"),HRB.session.storeValue("main_cookie","\x26"+l+"\x26PartnerID\x3d"+g_partner_id)):HRB.tools.log("processMainCookie(): no need to write/re-write main_cookie since g_partner_id_from_url["+k+"] \x3d\x3d g_partner_id_from_cookie["+g+"].  Re-writing would delete site-visit parm values anyway.\x3cbr/\x3e"):""!=g&&null!=g?HRB.tools.log("processMainCookie(): g_partner_id_from_cookie["+
g+"] is not \x3d\x3d '' and not \x3d\x3d null, so don't write main_cookie.\x3cbr/\x3e"):""!=b&&null!=b?(HRB.tools.log("processMainCookie(): g_partner_id_from_search_engine["+b+"] valued so write it to main_cookie.\x3cbr/\x3e"),HRB.session.storeValue("main_cookie","\x26otpPartnerId\x3d"+g_partner_id+"\x26PartnerId\x3d"+b+"\x26srchTerm\x3d"+HRB.page.getPageProperties().getSearchTerm()+a)):(-1!=l.indexOf("?")&&(l=l.slice(l.indexOf("?")+1)),HRB.tools.log("processMainCookie(): no partner id available from anywhere so use default partner id for this domain + current query string.\x3cbr/\x3e"),
HRB.session.storeValue("main_cookie","\x26"+l+"\x26otpPartnerId\x3d"+g_partner_id+"\x26PartnerID\x3d"+g_partner_id))}function getDR_cookie_info(){var b="";g_b_drInfoInCookie=!1;null!=HRB.session.getValue("digitalriver")&&(b=HRB.tools.getQueryParam("CamryID",HRB.session.getValue("digitalriver")),null!=b&&""!=b&&(b="CamryID\x3d"+b,g_b_drInfoInCookie=!0));return b}function getDR_ws_info(){return useThisCID}
function processDigitalRiverCookie(){null!=HRB.tools.getQueryUrl("CamryID")&&(g_dr_url_info="CamryID\x3d"+HRB.tools.getQueryUrl("CamryID"));HRB.tools.log("\x3cb\x3eInside processDigitalRiverCookie\x3c/b\x3e");var b=HRB.tools.getQueryParam("otppartnerid",HRB.session.getValue("digitalriver"));HRB.tools.log("pidFromSoftwareCookie:"+b);g_partner_id!=b&&(HRB.session.storeValue("digitalriver",""),HRB.tools.log("processDigitalRiverCookie: write digitalriver with empty string"),HRB.tools.log("processDigitalRiverCookie : g_partner_id:"+
g_partner_id+" !\x3d getCookiePartnerId:"+b));var k=getDR_cookie_info(),g=getDR_ws_info();g_b_ws_partner_id_different?(b=g_partner_cid,HRB.tools.log("processDigitalRiverCookie: use DR info from pricing service response :"+b)):""==g_dr_url_info||g_partner_id!=b&&g_b_drInfoInCookie?g_b_drInfoInCookie&&g_partner_id==b?(b=k,HRB.tools.log("processDigitalRiverCookie: use DR info from COOKIE :"+b)):null!=g&&""!=g&&0!=g?(b=g,HRB.tools.log("processDigitalRiverCookie: use DR info from ws call:"+b),HRBData.config.bEnablePidCamryOverride&&
(k=HRBData.config.pidCamryOverride[otp_partner_id],"undefined"!=typeof k&&(b="CamryID\x3d"+k))):b="":(b=g_dr_url_info,HRB.tools.log("processDigitalRiverCookie: use DR info from url :"+b));g_partner_cid=b;""!=b&&(b="\x26otppartnerid\x3d"+g_partner_id+"\x26"+b);HRB.session.storeValue("digitalriver",b);HRB.tools.log("processDigitalRiverCookie :: value digitalriver with "+b);HRB.tools.log("processDigitalRiverCookie :: main cookie:"+HRB.session.getValue("main_cookie")+" DR cookie:"+HRB.session.getValue("digitalriver"))}
function campaignIdCheck(){var b=HRB.tools.getQueryUrl("CampaignID");HRB.tools.log("top of campaignIdCheck(): CampaignID in url is '"+b);null!=b?(HRB.session.storeValue("hrblockCampaignIDcookie","CampaignID\x3d"+b),HRB.tools.log("campaignIdCheck(): cookie 'hrblockCampaignIDcookie' set to 'CampaignID\x3d"+b+"'.\x3cbr/\x3e")):HRB.tools.log("campaignIdCheck(): do not write cookie 'hrblockCampaignIDcookie' since it wasn't in the url.\x3cbr/\x3e")}g_sys={checkEnv:function(){return HRB.tools.checkEnv()}};
function WinOpen_(b,k,g){popupWin=open(b,"popup","status\x3dyes,toolbar\x3dno,directories\x3dno,scrollbars\x3dyes,menubar\x3dno,resizable\x3dyes,width\x3d"+k+",height\x3d"+g);popupWin.focus()}
function getAddress(b){var k=b.coords.latitude,g=b.coords.longitude;$('input[name\x3d"geo"]').val(k+","+g);$.getJSON("/locator-service/officeservice/ol/001/data/getOfficeDetailsOrderByDistance?query\x3dlt:"+k+","+g+"|d:30|s:s\x26callback\x3d?",null,function(b){$(".map").attr("src","//maps.googleapis.com/maps/api/staticmap?center\x3d"+k+","+g+"\x26zoom\x3d15\x26size\x3d"+HRB.locator.mapSize+"\x26sensor\x3dfalse\x26markers\x3dcolor:green%7Clabel:*%7C"+k+","+g);$("#officeAddrTmpl").tmpl(b.ftLocations[0]).appendTo(".tax_office");
$("#officeAddrTmpl").tmpl(b.ftLocations[0]).appendTo(".office-address");$("#office-id").val(b.ftLocations[0].tax_id)});$.getJSON("//maps.googleapis.com/maps/api/geocode/json?latlng\x3d"+k+","+g+"\x26sensor\x3dtrue",null,function(b){try{$('input[name\x3d"add"]').val(b.results[0].formatted_address)}catch(l){}})}HRB.tools.log("TEST SESSION STORAGE");HRB.session.testSessionStorage();null==HRB.session.getValue("OI")&&HRB.session.storeValue("OI",JSON.stringify(HRB.session.officePod));
function removeAdobePriceTestObject(){HRB.tools.log("pricing: removing 'adobePartnerId' session object");sessionStorage.removeItem("adobePartnerId");HRB.bRemoveAdobeSessionObject=!0}function openWin(b){window.open(b)}
function processPixelTracking(b,k){var g=null,m=null;if("undefined"!=typeof b&&null!=b&&""!=b)g=b,"undefined"!=typeof k&&null!=k&&""!=k&&(m=k),HRB.tools.log("###processPixelTracking:TOKEN '"+b+"' specified.  Additional parameters (if any) are: "+m);else if("undefined"!=typeof location.pathname||null!=location.pathname)g=location.pathname,-1!=g.indexOf("/")&&-1==g.indexOf(".html")&&(g+="index.html"),-1!=location.href.indexOf("ttiptitle")&&"undefined"!=typeof g_tax_tip_id&&(g="TAXTIP"),k=location.search,
"undefined"==typeof location.search&&null==k||-1==k.indexOf("action\x3dfindappointment")||(g+=location.search),HRB.tools.log("###processPixelTracking:TOKEN not specified. _url_or_token:"+g);k={_pixelobj:[],getPixels:function(a){var b=location.pathname;-1!=b.indexOf("/")&&-1==b.indexOf(".html")&&(b+="index.html");for(var c=0;c<this._pixelobj.length;c++)if(this._pixelobj[c].pagetoken==a){if("undefined"!=typeof this._pixelobj[c].exclusion){a=[];for(var f=0;f<this._pixelobj[c].exclusion.length;f++){for(var g=
this._pixelobj[c].exclusion[f].split("$"),h=!1,k=0;k<g.length;k++)if(null!=b.match(new RegExp(g[k]))){h=!0;break}h||(a[a.length]=this._pixelobj[c].pixel[f])}return a}return this._pixelobj[c].pixel}return null},getExtImagePixels:function(a){var b=location.pathname;-1!=b.indexOf("/")&&b.indexOf(".html");for(b=0;b<this._pixelobj.length;b++)if(this._pixelobj[b].pagetoken==a){if("undefined"!=typeof this._pixelobj[b].imgpixel)return this._pixelobj[b].imgpixel;break}return null}};var l=document.createElement("div");
l.setAttribute("id","hrb_pixel_tracker_div");l.style.width="0px";l.style.height="0px";l.style.overflow="hidden";document.body.appendChild(l);var p=null;p="undefined"!=typeof b&&null!=b&&""!=b?null:k.getPixels("GENERIC");b=k.getPixels(g);null!=b?null!=p&&(b=p.concat(b)):b=p;if(null!=b)for(p=0;p<b.length;p++)if(null!=b[p]){var a=pixelCreateIFrame(b[p],m);l.appendChild(a)}g=k.getExtImagePixels(g);null!=g&&((new Image).src=g,HRB.tools.log("###processPixelTracking:Image Pixel source is "+g))}
function createIframe(b,k){var g="pixel_frame_"+parseInt(100*Math.random()),m=document.createElement("IFRAME");"undefined"==typeof k||null==k?(m.style.width="30px",m.style.height="0px",m.style.border="0px",m.width="30px",m.height="0px",m.title="pixel-iframe-"+Math.floor(1E3*Math.random()+1),m.setAttribute("tabindex","-1"),m.setAttribute("aria-hidden","true")):(m.style.width=k.w+"px",m.style.height=k.h+"px",m.width=k.w+"px",m.height=k.h+"px","undefined"!=typeof k.b?(m.style.border=k.b+"px",m.frameBorder=
k.b):(m.style.border="0px",m.frameBorder=0),"undefined"!=typeof k.s?m.scrolling=1==k.s?"yes":"no":m.style.scrolling="no");m.id=g;m.src=b;HRB.tools.log("###processPixelTracking:createIframe("+b+","+k+"): iframe source is "+b);return m}function pixelCreateIFrame(b,k){return createIframe("/includes/pixel/pix_"+b+(null==k?"":"?"+k))}function callAnalytics(b,k){try{_dd(b,k)}catch(g){HRB.tools.log("DTM: hrb.js: callAnalytics: error! :"+g)}};