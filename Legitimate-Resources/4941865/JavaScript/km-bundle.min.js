"use strict";function hero_carousel_init(){var e=document.querySelectorAll(".km-hero-carousel");function c(o,e){var n,e=e.getElementsByClassName("km-content-carousel")[0];e&&(n="km-carousel-content-active",0!==(e=Array.prototype.slice.call(e.getElementsByClassName("km-carousel-slide-content"))).length&&e.forEach(function(e){var t=e.dataset.slide||null;e.classList.remove(n),parseInt(t)===o&&e.classList.add(n)}))}Array.prototype.slice.call(e).forEach(function(e){e.getElementsByClassName("km-carousel-scroll-down")[0]&&scrollToElement(".km-carousel-scroll-down"),function(e){var t=e.getElementsByClassName("km-slide-carousel")[0];if(!t)return;var o=e.getElementsByClassName("swiper-button-prev")[0],n=e.getElementsByClassName("swiper-button-next")[0],a=e.getElementsByClassName("swiper-pagination")[0],s=e.dataset,r=s.pagination||null,i="1"===s.arrows,l={speed:s.speed?parseInt(s.speed):300,spaceBetween:100,loop:"1"===s.loop,effect:"fade",fadeEffect:{crossFade:!0},on:{slideChange:function(){c(this.realIndex,e)},init:function(){c(this.realIndex,e)}},navigation:{},pagination:{clickable:!0,renderBullet:function(e,t){return'<span class="carousel-bullet '+t+'"><svg><use xlink:href="#swiper-square" /></svg></span>'}}};i&&o&&(l.navigation.prevEl=o);i&&n&&(l.navigation.nextEl=n);a&&(l.pagination.el=a);r&&(l.pagination.type=s.pagination);s.autoplay&&(l.autoplay={},l.autoplay.delay=s.autoplay);"bullets"===r&&(l.renderBullet=function(e,t){return'<span class="'+t+'">'+(e+1)+"</span>"});new Swiper(t,l)}(e)}),kmIntersect(Array.from(document.querySelectorAll(".lazy-bg-video")),{observerProps:{threshold:[.3]},on:function(e,t){return loadLazyVideo(e,t)},off:function(e,t){return pauseLazyVideo(e,t)}})}function siteSearch(){var e=Array.from(document.getElementsByClassName("km-search-form")),s="search-active";e.forEach(function(t){var e=t.getElementsByClassName("km-search-input")[0];function o(e){t.contains(e.target)||(a(),document.removeEventListener("click",o,!1))}function n(e){"Escape"===e.code&&(a(),document.removeEventListener("keydown",n,!1))}function a(){document.activeElement!=document.body&&document.activeElement.blur(),e.value="",t.classList.remove(s)}t.getElementsByClassName("km-search-icon")[0].addEventListener("click",function(e){t.classList.toggle(s),function(e){e.classList.contains(s)&&(document.addEventListener("click",o,!1),document.addEventListener("keydown",n,!1))}(t)},!1)})}function unsupportedBrowser(e){var t=document.getElementById("unsupported-browser");if(!t)return null;hookDissmissButtons(t),initBrowserSupport(t,{Chrome:80,Firefox:60,IE:11,Edge:15,Opera:65,Safari:11},e)}function hookDissmissButtons(t){Array.prototype.slice.call(t.querySelectorAll(".ubb-dismiss-btn")).forEach(function(e){e.addEventListener("click",function(){t.classList.add("ubb-dismissed")})})}function initBrowserSupport(e,t,o){var n=new BrowserDetector(t),t="ubb-not-supported";n.isSupported()?e.classList.remove(t):e.classList.add(t),o&&(n=n.showInfo,n=JSON.parse(n),n=JSON.stringify(n,void 0,4),console.log(n))}function initManualModals(){Array.prototype.slice.call(document.getElementsByClassName("km-cta-popup-trigger")).forEach(function(e){return e.addEventListener("click",showModal,!1)})}function showModal(e){var t=e.currentTarget,o=t.dataset.modal;Array.prototype.slice.call(document.getElementsByClassName("km-timed-modal")).forEach(function(e){t&&e&&e.dataset.kmModalSskey===o&&(document.body.classList.add("kmm-active"),e.classList.add("km-modal-visible"))})}function initSwiper(a,e){var s=e||{},r=[];function i(e){var o={},n=!1,t=0,a=arguments.length;"[object Boolean]"===Object.prototype.toString.call(e)&&(n=e,t++);for(t=0;t<a;t++)!function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n&&"[object Object]"===Object.prototype.toString.call(e[t])?o[t]=i(!0,o[t],e[t]):o[t]=e[t])}(arguments[t]);return o}r.forEach(function(e){e.destroy(!0,!0)}),Array.prototype.slice.call(document.querySelectorAll(a)).forEach(function(e,t){var o,n;e.querySelector(".swiper-container")&&(t="km-"+a.split(".km-")[1].split("-").map(function(e){return e.split("")[0]}).join("")+"-"+(t+1),(t=i(!0,{targetSwiper:"#"+(e.id=t)+" .swiper-container",classHolder:"#"+t,classPrefix:"swiper-is-",swiperProps:{navigation:{nextEl:"#"+t+" .next-btn",prevEl:"#"+t+" .prev-btn"},pagination:{el:"#"+t+" .fn-"+(t="nav"in e.dataset?e.dataset.nav:"bullets"),type:t,clickable:!0,renderBullet:function(e,t){return'<span class="swn-bullet '+t+'"><svg><use xlink:href="#swiper-square" /></svg></span>'}}}},s)).swiperProps=i(!0,t.swiperProps,(o=e.dataset,n={},Object.keys(o).forEach(function(e){switch(e){case"autoplay":var t="slideInterval"in o?parseInt(o.slideInterval):3e3;"true"===o.autoplay&&(n.autoplay={},n.autoplay.delay=t);break;case"speed":n.speed=parseFloat(o.speed);break;case"autoHeight":n.autoHeight="true"===o.autoHeight;break;case"slidesPerView":n.slidesPerView=parseFloat(o.slidesPerView),s.slidesPerViewBreakpoint&&(n.breakpoints={},n.breakpoints[s.slidesPerViewBreakpoint]={slidesPerView:parseFloat(o.slidesPerView)});break;case"loop":n.loop="true"===o.loop}}),n)),(t=new KetchupSwiper(t)).init(),r.push(t))})}function initVideos(){Array.prototype.slice.call(document.querySelectorAll(".km-video-block")).forEach(function(e){var t=e.getElementsByClassName("km-video-mute")[0],o=e.dataset.mute,n=e.dataset.autoplay,a=!!o&&"1"===o,o=!!n&&"1"===n,e={customControls:"(min-width:100px)",context:{videoContainer:e,video:e.getElementsByTagName("video")[0],playBtn:e.getElementsByClassName("km-video-play")[0],pauseBtn:e.getElementsByClassName("km-video-pause")[0]},config:{initControls:!0,autoplay:!1}};a&&(e.context.muteToggle=t),o&&(e.config.autoplay=n),new KetchupVideoBg(e)})}function googleDirections(){function t(e){e.preventDefault();var t=e.currentTarget,e=t.elements["gd-param"],e=encodeURIComponent(e.value),t=t.elements["km-gd-btn"].dataset.dest;""!==e&&(window.open(t+e),intput.value="")}Array.from(document.getElementsByClassName("km-google-directions")).forEach(function(e){return e.addEventListener("submit",t,!1)})}!function(){var e,t="KMCookiesAccepted",o="kmc-active",n=localStorage.getItem(t),a=document.querySelector(".km-cookie-notification");function s(){localStorage.setItem(t,"true"),a.classList.remove(o)}a&&null===n&&(e=document.querySelector("#kmc-cookies-accept"),a.classList.add(o),e.addEventListener("click",s,!1))}(),hero_carousel_init(),window.addEventListener("DOMContentLoaded",function(){var o,e,t;(t=document.getElementById("pm-form"))&&(e=Array.prototype.slice.call(t.querySelectorAll('input[type="checkbox"]')).map(function(e){return{name:e.name.trim(),checked:e.checked}}),o=0,e=new PrivacyManager({saveAsCookie:!0,form:t,on:{update:function(e){var t,a;t=o,a=(e=e).form,e.data.forEach(function(e){var t=a[e.name],o=e.checked?"add":"remove",n=e.checked?"remove":"add",e=t.parentElement;t&&(e.parentElement.classList[o]("pm-item-active"),e.parentElement.classList[n]("pm-item-inactive"))}),0<t&&(a.parentElement.classList.add("pm-updated"),setTimeout(function(){a.parentElement.classList.remove("pm-updated"),location.reload()},1e3)),function(){{var e;0<o&&((e=document.querySelector(".km-cookie-notification"))&&(localStorage.setItem("KMCookiesAccepted","true"),e.classList.remove("kmc-active")))}}(),o++}},items:e}),document.getElementById("pm-reset").addEventListener("click",e.restoreDefaults,!1),new KetchupModal({selectors:{modal:".privacy-manager",trigger:".toggle-cookie-pref"},classes:{modalActive:"pm-active",triggerActive:"pm-active",bodyClass:"pm-active"},offClick:{enabled:!0,element:".privacy-manager .pm-modal"}}))}),function(){var e,s,t,o,n=document.getElementById("scroll-to-top");n&&(e="stt-visible",s=n.dataset.speed||400,t=n.dataset.reveal||10,n.addEventListener("click",function(){var o=window.pageYOffset/2,n=0,a=performance.now();window.requestAnimationFrame(function e(t){(n+=Math.PI/(s/(t-a)))>=Math.PI&&window.scrollTo(0,0),0!==parseInt(window.pageYOffset)&&(window.scrollTo(0,Math.round(o+o*Math.cos(n))),a=t,window.requestAnimationFrame(e))})},!1),(o=function(){window.pageYOffset>=t?n.classList.add(e):n.classList.remove(e)})(),window.addEventListener("scroll",o))}(),window.addEventListener("DOMContentLoaded",function(){siteSearch()}),window.addEventListener("DOMContentLoaded",function(e){var t,o;t=document.querySelector(".top-bar"),o=document.getElementsByTagName("body")[0].classList.contains("wp-admin"),!t||o||(o="false"===t.dataset.alt?null:t.dataset.alt)&&(scrollClass({element:t,class:"top-bar-scroll",addAfter:o}),scrollClass({element:document.body,class:"top-bar-alt",addAfter:o})),scrollClass({element:document.body,class:"top-bar-visible",addAfter:200}),document.body.scrollHeight+200<document.documentElement.clientHeight&&document.body.classList.add("top-bar-visible")}),window.addEventListener("DOMContentLoaded",function(){Array.from(document.querySelectorAll(".km-timed-modal")).forEach(function(o,e){var e=e+1,n=o.dataset.kmModalSskey||"timed-modal-"+e,e=o.dataset.modalType||"timed";Array.from(o.querySelectorAll(".ktm-close")).forEach(function(e){e.addEventListener("click",function(){o.classList.remove("km-modal-visible"),0===Array.from(document.querySelectorAll(".km-modal-visible")).length&&setTimeout(function(){return document.body.classList.remove("kmm-active")},200)},!1)}),"manual"!==e&&(sessionStorage.getItem(n+"-popped")||(e={time:o.dataset.kmModalTime||10,sskey:n,on:{end:function(){return e=o,t=n,document.body.classList.add("kmm-active"),e.classList.add("km-modal-visible"),void sessionStorage.setItem(t+"-popped",!0);var e,t}}},new TimedAction(e)))})}),initManualModals(),initVideos(),gsap_watermark(".km-watermark"),googleDirections(),window.addEventListener("DOMContentLoaded",function(){var e,t=new Cookie;(e=document.getElementById("km-gtm-cookie-ref"))&&e.innerText.split(",").forEach(function(e){t.delete(e)}),jQuery(document).on("nfFormReady",function(){aniLabel()}),detectProp(".km-has-swiper-colour",".km-nav-colour-prop","km-nav-colour",updateSwiperColours),kmIntersect(Array.from(document.querySelectorAll(".lazy-bg-image")),{observerProps:{threshold:[.1]},on:function(e,t){return lazyBgImage(e,t)}}),kmIntersect(Array.from(document.querySelectorAll(".split-content-section")),{observerProps:{threshold:[.2]},on:function(e){e.target.classList.remove("scs-invisible"),e.target.classList.add("scs-visible")},off:function(e){e.target.classList.add("scs-invisible"),e.target.classList.remove("scs-visible")}})});