jQuery.extend({getUrlVars:function(){for(var n,r=[],e=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),t=0;t<e.length;t++)n=e[t].split("="),r.push(n[0]),r[n[0]]=n[1];return r},getUrlVar:function(n){return $.getUrlVars()[n]},removeUrlVar:function(n){var r=window.location.href.split("?");if(r.length>=2){for(var e=r.shift(),t=r.join("?"),i=encodeURIComponent(n)+"=",o=t.split(/[&;]/g),l=o.length;l-- >0;)-1!==o[l].lastIndexOf(i,0)&&o.splice(l,1);url=e+"?"+o.join("&")}return url}});


jQuery.fn.isOnScreen=function(){var t=$(window),o={top:t.scrollTop(),left:t.scrollLeft()};o.right=o.left+t.width(),o.bottom=o.top+t.height();var e=this.offset();return e.right=e.left+this.outerWidth(),e.bottom=e.top+this.outerHeight(),!(o.right<e.left||o.left>e.right||o.bottom<e.top||o.top>e.bottom)};


jQuery.loadScript=function(c,t,a){var i=!1,r=null;$.isFunction(t)?(r=t,i=a||i):(i=t||i,r=a||r);var n=!0;$("script").each((function(){return n=c!=$(this).attr("src")})),n?$.ajax({type:"GET",url:c,success:r,dataType:"script",cache:i}):$.isFunction(r)&&r.call(this)};


function windowCat(e){return e<640?"xs":e>=640&&e<768?"sm":e>=768&&e<992?"md":e>=992?"lg":void 0}function windowBreakPoint(){var e=window.getComputedStyle(document.querySelector(".rwd"),":before");return null===e?"lg":e.getPropertyValue("content").replace(/\"/g,"")}var hasResized=!1,windowWidth=$(window).width();$(window).on("resize",(function(e){hasResized=$(window).width()!==windowWidth})),setInterval((function(){hasResized&&(hasResized=!1,windowWidth=$(window).width(),$(document).trigger("windowResize"))}),50);var hasScrolled=!1;$(window).on("scroll",(function(e){hasScrolled=!0})),setInterval((function(){hasScrolled&&(hasScrolled=!1,$(document).trigger("windowScroll"))}),50);


jQuery(document).ready((function(t){var a;t(".label-stack > input, .label-stack > select, .label-stack > textarea").each((function(){""!==t(this).val()&&t(this).closest(".label-stack").addClass("populated")})),t(document).on("focusin",".label-stack > input, .label-stack > select, .label-stack > textarea",(function(){var l;t(this).closest(".label-stack").addClass("focused"),t(this).is('input[type="text"]')&&""===t(this).val()&&(l=t(this),a=setInterval((function(){""!==l.val()&&(l.closest(".label-stack").addClass("populated"),clearInterval(a))}),100))})),t(document).on("focusout",".label-stack > input, .label-stack > select, .label-stack > textarea",(function(){t(this).closest(".label-stack").removeClass("focused"),""==t(this).val()&&t(this).closest(".label-stack").removeClass("populated"),a&&clearInterval(a)})),t(document).on("keydown",".label-stack > input, .label-stack > select, .label-stack > textarea",(function(){""!==t(this).val()&&t(this).closest(".label-stack").addClass("populated")})),t(document).on("change",".label-stack > input, .label-stack > select, .label-stack > textarea",(function(){""!==t(this).val()?t(this).closest(".label-stack").addClass("populated"):t(this).closest(".label-stack").removeClass("populated")}))}));


function responsiveNav(t,i){i.length;var n=0;jQuery(window).width()>767&&(n=totalBtnWidth(i),adjustNavPadding(t,i,n,!1)),jQuery(window).resize((function(){jQuery(window).width()>767?(0==n&&(n=totalBtnWidth(i)),adjustNavPadding(t,i,n,!1)):adjustNavPadding(t,i,n,!0)}))}function totalBtnWidth(t){var i=0;return t.each((function(){i+=$(this).width()})),i}function adjustNavPadding(t,i,n,a){if(a)i.each((function(){jQuery(this).removeAttr("style")}));else{var d=t.width();d>990&&(d=990);var e=Math.floor((d-n)/i.length/2-1);i.each((function(){jQuery(this).css({"padding-left":e,"padding-right":e})}))}}


/**
 * jQuery JSON plugin 2.4.0
 *
 * @author Brantley Harris, 2009-2011
 * @author Timo Tijhof, 2011-2012
 * @source This plugin is heavily influenced by MochiKit's serializeJSON, which is
 *         copyrighted 2005 by Bob Ippolito.
 * @source Brantley Harris wrote this plugin. It is based somewhat on the JSON.org
 *         website's http://www.json.org/json2.js, which proclaims:
 *         "NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.", a sentiment that
 *         I uphold.
 * @license MIT License <http://www.opensource.org/licenses/mit-license.php>
 */
!function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(o){if(null===o)return"null";var pairs,k,name,val,type=typeof o;if("undefined"!==type){if("number"===type||"boolean"===type)return String(o);if("string"===type)return $.quoteString(o);if("function"==typeof o.toJSON)return $.toJSON(o.toJSON());if("date"===type){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();return month<10&&(month="0"+month),day<10&&(day="0"+day),hours<10&&(hours="0"+hours),minutes<10&&(minutes="0"+minutes),seconds<10&&(seconds="0"+seconds),milli<100&&(milli="0"+milli),milli<10&&(milli="0"+milli),'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(pairs=[],$.isArray(o)){for(k=0;k<o.length;k++)pairs.push($.toJSON(o[k])||"null");return"["+pairs.join(",")+"]"}if("object"==typeof o){for(k in o)if(hasOwn.call(o,k)){if("number"===(type=typeof k))name='"'+k+'"';else{if("string"!==type)continue;name=$.quoteString(k)}"function"!==(type=typeof o[k])&&"undefined"!==type&&(val=$.toJSON(o[k]),pairs.push(name+":"+val))}return"{"+pairs.join(",")+"}"}}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(str){return str.match(escape)?'"'+str.replace(escape,(function(a){var c=meta[a];return"string"==typeof c?c:(c=a.charCodeAt(),"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16))}))+'"':'"'+str+'"'}}(jQuery);
function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}if(void 0===console){var console={};console.log=console.error=console.info=console.debug=console.warn=console.trace=console.dir=console.dirxml=console.group=console.groupEnd=console.time=console.timeEnd=console.assert=console.profile=function(){}}for(var guestContactInfo,loadHelperCSS=!0,loadMfpCSS=!0,loadActionToolbarCSS=!0,i=0;i<document.styleSheets.length;i++){var styleSheetUrl=document.styleSheets[i].href;null!=styleSheetUrl&&null!=styleSheetUrl&&((styleSheetUrl.lastIndexOf("princess.combined.css")>-1||styleSheetUrl.lastIndexOf("princess-normalize.css")>-1||styleSheetUrl.lastIndexOf("air.combined.css")>-1)&&(loadHelperCSS=!1),(styleSheetUrl.lastIndexOf("princess.combined.css")>-1||styleSheetUrl.lastIndexOf("magnific-popup.css")>-1||styleSheetUrl.lastIndexOf("air.combined.css")>-1)&&(loadMfpCSS=!1),(styleSheetUrl.lastIndexOf("princess.combined.css")>-1||styleSheetUrl.lastIndexOf("action-widget.css")>-1||styleSheetUrl.lastIndexOf("air.combined.css")>-1)&&(loadActionToolbarCSS=!1))}function fixedEncodeURIComponent(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}function equalFooterCol(){if(jQuery(".footerCol").css("min-height",0),jQuery(window).width()>=960)jQuery(".footerCol").each((function(){var e=jQuery(this),n=e.closest(".row").height();e.outerHeight()<n&&e.css("min-height",n)}));else{var e=jQuery(".footerCol.get-brochure"),n=e.closest(".row").height();e.outerHeight()<n&&e.css("min-height",n)}}function getPhoneNumber(){return"string"==typeof localeData.countryPhone?localeData.countryPhone:""}function showPrincessTollFreeNumber(){["UK","GB","AU","NZ","US","CA","MX","SG","VN","BN","MY","ID","HK","PR","AR","PE","CL","TW","CO","PA","CR","SV","DO","CN","BO","KP","KR"].indexOf(localeData.country)>-1?(jQuery(".toll-free-number").text(getPhoneNumber()),jQuery("#footer-contact").append('<a class="invert-decoration" href="tel:'+getPhoneNumber()+'">Call: '+getPhoneNumber()+"</a>"),jQuery(".toll-free-placeholder").is(":hidden")&&jQuery(".toll-free-placeholder").show()):jQuery(".toll-free-placeholder").html("")}function getQueryVariable(e){for(var n=window.location.search.substring(1).split("&"),a=0;a<n.length;a++){var t=n[a].split("=");if(t[0]==e)return t[1]}return null}function displayPrincessRewards(e){"US"!=loc&&e.length>0&&e.find(".sublinks_princess-rewards").hide().prev("h2").hide()}function displayCruiseDeals(e){"false"==localeData.brochures&&e.length>0&&e.find(".sublinks_cruise-deals").hide().prev("h2").hide()}function displayKoi(){var e,n,a,t=localeData.country,o="/html/global/popups/koi/"+t+".html",i=function(e,n){return'<div id="koi-alert"><div><a href="'.concat(e,'">').concat(n,"</a></div></div>")};switch(t){case"CN":n=i("http://www.princesschina.com/","&#35775;&#38382;&#20013;&#25991;&#23448;&#32593;&#65292;&#35831;&#28857;&#20987;&#27492;&#22788; http://www.princesschina.com/"),e=!1;break;case"HK":e=!0,a=!0;break;case"KR":n=i("http://www.princesscruises.co.kr/","&#54532;&#47536;&#49464;&#49828;&#53356;&#47336;&#51592; &#54620;&#44397; &#50937;&#49324;&#51060;&#53944;&#47484; &#48169;&#47928; &#54616;&#47140;&#47732; &#51060;&#44275;&#51012; &#53364;&#47533;&#54616;&#49464;&#50836;. http://www.princesscruises.co.kr/"),e=!0;break;case"JP":n=i("http://www.princesscruises.jp/","&#12503;&#12522;&#12531;&#12475;&#12473;&#12539;&#12463;&#12523;&#12540;&#12474;&#26085;&#26412;&#35486;&#23554;&#29992;&#12469;&#12452;&#12488;&#12399;&#12371;&#12385;&#12425; http://www.princesscruises.jp/"),e=!0}!a&&jQuery("#container").prepend(n).trigger("headerbar.pinstate"),"true"!==docCookies.getItem("pcl-mn-koi-site")&&e&&(docCookies.setItem("pcl-mn-koi-site","true","undefined","/",".princess.com",!0),openLightbox(o,!1,!0,"no-min-width",""),sessionStorage.setItem("pcl-mn-koi-site","true"))}function printNameonGreeting(e){void 0===guestContactInfo&&jQuery.ajax({type:"GET",url:$swwwURL+"/getNameOnTopBanner.do",dataType:"json",global:!1,xhrFields:{withCredentials:!0}}).done((function(e){guestContactInfo=e.data,jQuery("#princess-header").find(".my-account-welcome").html('Welcome<span class="my-account-welcome-name"> '+guestContactInfo.firstName+"</span>!")})).fail((function(e){}))}function runP13N(e){"undefined"!=typeof P13NListItem&&(P13NListItem.prototype.url=$p13nURL+"/soln-p13n/delivery/deliver",void 0!==e&&""!=e||(e=document),jQuery(e).find("span[class^='p13nListItemId']").each((function(){var e=this.className.split("_")[1];P13NListItem&&new P13NListItem(e,"","","","").run()})))}1==loadHelperCSS&&loadCSS("/css/global/wide_header_footer_helper.css"),1==loadMfpCSS&&loadCSS("/css/global/magnific-popup/magnific-popup.css"),1==loadActionToolbarCSS&&loadCSS("/css/global/action-widget.css"),function(e){e(document).ready((function(){var s=DOMPurify.sanitize(window.location.pathname);DOMPurify.sanitize(window.location.origin)==$bookURL&&(s.indexOf("/cruisepersonalizer/")>-1&&-1==s.indexOf("/cruisepersonalizer/index.page")&&-1==s.indexOf("/cruisepersonalizer/login.page")&&-1==s.indexOf("/cruisepersonalizer/logout.page")&&-1==s.indexOf("/cruisepersonalizer/loginExternal.page")||s.indexOf("/excursions/")>-1)&&e("#princess-header").addClass("show-headerbar-logo hide-headerbar-cruise-deals hide-headerbar-saved-cruises hide-headerbar-site-search hide-headerbar-email-offers hide-headerbar-find-cruises show-headerbar-call"),window.addEventListener("message",(function(n){n.origin!==$bookURL&&n.origin!==$wwwURL||n.data.resizeModal&&e(".mfp-content").css({height:n.data.height})}),!1);var d=e("#headerbar-site-search-btn"),c=e("#header-site-search-field");d.on("click",(function(){d.attr("aria-expanded","true"),o.show(!1)})),e("#close-headerbar-site-search-btn").on("click",(function(){d.attr("aria-expanded","false"),d.trigger("focus"),o.hide(!1)})),e(document).on("keydown",(function(e){27===e.which&&"true"===d.attr("aria-expanded")&&(o.hide(!1),d.trigger("focus"),d.attr("aria-expanded","false"))})),c.length>0&&("function"==typeof siteSearchForm?siteSearchForm.init(c):loadJS("/js/global/site-search-form.js",(function(){siteSearchForm.init(c)})));var l=e("#headerbar").length>0,u=e("#headerbar-menu-btn"),p=e("#navbar"),h=p.length>0;e("#princess-footer").length;u.on("click",(function(e){"false"==u.attr("aria-expanded")?i.expandMobileMenu(u,p):i.hideMobileMenu(u,p)}));var f=!1;e(window).on("resize",(function(e){f=!0})),setInterval((function(){f&&(f=!1,!0===h&&(u.is(":hidden")?("true"==u.attr("aria-expanded")&&i.hideMobileMenu(u,p),$navbarElements=p.find(".my-account-link, .navbar-btn-menu-link, .navbar-dropdown-toggle, .navbar-search-cruises .button, .navbar-search-cruises .recently-viewed-cruises"),$navbarElements.attr("tabindex","0"),p.attr("aria-hidden",!1)):($navbarElements=p.find(".my-account-link, .navbar-btn-menu-link, .navbar-dropdown-toggle, .navbar-search-cruises .button, .navbar-search-cruises .recently-viewed-cruises"),$navbarElements.attr("tabindex","-1"),p.attr("aria-hidden",!0))))}),50);var g=!1,m=e(window).scrollTop();e(window).on("scroll",(function(e){g=!0})),setInterval((function(){if(g){g=!1;var a=e(window).scrollTop();if(Modernizr.mq("(min-width:48em)"))Math.abs(a-m);else!0===l&&o.pinState();m=a,!0===l&&n.pinState(a)}}),50),!0===l&&(n.pinState(m),e(document).on("headerbar.pinstate",(function(){n.pinState(m)}))),"function"==typeof e.fn.hoverIntent?(i.init(),t.init(),r.check()):loadJS("/js/global/jquery/plugins/hoverIntent/jquery.hoverIntent.js",(function(){i.init(),t.init(),r.check()})),"undefined"==typeof localeData||null==localeData?e(document).on("getLocale",(function(){a.init()})):(a.init(),n.savedCruises(localeData.country)),docCookies.hasItem("rvc")&&p.find(".recently-viewed-cruises").removeClass("hidden"),e("#skip-to-content").on("click",(function(){var n=e("#content");if(n.length>0){var a=n.offset().top;!0===l&&(a-=70),e("html,body").animate({scrollTop:a},250,(function(){n.find('h1,h2,h3,a,button,input,select,span[role="button"],div[role="button"]').not(":hidden").first().trigger("focus")}))}})),e(".follow-princess-icon").on("click",(function(){e(this).trigger("blur")}))}));var n={$this:e("#headerbar"),fixedScrollPos:function(){return n.$this.offset().top},pinState:function(e){(isHeaderbarPinned=n.$this.hasClass("pinned"),!0===isHeaderbarPinned||Modernizr.mq("(max-width:47.9375em)"))&&(e>=n.fixedScrollPos()?n.$this.addClass("fixed"):n.$this.removeClass("fixed"))},toggleLogo:function(e,a){n.$this.hasClass("pinned")&&(e>a+40?n.$this.addClass("fadein-headerbar-logo"):n.$this.removeClass("fadein-headerbar-logo"))},ssiCleanup:function(n,a){n.find("a").each((function(){var n=e(this),t=n.attr("href");if(0===t.indexOf("https://")){var o=t.slice(8);o="https://"+a+o,n.attr("href",o)}}))},savedCruises:function(n){var a=e("#princess-header");"US"===n||"CA"===n?a.find("#saved-cruise-count").closest("a").attr("href",$wwwURL+"/cruise-vacation-planning-dashboard/home.do"):a.find("#saved-cruise-count").closest("a").attr("href",$bookURL+"/captaincircle/myPrincess.page")}},a={init:function(){a.legacy(),a.specialOffers(),a.phone(),loclink.init(e("#princess-header")),loclink.init(e("#princess-footer")),localeContent.init(e(".copyright > .locale-content"),localeData.status),d.init(localeData.isEU,localeData.country)},legacy:function(){var e=jQuery("#footer");showPrincessTollFreeNumber(e),displayPrincessRewards(e),displayCruiseDeals(e),displayKoi()},phone:function(){if("string"==typeof localeData.countryPhone&&localeData.countryPhone.length>0){var n=localeData.countryPhone;e(".loc-phone-nu").text(n),e("#headerbar-call-btn,#cp-touch-phone,#navbar-call-btn").prop("href","tel:"+n)}else e("#headerbar-call-btn,#cp-touch-phone,#navbar-call-btn,.loc-phone-nu,.navbar-dropdown-phone-nu,.headerbar-btn.call").addClass("hidden")},specialOffers:function(){var n=e("#princess-header"),a=e("#princess-footer");"true"==localeData.specialOffers?(n.find(".headerbar-special-offers, .navbar-special-offers").removeClass("hidden"),a.on("click",".special-offers > a",(function(e){e.preventDefault(),"object"==_typeof(window.dtm_dataLayer)&&window.dtm_dataLayer.push({event:"footer_special_offers_clicked",clickEvent:e,element:this}),n.find(".navbar-special-offers")[0].trigger("click")}))):(n.find(".headerbar-special-offers, .navbar-special-offers").addClass("hidden"),a.find(".special-offers").addClass("hidden"))},activateChat:function(){"AU"!==localeData.country&&"NZ"!==localeData.country||clickToChat.init()}},t={expandDropdown:function(e,n){e.attr("aria-expanded","true").closest(".headerbar-btn").addClass("expanded").find(".my-account-dropdown, .language-dropdown").attr("aria-hidden",!1).find(".my-account-link, .my-account-logout-btn, .my-account-input, .language-link").attr("tabindex","0"),"click"===n&&e.trigger("blur")},hideDropdown:function(e,n){e.attr("aria-expanded","false").closest(".headerbar-btn").removeClass("expanded").find(".my-account-dropdown, .language-dropdown").attr("aria-hidden",!0).find(".my-account-link, .my-account-logout-btn, .my-account-input, .language-link").attr("tabindex","-1"),"click"===n&&e.trigger("blur")},toggleDropdown:function(n,a){var o=e(".my-account-dropdown-toggle, .language-dropdown-toggle");"keydown"!==a&&"click"!==a||"true"!=n.attr("aria-expanded")?(t.hideDropdown(o),t.expandDropdown(n,a),i.hideAllDropdowns()):t.hideDropdown(n,a)},init:function(){var n=e("#princess-header"),a=n.find(".my-account-dropdown-toggle, .language-dropdown-toggle"),o=(n.find(".my-account-dropdown, .language-dropdown"),e(".headerbar-btn.my-account, .headerbar-btn.language")),i=o.find(".my-account-link, .my-account-logout-btn, .my-account-input, .language-link");n.find(".my-account, .language");a.on("keydown click",(function(n){var a=13===n.which||32===n.which,o="click"===n.type;(a||o)&&(n.preventDefault(),t.toggleDropdown(e(this),n.type))})),e(document).on("keydown",(function(e){27===e.which&&"true"===a.attr("aria-expanded")&&t.toggleDropdown(a,"click")})),i.attr("tabindex","-1"),a.on("click",(function(e){e.preventDefault()})),document.querySelector("body").addEventListener("click",(function(n){var a=document.querySelector(".headerbar-menu"),o=n.target,i=document.querySelector(".headerbar-btn.expanded");a&&a.contains(o)&&!o.classList.contains("headerbar-menu")||i&&t.hideDropdown(e(".headerbar-btn-link"))})),window.guestAuth&&window.guestAuth.status()?(t.hasSignedIn(n,o),printNameonGreeting("NAME_ON_TOP_BANNER")):t.notSignedIn(n,o),window.addEventListener("displayAuth",(function(a){window.guestAuth&&window.guestAuth.debug()&&console.log("guestAuth: displayAuth in jQuery",a),t.hideDropdown(e(".headerbar-btn-link")),a.detail.status?(t.hasSignedIn(n,o),printNameonGreeting("NAME_ON_TOP_BANNER")):t.notSignedIn(n,o)}))},hasSignedIn:function(n,a){if(void 0===n)a=(n=e("#princess-header")).find(".headerbar-btn.my-account");n.find(".my-account-logout-btn").one("click",(function(){window.guestAuth&&window.guestAuth.logout(!1)})),a.find(".my-account-dropdown-text").html(a.find(".my-account-dropdown-text").data("loginText")).closest(".my-account-dropdown-toggle").removeClass("hidden"),n.find(".user-logged-in").removeClass("hidden").siblings(".user-logged-out").addClass("hidden"),n.find(".my-account-welcome-name").removeClass("hidden"),n.find(".email-offers").addClass("hidden"),n.find(".saved-cruises").removeClass("hidden"),"object"==("undefined"==typeof savedCruiseCount?"undefined":_typeof(savedCruiseCount))&&savedCruiseCount.load(),n.find(".headerbar-btn.email-offers").addClass("hidden")},notSignedIn:function(n,a){if(void 0===n)a=(n=e("#princess-header")).find(".headerbar-btn.my-account");var t=DOMPurify.sanitize(window.location.pathname).split("/")[1],o=n.find(".my-account-login-btn").attr("href");["brochures","cruisepersonalizer","cruise-search","find-a-cruise","reserve","search-cruise"].indexOf(t)>-1?n.find(".my-account-login-btn").addClass("open-mfp mfp-iframe").attr({href:o+"?src="+t,"data-mfp-modal":"false","data-mfp-main-class":"mfp-entry-point mfp-entry-point-login","data-mfp-title":"Log In to Princess Cruises"}):"my-princess"!==t&&n.find(".my-account-login-btn").attr("href",o+"?src="+encodeURIComponent(window.location.href)),a.find(".my-account-dropdown-text").html(a.find(".my-account-dropdown-text").data("logoutText")).closest(".my-account-dropdown-toggle").removeClass("hidden"),n.find(".user-logged-out").removeClass("hidden").siblings(".user-logged-in").addClass("hidden"),n.find(".my-account-welcome-name").addClass("hidden"),"object"==("undefined"==typeof savedCruiseCount?"undefined":_typeof(savedCruiseCount))&&savedCruiseCount.unload(),n.find(".email-offers").removeClass("hidden"),n.find(".saved-cruises").addClass("hidden")},pastPaxStatus:function(){var n,a,o,i,r,s,d,c=null===(n=window)||void 0===n||null===(a=n.guestInfo)||void 0===a||null===(o=a.config)||void 0===o?void 0:o.eccn,l=null===(i=window)||void 0===i||null===(r=i.digitalData)||void 0===r||null===(s=r.user)||void 0===s||null===(d=s.profile)||void 0===d?void 0:d.passengerStatus;!!c&!!l&&e(document).on("guestProfile.infoSaved",(function(){void 0!==t&&t.displayCruiseHistory(l)}))},displayCruiseHistory:function(n){"Past+Passenger"===n&&e("#my-account-cruise-history").removeClass("hidden")}},o={className:function(e){var n="visible";return e&&(n+="-in-menu"),n},hide:function(n){e(".header-site-search").attr("aria-hidden",!0).removeClass(o.className(n)+" unpinned"),o.dataLayer("hide-site-search",n)},show:function(n){e(".header-site-search").attr("aria-hidden",!1).addClass(o.className(n)),o.dataLayer("view-site-search",n),n||e("#header-site-search-field").trigger("focus")},pinState:function(){var n=e(window).scrollTop(),a=e(".header-site-search"),t=a.outerHeight(),o=e(".headerbar").outerHeight(),i=e("#navbar"),r=i.length>0?i.data("menuHeight"):0,s=i.length>0?i.offset().top:0;n>s&&n+o+t>r+s?a.addClass("unpinned"):a.removeClass("unpinned")},dataLayer:function(e,n){var a;a=n?"Navbar":"Header","object"==_typeof(window.dataLayer)&&window.dataLayer.push({event:e,"page-section":a})}},i={expandDropdown:function(n,a){n.attr("aria-expanded","true").closest(".navbar-dropdown").addClass("expanded").find(".navbar-dropdown-menu").attr("aria-hidden",!1).find("a, button").attr("tabindex","0"),e(".navbar").css("margin-bottom",n.siblings(".navbar-dropdown-menu").height()),"click"===a&&n.trigger("blur"),"object"==_typeof(window.dtm_dataLayer)&&window.dtm_dataLayer.push({event:"primary-nav-roll-over",element:n})},hideDropdown:function(n,a){n.attr("aria-expanded","false").closest(".navbar-dropdown").removeClass("expanded").find(".navbar-dropdown-menu").attr("aria-hidden",!0).find("a, button").attr("tabindex","-1"),e(".navbar").css("margin-bottom","auto"),"click"===a&&n.trigger("blur")},hideAllDropdowns:function(){var n=e(".navbar-dropdown.expanded > .navbar-dropdown-toggle");n.length>0&&i.hideDropdown(n)},toggleDropdown:function(n,a){Modernizr.mq("(min-width: 48em)")?"keydown"!==a&&"click"!==a||"true"!=n.attr("aria-expanded")?(i.hideAllDropdowns(),i.expandDropdown(n,a),t.hideDropdown(e(".my-account-dropdown-toggle"),a)):i.hideDropdown(n,a):"keydown"!=a&&"click"!=a||("true"==n.attr("aria-expanded")?i.hideDropdown(n,a):i.expandDropdown(n,a),e("#navbar").trigger("mobile-nav-toggle"))},init:function(){var n=e("#navbar"),a=(e(".navbar-menu"),e(".navbar-dropdown-toggle")),t=n.find(".navbar-dropdown"),o=n.find(".my-account-link, .navbar-btn-menu-link, .navbar-dropdown-toggle, .navbar-search-cruises .button, .navbar-search-cruises .recently-viewed-cruises"),r=e(".navbar-close");Modernizr.mq("(min-width: 48em)")||(o.attr("tabindex","-1"),n.attr("aria-hidden",!0)),a.on("keydown click",(function(n){var a=13===n.which||32===n.which,t="click"===n.type;(a||t)&&(n.preventDefault(),i.toggleDropdown(e(this),n.type))})),r.on("click",(function(){var n=e(this).closest(".navbar-dropdown").find(".navbar-dropdown-toggle");n.trigger("focus"),i.hideDropdown(n)})),e(document).on("keydown",(function(e){var n=a.filter('[aria-expanded="true"]');27===e.which&&n.length&&(n.trigger("focus"),i.toggleDropdown(n,"keydown"))})),t.find(".navbar-dropdown-menu").attr("aria-hidden",!0).find("a, button").attr("tabindex","-1"),n.on("mobile-nav-toggle",(function(){n.data("menu-height",n.height())}))},expandMobileMenu:function(n,a){var t=a.find(".navbar-wrapper").height();e(window).height();e("html,body").stop().scrollTop(0),o.show(!0),a.attr("aria-hidden",!1).stop().animate({height:t},400,(function(){a.css("height","auto").trigger("mobile-nav-toggle")})),n.attr("aria-expanded","true").attr("aria-label","Menu expanded").addClass("expanded").closest(".headerbar-wrapper").addClass("no-border"),$navbarElements=a.find(".my-account-link, .navbar-btn-menu-link, .navbar-dropdown-toggle, .navbar-search-cruises .button, .navbar-search-cruises .recently-viewed-cruises"),$navbarElements.attr("tabindex","0")},hideMobileMenu:function(e,n){o.hide(!0),i.hideAllDropdowns(),n.attr("aria-hidden",!0).removeAttr("style").trigger("mobile-nav-toggle"),e.attr("aria-expanded","false").attr("aria-label","Menu collapsed").removeClass("expanded").closest(".headerbar-wrapper").removeClass("no-border"),$navbarElements=n.find(".my-account-link, .navbar-btn-menu-link, .navbar-dropdown-toggle, .navbar-search-cruises .button, .navbar-search-cruises .recently-viewed-cruises"),$navbarElements.attr("tabindex","-1")}},r={check:function(){localeData?r.init(localeData.status):e(document).on("getLocale",(function(){r.init(localeData.status)}))},init:function(n){var a=e(".navbar-btn.language .navbar-btn-menu-link"),t=e(".navbar .language-dropdown"),o=e(".navbar-btn.language");e(".language");hostDomain.localizeSubDomain(e(".language-dropdown")),e(".language-link, .navbar-btn.language .navbar-btn-menu-link, .language-arrow").on("click",(function(n){r.onClick(n,e(this),a,t,o)})),e(window).on("windowResize",(function(){r.onResize(t,o)}))},onClick:function(e,n,a,t,o){switch(n.data("language-anchor")){case"language-link":var i=n.data("language-select").split("|")[0];docCookies.getItem("pcl_lang")!==i&&r.save(i),n.addClass("active").siblings(".language-link").removeClass("active");break;case"navbar-btn-menu-link":e.preventDefault(),o.hasClass("expanded")?t.slideUp((function(){n.attr("aria-expanded",!1),o.removeClass("expanded").find(".navbar-btn-menu-link").trigger("focus")})):t.slideDown((function(){o.addClass("expanded"),n.attr("aria-expanded",!0)}));break;case"language-arrow":e.preventDefault(),a.trigger("click")}},save:function(e){docCookies.setItem("pcl_lang",e,31536e3,"/","princess.com",!0)},onResize:function(e,n){n.hasClass("expanded")&&Modernizr.mq("(min-width: 48em)")&&(e.removeAttr("style"),n.removeClass("expanded"))}},s=e("#footer").find(".ada-link > a");s.length>0&&s.prepend('<span class="pc-icons black-ada-12"></span>');var d={auDisclaimer:'<div id="privacy-notice">Our site uses cookies. By continuing to use this site you are agreeing to our <a id="privacy-legal" href="'+$wwwURL+'/legal/legal_privacy/">Privacy Policy</a> and understand we tailor ads to your interests. <button id="close-privacy-notice"><svg class="svg-icon svg-icon-open-close"><use xlink:href="#icon-open-close"></use></svg></button></div>',init:function(e){"AU"!==e&&"NZ"!==e||d.check(e)},cookieName:function(){return docCookies.nameItem("pcl_pn")},check:function(e){var n=d.getStatus();console.log("check privacyStatus",n),(null===n||void 0===n[e]||void 0===n[e])&&d.display(e,n)},display:function(n,a){var t;t="EU"===n?d.euDisclaimer:d.auDisclaimer,e("body").append(t);var o=e("#privacy-notice");o.animate({bottom:"15px"},800),o.on("click","a, button",(function(t){t.preventDefault();var i=e(t.target);d.saveStatus(n,a),o.stop().animate({bottom:"-500px"},800,(function(){i.is("a")&&(window.location=DOMPurify.sanitize(i.prop("href")))}))}))},getStatus:function(){var e=docCookies.getItem(d.cookieName());return e?JSON.parse(DOMPurify.sanitize(e)):null},saveStatus:function(e,n){var a=d.cookieName();null===n&&(n={}),n[e]=d.timestamp.getTime(),docCookies.setItem(a,JSON.stringify(n),d.expireTimestamp(),"/",null,!1)},timestamp:new Date,expireTimestamp:function(){return new Date(d.timestamp.getFullYear()+5,d.timestamp.getMonth(),d.timestamp.getDate(),d.timestamp.getHours(),d.timestamp.getMinutes())}}}(jQuery),jQuery(document).ready((function(){void 0!==jQuery("#princess-header").attr("data-pagename")&&jQuery("#princess-header").attr("data-pagename"),window.guestAuth&&window.guestAuth.status()&&"object"==("undefined"==typeof savedCruiseCount?"undefined":_typeof(savedCruiseCount))&&savedCruiseCount.load(),runP13N("#princess-footer"),jQuery(document).on("click",".lightbox-close-window-top > .close-btn, .koi-link",(function(e){e.preventDefault();var n=jQuery(e.target);jQuery("#koi-mini-site").length>0&&docCookies.setItem("pcl-mn-koi-site","true","undefined","/",".princess.com",!0),n.hasClass("koi-link")&&window.setTimeout((function(){window.location=n.attr("href")}),200)})),Modernizr.hasEvent("touchend")&&$(window).width()<1025&&jQuery(".sf-with-ul > a").on("click",(function(e){e.preventDefault()}))})),jQuery(window).on("load",(function(){jQuery("html").hasClass("oldie")||(equalFooterCol(),jQuery(window).on("resize",(function(){equalFooterCol()})))})),jQuery.isBlank=function(e){return jQuery.isPlainObject(e)&&jQuery.isEmptyObject(e)||Array.isArray(e)&&0===e.length||"string"==typeof e&&""===e.trim()||!e};


/*!
 * hoverIntent v1.8.1 // 2014.08.11 // jQuery v1.9.1+
 * http://briancherne.github.io/jquery-hoverIntent/
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.hoverIntent&&e(jQuery)}((function(e){"use strict";var t,n,o={interval:100,sensitivity:6,timeout:0},i=0,u=function(e){t=e.pageX,n=e.pageY},r=function e(o,i,r,f){if(Math.sqrt((r.pX-t)*(r.pX-t)+(r.pY-n)*(r.pY-n))<f.sensitivity)return i.off(r.event,u),delete r.timeoutId,r.isActive=!0,o.pageX=t,o.pageY=n,delete r.pX,delete r.pY,f.over.apply(i[0],[o]);r.pX=t,r.pY=n,r.timeoutId=setTimeout((function(){e(o,i,r,f)}),f.interval)};e.fn.hoverIntent=function(t,n,f){var v=i++,a=e.extend({},o);e.isPlainObject(t)?"function"!=typeof(a=e.extend(a,t)).out&&(a.out=a.over):a="function"==typeof n?e.extend(a,{over:t,out:n,selector:f}):e.extend(a,{over:t,out:t,selector:n});var s=function(t){var n=e.extend({},t),o=e(this),i=o.data("hoverIntent");i||o.data("hoverIntent",i={});var f=i[v];f||(i[v]=f={id:v}),f.timeoutId&&(f.timeoutId=clearTimeout(f.timeoutId));var s=f.event="mousemove.hoverIntent.hoverIntent"+v;if("mouseenter"===t.type){if(f.isActive)return;f.pX=n.pageX,f.pY=n.pageY,o.off(s,u).on(s,u),f.timeoutId=setTimeout((function(){r(n,o,f,a)}),a.interval)}else{if(!f.isActive)return;o.off(s,u),f.timeoutId=setTimeout((function(){!function(e,t,n,o){delete t.data("hoverIntent")[n.id],o.apply(t[0],[e])}(n,o,f,a.out)}),a.timeout)}};return this.on({"mouseenter.hoverIntent":s,"mouseleave.hoverIntent":s},a.selector)}}));


function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var loclink={init:function(t){var a=0,e=setInterval((function(){if("object"===("undefined"==typeof localeData?"undefined":_typeof(localeData))&&(clearInterval(e),e=!1,"string"==typeof localeData.status)){var n=localeData.status.toLowerCase();t.find(".loc-link.hidden").each((function(){var t=$(this),a=t.data("use-country");useEU=t.data("use-iseu"),a&&(n=localeData.country.toLowerCase()),useEU&"true"===localeData.isEU&&(n="eu"),loclink.update(t,n)}))}a<100?a++:0!=e&&(clearInterval(e),e=!1)}),50)},update:function(t,a){if(loclink.excludeLocale(t,a))t.remove();else{var e=loclink.getValue(t,a,"Url"),n=loclink.getValue(t,a,"Img"),o=loclink.getValue(t,a,"Text");t.hasClass("loc-text")?o?t.html(o).removeClass("hidden"):t.remove():(e?t.prop("href",e).html(o).removeClass("hidden"):t.remove(),n&&t.css("background-image",'url("'+n+'")').removeClass("hidden"))}},getValue:function(t,a,e){var n;return void 0!==t.data(a+e)&&""!=t.data(a+e)?n=t.data(a+e):void 0!==t.data(e.toLowerCase())&&""!=t.data(e.toLowerCase())&&(n=t.data(e.toLowerCase())),n},excludeLocale:function(t,a){if(void 0!==t.data("exclude")&&""!=t.data("exclude"))for(var e=t.data("exclude").split(","),n=0;n<e.length;n++)if(e[n]==a)return!0;return!1}},localeContent={init:function(t,a){t.each((function(){var t,e=$(this),n=e.data(),o=a.toLowerCase()+"Visible";t=void 0===n[o]?e.data("is-eu")?"true"==localeData.isEU:n.visible:n[o],localeContent.display(e,t)}))},display:function(t,a){!0===a?t.removeClass("hidden").find("input, select").not(".force-disabled").prop("disabled",!1):t.addClass("hidden").find("input, select").prop("disabled",!0)}},localeDateFormat={init:function(t,a,e,n){"US"===t||"CA"===t||"MX"===t?localeDateFormat.updateOrder(!0,a,e,n):localeDateFormat.updateOrder(!1,a,e,n)},updateOrder:function(t,a,e,n){var o=n.data("format");if(!0===t&&"monthddyyyy"!==o){var l=$(this),i=$(this).parent();e.each((function(){var t=$(this);t.parent().is(i)&&l.insertBefore(t)})),n.data("format","monthddyyyy")}!1===t&&"ddmonthyyyy"!==o&&(e.each((function(){var t=$(this),e=$(this).parent();a.each((function(){var a=$(this);a.parent().is(e)&&t.insertBefore(a)}))})),n.data("format","ddmonthyyyy"))}},localeNotice={init:function(t){var a=setInterval((function(){if("undefined"!=typeof localeData){clearInterval(a);var e=localeData.country.toLowerCase(),n=localeNotice.isIntl(e);0==localeNotice.check(t,e,n)&&localeNotice.display(t,e,n)}}),50)},isIntl:function(t){switch(t){case"us":case"ca":case"mx":case"pr":case"bm":case"uk":case"gb":case"au":case"nz":case"hk":case"sg":case"vn":case"bn":case"my":case"id":case"cn":case"jp":case"kr":case"tw":return!1;default:return!0}},check:function(t,a,e){return t.length>0?e?null!=t.data("intl")&&window.location.pathname==t.data("intl")?(t.attr("data-loc","intl").trigger("localeNotice.true"),!0):(t.attr("data-loc","intl").trigger("localeNotice.false"),!1):null!=t.data(a)&&t.data(a)==window.location.pathname?(t.attr("data-loc",a).trigger("localeNotice.true"),!0):(t.attr("data-loc",a).trigger("localeNotice.false"),!1):void 0},display:function(t,a,e){$.magnificPopup.open({items:{src:t.html()},type:"inline",removalDelay:300,modal:!0,mainClass:"border-box-sizing local-alert",overflowY:"scroll",callbacks:{elementParse:function(n){var o=$(n.src),l=!0===e?t.data("intl"):t.data(a);void 0===l?(o.find(".title").text(t.data("altTitle")),o.find(".message").text(t.data("altMessage")),o.find(".cta-btn").parent("div").addClass("hidden"),o.find(".link-btn").text(t.data("altLinkText")).attr("href",t.data("altLinkUrl"))):(o.find(".title").text(t.data("title")),o.find(".message").text(t.data("message")),o.find(".cta-btn").text(t.data("ctaText")).attr("href",l),o.find(".link-btn").text(t.data("linkText")).attr("href",t.data("linkUrl"))),n.src=o}}})}};


var savedCruiseCount={$badge:jQuery(".saved-cruise-count"),display:function(e){savedCruiseCount.$badge.text(e),$svgHeartIcon=savedCruiseCount.$badge.parent().find(".svg-icon"),$svgHeartIcon.find("use").attr("xlink:href","#icon-heart"),savedCruiseCount.$badge.show()},unload:function(){savedCruiseCount.$badge.text(""),$svgHeartIcon=savedCruiseCount.$badge.parent().find(".svg-icon"),$svgHeartIcon.find("use").attr("xlink:href","#icon-heart-outline"),savedCruiseCount.$badge.hide()},load:function(){jQuery.ajax({url:$swwwURL+"/cruise-with-me/savedCruisesCount.do",cache:!1,contentType:"application/json",dataType:"json",xhrFields:{withCredentials:!0}}).done((function(e){"success"==e.status&&(savedCruiseCount.display(e.data),savedCruiseCount.save(e.data))}))},save:function(e){null!=docCookies.hasItem("savedCruises")&&docCookies.removeItem("savedCruises","/",".princess.com");var s='{"count":'+e+"}";docCookies.setItem("savedCruises",s,0,"/",".princess.com",!0)},update:function(e){savedCruiseCount.display(e),savedCruiseCount.save(e)}};


function lightbox_show_hide(){lightBoxoverlay.show("fast",(function(){lightBox.fadeIn("medium")})),jQuery(document).on("click",".lightbox-close-window > .close-link, .lightbox-close-window-top > .close-btn, .close-lightbox",hideLightbox),jQuery(document).on("click","#lightbox-overlay",hideLightbox),jQuery(".lightbox-close-window").is(":visible")||jQuery(".lightbox-close-window-top").is(":visible")||jQuery(document).off("click","#lightbox-overlay",hideLightbox),$(".lightbox").attr("tabindex",-1).trigger("focus")}function hideLightbox(){return jQuery("#lightbox-container").trigger("close-lightbox").remove(),jQuery("#container object").show(),!1}function openLightbox(t,e,i,o,a,n){if(t=DOMPurify.sanitize(t),buildLightboxContainer(o),0===t.trim().indexOf("#"))void 0===a||""===a?lightBox.append(jQuery(t).html()):(lightBox.append(a),lightBox.find("#popupContent").append(jQuery(t).html())),buildLightBoxCloseElements(e,i),lightbox_show_hide();else switch("undefined"!=typeof targetElement&&(t=t+" "+targetElement),t.substr(t.lastIndexOf(".")+1)){case"jpg":case"png":case"gif":jQuery("<img>").on("load",(function(){lightBox.addClass("no-min-width"),lightBox.prepend(this),buildLightBoxCloseElements(e,i),lightbox_show_hide()})).attr("src",t).attr("alt",n);break;default:void 0===a||""==a?lightBox.load(t,(function(){if(lightBox.hasClass("ezair-terms")){var t=ezAirTermsPos.top-600;lightBox.css("margin-top",t)}buildLightBoxCloseElements(e,i),lightbox_show_hide(),createAddThis()})):(lightBox.append(a),lightBox.find("#popupContent").load(t,(function(){buildLightBoxCloseElements(e,i),lightbox_show_hide(),createAddThis()})))}}function createAddThis(){window.addthis?(addthis.toolbox(".addthis_toolbox"),addthis.counter(".addthis_counter")):jQuery.getScript("//s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4fc673615553b316#async=1")}function openIframe(t,e,i,o){var a=jQuery("<iframe id='iframe-popup-page' src='"+url+"' width='"+iframeWidth+"'  height='"+iframeHeight+"' frameBorder='0' onLoad='openIframeLinksInParentWindow()' /> ");buildLightboxContainer(o),buildLightBoxCloseElements(e,i),lightBox.addClass("iframe-lightbox").css("width",iframeWidth),""!=t&&lightBox.addClass(t),a.prependTo("#lightbox-container .lightbox"),lightbox_show_hide()}function openIframeBox(t,e,i,o,a,n){jQuery("#showError").html("");var s=jQuery("<iframe id='iframe-popup-page' src='"+t+"' width='"+e+"'  height='"+i+"' frameBorder='0' onLoad='openIframeLinksInParentWindow()' /> ");return buildLightboxContainer(o),buildLightBoxCloseElements(a,n),lightBox.addClass("iframe-lightbox"),s.prependTo("#lightbox-container .lightbox"),lightbox_show_hide(),jQuery("iframe").iframeAutoHeight({heightOffset:0}),!1}function loadInsideLightbox(){lightBox.load(url,(function(){buildLightBoxCloseElements(),lightbox_show_hide()}))}function openIframeLinksInParentWindow(){setTimeout((function(){try{jQuery("#iframe-popup-page").contents().find("a:not(.same-window)").attr("target","_blank").addClass("new-window"),jQuery("#iframe-popup-page").contents().find("a:not(.open-lightbox, .open-iframe, .new-window, .same-window)").attr("target","_parent")}catch(t){}}),1e3)}function buildLightboxContainer(t){jQuery("#lightbox-container").remove(),jQuery("body").append('<div id="lightbox-container">'),jQuery("#lightbox-container").prepend('<div class="lite-popup"><div id="lightbox-overlay"></div><div class="lightbox">'),lightBox=jQuery("#lightbox-container .lightbox"),lightBoxoverlay=jQuery("#lightbox-overlay"),""!==t&&jQuery(".lightbox").addClass(t)}function buildLightBoxCloseElements(t,e){var i="";e||(i+='<div class="lightbox-close-window"><button class="close-link">Close Window</button></div>'),t||(i+='<div class="lightbox-close-window-top"><span class="close-btn"><img src="/images/global/lightbox_close-btn.png" height="50" width="110" alt="Close Window"></span></div>'),jQuery("#lightbox-container .lightbox").append(i)}function lightboxOpenFocusFix(t,e,i){$("#container").attr("aria-hidden","true");var o=e.find("h1").text(),a=t.el?t.el.data("mfp-title"):"",n=t.el?t.el.text():"",s=o||(a||n);if("iframe"===t.type){var l=i||(a||n);e.closest(".mfp-wrap").attr({"aria-label":s,role:"dialog"}),e.find("iframe").attr("title",l)}else e.closest(".mfp-wrap").attr({"aria-label":s,role:"dialog"});e.find('h1,h2,h3,a,button,iframe,input,select,span[role="button"],div[role="button"]').not("button.mfp-close").first().trigger("focus")}jQuery(document).on("click",".lightbox-close-window",(function(){return!1})),jQuery(document).on("click",".open-iframe, .iframe, .pcfb",(function(){iframeWidth=734,iframeHeight=0,url=jQuery(this).attr("href"),void 0!==jQuery(this).attr("data-width")&&""!==jQuery(this).attr("data-width")?iframeWidth=jQuery(this).attr("data-width"):iframeWidth=734;var t=!0;void 0!==jQuery(this).attr("data-height")?(iframeHeight=jQuery(this).attr("data-height"),t=!1):iframeHeight=600,iframeCustom="",jQuery(this).hasClass("panorama")?iframeCustom="panorama":jQuery(this).is("#special-offers-link")?iframeCustom="special-offers":jQuery(this).hasClass("full-deck-plan")&&(iframeCustom="full-deck");var e="";return jQuery(this).hasClass("no-min-width")?e="no-min-width":jQuery(this).hasClass("full-width")?e="full-width":jQuery(this).hasClass("shorex-video")&&(e="shorex-video"),openIframe(iframeCustom,jQuery(this).hasClass("disableTopBtn"),jQuery(this).hasClass("disableBottomBtn"),e),t&&jQuery("iframe").iframeAutoHeight({heightOffset:0}),!1})),jQuery(document).on("click",".open-lightbox",(function(){url=DOMPurify.sanitize(jQuery(this).attr("href")),targetElement=jQuery(this).attr("data-target"),inlineContent=jQuery(this).attr("data-inline-id");var t="";jQuery(this).hasClass("no-min-width")?t="no-min-width":jQuery(this).hasClass("full-width")?t="full-width":jQuery(this).hasClass("shorex-video")&&(t="shorex-video");var e="";void 0!==jQuery(this).attr("data-lightbox-tpl")&&(e=jQuery("<div/>",{html:jQuery("#"+jQuery(this).attr("data-lightbox-tpl")).html()}),void 0!==jQuery(this).attr("data-lightbox-title")?e.find("#popupTitleArea h2").text(jQuery(this).attr("data-lightbox-title")):e.find("#popupTitleArea h2").text("&nbsp;"));var i=$(this).find("img").attr("alt");return"undefined"!=typeof inlineContent?openLightbox(inlineContent,t):jQuery("#lightbox-container").length>=1?loadInsideLightbox(url):openLightbox(url,jQuery(this).hasClass("disableTopBtn"),jQuery(this).hasClass("disableBottomBtn"),t,e,i),!1})),function(t){t.fn.iframeAutoHeight=function(e){function i(t){a.debug&&!0===a.debug&&window.console&&console.log(t)}function o(e,o){i("Diagnostics from '"+o+"'");try{i("  "+t(e,window.top.document).contents().find("body")[0].scrollHeight+" for ...find('body')[0].scrollHeight"),i("  "+t(e.contentWindow.document).height()+" for ...contentWindow.document).height()"),i("  "+t(e.contentWindow.document.body).height()+" for ...contentWindow.document.body).height()")}catch(t){i("  unable to check in this state")}i("End diagnostics -> results vary by browser and when diagnostics are requested")}var a=t.extend({heightOffset:0,minHeight:0,callback:function(t){},animate:!1,debug:!1,diagnostics:!1},e);return i(a),this.each((function(){function e(e){a.diagnostics&&o(e,"resizeHeight");var n=t(e,window.top.document).contents().find("body")[0].scrollHeight+a.heightOffset;i(n),n<a.minHeight&&(i("new height is less than minHeight"),n=a.minHeight+a.heightOffset),i("New Height: "+n),a.animate?t(e).animate({height:n+"px"},{duration:500}):e.style.height=n+"px",a.callback.apply(t(e),[{newFrameHeight:n}])}var n=0;if(i(this),a.diagnostics&&o(this,"each iframe"),t.browser.safari||t.browser.opera){i("browser is webkit or opera"),t(this).on("load",(function(){var t=0,o=this;0===n?t=500:o.style.height=a.minHeight+"px",i("load delay: "+t),setTimeout((function(){e(o)}),t),n++}));var s=t(this).attr("src");t(this).attr("src",""),t(this).attr("src",s)}else t(this).on("load",(function(){e(this)}))}))}}(jQuery),function(t){function e(){t("body").magnificPopup({delegate:".open-mfp",removalDelay:300,alignTop:!0,modal:!1,closeMarkup:'<div class="mfp-close-wrapper"><div class="mfp-close-inner-wrapper"><button class="mfp-close icon-no-text" data-test-id="mfp-close"><span class="visuallyhidden">Close Modal</span></button></div></div>',mainClass:"border-box-sizing",overflowY:"scroll",callbacks:{beforeOpen:function(){t(document).on("click",".open-mfp",(function(e){e.target.dataset.mfpModal&&(t.magnificPopup.instance.st.modal=!0,t.magnificPopup.instance.st.closeOnContentClick=!1,t.magnificPopup.instance.st.closeOnBgClick=!1,t.magnificPopup.instance.st.showCloseBtn=!1,t.magnificPopup.instance.st.enableEscapeKey=!1)}))},elementParse:function(e){"inline"==e.type&&(t(e.src).is("script")&&(e.src=t(e.src).html()),void 0!==e.el.data("mfp-tpl")&&1==e.el.data("mfp-tpl")&&(e.src=i(t(e.src).clone())),void 0!==e.el.data("mfp-custom-tpl")&&""!=e.el.data("mfp-custom-tpl")&&(e.src=i(t(e.src).clone(),e.el.data("mfp-custom-tpl"))),void 0!==e.el.data("mfp-title")&&""!=e.el.data("mfp-title")&&t(e.src).find("#popupTitleArea > .title").html(e.el.data("mfp-title")),void 0!==e.el.data("mfp-content")&&""!=e.el.data("mfp-content")&&t(e.src).find("#popupContent").html(e.el.data("mfp-content")))},change:function(){},resize:function(){},open:function(){t("#feedbackify").length&&t("#feedbackify").hide();var e=this.currItem,i=this.container;void 0!==e.el.data("mfp-main-class")&&""!=e.el.data("mfp-main-class")&&i.closest(".mfp-wrap").addClass(e.el.data("mfp-main-class")),void 0!==e.el.data("mfp-height")&&""!=e.el.data("mfp-height")&&i.find(".mfp-content").css({height:e.el.data("mfp-height"),overflow:"auto"}),void 0!==e.el.data("mfp-width")&&""!=e.el.data("mfp-width")&&(i.find(".mfp-content").css("max-width",e.el.data("mfp-width")),i.find(".mfp-close-wrapper").css({"max-width":e.el.data("mfp-width"),margin:"0 auto"})),void 0!==e.el.data("mfp-modal")&&1==e.el.data("mfp-modal")&&i.find(".mfp-close").addClass("hidden"),lightboxOpenFocusFix(e,i)},beforeClose:function(){"absolute"==t(".mfp-wrap").css("position")&&t("html,body").scrollTop(t(".mfp-wrap").offset().top)},close:function(){t("#container").removeAttr("aria-hidden"),t("#feedbackify").length&&t("#feedbackify").show()},afterClose:function(){},markupParse:function(e,i,o){void 0!==o.el.data("mfp-iframe-height")&&""!=o.el.data("mfp-iframe-height")&&t(e).find("iframe").css("height",o.el.data("mfp-iframe-height")),void 0!==o.el.data("mfp-iframe-width")&&""!=o.el.data("mfp-iframe-width")&&t(e).find("iframe").css("width",o.el.data("mfp-iframe-width"))},updateStatus:function(t){},parseAjax:function(e){var o=this.currItem.el,a=t(e.data).find(".tpl-v4").length>0;void 0!==o.data("mfp-filter")&&""!=o.data("mfp-filter")&&(e.data=t("<div/>").addClass("clearfix").html(t(e.data).find(o.data("mfp-filter")).html())),void 0!==o.data("mfp-tpl")&&1==o.data("mfp-tpl")&&(e.data=i(e.data)),void 0!==o.data("mfp-custom-tpl")&&""!=o.data("mfp-custom-tpl")&&(e.data=i(e.data,o.data("mfp-custom-tpl"))),void 0!==o.data("mfp-title")&&""!=o.data("mfp-title")&&t(e.data).find("#popupTitleArea > .title").html(o.data("mfp-title")),t(e.data).is("#popupContainer")||(e.data=t(e.data).addClass("popupContainer")),a&&0===t(e.data).find(".tpl-v4").length&&(e.data=t(e.data).addClass("tpl-v4")),t(e.data).find("#itin-content").length>0&&findAndCompare.waitForElement("#itin-content",(function(){findAndCompare.missingPortImg(),findAndCompare.missingMapImg(),"true"!=mobile&&(findAndCompare.adjustTextLength(),findAndCompare.adjustHeight())}))},ajaxContentAdded:function(){var e=this.currItem.el,i=this.container;if(t(this.content).find('span[class^="p13nListItemId_"]').length&&runP13N(".popupContainer"),t(this.content).find(".drop-tab").length&&droptabs.init(t(this.content).find(".drop-tab"),".popupContainer"),t(this.content).find(".tab-nav-menu").length&&t(this.content).find(".tab-nav-menu").tabNav({$container:t(this.content),debug:!0}),void 0!==e.data("mfp-width")&&""!=e.data("mfp-width")&&i.find(".mfp-close-wrapper").css({"max-width":e.data("mfp-width"),margin:"0 auto"}),(t(this.content).find("#fbPrLikeWidget").length>0||t(this.content).find(".action-share-drawer").length>0)&&(window.addthis?(addthis.toolbox(".addthis_toolbox"),addthis.counter(".addthis_counter")):t.getScript("//s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4fc673615553b316#async=1")),e.hasClass("panorama")){var o=t(this.content).find("#panorama-view");t.fn.panorama360?o.panorama360():t.when(t.ajax({url:"/css/global/lightbox-panorama.css",cache:"true",dataType:"text"}),t.ajax({url:"/js/global/jquery/plugins/panorama/jquery.panorama.js",cache:"true",dataType:"script"})).then((function(e,i){t("head").append("<style>"+e+"</style>"),o.panorama360()}))}if(t(this.content).find(".actions-widget-list").length>0&&(void 0!==e.data("mfp-hide-action")&&1==e.data("mfp-hide-action")?t(this.content).find(".actions-widget-list").addClass("hidden"):("function"==typeof initShareAction&&initShareAction(t(this.content)),t(this.content).find(".action-offers").length>0&&"function"==typeof initSpecialOfferAction&&initSpecialOfferAction(t(this.content)),t(this.content).find(".action-brochure").length>0&&"function"==typeof initBrochureAction&&initBrochureAction(t(this.content)))),e.prop("href")&&-1!==e.prop("href").indexOf("#"))var a=e.prop("href").split("#")[1],n=t(this.content),s=0,l=setInterval((function(){if(n.find("#"+a).length>0){clearInterval(l);var e=n.find("#"+a).offset().top,i=t(".mfp-wrap").offset().top;"absolute"==t(".mfp-wrap").css("position")?t("html,body").stop().animate({scrollTop:e-20},500):t(".mfp-wrap").stop().animate({scrollTop:e-i-20},500)}s<201?s++:clearInterval(l)}),50)}}})}function i(e,i){var o=t("<div />",{id:"popupContainer",class:"container"}).html('<div id="popupTitleArea"> <span class="ir seawitch"></span> <h2 class="title"></h2> </div> <div id="popupContent" class="col-xs-12"></div>');void 0!==i&&(o=t(i).html());var a=o;if("string"==typeof a){var n=t.parseHTML(a);a=t(n[1])}return t(e).hasClass("hidden")&&(e=t(e).removeClass("hidden")),t(e).hasClass("mfp-hide")&&(e=t(e).removeClass("mfp-hide")),a.find("#popupContent").html(e),a}t(document).ready((function(){if(t(document).on("click",".mfp-close",(function(t){console.log("mfp-close",t)})),"function"==typeof t.fn.magnificPopup)e();else if("function"==typeof loadCSS&&"function"==typeof onloadCSS&&"function"==typeof loadJS){var i=!1,o=!1,a=loadCSS("/css/global/magnific-popup/magnific-popup.css");onloadCSS(a,(function(){i=!0})),loadJS("/js/global/jquery/plugins/magnific-popup/jquery.magnific-popup.min.js",(function(){o=!0}));var n=0,s=setInterval((function(){1==i&&1==o&&(clearInterval(s),e()),n<100?n++:0!=s&&clearInterval(s)}),50)}}))}(jQuery),window.addEventListener("web-component.onClick",(function(t){$.magnificPopup.open({items:{src:t.detail.src,type:t.detail.type},removalDelay:300,alignTop:!0,modal:!1,closeMarkup:'<div class="mfp-close-wrapper"><div class="mfp-close-inner-wrapper"><button class="mfp-close icon-no-text" data-test-id="mfp-close" aria-label="Close"></button></div></div>',mainClass:"border-box-sizing ".concat(t.detail.mainClass),overflowY:"scroll",callbacks:{beforeOpen:function(){$(document).on("click",".open-mfp",(function(t){t.target.dataset.mfpModal&&($.magnificPopup.instance.st.modal=!0,$.magnificPopup.instance.st.closeOnContentClick=!1,$.magnificPopup.instance.st.closeOnBgClick=!1,$.magnificPopup.instance.st.showCloseBtn=!1,$.magnificPopup.instance.st.enableEscapeKey=!1)}))},open:function(){var t=this.currItem,e=this.container;window.lightboxOpenFocusFix(t,e)},beforeClose:function(){"absolute"==$(".mfp-wrap").css("position")&&$("html,body").scrollTop($(".mfp-wrap").offset().top)},close:function(){$("#container").removeAttr("aria-hidden")},afterClose:function(){window.dispatchEvent(new CustomEvent("web-component.setFocus",{detail:{elementSelector:".global-mfp-modal"}}))}}})})),window.addEventListener("guest-auth.notice",(function(t){console.log("guestAuth: notice data",t),$.magnificPopup.open({items:{src:t.detail.src,type:"inline"},removalDelay:300,alignTop:!1,modal:!0,mainClass:"border-box-sizing mfp-guestauth-notice",overflowY:"scroll",callbacks:{open:function(){this.currItem;var t=this.container;t.on("click","#guestauth-notice-primary-cta",(function(){if("inactive"===$(this).data("guestauthNotice"))t.find(".guestauth-notice-cta").addClass("hidden"),t.find(".guestauth-notice-processing").removeClass("hidden"),window.guestAuth&&window.guestAuth.debug()&&console.log("guestAuth notice - primary cta refreshToken"),window.guestAuth&&window.guestAuth.tokenRefresh()})),t.on("click","#guestauth-notice-secondary-cta",(function(){var e=$(this).data("guestauthNotice"),i=$(this).data("guestauthAppType");switch(e){case"inactive":t.find(".guestauth-notice-cta").addClass("hidden"),t.find(".guestauth-notice-processing").removeClass("hidden"),window.guestAuth&&window.guestAuth.debug()&&console.log("guestAuth notice - secondary cta logout"),window.guestAuth&&window.guestAuth.logout();break;case"logoutComplete":window.guestAuth&&window.guestAuth.debug()&&console.log("guestAuth notice - secondary cta logoutComplete / refresh window"),"spa"===i?$.magnificPopup.close():window.location.reload()}}))}}})}));


/*! Magnific Popup - v1.1.0 - 2016-02-20
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2016 Dmitry Semenov; */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(a){var b,c,d,e,f,g,h="Close",i="BeforeClose",j="AfterClose",k="BeforeAppend",l="MarkupParse",m="Open",n="Change",o="mfp",p="."+o,q="mfp-ready",r="mfp-removing",s="mfp-prevent-close",t=function(){},u=!!window.jQuery,v=a(window),w=function(a,c){b.ev.on(o+a+p,c)},x=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},y=function(c,d){b.ev.triggerHandler(o+c,d),b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},z=function(c){return c===g&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=a(b.st.closeMarkup.replace("%title%",b.st.tClose)),g=c),b.currTemplate.closeBtn},A=function(){a.magnificPopup.instance||(b=new t,b.init(),a.magnificPopup.instance=b)},B=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};t.prototype={constructor:t,init:function(){var c=navigator.appVersion;b.isLowIE=b.isIE8=document.all&&!document.addEventListener,b.isAndroid=/android/gi.test(c),b.isIOS=/iphone|ipad|ipod/gi.test(c),b.supportsTransition=B(),b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),d=a(document),b.popupsCache={}},open:function(c){var e;if(c.isObj===!1){b.items=c.items.toArray(),b.index=0;var g,h=c.items;for(e=0;e<h.length;e++)if(g=h[e],g.parsed&&(g=g.el[0]),g===c.el[0]){b.index=e;break}}else b.items=a.isArray(c.items)?c.items:[c.items],b.index=c.index||0;if(b.isOpen)return void b.updateItemHTML();b.types=[],f="",c.mainEl&&c.mainEl.length?b.ev=c.mainEl.eq(0):b.ev=d,c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={},b.st=a.extend(!0,{},a.magnificPopup.defaults,c),b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos,b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1),b.bgOverlay||(b.bgOverlay=x("bg").on("click"+p,function(){b.close()}),b.wrap=x("wrap").attr("tabindex",-1).on("click"+p,function(a){b._checkIfClose(a.target)&&b.close()}),b.container=x("container",b.wrap)),b.contentContainer=x("content"),b.st.preloader&&(b.preloader=x("preloader",b.container,b.st.tLoading));var i=a.magnificPopup.modules;for(e=0;e<i.length;e++){var j=i[e];j=j.charAt(0).toUpperCase()+j.slice(1),b["init"+j].call(b)}y("BeforeOpen"),b.st.showCloseBtn&&(b.st.closeBtnInside?(w(l,function(a,b,c,d){c.close_replaceWith=z(d.type)}),f+=" mfp-close-btn-in"):b.wrap.append(z())),b.st.alignTop&&(f+=" mfp-align-top"),b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:v.scrollTop(),position:"absolute"}),(b.st.fixedBgPos===!1||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:d.height(),position:"absolute"}),b.st.enableEscapeKey&&d.on("keyup"+p,function(a){27===a.keyCode&&b.close()}),v.on("resize"+p,function(){b.updateSize()}),b.st.closeOnContentClick||(f+=" mfp-auto-cursor"),f&&b.wrap.addClass(f);var k=b.wH=v.height(),n={};if(b.fixedContentPos&&b._hasScrollBar(k)){var o=b._getScrollbarSize();o&&(n.marginRight=o)}b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):n.overflow="hidden");var r=b.st.mainClass;return b.isIE7&&(r+=" mfp-ie7"),r&&b._addClassToMFP(r),b.updateItemHTML(),y("BuildControls"),a("html").css(n),b.bgOverlay.add(b.wrap).prependTo(b.st.prependTo||a(document.body)),b._lastFocusedEl=document.activeElement,setTimeout(function(){b.content?(b._addClassToMFP(q),b._setFocus()):b.bgOverlay.addClass(q),d.on("focusin"+p,b._onFocusIn)},16),b.isOpen=!0,b.updateSize(k),y(m),c},close:function(){b.isOpen&&(y(i),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP(r),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){y(h);var c=r+" "+q+" ";if(b.bgOverlay.detach(),b.wrap.detach(),b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos){var e={marginRight:""};b.isIE7?a("body, html").css("overflow",""):e.overflow="",a("html").css(e)}d.off("keyup"+p+" focusin"+p),b.ev.off(p),b.wrap.attr("class","mfp-wrap").removeAttr("style"),b.bgOverlay.attr("class","mfp-bg"),b.container.attr("class","mfp-container"),!b.st.showCloseBtn||b.st.closeBtnInside&&b.currTemplate[b.currItem.type]!==!0||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach(),b.st.autoFocusLast&&b._lastFocusedEl&&a(b._lastFocusedEl).focus(),b.currItem=null,b.content=null,b.currTemplate=null,b.prevHeight=0,y(j)},updateSize:function(a){if(b.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,d=window.innerHeight*c;b.wrap.css("height",d),b.wH=d}else b.wH=a||v.height();b.fixedContentPos||b.wrap.css("height",b.wH),y("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach(),b.content&&b.content.detach(),c.parsed||(c=b.parseEl(b.index));var d=c.type;if(y("BeforeChange",[b.currItem?b.currItem.type:"",d]),b.currItem=c,!b.currTemplate[d]){var f=b.st[d]?b.st[d].markup:!1;y("FirstMarkupParse",f),f?b.currTemplate[d]=a(f):b.currTemplate[d]=!0}e&&e!==c.type&&b.container.removeClass("mfp-"+e+"-holder");var g=b["get"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(g,d),c.preloaded=!0,y(n,c),e=c.type,b.container.prepend(b.contentContainer),y("AfterChange")},appendContent:function(a,c){b.content=a,a?b.st.showCloseBtn&&b.st.closeBtnInside&&b.currTemplate[c]===!0?b.content.find(".mfp-close").length||b.content.append(z()):b.content=a:b.content="",y(k),b.container.addClass("mfp-"+c+"-holder"),b.contentContainer.append(b.content)},parseEl:function(c){var d,e=b.items[c];if(e.tagName?e={el:a(e)}:(d=e.type,e={data:e,src:e.src}),e.el){for(var f=b.types,g=0;g<f.length;g++)if(e.el.hasClass("mfp-"+f[g])){d=f[g];break}e.src=e.el.attr("data-mfp-src"),e.src||(e.src=e.el.attr("href"))}return e.type=d||b.st.type||"inline",e.index=c,e.parsed=!0,b.items[c]=e,y("ElementParse",e),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this,b._openClick(d,a,c)};c||(c={});var e="click.magnificPopup";c.mainEl=a,c.items?(c.isObj=!0,a.off(e).on(e,d)):(c.isObj=!1,c.delegate?a.off(e).on(e,c.delegate,d):(c.items=a,a.off(e).on(e,d)))},_openClick:function(c,d,e){var f=void 0!==e.midClick?e.midClick:a.magnificPopup.defaults.midClick;if(f||!(2===c.which||c.ctrlKey||c.metaKey||c.altKey||c.shiftKey)){var g=void 0!==e.disableOn?e.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(v.width()<g)return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation()),e.el=a(c.mfpEl),e.delegate&&(e.items=d.find(e.delegate)),b.open(e)}},updateStatus:function(a,d){if(b.preloader){c!==a&&b.container.removeClass("mfp-s-"+c),d||"loading"!==a||(d=b.st.tLoading);var e={status:a,text:d};y("UpdateStatus",e),a=e.status,d=e.text,b.preloader.html(d),b.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),b.container.addClass("mfp-s-"+a),c=a}},_checkIfClose:function(c){if(!a(c).hasClass(s)){var d=b.st.closeOnContentClick,e=b.st.closeOnBgClick;if(d&&e)return!0;if(!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(e&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a),b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?d.height():document.body.scrollHeight)>(a||v.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),y(l,[b,c,d]),a.each(c,function(c,d){if(void 0===d||d===!1)return!0;if(e=c.split("_"),e.length>1){var f=b.find(p+"-"+e[0]);if(f.length>0){var g=e[1];"replaceWith"===g?f[0]!==d[0]&&f.replaceWith(d):"img"===g?f.is("img")?f.attr("src",d):f.replaceWith(a("<img>").attr("src",d).attr("class",f.attr("class"))):f.attr(e[1],d)}}else b.find(p+"-"+c).html(d)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),b.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return b.scrollbarSize}},a.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(b,c){return A(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},a.fn.magnificPopup=function(c){A();var d=a(this);if("string"==typeof c)if("open"===c){var e,f=u?d.data("magnificPopup"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),b._openClick({mfpEl:e},d,f)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),u?d.data("magnificPopup",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var C,D,E,F="inline",G=function(){E&&(D.after(E.addClass(C)).detach(),E=null)};a.magnificPopup.registerModule(F,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push(F),w(h+"."+F,function(){G()})},getInline:function(c,d){if(G(),c.src){var e=b.st.inline,f=a(c.src);if(f.length){var g=f[0].parentNode;g&&g.tagName&&(D||(C=e.hiddenClass,D=x(C),C="mfp-"+C),E=f.after(D).detach().removeClass(C)),b.updateStatus("ready")}else b.updateStatus("error",e.tNotFound),f=a("<div>");return c.inlineElement=f,f}return b.updateStatus("ready"),b._parseMarkup(d,{},c),d}}});var H,I="ajax",J=function(){H&&a(document.body).removeClass(H)},K=function(){J(),b.req&&b.req.abort()};a.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push(I),H=b.st.ajax.cursor,w(h+"."+I,K),w("BeforeChange."+I,K)},getAjax:function(c){H&&a(document.body).addClass(H),b.updateStatus("loading");var d=a.extend({url:c.src,success:function(d,e,f){var g={data:d,xhr:f};y("ParseAjax",g),b.appendContent(a(g.data),I),c.finished=!0,J(),b._setFocus(),setTimeout(function(){b.wrap.addClass(q)},16),b.updateStatus("ready"),y("AjaxContentAdded")},error:function(){J(),c.finished=c.loadError=!0,b.updateStatus("error",b.st.ajax.tError.replace("%url%",c.src))}},b.st.ajax.settings);return b.req=a.ajax(d),""}}});var L,M=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var c=b.st.image,d=".image";b.types.push("image"),w(m+d,function(){"image"===b.currItem.type&&c.cursor&&a(document.body).addClass(c.cursor)}),w(h+d,function(){c.cursor&&a(document.body).removeClass(c.cursor),v.off("resize"+p)}),w("Resize"+d,b.resizeImage),b.isLowIE&&w("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,L&&clearInterval(L),a.isCheckingImgSize=!1,y("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],e=function(f){L&&clearInterval(L),L=setInterval(function(){return d.naturalWidth>0?void b._onImageHasSize(a):(c>200&&clearInterval(L),c++,void(3===c?e(10):40===c?e(50):100===c&&e(500)))},f)};e(1)},getImage:function(c,d){var e=0,f=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,y("ImageLoadComplete")):(e++,200>e?setTimeout(f,100):g()))},g=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",h.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},h=b.st.image,i=d.find(".mfp-img");if(i.length){var j=document.createElement("img");j.className="mfp-img",c.el&&c.el.find("img").length&&(j.alt=c.el.find("img").attr("alt")),c.img=a(j).on("load.mfploader",f).on("error.mfploader",g),j.src=c.src,i.is("img")&&(c.img=c.img.clone()),j=c.img[0],j.naturalWidth>0?c.hasSize=!0:j.width||(c.hasSize=!1)}return b._parseMarkup(d,{title:M(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(L&&clearInterval(L),c.loadError?(d.addClass("mfp-loading"),b.updateStatus("error",h.tError.replace("%url%",c.src))):(d.removeClass("mfp-loading"),b.updateStatus("ready")),d):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass("mfp-loading"),b.findImageSize(c)),d)}}});var N,O=function(){return void 0===N&&(N=void 0!==document.createElement("p").style.MozTransform),N};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,c=b.st.zoom,d=".zoom";if(c.enabled&&b.supportsTransition){var e,f,g=c.duration,j=function(a){var b=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+c.duration/1e3+"s "+c.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,b.css(e),b},k=function(){b.content.css("visibility","visible")};w("BuildControls"+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.content.css("visibility","hidden"),a=b._getItemToZoom(),!a)return void k();f=j(a),f.css(b._getOffset()),b.wrap.append(f),e=setTimeout(function(){f.css(b._getOffset(!0)),e=setTimeout(function(){k(),setTimeout(function(){f.remove(),a=f=null,y("ZoomAnimationEnded")},16)},g)},16)}}),w(i+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.st.removalDelay=g,!a){if(a=b._getItemToZoom(),!a)return;f=j(a)}f.css(b._getOffset(!0)),b.wrap.append(f),b.content.css("visibility","hidden"),setTimeout(function(){f.css(b._getOffset())},16)}}),w(h+d,function(){b._allowZoom()&&(k(),f&&f.remove(),a=null)})}},_allowZoom:function(){return"image"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?b.currItem.img:!1},_getOffset:function(c){var d;d=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var e=d.offset(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);e.top-=a(window).scrollTop()-f;var h={width:d.width(),height:(u?d.innerHeight():d[0].offsetHeight)-g-f};return O()?h["-moz-transform"]=h.transform="translate("+e.left+"px,"+e.top+"px)":(h.left=e.left,h.top=e.top),h}}});var P="iframe",Q="//about:blank",R=function(a){if(b.currTemplate[P]){var c=b.currTemplate[P].find("iframe");c.length&&(a||(c[0].src=Q),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(P,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push(P),w("BeforeChange",function(a,b,c){b!==c&&(b===P?R():c===P&&R(!0))}),w(h+"."+P,function(){R()})},getIframe:function(c,d){var e=c.src,f=b.st.iframe;a.each(f.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1):void 0});var g={};return f.srcAction&&(g[f.srcAction]=e),b._parseMarkup(d,g,c),b.updateStatus("ready"),d}}});var S=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a},T=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,e=".mfp-gallery";return b.direction=!0,c&&c.enabled?(f+=" mfp-gallery",w(m+e,function(){c.navigateByImgClick&&b.wrap.on("click"+e,".mfp-img",function(){return b.items.length>1?(b.next(),!1):void 0}),d.on("keydown"+e,function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),w("UpdateStatus"+e,function(a,c){c.text&&(c.text=T(c.text,b.currItem.index,b.items.length))}),w(l+e,function(a,d,e,f){var g=b.items.length;e.counter=g>1?T(c.tCounter,f.index,g):""}),w("BuildControls"+e,function(){if(b.items.length>1&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,e=b.arrowLeft=a(d.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(s),f=b.arrowRight=a(d.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(s);e.click(function(){b.prev()}),f.click(function(){b.next()}),b.container.append(e.add(f))}}),w(n+e,function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout),b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages(),b._preloadTimeout=null},16)}),void w(h+e,function(){d.off(e),b.wrap.off("click"+e),b.arrowRight=b.arrowLeft=null})):!1},next:function(){b.direction=!0,b.index=S(b.index+1),b.updateItemHTML()},prev:function(){b.direction=!1,b.index=S(b.index-1),b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index,b.index=a,b.updateItemHTML()},preloadNearbyImages:function(){var a,c=b.st.gallery.preload,d=Math.min(c[0],b.items.length),e=Math.min(c[1],b.items.length);for(a=1;a<=(b.direction?e:d);a++)b._preloadItem(b.index+a);for(a=1;a<=(b.direction?d:e);a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=S(c),!b.items[c].preloaded){var d=b.items[c];d.parsed||(d=b.parseEl(c)),y("LazyLoad",d),"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0,d.loadError=!0,y("LazyLoadError",d)}).attr("src",d.src)),d.preloaded=!0}}}});var U="retina";a.magnificPopup.registerModule(U,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c,c>1&&(w("ImageHasSize."+U,function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),w("ElementParse."+U,function(b,d){d.src=a.replaceSrc(d,c)}))}}}}),A()});
var qltrcsId,actionToolbar={init:function(o){var a=o.find("#action-toolbar-btn"),t=actionToolbar.getDisplaySetting(),i=o.find("#action-toolbar-share-btn"),n=o.find(".action-toolbar-chat"),e=o.find(".action-toolbar-brochure"),r=o.find(".action-toolbar-feedback");"false"===t?actionToolbar.hide(a):actionToolbar.notifyStatusChange("isToolbarVisible",!0),a.on("click",(function(){actionToolbar.displayBtn($(this))})),i.on("click",(function(){"false"===i.attr("aria-expanded")?(i.attr("aria-expanded","true").closest(".action-toolbar-menu").addClass("action-toolbar-share-expanded"),actionToolbar.notifyStatusChange("isShareExpanded",!0)):(i.attr("aria-expanded","false").closest(".action-toolbar-menu").removeClass("action-toolbar-share-expanded"),actionToolbar.notifyStatusChange("isShareExpanded",!1)),i.trigger("blur")})),"undefined"==typeof localeData||null==localeData?$(document).on("getLocale",(function(){loclink.init(o),actionToolbar.updateBrochureLink(e,o,i)})):(loclink.init(o),actionToolbar.updateBrochureLink(e,o,i)),actionToolbar.toggleShareBtn(i);var l=!1;$(window).on("resize",(function(o){l=!0})),setInterval((function(){l&&(l=!1,actionToolbar.toggleShareBtn(i))}),50),actionToolbar.chatLink(n,o,i),actionToolbar.facebookShareLink(),actionToolbar.pinterestShareLink(),actionToolbar.emailShareLink(),o.removeClass("hidden"),actionToolbar.firstItemVisible(o,i),r.on("feedbackify.visible",(function(){actionToolbar.firstItemVisible(o,i)})),n.on("clickToChat.updateDisplay",(function(){actionToolbar.firstItemVisible(o,i)}))},toggleShareBtn:function(o){Modernizr.mq("(min-width:48em)")?o.attr({"aria-disabled":!0,"aria-hidden":!0}).addClass("hidden").next(".action-toolbar-share-text").removeClass("hidden"):o.attr({"aria-disabled":!1,"aria-hidden":!1}).removeClass("hidden").next(".action-toolbar-share-text").addClass("hidden")},hide:function(o){o.attr("aria-expanded","false").prev(".action-toolbar-menu").addClass("action-toolbar-menu-lowered"),actionToolbar.notifyStatusChange("isToolbarVisible",!1)},show:function(o){o.attr("aria-expanded","true").prev(".action-toolbar-menu").removeClass("action-toolbar-menu-lowered"),actionToolbar.notifyStatusChange("isToolbarVisible",!0)},displayBtn:function(o){"true"===o.attr("aria-expanded")?(actionToolbar.hide(o),actionToolbar.saveDisplaySetting(!1)):(actionToolbar.show(o),actionToolbar.saveDisplaySetting(!0)),o.trigger("blur")},saveDisplaySetting:function(o){sessionStorage.setItem("actionToolbarDisplay",o)},getDisplaySetting:function(){var o=sessionStorage.getItem("actionToolbarDisplay");return null===o||o},firstItemVisible:function(o,a){a.is(":hidden")&&o.find(".action-toolbar-item").removeClass("first-visible").filter(":visible").first().addClass("first-visible")},updateBrochureLink:function(o,a,t){"true"==localeData.brochures&&(o.removeClass("hidden"),actionToolbar.firstItemVisible(a,t))},chatLink:function(o,a,t){o.on("clickToChat.updateDisplay",(function(){"Active"===o.find(".action-toolbar-chat-link").data("clickToChat")&&o.find(".action-toolbar-chat-link").addClass("chat-is-online"),$(this).removeClass("hidden"),actionToolbar.firstItemVisible(a,t)}))},qltrFeedbackLink:function(o){void 0!==o&&""!=o||(o="SV_7PcHxkLs8QHKhA9"),$("#action-toolbar-qualtrics-btn").attr("href","https://princess.qualtrics.com/jfe/form/"+o)},facebookShareLink:function(){var o=window.location;$(".action-toolbar-facebook-link").attr({href:"https://www.facebook.com/sharer/sharer.php?u="+o,target:"_blank",rel:"noopener"})},pinterestShareLink:function(){var o=window.location,a=document.title;$(".action-toolbar-pinterest-link").attr({href:"https://www.pinterest.com/pin/create/link/?url="+o+"&description="+a,target:"_blank",rel:"noopener"})},emailShareLink:function(){var o="I saw this great information on the Princess website. I thought you might find it helpful. \n"+window.location;$(".action-toolbar-email-link").attr({href:"mailto:?subject=I think you will love this great info from Princess.com.&body="+encodeURIComponent(o),target:"_top",rel:"noopener"})},notifyStatusChange:function(o,a){var t=window.pclSearch;t&&t.set(o,a)}};jQuery(document).ready((function(o){actionToolbar.init(o(".action-toolbar"))}));


var isPicturefillLoaded=!1,pictureEl={init:function(i){(console.log("pictureEl.init"),i.find("picture").length>0)&&(this.browserTest()?this.usePolyfill():this.useFallback(i))},browserTest:function(){return!$("html").hasClass("lt-ie9")},usePolyfill:function(){!1===isPicturefillLoaded?(isPicturefillLoaded=!0,loadJS("/js/global/picturefill/picturefill.min.js",(function(){picturefill()}))):"function"==typeof picturefill&&picturefill()},useFallback:function(i){i.find("picture").each((function(){var i=$(this).parent(),l=i.find(".lt-ie9_slide-img"),t=l.data();i.find("picture,source,img").remove(),l.append('<img src="'+t.src+'" alt="'+t.alt+'" />')}))}};


function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var autoSpecialOffers={config:{code:"WWWSPCLOFR",debug:!1,delay:3e3,maxDaysLastViewed:14,forceDisplay:!1,section:"",trade:""},init:function(e){if(e&&"object"===_typeof(e)&&$.extend(autoSpecialOffers.config,e),autoSpecialOffers.config.debug&&console.log("autoSpecialOffers config:",autoSpecialOffers.config),!autoSpecialOffers.localeCheck())return autoSpecialOffers.config.debug&&console.log("autoSpecialOffers locale note eligible, return null"),null;var t=autoSpecialOffers.getStatus();if(autoSpecialOffers.config.debug&&console.log("autoSpecialOffers spoObject",t),null===t)return autoSpecialOffers.config.debug&&console.log("autoSpecialOffers open by default"),autoSpecialOffers.openLightbox(autoSpecialOffers.config.code,autoSpecialOffers.config.section,autoSpecialOffers.config.trade),autoSpecialOffers.setView(),!0;var o=autoSpecialOffers.checkStatus(t,autoSpecialOffers.config.maxDaysLastViewed);autoSpecialOffers.config.debug&&console.log("autoSpecialOffers display:",o),o?setTimeout((function(){return autoSpecialOffers.openLightbox(autoSpecialOffers.config.code,autoSpecialOffers.config.section,autoSpecialOffers.config.trade),autoSpecialOffers.setView(),!0}),autoSpecialOffers.config.delay):autoSpecialOffers.config.forceDisplay&&setTimeout((function(){return autoSpecialOffers.openLightbox(autoSpecialOffers.config.code,autoSpecialOffers.config.section,autoSpecialOffers.config.trade),!1}),autoSpecialOffers.config.delay)},checkStatus:function(e,t){if(null===e)return!0;if("completed"===e.status)return!1;var o=autoSpecialOffers.lastUpdated(e.lastUpdated);return autoSpecialOffers.config.debug&&console.log("autoSpecialOffers daysLastUpdated",o),o>t||"SPCLOFFER"===e.formCode},lastUpdated:function(e){return(autoSpecialOffers.timestamp-e)/864e5},timestamp:new Date,expireDatestamp:function(){return new Date(autoSpecialOffers.timestamp.getFullYear()+1,autoSpecialOffers.timestamp.getMonth(),autoSpecialOffers.timestamp.getDate(),autoSpecialOffers.timestamp.getHours(),autoSpecialOffers.timestamp.getMinutes())},localeCheck:function(){return"object"===("undefined"==typeof localeData?"undefined":_typeof(localeData))&&"true"===localeData.specialOffers},getStatus:function(){var e=docCookies.nameItem("pcl_spo"),t=docCookies.getItem(e);return null===t||"undefined"===t?null:JSON.parse(t)},setView:function(e){autoSpecialOffers.updateStatus("viewed",e)},setComplete:function(){autoSpecialOffers.updateStatus("completed")},updateStatus:function(e,t){var o=docCookies.nameItem("pcl_spo"),a=autoSpecialOffers.timestamp.getTime(),f=autoSpecialOffers.getStatus(),i={status:e,lastUpdated:a};t?i.formCode=t:f&&f.formCode&&(i.formCode=f.formCode),docCookies.setItem(o,JSON.stringify(i),autoSpecialOffers.expireDatestamp(),"/","princess.com",!0)},openLightbox:function(e,t,o){var a="",f="";""!=o&&(f=" no-trades",""!=a&&(a+="&"),a+="trade="+o),""!=t&&(""!=a&&(a+="&"),a+="section="+t),""!=e&&(""!=a&&(a+="&"),a+="code="+e),jQuery.magnificPopup.open({closeMarkup:'<div class="mfp-close-wrapper"><div class="mfp-close-inner-wrapper"><button class="mfp-close icon-no-text" data-test-id="mfp-close"><span class="visuallyhidden">Close Modal</span></button></div></div>',items:{src:$bookURL+"/captaincircle/specialOfferRegistration.page?"+a},type:"iframe",mainClass:"border-box-sizing special-offers"+f,alignTop:!0,removalDelay:300,callbacks:{open:function(){jQuery("#feedbackify").length&&jQuery("#feedbackify").hide();var e=this.currItem,t=this.container;lightboxOpenFocusFix(e,t,"Sign Up for Special Offers")},close:function(){$("#container").removeAttr("aria-hidden"),jQuery("#feedbackify").length&&jQuery("#feedbackify").show()}}})}};


function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var siteSearchForm={initAutocomplete:function(t){void 0!==t.data("has-autocomplete")&&0!=t.data("hasAutocomplete")||t.swiftype({engineKey:"JDuYRnCLSDZzYWgBkoSB"}).attr("data-has-autocomplete",!0)},init:function(t){siteSearchForm.searchSubmit(t)},loadScripts:function(t){loadCSS("/css/global/swiftype/autocomplete.css"),loadJS("/js/global/jquery/plugins/swiftype/jquery.swiftype.autocomplete.js",(function(){siteSearchForm.initAutocomplete(t)}))},searchSubmit:function(t){t.closest("form").on("submit",(function(e){e.preventDefault();var o=$(this),a=t.val(),n=$wwwURL+"/search/",i="";""==a?a="n/a":n+="#stq="+fixedEncodeURIComponent(a),o.parent().hasClass("header-site-search")?(i="Header",setTimeout((function(){window.location=n}),400)):(i="Article Header","/search/"!=window.location.pathname&&setTimeout((function(){window.location=n}),400)),"object"==_typeof(window.dataLayer)&&window.dataLayer.push({event:"site-search-form","page-section":i,"search-term":a,"form-action":"submit","form-type":"User Request"}),console.log("SITE SEARCH SELECTED"),"object"==_typeof(window.dtm_dataLayer)&&window.dtm_dataLayer.push({event:"site-search-submit","page-section":i,"search-term":a})}))}};


var equalHeightObj={init:function(i,t){if(i.css("min-height",0),t){var n=equalHeightObj.findMaxHeight(i);n=Math.round(n)+1,i.css("min-height",n)}},findMaxHeight:function(i){var t=0;return i.each((function(){var i=$(this).outerHeight();i>t&&(t=i)})),t}};


function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function vertAlignCol(t){var o=windowBreakPoint(),e=function(t){var e=t.data("rowHeight"),n=0;t.children("div").each((function(){$(this).outerHeight()>n&&(n=$(this).outerHeight())})),e!=n&&(t.data("rowHeight",n),t.children("div").each((function(){var t=$(this),e=0;t.outerHeight()<n&&!t.hasClass("col-"+o+"-12")&&!t.hasClass("col-"+o+"-no-vert-align")&&(e=(n-t.outerHeight())/2),t.css("margin-top",e)})))};switch(_typeof(t)){case"string":$(t).each((function(){e($(this))}));break;case"object":e(t)}}


function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}window.surveyIntercept={config:{url:"#",title:"We Value Your Opinion",desc:"Please tell us about today&rsquo;s website visit, so we can give you the best possible online experience.",cta:"Take Our Survey",duration:15e3,delay:3e3,targetSelector:"main",forceDisplay:!1,debug:!1},timestamp:new Date,getList:function(){var e,t=docCookies.nameItem("pcl_surveyList");return docCookies.hasItem(t)?(e=docCookies.getItem(t),localStorage.setItem("pcl_surveyList",e),docCookies.removeItem(t,"/",".princess.com")):e=localStorage.getItem("pcl_surveyList"),null===e||"undefined"===e?[]:JSON.parse(e)},updateList:function(e,t){e.some((function(e){return e===t}))||e.push(t),!0===surveyIntercept.config.debug&&console.log("surveyIntercept updateList:",e),localStorage.setItem("pcl_surveyList",JSON.stringify(e))},init:function(e){e&&"object"===_typeof(e)&&Object.assign(surveyIntercept.config,e);var t=surveyIntercept.getList(),n=t.some((function(e){return e===surveyIntercept.config.url}));surveyIntercept.config.debug&&(console.log("surveyIntercept config:",surveyIntercept.config),console.log("surveyIntercept displaySurvey:",!n)),n&&!surveyIntercept.config.forceDisplay||surveyIntercept.timer(surveyIntercept.config,t)},display:function(e,t,n){var o=document.querySelector(t),r=document.querySelector(".survey-container"),s=null;if(s===r||(s=r),n&&(console.log("surveyIntercept tpl:",e),console.log("surveyIntercept targetEl:",o)),!r)if("function"==typeof windowBreakPoint){var c=windowBreakPoint();n&&console.log("surveyIntercept break point:",c),["xs","sm"].includes(c)?(s=o.parentNode.insertBefore(e,o)).classList.add("mobile"):(s=o.parentNode.insertBefore(e,o.nextElementSibling)).classList.add("desktop")}else(s=o.parentNode.insertBefore(e,o.nextElementSibling)).classList.add("desktop");return setTimeout((function(){s.classList.remove("not-visible")}),100),s},hide:function(e,t){t&&console.log("surveyIntercept: hide"),e.classList.add("not-visible")},timer:function(e,t){var n,o=surveyIntercept.template(e.title,e.desc,e.url,e.cta);surveyIntercept.delayTimer&&clearTimeout(surveyIntercept.delayTimer),surveyIntercept.delayTimer=setTimeout((function(){!0===e.debug&&console.log("surveyIntercept display survey");var r=surveyIntercept.display(o,e.targetSelector,e.debug);surveyIntercept.updateList(t,e.url),n=setTimeout((function(){!0===e.debug&&console.log("surveyIntercept hide survey"),!1===e.forceDisplay&&surveyIntercept.hide(r,e.debug)}),e.duration),[document.querySelector(".survey-cta-link"),document.querySelector(".survey-close-btn")].forEach((function(e){e.addEventListener("click",(function(e){surveyIntercept.hide(r),clearTimeout(n)}))}))}),e.delay)},template:function(e,t,n,o){var r=document.createElement("div");return r.classList.add("survey-container","not-visible"),r.innerHTML='<div class="survey-wrapper">\n                        <h3 class="font-size-p4 gotham-xn-book survey-headline">'.concat(e,'</h3>\n                        <p class="survey-desc">').concat(t,'</p>\n                        <div class="survey-cta"><a href="').concat(n,'" target="_blank" class="button green-btn font-size-p6 survey-cta-link">').concat(o,'</a></div>\n                        <button type="button" class="survey-close-btn" aria-label="Close Survey Invite">\n                        <svg class="svg-icon svg-icon-open-close"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-open-close"></use></svg>\n                        </button></div>'),r}};


function anchorScrollTo(o){if(o.length>0){var t=o.offset().top;if(o.closest(".mfp-wrap").length>0){var n=$(".mfp-wrap").offset().top;$(".mfp-wrap").stop().animate({scrollTop:t-n-20},500,(function(){o.offset().top-n>$(window).height()&&$("html,body").stop().animate({scrollTop:t-20},500),o.find("h2").attr("tabindex","-1").focus()}))}else $("html,body").stop().animate({scrollTop:t-70},500,(function(){o.find("h2").attr("tabindex","-1").focus()}))}}function showProduct(o){if(isItaProduct(o)){var t=o.find("a").first();setTimeout((function(){t.trigger("click")}),0)}}function isValidAnchor(o){return["?","=",","].every((function(t){return-1===o.indexOf(t)}))}function isItaProduct(o){return o.hasClass("cards-nav-wrapper")||o.hasClass("tab-nav-link")}$(document).ready((function(){var o=location.hash;o.length>0&&isValidAnchor(o)&&$(o).length&&showProduct($(o)),$(document).on("click",".anchor-scroll, .anchor-btn",(function(o){o.preventDefault();var t=$(DOMPurify.sanitize($(this).attr("href")));anchorScrollTo($(t)),showProduct($(t))})),$(document).on("change",".anchor-scroll",(function(o){o.preventDefault();var t=DOMPurify.sanitize($(this).val());0==t.indexOf("#")?(anchorScrollTo($(t)),showProduct($(t))):window.location=t,$(this).trigger("blur").find("option:eq(0)").prop("selected",!0)})),$(document).on("click",".scroll-top",(function(o){o.preventDefault(),$("html, body").stop().animate({scrollTop:0},500)}))}));


var droptabs={init:function(a,t){"function"==typeof $.fn.droptab?droptabs.activate(a,t):droptabs.loadDroptab(a,t)},loadDroptab:function(a,t){var e=!1,r=!1,o=loadCSS("/css/global/droptab/droptab.css");onloadCSS(o,(function(){e=!0})),loadJS("/js/global/jquery/plugins/droptab/jquery.droptab.js",(function(){r=!0}));var s=setInterval((function(){1==e&&1==r&&(clearInterval(s),droptabs.activate(a,t))}),50)},activate:function(a,t){"undefined"==a.data("breakWidth")?breakWidth="auto":breakWidth=a.data("breakWidth"),"undefined"==a.data("breakTarget")?breakTarget="auto":breakTarget=a.data("breakTarget"),a.droptab({breakWidth:breakWidth,breakTarget:breakTarget,openMsg:"Select an option",autoClose:!0,droptabCallback:function(){var a=$(this);a.removeClass("invisible").closest(".drop-tab-wrapper").removeClass("not-ready"),1==a.data("easytabs")?droptabs.loadEasytab(a,t):1==a.data("setactive")&&droptabs.selectActive(a)}})},selectActive:function(a){var t=window.location.pathname;"/"==(t=(t=t.split("#")[0]).split("index")[0]).slice(-1)&&(t=t.slice(0,-1));var e=t.split("/").pop(),r="";a.find("a").each((function(){var a=$(this),t=a.prop("href");"/"==t.slice(-1)&&(t=t.slice(0,-1)),hrefArray=t.split("/");for(var o=hrefArray.length;o>0;o--)if(r=hrefArray[o],e==r)return a.parent().addClass("active"),$(".droptab-select-current").text(a.text()),!1}))},loadEasytab:function(a,t){"function"==typeof $.easytabs?droptabs.activateEasytabs(a,t):loadJS("/js/global/jquery/plugins/easytabs/jquery.easytabs.min.js",(function(){droptabs.activateEasytabs(a,t)}))},activateEasytabs:function(a,t){var e=$(t);a.closest(t).easytabs({tabs:".drop-tab li",updateHash:!1,transitionIn:"fadeIn",transitionOut:"fadeOut"}),e.find(".easy-tab-jump")&&e.on("click",".easy-tab-jump",(function(a){a.preventDefault();var t=$(this);jumpLinkTarget=t.attr("href"),$(".drop-tab > .tab").each((function(){for(var a=$(this).find("a"),t=a.attr("href").split(" "),e=0;e<t.length;e++)t[e]==jumpLinkTarget&&a.trigger("click")})),$("html,body").stop().animate({scrollTop:e.offset().top-20},500)}))}};


!function(a){a.fn.tabNav=function(t){var n=a.extend({$tabNavMenu:this,tabNavWrapper:".tab-nav-wrapper",tabNavRow:".tab-nav-row",tabNavMenu:".tab-nav-menu",tabNavItem:".tab-nav-item",hasSubnavMenu:".has-subnav-menu",tabSubnavWrapper:".tab-subnav-wrapper",tabSubnavMenu:".tab-subnav-menu",tabSubnavItem:".tab-subnav-item",tabNavLinks:".tab-nav-link",tabNavScroll:".tab-nav-scroll",expandedClass:"expanded",activeClass:"active",scrollLeft:"scroll-nav-left",scrollRight:"scroll-nav-right",$container:this.closest("#container"),debug:!1},t);"true"===n.debug&&console.log("options:",n);var e={init:function(){n.$tabNavMenu.each((function(){var t=a(this);if(void 0===t.data("status")||"not-ready"===t.data("status")){t.data("status","pending"),console.log("tabnav test: init this tabnav and mark the status as pending...");var s=t.closest(n.tabNavWrapper),i=t.closest(n.tabNavRow),o=t.closest(n.tabNavWrapper).find(n.tabNavScroll),l=n.$container,r=setInterval((function(){var c=t.find(n.tabNavLinks),d=c.filter(n.hasSubnavMenu),v=c.length;console.log("tabNavLinksLength",v),v>0&&(clearInterval(r),r=!1,void 0!==t.data("setactive")&&!0===t.data("setactive")&&e.activeLink(c,n.tabSubnavWrapper,n.hasSubnavMenu,n.activeClass),void 0!==t.data("easytabs")&&!0===t.data("easytabs")&&e.initEasytabs(l,c,n.tabNavItem),c.on("click",(function(){var t=a(this);e.activeLink(c,n.tabSubnavWrapper,n.hasSubnavMenu,n.activeClass,t)})),e.checkMenuFit(t,i,o),e.scrollEvents(o,t,n.scrollLeft,n.scrollRight),e.clickEvents(t,n.tabNavItem+" > "+n.tabNavLinks,d),t.find(".tab-subnav-item > .tab-nav-link").attr("tabindex","-1"),t.removeClass("invisible").data("status","ready"),v<2&&(void 0===t.data("alwaysvisible")||!1===t.data("alwaysvisible"))&&s.addClass("hidden"))}),50)}else console.log("tabnav test: dont init this tabnav, its already been started")}))},checkMenuFit:function(t,n,s){var i=!0;a(window).on("resize",(function(a){i=!0})),window.addEventListener("orientationchange",(function(){i=!0}));setInterval((function(){i&&(i=!1,e.displayScrollBtn(t,n,s))}),50)},scrollEvents:function(t,s,i,o){var l,r=!1;t.on("mousedown",(function(){l=a(this),r=!0})),t.hammer().on("touchstart",(function(t){t.preventDefault(),l=a(this),r=!0})),t.on("mouseup",(function(){r=!1,a(this).blur()})),t.hammer().on("touchend",(function(t){t.preventDefault(),r=!1,a(this).blur()}));setInterval((function(){if(r){var a=l.hasClass(n.scrollLeft)?10:-10;e.moveMenu(s,a)}}),50);s.hammer().on("panstart panmove panend pancancel",(function(a){e.moveMenu(s,a.gesture.deltaX)}))},moveMenu:function(a,t){var n,e=void 0===a.data("offset")?0:a.data("offset");if(t<0){var s=a.data("max-offset");n=e+t>s?e+t:s}else n=e+t<0?e+t:0;a.css("margin-left",n).data("offset",n)},displayScrollBtn:function(a,t,n){var e;return Modernizr.mq("(min-width:48em)")&&a.width()>t.width()?(n.removeClass("hidden"),t.addClass("scrollable"),a.addClass("scrollable").data("max-offset",t.width()-a.width()),e=!0):(n.addClass("hidden"),t.removeClass("scrollable"),a.removeClass("scrollable").css("margin-left","auto").data("offset",0),e=!1),e},activeLink:function(t,n,e,s,i){if(void 0===i){var o=window.location.pathname;o=o.split("index.")[0],t.each((function(){var t=a(this).attr("href");(t=-1===(t=t.split("index.")[0]).indexOf("http")?t:t.split(".com")[1])===o&&((i=a(this)).addClass(s),i.closest(n).length>0&&i.closest(n).prev(e).addClass(s))}))}else i.addClass(s),i.closest(n).length>0&&i.closest(n).prev(e).addClass(s),t.filter("[aria-selected]").length&&(t.attr("aria-selected",!1),t.removeClass(s),i.attr("aria-selected",!0),i.addClass(s))},initEasytabs:function(t,n,s){"function"==typeof a.easytabs?e.activateEasytabs(t,n,s):e.loadEasytab(t,n,s)},loadEasytab:function(a,t,n){"function"==typeof loadJS&&loadJS("/js/global/jquery/plugins/easytabs/jquery.easytabs.min.js",(function(){e.activateEasytabs(a,t,n)}))},activateEasytabs:function(t,n,e){t.easytabs({tabs:e,updateHash:!1,transitionIn:"fadeIn",transitionOut:"fadeOut"}),n.filter(".active").attr("aria-selected",!0),t.find(".easy-tab-jump")&&t.on("click",".easy-tab-jump",(function(e){e.preventDefault();var s=a(this);jumpLinkTarget=s.attr("href"),n.each((function(){for(var t=a(this).attr("href").split(" "),n=0;n<t.length;n++)t[n]===jumpLinkTarget&&$tabLink.trigger("click")})),a("html,body").stop().animate({scrollTop:t.offset().top-20},500)})),a.fn.tabNav.easytabsCallbacks(t)},expandDropdown:function(a){a.closest(".tab-nav-item").addClass("expanded").find(".tab-subnav-item > .tab-nav-link").attr("tabindex","0"),a.hasClass("has-subnav-menu")&&a.attr("aria-expanded","true")},hideDropdown:function(t){t.closest(".tab-nav-item").removeClass("expanded").find(".tab-subnav-item > .tab-nav-link").attr("tabindex","-1"),t.removeClass("active"),t.hasClass("has-subnav-menu")&&(t.attr("aria-expanded","false"),t.siblings().find("a").each((function(){var n=a(this).attr("href");n=-1===(n=n.split("index.")[0]).indexOf("http")?n:n.split(".com")[1],window.location.pathname===n&&t.addClass("active")})))},hideAllDropdowns:function(){var t=a(".tab-nav-item.expanded");t.length>0&&e.hideDropdown(t.find(".tab-nav-link"))},toggleDropdown:function(a,t){"touch"!==t&&"click"!==t||"true"!==a.prop("ariaExpanded")?(e.hideAllDropdowns(),e.expandDropdown(a)):e.hideDropdown(a)},clickEvents:function(t,n,s){s.length>0&&(s.on("touchend",(function(a){a.preventDefault()})),s.on("touchstart click",(function(t){t.preventDefault(),e.toggleDropdown(a(this),"click")})),s.on("keydown",(function(t){13!==t.which&&32!==t.which||(t.preventDefault(),e.toggleDropdown(a(this),"click"))})),a(document).on("keydown touchstart click",(function(t){27===t.which&&e.hideAllDropdowns(),"click"!==t.type||a(t.target).closest(".tab-nav-item").length||e.toggleDropdown(s.filter('[aria-expanded="true"]'),"click")})))}};return e.init(),this},a.fn.tabNav.easytabsCallbacks=function(a){}}(jQuery);


var addUrl={element:function(d){var a=addUrl.getUrl(d);addUrl.toHref(d,a)},getUrl:function(d){var a;return d.hasClass("addwww")?(a=$wwwURL,"https:"===pageProtocol&&(a=$swwwURL)):d.hasClass("addswww")?a=$swwwURL:d.hasClass("addbook")&&(a=$bookURL),a},toHref:function(d,a){if(d.is("a")){var e=d.attr("href");"/"===e.substring(0,1)&&d.attr("href",a+e).addClass("url-added")}}};!function(d){d(document).ready((function(){var a=d(document).find(".addwww, .addbook, .addswww");a.length>0&&a.each((function(){addUrl.element(d(this))})),d(document).on("p13nAfterDelivery",(function(a,e){addUrlP13Elements=d(document).find("a.addwww, a.addbook, a.addswww").not(".url-added"),addUrlP13Elements.length>0&&addUrlP13Elements.each((function(){addUrl.element(d(this))}))})),d(document).on("mfpAjaxContentAdded",(function(a){addUrlLightboxElements=d.magnificPopup.instance.content.find("a.addwww, a.addbook, a.addswww").not(".url-added"),addUrlLightboxElements.length>0&&addUrlLightboxElements.each((function(){addUrl.element(d(this))}))}))}))}(jQuery);


jQuery(document).ready((function(e){var o=e("html"),t=getCookie("browserNotice");(o.hasClass("lt-ie9")||o.hasClass("lt-ie8")||o.hasClass("ie7")||o.hasClass("ie6"))&&(null!=t&&""!=t||function(){var o="",t="Please Upgrade Your Web Browser",r='We&rsquo;ve rebuilt our website using the latest technologies to make it perform better and be easier to use. Unfortunately, a more up-to-date browser is needed to support those technologies. <a href="http://windows.microsoft.com/ie" class="white">Update your browser now.</a>',i="/ip79f.jsp";"https:"==pageProtocol&&(i="/util/monitorIp.page");e.ajax({url:i}).done((function(e){var o=!1;-1==e.indexOf(" 172.29.")&&-1==e.indexOf(" 10.2.")||(o=!0),o&&(t="Attention Internal Users",r="Internet Explorer users: please use a newer version (IE 9 or later) and disable Compatibility Mode (under the tools menu) for princess.com to function properly, or use a more up-to-date browser like Firefox or Chrome if available.")})).always((function(){o='<div id="browser-notice" style="background: #4D4D4D; border-bottom: 1px solid #666; display: none; position: relative; z-index: 999;"><div class="inner-wrapper" style="color: #fff; margin: 0 auto; padding: 5px 10px 5px; width: 980px;"><p style="color:#fff; font-size: 13px; margin: 1em 0 .5em;"><a href="#" id="close-browser-notice" style="display: block; color: white; float: right; font-size: 13px; font-weight: 700; overflow: hidden; width: 75px;"><span style="direction: ltr;display: block; overflow: hidden; text-align: left; text-indent: -999em; float: left; height: 14px; width: 14px; background: url(/images/global/sprite_pc-icons.png) no-repeat -90px -42px transparent; margin-right: 5px;">[x]</span>Close</a><span class="highlight" style="background: #F26522; font-size: 15px; letter-spacing: .5px; padding: 4px 10px;">'+t+'</span></p><p style="color:#fff; font-size: 13px; margin: 1em 0 .5em;">'+r+"</p></div></div>",e("#important-update").length?e("#important-update").before(o):e("body").prepend(o),e("#browser-notice").slideDown(),e(document).on("click","#close-browser-notice",(function(o){o.preventDefault(),setSessionCookie("browserNotice","hide",240),e("#browser-notice").slideUp("fast")}))}))}())}));


var guestProfile={timestamp:new Date,cookieName:function(e){if(null!=sub_domain_substring)switch(sub_domain_substring[0]){case"dev":e+="Dev";break;case"stage":e+="Stage";break;case"uat":e+="Uat";break;case"qa":e+="Qa";break;case"stg":e+="Stg";break;case"tst":e+="Tst";break;case"preprod":e+="Preprod"}return e},expireDatestamp:function(){return new Date(guestProfile.timestamp.getFullYear()+1,guestProfile.timestamp.getMonth(),guestProfile.timestamp.getDate(),guestProfile.timestamp.getHours(),guestProfile.timestamp.getMinutes())},isStale:function(e,t){var o=(Date.now()-864e5)/1e3;return!t||e!==t||e<o},isReady:function(e,t){var o,i;if("pcl_futureBooking"===e)o=guestProfile.getFutureBooking(),i="guestProfile.futureBookingSaved";else{if("pcl_guestInfo"!==e)return!1;o=guestProfile.getInfo(),i="guestProfile.infoSaved"}o?t(o):$(document).on(i,(function(){o="pcl_futureBooking"===e?guestProfile.getFutureBooking():guestProfile.getInfo(),t(o)}))},getData:function(e,t){return e=$bookURL+e,$.ajax({url:e,cache:!1,contentType:"application/json",data:t,dataType:"jsonp"})},info:function(e){var t,o=guestProfile.cookieName("pcl_guestInfo"),i=docCookies.hasItem(o),u=i?JSON.parse(docCookies.getItem(o)):{},s=guestProfile.cookieName("pcl_guestInfoStatus"),n=docCookies.hasItem(s)?JSON.parse(docCookies.getItem(s)):{};if(null!=e&&(e="CCN="+e,i=!1),i&&(t=guestProfile.isStale(u.lastUpdated,n),null==e&&(e="CCN="+u.ccn)),null==e&&docCookies.hasItem("pccn")&&(e="CCN="+docCookies.getItem("pccn")),null==e&&docCookies.hasItem("sccn")&&(e="CCN="+docCookies.getItem("sccn")),docCookies.hasItem("pcl_cpguest")){var r=docCookies.getItem("pcl_cpguest");null!=e&&r==u.ccn||(e="CCN="+r,i=!1)}i&&!t||null==e?(i&&guestProfile.futureBooking(!1),null===n&&docCookies.setItem(s,Date.now(),"","/","princess.com",!0)):$.when(guestProfile.getData("/captaincircle/retrieveGuestInfo.do",e)).then((function(e){"success"===e.status&&($(document).trigger("guestProfile.infoSaved"),u=JSON.parse(docCookies.getItem(o)),guestProfile.futureBooking(!0))}),(function(e,t){return"error"===t&&(t=e.statusText),!1}))},getInfo:function(){var e=guestProfile.cookieName("pcl_guestInfo"),t=docCookies.getItem(e);return null==t||"undefined"==t?null:JSON.parse(t)},futureBooking:function(e){guestProfile.cookieName("pcl_guestInfo");var t=guestProfile.cookieName("pcl_futureBooking");docCookies.hasItem(t)&&docCookies.removeItem(t,"/","princess.com")},getFutureBooking:function(){var e=guestProfile.cookieName("pcl_futureBooking"),t=docCookies.getItem(e);return null==t||"undefined"==t?null:JSON.parse(t)},addFutureBooking:function(e,t,o,i,u,s,n,r,a){var c,g=guestProfile.getFutureBooking();c+="bookingNum="+e,c+="&sailDate="+t,c+="&shipName="+o,c+="&cruiseDuration="+i,c+="&cruiseDest="+u,c+="&companyCode="+s,c+="&productCode="+n,c+="&bookingStat="+r,c+="&loyaltyCredit="+a,$.when(guestProfile.getData("/captaincircle/getFutureBookingJSON.do",c)).then((function(e){var t=e.data;null==g&&(g={futureBookings:[]}),g.futureBookings.push(t),guestProfile.saveFutureBooking(g)}),(function(e,t){return"error"===t&&(t=e.statusText),!1}))},saveInfo:function(e){var t=guestProfile.cookieName("pcl_guestInfo");docCookies.setItem(t,JSON.stringify(e),guestProfile.expireDatestamp(),"/","princess.com",!0),$(document).trigger("guestProfile.guestInfoSaved")},saveFutureBooking:function(e){var t=guestProfile.cookieName("pcl_futureBooking");docCookies.setItem(t,JSON.stringify(e),guestProfile.expireDatestamp(),"/","princess.com",!0),$(document).trigger("guestProfile.futureBookingSaved")}};$(document).ready((function(){}));


var eglvchathandle=null,egainDockChat=egainDockChat||{},clickToChat={$btn:$(".chat-btn, .action-toolbar-chat-link"),chatServerDetails:{chatUrl:null,source:null,chatAvailUrl:null,serviceReady:!1},checkChatAvail:function(t,a){return $.ajax({url:t,type:"GET",dataType:a})},hideBtn:function(){clickToChat.$btn.closest(".navbar-btn-row, .chat-btn-row, .action-toolbar-chat").addClass("hidden")},targetInit:function(t,a,e,c){"EGAIN"===t?clickToChat.initEgain(e,a,c):clickToChat.hideBtn()},initEgain:function(t,a,e){window.docCookies&&(docCookies.hasItem("egain-last-success-request-id")||docCookies.hasItem("EG-S-ID"))&&clickToChat.callEgainScript(),egainDockChat.serverURL="https://princesscruises.egain.cloud/system",egainDockChat.EntryPointId=t,egainDockChat.Locale="en-US",egainDockChat.Template=a||"aqua",egainDockChat.PostChatAttributes=!0,egainDockChat.IntegratedEntryPoint="false",egainDockChat.VChatParams="",egainDockChat.UseCustomButton=!0,clickToChat.updateBtnDisplay(!0),clickToChat.updateBtnClick()},initIsaac:function(){var t;"dev"===hostDomain[sub_domain_substring].envir?(clickToChat.chatServerDetails.chatUrl="https://test-isaac.wlcl.com.au/Chat/DirectChat",clickToChat.chatServerDetails.chatAvailUrl="https://test-isaac.wlcl.com.au/Chat/IsExternalCustomerAlive"):(clickToChat.chatServerDetails.chatUrl="https://isaac.wlcl.com.au/Chat/DirectChat",clickToChat.chatServerDetails.chatAvailUrl="https://isaac.wlcl.com.au/Chat/IsExternalCustomerAlive"),clickToChat.chatServerDetails.source="isaac",$.when(clickToChat.checkChatAvail(clickToChat.chatServerDetails.chatAvailUrl,"json")).then((function(a){"online"==a.chatServiceStatus?(t=!0,clickToChat.updateBtnDisplay(t),clickToChat.updateBtnClick()):(t=!1,clickToChat.updateBtnDisplay(t),clickToChat.updateBtnClick())}),(function(a,e){"error"===e&&(e=a.statusText),t=!1,clickToChat.updateBtnDisplay(t),clickToChat.updateBtnClick()}))},chatUrl:function(){var t="",a="";t=encodeURIComponent(t);var e=encodeURIComponent(document.location.href),c=e.lastIndexOf("#");-1!=c&&(e=e.substring(0,c));var i=/eglvcaseid=[0-9]*/gi.exec(window.location.search);if("undefined"!=typeof EGAINCLOUD&&EGAINCLOUD.Account.getAllIds){var n=EGAINCLOUD.Account.getAllIds();clickToChat.setCustomerParameters("aId",n.a),clickToChat.setCustomerParameters("sId",n.s),clickToChat.setCustomerParameters("uId",n.u)}return(window.EG_CALL_Q||[]).push(["enableTracker",!0]),"isaac"===clickToChat.chatServerDetails.source?a=clickToChat.chatServerDetails.chatUrl:"egain"===clickToChat.chatServerDetails.source&&(clickToChat.setCustomerParameters("eglvrefname",t),clickToChat.setCustomerParameters("eglvcaseid",i),void 0!==guestContactInfo&&(clickToChat.setCustomerParameters("fieldname_1",encodeURIComponent(guestContactInfo.greeting)),clickToChat.setCustomerParameters("fieldname_2",encodeURIComponent(guestContactInfo.email))),a=""),a},updateBtnDisplay:function(t){clickToChat.$btn.each((function(){var a,e=$(this),c=e.find(".chat-btn-text");t?(a=void 0===c.data("onlineText")?"Live Chat":c.data("onlineText"),e.data({clickToChat:"Active",usText:a}),e.hasClass("action-toolbar-chat-link")?e.trigger("clickToChat.updateDisplay"):e.removeClass("deactive")):(a=void 0===c.data("offlineText")?"Chat is Offline":c.data("offlineText"),e.data({clickToChat:"Inactive",usText:a}),e.hasClass("action-toolbar-chat-link")?e.trigger("clickToChat.updateDisplay"):e.addClass("deactive"),e.hasClass("action-toolbar-chat-link")?c.html('Chat <span class="action-toolbar-secondary-text">is offline</span>'):c.text(a))}))},activateChat:function(){$.when(clickToChat.callEgainScript()).then((function(){var t=clickToChat.chatUrl();if(egainDockChat&&Object.keys(egainDockChat).length>0)egainDockChat.IsChatLaunched=!0,egainDockChat.launchChat?egainDockChat.launchChat():(egainDockChat.CallQueue=egainDockChat.CallQueue||[],egainDockChat.CallQueue.push({name:"launchChat",args:[]}));else{try{if(null!=eglvchathandle&&0==eglvchathandle.closed)return void eglvchathandle.focus()}catch(t){}eglvchathandle=window.open(t,"","height=623,width=600,resizable=yes,scrollbars=yes,toolbar=no")}}))},updateBtnClick:function(){clickToChat.$btn.on("click",(function(t){t.preventDefault(),clickToChat.activateChat()})),window.addEventListener("actionToolbarClick",(function(){clickToChat.activateChat()}))},setCustomerParameters:function(t,a){egainDockChat.SetParameter?egainDockChat.SetParameter(t,a):(egainDockChat.CallQueue=egainDockChat.CallQueue||[],egainDockChat.CallQueue.push({name:"SetParameter",args:[t,a]}))},callEgainScript:function(){if(clickToChat.chatServerDetails.serviceReady)return!0;return function(t,a){var e,c,i,n=t.createElement("iframe");n.src="about:blank",n.title="",n.id="egot_iframe",(n.frameElement||n).style.cssText="width:0;height:0;border:0",(i=(i=t.getElementsByTagName("script"))[i.length-1]).parentNode.insertBefore(n,i);try{c=n.contentWindow.document}catch(a){e=t.domain,n.src="javascript:var d=document.open();d.domain='"+e+"';void(0);",c=n.contentWindow.document}return c.open()._d=function(){var t=this.createElement("script");e&&(this.domain=e),t.src="//analytics.analytics-egain.com/onetag/EG60139150",this.isEGFIF=!0,this.body.appendChild(t)},c.write('<body onload="document._d();">'),c.close(),clickToChat.chatServerDetails.serviceReady=!0,!0}(document)}};


function loadSVGLibrary(){var e=new XMLHttpRequest;e.open("GET","/images/global/svg-library.svg",!0),e.onload=function(r){if(200===e.status){var a=document.createElement("div");a.className="svg-library-wrapper",a.innerHTML=DOMPurify.sanitize(e.responseText),document.body.insertBefore(a,document.body.childNodes[0])}},e.send()}loadSVGLibrary();


sessionStorage.setItem("current-url",window.location),window.addEventListener("beforeunload",(function(e){sessionStorage.setItem("previous-url",window.location)}));


$((function(){audioDesc.check(),$("body").on("mfpAjaxContentAdded",(function(t){audioDesc.check()}))}));var audioDesc={check:function(){$(".video-accessible").length>0&&audioDesc.init()},init:function(t){(t=t||$(".video-accessible")).each((function(){var t=$(this),i=t.find(".video-responsive"),a=t.find("iframe"),e=a.attr("title"),c=t.find(".radio-toggle input"),s="Turn audio description for "+e;t.find(".radio-toggle span.visuallyhidden").text(s),c.click((function(){var t=a.attr("src"),e=a.attr("data-ad-src"),c=$(this).attr("id"),s=$(this).closest(".radio-toggle"),n=c.indexOf("ad-enabled")>-1;audioDesc.setDataAttr(a,t),audioDesc.toggleSrc(s,a,t,e,n),i.attr("tabindex","0").focus()}))}))},toggleSrc:function(t,i,a,e,c){var s=t.siblings().find("input"),n=c?e:i.data("src");t.hasClass("active")||(i.attr("src",n),s.prop("checked",!1),t.addClass("active").siblings().removeClass("active"))},setDataAttr:function(t,i){t.data("src")||t.data("src",i)}};


var countryDropdown={init:function(o){var t=o.find("option"),n=t.first();t.length>0&&(countryDropdown.reorder(o,n,["GB","NZ","AU","CA","US"]),o.data("country-select")&&countryDropdown.initLocaleData(o))},reorder:function(o,t,n){n.forEach((function(n){var e=o.find('option[value="'+n+'"]').clone();t.after(e)}))},initLocaleData:function(o){localeData?countryDropdown.autoSelect(o,localeData.country):$(document).on("getLocale",(function(){countryDropdown.autoSelect(o,localeData.country)}))},autoSelect:function(o,t){return o.find('option[value="'+t+'"]').first().prop("selected",!0).trigger("change")}};


var localStorageSpace={getTotal:function(t){var o="",e=this.sort();for(var a in e)if(e.hasOwnProperty(a)){o+=e[a];var r=(16*e[a].length/8192).toFixed(2);t&&console.log("".concat(a,": ").concat(r," KB"))}var n=(16*o.length/8192).toFixed(2),i=5120-n;return t?(console.log(""),console.log(o?"Total: ".concat(n," KB"):"Empty (0 KB)"),void console.log(o?"Remaining: ".concat(i," KB"):"5 MB")):parseInt(n)},isUnderLimit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4e3;return this.getTotal()<t},log:function(){this.getTotal(!0)},sort:function(){return Object.keys(window.localStorage).sort().reduce((function(t,o){return t[o]=window.localStorage[o],t}),{})},clear:function(){var t=this.sort();for(var o in t)if(o.indexOf("pcl-")>-1){var e=JSON.parse(localStorage.getItem(o));if(e.expiry||e.timestamp&&e.ttl)Math.round((new Date).getTime()/1e3)>(e.expiry||e.timestamp+e.ttl)&&localStorage.removeItem(o)}}};!localStorageSpace.isUnderLimit(2e3)&&localStorageSpace.clear();


function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var pclViolatorBar={buildPromoObj:function buildPromoObj(jsonData,audienceArr){jsonData&&jsonData.data.forEach((function(violatorBar){var enableDebug=violatorBar.debug,isSupportedAudience=pclViolatorBar.voilatorBarAudienceMatch(audienceArr,violatorBar.audience_value,enableDebug),isUrlExcluded=pclViolatorBar.excludedURL(violatorBar.excluded_urls,enableDebug),isFutureBookedAccepted=pclViolatorBar.checkForFutureBooked(violatorBar.show_future_booked,enableDebug);if(isSupportedAudience&&!isUrlExcluded&&isFutureBookedAccepted){var promoObj,promoStartDate,promoEndDate,promoObj,promoStartDate,promoEndDate,currentDate=new Date;promoStartDate=violatorBar.sale_start_date+" "+timezone.getPacificTimezone(new Date(violatorBar.sale_start_date)),promoStartDate=new Date(promoStartDate),promoEndDate=violatorBar.sale_end_date+" "+timezone.getPacificTimezone(new Date(violatorBar.sale_end_date)),promoEndDate=new Date(promoEndDate),enableDebug&&console.log("promoStartDate = ",promoStartDate," currentDate = ",currentDate,"promoEndDate = ",promoEndDate);var isThisPreview=pclViolatorBar.previewViolatorBar(violatorBar.promotion_id);(isThisPreview||promoStartDate<=currentDate&&promoEndDate>=currentDate)&&(promoObj={ctaText:violatorBar.cta_txt,ctaEndText:violatorBar.cta_end_txt,ctaBtnText:violatorBar.cta_btn_txt,promotionID:violatorBar.promotion_id,debug:enableDebug,showCountdown:violatorBar.show_count_down,locale:violatorBar.country_locale,saleEndDate:promoEndDate,url:eval(violatorBar.url_type)+violatorBar.url,futureBooked:violatorBar.show_future_booked},promoObj.showCountdown?promoObj.template='<div role="region" aria-label="'+promoObj.ctaText+'" class="info-bar-wrapper lto-promo hidden" style="background-color:'+violatorBar.bg_color+';"><div class="container"><a href="'+promoObj.url+'" class="info-bar" data-promotion-id="'+promoObj.promotionID+'"><span class="lto-cta"> '+promoObj.ctaText+'</span> <span class="lto-end no-wrap"></span> <span class="underline no-wrap">'+promoObj.ctaBtnText+"</span></a></div></div>":promoObj.template='<div role="region" aria-label="'+promoObj.ctaText+'" class="info-bar-wrapper lto-promo" style="background-color:'+violatorBar.bg_color+';"><div class="container"><a href="'+promoObj.url+'" class="info-bar" data-promotion-id="'+promoObj.promotionID+'"><span class="lto-cta"> '+promoObj.ctaText+'</span> <span class="underline no-wrap">'+promoObj.ctaBtnText+"</span></a></div></div>",pclViolatorBar.loadBar(promoObj))}}))},localeCheck:function(o){guestLocale&&guestLocale.isReady((function(){var t=[localeData.status];pclViolatorBar.buildPromoObj(o,t)}))},loadBar:function(o){$(o.template).insertAfter("pcl-global-nav").next(".breadcrumb-nav").hide();var t=$(".info-bar-wrapper.lto-promo"),e=t.find(".lto-end");if(o.showCountdown){e=t.find(".lto-end");pclViolatorBar.updateCountDown(o,t,e),pclViolatorBar.countDownTimer=setInterval(pclViolatorBar.updateCountDown,6e4,o,t,e)}t.find("a").on("click",(function(){adobe.target.trackEvent({mbox:o.promotionID})}))},updateCountDown:function(o,t,e){var a=pclViolatorBar.countDown(o);o.debug&&console.log("countDown:",a),!0===a.status?(e.text()!==a.text&&(e.text(a.text),t.hasClass("hidden")&&t.removeClass("hidden")),o.debug&&console.log("pclViolatorBar: sale active")):(t.addClass("hidden"),e.text(""),o.debug&&console.log("pclViolatorBar: sale over"),clearInterval(pclViolatorBar.countDownTimer))},countDown:function(o){o.debug&&console.log("sale end date in countdown",o.saleEndDate);var t=new Date(o.saleEndDate).getTime(),e=(new Date).getTime(),a={};if(o.debug&&console.log("sale end date in countdown GET TIME()",t),t>e){var r=t-e,n=36e5,l=Math.floor(r/864e5),i=0,c=0;a.status=!0,a.text=o.ctaEndText,l>0?a.text+=l+" "+(1===l?"day":"days")+".":(i=Math.floor(r/n),r%=n,c=Math.floor(r/6e4),i>0&&(a.text+=i+"h",a.text+=" : "),a.text+=c+"m.",0===i&&0===c&&(a.text="ends now."))}else a.status=!1;return a},findGetParameter:function(o){var t;location.search.substr(1).split("&").forEach((function(e){(t=e.split("="))[0]===o&&(result=decodeURIComponent(t[1]))}))},previewViolatorBar:function(o){return"violatorBar"===pclViolatorBar.findGetParameter("preview")&&pclViolatorBar.findGetParameter("promo_id")===o},excludedURL:function(o,t){if(""===o)return!1;var e=window.location.pathname,a=o.split(",");return t&&console.log("excludeUrlsArr",a),a.some((function(o){return o===e}))},voilatorBarAudienceMatch:function(o,t,e){return"GLOBAL"===t||o.some((function(o){return o===t}))},checkForFutureBooked:function(o,t){var e=!0;if("object"===("undefined"==typeof guestProfile?"undefined":_typeof(guestProfile))){var a=guestProfile.getInfo();a&&"Y"===a.futureBooked&&o&&(e=!1)}return e}};


window.getAttributesFromLink=function(e,t){var n,i,o=(null===(n=window.localeData)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.toLowerCase())||"in",a=[],r=function(e,t){var n,i=null==e?void 0:e.find((function(e){return e.indexOf(t)>=0}));return null==i||null===(n=i.split("".concat(t,"="))[1])||void 0===n?void 0:n.replaceAll('"',"")};return t.forEach((function(t){var n,i,u=null==e?void 0:e.match(/[\w-]+="[^"]*"/g),s=r(u,t),l=r(u,"data-exclude"),d=new Array(r(u,"data-use-iseu"));if(null==l||!l.includes(o))if("true"===(null===(n=window.localeData)||void 0===n?void 0:n.isEU)&&"true"===d[0]&&t.endsWith("-text")){var c=r(u,"data-eu-text");a.push(c)}else if("true"===(null===(i=window.localeData)||void 0===i?void 0:i.isEU)&&"true"===d[0]&&t.endsWith("-url")){var f=r(u,"data-eu-url");a.push(f)}else if(s)a.push(s);else if(t.endsWith("-text")){var h=r(u,"data-text");a.push(h)}else if(t.endsWith("-url")){var m=r(u,"data-url");a.push(m)}else;})),a},window.convertStringToHTML=function(e){return(new DOMParser).parseFromString(e,"text/html").body},window.convertStringToKebabCase=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},window.setupLanguageSelector=function(e){e.querySelectorAll("a").forEach((function(e){var t,n=e.getAttribute("data-language-select").split("|"),i=n[0],o=n[1],a=host_name.match(hostDomain.prodSubDomains)?host_name.match(hostDomain.prodSubDomains)[0]:"www",r=hostDomain[sub_domain_substring].envir;t="dev"===r||"stage"===r||"uat"===r?["esla","zhcn","jajp","zhtw","enau"].indexOf(o)>-1?o+"-princess-uat":o:"en"==i?r:i;var u="https://"+hostDomain[t][a]+hostDomain[t].name+window.location.pathname;e.href=u}))},window.getViewportDimensions=function(){return{width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight||0,window.clientHeight||0)}};var timezone={getPacificTimezone:function(e){return this.isDstObserved(e)?"PDT":"PST"},getConvertedDateTime:function(e){return new Date(e+" "+this.getPacificTimezone(new Date))},stdTimezoneOffset:function(e){var t=new Date(e.getFullYear(),0,1),n=new Date(e.getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),n.getTimezoneOffset())},isDstObserved:function(e){return e.getTimezoneOffset()<this.stdTimezoneOffset(e)}};window.linkStylesheet=function(e){return new Promise((function(t,n){var i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.onload=function(){return t()},i.onerror=function(){return n()},i.href=e;var o=document.querySelector("script");o.parentNode.insertBefore(i,o)}))};


function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function _iterableToArrayLimit(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,r,a=[],i=!0,s=!1;try{for(o=o.call(t);!(i=(n=o.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){s=!0,r=t}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}return a}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var o,n=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(o,t)},_wrapNativeSuper(t)}function _construct(t,e,o){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(t,e,o){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return o&&_setPrototypeOf(r,o.prototype),r},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var PclActionToolbar=function(t){_inherits(o,_wrapNativeSuper(HTMLElement));var e=_createSuper(o);function o(){var t;_classCallCheck(this,o);var n=(t=e.call(this)).getTemplate();return t.attachShadow({mode:"open"}).appendChild(n.content.cloneNode(!0)),t.actionToolbarDisplay,t.$atbMenu,t.$atbBtn,t.$links,t}return _createClass(o,[{key:"getTemplate",value:function(){var t=document.createElement("template");return t.innerHTML='\n                <link rel="stylesheet" href="'.concat(this.getAttribute("baseurl")||$wwwURL,'/css/global/princess-normalize.css" />\n                <link rel="stylesheet" href="').concat(this.getAttribute("baseurl")||$wwwURL,'/css/global/web-components/pcl-action-toolbar/action-toolbar.css" />\n                <div class="action-toolbar">\n                    <div class="action-toolbar-menu">\n                        <a class="action-toolbar-link action-toolbar-contactus hide" data-track="action toolbar" data-track-id="Contact Us">Contact Us</a>\n                        <a target="_blank" class="action-toolbar-link action-toolbar-phone loc-link hidden-xs-down hide" aria-label="Contact Us Phone number"></a>\n                        <button class="action-toolbar-link action-toolbar-chat-link hide" data-track="action toolbar" data-track-id="Chat" aria-label="Live Chat opens a dialog">Live Chat </button>\n                        <button class="action-toolbar-link action-toolbar-feedback global-mfp-modal hide" data-track="action toolbar" data-track-id="Site Feedback" aria-label="Site Feedback opens a dialog">Site Feedback</button>\n                    </div>\n                    <button class="action-toolbar-btn"  id="action-toolbar-btn" aria-haspopup="true" aria-expanded="true" data-track="action toolbar" data-track-id="Hide">\n                        <svg class="svg-icon action-toolbar-btn-icon" aria-hidden="false" height="24" width="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                            <title>chevron</title><polygon points="6.86 1 13.834 12 6.86 23 10.003 23 17.14 12 10.003 1 6.86 1"></polygon>\n                        </svg>\n                        <span class="action-toolbar-btn-text action-toolbar-show-text">Need Assistance?</span>\n                        <span class="action-toolbar-btn-text action-toolbar-hide-text visuallyhidden">Hide</span>\n                    </button>\n                </div>\n            '),t}},{key:"connectedCallback",value:function(){var t=this;this.$atbMenu=this.shadowRoot.querySelector(".action-toolbar-menu"),this.$atbBtn=this.shadowRoot.querySelector(".action-toolbar-btn"),this.$links={contactus:this.shadowRoot.querySelector(".action-toolbar-contactus"),phone:this.shadowRoot.querySelector(".action-toolbar-phone"),feedback:this.shadowRoot.querySelector(".action-toolbar-feedback"),chat:this.shadowRoot.querySelector(".action-toolbar-chat-link")},this.updateLinks(),this.actionToolbarDisplay=this.getDisplaySetting(),this.actionToolbarDisplay?this.notifyStatusChange("isToolbarVisible",!0):this.hide(),this.$atbBtn.addEventListener("click",(function(e){t.handleDisplay()})),this.$links.chat.addEventListener("click",(function(t){window.dispatchEvent(new Event("pcl-action-toolbar.onclickchat"))})),this.$links.feedback.addEventListener("click",(function(e){window.dispatchEvent(new CustomEvent("web-component.onClick",{detail:{src:t.getAttribute("feedback"),type:"iframe",mainClass:"qualtrics-feedback"}}))})),window.addEventListener("web-component.setfocus",(function(e){var o=e.detail.elementSelector;t.shadowRoot.querySelector(o).focus()}))}},{key:"attributeChangedCallback",value:function(t,e,o){o&&"false"!==o?e!==o&&this.$links&&this.$links[t]&&this.updateLinks():this.$links&&this.$links[t].classList.add("hide")}},{key:"updateLinks",value:function(){for(var t=0,e=Object.entries(this.$links);t<e.length;t++){var o=_slicedToArray(e[t],2),n=o[0],r=o[1],a=this.getAttribute(n);if(n&&r&&a){if("chat"===n){"true"===a&&this.$links[n].classList.remove("hide");continue}if("feedback"===n){this.$links[n].classList.remove("hide");continue}"phone"===n&&(this.$links[n].setAttribute("aria-label","".concat(a," Contact Us Phone number")),this.$links[n].innerHTML=a,a="tel:".concat(a)),this.$links[n].setAttribute("href",a),this.$links[n].classList.remove("hide")}}}},{key:"saveDisplaySetting",value:function(t){sessionStorage.setItem("actionToolbarDisplay",t)}},{key:"getDisplaySetting",value:function(){return"false"!==sessionStorage.getItem("actionToolbarDisplay")}},{key:"hide",value:function(){this.$atbBtn.setAttribute("aria-expanded","false"),this.$atbMenu.classList.add("action-toolbar-menu-lowered"),this.notifyStatusChange("isToolbarVisible",!1)}},{key:"show",value:function(){this.$atbBtn.setAttribute("aria-expanded","true"),this.$atbMenu.classList.remove("action-toolbar-menu-lowered"),this.notifyStatusChange("isToolbarVisible",!0)}},{key:"notifyStatusChange",value:function(t,e){var o=window.pclSearch;o&&o.set(t,e)}},{key:"handleDisplay",value:function(){"true"===this.$atbBtn.getAttribute("aria-expanded")?(this.hide(),this.saveDisplaySetting(!1)):(this.show(),this.saveDisplaySetting(!0)),this.$atbBtn.blur()}}],[{key:"observedAttributes",get:function(){return["contactus","chat","feedback","phone"]}}]),o}();window.self!==window.top||window.customElements.get("pcl-action-toolbar")||window.customElements.define("pcl-action-toolbar",PclActionToolbar);


function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var a,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(a,t)},_wrapNativeSuper(t)}function _construct(t,e,a){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(t,e,a){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return a&&_setPrototypeOf(o,a.prototype),o},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var PclGlobalNav=function(t){_inherits(a,_wrapNativeSuper(HTMLElement));var e=_createSuper(a);function a(){var t,n,o,l;return _classCallCheck(this,a),(l=e.call(this)).globalNavStaticData=[{title:"Plan a Cruise",url:"".concat($wwwURL,"/cruise-search/cruises/ ")},{title:"On Board Our Ships",url:"".concat($wwwURL,"/ships-and-experience/onboard-experience/")},{title:"Destinations",url:"".concat($wwwURL,"/learn/cruise-destinations/")},{title:"Booked Guests",url:"".concat($bookURL,"/cruisepersonalizer/index.page?company=PC")},{title:"Help",url:"".concat($bookURL,"/captaincircle/customerCare.page")}],l.header$,l.locale=(null===(t=window.localeData)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.toLowerCase())||"in",l.countryPhone=(null===(o=window.localeData)||void 0===o?void 0:o.countryPhone)||"",l.lastFocusable,l.cruiseDealsLocalizedContent='\n            data-us-url="/cruise-deals-promotions/"\n            data-us-text="Cruise Deals"\n            data-uk-url="/cruise-deals-promotions/uk/" \n            data-uk-text="Cruise Deals" \n            data-gb-url="/cruise-deals-promotions/uk/" \n            data-gb-text="Cruise Deals"\n            data-au-url="/cruise-deals-promotions/au/" \n            data-au-text="Cruise Deals" \n            data-nz-url="/cruise-deals-promotions/au/" \n            data-nz-text="Cruise Deals"\n            data-hk-url="/html/global/cruisedeals/hk/top-deals/" \n            data-hk-text="Cruise Deals"\n            data-sg-url="/html/global/cruisedeals/sin/top-deals/" \n            data-sg-text="Cruise Deals"\n            data-my-url="/html/global/cruisedeals/sin/top-deals/"\n            data-my-text="Cruise Deals" \n            data-id-url="/html/global/cruisedeals/sin/top-deals/"\n            data-id-text="Cruise Deals"\n            data-bn-url="/html/global/cruisedeals/sin/top-deals/"\n            data-bn-text="Cruise Deals"\n            data-vn-url="/html/global/cruisedeals/sin/top-deals/"\n            data-vn-text="Cruise Deals"\n            data-track="header"\n            data-track-id="Cruise Deals">',l}return _createClass(a,[{key:"connectedCallback",value:function(){var t=document.createElement("template");t.innerHTML='<div id="pcl-global-nav"></div>',this.attachShadow({mode:"open"}).appendChild(t.content.cloneNode(!0)),this.init()}},{key:"init",value:function(){var t=this;this.pclLang=docCookies.getItem("pcl_lang")||"en",this.shadowRoot.querySelector("#pcl-global-nav")&&"".concat(this.linkStylesheet("".concat($wwwURL,"/css/global/web-components/pcl-global-nav/pcl-global-nav.css")).then((function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","".concat($wwwURL,"/css/global/web-components/pcl-global-nav/pcl-global-nav.css")),t.shadowRoot.appendChild(e)}),(function(){return console.error("style could not be loaded")})).then((function(){t.linkStylesheet("".concat($wwwURL,"/css/global/princess-normalize.css")).then((function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","".concat($wwwURL,"/css/global/princess-normalize.css")),t.shadowRoot.prepend(e)})).then((function(){t.render()}))})))}},{key:"linkStylesheet",value:function(t){return new Promise((function(e,a){var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.onload=function(){return e()},n.onerror=function(){return a()},n.href=t;var o=document.querySelector("script");o.parentNode.insertBefore(n,o)}))}},{key:"render",value:function(){var t=this;fetch("".concat($wwwURL,"/html/global/nav/wc/top-nav.json")).then((function(t){return t.json()})).then((function(e){t.buildTemplate(e),t.header$=t.shadowRoot.querySelector(".globalnav"),t.navContent$=t.shadowRoot.querySelector(".globalnav__navcontent"),t.primaryNavItems=t.shadowRoot.querySelectorAll(".globalnav__navitem:not(.globalnav__navitem--contactno)"),t.primaryNavLinks=t.shadowRoot.querySelectorAll('.globalnav__navitem a[role="button"]'),t.closeBtns=t.shadowRoot.querySelectorAll(".globalnav__navclose-btn"),t.dealsSection$=t.shadowRoot.querySelector(".globalnav__deals-section"),t.languageDropdown$=t.shadowRoot.querySelector(".globalnav__language-dropdown"),t.languageSelector$=t.shadowRoot.querySelector(".globalnav__language-selector"),t.cruiseDealsLink$=t.shadowRoot.querySelector(".globalnav__cruise-deals"),t.hideLanguage$=t.shadowRoot.querySelector(".globalnav__language-hide"),t.chatLink$=t.shadowRoot.querySelector(".chat-btn"),t.setupNavigation(),t.shadowRoot&&t.getAttribute("min-width")&&(t.shadowRoot.querySelector("nav").style.minWidth=t.getAttribute("min-width"))}))}},{key:"attributeChangedCallback",value:function(t,e,a){this.shadowRoot&&e!==a&&(this.shadowRoot.querySelectorAll("[data-observed-attr='".concat(t,"']")).forEach((function(t){"true"===a?t.classList.remove("hidden"):t.classList.add("hidden")})),this.lastFocusable="language"===t&&"true"===a?"language-selector":"cruise-deals")}},{key:"createGlobalNavItem",value:function(t,e){var a=this,n=this.globalNavStaticData[e];return'\n\t\t  <li class="globalnav__navitem">\n\t\t\t  <a\n\t\t\t\t  href="'.concat(n.url,'"\n\t\t\t\t  class="globalnav__navlink no-decoration"\n\t\t\t\t  data-track="primaryNav"\n\t\t\t\t  data-track-id="').concat(window.convertStringToKebabCase(n.title),'"\n\t\t\t\t  data-page-section="top-nav"\n\t\t\t\t  role="button"\n\t\t\t\t  aria-haspopup="true"\n\t\t\t\t  aria-expanded="false"\n\t\t\t\t  tabindex="0"\n\t\t\t\t  >').concat(n.title,'</a\n\t\t\t  >\n\t\t\t  <div class="globalnav__submenu" id="menu').concat(e,'" aria-hidden="true">\n\t\t\t\t  <div class="globalnav__submenu-container container">\n\t\t\t\t\t  <a href="#" \n\t\t\t\t\t  \tclass="globalnav__navclose-btn globalnav__navclose-btn--subhead no-decoration" \n\t\t\t\t\t  \ttabindex="-1" \n\t\t\t\t\t  \trole="button"\n\t\t\t\t  \t\taria-haspopup="true"\n\t\t\t\t  \t\taria-expanded="true"\n\t\t\t\t\t  \taria-label="Back to main menu">\n\t\t\t\t\t\t  <span>').concat(n.title,'</span>\n\t\t\t\t\t  </a>\n\t\t\t\t\t  <div class="globalnav__subnav-items">\n\t\t\t\t\t\t  ').concat(t.categories.map((function(t){return a.createSubNavItem(t)})).join(""),'\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <button\n\t\t\t\t\t\t  class="globalnav__navclose-btn globalnav__navclose-btn--x"\n\t\t\t\t\t\t  aria-label="Close ').concat(n.title,' Menu"\n\t\t\t\t\t\t  tabindex="-1">\n\t\t\t\t\t\t  <svg viewBox="0 0 24 24" id="icon-open-close">\n\t\t\t\t\t\t\t  <title>open / close icon</title>\n\t\t\t\t\t\t\t  <path\n\t\t\t\t\t\t\t\t  fill-rule="evenodd"\n\t\t\t\t\t\t\t\t  d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm6.2,16.12a.75.75,0,1,1-1.06,1.06L12,13.06,6.88,18.19a.75.75,0,0,1-1.06-1.06L10.95,12,5.82,6.87A.75.75,0,0,1,6.88,5.81L12,10.94l5.13-5.13a.75.75,0,1,1,1.06,1.06L13.07,12Z"></path>\n\t\t\t\t\t\t  </svg>\n\t\t\t\t\t  </button>\n\t\t\t\t  </div>\n\t\t\t  </div>\n\t\t  </li>')}},{key:"createSubNavItem",value:function(t){var e=this,a=t.name.replaceAll(" ","-");return"General Support & Sales"===t.name?'\n\t\t  <div class="globalnav__subnav globalnav__contactus">\n\t\t\t<div class="globalnav__subnav-heading" id="'.concat(a,'">').concat(t.name,'</div>\n\t\t\t<ul aria-label="').concat(a,'">\n\t\t\t\t').concat(this.createGeneralSupportHrs(t.navlinks[0]),"\n\t\t\t</ul>\n\t\t  </div>\n\t\t"):'\n\t\t  <div class="globalnav__subnav" id="'.concat(a,'">\n\t\t\t  <div class="globalnav__subnav-heading">').concat(t.name,'</div>\n\t\t\t  <ul aria-label="').concat(a,'">\n\t\t\t\t  ').concat(t.navlinks.map((function(t){return e.createNavLink(t)})).join(""),"\n\t\t\t  </ul>\n\t\t  </div>\n\t\t")}},{key:"createGeneralSupportHrs",value:function(t){var e=window.convertStringToHTML(t.body),a=e.querySelector(".loc-phone-nu"),n=e.querySelector(".call-center-hours");return a.innerHTML=this.countryPhone,n.innerHTML=n.getAttribute("data-".concat(this.locale,"-text")),n.classList.remove("hidden"),e.innerHTML}},{key:"createNavLink",value:function(t,e,a){var n=["data-".concat(this.locale,"-url"),"data-".concat(this.locale,"-text")],o=window.getAttributesFromLink(null==t?void 0:t.localizedLink,n);return"\n\t\t\t<li ".concat(e?'class="'.concat(e,'"'):"",">\n        \t    ").concat(o[0]?'\n\t\t\t\t\t<a \n\t\t\t\t\t  class="'.concat(a||"invert-decoration",'" \n\t\t\t\t\t  data-track-id="').concat(window.convertStringToKebabCase(t.title),'"\n\t\t\t\t\t  ').concat((null==t?void 0:t.localizedLink)||"",'\n\t\t\t\t\t  href="').concat(o[0]||t.url,'"\n\t\t\t\t\t  data-track="primaryNav"\n\t\t\t\t\t  data-page-section="top-nav"\n\t\t\t\t\t  tabindex="').concat(e?"0":"-1",'">\n\t\t\t\t\t  ').concat(o[1]||t.title,"\n\t\t\t\t\t</a>"):'\n\t\t\t\t\t<a \n\t\t\t\t\t\tclass="'.concat(a||"invert-decoration"," ").concat(null==t?void 0:t.styleClass,'" \n\t\t\t\t\t\tdata-track-id="').concat(window.convertStringToKebabCase(t.title),'"\n\t\t\t\t\t\t').concat((null==t?void 0:t.localizedLink)||"",'\n\t\t\t\t\t\thref="').concat(t.url,'"\n\t\t\t\t\t\tdata-track="primaryNav"\n\t\t\t\t\t\tdata-page-section="top-nav"\n\t\t\t\t\t\ttabindex="').concat(e?"0":"-1",'">\n\t\t\t\t\t\t').concat(t.title,"\n\t\t\t\t\t</a>"),"\n\t\t\t</li>\n        ")}},{key:"showRecentlyViewedCruisesLink",value:function(){return!!Object.keys(localStorage).find((function(t){return t.match(/pcl-ube-search-(.*)-rvc-(.*)/gi)}))}},{key:"buildTemplate",value:function(t){var e=this,a=["data-".concat(this.locale,"-url"),"data-".concat(this.locale,"-text")],n=window.getAttributesFromLink(this.cruiseDealsLocalizedContent,a),o=n[0],l=n[1];this.shadowRoot.querySelector("#pcl-global-nav").innerHTML='\n\t\t\t<nav class="globalnav">\n\t\t\t  <div class="globalnav__wrapper container">\n\t\t\t\t  <div class="globalnav__navcontent globalnav--mobile-op0">\n\t\t\t\t\t  <ul>\n\t\t\t\t\t\t  '.concat(t.map((function(t,a){return e.createGlobalNavItem(t,a)})).join(""),'\n\t\t\t\t\t  </ul>\n\t\t\t\t\t  <div class="globalnav__cruise-section hidden-md-up text-center gray-f1-bg">\n\t\t\t\t\t\t  <a href="').concat($wwwURL,'/find/search.do" class="globalnav__find-cruise-btn button font-size-p5 no-decoration"\n\t\t\t\t\t\t\t  >Find a Cruise</a\n\t\t\t\t\t\t  >\n\t\t\t\t\t\t  ').concat(this.showRecentlyViewedCruisesLink()?'<a href="'.concat($wwwURL,'/cruise-search/recently-viewed/?recentlyViewed=true" class="invert-decoration">See Recently Viewed Cruises</a>'):"",'\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div class="globalnav__deals-section hidden-md-up text-center princess-blue-bg">\n\t\t\t\t\t\t  <a\n\t\t\t\t\t\t\t  href="').concat($bookURL,'/captaincircle/specialOfferRegistration.page?track=header-mobile&trackId=special-offers"\n\t\t\t\t\t\t\t  class="invert-decoration col-sm-margin-0-bottom">\n\t\t\t\t\t\t\t  <svg id="email" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n\t\t\t\t\t\t\t\t  <title>email</title>\n\t\t\t\t\t\t\t\t  <path\n\t\t\t\t\t\t\t\t\t  d="M12.9,13.8a1.613,1.613,0,0,1-.9.3,1.4,1.4,0,0,1-.9-.3L1,6.8V18.5A1.538,1.538,0,0,0,2.5,20h19A1.538,1.538,0,0,0,23,18.5V6.8Z" />\n\t\t\t\t\t\t\t\t  <path d="M12,12,22.7,4.5A1.656,1.656,0,0,0,21.5,4H2.5a1.425,1.425,0,0,0-1.2.6Z" />\n\t\t\t\t\t\t\t  </svg>\n\t\t\t\t\t\t\t  Special Offers Sign Up\n\t\t\t\t\t\t  </a>\n\t\t\t\t\t\t  ').concat(o&&l?'\n\t\t\t\t\t\t  <a href="'.concat($wwwURL).concat(o,'" \n\t\t\t\t\t\t     class="globalnav__cruise-deals invert-decoration"\n\t\t\t\t\t\t     data-page-section="Global Nav" \n\t\t\t\t\t\t     data-track="global nav"\n\t\t\t\t\t\t     data-track-id="cruise-deals"\n\t\t\t\t\t\t     data-nav-name="Cruise Deals" \n\t\t\t\t\t\t     data-us-url="').concat($wwwURL).concat(o,'">\n\t\t\t\t\t\t\t  <svg id="icon-tag" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n\t\t\t\t\t\t\t\t  <title>tag</title>\n\t\t\t\t\t\t\t\t  <path\n\t\t\t\t\t\t\t\t\t  d="M23,10.814V2.537A1.537,1.537,0,0,0,21.463,1H13.186a1.533,1.533,0,0,0-1.08.445c-.267.276-10.678,10.678-10.678,10.678a1.462,1.462,0,0,0,0,2.066l8.381,8.382a1.463,1.463,0,0,0,2.067,0L22.523,11.923A1.525,1.525,0,0,0,23,10.814M15.248,8.752a2.126,2.126,0,1,1,3.006,0,2.128,2.128,0,0,1-3.006,0" />\n\t\t\t\t\t\t\t  </svg>\n\t\t\t\t\t\t\t  ').concat(l,"\n\t\t\t\t\t\t  </a>"):"",'\n                          <a href="#" class="invert-decoration globalnav__language-selector ').concat("false"===this.getAttribute("language")?"hidden":"",'" data-observed-attr="language">\n                            <svg id="globe" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n                                <title>globe</title><path d="M12,1A11,11,0,1,0,23,12,11.013,11.013,0,0,0,12,1Zm9.975,10.5H17.483A16.633,16.633,0,0,0,16.7,6.952a14.393,14.393,0,0,0,2.991-1.338A9.943,9.943,0,0,1,21.975,11.5ZM18.989,4.86A13.791,13.791,0,0,1,16.358,6a12.04,12.04,0,0,0-2.265-3.78A9.99,9.99,0,0,1,18.989,4.86ZM7.517,11.5a15.5,15.5,0,0,1,.726-4.2A17.225,17.225,0,0,0,12,7.688a15.259,15.259,0,0,0,3.735-.466,15.5,15.5,0,0,1,.748,4.278Zm8.966,1a15.5,15.5,0,0,1-.726,4.2A17.225,17.225,0,0,0,12,16.312a15.274,15.274,0,0,0-3.736.466A15.539,15.539,0,0,1,7.517,12.5ZM12,2c.808,0,2.34,1.663,3.39,4.274A14.206,14.206,0,0,1,12,6.688a16.233,16.233,0,0,1-3.419-.346C9.631,3.69,11.184,2,12,2Zm-2.092.224A12.128,12.128,0,0,0,7.61,6.09,10.222,10.222,0,0,1,4.958,4.909,9.989,9.989,0,0,1,9.908,2.224ZM4.274,5.66a10.731,10.731,0,0,0,3,1.381A16.6,16.6,0,0,0,6.517,11.5H2.025A9.947,9.947,0,0,1,4.274,5.66ZM2.025,12.5H6.517A16.626,16.626,0,0,0,7.3,17.048a14.393,14.393,0,0,0-2.991,1.338A9.945,9.945,0,0,1,2.025,12.5Zm2.986,6.64A13.791,13.791,0,0,1,7.642,18a12.022,12.022,0,0,0,2.266,3.78A9.988,9.988,0,0,1,5.011,19.14ZM12,22c-.808,0-2.34-1.663-3.39-4.274A14.206,14.206,0,0,1,12,17.312a16.233,16.233,0,0,1,3.419.346C14.369,20.31,12.815,22,12,22Zm2.093-.224a12.146,12.146,0,0,0,2.3-3.866,10.222,10.222,0,0,1,2.652,1.181A9.99,9.99,0,0,1,14.093,21.776Zm5.633-3.436a10.745,10.745,0,0,0-3-1.381,16.6,16.6,0,0,0,.761-4.459h4.492A9.947,9.947,0,0,1,19.726,18.34Z"></path>\n                            </svg>\n\t\t\t\t\t\t\t  Language\n\t\t\t\t\t\t  </a>\n\t\t\t\t\t  </div>\n                      <div class="globalnav__language-dropdown hidden hidden-md-up text-center">\n                        <a class="globalnav__language-hide invert-decoration" tabindex="0">Hide Languages\n                            <svg class="svg-icon" id="icon-down-arrow" aria-hidden="false" height="24" width="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                                <title>down arrow</title><path d="M19.9697,7.6387c-0.417-0.4189-1.0986-0.4189-1.5176,0L12,14.0889L5.5493,7.6387c-0.418-0.4189-1.1006-0.4189-1.5171,0c-0.4185,0.416-0.4185,1.0977,0,1.5156l7.208,7.2109c0.21,0.207,0.4834,0.3105,0.7598,0.3105c0.2754,0,0.5518-0.1035,0.7598-0.3105l7.21-7.2109C20.3857,8.7363,20.3857,8.0547,19.9697,7.6387"></path>\n                            </svg>\n                        </a>\n\t\t\t\t\t\t<div class="globalnav__language-dropdown-links">\n\t\t\t\t\t\t\t<a href="#" class="invert-decoration globalnav__language-link').concat("en"===this.pclLang?" active":"",'" lang="en" data-language-select="en|uat" data-track="header" data-track-id="English" tabindex="0" aria-selected="true">English</a>\n                        \t<a href="#" class="invert-decoration globalnav__language-link').concat("cn"===this.pclLang?" active":"",'" lang="zh-cn" data-language-select="cn|cn-uat" data-track="header" data-track-id="Chinese" tabindex="0"><span class="visuallyhidden">Chinese</span></a>\n                        \t<a href="#" class="invert-decoration globalnav__language-link').concat("es"===this.pclLang?" active":"",'" lang="es-la" data-language-select="es|es-uat" data-track="header" data-track-id="Spanish" tabindex="0">Espaol</a>\n                        \t<a href="#" class="invert-decoration globalnav__language-link').concat("jp"===this.pclLang?" active":"",'" lang="ja-jp" data-language-select="jp|jp-uat" data-track="header" data-track-id="Japanese" tabindex="0"><span class="visuallyhidden">Japanese</span></a>\n                        \t<a href="#" class="invert-decoration globalnav__language-link').concat("tw"===this.pclLang?" active":"",'" lang="zh-tw" data-language-select="tw|tw-uat" data-track="header" data-track-id="Chinese Traditional" tabindex="0"><span class="visuallyhidden">Chinese Traditional</span></a>\n\t\t\t\t\t\t</div>\n                      </div>\n\t\t\t\t  </div>\n\t\t\t  </div>\n\t\t  </nav>')}},{key:"toggleDropdown",value:function(t,e){var a=t.querySelector(".globalnav__navlink"),n=t.querySelector(".globalnav__submenu"),o=n.querySelectorAll("[tabindex]"),l=window.getViewportDimensions();if(a.setAttribute("aria-expanded",e),n.setAttribute("aria-hidden",!e),e){if(t.classList.add("is-active"),o.forEach((function(t){return t.tabIndex=0})),l.width>767){var r=n.offsetHeight;this.header$.style.marginBottom=r+"px"}}else if(t.classList.remove("is-active"),o.forEach((function(t){return t.tabIndex=-1})),l.width>767){var i=n.offsetHeight;this.header$.style.marginBottom=i+"px"}}},{key:"closeAllDropdowns",value:function(){var t=this;this.primaryNavItems.forEach((function(e){e.classList.contains("is-active")&&t.toggleDropdown(e,!1)}))}},{key:"toggleDrawer",value:function(t){this.navContent$.classList.remove("globalnav--mobile-op0"),t?(this.header$.classList.add("globalnav--drawer-expanded"),window.dispatchEvent(new CustomEvent("pcl-global-nav.draweropened")),document.documentElement.style.overflow="hidden"):(this.header$.classList.remove("globalnav--drawer-expanded"),window.dispatchEvent(new CustomEvent("pcl-global-nav.drawerclosed")),document.documentElement.style.overflow="auto")}},{key:"handlePrimaryNavEvent",value:function(t,e,a){var n=t.parentNode,o=n.classList.contains("is-active"),l=n.querySelector(".globalnav__navclose-btn--subhead");e.preventDefault(),this.closeAllDropdowns(),this.toggleDropdown(n,!o),"click"===a&&t.blur(),"keyboard"!==a||o||l.focus()}},{key:"setupNavigation",value:function(){var t=this;this.primaryNavLinks.forEach((function(e){e.addEventListener("click",(function(a){t.handlePrimaryNavEvent(e,a,"click")})),e.addEventListener("keydown",(function(a){13!==a.keyCode&&32!==a.keyCode||t.handlePrimaryNavEvent(e,a,"keyboard")}))})),this.closeBtns.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var a=e.currentTarget.closest(".globalnav__navitem");t.toggleDropdown(a,!1)})),e.addEventListener("keydown",(function(e){if(13===e.keyCode||32===e.keyCode){e.preventDefault();var a=e.currentTarget.closest(".globalnav__navitem");t.toggleDropdown(a,!1),a.querySelector("a").focus()}}))})),document.addEventListener("keydown",(function(e){if(27===e.keyCode&&t.closeAllDropdowns(),9===e.keyCode&&t.header$.classList.contains("globalnav--drawer-expanded")){var a=document.querySelector("pcl-global-header"),n=a.shadowRoot.querySelector(".global-header__menu-btn"),o="language-selector"===t.lastFocusable?t.languageSelector$:t.cruiseDealsLink$,l=a.shadowRoot.activeElement,r=t.shadowRoot.activeElement;e.shiftKey&&l===n?(e.preventDefault(),o.focus()):e.shiftKey||r!==o||(e.preventDefault(),n.focus())}})),window.addEventListener("pcl-global-nav.opendrawer",(function(){t.toggleDrawer(!0)})),window.addEventListener("pcl-global-nav.closedrawer",(function(){t.toggleDrawer(!1),t.closeAllDropdowns()})),this.languageSelector$.addEventListener("click",(function(e){t.dealsSection$.classList.add("hidden"),t.languageDropdown$.classList.remove("hidden")})),this.hideLanguage$.addEventListener("click",(function(e){t.languageDropdown$.classList.add("hidden"),t.dealsSection$.classList.remove("hidden")})),this.languageDropdown$.addEventListener("click",(function(e){var a=e.target.getAttribute("data-language-select");if(a){var n=a.split("|");t.languageDropdown$.querySelectorAll("a").forEach((function(t){t.classList.remove("active")})),t.languageDropdown$.querySelector("a[data-language-select='".concat(a,"']")).classList.add("active"),docCookies.setItem("pcl_lang",n[0],31536e3,"/","princess.com",!0)}})),window.setupLanguageSelector(this.shadowRoot.querySelector(".globalnav__language-dropdown-links")),this.chatLink$&&this.chatLink$.addEventListener("click",(function(t){window.dispatchEvent(new Event("pcl-global-events.chat"))}))}}],[{key:"observedAttributes",get:function(){return["language"]}}]),a}();window.customElements.get("pcl-global-nav")||customElements.define("pcl-global-nav",PclGlobalNav);


function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,a,t){return a&&_defineProperties(e.prototype,a),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _inherits(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&_setPrototypeOf(e,a)}function _createSuper(e){var a=_isNativeReflectConstruct();return function(){var t,n=_getPrototypeOf(e);if(a){var o=_getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,a){if(a&&("object"===_typeof(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var a="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==a){if(a.has(e))return a.get(e);a.set(e,t)}function t(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(t,e)},_wrapNativeSuper(e)}function _construct(e,a,t){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,a,t){var n=[null];n.push.apply(n,a);var o=new(Function.bind.apply(e,n));return t&&_setPrototypeOf(o,t.prototype),o},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,a){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,a){return e.__proto__=a,e},_setPrototypeOf(e,a)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}var PclGlobalHeader=function(e){_inherits(t,_wrapNativeSuper(HTMLElement));var a=_createSuper(t);function t(){var e,n,o;return _classCallCheck(this,t),(o=a.call(this)).header$,o.menuBtn$,o.cruiseDealsLocalizedContent='\n            data-us-url="/cruise-deals-promotions/"\n            data-us-text="Cruise Deals"\n            data-uk-url="/cruise-deals-promotions/uk/" \n            data-uk-text="Cruise Deals" \n            data-gb-url="/cruise-deals-promotions/uk/" \n            data-gb-text="Cruise Deals"\n            data-au-url="/cruise-deals-promotions/au/" \n            data-au-text="Cruise Deals" \n            data-nz-url="/cruise-deals-promotions/au/" \n            data-nz-text="Cruise Deals"\n            data-hk-url="/html/global/cruisedeals/hk/top-deals/" \n            data-hk-text="Cruise Deals"\n            data-sg-url="/html/global/cruisedeals/sin/top-deals/" \n            data-sg-text="Cruise Deals"\n            data-my-url="/html/global/cruisedeals/sin/top-deals/"\n            data-my-text="Cruise Deals" \n            data-id-url="/html/global/cruisedeals/sin/top-deals/"\n            data-id-text="Cruise Deals"\n            data-bn-url="/html/global/cruisedeals/sin/top-deals/"\n            data-bn-text="Cruise Deals"\n            data-vn-url="/html/global/cruisedeals/sin/top-deals/"\n            data-vn-text="Cruise Deals"\n            data-track="header"\n            data-track-id="Cruise Deals">',o.locale=(null===(e=window.localeData)||void 0===e||null===(n=e.status)||void 0===n?void 0:n.toLowerCase())||"in",o}return _createClass(t,[{key:"connectedCallback",value:function(){var e=document.createElement("template");e.innerHTML='<div id="pcl-global-header"></div>',this.attachShadow({mode:"open"}).appendChild(e.content.cloneNode(!0)),this.init()}},{key:"init",value:function(){var e=this;this.pclLang=docCookies.getItem("pcl_lang")||"en",this.shadowRoot.querySelector("#pcl-global-header")&&"".concat(this.linkStylesheet("".concat($wwwURL,"/css/global/web-components/pcl-global-header/pcl-global-header.css")).then((function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("href","".concat($wwwURL,"/css/global/web-components/pcl-global-header/pcl-global-header.css")),e.shadowRoot.prepend(a)}),(function(){return console.error("style could not be loaded")})).then((function(){e.linkStylesheet("".concat($wwwURL,"/css/global/princess-normalize.css")).then((function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("href","".concat($wwwURL,"/css/global/princess-normalize.css")),e.shadowRoot.prepend(a)})).then((function(){e.buildTemplate(),e.render()}))})))}},{key:"render",value:function(){var e=this;this.header$=this.shadowRoot.querySelector(".global-header"),this.menuBtn$=this.header$.querySelector(".global-header__menu-btn"),this.hamburgerMenu$=this.shadowRoot.querySelector(".global-header__nav-container"),this.headerOverlay$=this.shadowRoot.querySelector(".global-header__nav-container-overlay"),this.loginLink$=this.shadowRoot.querySelectorAll(".my-account-login"),this.logoutBtn$=this.shadowRoot.querySelectorAll(".my-account-logout-btn"),this.search$=this.shadowRoot.querySelector(".global-header__search"),this.searchDropdown$=this.shadowRoot.querySelector(".global-header__search-dropdown"),this.searchDropdownBtn$=this.shadowRoot.querySelector(".global-header__search-btn"),this.searchDropdownContent$=this.shadowRoot.querySelector(".global-header__search-dropdown-content"),this.searchBtn$=this.shadowRoot.querySelector(".global-header__searchbar-button"),this.searchBtnMobile$=this.shadowRoot.querySelector(".global-header__searchbar-button-mobile"),this.searchInput$=this.shadowRoot.querySelector(".global-header__searchbar-input"),this.searchInputMobile$=this.shadowRoot.querySelector(".global-header__searchbar-input-mobile"),this.searchCloseBtn$=this.shadowRoot.querySelector(".global-header__search-close"),this.specialOffersLink$=this.shadowRoot.querySelector(".special-offers-sign-up"),this.languageSelector$=this.shadowRoot.querySelector(".global-header__language-selector"),this.languageSelectorBtn$=this.shadowRoot.querySelector(".global-header__language-selector-btn"),this.languageSelectorDropdown$=this.shadowRoot.querySelector(".global-header__language-dropdown");var a=window.getViewportDimensions();if(this.menuBtn$.addEventListener("click",(function(a){a.preventDefault(),e.handleMenuOpenClose()})),this.menuBtn$.addEventListener("keydown",(function(a){13!==a.keyCode&&32!==a.keyCode||(a.preventDefault(),e.handleMenuOpenClose())})),this.headerOverlay$.addEventListener("click",(function(){e.closeMenu()})),this.logoutBtn$&&Array.from(this.logoutBtn$).forEach((function(a){a.addEventListener("click",(function(a){var t;a.preventDefault(),e.closeMenu(),null===(t=window)||void 0===t||t.guestAuth.logout(!1)}),{once:!0})})),a.width>767&&this.shadowRoot.addEventListener("click",(function(a){var t=e.searchDropdownContent$.contains(a.target),n=e.searchDropdownBtn$.contains(a.target),o=e.searchCloseBtn$.contains(a.target);(!n&&!t||o)&&e.closeSearchModal();var r=e.languageSelectorDropdown$.contains(a.target),c=e.languageSelectorBtn$.contains(a.target);r||c||e.closeLanguageDropdown()})),document.addEventListener("click",(function(a){"PCL-GLOBAL-HEADER"!==a.target.nodeName&&e.closeLanguageDropdown()})),this.searchDropdownBtn$.addEventListener("click",(function(a){e.openSearchModal(),e.searchInput$.focus()})),this.searchDropdownBtn$.addEventListener("keydown",(function(a){13!==a.keyCode&&32!==a.keyCode||(e.openSearchModal(),e.searchInput$.focus())})),this.searchCloseBtn$.addEventListener("keydown",(function(a){13!==a.keyCode&&32!==a.keyCode||(e.closeSearchModal(),e.searchDropdownBtn$.focus())})),this.searchBtn$.addEventListener("click",(function(a){e.handleSearch(e.searchInput$.value)})),this.searchBtnMobile$.addEventListener("click",(function(a){e.handleSearch(e.searchInputMobile$.value)})),this.searchInput$.addEventListener("keydown",(function(a){13===a.keyCode&&e.handleSearch(e.searchInput$.value)})),this.searchInputMobile$.addEventListener("keydown",(function(a){13===a.keyCode&&e.handleSearch(e.searchInputMobile$.value)})),this.languageSelectorBtn$.addEventListener("click",(function(a){e.languageSelector$.classList.contains("active")?e.closeLanguageDropdown():e.openLanguageDropdown()})),this.languageSelectorDropdown$.addEventListener("click",(function(a){var t=a.target.getAttribute("data-language-select");if(t){var n=t.split("|");e.languageSelectorDropdown$.querySelectorAll("a").forEach((function(e){e.classList.remove("active")})),e.languageSelectorDropdown$.querySelector("a[data-language-select='".concat(t,"']")).classList.add("active"),docCookies.setItem("pcl_lang",n[0],31536e3,"/","princess.com",!0)}})),window.addEventListener("resize",(function(){window.getViewportDimensions().width!==a.width&&e.closeMenu(),a=window.getViewportDimensions()})),this.loginLink$&&"true"===this.getAttribute("login-in-modal")&&Array.from(this.loginLink$).forEach((function(a){a.addEventListener("click",(function(t){t.preventDefault(),e.closeMenu(),window.dispatchEvent(new CustomEvent("web-component.onClick",{detail:{src:a.href,type:"iframe",mainClass:"mfp-entry-point mfp-entry-point-login"}}))}))})),this.getAttribute("min-width")&&(this.shadowRoot.querySelector("header").style.minWidth=this.getAttribute("min-width")),this.specialOffersLink$&&this.specialOffersLink$.addEventListener("click",(function(a){a.preventDefault(),window.dispatchEvent(new CustomEvent("web-component.onClick",{detail:{src:e.specialOffersLink$.href,type:"iframe",mainClass:"special-offers"}}))})),window.addEventListener("web-component.setFocus",(function(a){var t=a.detail.elementSelector;e.shadowRoot.querySelector(t)&&e.shadowRoot.querySelector(t).focus()})),this.shadowRoot){var t=this.shadowRoot.querySelector(".global-header"),n=t.offsetTop;window.addEventListener("scroll",(function(){window.scrollY>n?t.classList.add("fixed"):t.classList.remove("fixed")}))}this.languageSelectorDropdown$&&window.setupLanguageSelector(this.languageSelectorDropdown$)}},{key:"attributeChangedCallback",value:function(e,a,t){if(this.shadowRoot&&a!==t)switch(e){case"custom-message":var n=this.shadowRoot.querySelector('[data-observed-attr="custom-message"]');n.classList.remove("hidden"),n.innerHTML=t;break;case"guest-auth":this.buildTemplate(),this.render(),window.savedCruiseCount.load();break;default:this.shadowRoot.querySelectorAll("[data-observed-attr='".concat(e,"']")).forEach((function(e){"true"===t?e.classList.remove("hidden"):e.classList.add("hidden")}))}}},{key:"getLoginSrc",value:function(){var e=window.location.pathname,a="?src=";return e.startsWith("/cruise-search/")?a+="cruise-search":e.startsWith("/brochures/")?a+="brochures":e.startsWith("/cruisepersonalizer/")?a+="cruisepersonalizer":e.startsWith("/my-princess/")?a="":a+=encodeURIComponent(window.location.href),a}},{key:"openSearchModal",value:function(){document.documentElement.style.overflow="hidden",this.searchDropdown$.classList.remove("hidden"),this.searchDropdown$.removeAttribute("aria-hidden","false")}},{key:"closeSearchModal",value:function(){document.documentElement.style.overflow="auto",this.searchDropdown$.classList.add("hidden"),this.searchDropdown$.setAttribute("aria-hidden","true")}},{key:"handleSearch",value:function(e){e&&(window.location.href="".concat($wwwURL,"/search/#stq=").concat(e))}},{key:"openLanguageDropdown",value:function(){this.languageSelector$.classList.add("active"),this.languageSelectorDropdown$.classList.remove("hidden")}},{key:"closeLanguageDropdown",value:function(){this.languageSelector$.classList.remove("active"),this.languageSelectorDropdown$.classList.add("hidden")}},{key:"closeMenu",value:function(){var e=this;this.menuBtn$.classList.remove("expanded"),window.setTimeout((function(){e.header$.classList.remove("menu-expanded")}),300),this.hamburgerMenu$.classList.remove("menu-expanded"),document.querySelector("body").style.overflow="auto",document.querySelector("html").style.overflow="auto",window.dispatchEvent(new CustomEvent("pcl-global-nav.closedrawer")),this.menuBtn$.setAttribute("aria-expanded","false"),this.menuBtn$.setAttribute("aria-label","Menu Collapsed")}},{key:"handleMenuOpenClose",value:function(){this.menuBtn$.classList.contains("expanded")?this.closeMenu():(this.header$.classList.add("menu-expanded"),this.hamburgerMenu$.classList.add("menu-expanded"),this.menuBtn$.classList.add("expanded"),this.menuBtn$.setAttribute("aria-expanded","true"),this.menuBtn$.setAttribute("aria-label","Menu Expanded"),document.querySelector("body").style.overflow="hidden",document.querySelector("html").style.overflow="hidden",window.dispatchEvent(new CustomEvent("pcl-global-nav.opendrawer")))}},{key:"buildTemplate",value:function(){var e=["data-".concat(this.locale,"-url"),"data-".concat(this.locale,"-text")],a=window.getAttributesFromLink(this.cruiseDealsLocalizedContent,e),t=a[0],n=a[1],o="true"===this.getAttribute("guest-auth");this.shadowRoot.querySelector("#pcl-global-header").innerHTML='\n            <pcl-system-outage></pcl-system-outage>\n            <header class="global-header">\n                <div class="global-header__container container">\n                    <div class="global-header__container-left">\n                        <a href="#content" id="skip-to-content" class="global-header__container-skip-link" data-track="header" data-track-id="Skip to main content">Skip to main content</a>\n                        <a class="invert-decoration global-header__logo-desktop" href="'.concat($wwwURL,'" data-track="header" data-track-id="princess-logo">\n                            <svg class="pcl-logo-seawitch" id="pcl-logo-seawitch" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="76" height="35" viewBox="0 0 76 35"><title>pcl-logo-seawitch</title><path d="M73.863,32.1a1.314,1.314,0,0,1,0,2.627,1.314,1.314,0,0,1,0-2.627Zm0,2.421a1.1,1.1,0,1,0-1.093-1.1A1.073,1.073,0,0,0,73.867,34.525Zm.235-.972.364.58h-.274l-.343-.554h-.241v.554h-.231V32.715h.606a.411.411,0,0,1,.423.415v.063A.361.361,0,0,1,74.1,33.553Zm-.494-.164h.345a.209.209,0,0,0,.229-.184v-.067a.229.229,0,0,0-.229-.21h-.345Z"/><path d="M28.88,24.231C37,25.591,42.13,15.125,49.8,18.72c8.122,3.81,18.169,10.071,25.364-2.987a10.9,10.9,0,0,1-6.605,1.52c-6.686-.9-11.988-9.341-21.688-2.985-7.533,4.939-8.765,5.324-17.83-.25l-.014-.011h0a1.156,1.156,0,0,0-.185-.125c-.7-.289-1.088-.057-.913.709.19.825.964,5.481.964,5.481s.348.9-.442,1.036a5.349,5.349,0,0,1-.84.049c-.371.069-1.111.2-.546,1.238.161.253.234,1-1.155,1.174-.273.033-.325.33-.151.429s.693.167.765.4c.084.256.05.493-.334.8-.233.188-.516.282-.479.561s.4.486.2,1.364a1.041,1.041,0,0,1-.893.8c-.424.063-4.485-.2-5.231-.209-2.543-.038-4.016,3.413-4.965,6.038a.251.251,0,0,0,.068.026c8.228,2.477,17.2-.259,23.974-3.541,7.759-3.755,9.627-1.761,13.077-.168,4.381,2.018,14.888,11.245,23.114-3.679A10.924,10.924,0,0,1,68.446,27.9c-6.433-.868-12.094-9.673-22.073-3.134-4.131,2.71-8.107,5.653-17.7-.244C28.5,24.414,28.64,24.176,28.88,24.231Z"/><path d="M68.817,6.154c-8.209-1.109-12.692-8.065-21.458-2.32-5.337,3.5-7.344,6.43-17.9-.06A29.155,29.155,0,0,0,18.033.02,17.133,17.133,0,0,0,.021,16.406,16.37,16.37,0,0,0,5.115,29.433a.683.683,0,0,0,1.124-.15l.1-.235,5.417-13.037s2.936-7.666,10.183-5.271c2.333.77,4.259,1.516,5.992,2.044,4.132,1.264,7.159,1.293,11.937-2.5,2.173-1.727,5.767-4.137,10.421-1.994,6.512,3,17.386,10.413,25.139-3.65A10.942,10.942,0,0,1,68.817,6.154Z"/></svg>   \n                            <svg class="pcl-logo" id="pcl-logo" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="295" height="35" viewBox="0 0 295 35"><title>Princess Cruises Logo Mark</title><path d="M28.827,13.89c9.057,5.568,10.491,5.327,18.017.385,9.7-6.357,15,2.088,21.679,2.989a10.9,10.9,0,0,0,6.6-1.52c-7.189,13.051-17.232,6.8-25.35,2.98-7.667-3.589-12.793,6.873-20.9,5.514-.243-.052-.387.183-.208.293,9.586,5.888,13.561,2.948,17.689.239,9.976-6.535,15.634,2.266,22.066,3.133a10.879,10.879,0,0,0,6.6-1.518c-8.22,14.92-18.724,5.7-23.1,3.679-3.455-1.589-5.321-3.584-13.075.167-6.774,3.288-15.743,6.014-23.967,3.543a.3.3,0,0,1-.067-.028c.95-2.625,2.421-6.073,4.965-6.035.743,0,4.8.271,5.226.208a1.041,1.041,0,0,0,.894-.792c.2-.879-.162-1.083-.2-1.368s.246-.373.479-.564c.383-.307.418-.538.334-.8-.074-.223-.591-.295-.764-.392s-.123-.394.152-.429c1.386-.183,1.312-.919,1.154-1.179-.567-1.027.315-1.21.642-1.288.44-.1,1.237-.407,1.006-1.182-.279-.932-.549-1.62-.741-2.42-.307-1.286-.63-2.418-.326-3.158.4-.973.815-.7,1.2-.46"/><path d="M68.787,6.169C60.578,5.061,56.1-1.892,47.333,3.847,42,7.348,40,10.281,29.441,3.791,24.162.543,21.018.231,18.018.036a17.015,17.015,0,0,0-18,16.377A16.378,16.378,0,0,0,5.108,29.439a.686.686,0,0,0,1.126-.155l.1-.235,5.416-13.031s2.935-7.658,10.176-5.264c2.33.762,4.255,1.513,5.986,2.039,4.135,1.269,7.161,1.294,11.936-2.5C42.019,8.565,45.609,6.152,50.264,8.3c6.51,2.993,17.38,10.41,25.132-3.646A10.969,10.969,0,0,1,68.787,6.169Z"/><path d="M290.161,3.745a2.423,2.423,0,1,1,2.412,2.3A2.3,2.3,0,0,1,290.161,3.745Zm4.339-.012a1.921,1.921,0,0,0-3.839-.013,1.92,1.92,0,0,0,3.839.013Zm-2.918-.378,0-.657c0-.158-.1-.184-.315-.185-.026,0-.053-.027-.053-.079,0-.079.054-.1.132-.1h.106c.052,0,.262.028.446.028.237,0,.342-.025.6-.024.448,0,1.157.083,1.155.714,0,.263-.107.473-.555.787l.471.554c.341.4.394.4.446.4a.07.07,0,0,1,.079.079c0,.079-.027.1-.237.1a1.024,1.024,0,0,1-1.024-.5l-.367-.5h-.315V4.2c0,.473.025.526.05.552a.82.82,0,0,0,.264.028c.052,0,.079,0,.078.078a.1.1,0,0,1-.105.106h-.105c-.053,0-.29-.027-.421-.028-.079,0-.342.026-.395.026h-.131c-.053,0-.184-.027-.184-.106a.069.069,0,0,1,.079-.078c.237,0,.263,0,.29-.157a5.458,5.458,0,0,0,0-.684Zm.578.265a.843.843,0,0,0,.368.081.4.4,0,0,0,.237-.052A.512.512,0,0,0,293,3.2a.573.573,0,0,0-.6-.58c-.026,0-.184,0-.237.052Z"/><path d="M97.64.73c-.925,0-1.972.027-2.988.055-.947.028-1.87.053-2.636.051-.451,0-1.14-.024-1.94-.052C88.958.743,87.633.7,86.436.692c-.976,0-1.474.33-1.476.988,0,.3.122.993,1.276,1a7.158,7.158,0,0,1,1.373.11c.842.2,1.114.469,1.183,1.8.069,1.308.065,2.446.044,8.759l-.025,7.3c-.013,3.788-.025,7.059-.218,8.755-.134,1.027-.289,1.679-.658,1.754a5.35,5.35,0,0,1-1.255.146c-1.149,0-1.242.725-1.243.946,0,.241.1,1.033,1.39,1.038.888,0,2.068-.036,3.084-.066.758-.023,1.422-.044,1.8-.042s.979.02,1.711.045c1.183.041,2.717.095,4.3.1,1,0,1.358-.551,1.359-1.028,0-.159-.056-.951-1.236-.955a15.092,15.092,0,0,1-1.892-.165c-.57-.084-.847-.349-.979-1.7-.181-1.751-.17-5.023-.157-8.811l.057-16.589a1.264,1.264,0,0,1,.018-.238,5.374,5.374,0,0,1,1.186-.093A4.925,4.925,0,0,1,99.526,5.2a7.631,7.631,0,0,1,2.074,5.784c-.013,3.8-2.731,6.213-4.6,6.207-.465,0-1.7-.006-1.709,1.069,0,.352.159.809.95.982a5.11,5.11,0,0,0,.945.06c5.884.02,10.17-4.448,10.191-10.622a8.007,8.007,0,0,0-2.1-5.375C104.656,2.675,102.761.748,97.64.73Z"/><path d="M188.707,1.042c-1.376-.005-2.539.051-3.289.085-.337.016-.587.026-.726.026-.329,0-.823-.02-1.427-.045-.97-.04-2.218-.092-3.529-.1-.5,0-1.686-.006-1.689.987,0,.3.121.994,1.271,1a6.452,6.452,0,0,1,1.931.2c.586.252.971.608,1,3.184l.324,17.266c-.529-.561-1.238-1.318-2.007-2.14-2-2.138-4.489-4.8-6.1-6.436C168.86,9.392,162.8,2.8,161.83,1.727l-.376-.415c-.531-.6-.952-1.07-1.588-1.073-1.149,0-1.154,1.523-1.156,2.017l-.453,24.549c-.051,3.43-.227,4.369-.838,4.557a6.534,6.534,0,0,1-1.675.175c-1.149,0-1.276.66-1.277.947,0,1.032,1.143,1.036,1.517,1.038,1.515.005,2.926-.053,3.757-.087.329-.016.565-.024.67-.023.267,0,.635.016,1.115.038.913.04,2.221.1,3.963.1,1.036,0,1.562-.344,1.564-1.027,0-.355-.17-.951-1.31-.955a5.933,5.933,0,0,1-1.923-.259c-.626-.227-.957-1.547-1.011-4.044l-.357-15.89c1.756,1.966,5.261,5.883,8.747,9.4,1.727,1.743,3.619,3.681,5.426,5.534,2.621,2.685,5.094,5.221,6.619,6.7a2.871,2.871,0,0,0,1.826,1.1c1.152,0,1.157-1.429,1.158-1.889l.538-26.166c.054-2.468.444-2.759,1.057-2.936a3.921,3.921,0,0,1,1.082-.1c1.256,0,1.358-.756,1.359-.989C190.268,1.047,189.093,1.043,188.707,1.042Z"/><path d="M219.532,24.787c-.888,0-1.035.769-1.139,1.313a6.367,6.367,0,0,1-1.257,2.461c-1.527,1.768-3.639,2.1-7.007,2.084-4.934-.016-12.218-4.536-12.185-14.188.016-4.755,1.156-8.023,3.59-10.276,1.807-1.659,4.048-2.392,7.26-2.381,3.887.014,6.729,1.215,7.826,2.4a5.367,5.367,0,0,1,1.409,3.4c0,1.016.341,1.533,1.019,1.536,1.01,0,1.082-1.072,1.112-1.509s.058-1.259.07-2.15c.014-.817.025-1.691.067-2.355.052-.857.119-1.373.16-1.719a5.07,5.07,0,0,0,.056-.6,1.121,1.121,0,0,0-1.163-1.114c-.615-.067-1.253-.2-1.934-.335-.663-.136-1.366-.28-2.126-.385a40.526,40.526,0,0,0-6-.441c-5.74-.019-9.975,1.416-13.328,4.517a16.3,16.3,0,0,0-5.011,11.8c-.018,5.306,1.741,9.585,5.222,12.712l0,0c3.553,3.159,8.261,4.707,14.386,4.728a23.922,23.922,0,0,0,7.587-.978,2.039,2.039,0,0,0,1.419-1.6,39.2,39.2,0,0,0,.944-5.685C220.519,24.85,219.7,24.788,219.532,24.787Z"/><path d="M242.512,26.276c-.831,0-.968.794-1.028,1.143-.276,1.741-.712,2.276-1.371,2.608a8.349,8.349,0,0,1-3.25.418c-3.683-.013-3.823-.516-3.877-2.9-.023-.854,0-3.013.01-4.7l.028-4.783c1.37.013,4.292.068,4.86.136,1.188.145,1.456.637,1.567,1.137a7.054,7.054,0,0,1,.11,1.027l.022.338a.922.922,0,0,0,.953.994c.632,0,.958-.471.961-1.4,0-.153.033-.692.072-1.285.033-.522.066-1.08.085-1.449.1-1.384.2-2.139.261-2.561a4.693,4.693,0,0,0,.053-.508.878.878,0,0,0-.877-.956c-.476,0-.75.343-1.083.768-.174.212-.549.316-1.383.389-.511.05-2.543.071-5.593.061l.038-10.124c1.251.019,4.372.1,4.891.176,1.71.23,1.847.631,2.013,1.105a4.258,4.258,0,0,1,.18,1.275c0,1.08.666,1.2.955,1.2.244,0,.829-.094.988-.981.052-.332.106-1.234.148-1.946.022-.369.04-.684.054-.845a18.229,18.229,0,0,1,.252-2.238,3.268,3.268,0,0,0,.061-.494.863.863,0,0,0-.842-.993,1.625,1.625,0,0,0-.576.129,1.467,1.467,0,0,1-.185.056c-.292.078-1.01.167-1.487.225-.437.021-3.936.023-9.355,0-.476,0-1.237-.036-2.108-.079l-.255-.012c-.457,0-.948-.012-1.45-.025-.527-.013-1.069-.026-1.591-.028-.956,0-1.446.33-1.448.988,0,.3.122.994,1.254,1a6.573,6.573,0,0,1,1.321.109c.808.193,1.069.466,1.135,1.8.066,1.311.062,2.449.041,8.762l-.025,7.3c-.013,3.788-.024,7.059-.212,8.758-.125,1-.278,1.679-.63,1.754a5.063,5.063,0,0,1-1.2.143c-1.132,0-1.223.725-1.224.947,0,.241.1,1.033,1.367,1.037.372,0,.8-.017,1.237-.035s.917-.04,1.382-.041c.888-.037,1.7-.034,2.106-.032h0c1.118,0,2.276.05,3.893.138l1.143.035c1.427.044,3.166.1,5.365.109,1.45,0,2.25.008,2.632-1.546a35.94,35.94,0,0,0,.522-4.742C243.425,27.272,243.428,26.279,242.512,26.276Z"/><path d="M259.311,13.853l-1.137-.873c-3.45-2.673-4.078-3.949-4.073-5.495.008-2.222,1.678-3.649,4.257-3.64a4.61,4.61,0,0,1,4.886,4.168c0,1.231.713,1.367,1.022,1.368,1.07,0,1.074-1.3,1.076-1.858.008-2.275.092-3.523.143-4.266.023-.318.038-.545.039-.71,0-.394-.181-.905-1.026-1.1A20.316,20.316,0,0,0,258.9.7c-5.924-.02-10.075,3.444-10.092,8.424-.013,3.733,1.857,6.824,6.252,10.332l1.876,1.5c3.132,2.511,3.756,4.218,3.749,6.165,0,1.654-1.307,4.106-4.874,4.094a5.018,5.018,0,0,1-5.239-3.76,8.045,8.045,0,0,1-.336-1.945c0-1.194-.714-1.327-1.023-1.328-.664,0-1.038.555-1.115,1.673-.141,2.107-.218,3.943-.223,5.455,0,1.013.162,1.538,1.137,1.976a14.463,14.463,0,0,0,6.215,1.156,12.166,12.166,0,0,0,6.847-1.784,9.035,9.035,0,0,0,4.149-7.715C266.239,20.74,264.365,17.734,259.311,13.853Z"/><path d="M281.382,13.928l-1.137-.872c-3.45-2.673-4.078-3.949-4.073-5.5.008-2.221,1.678-3.648,4.257-3.639a4.608,4.608,0,0,1,4.886,4.167c0,1.232.713,1.367,1.022,1.368,1.07,0,1.074-1.3,1.076-1.857.008-2.276.092-3.524.142-4.267.024-.318.039-.544.04-.709,0-.394-.182-.906-1.026-1.1a20.324,20.324,0,0,0-5.6-.745C275.049.759,270.9,4.223,270.881,9.2c-.013,3.734,1.857,6.824,6.252,10.332l1.876,1.5c3.132,2.51,3.756,4.218,3.749,6.164,0,1.654-1.308,4.107-4.874,4.1a5.023,5.023,0,0,1-5.242-3.758,8.343,8.343,0,0,1-.334-1.947c0-1.2-.713-1.328-1.022-1.329-.664,0-1.038.555-1.115,1.71-.144,2.108-.221,3.929-.226,5.418,0,1.013.162,1.539,1.139,1.976a14.441,14.441,0,0,0,6.216,1.156,12.172,12.172,0,0,0,6.847-1.784A9.033,9.033,0,0,0,288.3,25.02C288.31,20.815,286.436,17.81,281.382,13.928Z"/><path d="M151.389,31.523a15.243,15.243,0,0,1-1.892-.166c-.649-.1-.9-.335-1.013-1.479-.148-1.756-.137-4.965-.123-9.028l.025-7.3c.022-6.312.026-7.447.107-8.764.085-1.509.414-1.681.931-1.784A5.756,5.756,0,0,1,150.48,2.9c1.118,0,1.242-.719,1.243-1.031,0-.355-.184-.951-1.429-.956-.823,0-1.893.034-2.852.064-.76.026-1.45.046-1.878.045-.52,0-1.322-.03-2.179-.061-1-.038-2.068-.078-2.863-.081-.383,0-1.549-.005-1.552.945,0,.312.118,1.036,1.236,1.04a4.68,4.68,0,0,1,1.251.149c.366.092.765.309.839,1.762.073,1.311.069,2.446.047,8.759l-.025,7.3c-.014,4.06-.025,7.266-.221,8.979-.129,1.313-.379,1.472-.658,1.53a5.238,5.238,0,0,1-1.084.135l-1.041,0a5.011,5.011,0,0,1-.913-.111c-.542-.118-1.982-.43-3.955-2.632-1.956-2.212-4.184-5.238-7-9.072l-1-1.363c3.441-3.086,4.923-5.91,4.935-9.36a7.966,7.966,0,0,0-2.87-6.19c-2.284-1.687-5.07-1.924-7.493-1.932-.593,0-1.6.026-2.636.054-1.069.027-2.159.055-2.829.052-.309,0-.859-.02-1.534-.045-1.095-.04-2.511-.093-3.779-.1-.973,0-1.471.33-1.473.988,0,.3.121.994,1.273,1a7.2,7.2,0,0,1,1.376.109c.853.2,1.11.458,1.182,1.8.07,1.308.066,2.446.044,8.759l-.025,7.3c-.013,3.785-.024,7.057-.217,8.753-.137,1.029-.292,1.681-.661,1.756a5.34,5.34,0,0,1-1.252.147c-1.149,0-1.243.724-1.243.946,0,.241.1,1.033,1.389,1.037.925,0,2.168-.038,3.178-.071.681-.02,1.257-.038,1.552-.037.193,0,.641.016,1.237.035,1.2.041,2.965.1,4.463.109,1.291,0,1.4-.787,1.4-1.028a.965.965,0,0,0-1.081-.954,16.567,16.567,0,0,1-1.812-.165c-.573-.084-.853-.355-.979-1.743-.184-1.709-.173-5-.16-8.807v-.287l3.064.087c.17,0,.184.015.218.061.274.338,1.033,1.5,1.841,2.738.615.947,1.3,2,1.947,2.955,2.3,3.407,3.778,5.318,5.492,6.3a7.986,7.986,0,0,0,4.454.889l4.894.017c.888,0,2.069-.035,3.084-.066.758-.023,1.422-.043,1.8-.042.4,0,1.019.02,1.768.046,1.188.041,2.709.094,4.278.1,1,0,1.358-.551,1.36-1.028C152.626,32.318,152.569,31.527,151.389,31.523Zm-25.834-20.54c-.012,3.589-1.3,5.131-2.065,5.727-.544.418-.89.573-2.377.568a11.35,11.35,0,0,1-2.66-.313.841.841,0,0,1-.016-.241L118.485,4.1a10.373,10.373,0,0,1,1.78-.1C122.24,4,125.574,5.482,125.555,10.983Z"/></svg>\n                            <span class="visuallyhidden">Princess Cruises - come back new</span>\n                        </a>\n                    </div>\n                    <div class="global-header__container-right">\n                        <ul class="global-header__container-right--list no-list-style">\n                            <li class="global-header__container-right--list-item global-header__language-selector ').concat("false"===this.getAttribute("language")?"hidden":"",'" role="menubar" data-observed-attr="language">\n                              <a href="#"\n                                 class="invert-decoration global-header__language-selector-btn"\n                                 data-nav-name="Language" \n                                 data-page-section="Header" \n                                 data-track="header"\n                                 data-track-id="language-dropdown">\n                                <svg id="globe" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n                                  <title>globe</title><path d="M12,1A11,11,0,1,0,23,12,11.013,11.013,0,0,0,12,1Zm9.975,10.5H17.483A16.633,16.633,0,0,0,16.7,6.952a14.393,14.393,0,0,0,2.991-1.338A9.943,9.943,0,0,1,21.975,11.5ZM18.989,4.86A13.791,13.791,0,0,1,16.358,6a12.04,12.04,0,0,0-2.265-3.78A9.99,9.99,0,0,1,18.989,4.86ZM7.517,11.5a15.5,15.5,0,0,1,.726-4.2A17.225,17.225,0,0,0,12,7.688a15.259,15.259,0,0,0,3.735-.466,15.5,15.5,0,0,1,.748,4.278Zm8.966,1a15.5,15.5,0,0,1-.726,4.2A17.225,17.225,0,0,0,12,16.312a15.274,15.274,0,0,0-3.736.466A15.539,15.539,0,0,1,7.517,12.5ZM12,2c.808,0,2.34,1.663,3.39,4.274A14.206,14.206,0,0,1,12,6.688a16.233,16.233,0,0,1-3.419-.346C9.631,3.69,11.184,2,12,2Zm-2.092.224A12.128,12.128,0,0,0,7.61,6.09,10.222,10.222,0,0,1,4.958,4.909,9.989,9.989,0,0,1,9.908,2.224ZM4.274,5.66a10.731,10.731,0,0,0,3,1.381A16.6,16.6,0,0,0,6.517,11.5H2.025A9.947,9.947,0,0,1,4.274,5.66ZM2.025,12.5H6.517A16.626,16.626,0,0,0,7.3,17.048a14.393,14.393,0,0,0-2.991,1.338A9.945,9.945,0,0,1,2.025,12.5Zm2.986,6.64A13.791,13.791,0,0,1,7.642,18a12.022,12.022,0,0,0,2.266,3.78A9.988,9.988,0,0,1,5.011,19.14ZM12,22c-.808,0-2.34-1.663-3.39-4.274A14.206,14.206,0,0,1,12,17.312a16.233,16.233,0,0,1,3.419.346C14.369,20.31,12.815,22,12,22Zm2.093-.224a12.146,12.146,0,0,0,2.3-3.866,10.222,10.222,0,0,1,2.652,1.181A9.99,9.99,0,0,1,14.093,21.776Zm5.633-3.436a10.745,10.745,0,0,0-3-1.381,16.6,16.6,0,0,0,.761-4.459h4.492A9.947,9.947,0,0,1,19.726,18.34Z"></path>\n                                </svg>\n                                Language\n                              </a>\n                              <div class="global-header__language-dropdown hidden-sm-down hidden" aria-hidden="true">\n                                <a href="#" class="global-header__language-link').concat("en"===this.pclLang?" active":"",'" lang="en" data-language-select="en|uat" data-track="header" data-track-id="English" tabindex="0" aria-selected="true">English</a>\n                                <a href="#" class="global-header__language-link').concat("cn"===this.pclLang?" active":"",'" lang="zh-cn" data-language-select="cn|cn-uat" data-track="header" data-track-id="Chinese" tabindex="0"><span class="visuallyhidden">Chinese</span></a>\n                                <a href="#" class="global-header__language-link').concat("es"===this.pclLang?" active":"",'" lang="es-la" data-language-select="es|es-uat" data-track="header" data-track-id="Spanish" tabindex="0">Espaol</a>\n                                <a href="#" class="global-header__language-link').concat("jp"===this.pclLang?" active":"",'" lang="ja-jp" data-language-select="jp|jp-uat" data-track="header" data-track-id="Japanese" tabindex="0"><span class="visuallyhidden">Japanese</span></a>\n                                <a href="#" class="global-header__language-link').concat("tw"===this.pclLang?" active":"",'" lang="zh-tw" data-language-select="tw|tw-uat" data-track="header" data-track-id="Chinese Traditional" tabindex="0"><span class="visuallyhidden">Chinese Traditional</span></a>\n                              </div>\n                            </li>\n                            <li class="global-header__container-right--list-item ').concat("false"===this.getAttribute("special-offers")?"hidden":"",'" data-observed-attr="special-offers">\n                                ').concat(o?"":'<a href="'.concat($bookURL,'/captaincircle/specialOfferRegistration.page?track=header&amp;trackId=special-offers" \n                                       class="invert-decoration special-offers-sign-up global-mfp-modal" \n                                       data-nav-name="Special Offers Sign Up" \n                                       data-page-section="Header" \n                                       data-track="header" \n                                       data-track-id="special-offers">\n                                       <svg id="email" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>email</title><path d="M12.9,13.8a1.613,1.613,0,0,1-.9.3,1.4,1.4,0,0,1-.9-.3L1,6.8V18.5A1.538,1.538,0,0,0,2.5,20h19A1.538,1.538,0,0,0,23,18.5V6.8Z"/><path d="M12,12,22.7,4.5A1.656,1.656,0,0,0,21.5,4H2.5a1.425,1.425,0,0,0-1.2.6Z"/></svg>\n                                       Special Offers Sign Up\n                                    </a>'),"\n                            </li>\n                            ").concat(t&&n?'\n                                <li class="global-header__container-right--list-item '.concat("false"===this.getAttribute("cruise-deals")?"hidden":"",'" data-observed-attr="cruise-deals">\n                                    <a href="').concat($wwwURL).concat(t,'" \n                                       class="invert-decoration" \n                                       data-page-section="Header" \n                                       data-track="header"\n                                       data-track-id="cruise-deals"\n                                       data-nav-name="Cruise Deals" \n                                       data-us-url="').concat($wwwURL).concat(n,'/">\n                                       <svg id="icon-tag" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>tag</title><path d="M23,10.814V2.537A1.537,1.537,0,0,0,21.463,1H13.186a1.533,1.533,0,0,0-1.08.445c-.267.276-10.678,10.678-10.678,10.678a1.462,1.462,0,0,0,0,2.066l8.381,8.382a1.463,1.463,0,0,0,2.067,0L22.523,11.923A1.525,1.525,0,0,0,23,10.814M15.248,8.752a2.126,2.126,0,1,1,3.006,0,2.128,2.128,0,0,1-3.006,0"/></svg>\n                                       ').concat(n,"\n                                    </a>\n                                </li>\n                            "):"",'\n                            <li class="global-header__container-right--list-item my-account-section col-xs-pad-5-right col-lg-pad-15-right ').concat("false"===this.getAttribute("my-account")?"hidden":"",'" data-observed-attr="my-account">\n                                ').concat(o?'<a class="invert-decoration my-account"\n                                    href="'.concat($bookURL,'/captaincircle/myPrincess.page"\n                                    data-page-section="Header" \n                                    data-track="header" \n                                    data-track-id="my-account">\n                                    My Account\n                                    <div class="pipe"></div>\n                                </a>\n                                <a class="invert-decoration my-account notification"\n                                    href="').concat($wwwURL,'/cruise-vacation-planning-dashboard/home.do"\n                                    data-page-section="Header" \n                                    data-track="header" \n                                    data-track-id="saved-cruise">\n                                    Saved\n                                    <div class="pipe"></div>\n                                </a>'):'<a class="invert-decoration my-account my-account-login global-mfp-modal" \n                                    href="'.concat($wwwURL,"/my-princess/login/").concat(this.getLoginSrc(),'"\n                                    data-page-section="Header" \n                                    data-track="header" \n                                    data-track-id="my-account">\n                                    <svg id="icon-user" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>user</title><path d="M3.589,17.77c1.634-.683,3.336-1.234,5.026-1.756.8-.247.821-.51.594-1.407-.19-.751-.595-1.422-.766-2.187-.259-1.159-1.015-2.08-1.031-3.357-.007-.651.21-1.168.163-1.845-.121-1.719-.4-3.247.865-4.69A4.817,4.817,0,0,1,11.838,1c3.1-.166,5.879,1.776,5.407,5.127A7.826,7.826,0,0,0,17.1,7.979a8.016,8.016,0,0,1,.18,1.2,5.39,5.39,0,0,1-.544,2.118c-.13.261-.3.488-.407.748-.167.425-.209.93-.369,1.368a4.944,4.944,0,0,0-.393,1.819c0,.9.6.775,1.4,1.038a20.494,20.494,0,0,1,4.531,1.7c.953.615.756,1.752.756,2.741,0,1.15.172,2.258-1.3,2.29-2.811.062-5.63,0-8.442,0-2.935,0-5.88.077-8.814,0-1.328-.035-1.306-.892-1.308-1.948C2.388,19.749,2.18,18.426,3.589,17.77Z"/></svg>\n                                    Log In <div class="pipe"></div>\n                                </a>'),"\n                                \n                                ").concat(o?'\n                                    <a class="invert-decoration my-account-logout-btn"\n                                        href="#"\n                                        data-page-section="Header" \n                                        data-track="header" \n                                        data-track-id="log-out">\n                                        Log Out <div class="pipe"></div>\n                                    </a>':'<a class="invert-decoration" \n                                    href="'.concat($wwwURL,'/my-princess/register/"\n                                    data-page-section="Header" \n                                    data-track="header" \n                                    data-track-id="register">\n                                    Register\n                                </a>'),'\n                            </li>\n                            <li class="global-header__container-right--list-item global-header__search col-xs-pad-5-right col-lg-pad-15-right ').concat("false"===this.getAttribute("search")?"hidden":"",'" data-observed-attr="search">\n                                <a class="global-header__search-btn" data-page-section="Header" data-track="header" data-track-id="site-search" data-page-section="Header" role="button" aria-haspopup="true" aria-expanded="false" tabindex="0">\n                                    <svg id="search" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>search</title><path d="M21.89,20.348,16.069,14.2a7.89,7.89,0,0,0,1.957-5.165A8.107,8.107,0,0,0,9.852,1,8.107,8.107,0,0,0,1.679,9.039a8.106,8.106,0,0,0,8.173,8.04,8.2,8.2,0,0,0,3.735-.926l6.023,6.356a1.571,1.571,0,1,0,2.28-2.161ZM4.822,9.039a4.969,4.969,0,0,1,5.03-4.9,4.97,4.97,0,0,1,5.031,4.9,4.971,4.971,0,0,1-5.031,4.9A4.97,4.97,0,0,1,4.822,9.039Z"/></svg>\n                                </a>\n                                <div class="global-header__search-dropdown hidden-sm-down hidden" aria-hidden="true">\n                                    <div class="global-header__search-dropdown-content container">\n                                        <div class="global-header__searchbar">\n                                                <label for="header-site-search-field-desktop" class="visuallyhidden">Search princess.com</label>\n                                                <input type="text" class="global-header__searchbar-input" placeholder="Search Princess.com" id="header-site-search-field-desktop">\n                                                <button class="global-header__searchbar-button">\n                                                     <svg id="searchbar-btn" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>search</title><path d="M21.89,20.348,16.069,14.2a7.89,7.89,0,0,0,1.957-5.165A8.107,8.107,0,0,0,9.852,1,8.107,8.107,0,0,0,1.679,9.039a8.106,8.106,0,0,0,8.173,8.04,8.2,8.2,0,0,0,3.735-.926l6.023,6.356a1.571,1.571,0,1,0,2.28-2.161ZM4.822,9.039a4.969,4.969,0,0,1,5.03-4.9,4.97,4.97,0,0,1,5.031,4.9,4.971,4.971,0,0,1-5.031,4.9A4.97,4.97,0,0,1,4.822,9.039Z"/></svg>\n                                                </button>\n                                        </div>\n                                        <div class="global-header__suggested-links">\n                                            <h3>Suggested Links</h3>\n                                            <ul>\n                                                <li><a class="invert-decoration col-xs-pad-5-top col-xs-pad-5-bottom" href="').concat($wwwURL,'/learn/faq/pre-cruise/prepare-for-your-cruise/">Pre-Cruise FAQ</a></li>\n                                                <li><a class="invert-decoration col-xs-pad-5-top col-xs-pad-5-bottom" href="').concat($wwwURL,'/learn/faq/onboard/onboard-experience/">Onboard FAQ</a></li>\n                                            </ul>\n                                            <ul>\n                                                <li><a class="invert-decoration col-xs-pad-5-top col-xs-pad-5-bottom" href="').concat($wwwURL,'/learn/faq/post-cruise/disembarkation/">Post-Cruise FAQ</a></li>\n                                                <li><a class="invert-decoration col-xs-pad-5-top col-xs-pad-5-bottom" href="').concat($wwwURL,'/learn/faq/">Cruisetours FAQ</a></li>\n                                            </ul>\n                                        </div>\n                                        <button class="global-header__search-close" aria-label="Close Search" tabindex="0">\n                                          <svg viewBox="0 0 24 24" id="icon-open-close"><path fill-rule="evenodd" d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm6.2,16.12a.75.75,0,1,1-1.06,1.06L12,13.06,6.88,18.19a.75.75,0,0,1-1.06-1.06L10.95,12,5.82,6.87A.75.75,0,0,1,6.88,5.81L12,10.94l5.13-5.13a.75.75,0,1,1,1.06,1.06L13.07,12Z"></path></svg>\n                                          </button>\n                                    </div>\n                                </div>\n                            </li>\n  \n  \n                            <li class="global-header__container-right--list-item">\n                                <span class="hidden hidden-md-down custom-message-text ').concat("false"===this.getAttribute("custom-message")?"hidden":"",'" data-observed-attr="custom-message"></span>\n                            </li>\n                           \n                            <li class="global-header__container-right--list-item global-header__menu hidden-md-up">\n                                 <a tabindex="0" class="global-header__menu-btn col-xs-pad-5-top col-xs-pad-5-bottom" \n                                         role="button"\n                                         aria-haspopup="true"\n                                         aria-expanded="false">\n                                    <div class="icon">\n                                        <span class="top"></span>\n                                        <span class="bottom"></span>\n                                    </div>\n                                    <span>Menu</span>\n                                 </a>\n                            </li>\n                        </ul>\n                    </div>\n                    ').concat(t&&n?'\n                        <div class="global-header__container-cruise-ship hidden-md-up">\n                            <a class="invert-decoration" \n                            href="'.concat($wwwURL).concat(t,'" \n                            data-us-url="').concat($wwwURL).concat(n,'/">\n                             <svg id="icon-ship" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>ship</title><path d="M23,11.634a7.8,7.8,0,0,1-.872-.587c-.079.051-.3.5-.436.587-.428-.136-2.091-.221-3.488-.587-.451.356-1.152.068-1.609.1s-.9.008-1.352.008l0-.075c1.544,0,2.091-.038,2.091-.038a6.413,6.413,0,0,0-.569-.7H13.547v-.02H16.2c.04-.187.074-.341.122-.562L15.578,9c.073-.187.143-.36.212-.534l-.054-.048-.435.823c-.128-.25-.233-.451-.355-.689a.9.9,0,0,1-.956-.63c-.012-.207-.024-.429-.036-.651l-.1.008c-.014.264-.028.529-.047.9-.255-.07-.531-.036-.714-.216a1.764,1.764,0,0,0-1.452-.47,7.187,7.187,0,0,1-.928-.016,2.9,2.9,0,0,1-.526-.144c-.06-.278-.1-.475-.181-.84-.121.408-.2.662-.269.9l-.488.276a.934.934,0,0,1-.5,1.06c-.246.163-.511.32-.794.5-.036-.35-.554-.832-.581.286-.706.675-1.387,1.344-2.082,1.98-.637.443-1.726,1.132-1.726,1.132a.739.739,0,0,0,.015.078c1.338-.579,5.9-3.193,7.679-4.036.008.554-.253.542-.425.629-2.409,1.235-7.3,3.652-8.873,4.569L2,14.03q4-2.011,7.988-4.024l.235.327,2.225-.744-.207.65c.032.012.389.075.6.149-.121.276-.278.346-.239.6-.228.019-.446.372-.684.056a58.018,58.018,0,0,0-5.511,2.123C5.359,13.571,1.7,14.8,1.337,14.907c-.2.7-.743,2.515.3,2.6.92-.006,11.264-.076,17.006,0,.388.005.737-.141.435-.588-.43-.5-1.267.123-.871-.587a11.208,11.208,0,0,1,.871-1.175A17.657,17.657,0,0,1,23,11.634ZM9.436,8.267,9.4,8.155,9.758,7.9l.052.139ZM9.049,13.8l-.739.221c-.006-.078-.012-.158-.018-.238C8.528,13.627,8.763,13.457,9.049,13.8Zm-4.317.752c.566-.155,1.135-.295,1.7-.443.412-.107.823-.227,1.237-.315.091-.019.194.074.291.116l0,.15L2.779,15.309l-.024-.2C3.414,14.927,4.072,14.736,4.732,14.556Zm-3.3,1.6c.276-.391.314.279.5.261C1.736,16.484,1.522,16.638,1.433,16.156Zm.356-.628L1.773,15.4l.764-.207.017.155Zm1.492.79h-.7v-.057H3.3Zm.125-.516h-.5l0-.078h.5C3.409,15.75,3.408,15.776,3.406,15.8Zm12.745-1.711C15.323,14.215,4.106,15.7,3.876,15.7l0-.16,12.652-1.975C16.525,14.108,16.313,14.066,16.151,14.091Z" fill-rule="evenodd"/></svg>                           \n                             Cruises\n                            </a>\n                        </div>\n                    '):"",'\n                </div>\n            </header>\n            <div class="global-header__nav-container">\n                    <div class="global-header__account-section-mobile hidden-md-up">\n                        <ul>\n                            <li class="global-header__container-right--list-item my-account-section">\n                                ').concat(o?'<a class="invert-decoration my-account"\n                                    href="'.concat($bookURL,'/captaincircle/myPrincess.page"\n                                    data-page-section="Header" \n                                    data-track="header" \n                                    data-track-id="my-account">\n                                    My Account <div class="pipe"></div>\n                                </a>\n                                <a class="invert-decoration my-account notification"\n                                    href="').concat($wwwURL,'/cruise-vacation-planning-dashboard/home.do"\n                                    data-page-section="Header" \n                                    data-track="header" \n                                    data-track-id="saved-cruise">\n                                    Saved <div class="pipe"></div>\n                                </a>'):'<a class="invert-decoration my-account my-account-login global-mfp-modal" \n                                    href="'.concat($wwwURL,"/my-princess/login/").concat(this.getLoginSrc(),'"\n                                    data-page-section="Header" \n                                    data-track="header" \n                                    data-track-id="my-account">\n                                    <svg id="icon-user" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>user</title><path d="M3.589,17.77c1.634-.683,3.336-1.234,5.026-1.756.8-.247.821-.51.594-1.407-.19-.751-.595-1.422-.766-2.187-.259-1.159-1.015-2.08-1.031-3.357-.007-.651.21-1.168.163-1.845-.121-1.719-.4-3.247.865-4.69A4.817,4.817,0,0,1,11.838,1c3.1-.166,5.879,1.776,5.407,5.127A7.826,7.826,0,0,0,17.1,7.979a8.016,8.016,0,0,1,.18,1.2,5.39,5.39,0,0,1-.544,2.118c-.13.261-.3.488-.407.748-.167.425-.209.93-.369,1.368a4.944,4.944,0,0,0-.393,1.819c0,.9.6.775,1.4,1.038a20.494,20.494,0,0,1,4.531,1.7c.953.615.756,1.752.756,2.741,0,1.15.172,2.258-1.3,2.29-2.811.062-5.63,0-8.442,0-2.935,0-5.88.077-8.814,0-1.328-.035-1.306-.892-1.308-1.948C2.388,19.749,2.18,18.426,3.589,17.77Z"/></svg>\n                                    Log In <div class="pipe"></div>\n                                </a>'),"\n                                \n                                ").concat(o?'\n                                <a class="invert-decoration my-account-logout-btn"\n                                    href="#"\n                                    data-page-section="Header" \n                                    data-track="header" \n                                    data-track-id="log-out">\n                                    Log out <div class="pipe"></div>\n                                </a>':'<a class="invert-decoration" \n                                    href="'.concat($wwwURL,'/my-princess/register/"\n                                    data-page-section="Header" \n                                    data-track="header" \n                                    data-track-id="register">\n                                    Register\n                                </a>'),'\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="global-header__search-mobile hidden-md-up">\n                        <div class="global-header__searchbar mobile">\n                                <label for="header-site-search-field-mobile" class="visuallyhidden">Search Princess.com</label>\n                                <input type="text" class="global-header__searchbar-input-mobile" placeholder="Search Princess.com" id="header-site-search-field-mobile">\n                                <button class="global-header__searchbar-button-mobile">\n                                     <svg id="searchbar-btn" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>search</title><path d="M21.89,20.348,16.069,14.2a7.89,7.89,0,0,0,1.957-5.165A8.107,8.107,0,0,0,9.852,1,8.107,8.107,0,0,0,1.679,9.039a8.106,8.106,0,0,0,8.173,8.04,8.2,8.2,0,0,0,3.735-.926l6.023,6.356a1.571,1.571,0,1,0,2.28-2.161ZM4.822,9.039a4.969,4.969,0,0,1,5.03-4.9,4.97,4.97,0,0,1,5.031,4.9,4.971,4.971,0,0,1-5.031,4.9A4.97,4.97,0,0,1,4.822,9.039Z"/></svg>\n                                </button>\n                        </div>\n                    </div>\n            </div>\n            <div class="global-header__nav-container-overlay hidden-md-up"></div>\n        ')}},{key:"linkStylesheet",value:function(e){return new Promise((function(a,t){var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.onload=function(){return a()},n.onerror=function(){return t()},n.href=e;var o=document.querySelector("script");o.parentNode.insertBefore(n,o)}))}}],[{key:"observedAttributes",get:function(){return["language","search","cruise-deals","special-offers","my-account","custom-message","global-nav","guest-auth"]}}]),t}();window.customElements.get("pcl-global-header")||customElements.define("pcl-global-header",PclGlobalHeader);


function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){l=!0,r=t},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw r}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,a=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,t)},_wrapNativeSuper(t)}function _construct(t,e,n){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(t,e,n){var a=[null];a.push.apply(a,e);var o=new(Function.bind.apply(t,a));return n&&_setPrototypeOf(o,n.prototype),o},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var PclGlobalFooter=function(t){_inherits(n,_wrapNativeSuper(HTMLElement));var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).render(),t.currentYear=(new Date).getFullYear(),t.footer$,t}return _createClass(n,[{key:"render",value:function(){var t,e,n,a=this;this.locale=(null===(t=window.localeData)||void 0===t||null===(e=t.status)||void 0===e?void 0:e.toLowerCase())||"in",Promise.all([fetch("".concat($wwwURL,"/html/global/nav/wc/copyright.json")),fetch("".concat($wwwURL,"/html/global/nav/wc/footer.json"))]).then((function(t){return Promise.all(t.map((function(t){return t.json()})))})).then((function(t){var e,o,r=t[0],i=t[1];n=r?null===(e=r[0])||void 0===e?void 0:e.categories:[];var l,c={},s=_createForOfIteratorHelper(i?null===(o=i[0])||void 0===o?void 0:o.categories:[]||[]);try{for(s.s();!(l=s.n()).done;){var p=l.value,u=parseInt(p.sortOrder);c[u]?c[u].push(p):c[u]=[p]}}catch(t){s.e(t)}finally{s.f()}var h=a.buildTemplate(Object.values(c),n);a.attachShadow({mode:"open"}).appendChild(h.content.cloneNode(!0)),a.footer$=a.shadowRoot.querySelector(".global-footer"),a.getAttribute("min-width")&&(a.shadowRoot.querySelector("footer").style.minWidth=a.getAttribute("min-width"),a.shadowRoot.querySelector(".footer__social").style.minWidth=a.getAttribute("min-width"))}))}},{key:"createFooterNavItem",value:function(t){var e=this;return'\n            <div class="footer-navigation__column">\n                <h2 class="footer-navigation__column--title">'.concat(t.name,'</h2>\n                <ul aria-label="').concat(t.name,'" class="footer-navigation__column--list no-list-style">\n                    ').concat(t.navlinks.map((function(t){return e.createNavLink(t)})).join(""),"\n                </ul>\n            </div>\n        ")}},{key:"createNavLink",value:function(t){var e=["data-".concat(this.locale,"-url"),"data-".concat(this.locale,"-text")],n=window.getAttributesFromLink(null==t?void 0:t.localizedLink,e);return"\n            ".concat(n[0]?'\n                <li class="footer-navigation__column--list-item">\n                    <a class="footer-navigation__column--link invert-decoration" \n                        data-track="footer"\n                        data-track-id="'.concat(window.convertStringToKebabCase(t.title),'"\n                        ').concat((null==t?void 0:t.localizedLink)||"",'\n                        href="').concat(n[0]||t.url,'">\n                            ').concat(n[1]||t.title,"\n                    </a>\n                 </li>"):'\n                <li class="footer-navigation__column--list-item">\n                    <a class="footer-navigation__column--link invert-decoration '.concat(null==t?void 0:t.styleClass,'" \n                        data-track="footer" \n                        data-track-id="').concat(window.convertStringToKebabCase(t.title),'" \n                        ').concat((null==t?void 0:t.localizedLink)||"",'\n                        href="').concat(t.url,'">\n                            ').concat(t.title,"\n                    </a>\n                </li>\n            "),"\n        ")}},{key:"createNavAppLinks",value:function(){return'\n            <div class="footer-navigation__app-section">\n                <span class="footer-navigation__app-section-title">Princess MedallionClass App</span>\n                <div class="footer-navigation__app-icons">\n                    <div class="footer-navigation__icon">\n                        <a class="footer-navigation__icon-apple"\n                        href="https://apps.apple.com/us/app/medallionclass/id1475028048" \n                        target="_blank" \n                        rel="noopener noreferrer">\n                        <img class="img-responsive" \n                        title="" \n                        alt="MedallionClass App, download on the Apple App Store. Opens in new tab." \n                        src="'.concat($wwwURL,'/images/global/shared/app-store-badges/badge-app-store-286x88.png">\n                        </a>\n                    </div>\n                    <div class="footer-navigation__icon">\n                        <a class="footer-navigation__icon-android"\n                        href="https://play.google.com/store/apps/details?id=com.carnival.gxi.ocean.compass.medallionclass" \n                        target="_blank" \n                        rel="noopener noreferrer">\n                        <img \n                        class="img-responsive"\n                        title="" \n                        alt="MedallionClass App, get it on Google Play. Opens in new tab." \n                        src="').concat($wwwURL,'/images/global/shared/app-store-badges/badge-google-play-286x88.png">\n                        </a>\n                    </div>\n                </div>\n            </div>\n        ')}},{key:"createSocialIcons",value:function(){return'\n            <div class="footer__social">\n                <span>Follow Us:</span>\n                <div class="footer__social--icons">\n                    <a aria-label="Follow Princess on Facebook." href="https://www.facebook.com/PrincessCruises" rel="noopener noreferrer">\n                            <svg id="icon-facebook" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>facebook</title><path d="M17.607,4.656H15.534c-1.646,0-1.95.792-1.95,1.889v2.5h3.9v3.9H13.647V23H9.625V12.945H6.271v-3.9H9.623V6.18C9.623,2.827,11.7,1,14.682,1h3.047l-.122,3.656Z" fill="#00538b"/></svg>\n                    </a>\n                    <a aria-label="Follow Princess on Twitter." href="https://twitter.com/PrincessCruises" rel="noopener noreferrer">\n                        <svg id="icon-twitter" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>twitter</title><path d="M23,5.175a9.012,9.012,0,0,1-2.592.711,4.521,4.521,0,0,0,1.984-2.5,9,9,0,0,1-2.867,1.093,4.515,4.515,0,0,0-7.806,3.09A4.455,4.455,0,0,0,11.835,8.6a12.81,12.81,0,0,1-9.3-4.717,4.521,4.521,0,0,0,1.4,6.028,4.507,4.507,0,0,1-2.045-.563V9.4A4.515,4.515,0,0,0,5.505,13.83a4.4,4.4,0,0,1-1.19.159,4.5,4.5,0,0,1-.848-.079,4.516,4.516,0,0,0,4.216,3.134,9.058,9.058,0,0,1-5.6,1.932A9.266,9.266,0,0,1,1,18.914a12.781,12.781,0,0,0,6.918,2.027A12.754,12.754,0,0,0,20.759,8.1c0-.2,0-.391-.012-.583A9.146,9.146,0,0,0,23,5.175" fill="#00538b"/></svg>\n                    </a>\n                    <a aria-label="Follow Princess on Youtube." href="https://www.youtube.com/princesscruises" rel="noopener noreferrer">\n                        <svg id="icon-youtube" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>youtube</title><path d="M16.251,12.379,9.057,16.6V8.153Zm6.72,3.917V8.439s0-3.787-3.787-3.787H4.785S1,4.652,1,8.439V16.3s0,3.787,3.785,3.787h14.4s3.787,0,3.787-3.787" fill="#00538b"/></svg>\n                    </a>\n                    <a aria-label="Follow Princess on Instagram." href="https://www.instagram.com/princesscruises/" rel="noopener noreferrer">\n                       <svg id="icon-instagram" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>instagram</title><path d="M12.032,2.98c2.93,0,3.278.011,4.435.064a6.029,6.029,0,0,1,2.038.378,3.394,3.394,0,0,1,1.262.821,3.4,3.4,0,0,1,.822,1.262,6.087,6.087,0,0,1,.378,2.038c.052,1.157.064,1.505.064,4.436s-.012,3.278-.064,4.435a6.081,6.081,0,0,1-.378,2.038,3.638,3.638,0,0,1-2.084,2.084,6.081,6.081,0,0,1-2.038.378c-1.157.052-1.5.064-4.435.064s-3.279-.012-4.436-.064a6.081,6.081,0,0,1-2.038-.378,3.638,3.638,0,0,1-2.084-2.084A6.081,6.081,0,0,1,3.1,16.414c-.052-1.157-.064-1.5-.064-4.435S3.044,8.7,3.1,7.543a6.087,6.087,0,0,1,.378-2.038A3.4,3.4,0,0,1,4.3,4.243a3.394,3.394,0,0,1,1.262-.821A6.029,6.029,0,0,1,7.6,3.044C8.753,2.991,9.1,2.98,12.032,2.98m0-1.978c-2.982,0-3.355.012-4.526.066a8.057,8.057,0,0,0-2.665.51A5.385,5.385,0,0,0,2.9,2.844,5.381,5.381,0,0,0,1.631,4.788a8.063,8.063,0,0,0-.51,2.665C1.067,8.624,1.055,9,1.055,11.979s.012,3.355.066,4.525a8.057,8.057,0,0,0,.51,2.665A5.372,5.372,0,0,0,2.9,21.113a5.372,5.372,0,0,0,1.944,1.266,8.031,8.031,0,0,0,2.665.51c1.171.054,1.544.066,4.526.066s3.354-.012,4.525-.066a8.031,8.031,0,0,0,2.665-.51,5.613,5.613,0,0,0,3.21-3.21,8.057,8.057,0,0,0,.51-2.665c.054-1.17.066-1.544.066-4.525S23,8.624,22.942,7.453a8.063,8.063,0,0,0-.51-2.665,5.613,5.613,0,0,0-3.21-3.21,8.057,8.057,0,0,0-2.665-.51C15.386,1.014,15.013,1,12.032,1Z" fill="#00538b"/><path d="M12.032,6.342a5.637,5.637,0,1,0,5.636,5.637A5.637,5.637,0,0,0,12.032,6.342Zm0,9.3a3.659,3.659,0,1,1,3.658-3.659A3.659,3.659,0,0,1,12.032,15.638Z" fill="#00538b"/><circle cx="17.891" cy="6.119" r="1.317" fill="#00538b"/></svg>\n                    </a>\n                </div>\n            </div>\n        '}},{key:"createCopyRightLinks",value:function(t){var e=["data-".concat(this.locale,"-url"),"data-".concat(this.locale,"-text")],n=window.getAttributesFromLink(null==t?void 0:t.localizedLink,e);return"\n            ".concat(n[0]?'\n                <li class="footer__utility-links-list--item">\n                    <a class="footer__utility-links-list--link invert-decoration" \n                        data-track="footer"\n                        data-track-id="'.concat(window.convertStringToKebabCase(t.title),'"\n                        ').concat((null==t?void 0:t.localizedLink)||"",'\n                        href="').concat(n[0]||t.url,'">\n                            ').concat(n[1]||t.title,"\n                    </a>\n                 </li>"):'\n                <li class="footer__utility-links-list--item '.concat(null==t?void 0:t.styleClass,'">\n                    <a class="footer__utility-links-list--link invert-decoration" \n                        data-track="footer" \n                        data-track-id="').concat(window.convertStringToKebabCase(t.title),'" \n                        ').concat((null==t?void 0:t.localizedLink)||"",'\n                        href="').concat(t.url,'">\n                            ').concat(t.title,"\n                    </a>\n                </li>\n            "),"\n        ")}},{key:"isLocaleIn",value:function(){return"in"==this.locale.toLowerCase()}},{key:"createUKCopyright",value:function(){return'\n            <div class="footer__utility-links-copyright-section">\n                <div class=""> \n                Book with Confidence \n                    <svg viewBox="0 0 24 8" id="logo-abta"><title>abta</title><path d="M13.763,6.7H12.179V1.707h1.56A1.337,1.337,0,0,1,15.209,3a1.119,1.119,0,0,1-.6,1.038v.015a1.094,1.094,0,0,1,.923,1.136A1.561,1.561,0,0,1,13.763,6.7ZM13.611,2.48H13.1v1.3h.485a.663.663,0,0,0,.712-.682A.61.61,0,0,0,13.611,2.48Zm.174,2.067H13.1V5.926h.584c.613,0,.916-.274.916-.727C14.6,4.812,14.3,4.547,13.785,4.547Z"></path><path d="M19.211,2.472h-1.33V6.7h-.924V2.472H15.511V1.707h4Z"></path><path d="M10.785,6.7l-.494-1.251H8.51L8.048,6.7H7.13L9.061,1.705h.687l2,4.993ZM9.6,3.551a4.974,4.974,0,0,1-.189-.62H9.4a3.946,3.946,0,0,1-.182.606L8.791,4.7h1.214Z"></path><path d="M22.219,6.7l-.493-1.251H19.944L19.482,6.7h-.918L20.5,1.705h.687l2,4.993ZM21.037,3.551a5.184,5.184,0,0,1-.19-.62h-.008a3.946,3.946,0,0,1-.182.606L20.225,4.7h1.214Z"></path><path d="M4.045,1.028c-.095,0-.189,0-.282.014v.485h0v5.33h0v.19c.093.009.187.014.282.014a3.017,3.017,0,0,0,0-6.033Zm1.1,3.292a4.124,4.124,0,0,1-.075.563H4.366V4.32Zm-.782-.563V3.193h.7a4.139,4.139,0,0,1,.077.564Zm1.375.563h.707a2.406,2.406,0,0,1-.132.563H5.665A4.124,4.124,0,0,0,5.741,4.32Zm0-.563a3.989,3.989,0,0,0-.079-.564h.65a2.446,2.446,0,0,1,.136.564ZM6.008,2.63H5.5a3.653,3.653,0,0,0-.384-.756A2.423,2.423,0,0,1,6.008,2.63Zm-1.1,0H4.366V1.648A3.663,3.663,0,0,1,4.908,2.63ZM4.366,6.443v-1h.547a3.64,3.64,0,0,1-.546,1Zm.754-.231a3.687,3.687,0,0,0,.385-.766h.512A2.433,2.433,0,0,1,5.12,6.212Z"></path><path d="M3.477,3.476V3.247L2.033,1.8c-.08.072-.157.148-.229.227L3.25,3.476Z"></path><path d="M3.477,4.6v.229L2.033,6.271c-.08-.073-.157-.149-.229-.229L3.25,4.6Z"></path><path d="M3.477,3.764H1.042c-.009.092-.014.186-.014.28s0,.189.014.281H3.477Z"></path><path d="M1.646,2.222a2.992,2.992,0,0,0-.558,1.254H2.9Z"></path><path d="M3.477,2.9V1.087a2.985,2.985,0,0,0-1.253.557Z"></path><path d="M2.225,6.429a2.989,2.989,0,0,0,1.252.558V5.176Z"></path><path d="M2.9,4.6H1.088a3,3,0,0,0,.558,1.254Z"></path></svg>\n                    <svg viewBox="0 0 24 15" id="logo-clia"><title>CLIA</title><path d="M11.342,7.3h1.619v6.477H11.342Z"></path><path d="M6.846,7.3H8.465v5.113h2.529v1.364H6.846Z"></path><path d="M5.412,9.412a1.427,1.427,0,0,0-1.3-.943c-.863,0-1.551.582-1.551,1.992,0,.917.37,1.993,1.6,1.993a1.532,1.532,0,0,0,1.287-.882l1.243.6a2.914,2.914,0,0,1-2.53,1.6A3.133,3.133,0,0,1,.987,10.461a3.061,3.061,0,0,1,3.05-3.314,2.833,2.833,0,0,1,2.627,1.64Z"></path><polygon points="15.484 7.299 13.503 7.299 13.498 13.77 15.118 13.77 15.123 9.639 17.983 13.792 20.235 13.79 15.484 7.299"></polygon><path d="M6.4,5.178a19.962,19.962,0,0,1,1.856-1.8c.362-.306.749-.615,1.192-.926.222-.156.454-.312.709-.467s.528-.312.839-.463a5.967,5.967,0,0,1,1.073-.41,3.449,3.449,0,0,1,.593-.106,1.744,1.744,0,0,1,.472.019.606.606,0,0,1,.442.271.433.433,0,0,1,.056.184.555.555,0,0,1-.02.2c-.027.01-.108-.6-1.536-.195A10.75,10.75,0,0,0,8.526,3.454,24.29,24.29,0,0,0,5.185,6.645C5.164,6.648,5.869,5.764,6.4,5.178Z"></path><path d="M5.431,5.088a12.048,12.048,0,0,1,.883-1.3c.18-.229.375-.465.606-.711.115-.123.236-.249.373-.378s.284-.263.456-.4a4.348,4.348,0,0,1,.613-.414,2.6,2.6,0,0,1,.359-.165,1.371,1.371,0,0,1,.3-.076.415.415,0,0,1,.323.063.246.246,0,0,1,.066.088.269.269,0,0,1,.019.112c-.015.01-.285-.168-1.051.254A6.81,6.81,0,0,0,6.506,3.808,20.179,20.179,0,0,0,4.653,6.531C4.64,6.536,5.19,5.5,5.431,5.088Z"></path><path d="M7.174,5.559a28.716,28.716,0,0,1,2.809-1.85c.535-.307,1.1-.613,1.741-.912.319-.15.651-.3,1.011-.442s.745-.285,1.173-.415a8.358,8.358,0,0,1,1.447-.311,4.781,4.781,0,0,1,.766-.027,2.191,2.191,0,0,1,.582.1.674.674,0,0,1,.473.4.517.517,0,0,1,.018.231.676.676,0,0,1-.082.241c-.036.007.045-.625-1.841-.381a15.441,15.441,0,0,0-4.945,1.558A26.474,26.474,0,0,0,5.5,6.952,19.533,19.533,0,0,1,7.174,5.559Z"></path><path d="M17.043,9.214l.452.607a32.575,32.575,0,0,0,5.4-5.917,8.324,8.324,0,0,0-3.167-.679C13,3,5.847,7.229,5.847,7.229a19.791,19.791,0,0,1,9.066-2.448,6,6,0,0,1,2.41.4,1.546,1.546,0,0,1,.74,1.968A7.227,7.227,0,0,1,17.043,9.214Z"></path><polygon points="15.794 10.832 15.981 11.109 15.251 11.694 15.251 11.445 15.794 10.832"></polygon><path d="M5.847,7.229a26.7,26.7,0,0,1,3.831-1.6V5.522l-.349.109L8.92,5.78l-.979.365-1.017.5Z"></path></svg>\n                    <svg viewBox="0 0 24 24" id="logo-atol"><title>ATOL</title><path d="M16.3,13.569a4.546,4.546,0,0,1-3.776-2.527c-1.731-3.448,1.87-5.3,1.87-5.3l3.2.568Z"></path><polygon points="8.421 14.408 8.961 14.505 8.771 14.036 8.421 14.408"></polygon><path d="M11.219,12.251a5.748,5.748,0,0,1-.8-7.2L8.665,4.739,6.707,15.848l8.907,1.569.59-3.32A6.358,6.358,0,0,1,11.219,12.251ZM9.15,14.956l-.1-.244-.785-.14-.183.194-.463-.082.947-.937.5.089.561,1.206Zm2.449-.475-.635-.113-.157.882-.447-.079.157-.882-.638-.113.034-.19,1.72.3ZM13.353,15.6a1.564,1.564,0,0,1-.718,0,1.565,1.565,0,0,1-.673-.249.49.49,0,0,1-.245-.5.482.482,0,0,1,.4-.385,1.553,1.553,0,0,1,.718,0,1.552,1.552,0,0,1,.673.248.481.481,0,0,1,.243.5A.489.489,0,0,1,13.353,15.6Zm2.138.478L14,15.817l.19-1.072.444.079-.157.879,1.052.187Z"></path><path d="M12.8,14.662a.791.791,0,0,0-.438.023.331.331,0,0,0-.1.558.8.8,0,0,0,.4.173.787.787,0,0,0,.435-.023.335.335,0,0,0,.1-.559A.784.784,0,0,0,12.8,14.662Z"></path><path d="M1.209,10.153A10.979,10.979,0,1,0,13.927,1.248,10.991,10.991,0,0,0,1.209,10.153Zm9.029,12.019a10.269,10.269,0,1,1,11.9-8.33h0A10.28,10.28,0,0,1,10.238,22.172Zm12.594-8.207Z"></path><path d="M2.605,14.426c-.016-.084-.028-.167-.051-.249s-.054-.16-.082-.239L4.7,13.33l.218.8c.123.452.008.745-.36.846-.578.158-.817-.231-.977-.816Zm1.157-.316a1.246,1.246,0,0,0,.081.208.431.431,0,0,0,.521.169c.26-.071.4-.251.35-.421l-.055-.2Z"></path><path d="M5.249,15.128l.364.619a1.348,1.348,0,0,1,.218.5.5.5,0,0,1-.267.5.6.6,0,0,1-.789-.146c-.186.324-.347.661-.515.994l-.114.219c-.045-.091-.087-.183-.14-.273s-.111-.169-.168-.253l.407-.7c.053-.09.139-.25.211-.378l-.011-.021-.933.548c-.037-.076-.071-.154-.114-.227s-.094-.14-.142-.209Zm-.679.985a.425.425,0,0,0,.683.212.9.9,0,0,0,.137-.1c.213-.188.062-.392-.042-.569Z"></path><path d="M5.576,19.375a1.137,1.137,0,0,1-.145-1.726,1.21,1.21,0,0,1,1.8-.038,1.14,1.14,0,0,1,.148,1.723A1.226,1.226,0,0,1,5.576,19.375Zm.211-1.284a.779.779,0,0,0-.065,1.143c.39.342.907.1,1.276-.316a.813.813,0,0,0,.082-1.169C6.728,17.441,6.284,17.523,5.787,18.091Z"></path><path d="M8.4,21.069c-.075-.039-.148-.082-.225-.116s-.159-.057-.239-.085l.823-1.9a4.528,4.528,0,0,0-.594-.206,1.036,1.036,0,0,0,.073-.126,1.075,1.075,0,0,0,.04-.137l1.593.689a1.1,1.1,0,0,0-.072.123,1.111,1.111,0,0,0-.042.14,5.034,5.034,0,0,0-.535-.283Z"></path><path d="M11.48,19.466a.618.618,0,0,0-.048.286,4.764,4.764,0,0,0-.76-.177l-.121.714.346.059a3.072,3.072,0,0,0,.413.039,1.051,1.051,0,0,0-.04.14,1.013,1.013,0,0,0-.008.146,3.065,3.065,0,0,0-.4-.1l-.345-.059-.143.844a6.325,6.325,0,0,0,.775.084,1.124,1.124,0,0,0-.041.14,1,1,0,0,0-.007.145l-1.266-.214.384-2.263Z"></path><path d="M13.892,21.237l-.045.3a1.482,1.482,0,0,1-.65.209,1.156,1.156,0,0,1-1.371-1.008,1.216,1.216,0,0,1,1.211-1.4,1.5,1.5,0,0,1,.7.1c-.019.117-.028.233-.043.353l-.047,0a.7.7,0,0,0-.587-.254c-.557.054-.73.609-.682,1.1.056.573.376.948.893.9a.947.947,0,0,0,.576-.309Z"></path><path d="M15.8,21c-.081.025-.163.046-.242.077s-.153.071-.229.108l-.757-1.929a4.651,4.651,0,0,0-.566.273.608.608,0,0,0-.105-.267l1.616-.633a.92.92,0,0,0,.036.137.983.983,0,0,0,.068.129,5.173,5.173,0,0,0-.578.176Z"></path><path d="M16.858,17.7a1.052,1.052,0,0,0,.069.128,1.111,1.111,0,0,0,.1.108,4.837,4.837,0,0,0-.664.41l.418.592.286-.2a3.056,3.056,0,0,0,.322-.263,1.052,1.052,0,0,0,.069.128,1,1,0,0,0,.1.109,2.949,2.949,0,0,0-.357.214l-.286.2.493.7a6.293,6.293,0,0,0,.609-.487,1.219,1.219,0,0,0,.07.128,1,1,0,0,0,.1.109l-1.049.74-1.322-1.876Z"></path><path d="M17.907,16.538a.994.994,0,0,1,1.479-.127,1.157,1.157,0,0,1,.191,1.714l-.585.74-1.8-1.423Zm1.245,1.809.178-.224c.288-.365.325-.787-.293-1.276-.5-.392-.879-.312-1.173.061l-.205.259Z"></path><path d="M11.576,3.193l-.416-.026a.322.322,0,0,0-.045-.2.23.23,0,0,0-.154-.089.28.28,0,0,0-.248.081,1.027,1.027,0,0,0-.2.48.5.5,0,0,1,.426-.118.612.612,0,0,1,.417.282.739.739,0,0,1,.1.553.761.761,0,0,1-.294.508.736.736,0,0,1-1.05-.242,1.364,1.364,0,0,1-.064-.888,1.386,1.386,0,0,1,.378-.834.732.732,0,0,1,.629-.164.621.621,0,0,1,.391.214A.663.663,0,0,1,11.576,3.193Zm-1.12.753a.488.488,0,0,0,.039.335.286.286,0,0,0,.2.15.253.253,0,0,0,.212-.058.464.464,0,0,0,.131-.286.5.5,0,0,0-.027-.33.273.273,0,0,0-.194-.137.265.265,0,0,0-.223.059A.414.414,0,0,0,10.456,3.946Z"></path><path d="M13.059,4.766l-.069.392L11.51,4.9a1.021,1.021,0,0,1,.219-.4,2.829,2.829,0,0,1,.568-.445,2.862,2.862,0,0,0,.413-.3.47.47,0,0,0,.133-.242.3.3,0,0,0-.037-.231.29.29,0,0,0-.2-.113.28.28,0,0,0-.225.043.409.409,0,0,0-.137.248l-.414-.116a.7.7,0,0,1,.325-.459.808.808,0,0,1,.522-.065.727.727,0,0,1,.481.266.578.578,0,0,1,.109.471.75.75,0,0,1-.1.274,1.163,1.163,0,0,1-.218.252,2.729,2.729,0,0,1-.327.232c-.155.1-.253.165-.3.2a.754.754,0,0,0-.107.1Z"></path><path d="M13.375,4.7l.416.027a.309.309,0,0,0,.046.2.237.237,0,0,0,.155.09.28.28,0,0,0,.245-.081,1.032,1.032,0,0,0,.2-.479.5.5,0,0,1-.43.115.6.6,0,0,1-.413-.28.737.737,0,0,1-.1-.555A.754.754,0,0,1,13.8,3.23a.734.734,0,0,1,1.048.241,1.358,1.358,0,0,1,.064.891,1.374,1.374,0,0,1-.377.832.73.73,0,0,1-.631.164.632.632,0,0,1-.394-.21A.675.675,0,0,1,13.375,4.7Zm1.118-.755a.482.482,0,0,0-.038-.334.283.283,0,0,0-.2-.151.253.253,0,0,0-.212.058.479.479,0,0,0-.131.29.5.5,0,0,0,.028.328.273.273,0,0,0,.194.137.259.259,0,0,0,.222-.06A.422.422,0,0,0,14.493,3.946Z"></path><path d="M15.817,5.656l.079-.443-.9-.159.065-.369,1.2-1.232.354.063-.246,1.4.275.048-.066.371L16.3,5.285l-.078.444Zm.144-.814.133-.753-.64.663Z"></path></svg>\n                </div>\n                <p>Princess Cruises is a member of ABTA, (membership number V8764) which means you have the benefit of ABTAs assistance and Code of Conduct. You can use ABTA\'s approved Alternative Dispute Resolution (ADR) process if you have a complaint that is not resolved. For more information please see <a href="https://www.abta.com" target="_blank">www.abta.com</a>. Our cruise holidays are <a href="https://www.princess.com/legal/consumer_protection/" target="_blank">ATOL protected</a> (No. 6294). </p>  2023, Carnival plc trading as Princess Cruises. <br> Carnival plc is a company registered in England and Wales with company number 04039524 whose registered office is at Carnival House, 100 Harbour Parade, Southampton, Hampshire, United Kingdom, SO15 1ST. VAT Number: GB761430058. All Rights Reserved. Site content may not be reproduced without express written permission. <a href="https://book.princess.com/captaincircle/customerCare.page" class="no-wrap">Contact us here.</a>\n                <div class="footer__utility-links-copyright-section--one-source">\n                    <a href="https://www.completecruisesolution.com/Login.aspx"\n                     data-track="footer" \n                     data-track-id="OneSource Travel Agent Center">\n                        <img src="'.concat($wwwURL,'/images/global/ccs_logo.png" alt="Complete Cruise Solution">\n                     </a>\n                 </div>\n            </div>\n        ')}},{key:"createAUNZCopyright",value:function(){return'\n            <div class="footer__utility-links-copyright-section">\n                <div>    \n                     2023, Princess Cruise Lines, Ltd. All Rights Reserved. \n                    Site content may not be reproduced without express written permission.\n                </div>   \n                <div class="footer__utility-links-copyright-section--one-source">\n                    <a href="http://www.wlcl.co.nz"\n                    data-track="footer" \n                    data-track-id="OneSource Travel Agent Center">\n                        <img src="'.concat($wwwURL,'/images/global/WLCL.png" alt="Travel Agents: Worlds Leading Cruise Lines">\n                    </a>\n                </div>\n            </div>\n        ')}},{key:"createCopyright",value:function(){return"uk"==this.locale.toLowerCase()?this.createUKCopyright():"au"==this.locale.toLowerCase()||"nz"==this.locale.toLowerCase()?this.createAUNZCopyright():this.createGeneralCopyright()}},{key:"createGeneralCopyright",value:function(){return'\n        <div class="footer__utility-links--button-section">\n                        <a class="affiliates-button invert-decoration '.concat(this.isLocaleIn()?"hidden":"",'" \n                           href="').concat($bookURL,'/affiliates/login.page">Corporate Affiliates Log In</a>\n                        <div class="footer__utility-links--travel-agent-logo">\n                            <a href="https://www.onesourcecruises.com/onesource/login" \n                            data-track="footer" \n                            data-track-id="OneSource Travel Agent Center">\n                             <img src="').concat($wwwURL,'/images/global/os_logo_2.svg" \n                             alt="OneSource Travel Agent Center"/>\n                             </a>\n                         </div>\n                         <div class="footer__utility-links--barclay-visa ').concat(this.isLocaleIn()?"hidden":"",'">\n                            <a class="invert-decoration" data-track="footer" \n                            data-track-id="More about Princess Cruises Rewards Visa Card"\n                            href="https://cards.barclaycardus.com/banking/credit-card/princess/visa-signature/banner/14fb380c-21ed-414c-9271-70bd14169cf5/?referrerid=PCLFooterBanner">\n                            <img src="').concat($wwwURL,'/images/global/Visa.png" \n                             alt="Apply for the Princess Rewards Visa Card"/>\n                            Apply for the Princess Rewards Visa Card\n                            </a>\n                         </div>\n                    </div>\n                    <p class="footer__utility-links--copyright">\n                        &copy; ').concat(this.currentYear,", Princess Cruises Lines, Ltd. All Rights Reserved. Site content may not be reproduced without express written permission.\n                    </p>\n                </div>\n\n        ")}},{key:"createUtilityLinks",value:function(t){var e=this;return'\n                <div class="footer__utility-links">\n                    <ul aria-label="More information section" class="footer__utility-links-list no-list-style">\n                        '.concat(t[0].navlinks.map((function(t){return e.createCopyRightLinks(t)})).join(""),"\n                    </ul>\n                    ").concat(this.createCopyright(),"\n                </div>\n\n        ")}},{key:"buildTemplate",value:function(t,e){var n=this,a=document.createElement("template");return a.innerHTML='\n            <link rel="stylesheet" href="'.concat(this.getAttribute("baseurl")||$wwwURL,'/css/global/princess-normalize.css" />\n            <link rel="stylesheet" href="').concat(this.getAttribute("baseurl")||$wwwURL,'/css/global/web-components/pcl-global-footer/pcl-global-footer.css" />\n            ').concat(this.createSocialIcons(),'\n            <footer class="footer">\n                <div class="footer-navigation">\n                    ').concat(t.map((function(e,a){return'<div class="footer-navigation-col-container">\n                            '.concat(e.map((function(t){return n.createFooterNavItem(t)})).join(""),"\n                            ").concat(a===t.length-1?n.createNavAppLinks():"","\n                        </div>")})).join(""),"\n                </div>\n                ").concat(this.createUtilityLinks(e),"\n              </footer>\n        "),a}}]),n}();window.customElements.get("pcl-global-footer")||customElements.define("pcl-global-footer",PclGlobalFooter);


function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var o,n=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(o,e)},_wrapNativeSuper(e)}function _construct(e,t,o){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,t,o){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return o&&_setPrototypeOf(r,o.prototype),r},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}var PclSystemOutage=function(e){_inherits(o,_wrapNativeSuper(HTMLElement));var t=_createSuper(o);function o(){return _classCallCheck(this,o),t.call(this)}return _createClass(o,[{key:"connectedCallback",value:function(){var e=document.createElement("template");e.innerHTML='<div id="pcl-system-outage"></div>',this.attachShadow({mode:"open"}).appendChild(e.content.cloneNode(!0)),this.init()}},{key:"init",value:function(){var e=this;this.shadowRoot.querySelector("#pcl-system-outage")&&"".concat(window.linkStylesheet("".concat($wwwURL,"/css/global/web-components/pcl-system-outage/pcl-system-outage.css")).then((function(){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","".concat($wwwURL,"/css/global/web-components/pcl-system-outage/pcl-system-outage.css")),e.shadowRoot.prepend(t)}),(function(){return console.error("style could not be loaded")})).then((function(){window.linkStylesheet("".concat($wwwURL,"/css/global/princess-normalize.css")).then((function(){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","".concat($wwwURL,"/css/global/princess-normalize.css")),e.shadowRoot.prepend(t)})).then((function(){e.render()}))})),")\n            }")}},{key:"render",value:function(){var e=this,t=this.cookie().serialized,o=this.cookie().parsed,n=this.cookie().cookie,r="".concat($wwwURL,"/util/getOutage.do?brandName=PC");t&&n?o.data&&(sessionStorage.getItem("alert-closed")||this.checkOutagePeriod(o)):fetch(r).then((function(e){return e.json()})).then((function(t){e.processResponse(t)}))}},{key:"cookie",value:function(){var e=docCookies.getItem(guestProfile.cookieName("pcl_systemOutage")),t=localStorage.getItem("pcl_systemOutage");return{cookie:e,serialized:t,parsed:JSON.parse(t)}}},{key:"formatData",value:function(e){var t=this,o=this.formatDateTime(e[0]).start,n=this.formatDateTime(e[0]).end,r={start:{},end:{}};return e.forEach((function(a){t.formatDateTime(a).start<=o&&(o=t.formatDateTime(a).start,r.start.date=o.getMonth()+1+"/"+o.getDate(),r.start.time=a.outageStartTime,r.start.full=o,r.start.timezone=timezone.getPacificTimezone(o)),t.formatDateTime(a).end>=n&&(n=t.formatDateTime(a).end,r.end.date=n.getMonth()+1+"/"+n.getDate(),r.end.time=a.outageEndTime,r.end.full=n,r.end.timezone=timezone.getPacificTimezone(n)),r.sitewide=!!e.message})),r}},{key:"formatDateTime",value:function(e){var t="".concat(e.outageStartDate," ").concat(e.outageStartTime.slice(0,5),":00 ").concat(e.outageStartTime.slice(5,7)),o="".concat(e.outageEndDate," ").concat(e.outageEndTime.slice(0,5),":00 ").concat(e.outageEndTime.slice(5,7));return{start:timezone.getConvertedDateTime(t),end:timezone.getConvertedDateTime(o)}}},{key:"checkOutagePeriod",value:function(e){var t=this.getOutageMessage(e),o=new Date,n=new Date(new Date(e.start.full).getTime()-864e5),r=new Date(e.end.full);o>=n&&o<r&&this.buildTemplate(t)}},{key:"getOutageMessage",value:function(e){return(e.sitewide?"Princess.com will be down for scheduled service between ":"Sections of our website will be unavailable due to scheduled maintenance between ")+"".concat(e.start.time," ").concat(e.start.timezone)+(e.start.date!==e.end.date?" on "+e.start.date:" ")+" and ".concat(e.end.time," ").concat(e.end.timezone,"  on ").concat(e.end.date)+(e.sitewide?", but we'll set sail soon!":"")}},{key:"processResponse",value:function(e){if(e.data){var t=e.data;if(t.length){var o=this.formatData(t),n={data:t,status:e.status,numberOfOutages:t.length,start:o.start,end:o.end,sitewide:o.sitewide};docCookies.setItem(guestProfile.cookieName("pcl_systemOutage"),!0,900,"/","princess.com"),localStorage.setItem("pcl_systemOutage",JSON.stringify(n)),this.checkOutagePeriod(o)}else docCookies.setItem(guestProfile.cookieName("pcl_systemOutage"),!1,14400,"/","princess.com"),localStorage.setItem("pcl_systemOutage","No outages available")}else docCookies.setItem(guestProfile.cookieName("pcl_systemOutage"),!1,14400,"/","princess.com"),localStorage.setItem("pcl_systemOutage",JSON.stringify(e.message))}},{key:"buildTemplate",value:function(e){var t=this;this.shadowRoot.querySelector("#pcl-system-outage").innerHTML='\n            <div class="system-outage">\n               <div class="system-outage__alert-bar">\n                    <div class="container white">\n                        <div class="system-outage__alert-bar--icon">\n                            <svg id="icon-warning" xmlns="http://www.w3.org/2000/svg" width="24" height="22" viewBox="0 0 24 22"><title>icon-warning</title><path d="M22.78,18.27,13.432,2.08a1.65,1.65,0,0,0-2.858,0L1.227,18.27a1.65,1.65,0,0,0,1.429,2.475h18.7A1.65,1.65,0,0,0,22.78,18.27ZM12.926,6.249l-.141,7.83H11.163l-.123-7.83ZM13.05,18.24h-2.1V16.3h2.1Z" fill-rule="evenodd"/></svg>\n                        </div>\n                        <div class="system-outage__alert-bar--text">\n                           <span class="message white text-left gotham-xn-book">\n                                '.concat(e,'\n                            </span>\n                        </div>\n                        <div class="system-outage__alert-bar--close">\n                            <button>\n                                <svg id="icon-open-close" viewBox="0 0 24 24">\n                                    <title>open / close icon</title><path fill-rule="evenodd" d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm6.2,16.12a.75.75,0,1,1-1.06,1.06L12,13.06,6.88,18.19a.75.75,0,0,1-1.06-1.06L10.95,12,5.82,6.87A.75.75,0,0,1,6.88,5.81L12,10.94l5.13-5.13a.75.75,0,1,1,1.06,1.06L13.07,12Z"></path>\n                                </svg>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        '),this.closeButton$=this.shadowRoot.querySelector(".system-outage__alert-bar--close"),this.closeButton$.addEventListener("click",(function(){return t.shadowRoot.querySelector("#pcl-system-outage").classList.add("hidden"),sessionStorage.setItem("alert-closed",!0),!0}))}}]),o}();customElements.define("pcl-system-outage",PclSystemOutage);


//# sourceMappingURL=./princess-plugins.combined.js.map
