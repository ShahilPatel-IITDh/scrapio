/*! For license information please see main.js.LICENSE.txt */
(self.webpackChunkeffect=self.webpackChunkeffect||[]).push([[522],{258:(t,e,n)=>{"use strict";var i=n(279),r=n.n(i),o=n(755),a={init:function(){document.body.classList.contains("home")&&(a.initTiles(),a.updateTip(),window.addEventListener("resize",r()(a.updateTip,100)))},initTiles:function(){var t=document.querySelector(".home-tile-filters");t&&t.querySelectorAll("[data-filter]").forEach((function(e){e.addEventListener("click",(function(n){n.preventDefault();var i=e.getAttribute("data-filter");t.querySelectorAll("[data-filter]").forEach((function(t){t.classList.remove("active")})),e.classList.add("active"),t.querySelectorAll(".filter").forEach((function(t){t.classList.remove("active")})),t.querySelectorAll(".filter--".concat(i)).forEach((function(t){t.classList.add("active")})),a.updateTip(),a.updateUrl(e)}))}))},updateTip:function(){if(o(".filter-tabs__menu:not(.filter-tabs__menu--no-tip)").length>0){var t=o(".filter-tabs__menu").find("a.button.active"),e=o(".filter-tabs__tip"),n=t.offset().left+t.outerWidth()/2;e.css({left:n+"px"})}},updateUrl:function(t){var e=t.href.match(/https?:\/\/(?:.*?)(\/.*$)/);if(e&&e[1])try{ga("set","page",e[1]),ga("send","pageview")}catch(t){}Modernizr.history&&history.pushState(null,null,t.href)}};const s=a;var l=n(130);function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}var d=function(t){return t&&"object"===u(t)&&!Array.isArray(t)},f=function t(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(!i.length)return e;var o=i.shift();if(d(e)&&d(o))for(var a in o)d(o[a])?(e[a]||Object.assign(e,c({},a,{})),t(e[a],o[a])):Object.assign(e,c({},a,o[a]));return t.apply(void 0,[e].concat(i))},m=function(t){return t instanceof HTMLElement?t:document.querySelector(t)};function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==p(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===p(o)?o:String(o)),i)}var r,o}var h=n(305),y=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.domEl=m(this.el),this.config=f(t.defaults(),n),this.form=null,this.submit=null,this.submitHandler=this.onSubmitForm.bind(this),window.addEventListener("DOMContentLoaded",(function(){i.domEl&&i.init()}))}var e,n,i;return e=t,i=[{key:"defaults",value:function(){return{submit:"[data-validation-submit]",pristine:{classTo:"pristine-group",errorClass:"error",successClass:"success",errorTextParent:"pristine-group",errorTextTag:"span",errorTextClass:"validation-advice"}}}}],(n=[{key:"init",value:function(){this.initFormValidation(),this.handleFormSubmission()}},{key:"initFormValidation",value:function(){var t=this.config.pristine;this.form=new h(this.domEl,t,!0)}},{key:"handleFormSubmission",value:function(){var t=this.config.submit;this.submit=document.querySelector(t),this.submit.addEventListener("click",this.submitHandler)}},{key:"onSubmitForm",value:function(t){t.preventDefault(),this.validate()||t.stopImmediatePropagation()}},{key:"validate",value:function(){return this.form.validate()}},{key:"destroy",value:function(){this.form.destroy(),this.submit.removeEventListener("click",this.submitHandler),this.form=null,this.submit=null}}])&&v(e.prototype,n),i&&v(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();const g=y;function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var w,S={};S.els=function(t){if(Array.isArray(t))return b(t)}(w=document.querySelectorAll(".cart"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(w)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),S.notifyEl=document.querySelector(".notify"),S.count=[],S.ping=function(){S.els.forEach((function(t){t.classList.remove("cart--active");var e=setTimeout((function(){t.classList.add("cart--active"),clearTimeout(e)}),250)}))},S.notify=function(){S.show();var t=setTimeout((function(){S.hide(),clearTimeout(t)}),5e3)},S.show=function(){S.notifyEl.classList.add("notify--active")},S.hide=function(){S.notifyEl.classList.remove("notify--active")};const L=S;function k(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var A={init:function(){A.registerGiftVoucherDatePicker(),A.initGiftVoucherFormValidation(),A.handleComponentSubmission("spektrix-donate"),A.handleComponentSubmission("spektrix-gift-vouchers"),A.handleComponentSubmission("spektrix-memberships")},handleComponentSubmission:function(t){k(document.querySelectorAll(t)).forEach((function(t){t.addEventListener("success",(function(e){t.querySelector(".wc-inner").classList.add("hidden"),L.ping(),L.notify()}))}))},registerGiftVoucherDatePicker:function(){var t=document.querySelector("#datepicker");if(t){var e=t.closest("spektrix-gift-vouchers"),n=new l.a(t,{format:"dd/mm/yyyy"});t.addEventListener("changeDate",(function(){var t=n.getDate("yyyy-mm-dd");e.sendDate=new Date(t)}))}},initGiftVoucherFormValidation:function(){var t=document.querySelector("[data-delivery-type]"),e=document.querySelector("[data-delivery-email-address]"),n=new g("#vouchery",{submit:"[data-submit-gift-voucher]"});t&&t.addEventListener("change",(function(t){"OtherEmail"===t.target.value?e.dataset.pristineRequired="":e.removeAttribute("data-pristine-required"),n.destroy(),n.init()}))}};const T=A;var j=n(311),q=n(436),I={elements:null,instance:{root:null,markers:null},icons:{selector:".map_icon"},init:function(){(I.elements=document.querySelectorAll("#map"),I.elements.length)&&new j.aN({apiKey:window.themosis.google_maps_api_key,version:"weekly",libraries:[]}).load().then((function(){return I.elements.forEach(I.newInstance)})).catch((function(t){console.error(t)}))},newInstance:function(t){var e=t.querySelectorAll(".marker"),n=t.dataset.zoom?Number(t.dataset.zoom):12,i=!!t.dataset.disableUi&&Boolean(t.dataset.disableUi),r={scrollwheel:!1,zoom:n,center:new google.maps.LatLng(0,0),mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:i,mapTypeControl:!1},o=new google.maps.Map(t,r);return o.markers=[],(0,q.Z)(e,(function(t){I.addMarker(t,o)})),I.centerMap(o),o},addMarker:function(t,e){var n=new google.maps.LatLng(t.dataset.lat,t.dataset.lng),i={url:t.dataset.icon?t.dataset.icon:null,scaledSize:new google.maps.Size(35,48)};i.url||(i=null);var r=new google.maps.Marker({position:n,map:e,icon:i,title:t.dataset.title?t.dataset.title:null,activity:t.dataset.activity?t.dataset.activity:null,classList:t.classList});t.dataset.activity&&r.setVisible(!1),e.markers.push(r);var o=new google.maps.InfoWindow({content:t.innerHTML});t.innerHTML&&(google.maps.event.addListener(r,"click",(function(){o.open(e,r)})),google.maps.event.addListener(e,"click",(function(){o&&o.close()})))},centerMap:function(t){var e=new google.maps.LatLngBounds;if(t.markers.forEach((function(t){var n=new google.maps.LatLng(t.position.lat(),t.position.lng());e.extend(n)})),1===t.markers.length){var n=t.markers[0];if(t.setCenter(e.getCenter()),n.panX||n.panY){var i={x:n.panX?n.panX:0,y:n.panY?n.panY:0};t.panBy(i.x,i.y)}}else t.fitBounds(e)}};const C=I;var M={init:function(){M.validateForm()},validateForm:function(){var t=document.querySelector("#performance-form");t&&t.addEventListener("submit",(function(e){new FormData(t).get("performance")||e.preventDefault()}))}};const N=M;var O=n(755);n(161);var D={listingGrid:document.querySelectorAll(".listing--grid"),init:function(){O(".site-body").fitVids({ignore:".fitvidsignore"}),D.listingGrid.length>0&&D.listingGrid.forEach((function(t){var e=t.closest("#gridview");D.revealGridItems(e,"article")}))},revealGridItems:function(t,e){if(t)var n=t.querySelectorAll(e).length,i=0,r=setInterval((function(){var o=t.querySelectorAll(e)[i];o&&(o.classList.add("revealed"),i++),i!==n&&o||clearInterval(r)}),100)}};const x=D;var P=n(755);document.addEventListener("DOMContentLoaded",(function(){s.init(),T.init(),C.init(),N.init(),"function"==typeof P&&x.init()}))},161:(t,e,n)=>{!function(t){"use strict";t.fn.fitVids=function(e){var n={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',i.appendChild(r.childNodes[1])}return e&&t.extend(n,e),this.each((function(){var e=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&e.push(n.customSelector);var i=".fitvidsignore";n.ignore&&(i=i+", "+n.ignore);var r=t(this).find(e.join(","));(r=(r=r.not("object object")).not(i)).each((function(){var e=t(this);if(!(e.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var n=("object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height())/(isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10));if(!e.attr("id")){var r="fitvid"+Math.floor(999999*Math.random());e.attr("id",r)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),e.removeAttr("height").removeAttr("width")}}))}))}}(n(755)||window.Zepto)}},t=>{t.O(0,[898],(()=>{return e=258,t(t.s=e);var e}));t.O()}]);