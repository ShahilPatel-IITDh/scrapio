"use strict";var attachOnce=function(trigger,selector,callback){var key="eventkey"+trigger+","+selector;if(!Red.attachedEvents){Red.attachedEvents={}}
if(Red.attachedEvents.hasOwnProperty(key)){return;}
Red.attachedEvents[key]=true;$(document).on(trigger,selector,callback);};jQuery(function($){var attachOnce=function(trigger,selector,callback){var key="eventkey"+trigger+","+selector;if(!Red.attachedEvents){Red.attachedEvents={}};if(Red.attachedEvents.hasOwnProperty(key)){return;}
Red.attachedEvents[key]=true;$(document).on(trigger,selector,callback);};Util.manageStorage('remove','realGame');Util.manageStorage('remove','mpTourID');function generalLoad(){if(!$('.header-banner .slide-item')[0]){if(!$('.homepage-slideshow').hasClass('error')&&!$('html').hasClass('sportsbook')){$('.all-page').addClass('noHeaderBanner');}
$('.header-banner').hide();}
attachOnce('click','.displayChat',function(){window._qsie=window._qsie||[];window._qsie.push('surveyTestEvent');});$('.carousel-missioninfo').slick({centerMode:false,centerPadding:'100px',slidesToShow:2,dots:true,infinite:false,responsive:[{breakpoint:760,settings:{arrows:false,centerMode:false,centerPadding:'200px',slidesToShow:2}},{breakpoint:544,settings:{arrows:false,centerMode:false,centerPadding:'100px',slidesToShow:1}}]});$('.carousel-footer').slick({centerMode:false,centerPadding:'100px',slidesToShow:1,dots:true,infinite:false,responsive:[{breakpoint:4000,settings:"unslick"},{breakpoint:992,settings:{arrows:false,centerMode:false,slidesToShow:1}},]});var showReasonsLink=$('.showReasons'),openLoginLink=$('a[href$="login"]');showReasonsLink.click(function(e){e.preventDefault();App.vent.trigger('show:reasons');});attachOnce('click','.subscribe, .unsubscribe',function(ev){ev.preventDefault();$.ajax({type:"GET",url:'/subscription/subscribePlayer',dataType:"json",}).done(function(data){if(data.ok){$('a.subscribe, a.unsubscribe').remove();$('.subscribe-confirm, .unsubscribe-confirm').show();}});});attachOnce('click','.mail-sender',function(ev){ev.preventDefault();$.ajax({type:"GET",url:'/api/sendSmartFocusMail',dataType:"json"}).done(function(data){if(data.success){$('.mail-sender').text(data.success);}});});attachOnce('click','.claim-free-games',function(ev){ev.preventDefault();$.ajax({type:"GET",url:'/api/EmailAddFreeSpins',dataType:"json"}).done(function(data){if(data.success){$('.claim-free-games').text(data.success);}else{$('.claim-free-games').text(data.error);}});});attachOnce('click','a[href$="login"]',function(ev){ev.preventDefault();App.vent.trigger('LoginRequested');});attachOnce('click',".logout-button",function(ev){ev.preventDefault();$('html').removeClass('popup-active');App.vent.trigger('logout:submit',App.LoginModule.loginModel);});attachOnce('click',".loyalty-box-icon",function(ev){ev.stopPropagation();ev.preventDefault();App.vent.trigger('show:top-loyalty-box','logged-in .loyalty-box.grey');$(this).next('.loyalty-box.grey').toggleClass('visible');if($('.notifications-list').hasClass('show-all')){$('.notifications-list').removeClass('show-all');$('.notifications-list').hide();}});attachOnce('click','.loyalty-box.grey, .loyalty-box-icon',function(event){event.stopPropagation();});attachOnce('click','html',function(ev){if(!$(ev.target).closest('.loyalty-box.grey')[0]){$('.loyalty-box.grey').removeClass('visible');}});attachOnce('click',".games-section.from-cms .view-all",function(ev){ev.stopPropagation();ev.preventDefault();$(this).toggleClass('less');$('.games-section.from-cms .initial-games').toggleClass('opened');});attachOnce('click',".open-popover",function(ev){if($('html').hasClass('viper')){return;}
var target=$(ev.target).closest('.open-popover'),isIframe=false,content,src=target.attr('href'),width,height;ev.preventDefault();if(target.attr('data-width')){width=target.attr('data-width');}else{width=1024;}
if(target.attr('data-height')){height=target.attr('data-height');}else{height=600;}
if(target.attr('data-title')){var ThemeTitle=target.attr('data-title');}else{var ThemeTitle=Red.ThemeTitle;}
var extraClass=target.attr('data-class')?target.attr('data-class'):"";if(target.hasClass('iframe')){var isIframe=true,content="<h1 class='popover-header'>"+ThemeTitle+"</h1><iframe frameborder='0' src="+src+"></iframe>";}else{content="<h1 class='popover-header'>"+ThemeTitle+"</h1><div class='overlay-content'><div class='loader'>Loading...<picture><img src='/img/loader.svg'/></picture></div></div>";}
var options={iframe:isIframe,content:content,src:src,width:width,height:height,extraClass:extraClass}
App.vent.trigger('show:overlay-message',options);});attachOnce('click',".responsive-popover-wrapper .bonus-optin button",function(ev){ev.stopPropagation();ev.preventDefault();var target=$(ev.target),form=target.closest('form').attr('id'),widgetHolder=target.closest('.bonus-optin').attr('id'),tmpData=$('#'+form).serializeArray().reduce(function(obj,item){obj[item.name]=item.value;return obj;},{}),userData=JSON.parse($.cookie('User'));var showSpinner=function(){$('#'+widgetHolder).find('button[type=submit] .normal-text').addClass('hide').removeClass('show');$('#'+widgetHolder).find('button[type=submit] .loading-text').addClass('show').removeClass('hide');};showSpinner();tmpData['username']=userData.username;tmpData['ajax']=true;tmpData['returnResponse']=true;$.ajax({type:"POST",url:"/api/exit_banner_optin",dataType:"text",data:tmpData}).done(function(data){$('#'+widgetHolder).html(data);});});if($('#confetti')[0]){startConfetti();setTimeout(stopConfetti,7000);}
if($('.spins-promo')[0]&&$('.spins-promo .step.active')[0]){$(window).resize(function(){var $windowWidth=$(window).width();if($windowWidth<544){$('.spins-promo-inner').slick('resize');}});$('.spins-promo-inner').slick({centerMode:false,slidesToShow:3,slidesToScroll:1,dots:true,arrows:true,infinite:false,initialSlide:1,responsive:[{breakpoint:3000,settings:"unslick"},{breakpoint:544,settings:"slick"}]});}
attachOnce('click',".bonus-optin.scratch-card-wrapper button",function(ev){ev.stopPropagation();ev.preventDefault();var target=$(ev.target),form=target.closest('form').attr('id'),bonusForm=$('#'+form),widgetHolder=target.closest('.bonus-optin').attr('id'),tmpData=$('#'+form).serializeArray().reduce(function(obj,item){obj[item.name]=item.value;return obj;},{}),userData=JSON.parse($.cookie('User'));var codeVal=$('#bonus-optin-antanddec-card1scratchcode').val();if(codeVal.length==0){$('.scratch-card-wrapper .error-msg').show();return;}
if($(bonusForm).hasClass('sent')){return;}
var showSpinner=function(){$('#'+widgetHolder).find('button[type=submit] .normal-text').addClass('hide').removeClass('show');$('#'+widgetHolder).find('button[type=submit] .loading-text').addClass('show').removeClass('hide');};showSpinner();$(bonusForm).find('button').prop("disabled",true);$(bonusForm).addClass('sent');tmpData['username']=userData.username;tmpData['ajax']=true;$('#bonus-optin-antanddec-card').load($('#'+form).attr('action'),tmpData);});$(window).off('focus').on('focus',function(){App.vent.trigger('TabFocus');});var acceptLink=$('#locale-redirect-box .accept'),rejectLnk=$('#locale-redirect-box .reject');attachOnce('click',acceptLink,function(e){$.cookie("acceptRedirect",true);});attachOnce('click',rejectLnk,function(e){e.preventDefault();$.cookie("acceptRedirect",false);$('#locale-redirect-box').remove();});attachOnce('click','.active-lang a',function(ev){ev.preventDefault();});$('.products-nav a').each(function(){if(this.host!=document.location.host){$(this).attr('target','_blank');}});$('#base-content').appendTo('#base-content-wrapper');$('#base-content').addClass('visible');if($('#base-content .base-content-inner').children().length<1){$('#base-content').addClass('hidden');}
$('a').on('click',function(){var target=$(this),href=target.attr('href');if(href&&href.split('#')[1]){var scrollElem=$('#'+href.split('#')[1]);if(scrollElem[0]){if($(href+'.accordion-item')[0]){$(href+'.accordion-item').addClass('active');$(href+'.accordion-item').prev('h3').addClass('active');}
$('html, body').animate({scrollTop:$(scrollElem).offset().top-260},1000);}}});$("img").unveil(200,function(){$(this).load(function(){this.style.opacity=1;});});var accordionHolder=$('.accordion');accordionHolder.each(function(){var currentAccordion=$(this);if(currentAccordion.attr('data-active')){currentAccordion.find('> h3').eq($(this).attr('data-active')-1).addClass('active');currentAccordion.find('> h3').eq($(this).attr('data-active')-1).next('.accordion-item').addClass('active');}
if(currentAccordion.hasClass('specialAccordian')){currentAccordion.children('div.accordion-item').each(function(){var currentAccordianItem=$(this);if(currentAccordianItem.hasClass('active')){currentAccordianItem.prev("h3").addClass('active');}
if(currentAccordianItem.hasClass('multi-optin')){currentAccordianItem.find('div.single-game-item').addClass('multi-optin-image-container');}});}});$(document).on("click",'.accordion h3',function(event){var currentAccordion=$(this);if($(this).hasClass('active')){$(this).removeClass('active');$(this).next('.accordion-item').removeClass('active');}else{currentAccordion.find('h3,.accordion-item').removeClass('active');$(this).addClass('active');$(this).next('.accordion-item').addClass('active');}});var tabsHolder=$('.tabs');tabsHolder.each(function(){var currentTabs=$(this),activeTab=currentTabs.attr('data-active');currentTabs.find('.tabs-item').eq(activeTab).addClass('active');currentTabs.find('.tab-nav a').on('click',function(ev){ev.preventDefault();var target=$(ev.target),targetIndex=target.attr('data-tab');currentTabs.find('.tab-nav li,.tabs-item').removeClass('active');currentTabs.find('.tabs-item').eq(targetIndex).addClass('active');target.closest('li').addClass('active');});});$('.carousel-image').slick({centerMode:true,centerPadding:'206px',slidesToShow:1,dots:true,responsive:[{breakpoint:760,settings:{arrows:false,centerMode:true,centerPadding:'40px',slidesToShow:1}},{breakpoint:480,settings:{arrows:false,centerMode:true,centerPadding:'40px',slidesToShow:1}}]});var carouselHolder=$('.carousel-wrapper-text');carouselHolder.each(function(){var currentCarousel=$(this).find('.carousel'),pagination=$(this).find('.slideshow-nav ul'),slidesNo=currentCarousel.find('> *').length,nextArrow=$(this).find('.next'),prevArrow=$(this).find('.prev');if(carouselHolder.attr('data-arrows')==="true"){carouselHolder.addClass('has-arrows');}
var hammerElement=currentCarousel.hammer();hammerElement.on("swipeleft",function(ev){var swipeTarget=$(ev.target).closest('.carousel');onSwipeLeft(swipeTarget,slidesNo,pagination);});hammerElement.on("swiperight",function(ev){var swipeTarget=$(ev.target).closest('.carousel');onSwipeRight(swipeTarget,pagination);});prevArrow.on('click',function(ev){var clickTarget=$(ev.target).closest('.carousel-wrapper').find('.carousel');onSwipeRight(clickTarget,pagination);});nextArrow.on('click',function(ev){var clickTarget=$(ev.target).closest('.carousel-wrapper').find('.carousel');onSwipeLeft(clickTarget,slidesNo,pagination);});if(!pagination.find('li')[0]){generatePagination(slidesNo,$(this));}
currentCarousel.css({'width':100*slidesNo+'%','left':0});currentCarousel.children().css('width',100/slidesNo+"%");currentCarousel.attr('data-slide',0);pagination.children(':eq(0)').addClass('active');pagination.find('li').on('click',function(ev){ev.preventDefault();var target=$(ev.target),currentIdx=$(ev.target).closest('li').index();target.closest('li').siblings().removeClass('active');target.closest('li').addClass('active');currentCarousel.attr('data-slide',currentIdx).css('left',-currentIdx*100+"%");});});function generatePagination(slidesNo,carousel){var view=this,pagination=carousel.find('.slideshow-nav ul');for(var i=0;i<slidesNo;i++){pagination.append('<li><a href="#"></a></li>');}};function onSwipeLeft(swipeTarget,slideNo,pagination){var currentPos=parseInt(swipeTarget.attr('data-slide')),nextPos=currentPos+1;if(currentPos===slideNo-1){nextPos=0}
generalSwipe(swipeTarget,pagination,nextPos);};function onSwipeRight(swipeTarget,pagination){var currentPos=parseInt(swipeTarget.attr('data-slide')),nextPos=currentPos-1;if(currentPos===0){nextPos=0;}
generalSwipe(swipeTarget,pagination,nextPos);};function generalSwipe(target,pagHolder,nextPos){target.attr('data-slide',nextPos);target.css('left',-nextPos*100+"%");pagHolder.find('li').removeClass('active');pagHolder.find('li:eq('+nextPos+')').addClass('active');};$('.reset-form #password').strength({showToggle:false,toggleMask:false,inputTemplate:'{toggle}\n'+'{input}\n',mainTemplate:'{input}\n'+'<span class="password-strength"><span class="default-text">Strength: </span> {meter}</span>',verdictTitles:{0:'Very Weak',1:'Very Weak',2:'Weak',3:'Good',4:'Good',5:'Strong',}});}
generalLoad();$(document).on('reload:ajax',function(){generalLoad();setupSearch();});setupSearch();attachOnce('click','a[href*="#gameplay/"]',function(ev){var target=$(ev.target);var tealiumData={};var isNotSearch=true;var gameElement=$(target).parents(".game-item").length<1?$('.game-item.game-chosen'):$(target).parents(".game-item");var tileSize="";var lookUpTable={"width2height2":"big","width2":"wide","height2":"tall","normalsize":"normal"};for(var k in lookUpTable){if($(gameElement).hasClass(k)){tileSize=lookUpTable[k];break;}}
if(tileSize==""){tileSize="undefined";}
var gameSiblings=$(gameElement).parent().children(".game-item");var gamePosition=$(gameSiblings).index(gameElement)+1;gamePosition=gamePosition.toString();var hrefOfTarget=$(target).attr('href');tealiumData.urlPath=window.location.pathname+window.location.hash;if(window.location.hash==hrefOfTarget){if($("div.popover-content.full-screen").length>0){var refGameId=JSON.parse($("div.popover-content.full-screen").attr("data-game")).id;var locationHashSplit=window.location.hash.split("/");locationHashSplit[1]=refGameId;tealiumData.urlPath=window.location.pathname+"/"+locationHashSplit.join("/");sectionSource="gameplay:"+refGameId;}}
var sourceBegin="";if($("nav.navigator-tabs-nav li.active").length>0){var textInActive="";if($("nav.navigator-tabs-nav li.active li.active").length>0){textInActive=$("nav.navigator-tabs-nav li.active li.active > a").text();}else{textInActive=$("nav.navigator-tabs-nav li.active > a").text();if(textInActive=="Casino"){textInActive="Home";}}
sourceBegin=textInActive+":";}else if($("ol.breadcrumbs").length>0){var breadcrumbList=$("ol.breadcrumbs li");var breadSource="";for(i=1;i<breadcrumbList.length;i++){breadSource+=breadcrumbList[i].innerText+":";}
sourceBegin=breadSource;}
var sectionSource="";if(gameElement.parents('section.search-section').length>0){tealiumData.keywords=$('.game-search-box').val();sectionSource="search";}else{tealiumData.keywords="";}
if(gameElement.parents('section.games-section').length>0&&gameElement.parents('div.games-categories').length>0){sectionSource=gameElement.parents('section.games-section').find('.games-header').find('h1,h2,h3,h4,h5').contents()[0].textContent;}
if(gameElement.parents('nav.main-nav').length>0){sectionSource="mobile-hamburger-menu";}
if(gameElement.parents("div.responsive-popover-wrapper").length>0&&gameElement.parents("div#game-player").length<1){sectionSource="popover:"+$(".responsive-popover-wrapper div.title")[0].innerText;}
tealiumData.source=sourceBegin+sectionSource;tealiumData.launchElementPosition=gamePosition;tealiumData.tileSize=tileSize;tealiumData.latestPlayed=(gameElement.find('.ribbon.recomnended-game')[0])?true:false;Red.tealiumData=tealiumData;});});function launchDocumentVerification(){App.vent.trigger('close-popover');App.vent.trigger('show:document-verification','document');}
function launchAddressVerification(){App.vent.trigger('close-popover');App.vent.trigger('show:document-verification','address');}
function redirectBanking(){launchBanking();}
function launchBanking(skipIPCheck){if(!Red.FirstStatusCallReceived){return;}
if(Red.PlayerStatus==="provisional"){App.vent.trigger('display:interruptive-popup:status-provisional');return;}
if(Red.DisplayRGMessage){App.vent.trigger('display:interruptive-popup:rg-message','/rg-messaging #rg-message');return;}
if(Red.BankingInterruptivePopovers!==undefined&&Red.BankingInterruptivePopovers['key']!==undefined&&!skipIPCheck){if(typeof $.cookie('display_times-ip-'+Red.BankingInterruptivePopovers['key'].replace(/\s+/g,''))==='undefined'){App.vent.trigger('display:interruptive-popup',Red.BankingInterruptivePopovers);return;}}
launchSwift('/swift');}
function launchTransactionHistory(){launchSwift('/swift/transactionHistory');}
function launchSwift(url){let fullUrl='https://'+window.location.host+url;if(Red.AppType!==''){window.location.href=fullUrl;return;}
var win=window.open(url,"Banking","width=1050,height=700,scrollbars=yes,location=no,menubar=no,directories=no,resizable=no,status=no,toolbar=no","");if(!win){var content='<br><br>It seems your browser blocked the window. Please follow ';content+='<a href="'+fullUrl+'" target="_blank" onclick="">this</a> link to open it in new tab. <br > or allow ';content+='the window to open';var options={showCloseButton:true,closeClickOutside:true,maxWidth:400,maxHeight:200,content:content,noScroll:true,confirmClose:false,fullScreenButton:false,extraClass:"",mobileFullScreen:true,showCta:false,advancedCta:false,ctaText:null,ctaCallback:null,closeCallback:null,showCallback:null,hideCallback:null};new ResponsivePopoverView({options:options}).render();}}
function setupSearch(){var searchBox=$('#GameSearchBox'),searchResultsList=$('#GameSearchResults'),imgUrl=Red.CDNImages+'game-icon/default/';var allGames=null;var loading=false;App.Translations.loadTranslation('common',function(translations){searchBox.on('focus',function(){if(allGames===null&&!loading){loading=true;searchResultsList.html('<li class="loading"><img src="https://static.32red.com/img/loader-white.svg" /></li>');searchResultsList.removeClass('hidden').addClass('visible');$.ajax({type:"GET",url:'/gamesApi/allGames/'+(Red.DeviceType=='desktop'?'desktop':'mobile')+'/'+(Red.showRestrictedGames?'0':'1'),dataType:"json"}).done(function(data){if(data.games){allGames=data.games;updateResults(translations);}
loading=false;});}});searchBox.on('keyup',function(){if(allGames!==null)
showResults(translations);});});var getSearchTerms=function(){var ret=searchBox.val().replace(/^\s+|\s+$/g,'').split(/\s+/);if(ret.length===1&&ret[0]===''){return[];}
return ret;};var countSubMatches=function(gameTitle,terms){var ret=0;for(var i=0;i<terms.length;i++){if(gameTitle.toLowerCase().indexOf(terms[i].toLowerCase())>-1){ret++;}}
return ret;};var prevSearchString=false;window.deadGameImageLinks={};var maxSearchResults=10;var updateResults=function(translations){if(prevSearchString===searchBox.value){return;}
prevSearchString=searchBox.val();var terms=getSearchTerms();var results=[];var showItemsHTML='';for(var i=0;i<allGames.length;i++){var matchCount=countSubMatches(allGames[i].name,terms);if(matchCount===terms.length&&matchCount>0){if(!results[matchCount]){results[matchCount]=[];}
results[matchCount].push(allGames[i]);}}
var totalResultsCount=0;for(var j=results.length-1;j>=0;j--){if(!results[j])continue;for(var i=0;i<results[j].length;i++){if(totalResultsCount>=maxSearchResults)break;var gameData=results[j][i],gameId=gameData['id'],imgSrc=imgUrl+gameData['img_name']+'.'+gameData['img_type'],href="#gameplay/"+gameId,hrefFree=href+"/free",gameName=gameData.name;if(gameData['isTournament']){continue;}
showItemsHTML+='<li>';showItemsHTML+='<img src="'+imgSrc+'" onload="this.className=\'placeholder\'" onerror="this.src=\'/img/loader.svg\';this.className=\'placeholder\'; window.deadGameImageLinks[\''+gameData.id+'\']=true;"/>';showItemsHTML+='<span>'+gameName+'</span> ';showItemsHTML+='<a class= "cta" href='+href+'>'+translations["play-now"]+'</a>';if(gameData['provider_id'].toString()!=="2"&&gameData['provider_id'].toString()!=="9"){showItemsHTML+='<a href='+hrefFree+'>'+translations["play-free"]+'</a> ';}
showItemsHTML+='</li>';totalResultsCount++;}}
if(showItemsHTML===''){if(terms.length===0){showItemsHTML='<li class="note">'+translations["type-to-search"]+'</li>';}else{showItemsHTML='<li class="note">'+translations["no-results"]+'</li>';}}
searchResultsList.html(showItemsHTML);};var showResults=function(translations){updateResults(translations);searchResultsList.removeClass('hidden').addClass('visible');};var hideResults=function(){searchResultsList.removeClass('visible').addClass('hidden');};searchBox.on('blur',function(){setTimeout(function(){hideResults();},500)});}"use strict";jQuery(function($){function generalLoadDesktop(){$('header nav, .siderbar nav').each(function(idx,nav){var menuEl=$(nav).find('.menu-wrapper');$(nav).find('li').each(function(){if($(this).find('> ul').length>0){$(this).addClass('has-children');}});$(nav).find('ul li > a').click(function(e){if($(this).parent().find('> ul').length>0){if(!$(this).parent().hasClass('active')){$(nav).find('li.active').removeClass('active');}else{}}});});$('.open-search-icon').on('click',function(ev){if($(window).width()<1024&&Red.DeviceType!=="mobile"){ev.preventDefault();var $el=$('.games-menu-inner');if(Red.Theme){$el=$('.games-menu');}
$el.toggleClass('opened');$el.find('.open-search-icon i').toggleClass('icon-search');$el.find('.open-search-icon i').toggleClass('icon-close');$('.game-search-box').focus();}});$('body').off('click',".deposit").on('click',".deposit",function(ev){ev.preventDefault();launchBanking();});$('body').off('click',".banking").on('click',".banking",function(ev){ev.preventDefault();launchBanking();});$('body').off('click',".game-deposit").on('click',".game-deposit",function(ev){ev.preventDefault();launchBanking();});$(window).load(function(){if($('.slide-item-text').length>0){$('.slide-item-text').css({'top':'50%','margin-top':function(){return-$(this).outerHeight()/2}}).addClass('displayed');}});if($('html').hasClass('sportsbook')&&$('#sportsbook-frame')[0]){$("body").addClass('sportsbook-frame');}
$(window).load(function(){$('#base-content .base-content-inner .boxes > section').equalizeHeightsByRow();$('#base-content .base-content-inner > *').equalizeHeightsByRow();$('#desktop footer nav .footer-col').equalizeHeightsByRow();$('.base-content-bingo .carousel-footer > div').equalizeHeightsByRow();});$(window).resize(function(){$('#base-content .base-content-inner .boxes > section').css('height','auto');$('#base-content .base-content-inner .boxes > section').equalizeHeightsByRow();$('#base-content .base-content-inner > *').css('height','auto');$('#base-content .base-content-inner > *').equalizeHeightsByRow();$('#desktop footer nav .footer-col').css('height','auto');$('#desktop footer nav .footer-col').equalizeHeightsByRow();$('.base-content-bingo .carousel-footer > div').equalizeHeightsByRow();});}
generalLoadDesktop();$(document).on('reload:ajax',function(){generalLoadDesktop();});});(function($){$.fn.equalizeHeightsByRow=function(){var currentTallest=0,currentRowStart=0,rowDivs=new Array(),$el,topPosition=0;return this.each(function(){$el=$(this);topPosition=$el.offset().top;if(currentRowStart!=topPosition){for(var currentDiv=0;currentDiv<rowDivs.length;currentDiv++){rowDivs[currentDiv].height(currentTallest);}
rowDivs.length=0;currentRowStart=topPosition;currentTallest=$el.height();rowDivs.push($el);}else{rowDivs.push($el);currentTallest=(currentTallest<$el.height())?($el.height()):(currentTallest);}
for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++){rowDivs[currentDiv].height(currentTallest);}})};})(jQuery);(function(){if(typeof window.CustomEvent==="function")return false;function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:undefined};var evt=document.createEvent('CustomEvent');evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt;}
CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent;})();$(document).ready(function(){$('.country-select').countrySelect({excludeCountries:["us","af","al","dz","as","ao","au","at","bs","be","ba","bw","bg","cn","cx","cc","co","cr","cu","cw","cy","cz","dk","ec","eg","er","ee","et","fo","fr","gf","pf","de","gh","gr","gl","gp","gu","gw","ht","hn","hk","hu","ir","iq","il","it","jo","xk","kw","la","ly","mq","mx","mm","nc","kp","pk","ph","pn","pt","pr","re","ro","ru","bl","mf","pm","sa","rs","sc","sg","sx","si","so","za","ss","es","lk","sd","se","ch","sy","tt","tn","tr","tm","ug","us","um","vi","uz","vu","va","ve","wf","ye","zw"]});var isUpdating=false;$(document).on('click','.updatePlayerData',function(e){var tmpData=updatePlayerAddress();updateUserData(tmpData);});loadAutocomplete('c12');$(document).on('change','.dob select',function(){checkDob();});function checkDob(){var month=parseInt($('.dob select[data-type="month"]').val())+1;var date=month+'/'+$('.dob select[data-type="date"]').val()+'/'+$('.dob select[data-type="year"]').val();$('.dob input[name="dob"]').val(date);}
function loadAutocomplete(ext){var fields=[{element:ext+"_address_1",field:"Line1",mode:pca.fieldMode.SEARCH|pca.fieldMode.POPULATE},{element:ext+"_address_2",field:"Line2",mode:pca.fieldMode.POPULATE},{element:ext+"_city",field:"City",mode:pca.fieldMode.POPULATE},{element:ext+"_state",field:"Province",mode:pca.fieldMode.POPULATE},{element:ext+"_zip",field:"PostalCode",mode:pca.fieldMode.SEARCH|pca.fieldMode.POPULATE},];var options={key:"CK27-JD28-NF48-KE96",search:{countries:"GBR"}};var control=new pca.Address(fields,options);control.listen("populate",function(data){var county=foundCounty(data.AdminAreaName),address1=data.FormattedLine1.replace(/\,/g,' '),address2=data.FormattedLine2.replace(/\,/g,' ');$('select[name="state"]').val(county);});if($('input[name="country"]').val()!=='United Kingdom'){control.destroy();}
$(document).on('change','input[name="country"]',function(e){if($(this).val()!=='United Kingdom'){control.destroy();}else{control.load();}});}
function foundCounty(adminAreaName){var scotland=/^(Clackmannanshire|Dumfries\s&\sGalloway|East\sAyrshire|East\sLothian|East\sRenfrewshire|Comhairle\sNan\sEilean\sSiar|Falkirk|Highland|Inverclyde|Midlothian|Moray|North\sAyrshire|Orkney\sIslands|Scottish\sBorders|Shetland\sIslands|South\sAyrshire|South\sLanarkshire|Stirling|Aberdeen\sCity|Aberdeenshire|Argyll\s&\sBute|City\sof\sEdinburgh|Renfrewshire|West\sDunbartonshire|West\sLothian|Angus|Dundee\sCity|East\sDunbartonshire|Fife|Perth\s&\sKinross|Glasgow\sCity|North\sLanarkshire)/gi;var wales=/^(Isle\sof\sAnglesey|Gwynedd|Conwy|Denbighshire|Flintshire|Wrexham|Ceredigion|Pembrokeshire|Carmarthenshire|Swansea|Neath\sPort\sTalbot|Bridgend|Vale\sof\sGlamorgan|Cardiff|Rhondda\sCynon\sTaf|Caerphilly|Blaenau\sGwent|Torfaen|Monmouthshire|Newport|Powys|Merthyr\sTydfil)/gi;var northernIreland=/^(Northern\sIreland)/gi;if(adminAreaName===null||adminAreaName.length<1){return'GB-ENG';}
if(adminAreaName.match(scotland)!==null){return'GB-SCT';}
if(adminAreaName.match(wales)!==null){return'GB-EAW';}
if(adminAreaName.match(northernIreland)!==null){return'GB-NIR';}
return'GB-ENG';}
function updatePlayerAddress(){return $('.player-update-address form').serializeArray().reduce(function(obj,item){obj[item.name]=item.value;return obj;},{});}
function updateUserData(data){if(isUpdating)return;isUpdating=true;$.ajax({url:'/api/updateUserAddress',type:'POST',beforeSend:function(){processingVerification(true);},data:{data:data}}).done(function(result){isUpdating=false;$('#playerUpdateAddressPreloader').addClass('hidden');if(result.kycScore.length){if(result.kycScore==='kyc0'){$('.player-update-address').remove();showDeclined();}else if(result.kycScore==='kyc2'){$('.player-update-address').remove();showDeclined();}else if(result.kycScore==='kyc4'){showVerification();}}
processingVerification(false);});}
function showVerification(){$('.popupDescription').remove();$('.player-update-address-wrapper').remove();$('.popupHeader2').remove();$('.dataVerified').removeClass('hidden');}
function showDeclined(){$('.popupDescription').remove();$('.player-update-address-wrapper').remove();$('.popupHeader2').remove();$('.dataDeclined').removeClass('hidden');}
function processingVerification(show){$('.popupDescription').remove();$('.player-update-address-wrapper').remove();$('.popupHeader2').remove();if(show){$('.dataProcessing').removeClass('hidden');}else{$('.dataProcessing').addClass('hidden');}}});"use strict";jQuery(function($){hamburger();$(document).on('reload:ajax',function(){hamburger();});});let hamburger=function(){$('header nav.mobile').each(function(idx,nav){var menuEl=$(nav).find('.menu-wrapper');$(nav).find('li').each(function(){if($(this).find('> ul').length>0){$(this).addClass('has-children');}});var toggleMenu=function(){if(menuEl.hasClass('active')){menuEl.removeClass('active');$('html').removeClass('popup-active');}else{menuEl.addClass('active');$('html').addClass('popup-active');}};$(nav).find('> a[href$="#menu"], a[href$="#closeMenu"]').on('click',function(e){e.preventDefault();toggleMenu();});$(nav).find('ul li > a').click(function(e){if($(this).parent().find('> ul').length>0){if(!$(this).parent().hasClass('active')){}else{}}});$('body').click(function(e){if($(e.target).hasClass('menu-wrapper')){menuEl.removeClass('active');$('html').removeClass('popup-active');}});$('body').click(function(e){if($(e.target).hasClass('my-account-area')){$('#user-account-dashboard').find('.my-account-area').removeClass('active');$('html').removeClass('popup-active');$('html').removeClass('no-scroll');App.appRouter.navigate("",{trigger:true});}});});}