/*! For license information please see content.js.LICENSE.txt */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=13)}({0:function(t,e,n){t.exports=n(1)},1:function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=g(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function d(){}function p(){}function f(){}var h={};c(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(A([])));v&&v!==e&&n.call(v,o)&&(h=v);var y=f.prototype=d.prototype=Object.create(h);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,c){var s=u(t[o],t,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function g(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,g(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function A(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=f,c(y,"constructor",f),c(f,"constructor",p),p.displayName=c(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},13:function(t,e,n){t.exports=n(32)},2:function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}!function(){function t(){var t=document.querySelectorAll("form.newsletter-module:not([data-init])");t instanceof NodeList&&t.forEach((function(t){var e=t.elements.source.value.split(" ");dataLayer.push({event:"newsletter-module","newsletter-source":e[0],"newsletter-content-source":e[1],"newsletter-platform":window.Cracked.getCurrentViewPort()}),window.Cracked.attachEvent(t,"submit",(function(t){t.preventDefault();var n=this,r=new URLSearchParams(window.location.search),a=r.get("utm_source"),c=r.get("utm_campaign"),s=r.get("utm_medium"),u=document.referrer,l={email:n.elements.email.value,utm_source:a,utm_campaign:c,utm_medium:s,referrer:u};if(!/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(this.elements.email.value))return alert("Please provide a valid email address"),!1;n.querySelector("fieldset").setAttribute("disabled","disabled"),grecaptcha.ready((function(){grecaptcha.execute(recaptchaSiteKey,{action:"newsletter"}).then(function(){var t,r=(t=o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l["g-recaptcha-response"]=r,t.next=3,window.Cracked.fetch("/app/newsletter-module",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(t){if(200!=t.status)throw new Error;return dataLayer.push({event:"newsletter-module-convert","newsletter-source":e[0],"newsletter-content-source":e[1],"newsletter-platform":window.Cracked.getCurrentViewPort()}),alert("Thank you for signing up!"),t.json()})).catch((function(t){alert("Oops, something went wrong!"),n.querySelector("fieldset").removeAttribute("disabled")}));case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){i(a,r,o,c,s,"next",t)}function s(t){i(a,r,o,c,s,"throw",t)}c(void 0)}))});return function(t){return r.apply(this,arguments)}}())}))})),t.dataset.init="true"}))}t()}()},32:function(t,e,n){"use strict";n.r(e);n(5);var r=n(0),o=n.n(r);function i(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){i(a,r,o,c,s,"next",t)}function s(t){i(a,r,o,c,s,"throw",t)}c(void 0)}))}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e,n){var r=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.curPage=1,this.filters={votes:!1,date_created:!0,profanity:!1},this.contentType=e,this.contentId=n,this.commentsWrapper=document.querySelector('.comments-wrapper[data-content="'.concat(e,"-").concat(n,'"]')),!(this.commentsWrapper instanceof Node))return!1;if(this.commentsContainer=this.commentsWrapper.querySelector(".comments"),!(this.commentsContainer instanceof Node))return!1;var i=this;this.toggleReplies(),this.initReply(),this.initVotes(),this.initFilters(),this.initAdmin(),window.Cracked.attachEvent(this.commentsWrapper.querySelector(".btn-load-comments"),"click",(function(){r.loadComments(r.curPage+1)})),window.Cracked.attachEvent(this.commentsWrapper.querySelector(".comment-submit"),"submit",(function(t){t.preventDefault();var e=this.querySelector(".comment-submit-button");e.setAttribute("disabled","true"),grecaptcha.ready((function(){grecaptcha.execute(recaptchaSiteKey,{action:"commentSubmit"}).then(function(){var t=a(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.submitComment(n);case 2:e.removeAttribute("disabled");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))})),window.Cracked.attachEvent(document.querySelector("#comment-reply-button"),"click",(function(t){t.preventDefault();var e=this;e.setAttribute("disabled","true"),e.textContent="Sending...",grecaptcha.ready((function(){grecaptcha.execute(recaptchaSiteKey,{action:"commentReply"}).then(function(){var t=a(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.submitReply(n);case 2:window.Litebox.close(),e.removeAttribute("disabled"),e.textContent="Reply";case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}))}var e,n,r,i,s,u,l,d;return e=t,(n=[{key:"loadComments",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n="/comment/list?content_type=".concat(this.contentType,"&content_id=").concat(this.contentId,"&page=").concat(e);1==this.filters.votes?n+="&order_by=score":1==this.filters.date_created&&(n+="&order_by=date_created"),n+="&profanity="+(this.filters.profanity?"true":"false"),this.commentsWrapper.querySelectorAll(".filters .btn, .btn-load-comments").forEach((function(t){t.disabled=!0})),this.commentsWrapper.querySelector(".loading-comments").classList.toggle("active"),fetch(n).then((function(t){return t.json()})).then((function(t){if(t.error)throw new Error("Something went wrong!");return t})).then((function(n){t.curPage=e;var r=document.createElement("div");r.innerHTML=n.data;var o=r.querySelectorAll(":scope > div.comment-wrapper"),i=document.createDocumentFragment();o.forEach((function(t){return i.appendChild(t)})),t.commentsContainer.appendChild(i),window.lozadObserver.observe(),t.toggleReplies(),t.initReply(),t.initVotes(),t.commentsWrapper.querySelectorAll(".filters .btn, .btn-load-comments").forEach((function(t){t.disabled=!1})),t.commentsWrapper.querySelector(".loading-comments").classList.toggle("active")})).catch((function(t){return console.log(t)}))}},{key:"toggleReplies",value:function(){window.Cracked.attachEvent("button.btn-toggle-replies:not([data-init])","click",(function(t){t.preventDefault();var e=null;try{e=this.closest(".comment-wrapper").querySelector(".replies")}catch(t){}e instanceof Node&&(e.classList.toggle("active"),e.classList.contains("active")?this.textContent="Hide All Replies":this.textContent="See All "+this.dataset.replies+" Replies")})),document.querySelectorAll("button.btn-toggle-replies:not([data-init])").forEach((function(t){t.dataset.init="true"}))}},{key:"initReply",value:function(){Litebox.lightbox("button.btn-reply:not([data-init])",{onBeforeOpen:function(t){},onOpen:function(t,e){var n=e.closest(".comment"),r=t.querySelector(".comment-reply-orig"),o=t.querySelector(".comment-reply-input");r.replaceChild(n.querySelector(".body header").cloneNode(!0),r.querySelector("header")),r.replaceChild(n.querySelector(".body article").cloneNode(!0),r.querySelector("article")),o.querySelector(".avatar").setAttribute("src",document.querySelector("nav.mobile .avatar img").getAttribute("data-src")),o.querySelector(".comment-reply-id").value=n.querySelector(".comment-id").value}}),document.querySelectorAll("button.btn-reply:not([data-init])").forEach((function(t){t.dataset.init="true"}))}},{key:"initVotes",value:function(){var t=this;window.Cracked.attachEvent("button.btn-vote:not([data-init]","click",a(o.a.mark((function e(){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.closest(".comment-wrapper"),r=n.getAttribute("data-comment-id"),i=this.getAttribute("data-vote"),this.disabled=!0,e.next=6,t.castVote(r,i);case 6:case"end":return e.stop()}}),e,this)})))),document.querySelectorAll("button.btn-vote:not([data-init]").forEach((function(t){t.dataset.init="true"}))}},{key:"initFilters",value:function(){var t=this;window.Cracked.attachEvent(this.commentsWrapper.querySelectorAll(".filters .btn"),"click",(function(e){e.preventDefault();var n=this.dataset.filter;if(this.classList.contains("active")&&"profanity"!=n)return!1;"profanity"==n?t.filters.profanity=!this.classList.contains("active"):"votes"==n?(t.filters.votes=!0,t.filters.date_created=!1,t.commentsWrapper.querySelector('.filters .btn[data-filter="date_created"]').classList.remove("active")):"date_created"==n&&(t.filters.votes=!1,t.filters.date_created=!0,t.commentsWrapper.querySelector('.filters .btn[data-filter="votes"]').classList.remove("active")),this.classList.toggle("active"),t.commentsContainer.innerHTML="",t.loadComments()}))}},{key:"initAdmin",value:function(){var t=this;window.Cracked.attachEvent(this.commentsWrapper.querySelectorAll(".comment-delete-button, .comment-mark-as-spam-button"),"click",function(){var e=a(o.a.mark((function e(n){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i=(r=this).getAttribute("data-comment-id"),r.closest("fieldset").setAttribute("disabled","disabled"),r.textContent="Deleting Comment ...",e.next=7,t.deleteComment(i);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),window.Cracked.attachEvent(this.commentsWrapper.querySelectorAll(".comment-delete-user-button"),"click",function(){var e=a(o.a.mark((function e(n){var r,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),confirm("WARNING! This action will ban the user and delete all comments made by the user! It can take up to 15 minutes to complete!")){e.next=3;break}return e.abrupt("return",!1);case 3:return i=(r=this).getAttribute("data-user-id"),a=r.getAttribute("data-comment-id"),r.closest("fieldset").setAttribute("disabled","disabled"),r.textContent="Deleting User ...",e.next=10,t.banUser(i,a);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())}},{key:"submitComment",value:(d=a(o.a.mark((function t(e){var n,r,i=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.commentsWrapper.querySelector(".new-comment").value,r={"g-recaptcha-response":e,content_type:this.contentType,content_id:this.contentId,comment:n},t.next=5,window.Cracked.fetch("/comment/submit",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(r)}).then((function(t){return t.json()})).then((function(t){i.commentsContainer.innerHTML=t.comment+i.commentsContainer.innerHTML,window.lozadObserver.observe(),i.initReply(),i.initVotes()}));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"submitReply",value:(l=a(o.a.mark((function t(e){var n,r,i,a=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("comment-reply-input").value,r=document.getElementById("comment-reply-id").value,i={"g-recaptcha-response":e,content_type:this.contentType,content_id:this.contentId,comment:n,parent_id:r},t.next=6,window.Cracked.fetch("/comment/reply",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(i)}).then((function(t){return t.json()})).then((function(t){var e=document.querySelector("#comment-"+r);e.querySelector("#replies-"+r).innerHTML+=t.comment;var n=e.querySelector(".btn-toggle-replies");n.classList.add("active"),n.dataset.replies=parseInt(n.dataset.replies)+1,n.querySelector("span").textContent=n.dataset.replies,n.click(),window.lozadObserver.observe(),a.initReply(),a.initVotes()}));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"castVote",value:(u=a(o.a.mark((function t(e,n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={comment_id:e,content_type:this.contentType,content_id:this.contentId,vote:n},t.next=4,window.Cracked.fetch("/comment/vote",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(r)}).then(function(){var t=a(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ok,t.next=3,e.json();case 3:if(e=t.sent,n){t.next=7;break}throw console.log(e),Error(e.error_message);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){var n=document.querySelectorAll("#comment-".concat(e," span.score"))[0],r=document.querySelectorAll("#comment-".concat(e," button.btn-vote-up span"))[0],o=document.querySelectorAll("#comment-".concat(e," button.btn-vote-down span"))[0];t.aggVotes.all<=0?(n.classList.remove("score-up"),n.innerHTML=t.aggVotes.all):(n.classList.add("score-up"),n.innerHTML="+"+t.aggVotes.all),r.innerHTML=t.aggVotes.ups,o.innerHTML=t.aggVotes.downs})).catch((function(t){alert(t)}));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"deleteComment",value:(s=a(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={comment_id:e,content_type:this.contentType,content_id:this.contentId},t.next=4,window.Cracked.fetch("/comment/delete",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(n)}).then((function(t){document.getElementById("comment-"+e).remove(),alert("Comment deleted! It might take up to 10 minutes for cache to clear")})).catch((function(t){console.log(t)}));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"banUser",value:(i=a(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,window.Cracked.fetch("/comment/ban-user",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({user_id:e})}).then((function(t){document.getElementById("comment-"+n).remove(),alert("User deleted! It might take up to 10 minutes for cache to clear")})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t)}))),function(t,e){return i.apply(this,arguments)})}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,c,"next",t)}function c(t){l(i,r,o,a,c,"throw",t)}a(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){var e="function"==typeof Map?new Map:void 0;return(m=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return v(t,arguments,b(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,t)})(t)}function v(t,e,n){return(v=y()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&w(o,n.prototype),o}).apply(null,arguments)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g;g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(l,t);var e,n,r,i,a,c,s,u=(e=l,n=y(),function(){var t,r=b(e);if(n){var o=b(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return h(this,t)});function l(){return p(this,l),u.apply(this,arguments)}return r=l,i=[{key:"connectedCallback",value:function(){var t=this;this.videoId=this.getAttribute("videoid"),"title"in this.dataset?this.title=this.dataset.title:new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting&&(fetch("https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=".concat(t.videoId)).then((function(t){return t.json()})).then((function(e){return t.title=e.title})),n.disconnect())}))})).observe(this),this.addEventListener("pointerover",l.warmConnections,{once:!0}),this.addEventListener("click",this.addIframe),this.needsYTApiForAutoplay=navigator.vendor.includes("Apple")||navigator.userAgent.includes("Mobi")}},{key:"fetchYTPlayerApi",value:function(){var t=this;window.YT||window.YT&&window.YT.Player||(this.ytApiPromise=new Promise((function(e,n){var r=document.createElement("script");r.src="https://www.youtube.com/iframe_api",r.async=!0,r.onload=function(t){YT.ready(e)},r.onerror=n,t.append(r)})))}},{key:"addYTPlayerIframe",value:(s=d(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.fetchYTPlayerApi(),t.next=3,this.ytApiPromise;case 3:n=document.createElement("div"),this.append(n),r=Object.fromEntries(e.entries()),new YT.Player(n,{width:"100%",videoId:this.videoId,playerVars:r,events:{onReady:function(t){t.target.playVideo()}}});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"addIframe",value:(c=d(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.classList.contains("lyt-activated")){t.next=2;break}return t.abrupt("return");case 2:if(this.classList.add("lyt-activated"),(e=new URLSearchParams(this.getAttribute("params")||[])).append("autoplay","1"),e.append("playsinline","1"),!this.needsYTApiForAutoplay){t.next=8;break}return t.abrupt("return",this.addYTPlayerIframe(e));case 8:(n=document.createElement("iframe")).width=560,n.height=315,n.title=this.playLabel,n.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",n.allowFullscreen=!0,n.src="https://www.youtube.com/embed/".concat(encodeURIComponent(this.videoId),"?").concat(e.toString()),this.append(n),n.focus();case 17:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})}],a=[{key:"addPrefetch",value:function(t,e,n){var r=document.createElement("link");r.rel=t,r.href=e,n&&(r.as=n),document.head.append(r)}},{key:"warmConnections",value:function(){l.preconnected||(l.addPrefetch("preconnect","https://www.youtube.com"),l.addPrefetch("preconnect","https://www.google.com"),l.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),l.addPrefetch("preconnect","https://static.doubleclick.net"),l.preconnected=!0)}}],i&&f(r.prototype,i),a&&f(r,a),Object.defineProperty(r,"prototype",{writable:!1}),l}(m(HTMLElement)),customElements.define("lite-youtube",g),n(2);function x(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function k(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,c,"next",t)}function c(t){x(i,r,o,a,c,"throw",t)}a(void 0)}))}}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e){E(t,e),e.add(t)}function O(t,e,n){E(t,e),e.set(t,n)}function E(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function C(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,L(t,e,"get"))}function _(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,L(t,e,"set"),n),n}function L(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function I(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var q=new WeakMap,T=new WeakMap,P=new WeakMap,j=new WeakMap,R=new WeakMap,M=new WeakMap,W=new WeakSet,N=new WeakSet,H=new WeakSet,V=new WeakSet,z=new WeakSet,F=new WeakSet,D=new WeakSet,G=new WeakSet,Y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,G),A(this,D),A(this,F),A(this,z),A(this,V),A(this,H),A(this,N),A(this,W),O(this,q,{writable:!0,value:[]}),O(this,T,{writable:!0,value:0}),O(this,P,{writable:!0,value:!1}),O(this,j,{writable:!0,value:!1}),O(this,R,{writable:!0,value:{state:"idle",promise:null,content:null,contentType:null,contentId:null,url:null,title:null,html:null}}),O(this,M,{writable:!0,value:null}),I(this,W,U).call(this,e),_(this,M,document.querySelector(".module-content-right-rail").cloneNode(!0)),dataLayer.push({event:"recirculation",infiniteScrollPos:"infinite-scroll-content-start",contentHash:"".concat(C(this,q)[0].content_type,"-").concat(C(this,q)[0].content_id),contentIndex:1}),window.Cracked.hasAds()||_(this,P,!0),window.Cracked.hasOutstreamAds()||_(this,j,!0)}var e,n,r;return e=t,(n=[{key:"init",value:function(){I(this,N,X).call(this),I(this,V,K).call(this),I(this,F,Z).call(this,document.querySelector('.content-wrapper[data-content-index="1"]')),I(this,G,tt).call(this)}}])&&S(e.prototype,n),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function U(t){var e;C(this,q).push(t.content),_(this,T,(e=C(this,T),e++,e))}function X(){return B.apply(this,arguments)}function B(){return(B=k(o.a.mark((function t(){var e,n,r=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=document.querySelector(".content-wrapper h1.content-title:not([data-observed])"),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&(n=new IntersectionObserver((function(t){var e=t[0];0==e.intersectionRatio&&(e.target.setAttribute("data-observed","true"),I(r,H,J).call(r),n.unobserve(e.target))}),{rootMargin:"250px 0px 250px 0px"})).observe(e);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(){var t=this;if("loading"!=C(this,R).state){var e=[];C(this,q).forEach((function(t){e.push("exclude_contents[]=".concat(t.content_type,"-").concat(t.content_id))}));var n="/app/next-content?".concat(e.join("&"));return C(this,P)&&(n+="&lm-disable-ads=true"),C(this,j)&&(n+="&lm-disable-anyclip=true"),C(this,R).state="loading",console.log("Prefetching Started ".concat(n)),C(this,R).promise=window.Cracked.fetch(n).then((function(t){if(200!=t.status)throw new Error;return t.json()})).then((function(e){var n=e.data;C(t,R).state="ready",C(t,R).content=n.content,C(t,R).content.content_type=n.content_type,C(t,R).content.content_id=n.content_id,C(t,R).content.ads=n.ads,C(t,R).content.pageview_fired=!1,C(t,R).contentType=n.content_type,C(t,R).contentId=n.content_id,C(t,R).html=n.html,console.log("Prefetching Completed",C(t,R))})),C(this,R).promise}}function K(){var t=this,e=document.querySelector(".next-content:not([data-observed])");(I(this,F,Z).call(this,e),e instanceof Node&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)&&new IntersectionObserver(function(){var n=k(o.a.mark((function n(r){var i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((i=r[0]).intersectionRatio>0)){n.next=19;break}if(e.hasAttribute("data-observed")){n.next=17;break}if(e.setAttribute("data-observed","true"),"loading"!=C(t,R).state){n.next=9;break}return n.next=7,C(t,R).promise.then((function(){I(t,z,$).call(t,e)}));case 7:n.next=15;break;case 9:if("ready"!=C(t,R).state){n.next=13;break}I(t,z,$).call(t,e),n.next=15;break;case 13:return n.next=15,I(t,H,J).call(t).then((function(){I(t,z,$).call(t,e)}));case 15:n.next=17;break;case 17:n.next=20;break;case 19:i.intersectionRatio;case 20:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),{rootMargin:"250px"}).observe(e)}function $(t){if(I(this,W,U).call(this,C(this,R)),t.setAttribute("data-content-type",C(this,R).contentType),t.setAttribute("data-content-id",C(this,R).contentId),t.innerHTML=C(this,R).html,t.querySelector(".module-content-right-rail").append(C(this,M)),window.lozadObserver.observe(),window.Cracked.hasAds()&&window.Cracked.defineDfpSlots(C(this,R).content.ads),C(this,T)<10){var e=document.createElement("div");e.classList.add("next-content"),e.setAttribute("data-content-index",C(this,T)+1),t.after(e),this.init()}}function Z(t){var e=this;"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&void 0===window.infiniteContentEventsObserver&&(window.infiniteContentEventsObserver=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var n=t.target.getAttribute("data-content-index"),r=C(e,q)[n-1];if(window.location.origin+window.location.pathname!=r.url&&(console.log("switching URL"),window.history.replaceState({},r.title,r.url),document.querySelector("title").innerHTML=r.title+" | Cracked.com"),!r.pageview_fired){console.log("firing pagviews"),C(e,q)[n-1].pageview_fired=!0;try{if(n>1){var o=C(e,q)[n-2];dataLayer.push({event:"recirculation",infiniteScrollPos:"infinite-scroll-content-end",contentHash:"".concat(o.content_type,"-").concat(o.content_id),contentIndex:n-1})}dataLayer.push({event:"recirculation",infiniteScrollPos:"infinite-scroll-content-start",contentHash:"".concat(r.content_type,"-").concat(r.content_id),contentIndex:n}),dataLayer.push({event:"pageview",experiment:siteExperiement,variant:siteVariant}),dataLayer.push({event:I(e,D,Q).call(e,r)?"imageset-infinite-scroll":"article-infinite-scroll"}),void 0!==window.COMSCORE&&window.COMSCORE.beacon({c1:"2",c2:"6036385",c3:"",c4:"",c5:"",c6:"",c10:""}),_qevents.push({qacct:"p-byLmeZUvD2jyq",event:"refresh"})}catch(t){throw t}}}}))}),{rootMargin:"-50% 0px -50% 0px"})),void 0!==window.infiniteContentEventsObserver&&window.infiniteContentEventsObserver.observe(t)}function Q(t){return"imageset"==t.content_type||"photoplasty"==t.content_type||"pictofact"==t.content_type}function tt(){window.Cracked.hasOutstreamAds()&&"mobile"==window.Cracked.getCurrentViewPort()&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&void 0===window.observeMobileOutstreamMove&&(window.observeMobileOutstreamMove=new IntersectionObserver(function(){var t=k(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e[0]).intersectionRatio>0&&0==n.target.children.length&&(r=document.querySelector(".ck-anyclips-mobile"),console.log(r,r.parentElement),r.parentElement.removeChild(r),n.target.appendChild(r),window.aclrePlayerMoved());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),document.querySelectorAll(".outstream-mobile-wrapper:not([data-init])").forEach((function(t){t.setAttribute("data-init","true"),window.observeMobileOutstreamMove.observe(t)})))}var et,nt,rt,ot,it,at;e.default=(et=document.getElementById("content-wrapper"),nt=null,rt=null,ot=null,it=null,at={},void(et instanceof Node&&(nt=et.dataset.contentType,rt=et.dataset.contentId,ot=et.dataset.contentForm,it=et.dataset.contentRating,at["".concat(nt,"-").concat(rt)]={url:window.location.href,title:document.querySelector("title").innerHTML},window.Cracked.getLoggedIn()&&new s(nt,rt),function(){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){var t=new IntersectionObserver((function(e){var n=e[0];n.isIntersecting||(console.log("title scrolled out of view"),t.unobserve(n.target),function(){if(window.Cracked.hasOutstreamAds())if("desktop"==window.Cracked.getCurrentViewPort()){var t=document.querySelector("#outstream");if(t instanceof Node){var e=document.createElement("script");e.type="text/javascript",e.defer=!0,e.setAttribute("pubname","crackedcom"),"r"==it?e.setAttribute("widgetname","0011r000024GCSIAA4_M7753"):e.setAttribute("widgetname","0011r000024GCSI_11759"),window.Cracked.loadScript("https://play.anyclip.com/anyclip-widget/lre-widget/prod/v1/src/lre.js",e,t)}}else{var n=document.querySelectorAll(".outstream-mobile-wrapper .ck-anyclips-mobile")[0],r=document.createElement("script");r.type="text/javascript",r.defer=!0,r.setAttribute("pubname","crackedcom"),"r"==it?r.setAttribute("widgetname","0011r000024GCSIAA4_M7754"):r.setAttribute("widgetname","0011r000024GCSI_12214"),window.Cracked.loadScript("https://play.anyclip.com/anyclip-widget/lre-widget/prod/v1/src/lre.js",r,n)}}())}));t.observe(document.querySelector("h1.content-title"))}}(),function(){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){var t=new IntersectionObserver((function(e){var n=e[0];n.isIntersecting&&(console.log("2 Screen Height away from bottom social buttons"),t.unobserve(n.target),function(){var t=document.querySelector("#outbrain:not([data-init])");if(t instanceof Node){t.setAttribute("data-init","true");var e=document.querySelector(".OUTBRAIN");"desktop"!=window.Cracked.getCurrentViewPort()?e.setAttribute("data-widget-id",e.dataset.mobileWidgetId):e.setAttribute("data-widget-id",e.dataset.desktopWidgetId),window.Cracked.loadScript("https://widgets.outbrain.com/outbrain.js")}}())}),{rootMargin:"".concat(2*window.innerHeight,"px")});t.observe(document.querySelector("nav.socials"))}}())),new Y({content:{content_type:nt,content_id:rt,url:window.location.href,title:document.querySelector("title").innerHTML,pageview_fired:!0}}).init(),{getContentType:function(){return nt},getContentId:function(){return rt},getContentForm:function(){return ot}})},5:function(t,e,n){t.exports=function(){"use strict";var t="undefined"!=typeof document&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var n=e.querySelector("img"),r=!1;null===n&&(n=document.createElement("img"),r=!0),t&&e.getAttribute("data-iesrc")&&(n.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(n.alt=e.getAttribute("data-alt")),r&&e.append(n)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var o=e.children,i=void 0,a=0;a<=o.length-1;a++)(i=o[a].getAttribute("data-src"))&&(o[a].src=i);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var c=",";if(e.getAttribute("data-background-delimiter")&&(c=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(c).join("'),url('")+"')";else if(e.getAttribute("data-background-image-set")){var s=e.getAttribute("data-background-image-set").split(c),u=s[0].substr(0,s[0].indexOf(" "))||s[0];u=-1===u.indexOf("url(")?"url("+u+")":u,1===s.length?e.style.backgroundImage=u:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+u+"; background-image: -webkit-image-set("+s+"); background-image: image-set("+s+")")}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function n(t){t.setAttribute("data-loaded",!0)}var r=function(t){return"true"===t.getAttribute("data-loaded")},o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var t,i,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=Object.assign({},e,c),u=s.root,l=s.rootMargin,d=s.threshold,p=s.load,f=s.loaded,h=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(h=new IntersectionObserver((t=p,i=f,function(e,o){e.forEach((function(e){(0<e.intersectionRatio||e.isIntersecting)&&(o.unobserve(e.target),r(e.target)||(t(e.target),n(e.target),i(e.target)))}))}),{root:u,rootMargin:l,threshold:d}));for(var m,v=o(a,u),y=0;y<v.length;y++)(m=v[y]).getAttribute("data-placeholder-background")&&(m.style.background=m.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=o(a,u),e=0;e<t.length;e++)r(t[e])||(h?h.observe(t[e]):(p(t[e]),n(t[e]),f(t[e])))},triggerLoad:function(t){r(t)||(p(t),n(t),f(t))},observer:h}}}()}});