"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4220],{32446:function(e,n,a){a.d(n,{Z:function(){return B}});var t=a(50029),s=a(87794),r=a.n(s),i=a(67294),l=a(11163),o=a(92814),c=a(51436),d=a(43832),m=a(44987),u=a(48954),g=a(7057),x=a(23754),h=a(53623),f=a(46470),p=a(85893),b=function(e){var n=(0,i.useState)(""),a=n[0],s=n[1],d=(0,i.useState)(""),m=d[0],u=d[1],b=(0,h.nw)().dispatch,v=function(){var e=(0,t.Z)(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.A.validateAsync(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=(0,t.Z)(r().mark((function e(n){var t,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),t={lastName:a,bookingReference:m},e.next=5,v(t);case 5:l.default.push({pathname:"/online-checkin",query:t}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),s=(0,f.dz)(e.t0),b({type:x.Dv,payload:{type:"error",message:s}}),console.log("error: ",s);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("form",{children:(0,p.jsx)("div",{className:"mt-2 hidden lg:block",children:(0,p.jsxs)("div",{className:"grid grid-cols-3 gap-2 pb-12",children:[(0,p.jsx)("div",{className:"col-span-1",children:(0,p.jsx)("input",{type:"text",name:"lastName",placeholder:"Lastname",value:a,onChange:function(e){return s(e.target.value)},className:"block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md  text-gray-700 shadow-sm"})}),(0,p.jsx)("div",{className:"col-span-1",children:(0,p.jsx)("input",{type:"text",name:"bookingReference",placeholder:"Booking Reference (from ticket)",value:m,onChange:function(e){return u(e.target.value)},className:"".concat(m.length>0&&"uppercase"," block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md text-gray-700 shadow-sm")})}),(0,p.jsx)("div",{className:"col-span-1",children:(0,p.jsx)("button",{onClick:j,className:"w-full justify-self-end px-6 py-2 shadow-sm text-base font-medium rounded-md text-white bg-primary focus:outline-none focus:ring-2 focus:ring-secondary",children:"Submit"})})]})})}),(0,p.jsx)("form",{children:(0,p.jsxs)("div",{className:"max-w-4xl pt-24 mx-auto bg-white lg:shadow-lg lg:rounded-lg px-8 py-8 relative h-screen lg:hidden",children:[(0,p.jsxs)("div",{className:"grid grid-flow-col gap-1 justify-between mb-4 border-b-2 pb-4",children:[(0,p.jsx)("h2",{className:"text-xl font-roboto font-bold",children:"Online Check In"}),(0,p.jsx)(o.G,{icon:c.NBC,size:"lg",onClick:e.closeMe})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,p.jsx)("div",{className:"col-span-2 sm:col-span-1",children:(0,p.jsx)("input",{type:"text",name:"lastName",value:a,placeholder:"Lastname",className:"mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm",onChange:function(e){return s(e.target.value)}})}),(0,p.jsx)("div",{className:"col-span-2 sm:col-span-1",children:(0,p.jsx)("input",{type:"text",name:"bookingReference",value:m,placeholder:"Booking Reference (from ticket)",className:"".concat(m.length>0&&"uppercase"," mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm"),onChange:function(e){return u(e.target.value)}})}),(0,p.jsx)("div",{className:"col-span-full justify-center my-3 py-3",children:(0,p.jsx)("button",{className:"bg-primary w-full h-12 rounded-md text-white",onClick:j,children:"Submit"})})]})]})})]})},v=a(48746),j=a(18579),y=a(11712),N=a(63105),w=a(60318),k=function(e){var n,a,s=(0,i.useState)(""),d=(s[0],s[1]),m=(0,i.useState)(""),u=m[0],g=m[1],x=(0,i.useState)(""),h=x[0],f=x[1],b=(0,j.l)().dispatch,k=(0,i.useState)(!1),C=k[0],S=k[1],q=(0,i.useState)(!1),B=q[0],I=q[1],Z=(0,i.useState)(!1),R=Z[0],F=Z[1],z=(0,l.useRouter)(),M=function(e,n){switch(e){case"firstName":d(n),G.message===E&&D({});break;case"lastName":g(n),G.message===L&&D({});break;case"reference":f(n),G.message===_&&D({})}},O=(0,i.useState)({}),G=O[0],D=O[1],E="Please enter your first name",L="Please enter your last name",_="Please enter your booking reference",K=function(e){var n,a=!1;return null===e||void 0===e||null===(n=e.reservations)||void 0===n||n.forEach((function(e){"infant"===(null===e||void 0===e?void 0:e.type)&&(a=!0)})),a},P=function(){var e=(0,t.Z)(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===u.length?D({message:L}):0===h.length&&D({message:_}),!((!G.message||0===(null===G||void 0===G||null===(n=G.message)||void 0===n?void 0:n.length))&&u.length>0&&h.length>0)){e.next=7;break}return a={pnr:h,surname:u},sessionStorage.setItem("lastName",u),S(!0),e.next=7,(0,v.gL)(a).then((function(e){S(!1),K(e)?(I(!0),F(!0)):(b({type:"SET_BOOKING_INFO",payload:e}),sessionStorage.setItem("manageBookingInfo",JSON.stringify(e)),z.push("/manage-booking"))})).catch((function(e){console.log("booking details",e),S(!1),D({message:null===e||void 0===e?void 0:e.message})}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){F(!1)},T=(0,p.jsxs)("div",{children:[(0,p.jsx)(o.G,{size:"lg",icon:c.sqG,className:"text-indigo-500"}),(0,p.jsx)("span",{className:"px-2 font-bold text-xl",children:"Info"})]}),V=(0,p.jsx)("div",{children:(0,p.jsx)(N.z,{label:"Close",onClick:A,autoFocus:!0})});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(w.Z,{open:C}),(0,p.jsxs)(y.V,{header:T,footer:V,visible:B&&R,onHide:A,className:"max-w-2xl mx-3 shadow-lg bg-gray-400",children:["We are currently unable to modify your booking, kindly send an email to our contact center at ",(0,p.jsx)("a",{href:"mailto:contactcenter@flyvaluejet.com",className:"text-indigo-500",children:"contactcenter@flyvaluejet.com"})," or call any of our help lines for assistance."]}),(0,p.jsx)("form",{onSubmit:function(e){e.preventDefault(),P(),D({})},children:(0,p.jsx)("div",{className:"mt-2 hidden lg:block",children:(0,p.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,p.jsx)("div",{className:"col-span-1",children:(0,p.jsx)("input",{type:"text",name:"lastName",value:u,placeholder:"Lastname",onChange:function(e){return M("lastName",e.target.value)},className:"mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm"})}),(0,p.jsx)("div",{className:"col-span-1",children:(0,p.jsx)("input",{type:"text",name:"Booking Reference",value:h,placeholder:"Booking Reference (from ticket)",onChange:function(e){return M("reference",e.target.value)},className:"".concat(h.length>0&&"uppercase"," mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm")})}),(0,p.jsx)("div",{className:"col-span-1",children:(0,p.jsx)("button",{type:"submit",className:"mt-1 col-span-2 w-full px-6 py-2 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary",children:"Manage booking"})}),(0,p.jsx)("div",{className:"grid ml-6 my-6 py-3 lg:order-1 text-lg text-secondary justify-self-start justify-start",children:(null===G||void 0===G||null===(n=G.message)||void 0===n?void 0:n.length)>0&&(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"animate-ping",children:(0,p.jsx)(o.G,{icon:c.diR})}),(0,p.jsx)("span",{className:"ml-2",children:G.message})]})})]})})}),(0,p.jsx)("form",{onSubmit:function(e){e.preventDefault(),P(),D({})},children:(0,p.jsxs)("div",{className:"max-w-4xl mx-auto bg-white lg:shadow-lg lg:rounded-lg mt-3 px-8 py-8 relative h-screen lg:hidden",children:[(0,p.jsxs)("div",{className:"grid grid-flow-col gap-1 justify-between mb-4 mt-20 border-b-2 pb-4",children:[(0,p.jsx)("h2",{className:"text-xl font-roboto font-bold",children:"Manage booking"}),(0,p.jsx)(o.G,{icon:c.NBC,size:"lg",className:"",onClick:e.closeMe})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,p.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,p.jsx)("label",{className:"block text-sm font-medium leading-5 text-gray-700",children:"Lastname"}),(0,p.jsx)("input",{type:"text",name:"lastName",value:u,className:"mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm",onChange:function(e){return M("lastName",e.target.value)}})]}),(0,p.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,p.jsx)("label",{className:"block text-sm font-medium leading-5 text-gray-700",children:"Booking Reference (from ticket)"}),(0,p.jsx)("input",{type:"text",name:"Booking Reference",value:h,className:"uppercase mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm",onChange:function(e){return M("reference",e.target.value)}})]}),(0,p.jsx)("div",{className:"grid col-span-2 lg-col-span-3 h-30 my-3 py-3 lg:order-1 text-lg text-secondary justify-center lg:justify-start",children:(null===G||void 0===G||null===(a=G.message)||void 0===a?void 0:a.length)>0&&(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"animate-ping",children:(0,p.jsx)(o.G,{icon:c.diR})}),(0,p.jsx)("span",{className:"ml-2",children:G.message})]})}),(0,p.jsx)("div",{className:"col-span-full justify-center mt-0",children:(0,p.jsx)("button",{type:"submit",className:"w-full px-6 py-3 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary",children:"Submit"})})]})]})})]})},C=function(e){var n=(0,i.useState)(""),a=n[0],t=n[1],s=(0,i.useState)(""),r=s[0],l=s[1],d=(0,i.useState)(""),m=d[0],u=d[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("form",{children:(0,p.jsx)("div",{className:"mt-2 hidden lg:block",children:(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,p.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,p.jsx)("label",{className:"block text-sm font-medium leading-5 text-gray-700",children:"Firsname"}),(0,p.jsx)("input",{type:"text",name:"firstName",value:a,onChange:function(e){return t(e.target.value)},className:"mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm "})]}),(0,p.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,p.jsx)("label",{className:"block text-sm font-medium leading-5 text-gray-700",children:"Lastname"}),(0,p.jsx)("input",{type:"text",name:"lastName",value:r,onChange:function(e){return l(e.target.value)},className:"mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm"})]}),(0,p.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,p.jsx)("label",{className:"block text-sm font-medium leading-5 text-gray-700",children:"Flight number"}),(0,p.jsx)("input",{type:"number",name:"flightNumber",value:m,onChange:function(e){return u(e.target.value)},className:"mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm"})]}),(0,p.jsx)("button",{type:"button",className:"col-span-2 w-64 px-6 py-3 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary",children:"Find flights"})]})})}),(0,p.jsx)("form",{children:(0,p.jsxs)("div",{className:"max-w-4xl mx-auto bg-white lg:shadow-lg lg:rounded-lg mt-3 px-8 py-8 relative h-screen lg:hidden",children:[(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-1 justify-items-center mb-4 border-b-2 pb-4",children:[(0,p.jsx)("h2",{className:"text-xl font-roboto font-bold",children:"Flight status"}),(0,p.jsx)(o.G,{icon:c.NBC,size:"lg",className:"ml-24",onClick:e.closeMe})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,p.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,p.jsx)("label",{className:"block text-sm font-medium leading-5 text-gray-700",children:"Firstname"}),(0,p.jsx)("input",{type:"text",name:"firstName",value:a,className:"mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm ",onChange:function(e){return t(e.target.value)}})]}),(0,p.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,p.jsx)("label",{className:"block text-sm font-medium leading-5 text-gray-700",children:"Lastname"}),(0,p.jsx)("input",{type:"text",name:"lastName",value:r,className:"mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm",onChange:function(e){return l(e.target.value)}})]}),(0,p.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,p.jsx)("label",{className:"block text-sm font-medium leading-5 text-gray-700",children:"Flight number"}),(0,p.jsx)("input",{type:"number",name:"flightNumber",value:m,className:"mt-1 block form-input w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm",onChange:function(e){return u(e.target.value)}})]}),(0,p.jsx)("div",{className:"col-span-2 sm:col-span-1 mt-96",children:(0,p.jsx)("button",{className:"bg-secondary w-full h-12 rounded-md",children:"Check status"})})]})]})})]})},S=a(1706),q=a(13546),B=function(e){var n=e.isBookingPage,a=void 0!==n&&n,s=(0,l.useRouter)().query,g=(0,j.l)(),x=g.state,h=x.airports,v=(x.flightData,g.dispatch,(0,i.useState)(s.destination)),y=v[0],N=v[1],w=(0,i.useState)(""),B=w[0],I=w[1],Z=(0,i.useState)(!!a),R=Z[0],F=Z[1],z="staging"===q.IK?[{value:"flightSearch",name:"Book",icon:c.wKO},{value:"checkIn",name:"Online Check-in",icon:c.a3n},{value:"manageBooking",name:"Manage My Booking",icon:c.Xcf,disabled:!1}]:[{value:"flightSearch",name:"Book",icon:c.wKO},{value:"checkIn",name:"Online Check-in",icon:c.a3n}];(0,i.useEffect)((function(){if(a){var e=document.getElementsByTagName("body")[0];N(s.destination),(0,t.Z)(r().mark((function n(){var a,t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.wV)();case 2:(t=n.sent)===(null===(a=h.find((function(e){return(null===e||void 0===e?void 0:e.cityCode)===t})))||void 0===a?void 0:a.cityCode)?(I(t),F(!1)):F(!1),e.style.overflow="auto";case 5:case"end":return n.stop()}}),n)})))()}}),[]),(0,i.useEffect)((function(){var e=s.tab,n=s.destination;e&&z.map((function(e){return e.value})).includes(e)&&G(e),N(n)}),[s]),(0,i.useEffect)((function(){F(!0),F(!1)}),[B,y]);var M=(0,i.useState)("flightSearch"),O=M[0],G=M[1],D=(0,i.useState)(""),E=D[0],L=D[1];function _(){L("")}return(0,p.jsxs)("div",{"data-testid":"booking-engine-container",className:"w-full bg-gray-50 pt-12",children:[(0,p.jsx)(d.Z,{children:(0,p.jsxs)("div",{className:"w-full mx-auto pb-4 ".concat(""," hidden lg:block"),children:[(0,p.jsx)("div",{className:"grid grid-cols-3 lg:px-8",children:(0,p.jsx)("div",{className:"grid grid-cols-3 gap-2 col-span-2",children:null===z||void 0===z?void 0:z.map((function(e,n){return(0,p.jsx)("div",{className:"grid col-span-1",children:(0,p.jsxs)("button",{"data-testid":"booking-tab-".concat(n),type:"button",value:e.value,disabled:e.disabled,onClick:function(e){G(e.target.value)},className:"inline-flex items-center justify-center px-6 py-3 border border-transparent shadow-sm font-normal text-lg capitalize  rounded-md ".concat(O!==e.value||e.disabled?"bg-gray-100 text-primary":"bg-secondary text-white"," ").concat(e.disabled?"bg-gray-300 opacity-60 cursor-not-allowed":"focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-transparent"),children:[(0,p.jsx)(o.G,{"data-testid":"booking-tab-icon-".concat(n),icon:e.icon,className:"mr-2"}),e.name]})},e.value)}))})}),(0,p.jsx)("div",{"data-testid":"booking-engine-tab-content",className:"px-8",children:"flightSearch"===O&&R?(0,p.jsx)("div",{className:"w-full pt-6 flex justify-center",children:(0,p.jsx)(S.Z,{size:80})}):"flightSearch"!==O||R?"checkIn"===O?(0,p.jsx)(b,{}):"manageBooking"===O?(0,p.jsx)(k,{}):"flightStatus"===O?(0,p.jsx)(C,{}):null:(0,p.jsx)(u.Z,{departureCode:B,destinationCode:y})})]})}),(0,p.jsx)("div",{className:"grid grid-cols-2 grid-rows-1 sm:grid-rows-1 mx-4 gap-1 -mt-4 lg:hidden",children:null===z||void 0===z?void 0:z.map((function(e,n){return(0,p.jsx)("div",{className:"bg-gray-100 rounded ".concat(e.disabled?"bg-gray-200 text-gray-400 cursor-not-allowed":""),children:(0,p.jsxs)("button",{"data-testid":"booking-tab-".concat(n,"-mobile"),className:"block w-full p-5",value:e.value,disabled:e.disabled,onClick:function(){return L(e.value)},children:[(0,p.jsx)(o.G,{"data-testid":"booking-tab-icon-".concat(n,"-mobile"),icon:e.icon,className:"mr-2"}),(0,p.jsx)("h3",{children:e.name})]})},e.value)}))}),"flightSearch"===E||!0===a?(0,p.jsx)(m.Z,{className:"lg:hidden",open:"flightSearch"===E||!0===a,style:{zIndex:"9998"},children:(0,p.jsx)("div",{"data-testid":"booking-engine-tab-content-mobile",className:"fixed w-full h-full top-0",children:R?(0,p.jsx)("div",{className:"w-full pt-6 flex justify-center",children:(0,p.jsx)(S.Z,{size:80})}):(0,p.jsx)(u.Z,{departureCode:B,destinationCode:y,closeMe:_})})}):"checkIn"===E?(0,p.jsx)(m.Z,{open:"checkIn"===E,style:{zIndex:"9998"},children:(0,p.jsx)("div",{children:(0,p.jsx)(b,{closeMe:_})})}):"manageBooking"===E?(0,p.jsx)(m.Z,{open:"manageBooking"===E,children:(0,p.jsx)("div",{children:(0,p.jsx)(k,{closeMe:_})})}):"flightStatus"===E?(0,p.jsx)(m.Z,{open:"flightStatus"===E,children:(0,p.jsx)("div",{children:(0,p.jsx)(C,{closeMe:_})})}):null]})}},11015:function(e,n,a){a(67294),a(71344),a(73186),a(85893)},7057:function(e,n,a){a.d(n,{kF:function(){return s},jj:function(){return r},Wj:function(){return i},A:function(){return l}});var t=a(42705),s=(t.object({firstName:t.string().min(3).max(30).required(),lastName:t.string().min(3).max(30).required(),email:t.string().email({tlds:{allow:!1}}).required()}),t.object({ContactfirstName:t.string().min(3).max(30).required(),ContactlastName:t.string().min(3).max(30).required(),Contactemail:t.string().email({minDomainSegments:2,tlds:{allow:["com","net","co","org"]}}).required(),ContactmobileNumber:t.string().min(7).max(15).required()}).with("ContactfirstName","Contactemail"),t.object({firstName:t.string().min(3).max(30),lastName:t.string().min(3).max(30),email:t.string().email({minDomainSegments:2,tlds:{allow:["com","net","co","org"]}}),phoneNumber:t.string().min(7).max(15),gender:t.string()})),r=t.object({firstName:t.string().min(3).max(30).required(),lastName:t.string().min(3).max(30).required(),email:t.string().email({minDomainSegments:2,tlds:{allow:["com","net","co","org"]}}).required(),phoneNumber:t.string().min(7).max(15).required(),hasInsurance:t.boolean().required(),milesNumber:t.string().min(0).max(15),dateOfBirth:t.date().required(),gender:t.string().required(),type:t.string().required()}),i=t.object({firstName:t.string().min(3).max(30).required(),lastName:t.string().min(3).max(30).required(),email:t.string().email({minDomainSegments:2,tlds:{allow:["com","net","co","org"]}}).optional().allow(""),hasInsurance:t.boolean().required(),milesNumber:t.string().min(0).max(15),phoneNumber:t.string().min(7).max(15).optional().allow(""),dateOfBirth:t.date().required(),gender:t.string().required(),type:t.string().required()}),l=t.object({lastName:t.string().min(3).max(30).required(),bookingReference:t.string().required()})}}]);