;
(self.AMP=self.AMP||[]).push({m:0,v:"2307052224000",n:"amp-carousel",ev:"0.2",l:!1,f:function(t,i){!function(){var i,n=function(){var t=this;this.promise=new Promise((function(i,n){t.resolve=i,t.reject=n}))};function s(t,i){return(s=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(t,i){if(i&&("object"===o(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}Array.isArray;var h=Object.prototype,u=h.hasOwnProperty;function a(t,i,n,s,r,o,e,h,u,a,l){return t}h.toString;var l,c,f=!0,m=!0;function p(t){return function(t,i){if(a(1===i.length),a(Array.isArray(i)||(s=i,u.call(s,"raw"))),self.trustedTypes&&self.trustedTypes.createPolicy){var n=self.trustedTypes.createPolicy("static-template#createNode",{createHTML:function(t){return i[0]}});t.innerHTML=n.createHTML("ignored")}else t.innerHTML=i[0];var s,r=t.firstElementChild;return a(r),a(!r.nextElementSibling),t.removeChild(r),r}(l,t)}var v=["Webkit","webkit","Moz","moz","ms","O","o"],d={"getPropertyPriority":function(){return""},"getPropertyValue":function(){return""}};function b(t){var i=t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));return v.some((function(t){return i.startsWith(t+"-")}))?"-".concat(i):i}function g(t,i,n){if(S(i))return i;c||(c=Object.create(null));var s=c[i];if(!s||n){if(s=i,void 0===t[i]){var r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),o=function(t,i){for(var n=0;n<v.length;n++){var s=v[n]+i;if(void 0!==t[s])return s}return""}(t,r);void 0!==t[o]&&(s=o)}n||(c[i]=s)}return s}function x(t,i){var n=t.style;for(var s in i)n.setProperty(b(g(n,s)),String(i[s]),"important")}function w(t,i,n,s,r){var o=g(t.style,i,r);if(o){var e=s?n+s:n;t.style.setProperty(b(o),e)}}function y(t,i){return t.getComputedStyle(i)||d}function S(t){return t.startsWith("--")}function M(t,i,n){var s=0,r=0,o=null;function e(){s=0;var h,u=n-(t.Date.now()-r);u>0?s=t.setTimeout(e,u):(h=o,o=null,i.apply(null,h))}return function(){r=t.Date.now();for(var i=arguments.length,h=new Array(i),u=0;u<i;u++)h[u]=arguments[u];o=h,s||(s=t.setTimeout(e,n))}}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var z=self.__AMP_LOG;function k(t,i){throw new Error("failed to call initLogConstructor")}function N(t){return k()}function j(t,i,n,s,r,o,e,h,u,a,l){return t}function E(t,i){return C(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function O(t,i){return C(A(R(t)),i)}function P(t,i){return _(A(t),i)}function R(t){return t.nodeType?(n=t,i=(n.ownerDocument||n).defaultView,E(i,"ampdoc")).getAmpDoc(t):t;var i,n}function A(t){var i=R(t);return i.isSingleDoc()?i.win:i}function C(t,i){j(I(t,i));var n=T(t)[i];return n.obj||(j(n.ctor),j(n.context),n.obj=new n.ctor(n.context),j(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function _(t,i){var n=T(t)[i];return n?n.promise?n.promise:(C(t,i),n.promise=Promise.resolve(n.obj)):null}function T(t){var i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}function I(t,i){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!n||!n.ctor)}var L,B=function(t){return function(t,i,s,r){var o=P(t,i);if(o)return o;var e=R(t);return e.whenExtensionsKnown().then((function(){var t=e.getExtensionVersion(s);return t?E(e.win,"extensions").waitForExtension(s,t):null})).then((function(s){return s?function(t,i){return function(t,i){var s=_(t,i);if(s)return s;var r,o,e,h,u=T(t);return u[i]=(o=(r=new n).promise,e=r.reject,h=r.resolve,o.catch((function(){})),{obj:null,promise:o,resolve:h,reject:e,context:null,ctor:null}),u[i].promise}(A(t),i)}(t,i):null}))}(t,"amp-analytics-instrumentation","amp-analytics")},U=function(t){return O(t,"owners")};function H(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];B(t).then((function(r){r&&r.triggerEventForTarget(t,i,n,s)}))}function W(t,i,n,s){var r=t,o=n,e=function(t){try{return o(t)}catch(t){var i,n;throw null===(i=(n=self).__AMP_REPORT_ERROR)||void 0===i||i.call(n,t),t}},h=function(){if(void 0!==L)return L;L=!1;try{var t={get capture(){return L=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return L}(),u=!(null==s||!s.capture);return r.addEventListener(i,e,h?s:u),function(){null==r||r.removeEventListener(i,e,h?s:u),o=null,r=null,e=null}}function V(t,i,n,s){var r={detail:n};if(Object.assign(r,s),"function"==typeof t.CustomEvent)return new t.CustomEvent(i,r);var o=t.document.createEvent("CustomEvent");return o.initCustomEvent(i,!!r.bubbles,!!r.cancelable,n),o}function D(t,i,n,s){return W(t,i,n,s)}function F(t){return t.detail}function X(t,i,n,s){var r=n,o=W(t,i,(function(t){try{r(t)}finally{r=null,o()}}),s);return o}function Z(t,i){return t>0&&i>0?t%i:(t%i+i)%i}function q(t,i,n){return a(i<=n),Math.min(Math.max(t,i),n)}var G="amp-carousel:indexchange",J="amp-carousel:scrollstart",K="amp-carousel:scrollpositionchange",Q=function(){function t(t){var i=this,n=t.advanceable,s=t.element,r=t.scrollContainer,o=t.win;this.t=o,this.z7=r,this.N7=n,this.E7=0,this.R7=!1,this.L7=1,this.C7=1e3,this.I7=!1,this._7=!1,this.B7=null,this.W7=Number.POSITIVE_INFINITY,this.Wi=s.getAmpDoc(),this.U7(this.C7),this.z7.addEventListener("scroll",(function(){return i.Z7()}),!0),D(this.z7,"touchstart",(function(){return i.H7()}),{capture:!0,passive:!0}),D(s,G,(function(t){i.V7(t)}))}var i=t.prototype;return i.stop=function(){this._7=!0},i.pause=function(){this.I7=!0},i.resume=function(){this.I7=!1,this.D7()},i.updateAutoAdvance=function(t){this.R7=t,this.D7()},i.updateAutoAdvanceCount=function(t){this.L7=t,this.D7()},i.updateAutoAdvanceInterval=function(t){this.C7=Math.max(t,1e3),this.U7(this.C7),this.D7()},i.updateMaxAdvances=function(t){this.W7=t},i.U7=function(t){var i=this,n=M(this.t,(function(){n==i.B7&&i.F7()}),t);this.B7=n},i.H7=function(){var t=this;this.pause(),X(window,"touchend",(function(){t.resume()}),{capture:!0,passive:!0})},i.Q7=function(){return this.R7&&this.Wi.isVisible()&&!this.I7&&!this._7&&this.E7<this.W7},i.Z7=function(){this.D7()},i.V7=function(t){var i=F(t).actionSource;i&&4!==i&&this.stop()},i.F7=function(){this.Q7()&&(this.N7.advance(this.L7,{actionSource:4,allowWrap:!0}),this.E7+=this.L7)},i.D7=function(){this.Q7()&&this.B7()},t}(),Y=function(){function t(t){var i=this,n=t.element,s=t.runMutate,r=t.scrollContainer,o=t.stoppable,e=t.win;this.t=e,this.z7=r,this.X7=s,this.G7=[],this.J7=1,this.K7=!1,this.Y7=!1,this.os=0,n.addEventListener("focus",(function(){o.stop()}),!0),n.addEventListener(G,(function(t){i.ttt(t)}))}var i=t.prototype;return i.updateMixedLength=function(t){this.K7=t},i.updateUi=function(){var t=this;this.Y7||(this.Y7=!0,this.X7((function(){t.Y7=!1,t.itt(),t.ntt()})))},i.updateSlides=function(t){this.G7=t,this.updateUi()},i.updateVisibleCount=function(t){this.J7=t,this.updateUi()},i.stt=function(){return this.K7||this.J7>=2},i.itt=function(){this.stt()?(this.z7.removeAttribute("aria-live"),this.z7.setAttribute("role","list"),this.G7.forEach((function(t){t.setAttribute("role","listitem")}))):(this.z7.setAttribute("aria-live","polite"),this.z7.removeAttribute("role"),this.G7.forEach((function(t){t.removeAttribute("role")})))},i.ntt=function(){var t=this;this.G7.forEach((function(i,n){var s=!t.stt()&&n!==t.os;i.setAttribute("aria-hidden",s)}))},i.ttt=function(t){var i=this,n=F(t).index;this.os=n,this.X7((function(){i.ntt()}))},t}(),$="start";function tt(t,i){var n=i.getBoundingClientRect(),s=n.bottom,r=n.height,o=n.left,e=n.right,h=n.top,u=n.width;return{start:0==t?o:h,end:0==t?e:s,length:0==t?u:r}}function it(t,i){var n=tt(t,i),s=n.end;return(n.start+s)/2}function nt(t,i){return tt(t,i).start}function st(t,i,n){return i==$?nt(t,n):it(t,n)}function rt(t,i,n){w(i,0==t?"width":"height","".concat(n,"px"))}function ot(t,i,n){var s=tt(t,i),r=s.end;return s.start<=n&&n<r}function et(t,i,n,s){return(st(t,i,s)-st(t,i,n))/tt(t,s).length}function ht(t,i,n){!function(t,i,n){0==t?i.scrollLeft=n:i.scrollTop=n}(t,i,function(t,i){return 0==t?i.scrollLeft:i.scrollTop}(t,i)+n)}var ut="i-amphtml-carousel-spacer";function at(t,i){var n=function(t,i,n){var s=g(t.style,"scrollBehavior",void 0);if(s)return S(s)?t.style.getPropertyValue(s):t.style[s]}(t);w(t,"scrollBehavior","auto"),i(),w(t,"scrollBehavior",n)}function lt(t){return t.reduce((function(t,i){return t+i}),0)}var ct=function(){function t(t){var i=this,n=t.element,s=t.initialIndex,r=t.runMutate,o=t.scrollContainer,e=t.win;this.t=e,this.X7=r,this.tf=n,this.z7=o,this.R7=new Q({win:e,element:n,scrollContainer:o,advanceable:this}),this.ott=new Y({win:e,element:n,scrollContainer:o,runMutate:r,stoppable:this.R7}),this.ett=M(e,(function(){return i.att()}),200),this.htt=1,this.utt=Number.POSITIVE_INFINITY,this.K7=!1,this.G7=[],this.ltt=!0,this.Y7=!1,this.ctt=[],this.ftt=[],this.mtt=[],this.vtt=[],this.ptt=!1,this.dtt=!1,this.btt=0,this.wtt=null,this.xtt=NaN,this.gtt=!1,this.ytt=!1,this.ktt=void 0,this.Mtt=$,this.Stt=0,this.ztt=!0,this.Ntt=!0,this.BG=s||0,this.Nc=!1,this.Y$=!0,this.jtt=1,this.J7=1,this.z7.addEventListener("scroll",(function(){return i.Z7()}),!0),this.z7.addEventListener("scrollend",(function(){return i.Ett()}),!0),D(this.z7,"touchstart",(function(){return i.H7()}),{capture:!0,passive:!0}),D(this.z7,"wheel",(function(){return i.Ott()}),{capture:!0,passive:!0})}var i=t.prototype;return i.next=function(t){this.advance(this.htt,{actionSource:t})},i.prev=function(t){this.advance(-this.htt,{actionSource:t})},i.advance=function(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.BG,r=this.wtt,o=this.G7,e=n.actionSource,h=n.allowWrap,u=void 0!==h&&h,a=null!==r?r:s,l=a+t,c=o.length-1,f=0===a,m=a===c,p=l<0,v=l>c,d=t>0&&this.Rtt(a)&&this.Rtt(l);i=this.isLooping()?Z(l,c+1):u?d?0:p&&f||v&&!m?c:p&&!f||v&&m?0:l:d?a:q(l,0,c),this.goToSlide(i,{actionSource:e})},i.pauseLayout=function(){this.ptt=!0,this.R7.pause()},i.resumeLayout=function(){this.ptt=!1,this.updateUi(),this.R7.resume()},i.getCurrentIndex=function(){return this.BG},i.getVisibleCount=function(){return this.J7},i.isLooping=function(){return this.Nc&&this.G7.length/this.J7>=3},i.goToSlide=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.actionSource,s=i.smoothScroll,r=void 0===s||s;t<0||t>this.G7.length-1||isNaN(t)||t!==this.BG&&(this.gtt||this.Att()||(this.dtt=!1,this.wtt=t,this.ktt=n,this.Ltt(this.G7[t],{smoothScroll:r})))},i.updateAdvanceCount=function(t){this.htt=t},i.updateAlignment=function(t){this.Mtt="start"===t?$:"center",this.updateUi()},i.updateAutoAdvance=function(t){this.R7.updateAutoAdvance(t)},i.updateAutoAdvanceCount=function(t){this.R7.updateAutoAdvanceCount(t)},i.updateAutoAdvanceInterval=function(t){this.R7.updateAutoAdvanceInterval(t)},i.updateAutoAdvanceLoops=function(t){this.utt=t,this.updateUi()},i.updateForwards=function(t){this.ztt=t,this.updateUi()},i.updateHideScrollbar=function(t){this.Ntt=t,this.updateUi()},i.updateHorizontal=function(t){this.Stt=t?0:1,this.updateUi()},i.updateLoop=function(t){this.Nc=t,this.updateUi()},i.updateMixedLength=function(t){this.K7=t,this.ott.updateMixedLength(t),this.updateUi()},i.updateSlides=function(t){var i=t.length;if(i)this.G7=t,this.BG=this.isLooping()?Z(this.BG,i):q(this.BG,0,i-1)||0,this.ott.updateSlides(t),this.updateUi();else{var n=this.tf.tagName.toUpperCase();(z.dev||(z.dev=k())).warn(n,"No slides were found.")}},i.updateSnap=function(t){this.Y$=t,this.updateUi()},i.updateSnapBy=function(t){this.jtt=Math.max(1,t),this.updateUi()},i.updateUserScrollable=function(t){this.ltt=t,this.updateUi()},i.updateUi=function(){var t=this;this.Y7||this.ptt||(this.Y7=!0,this.X7((function(){t.Y7=!1,t.z7.setAttribute("mixed-length",t.K7),t.z7.setAttribute("user-scrollable",t.ltt),t.z7.setAttribute("hide-scrollbar",t.Ntt),t.z7.setAttribute("horizontal",0===t.Stt),t.z7.setAttribute("loop",t.isLooping()),t.z7.setAttribute("snap",t.Y$),x(t.z7,{"--visible-count":t.J7}),t.G7.length&&(t.R7.updateMaxAdvances(t.utt*t.G7.length-1),t.Ctt(),t.Itt(),t._tt(),t.att(!0))})))},i.updateVisibleCount=function(t){this.J7=Math.max(1,t),this.ott.updateVisibleCount(t),this.updateUi()},i.Ptt=function(t,i){this.xtt!==t&&(this.xtt=t,this.tf.dispatchEvent(V(this.t,G,{"index":t,"total":this.G7.length,"actionSource":i,"slides":this.G7},{bubbles:!0})))},i.Btt=function(t,i){this.BG=t,this.btt=i,this.tf.dispatchEvent(V(this.t,"amp-carousel:offsetchange",{"index":t,"total":this.G7.length,"offset":this.ztt?-i:i,"slides":this.G7},{bubbles:!0}))},i.notifyScrollStart=function(){this.tf.dispatchEvent(V(this.t,J,null))},i.Ttt=function(){this.tf.dispatchEvent(V(this.t,K,null))},i.H7=function(){var t=this;this.gtt=!0,this.ktt=3,this.wtt=null,this.dtt=!1,X(window,"touchend",(function(){t.gtt=!1,t.ett()}),{capture:!0,passive:!0})},i.Ott=function(){this.ktt=2,this.wtt=null,this.dtt=!1},i.Z7=function(){this.dtt?this.dtt=!1:(this.ytt=!0,this.Wtt(),this.notifyScrollStart(),this.ett())},i.Ett=function(){null===this.wtt&&this.att()},i.Att=function(){return this.ytt&&(3===this.ktt||2===this.ktt)},i.Utt=function(t,i,n){var s=i*n*(this.ztt?1:-1);!function(t,i,n){var s=0==t?n:0,r=0==t?0:n;w(i,"transform","translate(".concat(s,"px, ").concat(r,"px)")),x(i,{"--content-transform":"translate(".concat(s,"px, ").concat(r,"px)")})}(this.Stt,t,s),t._revolutions=i},i.Ztt=function(t){var i=this;this.G7.forEach((function(n){i.Utt(n,0,t)}))},i.Htt=function(){var t=this;return this.G7.map((function(i){return tt(t.Stt,i).length}))},i.isAtEnd=function(){return!this.isLooping()&&this.Vtt()},i.isAtStart=function(){return!this.isLooping()&&this.$tt()},i.Vtt=function(){var t=this.z7,i=t.getBoundingClientRect().width*(this.ztt?1:-1),n=this.ztt?Math.ceil(i):Math.floor(i),s=t.scrollLeft+n,r=t.scrollWidth;return this.ztt?s>=r:s<=-r},i.$tt=function(){var t=this.z7.scrollLeft;return this.ztt?t<=0:t>=0},i.Dtt=function(t){for(var i=[],n=0;n<t;n++){var s=document.createElement("div");s.className=ut,i.push(s)}return i},i.Ctt=function(){var t=this,i=this.Stt,n=this.G7,s=this.Htt(),r=lt(s),o=this.isLooping()?n.length:0;this.ctt.forEach((function(i){t.z7.removeChild(i)})),this.ctt=this.Dtt(o),this.ctt.forEach((function(r,o){rt(i,r,s[o]),t.z7.insertBefore(r,n[0])})),this.ftt.forEach((function(i){t.z7.removeChild(i)})),this.ftt=this.Dtt(o),this.ftt.forEach((function(n,o){rt(i,n,s[o]),t.Utt(n,-1,r),t.z7.appendChild(n)})),this.mtt.forEach((function(i){t.z7.removeChild(i)})),this.mtt=this.Dtt(o),this.mtt.forEach((function(n,o){rt(i,n,s[o]),t.Utt(n,-1,r),t.z7.appendChild(n)})),this.vtt=this.ctt.concat(this.ftt,this.mtt)},i.Itt=function(){var t=this,i=this.G7.length,n=this.Mtt===$,s=1===Z(this.J7,2),r=n||s?"0%":"50%";!function(n,s){for(var o=n.length,e=0;e<o;e++)h=n[e],void 0,void 0,u=Z(e,i),a=0===Z(u,t.jtt),!h.classList.contains(ut)&&t.isLooping()||function(t,i){for(var n in i)w(t,n,i[n])}(h,{"scroll-snap-align":a?t.Mtt:"none","scroll-snap-coordinate":a?r:"none"});var h,u,a}(this.z7.children)},i._tt=function(){var t=this.mtt,i=this.ctt,n=this.BG,s=this.G7,r=Math.max(0,s.length-n-1),o=Math.max(0,n-1);i.forEach((function(t,o){var e,h,u,a=(e=n,h=o,u=i.length,(e===h?u:Z(e-h,u))>s.length-1);t.hidden=a||o<s.length-r})),t.forEach((function(i,r){var e,h,u,a=(e=n,h=r,u=t.length,(e===h?u:Z(h-e,u))>s.length-1);i.hidden=a||r>o}))},i.Wtt=function(){var t=this,i=this.Mtt,n=this.vtt,s=this.Stt,r=this.BG,o=this.z7,e=this.G7,h=lt(this.Htt()),u=!!n.length,a=u?n:e,l=function(t,i,n,s,r){var o=st(t,i,n);if(ot(t,s[r],o))return r;for(var e=1;e<=s.length/2;e++){var h=Z(r+e,s.length),u=Z(r-e,s.length);if(ot(t,s[h],o))return h;if(ot(t,s[u],o))return u}}(s,i,o,a,u?r+e.length:r);if(void 0!==l){var c=a[l],f=l%e.length,m=et(s,i,o,c);this.Btt(f,m),f!==r&&this.X7((function(){t.Ftt(h)}))}},i.att=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.ktt;if(!this.gtt&&(this.ktt=void 0,this.ytt=!1,this.X7((function(){t.Ttt()})),this.xtt!==this.BG||null!==this.wtt||i)){null!==this.wtt&&(this.BG=this.wtt,this.wtt=null,this.btt=0);var s=lt(this.Htt());this.X7((function(){t.Ptt(t.BG,n),t.Btt(t.BG,t.btt),t.Ztt(s),t._tt(),t.Ftt(s),t.Qtt()}))}},i.Qtt=function(){var t=this.Mtt,i=this.Stt,n=this.btt,s=this.BG,r=this.z7,o=this.G7[s],e=(et(i,t,r,o)-n)*tt(i,o).length;e&&(this.dtt=!0,at(r,(function(){ht(i,r,e)})))},i.Ltt=function(t,i){var n=this;(i.smoothScroll?function(t,i){return i()}:at)(this.z7,(function(){!function(t,i,n,s){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=i==$,e=tt(t,s).length,h=o?nt(t,s):it(t,s),u=o?nt(t,n):it(t,n);ht(t,n,h-u-r*e)}(n.Stt,n.Mtt,n.z7,t)}))},i.Xtt=function(t,i,n){for(var s=this.BG,r=this.xtt,o=this.G7,e=o[s]._revolutions||0,h=n?1:-1,u=1;u<=i;u++){var a=Z(s+u*h,o.length);if(a===r&&s!==r)break;var l=o[a],c=a>s!==n?e+h:e;this.Utt(l,c,t)}},i.Ftt=function(t){if(this.isLooping()){var i=this.Mtt,n=this.G7,s=this.J7,r=i===$?s-1:0,o=(n.length-1-r)/2,e=(n.length-1+r)/2;this.Xtt(t,Math.round(o),!1),this.Xtt(t,Math.round(e),!0)}},i.Rtt=function(t){var i=this.Mtt,n=this.G7,s=this.J7,r=i===$?s:s/2;return t>=n.length-r},t}(),ft="__AMP_CAROUSEL_NEAR_VIEWPORT",mt="__AMP_CAROUSEL_IN_VIEWPORT",pt=function(){function t(t){var i=t.ampElement,n=t.intersectionElement,s=t.intersectionThreshold,r=void 0===s?.01:s,o=t.nearbyMarginInPercent,e=void 0===o?100:o,h=t.viewportIntersectionThreshold,u=void 0===h?r:h,a=t.viewportIntersectionCallback,l=void 0===a?function(){}:a;this.qtt=i,this.SG=U(i.element),this.Gtt=n,this.Jtt=r,this.Ktt=e,this.Ytt=u,this.tit=l,this.iit=!1,this.f7=[],this.nit=null,this.sit=null,this.Ge=null,this.rit=!1}var i=t.prototype;return i.setQueueChanges=function(t){this.iit=t},i.oit=function(t,i){i?this.SG.scheduleLayout(this.qtt.element,t):this.SG.scheduleUnlayout(this.qtt.element,t)},i.eit=function(t,i){this.tit(t,i)},i.Gm=function(){var t=this;if(!(this.nit&&this.sit&&this.Ge)){var i=this.qtt.win;this.nit=new i.IntersectionObserver((function(i){return t.ait(i)}),{root:this.Gtt,rootMargin:"".concat(this.Ktt,"%"),threshold:this.Jtt}),this.sit=new i.IntersectionObserver((function(i){return t.hit(i)}),{root:this.Gtt,rootMargin:"".concat(this.Ktt+10,"%"),threshold:this.Jtt}),this.Ge=new i.IntersectionObserver((function(i){return t.uit(i)}),{root:this.Gtt,rootMargin:"0%",threshold:this.Ytt})}},i.ait=function(t){t.filter((function(t){return t.isIntersecting})).forEach((function(t){t.target[ft]=0})),this.iit||this.lit()},i.hit=function(t){t.filter((function(t){return!t.isIntersecting})).forEach((function(t){t.target[ft]=1})),this.iit||this.cit()},i.uit=function(t){t.forEach((function(t){var i=t.isIntersecting;t.target[mt]=i?0:1})),this.iit||this.fit()},i.flushChanges=function(){this.lit(),this.cit(),this.fit()},i.lit=function(){for(var t=0;t<this.f7.length;t++){var i=this.f7[t];0==i[ft]&&(this.oit(i,!0),i[ft]=null)}},i.cit=function(){for(var t=0;t<this.f7.length;t++){var i=this.f7[t];1==i[ft]&&(this.oit(i,!1),i[ft]=null)}},i.fit=function(){for(var t=0;t<this.f7.length;t++){var i=this.f7[t];0==i[mt]?(this.oit(i,!0),this.eit(i,!0)):1==i[mt]&&this.eit(i,!1),i[mt]=null}},i.mit=function(t){if("IntersectionObserver"in this.qtt.win){if(this.Gm(),!t)return this.nit.disconnect(),this.sit.disconnect(),void this.Ge.disconnect();for(var i=0;i<this.f7.length;i++)this.nit.observe(this.f7[i]),this.sit.observe(this.f7[i]),this.Ge.observe(this.f7[i])}},i.updateChildren=function(t){if(this.f7=t,"IntersectionObserver"in this.qtt.win){for(var i=0;i<this.f7.length;i++)this.SG.setOwner(this.f7[i],this.qtt.element);this.mit(!1),this.mit(this.rit)}},i.wasLaidOut=function(){this.rit=!0,this.mit(this.rit)},i.wasUnlaidOut=function(){this.rit=!1,this.mit(this.rit);for(var t=0;t<this.f7.length;t++)this.oit(this.f7[t],!1),this.eit(this.f7[t],!1)},t}(),vt=['<div class=i-amphtml-carousel-content><div class=i-amphtml-carousel-scroll></div><div class=i-amphtml-carousel-arrows><div tabindex=0 class="amp-carousel-button amp-carousel-button-prev"></div><div tabindex=0 class="amp-carousel-button amp-carousel-button-next"></div></div></div>'],dt="carousel",bt="slides",gt=function(t){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&s(t,i)}(c,t);var n,o,h=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=r(n);if(o){var s=r(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return e(this,t)});c.prerenderAllowed=function(){return!0};var u=c.prototype;function c(t){var i,n,s;return(i=h.call(this,t)).yZ=(s=i.win,E(s,"platform")).isIos(),i.g8=null,i.z7=null,i.G7=[],i.BG=null,i.aI="carousel",i.xj=!1,i.Cf=null,i.Tf=null,i.kit=!1,i.Ke=null,i.Mit=null,i.Vit=!1,i.qit=(n=t,O(n,"viewer")).isEmbedded(),i}return u.lX=function(){var t=this;this.registerAction("goToSlide",(function(i){var n,s,r,o=i.args,e=i.trust,h=Number(o.index||0);n=!isNaN(h),s=o.index,r=t.element,(z.user||(z.user=N()),void z.user.win?z.userForEmbed||(z.userForEmbed=N()):z.user).assert(n,"Unexpected slide index for goToSlide action: %s. %s",s,r,undefined,undefined,undefined,undefined,undefined,undefined,undefined),t.g8.goToSlide(h,{actionSource:t.Iit(e)})}),1),this.registerAction("toggleAutoplay",(function(i){var n=i.args,s=n?n.toggleOn:void 0;t.Jit(s)}),1),this.Ke.addToAllowlist("AMP-CAROUSEL","goToSlide",["email"])},u.isLayoutSupported=function(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)},u.buildCallback=function(){var t=this;this.Ke=function(t){return i="action",I(n=A(R(t)),i)?C(n,i):null;var i,n}(this.element);var i=this.element,n=this.win,s=function(t){return function(t,i){for(var n=[],s=t.firstElementChild;s;s=s.nextElementSibling)void 0,e=void 0,h=void 0,"string"==typeof(o=r=s)?e=o:1==(null==(h=o)?void 0:h.nodeType)&&(e=o.tagName),!(e&&e.toLowerCase().startsWith("i-")||r.nodeType===Node.ELEMENT_NODE&&(r.hasAttribute("placeholder")||r.hasAttribute("fallback")||r.hasAttribute("overflow")))&&n.push(s);var r,o,e,h;return n}(t)}(this.element);i.appendChild(this.Ait()),this.z7=this.element.querySelector(".i-amphtml-carousel-scroll"),this.Tf=this.element.querySelector(".amp-carousel-button-prev"),this.Cf=this.element.querySelector(".amp-carousel-button-next"),this.g8=new ct({win:n,element:i,scrollContainer:this.z7,initialIndex:Number(this.element.getAttribute("slide")||"0"),runMutate:function(i){return t.mutateElement(i)}}),this.Kit(s),this.lX(),this.element.addEventListener(G,(function(i){t.ttt(i)})),this.element.addEventListener(J,(function(){t._it()})),this.element.addEventListener(K,(function(){t.Pit()})),this.setupButtonInteraction(this.Cf,(function(){return t.interactionNext()})),this.setupButtonInteraction(this.Tf,(function(){return t.interactionPrev()})),this.Qit();var r=U(i);return this.Mit=new pt({ampElement:this,intersectionElement:this.z7,nearbyMarginInPercent:this.yZ?200:100,viewportIntersectionCallback:function(i,n){n?r.scheduleResume(t.element,i):r.schedulePause(t.element,i)}}),this.Mit.setQueueChanges(this.yZ),this.Mit.updateChildren(this.G7),this.g8.updateSlides(this.G7),this.g8.goToSlide(Number(this.element.getAttribute("slide")||"0")),this.element.hasAttribute("controls")?this.Vit=!0:function(t){return E(t,"input")}(this.win).onMouseDetected((function(i){i&&(t.Vit=!0,t.Rit())}),!0),this.mutateElement((function(){}))},u.setupButtonInteraction=function(t,i){t.addEventListener("click",i),t.addEventListener("keydown",(function(t){t.defaultPrevented||"Enter"!=t.key&&" "!=t.key||(t.preventDefault(),i())}))},u.isRelayoutNeeded=function(){return!0},u.layoutCallback=function(){var t;return"[i-amphtml-scale-animation]",((t=this.element).closest?t.closest("[i-amphtml-scale-animation]"):function(t,i,n){var s;for(s=t;s&&void 0!==s;s=s.parentElement)if(i(s))return s;return null}(t,(function(t){return function(t,i){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!n&&n.call(t,"[i-amphtml-scale-animation]")}(t)})))||(this.Mit.wasLaidOut(),this.g8.updateUi()),i||(i=Promise.resolve(void 0))},u.unlayoutCallback=function(){return this.Mit.wasUnlaidOut(),!0},u.pauseCallback=function(){this.g8.pauseLayout()},u.resumeCallback=function(){this.g8.resumeLayout()},u.mutatedAttributesCallback=function(t){void 0!==t.slide&&this.g8.goToSlide(Number(t.slide))},u.goToSlide=function(t){this.g8.goToSlide(t,{smoothScroll:!1})},u.interactionNext=function(){this.aI!=dt?this.g8.next(0):this.Snt(!0)},u.interactionPrev=function(){this.aI!=dt?this.g8.prev(0):this.Snt(!1)},u.Snt=function(t){var i=j(this.z7),n=t?1:-1,s="rtl"==y(this.win,i).direction?-1:1;i.scrollLeft+=i.offsetWidth*n*s},u.Ait=function(){var t,i;return(i=(t=this.element).ownerDocument||t,l&&l.ownerDocument===i||(l=i.createElement("div")),p)(vt)},u.Iit=function(t){return t>=2?0:1},u.Kit=function(t){var i=this,n=this.element.getAttribute("dir")||y(this.win,this.element).direction,s=this.element.hasAttribute("loop"),r=this.element.getAttribute("autoplay"),o=this.element.getAttribute("delay"),e=this.element.getAttribute("type"),h=null!=r,u=r?Number(r):Number.POSITIVE_INFINITY,a=Math.max(Number(o)||5e3,1e3);this.g8.updateForwards("rtl"!=n),this.g8.updateLoop(s||h),this.g8.updateAutoAdvanceLoops(u),this.g8.updateAutoAdvanceInterval(a),this.mutateElement((function(){i.Tf.setAttribute("dir",n),i.Cf.setAttribute("dir",n)})),this.Jit(h),this.znt(e,t),this.Rit()},u.knt=function(t){return t-1>=0?t-1:this.element.hasAttribute("loop")?this.G7.length-1:null},u.Nnt=function(t){return t+1<this.G7.length?t+1:this.element.hasAttribute("loop")?0:null},u.Ent=function(){return this.element.getAttribute("data-next-button-aria-label")||"Next item in carousel"},u.Rnt=function(){return this.element.getAttribute("data-prev-button-aria-label")||"Previous item in carousel"},u.Cnt=function(){return this.element.getAttribute("data-button-count-format")||"(%s of %s)"},u._nt=function(t){var i=String(t+1),n=String(this.G7.length);return" "+this.Cnt().replace("%s",i).replace("%s",n)},u.Tnt=function(t){var i=this.knt(t),n=null==i?0:i;return this.Rnt()+this._nt(n)},u.Int=function(t){var i=this.Nnt(t),n=null==i?this.G7.length-1:i;return this.Ent()+this._nt(n)},u.Rit=function(){var t=this.g8.getCurrentIndex(),i=this.kit&&!this.Vit,n=i||this.g8.isAtStart(),s=i||this.g8.isAtEnd();this.Tf.classList.toggle("amp-disabled",n),this.Tf.setAttribute("aria-disabled",n),this.Tf.title=this.Tnt(t),this.Tf.tabIndex=n?-1:0,this.Cf.classList.toggle("amp-disabled",s),this.Cf.setAttribute("aria-disabled",s),this.Cf.title=this.Int(t),this.Cf.tabIndex=s?-1:0},u.znt=function(t,i){var n=this,s=t==bt;this.aI=s?bt:dt,this.g8.updateAlignment(s?"center":"start"),this.g8.updateHideScrollbar(s),this.g8.updateMixedLength(!s),this.g8.updateSnap(s);var r=s?"button":"presentation";this.Tf.setAttribute("role",r),this.Cf.setAttribute("role",r),this.G7=i.map((function(t){if(t.classList.add("amp-carousel-slide"),s){var i=document.createElement("div");return i.classList.add("i-amphtml-carousel-slotted","i-amphtml-carousel-wrapper"),i.appendChild(t),i}return t})),this.G7.forEach((function(t){n.z7.appendChild(t),s?t.classList.add("i-amphtml-carousel-slide-item"):t.classList.add("amp-scrollable-carousel-slide")}))},u.Lnt=function(t,i){var n=this.BG;if(this.BG=t,null!=n){var s={"index":t},r="slideChange",o=this.Wit(i)?3:1,e={"index":t,"actionTrust":o},h=V(this.win,"slidescroll.".concat(r),s);this.Ke.trigger(this.element,r,h,o),function(t,i,n,s){var r=n||{};a(t.ownerDocument);var o=t.ownerDocument.createEvent("Event");o.data=r;var e=f,h=m;o.initEvent("slideChange",e,h),t.dispatchEvent(o)}(this.element,0,e),this.Bnt(n,t)}},u.Unt=function(t){return null==t?"null":this.G7[t].getAttribute("data-slide-id")||String(t)},u.Bnt=function(t,i){var n=i-t,s=this.G7.length,r=(this.g8.isLooping()?n>0&&n/s<.5||n<0&&n/s<-.5:n>0)?"amp-carousel-next":"amp-carousel-prev",o={"fromSlide":this.Unt(t),"toSlide":this.Unt(i)};H(this.element,"amp-carousel-change",o),H(this.element,r,o)},u.Wit=function(t){return 2==t||3==t||0==t},u.Qit=function(){this.qit&&D(this.z7,"touchmove",(function(t){t.shouldViewerCancelPropagation=!0}))},u.Jit=function(t){this.xj=void 0!==t?t:!this.xj,this.g8.updateAutoAdvance(this.xj)},u._it=function(){this.Mit.setQueueChanges(this.yZ)},u.Pit=function(){this.Mit.flushChanges(),this.Mit.setQueueChanges(!1),this.Rit()},u.ttt=function(t){var i=F(t),n=i.index,s=i.actionSource;this.kit=this.kit||3==s,this.Rit(),this.aI!=dt&&this.Lnt(n,s)},c}(t.BaseElement);t.registerElement("amp-carousel",gt,'.i-amphtml-carousel-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-carousel-scroll{display:-ms-flexbox;display:flex;width:100%;height:100%;-ms-flex-align:center;align-items:center;outline:none;scroll-behavior:smooth;-webkit-overflow-scrolling:touch!important;--visible-count:1}.i-amphtml-carousel-scroll[hide-scrollbar=true]{scrollbar-width:none}.i-amphtml-carousel-scroll[hide-scrollbar=true]::-webkit-scrollbar{display:none;box-sizing:content-box!important}.i-amphtml-carousel-scroll[horizontal=true]{-ms-flex-direction:row;flex-direction:row;scroll-snap-type-x:mandatory;scroll-snap-type:x mandatory;padding-bottom:20px!important;overflow-y:hidden}.i-amphtml-carousel-scroll[horizontal=false]{-ms-flex-direction:column;flex-direction:column;scroll-snap-type-y:mandatory;scroll-snap-type:y mandatory;padding-right:20px!important;overflow-x:hidden}.i-amphtml-carousel-scroll[snap=false]{scroll-snap-type:none}.i-amphtml-carousel-scroll[user-scrollable=false]{overflow:hidden}.i-amphtml-carousel-spacer{visibility:hidden;z-index:-1}.i-amphtml-carousel-slotted,.i-amphtml-carousel-spacer{box-sizing:border-box!important;margin:0!important;-ms-flex-negative:0!important;flex-shrink:0!important;width:100%;height:100%;scroll-snap-stop:always}.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-spacer{width:calc(100%/var(--visible-count))!important;min-width:auto!important;max-width:none!important}.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-spacer{height:calc(100%/var(--visible-count))!important;min-height:auto!important;max-height:none!important}.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-width:100%!important}.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-height:100%!important}.i-amphtml-carousel-scroll>.i-amphtml-carousel-slotted{will-change:transform}amp-carousel .i-amphtml-carousel-scroll[horizontal=true]{padding-bottom:0!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-scroll{display:block!important;white-space:nowrap!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-content{position:static}.amp-scrollable-carousel-slide{display:inline-block!important;margin-left:8px;margin-inline-start:8px;margin-inline-end:0}.amp-scrollable-carousel-slide.i-amphtml-layout-responsive{width:100%}.amp-scrollable-carousel-slide:first-child{margin-left:0px;margin-inline-start:0;margin-inline-end:0}.i-amphtml-carousel-arrows{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;pointer-events:none}.amp-carousel-button[dir=rtl]{transform:scaleX(-1)}.amp-carousel-button{position:relative;box-sizing:border-box;height:34px;width:34px;margin:16px;border-style:none;border-radius:2px;background-color:rgba(0,0,0,.5);background-position:50% 50%;background-repeat:no-repeat;z-index:10;pointer-events:all}.amp-carousel-button:focus{border:1px solid #000;outline:1px solid #fff}.amp-carousel-button.amp-disabled{animation:none;pointer-events:none;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;white-space:nowrap;width:1px}.amp-carousel-button-prev{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="%23fff"><path d="M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z"/></svg>\');background-size:18px 18px}.amp-carousel-button-next{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="%23fff"><path d="M9 3 7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z"/></svg>\');background-size:18px 18px}.i-amphtml-carousel-slide-item{position:relative!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-carousel-slide-item>*{width:100%;height:100%;overflow:hidden!important}.amp-carousel-slide>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}\n/*# sourceURL=/extensions/amp-carousel/0.2/amp-carousel.css*/')}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-carousel-0.2.js.map