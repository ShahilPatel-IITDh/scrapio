!function(n){var i={};function __webpack_require__(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}__webpack_require__.m=n,__webpack_require__.c=i,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)__webpack_require__.d(n,i,function(e){return t[e]}.bind(null,i));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="/",__webpack_require__(__webpack_require__.s="./styleguide/All.js")}({"./node_modules/@babel/runtime/helpers/arrayLikeToArray/index.js":function(e,t){e.exports=function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles/index.js":function(e,t,n){var i=n("./node_modules/@babel/runtime/helpers/arrayLikeToArray/index.js");e.exports=function _arrayWithoutHoles(e){if(Array.isArray(e))return i(e)},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/assertThisInitialized/index.js":function(e,t){e.exports=function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/asyncToGenerator/index.js":function(e,t){function asyncGeneratorStep(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}e.exports=function _asyncToGenerator(o){return function(){var e=this,r=arguments;return new Promise(function(t,n){var i=o.apply(e,r);function _next(e){asyncGeneratorStep(i,t,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,t,n,_next,_throw,"throw",e)}_next(void 0)})}},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/classCallCheck/index.js":function(e,t){e.exports=function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/construct/index.js":function(i,e,t){var r=t("./node_modules/@babel/runtime/helpers/setPrototypeOf/index.js"),o=t("./node_modules/@babel/runtime/helpers/isNativeReflectConstruct/index.js");function _construct(e,t,n){return o()?i.exports=_construct=Reflect.construct:i.exports=_construct=function _construct(e,t,n){var i=[null];i.push.apply(i,t);i=new(Function.bind.apply(e,i));return n&&r(i,n.prototype),i},i.exports.default=i.exports,i.exports.__esModule=!0,_construct.apply(null,arguments)}i.exports=_construct,i.exports.default=i.exports,i.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/createClass/index.js":function(e,t){function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/defineProperty/index.js":function(e,t){e.exports=function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/extends/index.js":function(e,t){function _extends(){return e.exports=_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,_extends.apply(this,arguments)}e.exports=_extends,e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/get/index.js":function(i,e,t){var r=t("./node_modules/@babel/runtime/helpers/superPropBase/index.js");function _get(e,t,n){return"undefined"!=typeof Reflect&&Reflect.get?i.exports=_get=Reflect.get:i.exports=_get=function _get(e,t,n){e=r(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}},i.exports.default=i.exports,i.exports.__esModule=!0,_get(e,t,n||e)}i.exports=_get,i.exports.default=i.exports,i.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/getPrototypeOf/index.js":function(t,e){function _getPrototypeOf(e){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},t.exports.default=t.exports,t.exports.__esModule=!0,_getPrototypeOf(e)}t.exports=_getPrototypeOf,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/inherits/index.js":function(e,t,n){var i=n("./node_modules/@babel/runtime/helpers/setPrototypeOf/index.js");e.exports=function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/inheritsLoose/index.js":function(e,t,n){var i=n("./node_modules/@babel/runtime/helpers/setPrototypeOf/index.js");e.exports=function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/isNativeReflectConstruct/index.js":function(e,t){e.exports=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/iterableToArray/index.js":function(e,t){e.exports=function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/nonIterableSpread/index.js":function(e,t){e.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn/index.js":function(e,t,n){var i=n("./node_modules/@babel/runtime/helpers/typeof/index.js").default,r=n("./node_modules/@babel/runtime/helpers/assertThisInitialized/index.js");e.exports=function _possibleConstructorReturn(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/setPrototypeOf/index.js":function(n,e){function _setPrototypeOf(e,t){return n.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},n.exports.default=n.exports,n.exports.__esModule=!0,_setPrototypeOf(e,t)}n.exports=_setPrototypeOf,n.exports.default=n.exports,n.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/superPropBase/index.js":function(e,t,n){var i=n("./node_modules/@babel/runtime/helpers/getPrototypeOf/index.js");e.exports=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/toConsumableArray/index.js":function(e,t,n){var i=n("./node_modules/@babel/runtime/helpers/arrayWithoutHoles/index.js"),r=n("./node_modules/@babel/runtime/helpers/iterableToArray/index.js"),o=n("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray/index.js"),a=n("./node_modules/@babel/runtime/helpers/nonIterableSpread/index.js");e.exports=function _toConsumableArray(e){return i(e)||r(e)||o(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/typeof/index.js":function(t,e){function _typeof(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=_typeof=function _typeof(e){return typeof e}:t.exports=_typeof=function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.default=t.exports,t.exports.__esModule=!0,_typeof(e)}t.exports=_typeof,t.exports.default=t.exports,t.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray/index.js":function(e,t,n){var i=n("./node_modules/@babel/runtime/helpers/arrayLikeToArray/index.js");e.exports=function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/regenerator/index.js":function(e,t,n){e.exports=n("./node_modules/regenerator-runtime/runtime.js")},"./node_modules/@videojs/vhs-utils/es/byte-helpers.js":function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"k",function(){return a}),n.d(t,"j",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"f",function(){return h}),n.d(t,"c",function(){return p}),n.d(t,"h",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"a",function(){return g});function Kb(e,t){for(var n="";t--;)n+=e;return n}function Mb(e){return Math.ceil(i(e)/8)}function Pb(e){return o(e)}var t=n("./node_modules/global/window.js"),i=function countBits(e){return e.toString(2).length},r=function padStart(e,t,n){return(Kb(n=void 0===n?" ":n,t)+e.toString()).slice(-t)},o=function isArrayBufferView(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},a=function toUint8(e){return e instanceof Uint8Array?e:(Array.isArray(e)||Pb(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},s=function toHexString(e){e=a(e);for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16),2,"0");return t},l=function toBinaryString(e){e=a(e);for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(2),8,"0");return t},u=n.n(t).a.BigInt||Number,c=[u("0x1"),u("0x100"),u("0x10000"),u("0x1000000"),u("0x100000000"),u("0x10000000000"),u("0x1000000000000"),u("0x100000000000000"),u("0x10000000000000000")],d=(t=new Uint16Array([65484]),255===(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength))[0]||t[0],function bytesToNumber(i,e){var t=void 0===e?{}:e,e=t.signed,e=void 0!==e&&e,t=t.le,r=void 0!==t&&t;i=a(i);t=r?"reduce":"reduceRight",t=(i[t]||Array.prototype[t]).call(i,function(e,t,n){n=r?n:Math.abs(n+1-i.length);return e+u(t)*c[n]},u(0));return!e||(e=c[i.length]/u(2)-u(1))<(t=u(t))&&(t-=e,t-=e,t-=u(2)),Number(t)}),h=function numberToBytes(e,t){var t=(void 0===t?{}:t).le,n=void 0!==t&&t;e=u(e="bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e?0:e);for(var i=Mb(e),r=new Uint8Array(new ArrayBuffer(i)),o=0;o<i;o++){var a=n?o:Math.abs(o+1-r.length);r[a]=Number(e/c[o]&u(255)),e<0&&(r[a]=Math.abs(~r[a]),r[a]-=0===o?1:2)}return r},p=function bytesToString(e){if(!e)return"";e=Array.prototype.slice.call(e);e=String.fromCharCode.apply(null,a(e));try{return decodeURIComponent(escape(e))}catch(e){}return e},f=function stringToBytes(e,t){if("string"!=typeof(e="string"!=typeof e&&e&&"function"==typeof e.toString?e.toString():e))return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},m=function concatTypedArrays(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if((t=t.filter(function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})).length<=1)return a(t[0]);var i=t.reduce(function(e,t,n){return e+(t.byteLength||t.length)},0),r=new Uint8Array(i),o=0;return t.forEach(function(e){e=a(e),r.set(e,o),o+=e.byteLength}),r},g=function bytesMatch(n,e,t){var i=void 0===t?{}:t,t=i.offset,r=void 0===t?0:t,i=i.mask,o=void 0===i?[]:i;n=a(n);i=(e=a(e)).every||Array.prototype.every;return e.length&&n.length-r>=e.length&&i.call(e,function(e,t){return e===(o[t]?o[t]&n[r+t]:n[r+t])})}},"./node_modules/@videojs/vhs-utils/es/codecs.js":function(e,t,n){"use strict";n.d(t,"i",function(){return o}),n.d(t,"h",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return d}),n.d(t,"c",function(){return h}),n.d(t,"g",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return m});function Qc(e){return a.text.test((e=void 0===e?"":e).trim().toLowerCase())}var t=n("./node_modules/global/window.js"),i=n.n(t),a={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},s=["video","audio","text"],r=["Video","Audio","Text"],o=function translateLegacyCodec(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})},l=function parseCodecs(e){var e=(e=void 0===e?"":e).split(","),o=[];return e.forEach(function(i){var r;i=i.trim(),s.forEach(function(e){var t,n=a[e].exec(i.toLowerCase());!n||n.length<=1||(r=e,t=i.substring(0,n[1].length),n=i.replace(t,""),o.push({type:t,details:n,mediaType:e}))}),r||o.push({type:i,details:"",mediaType:"unknown"})}),o},u=function codecsFromDefault(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n,i=e.mediaGroups.AUDIO[t];if(!i)return null;for(n in i){var r=i[n];if(r.default&&r.playlists)return l(r.playlists[0].attributes.CODECS)}return null},c=function isAudioCodec(e){return a.audio.test((e=void 0===e?"":e).trim().toLowerCase())},d=function getMimeForCodec(e){if(e&&"string"==typeof e){var t=e.toLowerCase().split(",").map(function(e){return o(e.trim())}),n="video";1===t.length&&c(t[0])?n="audio":1===t.length&&Qc(t[0])&&(n="application");var i="mp4";return t.every(function(e){return a.mp4.test(e)})?i="mp4":t.every(function(e){return a.webm.test(e)})?i="webm":t.every(function(e){return a.ogg.test(e)})&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},h=function browserSupportsCodec(e){return void 0===e&&(e=""),i.a.MediaSource&&i.a.MediaSource.isTypeSupported&&i.a.MediaSource.isTypeSupported(d(e))||!1},p=function muxerSupportsCodec(e){return(e=void 0===e?"":e).toLowerCase().split(",").every(function(e){e=e.trim();for(var t=0;t<r.length;t++)if(a["muxer"+r[t]].test(e))return!0;return!1})},f="mp4a.40.2",m="avc1.4d400d"},"./node_modules/@videojs/vhs-utils/es/containers.js":function(e,t,n){"use strict";function R2(e){return"string"==typeof e?Object(u.h)(e):e}function V2(e,t,n){void 0===n&&(n=!1),t=l(t),e=Object(u.k)(e);var i=[];if(!t.length)return i;for(var r=0;r<e.length;){var o=(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])>>>0,a=e.subarray(r+4,r+8);if(0==o)break;var s=r+o;if(s>e.length){if(n)break;s=e.length}o=e.subarray(r+8,s);Object(u.a)(a,t[0])&&(1===t.length?i.push(o):i.push.apply(i,V2(o,t.slice(1),n))),r=s}return i}function fd(e){return Array.isArray(e)?e.map(function(e){return r(e)}):[r(e)]}function gd(e,t,n){if(n>=t.length)return t.length;var i=c(t,n,!1);if(Object(u.a)(e.bytes,i.bytes))return n;var r=c(t,n+i.length);return gd(e,t,n+r.length+r.value+i.length)}function hd(e,t){t=fd(t),e=Object(u.k)(e);var n=[];if(!t.length)return n;for(var i=0;i<e.length;){var r=c(e,i,!1),o=c(e,i+r.length),a=i+r.length+o.length;127===o.value&&(o.value=gd(r,e,a),o.value!==e.length&&(o.value-=a));var s=a+o.value>e.length?e.length:a+o.value,s=e.subarray(a,s);Object(u.a)(t[0],r.bytes)&&(1===t.length?n.push(s):n=n.concat(hd(s,t.slice(1)))),i+=r.length+o.length+s.length}return n}function sd(e,t,n,i){void 0===i&&(i=1/0),e=Object(u.k)(e),n=[].concat(n);for(var r,o=0,a=0;o<e.length&&(a<i||r);){var s=void 0;if(Object(u.a)(e.subarray(o),d)?s=4:Object(u.a)(e.subarray(o),h)&&(s=3),s){if(a++,r)return f(e.subarray(r,o));var l=void 0;"h264"===t?l=31&e[o+s]:"h265"===t&&(l=e[o+s]>>1&63),-1!==n.indexOf(l)&&(r=o+s),o+=s+("h264"===t?1:2)}else o++}return e.subarray(0,0)}function td(e,t,n){return sd(e,"h264",t,n)}function ud(e,t,n){return sd(e,"h265",t,n)}var u=n("./node_modules/@videojs/vhs-utils/es/byte-helpers.js"),l=(new Uint8Array([79,112,117,115,72,101,97,100]),function normalizePaths(e){return Array.isArray(e)?e.map(R2):[R2(e)]}),i={EBML:Object(u.k)([26,69,223,163]),DocType:Object(u.k)([66,130]),Segment:Object(u.k)([24,83,128,103]),SegmentInfo:Object(u.k)([21,73,169,102]),Tracks:Object(u.k)([22,84,174,107]),Track:Object(u.k)([174]),TrackNumber:Object(u.k)([215]),DefaultDuration:Object(u.k)([35,227,131]),TrackEntry:Object(u.k)([174]),TrackType:Object(u.k)([131]),FlagDefault:Object(u.k)([136]),CodecID:Object(u.k)([134]),CodecPrivate:Object(u.k)([99,162]),VideoTrack:Object(u.k)([224]),AudioTrack:Object(u.k)([225]),Cluster:Object(u.k)([31,67,182,117]),Timestamp:Object(u.k)([231]),TimestampScale:Object(u.k)([42,215,177]),BlockGroup:Object(u.k)([160]),BlockDuration:Object(u.k)([155]),Block:Object(u.k)([161]),SimpleBlock:Object(u.k)([163])},a=[128,64,32,16,8,4,2,1],s=function getLength(e){for(var t=1,n=0;n<a.length&&!(e&a[n]);n++)t++;return t},c=function getvint(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);var r=s(e[t]),o=e.subarray(t,t+r);return n&&((o=Array.prototype.slice.call(e,t,t+r))[0]^=a[r-1]),{length:r,value:Object(u.b)(o,{signed:i}),bytes:o}},r=function normalizePath(e){return"string"==typeof e?e.match(/.{1,2}/g).map(normalizePath):"number"==typeof e?Object(u.f)(e):e},o=n("./node_modules/@videojs/vhs-utils/es/id3-helpers.js"),d=Object(u.k)([0,0,0,1]),h=Object(u.k)([0,0,1]),p=Object(u.k)([0,0,3]),f=function discardEmulationPreventionBytes(e){for(var t=[],n=1;n<e.length-2;)Object(u.a)(e.subarray(n,n+3),p)&&(t.push(n+2),n++),n++;if(0===t.length)return e;for(var i=e.length-t.length,r=new Uint8Array(i),o=0,n=0;n<i;o++,n++)o===t[0]&&(o++,t.shift()),r[n]=e[o];return r};n.d(t,"a",function(){return b}),n.d(t,"b",function(){return _});var m={webm:Object(u.k)([119,101,98,109]),matroska:Object(u.k)([109,97,116,114,111,115,107,97]),flac:Object(u.k)([102,76,97,67]),ogg:Object(u.k)([79,103,103,83]),ac3:Object(u.k)([11,119]),riff:Object(u.k)([82,73,70,70]),avi:Object(u.k)([65,86,73]),wav:Object(u.k)([87,65,86,69]),"3gp":Object(u.k)([102,116,121,112,51,103]),mp4:Object(u.k)([102,116,121,112]),fmp4:Object(u.k)([115,116,121,112]),mov:Object(u.k)([102,116,121,112,113,116]),moov:Object(u.k)([109,111,111,118]),moof:Object(u.k)([109,111,111,102])},g={aac:function aac(e){var t=Object(o.a)(e);return Object(u.a)(e,[255,16],{offset:t,mask:[255,22]})},mp3:function mp3(e){var t=Object(o.a)(e);return Object(u.a)(e,[255,2],{offset:t,mask:[255,6]})},webm:function webm(e){e=hd(e,[i.EBML,i.DocType])[0];return Object(u.a)(e,m.webm)},mkv:function mkv(e){e=hd(e,[i.EBML,i.DocType])[0];return Object(u.a)(e,m.matroska)},mp4:function mp4(e){return!g["3gp"](e)&&!g.mov(e)&&(!(!Object(u.a)(e,m.mp4,{offset:4})&&!Object(u.a)(e,m.fmp4,{offset:4}))||(!(!Object(u.a)(e,m.moof,{offset:4})&&!Object(u.a)(e,m.moov,{offset:4}))||void 0))},mov:function mov(e){return Object(u.a)(e,m.mov,{offset:4})},"3gp":function gp(e){return Object(u.a)(e,m["3gp"],{offset:4})},ac3:function ac3(e){var t=Object(o.a)(e);return Object(u.a)(e,m.ac3,{offset:t})},ts:function ts(e){if(e.length<189&&1<=e.length)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function flac(e){var t=Object(o.a)(e);return Object(u.a)(e,m.flac,{offset:t})},ogg:function ogg(e){return Object(u.a)(e,m.ogg)},avi:function avi(e){return Object(u.a)(e,m.riff)&&Object(u.a)(e,m.avi,{offset:8})},wav:function wav(e){return Object(u.a)(e,m.riff)&&Object(u.a)(e,m.wav,{offset:8})},h264:function h264(e){return td(e,7,3).length},h265:function h265(e){return ud(e,[32,33],3).length}},y=Object.keys(g).filter(function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e}).concat(["ts","h264","h265"]);y.forEach(function(e){var t=g[e];g[e]=function(e){return t(Object(u.k)(e))}});var v=g,b=function detectContainerForBytes(e){e=Object(u.k)(e);for(var t=0;t<y.length;t++){var n=y[t];if(v[n](e))return n}return""},_=function isLikelyFmp4MediaSegment(e){return 0<V2(e,["moof"]).length}},"./node_modules/@videojs/vhs-utils/es/decode-b64-to-uint8-array.js":function(e,i,o){"use strict";!function(t){o.d(i,"a",function(){return decodeB64ToUint8Array});var e=o("./node_modules/global/window.js"),n=o.n(e),r=function atob(e){return n.a.atob?n.a.atob(e):t.from(e,"base64").toString("binary")};function decodeB64ToUint8Array(e){for(var t=r(e),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}}.call(this,o("./node_modules/buffer/index.js").Buffer)},"./node_modules/@videojs/vhs-utils/es/id3-helpers.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});function sg(e,t){void 0===t&&(t=0);var n=(e=Object(i.k)(e))[t+5],t=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?20+t:10+t}var i=n("./node_modules/@videojs/vhs-utils/es/byte-helpers.js"),r=Object(i.k)([73,68,51]),o=function getId3Offset(e,t){return void 0===t&&(t=0),(e=Object(i.k)(e)).length-t<10||!Object(i.a)(e,r,{offset:t})?t:getId3Offset(e,t+=sg(e,t))}},"./node_modules/@videojs/vhs-utils/es/media-types.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,r=/^application\/dash\+xml/i,o=function simpleTypeFromSourceType(e){return i.test(e)?"hls":r.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null}},"./node_modules/@videojs/vhs-utils/es/resolve-url.js":function(e,t,n){"use strict";var i=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n.n(i),i=n("./node_modules/global/window.js"),a=n.n(i),s="http://example.com";t.a=function resolveUrl(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=a.a.location&&a.a.location.href||"");var n="function"==typeof a.a.URL,i=/^\/\//.test(e),r=!a.a.location&&!/\/\//i.test(e);if(n?e=new a.a.URL(e,a.a.location||s):/\/\//i.test(e)||(e=o.a.buildAbsoluteURL(a.a.location&&a.a.location.href||"",e)),n){n=new URL(t,e);return r?n.href.slice(s.length):i?n.href.slice(n.protocol.length):n.href}return o.a.buildAbsoluteURL(e,t)}},"./node_modules/@videojs/xhr/lib/http-handler.js":function(e,t,n){"use strict";var o=n("./node_modules/global/window.js");e.exports=function httpResponseHandler(i,r){return void 0===r&&(r=!1),function(e,t,n){if(e)i(e);else if(400<=t.statusCode&&t.statusCode<=599){e=n;if(r)if(o.TextDecoder){t=function getCharset(e){void 0===e&&(e="");return e.toLowerCase().split(";").reduce(function(e,t){var n=t.split("="),t=n[0],n=n[1];return"charset"===t.trim()?n.trim():e},"utf-8")}(t.headers&&t.headers["content-type"]);try{e=new TextDecoder(t).decode(n)}catch(e){}}else e=String.fromCharCode.apply(null,new Uint8Array(n));i({cause:e})}else i(null,n)}}},"./node_modules/@videojs/xhr/lib/index.js":function(e,t,n){"use strict";var i=n("./node_modules/global/window.js"),r=n("./node_modules/@babel/runtime/helpers/extends/index.js"),o=n("./node_modules/is-function/index.js");createXHR.httpHandler=n("./node_modules/@videojs/xhr/lib/http-handler.js");var f=function parseHeaders(e){var i={};return e&&e.trim().split("\n").forEach(function(e){var t=e.indexOf(":"),n=e.slice(0,t).trim().toLowerCase(),t=e.slice(t+1).trim();void 0===i[n]?i[n]=t:Array.isArray(i[n])?i[n].push(t):i[n]=[i[n],t]}),i};function initParams(e,t,n){var i=e;return o(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=r({},t,{uri:e}),i.callback=n,i}function createXHR(e,t,n){return _createXHR(t=initParams(e,t,n))}function _createXHR(i){if(void 0===i.callback)throw new Error("callback argument missing");var r=!1,o=function cbOnce(e,t,n){r||(r=!0,i.callback(e,t,n))};function getBody(){var e=void 0,e=l.response||l.responseText||function getXml(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(l);if(h)try{e=JSON.parse(e)}catch(e){}return e}function errorFunc(e){return clearTimeout(s),(e=!(e instanceof Error)?new Error(""+(e||"Unknown XMLHttpRequest Error")):e).statusCode=0,o(e,p)}function loadFunc(){if(!a){clearTimeout(s);var e=i.useXDR&&void 0===l.status?200:1223===l.status?204:l.status,t=p,n=null;return 0!==e?(t={body:getBody(),statusCode:e,method:c,headers:{},url:u,rawRequest:l},l.getAllResponseHeaders&&(t.headers=f(l.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),o(n,t,t.body)}}var e,a,s,l=i.xhr||null,u=(l=l||new(i.cors||i.useXDR?createXHR.XDomainRequest:createXHR.XMLHttpRequest)).url=i.uri||i.url,c=l.method=i.method||"GET",t=i.body||i.data,n=l.headers=i.headers||{},d=!!i.sync,h=!1,p={body:void 0,headers:{},statusCode:0,method:c,url:u,rawRequest:l};if("json"in i&&!1!==i.json&&(h=!0,n.accept||n.Accept||(n.Accept="application/json"),"GET"!==c&&"HEAD"!==c&&(n["content-type"]||n["Content-Type"]||(n["Content-Type"]="application/json"),t=JSON.stringify(!0===i.json?t:i.json))),l.onreadystatechange=function readystatechange(){4===l.readyState&&setTimeout(loadFunc,0)},l.onload=loadFunc,l.onerror=errorFunc,l.onprogress=function(){},l.onabort=function(){a=!0},l.ontimeout=errorFunc,l.open(c,u,!d,i.username,i.password),d||(l.withCredentials=!!i.withCredentials),!d&&0<i.timeout&&(s=setTimeout(function(){var e;a||(a=!0,l.abort("timeout"),(e=new Error("XMLHttpRequest timeout")).code="ETIMEDOUT",errorFunc(e))},i.timeout)),l.setRequestHeader)for(e in n)n.hasOwnProperty(e)&&l.setRequestHeader(e,n[e]);else if(i.headers&&!function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(l.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(l),l.send(t||null),l}e.exports=createXHR,(e.exports.default=createXHR).XMLHttpRequest=i.XMLHttpRequest||function noop(){},createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:i.XDomainRequest,function forEachArray(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(i){createXHR["delete"===i?"del":i]=function(e,t,n){return(t=initParams(e,t,n)).method=i.toUpperCase(),_createXHR(t)}})},"./node_modules/@xmldom/xmldom/lib/conventions.js":function(e,t,n){"use strict";function freeze(e,t){return(t=void 0===t?Object:t)&&"function"==typeof t.freeze?t.freeze(e):e}var i=freeze({HTML:"text/html",isHTML:function(e){return e===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=freeze({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function assign(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.find=function find(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];if(t.call(void 0,r,i,e))return r}},t.freeze=freeze,t.MIME_TYPE=i,t.NAMESPACE=r},"./node_modules/@xmldom/xmldom/lib/dom-parser.js":function(e,t,n){var i=n("./node_modules/@xmldom/xmldom/lib/conventions.js"),r=n("./node_modules/@xmldom/xmldom/lib/dom.js"),u=n("./node_modules/@xmldom/xmldom/lib/entities.js"),n=n("./node_modules/@xmldom/xmldom/lib/sax.js"),o=r.DOMImplementation,c=i.NAMESPACE,a=n.ParseError,d=n.XMLReader;function normalizeLineEndings(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function DOMParser(e){this.options=e||{locator:{}}}function DOMHandler(){this.cdata=!1}function position(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function _locator(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function _toString(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function appendElement(e,t){(e.currentElement||e.doc).appendChild(t)}DOMParser.prototype.parseFromString=function(e,t){var n=this.options,i=new d,r=n.domBuilder||new DOMHandler,o=n.errorHandler,a=n.locator,s=n.xmlns||{},l=/\/x?html?$/.test(t),t=l?u.HTML_ENTITIES:u.XML_ENTITIES;a&&r.setDocumentLocator(a),i.errorHandler=function buildErrorHandler(i,e,r){if(!i){if(e instanceof DOMHandler)return e;i=e}var o={},a=i instanceof Function;function build(t){var n=i[t];!n&&a&&(n=2==i.length?function(e){i(t,e)}:i),o[t]=n?function(e){n("[xmldom "+t+"]\t"+e+_locator(r))}:function(){}}return r=r||{},build("warning"),build("error"),build("fatalError"),o}(o,r,a),i.domBuilder=n.domBuilder||r,l&&(s[""]=c.HTML),s.xml=s.xml||c.XML;n=n.normalizeLineEndings||normalizeLineEndings;return e&&"string"==typeof e?i.parse(n(e),s,t):i.errorHandler.error("invalid doc source"),r.doc},DOMHandler.prototype={startDocument:function(){this.doc=(new o).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,o=r.createElementNS(e,n||t),a=i.length;appendElement(this,o),this.currentElement=o,this.locator&&position(this.locator,o);for(var s=0;s<a;s++){var e=i.getURI(s),l=i.getValue(s),n=i.getQName(s),u=r.createAttributeNS(e,n);this.locator&&position(i.getLocator(s),u),u.value=u.nodeValue=l,o.setAttributeNode(u)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){t=this.doc.createProcessingInstruction(e,t);this.locator&&position(this.locator,t),appendElement(this,t)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){var i;(e=_toString.apply(this,arguments))&&(i=this.cdata?this.doc.createCDATASection(e):this.doc.createTextNode(e),this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&position(this.locator,i))},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=_toString.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&position(this.locator,i),appendElement(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;i&&i.createDocumentType&&(n=i.createDocumentType(e,t,n),this.locator&&position(this.locator,n),appendElement(this,n),this.doc.doctype=n)},warning:function(e){console.warn("[xmldom warning]\t"+e,_locator(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,_locator(this.locator))},fatalError:function(e){throw new a(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){DOMHandler.prototype[e]=function(){return null}}),t.__DOMHandler=DOMHandler,t.normalizeLineEndings=normalizeLineEndings,t.DOMParser=DOMParser},"./node_modules/@xmldom/xmldom/lib/dom.js":function(e,n,i){var r=i("./node_modules/@xmldom/xmldom/lib/conventions.js"),a=r.find,_=r.NAMESPACE;function notEmptyString(e){return""!==e}function orderedSetReducer(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function toOrderedSet(e){if(!e)return[];e=function splitOnASCIIWhitespace(e){return e?e.split(/[\t\n\f\r ]+/).filter(notEmptyString):[]}(e);return Object.keys(e.reduce(orderedSetReducer,{}))}function copy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function _extends(e,n){var i=e.prototype;function t(){}i instanceof n||(t.prototype=n.prototype,copy(i,t=new t),e.prototype=i=t),i.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),i.constructor=e)}var i={},r=(i.ELEMENT_NODE=1,i.ATTRIBUTE_NODE=2,i.TEXT_NODE=3,i.CDATA_SECTION_NODE=4,i.ENTITY_REFERENCE_NODE=5,i.ENTITY_NODE=6,i.PROCESSING_INSTRUCTION_NODE=7,i.COMMENT_NODE=8,i.DOCUMENT_NODE=9,i.DOCUMENT_TYPE_NODE=10,i.DOCUMENT_FRAGMENT_NODE=11,i.NOTATION_NODE=12,{}),o={},s=(r.INDEX_SIZE_ERR=(o[1]="Index size error",1),r.DOMSTRING_SIZE_ERR=(o[2]="DOMString size error",2),r.HIERARCHY_REQUEST_ERR=(o[3]="Hierarchy request error",3)),l=(r.WRONG_DOCUMENT_ERR=(o[4]="Wrong document",4),r.INVALID_CHARACTER_ERR=(o[5]="Invalid character",5),r.NO_DATA_ALLOWED_ERR=(o[6]="No data allowed",6),r.NO_MODIFICATION_ALLOWED_ERR=(o[7]="No modification allowed",7),r.NOT_FOUND_ERR=(o[8]="Not found",8));r.NOT_SUPPORTED_ERR=(o[9]="Not supported",9),r.INUSE_ATTRIBUTE_ERR=(o[10]="Attribute in use",10),r.INVALID_STATE_ERR=(o[11]="Invalid state",11),r.SYNTAX_ERR=(o[12]="Syntax error",12),r.INVALID_MODIFICATION_ERR=(o[13]="Invalid modification",13),r.NAMESPACE_ERR=(o[14]="Invalid namespace",14),r.INVALID_ACCESS_ERR=(o[15]="Invalid access",15);function DOMException(e,t){var n;return t instanceof Error?n=t:(n=this,Error.call(this,o[e]),this.message=o[e],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException)),n.code=e,t&&(this.message=this.message+": "+t),n}function NodeList(){}function LiveNodeList(e,t){this._node=e,this._refresh=t,_updateLiveList(this)}function _updateLiveList(e){var t,n=e._node._inc||e._node.ownerDocument._inc;e._inc!=n&&(t=e._refresh(e._node),__set__(e,"length",t.length),copy(t,e),e._inc=n)}function NamedNodeMap(){}function _findNodeIndex(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function _addNamedNode(e,t,n,i){var r;i?t[_findNodeIndex(t,i)]=n:t[t.length++]=n,e&&(r=(n.ownerElement=e).ownerDocument)&&(i&&_onRemoveAttribute(r,e,i),function _onAddAttribute(e,t,n){e&&e._inc++,n.namespaceURI===_.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(r,e,n))}function _removeNamedNode(e,t,n){var i=_findNodeIndex(t,n);if(!(0<=i))throw new DOMException(l,new Error(e.tagName+"@"+n));for(var r,o=t.length-1;i<o;)t[i]=t[++i];t.length=o,!e||(r=e.ownerDocument)&&(_onRemoveAttribute(r,e,n),n.ownerElement=null)}function DOMImplementation(){}function Node(){}function _xmlEncoder(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function _visitNode(e,t){if(t(e))return 1;if(e=e.firstChild)do{if(_visitNode(e,t))return 1}while(e=e.nextSibling)}function Document(){this.ownerDocument=this}function _onRemoveAttribute(e,t,n){e&&e._inc++,n.namespaceURI===_.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function _onUpdateChild(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,o=0;r;)r=(i[o++]=r).nextSibling;i.length=o,delete i[i.length]}}}function _removeChild(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,_onUpdateChild(e.ownerDocument,e),t}function isDocTypeNode(e){return e&&e.nodeType===Node.DOCUMENT_TYPE_NODE}function isElementNode(e){return e&&e.nodeType===Node.ELEMENT_NODE}function isTextNode(e){return e&&e.nodeType===Node.TEXT_NODE}function isElementInsertionPossible(e,t){var n=e.childNodes||[];if(!a(n,isElementNode)&&!isDocTypeNode(t)){e=a(n,isDocTypeNode);return!(t&&e&&n.indexOf(e)>n.indexOf(t))}}function isElementReplacementPossible(e,t){var n=e.childNodes||[];if(!a(n,function hasElementChildThatIsNotChild(e){return isElementNode(e)&&e!==t})){e=a(n,isDocTypeNode);return!(t&&e&&n.indexOf(e)>n.indexOf(t))}}function assertPreInsertionValidity1to5(e,t,n){if(!function hasValidParentNodeType(e){return e&&(e.nodeType===Node.DOCUMENT_NODE||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE||e.nodeType===Node.ELEMENT_NODE)}(e))throw new DOMException(s,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new DOMException(l,"child not in parent");if(!function hasInsertableNodeType(e){return e&&(isElementNode(e)||isTextNode(e)||isDocTypeNode(e)||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE||e.nodeType===Node.COMMENT_NODE||e.nodeType===Node.PROCESSING_INSTRUCTION_NODE)}(t)||isDocTypeNode(t)&&e.nodeType!==Node.DOCUMENT_NODE)throw new DOMException(s,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function assertPreInsertionValidityInDocument(e,t,n){var i=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var o=r.filter(isElementNode);if(1<o.length||a(r,isTextNode))throw new DOMException(s,"More than one element or text in fragment");if(1===o.length&&!isElementInsertionPossible(e,n))throw new DOMException(s,"Element in fragment can not be inserted before doctype")}if(isElementNode(t)&&!isElementInsertionPossible(e,n))throw new DOMException(s,"Only one element can be added and only after doctype");if(isDocTypeNode(t)){if(a(i,isDocTypeNode))throw new DOMException(s,"Only one doctype is allowed");t=a(i,isElementNode);if(n&&i.indexOf(t)<i.indexOf(n))throw new DOMException(s,"Doctype can only be inserted before an element");if(!n&&t)throw new DOMException(s,"Doctype can not be appended since element is present")}}function assertPreReplacementValidityInDocument(e,t,n){var i=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var o=r.filter(isElementNode);if(1<o.length||a(r,isTextNode))throw new DOMException(s,"More than one element or text in fragment");if(1===o.length&&!isElementReplacementPossible(e,n))throw new DOMException(s,"Element in fragment can not be inserted before doctype")}if(isElementNode(t)&&!isElementReplacementPossible(e,n))throw new DOMException(s,"Only one element can be added and only after doctype");if(isDocTypeNode(t)){if(a(i,function hasDoctypeChildThatIsNotChild(e){return isDocTypeNode(e)&&e!==n}))throw new DOMException(s,"Only one doctype is allowed");t=a(i,isElementNode);if(n&&i.indexOf(t)<i.indexOf(n))throw new DOMException(s,"Doctype can only be inserted before an element")}}function _insertBefore(e,t,n,i){assertPreInsertionValidity1to5(e,t,n),e.nodeType===Node.DOCUMENT_NODE&&(i||assertPreInsertionValidityInDocument)(e,t,n);i=t.parentNode;if(i&&i.removeChild(t),11===t.nodeType){var r=t.firstChild;if(null==r)return t;var o=t.lastChild}else r=o=t;i=n?n.previousSibling:e.lastChild;for(r.previousSibling=i,o.nextSibling=n,i?i.nextSibling=r:e.firstChild=r,null==n?e.lastChild=o:n.previousSibling=o;r.parentNode=e,r!==o&&(r=r.nextSibling););return _onUpdateChild(e.ownerDocument||e,e),11==t.nodeType&&(t.firstChild=t.lastChild=null),t}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function nodeSerializeToString(e,t){var n,i=[],r=9==this.nodeType&&this.documentElement||this,o=r.prefix,a=r.namespaceURI;return serializeToString(this,i,e,t,n=a&&null==o&&null==(o=r.lookupPrefix(a))?[{namespace:a,prefix:null}]:n),i.join("")}function needNamespaceDefine(e,t,n){var i=e.prefix||"",r=e.namespaceURI;if(r&&("xml"!==i||r!==_.XML)&&r!==_.XMLNS){for(var o=n.length;o--;){var a=n[o];if(a.prefix===i)return a.namespace!==r}return 1}}function addSerializedAttribute(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,_xmlEncoder),'"')}function serializeToString(e,t,n,i,r){if(r=r||[],i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case 1:var o=e.attributes,a=o.length,s=e.firstChild,l=e.tagName,u=l;if(!(n=_.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var c,d=0;d<o.length;d++)if("xmlns"===o.item(d).name){c=o.item(d).value;break}if(!c)for(var h=r.length-1;0<=h;h--)if(""===(p=r[h]).prefix&&p.namespace===e.namespaceURI){c=p.namespace;break}if(c!==e.namespaceURI)for(var p,h=r.length-1;0<=h;h--)if((p=r[h]).namespace===e.namespaceURI){p.prefix&&(u=p.prefix+":"+l);break}}t.push("<",u);for(var f=0;f<a;f++)"xmlns"==(m=o.item(f)).prefix?r.push({prefix:m.localName,namespace:m.value}):"xmlns"==m.nodeName&&r.push({prefix:"",namespace:m.value});for(var m,g,y,f=0;f<a;f++)needNamespaceDefine(m=o.item(f),0,r)&&(addSerializedAttribute(t,(g=m.prefix||"")?"xmlns:"+g:"xmlns",y=m.namespaceURI),r.push({prefix:g,namespace:y})),serializeToString(m,t,n,i,r);if(l===u&&needNamespaceDefine(e,0,r)&&(addSerializedAttribute(t,(g=e.prefix||"")?"xmlns:"+g:"xmlns",y=e.namespaceURI),r.push({prefix:g,namespace:y})),s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),n&&/^script$/i.test(l))for(;s;)s.data?t.push(s.data):serializeToString(s,t,n,i,r.slice()),s=s.nextSibling;else for(;s;)serializeToString(s,t,n,i,r.slice()),s=s.nextSibling;t.push("</",u,">")}else t.push("/>");return;case 9:case 11:for(s=e.firstChild;s;)serializeToString(s,t,n,i,r.slice()),s=s.nextSibling;return;case 2:return addSerializedAttribute(t,e.name,e.value),0;case 3:return t.push(e.data.replace(/[<&>]/g,_xmlEncoder));case 4:return t.push("<![CDATA[",e.data,"]]>");case 8:return t.push("\x3c!--",e.data,"--\x3e");case 10:var v=e.publicId,b=e.systemId;return t.push("<!DOCTYPE ",e.name),void(v?(t.push(" PUBLIC ",v),b&&"."!=b&&t.push(" ",b),t.push(">")):b&&"."!=b?t.push(" SYSTEM ",b,">"):((b=e.internalSubset)&&t.push(" [",b,"]"),t.push(">")));case 7:return t.push("<?",e.target," ",e.data,"?>");case 5:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function __set__(e,t,n){e[t]=n}DOMException.prototype=Error.prototype,copy(r,DOMException),NodeList.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)serializeToString(this[i],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},LiveNodeList.prototype.item=function(e){return _updateLiveList(this),this[e]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new DOMException(10);t=this.getNamedItem(e.nodeName);return _addNamedNode(this._ownerElement,this,e,t),t},setNamedItemNS:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new DOMException(10);return t=this.getNamedItemNS(e.namespaceURI,e.localName),_addNamedNode(this._ownerElement,this,e,t),t},removeNamedItem:function(e){e=this.getNamedItem(e);return _removeNamedNode(this._ownerElement,this,e),e},removeNamedItemNS:function(e,t){t=this.getNamedItemNS(e,t);return _removeNamedNode(this._ownerElement,this,t),t},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},DOMImplementation.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new Document;return i.implementation=this,i.childNodes=new NodeList,i.doctype=n||null,n&&i.appendChild(n),t&&(t=i.createElementNS(e,t),i.appendChild(t)),i},createDocumentType:function(e,t,n){var i=new DocumentType;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return _insertBefore(this,e,t)},replaceChild:function(e,t){_insertBefore(this,e,t,assertPreReplacementValidityInDocument),t&&this.removeChild(t)},removeChild:function(e){return _removeChild(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function cloneNode(e,t,n){var i=new t.constructor;for(var r in t){var o;!Object.prototype.hasOwnProperty.call(t,r)||"object"!=typeof(o=t[r])&&o!=i[r]&&(i[r]=o)}t.childNodes&&(i.childNodes=new NodeList);i.ownerDocument=e;switch(i.nodeType){case 1:var a=t.attributes,s=i.attributes=new NamedNodeMap,l=a.length;s._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(cloneNode(e,a.item(u),!0));break;case 2:n=!0}if(n)for(var c=t.firstChild;c;)i.appendChild(cloneNode(e,c,n)),c=c.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&3==t.nodeType&&3==e.nodeType?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===e)return i;t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},copy(i,Node),copy(i,Node.prototype),Document.prototype={nodeName:"#document",nodeType:9,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(11!=e.nodeType)return _insertBefore(this,e,t),null===(e.ownerDocument=this).documentElement&&1===e.nodeType&&(this.documentElement=e),e;for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),_removeChild(this,e)},replaceChild:function(e,t){_insertBefore(this,e,t,assertPreReplacementValidityInDocument),e.ownerDocument=this,t&&this.removeChild(t),isElementNode(e)&&(this.documentElement=e)},importNode:function(e,t){return function importNode(e,t,n){var i;switch(t.nodeType){case 1:(i=t.cloneNode(!1)).ownerDocument=e;case 11:break;case 2:n=!0}i=i||t.cloneNode(!1);i.ownerDocument=e;i.parentNode=null;if(n)for(var r=t.firstChild;r;)i.appendChild(importNode(e,r,n)),r=r.nextSibling;return i}(this,e,t)},getElementById:function(t){var n=null;return _visitNode(this.documentElement,function(e){if(1==e.nodeType&&e.getAttribute("id")==t)return n=e,!0}),n},getElementsByClassName:function(o){var a=toOrderedSet(o);return new LiveNodeList(this,function(i){var r=[];return 0<a.length&&_visitNode(i.documentElement,function(e){var t,n;e===i||1!==e.nodeType||(t=e.getAttribute("class"))&&((n=o===t)||(t=toOrderedSet(t),n=a.every(function arrayIncludes(t){return function(e){return t&&-1!==t.indexOf(e)}}(t))),n&&r.push(e))}),r})},createElement:function(e){var t=new Element;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new NodeList,(t.attributes=new NamedNodeMap)._ownerElement=t},createDocumentFragment:function(){var e=new DocumentFragment;return e.ownerDocument=this,e.childNodes=new NodeList,e},createTextNode:function(e){var t=new Text;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Comment;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new CDATASection;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new ProcessingInstruction;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new Attr;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new EntityReference;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new Element,i=t.split(":"),r=n.attributes=new NamedNodeMap;return n.childNodes=new NodeList,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n},createAttributeNS:function(e,t){var n=new Attr,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},_extends(Document,Node),Document.prototype.getElementsByTagName=(Element.prototype={nodeType:1,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){e=this.getAttributeNode(e);return e&&e.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){e=this.ownerDocument.createAttribute(e);e.value=e.nodeValue=""+t,this.setAttributeNode(e)},removeAttribute:function(e){e=this.getAttributeNode(e);e&&this.removeAttributeNode(e)},appendChild:function(e){return 11===e.nodeType?this.insertBefore(e,null):function _appendSingleChild(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,_onUpdateChild(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){t=this.getAttributeNodeNS(e,t);t&&this.removeAttributeNode(t)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){t=this.getAttributeNodeNS(e,t);return t&&t.value||""},setAttributeNS:function(e,t,n){t=this.ownerDocument.createAttributeNS(e,t);t.value=t.nodeValue=""+n,this.setAttributeNode(t)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(i){return new LiveNodeList(this,function(t){var n=[];return _visitNode(t,function(e){e===t||1!=e.nodeType||"*"!==i&&e.tagName!=i||n.push(e)}),n})},getElementsByTagNameNS:function(i,r){return new LiveNodeList(this,function(t){var n=[];return _visitNode(t,function(e){e===t||1!==e.nodeType||"*"!==i&&e.namespaceURI!==i||"*"!==r&&e.localName!=r||n.push(e)}),n})}}).getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=2,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(o[s])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var i=this.data.substring(0,e),t=this.data.substring(e+t);this.nodeValue=this.data=n=i+n+t,this.length=n.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:3,splitText:function(e){var t=(n=this.data).substring(e),n=n.substring(0,e);this.data=this.nodeValue=n,this.length=n.length;t=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling),t}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:8},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:4},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=10,_extends(DocumentType,Node),Notation.prototype.nodeType=12,_extends(Notation,Node),Entity.prototype.nodeType=6,_extends(Entity,Node),EntityReference.prototype.nodeType=5,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=11,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=7,_extends(ProcessingInstruction,Node),XMLSerializer.prototype.serializeToString=function(e,t,n){return nodeSerializeToString.call(e,t,n)},Node.prototype.toString=nodeSerializeToString;try{Object.defineProperty&&(Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return function getTextContent(e){switch(e.nodeType){case 1:case 11:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(getTextContent(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),__set__=function(e,t,n){e["$$"+t]=n})}catch(e){}n.DocumentType=DocumentType,n.DOMException=DOMException,n.DOMImplementation=DOMImplementation,n.Element=Element,n.Node=Node,n.NodeList=NodeList,n.XMLSerializer=XMLSerializer},"./node_modules/@xmldom/xmldom/lib/entities.js":function(e,t,n){n=n("./node_modules/@xmldom/xmldom/lib/conventions.js").freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""}),t.entityMap=t.HTML_ENTITIES},"./node_modules/@xmldom/xmldom/lib/index.js":function(e,t,n){var i=n("./node_modules/@xmldom/xmldom/lib/dom.js");t.DOMImplementation=i.DOMImplementation,t.XMLSerializer=i.XMLSerializer,t.DOMParser=n("./node_modules/@xmldom/xmldom/lib/dom-parser.js").DOMParser},"./node_modules/@xmldom/xmldom/lib/sax.js":function(e,t,n){var A=n("./node_modules/@xmldom/xmldom/lib/conventions.js").NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+i.source+n.source+"*(?::"+i.source+n.source+"*)?$"),P=0,x=1,M=2,I=3,L=4,O=5,D=6,R=7;function ParseError(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,ParseError)}function XMLReader(){}function copyLocator(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function appendElement(e,t,n){for(var i=e.tagName,r=null,o=e.length;o--;){var a=e[o],s=a.qName,l=a.value,s=0<(c=s.indexOf(":"))?(u=a.prefix=s.slice(0,c),d=s.slice(c+1),"xmlns"===u&&d):(u=null,"xmlns"===(d=s)&&"");a.localName=d,!1!==s&&(null==r&&(r={},_copy(n,n={})),n[s]=r[s]=l,a.uri=A.XMLNS,t.startPrefixMapping(s,l))}for(var u,o=e.length;o--;)(u=(a=e[o]).prefix)&&("xml"===u&&(a.uri=A.XML),"xmlns"!==u&&(a.uri=n[u||""]));var c,d=0<(c=i.indexOf(":"))?(u=e.prefix=i.slice(0,c),e.localName=i.slice(c+1)):(u=null,e.localName=i),h=e.uri=n[u||""];if(t.startElement(h,d,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=r,1;if(t.endElement(h,d,i),r)for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&t.endPrefixMapping(u)}function _copy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function ElementAttributes(){this.attributeNames={}}(ParseError.prototype=new Error).name=ParseError.name,XMLReader.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),_copy(t,t={}),function parse(n,e,i,r,o){function entityReplacer(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(i,t)?i[t]:"#"===t.charAt(0)?function fixedFromCharCode(e){return 65535<e?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function appendText(e){var t;d<e&&(t=n.substring(d,e).replace(/&#?\w+;/g,entityReplacer),u&&position(d),r.characters(t,0,e-d),d=e)}function position(e,t){for(;s<=e&&(t=l.exec(n));)a=t.index,s=a+t[0].length,u.lineNumber++;u.columnNumber=e-a+1}var a=0,s=0,l=/.*(?:\r\n?|\n)|.*$/g,u=r.locator,t=[{currentNSMap:e}],c={},d=0;for(;;){try{var h,p,f=n.indexOf("<",d);if(f<0)return n.substr(d).match(/^\s*$/)||(h=r.doc,p=h.createTextNode(n.substr(d)),h.appendChild(p),r.currentElement=p);switch(d<f&&appendText(f),n.charAt(f+1)){case"/":var m=n.indexOf(">",f+3),g=n.substring(f+2,m).replace(/[ \t\n\r]+$/g,""),y=t.pop();m<0?(g=n.substring(f+2).replace(/[\s<].*/,""),o.error("end tag name: "+g+" is not complete:"+y.tagName),m=f+1+g.length):g.match(/\s</)&&(g=g.replace(/[\s<].*/,""),o.error("end tag name: "+g+" maybe not complete"),m=f+1+g.length);var v=y.localNSMap,b=y.tagName==g;if(b||y.tagName&&y.tagName.toLowerCase()==g.toLowerCase()){if(r.endElement(y.uri,y.localName,g),v)for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&r.endPrefixMapping(_);b||o.fatalError("end tag name: "+g+" is not match the current start tagName:"+y.tagName)}else t.push(y);m++;break;case"?":u&&position(f),m=function parseInstruction(e,t,n){var i=e.indexOf("?>",t);if(i){t=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(t){t[0].length;return n.processingInstruction(t[1],t[2]),i+2}return-1}return-1}(n,f,r);break;case"!":u&&position(f),m=function parseDCC(e,t,n,i){{if("-"===e.charAt(t+2)){if("-"!==e.charAt(t+3))return-1;var r=e.indexOf("--\x3e",t+4);return t<r?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1)}if("CDATA["==e.substr(t+3,6)){r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var o=function split(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);for(;n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),i=o.length;if(1<i&&/!doctype/i.test(o[0][0])){r=o[1][0],e=!1,t=!1;3<i&&(/^public$/i.test(o[2][0])?(e=o[3][0],t=4<i&&o[4][0]):/^system$/i.test(o[2][0])&&(t=o[3][0]));i=o[i-1];return n.startDTD(r,e,t),n.endDTD(),i.index+i[0].length}}return-1}(n,f,r,o);break;default:u&&position(f);var T=new ElementAttributes,S=t[t.length-1].currentNSMap,m=function parseElementStartPart(e,t,i,n,r,o){function addAttribute(e,t,n){i.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),i.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),n)}var a,s=++t,l=P;for(;;){var u=e.charAt(s);switch(u){case"=":if(l===x)a=e.slice(t,s),l=I;else{if(l!==M)throw new Error("attribute equal must after attrName");l=I}break;case"'":case'"':if(l===I||l===x){if(l===x&&(o.warning('attribute value must after "="'),a=e.slice(t,s)),t=s+1,!(0<(s=e.indexOf(u,t))))throw new Error("attribute value no end '"+u+"' match");c=e.slice(t,s),addAttribute(a,c,t-1),l=O}else{if(l!=L)throw new Error('attribute value must after "="');c=e.slice(t,s),addAttribute(a,c,t),o.warning('attribute "'+a+'" missed start quot('+u+")!!"),t=s+1,l=O}break;case"/":switch(l){case P:i.setTagName(e.slice(t,s));case O:case D:case R:l=R,i.closed=!0;case L:case x:case M:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),l==P&&i.setTagName(e.slice(t,s)),s;case">":switch(l){case P:i.setTagName(e.slice(t,s));case O:case D:case R:break;case L:case x:"/"===(c=e.slice(t,s)).slice(-1)&&(i.closed=!0,c=c.slice(0,-1));case M:l===M&&(c=a),l==L?(o.warning('attribute "'+c+'" missed quot(")!'),addAttribute(a,c,t)):(A.isHTML(n[""])&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),addAttribute(c,c,t));break;case I:throw new Error("attribute value missed!!")}return s;case"":u=" ";default:if(u<=" ")switch(l){case P:i.setTagName(e.slice(t,s)),l=D;break;case x:a=e.slice(t,s),l=M;break;case L:var c=e.slice(t,s);o.warning('attribute "'+c+'" missed quot(")!!'),addAttribute(a,c,t);case O:l=D}else switch(l){case M:i.tagName;A.isHTML(n[""])&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),addAttribute(a,a,t),t=s,l=x;break;case O:o.warning('attribute space is required"'+a+'"!!');case D:l=x,t=s;break;case I:l=L,t=s;break;case R:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}(n,f,T,S,entityReplacer,o),C=T.length;if(!T.closed&&function fixSelfClosed(e,t,n,i){var r=i[n];null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r);return r<t}(n,m,T.tagName,c)&&(T.closed=!0,i.nbsp||o.warning("unclosed xml attribute")),u&&C){for(var w=copyLocator(u,{}),k=0;k<C;k++){var E=T[k];position(E.offset),E.locator=copyLocator(u,{})}r.locator=w,appendElement(T,r,S)&&t.push(T),r.locator=u}else appendElement(T,r,S)&&t.push(T);A.isHTML(T.uri)&&!T.closed?m=function parseHtmlSpecialContent(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),e=e.substring(t+1,o);if(/[&<]/.test(e))return/^script$/i.test(n)||(e=e.replace(/&#?\w+;/g,i)),r.characters(e,0,e.length),o}return t+1}(n,m,T.tagName,entityReplacer,r):m++}}catch(e){if(e instanceof ParseError)throw e;o.error("element parse error: "+e),m=-1}d<m?d=m:appendText(Math.max(f,d)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},ElementAttributes.prototype={setTagName:function(e){if(!r.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!r.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=XMLReader,t.ParseError=ParseError},"./node_modules/base64-js/index.js":function(e,t,n){"use strict";t.byteLength=function byteLength(e){var t=getLens(e),e=t[0],t=t[1];return 3*(e+t)/4-t},t.toByteArray=function toByteArray(e){var t,n,i=getLens(e),r=i[0],i=i[1],o=new u(function _byteLength(e,t,n){return 3*(t+n)/4-n}(0,r,i)),a=0,s=0<i?r-4:r;for(n=0;n<s;n+=4)t=l[e.charCodeAt(n)]<<18|l[e.charCodeAt(n+1)]<<12|l[e.charCodeAt(n+2)]<<6|l[e.charCodeAt(n+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;2===i&&(t=l[e.charCodeAt(n)]<<2|l[e.charCodeAt(n+1)]>>4,o[a++]=255&t);1===i&&(t=l[e.charCodeAt(n)]<<10|l[e.charCodeAt(n+1)]<<4|l[e.charCodeAt(n+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t);return o},t.fromByteArray=function fromByteArray(e){for(var t,n=e.length,i=n%3,r=[],o=0,a=n-i;o<a;o+=16383)r.push(function encodeChunk(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(function tripletToBase64(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}(i));return r.join("")}(e,o,a<o+16383?a:o+16383));1==i?(t=e[n-1],r.push(s[t>>2]+s[t<<4&63]+"==")):2==i&&(t=(e[n-2]<<8)+e[n-1],r.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return r.join("")};for(var s=[],l=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=i.length;r<o;++r)s[r]=i[r],l[i.charCodeAt(r)]=r;function getLens(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");return[e=-1===e?t:e,e===t?0:4-e%4]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,n,i){"use strict";!function(e){var r=i("./node_modules/base64-js/index.js"),o=i("./node_modules/ieee754/index.js"),a=i("./node_modules/isarray/index.js");function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(e=null===e?new Buffer(t):e).length=t,e}function Buffer(e,t,n){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,n);if("number"!=typeof e)return from(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}function from(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function fromArrayBuffer(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t);return e}(e,t,n,i):"string"==typeof t?function fromString(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!Buffer.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|byteLength(t,n),n=(e=createBuffer(e,i)).write(t,n);n!==i&&(e=e.slice(0,n));return e}(e,t,n):function fromObject(e,t){if(Buffer.isBuffer(t)){var n=0|checked(t.length);return 0===(e=createBuffer(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function isnan(e){return e!=e}(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&a(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function fromArrayLike(e,t){var n=t.length<0?0:0|checked(t.length);e=createBuffer(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var n=(e="string"!=typeof e?""+e:e).length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(i)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),i=!0}}function slowToString(e,t,n){var i=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function hexSlice(e,t,n){var i=e.length;(!t||t<0)&&(t=0);(!n||n<0||i<n)&&(n=i);for(var r="",o=t;o<n;++o)r+=function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[o]);return r}(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return function asciiSlice(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}(this,t,n);case"latin1":case"binary":return function latin1Slice(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}(this,t,n);case"base64":return function base64Slice(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function utf16leSlice(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function swap(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function bidirectionalIndexOf(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?r?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=Buffer.from(t,i)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,i,r);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(r?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):arrayIndexOf(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,i,r){var o=1,a=e.length,s=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a/=o=2,s/=2,n/=2}function read(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r)for(var l=-1,u=n;u<a;u++)if(read(e,u)===read(t,-1===l?0:u-l)){if(u-(l=-1===l?u:l)+1===s)return l*o}else-1!==l&&(u-=u-l),l=-1;else for(u=n=a<n+s?a-s:n;0<=u;u--){for(var c=!0,d=0;d<s;d++)if(read(e,u+d)!==read(t,d)){c=!1;break}if(c)return u}return-1}function asciiWrite(e,t,n,i){return blitBuffer(function asciiToBytes(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function ucs2Write(e,t,n,i){return blitBuffer(function utf16leToBytes(e,t){for(var n,i,r=[],o=0;o<e.length&&!((t-=2)<0);++o)i=e.charCodeAt(o),n=i>>8,i=i%256,r.push(i),r.push(n);return r}(t,e.length-n),e,n,i)}function utf8Slice(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,l,u=e[r],c=null,d=239<u?4:223<u?3:191<u?2:1;if(r+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[r+1]))&&127<(l=(31&u)<<6|63&o)&&(c=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&u)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(c=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)&&l<1114112&&(c=l)}null===c?(c=65533,d=1):65535<c&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=d}return function decodeCodePointsArray(e){var t=e.length;if(t<=h)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=h));return n}(i)}n.Buffer=Buffer,n.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},n.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,n){return from(null,e,t,n)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,n){return function alloc(e,t,n,i){return assertSize(t),!(t<=0)&&void 0!==n?"string"==typeof i?createBuffer(e,t).fill(n,i):createBuffer(e,t).fill(n):createBuffer(e,t)}(null,e,t,n)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function isBuffer(e){return!(null==e||!e._isBuffer)},Buffer.compare=function compare(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;for(var n=Buffer.allocUnsafe(t),i=0,r=0;r<e.length;++r){var o=e[r];if(!Buffer.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){var e=0|this.length;return 0==e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",t=n.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function compare(e,t,n,i,r){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),(t=void 0===t?0:t)<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(r<=i&&n<=t)return 0;if(r<=i)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(i,r),u=e.slice(t,n),c=0;c<s;++c)if(l[c]!==u[c]){o=l[c],a=u[c];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function includes(e,t,n){return-1!==this.indexOf(e,t,n)},Buffer.prototype.indexOf=function indexOf(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer.prototype.write=function write(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||r<n)&&(n=r),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var o=!1;;)switch(i){case"hex":return function hexWrite(e,t,n,i){n=Number(n)||0;var r=e.length-n;if((!i||r<(i=Number(i)))&&(i=r),(r=t.length)%2!=0)throw new TypeError("Invalid hex string");r/2<i&&(i=r/2);for(var o=0;o<i;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}(this,e,t,n);case"utf8":case"utf-8":return function utf8Write(e,t,n,i){return blitBuffer(utf8ToBytes(t,e.length-n),e,n,i)}(this,e,t,n);case"ascii":return asciiWrite(this,e,t,n);case"latin1":case"binary":return asciiWrite(this,e,t,n);case"base64":return function base64Write(e,t,n,i){return blitBuffer(base64ToBytes(t),e,n,i)}(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var h=4096;function checkOffset(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,i,r,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function objectWriteUInt32(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function checkIEEE754(e,t,n,i){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(e,t,n,i,r){return r||checkIEEE754(e,0,n,4),o.write(e,t,n,i,23,4),n+4}function writeDouble(e,t,n,i,r){return r||checkIEEE754(e,0,n,8),o.write(e,t,n,i,52,8),n+8}Buffer.prototype.slice=function slice(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else for(var i=t-e,r=new Buffer(i,void 0),o=0;o<i;++o)r[o]=this[o+e];return r},Buffer.prototype.readUIntLE=function readUIntLE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},Buffer.prototype.readUIntBE=function readUIntBE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e+--t],r=1;0<t&&(r*=256);)i+=this[e+--t]*r;return i},Buffer.prototype.readUInt8=function readUInt8(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readIntBE=function readIntBE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=t,r=1,o=this[e+--i];0<i&&(r*=256);)o+=this[e+--i]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function readInt8(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){t||checkOffset(e,2,this.length);e=this[e]|this[e+1]<<8;return 32768&e?4294901760|e:e},Buffer.prototype.readInt16BE=function readInt16BE(e,t){t||checkOffset(e,2,this.length);e=this[e+1]|this[e]<<8;return 32768&e?4294901760|e:e},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,t){return t||checkOffset(e,4,this.length),o.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return t||checkOffset(e,4,this.length),o.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return t||checkOffset(e,8,this.length),o.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return t||checkOffset(e,8,this.length),o.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,n,i){e=+e,t|=0,n|=0,i||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,n,i){e=+e,t|=0,n|=0,i||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;0<=--r&&(o*=256);)this[t+r]=e/o&255;return t+n},Buffer.prototype.writeUInt8=function writeUInt8(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function writeIntLE(e,t,n,i){e=+e,t|=0,i||checkInt(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var r=0,o=1,a=0;for(this[t]=255&e;++r<n&&(o*=256);)e<0&&0===a&&0!==this[t+r-1]&&(a=1),this[t+r]=(e/o>>0)-a&255;return t+n},Buffer.prototype.writeIntBE=function writeIntBE(e,t,n,i){e=+e,t|=0,i||checkInt(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var r=n-1,o=1,a=0;for(this[t+r]=255&e;0<=--r&&(o*=256);)e<0&&0===a&&0!==this[t+r+1]&&(a=1),this[t+r]=(e/o>>0)-a&255;return t+n},Buffer.prototype.writeInt8=function writeInt8(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer.prototype.copy=function copy(e,t,n,i){if(n=n||0,i||0===i||(i=this.length),t>=e.length&&(t=e.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var r,o=(i=e.length-t<i-n?e.length-t+n:i)-n;if(this===e&&n<t&&t<i)for(r=o-1;0<=r;--r)e[r+t]=this[r+n];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},Buffer.prototype.fill=function fill(e,t,n,i){if("string"==typeof e){var r;if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1!==e.length||(r=e.charCodeAt(0))<256&&(e=r),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Buffer.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var o=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,i).toString()),a=o.length,s=0;s<n-t;++s)this[s+t]=o[s%a];return this};var t=/[^+\/0-9A-Za-z-_]/g;function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(t,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function utf8ToBytes(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!r){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===i){-1<(t-=3)&&o.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(t-=3)&&o.push(239,191,189);if(r=null,n<128){if(--t<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function base64ToBytes(e){return r.toByteArray(base64clean(e))}function blitBuffer(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}.call(this,i("./node_modules/webpack/buildin/global.js"))},"./node_modules/detect-browser/es/index.js":function(e,d,h){"use strict";!function(t){h.d(d,"a",function(){return detect});var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},o=function BrowserInfo(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},n=function NodeInfo(e){this.version=e,this.type="node",this.name="node",this.os=t.platform},a=function SearchBotDeviceInfo(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"},s=function BotInfo(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},i=function ReactNativeInfo(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,u=3,e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],c=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(e){return e?parseUserAgent(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new i:"undefined"!=typeof navigator?parseUserAgent(navigator.userAgent):function getNodeVersion(){return void 0!==t&&t.version?new n(t.version.slice(1)):null}()}function matchUserAgent(i){return""!==i&&e.reduce(function(e,t){var n=t[0],t=t[1];if(e)return e;t=t.exec(i);return!!t&&[n,t]},!1)}function parseUserAgent(e){var t=matchUserAgent(e);if(!t)return null;var n=t[0],i=t[1];if("searchbot"===n)return new s;t=i[1]&&i[1].split(/[._]/).slice(0,3);t?t.length<u&&(t=r(t,function createVersionParts(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(u-t.length))):t=[];i=t.join("."),t=function detectOS(e){for(var t=0,n=c.length;t<n;t++){var i=c[t],r=i[0];if(i[1].exec(e))return r}return null}(e),e=l.exec(e);return e&&e[1]?new a(n,i,t,e[1]):new o(n,i,t)}}.call(this,h("./node_modules/process/browser.js"))},"./node_modules/glightbox/dist/js/glightbox.min.js":function(e,t,n){var i;void 0===(i="function"==typeof(i=function(_){"use strict";function t(){var i={},r=!1,e=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(r=arguments[0],e++);for(var o=function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r&&"[object Object]"===Object.prototype.toString.call(e[n])?i[n]=t(!0,i[n],e[n]):i[n]=e[n])};e<n;e++)o(arguments[e]);return i}function i(e,t){if((L.isNode(e)||e===window||e===document)&&(e=[e]),L.isArrayLike(e)||L.isObject(e)||(e=[e]),0!=L.size(e))if(L.isArrayLike(e)&&!L.isObject(e))for(var n=e.length,i=0;i<n&&!1!==t.call(e[i],e[i],i,e);i++);else if(L.isObject(e))for(var r in e)if(L.has(e,r)&&!1===t.call(e[r],e[r],r,e))break}function n(n){function t(e){L.isFunction(o)&&o.call(c,e,this),s&&t.destroy()}var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.onElement,o=e.withCallback,a=e.once,s=void 0!==a&&a,l=e.useCapture,u=void 0!==l&&l,c=arguments[2],d=r||[];return L.isString(d)&&(d=document.querySelectorAll(d)),t.destroy=function(){i(d,function(e){e.removeEventListener(n,t,u)})},i(d,function(e){e.addEventListener(n,t,u)}),t}function s(e,t){l(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function o(t,e){var n=e.split(" ");n.length>1?i(n,function(e){o(t,e)}):t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}function l(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||""===e)return!1;if("none"==e)return L.isFunction(r)&&r(),!1;var a=e.split(" ");i(a,function(e){s(t,"g"+e)});n(A,{onElement:t,once:!0,withCallback:function(e,t){i(a,function(e){o(t,"g"+e)}),L.isFunction(r)&&r()}})}function a(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild);return t}function d(e,t){for(;e!==document.body;)if((e=e.parentElement).matches(t))return e}function c(e){e.style.display="block"}function u(e){e.style.display="none"}function h(e,n,i){var r=this,o=n.source,l="gvideo"+n.index,u=e.querySelector(".gslide-media"),c=n.href,d=location.protocol.replace(":","");if("file"==d&&(d="http"),"vimeo"==o){var h=/vimeo.*\/(\d+)/i.exec(c),f=p(this.settings.vimeo.params),m=v(d+"://player.vimeo.com/video/"+h[1]+"?"+f,n.width,n.height,i);m.id=l,m.className="vimeo-video gvideo",this.settings.autoplayVideos&&(m.className+=" wait-autoplay"),g(this.settings.vimeo.api,function(){var e=new Vimeo.Player(m);x[l]=e,u.appendChild(m)})}if("youtube"==o){var y=p(t(this.settings.youtube.params,{playerapiid:l})),b=v(d+"://www.youtube.com/embed/"+function(e){var t="";t=void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?(t=e[2].split(/[^0-9a-z_\-]/i))[0]:e;return t}(c)+"?"+y,n.width,n.height,i);b.id=l,b.className="youtube-video gvideo",this.settings.autoplayVideos&&(b.className+=" wait-autoplay"),g(this.settings.youtube.api,function(){if(!L.isNil(YT)&&YT.loaded){var e=new YT.Player(b);x[l]=e}else P.push(b);u.appendChild(b)})}if("local"==o){var _='<video id="'+l+'" ';_+='style="background:#000; width: '+n.width+"px; height: "+n.height+'px;" ',_+='preload="metadata" ',_+='x-webkit-airplay="allow" ',_+='webkit-playsinline="" ',_+="controls ",_+='class="gvideo">';var T={mp4:"",ogg:"",webm:""};T[c.toLowerCase().split(".").pop()]=c;for(var S in T)if(T.hasOwnProperty(S)){var C=T[S];n.hasOwnProperty(S)&&(C=n[S]),""!==C&&(_+='<source src="'+C+'" type="video/'+S+'">')}var w=a(_+="</video>");u.appendChild(w);var k=document.getElementById(l);if(null!==this.settings.jwplayer&&null!==this.settings.jwplayer.api){this.settings.jwplayer;var E=this.settings.jwplayer.api;if(!E)return console.warn("Missing jwplayer api file"),L.isFunction(i)&&i(),!1;g(E,function(){var e=t(r.settings.jwplayer.params,{width:r.settings.width+"px",height:r.settings.height+"px",file:c});jwplayer.key=r.settings.jwplayer.licenseKey;var n=jwplayer(l);n.setup(e),x[l]=n,n.on("ready",function(){s(k=u.querySelector(".jw-video"),"gvideo"),k.id=l,L.isFunction(i)&&i()})})}else s(k,"html5-video"),x[l]=k,L.isFunction(i)&&i()}}function v(e,t,n,i){var r=document.createElement("iframe"),o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return r.className="vimeo-video gvideo",r.src=e,r.style.height=C&&o<767?"":n+"px",r.style.width=t+"px",r.setAttribute("allowFullScreen",""),r.onload=function(){s(r,"iframe-ready"),L.isFunction(i)&&i()},r}function g(e,t){if(L.isNil(e))console.error("Inject videos api error");else{var n=document.querySelectorAll('script[src="'+e+'"]');if(L.isNil(n)||0==n.length){var i=document.createElement("script");return i.type="text/javascript",i.src=e,i.onload=function(){t()},document.body.appendChild(i),!1}t()}}function f(){for(var e=0;e<P.length;e++){var t=P[e],n=new YT.Player(t);x[t.id]=n}}function p(e){var n="",r=0;return i(e,function(e,t){r>0&&(n+="&amp;"),n+=t+"="+e,r+=1}),n}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""==t)return e.style.webkitTransform="",e.style.MozTransform="",e.style.msTransform="",e.style.OTransform="",e.style.transform="",!1;e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function m(e){var i=e.querySelector(".gslide-media"),t=e.querySelector(".gslide-description");s(i,"greset"),y(i,"translate3d(0, 0, 0)");n(E,{onElement:i,once:!0,withCallback:function(e,t){o(i,"greset")}});i.style.opacity="",t&&(t.style.opacity="")}function b(e,a){var t=e.querySelector(".desc-more");if(!t)return!1;n("click",{onElement:t,withCallback:function(e,t){e.preventDefault();var i=d(t,".gslide-desc");if(!i)return!1;i.innerHTML=a.description,s(I,"gdesc-open");var r=n("click",{onElement:[I,d(i,".gslide-description")],withCallback:function(e,t){"a"!==e.target.nodeName.toLowerCase()&&(o(I,"gdesc-open"),s(I,"gdesc-closed"),i.innerHTML=a.smallDescription,b(i,a),setTimeout(function(){o(I,"gdesc-closed")},400),r.destroy())}})}})}var T=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),w=null!==C||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,k=document.getElementsByTagName("html")[0],I=document.body,E=function(){var e=void 0,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}(),A=function(){var e=void 0,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}(),P=[],x={},M={selector:"glightbox",skin:"clean",closeButton:!0,startAt:0,autoplayVideos:!0,descPosition:"bottom",width:900,height:506,videosWidth:900,videosHeight:506,beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,onOpen:null,onClose:null,loopAtEnd:!1,touchNavigation:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,jwplayer:{api:null,licenseKey:null,params:{width:"100%",aspectratio:"16:9",stretching:"uniform"}},vimeo:{api:"https://player.vimeo.com/api/player.js",params:{api:1,title:0,byline:0,portrait:0}},youtube:{api:"https://www.youtube.com/iframe_api",params:{enablejsapi:1,showinfo:0}},openEffect:"zoomIn",closeEffect:"zoomOut",slideEffect:"slide",moreText:"See more",moreLength:60,slideHtml:"",lightboxHtml:"",cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slide_back:{in:"slideInLeft",out:"slideOutRight"}}};M.slideHtml='<div class="gslide">         <div class="gslide-inner-content">            <div class="ginner-container">               <div class="gslide-media">               </div>               <div class="gslide-description">                  <h4 class="gslide-title"></h4>                  <div class="gslide-desc"></div>               </div>            </div>         </div>       </div>',M.lightboxHtml='<div id="glightbox-body" class="glightbox-container">            <div class="gloader visible"></div>            <div class="goverlay"></div>            <div class="gcontainer">               <div id="glightbox-slider" class="gslider"></div>               <a class="gnext"></a>               <a class="gprev"></a>               <a class="gclose"></a>            </div>   </div>';var L={isFunction:function(e){return"function"==typeof e},isString:function(e){return"string"==typeof e},isNode:function(e){return!(!e||!e.nodeType||1!=e.nodeType)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return e&&e.length&&isFinite(e.length)},isObject:function(e){return"object"===(void 0===e?"undefined":S(e))&&null!=e&&!L.isFunction(e)&&!L.isArray(e)},isNil:function(e){return null==e},has:function(e,t){return null!==e&&hasOwnProperty.call(e,t)},size:function(e){if(L.isObject(e)){if(e.keys)return e.keys().length;var t=0;for(var n in e)L.has(e,n)&&t++;return t}return e.length},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],r={href:"",title:"",description:"",descPosition:"bottom",effect:"",node:e};if(L.isObject(e)&&!L.isNode(e))return t(r,e);var o="",a=e.getAttribute("data-glightbox"),s=e.nodeName.toLowerCase();"a"===s&&(o=e.href),"img"===s&&(o=e.src),r.href=o;var l=R(o);if(r=t(r,l),L.isNil(a)){if("a"==s){var u=e.title;L.isNil(u)||""===u||(r.title=u)}if("img"==s){var c=e.alt;L.isNil(c)||""===c||(r.title=c)}var d=e.getAttribute("data-description");L.isNil(d)||""===d||(r.description=d)}else""!==(a=a.replace(/'/g,'\\"')).trim()&&(a=(a=a.split(";")).filter(Boolean)),i(a,function(e){if(e=e.trim().split(":"),2==L.size(e)){var t=e[0].trim(),n=e[1].trim();""!==n&&(n=n.replace(/\\/g,"")),r[t]=n}});var h=e.querySelector(".glightbox-desc");h&&(r.description=h.innerHTML),r.sourcetype=r.hasOwnProperty("type")?r.type:r.sourcetype,r.type=r.sourcetype;var p="video"==r.sourcetype?n.videosWidth:n.width,f="video"==r.sourcetype?n.videosHeight:n.height;return r.width=L.has(r,"width")?r.width:p,r.height=L.has(r,"height")?r.height:f,r},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(l(e,"loaded"))return!1;L.isFunction(this.settings.beforeSlideLoad)&&this.settings.beforeSlideLoad(e,n);var r=n.type,o=n.descPosition,a=e.querySelector(".gslide-media"),u=e.querySelector(".gslide-title"),c=e.querySelector(".gslide-desc"),d=e.querySelector(".gslide-description"),p=i;if(L.isFunction(this.settings.afterSlideLoad)&&(p=function(){L.isFunction(i)&&i(),t.settings.afterSlideLoad(e,n)}),""==n.title&&""==n.description?d&&d.parentNode.removeChild(d):(u&&""!==n.title?u.innerHTML=n.title:u.parentNode.removeChild(u),c&&""!==n.description?C&&this.settings.moreLength>0?(n.smallDescription=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n;if((e=e.trim()).length<=t)return e;var r=e.substr(0,t-1);return i?r+'... <a href="#" class="desc-more">'+n+"</a>":r}(n.description,this.settings.moreLength,this.settings.moreText),c.innerHTML=n.smallDescription,b.apply(this,[c,n])):c.innerHTML=n.description:c.parentNode.removeChild(c),s(a.parentNode,"desc-"+o),s(d,"description-"+o)),s(a,"gslide-"+r),s(e,"loaded"),"video"!==r)if("external"!==r)if("inline"!==r){if("image"===r){var f=new Image;return f.addEventListener("load",function(){L.isFunction(p)&&p()},!1),f.src=n.href,void a.appendChild(f)}L.isFunction(p)&&p()}else(function(e,t,n){var i=e.querySelector(".gslide-media"),r=document.getElementById(t.inlined.replace("#",""));if(r){var o=r.cloneNode(!0);return o.style.height=t.height+"px",o.style.maxWidth=t.width+"px",s(o,"ginlined-content"),i.appendChild(o),void(L.isFunction(n)&&n())}}).apply(this,[e,n,p]);else{var m=v(n.href,n.width,n.height,p);a.appendChild(m)}else h.apply(this,[e,n,p])};void 0!==window.onYouTubeIframeAPIReady?window.onYouTubeIframeAPIReady=function(){window.onYouTubeIframeAPIReady(),f()}:window.onYouTubeIframeAPIReady=f;var R=function(e){var t=e,n={};if(null!==(e=e.toLowerCase()).match(/\.(jpeg|jpg|gif|png)$/))return n.sourcetype="image",n;if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return n.sourcetype="video",n.source="youtube",n;if(e.match(/vimeo\.com\/([0-9]*)/))return n.sourcetype="video",n.source="vimeo",n;if(null!==e.match(/\.(mp4|ogg|webm)$/))return n.sourcetype="video",n.source="local",n;if(e.indexOf("#")>-1){var i=t.split("#").pop();if(""!==i.trim())return n.sourcetype="inline",n.source=e,n.inlined="#"+i,n}return e.includes("gajax=true")&&(n.sourcetype="ajax",n.source=e),n.sourcetype="external",n.source=e,n},N=function(){function e(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t(M,n||{}),this.effectsClasses=this.getAnimationClasses()}return T(e,[{key:"init",value:function(){var i=this;this.baseEvents=n("click",{onElement:"."+this.settings.selector,withCallback:function(e,t){e.preventDefault(),i.open(t)}})}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.elements=this.getElements(e),0==this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var t=this.settings.startAt;e&&(t=this.elements.indexOf(e))<0&&(t=0),this.build(),r(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var i=I.offsetWidth;if(I.style.width=i+"px",s(I,"glightbox-open"),s(k,"glightbox-open"),C&&(s(k,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(t,!0),1==this.elements.length?(u(this.prevButton),u(this.nextButton)):(c(this.prevButton),c(this.nextButton)),this.lightboxOpen=!0,L.isFunction(this.settings.onOpen)&&this.settings.onOpen(),C&&w&&this.settings.touchNavigation)return function(){var d=this;if(this.events.hasOwnProperty("touchStart"))return!1;var i=void 0,h=void 0,p=void 0,f=void 0,g=void 0,v=void 0,b=!1,_=!1,T=!1,S=!1,C={},w={},k=(this.slidesContainer,null),E=0,A=0,r=null,P=null,x=null,M=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.events.doctouchmove=n("touchmove",{onElement:document,withCallback:function(e,t){if(l(I,"gdesc-open"))return e.preventDefault(),!1}}),this.events.touchStart=n("touchstart",{onElement:I,withCallback:function(e,t){l(I,"gdesc-open")||(s(I,"touching"),k=d.getActiveSlide(),r=k.querySelector(".gslide-image"),P=k.querySelector(".gslide-media"),x=k.querySelector(".gslide-description"),i=d.index,w=e.targetTouches[0],C.pageX=e.targetTouches[0].pageX,C.pageY=e.targetTouches[0].pageY,E=e.targetTouches[0].clientX,A=e.targetTouches[0].clientY)}}),this.events.gestureStart=n("gesturestart",{onElement:I,withCallback:function(e,t){r&&(e.preventDefault(),T=!0)}}),this.events.gestureChange=n("gesturechange",{onElement:I,withCallback:function(e,t){e.preventDefault(),y(r,"scale("+e.scale+")")}}),this.events.gesturEend=n("gestureend",{onElement:I,withCallback:function(e,t){T=!1,e.scale<1?(S=!1,y(r,"scale(1)")):S=!0}}),this.events.touchMove=n("touchmove",{onElement:I,withCallback:function(e,t){if(l(I,"touching")&&!(l(I,"gdesc-open")||T||S)){e.preventDefault(),w=e.targetTouches[0];var n=k.querySelector(".gslide-inner-content").offsetHeight,i=k.querySelector(".gslide-inner-content").offsetWidth,r=e.targetTouches[0].clientX,o=e.targetTouches[0].clientY,a=E-r,s=A-o;if(Math.abs(a)>Math.abs(s)?(b=!1,_=!0):(_=!1,b=!0),b){if(g=p,p=w.pageY-C.pageY,Math.abs(p)>=0||b){var u=.75-Math.abs(p)/n;P.style.opacity=u,x&&(x.style.opacity=u),y(P,"translate3d(0, "+p+"px, 0)")}}else if(f=h,h=w.pageX-C.pageX,v=100*h/M,_){if(d.index+1==d.elements.length&&h<-60)return m(k),!1;if(d.index-1<0&&h>60)return m(k),!1;var c=.75-Math.abs(h)/i;P.style.opacity=c,x&&(x.style.opacity=c),y(P,"translate3d("+v+"%, 0, 0)")}}}}),this.events.touchEnd=n("touchend",{onElement:I,withCallback:function(e,t){p=w.pageY-C.pageY,h=w.pageX-C.pageX,v=100*h/M,o(I,"touching");var n=k.querySelector(".gslide-inner-content").offsetHeight,i=k.querySelector(".gslide-inner-content").offsetWidth;if(b){var r=n/2;return b=!1,Math.abs(p)>=r?void d.close():void m(k)}if(_){_=!1;var a="prev",s=!0;if(h<0&&(a="next",h=Math.abs(h)),"prev"==a&&d.index-1<0&&(s=!1),"next"==a&&d.index+1>=d.elements.length&&(s=!1),s&&h>=i/2-90)return void("next"==a?d.nextSlide():d.prevSlide());m(k)}}})}.apply(this),!1;this.settings.keyboardNavigation&&function(){var i=this;if(this.events.hasOwnProperty("keyboard"))return!1;this.events.keyboard=n("keydown",{onElement:window,withCallback:function(e,t){var n=(e=e||window.event).keyCode;39==n&&i.nextSlide(),37==n&&i.prevSlide(),27==n&&i.close()}})}.apply(this)}},{key:"showSlide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c(this.loader),this.index=t;var i=this.slidesContainer.querySelector(".current");i&&o(i,"current"),this.slideAnimateOut();var r=this.slidesContainer.querySelectorAll(".gslide")[t];if(c(this.slidesContainer),l(r,"loaded"))this.slideAnimateIn(r,n),u(this.loader);else{c(this.loader);var a=O(this.elements[t],this.settings);a.index=t,D.apply(this,[r,a,function(){u(e.loader),e.slideAnimateIn(r,n)}])}this.preloadSlide(t+1),this.preloadSlide(t-1),o(this.nextButton,"disabled"),o(this.prevButton,"disabled"),0===t?s(this.prevButton,"disabled"):t===this.elements.length-1&&!0!==this.settings.loopAtEnd&&s(this.nextButton,"disabled"),this.activeSlide=r}},{key:"preloadSlide",value:function(e){var t=this;if(e<0||e>this.elements.length)return!1;if(L.isNil(this.elements[e]))return!1;var n=this.slidesContainer.querySelectorAll(".gslide")[e];if(l(n,"loaded"))return!1;var i=O(this.elements[e],this.settings);i.index=e;var r=i.sourcetype;"video"==r||"external"==r?setTimeout(function(){D.apply(t,[n,i])},200):D.apply(this,[n,i])}},{key:"prevSlide",value:function(){var e=this.index-1;if(e<0)return!1;this.goToSlide(e)}},{key:"nextSlide",value:function(){var e=this.index+1;if(e>this.elements.length)return!1;this.goToSlide(e)}},{key:"goToSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e>-1&&(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,e<this.elements.length?this.showSlide(e):!0===this.settings.loopAtEnd&&(e=0,this.showSlide(e)))}},{key:"slideAnimateIn",value:function(e,t){var n=this,i=e.querySelector(".gslide-media"),a=e.querySelector(".gslide-description"),l={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},c={index:this.index,slide:this.activeSlide};if(i.offsetWidth>0&&a&&(u(a),e.querySelector(".ginner-container").style.maxWidth=i.offsetWidth+"px",a.style.display=""),o(e,this.effectsClasses),t)r(e,this.settings.openEffect,function(){!C&&n.settings.autoplayVideos&&n.playSlideVideo(e),L.isFunction(n.settings.afterSlideChange)&&n.settings.afterSlideChange.apply(n,[l,c])});else{var d=this.settings.slideEffect,h="none"!==d?this.settings.cssEfects[d].in:d;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(h=this.settings.cssEfects.slide_back.in),r(e,h,function(){!C&&n.settings.autoplayVideos&&n.playSlideVideo(e),L.isFunction(n.settings.afterSlideChange)&&n.settings.afterSlideChange.apply(n,[l,c])})}s(e,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var n=this.prevActiveSlide;o(n,this.effectsClasses),s(n,"prev");var e=this.settings.slideEffect,t="none"!==e?this.settings.cssEfects[e].out:e;this.stopSlideVideo(n),L.isFunction(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},{index:this.index,slide:this.activeSlide}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(t=this.settings.cssEfects.slide_back.out),r(n,t,function(){var e=n.querySelector(".gslide-media"),t=n.querySelector(".gslide-description");e.style.transform="",o(e,"greset"),e.style.opacity="",t&&(t.style.opacity=""),o(n,"prev")})}},{key:"stopSlideVideo",value:function(e){L.isNumber(e)&&(e=this.slidesContainer.querySelectorAll(".gslide")[e]);var t=e?e.querySelector(".gvideo"):null;if(!t)return!1;var n=t.id;if(x&&x.hasOwnProperty(n)){var i=x[n];l(t,"vimeo-video")&&i.pause(),l(t,"youtube-video")&&i.pauseVideo(),l(t,"jw-video")&&i.pause(!0),l(t,"html5-video")&&i.pause()}}},{key:"playSlideVideo",value:function(e){L.isNumber(e)&&(e=this.slidesContainer.querySelectorAll(".gslide")[e]);var t=e.querySelector(".gvideo");if(!t)return!1;var n=t.id;if(x&&x.hasOwnProperty(n)){var i=x[n];return l(t,"vimeo-video")&&i.play(),l(t,"youtube-video")&&i.playVideo(),l(t,"jw-video")&&i.play(),l(t,"html5-video")&&i.play(),setTimeout(function(){o(t,"wait-autoplay")},300),!1}}},{key:"setElements",value:function(e){this.settings.elements=e}},{key:"getElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.elements=[],!L.isNil(this.settings.elements)&&L.isArray(this.settings.elements))return this.settings.elements;var t=!1;if(null!==e){var n=e.getAttribute("data-gallery");n&&""!==n&&(t=document.querySelectorAll('[data-gallery="'+n+'"]'))}return 0==t&&(t=document.querySelectorAll("."+this.settings.selector)),t=Array.prototype.slice.call(t)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var e=[];for(var t in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(t)){var n=this.settings.cssEfects[t];e.push("g"+n.in),e.push("g"+n.out)}return e.join(" ")}},{key:"build",value:function(){var r=this;if(this.built)return!1;var e=a(this.settings.lightboxHtml);document.body.appendChild(e);var t=document.getElementById("glightbox-body");this.modal=t;var o=t.querySelector(".gclose");this.prevButton=t.querySelector(".gprev"),this.nextButton=t.querySelector(".gnext"),this.overlay=t.querySelector(".goverlay"),this.loader=t.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.events={},s(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&o&&(this.events.close=n("click",{onElement:o,withCallback:function(e,t){e.preventDefault(),r.close()}})),this.nextButton&&(this.events.next=n("click",{onElement:this.nextButton,withCallback:function(e,t){e.preventDefault(),r.nextSlide()}})),this.prevButton&&(this.events.prev=n("click",{onElement:this.prevButton,withCallback:function(e,t){e.preventDefault(),r.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=n("click",{onElement:t,withCallback:function(e,t){d(e.target,".ginner-container")||l(e.target,"gnext")||l(e.target,"gprev")||r.close()}})),i(this.elements,function(){var e=a(r.settings.slideHtml);r.slidesContainer.appendChild(e)}),w&&s(k,"glightbox-touch"),this.built=!0}},{key:"close",value:function(){var t=this;if(this.closing)return!1;this.closing=!0,this.stopSlideVideo(this.activeSlide),s(this.modal,"glightbox-closing"),r(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),r(this.activeSlide,this.settings.closeEffect,function(){if(t.activeSlide=null,t.prevActiveSlideIndex=null,t.prevActiveSlide=null,t.built=!1,t.events)for(var e in t.events)t.events.hasOwnProperty(e)&&t.events[e].destroy();o(I,"glightbox-open"),o(k,"glightbox-open"),o(I,"touching"),o(I,"gdesc-open"),I.style.width="",t.modal.parentNode.removeChild(t.modal),L.isFunction(t.settings.onClose)&&t.settings.onClose(),t.closing=null})}},{key:"destroy",value:function(){this.close(),this.baseEvents.destroy()}}]),e}();_.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new N(e);return t.init(),t}})?i.apply(t,[e]):i)||(e.exports=i)},"./node_modules/global/document.js":function(i,e,r){!function(e){var t=void 0!==e?e:"undefined"!=typeof window?window:{},e=r(0),n="undefined"!=typeof document?document:(n=t["__GLOBAL_DOCUMENT_CACHE@4"])||(t["__GLOBAL_DOCUMENT_CACHE@4"]=e);i.exports=n}.call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/global/window.js":function(t,e,n){!function(e){e="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};t.exports=e}.call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/hammerjs/hammer.js":function(Y,K,X){var Q;!function(r,o,u){"use strict";var a=["","webkit","Moz","MS","ms","o"],e=o.createElement("div"),n="function",s=Math.round,c=Math.abs,l=Date.now;function setTimeoutContext(e,t,n){return setTimeout(bindFn(e,n),t)}function invokeArrayArg(e,t,n){return Array.isArray(e)&&(each(e,n[t],n),1)}function each(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==u)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function deprecate(n,e,t){var i="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var e=new Error("get-stack-trace"),t=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",e=r.console&&(r.console.warn||r.console.log);return e&&e.call(r.console,i,t),n.apply(this,arguments)}}var d="function"!=typeof Object.assign?function assign(e){if(e===u||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==u&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign,i=deprecate(function extend(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)n&&e[i[r]]!==u||(e[i[r]]=t[i[r]]),r++;return e},"extend","Use `assign`."),t=deprecate(function merge(e,t){return i(e,t,!0)},"merge","Use `assign`.");function inherit(e,t,n){var i=t.prototype,t=e.prototype=Object.create(i);t.constructor=e,t._super=i,n&&d(t,n)}function bindFn(e,t){return function boundFn(){return e.apply(t,arguments)}}function boolOrFn(e,t){return typeof e==n?e.apply(t&&t[0]||u,t):e}function ifUndefined(e,t){return e===u?t:e}function addEventListeners(t,e,n){each(splitStr(e),function(e){t.addEventListener(e,n,!1)})}function removeEventListeners(t,e,n){each(splitStr(e),function(e){t.removeEventListener(e,n,!1)})}function hasParent(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function inStr(e,t){return-1<e.indexOf(t)}function splitStr(e){return e.trim().split(/\s+/g)}function inArray(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function toArray(e){return Array.prototype.slice.call(e,0)}function uniqueArray(e,n,t){for(var i=[],r=[],o=0;o<e.length;){var a=n?e[o][n]:e[o];inArray(r,a)<0&&i.push(e[o]),r[o]=a,o++}return i=t?n?i.sort(function sortUniqueArray(e,t){return e[n]>t[n]}):i.sort():i}function prefixed(e,t){for(var n,i=t[0].toUpperCase()+t.slice(1),r=0;r<a.length;){if((n=(n=a[r])?n+i:t)in e)return n;r++}return u}var h=1;function getWindowForElement(e){e=e.ownerDocument||e;return e.defaultView||e.parentWindow||r}var p="ontouchstart"in r,f=prefixed(r,"PointerEvent")!==u,m=p&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),g="touch",y="mouse",v=25,b=1,_=4,T=8,S=1,C=2,w=4,k=8,E=16,A=C|w,P=k|E,x=A|P,M=["x","y"],I=["clientX","clientY"];function Input(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){boolOrFn(t.options.enable,[t])&&n.handler(e)},this.init()}function inputHandler(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=t&b&&i-r==0,r=t&(_|T)&&i-r==0;n.isFirst=!!o,n.isFinal=!!r,o&&(e.session={}),n.eventType=t,function computeInputData(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=simpleCloneInputData(t));1<r&&!n.firstMultiple?n.firstMultiple=simpleCloneInputData(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=(a||o).center,r=t.center=getCenter(i);t.timeStamp=l(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=getAngle(s,r),t.distance=getDistance(s,r),function computeDeltaXY(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};t.eventType!==b&&o.eventType!==_||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y});t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=getDirection(t.deltaX,t.deltaY);r=getVelocity(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=r.x,t.overallVelocityY=r.y,t.overallVelocity=c(r.x)>c(r.y)?r.x:r.y,t.scale=a?function getScale(e,t){return getDistance(t[0],t[1],I)/getDistance(e[0],e[1],I)}(a.pointers,i):1,t.rotation=a?function getRotation(e,t){return getAngle(t[1],t[0],I)+getAngle(e[1],e[0],I)}(a.pointers,i):0,t.maxPointers=!n.prevInput||t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers,function computeIntervalInputData(e,t){var n,i,r=e.lastInterval||t,o=t.timeStamp-r.timeStamp;{var a,s,l;t.eventType!=T&&(v<o||r.velocity===u)?(a=t.deltaX-r.deltaX,s=t.deltaY-r.deltaY,l=getVelocity(o,a,s),n=l.x,i=l.y,l=c(l.x)>c(l.y)?l.x:l.y,s=getDirection(a,s),e.lastInterval=t):(l=r.velocity,n=r.velocityX,i=r.velocityY,s=r.direction)}t.velocity=l,t.velocityX=n,t.velocityY=i,t.direction=s}(n,t);e=e.element;hasParent(t.srcEvent.target,e)&&(e=t.srcEvent.target);t.target=e}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function simpleCloneInputData(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:s(e.pointers[n].clientX),clientY:s(e.pointers[n].clientY)},n++;return{timeStamp:l(),pointers:t,center:getCenter(t),deltaX:e.deltaX,deltaY:e.deltaY}}function getCenter(e){var t=e.length;if(1===t)return{x:s(e[0].clientX),y:s(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:s(n/t),y:s(i/t)}}function getVelocity(e,t,n){return{x:t/e||0,y:n/e||0}}function getDirection(e,t){return e===t?S:c(e)>=c(t)?e<0?C:w:t<0?k:E}function getDistance(e,t,n){var i=t[(n=n||M)[0]]-e[n[0]],n=t[n[1]]-e[n[1]];return Math.sqrt(i*i+n*n)}function getAngle(e,t,n){var i=t[(n=n||M)[0]]-e[n[0]],n=t[n[1]]-e[n[1]];return 180*Math.atan2(n,i)/Math.PI}Input.prototype={handler:function(){},init:function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};var L={mousedown:b,mousemove:2,mouseup:_};function MouseInput(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,Input.apply(this,arguments)}inherit(MouseInput,Input,{handler:function MEhandler(e){var t=L[e.type];t&b&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=_),this.pressed&&(t&_&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:y,srcEvent:e}))}});var O={pointerdown:b,pointermove:2,pointerup:_,pointercancel:T,pointerout:T},D={2:g,3:"pen",4:y,5:"kinect"},R="pointerdown",N="pointermove pointerup pointercancel";function PointerEventInput(){this.evEl=R,this.evWin=N,Input.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(R="MSPointerDown",N="MSPointerMove MSPointerUp MSPointerCancel"),inherit(PointerEventInput,Input,{handler:function PEhandler(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=O[i],o=D[e.pointerType]||e.pointerType,a=o==g,i=inArray(t,e.pointerId,"pointerId");r&b&&(0===e.button||a)?i<0&&(t.push(e),i=t.length-1):r&(_|T)&&(n=!0),i<0||(t[i]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(i,1))}});var B={touchstart:b,touchmove:2,touchend:_,touchcancel:T};function SingleTouchInput(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Input.apply(this,arguments)}inherit(SingleTouchInput,Input,{handler:function TEhandler(e){var t,n=B[e.type];n===b&&(this.started=!0),this.started&&(t=function normalizeSingleTouches(e,t){var n=toArray(e.touches),e=toArray(e.changedTouches);t&(_|T)&&(n=uniqueArray(n.concat(e),"identifier",!0));return[n,e]}.call(this,e,n),n&(_|T)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:t[0],changedPointers:t[1],pointerType:g,srcEvent:e}))}});var j={touchstart:b,touchmove:2,touchend:_,touchcancel:T};function TouchInput(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},Input.apply(this,arguments)}inherit(TouchInput,Input,{handler:function MTEhandler(e){var t=j[e.type],n=function getTouches(e,t){var n=toArray(e.touches),i=this.targetIds;if(t&(2|b)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=toArray(e.changedTouches),s=[],l=this.target;if(o=n.filter(function(e){return hasParent(e.target,l)}),t===b)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;r=0;for(;r<a.length;)i[a[r].identifier]&&s.push(a[r]),t&(_|T)&&delete i[a[r].identifier],r++;if(s.length)return[uniqueArray(o.concat(s),"identifier",!0),s]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:g,srcEvent:e})}});var F=2500;function TouchMouseInput(){Input.apply(this,arguments);var e=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,e),this.mouse=new MouseInput(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function setLastTouch(e){var t,n,e=e.changedPointers[0];e.identifier===this.primaryTouch&&(t={x:e.clientX,y:e.clientY},this.lastTouches.push(t),n=this.lastTouches,setTimeout(function(){var e=n.indexOf(t);-1<e&&n.splice(e,1)},F))}inherit(TouchMouseInput,Input,{handler:function TMEhandler(e,t,n){var i=n.pointerType==g,r=n.pointerType==y;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)!function recordTouches(e,t){e&b?(this.primaryTouch=t.changedPointers[0].identifier,setLastTouch.call(this,t)):e&(_|T)&&setLastTouch.call(this,t)}.call(this,t,n);else if(r&&function isSyntheticEvent(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),r=Math.abs(n-r.y);if(o<=25&&r<=25)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function destroy(){this.touch.destroy(),this.mouse.destroy()}});var U=prefixed(e.style,"touchAction"),V=U!==u,H="compute",q="manipulation",W="none",G="pan-x",$="pan-y",z=function getTouchActionProps(){if(!V)return!1;var t={},n=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){t[e]=!n||r.CSS.supports("touch-action",e)}),t}();function TouchAction(e,t){this.manager=e,this.set(t)}TouchAction.prototype={set:function(e){e==H&&(e=this.compute()),V&&this.manager.element.style&&z[e]&&(this.manager.element.style[U]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return each(this.manager.recognizers,function(e){boolOrFn(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function cleanTouchActions(e){if(inStr(e,W))return W;var t=inStr(e,G),n=inStr(e,$);if(t&&n)return W;if(t||n)return t?G:$;if(inStr(e,q))return q;return"auto"}(t.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=inStr(i,W)&&!z[W],o=inStr(i,$)&&!z[$],a=inStr(i,G)&&!z[G];if(r){var s=1===e.pointers.length,i=e.distance<2,e=e.deltaTime<250;if(s&&i&&e)return}if(!a||!o)return r||o&&n&A||a&&n&P?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function Recognizer(e){this.options=d({},this.defaults,e||{}),this.id=function uniqueId(){return h++}(),this.manager=null,this.options.enable=ifUndefined(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function stateStr(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function directionStr(e){return e==E?"down":e==k?"up":e==C?"left":e==w?"right":""}function getRecognizerByNameIfManager(e,t){t=t.manager;return t?t.get(e):e}function AttrRecognizer(){Recognizer.apply(this,arguments)}function PanRecognizer(){AttrRecognizer.apply(this,arguments),this.pX=null,this.pY=null}function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}function PressRecognizer(){Recognizer.apply(this,arguments),this._timer=null,this._input=null}function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}function TapRecognizer(){Recognizer.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Hammer(e,t){return(t=t||{}).recognizers=ifUndefined(t.recognizers,Hammer.defaults.preset),new Manager(e,t)}Recognizer.prototype={defaults:{},set:function(e){return d(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(invokeArrayArg(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=getRecognizerByNameIfManager(e,this)).id]||(t[e.id]=e).recognizeWith(this),this},dropRecognizeWith:function(e){return invokeArrayArg(e,"dropRecognizeWith",this)||(e=getRecognizerByNameIfManager(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(invokeArrayArg(e,"requireFailure",this))return this;var t=this.requireFail;return-1===inArray(t,e=getRecognizerByNameIfManager(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(invokeArrayArg(e,"dropRequireFailure",this))return this;e=getRecognizerByNameIfManager(e,this);e=inArray(this.requireFail,e);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(t){var n=this,e=this.state;function emit(e){n.manager.emit(e,t)}e<8&&emit(n.options.event+stateStr(e)),emit(n.options.event),t.additionalEvent&&emit(t.additionalEvent),8<=e&&emit(n.options.event+stateStr(e))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){e=d({},e);if(!boolOrFn(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(e){},getTouchAction:function(){},reset:function(){}},inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,e=this.attrTest(e);return i&&(n&T||!e)?16|t:i||e?n&_?8|t:2&t?4|t:2:32}}),inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:x},getTouchAction:function(){var e=this.options.direction,t=[];return e&A&&t.push($),e&P&&t.push(G),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(i=t.direction&A?(r=0===o?S:o<0?C:w,n=o!=this.pX,Math.abs(e.deltaX)):(r=0===a?S:a<0?k:E,n=a!=this.pY,Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return AttrRecognizer.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=directionStr(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[W]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){var t;1!==e.scale&&(t=e.scale<1?"in":"out",e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(_|T)&&!r)this.reset();else if(e.eventType&b)this.reset(),this._timer=setTimeoutContext(function(){this.state=8,this.tryEmit()},t.time,this);else if(e.eventType&_)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&_?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=l(),this.manager.emit(this.options.event,this._input)))}}),inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[W]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:A|P,pointers:1},getTouchAction:function(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(A|P)?t=e.overallVelocity:n&A?t=e.overallVelocityX:n&P&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&c(t)>this.options.velocity&&e.eventType&_},emit:function(e){var t=directionStr(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[q]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&b&&0===this.count)return this.failTimeout();if(i&&r&&n){if(e.eventType!=_)return this.failTimeout();r=!this.pTime||e.timeStamp-this.pTime<t.interval,n=!this.pCenter||getDistance(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,n&&r?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=setTimeoutContext(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=setTimeoutContext(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Hammer.VERSION="2.0.7",Hammer.defaults={domEvents:!1,touchAction:H,enable:!0,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:A}],[PanRecognizer,{direction:A},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Manager(e,t){this.options=d({},Hammer.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function createInputInstance(e){var t=e.options.inputClass;return new(t=t||(f?PointerEventInput:m?TouchInput:p?TouchMouseInput:MouseInput))(e,inputHandler)}(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function toggleCssProps(n,i){var r,o=n.element;o.style&&(each(n.options.cssProps,function(e,t){r=prefixed(o.style,t),i?(n.oldCssProps[r]=o.style[r],o.style[r]=e):o.style[r]=n.oldCssProps[r]||""}),i||(n.oldCssProps={}))}Manager.prototype={set:function(e){return d(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t,n=this.session;if(!n.stopped){this.touchAction.preventDefaults(e);var i=this.recognizers,r=n.curRecognizer;(!r||8&r.state)&&(r=n.curRecognizer=null);for(var o=0;o<i.length;)t=i[o],2===n.stopped||r&&t!=r&&!t.canRecognizeWith(r)?t.reset():t.recognize(e),!r&&14&t.state&&(r=n.curRecognizer=t),o++}},get:function(e){if(e instanceof Recognizer)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(invokeArrayArg(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),(e.manager=this).touchAction.update(),e},remove:function(e){return invokeArrayArg(e,"remove",this)||!(e=this.get(e))||-1!==(e=inArray(t=this.recognizers,e))&&(t.splice(e,1),this.touchAction.update()),this;var t},on:function(e,t){if(e!==u&&t!==u){var n=this.handlers;return each(splitStr(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==u){var n=this.handlers;return each(splitStr(e),function(e){t?n[e]&&n[e].splice(inArray(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function triggerDomEvent(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),(n.gesture=t).target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},d(Hammer,{INPUT_START:b,INPUT_MOVE:2,INPUT_END:_,INPUT_CANCEL:T,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:S,DIRECTION_LEFT:C,DIRECTION_RIGHT:w,DIRECTION_UP:k,DIRECTION_DOWN:E,DIRECTION_HORIZONTAL:A,DIRECTION_VERTICAL:P,DIRECTION_ALL:x,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,merge:t,extend:i,assign:d,inherit:inherit,bindFn:bindFn,prefixed:prefixed}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Hammer,(Q=function(){return Hammer}.call(K,X,K,Y))===u||(Y.exports=Q)}(window,document)},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?r-1:0,h=n?-1:1,n=e[t+d];for(d+=h,o=n&(1<<-c)-1,n>>=-c,c+=s;0<c;o=256*o+e[t+d],d+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;0<c;a=256*a+e[t+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(n?-1:1);a+=Math.pow(2,i),o-=u}return(n?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l=8*o-r-1,u=(1<<l)-1,c=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-a))<1&&(a--,i*=2),2<=(t+=1<=a+c?d/i:d*Math.pow(2,1-c))*i&&(a++,i/=2),u<=a+c?(s=0,a=u):1<=a+c?(s=(t*i-1)*Math.pow(2,r),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,r),a=0));8<=r;e[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,l+=r;0<l;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*o}},"./node_modules/is-function/index.js":function(e,t){e.exports=function isFunction(e){if(!e)return!1;var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},"./node_modules/isarray/index.js":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"./node_modules/javascript-autocomplete/auto-complete.min.js":function(e,t,n){function NN(e){function t(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function o(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)}function s(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n)}function n(r,e,a,n){o(n||document,e,function(e){for(var n,i=e.target||e.srcElement;i&&!(n=t(i,r));)i=i.parentElement;n&&a.call(i,e)})}if(document.querySelector){var i,r={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(e,t){t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");t=new RegExp("("+t.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+e+'">'+e.replace(t,"<b>$1</b>")+"</div>"},onSelect:function(){}};for(i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);for(var a="object"==typeof r.selector?[r.selector]:document.querySelectorAll(r.selector),l=0;l<a.length;l++){var u=a[l];u.sc=document.createElement("div"),u.sc.className="autocomplete-suggestions "+r.menuClass,u.autocompleteAttr=u.getAttribute("autocomplete"),u.setAttribute("autocomplete","off"),u.cache={},u.last_val="",u.updateSC=function(e,t){var n=u.getBoundingClientRect();u.sc.style.left=Math.round(n.left+(window.pageXOffset||document.documentElement.scrollLeft)+r.offsetLeft)+"px",u.sc.style.top=Math.round(n.bottom+(window.pageYOffset||document.documentElement.scrollTop)+r.offsetTop)+"px",u.sc.style.width=Math.round(n.right-n.left)+"px",!e&&(u.sc.style.display="block",u.sc.maxHeight||(u.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(u.sc,null):u.sc.currentStyle).maxHeight)),u.sc.suggestionHeight||(u.sc.suggestionHeight=u.sc.querySelector(".autocomplete-suggestion").offsetHeight),u.sc.suggestionHeight)&&(t?(e=u.sc.scrollTop,0<(t=t.getBoundingClientRect().top-u.sc.getBoundingClientRect().top)+u.sc.suggestionHeight-u.sc.maxHeight?u.sc.scrollTop=t+u.sc.suggestionHeight+e-u.sc.maxHeight:t<0&&(u.sc.scrollTop=t+e)):u.sc.scrollTop=0)},o(window,"resize",u.updateSC),document.body.appendChild(u.sc),n("autocomplete-suggestion","mouseleave",function(){var e=u.sc.querySelector(".autocomplete-suggestion.selected");e&&setTimeout(function(){e.className=e.className.replace("selected","")},20)},u.sc),n("autocomplete-suggestion","mouseover",function(){var e=u.sc.querySelector(".autocomplete-suggestion.selected");e&&(e.className=e.className.replace("selected","")),this.className+=" selected"},u.sc),n("autocomplete-suggestion","mousedown",function(e){var n;t(this,"autocomplete-suggestion")&&(n=this.getAttribute("data-val"),u.value=n,r.onSelect(e,n,this),u.sc.style.display="none")},u.sc),u.blurHandler=function(){try{var t=document.querySelector(".autocomplete-suggestions:hover")}catch(e){t=0}t?u!==document.activeElement&&setTimeout(function(){u.focus()},20):(u.last_val=u.value,u.sc.style.display="none",setTimeout(function(){u.sc.style.display="none"},350))},o(u,"blur",u.blurHandler);function UN(e){var t=u.value;if((u.cache[t]=e).length&&t.length>=r.minChars){for(var n="",i=0;i<e.length;i++)n+=r.renderItem(e[i],t);u.sc.innerHTML=n,u.updateSC(0)}else u.sc.style.display="none"}u.keydownHandler=function(e){var t,n,i=window.event?e.keyCode:e.which;if((40==i||38==i)&&u.sc.innerHTML)return(n=u.sc.querySelector(".autocomplete-suggestion.selected"))?(t=40==i?n.nextSibling:n.previousSibling)?(n.className=n.className.replace("selected",""),t.className+=" selected",u.value=t.getAttribute("data-val")):(n.className=n.className.replace("selected",""),u.value=u.last_val,t=0):((t=40==i?u.sc.querySelector(".autocomplete-suggestion"):u.sc.childNodes[u.sc.childNodes.length-1]).className+=" selected",u.value=t.getAttribute("data-val")),u.updateSC(0,t),!1;27==i?(u.value=u.last_val,u.sc.style.display="none"):13!=i&&9!=i||(n=u.sc.querySelector(".autocomplete-suggestion.selected"))&&"none"!=u.sc.style.display&&(r.onSelect(e,n.getAttribute("data-val"),n),setTimeout(function(){u.sc.style.display="none"},20))},o(u,"keydown",u.keydownHandler),u.keyupHandler=function(e){e=window.event?e.keyCode:e.which;if(!e||(e<35||40<e)&&13!=e&&27!=e){var t=u.value;if(t.length>=r.minChars){if(t!=u.last_val){if(u.last_val=t,clearTimeout(u.timer),r.cache){if(t in u.cache)return void UN(u.cache[t]);for(var n=1;n<t.length-r.minChars;n++){var i=t.slice(0,t.length-n);if(i in u.cache&&!u.cache[i].length)return void UN([])}}u.timer=setTimeout(function(){r.source(t,UN)},r.delay)}}else u.last_val=t,u.sc.style.display="none"}},o(u,"keyup",u.keyupHandler),u.focusHandler=function(e){u.last_val="\n",u.keyupHandler(e)},r.minChars||o(u,"focus",u.focusHandler)}this.destroy=function(){for(var e=0;e<a.length;e++){var t=a[e];s(window,"resize",t.updateSC),s(t,"blur",t.blurHandler),s(t,"focus",t.focusHandler),s(t,"keydown",t.keydownHandler),s(t,"keyup",t.keyupHandler),t.autocompleteAttr?t.setAttribute("autocomplete",t.autocompleteAttr):t.removeAttribute("autocomplete"),document.body.removeChild(t.sc),t=null}}}}void 0===(t=function(){return NN}.call(t,n,t,e))||(e.exports=t)},"./node_modules/jquery-migrate/dist/jquery-migrate.js":function(e,t,n){var i;!function(){"use strict";i=[n("./node_modules/jquery/dist/jquery.js")],void 0===(i=function(e){return function(s,i){"use strict";function compareVersions(e,t){var n,i=/^(\d+)\.(\d+)\.(\d+)/,r=i.exec(e)||[],o=i.exec(t)||[];for(n=1;n<=3;n++){if(+r[n]>+o[n])return 1;if(+r[n]<+o[n])return-1}return 0}function jQueryVersionSince(e){return compareVersions(s.fn.jquery,e)>=0}s.migrateVersion="3.4.0";var t=Object.create(null);s.migrateDisablePatches=function(){var e;for(e=0;e<arguments.length;e++)t[arguments[e]]=true},s.migrateEnablePatches=function(){var e;for(e=0;e<arguments.length;e++)delete t[arguments[e]]},s.migrateIsPatchEnabled=function(e){return!t[e]},function(){if(!i.console||!i.console.log)return;if(!s||!jQueryVersionSince("3.0.0"))i.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED");if(s.migrateWarnings)i.console.log("JQMIGRATE: Migrate plugin loaded multiple times");i.console.log("JQMIGRATE: Migrate is installed"+(s.migrateMute?"":" with logging active")+", version "+s.migrateVersion)}();var r={};if(s.migrateDeduplicateWarnings=true,s.migrateWarnings=[],s.migrateTrace===undefined)s.migrateTrace=true;function migrateWarn(e,t){var n=i.console;if(s.migrateIsPatchEnabled(e)&&(!s.migrateDeduplicateWarnings||!r[t])){r[t]=true;s.migrateWarnings.push(t+" ["+e+"]");if(n&&n.warn&&!s.migrateMute){n.warn("JQMIGRATE: "+t);if(s.migrateTrace&&n.trace)n.trace()}}}function migrateWarnProp(e,t,n,i,r){Object.defineProperty(e,t,{configurable:true,enumerable:true,get:function(){migrateWarn(i,r);return n},set:function(e){migrateWarn(i,r);n=e}})}function migrateWarnFuncInternal(e,t,n,i,r){var o,a=e[t];e[t]=function(){if(r)migrateWarn(i,r);o=s.migrateIsPatchEnabled(i)?n:a||s.noop;return o.apply(this,arguments)}}function migratePatchAndWarnFunc(e,t,n,i,r){if(!r)throw new Error("No warning message provided");return migrateWarnFuncInternal(e,t,n,i,r)}function migratePatchFunc(e,t,n,i){return migrateWarnFuncInternal(e,t,n,i)}if(s.migrateReset=function(){r={};s.migrateWarnings.length=0},i.document.compatMode==="BackCompat")migrateWarn("quirks","jQuery is not compatible with Quirks Mode");var e,n={},o=s.fn.init,a=s.find,l=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,c=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;for(e in migratePatchFunc(s.fn,"init",function(e){var t=Array.prototype.slice.call(arguments);if(s.migrateIsPatchEnabled("selector-empty-id")&&typeof e==="string"&&e==="#"){migrateWarn("selector-empty-id","jQuery( '#' ) is not a valid selector");t[0]=[]}return o.apply(this,t)},"selector-empty-id"),s.fn.init.prototype=s.fn,migratePatchFunc(s,"find",function(t){var n=Array.prototype.slice.call(arguments);if(typeof t==="string"&&l.test(t))try{i.document.querySelector(t)}catch(e){t=t.replace(u,function(e,t,n,i){return"["+t+n+'"'+i+'"]'});try{i.document.querySelector(t);migrateWarn("selector-hash","Attribute selector with '#' must be quoted: "+n[0]);n[0]=t}catch(e){migrateWarn("selector-hash","Attribute selector with '#' was not fixed: "+n[0])}}return a.apply(this,n)},"selector-hash"),a)if(Object.prototype.hasOwnProperty.call(a,e))s.find[e]=a[e];if(migratePatchAndWarnFunc(s.fn,"size",function(){return this.length},"size","jQuery.fn.size() is deprecated and removed; use the .length property"),migratePatchAndWarnFunc(s,"parseJSON",function(){return JSON.parse.apply(null,arguments)},"parseJSON","jQuery.parseJSON is deprecated; use JSON.parse"),migratePatchAndWarnFunc(s,"holdReady",s.holdReady,"holdReady","jQuery.holdReady is deprecated"),migratePatchAndWarnFunc(s,"unique",s.uniqueSort,"unique","jQuery.unique is deprecated; use jQuery.uniqueSort"),migrateWarnProp(s.expr,"filters",s.expr.pseudos,"expr-pre-pseudos","jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),migrateWarnProp(s.expr,":",s.expr.pseudos,"expr-pre-pseudos","jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"),jQueryVersionSince("3.1.1"))migratePatchAndWarnFunc(s,"trim",function(e){return e==null?"":(e+"").replace(c,"")},"trim","jQuery.trim is deprecated; use String.prototype.trim");if(jQueryVersionSince("3.2.0")){migratePatchAndWarnFunc(s,"nodeName",function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},"nodeName","jQuery.nodeName is deprecated");migratePatchAndWarnFunc(s,"isArray",Array.isArray,"isArray","jQuery.isArray is deprecated; use Array.isArray")}if(jQueryVersionSince("3.3.0")){migratePatchAndWarnFunc(s,"isNumeric",function(e){var t=typeof e;return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},"isNumeric","jQuery.isNumeric() is deprecated");s.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});migratePatchAndWarnFunc(s,"type",function(e){if(e==null)return e+"";return typeof e==="object"||typeof e==="function"?n[Object.prototype.toString.call(e)]||"object":typeof e},"type","jQuery.type is deprecated");migratePatchAndWarnFunc(s,"isFunction",function(e){return typeof e==="function"},"isFunction","jQuery.isFunction() is deprecated");migratePatchAndWarnFunc(s,"isWindow",function(e){return e!=null&&e===e.window},"isWindow","jQuery.isWindow() is deprecated")}if(s.ajax){var d=s.ajax,h=/(=)\?(?=&|$)|\?\?/;migratePatchFunc(s,"ajax",function(){var e=d.apply(this,arguments);if(e.promise){migratePatchAndWarnFunc(e,"success",e.done,"jqXHR-methods","jQXHR.success is deprecated and removed");migratePatchAndWarnFunc(e,"error",e.fail,"jqXHR-methods","jQXHR.error is deprecated and removed");migratePatchAndWarnFunc(e,"complete",e.always,"jqXHR-methods","jQXHR.complete is deprecated and removed")}return e},"jqXHR-methods");if(!jQueryVersionSince("4.0.0"))s.ajaxPrefilter("+json",function(e){if(e.jsonp!==false&&(h.test(e.url)||typeof e.data==="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&h.test(e.data)))migrateWarn("jsonp-promotion","JSON-to-JSONP auto-promotion is deprecated")})}var p=s.fn.removeAttr,f=s.fn.toggleClass,m=/\S+/g;function camelCase(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}migratePatchFunc(s.fn,"removeAttr",function(e){var n=this;s.each(e.match(m),function(e,t){if(s.expr.match.bool.test(t)){migrateWarn("removeAttr-bool","jQuery.fn.removeAttr no longer sets boolean properties: "+t);n.prop(t,false)}});return p.apply(this,arguments)},"removeAttr-bool"),migratePatchFunc(s.fn,"toggleClass",function(t){if(t!==undefined&&typeof t!=="boolean")return f.apply(this,arguments);migrateWarn("toggleClass-bool","jQuery.fn.toggleClass( boolean ) is deprecated");return this.each(function(){var e=this.getAttribute&&this.getAttribute("class")||"";if(e)s.data(this,"__className__",e);if(this.setAttribute)this.setAttribute("class",e||t===false?"":s.data(this,"__className__")||"")})},"toggleClass-bool");var g,y=false,v=/^[a-z]/,b=/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;if(s.swap)s.each(["height","width","reliableMarginRight"],function(e,t){var n=s.cssHooks[t]&&s.cssHooks[t].get;if(n)s.cssHooks[t].get=function(){var e;y=true;e=n.apply(this,arguments);y=false;return e}});if(migratePatchFunc(s,"swap",function(e,t,n,i){var r,o,a={};if(!y)migrateWarn("swap","jQuery.swap() is undocumented and deprecated");for(o in t){a[o]=e.style[o];e.style[o]=t[o]}r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},"swap"),jQueryVersionSince("3.4.0")&&typeof Proxy!=="undefined")s.cssProps=new Proxy(s.cssProps||{},{set:function(){migrateWarn("cssProps","jQuery.cssProps is deprecated");return Reflect.set.apply(this,arguments)}});if(jQueryVersionSince("4.0.0")&&typeof Proxy!=="undefined")s.cssNumber=new Proxy({animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,gridArea:true,gridColumn:true,gridColumnEnd:true,gridColumnStart:true,gridRow:true,gridRowEnd:true,gridRowStart:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},{get:function(){migrateWarn("css-number","jQuery.cssNumber is deprecated");return Reflect.get.apply(this,arguments)},set:function(){migrateWarn("css-number","jQuery.cssNumber is deprecated");return Reflect.set.apply(this,arguments)}});function isAutoPx(e){return v.test(e)&&b.test(e[0].toUpperCase()+e.slice(1))}g=s.fn.css,migratePatchFunc(s.fn,"css",function(e,t){var n,i=this;if(e&&typeof e==="object"&&!Array.isArray(e)){s.each(e,function(e,t){s.fn.css.call(i,e,t)});return this}if(typeof t==="number"){n=camelCase(e);if(!isAutoPx(n)&&!s.cssNumber[n])migrateWarn("css-number",'Number-typed values are deprecated for jQuery.fn.css( "'+e+'", value )')}return g.apply(this,arguments)},"css-number");var _=s.data;if(migratePatchFunc(s,"data",function(e,t,n){var i,r,o;if(t&&typeof t==="object"&&arguments.length===2){i=s.hasData(e)&&_.call(this,e);r={};for(o in t)if(o!==camelCase(o)){migrateWarn("data-camelCase","jQuery.data() always sets/gets camelCased names: "+o);i[o]=t[o]}else r[o]=t[o];_.call(this,e,r);return t}if(t&&typeof t==="string"&&t!==camelCase(t)){i=s.hasData(e)&&_.call(this,e);if(i&&t in i){migrateWarn("data-camelCase","jQuery.data() always sets/gets camelCased names: "+t);if(arguments.length>2)i[t]=n;return i[t]}}return _.apply(this,arguments)},"data-camelCase"),s.fx){var T,S,C=s.Tween.prototype.run,w=function(e){return e};migratePatchFunc(s.Tween.prototype,"run",function(){if(s.easing[this.easing].length>1){migrateWarn("easing-one-arg","'jQuery.easing."+this.easing.toString()+"' should use only one argument");s.easing[this.easing]=w}C.apply(this,arguments)},"easing-one-arg");T=s.fx.interval;S="jQuery.fx.interval is deprecated";if(i.requestAnimationFrame)Object.defineProperty(s.fx,"interval",{configurable:true,enumerable:true,get:function(){if(!i.document.hidden)migrateWarn("fx-interval",S);if(!s.migrateIsPatchEnabled("fx-interval"))return T;return T===undefined?13:T},set:function(e){migrateWarn("fx-interval",S);T=e}})}var k=s.fn.load,E=s.event.add,A=s.event.fix;s.event.props=[],s.event.fixHooks={},migrateWarnProp(s.event.props,"concat",s.event.props.concat,"event-old-patch","jQuery.event.props.concat() is deprecated and removed"),migratePatchFunc(s.event,"fix",function(e){var t,n=e.type,i=this.fixHooks[n],r=s.event.props;if(r.length){migrateWarn("event-old-patch","jQuery.event.props are deprecated and removed: "+r.join());while(r.length)s.event.addProp(r.pop())}if(i&&!i._migrated_){i._migrated_=true;migrateWarn("event-old-patch","jQuery.event.fixHooks are deprecated and removed: "+n);if((r=i.props)&&r.length)while(r.length)s.event.addProp(r.pop())}t=A.call(this,e);return i&&i.filter?i.filter(t,e):t},"event-old-patch"),migratePatchFunc(s.event,"add",function(e,t){if(e===i&&t==="load"&&i.document.readyState==="complete")migrateWarn("load-after-event","jQuery(window).on('load'...) called after load event occurred");return E.apply(this,arguments)},"load-after-event"),s.each(["load","unload","error"],function(e,t){migratePatchFunc(s.fn,t,function(){var e=Array.prototype.slice.call(arguments,0);if(t==="load"&&typeof e[0]==="string")return k.apply(this,e);migrateWarn("shorthand-removed-v3","jQuery.fn."+t+"() is deprecated");e.splice(0,0,t);if(arguments.length)return this.on.apply(this,e);this.triggerHandler.apply(this,e);return this},"shorthand-removed-v3")}),s.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(e,n){migratePatchAndWarnFunc(s.fn,n,function(e,t){return arguments.length>0?this.on(n,null,e,t):this.trigger(n)},"shorthand-deprecated-v3","jQuery.fn."+n+"() event shorthand is deprecated")}),s(function(){s(i.document).triggerHandler("ready")}),s.event.special.ready={setup:function(){if(this===i.document)migrateWarn("ready-event","'ready' event is deprecated")}},migratePatchAndWarnFunc(s.fn,"bind",function(e,t,n){return this.on(e,null,t,n)},"pre-on-methods","jQuery.fn.bind() is deprecated"),migratePatchAndWarnFunc(s.fn,"unbind",function(e,t){return this.off(e,null,t)},"pre-on-methods","jQuery.fn.unbind() is deprecated"),migratePatchAndWarnFunc(s.fn,"delegate",function(e,t,n,i){return this.on(t,e,n,i)},"pre-on-methods","jQuery.fn.delegate() is deprecated"),migratePatchAndWarnFunc(s.fn,"undelegate",function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},"pre-on-methods","jQuery.fn.undelegate() is deprecated"),migratePatchAndWarnFunc(s.fn,"hover",function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)},"pre-on-methods","jQuery.fn.hover() is deprecated");var P=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,x=function(e){var t=i.document.implementation.createHTMLDocument("");t.body.innerHTML=e;return t.body&&t.body.innerHTML},M=function(e){var t=e.replace(P,"<$1></$2>");if(t!==e&&x(e)!==x(t))migrateWarn("self-closed-tags","HTML tags must be properly nested and closed: "+e)};s.UNSAFE_restoreLegacyHtmlPrefilter=function(){s.migrateEnablePatches("self-closed-tags")},migratePatchFunc(s,"htmlPrefilter",function(e){M(e);return e.replace(P,"<$1></$2>")},"self-closed-tags"),s.migrateDisablePatches("self-closed-tags");var I=s.fn.offset;if(migratePatchFunc(s.fn,"offset",function(){var e=this[0];if(e&&(!e.nodeType||!e.getBoundingClientRect)){migrateWarn("offset-valid-elem","jQuery.fn.offset() requires a valid DOM element");return arguments.length?this:undefined}return I.apply(this,arguments)},"offset-valid-elem"),s.ajax){var L=s.param;migratePatchFunc(s,"param",function(e,t){var n=s.ajaxSettings&&s.ajaxSettings.traditional;if(t===undefined&&n){migrateWarn("param-ajax-traditional","jQuery.param() no longer uses jQuery.ajaxSettings.traditional");t=n}return L.call(this,e,t)},"param-ajax-traditional")}if(migratePatchAndWarnFunc(s.fn,"andSelf",s.fn.addBack,"andSelf","jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),s.Deferred){var O=s.Deferred,D=[["resolve","done",s.Callbacks("once memory"),s.Callbacks("once memory"),"resolved"],["reject","fail",s.Callbacks("once memory"),s.Callbacks("once memory"),"rejected"],["notify","progress",s.Callbacks("memory"),s.Callbacks("memory")]];migratePatchFunc(s,"Deferred",function(e){var o=O(),a=o.promise();function newDeferredPipe(){var r=arguments;return s.Deferred(function(i){s.each(D,function(e,t){var n=typeof r[e]==="function"&&r[e];o[t[1]](function(){var e=n&&n.apply(this,arguments);if(e&&typeof e.promise==="function")e.promise().done(i.resolve).fail(i.reject).progress(i.notify);else i[t[0]+"With"](this===a?i.promise():this,n?[e]:arguments)})});r=null}).promise()}migratePatchAndWarnFunc(o,"pipe",newDeferredPipe,"deferred-pipe","deferred.pipe() is deprecated");migratePatchAndWarnFunc(a,"pipe",newDeferredPipe,"deferred-pipe","deferred.pipe() is deprecated");if(e)e.call(o,o);return o},"deferred-pipe");s.Deferred.exceptionHook=O.exceptionHook}return s}(e,window)}.apply(t,i))||(e.exports=i)}()},"./node_modules/jquery/dist/jquery.js":function(Ge,$e,e){var ze;!function(e,t){"use strict";"object"==typeof Ge.exports?Ge.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(T,e){"use strict";function zS(e){return"function"==typeof e&&"number"!=typeof e.nodeType}function AS(e){return null!=e&&e===e.window}var t=[],S=T.document,n=Object.getPrototypeOf,a=t.slice,m=t.concat,s=t.push,r=t.indexOf,i={},o=i.toString,g=i.hasOwnProperty,l=g.toString,u=l.call(Object),y={},c={type:!0,src:!0,noModule:!0};function DOMEval(e,t,n){var i,r=(t=t||S).createElement("script");if(r.text=e,n)for(i in c)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function toType(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[o.call(e)]||"object":typeof e}var C=function(e,t){return new C.fn.init(e,t)},d=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function isArrayLike(e){var t=!!e&&"length"in e&&e.length,n=toType(e);return!zS(e)&&!AS(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:"3.3.1",constructor:C,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=C.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return C.each(this,e)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,n,i,r,o=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||zS(o)||(o={}),a===s&&(o=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)r=o[t],o!==(n=e[t])&&(l&&n&&(C.isPlainObject(n)||(i=Array.isArray(n)))?(r=i?(i=!1,r&&Array.isArray(r)?r:[]):r&&C.isPlainObject(r)?r:{},o[t]=C.extend(l,r,n)):void 0!==n&&(o[t]=n));return o},C.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==o.call(e))&&(!(e=n(e))||"function"==typeof(e=g.call(e,"constructor")&&e.constructor)&&l.call(e)===u)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e){DOMEval(e)},each:function(e,t){var n,i=0;if(isArrayLike(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(d,"")},makeArray:function(e,t){t=t||[];return null!=e&&(isArrayLike(Object(e))?C.merge(t,"string"==typeof e?[e]:e):s.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:r.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!=a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(isArrayLike(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return m.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=t[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var h=function(n){function CW(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function EW(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function FW(){S()}var e,p,_,o,i,f,d,m,T,l,u,S,C,r,w,g,a,s,y,k="sizzle"+ +new Date,v=n.document,E=0,h=0,c=createCache(),b=createCache(),A=createCache(),P=function(e,t){return e===t&&(u=!0),0},x={}.hasOwnProperty,t=[],M=t.pop,I=t.push,L=t.push,O=t.slice,D=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+N+"*("+B+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+N+"*\\]",F=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",U=new RegExp(N+"+","g"),V=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),H=new RegExp("^"+N+"*,"+N+"*"),q=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),W=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),G=new RegExp(F),$=new RegExp("^"+B+"$"),z={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),ee=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,te=addCombinator(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(t=O.call(v.childNodes),v.childNodes),t[v.childNodes.length].nodeType}catch(e){L={apply:t.length?function(e,t){I.apply(e,O.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function Sizzle(e,t,n,i){var r,o,a,s,l,u,c,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&((t?t.ownerDocument||t:v)!==C&&S(t),t=t||C,w)){if(11!==h&&(l=Q.exec(e)))if(r=l[1]){if(9===h){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(d&&(a=d.getElementById(r))&&y(t,a)&&a.id===r)return n.push(a),n}else{if(l[2])return L.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&p.getElementsByClassName&&t.getElementsByClassName)return L.apply(n,t.getElementsByClassName(r)),n}if(p.qsa&&!A[e+" "]&&(!g||!g.test(e))){if(1!==h)d=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ee,EW):t.setAttribute("id",s=k),o=(u=f(e)).length;o--;)u[o]="#"+s+" "+toSelector(u[o]);c=u.join(","),d=Z.test(e)&&testContext(t.parentNode)||t}if(c)try{return L.apply(n,d.querySelectorAll(c)),n}catch(e){}finally{s===k&&t.removeAttribute("id")}}}return m(e.replace(V,"$1"),t,n,i)}function createCache(){var n=[];function cache(e,t){return n.push(e+" ")>_.cacheLength&&delete cache[n.shift()],cache[e+" "]=t}return cache}function markFunction(e){return e[k]=!0,e}function assert(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function addHandle(e,t){for(var n=e.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=t}function siblingCheck(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function createDisabledPseudo(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&te(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function createPositionalPseudo(a){return markFunction(function(o){return o=+o,markFunction(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function testContext(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=Sizzle.support={},i=Sizzle.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},S=Sizzle.setDocument=function(e){var t,e=e?e.ownerDocument||e:v;return e!==C&&9===e.nodeType&&e.documentElement&&(r=(C=e).documentElement,w=!i(C),v!==C&&(t=C.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",FW,!1):t.attachEvent&&t.attachEvent("onunload",FW)),p.attributes=assert(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=assert(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=X.test(C.getElementsByClassName),p.getById=assert(function(e){return r.appendChild(e).id=k,!C.getElementsByName||!C.getElementsByName(k).length}),p.getById?(_.filter.ID=function(e){var t=e.replace(J,CW);return function(e){return e.getAttribute("id")===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&w){e=t.getElementById(e);return e?[e]:[]}}):(_.filter.ID=function(e){var t=e.replace(J,CW);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&w){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),_.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},_.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&w)return t.getElementsByClassName(e)},a=[],g=[],(p.qsa=X.test(C.querySelectorAll))&&(assert(function(e){r.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+N+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+k+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||g.push(".#.+[+~]")}),assert(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+N+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(p.matchesSelector=X.test(s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&assert(function(e){p.disconnectedMatch=s.call(e,"*"),s.call(e,"[s!='']:x"),a.push("!=",F)}),g=g.length&&new RegExp(g.join("|")),a=a.length&&new RegExp(a.join("|")),t=X.test(r.compareDocumentPosition),y=t||X.test(r.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},P=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===v&&y(v,e)?-1:t===C||t.ownerDocument===v&&y(v,t)?1:l?D(l,e)-D(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===C?-1:t===C?1:r?-1:o?1:l?D(l,e)-D(l,t):0;if(r===o)return siblingCheck(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?siblingCheck(a[i],s[i]):a[i]===v?-1:s[i]===v?1:0}),C},Sizzle.matches=function(e,t){return Sizzle(e,null,null,t)},Sizzle.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&S(e),t=t.replace(W,"='$1']"),p.matchesSelector&&w&&!A[t+" "]&&(!a||!a.test(t))&&(!g||!g.test(t)))try{var n=s.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<Sizzle(t,C,null,[e]).length},Sizzle.contains=function(e,t){return(e.ownerDocument||e)!==C&&S(e),y(e,t)},Sizzle.attr=function(e,t){(e.ownerDocument||e)!==C&&S(e);var n=_.attrHandle[t.toLowerCase()],n=n&&x.call(_.attrHandle,t.toLowerCase())?n(e,t,!w):void 0;return void 0!==n?n:p.attributes||!w?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},Sizzle.escape=function(e){return(e+"").replace(ee,EW)},Sizzle.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Sizzle.uniqueSort=function(e){var t,n=[],i=0,r=0;if(u=!p.detectDuplicates,l=!p.sortStable&&e.slice(0),e.sort(P),u){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return l=null,e},o=Sizzle.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(_=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,CW),e[3]=(e[3]||e[4]||e[5]||"").replace(J,CW),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Sizzle.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Sizzle.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,CW).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=c[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&c(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=Sizzle.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(U," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,e,t,m,g){var y="nth"!==f.slice(0,3),v="last"!==f.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,l,u=y!=v?"nextSibling":"previousSibling",c=e.parentNode,d=b&&e.nodeName.toLowerCase(),h=!n&&!b,p=!1;if(c){if(y){for(;u;){for(a=e;a=a[u];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&h){for(p=(s=(i=(r=(o=(a=c)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]||[])[0]===E&&i[1])&&i[2],a=s&&c.childNodes[s];a=++s&&a&&a[u]||(p=s=0)||l.pop();)if(1===a.nodeType&&++p&&a===e){r[f]=[E,s,p];break}}else if(!1===(p=h?s=(i=(r=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]||[])[0]===E&&i[1]:p))for(;(a=++s&&a&&a[u]||(p=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++p||(h&&((r=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]=[E,p]),a!==e)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(e,o){var t,a=_.pseudos[e]||_.setFilters[e.toLowerCase()]||Sizzle.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],_.setFilters.hasOwnProperty(e.toLowerCase())?markFunction(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=D(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:markFunction(function(e){var i=[],r=[],s=d(e.replace(V,"$1"));return s[k]?markFunction(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:markFunction(function(t){return function(e){return 0<Sizzle(t,e).length}}),contains:markFunction(function(t){return t=t.replace(J,CW),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:markFunction(function(n){return $.test(n||"")||Sizzle.error("unsupported lang: "+n),n=n.replace(J,CW).toLowerCase(),function(e){var t;do{if(t=w?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(e,t){return[t-1]}),eq:createPositionalPseudo(function(e,t,n){return[n<0?n+t:n]}),even:createPositionalPseudo(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:createPositionalPseudo(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:createPositionalPseudo(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:createPositionalPseudo(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[e]=function createInputPseudo(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})_.pseudos[e]=function createButtonPseudo(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function setFilters(){}function toSelector(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function addCombinator(a,e,t){var s=e.dir,l=e.next,u=l||s,c=t&&"parentNode"===u,d=h++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var i,r,o=[E,d];if(n){for(;e=e[s];)if((1===e.nodeType||c)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||c)if(i=(r=e[k]||(e[k]={}))[e.uniqueID]||(r[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((r=i[u])&&r[0]===E&&r[1]===d)return o[2]=r[2];if((i[u]=o)[2]=a(e,t,n))return!0}return!1}}function elementMatcher(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function condense(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function setMatcher(p,f,m,g,y,e){return g&&!g[k]&&(g=setMatcher(g)),y&&!y[k]&&(y=setMatcher(y,e)),markFunction(function(e,t,n,i){var r,o,a,s=[],l=[],u=t.length,c=e||function multipleContexts(e,t,n){for(var i=0,r=t.length;i<r;i++)Sizzle(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),d=!p||!e&&f?c:condense(c,s,p,n,i),h=m?y||(e?p:u||g)?[]:t:d;if(m&&m(d,h,n,i),g)for(r=condense(h,l),g(r,[],n,i),o=r.length;o--;)(a=r[o])&&(h[l[o]]=!(d[l[o]]=a));if(e){if(y||p){if(y){for(r=[],o=h.length;o--;)(a=h[o])&&r.push(d[o]=a);y(null,h=[],r,i)}for(o=h.length;o--;)(a=h[o])&&-1<(r=y?D(e,a):s[o])&&(e[r]=!(t[r]=a))}}else h=condense(h===t?h.splice(u,h.length):h),y?y(null,t,h,i):L.apply(t,h)})}function matcherFromGroupMatchers(g,y){function Zaa(e,t,n,i,r){var o,a,s,l=0,u="0",c=e&&[],d=[],h=T,p=e||b&&_.find.TAG("*",r),f=E+=null==h?1:Math.random()||.1,m=p.length;for(r&&(T=t===C||t||r);u!==m&&null!=(o=p[u]);u++){if(b&&o){for(a=0,t||o.ownerDocument===C||(S(o),n=!w);s=g[a++];)if(s(o,t||C,n)){i.push(o);break}r&&(E=f)}v&&((o=!s&&o)&&l--,e&&c.push(o))}if(l+=u,v&&u!==l){for(a=0;s=y[a++];)s(c,d,t,n);if(e){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=M.call(i));d=condense(d)}L.apply(i,d),r&&!e&&0<d.length&&1<l+y.length&&Sizzle.uniqueSort(i)}return r&&(E=f,T=h),c}var v=0<y.length,b=0<g.length;return v?markFunction(Zaa):Zaa}return setFilters.prototype=_.filters=_.pseudos,_.setFilters=new setFilters,f=Sizzle.tokenize=function(e,t){var n,i,r,o,a,s,l,u=b[e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],l=_.preFilter;a;){for(o in n&&!(i=H.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=q.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(V," ")}),a=a.slice(n.length)),_.filter)!(i=z[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?Sizzle.error(e):b(e,s).slice(0)},d=Sizzle.compile=function(e,t){var n,i=[],r=[],o=A[e+" "];if(!o){for(n=(t=t||f(e)).length;n--;)((o=function matcherFromTokens(e){for(var i,t,n,r=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,l=addCombinator(function(e){return e===i},a,!0),u=addCombinator(function(e){return-1<D(i,e)},a,!0),c=[function(e,t,n){return n=!o&&(n||t!==T)||((i=t).nodeType?l:u)(e,t,n),i=null,n}];s<r;s++)if(t=_.relative[e[s].type])c=[addCombinator(elementMatcher(c),t)];else{if((t=_.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r&&!_.relative[e[n].type];n++);return setMatcher(1<s&&elementMatcher(c),1<s&&toSelector(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(V,"$1"),t,s<n&&matcherFromTokens(e.slice(s,n)),n<r&&matcherFromTokens(e=e.slice(n)),n<r&&toSelector(e))}c.push(t)}return elementMatcher(c)}(t[n]))[k]?i:r).push(o);(o=A(e,matcherFromGroupMatchers(r,i))).selector=e}return o},m=Sizzle.select=function(e,t,n,i){var r,o,a,s,l,u="function"==typeof e&&e,c=!i&&f(e=u.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&w&&_.relative[o[1].type]){if(!(t=(_.find.ID(a.matches[0].replace(J,CW),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=z.needsContext.test(e)?0:o.length;r--&&(a=o[r],!_.relative[s=a.type]);)if((l=_.find[s])&&(i=l(a.matches[0].replace(J,CW),Z.test(o[0].type)&&testContext(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&toSelector(o)))return L.apply(n,i),n;break}}return(u||d(e,c))(i,t,!w,n,!t||Z.test(e)&&testContext(t.parentNode)||t),n},p.sortStable=k.split("").sort(P).join("")===k,p.detectDuplicates=!!u,S(),p.sortDetached=assert(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),assert(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&assert(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||addHandle("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),assert(function(e){return null==e.getAttribute("disabled")})||addHandle(R,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),Sizzle}(T);C.find=h,C.expr=h.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=h.uniqueSort,C.text=h.getText,C.isXMLDoc=h.isXML,C.contains=h.contains,C.escapeSelector=h.escape;function GS(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&C(e).is(n))break;i.push(e)}return i}function HS(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var p=C.expr.match.needsContext;function nodeName(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var f=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function winnow(e,n,i){return zS(n)?C.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?C.grep(e,function(e){return e===n!==i}):"string"!=typeof n?C.grep(e,function(e){return-1<r.call(n,e)!==i}):C.filter(n,e,i)}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<i;t++)if(C.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)C.find(e,r[t],n);return 1<i?C.uniqueSort(n):n},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,"string"==typeof e&&p.test(e)?C(e):e||[],!1).length}});var v=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){if(!e)return this;if(n=n||b,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):zS(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:v.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:S,!0)),f.test(i[1])&&C.isPlainObject(t))for(var i in t)zS(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(e=S.getElementById(i[2]))&&(this[0]=e,this.length=1),this}).prototype=C.fn;var b=C(S),_=/^(?:parents|prev(?:Until|All))/,w={children:!0,contents:!0,next:!0,prev:!0};function sibling(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&C(e);if(!p.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?C.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?r.call(C(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return GS(e,"parentNode")},parentsUntil:function(e,t,n){return GS(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return GS(e,"nextSibling")},prevAll:function(e){return GS(e,"previousSibling")},nextUntil:function(e,t,n){return GS(e,"nextSibling",n)},prevUntil:function(e,t,n){return GS(e,"previousSibling",n)},siblings:function(e){return HS((e.parentNode||{}).firstChild,e)},children:function(e){return HS(e.firstChild)},contents:function(e){return nodeName(e,"iframe")?e.contentDocument:(nodeName(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(i,r){C.fn[i]=function(e,t){var n=C.map(this,r,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(w[i]||C.uniqueSort(n),_.test(i)&&n.reverse()),this.pushStack(n)}});var k=/[^\x20\t\r\n\f]+/g;function Identity(e){return e}function Thrower(e){throw e}function adoptValue(e,t,n,i){var r;try{e&&zS(r=e.promise)?r.call(e).done(t).fail(n):e&&zS(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(n){n="string"==typeof n?function createOptions(e){var n={};return C.each(e.match(k)||[],function(e,t){n[t]=!0}),n}(n):C.extend({},n);function z1a(){for(r=r||n.once,t=i=!0;a.length;s=-1)for(e=a.shift();++s<o.length;)!1===o[s].apply(e[0],e[1])&&n.stopOnFalse&&(s=o.length,e=!1);n.memory||(e=!1),i=!1,r&&(o=e?[]:"")}var i,e,t,r,o=[],a=[],s=-1,l={add:function(){return o&&(e&&!i&&(s=o.length-1,a.push(e)),function add(e){C.each(e,function(e,t){zS(t)?n.unique&&l.has(t)||o.push(t):t&&t.length&&"string"!==toType(t)&&add(t)})}(arguments),e&&!i&&z1a()),this},remove:function(){return C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<C.inArray(e,o):0<o.length},empty:function(){return o=o&&[],this},disable:function(){return r=a=[],o=e="",this},disabled:function(){return!o},lock:function(){return r=a=[],e||i||(o=e=""),this},locked:function(){return!!r},fireWith:function(e,t){return r||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),i||z1a()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!t}};return l},C.extend({Deferred:function(e){var o=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var r=arguments;return C.Deferred(function(i){C.each(o,function(e,t){var n=zS(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&zS(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){var l=0;function resolve(r,o,a,s){return function(){function lca(){var e,t;if(!(r<l)){if((e=a.apply(n,i))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,zS(t)?s?t.call(e,resolve(l,o,Identity,s),resolve(l,o,Thrower,s)):(l++,t.call(e,resolve(l,o,Identity,s),resolve(l,o,Thrower,s),resolve(l,o,Identity,o.notifyWith))):(a!==Identity&&(n=void 0,i=[e]),(s||o.resolveWith)(n,i))}}var n=this,i=arguments,t=s?lca:function(){try{lca()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,t.stackTrace),l<=r+1&&(a!==Thrower&&(n=void 0,i=[e]),o.rejectWith(n,i))}};r?t():(C.Deferred.getStackHook&&(t.stackTrace=C.Deferred.getStackHook()),T.setTimeout(t))}}return C.Deferred(function(e){o[0][3].add(resolve(0,e,zS(i)?i:Identity,e.notifyWith)),o[1][3].add(resolve(0,e,zS(t)?t:Identity)),o[2][3].add(resolve(0,e,zS(n)?n:Thrower))}).promise()},promise:function(e){return null!=e?C.extend(e,a):a}},s={};return C.each(o,function(e,t){var n=t[2],i=t[5];a[t[1]]=n.add,i&&n.add(function(){r=i},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function Cca(t){return function(e){i[t]=this,r[t]=1<arguments.length?a.call(arguments):e,--n||o.resolveWith(i,r)}}var n=arguments.length,t=n,i=Array(t),r=a.call(arguments),o=C.Deferred();if(n<=1&&(adoptValue(e,o.done(Cca(t)).resolve,o.reject,!n),"pending"===o.state()||zS(r[t]&&r[t].then)))return o.then();for(;t--;)adoptValue(r[t],Cca(t),o.reject);return o.promise()}});var E=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){T.console&&T.console.warn&&e&&E.test(e.name)&&T.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){T.setTimeout(function(){throw e})};var A=C.Deferred();function completed(){S.removeEventListener("DOMContentLoaded",completed),T.removeEventListener("load",completed),C.ready()}C.fn.ready=function(e){return A.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||A.resolveWith(S,[C])}}),C.ready.then=A.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?T.setTimeout(C.ready):(S.addEventListener("DOMContentLoaded",completed),T.addEventListener("load",completed));function SS(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===toType(n))for(s in r=!0,n)SS(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,zS(i)||(a=!0),t=u?a?(t.call(e,i),null):(u=t,function(e,t,n){return u.call(C(e),n)}):t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):o}var P=/^-ms-/,x=/-([a-z])/g;function fcamelCase(e,t){return t.toUpperCase()}function camelCase(e){return e.replace(P,"ms-").replace(x,fcamelCase)}function VS(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function Data(){this.expando=C.expando+Data.uid++}Data.uid=1,Data.prototype={cache:function(e){var t=e[this.expando];return t||(t={},VS(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[camelCase(t)]=n;else for(i in t)r[camelCase(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(camelCase):(t=camelCase(t))in i?[t]:t.match(k)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!C.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var M=new Data,I=new Data,L=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/[A-Z]/g;function dataAttr(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(O,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function getData(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:L.test(e)?JSON.parse(e):e)}(n)}catch(e){}I.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return I.hasData(e)||M.hasData(e)},data:function(e,t,n){return I.access(e,t,n)},removeData:function(e,t){I.remove(e,t)},_data:function(e,t,n){return M.access(e,t,n)},_removeData:function(e,t){M.remove(e,t)}}),C.fn.extend({data:function(n,e){var t,i,r,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){I.set(this,n)}):SS(this,function(e){var t;return o&&void 0===e?void 0!==(t=I.get(o,n))||void 0!==(t=dataAttr(o,n))?t:void 0:void this.each(function(){I.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=I.get(o),1===o.nodeType&&!M.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(i=a[t].name).indexOf("data-")&&(i=camelCase(i.slice(5)),dataAttr(o,i,r[i]));M.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){I.remove(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return i=M.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=M.access(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,r=n.shift(),o=C._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){C.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return M.get(e,n)||M.access(e,n,{empty:C.Callbacks("once memory").add(function(){M.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===n?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function sda(){--i||r.resolveWith(o,[o])}var n,i=1,r=C.Deferred(),o=this,a=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=M.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(sda));return sda(),r.promise(t)}});function bT(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&C.contains(e.ownerDocument,e)&&"none"===C.css(e,"display")}function cT(e,t,n,i){var r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.apply(e,i||[]),t)e.style[r]=o[r];return i}var D=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=new RegExp("^(?:([+-])=|)("+D+")([a-z%]*)$","i"),N=["Top","Right","Bottom","Left"];function adjustCSS(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return C.css(e,t,"")},l=s(),u=n&&n[3]||(C.cssNumber[t]?"":"px"),c=(C.cssNumber[t]||"px"!==u&&+l)&&R.exec(C.css(e,t));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;a--;)C.style(e,t,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;C.style(e,t,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var B={};function showHide(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=M.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&bT(i)&&(r[o]=function getDefaultDisplay(e){var t=e.ownerDocument,n=e.nodeName;return(e=B[n])||(t=t.body.appendChild(t.createElement(n)),e=C.css(t,"display"),t.parentNode.removeChild(t),B[n]=e="none"===e?"block":e)}(i))):"none"!==n&&(r[o]="none",M.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}C.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){bT(this)?C(this).show():C(this).hide()})}});var j=/^(?:checkbox|radio)$/i,F=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,U=/^$|^module$|\/(?:java|ecma)script/i,V={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&nodeName(e,t)?C.merge([e],n):n}function setGlobalEval(e,t){for(var n=0,i=e.length;n<i;n++)M.set(e[n],"globalEval",!t||M.get(t[n],"globalEval"))}V.optgroup=V.option,V.tbody=V.tfoot=V.colgroup=V.caption=V.thead,V.th=V.td;var H=/<|&#?\w+;/;function buildFragment(e,t,n,i,r){for(var o,a,s,l,u,c=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===toType(o))C.merge(d,o.nodeType?[o]:o);else if(H.test(o)){for(a=a||c.appendChild(t.createElement("div")),s=(F.exec(o)||["",""])[1].toLowerCase(),s=V[s]||V._default,a.innerHTML=s[1]+C.htmlPrefilter(o)+s[2],u=s[0];u--;)a=a.lastChild;C.merge(d,a.childNodes),(a=c.firstChild).textContent=""}else d.push(t.createTextNode(o));for(c.textContent="",h=0;o=d[h++];)if(i&&-1<C.inArray(o,i))r&&r.push(o);else if(l=C.contains(o.ownerDocument,o),a=getAll(c.appendChild(o),"script"),l&&setGlobalEval(a),n)for(u=0;o=a[u++];)U.test(o.type||"")&&n.push(o);return c}t=S.createDocumentFragment().appendChild(S.createElement("div")),(h=S.createElement("input")).setAttribute("type","radio"),h.setAttribute("checked","checked"),h.setAttribute("name","t"),t.appendChild(h),y.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue;var q=S.documentElement,W=/^key/,G=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return S.activeElement}catch(e){}}function on(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)on(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=returnFalse;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return C().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=C.guid++)),e.each(function(){C.event.add(this,t,r,i,n)})}C.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,p,f=M.get(t);if(f)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&C.find.matchesSelector(q,r),n.guid||(n.guid=C.guid++),(s=f.events)||(s=f.events={}),(a=f.handle)||(a=f.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(k)||[""]).length;l--;)d=p=(u=$.exec(e[l])||[])[1],h=(u[2]||"").split(".").sort(),d&&(c=C.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,c=C.event.special[d]||{},u=C.extend({type:d,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:h.join(".")},o),(p=s[d])||((p=s[d]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,h,a)||t.addEventListener&&t.addEventListener(d,a)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),C.event.global[d]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,u,c,d,h,p,f,m,g=M.hasData(e)&&M.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(k)||[""]).length;u--;)if(p=m=(s=$.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),p){for(d=C.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||C.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)C.event.remove(e,p+t[u],n,i,!0);C.isEmptyObject(l)&&M.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a=C.event.fix(e),s=new Array(arguments.length),l=(M.get(this,"events")||{})[a.type]||[],e=C.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,a)){for(o=C.event.handlers.call(this,a,l),t=0;(i=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(r=((C.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?-1<C(r,this).index(u):C.find(r,this,null,[u]).length),a[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:zS(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&nodeName(this,"input"))return this.click(),!1},_default:function(e){return nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?returnTrue:returnFalse,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&W.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&G.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){C.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),C.fn.extend({on:function(e,t,n,i){return on(this,e,t,n,i)},one:function(e,t,n,i){return on(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=returnFalse),this.each(function(){C.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this}});var z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Y=/<script|<style|<link/i,K=/checked\s*(?:[^=]|=\s*.checked.)/i,X=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(e,t){return nodeName(e,"table")&&nodeName(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function disableScript(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function restoreScript(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function cloneCopyEvent(e,t){var n,i,r,o,a,s;if(1===t.nodeType){if(M.hasData(e)&&(o=M.access(e),a=M.set(t,o),s=o.events))for(r in delete a.handle,a.events={},s)for(n=0,i=s[r].length;n<i;n++)C.event.add(t,r,s[r][n]);I.hasData(e)&&(e=I.access(e),e=C.extend({},e),I.set(t,e))}}function domManip(n,i,r,o){i=m.apply([],i);var e,t,a,s,l,u,c=0,d=n.length,h=d-1,p=i[0],f=zS(p);if(f||1<d&&"string"==typeof p&&!y.checkClone&&K.test(p))return n.each(function(e){var t=n.eq(e);f&&(i[0]=p.call(this,e,t.html())),domManip(t,i,r,o)});if(d&&(t=(e=buildFragment(i,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=C.map(getAll(e,"script"),disableScript)).length;c<d;c++)l=e,c!==h&&(l=C.clone(l,!0,!0),s&&C.merge(a,getAll(l,"script"))),r.call(n[c],l,c);if(s)for(u=a[a.length-1].ownerDocument,C.map(a,restoreScript),c=0;c<s;c++)l=a[c],U.test(l.type||"")&&!M.access(l,"globalEval")&&C.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&C._evalUrl(l.src):DOMEval(l.textContent.replace(X,""),u,l))}return n}function remove(e,t,n){for(var i,r=t?C.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||C.cleanData(getAll(i)),i.parentNode&&(n&&C.contains(i.ownerDocument,i)&&setGlobalEval(getAll(i,"script")),i.parentNode.removeChild(i));return e}C.extend({htmlPrefilter:function(e){return e.replace(z,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=C.contains(e.ownerDocument,e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(a=getAll(s),i=0,r=(o=getAll(e)).length;i<r;i++)!function fixInput(e,t){var n=t.nodeName.toLowerCase();"input"===n&&j.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}(o[i],a[i]);if(t)if(n)for(o=o||getAll(e),a=a||getAll(s),i=0,r=o.length;i<r;i++)cloneCopyEvent(o[i],a[i]);else cloneCopyEvent(e,s);return 0<(a=getAll(s,"script")).length&&setGlobalEval(a,!l&&getAll(e,"script")),s},cleanData:function(e){for(var t,n,i,r=C.event.special,o=0;void 0!==(n=e[o]);o++)if(VS(n)){if(t=n[M.expando]){if(t.events)for(i in t.events)r[i]?C.event.remove(n,i):C.removeEvent(n,i,t.handle);n[M.expando]=void 0}n[I.expando]&&(n[I.expando]=void 0)}}}),C.fn.extend({detach:function(e){return remove(this,e,!0)},remove:function(e){return remove(this,e)},text:function(e){return SS(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return domManip(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,e).appendChild(e)})},prepend:function(){return domManip(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=manipulationTarget(this,e)).insertBefore(e,t.firstChild)})},before:function(){return domManip(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return domManip(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return SS(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Y.test(e)&&!V[(F.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return domManip(this,arguments,function(e){var t=this.parentNode;C.inArray(this,n)<0&&(C.cleanData(getAll(this)),t&&t.replaceChild(e,this))},n)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){C.fn[e]=function(e){for(var t,n=[],i=C(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),C(i[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});function sT(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?T:t).getComputedStyle(e)}var Q,Z,J,ee,te,ne,ie,re=new RegExp("^("+D+")(?!px)[a-z%]+$","i"),oe=new RegExp(N.join("|"),"i");function computeStyleTests(){var e;ie&&(ne.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ie.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",q.appendChild(ne).appendChild(ie),e=T.getComputedStyle(ie),Q="1%"!==e.top,te=12===roundPixelMeasures(e.marginLeft),ie.style.right="60%",ee=36===roundPixelMeasures(e.right),Z=36===roundPixelMeasures(e.width),ie.style.position="absolute",J=36===ie.offsetWidth||"absolute",q.removeChild(ne),ie=null)}function roundPixelMeasures(e){return Math.round(parseFloat(e))}function curCSS(e,t,n){var i,r,o=e.style;return(n=n||sT(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||C.contains(e.ownerDocument,e)||(r=C.style(e,t)),!y.pixelBoxStyles()&&re.test(r)&&oe.test(t)&&(i=o.width,e=o.minWidth,t=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=i,o.minWidth=e,o.maxWidth=t)),void 0!==r?r+"":r}function addGetHookIf(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}ne=S.createElement("div"),(ie=S.createElement("div")).style&&(ie.style.backgroundClip="content-box",ie.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===ie.style.backgroundClip,C.extend(y,{boxSizingReliable:function(){return computeStyleTests(),Z},pixelBoxStyles:function(){return computeStyleTests(),ee},pixelPosition:function(){return computeStyleTests(),Q},reliableMarginLeft:function(){return computeStyleTests(),te},scrollboxSize:function(){return computeStyleTests(),J}}));var ae=/^(none|table(?!-c[ea]).+)/,se=/^--/,le={position:"absolute",visibility:"hidden",display:"block"},ue={letterSpacing:"0",fontWeight:"400"},ce=["Webkit","Moz","ms"],de=S.createElement("div").style;function finalPropName(e){return C.cssProps[e]||(C.cssProps[e]=function vendorPropName(e){if(e in de)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ce.length;n--;)if((e=ce[n]+t)in de)return e}(e)||e)}function setPositiveNumber(e,t,n){var i=R.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function boxModelAdjustment(e,t,n,i,r,o){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=C.css(e,n+N[a],!0,r)),i?("content"===n&&(l-=C.css(e,"padding"+N[a],!0,r)),"margin"!==n&&(l-=C.css(e,"border"+N[a]+"Width",!0,r))):(l+=C.css(e,"padding"+N[a],!0,r),"padding"!==n?l+=C.css(e,"border"+N[a]+"Width",!0,r):s+=C.css(e,"border"+N[a]+"Width",!0,r));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))),l}function getWidthOrHeight(e,t,n){var i=sT(e),r=curCSS(e,t,i),o="border-box"===C.css(e,"boxSizing",!1,i),a=o;if(re.test(r)){if(!n)return r;r="auto"}return a=a&&(y.boxSizingReliable()||r===e.style[t]),"auto"!==r&&(parseFloat(r)||"inline"!==C.css(e,"display",!1,i))||(r=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(r=parseFloat(r)||0)+boxModelAdjustment(e,t,n||(o?"border":"content"),a,i,r)+"px"}function Tween(e,t,n,i,r){return new Tween.prototype.init(e,t,n,i,r)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=curCSS(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=camelCase(t),l=se.test(t),u=e.style;if(l||(t=finalPropName(s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:u[t];"string"===(o=typeof n)&&(r=R.exec(n))&&r[1]&&(n=adjustCSS(e,t,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(C.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o=camelCase(t);return se.test(t)||(t=finalPropName(o)),"normal"===(r=void 0===(r=(o=C.cssHooks[t]||C.cssHooks[o])&&"get"in o?o.get(e,!0,n):r)?curCSS(e,t,i):r)&&t in ue&&(r=ue[t]),""===n||n?(t=parseFloat(r),!0===n||isFinite(t)?t||0:r):r}}),C.each(["height","width"],function(e,a){C.cssHooks[a]={get:function(e,t,n){if(t)return!ae.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?getWidthOrHeight(e,a,n):cT(e,le,function(){return getWidthOrHeight(e,a,n)})},set:function(e,t,n){var i,r=sT(e),o="border-box"===C.css(e,"boxSizing",!1,r),n=n&&boxModelAdjustment(e,a,n,o,r);return o&&y.scrollboxSize()===r.position&&(n-=Math.ceil(e["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(r[a])-boxModelAdjustment(e,a,"border",!1,r)-.5)),n&&(i=R.exec(t))&&"px"!==(i[3]||"px")&&(e.style[a]=t,t=C.css(e,a)),setPositiveNumber(0,t,n)}}}),C.cssHooks.marginLeft=addGetHookIf(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(curCSS(e,"marginLeft"))||e.getBoundingClientRect().left-cT(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(r,o){C.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+N[t]+o]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(C.cssHooks[r+o].set=setPositiveNumber)}),C.fn.extend({css:function(e,t){return SS(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=sT(e),r=t.length;a<r;a++)o[t[a]]=C.css(e,t[a],!1,i);return o}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)}}),((C.Tween=Tween).prototype={constructor:Tween,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return(e&&e.get?e:Tween.propHooks._default).get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:Tween.propHooks._default).set(this),this}}).init.prototype=Tween.prototype,(Tween.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=C.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[C.cssProps[e.prop]]&&!C.cssHooks[e.prop]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=Tween.prototype.init,C.fx.step={};var he,pe,fe=/^(?:toggle|show|hide)$/,me=/queueHooks$/;function schedule(){pe&&(!1===S.hidden&&T.requestAnimationFrame?T.requestAnimationFrame(schedule):T.setTimeout(schedule,C.fx.interval),C.fx.tick())}function createFxNow(){return T.setTimeout(function(){he=void 0}),he=Date.now()}function genFx(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=N[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function createTween(e,t,n){for(var i,r=(Animation.tweeners[t]||[]).concat(Animation.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function Animation(r,e,t){var n,o,i=0,a=Animation.prefilters.length,s=C.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=he||createFxNow(),e=Math.max(0,u.startTime+u.duration-e),t=1-(e/u.duration||0),n=0,i=u.tweens.length;n<i;n++)u.tweens[n].run(t);return s.notifyWith(r,[u,t,e]),t<1&&i?e:(i||s.notifyWith(r,[u,1,0]),s.resolveWith(r,[u]),!1)},u=s.promise({elem:r,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:he||createFxNow(),duration:t.duration,tweens:[],createTween:function(e,t){e=C.Tween(r,u.opts,e,t,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(e),e},stop:function(e){var t=0,n=e?u.tweens.length:0;if(o)return this;for(o=!0;t<n;t++)u.tweens[t].run(1);return e?(s.notifyWith(r,[u,1,0]),s.resolveWith(r,[u,e])):s.rejectWith(r,[u,e]),this}}),c=u.props;for(!function propFilter(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=camelCase(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=C.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(c,u.opts.specialEasing);i<a;i++)if(n=Animation.prefilters[i].call(u,r,c,u.opts))return zS(n.stop)&&(C._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return C.map(c,createTween,u),zS(u.opts.start)&&u.opts.start.call(r,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),C.fx.timer(C.extend(l,{elem:r,anim:u,queue:u.opts.queue})),u}C.Animation=C.extend(Animation,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return adjustCSS(n.elem,e,R.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,r=(e=zS(e)?(t=e,["*"]):e.match(k)).length;i<r;i++)n=e[i],Animation.tweeners[n]=Animation.tweeners[n]||[],Animation.tweeners[n].unshift(t)},prefilters:[function defaultPrefilter(e,t,n){var i,r,o,a,s,l,u,c="width"in t||"height"in t,d=this,h={},p=e.style,f=e.nodeType&&bT(e),m=M.get(e,"fxshow");for(i in n.queue||(null==(a=C._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,C.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],fe.test(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}h[i]=m&&m[i]||C.style(e,i)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(h))for(i in c&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=M.get(e,"display")),"none"===(c=C.css(e,"display"))&&(u?c=u:(showHide([e],!0),u=e.style.display||u,c=C.css(e,"display"),showHide([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===C.css(e,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,h)l||(m?"hidden"in m&&(f=m.hidden):m=M.access(e,"fxshow",{display:u}),o&&(m.hidden=!f),f&&showHide([e],!0),d.done(function(){for(i in f||showHide([e]),M.remove(e,"fxshow"),h)C.style(e,i,h[i])})),l=createTween(f?m[i]:0,i,d),i in m||(m[i]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?Animation.prefilters.unshift(e):Animation.prefilters.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||zS(e)&&e,duration:e,easing:n&&t||t&&!zS(t)&&t};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){zS(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(bT).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function Jha(){var e=Animation(this,C.extend({},t),o);(r||M.get(this,"finish"))&&e.stop(!0)}var r=C.isEmptyObject(t),o=C.speed(e,n,i);return Jha.finish=Jha,r||!1===o.queue?this.each(Jha):this.queue(o.queue,Jha)},stop:function(r,e,o){function Oha(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=C.timers,i=M.get(this);if(t)i[t]&&i[t].stop&&Oha(i[t]);else for(t in i)i[t]&&i[t].stop&&me.test(t)&&Oha(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||C.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=M.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=C.timers,o=n?n.length:0;for(t.finish=!0,C.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,i){var r=C.fn[i];C.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(genFx(i,!0),e,t,n)}}),C.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){C.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(he=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),he=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){pe||(pe=!0,schedule())},C.fx.stop=function(){pe=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,e){return i=C.fx&&C.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=T.setTimeout(e,i);t.stop=function(){T.clearTimeout(n)}})},t=S.createElement("input"),D=S.createElement("select").appendChild(S.createElement("option")),t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=D.selected,(t=S.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value;var ge,ye=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return SS(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?C.prop(e,t,n):(1===o&&C.isXMLDoc(e)||(r=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?ge:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(r&&"get"in r&&null!==(i=r.get(e,t)))&&null==(i=C.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(k);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),ge={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ye[t]||C.find.attr;ye[t]=function(e,t,n){var i,r,o=t.toLowerCase();return n||(r=ye[o],ye[o]=i,i=null!=a(e,t,n)?o:null,ye[o]=r),i}});var ve=/^(?:input|select|textarea|button)$/i,be=/^(?:a|area)$/i;function stripAndCollapse(e){return(e.match(k)||[]).join(" ")}function getClass(e){return e.getAttribute&&e.getAttribute("class")||""}function classesToArray(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(k)||[]}C.fn.extend({prop:function(e,t){return SS(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(e)||(t=C.propFix[t]||t,r=C.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):ve.test(e.nodeName)||be.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(C.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,n,i,r,o,a,s=0;if(zS(t))return this.each(function(e){C(this).addClass(t.call(this,e,getClass(this)))});if((e=classesToArray(t)).length)for(;n=this[s++];)if(a=getClass(n),i=1===n.nodeType&&" "+stripAndCollapse(a)+" "){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a!==(a=stripAndCollapse(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0;if(zS(t))return this.each(function(e){C(this).removeClass(t.call(this,e,getClass(this)))});if(!arguments.length)return this.attr("class","");if((e=classesToArray(t)).length)for(;n=this[s++];)if(a=getClass(n),i=1===n.nodeType&&" "+stripAndCollapse(a)+" "){for(o=0;r=e[o++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");a!==(a=stripAndCollapse(i))&&n.setAttribute("class",a)}return this},toggleClass:function(r,t){var o=typeof r,a="string"==o||Array.isArray(r);return"boolean"==typeof t&&a?t?this.addClass(r):this.removeClass(r):zS(r)?this.each(function(e){C(this).toggleClass(r.call(this,e,getClass(this),t),t)}):this.each(function(){var e,t,n,i;if(a)for(t=0,n=C(this),i=classesToArray(r);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==r&&"boolean"!=o||((e=getClass(this))&&M.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==r&&M.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+stripAndCollapse(getClass(t))+" ").indexOf(i))return!0;return!1}});var _e=/\r/g;C.fn.extend({val:function(t){var n,e,i,r=this[0];return arguments.length?(i=zS(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,C(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=C.map(e,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):r?(n=C.valHooks[r.type]||C.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(r,"value"))?e:"string"==typeof(e=r.value)?e.replace(_e,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:stripAndCollapse(C.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,r="select-one"===e.type,o=r?null:[],a=r?i+1:n.length,s=i<0?a:r?i:0;s<a;s++)if(((t=n[s]).selected||s===i)&&!t.disabled&&(!t.parentNode.disabled||!nodeName(t.parentNode,"optgroup"))){if(t=C(t).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,o=C.makeArray(t),a=r.length;a--;)((i=r[a]).selected=-1<C.inArray(C.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},y.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in T;function KT(e){e.stopPropagation()}var Te=/^(?:focusinfocus|focusoutblur)$/;C.extend(C.event,{trigger:function(e,t,n,i){var r,o,a,s,l,u,c,d=[n||S],h=g.call(e,"type")?e.type:e,p=g.call(e,"namespace")?e.namespace.split("."):[],f=c=o=n=n||S;if(3!==n.nodeType&&8!==n.nodeType&&!Te.test(h+C.event.triggered)&&(-1<h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),s=h.indexOf(":")<0&&"on"+h,(e=e[C.expando]?e:new C.Event(h,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),u=C.event.special[h]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!AS(n)){for(a=u.delegateType||h,Te.test(a+h)||(f=f.parentNode);f;f=f.parentNode)d.push(f),o=f;o===(n.ownerDocument||S)&&d.push(o.defaultView||o.parentWindow||T)}for(r=0;(f=d[r++])&&!e.isPropagationStopped();)c=f,e.type=1<r?a:u.bindType||h,(l=(M.get(f,"events")||{})[e.type]&&M.get(f,"handle"))&&l.apply(f,t),(l=s&&f[s])&&l.apply&&VS(f)&&(e.result=l.apply(f,t),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!VS(n)||s&&zS(n[h])&&!AS(n)&&((o=n[s])&&(n[s]=null),C.event.triggered=h,e.isPropagationStopped()&&c.addEventListener(h,KT),n[h](),e.isPropagationStopped()&&c.removeEventListener(h,KT),C.event.triggered=void 0,o&&(n[s]=o)),e.result}},simulate:function(e,t,n){e=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(e,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),y.focusin||C.each({focus:"focusin",blur:"focusout"},function(n,i){function $8a(e){C.event.simulate(i,e.target,C.event.fix(e))}C.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=M.access(e,i);t||e.addEventListener(n,$8a,!0),M.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=M.access(e,i)-1;t?M.access(e,i,t):(e.removeEventListener(n,$8a,!0),M.remove(e,i))}}});var Se=T.location,Ce=Date.now(),we=/\?/;C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new T.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var ke=/\[\]$/,Ee=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function sja(e,t){t=zS(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var n,i=[];if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){sja(this.name,this.value)});else for(n in e)!function buildParams(n,e,i,r){if(Array.isArray(e))C.each(e,function(e,t){i||ke.test(n)?r(n,t):buildParams(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,r)});else if(i||"object"!==toType(e))r(n,e);else for(var t in e)buildParams(n+"["+t+"]",e[t],i,r)}(n,e[n],t,sja);return i.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Pe.test(this.nodeName)&&!Ae.test(e)&&(this.checked||!j.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(Ee,"\r\n")}}):{name:t.name,value:n.replace(Ee,"\r\n")}}).get()}});var xe=/%20/g,Me=/#.*$/,Ie=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,Oe=/^(?:GET|HEAD)$/,De=/^\/\//,Re={},Ne={},Be="*/".concat("*"),je=S.createElement("a");function addToPrefiltersOrTransports(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(k)||[];if(zS(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function inspectPrefiltersOrTransports(t,i,r,o){var a={},s=t===Ne;function inspect(e){var n;return a[e]=!0,C.each(t[e]||[],function(e,t){t=t(i,r,o);return"string"!=typeof t||s||a[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),inspect(t),!1)}),n}return inspect(i.dataTypes[0])||!a["*"]&&inspect("*")}function ajaxExtend(e,t){var n,i,r=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i=i||{})[n]=t[n]);return i&&C.extend(!0,e,i),e}je.href=Se.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,C.ajaxSettings),t):ajaxExtend(C.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(Re),ajaxTransport:addToPrefiltersOrTransports(Ne),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,u,c,n,d,h,p,i,r,f=C.ajaxSetup({},t=t||{}),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?C(m):C.event,y=C.Deferred(),v=C.Callbacks("once memory"),b=f.statusCode||{},o={},a={},s="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=Le.exec(c);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return h?c:null},setRequestHeader:function(e,t){return null==h&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==h&&(f.mimeType=e),this},statusCode:function(e){if(e)if(h)_.always(e[_.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){e=e||s;return l&&l.abort(e),done(0,e),this}};if(y.promise(_),f.url=((e||f.url||Se.href)+"").replace(De,Se.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(k)||[""],null==f.crossDomain){r=S.createElement("a");try{r.href=f.url,r.href=r.href,f.crossDomain=je.protocol+"//"+je.host!=r.protocol+"//"+r.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),inspectPrefiltersOrTransports(Re,f,t,_),h)return _;for(i in(p=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Oe.test(f.type),u=f.url.replace(Me,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(xe,"+")):(r=f.url.slice(u.length),f.data&&(f.processData||"string"==typeof f.data)&&(u+=(we.test(u)?"&":"?")+f.data,delete f.data),!1===f.cache&&(u=u.replace(Ie,"$1"),r=(we.test(u)?"&":"?")+"_="+Ce+++r),f.url=u+r),f.ifModified&&(C.lastModified[u]&&_.setRequestHeader("If-Modified-Since",C.lastModified[u]),C.etag[u]&&_.setRequestHeader("If-None-Match",C.etag[u])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&_.setRequestHeader("Content-Type",f.contentType),_.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Be+"; q=0.01":""):f.accepts["*"]),f.headers)_.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(m,_,f)||h))return _.abort();if(s="abort",v.add(f.complete),_.done(f.success),_.fail(f.error),l=inspectPrefiltersOrTransports(Ne,f,t,_)){if(_.readyState=1,p&&g.trigger("ajaxSend",[_,f]),h)return _;f.async&&0<f.timeout&&(d=T.setTimeout(function(){_.abort("timeout")},f.timeout));try{h=!1,l.send(o,done)}catch(e){if(h)throw e;done(-1,e)}}else done(-1,"No Transport");function done(e,t,n,i){var r,o,a,s=t;h||(h=!0,d&&T.clearTimeout(d),l=void 0,c=i||"",_.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function ajaxHandleResponses(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a=a||r}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,_,n)),a=function ajaxConvert(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,a,_,i),i?(f.ifModified&&((n=_.getResponseHeader("Last-Modified"))&&(C.lastModified[u]=n),(n=_.getResponseHeader("etag"))&&(C.etag[u]=n)),204===e||"HEAD"===f.type?s="nocontent":304===e?s="notmodified":(s=a.state,r=a.data,i=!(o=a.error))):(o=s,!e&&s||(s="error",e<0&&(e=0))),_.status=e,_.statusText=(t||s)+"",i?y.resolveWith(m,[r,s,_]):y.rejectWith(m,[_,s,o]),_.statusCode(b),b=void 0,p&&g.trigger(i?"ajaxSuccess":"ajaxError",[_,f,i?r:o]),v.fireWith(m,[_,s]),p&&(g.trigger("ajaxComplete",[_,f]),--C.active||C.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,r){C[r]=function(e,t,n,i){return zS(t)&&(i=i||n,n=t,t=void 0),C.ajax(C.extend({url:e,type:r,dataType:i,data:t,success:n},C.isPlainObject(e)&&e))}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(e){return this[0]&&(zS(e)&&(e=e.call(this[0])),e=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return zS(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=zS(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(e){}};var Fe={0:200,1223:204},Ue=C.ajaxSettings.xhr();y.cors=!!Ue&&"withCredentials"in Ue,y.ajax=Ue=!!Ue,C.ajaxTransport(function(r){var o,a;if(y.cors||Ue&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Fe[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),a=i.onerror=i.ontimeout=o("error"),void 0!==i.onabort?i.onabort=a:i.onreadystatechange=function(){4===i.readyState&&T.setTimeout(function(){o&&a()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(e,t){i=C("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),S.head.appendChild(i[0])},abort:function(){r&&r()}}});var Ve=[],He=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ve.pop()||C.expando+"_"+Ce++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(He.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&He.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=zS(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(He,"$1"+i):!1!==e.jsonp&&(e.url+=(we.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||C.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=T[i],T[i]=function(){o=arguments},n.always(function(){void 0===r?C(T).removeProp(i):T[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Ve.push(i)),o&&zS(r)&&r(o[0]),o=r=void 0}),"script"}),y.createHTMLDocument=((t=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((i=(t=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,t.head.appendChild(i)):t=S),i=!n&&[],(n=f.exec(e))?[t.createElement(n[1])]:(n=buildFragment([e],t,i),i&&i.length&&C(i).remove(),C.merge([],n.childNodes)));var i},C.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return-1<s&&(i=stripAndCollapse(e.slice(s)),e=e.slice(0,s)),zS(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&C.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,n){var i,r,o,a,s=C.css(e,"position"),l=C(e),u={};"static"===s&&(e.style.position="relative"),o=l.offset(),i=C.css(e,"top"),a=C.css(e,"left"),a=("absolute"===s||"fixed"===s)&&-1<(i+a).indexOf("auto")?(r=(s=l.position()).top,s.left):(r=parseFloat(i)||0,parseFloat(a)||0),null!=(t=zS(t)?t.call(e,n,C.extend({},o)):t).top&&(u.top=t.top-o.top+r),null!=t.left&&(u.left=t.left-o.left+a),"using"in t?t.using.call(e,u):l.css(u)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===C.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),r.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-C.css(i,"marginTop",!0),left:t.left-r.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||q})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;C.fn[t]=function(e){return SS(this,function(e,t,n){var i;return AS(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n?i?i[r]:e[t]:void(i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):e[t]=n)},t,e,arguments.length)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=addGetHookIf(y.pixelPosition,function(e,t){if(t)return t=curCSS(e,n),re.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(a,s){C.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,o){C.fn[o]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return SS(this,function(e,t,n){var i;return AS(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])):void 0===n?C.css(e,t,r):C.style(e,t,n,r)},s,n?e:void 0,n)}})}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),C.proxy=function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),zS(e))return n=a.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||C.guid++,i},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=nodeName,C.isFunction=zS,C.isWindow=AS,C.camelCase=camelCase,C.type=toType,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(ze=function(){return C}.apply($e,[]))||(Ge.exports=ze);var qe=T.jQuery,We=T.$;return C.noConflict=function(e){return T.$===C&&(T.$=We),e&&T.jQuery===C&&(T.jQuery=qe),C},e||(T.jQuery=T.$=C),C})},"./node_modules/js-cookie/src/js.cookie.js":function(e,t,n){var i,r;void 0===(i="function"==typeof(i=r=function(){function extend(){for(var e=0,t={};e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}function decode(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function init(l){function api(){}function set(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=extend({path:"/"},api.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var i=JSON.stringify(t);/^[\{\[]/.test(i)&&(t=i)}catch(e){}t=l.write?l.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r,o="";for(r in n)n[r]&&(o+="; "+r,!0!==n[r]&&(o+="="+n[r].split(";")[0]));return document.cookie=e+"="+t+o}}function get(e,t){if("undefined"!=typeof document){for(var n={},i=document.cookie?document.cookie.split("; "):[],r=0;r<i.length;r++){var o=i[r].split("="),a=o.slice(1).join("=");t||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var s=decode(o[0]),a=(l.read||l)(a,s)||decode(a);if(t)try{a=JSON.parse(a)}catch(e){}if(n[s]=a,e===s)break}catch(e){}}return e?n[e]:n}}return api.set=set,api.get=function(e){return get(e,!1)},api.getJSON=function(e){return get(e,!0)},api.remove=function(e,t){set(e,"",extend(t,{expires:-1}))},api.defaults={},api.withConverter=init,api}(function(){})})?i.call(t,n,t,e):i)||(e.exports=i),e.exports=r()},"./node_modules/keycode/index.js":function(e,t){function keyCode(e){if(!e||"object"!=typeof e||(t=e.which||e.keyCode||e.charCode)&&(e=t),"number"==typeof e)return a[e];var t=String(e),e=i[t.toLowerCase()];return e||((e=r[t.toLowerCase()])?e:1===t.length?t.charCodeAt(0):void 0)}keyCode.isEventKey=function isEventKey(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var e=i[t.toLowerCase()];if(e)return e===n;if(e=r[t.toLowerCase()])return e===n}else if("number"==typeof t)return t===n;return!1}};for(var i=(t=e.exports=keyCode).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},n=97;n<123;n++)i[String.fromCharCode(n)]=n-32;for(var n=48;n<58;n++)i[n-48]=n;for(n=1;n<13;n++)i["f"+n]=n+111;for(n=0;n<10;n++)i["numpad "+n]=n+96;var o,a=t.names=t.title={};for(n in i)a[i[n]]=n;for(o in r)i[o]=r[o]},"./node_modules/lazysizes/lazysizes.js":function(n,e,t){!function(e,t){t=t(e,e.document,Date);e.lazySizes=t,n.exports&&(n.exports=t)}("undefined"!=typeof window?window:{},function l(i,h,r){"use strict";var p,f;if(!function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in f=i.lazySizesConfig||i.lazysizesConfig||{},t)e in f||(f[e]=t[e])}(),!h||!h.getElementsByClassName)return{init:function(){},cfg:f,noSupport:!0};function roa(e,t){C(e,t)||e.setAttribute("class",(e[g]("class")||"").trim()+" "+t)}function soa(e,t){(t=C(e,t))&&e.setAttribute("class",(e[g]("class")||"").replace(t," "))}function voa(e,t){var n;!u&&(n=i.picturefill||f.pf)?(t&&t.src&&!e[g]("srcset")&&e.setAttribute("srcset",t.src),n({reevaluate:!0,elements:[e]})):t&&t.src&&(e.src=t.src)}var n,o,t,a,s,m=h.documentElement,u=i.HTMLPictureElement,c="addEventListener",g="getAttribute",e=i[c].bind(i),d=i.setTimeout,y=i.requestAnimationFrame||d,v=i.requestIdleCallback,b=/^picture$/i,_=["load","error","lazyincluded","_lazyloaded"],T={},S=Array.prototype.forEach,C=function(e,t){return T[t]||(T[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),T[t].test(e[g]("class")||"")&&T[t]},w=function(t,n,e){var i=e?c:"removeEventListener";e&&w(t,n),_.forEach(function(e){t[i](e,n)})},k=function(e,t,n,i,r){var o=h.createEvent("Event");return(n=n||{}).instance=p,o.initEvent(t,!i,!r),o.detail=n,e.dispatchEvent(o),o},E=function(e,t){return(getComputedStyle(e,null)||{})[t]},A=function(e,t,n){for(n=n||e.offsetWidth;n<f.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},P=(a=[],s=t=[],lpa._lsFlush=kpa,lpa);function kpa(){var e=s;for(s=t.length?a:t,o=!(n=!0);e.length;)e.shift()();n=!1}function lpa(e,t){n&&!t?e.apply(this,arguments):(s.push(e),o||(o=!0,(h.hidden?d:y)(kpa)))}function zoa(n,e){return e?function(){P(n)}:function(){var e=this,t=arguments;P(function(){n.apply(e,t)})}}function Boa(e){function Hpa(){var e=r.now()-n;e<99?d(Hpa,99-e):(v||i)(i)}var t,n,i=function(){t=null,e()};return function(){n=r.now(),t=t||d(Hpa,99)}}var x,M,I,L,O,D,R,N,B,j,F,U,V,H,q,W,G,$,z,Y,K,X,Q,Z,J,ee,te,ne,ie,re,oe,ae=(z=/^img$/i,Y=/^iframe$/i,K="onscroll"in i&&!/(gle|ing)bot/.test(navigator.userAgent),Z=-1,J=function(e){return(U=null==U?"hidden"==E(h.body,"visibility"):U)||!("hidden"==E(e.parentNode,"visibility")&&"hidden"==E(e,"visibility"))},V=dqa,q=Q=X=0,W=f.throttleDelay,G=f.ricTimeout,$=v&&49<G?function(){v(ypa,{timeout:G}),G!==f.ricTimeout&&(G=f.ricTimeout)}:zoa(function(){d(ypa)},!0),te=zoa(fqa),ne=function(e){te({target:e.target})},ie=zoa(function(t,e,n,i,r){var o,a,s,l,u;(s=k(t,"lazybeforeunveil",e)).defaultPrevented||(i&&(n?roa(t,f.autosizesClass):t.setAttribute("sizes",i)),o=t[g](f.srcsetAttr),n=t[g](f.srcAttr),r&&(a=(u=t.parentNode)&&b.test(u.nodeName||"")),l=e.firesLoad||"src"in t&&(o||n||a),s={target:t},roa(t,f.loadingClass),l&&(clearTimeout(I),I=d(aqa,2500),w(t,ne,!0)),a&&S.call(u.getElementsByTagName("source"),jqa),o?t.setAttribute("srcset",o):n&&!a&&(Y.test(t.nodeName)?(i=n,0==(u=(e=t).getAttribute("data-load-mode")||f.iframeLoadMode)?e.contentWindow.location.replace(i):1==u&&(e.src=i)):t.src=n),r&&(o||a)&&voa(t,{src:n})),t._lazyRace&&delete t._lazyRace,soa(t,f.lazyClass),P(function(){var e=t.complete&&1<t.naturalWidth;l&&!e||(e&&roa(t,f.fastLoadedClass),fqa(s),t._lazyCache=!0,d(function(){"_lazyCache"in t&&delete t._lazyCache},9)),"lazy"==t.loading&&Q--},!0)}),oe=Boa(function(){f.loadMode=3,ee()}),{_:function(){O=r.now(),p.elements=h.getElementsByClassName(f.lazyClass),x=h.getElementsByClassName(f.lazyClass+" "+f.preloadClass),e("scroll",ee,!0),e("resize",ee,!0),e("pageshow",function(e){var t;!e.persisted||(t=h.querySelectorAll("."+f.loadingClass)).length&&t.forEach&&y(function(){t.forEach(function(e){e.complete&&re(e)})})}),i.MutationObserver?new MutationObserver(ee).observe(m,{childList:!0,subtree:!0,attributes:!0}):(m[c]("DOMNodeInserted",ee,!0),m[c]("DOMAttrModified",ee,!0),setInterval(ee,999)),e("hashchange",ee,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){h[c](e,ee,!0)}),/d$|^c/.test(h.readyState)?oqa():(e("load",oqa),h[c]("DOMContentLoaded",ee),d(oqa,2e4)),p.elements.length?(dqa(),P._lsFlush()):ee()},checkElems:ee=function(e){var t;(e=!0===e)&&(G=33),H||(H=!0,(t=W-(r.now()-q))<0&&(t=0),e||t<9?$():d($,t))},unveil:re=function(e){var t,n,i,r;e._lazyRace||(!(r="auto"==(i=(n=z.test(e.nodeName))&&(e[g](f.sizesAttr)||e[g]("sizes"))))&&M||!n||!e[g]("src")&&!e.srcset||e.complete||C(e,f.errorClass)||!C(e,f.lazyClass))&&(t=k(e,"lazyunveilread").detail,r&&ce.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,Q++,ie(e,t,r,i,n))},_aLSL:nqa});function aqa(e){Q--,e&&!(Q<0)&&e.target||(Q=0)}function dqa(){var e,t,n,i,r,o,a,s,l,u,c,d=p.elements;if((L=f.loadMode)&&Q<8&&(e=d.length)){for(t=0,Z++;t<e;t++)if(d[t]&&!d[t]._lazyRace)if(!K||p.prematureUnveil&&p.prematureUnveil(d[t]))re(d[t]);else if((a=d[t][g]("data-expand"))&&(r=+a)||(r=X),l||(l=!f.expand||f.expand<1?500<m.clientHeight&&500<m.clientWidth?500:370:f.expand,u=(p._defEx=l)*f.expFactor,c=f.hFac,U=null,X<u&&Q<1&&2<Z&&2<L&&!h.hidden?(X=u,Z=0):X=1<L&&1<Z&&Q<6?l:0),s!==r&&(D=innerWidth+r*c,R=innerHeight+r,o=-1*r,s=r),u=d[t].getBoundingClientRect(),(F=u.bottom)>=o&&(N=u.top)<=R&&(j=u.right)>=o*c&&(B=u.left)<=D&&(F||j||B||N)&&(f.loadHidden||J(d[t]))&&(M&&Q<3&&!a&&(L<3||Z<4)||function(e,t){var n,i=e,r=J(e);for(N-=t,F+=t,B-=t,j+=t;r&&(i=i.offsetParent)&&i!=h.body&&i!=m;)(r=0<(E(i,"opacity")||1))&&"visible"!=E(i,"overflow")&&(n=i.getBoundingClientRect(),r=j>n.left&&B<n.right&&F>n.top-1&&N<n.bottom+1);return r}(d[t],r))){if(re(d[t]),i=!0,9<Q)break}else!i&&M&&!n&&Q<4&&Z<4&&2<L&&(x[0]||f.preloadAfterLoad)&&(x[0]||!a&&(F||j||B||N||"auto"!=d[t][g](f.sizesAttr)))&&(n=x[0]||d[t]);n&&!i&&re(n)}}function ypa(){H=!1,q=r.now(),V()}function fqa(e){var t=e.target;t._lazyCache?delete t._lazyCache:(aqa(e),roa(t,f.loadedClass),soa(t,f.loadingClass),w(t,ne),k(t,"lazyloaded"))}function jqa(e){var t,n=e[g](f.srcsetAttr);(t=f.customMedia[e[g]("data-media")||e[g]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)}function nqa(){3==f.loadMode&&(f.loadMode=2),oe()}function oqa(){M||(r.now()-O<999?d(oqa,999):(M=!0,f.loadMode=3,ee(),e("scroll",nqa,!0)))}var se,le,ue,ce=(le=zoa(function(e,t,n,i){var r,o,a;if(e._lazysizesWidth=i,e.setAttribute("sizes",i+="px"),b.test(t.nodeName||""))for(o=0,a=(r=t.getElementsByTagName("source")).length;o<a;o++)r[o].setAttribute("sizes",i);n.detail.dataAttr||voa(e,n.detail)}),{_:function(){se=h.getElementsByClassName(f.autosizesClass),e("resize",ue)},checkElems:ue=Boa(function(){var e,t=se.length;if(t)for(e=0;e<t;e++)nra(se[e])}),updateElem:nra});function nra(e,t,n){var i=e.parentNode;i&&(n=A(e,i,n),(t=k(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=t.detail.width)&&n!==e._lazysizesWidth&&le(e,i,t,n))}function Eoa(){!Eoa.i&&h.getElementsByClassName&&(Eoa.i=!0,ce._(),ae._())}return d(function(){f.init&&Eoa()}),p={cfg:f,autoSizer:ce,loader:ae,init:Eoa,uP:voa,aC:roa,rC:soa,hC:C,fire:k,gW:A,rAF:P}})},"./node_modules/load-google-maps-api/index.js":function(e,t){var a="__googleMapsApiOnLoadCallback",s=["channel","client","key","language","region","v"],n=null;e.exports=function(o){return o=o||{},n=n||new Promise(function(e,t){var n=setTimeout(function(){window[a]=function(){},t(new Error("Could not load the Google Maps API"))},o.timeout||1e4);window[a]=function(){null!==n&&clearTimeout(n),e(window.google.maps),delete window[a]};var i=document.createElement("script"),r=["callback="+a];s.forEach(function(e){o[e]&&r.push(e+"="+o[e])}),o.libraries&&o.libraries.length&&r.push("libraries="+o.libraries.join(",")),i.src="https://maps.googleapis.com/maps/api/js?"+r.join("&"),document.body.appendChild(i)})}},"./node_modules/m3u8-parser/dist/m3u8-parser.es.js":function(e,t,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/inheritsLoose/index.js"),r=n.n(i),o=function(){function Stream(){this.listeners={}}var e=Stream.prototype;return e.on=function on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.off=function off(e,t){if(!this.listeners[e])return!1;t=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(t,1),-1<t},e.trigger=function trigger(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,r)},e.dispose=function dispose(){this.listeners={}},e.pipe=function pipe(t){this.on("data",function(e){t.push(e)})},Stream}(),i=n("./node_modules/@babel/runtime/helpers/extends/index.js"),f=n.n(i),i=n("./node_modules/@babel/runtime/helpers/assertThisInitialized/index.js"),a=n.n(i),m=n("./node_modules/@videojs/vhs-utils/es/decode-b64-to-uint8-array.js");n.d(t,"a",function(){return u});function bsa(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),e={};return t[1]&&(e.length=parseInt(t[1],10)),t[2]&&(e.offset=parseInt(t[2],10)),e}function csa(){return new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')}function dsa(e){for(var t,n=e.split(csa()),i={},r=n.length;r--;)""!==n[r]&&((t=/([^=]*)=(.*)/.exec(n[r]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),i[t[0]]=t[1]);return i}function gsa(t){var n={};return Object.keys(t).forEach(function(e){n[l(e)]=t[e]}),n}function hsa(e){var t,n,i,r,o=e.serverControl,a=e.targetDuration,s=e.partTargetDuration;o&&(t="#EXT-X-SERVER-CONTROL",n="holdBack",i="partHoldBack",r=a&&3*a,e=s&&2*s,a&&!o.hasOwnProperty(n)&&(o[n]=r,this.trigger("info",{message:t+" defaulting HOLD-BACK to targetDuration * 3 ("+r+")."})),r&&o[n]<r&&(this.trigger("warn",{message:t+" clamping HOLD-BACK ("+o[n]+") to targetDuration * 3 ("+r+")"}),o[n]=r),s&&!o.hasOwnProperty(i)&&(o[i]=3*s,this.trigger("info",{message:t+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+o[i]+")."})),s&&o[i]<e&&(this.trigger("warn",{message:t+" clamping PART-HOLD-BACK ("+o[i]+") to partTargetDuration * 2 ("+e+")."}),o[i]=e))}var g=function(t){function LineStream(){var e=t.call(this)||this;return e.buffer="",e}return r()(LineStream,t),LineStream.prototype.push=function push(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},LineStream}(o),s=String.fromCharCode(9),y=function(t){function ParseStream(){var e=t.call(this)||this;return e.customParsers=[],e.tagMappers=[],e}r()(ParseStream,t);var e=ParseStream.prototype;return e.push=function push(n){var r,o,a=this;0!==(n=n.trim()).length&&("#"===n[0]?this.tagMappers.reduce(function(e,t){t=t(n);return t===n?e:e.concat([t])},[n]).forEach(function(e){for(var t,n,i=0;i<a.customParsers.length;i++)if(a.customParsers[i].call(a,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),r=/^#EXTM3U/.exec(e))a.trigger("data",{type:"tag",tagType:"m3u"});else{if(r=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return o={type:"tag",tagType:"inf"},r[1]&&(o.duration=parseFloat(r[1])),r[2]&&(o.title=r[2]),void a.trigger("data",o);if(r=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return o={type:"tag",tagType:"targetduration"},r[1]&&(o.duration=parseInt(r[1],10)),void a.trigger("data",o);if(r=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return o={type:"tag",tagType:"version"},r[1]&&(o.version=parseInt(r[1],10)),void a.trigger("data",o);if(r=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return o={type:"tag",tagType:"media-sequence"},r[1]&&(o.number=parseInt(r[1],10)),void a.trigger("data",o);if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return o={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(o.number=parseInt(r[1],10)),void a.trigger("data",o);if(r=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return o={type:"tag",tagType:"playlist-type"},r[1]&&(o.playlistType=r[1]),void a.trigger("data",o);if(r=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))return o=f()(bsa(r[1]),{type:"tag",tagType:"byterange"}),void a.trigger("data",o);if(r=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return o={type:"tag",tagType:"allow-cache"},r[1]&&(o.allowed=!/NO/.test(r[1])),void a.trigger("data",o);if(r=/^#EXT-X-MAP:?(.*)$/.exec(e))return o={type:"tag",tagType:"map"},r[1]&&((t=dsa(r[1])).URI&&(o.uri=t.URI),t.BYTERANGE&&(o.byterange=bsa(t.BYTERANGE))),void a.trigger("data",o);if(r=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e))return o={type:"tag",tagType:"stream-inf"},r[1]&&(o.attributes=dsa(r[1]),o.attributes.RESOLUTION&&(n={},(t=o.attributes.RESOLUTION.split("x"))[0]&&(n.width=parseInt(t[0],10)),t[1]&&(n.height=parseInt(t[1],10)),o.attributes.RESOLUTION=n),o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["FRAME-RATE"]&&(o.attributes["FRAME-RATE"]=parseFloat(o.attributes["FRAME-RATE"])),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))),void a.trigger("data",o);if(r=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return o={type:"tag",tagType:"media"},r[1]&&(o.attributes=dsa(r[1])),void a.trigger("data",o);if(r=/^#EXT-X-ENDLIST/.exec(e))a.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(r=/^#EXT-X-DISCONTINUITY/.exec(e)))return(r=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))?(o={type:"tag",tagType:"program-date-time"},r[1]&&(o.dateTimeString=r[1],o.dateTimeObject=new Date(r[1])),void a.trigger("data",o)):(r=/^#EXT-X-KEY:?(.*)$/.exec(e))?(o={type:"tag",tagType:"key"},r[1]&&(o.attributes=dsa(r[1]),o.attributes.IV&&("0x"===o.attributes.IV.substring(0,2).toLowerCase()&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),void a.trigger("data",o)):(r=/^#EXT-X-START:?(.*)$/.exec(e))?(o={type:"tag",tagType:"start"},r[1]&&(o.attributes=dsa(r[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),void a.trigger("data",o)):(r=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))?(o={type:"tag",tagType:"cue-out-cont"},r[1]?o.data=r[1]:o.data="",void a.trigger("data",o)):(r=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))?(o={type:"tag",tagType:"cue-out"},r[1]?o.data=r[1]:o.data="",void a.trigger("data",o)):(r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))?(o={type:"tag",tagType:"cue-in"},r[1]?o.data=r[1]:o.data="",void a.trigger("data",o)):(r=/^#EXT-X-SKIP:(.*)$/.exec(e))&&r[1]?((o={type:"tag",tagType:"skip"}).attributes=dsa(r[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(s)),void a.trigger("data",o)):(r=/^#EXT-X-PART:(.*)$/.exec(e))&&r[1]?((o={type:"tag",tagType:"part"}).attributes=dsa(r[1]),["DURATION"].forEach(function(e){o.attributes.hasOwnProperty(e)&&(o.attributes[e]=parseFloat(o.attributes[e]))}),["INDEPENDENT","GAP"].forEach(function(e){o.attributes.hasOwnProperty(e)&&(o.attributes[e]=/YES/.test(o.attributes[e]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=bsa(o.attributes.BYTERANGE)),void a.trigger("data",o)):(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&r[1]?((o={type:"tag",tagType:"server-control"}).attributes=dsa(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(e){o.attributes.hasOwnProperty(e)&&(o.attributes[e]=parseFloat(o.attributes[e]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(e){o.attributes.hasOwnProperty(e)&&(o.attributes[e]=/YES/.test(o.attributes[e]))}),void a.trigger("data",o)):(r=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&r[1]?((o={type:"tag",tagType:"part-inf"}).attributes=dsa(r[1]),["PART-TARGET"].forEach(function(e){o.attributes.hasOwnProperty(e)&&(o.attributes[e]=parseFloat(o.attributes[e]))}),void a.trigger("data",o)):(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&r[1]?((o={type:"tag",tagType:"preload-hint"}).attributes=dsa(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(e){var t;o.attributes.hasOwnProperty(e)&&(o.attributes[e]=parseInt(o.attributes[e],10),t="BYTERANGE-LENGTH"===e?"length":"offset",o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[t]=o.attributes[e],delete o.attributes[e])}),void a.trigger("data",o)):(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&r[1]?((o={type:"tag",tagType:"rendition-report"}).attributes=dsa(r[1]),["LAST-MSN","LAST-PART"].forEach(function(e){o.attributes.hasOwnProperty(e)&&(o.attributes[e]=parseInt(o.attributes[e],10))}),void a.trigger("data",o)):void a.trigger("data",{type:"tag",data:e.slice(4)});a.trigger("data",{type:"tag",tagType:"discontinuity"})}}else a.trigger("data",{type:"comment",text:e.slice(1)})}):this.trigger("data",{type:"uri",uri:n}))},e.addParser=function addParser(e){var t=this,n=e.expression,i=e.customType,r=e.dataParser,o=e.segment;"function"!=typeof r&&(r=function dataParser(e){return e}),this.customParsers.push(function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:r(e),customType:i,segment:o}),!0})},e.addTagMapper=function addTagMapper(e){var t=e.expression,n=e.map;this.tagMappers.push(function mapFn(e){return t.test(e)?n(e):e})},ParseStream}(o),l=function camelCase(e){return e.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})},u=function(t){function Parser(){var e=t.call(this)||this;e.lineStream=new g,e.parseStream=new y,e.lineStream.pipe(e.parseStream);function Vta(){}var i,r,o=a()(e),s=[],l={},u=!1,c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var h=0,p=0;return e.on("end",function(){l.uri||!l.parts&&!l.preloadHints||(!l.map&&i&&(l.map=i),!l.key&&r&&(l.key=r),l.timeline||"number"!=typeof d||(l.timeline=d),e.manifest.preloadSegment=l)}),e.parseStream.on("data",function(a){var t,n;({tag:function tag(){({version:function version(){a.version&&(this.manifest.version=a.version)},"allow-cache":function allowCache(){this.manifest.allowCache=a.allowed,"allowed"in a||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function byterange(){var byterange={};"length"in a&&((l.byterange=byterange).length=a.length,"offset"in a||(a.offset=h)),"offset"in a&&((l.byterange=byterange).offset=a.offset),h=byterange.offset+byterange.length},endlist:function endlist(){this.manifest.endList=!0},inf:function inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<a.duration&&(l.duration=a.duration),0===a.duration&&(l.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function key(){if(a.attributes)if("NONE"!==a.attributes.METHOD)if(a.attributes.URI){if("com.apple.streamingkeydelivery"===a.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:a.attributes});if("com.microsoft.playready"===a.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:a.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===a.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(a.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===a.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==a.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):a.attributes.KEYID&&"0x"===a.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:a.attributes.KEYFORMAT,keyId:a.attributes.KEYID.substring(2)},pssh:Object(m.a)(a.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));a.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:a.attributes.METHOD||"AES-128",uri:a.attributes.URI},void 0!==a.attributes.IV&&(r.iv=a.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function mediaSequence(){isFinite(a.number)?this.manifest.mediaSequence=a.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+a.number})},"discontinuity-sequence":function discontinuitySequence(){isFinite(a.number)?(this.manifest.discontinuitySequence=a.number,d=a.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+a.number})},"playlist-type":function playlistType(){/VOD|EVENT/.test(a.playlistType)?this.manifest.playlistType=a.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+a.playlist})},map:function map(){i={},a.uri&&(i.uri=a.uri),a.byterange&&(i.byterange=a.byterange),r&&(i.key=r)},"stream-inf":function streamInf(){this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||c,a.attributes?(l.attributes||(l.attributes={}),f()(l.attributes,a.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function media(){var e;this.manifest.mediaGroups=this.manifest.mediaGroups||c,a.attributes&&a.attributes.TYPE&&a.attributes["GROUP-ID"]&&a.attributes.NAME?((e=this.manifest.mediaGroups[a.attributes.TYPE])[a.attributes["GROUP-ID"]]=e[a.attributes["GROUP-ID"]]||{},t=e[a.attributes["GROUP-ID"]],(n={default:/yes/i.test(a.attributes.DEFAULT)}).default?n.autoselect=!0:n.autoselect=/yes/i.test(a.attributes.AUTOSELECT),a.attributes.LANGUAGE&&(n.language=a.attributes.LANGUAGE),a.attributes.URI&&(n.uri=a.attributes.URI),a.attributes["INSTREAM-ID"]&&(n.instreamId=a.attributes["INSTREAM-ID"]),a.attributes.CHARACTERISTICS&&(n.characteristics=a.attributes.CHARACTERISTICS),a.attributes.FORCED&&(n.forced=/yes/i.test(a.attributes.FORCED)),t[a.attributes.NAME]=n):this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function discontinuity(){d+=1,l.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function programDateTime(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=a.dateTimeString,this.manifest.dateTimeObject=a.dateTimeObject),l.dateTimeString=a.dateTimeString,l.dateTimeObject=a.dateTimeObject},targetduration:function targetduration(){!isFinite(a.duration)||a.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+a.duration}):(this.manifest.targetDuration=a.duration,hsa.call(this,this.manifest))},start:function start(){a.attributes&&!isNaN(a.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:a.attributes["TIME-OFFSET"],precise:a.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function cueOut(){l.cueOut=a.data},"cue-out-cont":function cueOutCont(){l.cueOutCont=a.data},"cue-in":function cueIn(){l.cueIn=a.data},skip:function skip(){this.manifest.skip=gsa(a.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",a.attributes,["SKIPPED-SEGMENTS"])},part:function part(){var n=this;u=!0;var e=this.manifest.segments.length,part=gsa(a.attributes);l.parts=l.parts||[],l.parts.push(part),part.byterange&&(part.byterange.hasOwnProperty("offset")||(part.byterange.offset=p),p=part.byterange.offset+part.byterange.length);var t=l.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+t+" for segment #"+e,a.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(e,t){e.hasOwnProperty("lastPart")||n.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+t+" lacks required attribute(s): LAST-PART"})})},"server-control":function serverControl(){var e=this.manifest.serverControl=gsa(a.attributes);e.hasOwnProperty("canBlockReload")||(e.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),hsa.call(this,this.manifest),e.canSkipDateranges&&!e.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function preloadHint(){var e=this.manifest.segments.length,t=gsa(a.attributes),n=t.type&&"PART"===t.type;l.preloadHints=l.preloadHints||[],l.preloadHints.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=n?p:0,n&&(p=t.byterange.offset+t.byterange.length)));var i=l.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+i+" for segment #"+e,a.attributes,["TYPE","URI"]),t.type)for(var r=0;r<l.preloadHints.length-1;r++){var o=l.preloadHints[r];o.type&&o.type===t.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+i+" for segment #"+e+" has the same TYPE "+t.type+" as preload hint #"+r})}},"rendition-report":function renditionReport(){var e=gsa(a.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(e);var t=this.manifest.renditionReports.length-1,e=["LAST-MSN","URI"];u&&e.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+t,a.attributes,e)},"part-inf":function partInf(){this.manifest.partInf=gsa(a.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",a.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),hsa.call(this,this.manifest)}}[a.tagType]||Vta).call(o)},uri:function uri(){l.uri=a.uri,s.push(l),!this.manifest.targetDuration||"duration"in l||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),l.duration=this.manifest.targetDuration),r&&(l.key=r),l.timeline=d,i&&(l.map=i),p=0,l={}},comment:function comment(){},custom:function custom(){a.segment?(l.custom=l.custom||{},l.custom[a.customType]=a.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[a.customType]=a.data)}})[a.type].call(o)}),e}r()(Parser,t);var e=Parser.prototype;return e.warnOnMissingAttributes_=function warnOnMissingAttributes_(e,t,n){var i=[];n.forEach(function(e){t.hasOwnProperty(e)||i.push(e)}),i.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+i.join(", ")})},e.push=function push(e){this.lineStream.push(e)},e.end=function end(){this.lineStream.push("\n"),this.trigger("end")},e.addParser=function addParser(e){this.parseStream.addParser(e)},e.addTagMapper=function addTagMapper(e){this.parseStream.addTagMapper(e)},Parser}(o)},"./node_modules/mpd-parser/dist/mpd-parser.es.js":function(e,t,n){"use strict";function Hua(r,e,o){e.forEach(function(e){for(var t in r.mediaGroups[e])for(var n in r.mediaGroups[e][t]){var i=r.mediaGroups[e][t][n];o(i,e,t,n)}})}var s=n("./node_modules/@videojs/vhs-utils/es/resolve-url.js"),i=n("./node_modules/global/window.js"),b=n.n(i),r=n("./node_modules/@videojs/vhs-utils/es/decode-b64-to-uint8-array.js"),o=n("./node_modules/@xmldom/xmldom/lib/index.js");n.d(t,"a",function(){return a}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return F}),n.d(t,"d",function(){return U});function Lua(e){return!!e&&"object"==typeof e}function Mua(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(t,n){return"object"!=typeof n||Object.keys(n).forEach(function(e){Array.isArray(t[e])&&Array.isArray(n[e])?t[e]=t[e].concat(n[e]):Lua(t[e])&&Lua(n[e])?t[e]=Mua(t[e],n[e]):t[e]=n[e]}),t},{})}function Nua(t){return Object.keys(t).map(function(e){return t[e]})}function Oua(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}function Qua(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function Rua(e,i){return e.reduce(function(e,t,n){return t[i]&&e.push(n),e},[])}function Sua(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Tua(e,n){return Nua(e.reduce(function(t,e){return e.forEach(function(e){t[n(e)]=e}),t},{}))}function Wua(e){var t="bigint"==typeof e.offset||"bigint"==typeof e.length?b.a.BigInt(e.offset)+b.a.BigInt(e.length)-b.a.BigInt(1):e.offset+e.length-1;return e.offset+"-"+t}function Xua(e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e}function Zua(o){return function(e){var t=o.duration,n=o.timescale,i=o.periodStart,r=o.startNumber;return{number:(void 0===r?1:r)+e,duration:t/(void 0===n?1:n),timeline:i,time:e*t}}}function _ua(e){var t=e.baseUrl,n=void 0===(l=e.initialization)?{}:l,i=e.sourceDuration,r=void 0===(s=e.indexRange)?"":s,o=e.periodStart,a=e.presentationTime,s=void 0===(l=e.number)?0:l,l=e.duration;if(!t)throw new Error(u.NO_BASE_URL);return n=c({baseUrl:t,source:n.sourceURL,range:n.range}),(r=c({baseUrl:t,source:t,indexRange:r})).map=n,l?(e=h(e)).length&&(r.duration=e[0].duration,r.timeline=e[0].timeline):i&&(r.duration=i,r.timeline=o),r.presentationTime=a||o,r.number=s,[r]}function eva(e,t){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null}function fva(e){var r=[];return Hua(e,p,function(e,t,n,i){r=r.concat(e.playlists||[])}),r}function gva(e){var n=e.playlist,e=e.mediaSequence;n.mediaSequence=e,n.segments.forEach(function(e,t){e.number=n.mediaSequence+t})}function hva(e){var r=e.oldPlaylists,t=e.newPlaylists,o=e.timelineStarts;t.forEach(function(t){t.discontinuitySequence=Sua(o,function(e){return e.timeline===t.timeline});var e=eva(r,t.attributes.NAME);if(e&&!t.sidx){var n=t.segments[0],i=Sua(e.segments,function(e){return Math.abs(e.presentationTime-n.presentationTime)<1/60});if(-1===i)return gva({playlist:t,mediaSequence:e.mediaSequence+e.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),void((!e.segments.length&&t.timeline>e.timeline||e.segments.length&&t.timeline>e.segments[e.segments.length-1].timeline)&&t.discontinuitySequence--);e.segments[i].discontinuity&&!n.discontinuity&&(n.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),gva({playlist:t,mediaSequence:e.segments[i].number})}})}function lva(e,t){var n=g(e.sidx);return(n=n&&t[n]&&t[n].sidx)&&a(e,n,e.sidx.resolvedUri),e}function nva(e,t){var n=e.attributes,i=e.segments,r=e.sidx,o=e.mediaSequence,a=e.discontinuitySequence,s=e.discontinuityStarts,i={attributes:((e={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs})["PROGRAM-ID"]=1,e),uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuitySequence:a,discontinuityStarts:s,timelineStarts:n.timelineStarts,mediaSequence:o,segments:i};return n.contentProtection&&(i.contentProtection=n.contentProtection),r&&(i.sidx=r),t&&(i.attributes.AUDIO="audio",i.attributes.SUBTITLES="subs"),i}function ova(e){var t=e.attributes,n=e.segments,i=e.mediaSequence,r=e.discontinuityStarts,o=e.discontinuitySequence;return void 0===n&&(n=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration),e={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},t.codecs&&(e.CODECS=t.codecs),{attributes:e,uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:r,discontinuitySequence:o,mediaSequence:i,segments:n}}function yva(e){var t=e.dashPlaylists,n=e.locations,i=void 0===(c=e.sidxMapping)?{}:c,r=e.previousManifest;if(!t.length)return{};var o=(d=t[0].attributes).sourceDuration,a=d.type,s=d.suggestedPresentationDelay,l=d.minimumUpdatePeriod,u=y(t.filter(w)).map(C),c=y(t.filter(k)),e=y(t.filter(E)),d=t.map(function(e){return e.attributes.captionServices}).filter(Boolean),o={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((t={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:o,playlists:v(u,i)};return 0<=l&&(o.minimumUpdatePeriod=1e3*l),n&&(o.locations=n),"dynamic"===a&&(o.suggestedPresentationDelay=s),s=0===o.playlists.length,s=c.length?_(c,i,s):null,e=e.length?T(e,i):null,u=(i=u.concat(P(s),P(e))).map(function(e){return e.timelineStarts}),o.timelineStarts=f(u),A(i,o.timelineStarts),s&&(o.mediaGroups.AUDIO.audio=s),e&&(o.mediaGroups.SUBTITLES.subs=e),d.length&&(o.mediaGroups["CLOSED-CAPTIONS"].cc=S(d)),r?m({oldManifest:r,newManifest:o}):o}function zva(e,t,n){var i=e.NOW,r=e.clientOffset,o=e.availabilityStartTime,a=e.timescale,s=e.periodStart,e=e.minimumUpdatePeriod;return Math.ceil((((i+r)/1e3+(void 0===e?0:e)-(o+(void 0===s?0:s)))*(void 0===a?1:a)-t)/n)}function Ava(e,t){for(var n=e.type,i=e.minimumUpdatePeriod,r=void 0===i?0:i,o=void 0===(i=e.media)?"":i,a=e.sourceDuration,s=void 0===(i=e.timescale)?1:i,l=void 0===(i=e.startNumber)?1:i,u=e.periodStart,c=[],d=-1,h=0;h<t.length;h++){var p=t[h],f=p.d,m=p.r||0,g=p.t||0;d<0&&(d=g),g&&d<g&&(d=g);var p=void 0;p=m<0?(g=h+1)===t.length?"dynamic"===n&&0<r&&0<o.indexOf("$Number$")?zva(e,d,f):(a*s-d)/f:(t[g].t-d)/f:m+1;for(var y=l+c.length+p,v=l+c.length;v<y;)c.push({number:v,duration:f/s,time:d,timeline:u}),d+=f,v++}return c}function Cva(r){return function(e,t,n,i){if("$$"===e)return"$";if(void 0===r[t])return e;e=""+r[t];return"RepresentationID"===t||(i=n?parseInt(i,10):1)<=e.length?e:new Array(i-e.length+1).join("0")+e}}function Dva(e,t){return e.replace(x,Cva(t))}function Eva(e,t){return e.duration||t?e.duration?h(e):Ava(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]}function Fva(r,e){var o={RepresentationID:r.id,Bandwidth:r.bandwidth||0},t=void 0===(t=r.initialization)?{sourceURL:"",range:""}:t,a=c({baseUrl:r.baseUrl,source:Dva(t.sourceURL,o),range:t.range});return Eva(r,e).map(function(e){o.Number=e.number,o.Time=e.time;var t=Dva(r.media||"",o),n=r.timescale||1,i=r.presentationTimeOffset||0,n=r.periodStart+(e.time-i)/n;return{uri:t,timeline:e.timeline,duration:e.duration,resolvedUri:Object(s.a)(r.baseUrl||"",t),map:a,number:e.number,presentationTime:n}})}function Gva(e,t){var n=e.baseUrl,e=e.initialization,e=c({baseUrl:n,source:(e=void 0===e?{}:e).sourceURL,range:e.range});return(t=c({baseUrl:n,source:t.media,range:t.mediaRange})).map=e,t}function Hva(r,e){var t=r.duration,n=void 0===(n=r.segmentUrls)?[]:n,o=r.periodStart;if(!t&&!e||t&&e)throw new Error(u.SEGMENT_TIME_UNSPECIFIED);var i,a=n.map(function(e){return Gva(r,e)});return t&&(i=h(r)),(i=e?Ava(r,e):i).map(function(e,t){if(a[t]){var n=a[t],i=r.timescale||1,t=r.presentationTimeOffset||0;return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n.presentationTime=o+(e.time-t)/i,n}}).filter(function(e){return e})}function Jva(e){return e.map(M)}function Nva(e){if(!(r=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e)))return 0;var t=(o=r.slice(1))[0],n=o[1],i=o[2],e=o[3],r=o[4],o=o[5];return 31536e3*parseFloat(t||0)+2592e3*parseFloat(n||0)+86400*parseFloat(i||0)+3600*parseFloat(e||0)+60*parseFloat(r||0)+parseFloat(o||0)}function Ova(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),Date.parse(e)}function Tva(e){var t=I(e,"SegmentTemplate")[0],n=I(e,"SegmentList")[0],i=n&&I(n,"SegmentURL").map(function(e){return Mua({tag:"SegmentURL"},D(e))}),r=I(e,"SegmentBase")[0],e=(o=n||t)&&I(o,"SegmentTimeline")[0],o=(o=n||r||t)&&I(o,"Initialization")[0];(t=t&&D(t))&&o?t.initialization=o&&D(o):t&&t.initialization&&(t.initialization={sourceURL:t.initialization});var a={template:t,segmentTimeline:e&&I(e,"S").map(function(e){return D(e)}),list:n&&Mua(D(n),{segmentUrls:i,initialization:D(o)}),base:r&&Mua(D(r),{initialization:D(o)})};return Object.keys(a).forEach(function(e){a[e]||delete a[e]}),a}function Uva(r,o,a){return function(e){var t=I(e,"BaseURL"),t=N(o,t),n=Mua(r,D(e)),i=Tva(e);return t.map(function(e){return{segmentInfo:Mua(a,i),attributes:Mua(n,{baseUrl:e})}})}}function Vva(e){return e.reduce(function(e,t){var n=D(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var i=R[n.schemeIdUri];return i&&(e[i]={attributes:n},(t=I(t,"cenc:pssh")[0])&&(t=L(t),e[i].pssh=t&&Object(r.a)(t))),e},{})}function Wva(e){return"urn:scte:dash:cc:cea-608:2015"===e.schemeIdUri?("string"!=typeof e.value?[]:e.value.split(";")).map(function(e){var t,n,i;return/^CC\d=/.test(i=e)?(n=(t=e.split("="))[0],i=t[1]):/^CC\d$/.test(e)&&(n=e),{channel:n,language:i}}):"urn:scte:dash:cc:cea-708:2015"===e.schemeIdUri?("string"!=typeof e.value?[]:e.value.split(";")).map(function(e){var t,n,i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};return/=/.test(e)?(t=(n=e.split("="))[0],n=void 0===(n=n[1])?"":n,i.channel=t,i.language=e,n.split(",").forEach(function(e){var t=e.split(":"),e=t[0],t=t[1];"lang"===e?i.language=t:"er"===e?i.easyReader=Number(t):"war"===e?i.aspectRatio=Number(t):"3D"===e&&(i["3D"]=Number(t))})):i.language=e,i.channel&&(i.channel="SERVICE"+i.channel),i}):void 0}function Xva(o,a,s){return function(e){var t=D(e),n=N(a,I(e,"BaseURL")),i=I(e,"Role")[0],i={role:D(i)},t=Mua(o,t,i),i=I(e,"Accessibility")[0],i=Wva(D(i));i&&(t=Mua(t,{captionServices:i}));i=I(e,"Label")[0];i&&i.childNodes.length&&(r=i.childNodes[0].nodeValue.trim(),t=Mua(t,{label:r}));var r=Vva(I(e,"ContentProtection"));Object.keys(r).length&&(t=Mua(t,{contentProtection:r}));r=Tva(e),e=I(e,"Representation"),r=Mua(s,r);return l(e.map(Uva(t,n,r)))}}function $va(e,t){var n=t=void 0===t?{}:t,i=void 0===(o=n.manifestUri)?"":o,t=void 0===(r=n.NOW)?Date.now():r,r=void 0===(o=n.clientOffset)?0:o;if(!(n=I(e,"Period")).length)throw new Error(u.INVALID_NUMBER_OF_PERIOD);var o=I(e,"Location"),a=D(e),e=N([i],I(e,"BaseURL"));a.type=a.type||"static",a.sourceDuration=a.mediaPresentationDuration||0,a.NOW=t,a.clientOffset=r,o.length&&(a.locations=o.map(L));var s=[];return n.forEach(function(e,t){var n=D(e),t=s[t-1];n.start=j({attributes:n,priorPeriodAttributes:t?t.attributes:null,mpdType:a.type}),s.push({node:e,attributes:n})}),{locations:a.locations,representationInfo:l(s.map(B(a,e)))}}function _va(e){if(""===e)throw new Error(u.DASH_EMPTY_MANIFEST);var t,n,i=new o.DOMParser;try{n=(t=i.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!n||0<n.getElementsByTagName("parsererror").length)throw new Error(u.DASH_INVALID_XML);return n}function awa(e){if(!(e=I(e,"UTCTiming")[0]))return null;var t=D(e);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT",t.value=Date.parse(t.value);break;default:throw new Error(u.UNSUPPORTED_UTC_TIMING_SCHEME)}return t}var l=function flatten(e){return e.reduce(function(e,t){return e.concat(t)},[])},u={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},c=function urlTypeToSegment(e){var t=e.baseUrl,n=void 0===t?"":t,i=e.source,t=void 0===i?"":i,i=e.range,i=void 0===i?"":i,e=e.indexRange,e=void 0===e?"":e,t={uri:t,resolvedUri:Object(s.a)(n||"",t)};return(i||e)&&(i=(i||e).split("-"),e=b.a.BigInt?b.a.BigInt(i[0]):parseInt(i[0],10),i=b.a.BigInt?b.a.BigInt(i[1]):parseInt(i[1],10),e<Number.MAX_SAFE_INTEGER&&"bigint"==typeof e&&(e=Number(e)),"bigint"==typeof(i="bigint"==typeof(i=i<Number.MAX_SAFE_INTEGER&&"bigint"==typeof i?Number(i):i)||"bigint"==typeof e?b.a.BigInt(i)-b.a.BigInt(e)+b.a.BigInt(1):i-e+1)&&i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),t.byterange={length:i,offset:e}),t},d={static:function _static(e){var t=e.duration,n=e.timescale,i=void 0===n?1:n,r=e.sourceDuration,n=e.periodDuration,e=Xua(e.endNumber),i=t/i;return"number"==typeof e?{start:0,end:e}:"number"==typeof n?{start:0,end:n/i}:{start:0,end:r/i}},dynamic:function dynamic(e){var t=e.NOW,n=e.clientOffset,i=e.availabilityStartTime,r=e.timescale,o=void 0===r?1:r,a=e.duration,s=e.periodStart,l=void 0===s?0:s,r=e.minimumUpdatePeriod,s=void 0===r?0:r,r=e.timeShiftBufferDepth,r=void 0===r?1/0:r,e=Xua(e.endNumber),n=(t+n)/1e3,l=i+l,s=Math.ceil((n+s-l)*o/a),r=Math.floor((n-l-r)*o/a),a=Math.floor((n-l)*o/a);return{start:Math.max(0,r),end:"number"==typeof e?e:Math.min(s,a)}}},h=function parseByDuration(e){var t=e.type,n=e.duration,i=e.timescale,r=void 0===i?1:i,o=e.periodDuration,a=e.sourceDuration,s=d[t](e),i=s.start,s=s.end,e=Oua(i,s).map(Zua(e));return"static"===t&&(e[t=e.length-1].duration=("number"==typeof o?o:a)-n/r*t),e},a=function addSidxSegmentsToPlaylist(e,t,n){for(var i=e.sidx.map||null,r=e.sidx.duration,o=e.timeline||0,a=e.sidx.byterange,a=a.offset+a.length,s=t.timescale,l=t.references.filter(function(e){return 1!==e.referenceType}),u=[],c=e.endList?"static":"dynamic",d=e.sidx.timeline,h=d,p=e.mediaSequence||0,f="bigint"==typeof t.firstOffset?b.a.BigInt(a)+t.firstOffset:a+t.firstOffset,m=0;m<l.length;m++){var g=t.references[m],y=g.referencedSize,v=g.subsegmentDuration,g=void 0,g="bigint"==typeof f?f+b.a.BigInt(y)-b.a.BigInt(1):f+y-1,g=_ua({baseUrl:n,timescale:s,timeline:o,periodStart:d,presentationTime:h,number:p,duration:v,sourceDuration:r,indexRange:f+"-"+g,type:c})[0];i&&(g.map=i),u.push(g),f+="bigint"==typeof f?b.a.BigInt(y):y,h+=v/s,p++}return e.segments=u,e},p=["AUDIO","SUBTITLES"],f=function getUniqueTimelineStarts(e){return Tua(e,function(e){return e.timeline}).sort(function(e,t){return e.timeline>t.timeline?1:-1})},m=function positionManifestOnTimeline(e){var t=e.oldManifest,n=e.newManifest,i=t.playlists.concat(fva(t)),e=n.playlists.concat(fva(n));return n.timelineStarts=f([t.timelineStarts,n.timelineStarts]),hva({oldPlaylists:i,newPlaylists:e,timelineStarts:n.timelineStarts}),n},g=function generateSidxKey(e){return e&&e.uri+"-"+Wua(e.byterange)},y=function mergeDiscontiguousPlaylists(e){return Nua(e.reduce(function(e,t){var n,i=t.attributes.id+(t.attributes.lang||"");return e[i]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[i].segments).push.apply(n,t.segments)),t.attributes.contentProtection&&(e[i].attributes.contentProtection=t.attributes.contentProtection)):(e[i]=t,e[i].attributes.timelineStarts=[]),e[i].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e},{})).map(function(e){return e.discontinuityStarts=Rua(e.segments||[],"discontinuity"),e})},v=function addSidxSegmentsToPlaylists(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e)e[n]=lva(e[n],t);return e},_=function organizeAudioPlaylists(e,o,a){var s;void 0===o&&(o={}),void 0===a&&(a=!1);e=e.reduce(function(e,t){var n=t.attributes.role&&t.attributes.role.value||"",i=t.attributes.lang||"",r=t.attributes.label||"main";e[r=i&&!t.attributes.label?t.attributes.lang+(n?" ("+n+")":""):r]||(e[r]={language:i,autoselect:!0,default:"main"===n,playlists:[],uri:""});i=lva(nva(t,a),o);return e[r].playlists.push(i),void 0===s&&"main"===n&&((s=t).default=!0),e},{});return s||(e[Object.keys(e)[0]].default=!0),e},T=function organizeVttPlaylists(e,i){return void 0===i&&(i={}),e.reduce(function(e,t){var n=t.attributes.lang||"text";return e[n]||(e[n]={language:n,default:!1,autoselect:!1,playlists:[],uri:""}),e[n].playlists.push(lva(ova(t),i)),e},{})},S=function organizeCaptionServices(e){return e.reduce(function(i,e){return e&&e.forEach(function(e){var t=e.channel,n=e.language;i[n]={autoselect:!1,default:!1,instreamId:t,language:n},e.hasOwnProperty("aspectRatio")&&(i[n].aspectRatio=e.aspectRatio),e.hasOwnProperty("easyReader")&&(i[n].easyReader=e.easyReader),e.hasOwnProperty("3D")&&(i[n]["3D"]=e["3D"])}),i},{})},C=function formatVideoPlaylist(e){var t=e.attributes,n=e.segments,i=e.sidx,r=e.discontinuityStarts,n={attributes:((e={NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth})["PROGRAM-ID"]=1,e),uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuityStarts:r,timelineStarts:t.timelineStarts,segments:n};return t.frameRate&&(n.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(n.contentProtection=t.contentProtection),i&&(n.sidx=i),n},w=function videoOnly(e){e=e.attributes;return"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType},k=function audioOnly(e){e=e.attributes;return"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType},E=function vttOnly(e){e=e.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType},A=function addMediaSequenceValues(e,n){e.forEach(function(t){t.mediaSequence=0,t.discontinuitySequence=Sua(n,function(e){return e.timeline===t.timeline}),t.segments&&t.segments.forEach(function(e,t){e.number=t})})},P=function flattenMediaGroupPlaylists(n){return n?Object.keys(n).reduce(function(e,t){t=n[t];return e.concat(t.playlists)},[]):[]},x=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,M=function generateSegments(e){var t,n=e.attributes,i=e.segmentInfo;i.template?(o=Fva,t=Mua(n,i.template)):i.base?(o=_ua,t=Mua(n,i.base)):i.list&&(o=Hva,t=Mua(n,i.list));var r={attributes:n};if(!o)return r;var o,e=o(t,i.segmentTimeline);return t.duration?(o=(n=t).duration,n=n.timescale,t.duration=o/(void 0===n?1:n)):e.length?t.duration=e.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0,r.attributes=t,r.segments=e,i.base&&t.indexRange&&(r.sidx=e[0],r.segments=[]),r},I=function findChildren(e,t){return Qua(e.childNodes).filter(function(e){return e.tagName===t})},L=function getContent(e){return e.textContent.trim()},O={mediaPresentationDuration:Nva,availabilityStartTime:function availabilityStartTime(e){return Ova(e)/1e3},minimumUpdatePeriod:Nva,suggestedPresentationDelay:Nva,type:function type(e){return e},timeShiftBufferDepth:Nva,start:Nva,width:function width(e){return parseInt(e,10)},height:function height(e){return parseInt(e,10)},bandwidth:function bandwidth(e){return parseInt(e,10)},frameRate:function parseDivisionValue(e){return parseFloat(e.split("/").reduce(function(e,t){return e/t}))},startNumber:function startNumber(e){return parseInt(e,10)},timescale:function timescale(e){return parseInt(e,10)},presentationTimeOffset:function presentationTimeOffset(e){return parseInt(e,10)},duration:function duration(e){var t=parseInt(e,10);return isNaN(t)?Nva(e):t},d:function d(e){return parseInt(e,10)},t:function t(e){return parseInt(e,10)},r:function r(e){return parseInt(e,10)},DEFAULT:function DEFAULT(e){return e}},D=function parseAttributes(e){return e&&e.attributes?Qua(e.attributes).reduce(function(e,t){var n=O[t.name]||O.DEFAULT;return e[t.name]=n(t.value),e},{}):{}},R={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},N=function buildBaseUrls(e,n){return n.length?l(e.map(function(t){return n.map(function(e){return Object(s.a)(t,L(e))})})):e},B=function toAdaptationSets(o,a){return function(e,t){var n=N(a,I(e.node,"BaseURL")),i=Mua(o,{periodStart:e.attributes.start});"number"==typeof e.attributes.duration&&(i.periodDuration=e.attributes.duration);var r=I(e.node,"AdaptationSet"),e=Tva(e.node);return l(r.map(Xva(i,n,e)))}},j=function getPeriodStart(e){var t=e.attributes,n=e.priorPeriodAttributes,e=e.mpdType;return"number"==typeof t.start?t.start:n&&"number"==typeof n.start&&"number"==typeof n.duration?n.start+n.duration:n||"static"!==e?null:0},F=function parse(e,t){void 0===t&&(t={});var n=$va(_va(e),t),e=Jva(n.representationInfo);return yva({dashPlaylists:e,locations:n.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})},U=function parseUTCTiming(e){return awa(_va(e))}},"./node_modules/mux.js/lib/tools/parse-sidx.js":function(e,t,n){var o=n("./node_modules/mux.js/lib/utils/numbers.js").getUint64;e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===n.version?(n.earliestPresentationTime=t.getUint32(i),n.firstOffset=t.getUint32(i+4),i+=8):(n.earliestPresentationTime=o(e.subarray(i)),n.firstOffset=o(e.subarray(i+8)),i+=16);var r=t.getUint16(i+=2);for(i+=2;0<r;i+=12,r--)n.references.push({referenceType:(128&e[i])>>>7,referencedSize:2147483647&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:268435455&t.getUint32(i+8)});return n}},"./node_modules/mux.js/lib/utils/clock.js":function(e,t){var n=function(e){return 9e4*e},i=function(e,t){return e*t},r=function(e){return e/9e4},o=function(e,t){return e/t};e.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:o,audioTsToVideoTs:function(e,t){return e/t*9e4},videoTsToAudioTs:function(e,t){return e/9e4*t},metadataTsToSeconds:function(e,t,n){return r(n?e:e-t)}}},"./node_modules/mux.js/lib/utils/numbers.js":function(e,t){var n=Math.pow(2,32);e.exports={getUint64:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return t.getBigUint64?(e=t.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(e):e:t.getUint32(0)*n+t.getUint32(4)},MAX_UINT32:n}},"./node_modules/node-snackbar/dist/snackbar.min.js":function(t,n,e){var i;!function(e){"use strict";void 0===(i=function(){return e.Snackbar=function(){var o={current:null},a={text:"Default Text",textColor:"#FFFFFF",width:"auto",showAction:!0,actionText:"Dismiss",actionTextAria:"Dismiss, Description for Screen Readers",alertScreenReader:!1,actionTextColor:"#4CAF50",showSecondButton:!1,secondButtonText:"",secondButtonAria:"Description for Screen Readers",secondButtonTextColor:"#4CAF50",backgroundColor:"#323232",pos:"bottom-left",duration:5e3,customClass:"",onActionClick:function(e){e.style.opacity=0},onSecondButtonClick:function(e){},onClose:function(e){}};o.show=function(e){var n=s(!0,a,e);o.current&&(o.current.style.opacity=0,setTimeout(function(){var e=this.parentElement;e&&e.removeChild(this)}.bind(o.current),500)),o.snackbar=document.createElement("div"),o.snackbar.className="snackbar-container "+n.customClass,o.snackbar.style.width=n.width;var t=document.createElement("p");if(t.style.margin=0,t.style.padding=0,t.style.color=n.textColor,t.style.fontSize="14px",t.style.fontWeight=300,t.style.lineHeight="1em",t.innerHTML=n.text,o.snackbar.appendChild(t),o.snackbar.style.background=n.backgroundColor,n.showSecondButton){var i=document.createElement("button");i.className="action",i.innerHTML=n.secondButtonText,i.setAttribute("aria-label",n.secondButtonAria),i.style.color=n.secondButtonTextColor,i.addEventListener("click",function(){n.onSecondButtonClick(o.snackbar)}),o.snackbar.appendChild(i)}if(n.showAction){var r=document.createElement("button");r.className="action",r.innerHTML=n.actionText,r.setAttribute("aria-label",n.actionTextAria),r.style.color=n.actionTextColor,r.addEventListener("click",function(){n.onActionClick(o.snackbar)}),o.snackbar.appendChild(r)}n.duration&&setTimeout(function(){o.current===this&&(o.current.style.opacity=0,o.current.style.top="-100px",o.current.style.bottom="-100px")}.bind(o.snackbar),n.duration),n.alertScreenReader&&o.snackbar.setAttribute("role","alert"),o.snackbar.addEventListener("transitionend",function(e,t){"opacity"===e.propertyName&&"0"===this.style.opacity&&("function"==typeof n.onClose&&n.onClose(this),this.parentElement.removeChild(this),o.current===this&&(o.current=null))}.bind(o.snackbar)),o.current=o.snackbar,document.body.appendChild(o.snackbar);getComputedStyle(o.snackbar).bottom,getComputedStyle(o.snackbar).top;o.snackbar.style.opacity=1,o.snackbar.className="snackbar-container "+n.customClass+" snackbar-pos "+n.pos},o.close=function(){o.current&&(o.current.style.opacity=0)};var s=function(){var n={},i=!1,e=0,t=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(i=arguments[0],e++);for(var r=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i&&"[object Object]"===Object.prototype.toString.call(e[t])?n[t]=s(!0,n[t],e[t]):n[t]=e[t])};e<t;e++){var o=arguments[e];r(o)}return n};return o}()}.apply(n,[]))||(t.exports=i)}(this)},"./node_modules/process/browser.js":function(e,t){var n,i,e=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(n===setTimeout)return setTimeout(t,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{i="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){i=defaultClearTimeout}}();var r,o=[],a=!1,s=-1;function cleanUpNextTick(){a&&r&&(a=!1,r.length?o=r.concat(o):s=-1,o.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=o.length;t;){for(r=o,o=[];++s<t;)r&&r[s].run();s=-1,t=o.length}r=null,a=!1,function runClearTimeout(t){if(i===clearTimeout)return clearTimeout(t);if((i===defaultClearTimeout||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new Item(e,t)),1!==o.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=noop,e.addListener=noop,e.once=noop,e.off=noop,e.removeListener=noop,e.removeAllListeners=noop,e.emit=noop,e.prependListener=noop,e.prependOnceListener=noop,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},"./node_modules/promise-polyfill/src/finally.js":function(e,t,n){"use strict";t.a=function finallyConstructor(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})}},"./node_modules/promise-polyfill/src/index.js":function(e,t,n){"use strict";!function(e){var t=n("./node_modules/promise-polyfill/src/finally.js");setTimeout;t.a}.call(this,n("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/regenerator-runtime/runtime.js":function(t,e,n){t=function(a){"use strict";var l,e=Object.prototype,s=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function define(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function(e,t,n){return e[t]=n}}function wrap(e,t,n,i){t=t&&t.prototype instanceof Generator?t:Generator,t=Object.create(t.prototype),i=new Context(i||[]);return t._invoke=function makeInvokeMethod(r,o,a){var s=u;return function invoke(e,t){if(s===d)throw new Error("Generator is already running");if(s===h){if("throw"===e)throw t;return doneResult()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var i=function maybeInvokeDelegate(e,t){var n=e.iterator[t.method];if(n===l){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=l,maybeInvokeDelegate(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=tryCatch(n,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;n=n.arg;if(!n)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p;{if(!n.done)return n;t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=l)}t.delegate=null;return p}(n,a);if(i){if(i===p)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===u)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=d;i=tryCatch(r,o,a);if("normal"===i.type){if(s=a.done?h:c,i.arg!==p)return{value:i.arg,done:a.done}}else"throw"===i.type&&(s=h,a.method="throw",a.arg=i.arg)}}}(e,n,i),t}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=wrap;var u="suspendedStart",c="suspendedYield",d="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var o={};o[i]=function(){return this};t=Object.getPrototypeOf,t=t&&t(t(values([])));t&&t!==e&&s.call(t,i)&&(o=t);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(o);function defineIteratorMethods(e){["next","throw","return"].forEach(function(t){define(e,t,function(e){return this._invoke(t,e)})})}function AsyncIterator(o,a){var e;this._invoke=function enqueue(n,i){function callInvokeWithMethodAndArg(){return new a(function(e,t){!function invoke(e,t,n,i){e=tryCatch(o[e],o,t);if("throw"!==e.type){var r=e.arg;return(t=r.value)&&"object"==typeof t&&s.call(t,"__await")?a.resolve(t.__await).then(function(e){invoke("next",e,n,i)},function(e){invoke("throw",e,n,i)}):a.resolve(t).then(function(e){r.value=e,n(r)},function(e){return invoke("throw",e,n,i)})}i(e.arg)}(n,i,e,t)})}return e=e?e.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,t=function next(){for(;++n<e.length;)if(s.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=l,next.done=!0,next};return t.next=t}}return{next:doneResult}}function doneResult(){return{value:l,done:!0}}return((GeneratorFunction.prototype=f.constructor=GeneratorFunctionPrototype).constructor=GeneratorFunction).displayName=define(GeneratorFunctionPrototype,r,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,r,"GeneratorFunction")),e.prototype=Object.create(f),e},a.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[n]=function(){return this},a.AsyncIterator=AsyncIterator,a.async=function(e,t,n,i,r){void 0===r&&(r=Promise);var o=new AsyncIterator(wrap(e,t,n,i),r);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},defineIteratorMethods(f),define(f,r,"Generator"),f[i]=function(){return this},f.toString=function(){return"[object Generator]"},a.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function next(){for(;n.length;){var e=n.pop();if(e in t)return next.value=e,next.done=!1,next}return next.done=!0,next}},a.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function handle(e,t){return r.type="throw",r.arg=n,i.next=e,t&&(i.method="next",i.arg=l),!!t}for(var e=this.tryEntries.length-1;0<=e;--e){var t=this.tryEntries[e],r=t.completion;if("root"===t.tryLoc)return handle("end");if(t.tryLoc<=this.prev){var o=s.call(t,"catchLoc"),a=s.call(t,"finallyLoc");if(o&&a){if(this.prev<t.catchLoc)return handle(t.catchLoc,!0);if(this.prev<t.finallyLoc)return handle(t.finallyLoc)}else if(o){if(this.prev<t.catchLoc)return handle(t.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<t.finallyLoc)return handle(t.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}var o=(r=r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc?null:r)?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i,r=n.completion;return"throw"===r.type&&(i=r.arg,resetTryEntry(n)),i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:values(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),p}},a}(t.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},"./node_modules/rxjs/_esm5/internal/util/root.js":function(e,r,o){"use strict";!function(e){o.d(r,"a",function(){return i});var t="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=t||void 0!==e&&e||n}.call(this,o("./node_modules/webpack/buildin/global.js"))},"./node_modules/safe-json-parse/tuple.js":function(e,t){e.exports=function SafeParseTuple(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]}},"./node_modules/setimmediate/setImmediate.js":function(e,t,n){!function(e,t){!function(n,i){"use strict";var r,o,a,s,l,e;function clearImmediate(e){delete o[e]}function runIfPresent(e){if(a)setTimeout(runIfPresent,0,e);else{var t=o[e];if(t){a=!0;try{!function run(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}(t)}finally{clearImmediate(e),a=!1}}}}function installPostMessageImplementation(){function BMa(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(t)&&runIfPresent(+e.data.slice(t.length))}var t="setImmediate$"+Math.random()+"$";n.addEventListener?n.addEventListener("message",BMa,!1):n.attachEvent("onmessage",BMa),l=function(e){n.postMessage(t+e,"*")}}n.setImmediate||(r=1,a=!(o={}),s=n.document,e=(e=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&e.setTimeout?e:n,("[object process]"==={}.toString.call(n.process)?function installNextTickImplementation(){l=function(e){t.nextTick(function(){runIfPresent(e)})}}:!function canUsePostMessage(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?n.MessageChannel?function installMessageChannelImplementation(){var t=new MessageChannel;t.port1.onmessage=function(e){runIfPresent(e.data)},l=function(e){t.port2.postMessage(e)}}:s&&"onreadystatechange"in s.createElement("script")?function installReadyStateChangeImplementation(){var n=s.documentElement;l=function(e){var t=s.createElement("script");t.onreadystatechange=function(){runIfPresent(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}}:function installSetTimeoutImplementation(){l=function(e){setTimeout(runIfPresent,0,e)}}:installPostMessageImplementation)(),e.setImmediate=function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return o[r]={callback:e,args:t},l(r),r++},e.clearImmediate=clearImmediate)}("undefined"==typeof self?void 0===e?this:e:self)}.call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/slick-carousel/slick/slick.js":function(e,t,n){var i,r;!function(){"use strict";i=[n("./node_modules/jquery/dist/jquery.js")],void 0===(r="function"==typeof(r=function(u){"use strict";var a=window.Slick||{},a;(a=function(){var r=0;function Slick(e,t){var n=this,i;n.defaults={accessibility:true,adaptiveHeight:false,appendArrows:u(e),appendDots:u(e),arrows:true,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:false,autoplaySpeed:3e3,centerMode:false,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return u('<button type="button" />').text(t+1)},dots:false,dotsClass:"slick-dots",draggable:true,easing:"linear",edgeFriction:.35,fade:false,focusOnSelect:false,focusOnChange:false,infinite:true,initialSlide:0,lazyLoad:"ondemand",mobileFirst:false,pauseOnHover:true,pauseOnFocus:true,pauseOnDotsHover:false,respondTo:"window",responsive:null,rows:1,rtl:false,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:true,swipeToSlide:false,touchMove:true,touchThreshold:5,useCSS:true,useTransform:true,variableWidth:false,vertical:false,verticalSwiping:false,waitForAnimate:true,zIndex:1e3};n.initials={animating:false,dragging:false,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:false,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:false,slideOffset:0,swipeLeft:null,swiping:false,$list:null,touchObject:{},transformsEnabled:false,unslicked:false};u.extend(n,n.initials);n.activeBreakpoint=null;n.animType=null;n.animProp=null;n.breakpoints=[];n.breakpointSettings=[];n.cssTransitions=false;n.focussed=false;n.interrupted=false;n.hidden="hidden";n.paused=true;n.positionProp=null;n.respondTo=null;n.rowCount=1;n.shouldClick=true;n.$slider=u(e);n.$slidesCache=null;n.transformType=null;n.transitionType=null;n.visibilityChange="visibilitychange";n.windowWidth=0;n.windowTimer=null;i=u(e).data("slick")||{};n.options=u.extend({},n.defaults,t,i);n.currentSlide=n.options.initialSlide;n.originalSettings=n.options;if(typeof document.mozHidden!=="undefined"){n.hidden="mozHidden";n.visibilityChange="mozvisibilitychange"}else if(typeof document.webkitHidden!=="undefined"){n.hidden="webkitHidden";n.visibilityChange="webkitvisibilitychange"}n.autoPlay=u.proxy(n.autoPlay,n);n.autoPlayClear=u.proxy(n.autoPlayClear,n);n.autoPlayIterator=u.proxy(n.autoPlayIterator,n);n.changeSlide=u.proxy(n.changeSlide,n);n.clickHandler=u.proxy(n.clickHandler,n);n.selectHandler=u.proxy(n.selectHandler,n);n.setPosition=u.proxy(n.setPosition,n);n.swipeHandler=u.proxy(n.swipeHandler,n);n.dragHandler=u.proxy(n.dragHandler,n);n.keyHandler=u.proxy(n.keyHandler,n);n.instanceUid=r++;n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;n.registerBreakpoints();n.init(true)}return Slick}()).prototype.activateADA=function(){var e=this;e.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},a.prototype.addSlide=a.prototype.slickAdd=function(e,t,n){var i=this;if(typeof t==="boolean"){n=t;t=null}else if(t<0||t>=i.slideCount)return false;i.unload();if(typeof t==="number")if(t===0&&i.$slides.length===0)u(e).appendTo(i.$slideTrack);else if(n)u(e).insertBefore(i.$slides.eq(t));else u(e).insertAfter(i.$slides.eq(t));else if(n===true)u(e).prependTo(i.$slideTrack);else u(e).appendTo(i.$slideTrack);i.$slides=i.$slideTrack.children(this.options.slide);i.$slideTrack.children(this.options.slide).detach();i.$slideTrack.append(i.$slides);i.$slides.each(function(e,t){u(t).attr("data-slick-index",e)});i.$slidesCache=i.$slides;i.reinit()},a.prototype.animateHeight=function(){var e=this;if(e.options.slidesToShow===1&&e.options.adaptiveHeight===true&&e.options.vertical===false){var t=e.$slides.eq(e.currentSlide).outerHeight(true);e.$list.animate({height:t},e.options.speed)}},a.prototype.animateSlide=function(e,t){var n={},i=this;i.animateHeight();if(i.options.rtl===true&&i.options.vertical===false)e=-e;if(i.transformsEnabled===false)if(i.options.vertical===false)i.$slideTrack.animate({left:e},i.options.speed,i.options.easing,t);else i.$slideTrack.animate({top:e},i.options.speed,i.options.easing,t);else if(i.cssTransitions===false){if(i.options.rtl===true)i.currentLeft=-i.currentLeft;u({animStart:i.currentLeft}).animate({animStart:e},{duration:i.options.speed,easing:i.options.easing,step:function(e){e=Math.ceil(e);if(i.options.vertical===false){n[i.animType]="translate("+e+"px, 0px)";i.$slideTrack.css(n)}else{n[i.animType]="translate(0px,"+e+"px)";i.$slideTrack.css(n)}},complete:function(){if(t)t.call()}})}else{i.applyTransition();e=Math.ceil(e);if(i.options.vertical===false)n[i.animType]="translate3d("+e+"px, 0px, 0px)";else n[i.animType]="translate3d(0px,"+e+"px, 0px)";i.$slideTrack.css(n);if(t)setTimeout(function(){i.disableTransition();t.call()},i.options.speed)}},a.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;if(t&&t!==null)t=u(t).not(e.$slider);return t},a.prototype.asNavFor=function(t){var e=this,n=e.getNavTarget();if(n!==null&&typeof n==="object")n.each(function(){var e=u(this).slick("getSlick");if(!e.unslicked)e.slideHandler(t,true)})},a.prototype.applyTransition=function(e){var t=this,n={};if(t.options.fade===false)n[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase;else n[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase;if(t.options.fade===false)t.$slideTrack.css(n);else t.$slides.eq(e).css(n)},a.prototype.autoPlay=function(){var e=this;e.autoPlayClear();if(e.slideCount>e.options.slidesToShow)e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed)},a.prototype.autoPlayClear=function(){var e=this;if(e.autoPlayTimer)clearInterval(e.autoPlayTimer)},a.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;if(!e.paused&&!e.interrupted&&!e.focussed){if(e.options.infinite===false)if(e.direction===1&&e.currentSlide+1===e.slideCount-1)e.direction=0;else if(e.direction===0){t=e.currentSlide-e.options.slidesToScroll;if(e.currentSlide-1===0)e.direction=1}e.slideHandler(t)}},a.prototype.buildArrows=function(){var e=this;if(e.options.arrows===true){e.$prevArrow=u(e.options.prevArrow).addClass("slick-arrow");e.$nextArrow=u(e.options.nextArrow).addClass("slick-arrow");if(e.slideCount>e.options.slidesToShow){e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex");e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex");if(e.htmlExpr.test(e.options.prevArrow))e.$prevArrow.prependTo(e.options.appendArrows);if(e.htmlExpr.test(e.options.nextArrow))e.$nextArrow.appendTo(e.options.appendArrows);if(e.options.infinite!==true)e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")}else e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"})}},a.prototype.buildDots=function(){var e=this,t,n;if(e.options.dots===true&&e.slideCount>e.options.slidesToShow){e.$slider.addClass("slick-dotted");n=u("<ul />").addClass(e.options.dotsClass);for(t=0;t<=e.getDotCount();t+=1)n.append(u("<li />").append(e.options.customPaging.call(this,e,t)));e.$dots=n.appendTo(e.options.appendDots);e.$dots.find("li").first().addClass("slick-active")}},a.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide");e.slideCount=e.$slides.length;e.$slides.each(function(e,t){u(t).attr("data-slick-index",e).data("originalStyling",u(t).attr("style")||"")});e.$slider.addClass("slick-slider");e.$slideTrack=e.slideCount===0?u('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent();e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent();e.$slideTrack.css("opacity",0);if(e.options.centerMode===true||e.options.swipeToSlide===true)e.options.slidesToScroll=1;u("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading");e.setupInfinite();e.buildArrows();e.buildDots();e.updateDots();e.setSlideClasses(typeof e.currentSlide==="number"?e.currentSlide:0);if(e.options.draggable===true)e.$list.addClass("draggable")},a.prototype.buildRows=function(){var e=this,t,n,i,r,o,a,s;r=document.createDocumentFragment();a=e.$slider.children();if(e.options.rows>0){s=e.options.slidesPerRow*e.options.rows;o=Math.ceil(a.length/s);for(t=0;t<o;t++){var l=document.createElement("div");for(n=0;n<e.options.rows;n++){var u=document.createElement("div");for(i=0;i<e.options.slidesPerRow;i++){var c=t*s+(n*e.options.slidesPerRow+i);if(a.get(c))u.appendChild(a.get(c))}l.appendChild(u)}r.appendChild(l)}e.$slider.empty().append(r);e.$slider.children().children().children().css({width:100/e.options.slidesPerRow+"%",display:"inline-block"})}},a.prototype.checkResponsive=function(e,t){var n=this,i,r,o,a=false;var s=n.$slider.width();var l=window.innerWidth||u(window).width();if(n.respondTo==="window")o=l;else if(n.respondTo==="slider")o=s;else if(n.respondTo==="min")o=Math.min(l,s);if(n.options.responsive&&n.options.responsive.length&&n.options.responsive!==null){r=null;for(i in n.breakpoints)if(n.breakpoints.hasOwnProperty(i))if(n.originalSettings.mobileFirst===false){if(o<n.breakpoints[i])r=n.breakpoints[i]}else if(o>n.breakpoints[i])r=n.breakpoints[i];if(r!==null)if(n.activeBreakpoint!==null){if(r!==n.activeBreakpoint||t){n.activeBreakpoint=r;if(n.breakpointSettings[r]==="unslick")n.unslick(r);else{n.options=u.extend({},n.originalSettings,n.breakpointSettings[r]);if(e===true)n.currentSlide=n.options.initialSlide;n.refresh(e)}a=r}}else{n.activeBreakpoint=r;if(n.breakpointSettings[r]==="unslick")n.unslick(r);else{n.options=u.extend({},n.originalSettings,n.breakpointSettings[r]);if(e===true)n.currentSlide=n.options.initialSlide;n.refresh(e)}a=r}else if(n.activeBreakpoint!==null){n.activeBreakpoint=null;n.options=n.originalSettings;if(e===true)n.currentSlide=n.options.initialSlide;n.refresh(e);a=r}if(!e&&a!==false)n.$slider.trigger("breakpoint",[n,a])}},a.prototype.changeSlide=function(e,t){var n=this,i=u(e.currentTarget),r,o,a;if(i.is("a"))e.preventDefault();if(!i.is("li"))i=i.closest("li");a=n.slideCount%n.options.slidesToScroll!==0;r=a?0:(n.slideCount-n.currentSlide)%n.options.slidesToScroll;switch(e.data.message){case"previous":o=r===0?n.options.slidesToScroll:n.options.slidesToShow-r;if(n.slideCount>n.options.slidesToShow)n.slideHandler(n.currentSlide-o,false,t);break;case"next":o=r===0?n.options.slidesToScroll:r;if(n.slideCount>n.options.slidesToShow)n.slideHandler(n.currentSlide+o,false,t);break;case"index":var s=e.data.index===0?0:e.data.index||i.index()*n.options.slidesToScroll;n.slideHandler(n.checkNavigable(s),false,t);i.children().trigger("focus");break;default:return}},a.prototype.checkNavigable=function(e){var t=this,n,i;n=t.getNavigableIndexes();i=0;if(e>n[n.length-1])e=n[n.length-1];else for(var r in n){if(e<n[r]){e=i;break}i=n[r]}return e},a.prototype.cleanUpEvents=function(){var e=this;if(e.options.dots&&e.$dots!==null){u("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",u.proxy(e.interrupt,e,true)).off("mouseleave.slick",u.proxy(e.interrupt,e,false));if(e.options.accessibility===true)e.$dots.off("keydown.slick",e.keyHandler)}e.$slider.off("focus.slick blur.slick");if(e.options.arrows===true&&e.slideCount>e.options.slidesToShow){e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide);e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide);if(e.options.accessibility===true){e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler);e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler)}}e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler);e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler);e.$list.off("touchend.slick mouseup.slick",e.swipeHandler);e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler);e.$list.off("click.slick",e.clickHandler);u(document).off(e.visibilityChange,e.visibility);e.cleanUpSlideEvents();if(e.options.accessibility===true)e.$list.off("keydown.slick",e.keyHandler);if(e.options.focusOnSelect===true)u(e.$slideTrack).children().off("click.slick",e.selectHandler);u(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange);u(window).off("resize.slick.slick-"+e.instanceUid,e.resize);u("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault);u(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},a.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",u.proxy(e.interrupt,e,true));e.$list.off("mouseleave.slick",u.proxy(e.interrupt,e,false))},a.prototype.cleanUpRows=function(){var e=this,t;if(e.options.rows>0){t=e.$slides.children().children();t.removeAttr("style");e.$slider.empty().append(t)}},a.prototype.clickHandler=function(e){var t=this;if(t.shouldClick===false){e.stopImmediatePropagation();e.stopPropagation();e.preventDefault()}},a.prototype.destroy=function(e){var t=this;t.autoPlayClear();t.touchObject={};t.cleanUpEvents();u(".slick-cloned",t.$slider).detach();if(t.$dots)t.$dots.remove();if(t.$prevArrow&&t.$prevArrow.length){t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display","");if(t.htmlExpr.test(t.options.prevArrow))t.$prevArrow.remove()}if(t.$nextArrow&&t.$nextArrow.length){t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display","");if(t.htmlExpr.test(t.options.nextArrow))t.$nextArrow.remove()}if(t.$slides){t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){u(this).attr("style",u(this).data("originalStyling"))});t.$slideTrack.children(this.options.slide).detach();t.$slideTrack.detach();t.$list.detach();t.$slider.append(t.$slides)}t.cleanUpRows();t.$slider.removeClass("slick-slider");t.$slider.removeClass("slick-initialized");t.$slider.removeClass("slick-dotted");t.unslicked=true;if(!e)t.$slider.trigger("destroy",[t])},a.prototype.disableTransition=function(e){var t=this,n={};n[t.transitionType]="";if(t.options.fade===false)t.$slideTrack.css(n);else t.$slides.eq(e).css(n)},a.prototype.fadeSlide=function(e,t){var n=this;if(n.cssTransitions===false){n.$slides.eq(e).css({zIndex:n.options.zIndex});n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)}else{n.applyTransition(e);n.$slides.eq(e).css({opacity:1,zIndex:n.options.zIndex});if(t)setTimeout(function(){n.disableTransition(e);t.call()},n.options.speed)}},a.prototype.fadeSlideOut=function(e){var t=this;if(t.cssTransitions===false)t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing);else{t.applyTransition(e);t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2})}},a.prototype.filterSlides=a.prototype.slickFilter=function(e){var t=this;if(e!==null){t.$slidesCache=t.$slides;t.unload();t.$slideTrack.children(this.options.slide).detach();t.$slidesCache.filter(e).appendTo(t.$slideTrack);t.reinit()}},a.prototype.focusHandler=function(){var n=this;n.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(e){e.stopImmediatePropagation();var t=u(this);setTimeout(function(){if(n.options.pauseOnFocus){n.focussed=t.is(":focus");n.autoPlay()}},0)})},a.prototype.getCurrent=a.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},a.prototype.getDotCount=function(){var e=this;var t=0;var n=0;var i=0;if(e.options.infinite===true)if(e.slideCount<=e.options.slidesToShow)++i;else while(t<e.slideCount){++i;t=n+e.options.slidesToScroll;n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow}else if(e.options.centerMode===true)i=e.slideCount;else if(!e.options.asNavFor)i=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);else while(t<e.slideCount){++i;t=n+e.options.slidesToScroll;n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow}return i-1},a.prototype.getLeft=function(e){var t=this,n,i,r=0,o,a;t.slideOffset=0;i=t.$slides.first().outerHeight(true);if(t.options.infinite===true){if(t.slideCount>t.options.slidesToShow){t.slideOffset=t.slideWidth*t.options.slidesToShow*-1;a=-1;if(t.options.vertical===true&&t.options.centerMode===true)if(t.options.slidesToShow===2)a=-1.5;else if(t.options.slidesToShow===1)a=-2;r=i*t.options.slidesToShow*a}if(t.slideCount%t.options.slidesToScroll!==0)if(e+t.options.slidesToScroll>t.slideCount&&t.slideCount>t.options.slidesToShow)if(e>t.slideCount){t.slideOffset=(t.options.slidesToShow-(e-t.slideCount))*t.slideWidth*-1;r=(t.options.slidesToShow-(e-t.slideCount))*i*-1}else{t.slideOffset=t.slideCount%t.options.slidesToScroll*t.slideWidth*-1;r=t.slideCount%t.options.slidesToScroll*i*-1}}else if(e+t.options.slidesToShow>t.slideCount){t.slideOffset=(e+t.options.slidesToShow-t.slideCount)*t.slideWidth;r=(e+t.options.slidesToShow-t.slideCount)*i}if(t.slideCount<=t.options.slidesToShow){t.slideOffset=0;r=0}if(t.options.centerMode===true&&t.slideCount<=t.options.slidesToShow)t.slideOffset=t.slideWidth*Math.floor(t.options.slidesToShow)/2-t.slideWidth*t.slideCount/2;else if(t.options.centerMode===true&&t.options.infinite===true)t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)-t.slideWidth;else if(t.options.centerMode===true){t.slideOffset=0;t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)}if(t.options.vertical===false)n=e*t.slideWidth*-1+t.slideOffset;else n=e*i*-1+r;if(t.options.variableWidth===true){if(t.slideCount<=t.options.slidesToShow||t.options.infinite===false)o=t.$slideTrack.children(".slick-slide").eq(e);else o=t.$slideTrack.children(".slick-slide").eq(e+t.options.slidesToShow);if(t.options.rtl===true)if(o[0])n=(t.$slideTrack.width()-o[0].offsetLeft-o.width())*-1;else n=0;else n=o[0]?o[0].offsetLeft*-1:0;if(t.options.centerMode===true){if(t.slideCount<=t.options.slidesToShow||t.options.infinite===false)o=t.$slideTrack.children(".slick-slide").eq(e);else o=t.$slideTrack.children(".slick-slide").eq(e+t.options.slidesToShow+1);if(t.options.rtl===true)if(o[0])n=(t.$slideTrack.width()-o[0].offsetLeft-o.width())*-1;else n=0;else n=o[0]?o[0].offsetLeft*-1:0;n+=(t.$list.width()-o.outerWidth())/2}}return n},a.prototype.getOption=a.prototype.slickGetOption=function(e){var t=this;return t.options[e]},a.prototype.getNavigableIndexes=function(){var e=this,t=0,n=0,i=[],r;if(e.options.infinite===false)r=e.slideCount;else{t=e.options.slidesToScroll*-1;n=e.options.slidesToScroll*-1;r=e.slideCount*2}while(t<r){i.push(t);t=n+e.options.slidesToScroll;n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow}return i},a.prototype.getSlick=function(){return this},a.prototype.getSlideCount=function(){var n=this,e,i,r;r=n.options.centerMode===true?n.slideWidth*Math.floor(n.options.slidesToShow/2):0;if(n.options.swipeToSlide===true){n.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft-r+u(t).outerWidth()/2>n.swipeLeft*-1){i=t;return false}});e=Math.abs(u(i).attr("data-slick-index")-n.currentSlide)||1;return e}else return n.options.slidesToScroll},a.prototype.goTo=a.prototype.slickGoTo=function(e,t){var n=this;n.changeSlide({data:{message:"index",index:parseInt(e)}},t)},a.prototype.init=function(e){var t=this;if(!u(t.$slider).hasClass("slick-initialized")){u(t.$slider).addClass("slick-initialized");t.buildRows();t.buildOut();t.setProps();t.startLoad();t.loadSlider();t.initializeEvents();t.updateArrows();t.updateDots();t.checkResponsive(true);t.focusHandler()}if(e)t.$slider.trigger("init",[t]);if(t.options.accessibility===true)t.initADA();if(t.options.autoplay){t.paused=false;t.autoPlay()}},a.prototype.initADA=function(){var i=this,n=Math.ceil(i.slideCount/i.options.slidesToShow),r=i.getNavigableIndexes().filter(function(e){return e>=0&&e<i.slideCount});i.$slides.add(i.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"});if(i.$dots!==null){i.$slides.not(i.$slideTrack.find(".slick-cloned")).each(function(e){var t=r.indexOf(e);u(this).attr({role:"tabpanel",id:"slick-slide"+i.instanceUid+e,tabindex:-1});if(t!==-1){var n="slick-slide-control"+i.instanceUid+t;if(u("#"+n).length)u(this).attr({"aria-describedby":n})}});i.$dots.attr("role","tablist").find("li").each(function(e){var t=r[e];u(this).attr({role:"presentation"});u(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+i.instanceUid+e,"aria-controls":"slick-slide"+i.instanceUid+t,"aria-label":e+1+" of "+n,"aria-selected":null,tabindex:"-1"})}).eq(i.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end()}for(var e=i.currentSlide,t=e+i.options.slidesToShow;e<t;e++)if(i.options.focusOnChange)i.$slides.eq(e).attr({tabindex:"0"});else i.$slides.eq(e).removeAttr("tabindex");i.activateADA()},a.prototype.initArrowEvents=function(){var e=this;if(e.options.arrows===true&&e.slideCount>e.options.slidesToShow){e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide);e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide);if(e.options.accessibility===true){e.$prevArrow.on("keydown.slick",e.keyHandler);e.$nextArrow.on("keydown.slick",e.keyHandler)}}},a.prototype.initDotEvents=function(){var e=this;if(e.options.dots===true&&e.slideCount>e.options.slidesToShow){u("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide);if(e.options.accessibility===true)e.$dots.on("keydown.slick",e.keyHandler)}if(e.options.dots===true&&e.options.pauseOnDotsHover===true&&e.slideCount>e.options.slidesToShow)u("li",e.$dots).on("mouseenter.slick",u.proxy(e.interrupt,e,true)).on("mouseleave.slick",u.proxy(e.interrupt,e,false))},a.prototype.initSlideEvents=function(){var e=this;if(e.options.pauseOnHover){e.$list.on("mouseenter.slick",u.proxy(e.interrupt,e,true));e.$list.on("mouseleave.slick",u.proxy(e.interrupt,e,false))}},a.prototype.initializeEvents=function(){var e=this;e.initArrowEvents();e.initDotEvents();e.initSlideEvents();e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler);e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler);e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler);e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler);e.$list.on("click.slick",e.clickHandler);u(document).on(e.visibilityChange,u.proxy(e.visibility,e));if(e.options.accessibility===true)e.$list.on("keydown.slick",e.keyHandler);if(e.options.focusOnSelect===true)u(e.$slideTrack).children().on("click.slick",e.selectHandler);u(window).on("orientationchange.slick.slick-"+e.instanceUid,u.proxy(e.orientationChange,e));u(window).on("resize.slick.slick-"+e.instanceUid,u.proxy(e.resize,e));u("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault);u(window).on("load.slick.slick-"+e.instanceUid,e.setPosition);u(e.setPosition)},a.prototype.initUI=function(){var e=this;if(e.options.arrows===true&&e.slideCount>e.options.slidesToShow){e.$prevArrow.show();e.$nextArrow.show()}if(e.options.dots===true&&e.slideCount>e.options.slidesToShow)e.$dots.show()},a.prototype.keyHandler=function(e){var t=this;if(!e.target.tagName.match("TEXTAREA|INPUT|SELECT"))if(e.keyCode===37&&t.options.accessibility===true)t.changeSlide({data:{message:t.options.rtl===true?"next":"previous"}});else if(e.keyCode===39&&t.options.accessibility===true)t.changeSlide({data:{message:t.options.rtl===true?"previous":"next"}})},a.prototype.lazyLoad=function(){var o=this,e,t,n,i;function loadImages(e){u("img[data-lazy]",e).each(function(){var e=u(this),t=u(this).attr("data-lazy"),n=u(this).attr("data-srcset"),i=u(this).attr("data-sizes")||o.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){if(n){e.attr("srcset",n);if(i)e.attr("sizes",i)}e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")});o.$slider.trigger("lazyLoaded",[o,e,t])})};r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error");o.$slider.trigger("lazyLoadError",[o,e,t])};r.src=t})}if(o.options.centerMode===true)if(o.options.infinite===true){n=o.currentSlide+(o.options.slidesToShow/2+1);i=n+o.options.slidesToShow+2}else{n=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1));i=2+(o.options.slidesToShow/2+1)+o.currentSlide}else{n=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide;i=Math.ceil(n+o.options.slidesToShow);if(o.options.fade===true){if(n>0)n--;if(i<=o.slideCount)i++}}e=o.$slider.find(".slick-slide").slice(n,i);if(o.options.lazyLoad==="anticipated"){var r=n-1,a=i,s=o.$slider.find(".slick-slide");for(var l=0;l<o.options.slidesToScroll;l++){if(r<0)r=o.slideCount-1;e=e.add(s.eq(r));e=e.add(s.eq(a));r--;a++}}loadImages(e);if(o.slideCount<=o.options.slidesToShow){t=o.$slider.find(".slick-slide");loadImages(t)}else if(o.currentSlide>=o.slideCount-o.options.slidesToShow){t=o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow);loadImages(t)}else if(o.currentSlide===0){t=o.$slider.find(".slick-cloned").slice(o.options.slidesToShow*-1);loadImages(t)}},a.prototype.loadSlider=function(){var e=this;e.setPosition();e.$slideTrack.css({opacity:1});e.$slider.removeClass("slick-loading");e.initUI();if(e.options.lazyLoad==="progressive")e.progressiveLazyLoad()},a.prototype.next=a.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},a.prototype.orientationChange=function(){var e=this;e.checkResponsive();e.setPosition()},a.prototype.pause=a.prototype.slickPause=function(){var e=this;e.autoPlayClear();e.paused=true},a.prototype.play=a.prototype.slickPlay=function(){var e=this;e.autoPlay();e.options.autoplay=true;e.paused=false;e.focussed=false;e.interrupted=false},a.prototype.postSlide=function(e){var t=this;if(!t.unslicked){t.$slider.trigger("afterChange",[t,e]);t.animating=false;if(t.slideCount>t.options.slidesToShow)t.setPosition();t.swipeLeft=null;if(t.options.autoplay)t.autoPlay();if(t.options.accessibility===true){t.initADA();if(t.options.focusOnChange){var n=u(t.$slides.get(t.currentSlide));n.attr("tabindex",0).focus()}}}},a.prototype.prev=a.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},a.prototype.preventDefault=function(e){e.preventDefault()},a.prototype.progressiveLazyLoad=function(e){e=e||1;var t=this,n=u("img[data-lazy]",t.$slider),i,r,o,a,s;if(n.length){i=n.first();r=i.attr("data-lazy");o=i.attr("data-srcset");a=i.attr("data-sizes")||t.$slider.attr("data-sizes");s=document.createElement("img");s.onload=function(){if(o){i.attr("srcset",o);if(a)i.attr("sizes",a)}i.attr("src",r).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading");if(t.options.adaptiveHeight===true)t.setPosition();t.$slider.trigger("lazyLoaded",[t,i,r]);t.progressiveLazyLoad()};s.onerror=function(){if(e<3)setTimeout(function(){t.progressiveLazyLoad(e+1)},500);else{i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error");t.$slider.trigger("lazyLoadError",[t,i,r]);t.progressiveLazyLoad()}};s.src=r}else t.$slider.trigger("allImagesLoaded",[t])},a.prototype.refresh=function(e){var t=this,n,i;i=t.slideCount-t.options.slidesToShow;if(!t.options.infinite&&t.currentSlide>i)t.currentSlide=i;if(t.slideCount<=t.options.slidesToShow)t.currentSlide=0;n=t.currentSlide;t.destroy(true);u.extend(t,t.initials,{currentSlide:n});t.init();if(!e)t.changeSlide({data:{message:"index",index:n}},false)},a.prototype.registerBreakpoints=function(){var n=this,e,t,i,r=n.options.responsive||null;if(u.type(r)==="array"&&r.length){n.respondTo=n.options.respondTo||"window";for(e in r){i=n.breakpoints.length-1;if(r.hasOwnProperty(e)){t=r[e].breakpoint;while(i>=0){if(n.breakpoints[i]&&n.breakpoints[i]===t)n.breakpoints.splice(i,1);i--}n.breakpoints.push(t);n.breakpointSettings[t]=r[e].settings}}n.breakpoints.sort(function(e,t){return n.options.mobileFirst?e-t:t-e})}},a.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide");e.slideCount=e.$slides.length;if(e.currentSlide>=e.slideCount&&e.currentSlide!==0)e.currentSlide=e.currentSlide-e.options.slidesToScroll;if(e.slideCount<=e.options.slidesToShow)e.currentSlide=0;e.registerBreakpoints();e.setProps();e.setupInfinite();e.buildArrows();e.updateArrows();e.initArrowEvents();e.buildDots();e.updateDots();e.initDotEvents();e.cleanUpSlideEvents();e.initSlideEvents();e.checkResponsive(false,true);if(e.options.focusOnSelect===true)u(e.$slideTrack).children().on("click.slick",e.selectHandler);e.setSlideClasses(typeof e.currentSlide==="number"?e.currentSlide:0);e.setPosition();e.focusHandler();e.paused=!e.options.autoplay;e.autoPlay();e.$slider.trigger("reInit",[e])},a.prototype.resize=function(){var e=this;if(u(window).width()!==e.windowWidth){clearTimeout(e.windowDelay);e.windowDelay=window.setTimeout(function(){e.windowWidth=u(window).width();e.checkResponsive();if(!e.unslicked)e.setPosition()},50)}},a.prototype.removeSlide=a.prototype.slickRemove=function(e,t,n){var i=this;if(typeof e==="boolean"){t=e;e=t===true?0:i.slideCount-1}else e=t===true?--e:e;if(i.slideCount<1||e<0||e>i.slideCount-1)return false;i.unload();if(n===true)i.$slideTrack.children().remove();else i.$slideTrack.children(this.options.slide).eq(e).remove();i.$slides=i.$slideTrack.children(this.options.slide);i.$slideTrack.children(this.options.slide).detach();i.$slideTrack.append(i.$slides);i.$slidesCache=i.$slides;i.reinit()},a.prototype.setCSS=function(e){var t=this,n={},i,r;if(t.options.rtl===true)e=-e;i=t.positionProp=="left"?Math.ceil(e)+"px":"0px";r=t.positionProp=="top"?Math.ceil(e)+"px":"0px";n[t.positionProp]=e;if(t.transformsEnabled===false)t.$slideTrack.css(n);else{n={};if(t.cssTransitions===false){n[t.animType]="translate("+i+", "+r+")";t.$slideTrack.css(n)}else{n[t.animType]="translate3d("+i+", "+r+", 0px)";t.$slideTrack.css(n)}}},a.prototype.setDimensions=function(){var e=this;if(e.options.vertical===false){if(e.options.centerMode===true)e.$list.css({padding:"0px "+e.options.centerPadding})}else{e.$list.height(e.$slides.first().outerHeight(true)*e.options.slidesToShow);if(e.options.centerMode===true)e.$list.css({padding:e.options.centerPadding+" 0px"})}e.listWidth=e.$list.width();e.listHeight=e.$list.height();if(e.options.vertical===false&&e.options.variableWidth===false){e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow);e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))}else if(e.options.variableWidth===true)e.$slideTrack.width(5e3*e.slideCount);else{e.slideWidth=Math.ceil(e.listWidth);e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(true)*e.$slideTrack.children(".slick-slide").length))}var t=e.$slides.first().outerWidth(true)-e.$slides.first().width();if(e.options.variableWidth===false)e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},a.prototype.setFade=function(){var n=this,i;n.$slides.each(function(e,t){i=n.slideWidth*e*-1;if(n.options.rtl===true)u(t).css({position:"relative",right:i,top:0,zIndex:n.options.zIndex-2,opacity:0});else u(t).css({position:"relative",left:i,top:0,zIndex:n.options.zIndex-2,opacity:0})});n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},a.prototype.setHeight=function(){var e=this;if(e.options.slidesToShow===1&&e.options.adaptiveHeight===true&&e.options.vertical===false){var t=e.$slides.eq(e.currentSlide).outerHeight(true);e.$list.css("height",t)}},a.prototype.setOption=a.prototype.slickSetOption=function(){var n=this,e,t,i,r,o=false,a;if(u.type(arguments[0])==="object"){i=arguments[0];o=arguments[1];a="multiple"}else if(u.type(arguments[0])==="string"){i=arguments[0];r=arguments[1];o=arguments[2];if(arguments[0]==="responsive"&&u.type(arguments[1])==="array")a="responsive";else if(typeof arguments[1]!=="undefined")a="single"}if(a==="single")n.options[i]=r;else if(a==="multiple")u.each(i,function(e,t){n.options[e]=t});else if(a==="responsive")for(t in r)if(u.type(n.options.responsive)!=="array")n.options.responsive=[r[t]];else{e=n.options.responsive.length-1;while(e>=0){if(n.options.responsive[e].breakpoint===r[t].breakpoint)n.options.responsive.splice(e,1);e--}n.options.responsive.push(r[t])}if(o){n.unload();n.reinit()}},a.prototype.setPosition=function(){var e=this;e.setDimensions();e.setHeight();if(e.options.fade===false)e.setCSS(e.getLeft(e.currentSlide));else e.setFade();e.$slider.trigger("setPosition",[e])},a.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===true?"top":"left";if(e.positionProp==="top")e.$slider.addClass("slick-vertical");else e.$slider.removeClass("slick-vertical");if(t.WebkitTransition!==undefined||t.MozTransition!==undefined||t.msTransition!==undefined)if(e.options.useCSS===true)e.cssTransitions=true;if(e.options.fade)if(typeof e.options.zIndex==="number"){if(e.options.zIndex<3)e.options.zIndex=3}else e.options.zIndex=e.defaults.zIndex;if(t.OTransform!==undefined){e.animType="OTransform";e.transformType="-o-transform";e.transitionType="OTransition";if(t.perspectiveProperty===undefined&&t.webkitPerspective===undefined)e.animType=false}if(t.MozTransform!==undefined){e.animType="MozTransform";e.transformType="-moz-transform";e.transitionType="MozTransition";if(t.perspectiveProperty===undefined&&t.MozPerspective===undefined)e.animType=false}if(t.webkitTransform!==undefined){e.animType="webkitTransform";e.transformType="-webkit-transform";e.transitionType="webkitTransition";if(t.perspectiveProperty===undefined&&t.webkitPerspective===undefined)e.animType=false}if(t.msTransform!==undefined){e.animType="msTransform";e.transformType="-ms-transform";e.transitionType="msTransition";if(t.msTransform===undefined)e.animType=false}if(t.transform!==undefined&&e.animType!==false){e.animType="transform";e.transformType="transform";e.transitionType="transition"}e.transformsEnabled=e.options.useTransform&&(e.animType!==null&&e.animType!==false)},a.prototype.setSlideClasses=function(e){var t=this,n,i,r,o;i=t.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true");t.$slides.eq(e).addClass("slick-current");if(t.options.centerMode===true){var a=t.options.slidesToShow%2===0?1:0;n=Math.floor(t.options.slidesToShow/2);if(t.options.infinite===true){if(e>=n&&e<=t.slideCount-1-n)t.$slides.slice(e-n+a,e+n+1).addClass("slick-active").attr("aria-hidden","false");else{r=t.options.slidesToShow+e;i.slice(r-n+1+a,r+n+2).addClass("slick-active").attr("aria-hidden","false")}if(e===0)i.eq(i.length-1-t.options.slidesToShow).addClass("slick-center");else if(e===t.slideCount-1)i.eq(t.options.slidesToShow).addClass("slick-center")}t.$slides.eq(e).addClass("slick-center")}else if(e>=0&&e<=t.slideCount-t.options.slidesToShow)t.$slides.slice(e,e+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false");else if(i.length<=t.options.slidesToShow)i.addClass("slick-active").attr("aria-hidden","false");else{o=t.slideCount%t.options.slidesToShow;r=t.options.infinite===true?t.options.slidesToShow+e:e;if(t.options.slidesToShow==t.options.slidesToScroll&&t.slideCount-e<t.options.slidesToShow)i.slice(r-(t.options.slidesToShow-o),r+o).addClass("slick-active").attr("aria-hidden","false");else i.slice(r,r+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")}if(t.options.lazyLoad==="ondemand"||t.options.lazyLoad==="anticipated")t.lazyLoad()},a.prototype.setupInfinite=function(){var e=this,t,n,i;if(e.options.fade===true)e.options.centerMode=false;if(e.options.infinite===true&&e.options.fade===false){n=null;if(e.slideCount>e.options.slidesToShow){if(e.options.centerMode===true)i=e.options.slidesToShow+1;else i=e.options.slidesToShow;for(t=e.slideCount;t>e.slideCount-i;t-=1){n=t-1;u(e.$slides[n]).clone(true).attr("id","").attr("data-slick-index",n-e.slideCount).prependTo(e.$slideTrack).addClass("slick-cloned")}for(t=0;t<i+e.slideCount;t+=1){n=t;u(e.$slides[n]).clone(true).attr("id","").attr("data-slick-index",n+e.slideCount).appendTo(e.$slideTrack).addClass("slick-cloned")}e.$slideTrack.find(".slick-cloned").find("[id]").each(function(){u(this).attr("id","")})}}},a.prototype.interrupt=function(e){var t=this;if(!e)t.autoPlay();t.interrupted=e},a.prototype.selectHandler=function(e){var t=this;var n=u(e.target).is(".slick-slide")?u(e.target):u(e.target).parents(".slick-slide");var i=parseInt(n.attr("data-slick-index"));if(!i)i=0;if(t.slideCount<=t.options.slidesToShow){t.slideHandler(i,false,true);return}t.slideHandler(i)},a.prototype.slideHandler=function(e,t,n){var i,r,o,a,s=null,l=this,u;t=t||false;if(l.animating===true&&l.options.waitForAnimate===true)return;if(l.options.fade===true&&l.currentSlide===e)return;if(t===false)l.asNavFor(e);i=e;s=l.getLeft(i);a=l.getLeft(l.currentSlide);l.currentLeft=l.swipeLeft===null?a:l.swipeLeft;if(l.options.infinite===false&&l.options.centerMode===false&&(e<0||e>l.getDotCount()*l.options.slidesToScroll)){if(l.options.fade===false){i=l.currentSlide;if(n!==true&&l.slideCount>l.options.slidesToShow)l.animateSlide(a,function(){l.postSlide(i)});else l.postSlide(i)}return}else if(l.options.infinite===false&&l.options.centerMode===true&&(e<0||e>l.slideCount-l.options.slidesToScroll)){if(l.options.fade===false){i=l.currentSlide;if(n!==true&&l.slideCount>l.options.slidesToShow)l.animateSlide(a,function(){l.postSlide(i)});else l.postSlide(i)}return}if(l.options.autoplay)clearInterval(l.autoPlayTimer);if(i<0)if(l.slideCount%l.options.slidesToScroll!==0)r=l.slideCount-l.slideCount%l.options.slidesToScroll;else r=l.slideCount+i;else if(i>=l.slideCount)if(l.slideCount%l.options.slidesToScroll!==0)r=0;else r=i-l.slideCount;else r=i;l.animating=true;l.$slider.trigger("beforeChange",[l,l.currentSlide,r]);o=l.currentSlide;l.currentSlide=r;l.setSlideClasses(l.currentSlide);if(l.options.asNavFor){u=l.getNavTarget();u=u.slick("getSlick");if(u.slideCount<=u.options.slidesToShow)u.setSlideClasses(l.currentSlide)}l.updateDots();l.updateArrows();if(l.options.fade===true){if(n!==true){l.fadeSlideOut(o);l.fadeSlide(r,function(){l.postSlide(r)})}else l.postSlide(r);l.animateHeight();return}if(n!==true&&l.slideCount>l.options.slidesToShow)l.animateSlide(s,function(){l.postSlide(r)});else l.postSlide(r)},a.prototype.startLoad=function(){var e=this;if(e.options.arrows===true&&e.slideCount>e.options.slidesToShow){e.$prevArrow.hide();e.$nextArrow.hide()}if(e.options.dots===true&&e.slideCount>e.options.slidesToShow)e.$dots.hide();e.$slider.addClass("slick-loading")},a.prototype.swipeDirection=function(){var e,t,n,i,r=this;e=r.touchObject.startX-r.touchObject.curX;t=r.touchObject.startY-r.touchObject.curY;n=Math.atan2(t,e);i=Math.round(n*180/Math.PI);if(i<0)i=360-Math.abs(i);if(i<=45&&i>=0)return r.options.rtl===false?"left":"right";if(i<=360&&i>=315)return r.options.rtl===false?"left":"right";if(i>=135&&i<=225)return r.options.rtl===false?"right":"left";if(r.options.verticalSwiping===true)if(i>=35&&i<=135)return"down";else return"up";return"vertical"},a.prototype.swipeEnd=function(e){var t=this,n,i;t.dragging=false;t.swiping=false;if(t.scrolling){t.scrolling=false;return false}t.interrupted=false;t.shouldClick=t.touchObject.swipeLength>10?false:true;if(t.touchObject.curX===undefined)return false;if(t.touchObject.edgeHit===true)t.$slider.trigger("edge",[t,t.swipeDirection()]);if(t.touchObject.swipeLength>=t.touchObject.minSwipe){i=t.swipeDirection();switch(i){case"left":case"down":n=t.options.swipeToSlide?t.checkNavigable(t.currentSlide+t.getSlideCount()):t.currentSlide+t.getSlideCount();t.currentDirection=0;break;case"right":case"up":n=t.options.swipeToSlide?t.checkNavigable(t.currentSlide-t.getSlideCount()):t.currentSlide-t.getSlideCount();t.currentDirection=1;break;default:}if(i!="vertical"){t.slideHandler(n);t.touchObject={};t.$slider.trigger("swipe",[t,i])}}else if(t.touchObject.startX!==t.touchObject.curX){t.slideHandler(t.currentSlide);t.touchObject={}}},a.prototype.swipeHandler=function(e){var t=this;if(t.options.swipe===false||"ontouchend"in document&&t.options.swipe===false)return;else if(t.options.draggable===false&&e.type.indexOf("mouse")!==-1)return;t.touchObject.fingerCount=e.originalEvent&&e.originalEvent.touches!==undefined?e.originalEvent.touches.length:1;t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold;if(t.options.verticalSwiping===true)t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold;switch(e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e);break}},a.prototype.swipeMove=function(e){var t=this,n=false,i,r,o,a,s,l;s=e.originalEvent!==undefined?e.originalEvent.touches:null;if(!t.dragging||t.scrolling||s&&s.length!==1)return false;i=t.getLeft(t.currentSlide);t.touchObject.curX=s!==undefined?s[0].pageX:e.clientX;t.touchObject.curY=s!==undefined?s[0].pageY:e.clientY;t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curX-t.touchObject.startX,2)));l=Math.round(Math.sqrt(Math.pow(t.touchObject.curY-t.touchObject.startY,2)));if(!t.options.verticalSwiping&&!t.swiping&&l>4){t.scrolling=true;return false}if(t.options.verticalSwiping===true)t.touchObject.swipeLength=l;r=t.swipeDirection();if(e.originalEvent!==undefined&&t.touchObject.swipeLength>4){t.swiping=true;e.preventDefault()}a=(t.options.rtl===false?1:-1)*(t.touchObject.curX>t.touchObject.startX?1:-1);if(t.options.verticalSwiping===true)a=t.touchObject.curY>t.touchObject.startY?1:-1;o=t.touchObject.swipeLength;t.touchObject.edgeHit=false;if(t.options.infinite===false)if(t.currentSlide===0&&r==="right"||t.currentSlide>=t.getDotCount()&&r==="left"){o=t.touchObject.swipeLength*t.options.edgeFriction;t.touchObject.edgeHit=true}if(t.options.vertical===false)t.swipeLeft=i+o*a;else t.swipeLeft=i+o*(t.$list.height()/t.listWidth)*a;if(t.options.verticalSwiping===true)t.swipeLeft=i+o*a;if(t.options.fade===true||t.options.touchMove===false)return false;if(t.animating===true){t.swipeLeft=null;return false}t.setCSS(t.swipeLeft)},a.prototype.swipeStart=function(e){var t=this,n;t.interrupted=true;if(t.touchObject.fingerCount!==1||t.slideCount<=t.options.slidesToShow){t.touchObject={};return false}if(e.originalEvent!==undefined&&e.originalEvent.touches!==undefined)n=e.originalEvent.touches[0];t.touchObject.startX=t.touchObject.curX=n!==undefined?n.pageX:e.clientX;t.touchObject.startY=t.touchObject.curY=n!==undefined?n.pageY:e.clientY;t.dragging=true},a.prototype.unfilterSlides=a.prototype.slickUnfilter=function(){var e=this;if(e.$slidesCache!==null){e.unload();e.$slideTrack.children(this.options.slide).detach();e.$slidesCache.appendTo(e.$slideTrack);e.reinit()}},a.prototype.unload=function(){var e=this;u(".slick-cloned",e.$slider).remove();if(e.$dots)e.$dots.remove();if(e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow))e.$prevArrow.remove();if(e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow))e.$nextArrow.remove();e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},a.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]);t.destroy()},a.prototype.updateArrows=function(){var e=this,t;t=Math.floor(e.options.slidesToShow/2);if(e.options.arrows===true&&e.slideCount>e.options.slidesToShow&&!e.options.infinite){e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false");e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false");if(e.currentSlide===0){e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true");e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")}else if(e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===false){e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true");e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")}else if(e.currentSlide>=e.slideCount-1&&e.options.centerMode===true){e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true");e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")}}},a.prototype.updateDots=function(){var e=this;if(e.$dots!==null){e.$dots.find("li").removeClass("slick-active").end();e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active")}},a.prototype.visibility=function(){var e=this;if(e.options.autoplay)if(document[e.hidden])e.interrupted=true;else e.interrupted=false},u.fn.slick=function(){var e=this,t=arguments[0],n=Array.prototype.slice.call(arguments,1),i=e.length,r,o;for(r=0;r<i;r++){if(typeof t=="object"||typeof t=="undefined")e[r].slick=new a(e[r],t);else o=e[r].slick[t].apply(e[r].slick,n);if(typeof o!="undefined")return o}return e}})?r.apply(t,i):r)||(e.exports=r)}()},"./node_modules/smartbanner.js/src/detector.js":function(e,t,n){"use strict";!function(e){n.d(t,"a",function(){return Detector});class Detector{static platform(){var e=window.navigator.maxTouchPoints,t=window.navigator.userAgent;return/Android/i.test(t)?"android":!window.MSStream&&!/X11|Linux/i.test(t)&&e&&0<e||/iPhone|iPad|iPod/i.test(t)?"ios":void 0}static userAgentMatchesRegex(e){return new RegExp(e).test(window.navigator.userAgent)}static jQueryMobilePage(){return void 0!==e.$&&"undefined"!==e.$.mobile&&null!==document.querySelector(".ui-page")}static wrapperElement(){var e=Detector.jQueryMobilePage()?".ui-page":"html";return document.querySelectorAll(e)}}}.call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/timers-browserify/main.js":function(e,i,r){!function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function Timeout(e,t){this._id=e,this._clearFn=t}i.setTimeout=function(){return new Timeout(n.call(setTimeout,t,arguments),clearTimeout)},i.setInterval=function(){return new Timeout(n.call(setInterval,t,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(t,this._id)},i.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},i.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},i._unrefActive=i.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function onTimeout(){e._onTimeout&&e._onTimeout()},t))},r("./node_modules/setimmediate/setImmediate.js"),i.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,i.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}.call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,n){var i,o,r,a,s;i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=s.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}i=s.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=s.normalizePath(i.path),s.buildURLFromParts(i)):t;t=s.parseURL(e);if(!t)throw new Error("Error trying to parse base URL.");!t.netLoc&&t.path&&"/"!==t.path[0]&&(r=o.exec(t.path),t.netLoc=r[1],t.path=r[2]),t.netLoc&&!t.path&&(t.path="/");var r,e={scheme:t.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};return i.netLoc||(e.netLoc=t.netLoc,"/"!==i.path[0]&&(i.path?(r=(r=t.path).substring(0,r.lastIndexOf("/")+1)+i.path,e.path=s.normalizePath(r)):(e.path=t.path,i.params||(e.params=t.params,i.query||(e.query=t.query))))),null===e.path&&(e.path=n.alwaysNormalize?s.normalizePath(i.path):i.path),s.buildURLFromParts(e)},parseURL:function(e){e=i.exec(e);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/video.js/dist/video.es.js":function(e,Ai,Pi){"use strict";!function($t){for(var e,t=Pi("./node_modules/global/window.js"),v=Pi.n(t),n=Pi("./node_modules/global/document.js"),d=Pi.n(n),i=Pi("./node_modules/@babel/runtime/helpers/extends/index.js"),u=Pi.n(i),r=Pi("./node_modules/keycode/index.js"),a=Pi.n(r),o=Pi("./node_modules/@babel/runtime/helpers/assertThisInitialized/index.js"),b=Pi.n(o),s=Pi("./node_modules/@babel/runtime/helpers/inheritsLoose/index.js"),h=Pi.n(s),l=Pi("./node_modules/safe-json-parse/tuple.js"),p=Pi.n(l),c=Pi("./node_modules/@videojs/xhr/lib/index.js"),f=Pi.n(c),m=Pi("./node_modules/videojs-vtt.js/lib/browser-index.js"),g=Pi.n(m),y=Pi("./node_modules/@babel/runtime/helpers/construct/index.js"),_=Pi.n(y),T=Pi("./node_modules/@babel/runtime/helpers/inherits/index.js"),S=Pi.n(T),C=Pi("./node_modules/@videojs/vhs-utils/es/resolve-url.js"),w=Pi("./node_modules/m3u8-parser/dist/m3u8-parser.es.js"),k=Pi("./node_modules/@videojs/vhs-utils/es/codecs.js"),E=Pi("./node_modules/@videojs/vhs-utils/es/media-types.js"),A=Pi("./node_modules/@videojs/vhs-utils/es/byte-helpers.js"),P=Pi("./node_modules/mpd-parser/dist/mpd-parser.es.js"),x=Pi("./node_modules/mux.js/lib/tools/parse-sidx.js"),M=Pi.n(x),I=Pi("./node_modules/@videojs/vhs-utils/es/id3-helpers.js"),L=Pi("./node_modules/@videojs/vhs-utils/es/containers.js"),O=Pi("./node_modules/mux.js/lib/utils/clock.js"),D={},R=function hooks(e,t){return D[e]=D[e]||[],t&&(D[e]=D[e].concat(t)),D[e]},N=function hook(e,t){R(e,t)},B=function removeHook(e,t){t=R(e).indexOf(t);return!(t<=-1)&&(D[e]=D[e].slice(),D[e].splice(t,1),!0)},j=function hookOnce(t,e){R(t,[].concat(e).map(function(e){return function wrapper(){return B(t,wrapper),e.apply(void 0,arguments)}}))},F={prefixed:!0},U=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],V=U[0],H=0;H<U.length;H++)if(U[H][1]in d.a){e=U[H];break}if(e){for(var q=0;q<e.length;q++)F[V[q]]=e[q];F.prefixed=e[0]!==V[0]}function WTa(o,a){return function(e,t,n){var i,r=a.levels[t],t=new RegExp("^("+r+")$");"log"!==e&&n.unshift(e.toUpperCase()+":"),n.unshift(o+":"),W&&(W.push([].concat(n)),i=W.length-1e3,W.splice(0,0<i?i:0)),!v.a.console||(i=!(i=v.a.console[e])&&"debug"===e?v.a.console.info||v.a.console.log:i)&&r&&t.test(e)&&i[Array.isArray(n)?"apply":"call"](v.a.console,n)}}var W=[];function $Ta(e){return isObject(e)?Object.keys(e):[]}var G=function createLogger$1(t){function u00(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r("log",i,t)}var i="info",r=WTa(t,u00);return u00.createLogger=function(e){return createLogger$1(t+": "+e)},u00.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},u00.level=function(e){if("string"==typeof e){if(!u00.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');i=e}return i},(u00.history=function(){return W?[].concat(W):[]}).filter=function(t){return(W||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},u00.history.clear=function(){W&&(W.length=0)},u00.history.disable=function(){null!==W&&(W.length=0,W=null)},u00.history.enable=function(){null===W&&(W=[])},u00.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r("error",i,t)},u00.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r("warn",i,t)},u00.debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r("debug",i,t)},u00}("VIDEOJS"),$=G.createLogger,z=Object.prototype.toString;function each(t,n){$Ta(t).forEach(function(e){return n(t[e],e)})}function assign(n){for(var e=arguments.length,t=new Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Object.assign?u.a.apply(void 0,[n].concat(t)):(t.forEach(function(e){e&&each(e,function(e,t){n[t]=e})}),n)}function isObject(e){return!!e&&"object"==typeof e}function isPlain(e){return isObject(e)&&"[object Object]"===z.call(e)&&e.constructor===Object}function computedStyle(e,t){if(!e||!t)return"";if("function"!=typeof v.a.getComputedStyle)return"";var n;try{n=v.a.getComputedStyle(e)}catch(e){return""}return n?n.getPropertyValue(t)||n[t]:""}var Y=v.a.navigator&&v.a.navigator.userAgent||"",K=/AppleWebKit\/([\d.]+)/i.exec(Y),X=K?parseFloat(K.pop()):null,t=/iPod/i.test(Y),i=(n=Y.match(/OS (\d+)_/i))&&n[1]?n[1]:null,Q=/Android/i.test(Y),Z=function(){var e=Y.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),J=Q&&Z<5&&X<537,ee=/Firefox/i.test(Y),te=/Edg/i.test(Y),ne=!te&&(/Chrome/i.test(Y)||/CriOS/i.test(Y)),ie=(r=Y.match(/(Chrome|CriOS)\/(\d+)/))&&r[2]?parseFloat(r[2]):null,re=o=!(o=(o=/MSIE\s(\d+)\.\d/.exec(Y))&&parseFloat(o[1]))&&/Trident\/7.0/i.test(Y)&&/rv:11.0/.test(Y)?11:o,s=/Safari/i.test(Y)&&!ne&&!Q&&!te,oe=/Windows/i.test(Y),ae=Boolean(isReal()&&("ontouchstart"in v.a||v.a.navigator.maxTouchPoints||v.a.DocumentTouch&&v.a.document instanceof v.a.DocumentTouch)),l=/iPad/i.test(Y)||s&&ae&&!/iPhone/i.test(Y),se=/iPhone/i.test(Y)&&!l,le=se||l||t,ue=(s||le)&&!ne,c=Object.freeze({__proto__:null,IS_IPOD:t,IOS_VERSION:i,IS_ANDROID:Q,ANDROID_VERSION:Z,IS_NATIVE_ANDROID:J,IS_FIREFOX:ee,IS_EDGE:te,IS_CHROME:ne,CHROME_VERSION:ie,IE_VERSION:re,IS_SAFARI:s,IS_WINDOWS:oe,TOUCH_ENABLED:ae,IS_IPAD:l,IS_IPHONE:se,IS_IOS:le,IS_ANY_SAFARI:ue});function isNonBlankString(e){return"string"==typeof e&&Boolean(e.trim())}function throwIfWhitespace(e){if(0<=e.indexOf(" "))throw new Error("class has illegal whitespace characters")}function isReal(){return d.a===v.a.document}function isEl(e){return isObject(e)&&1===e.nodeType}function isInFrame(){try{return v.a.parent!==v.a.self}catch(e){return!0}}function createQuerier(n){return function(e,t){if(!isNonBlankString(e))return d.a[n](null);t=isEl(t=isNonBlankString(t)?d.a.querySelector(t):t)?t:d.a;return t[n]&&t[n](e)}}function createEl(e,n,t,i){void 0===n&&(n={}),void 0===t&&(t={});var r=d.a.createElement(e=void 0===e?"div":e);return Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(G.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+t+"."),r.setAttribute(e,t)):"textContent"===e?textContent(r,t):r[e]===t&&"tabIndex"!==e||(r[e]=t)}),Object.getOwnPropertyNames(t).forEach(function(e){r.setAttribute(e,t[e])}),i&&appendContent(r,i),r}function textContent(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function prependTo(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function hasClass(e,t){return throwIfWhitespace(t),e.classList?e.classList.contains(t):function classRegExp(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}(t).test(e.className)}function addClass(e,t){return e.classList?e.classList.add(t):hasClass(e,t)||(e.className=(e.className+" "+t).trim()),e}function removeClass(e,t){return e?(e.classList?e.classList.remove(t):(throwIfWhitespace(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e):(G.warn("removeClass was called with an element that doesn't exist"),null)}function toggleClass(e,t,n){var i=hasClass(e,t);if((n="boolean"!=typeof(n="function"==typeof n?n(e,t):n)?!i:n)!==i)return(n?addClass:removeClass)(e,t),e}function setAttributes(n,i){Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];null==t||!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})}function getAttributes(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&0<e.attributes.length)for(var i=e.attributes,r=i.length-1;0<=r;r--){var o=i[r].name,a=i[r].value;"boolean"!=typeof e[o]&&-1===n.indexOf(","+o+",")||(a=null!==a),t[o]=a}return t}function getAttribute(e,t){return e.getAttribute(t)}function setAttribute(e,t,n){e.setAttribute(t,n)}function removeAttribute(e,t){e.removeAttribute(t)}function blockTextSelection(){d.a.body.focus(),d.a.onselectstart=function(){return!1}}function unblockTextSelection(){d.a.onselectstart=function(){return!0}}function getBoundingClientRect(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat(computedStyle(e,"height"))),n.width||(n.width=parseFloat(computedStyle(e,"width"))),n}}function findPosition(e){if(!e||!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,n=e.offsetHeight,i=0,r=0;e.offsetParent&&e!==d.a[F.fullscreenElement];)i+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:i,top:r,width:t,height:n}}function getPointerPosition(e,t){var n={x:0,y:0};if(le)for(var i=e;i&&"html"!==i.nodeName.toLowerCase();){var r,o=computedStyle(i,"transform");/^matrix/.test(o)?(r=o.slice(7,-1).split(/,\s/).map(Number),n.x+=r[4],n.y+=r[5]):/^matrix3d/.test(o)&&(o=o.slice(9,-1).split(/,\s/).map(Number),n.x+=o[12],n.y+=o[13]),i=i.parentNode}var a={},s=findPosition(t.target),l=findPosition(e),u=l.width,c=l.height,e=t.offsetY-(l.top-s.top),s=t.offsetX-(l.left-s.left);return t.changedTouches&&(s=t.changedTouches[0].pageX-l.left,e=t.changedTouches[0].pageY+l.top,le&&(s-=n.x,e-=n.y)),a.y=1-Math.max(0,Math.min(1,e/c)),a.x=Math.max(0,Math.min(1,s/u)),a}function isTextNode(e){return isObject(e)&&3===e.nodeType}function emptyEl(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function normalizeContent(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return isEl(e="function"==typeof e?e():e)||isTextNode(e)?e:"string"==typeof e&&/\S/.test(e)?d.a.createTextNode(e):void 0}).filter(function(e){return e})}function appendContent(t,e){return normalizeContent(e).forEach(function(e){return t.appendChild(e)}),t}function insertContent(e,t){return appendContent(emptyEl(e),t)}function isSingleLeftClick(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}function zUa(){if(!1!==ce.options.autoSetup){var e=Array.prototype.slice.call(d.a.getElementsByTagName("video")),t=Array.prototype.slice.call(d.a.getElementsByTagName("audio")),n=Array.prototype.slice.call(d.a.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&0<i.length)for(var r=0,o=i.length;r<o;r++){var a=i[r];if(!a||!a.getAttribute){autoSetupTimeout(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&ce(a)}else fe||autoSetupTimeout(1)}}var ce,de=createQuerier("querySelector"),he=createQuerier("querySelectorAll"),pe=Object.freeze({__proto__:null,isReal:isReal,isEl:isEl,isInFrame:isInFrame,createEl:createEl,textContent:textContent,prependTo:prependTo,hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,setAttributes:setAttributes,getAttributes:getAttributes,getAttribute:getAttribute,setAttribute:setAttribute,removeAttribute:removeAttribute,blockTextSelection:blockTextSelection,unblockTextSelection:unblockTextSelection,getBoundingClientRect:getBoundingClientRect,findPosition:findPosition,getPointerPosition:getPointerPosition,isTextNode:isTextNode,emptyEl:emptyEl,normalizeContent:normalizeContent,appendContent:appendContent,insertContent:insertContent,isSingleLeftClick:isSingleLeftClick,$:de,$$:he}),fe=!1;function autoSetupTimeout(e,t){isReal()&&(t&&(ce=t),v.a.setTimeout(zUa,e))}function setWindowLoaded(){fe=!0,v.a.removeEventListener("load",setWindowLoaded)}isReal()&&("complete"===d.a.readyState?setWindowLoaded():v.a.addEventListener("load",setWindowLoaded));function AUa(e){var t=d.a.createElement("style");return t.className=e,t}function BUa(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}var me=3;v.a.WeakMap||(at=function(){function FakeWeakMap(){this.vdata="vdata"+Math.floor(v.a.performance&&v.a.performance.now()||Date.now()),this.data={}}var e=FakeWeakMap.prototype;return e.set=function set(e,t){var n=e[this.vdata]||me++;return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},e.get=function get(e){var t=e[this.vdata];if(t)return this.data[t];G("We have no data for this element",e)},e.has=function has(e){return e[this.vdata]in this.data},e.delete=function _delete(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},FakeWeakMap}());var ge,ye=new(v.a.WeakMap?WeakMap:at);function _cleanUpEvents(e,t){var n;ye.has(e)&&(0===(n=ye.get(e)).handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&ye.delete(e))}function _handleMultipleEvents(t,n,e,i){e.forEach(function(e){t(n,e,i)})}function fixEvent(e){if(e.fixed_)return e;function returnTrue(){return!0}function returnFalse(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var t,n,i,r=e||v.a.event;for(t in e={},r)"layerX"!==t&&"layerY"!==t&&"keyLocation"!==t&&"webkitMovementX"!==t&&"webkitMovementY"!==t&&"path"!==t&&("returnValue"===t&&r.preventDefault||(e[t]=r[t]));e.target||(e.target=e.srcElement||d.a),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=returnTrue},e.isPropagationStopped=returnFalse,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=returnTrue,e.stopPropagation()},e.isImmediatePropagationStopped=returnFalse,null!==e.clientX&&void 0!==e.clientX&&(n=d.a.documentElement,i=d.a.body,e.pageX=e.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}function HUa(){if("boolean"!=typeof ge){ge=!1;try{var e=Object.defineProperty({},"passive",{get:function get(){ge=!0}});v.a.addEventListener("test",null,e),v.a.removeEventListener("test",null,e)}catch(e){}}return ge}var ve=["touchstart","touchmove"];function on(a,e,t){if(Array.isArray(e))return _handleMultipleEvents(on,a,e,t);ye.has(a)||ye.set(a,{});var s=ye.get(a);s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),t.guid||(t.guid=me++),s.handlers[e].push(t),s.dispatcher||(s.disabled=!1,s.dispatcher=function(e,t){if(!s.disabled){e=fixEvent(e);var n=s.handlers[e.type];if(n)for(var i=n.slice(0),r=0,o=i.length;r<o&&!e.isImmediatePropagationStopped();r++)try{i[r].call(a,e,t)}catch(e){G.error(e)}}}),1===s.handlers[e].length&&(a.addEventListener?(t=!1,HUa()&&-1<ve.indexOf(e)&&(t={passive:!0}),a.addEventListener(e,s.dispatcher,t)):a.attachEvent&&a.attachEvent("on"+e,s.dispatcher))}function off(e,t,n){if(ye.has(e)){var i=ye.get(e);if(i.handlers){if(Array.isArray(t))return _handleMultipleEvents(off,e,t,n);var r=function removeType(e,t){i.handlers[t]=[],_cleanUpEvents(e,t)};if(void 0!==t){var o=i.handlers[t];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);_cleanUpEvents(e,t)}else r(e,t)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(e,s)}}}function trigger(e,t,n){var i=ye.has(e)?ye.get(e):{},r=e.parentNode||e.ownerDocument;return"string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=fixEvent(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles?trigger.call(null,r,t,n):!r&&!t.defaultPrevented&&t.target&&t.target[t.type]&&(ye.has(t.target)||ye.set(t.target,{}),r=ye.get(t.target),t.target[t.type]&&(r.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),r.disabled=!1)),!t.defaultPrevented}function one(e,t,n){if(Array.isArray(t))return _handleMultipleEvents(one,e,t,n);function e20(){off(e,t,e20),n.apply(this,arguments)}e20.guid=n.guid=n.guid||me++,on(e,t,e20)}function any(e,t,n){function i20(){off(e,t,i20),n.apply(this,arguments)}i20.guid=n.guid=n.guid||me++,on(e,t,i20)}function MUa(t,n){var i=v.a.performance.now();return function throttled(){var e=v.a.performance.now();n<=e-i&&(t.apply(void 0,arguments),i=e)}}function NUa(i,r,o,a){var s;function y20(){var e=this,t=arguments,n=function later(){n=s=null,o||i.apply(e,t)};!s&&o&&i.apply(e,t),a.clearTimeout(s),s=a.setTimeout(n,r)}return void 0===a&&(a=v.a),y20.cancel=function cancel(){a.clearTimeout(s),s=null},y20}function OUa(){}var be,_e=Object.freeze({__proto__:null,fixEvent:fixEvent,on:on,off:off,trigger:trigger,one:one,any:any}),Te=function bind(e,t,n){t.guid||(t.guid=me++);e=t.bind(e);return e.guid=n?n+"_"+t.guid:t.guid,e};OUa.prototype.allowedEvents_={},OUa.prototype.addEventListener=OUa.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},on(this,e,t),this.addEventListener=n},OUa.prototype.removeEventListener=OUa.prototype.off=function(e,t){off(this,e,t)},OUa.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},one(this,e,t),this.addEventListener=n},OUa.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},any(this,e,t),this.addEventListener=n},OUa.prototype.dispatchEvent=OUa.prototype.trigger=function(e){var t=e.type||e;e=fixEvent(e="string"==typeof e?{type:t}:e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),trigger(this,e)},OUa.prototype.queueTrigger=function(e){var t=this;be=be||new Map;var n=e.type||e,i=be.get(this);i||(i=new Map,be.set(this,i));var r=i.get(n);i.delete(n),v.a.clearTimeout(r);r=v.a.setTimeout(function(){i.delete(n),0===i.size&&(i=null,be.delete(t)),t.trigger(e)},0);i.set(n,r)};function SUa(e,t){Ce(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))}function UUa(e,t,n){if(!e||!e.nodeName&&!Ce(e))throw new Error("Invalid target for "+Se(t)+"#"+n+"; must be a DOM node or evented object.")}function VUa(e,t,n){if(!we(e))throw new Error("Invalid event type for "+Se(t)+"#"+n+"; must be a non-empty string or array.")}function WUa(e,t,n){if("function"!=typeof e)throw new Error("Invalid listener for "+Se(t)+"#"+n+"; must be a function.")}function XUa(e,t,n){var i,r,o=t.length<3||t[0]===e||t[0]===e.eventBusEl_,t=o?(i=e.eventBusEl_,3<=t.length&&t.shift(),r=t[0],t[1]):(i=t[0],r=t[1],t[2]);return UUa(i,e,n),VUa(r,e,n),WUa(t,e,n),{isTargetingSelf:o,target:i,type:r,listener:t=Te(e,t)}}function YUa(e,t,n,i){UUa(e,e,t),e.nodeName?_e[t](e,n,i):e[t](n,i)}var Se=function objName(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_||(e.constructor&&e.constructor.name?e.constructor.name:typeof e)},Ce=function isEvented(t){return t instanceof OUa||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},we=function isValidEventType(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},ke={on:function on(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r,o=XUa(this,n,"on"),a=o.isTargetingSelf,s=o.target,l=o.type,u=o.listener;YUa(s,"on",l,u),a||((r=function removeListenerOnDispose(){return e.off(s,l,u)}).guid=u.guid,(a=function removeRemoverOnTargetDispose(){return e.off("dispose",r)}).guid=u.guid,YUa(this,"on","dispose",r),YUa(s,"on","dispose",a))},one:function one(){for(var i=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=XUa(this,t,"one"),o=r.isTargetingSelf,a=r.target,s=r.type,l=r.listener;o?YUa(a,"one",s,l):((o=function wrapper(){i.off(a,s,wrapper);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.apply(null,t)}).guid=l.guid,YUa(a,"one",s,o))},any:function any(){for(var i=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=XUa(this,t,"any"),o=r.isTargetingSelf,a=r.target,s=r.type,l=r.listener;o?YUa(a,"any",s,l):((o=function wrapper(){i.off(a,s,wrapper);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.apply(null,t)}).guid=l.guid,YUa(a,"any",s,o))},off:function off$1(e,t,n){!e||we(e)?off(this.eventBusEl_,e,t):(t=t,UUa(e=e,this,"off"),VUa(t,this,"off"),WUa(n,this,"off"),n=Te(this,n),this.off("dispose",n),e.nodeName?(off(e,t,n),off(e,"dispose",n)):Ce(e)&&(e.off(t,n),e.off("dispose",n)))},trigger:function trigger$1(e,t){UUa(this.eventBusEl_,this,"trigger");var n=e&&"string"!=typeof e?e.type:e;if(!we(n)){n="Invalid event type for "+Se(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!e)throw new Error(n);(this.log||G).error(n)}return trigger(this.eventBusEl_,e,t)}};function evented(e,t){t=(t=void 0===t?{}:t).eventBusKey;if(t){if(!e[t].nodeName)throw new Error('The eventBusKey "'+t+'" does not refer to an element.');e.eventBusEl_=e[t]}else e.eventBusEl_=createEl("span",{className:"vjs-event-bus"});return assign(e,ke),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),[e,e.el_,e.eventBusEl_].forEach(function(e){e&&ye.has(e)&&ye.delete(e)}),v.a.setTimeout(function(){e.eventBusEl_=null},0)}),e}var Ee={state:{},setState:function setState(e){var n,i=this;return each(e="function"==typeof e?e():e,function(e,t){i.state[t]!==e&&((n=n||{})[t]={from:i.state[t],to:e}),i.state[t]=e}),n&&Ce(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function stateful(e,t){return assign(e,Ee),e.state=assign({},e.state,t),"function"==typeof e.handleStateChanged&&Ce(e)&&e.on("statechanged",e.handleStateChanged),e}function _Ua(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})}function aVa(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})}function bVa(e,t){return aVa(e)===aVa(t)}function mergeOptions$3(){for(var n={},e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach(function(e){e&&each(e,function(e,t){isPlain(e)?(isPlain(n[t])||(n[t]={}),n[t]=mergeOptions$3(n[t],e)):n[t]=e})}),n}var Ae=v.a.Map||function(){function MapSham(){this.map_={}}var e=MapSham.prototype;return e.has=function has(e){return e in this.map_},e.delete=function _delete(e){var t=this.has(e);return delete this.map_[e],t},e.set=function set(e,t){return this.map_[e]=t,this},e.forEach=function forEach(e,t){for(var n in this.map_)e.call(t,this.map_[n],n,this)},MapSham}(),Pe=v.a.Set||function(){function SetSham(){this.set_={}}var e=SetSham.prototype;return e.has=function has(e){return e in this.set_},e.delete=function _delete(e){var t=this.has(e);return delete this.set_[e],t},e.add=function add(e){return this.set_[e]=1,this},e.forEach=function forEach(e,t){for(var n in this.set_)e.call(t,n,n,this)},SetSham}(),xe=function(){function Component(e,t,n){var i=this;!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=mergeOptions$3({},this.options_),t=this.options_=mergeOptions$3(this.options_,t),this.id_=t.id||t.el&&t.el.id,this.id_||(e=e&&e.id&&e.id()||"no_player",this.id_=e+"_component_"+me++),this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach(function(e){return i.addClass(e)}),!1!==t.evented&&(evented(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),stateful(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Pe,this.setIntervalIds_=new Pe,this.rafIds_=new Pe,this.namedRafs_=new Ae,(this.clearingTimersOnDispose_=!1)!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var e=Component.prototype;return e.dispose=function dispose(e){if(void 0===e&&(e={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;0<=t;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function isDisposed(){return Boolean(this.isDisposed_)},e.player=function player(){return this.player_},e.options=function options(e){return e&&(this.options_=mergeOptions$3(this.options_,e)),this.options_},e.el=function el(){return this.el_},e.createEl=function createEl$1(e,t,n){return createEl(e,t,n)},e.localize=function localize(e,n,t){void 0===t&&(t=e);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[i],i=i&&i.split("-")[0],i=r&&r[i],t=t;return o&&o[e]?t=o[e]:i&&i[e]&&(t=i[e]),t=n?t.replace(/\{(\d+)\}/g,function(e,t){t=n[t-1];return void 0===t?e:t}):t},e.handleLanguagechange=function handleLanguagechange(){},e.contentEl=function contentEl(){return this.contentEl_||this.el_},e.id=function id(){return this.id_},e.name=function name(){return this.name_},e.children=function children(){return this.children_},e.getChildById=function getChildById(e){return this.childIndex_[e]},e.getChild=function getChild(e){if(e)return this.childNameIndex_[e]},e.getDescendant=function getDescendant(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var t=t.reduce(function(e,t){return e.concat(t)},[]),i=this,r=0;r<t.length;r++)if(!(i=i.getChild(t[r]))||!i.getChild)return;return i},e.addChild=function addChild(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n=this.children_.length),"string"==typeof e){var i=aVa(e),r=t.componentClass||i;t.name=i;var o=Component.getComponent(r);if(!o)throw new Error("Component "+r+" does not exist");if("function"!=typeof o)return null;o=new o(this.player_||this,t)}else o=e;return o.parentComponent_&&o.parentComponent_.removeChild(o),this.children_.splice(n,0,o),o.parentComponent_=this,"function"==typeof o.id&&(this.childIndex_[o.id()]=o),(i=i||o.name&&aVa(o.name()))&&(this.childNameIndex_[i]=o,this.childNameIndex_[_Ua(i)]=o),"function"==typeof o.el&&o.el()&&(i=null,this.children_[n+1]&&(this.children_[n+1].el_?i=this.children_[n+1].el_:isEl(this.children_[n+1])&&(i=this.children_[n+1])),this.contentEl().insertBefore(o.el(),i)),o},e.removeChild=function removeChild(e){if((e="string"==typeof e?this.getChild(e):e)&&this.children_){for(var t,n=!1,i=this.children_.length-1;0<=i;i--)if(this.children_[i]===e){n=!0,this.children_.splice(i,1);break}n&&(e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[aVa(e.name())]=null,this.childNameIndex_[_Ua(e.name())]=null,(t=e.el())&&t.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el()))}},e.initChildren=function initChildren(){var n,e,t,i,r=this,o=this.options_.children;o&&(n=this.options_,e=function handleAdd(e){var t=e.name,e=e.opts;!1!==(e=void 0!==n[t]?n[t]:e)&&((e=!0===e?{}:e).playerOptions=r.options_.playerOptions,(e=r.addChild(t,e))&&(r[t]=e))},t=Component.getComponent("Tech"),(i=Array.isArray(o)?o:Object.keys(o)).concat(Object.keys(this.options_).filter(function(t){return!i.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t,e="string"==typeof e?o[t=e]||r.options_[t]||{}:(t=e.name,e);return{name:t,opts:e}}).filter(function(e){e=Component.getComponent(e.opts.componentClass||aVa(e.name));return e&&!t.isTech(e)}).forEach(e))},e.buildCSSClass=function buildCSSClass(){return""},e.ready=function ready(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},e.triggerReady=function triggerReady(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.$=function $$1(e,t){return de(e,t||this.contentEl())},e.$$=function $$$1(e,t){return he(e,t||this.contentEl())},e.hasClass=function hasClass$1(e){return hasClass(this.el_,e)},e.addClass=function addClass$1(e){addClass(this.el_,e)},e.removeClass=function removeClass$1(e){removeClass(this.el_,e)},e.toggleClass=function toggleClass$1(e,t){toggleClass(this.el_,e,t)},e.show=function show(){this.removeClass("vjs-hidden")},e.hide=function hide(){this.addClass("vjs-hidden")},e.lockShowing=function lockShowing(){this.addClass("vjs-lock-showing")},e.unlockShowing=function unlockShowing(){this.removeClass("vjs-lock-showing")},e.getAttribute=function getAttribute$1(e){return getAttribute(this.el_,e)},e.setAttribute=function setAttribute$1(e,t){setAttribute(this.el_,e,t)},e.removeAttribute=function removeAttribute$1(e){removeAttribute(this.el_,e)},e.width=function width(e,t){return this.dimension("width",e,t)},e.height=function height(e,t){return this.dimension("height",e,t)},e.dimensions=function dimensions(e,t){this.width(e,!0),this.height(t)},e.dimension=function dimension(e,t,n){if(void 0!==t)return-1!==(""+(t=null===t||t!=t?0:t)).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;t=this.el_.style[e],n=t.indexOf("px");return-1!==n?parseInt(t.slice(0,n),10):parseInt(this.el_["offset"+aVa(e)],10)},e.currentDimension=function currentDimension(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");return t=computedStyle(this.el_,e),0!==(t=parseFloat(t))&&!isNaN(t)||(e="offset"+aVa(e),t=this.el_[e]),t},e.currentDimensions=function currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function currentWidth(){return this.currentDimension("width")},e.currentHeight=function currentHeight(){return this.currentDimension("height")},e.focus=function focus(){this.el_.focus()},e.blur=function blur(){this.el_.blur()},e.handleKeyDown=function handleKeyDown(e){this.player_&&(a.a.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))},e.handleKeyPress=function handleKeyPress(e){this.handleKeyDown(e)},e.emitTapEvents=function emitTapEvents(){var n,t=0,i=null;this.on("touchstart",function(e){1===e.touches.length&&(i={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=v.a.performance.now(),n=!0)}),this.on("touchmove",function(e){var t;1<e.touches.length?n=!1:i&&(t=e.touches[0].pageX-i.pageX,e=e.touches[0].pageY-i.pageY,10<Math.sqrt(t*t+e*e)&&(n=!1))});function W40(){n=!1}this.on("touchleave",W40),this.on("touchcancel",W40),this.on("touchend",function(e){!(i=null)===n&&v.a.performance.now()-t<200&&(e.preventDefault(),this.trigger("tap"))})},e.enableTouchActivity=function enableTouchActivity(){var t,n,e;this.player()&&this.player().reportUserActivity&&(t=Te(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)}),e=function touchEnd(e){t(),this.clearInterval(n)},this.on("touchmove",t),this.on("touchend",e),this.on("touchcancel",e))},e.setTimeout=function setTimeout(e,t){var n,i=this;return e=Te(this,e),this.clearTimersOnDispose_(),n=v.a.setTimeout(function(){i.setTimeoutIds_.has(n)&&i.setTimeoutIds_.delete(n),e()},t),this.setTimeoutIds_.add(n),n},e.clearTimeout=function clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),v.a.clearTimeout(e)),e},e.setInterval=function setInterval(e,t){e=Te(this,e),this.clearTimersOnDispose_();t=v.a.setInterval(e,t);return this.setIntervalIds_.add(t),t},e.clearInterval=function clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),v.a.clearInterval(e)),e},e.requestAnimationFrame=function requestAnimationFrame(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=Te(this,e),t=v.a.requestAnimationFrame(function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},e.requestNamedAnimationFrame=function requestNamedAnimationFrame(e,t){var n=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=Te(this,t);var i=this.requestAnimationFrame(function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)});return this.namedRafs_.set(e,i),e}},e.cancelNamedAnimationFrame=function cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},e.cancelAnimationFrame=function cancelAnimationFrame(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),v.a.cancelAnimationFrame(e)),e):this.clearTimeout(e)},e.clearTimersOnDispose_=function clearTimersOnDispose_(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var t=e[0],n=e[1];i[t].forEach(function(e,t){return i[n](t)})}),i.clearingTimersOnDispose_=!1}))},Component.registerComponent=function registerComponent(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n=Component.getComponent("Tech"),i=n&&n.isTech(t),n=Component===t||Component.prototype.isPrototypeOf(t.prototype);if(i||!n){var r=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass";throw new Error('Illegal component, "'+e+'"; '+r+".")}e=aVa(e),Component.components_||(Component.components_={});r=Component.getComponent("Player");if("Player"===e&&r&&r.players){var o=r.players,r=Object.keys(o);if(o&&0<r.length&&r.map(function(e){return o[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Component.components_[e]=t,Component.components_[_Ua(e)]=t},Component.getComponent=function getComponent(e){if(e&&Component.components_)return Component.components_[e]},Component}();function getRange(e,t,n,i){return function rangeCheck(e,t,n){if("number"!=typeof t||t<0||n<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,i,n.length-1),n[i][t]}function createTimeRangesObj(e){var t=void 0===e||0===e.length?{length:0,start:function start(){throw new Error("This TimeRanges object is empty")},end:function end(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:getRange.bind(null,"start",0,e),end:getRange.bind(null,"end",1,e)};return v.a.Symbol&&v.a.Symbol.iterator&&(t[v.a.Symbol.iterator]=function(){return(e||[]).values()}),t}function createTimeRanges(e,t){return Array.isArray(e)?createTimeRangesObj(e):void 0===e||void 0===t?createTimeRangesObj():createTimeRangesObj([[e,t]])}function bufferedPercent(e,t){var n,i,r=0;if(!t)return 0;e&&e.length||(e=createTimeRanges(0,0));for(var o=0;o<e.length;o++)n=e.start(o),r+=(i=t<(i=e.end(o))?t:i)-n;return r/t}function MediaError(e){if(e instanceof MediaError)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:isObject(e)&&("number"==typeof e.code&&(this.code=e.code),assign(this,e)),this.message||(this.message=MediaError.defaultMessages[this.code]||"")}xe.prototype.supportsRaf_="function"==typeof v.a.requestAnimationFrame&&"function"==typeof v.a.cancelAnimationFrame,xe.registerComponent("Component",xe),MediaError.prototype.code=0,MediaError.prototype.message="",MediaError.prototype.status=null,MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],MediaError.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Me=0;Me<MediaError.errorTypes.length;Me++)MediaError[MediaError.errorTypes[Me]]=Me,MediaError.prototype[MediaError.errorTypes[Me]]=Me;function isPromise(e){return null!=e&&"function"==typeof e.then}function silencePromise(e){isPromise(e)&&e.then(null,function(e){})}function iVa(i){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,n){return i[t]&&(e[t]=i[t]),e},{cues:i.cues&&Array.prototype.map.call(i.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})}var Ie=function textTracksToJson(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=iVa(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(iVa))},Le=function jsonToTextTracks(e,n){return e.forEach(function(e){var t=n.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),n.textTracks()},Oe="vjs-modal-dialog",De=function(i){function ModalDialog(e,t){var n=i.call(this,e,t)||this;return n.handleKeyDown_=function(e){return n.handleKeyDown(e)},n.close_=function(e){return n.close(e)},n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=createEl("div",{className:Oe+"-content"},{role:"document"}),n.descEl_=createEl("p",{className:Oe+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),textContent(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}h()(ModalDialog,i);var e=ModalDialog.prototype;return e.createEl=function createEl(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.dispose=function dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,i.prototype.dispose.call(this)},e.buildCSSClass=function buildCSSClass(){return Oe+" vjs-hidden "+i.prototype.buildCSSClass.call(this)},e.label=function label(){return this.localize(this.options_.label||"Modal Window")},e.description=function description(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},e.open=function open(){var e;this.opened_||(e=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)},e.opened=function opened(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},e.close=function close(){var e;this.opened_&&(e=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose())},e.closeable=function closeable(e){var closeable,t;return"boolean"==typeof e&&(closeable=this.closeable_=!!e,t=this.getChild("closeButton"),closeable&&!t&&(e=this.contentEl_,this.contentEl_=this.el_,t=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(t,"close",this.close_)),!closeable&&t&&(this.off(t,"close",this.close_),this.removeChild(t),t.dispose())),this.closeable_},e.fill=function fill(){this.fillWith(this.content())},e.fillWith=function fillWith(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),insertContent(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);t=this.getChild("closeButton");t&&n.appendChild(t.el_)},e.empty=function empty(){this.trigger("beforemodalempty"),emptyEl(this.contentEl()),this.trigger("modalempty")},e.content=function content(e){return void 0!==e&&(this.content_=e),this.content_},e.conditionalFocus_=function conditionalFocus_(){var e=d.a.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,!t.contains(e)&&t!==e||(this.previouslyActiveEl_=e,this.focus())},e.conditionalBlur_=function conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},e.handleKeyDown=function handleKeyDown(e){if(e.stopPropagation(),a.a.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(a.a.isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),r=0;r<n.length;r++)if(i===n[r]){t=r;break}d.a.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},e.focusableEls_=function focusableEls_(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof v.a.HTMLAnchorElement||e instanceof v.a.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof v.a.HTMLInputElement||e instanceof v.a.HTMLSelectElement||e instanceof v.a.HTMLTextAreaElement||e instanceof v.a.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof v.a.HTMLIFrameElement||e instanceof v.a.HTMLObjectElement||e instanceof v.a.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},ModalDialog}(xe);De.prototype.options_={pauseOnOpen:!0,temporary:!0},xe.registerComponent("ModalDialog",De);var Re,Ne=function(i){function TrackList(e){var t;void 0===e&&(e=[]),(t=i.call(this)||this).tracks_=[],Object.defineProperty(b()(t),"length",{get:function get(){return this.tracks_.length}});for(var n=0;n<e.length;n++)t.addTrack(e[n]);return t}h()(TrackList,i);var e=TrackList.prototype;return e.addTrack=function addTrack(e){var t=this,n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get:function get(){return this.tracks_[n]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},Ce(e)&&e.addEventListener("labelchange",e.labelchange_)},e.removeTrack=function removeTrack(e){for(var t,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},e.getTrackById=function getTrackById(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},TrackList}(OUa);for(Re in Ne.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Ne.prototype.allowedEvents_)Ne.prototype["on"+Re]=null;function qVa(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)}function sVa(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)}function CVa(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=d.a.createElement("a");n.href=e;for(var i={},r=0;r<t.length;r++)i[t[r]]=n[t[r]];return"http:"===i.protocol&&(i.host=i.host.replace(/:80$/,"")),"https:"===i.protocol&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=v.a.location.protocol),i.host||(i.host=v.a.location.host),i}function DVa(e){var t;return e.match(/^https?:\/\//)||((t=d.a.createElement("a")).href=e,e=t.href),e}function IVa(e,i){var t={uri:e};(e=qe(e))&&(t.cors=e),(e="use-credentials"===i.tech_.crossOrigin())&&(t.withCredentials=e),f()(t,Te(this,function(e,t,n){return e?G.error(e,t):(i.loaded_=!0,void("function"!=typeof v.a.WebVTT?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],function(e){return"vttjserror"!==e.type?We(n,i):void G.error("vttjs failed to load, stopping trying to process "+i.src)}):We(n,i)))}))}var m=function(i){function AudioTrackList(e){for(var t,n=(e=void 0===e?[]:e).length-1;0<=n;n--)if(e[n].enabled){qVa(e,e[n]);break}return(t=i.call(this,e)||this).changing_=!1,t}h()(AudioTrackList,i);var e=AudioTrackList.prototype;return e.addTrack=function addTrack(e){var t=this;e.enabled&&qVa(this,e),i.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){t.changing_||(t.changing_=!0,qVa(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},e.removeTrack=function removeTrack(e){i.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},AudioTrackList}(Ne),y=function(i){function VideoTrackList(e){for(var t,n=(e=void 0===e?[]:e).length-1;0<=n;n--)if(e[n].selected){sVa(e,e[n]);break}return(t=i.call(this,e)||this).changing_=!1,Object.defineProperty(b()(t),"selectedIndex",{get:function get(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function set(){}}),t}h()(VideoTrackList,i);var e=VideoTrackList.prototype;return e.addTrack=function addTrack(e){var t=this;e.selected&&sVa(this,e),i.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){t.changing_||(t.changing_=!0,sVa(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},e.removeTrack=function removeTrack(e){i.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},VideoTrackList}(Ne),T=function(n){function TextTrackList(){return n.apply(this,arguments)||this}h()(TextTrackList,n);var e=TextTrackList.prototype;return e.addTrack=function addTrack(e){var t=this;n.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return t.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return t.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},e.removeTrack=function removeTrack(e){n.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},TextTrackList}(Ne),x=function(){function HtmlTrackElementList(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function get(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var e=HtmlTrackElementList.prototype;return e.addTrackElement_=function addTrackElement_(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function get(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},e.getTrackElementByTrack_=function getTrackElementByTrack_(e){for(var t,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.removeTrackElement_=function removeTrackElement_(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},HtmlTrackElementList}(),Be=function(){function TextTrackCueList(e){TextTrackCueList.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function get(){return this.length_}})}var e=TextTrackCueList.prototype;return e.setCues_=function setCues_(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;function n60(e){""+e in this||Object.defineProperty(this,""+e,{get:function get(){return this.cues_[e]}})}if(t<i)for(n=t;n<i;n++)n60.call(this,n)},e.getCueById=function getCueById(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},TextTrackCueList}(),je={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Fe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ue={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ve={disabled:"disabled",hidden:"hidden",showing:"showing"},K=function(o){function Track(e){void 0===e&&(e={});function z60(e){Object.defineProperty(b()(n),e,{get:function get(){return i[e]},set:function set(){}})}var t,n=o.call(this)||this,i={id:e.id||"vjs_track_"+me++,kind:e.kind||"",language:e.language||""},r=e.label||"";for(t in i)z60(t);return Object.defineProperty(b()(n),"label",{get:function get(){return r},set:function set(e){e!==r&&(r=e,this.trigger("labelchange"))}}),n}return h()(Track,o),Track}(OUa),He=function getFileExtension(e){if("string"==typeof e){e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(e)return e.pop().toLowerCase()}return""},qe=function isCrossOrigin(e,t){void 0===t&&(t=v.a.location);e=CVa(e);return(":"===e.protocol?t:e).protocol+e.host!==t.protocol+t.host},n=Object.freeze({__proto__:null,parseUrl:CVa,getAbsoluteURL:DVa,getFileExtension:He,isCrossOrigin:qe}),We=function parseCues(e,t){var n=new v.a.WebVTT.Parser(v.a,v.a.vttjs,v.a.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),0<i.length&&(v.a.console&&v.a.console.groupCollapsed&&v.a.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach(function(e){return G.error(e)}),v.a.console&&v.a.console.groupEnd&&v.a.console.groupEnd()),n.flush()},Ge=function(o){function TextTrack(e){var t;if(!(e=void 0===e?{}:e).tech)throw new Error("A tech was not provided.");var e=mergeOptions$3(e,{kind:Ue[e.kind]||"subtitles",language:e.language||e.srclang||""}),n=Ve[e.mode]||"disabled",i=e.default;"metadata"!==e.kind&&"chapters"!==e.kind||(n="hidden"),(t=o.call(this,e)||this).tech_=e.tech,t.cues_=[],t.activeCues_=[],t.preload_=!1!==t.tech_.preloadTextTracks;var r=new Be(t.cues_),a=new Be(t.activeCues_),s=!1;return t.timeupdateHandler=Te(b()(t),function(e){void 0===e&&(e={}),this.tech_.isDisposed()||(this.tech_.isReady_&&(this.activeCues=this.activeCues,s&&(this.trigger("cuechange"),s=!1)),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}),t.tech_.one("dispose",function disposeHandler(){t.stopTracking()}),"disabled"!==n&&t.startTracking(),Object.defineProperties(b()(t),{default:{get:function get(){return i},set:function set(){}},mode:{get:function get(){return n},set:function set(e){Ve[e]&&n!==e&&(n=e,this.preload_||"disabled"===n||0!==this.cues.length||IVa(this.src,this),this.stopTracking(),"disabled"!==n&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function get(){return this.loaded_?r:null},set:function set(){}},activeCues:{get:function get(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=e&&r.endTime>=e||r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e)&&t.push(r)}if(s=!1,t.length!==this.activeCues_.length)s=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(s=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set:function set(){}}}),e.src?(t.src=e.src,t.preload_||(t.loaded_=!0),(t.preload_||"subtitles"!==e.kind&&"captions"!==e.kind)&&IVa(t.src,b()(t))):t.loaded_=!0,t}h()(TextTrack,o);var e=TextTrack.prototype;return e.startTracking=function startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},e.stopTracking=function stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},e.addCue=function addCue(e){var t=e;if(v.a.vttjs&&!(e instanceof v.a.vttjs.VTTCue)){for(var n in t=new v.a.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},e.removeCue=function removeCue(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},TextTrack}(K);Ge.prototype.allowedEvents_={cuechange:"cuechange"};X=function(i){function AudioTrack(e){var t=mergeOptions$3(e=void 0===e?{}:e,{kind:Fe[e.kind]||""}),e=i.call(this,t)||this,n=!1;return Object.defineProperty(b()(e),"enabled",{get:function get(){return n},set:function set(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("enabledchange"))}}),t.enabled&&(e.enabled=t.enabled),e.loaded_=!0,e}return h()(AudioTrack,i),AudioTrack}(K),r=function(i){function VideoTrack(e){var t=mergeOptions$3(e=void 0===e?{}:e,{kind:je[e.kind]||""}),e=i.call(this,t)||this,n=!1;return Object.defineProperty(b()(e),"selected",{get:function get(){return n},set:function set(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("selectedchange"))}}),t.selected&&(e.selected=t.selected),e}return h()(VideoTrack,i),VideoTrack}(K),o=function(r){function HTMLTrackElement(e){var t;void 0===e&&(e={});var n=r.call(this)||this,i=new Ge(e);return n.kind=i.kind,n.src=i.src,n.srclang=i.language,n.label=i.label,n.default=i.default,Object.defineProperties(b()(n),{readyState:{get:function get(){return t}},track:{get:function get(){return i}}}),t=0,i.addEventListener("loadeddata",function(){t=2,n.trigger({type:"load",target:b()(n)})}),n}return h()(HTMLTrackElement,r),HTMLTrackElement}(OUa);o.prototype.allowedEvents_={load:"load"},o.NONE=0,o.LOADING=1,o.LOADED=2,o.ERROR=3;var $e={audio:{ListClass:m,TrackClass:X,capitalName:"Audio"},video:{ListClass:y,TrackClass:r,capitalName:"Video"},text:{ListClass:T,TrackClass:Ge,capitalName:"Text"}};Object.keys($e).forEach(function(e){$e[e].getterName=e+"Tracks",$e[e].privateName=e+"Tracks_"});var ze={remoteText:{ListClass:T,TrackClass:Ge,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:x,TrackClass:o,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Ye=u()({},$e,ze);ze.names=Object.keys(ze),$e.names=Object.keys($e),Ye.names=[].concat(ze.names).concat($e.names);var Ke=function(i){function Tech(t,e){var n;return void 0===e&&(e=function ready(){}),(t=void 0===t?{}:t).reportTouchActivity=!1,(n=i.call(this,null,t,e)||this).onDurationChange_=function(e){return n.onDurationChange(e)},n.trackProgress_=function(e){return n.trackProgress(e)},n.trackCurrentTime_=function(e){return n.trackCurrentTime(e)},n.stopTrackingCurrentTime_=function(e){return n.stopTrackingCurrentTime(e)},n.disposeSourceHandler_=function(e){return n.disposeSourceHandler(e)},n.queuedHanders_=new Set,n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),Ye.names.forEach(function(e){e=Ye[e];t&&t[e.getterName]&&(n[e.privateName]=t[e.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===t["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==t.preloadTextTracks,n.autoRemoteTextTracks_=new Ye.text.ListClass,n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}h()(Tech,i);var e=Tech.prototype;return e.triggerSourceset=function triggerSourceset(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},e.manualProgressOn=function manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},e.manualProgressOff=function manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},e.trackProgress=function trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Te(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},e.onDurationChange=function onDurationChange(e){this.duration_=this.duration()},e.buffered=function buffered(){return createTimeRanges(0,0)},e.bufferedPercent=function bufferedPercent$1(){return bufferedPercent(this.buffered(),this.duration_)},e.stopTrackingProgress=function stopTrackingProgress(){this.clearInterval(this.progressInterval)},e.manualTimeUpdatesOn=function manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},e.manualTimeUpdatesOff=function manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},e.trackCurrentTime=function trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.stopTrackingCurrentTime=function stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.dispose=function dispose(){this.clearTracks($e.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),i.prototype.dispose.call(this)},e.clearTracks=function clearTracks(e){var r=this;(e=[].concat(e)).forEach(function(e){for(var t=r[e+"Tracks"]()||[],n=t.length;n--;){var i=t[n];"text"===e&&r.removeRemoteTextTrack(i),t.removeTrack(i)}})},e.cleanupAutoTextTracks=function cleanupAutoTextTracks(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},e.reset=function reset(){},e.crossOrigin=function crossOrigin(){},e.setCrossOrigin=function setCrossOrigin(){},e.error=function error(e){return void 0!==e&&(this.error_=new MediaError(e),this.trigger("error")),this.error_},e.played=function played(){return this.hasStarted_?createTimeRanges(0,0):createTimeRanges()},e.play=function play(){},e.setScrubbing=function setScrubbing(){},e.scrubbing=function scrubbing(){},e.setCurrentTime=function setCurrentTime(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.initTrackListeners=function initTrackListeners(){var i=this;$e.names.forEach(function(e){function J70(){i.trigger(e+"trackchange")}var t=$e[e],n=i[t.getterName]();n.addEventListener("removetrack",J70),n.addEventListener("addtrack",J70),i.on("dispose",function(){n.removeEventListener("removetrack",J70),n.removeEventListener("addtrack",J70)})})},e.addWebVttScript_=function addWebVttScript_(){var e,t=this;v.a.WebVTT||(d.a.body.contains(this.el())?!this.options_["vtt.js"]&&isPlain(g.a)&&0<Object.keys(g.a).length?this.trigger("vttjsloaded"):((e=d.a.createElement("script")).src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),v.a.WebVTT=!0,this.el().parentNode.appendChild(e)):this.ready(this.addWebVttScript_))},e.emulateTextTracks=function emulateTextTracks(){function Q70(e){return n.addTrack(e.track)}function R70(e){return n.removeTrack(e.track)}var e=this,n=this.textTracks(),t=this.remoteTextTracks();t.on("addtrack",Q70),t.on("removetrack",R70),this.addWebVttScript_();function T70(){i();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",i),"showing"===t.mode&&t.addEventListener("cuechange",i)}}var i=function updateDisplay(){return e.trigger("texttrackchange")};T70(),n.addEventListener("change",T70),n.addEventListener("addtrack",T70),n.addEventListener("removetrack",T70),this.on("dispose",function(){t.off("addtrack",Q70),t.off("removetrack",R70),n.removeEventListener("change",T70),n.removeEventListener("addtrack",T70),n.removeEventListener("removetrack",T70);for(var e=0;e<n.length;e++)n[e].removeEventListener("cuechange",i)})},e.addTextTrack=function addTextTrack(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function createTrackHelper(e,t,n,i,r){void 0===r&&(r={});var o=e.textTracks();return r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e,r=new Ye.text.TrackClass(r),o.addTrack(r),r}(this,e,t,n)},e.createRemoteTextTrack=function createRemoteTextTrack(e){e=mergeOptions$3(e,{tech:this});return new ze.remoteTextEl.TrackClass(e)},e.addRemoteTextTrack=function addRemoteTextTrack(e,t){var n=this,i=this.createRemoteTextTrack(e=void 0===e?{}:e);return!0!==t&&!1!==t&&(G.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==t&&this.ready(function(){return n.autoRemoteTextTracks_.addTrack(i.track)}),i},e.removeRemoteTextTrack=function removeRemoteTextTrack(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},e.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return{}},e.requestPictureInPicture=function requestPictureInPicture(){var e=this.options_.Promise||v.a.Promise;if(e)return e.reject()},e.disablePictureInPicture=function disablePictureInPicture(){return!0},e.setDisablePictureInPicture=function setDisablePictureInPicture(){},e.requestVideoFrameCallback=function requestVideoFrameCallback(e){var t=this,n=me++;return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",function(){t.queuedHanders_.has(n)&&(t.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n},e.cancelVideoFrameCallback=function cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},e.setPoster=function setPoster(){},e.playsinline=function playsinline(){},e.setPlaysinline=function setPlaysinline(){},e.overrideNativeAudioTracks=function overrideNativeAudioTracks(){},e.overrideNativeVideoTracks=function overrideNativeVideoTracks(){},e.canPlayType=function canPlayType(){return""},Tech.canPlayType=function canPlayType(){return""},Tech.canPlaySource=function canPlaySource(e,t){return Tech.canPlayType(e.type)},Tech.isTech=function isTech(e){return e.prototype instanceof Tech||e instanceof Tech||e===Tech},Tech.registerTech=function registerTech(e,t){if(Tech.techs_||(Tech.techs_={}),!Tech.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!Tech.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Tech.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=aVa(e),Tech.techs_[e]=t,Tech.techs_[_Ua(e)]=t,"Tech"!==e&&Tech.defaultTechOrder_.push(e),t},Tech.getTech=function getTech(e){if(e)return Tech.techs_&&Tech.techs_[e]?Tech.techs_[e]:(e=aVa(e),v.a&&v.a.videojs&&v.a.videojs[e]?(G.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),v.a.videojs[e]):void 0)},Tech}(xe);Ye.names.forEach(function(e){var t=Ye[e];Ke.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Ke.prototype.featuresVolumeControl=!0,Ke.prototype.featuresMuteControl=!0,Ke.prototype.featuresFullscreenResize=!1,Ke.prototype.featuresPlaybackRate=!1,Ke.prototype.featuresProgressEvents=!1,Ke.prototype.featuresSourceset=!1,Ke.prototype.featuresTimeupdateEvents=!1,Ke.prototype.featuresNativeTextTracks=!1,Ke.prototype.featuresVideoFrameCallback=!1,Ke.withSourceHandlers=function(r){r.registerSourceHandler=function(e,t){var n=(n=r.sourceHandlers)||(r.sourceHandlers=[]);void 0===t&&(t=n.length),n.splice(t,0,e)},r.canPlayType=function(e){for(var t,n=r.sourceHandlers||[],i=0;i<n.length;i++)if(t=n[i].canPlayType(e))return t;return""},r.selectSourceHandler=function(e,t){for(var n=r.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(e,t))return n[i];return null},r.canPlaySource=function(e,t){var n=r.selectSourceHandler(e,t);return n?n.canHandleSource(e,t):""};["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(e){var t=r.selectSourceHandler(e,this.options_);t||(r.nativeSourceHandler?t=r.nativeSourceHandler:G.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),t!==r.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},xe.registerComponent("Tech",Ke),Ke.registerTech("Tech",Ke),Ke.defaultTechOrder_=[];var Xe={},Qe={},Ze={};function setSource(e,t,n){e.setTimeout(function(){return function setSourceHelper(n,e,i,r,o,a){void 0===n&&(n={});void 0===e&&(e=[]);void 0===o&&(o=[]);void 0===a&&(a=!1);var t=e,e=t[0],s=t.slice(1);if("string"==typeof e)setSourceHelper(n,Xe[e],i,r,o,a);else if(e){var l=getOrCreateFactory(r,e);if(!l.setSource)return o.push(l),setSourceHelper(n,s,i,r,o,a);l.setSource(assign({},n),function(e,t){return e?setSourceHelper(n,s,i,r,o,a):(o.push(l),void setSourceHelper(t,n.type===t.type?s:Xe[t.type],i,r,o,a))})}else s.length?setSourceHelper(n,s,i,r,o,a):a?i(n,o):setSourceHelper(n,Xe["*"],i,r,o,!0)}(t,Xe[t.type],n,e)},1)}function mediate(e,t,n,i){void 0===i&&(i=null);var r="call"+aVa(n),r=e.reduce(middlewareIterator(r),i),i=r===Ze,r=i?null:t[n](r);return function executeRight(e,t,n,i){for(var r=e.length-1;0<=r;r--){var o=e[r];o[t]&&o[t](i,n)}}(e,n,r,i),r}var Je={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},et={setCurrentTime:1,setMuted:1,setVolume:1},tt={play:1,pause:1};function middlewareIterator(n){return function(e,t){return e===Ze?Ze:t[n]?t[n](e):e}}function getOrCreateFactory(e,t){var n=Qe[e.id()],i=null;if(null==n)return i=t(e),Qe[e.id()]=[[t,i]],i;for(var r=0;r<n.length;r++){var o=n[r],a=o[0],o=o[1];a===t&&(i=o)}return null===i&&(i=t(e),n.push([t,i])),i}function bWa(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(e){return e.src===t});if(n.length)return n[0].type;for(var i=e.$$("source"),r=0;r<i.length;r++){var o=i[r];if(o.type&&o.src&&o.src===t)return o.type}return it(t)}function cWa(e){var t;return e=Array.isArray(e)?(t=[],e.forEach(function(e){e=cWa(e),Array.isArray(e)?t=t.concat(e):isObject(e)&&t.push(e)}),t):"string"==typeof e&&e.trim()?[fixSource({src:e})]:isObject(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[fixSource(e)]:[]}var nt={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},it=function getMimetype(e){e=He(e=void 0===e?"":e);return nt[e.toLowerCase()]||""};function fixSource(e){var t;return e.type||(t=it(e.src))&&(e.type=t),e}t=function(l){function MediaLoader(e,t,n){var i=mergeOptions$3({createEl:!1},t),n=l.call(this,e,i,n)||this;if(t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var r=0,o=t.playerOptions.techOrder;r<o.length;r++){var a=aVa(o[r]),s=Ke.getTech(a);if((s=!a?xe.getComponent(a):s)&&s.isSupported()){e.loadTech_(a);break}}return n}return h()(MediaLoader,l),MediaLoader}(xe);xe.registerComponent("MediaLoader",t);i=function(i){function ClickableComponent(e,t){var n=i.call(this,e,t)||this;return n.options_.controlText&&n.controlText(n.options_.controlText),n.handleMouseOver_=function(e){return n.handleMouseOver(e)},n.handleMouseOut_=function(e){return n.handleMouseOut(e)},n.handleClick_=function(e){return n.handleClick(e)},n.handleKeyDown_=function(e){return n.handleKeyDown(e)},n.emitTapEvents(),n.enable(),n}h()(ClickableComponent,i);var e=ClickableComponent.prototype;return e.createEl=function createEl$1(e,t,n){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={}),t=assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&G.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=assign({role:"button"},n),this.tabIndex_=t.tabIndex;n=createEl(e,t,n);return n.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n},e.dispose=function dispose(){this.controlTextEl_=null,i.prototype.dispose.call(this)},e.createControlTextEl=function createControlTextEl(e){return this.controlTextEl_=createEl("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},e.controlText=function controlText(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,textContent(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)},e.buildCSSClass=function buildCSSClass(){return"vjs-control vjs-button "+i.prototype.buildCSSClass.call(this)},e.enable=function enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},e.disable=function disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},e.handleLanguagechange=function handleLanguagechange(){this.controlText(this.controlText_)},e.handleClick=function handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},e.handleKeyDown=function handleKeyDown(e){a.a.isEventKey(e,"Space")||a.a.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):i.prototype.handleKeyDown.call(this,e)},ClickableComponent}(xe);xe.registerComponent("ClickableComponent",i);s=function(i){function PosterImage(e,t){var n=i.call(this,e,t)||this;return n.update(),n.update_=function(e){return n.update(e)},e.on("posterchange",n.update_),n}h()(PosterImage,i);var e=PosterImage.prototype;return e.dispose=function dispose(){this.player().off("posterchange",this.update_),i.prototype.dispose.call(this)},e.createEl=function createEl$1(){return createEl("div",{className:"vjs-poster",tabIndex:-1})},e.update=function update(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},e.setSrc=function setSrc(e){e=e?'url("'+e+'")':"";this.el_.style.backgroundImage=e},e.handleClick=function handleClick(e){var t;this.player_.controls()&&(t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length,!this.player_.tech(!0)||(re||te)&&t||this.player_.tech(!0).focus(),this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause())},PosterImage}(i);xe.registerComponent("PosterImage",s);var rt={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function constructColor(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function tryUpdateStyle(e,t,n){try{e.style[t]=n}catch(e){return}}l=function(r){function TextTrackDisplay(n,e,t){function e90(e){return i.updateDisplay(e)}var i=r.call(this,n,e,t)||this;return n.on("loadstart",function(e){return i.toggleDisplay(e)}),n.on("texttrackchange",e90),n.on("loadedmetadata",function(e){return i.preselectTrack(e)}),n.ready(Te(b()(i),function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",e90),n.on("playerresize",e90),v.a.addEventListener("orientationchange",e90),n.on("dispose",function(){return v.a.removeEventListener("orientationchange",e90)});for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),i}h()(TextTrackDisplay,r);var e=TextTrackDisplay.prototype;return e.preselectTrack=function preselectTrack(){for(var e,t,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var s=r[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in i?n=s.kind!==o.kind&&n||s:o&&!o.enabled?t=e=n=null:s.default&&("descriptions"!==s.kind||e?s.kind in i&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},e.toggleDisplay=function toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.createEl=function createEl(){return r.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},e.clearDisplay=function clearDisplay(){"function"==typeof v.a.WebVTT&&v.a.WebVTT.processCues(v.a,[],this.el_)},e.updateDisplay=function updateDisplay(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],i=0;i<e.length;++i){var r=e[i];"showing"===r.mode&&n.push(r)}this.updateForTrack(n)}else{for(var o=null,a=null,s=e.length;s--;){var l=e[s];"showing"===l.mode&&("descriptions"===l.kind?o=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},e.updateDisplayState=function updateDisplayState(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,i=n.length;i--;){var r,o=n[i];o&&(r=o.displayState,t.color&&(r.firstChild.style.color=t.color),t.textOpacity&&tryUpdateStyle(r.firstChild,"color",constructColor(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(r.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&tryUpdateStyle(r.firstChild,"backgroundColor",constructColor(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?tryUpdateStyle(r,"backgroundColor",constructColor(t.windowColor,t.windowOpacity)):r.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?r.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?r.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?r.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(r.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent&&(o=v.a.parseFloat(r.style.fontSize),r.style.fontSize=o*t.fontPercent+"px",r.style.height="auto",r.style.top="auto"),t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=rt[t.fontFamily]))}},e.updateForTrack=function updateForTrack(e){if(Array.isArray(e)||(e=[e]),"function"==typeof v.a.WebVTT&&!e.every(function(e){return!e.activeCues})){for(var t=[],n=0;n<e.length;++n)for(var i=e[n],r=0;r<i.activeCues.length;++r)t.push(i.activeCues[r]);v.a.WebVTT.processCues(v.a,t,this.el_);for(var o=0;o<e.length;++o){for(var a=e[o],s=0;s<a.activeCues.length;++s){var l=a.activeCues[s].displayState;addClass(l,"vjs-text-track-cue"),addClass(l,"vjs-text-track-cue-"+(a.language||o)),a.language&&setAttribute(l,"lang",a.language)}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},TextTrackDisplay}(xe);xe.registerComponent("TextTrackDisplay",l),xe.registerComponent("LoadingSpinner",function(n){function LoadingSpinner(){return n.apply(this,arguments)||this}return h()(LoadingSpinner,n),LoadingSpinner.prototype.createEl=function createEl$1(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),e=createEl("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),t=n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return t.appendChild(e),t},LoadingSpinner}(xe));var ot=function(t){function Button(){return t.apply(this,arguments)||this}h()(Button,t);var e=Button.prototype;return e.createEl=function createEl$1(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});n=createEl("button",t=assign({className:this.buildCSSClass()},t),n=assign({type:"button"},n));return n.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n},e.addChild=function addChild(e,t){void 0===t&&(t={});var n=this.constructor.name;return G.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),xe.prototype.addChild.call(this,e,t)},e.enable=function enable(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.disable=function disable(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.handleKeyDown=function handleKeyDown(e){a.a.isEventKey(e,"Space")||a.a.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},Button}(i);xe.registerComponent("Button",ot);var at=function(i){function BigPlayButton(e,t){var n=i.call(this,e,t)||this;return n.mouseused_=!1,n.on("mousedown",function(e){return n.handleMouseDown(e)}),n}h()(BigPlayButton,i);var e=BigPlayButton.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-big-play-button"},e.handleClick=function handleClick(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length;return silencePromise(t),void(!this.player_.tech(!0)||(re||te)&&n||this.player_.tech(!0).focus())}var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");i?(n=function playFocus(){return i.focus()},isPromise(t)?t.then(n,function(){}):this.setTimeout(n,1)):this.player_.tech(!0).focus()},e.handleKeyDown=function handleKeyDown(e){this.mouseused_=!1,i.prototype.handleKeyDown.call(this,e)},e.handleMouseDown=function handleMouseDown(e){this.mouseused_=!0},BigPlayButton}(ot);at.prototype.controlText_="Play Video",xe.registerComponent("BigPlayButton",at);K=function(n){function CloseButton(e,t){e=n.call(this,e,t)||this;return e.controlText(t&&t.controlText||e.localize("Close")),e}h()(CloseButton,n);var e=CloseButton.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},e.handleClick=function handleClick(e){this.trigger({type:"close",bubbles:!1})},e.handleKeyDown=function handleKeyDown(e){a.a.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,e)},CloseButton}(ot);xe.registerComponent("CloseButton",K);m=function(i){function PlayToggle(e,t){var n=i.call(this,e,t=void 0===t?{}:t)||this;return t.replay=void 0===t.replay||t.replay,n.on(e,"play",function(e){return n.handlePlay(e)}),n.on(e,"pause",function(e){return n.handlePause(e)}),t.replay&&n.on(e,"ended",function(e){return n.handleEnded(e)}),n}h()(PlayToggle,i);var e=PlayToggle.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-play-control "+i.prototype.buildCSSClass.call(this)},e.handleClick=function handleClick(e){this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()},e.handleSeeked=function handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},e.handlePlay=function handlePlay(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.handlePause=function handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.handleEnded=function handleEnded(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(e){return t.handleSeeked(e)})},PlayToggle}(ot);m.prototype.controlText_="Play",xe.registerComponent("PlayToggle",m);function pWa(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),o=Math.floor(t/60%60),t=Math.floor(t/3600);return(r=0<(r=isNaN(e)||e===1/0?i=n="-":r)||0<t?r+":":"")+(i=((r||10<=o)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)}var st=pWa;function formatTime(e,t){return st(e,t=void 0===t?e:t)}y=function(i){function TimeDisplay(e,t){var n=i.call(this,e,t)||this;return n.on(e,["timeupdate","ended"],function(e){return n.updateContent(e)}),n.updateTextNode_(),n}h()(TimeDisplay,i);var e=TimeDisplay.prototype;return e.createEl=function createEl$1(){var e=this.buildCSSClass(),t=i.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control"}),n=createEl("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+""},{role:"presentation"});return t.appendChild(n),this.contentEl_=createEl("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),t.appendChild(this.contentEl_),t},e.dispose=function dispose(){this.contentEl_=null,this.textNode_=null,i.prototype.dispose.call(this)},e.updateTextNode_=function updateTextNode_(e){var t=this;e=formatTime(e=void 0===e?0:e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){var e;t.contentEl_&&((e=t.textNode_)&&t.contentEl_.firstChild!==e&&(e=null,G.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=d.a.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_)))}))},e.updateContent=function updateContent(e){},TimeDisplay}(xe);y.prototype.labelText_="Time",y.prototype.controlText_="Time",xe.registerComponent("TimeDisplay",y);T=function(e){function CurrentTimeDisplay(){return e.apply(this,arguments)||this}h()(CurrentTimeDisplay,e);var t=CurrentTimeDisplay.prototype;return t.buildCSSClass=function buildCSSClass(){return"vjs-current-time"},t.updateContent=function updateContent(e){var t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateTextNode_(t)},CurrentTimeDisplay}(y);T.prototype.labelText_="Current Time",T.prototype.controlText_="Current Time",xe.registerComponent("CurrentTimeDisplay",T);x=function(i){function DurationDisplay(e,t){function ul0(e){return n.updateContent(e)}var n=i.call(this,e,t)||this;return n.on(e,"durationchange",ul0),n.on(e,"loadstart",ul0),n.on(e,"loadedmetadata",ul0),n}h()(DurationDisplay,i);var e=DurationDisplay.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-duration"},e.updateContent=function updateContent(e){var t=this.player_.duration();this.updateTextNode_(t)},DurationDisplay}(y);x.prototype.labelText_="Duration",x.prototype.controlText_="Duration",xe.registerComponent("DurationDisplay",x),xe.registerComponent("TimeDivider",function(i){function TimeDivider(){return i.apply(this,arguments)||this}return h()(TimeDivider,i),TimeDivider.prototype.createEl=function createEl(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=i.prototype.createEl.call(this,"div"),n=i.prototype.createEl.call(this,"span",{textContent:"/"});return t.appendChild(n),e.appendChild(t),e},TimeDivider}(xe));o=function(i){function RemainingTimeDisplay(e,t){var n=i.call(this,e,t)||this;return n.on(e,"durationchange",function(e){return n.updateContent(e)}),n}h()(RemainingTimeDisplay,i);var e=RemainingTimeDisplay.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-remaining-time"},e.createEl=function createEl$1(){var e=i.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&e.insertBefore(createEl("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},e.updateContent=function updateContent(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},RemainingTimeDisplay}(y);o.prototype.labelText_="Remaining Time",o.prototype.controlText_="Remaining Time",xe.registerComponent("RemainingTimeDisplay",o);t=function(i){function LiveDisplay(e,t){var n=i.call(this,e,t)||this;return n.updateShowing(),n.on(n.player(),"durationchange",function(e){return n.updateShowing(e)}),n}h()(LiveDisplay,i);var e=LiveDisplay.prototype;return e.createEl=function createEl$1(){var e=i.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(createEl("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+""})),this.contentEl_.appendChild(d.a.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e},e.dispose=function dispose(){this.contentEl_=null,i.prototype.dispose.call(this)},e.updateShowing=function updateShowing(e){this.player().duration()===1/0?this.show():this.hide()},LiveDisplay}(xe);xe.registerComponent("LiveDisplay",t);s=function(i){function SeekToLive(e,t){var n=i.call(this,e,t)||this;return n.updateLiveEdgeStatus(),n.player_.liveTracker&&(n.updateLiveEdgeStatusHandler_=function(e){return n.updateLiveEdgeStatus(e)},n.on(n.player_.liveTracker,"liveedgechange",n.updateLiveEdgeStatusHandler_)),n}h()(SeekToLive,i);var e=SeekToLive.prototype;return e.createEl=function createEl$1(){var e=i.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=createEl("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},e.updateLiveEdgeStatus=function updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},e.handleClick=function handleClick(){this.player_.liveTracker.seekToLiveEdge()},e.dispose=function dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,i.prototype.dispose.call(this)},SeekToLive}(ot);s.prototype.controlText_="Seek to live, currently playing live",xe.registerComponent("SeekToLive",s);function yWa(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))}l=function(i){function Slider(e,t){var n=i.call(this,e,t)||this;return n.handleMouseDown_=function(e){return n.handleMouseDown(e)},n.handleMouseUp_=function(e){return n.handleMouseUp(e)},n.handleKeyDown_=function(e){return n.handleKeyDown(e)},n.handleClick_=function(e){return n.handleClick(e)},n.handleMouseMove_=function(e){return n.handleMouseMove(e)},n.update_=function(e){return n.update(e)},n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}h()(Slider,i);var e=Slider.prototype;return e.enabled=function enabled(){return this.enabled_},e.enable=function enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.disable=function disable(){var e;this.enabled()&&(e=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)},e.createEl=function createEl(e,t,n){return void 0===n&&(n={}),(t=void 0===t?{}:t).className=t.className+" vjs-slider",t=assign({tabIndex:0},t),n=assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),i.prototype.createEl.call(this,e,t,n)},e.handleMouseDown=function handleMouseDown(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||ne||e.preventDefault(),blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},e.handleMouseMove=function handleMouseMove(e){},e.handleMouseUp=function handleMouseUp(){var e=this.bar.el_.ownerDocument;unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},e.update=function update(){var t=this;if(this.el_&&this.bar){var n=this.getProgress();return n===this.progress_?n:(this.progress_=n,this.requestNamedAnimationFrame("Slider#update",function(){var e=t.vertical()?"height":"width";t.bar.el().style[e]=(100*n).toFixed(2)+"%"}),n)}},e.getProgress=function getProgress(){return Number(yWa(this.getPercent(),0,1).toFixed(4))},e.calculateDistance=function calculateDistance(e){e=getPointerPosition(this.el_,e);return this.vertical()?e.y:e.x},e.handleKeyDown=function handleKeyDown(e){a.a.isEventKey(e,"Left")||a.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):a.a.isEventKey(e,"Right")||a.a.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):i.prototype.handleKeyDown.call(this,e)},e.handleClick=function handleClick(e){e.stopPropagation(),e.preventDefault()},e.vertical=function vertical(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},Slider}(xe);xe.registerComponent("Slider",l);function AWa(e,t){return yWa(e/t*100,0,100).toFixed(2)+"%"}at=function(r){function LoadProgressBar(e,t){var n=r.call(this,e,t)||this;return n.partEls_=[],n.on(e,"progress",function(e){return n.update(e)}),n}h()(LoadProgressBar,r);var e=LoadProgressBar.prototype;return e.createEl=function createEl$1(){var e=r.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),t=createEl("span",{className:"vjs-control-text"}),n=createEl("span",{textContent:this.localize("Loaded")}),i=d.a.createTextNode(": ");return this.percentageEl_=createEl("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(n),t.appendChild(i),t.appendChild(this.percentageEl_),e},e.dispose=function dispose(){this.partEls_=null,this.percentageEl_=null,r.prototype.dispose.call(this)},e.update=function update(e){var u=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var e=u.player_.liveTracker,t=u.player_.buffered(),e=e&&e.isLive()?e.seekableEnd():u.player_.duration(),n=u.player_.bufferedEnd(),i=u.partEls_,e=AWa(n,e);u.percent_!==e&&(u.el_.style.width=e,textContent(u.percentageEl_,e),u.percent_=e);for(var r=0;r<t.length;r++){var o=t.start(r),a=t.end(r),s=i[r];s||(s=u.el_.appendChild(createEl()),i[r]=s),s.dataset.start===o&&s.dataset.end===a||(s.dataset.start=o,s.dataset.end=a,s.style.left=AWa(o,n),s.style.width=AWa(a-o,n))}for(var l=i.length;l>t.length;l--)u.el_.removeChild(i[l-1]);i.length=t.length})},LoadProgressBar}(xe);xe.registerComponent("LoadProgressBar",at);K=function(n){function TimeTooltip(e,t){t=n.call(this,e,t)||this;return t.update=MUa(Te(b()(t),t.update),30),t}h()(TimeTooltip,n);var e=TimeTooltip.prototype;return e.createEl=function createEl(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},e.update=function update(e,t,n){var i=findPosition(this.el_),r=getBoundingClientRect(this.player_.el()),o=e.width*t;r&&i&&(t=e.left-r.left+o,r=e.width-o+(r.right-e.right),t<(e=i.width/2)?e+=e-t:r<e&&(e=r),e<0?e=0:e>i.width&&(e=i.width),e=Math.round(e),this.el_.style.right="-"+e+"px",this.write(n))},e.write=function write(e){textContent(this.el_,e)},e.updateTime=function updateTime(i,r,o,a){var s=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var e,t,n=s.player_.duration();n=s.player_.liveTracker&&s.player_.liveTracker.isLive()?((t=(e=s.player_.liveTracker.liveWindow())-r*e)<1?"":"-")+formatTime(t,e):formatTime(o,n),s.update(i,r,n),a&&a()})},TimeTooltip}(xe);xe.registerComponent("TimeTooltip",K);m=function(n){function PlayProgressBar(e,t){t=n.call(this,e,t)||this;return t.update=MUa(Te(b()(t),t.update),30),t}h()(PlayProgressBar,n);var e=PlayProgressBar.prototype;return e.createEl=function createEl(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},e.update=function update(e,t){var n,i=this.getChild("timeTooltip");i&&(n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),i.updateTime(e,t,n))},PlayProgressBar}(xe);m.prototype.options_={children:[]},le||Q||m.prototype.options_.children.push("timeTooltip"),xe.registerComponent("PlayProgressBar",m);T=function(n){function MouseTimeDisplay(e,t){t=n.call(this,e,t)||this;return t.update=MUa(Te(b()(t),t.update),30),t}h()(MouseTimeDisplay,n);var e=MouseTimeDisplay.prototype;return e.createEl=function createEl(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.update=function update(e,t){var n=this,i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,function(){n.el_.style.left=e.width*t+"px"})},MouseTimeDisplay}(xe);T.prototype.options_={children:["timeTooltip"]},xe.registerComponent("MouseTimeDisplay",T);x=function(o){function SeekBar(e,t){t=o.call(this,e,t)||this;return t.setEventHandlers_(),t}h()(SeekBar,o);var e=SeekBar.prototype;return e.setEventHandlers_=function setEventHandlers_(){var t=this;this.update_=Te(this,this.update),this.update=MUa(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(e){return t.enableInterval_(e)},this.disableIntervalHandler_=function(e){return t.disableInterval_(e)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in d.a&&"visibilityState"in d.a&&this.on(d.a,"visibilitychange",this.toggleVisibility_)},e.toggleVisibility_=function toggleVisibility_(e){"hidden"===d.a.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},e.enableInterval_=function enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},e.disableInterval_=function disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},e.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.update=function update(e){var i=this;if("hidden"!==d.a.visibilityState){var r=o.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var e=i.player_.ended()?i.player_.duration():i.getCurrentTime_(),t=i.player_.liveTracker,n=i.player_.duration();t&&t.isLive()&&(n=i.player_.liveTracker.liveCurrentTime()),i.percent_!==r&&(i.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),i.percent_=r),i.currentTime_===e&&i.duration_===n||(i.el_.setAttribute("aria-valuetext",i.localize("progress bar timing: currentTime={1} duration={2}",[formatTime(e,n),formatTime(n,n)],"{1} of {2}")),i.currentTime_=e,i.duration_=n),i.bar&&i.bar.update(getBoundingClientRect(i.el()),i.getProgress())}),r}},e.userSeek_=function userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},e.getCurrentTime_=function getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.getPercent=function getPercent(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},e.handleMouseDown=function handleMouseDown(e){isSingleLeftClick(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),o.prototype.handleMouseDown.call(this,e))},e.handleMouseMove=function handleMouseMove(e,t){if(void 0===t&&(t=!1),isSingleLeftClick(e)){t||this.player_.scrubbing()||this.player_.scrubbing(!0);var n=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){if(.99<=n)return void i.seekToLiveEdge();var r,t=i.seekableStart(),e=i.liveCurrentTime();if((r=(r=e<=(r=t+n*i.liveWindow())?e:r)<=t?t+.1:r)===1/0)return}else(r=n*this.player_.duration())===this.player_.duration()&&(r-=.1);this.userSeek_(r)}},e.enable=function enable(){o.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},e.disable=function disable(){o.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},e.handleMouseUp=function handleMouseUp(e){o.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?silencePromise(this.player_.play()):this.update_()},e.stepForward=function stepForward(){this.userSeek_(this.player_.currentTime()+5)},e.stepBack=function stepBack(){this.userSeek_(this.player_.currentTime()-5)},e.handleAction=function handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()},e.handleKeyDown=function handleKeyDown(e){var t,n=this.player_.liveTracker;a.a.isEventKey(e,"Space")||a.a.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.handleAction(e)):a.a.isEventKey(e,"Home")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(0)):a.a.isEventKey(e,"End")?(e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration())):/^[0-9]$/.test(a()(e))?(e.preventDefault(),e.stopPropagation(),t=10*(a.a.codes[a()(e)]-a.a.codes[0])/100,n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*t):this.userSeek_(this.player_.duration()*t)):a.a.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):a.a.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):o.prototype.handleKeyDown.call(this,e)},e.dispose=function dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in d.a&&"visibilityState"in d.a&&this.off(d.a,"visibilitychange",this.toggleVisibility_),o.prototype.dispose.call(this)},SeekBar}(l);x.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},le||Q||x.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),xe.registerComponent("SeekBar",x);y=function(i){function ProgressControl(e,t){var n=i.call(this,e,t)||this;return n.handleMouseMove=MUa(Te(b()(n),n.handleMouseMove),30),n.throttledHandleMouseSeek=MUa(Te(b()(n),n.handleMouseSeek),30),n.handleMouseUpHandler_=function(e){return n.handleMouseUp(e)},n.handleMouseDownHandler_=function(e){return n.handleMouseDown(e)},n.enable(),n}h()(ProgressControl,i);var e=ProgressControl.prototype;return e.createEl=function createEl(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.handleMouseMove=function handleMouseMove(e){var t,n,i,r,o=this.getChild("seekBar");o&&(t=o.getChild("playProgressBar"),n=o.getChild("mouseTimeDisplay"),(t||n)&&(r=findPosition(i=o.el()),e=getPointerPosition(i,e).x,e=yWa(e,0,1),n&&n.update(r,e),t&&t.update(r,o.getProgress())))},e.handleMouseSeek=function handleMouseSeek(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},e.enabled=function enabled(){return this.enabled_},e.disable=function disable(){var e;this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing()&&(e=this.getChild("seekBar"),this.player_.scrubbing(!1),e.videoWasPlaying&&silencePromise(this.player_.play())))},e.enable=function enable(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.removeListenersAddedOnMousedownAndTouchstart=function removeListenersAddedOnMousedownAndTouchstart(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},e.handleMouseDown=function handleMouseDown(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},e.handleMouseUp=function handleMouseUp(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},ProgressControl}(xe);y.prototype.options_={children:["seekBar"]},xe.registerComponent("ProgressControl",y);o=function(i){function PictureInPictureToggle(e,t){var n=i.call(this,e,t)||this;return n.on(e,["enterpictureinpicture","leavepictureinpicture"],function(e){return n.handlePictureInPictureChange(e)}),n.on(e,["disablepictureinpicturechanged","loadedmetadata"],function(e){return n.handlePictureInPictureEnabledChange(e)}),n.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){"audio"===e.currentType().substring(0,5)||e.audioPosterMode()||e.audioOnlyMode()?(e.isInPictureInPicture()&&e.exitPictureInPicture(),n.hide()):n.show()}),n.disable(),n}h()(PictureInPictureToggle,i);var e=PictureInPictureToggle.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-picture-in-picture-control "+i.prototype.buildCSSClass.call(this)},e.handlePictureInPictureEnabledChange=function handlePictureInPictureEnabledChange(){d.a.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},e.handlePictureInPictureChange=function handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},e.handleClick=function handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},PictureInPictureToggle}(ot);o.prototype.controlText_="Picture-in-Picture",xe.registerComponent("PictureInPictureToggle",o);t=function(i){function FullscreenToggle(e,t){var n=i.call(this,e,t)||this;return n.on(e,"fullscreenchange",function(e){return n.handleFullscreenChange(e)}),!1===d.a[e.fsApi_.fullscreenEnabled]&&n.disable(),n}h()(FullscreenToggle,i);var e=FullscreenToggle.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-fullscreen-control "+i.prototype.buildCSSClass.call(this)},e.handleFullscreenChange=function handleFullscreenChange(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.handleClick=function handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},FullscreenToggle}(ot);t.prototype.controlText_="Fullscreen",xe.registerComponent("FullscreenToggle",t);function LWa(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}xe.registerComponent("VolumeLevel",function(t){function VolumeLevel(){return t.apply(this,arguments)||this}return h()(VolumeLevel,t),VolumeLevel.prototype.createEl=function createEl(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return e.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),e},VolumeLevel}(xe));s=function(n){function VolumeLevelTooltip(e,t){t=n.call(this,e,t)||this;return t.update=MUa(Te(b()(t),t.update),30),t}h()(VolumeLevelTooltip,n);var e=VolumeLevelTooltip.prototype;return e.createEl=function createEl(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},e.update=function update(e,t,n,i){if(!n){var r=getBoundingClientRect(this.el_),o=getBoundingClientRect(this.player_.el()),n=e.width*t;if(!o||!r)return;t=e.left-o.left+n,o=e.width-n+(o.right-e.right),e=r.width/2;t<e?e+=e-t:o<e&&(e=o),e<0?e=0:e>r.width&&(e=r.width),this.el_.style.right="-"+e+"px"}this.write(i+"%")},e.write=function write(e){textContent(this.el_,e)},e.updateVolume=function updateVolume(e,t,n,i,r){var o=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){o.update(e,t,n,i.toFixed(0)),r&&r()})},VolumeLevelTooltip}(xe);xe.registerComponent("VolumeLevelTooltip",s);at=function(n){function MouseVolumeLevelDisplay(e,t){t=n.call(this,e,t)||this;return t.update=MUa(Te(b()(t),t.update),30),t}h()(MouseVolumeLevelDisplay,n);var e=MouseVolumeLevelDisplay.prototype;return e.createEl=function createEl(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.update=function update(e,t,n){var i=this,r=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,r,function(){n?i.el_.style.bottom=e.height*t+"px":i.el_.style.left=e.width*t+"px"})},MouseVolumeLevelDisplay}(xe);at.prototype.options_={children:["volumeLevelTooltip"]},xe.registerComponent("MouseVolumeLevelDisplay",at);K=function(i){function VolumeBar(e,t){var n=i.call(this,e,t)||this;return n.on("slideractive",function(e){return n.updateLastVolume_(e)}),n.on(e,"volumechange",function(e){return n.updateARIAAttributes(e)}),e.ready(function(){return n.updateARIAAttributes()}),n}h()(VolumeBar,i);var e=VolumeBar.prototype;return e.createEl=function createEl(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.handleMouseDown=function handleMouseDown(e){isSingleLeftClick(e)&&i.prototype.handleMouseDown.call(this,e)},e.handleMouseMove=function handleMouseMove(e){var t,n,i,r=this.getChild("mouseVolumeLevelDisplay");r&&(t=getBoundingClientRect(i=this.el()),n=this.vertical(),i=getPointerPosition(i,e),i=n?i.y:i.x,i=yWa(i,0,1),r.update(t,i,n)),isSingleLeftClick(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},e.checkMuted=function checkMuted(){this.player_.muted()&&this.player_.muted(!1)},e.getPercent=function getPercent(){return this.player_.muted()?0:this.player_.volume()},e.stepForward=function stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.stepBack=function stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.updateARIAAttributes=function updateARIAAttributes(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},e.volumeAsPercentage_=function volumeAsPercentage_(){return Math.round(100*this.player_.volume())},e.updateLastVolume_=function updateLastVolume_(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},VolumeBar}(l);K.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},le||Q||K.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),K.prototype.playerEvent="volumechange",xe.registerComponent("VolumeBar",K);m=function(i){function VolumeControl(e,t){var n;return(t=void 0===t?{}:t).vertical=t.vertical||!1,void 0!==t.volumeBar&&!isPlain(t.volumeBar)||(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),n=i.call(this,e,t)||this,LWa(b()(n),e),n.throttledHandleMouseMove=MUa(Te(b()(n),n.handleMouseMove),30),n.handleMouseUpHandler_=function(e){return n.handleMouseUp(e)},n.on("mousedown",function(e){return n.handleMouseDown(e)}),n.on("touchstart",function(e){return n.handleMouseDown(e)}),n.on("mousemove",function(e){return n.handleMouseMove(e)}),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}h()(VolumeControl,i);var e=VolumeControl.prototype;return e.createEl=function createEl(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},e.handleMouseDown=function handleMouseDown(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},e.handleMouseUp=function handleMouseUp(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},e.handleMouseMove=function handleMouseMove(e){this.volumeBar.handleMouseMove(e)},VolumeControl}(xe);m.prototype.options_={children:["volumeBar"]},xe.registerComponent("VolumeControl",m);function RWa(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}T=function(i){function MuteToggle(e,t){var n=i.call(this,e,t)||this;return RWa(b()(n),e),n.on(e,["loadstart","volumechange"],function(e){return n.update(e)}),n}h()(MuteToggle,i);var e=MuteToggle.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-mute-control "+i.prototype.buildCSSClass.call(this)},e.handleClick=function handleClick(e){var t=this.player_.volume(),n=this.player_.lastVolume_();0===t?(this.player_.volume(n<.1?.1:n),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},e.update=function update(e){this.updateIcon_(),this.updateControlText_()},e.updateIcon_=function updateIcon_(){var e=this.player_.volume(),t=3;le&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)removeClass(this.el_,"vjs-vol-"+n);addClass(this.el_,"vjs-vol-"+t)},e.updateControlText_=function updateControlText_(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},MuteToggle}(ot);T.prototype.controlText_="Mute",xe.registerComponent("MuteToggle",T);x=function(i){function VolumePanel(e,t){var n;return void 0!==(t=void 0===t?{}:t).inline?t.inline=t.inline:t.inline=!0,void 0!==t.volumeControl&&!isPlain(t.volumeControl)||(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),(n=i.call(this,e,t)||this).handleKeyPressHandler_=function(e){return n.handleKeyPress(e)},n.on(e,["loadstart"],function(e){return n.volumePanelState_(e)}),n.on(n.muteToggle,"keyup",function(e){return n.handleKeyPress(e)}),n.on(n.volumeControl,"keyup",function(e){return n.handleVolumeControlKeyUp(e)}),n.on("keydown",function(e){return n.handleKeyPress(e)}),n.on("mouseover",function(e){return n.handleMouseOver(e)}),n.on("mouseout",function(e){return n.handleMouseOut(e)}),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}h()(VolumePanel,i);var e=VolumePanel.prototype;return e.sliderActive_=function sliderActive_(){this.addClass("vjs-slider-active")},e.sliderInactive_=function sliderInactive_(){this.removeClass("vjs-slider-active")},e.volumePanelState_=function volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.createEl=function createEl(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},e.dispose=function dispose(){this.handleMouseOut(),i.prototype.dispose.call(this)},e.handleVolumeControlKeyUp=function handleVolumeControlKeyUp(e){a.a.isEventKey(e,"Esc")&&this.muteToggle.focus()},e.handleMouseOver=function handleMouseOver(e){this.addClass("vjs-hover"),on(d.a,"keyup",this.handleKeyPressHandler_)},e.handleMouseOut=function handleMouseOut(e){this.removeClass("vjs-hover"),off(d.a,"keyup",this.handleKeyPressHandler_)},e.handleKeyPress=function handleKeyPress(e){a.a.isEventKey(e,"Esc")&&this.handleMouseOut()},VolumePanel}(xe);x.prototype.options_={children:["muteToggle","volumeControl"]},xe.registerComponent("VolumePanel",x);var lt=function(i){function Menu(e,t){var n=i.call(this,e,t)||this;return t&&(n.menuButton_=t.menuButton),n.focusedChild_=-1,n.on("keydown",function(e){return n.handleKeyDown(e)}),n.boundHandleBlur_=function(e){return n.handleBlur(e)},n.boundHandleTapClick_=function(e){return n.handleTapClick(e)},n}h()(Menu,i);var e=Menu.prototype;return e.addEventListenerForItem=function addEventListenerForItem(e){e instanceof xe&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},e.removeEventListenerForItem=function removeEventListenerForItem(e){e instanceof xe&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},e.removeChild=function removeChild(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),i.prototype.removeChild.call(this,e)},e.addItem=function addItem(e){e=this.addChild(e);e&&this.addEventListenerForItem(e)},e.createEl=function createEl$1(){var e=this.options_.contentElType||"ul";this.contentEl_=createEl(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");e=i.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return e.appendChild(this.contentEl_),on(e,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),e},e.dispose=function dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,i.prototype.dispose.call(this)},e.handleBlur=function handleBlur(e){var t=e.relatedTarget||d.a.activeElement;this.children().some(function(e){return e.el()===t})||(e=this.menuButton_)&&e.buttonPressed_&&t!==e.el().firstChild&&e.unpressButton()},e.handleTapClick=function handleTapClick(t){var e;this.menuButton_&&(this.menuButton_.unpressButton(),e=this.children(),!Array.isArray(e)||(e=e.filter(function(e){return e.el()===t.target})[0])&&"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())},e.handleKeyDown=function handleKeyDown(e){a.a.isEventKey(e,"Left")||a.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(a.a.isEventKey(e,"Right")||a.a.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},e.stepForward=function stepForward(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},e.stepBack=function stepBack(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},e.focus=function focus(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())},Menu}(xe);xe.registerComponent("Menu",lt);y=function(i){function MenuButton(e,t){var n;(n=i.call(this,e,t=void 0===t?{}:t)||this).menuButton_=new ot(e,t),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");t=ot.prototype.buildCSSClass();n.menuButton_.el_.className=n.buildCSSClass()+" "+t,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0;function Tr0(e){return n.handleClick(e)}return n.handleMenuKeyUp_=function(e){return n.handleMenuKeyUp(e)},n.on(n.menuButton_,"tap",Tr0),n.on(n.menuButton_,"click",Tr0),n.on(n.menuButton_,"keydown",function(e){return n.handleKeyDown(e)}),n.on(n.menuButton_,"mouseenter",function(){n.addClass("vjs-hover"),n.menu.show(),on(d.a,"keyup",n.handleMenuKeyUp_)}),n.on("mouseleave",function(e){return n.handleMouseLeave(e)}),n.on("keydown",function(e){return n.handleSubmenuKeyDown(e)}),n}h()(MenuButton,i);var e=MenuButton.prototype;return e.update=function update(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},e.createMenu=function createMenu(){var e,t=new lt(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(e=createEl("li",{className:"vjs-menu-title",textContent:aVa(this.options_.title),tabIndex:-1}),e=new xe(this.player_,{el:e}),t.addItem(e)),this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},e.createItems=function createItems(){},e.createEl=function createEl(){return i.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.buildWrapperCSSClass=function buildWrapperCSSClass(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+ot.prototype.buildCSSClass()+" "+i.prototype.buildCSSClass.call(this)},e.buildCSSClass=function buildCSSClass(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+i.prototype.buildCSSClass.call(this)},e.controlText=function controlText(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},e.dispose=function dispose(){this.handleMouseLeave(),i.prototype.dispose.call(this)},e.handleClick=function handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()},e.handleMouseLeave=function handleMouseLeave(e){this.removeClass("vjs-hover"),off(d.a,"keyup",this.handleMenuKeyUp_)},e.focus=function focus(){this.menuButton_.focus()},e.blur=function blur(){this.menuButton_.blur()},e.handleKeyDown=function handleKeyDown(e){a.a.isEventKey(e,"Esc")||a.a.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),a.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(a.a.isEventKey(e,"Up")||a.a.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},e.handleMenuKeyUp=function handleMenuKeyUp(e){(a.a.isEventKey(e,"Esc")||a.a.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},e.handleSubmenuKeyPress=function handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)},e.handleSubmenuKeyDown=function handleSubmenuKeyDown(e){(a.a.isEventKey(e,"Esc")||a.a.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),a.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},e.pressButton=function pressButton(){this.enabled_&&(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),le&&isInFrame()||this.menu.focus())},e.unpressButton=function unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.disable=function disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.enable=function enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},MenuButton}(xe);xe.registerComponent("MenuButton",y);o=function(r){function TrackButton(e,t){var n=t.tracks,t=r.call(this,e,t)||this;if(t.items.length<=1&&t.hide(),!n)return b()(t);var i=Te(b()(t),t.update);return n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),t.player_.on("ready",i),t.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)}),t}return h()(TrackButton,r),TrackButton}(y);xe.registerComponent("TrackButton",o);var ut=["Tab","Esc","Up","Down","Right","Left"],t=function(i){function MenuItem(e,t){e=i.call(this,e,t)||this;return e.selectable=t.selectable,e.isSelected_=t.selected||!1,e.multiSelectable=t.multiSelectable,e.selected(e.isSelected_),e.selectable?e.multiSelectable?e.el_.setAttribute("role","menuitemcheckbox"):e.el_.setAttribute("role","menuitemradio"):e.el_.setAttribute("role","menuitem"),e}h()(MenuItem,i);var e=MenuItem.prototype;return e.createEl=function createEl$1(e,t,n){this.nonIconControl=!0;n=i.prototype.createEl.call(this,"li",assign({className:"vjs-menu-item",tabIndex:-1},t),n);return n.replaceChild(createEl("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),n.querySelector(".vjs-icon-placeholder")),n},e.handleKeyDown=function handleKeyDown(t){ut.some(function(e){return a.a.isEventKey(t,e)})||i.prototype.handleKeyDown.call(this,t)},e.handleClick=function handleClick(e){this.selected(!0)},e.selected=function selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},MenuItem}(i);xe.registerComponent("MenuItem",t);var ct=function(a){function TextTrackMenuItem(e,t){var i,n=t.track,r=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode,(i=a.call(this,e,t)||this).track=n,i.kinds=(t.kinds||[t.kind||i.track.kind]).filter(Boolean);function Ns0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(b()(i),t)}function Os0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleSelectedLanguageChange.apply(b()(i),t)}var o;return e.on(["loadstart","texttrackchange"],Ns0),r.addEventListener("change",Ns0),r.addEventListener("selectedlanguagechange",Os0),i.on("dispose",function(){e.off(["loadstart","texttrackchange"],Ns0),r.removeEventListener("change",Ns0),r.removeEventListener("selectedlanguagechange",Os0)}),void 0===r.onchange&&i.on(["tap","click"],function(){if("object"!=typeof v.a.Event)try{o=new v.a.Event("change")}catch(e){}o||(o=d.a.createEvent("Event")).initEvent("change",!0,!0),r.dispatchEvent(o)}),i.handleTracksChange(),i}h()(TextTrackMenuItem,a);var e=TextTrackMenuItem.prototype;return e.handleClick=function handleClick(e){var t=this.track,n=this.player_.textTracks();if(a.prototype.handleClick.call(this,e),n)for(var i=0;i<n.length;i++){var r=n[i];-1!==this.kinds.indexOf(r.kind)&&(r===t?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled"))}},e.handleTracksChange=function handleTracksChange(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},e.handleSelectedLanguageChange=function handleSelectedLanguageChange(e){var t;"showing"===this.track.mode&&((t=this.player_.cache_.selectedLanguage)&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}))},e.dispose=function dispose(){this.track=null,a.prototype.dispose.call(this)},TextTrackMenuItem}(t);xe.registerComponent("TextTrackMenuItem",ct);var dt=function(n){function OffTextTrackMenuItem(e,t){return t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,n.call(this,e,t)||this}h()(OffTextTrackMenuItem,n);var e=OffTextTrackMenuItem.prototype;return e.handleTracksChange=function handleTracksChange(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var o=t[i];if(-1<this.options_.kinds.indexOf(o.kind)&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},e.handleSelectedLanguageChange=function handleSelectedLanguageChange(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var o=t[i];if(-1<["captions","descriptions","subtitles"].indexOf(o.kind)&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},OffTextTrackMenuItem}(ct);xe.registerComponent("OffTextTrackMenuItem",dt);s=function(n){function TextTrackButton(e,t){return(t=void 0===t?{}:t).tracks=e.textTracks(),n.call(this,e,t)||this}return h()(TextTrackButton,n),TextTrackButton.prototype.createItems=function createItems(e,t){var n;void 0===t&&(t=ct),this.label_&&(n=this.label_+" off"),(e=void 0===e?[]:e).push(new dt(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var o,a=i[r];-1<this.kinds_.indexOf(a.kind)&&((o=new t(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1})).addClass("vjs-"+a.kind+"-menu-item"),e.push(o))}return e},TextTrackButton}(o);xe.registerComponent("TextTrackButton",s);var ht=function(o){function ChaptersTrackMenuItem(e,t){var n=t.track,i=t.cue,r=e.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=i.text,t.selected=i.startTime<=r&&r<i.endTime,(t=o.call(this,e,t)||this).track=n,t.cue=i,t}return h()(ChaptersTrackMenuItem,o),ChaptersTrackMenuItem.prototype.handleClick=function handleClick(e){o.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},ChaptersTrackMenuItem}(t);xe.registerComponent("ChaptersTrackMenuItem",ht);at=function(r){function ChaptersButton(e,t,n){var i=r.call(this,e,t,n)||this;return i.selectCurrentItem_=function(){i.items.forEach(function(e){e.selected(i.track_.activeCues[0]===e.cue)})},i}h()(ChaptersButton,r);var e=ChaptersButton.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-chapters-button "+r.prototype.buildWrapperCSSClass.call(this)},e.update=function update(e){e&&e.track&&"chapters"!==e.track.kind||((e=this.findChaptersTrack())!==this.track_?(this.setTrack(e),r.prototype.update.call(this)):(!this.items||e&&e.cues&&e.cues.length!==this.items.length)&&r.prototype.update.call(this))},e.setTrack=function setTrack(e){var t;this.track_!==e&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null),this.track_=e,this.track_&&(this.track_.mode="hidden",(e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)))},e.findChaptersTrack=function findChaptersTrack(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var n=e[t];if(n.kind===this.kind_)return n}},e.getMenuCaption=function getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(aVa(this.kind_))},e.createMenu=function createMenu(){return this.options_.title=this.getMenuCaption(),r.prototype.createMenu.call(this)},e.createItems=function createItems(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var r=t[n],r=new ht(this.player_,{track:this.track_,cue:r});e.push(r)}return e},ChaptersButton}(s);at.prototype.kind_="chapters",at.prototype.controlText_="Chapters",xe.registerComponent("ChaptersButton",at);l=function(o){function DescriptionsButton(e,t,n){var n=o.call(this,e,t,n)||this,i=e.textTracks(),r=Te(b()(n),n.handleTracksChange);return i.addEventListener("change",r),n.on("dispose",function(){i.removeEventListener("change",r)}),n}h()(DescriptionsButton,o);var e=DescriptionsButton.prototype;return e.handleTracksChange=function handleTracksChange(e){for(var t=this.player().textTracks(),n=!1,i=0,r=t.length;i<r;i++){var o=t[i];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},e.buildCSSClass=function buildCSSClass(){return"vjs-descriptions-button "+o.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-descriptions-button "+o.prototype.buildWrapperCSSClass.call(this)},DescriptionsButton}(s);l.prototype.kind_="descriptions",l.prototype.controlText_="Descriptions",xe.registerComponent("DescriptionsButton",l);K=function(i){function SubtitlesButton(e,t,n){return i.call(this,e,t,n)||this}h()(SubtitlesButton,i);var e=SubtitlesButton.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-subtitles-button "+i.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subtitles-button "+i.prototype.buildWrapperCSSClass.call(this)},SubtitlesButton}(s);K.prototype.kind_="subtitles",K.prototype.controlText_="Subtitles",xe.registerComponent("SubtitlesButton",K);var pt=function(n){function CaptionSettingsMenuItem(e,t){return t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",(e=n.call(this,e,t)||this).addClass("vjs-texttrack-settings"),e.controlText(", opens "+t.kind+" settings dialog"),e}return h()(CaptionSettingsMenuItem,n),CaptionSettingsMenuItem.prototype.handleClick=function handleClick(e){this.player().getChild("textTrackSettings").open()},CaptionSettingsMenuItem}(ct);xe.registerComponent("CaptionSettingsMenuItem",pt);m=function(i){function CaptionsButton(e,t,n){return i.call(this,e,t,n)||this}h()(CaptionsButton,i);var e=CaptionsButton.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-captions-button "+i.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-captions-button "+i.prototype.buildWrapperCSSClass.call(this)},e.createItems=function createItems(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new pt(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,e)},CaptionsButton}(s);m.prototype.kind_="captions",m.prototype.controlText_="Captions",xe.registerComponent("CaptionsButton",m);var ft=function(i){function SubsCapsMenuItem(){return i.apply(this,arguments)||this}return h()(SubsCapsMenuItem,i),SubsCapsMenuItem.prototype.createEl=function createEl$1(e,t,n){t=i.prototype.createEl.call(this,e,t,n),n=t.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(n.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),n.appendChild(createEl("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),t},SubsCapsMenuItem}(ct);xe.registerComponent("SubsCapsMenuItem",ft);T=function(n){function SubsCapsButton(e,t){return(t=n.call(this,e,t=void 0===t?{}:t)||this).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(t.player_.language_)&&(t.label_="captions"),t.menuButton_.controlText(aVa(t.label_)),t}h()(SubsCapsButton,n);var e=SubsCapsButton.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},e.createItems=function createItems(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new pt(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=n.prototype.createItems.call(this,e,ft)},SubsCapsButton}(s);T.prototype.kinds_=["captions","subtitles"],T.prototype.controlText_="Subtitles",xe.registerComponent("SubsCapsButton",T);var mt=function(o){function AudioTrackMenuItem(e,t){var i,n=t.track,r=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled,(i=o.call(this,e,t)||this).track=n,i.addClass("vjs-"+n.kind+"-menu-item");function ev0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(b()(i),t)}return r.addEventListener("change",ev0),i.on("dispose",function(){r.removeEventListener("change",ev0)}),i}h()(AudioTrackMenuItem,o);var e=AudioTrackMenuItem.prototype;return e.createEl=function createEl$1(e,t,n){t=o.prototype.createEl.call(this,e,t,n),n=t.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(n.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),n.appendChild(createEl("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),t},e.handleClick=function handleClick(e){if(o.prototype.handleClick.call(this,e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];i!==this.track&&(i.enabled=i===this.track)}},e.handleTracksChange=function handleTracksChange(e){this.selected(this.track.enabled)},AudioTrackMenuItem}(t);xe.registerComponent("AudioTrackMenuItem",mt);x=function(n){function AudioTrackButton(e,t){return(t=void 0===t?{}:t).tracks=e.audioTracks(),n.call(this,e,t)||this}h()(AudioTrackButton,n);var e=AudioTrackButton.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},e.createItems=function createItems(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];e.push(new mt(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e},AudioTrackButton}(o);x.prototype.controlText_="Audio Track",xe.registerComponent("AudioTrackButton",x);var gt=function(o){function PlaybackRateMenuItem(e,t){var n,i=t.rate,r=parseFloat(i,10);return t.label=i,t.selected=r===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,(n=o.call(this,e,t)||this).label=i,n.rate=r,n.on(e,"ratechange",function(e){return n.update(e)}),n}h()(PlaybackRateMenuItem,o);var e=PlaybackRateMenuItem.prototype;return e.handleClick=function handleClick(e){o.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.update=function update(e){this.selected(this.player().playbackRate()===this.rate)},PlaybackRateMenuItem}(t);gt.prototype.contentElType="button",xe.registerComponent("PlaybackRateMenuItem",gt);i=function(i){function PlaybackRateMenuButton(e,t){var n=i.call(this,e,t)||this;return n.menuButton_.el_.setAttribute("aria-describedby",n.labelElId_),n.updateVisibility(),n.updateLabel(),n.on(e,"loadstart",function(e){return n.updateVisibility(e)}),n.on(e,"ratechange",function(e){return n.updateLabel(e)}),n.on(e,"playbackrateschange",function(e){return n.handlePlaybackRateschange(e)}),n}h()(PlaybackRateMenuButton,i);var e=PlaybackRateMenuButton.prototype;return e.createEl=function createEl$1(){var e=i.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=createEl("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e},e.dispose=function dispose(){this.labelEl_=null,i.prototype.dispose.call(this)},e.buildCSSClass=function buildCSSClass(){return"vjs-playback-rate "+i.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-playback-rate "+i.prototype.buildWrapperCSSClass.call(this)},e.createItems=function createItems(){for(var e=this.playbackRates(),t=[],n=e.length-1;0<=n;n--)t.push(new gt(this.player(),{rate:e[n]+"x"}));return t},e.updateARIAAttributes=function updateARIAAttributes(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.handleClick=function handleClick(e){var t=this.player().playbackRate(),n=this.playbackRates(),t=(n.indexOf(t)+1)%n.length;this.player().playbackRate(n[t])},e.handlePlaybackRateschange=function handlePlaybackRateschange(e){this.update()},e.playbackRates=function playbackRates(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},e.playbackRateSupported=function playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},e.updateVisibility=function updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.updateLabel=function updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},PlaybackRateMenuButton}(y);i.prototype.controlText_="Playback Rate",xe.registerComponent("PlaybackRateMenuButton",i);at=function(i){function Spacer(){return i.apply(this,arguments)||this}h()(Spacer,i);var e=Spacer.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-spacer "+i.prototype.buildCSSClass.call(this)},e.createEl=function createEl(e,t,n){return void 0===e&&(e="div"),void 0===n&&(n={}),(t=void 0===t?{}:t).className||(t.className=this.buildCSSClass()),i.prototype.createEl.call(this,e,t,n)},Spacer}(xe);xe.registerComponent("Spacer",at),xe.registerComponent("CustomControlSpacer",function(e){function CustomControlSpacer(){return e.apply(this,arguments)||this}h()(CustomControlSpacer,e);var t=CustomControlSpacer.prototype;return t.buildCSSClass=function buildCSSClass(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.createEl=function createEl(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:""})},CustomControlSpacer}(at));l=function(e){function ControlBar(){return e.apply(this,arguments)||this}return h()(ControlBar,e),ControlBar.prototype.createEl=function createEl(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},ControlBar}(xe);l.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in d.a&&l.prototype.options_.children.splice(l.prototype.options_.children.length-1,0,"pictureInPictureToggle"),xe.registerComponent("ControlBar",l);K=function(i){function ErrorDisplay(e,t){var n=i.call(this,e,t)||this;return n.on(e,"error",function(e){return n.open(e)}),n}h()(ErrorDisplay,i);var e=ErrorDisplay.prototype;return e.buildCSSClass=function buildCSSClass(){return"vjs-error-display "+i.prototype.buildCSSClass.call(this)},e.content=function content(){var e=this.player().error();return e?this.localize(e.message):""},ErrorDisplay}(De);K.prototype.options_=u()({},De.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),xe.registerComponent("ErrorDisplay",K);var yt="vjs-text-track-settings",m=["#000","Black"],s=["#00F","Blue"],T=["#0FF","Cyan"],o=["#0F0","Green"],x=["#F0F","Magenta"],t=["#F00","Red"],y=["#FFF","White"],i=["#FF0","Yellow"],at=["1","Opaque"],l=["0.5","Semi-Transparent"],K=["0","Transparent"],vt={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[m,y,t,o,s,i,x,T]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[at,l,K]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[y,m,t,o,s,i,x,T]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function parser(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[at,l]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[K,l,at]}};function parseOptionValue(e,t){if((e=t?t(e):e)&&"none"!==e)return e}vt.windowColor.options=vt.backgroundColor.options;at=function(i){function TextTrackSettings(e,t){var n;return t.temporary=!1,(n=i.call(this,e,t)||this).updateDisplay=n.updateDisplay.bind(b()(n)),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=createEl("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===t.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),each(vt,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}h()(TextTrackSettings,i);var e=TextTrackSettings.prototype;return e.dispose=function dispose(){this.endDialog=null,i.prototype.dispose.call(this)},e.createElSelect_=function createElSelect_(e,t,n){var i=this;void 0===t&&(t=""),void 0===n&&(n="label");var e=vt[e],r=e.id.replace("%s",this.id_),o=[t,r].join(" ").trim();return["<"+n+' id="'+r+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(e.label),"</"+n+">",'<select aria-labelledby="'+o+'">'].concat(e.options.map(function(e){var t=r+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+o+" "+t+'">',i.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},e.createElFgColor_=function createElFgColor_(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},e.createElBgColor_=function createElBgColor_(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},e.createElWinColor_=function createElWinColor_(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},e.createElColors_=function createElColors_(){return createEl("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.createElFont_=function createElFont_(){return createEl("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.createElControls_=function createElControls_(){var e=this.localize("restore all settings to the default values");return createEl("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.content=function content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.label=function label(){return this.localize("Caption Settings Dialog")},e.description=function description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.buildCSSClass=function buildCSSClass(){return i.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.getValues=function getValues(){var i=this;return function reduce(n,i,e){return void 0===e&&(e=0),$Ta(n).reduce(function(e,t){return i(e,n[t],t)},e)}(vt,function(e,t,n){t=function getSelectedOptionValue(e,t){return parseOptionValue(e.options[e.options.selectedIndex].value,t)}(i.$(t.selector),t.parser);return void 0!==t&&(e[n]=t),e},{})},e.setValues=function setValues(n){var i=this;each(vt,function(e,t){!function setSelectedOption(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(parseOptionValue(e.options[i].value,n)===t){e.selectedIndex=i;break}}(i.$(e.selector),n[t],e.parser)})},e.setDefaults=function setDefaults(){var n=this;each(vt,function(e){var t=e.hasOwnProperty("default")?e.default:0;n.$(e.selector).selectedIndex=t})},e.restoreSettings=function restoreSettings(){var e;try{e=JSON.parse(v.a.localStorage.getItem(yt))}catch(e){G.warn(e)}e&&this.setValues(e)},e.saveSettings=function saveSettings(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?v.a.localStorage.setItem(yt,JSON.stringify(e)):v.a.localStorage.removeItem(yt)}catch(e){G.warn(e)}}},e.updateDisplay=function updateDisplay(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},e.conditionalBlur_=function conditionalBlur_(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,e=e&&e.captionsButton;t?t.focus():e&&e.focus()},TextTrackSettings}(De);xe.registerComponent("TextTrackSettings",at);at=function(o){function ResizeManager(e,t){var n,i=t.ResizeObserver||v.a.ResizeObserver,r=mergeOptions$3({createEl:!(i=null===t.ResizeObserver?!1:i),reportTouchActivity:!1},t);return(n=o.call(this,e,r)||this).ResizeObserver=t.ResizeObserver||v.a.ResizeObserver,n.loadListener_=null,n.resizeObserver_=null,n.debouncedHandler_=NUa(function(){n.resizeHandler()},100,!1,b()(n)),i?(n.resizeObserver_=new n.ResizeObserver(n.debouncedHandler_),n.resizeObserver_.observe(e.el())):(n.loadListener_=function(){var e,t;n.el_&&n.el_.contentWindow&&(e=n.debouncedHandler_,t=n.unloadListener_=function(){off(this,"resize",e),off(this,"unload",t),t=null},on(n.el_.contentWindow,"unload",t),on(n.el_.contentWindow,"resize",e))},n.one("load",n.loadListener_)),n}h()(ResizeManager,o);var e=ResizeManager.prototype;return e.createEl=function createEl(){return o.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},e.resizeHandler=function resizeHandler(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},e.dispose=function dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,o.prototype.dispose.call(this)},ResizeManager}(xe);xe.registerComponent("ResizeManager",at);var bt={trackingThreshold:20,liveTolerance:15},at=function(i){function LiveTracker(e,t){var t=mergeOptions$3(bt,t,{createEl:!1}),n=i.call(this,e,t)||this;return n.handleVisibilityChange_=function(e){return n.handleVisibilityChange(e)},n.trackLiveHandler_=function(){return n.trackLive_()},n.handlePlay_=function(e){return n.handlePlay(e)},n.handleFirstTimeupdate_=function(e){return n.handleFirstTimeupdate(e)},n.handleSeeked_=function(e){return n.handleSeeked(e)},n.seekToLiveEdge_=function(e){return n.seekToLiveEdge(e)},n.reset_(),n.on(n.player_,"durationchange",function(e){return n.handleDurationchange(e)}),n.on(n.player_,"canplay",function(){return n.toggleTracking()}),re&&"hidden"in d.a&&"visibilityState"in d.a&&n.on(d.a,"visibilitychange",n.handleVisibilityChange_),n}h()(LiveTracker,i);var e=LiveTracker.prototype;return e.handleVisibilityChange=function handleVisibilityChange(){this.player_.duration()===1/0&&(d.a.hidden?this.stopTracking():this.startTracking())},e.trackLive_=function trackLive_(){var e,t=this.player_.seekable();t&&t.length&&(e=Number(v.a.performance.now().toFixed(4)),t=-1===this.lastTime_?0:(e-this.lastTime_)/1e3,this.lastTime_=e,this.pastSeekEnd_=this.pastSeekEnd()+t,e=this.liveCurrentTime(),t=this.player_.currentTime(),t=this.player_.paused()||this.seekedBehindLive_||Math.abs(e-t)>this.options_.liveTolerance,(t=!this.timeupdateSeen_||e===1/0?!1:t)!==this.behindLiveEdge_&&(this.behindLiveEdge_=t,this.trigger("liveedgechange")))},e.handleDurationchange=function handleDurationchange(){this.toggleTracking()},e.toggleTracking=function toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},e.startTracking=function startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},e.handleFirstTimeupdate=function handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},e.handleSeeked=function handleSeeked(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&2<e,this.nextSeekedFromUser_=!1,this.trackLive_()},e.handlePlay=function handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},e.reset_=function reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},e.nextSeekedFromUser=function nextSeekedFromUser(){this.nextSeekedFromUser_=!0},e.stopTracking=function stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},e.seekableEnd=function seekableEnd(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},e.seekableStart=function seekableStart(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},e.liveWindow=function liveWindow(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},e.isLive=function isLive(){return this.isTracking()},e.atLiveEdge=function atLiveEdge(){return!this.behindLiveEdge()},e.liveCurrentTime=function liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()},e.pastSeekEnd=function pastSeekEnd(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},e.behindLiveEdge=function behindLiveEdge(){return this.behindLiveEdge_},e.isTracking=function isTracking(){return"number"==typeof this.trackingInterval_},e.seekToLiveEdge=function seekToLiveEdge(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},e.dispose=function dispose(){this.off(d.a,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),i.prototype.dispose.call(this)},LiveTracker}(xe);xe.registerComponent("LiveTracker",at);function LXa(o){var t,e,n,a=o.el();a.resetSourceWatch_||(t={},e=wt(o),n=function appendWrapper(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=r.apply(a,t);return Tt(o),i}},["append","appendChild","insertAdjacentHTML"].forEach(function(e){a[e]&&(t[e]=a[e],a[e]=n(t[e]))}),Object.defineProperty(a,"innerHTML",mergeOptions$3(e,{set:n(e.set)})),a.resetSourceWatch_=function(){a.resetSourceWatch_=null,Object.keys(t).forEach(function(e){a[e]=t[e]}),Object.defineProperty(a,"innerHTML",e)},o.one("sourceset",a.resetSourceWatch_))}function NXa(e){return Ct([e.el(),v.a.HTMLMediaElement.prototype,kt],"src")}function OXa(n){var i,t,r,o;n.featuresSourceset&&((i=n.el()).resetSourceset_||(t=NXa(n),r=i.setAttribute,o=i.load,Object.defineProperty(i,"src",mergeOptions$3(t,{set:function set(e){e=t.set.call(i,e);return n.triggerSourceset(i.src),e}})),i.setAttribute=function(e,t){t=r.call(i,e,t);return/src/i.test(e)&&n.triggerSourceset(i.src),t},i.load=function(){var e=o.call(i);return Tt(n)||(n.triggerSourceset(""),LXa(n)),e},i.currentSrc?n.triggerSourceset(i.currentSrc):Tt(n)||LXa(n),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=o,i.setAttribute=r,Object.defineProperty(i,"src",t),i.resetSourceWatch_&&i.resetSourceWatch_()}))}function PXa(t,n,i,e){function Oy0(e){return Object.defineProperty(t,n,{value:e,enumerable:!0,writable:!0})}var r={configurable:!0,enumerable:!0,get:function get(){var e=i();return Oy0(e),e}};return(e=void 0===e?!0:e)&&(r.set=Oy0),Object.defineProperty(t,n,r)}var _t,Tt=function sourcesetLoad(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],t="";if(!n.length)return!1;for(var r=0;r<n.length;r++){var o=n[r].src;o&&-1===i.indexOf(o)&&i.push(o)}return!!i.length&&(1===i.length&&(t=i[0]),e.triggerSourceset(t),!0)},St=Object.defineProperty({},"innerHTML",{get:function get(){return this.cloneNode(!0).innerHTML},set:function set(e){var t=d.a.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=d.a.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",v.a.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Ct=function getDescriptor(e,t){for(var n={},i=0;i<e.length&&!((n=Object.getOwnPropertyDescriptor(e[i],t))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},wt=function getInnerHTMLDescriptor(e){return Ct([e.el(),v.a.HTMLMediaElement.prototype,v.a.Element.prototype,St],"innerHTML")},kt=Object.defineProperty({},"src",{get:function get(){return this.hasAttribute("src")?DVa(v.a.Element.prototype.getAttribute.call(this,"src")):""},set:function set(e){return v.a.Element.prototype.setAttribute.call(this,"src",e),e}}),Et=function(u){function Html5(e,t){var n=u.call(this,e,t)||this,t=e.source,i=!1;if(n.featuresVideoFrameCallback=n.featuresVideoFrameCallback&&"VIDEO"===n.el_.tagName,t&&(n.el_.currentSrc!==t.src||e.tag&&3===e.tag.initNetworkState_)?n.setSource(t):n.handleLateInit_(n.el_),e.enableSourceset&&n.setupSourcesetHandling_(),n.isScrubbing_=!1,n.el_.hasChildNodes()){for(var r=n.el_.childNodes,o=r.length,a=[];o--;){var s=r[o];"track"===s.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(s),n.remoteTextTracks().addTrack(s.track),n.textTracks().addTrack(s.track),i||n.el_.hasAttribute("crossorigin")||!qe(s.src)||(i=!0)):a.push(s))}for(var l=0;l<a.length;l++)n.el_.removeChild(a[l])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&i&&G.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),n.restoreMetadataTracksInIOSNativePlayer_(),(ae||se||J)&&!0===e.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}h()(Html5,u);var e=Html5.prototype;return e.dispose=function dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Html5.disposeMediaElement(this.el_),this.options_=null,u.prototype.dispose.call(this)},e.setupSourcesetHandling_=function setupSourcesetHandling_(){OXa(this)},e.restoreMetadataTracksInIOSNativePlayer_=function restoreMetadataTracksInIOSNativePlayer_(){function fz0(){n=[];for(var e=0;e<i.length;e++){var t=i[e];"metadata"===t.kind&&n.push({track:t,storedMode:t.mode})}}var n,i=this.textTracks();fz0(),i.addEventListener("change",fz0),this.on("dispose",function(){return i.removeEventListener("change",fz0)});function gz0(){for(var e=0;e<n.length;e++){var t=n[e];"disabled"===t.track.mode&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode)}i.removeEventListener("change",gz0)}this.on("webkitbeginfullscreen",function(){i.removeEventListener("change",fz0),i.removeEventListener("change",gz0),i.addEventListener("change",gz0)}),this.on("webkitendfullscreen",function(){i.removeEventListener("change",fz0),i.addEventListener("change",fz0),i.removeEventListener("change",gz0)})},e.overrideNative_=function overrideNative_(e,t){var n,i=this;t===this["featuresNative"+e+"Tracks"]&&(this[(n=e.toLowerCase())+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach(function(e){i.el()[n+"Tracks"].removeEventListener(e,i[n+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n))},e.overrideNativeAudioTracks=function overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)},e.overrideNativeVideoTracks=function overrideNativeVideoTracks(e){this.overrideNative_("Video",e)},e.proxyNativeTracksForType_=function proxyNativeTracksForType_(n){var e,t,i=this,r=$e[n],o=this.el()[r.getterName],a=this[r.getterName]();this["featuresNative"+r.capitalName+"Tracks"]&&o&&o.addEventListener&&(t=function removeOldTracks(){for(var e=[],t=0;t<a.length;t++){for(var n=!1,i=0;i<o.length;i++)if(o[i]===a[t]){n=!0;break}n||e.push(a[t])}for(;e.length;)a.removeTrack(e.shift())},this[r.getterName+"Listeners_"]=e={change:function change(e){var t={type:"change",target:a,currentTarget:a,srcElement:a};a.trigger(t),"text"===n&&i[ze.remoteText.getterName]().trigger(t)},addtrack:function addtrack(e){a.addTrack(e.track)},removetrack:function removetrack(e){a.removeTrack(e.track)}},Object.keys(e).forEach(function(t){var n=e[t];o.addEventListener(t,n),i.on("dispose",function(e){return o.removeEventListener(t,n)})}),this.on("loadstart",t),this.on("dispose",function(e){return i.off("loadstart",t)}))},e.proxyNativeTracks_=function proxyNativeTracks_(){var t=this;$e.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},e.createEl=function createEl(){var e,t=this.options_.tag;t&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(t?(e=t.cloneNode(!0),t.parentNode&&t.parentNode.insertBefore(e,t),Html5.disposeMediaElement(t),t=e):(t=d.a.createElement("video"),e=mergeOptions$3({},this.options_.tag&&getAttributes(this.options_.tag)),ae&&!0===this.options_.nativeControlsForTouch||delete e.controls,setAttributes(t,assign(e,{id:this.options_.techId,class:"vjs-tech"}))),t.playerId=this.options_.playerId),void 0!==this.options_.preload&&setAttribute(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var n=["loop","muted","playsinline","autoplay"],i=0;i<n.length;i++){var r=n[i],o=this.options_[r];void 0!==o&&(o?setAttribute(t,r,r):removeAttribute(t,r),t[r]=o)}return t},e.handleLateInit_=function handleLateInit_(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function setLoadstartFired(){t=!0};this.on("loadstart",n);var i=function triggerLoadstart(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),2<=e.readyState&&r.push("loadeddata"),3<=e.readyState&&r.push("canplay"),4<=e.readyState&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},e.setScrubbing=function setScrubbing(e){this.isScrubbing_=e},e.scrubbing=function scrubbing(){return this.isScrubbing_},e.setCurrentTime=function setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&ue?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){G(e,"Video is not ready. (Video.js)")}},e.duration=function duration(){var e=this;return this.el_.duration===1/0&&Q&&ne&&0===this.el_.currentTime?(this.on("timeupdate",function checkProgress(){0<e.el_.currentTime&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",checkProgress))}),NaN):this.el_.duration||NaN},e.width=function width(){return this.el_.offsetWidth},e.height=function height(){return this.el_.offsetHeight},e.proxyWebkitFullscreen_=function proxyWebkitFullscreen_(){var e,t,n=this;"webkitDisplayingFullscreen"in this.el_&&(e=function endFn(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},this.on("webkitbeginfullscreen",t=function beginFn(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))}),this.on("dispose",function(){n.off("webkitbeginfullscreen",t),n.off("webkitendfullscreen",e)}))},e.supportsFullScreen=function supportsFullScreen(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=v.a.navigator&&v.a.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},e.enterFullScreen=function enterFullScreen(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)silencePromise(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},e.exitFullScreen=function exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},e.requestPictureInPicture=function requestPictureInPicture(){return this.el_.requestPictureInPicture()},e.requestVideoFrameCallback=function requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):u.prototype.requestVideoFrameCallback.call(this,e)},e.cancelVideoFrameCallback=function cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):u.prototype.cancelVideoFrameCallback.call(this,e)},e.src=function src(e){if(void 0===e)return this.el_.src;this.setSrc(e)},e.reset=function reset(){Html5.resetMediaElement(this.el_)},e.currentSrc=function currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.setControls=function setControls(e){this.el_.controls=!!e},e.addTextTrack=function addTextTrack(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):u.prototype.addTextTrack.call(this,e,t,n)},e.createRemoteTextTrack=function createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return u.prototype.createRemoteTextTrack.call(this,e);var t=d.a.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},e.addRemoteTextTrack=function addRemoteTextTrack(e,t){t=u.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(t),t},e.removeRemoteTextTrack=function removeRemoteTextTrack(e){if(u.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),n=t.length;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])},e.getVideoPlaybackQuality=function getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),v.a.performance&&"function"==typeof v.a.performance.now?e.creationTime=v.a.performance.now():v.a.performance&&v.a.performance.timing&&"number"==typeof v.a.performance.timing.navigationStart&&(e.creationTime=v.a.Date.now()-v.a.performance.timing.navigationStart),e},Html5}(Ke);PXa(Et,"TEST_VID",function(){if(isReal()){var e=d.a.createElement("video"),t=d.a.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}}),Et.isSupported=function(){try{Et.TEST_VID.volume=.5}catch(e){return!1}return!(!Et.TEST_VID||!Et.TEST_VID.canPlayType)},Et.canPlayType=function(e){return Et.TEST_VID.canPlayType(e)},Et.canPlaySource=function(e,t){return Et.canPlayType(e.type)},Et.canControlVolume=function(){try{var e=Et.TEST_VID.volume;Et.TEST_VID.volume=e/2+.1;var t=e!==Et.TEST_VID.volume;return t&&le?(v.a.setTimeout(function(){Et&&Et.prototype&&(Et.prototype.featuresVolumeControl=e!==Et.TEST_VID.volume)}),!1):t}catch(e){return!1}},Et.canMuteVolume=function(){try{var e=Et.TEST_VID.muted;return Et.TEST_VID.muted=!e,Et.TEST_VID.muted?setAttribute(Et.TEST_VID,"muted","muted"):removeAttribute(Et.TEST_VID,"muted"),e!==Et.TEST_VID.muted}catch(e){return!1}},Et.canControlPlaybackRate=function(){if(Q&&ne&&ie<58)return!1;try{var e=Et.TEST_VID.playbackRate;return Et.TEST_VID.playbackRate=e/2+.1,e!==Et.TEST_VID.playbackRate}catch(e){return!1}},Et.canOverrideAttributes=function(){try{var e=function noop(){};Object.defineProperty(d.a.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(d.a.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(d.a.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(d.a.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Et.supportsNativeTextTracks=function(){return ue||le&&ne},Et.supportsNativeVideoTracks=function(){return!(!Et.TEST_VID||!Et.TEST_VID.videoTracks)},Et.supportsNativeAudioTracks=function(){return!(!Et.TEST_VID||!Et.TEST_VID.audioTracks)},Et.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(e){var t=e[0],n=e[1];PXa(Et.prototype,t,function(){return Et[n]()},!0)}),Et.prototype.featuresVolumeControl=Et.canControlVolume(),Et.prototype.movingMediaElementInDOM=!le,Et.prototype.featuresFullscreenResize=!0,Et.prototype.featuresProgressEvents=!0,Et.prototype.featuresTimeupdateEvents=!0,Et.prototype.featuresVideoFrameCallback=!(!Et.TEST_VID||!Et.TEST_VID.requestVideoFrameCallback),Et.patchCanPlayType=function(){4<=Z&&!ee&&!ne&&(_t=Et.TEST_VID&&Et.TEST_VID.constructor.prototype.canPlayType,Et.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":_t.call(this,e)})},Et.unpatchCanPlayType=function(){var e=Et.TEST_VID.constructor.prototype.canPlayType;return _t&&(Et.TEST_VID.constructor.prototype.canPlayType=_t),e},Et.patchCanPlayType(),Et.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Et.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Et.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Et.prototype["set"+aVa(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(e){Et.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Et.prototype["set"+aVa(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){Et.prototype[e]=function(){return this.el_[e]()}}),Ke.withSourceHandlers(Et),Et.nativeSourceHandler={},Et.nativeSourceHandler.canPlayType=function(e){try{return Et.TEST_VID.canPlayType(e)}catch(e){return""}},Et.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Et.nativeSourceHandler.canPlayType(e.type);if(e.src){e=He(e.src);return Et.nativeSourceHandler.canPlayType("video/"+e)}return""},Et.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Et.nativeSourceHandler.dispose=function(){},Et.registerSourceHandler(Et.nativeSourceHandler),Ke.registerTech("Html5",Et);var At=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Pt={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},xt=["tiny","xsmall","small","medium","large","xlarge","huge"],Mt={};xt.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Mt[e]="vjs-layout-"+t});var It={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Lt=function(c){function Player(e,t,n){var i,r;if(e.id=e.id||t.id||"vjs_video_"+me++,(t=assign(Player.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var o=e.closest("[lang]");o&&o.getAttribute&&(t.language=o.getAttribute("lang"))}else for(var a=e;a&&1===a.nodeType;){if(getAttributes(a).hasOwnProperty("lang")){t.language=a.getAttribute("lang");break}a=a.parentNode}if((i=c.call(this,null,t,n)||this).boundDocumentFullscreenChange_=function(e){return i.documentFullscreenChange_(e)},i.boundFullWindowOnEscKey_=function(e){return i.fullWindowOnEscKey(e)},i.boundUpdateStyleEl_=function(e){return i.updateStyleEl_(e)},i.boundApplyInitTime_=function(e){return i.applyInitTime_(e)},i.boundUpdateCurrentBreakpoint_=function(e){return i.updateCurrentBreakpoint_(e)},i.boundHandleTechClick_=function(e){return i.handleTechClick_(e)},i.boundHandleTechDoubleClick_=function(e){return i.handleTechDoubleClick_(e)},i.boundHandleTechTouchStart_=function(e){return i.handleTechTouchStart_(e)},i.boundHandleTechTouchMove_=function(e){return i.handleTechTouchMove_(e)},i.boundHandleTechTouchEnd_=function(e){return i.handleTechTouchEnd_(e)},i.boundHandleTechTap_=function(e){return i.handleTechTap_(e)},i.isFullscreen_=!1,i.log=$(i.id_),i.fsApi_=F,i.isPosterFromTech_=!1,i.queuedCallbacks_=[],i.isReady_=!1,i.hasStarted_=!1,i.userActive_=!1,i.debugEnabled_=!1,i.audioOnlyMode_=!1,i.audioPosterMode_=!1,i.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!i.options_||!i.options_.techOrder||!i.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");i.tag=e,i.tagAttributes=e&&getAttributes(e),i.language(i.options_.language),t.languages?(r={},Object.getOwnPropertyNames(t.languages).forEach(function(e){r[e.toLowerCase()]=t.languages[e]}),i.languages_=r):i.languages_=Player.prototype.options_.languages,i.resetCache_(),i.poster_=t.poster||"",i.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),i.changingSrc_=!1,i.playCallbacks_=[],i.playTerminatedQueue_=[],e.hasAttribute("autoplay")?i.autoplay(!0):i.autoplay(i.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(e){if("function"!=typeof i[e])throw new Error('plugin "'+e+'" does not exist')}),i.scrubbing_=!1,i.el_=i.createEl(),evented(b()(i),{eventBusKey:"el_"}),i.fsApi_.requestFullscreen&&(on(d.a,i.fsApi_.fullscreenchange,i.boundDocumentFullscreenChange_),i.on(i.fsApi_.fullscreenchange,i.boundDocumentFullscreenChange_)),i.fluid_&&i.on(["playerreset","resize"],i.boundUpdateStyleEl_);n=mergeOptions$3(i.options_);t.plugins&&Object.keys(t.plugins).forEach(function(e){i[e](t.plugins[e])}),t.debug&&i.debug(!0),i.options_.playerOptions=n,i.middleware_=[],i.playbackRates(t.playbackRates),i.initChildren(),i.isAudio("audio"===e.nodeName.toLowerCase()),i.controls()?i.addClass("vjs-controls-enabled"):i.addClass("vjs-controls-disabled"),i.el_.setAttribute("role","region"),i.isAudio()?i.el_.setAttribute("aria-label",i.localize("Audio Player")):i.el_.setAttribute("aria-label",i.localize("Video Player")),i.isAudio()&&i.addClass("vjs-audio"),i.flexNotSupported_()&&i.addClass("vjs-no-flex"),ae&&i.addClass("vjs-touch-enabled"),le||i.addClass("vjs-workinghover"),Player.players[i.id_]=b()(i);e="7.21.1".split(".")[0];return i.addClass("vjs-v"+e),i.userActive(!0),i.reportUserActivity(),i.one("play",function(e){return i.listenForUserActivity_(e)}),i.on("stageclick",function(e){return i.handleStageClick_(e)}),i.on("keydown",function(e){return i.handleKeyDown(e)}),i.on("languagechange",function(e){return i.handleLanguagechange(e)}),i.breakpoints(i.options_.breakpoints),i.responsive(i.options_.responsive),i.on("ready",function(){i.audioPosterMode(i.options_.audioPosterMode),i.audioOnlyMode(i.options_.audioOnlyMode)}),i}h()(Player,c);var e=Player.prototype;return e.dispose=function dispose(){var t=this;this.trigger("dispose"),this.off("dispose"),off(d.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),off(d.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Player.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function clearCacheForPlayer(e){Qe[e.id()]=null}(this),Ye.names.forEach(function(e){e=Ye[e],e=t[e.getterName]();e&&e.off&&e.off()}),c.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},e.createEl=function createEl(){var t,n=this.tag,e=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();e?t=this.el_=n.parentNode:i||(t=this.el_=c.prototype.createEl.call(this,"div"));var r,o,a=getAttributes(n);if(i){for(t=this.el_=n,n=this.tag=d.a.createElement("video");t.children.length;)n.appendChild(t.firstChild);hasClass(t,"video-js")||addClass(t,"video-js"),t.appendChild(n),e=this.playerElIngest_=t,Object.keys(t).forEach(function(e){try{n[e]=t[e]}catch(e){}})}n.setAttribute("tabindex","-1"),a.tabindex="-1",(re||ne&&oe)&&(n.setAttribute("role","application"),a.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach(function(e){i&&"class"===e||t.setAttribute(e,a[e]),i&&n.setAttribute(e,a[e])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",(n.player=t.player=this).addClass("vjs-paused"),!0!==v.a.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=AUa("vjs-styles-dimensions"),r=de(".vjs-styles-defaults"),(o=de("head")).insertBefore(this.styleEl_,r?r.nextSibling:o.firstChild)),this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var s=n.getElementsByTagName("a"),l=0;l<s.length;l++){var u=s.item(l);addClass(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!e&&n.parentNode.insertBefore(t,n),prependTo(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t},e.crossOrigin=function crossOrigin(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):G.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},e.width=function width(e){return this.dimension("width",e)},e.height=function height(e){return this.dimension("height",e)},e.dimension=function dimension(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?G.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},e.fluid=function fluid(e){var t=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,Ce(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),SUa(this,function(){t.on(["playerreset","resize"],t.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.fill=function fill(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.aspectRatio=function aspectRatio(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},e.updateStyleEl_=function updateStyleEl_(){var e,t,n,i;!0!==v.a.VIDEOJS_NO_DYNAMIC_STYLE?(i=(n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"))[1]/n[0],e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),BUa(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*i+"%;\n      }\n    ")):(t="number"==typeof this.width_?this.width_:this.options_.width,n="number"==typeof this.height_?this.height_:this.options_.height,(i=this.tech_&&this.tech_.el())&&(0<=t&&(i.width=t),0<=n&&(i.height=n)))},e.loadTech_=function loadTech_(e,t){var n=this;this.tech_&&this.unloadTech_();var i=aVa(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(Ke.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var o=this.autoplay(),a={source:t,autoplay:o="string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay?!1:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Ye.names.forEach(function(e){e=Ye[e];a[e.getterName]=n[e.privateName]}),assign(a,this.options_[i]),assign(a,this.options_[r]),assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(a.startTime=this.cache_.currentTime);e=Ke.getTech(e);if(!e)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new e(a),this.tech_.ready(Te(this,this.handleTechReady_),!0),Le(this.textTracksJson_||[],this.tech_),At.forEach(function(t){n.on(n.tech_,t,function(e){return n["handleTech"+aVa(t)+"_"](e)})}),Object.keys(Pt).forEach(function(t){n.on(n.tech_,t,function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Pt[t]+"_"].bind(n),event:e}):n["handleTech"+Pt[t]+"_"](e)})}),this.on(this.tech_,"loadstart",function(e){return n.handleTechLoadStart_(e)}),this.on(this.tech_,"sourceset",function(e){return n.handleTechSourceset_(e)}),this.on(this.tech_,"waiting",function(e){return n.handleTechWaiting_(e)}),this.on(this.tech_,"ended",function(e){return n.handleTechEnded_(e)}),this.on(this.tech_,"seeking",function(e){return n.handleTechSeeking_(e)}),this.on(this.tech_,"play",function(e){return n.handleTechPlay_(e)}),this.on(this.tech_,"firstplay",function(e){return n.handleTechFirstPlay_(e)}),this.on(this.tech_,"pause",function(e){return n.handleTechPause_(e)}),this.on(this.tech_,"durationchange",function(e){return n.handleTechDurationChange_(e)}),this.on(this.tech_,"fullscreenchange",function(e,t){return n.handleTechFullscreenChange_(e,t)}),this.on(this.tech_,"fullscreenerror",function(e,t){return n.handleTechFullscreenError_(e,t)}),this.on(this.tech_,"enterpictureinpicture",function(e){return n.handleTechEnterPictureInPicture_(e)}),this.on(this.tech_,"leavepictureinpicture",function(e){return n.handleTechLeavePictureInPicture_(e)}),this.on(this.tech_,"error",function(e){return n.handleTechError_(e)}),this.on(this.tech_,"posterchange",function(e){return n.handleTechPosterChange_(e)}),this.on(this.tech_,"textdata",function(e){return n.handleTechTextData_(e)}),this.on(this.tech_,"ratechange",function(e){return n.handleTechRateChange_(e)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||prependTo(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.unloadTech_=function unloadTech_(){var t=this;Ye.names.forEach(function(e){e=Ye[e];t[e.privateName]=t[e.getterName]()}),this.textTracksJson_=Ie(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.tech=function tech(e){return void 0===e&&G.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},e.addTechControlsListeners_=function addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},e.removeTechControlsListeners_=function removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},e.handleTechReady_=function handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},e.handleTechLoadStart_=function handleTechLoadStart_(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},e.manualAutoplay_=function manualAutoplay_(e){var n=this;if(this.tech_&&"string"==typeof e){var t,i=function resolveMuted(){var e=n.muted();n.muted(!0);function sD0(){n.muted(e)}n.playTerminatedQueue_.push(sD0);var t=n.play();if(isPromise(t))return t.catch(function(e){throw sD0(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))})};if("any"!==e||this.muted()?t="muted"!==e||this.muted()?this.play():i():isPromise(t=this.play())&&(t=t.catch(i)),isPromise(t))return t.then(function(){n.trigger({type:"autoplay-success",autoplay:e})}).catch(function(){n.trigger({type:"autoplay-failure",autoplay:e})})}},e.updateSourceCaches_=function updateSourceCaches_(e){var t=e=void 0===e?"":e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=bWa(this,t)),this.cache_.source=mergeOptions$3({},e,{src:t,type:n});for(var n=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),i=[],r=this.$$("source"),o=[],a=0;a<r.length;a++){var s=getAttributes(r[a]);i.push(s),s.src&&s.src===t&&o.push(s.src)}o.length&&!n.length?this.cache_.sources=i:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},e.handleTechSourceset_=function handleTechSourceset_(e){var t,n,i,r=this;this.changingSrc_||(t=function updateSourceCaches(e){return r.updateSourceCaches_(e)},n=this.currentSource().src,i=e.src,n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(this.lastSource_&&(this.lastSource_.tech===i||this.lastSource_.player===n)||(t=function updateSourceCaches(){})),t(i),e.src||this.tech_.any(["sourceset","loadstart"],function(e){"sourceset"!==e.type&&(e=r.techGet("currentSrc"),r.lastSource_.tech=e,r.updateSourceCaches_(e))})),this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},e.hasStarted=function hasStarted(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.handleTechPlay_=function handleTechPlay_(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.handleTechRateChange_=function handleTechRateChange_(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.handleTechWaiting_=function handleTechWaiting_(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",function timeUpdateListener(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",timeUpdateListener))})},e.handleTechCanPlay_=function handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.handleTechCanPlayThrough_=function handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.handleTechPlaying_=function handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.handleTechSeeking_=function handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.handleTechSeeked_=function handleTechSeeked_(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},e.handleTechFirstPlay_=function handleTechFirstPlay_(){this.options_.starttime&&(G.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.handleTechPause_=function handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.handleTechEnded_=function handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.handleTechDurationChange_=function handleTechDurationChange_(){this.duration(this.techGet_("duration"))},e.handleTechClick_=function handleTechClick_(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?silencePromise(this.play()):this.pause()))},e.handleTechDoubleClick_=function handleTechDoubleClick_(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},e.handleTechTap_=function handleTechTap_(){this.userActive(!this.userActive())},e.handleTechTouchStart_=function handleTechTouchStart_(){this.userWasActive=this.userActive()},e.handleTechTouchMove_=function handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()},e.handleTechTouchEnd_=function handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()},e.handleStageClick_=function handleStageClick_(){this.reportUserActivity()},e.toggleFullscreenClass_=function toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.documentFullscreenChange_=function documentFullscreenChange_(e){var t=e.target.player;t&&t!==this||(e=this.el(),!(t=d.a[this.fsApi_.fullscreenElement]===e)&&e.matches?t=e.matches(":"+this.fsApi_.fullscreen):!t&&e.msMatchesSelector&&(t=e.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(t))},e.handleTechFullscreenChange_=function handleTechFullscreenChange_(e,t){var n=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){n.removeClass("vjs-ios-native-fs")})),this.isFullscreen(t.isFullscreen))},e.handleTechFullscreenError_=function handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)},e.togglePictureInPictureClass_=function togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},e.handleTechEnterPictureInPicture_=function handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)},e.handleTechLeavePictureInPicture_=function handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)},e.handleTechError_=function handleTechError_(){var e=this.tech_.error();this.error(e)},e.handleTechTextData_=function handleTechTextData_(){var e=1<arguments.length?arguments[1]:null;this.trigger("textdata",e)},e.getCache=function getCache(){return this.cache_},e.resetCache_=function resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},e.techCall_=function techCall_(e,t){this.ready(function(){if(e in et)return function set(e,t,n,i){return t[n](e.reduce(middlewareIterator(n),i))}(this.middleware_,this.tech_,e,t);if(e in tt)return mediate(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw G(e),e}},!0)},e.techGet_=function techGet_(t){if(this.tech_&&this.tech_.isReady_){if(t in Je)return function get(e,t,n){return e.reduceRight(middlewareIterator(n),t[n]())}(this.middleware_,this.tech_,t);if(t in tt)return mediate(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw G("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw G("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw G(e),e}}},e.play=function play(){var t=this,e=this.options_.Promise||v.a.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},e.play_=function play_(e){var t=this;this.playCallbacks_.push(e=void 0===e?silencePromise:e);e=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!e)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(e||!ue&&!le||this.load());e=this.techGet_("play");null===e?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(e)},e.runPlayTerminatedQueue_=function runPlayTerminatedQueue_(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},e.runPlayCallbacks_=function runPlayCallbacks_(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach(function(e){e(t)})},e.pause=function pause(){this.techCall_("pause")},e.paused=function paused(){return!1!==this.techGet_("paused")},e.played=function played(){return this.techGet_("played")||createTimeRanges(0,0)},e.scrubbing=function scrubbing(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.currentTime=function currentTime(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.applyInitTime_=function applyInitTime_(){this.currentTime(this.cache_.initTime)},e.duration=function duration(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=(e=parseFloat(e))<0?1/0:e)!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},e.remainingTime=function remainingTime(){return this.duration()-this.currentTime()},e.remainingTimeDisplay=function remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.buffered=function buffered(){var buffered;return buffered=!(buffered=this.techGet_("buffered"))||!buffered.length?createTimeRanges(0,0):buffered},e.bufferedPercent=function bufferedPercent$1(){return bufferedPercent(this.buffered(),this.duration())},e.bufferedEnd=function bufferedEnd(){var e=this.buffered(),t=this.duration(),e=e.end(e.length-1);return e=t<e?t:e},e.volume=function volume(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},e.muted=function muted(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},e.defaultMuted=function defaultMuted(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},e.lastVolume_=function lastVolume_(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},e.supportsFullScreen=function supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1},e.isFullscreen=function isFullscreen(e){if(void 0===e)return this.isFullscreen_;var t=this.isFullscreen_;this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_()},e.requestFullscreen=function requestFullscreen(i){var e=this.options_.Promise||v.a.Promise;if(e){var r=this;return new e(function(e,n){function offHandler(){r.off("fullscreenerror",errorHandler),r.off("fullscreenchange",changeHandler)}function changeHandler(){offHandler(),e()}function errorHandler(e,t){offHandler(),n(t)}r.one("fullscreenchange",changeHandler),r.one("fullscreenerror",errorHandler);var t=r.requestFullscreenHelper_(i);t&&(t.then(offHandler,offHandler),t.then(e,n))})}return this.requestFullscreenHelper_()},e.requestFullscreenHelper_=function requestFullscreenHelper_(e){var t=this;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(n=e)),this.fsApi_.requestFullscreen){var n=this.el_[this.fsApi_.requestFullscreen](n);return n&&n.then(function(){return t.isFullscreen(!0)},function(){return t.isFullscreen(!1)}),n}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},e.exitFullscreen=function exitFullscreen(){var e=this.options_.Promise||v.a.Promise;if(e){var i=this;return new e(function(e,n){function offHandler(){i.off("fullscreenerror",errorHandler),i.off("fullscreenchange",changeHandler)}function changeHandler(){offHandler(),e()}function errorHandler(e,t){offHandler(),n(t)}i.one("fullscreenchange",changeHandler),i.one("fullscreenerror",errorHandler);var t=i.exitFullscreenHelper_();t&&(t.then(offHandler,offHandler),t.then(e,n))})}return this.exitFullscreenHelper_()},e.exitFullscreenHelper_=function exitFullscreenHelper_(){var e=this;if(this.fsApi_.requestFullscreen){var t=d.a[this.fsApi_.exitFullscreen]();return t&&silencePromise(t.then(function(){return e.isFullscreen(!1)})),t}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},e.enterFullWindow=function enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=d.a.documentElement.style.overflow,on(d.a,"keydown",this.boundFullWindowOnEscKey_),d.a.documentElement.style.overflow="hidden",addClass(d.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.fullWindowOnEscKey=function fullWindowOnEscKey(e){a.a.isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},e.exitFullWindow=function exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,off(d.a,"keydown",this.boundFullWindowOnEscKey_),d.a.documentElement.style.overflow=this.docOrigOverflow,removeClass(d.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.disablePictureInPicture=function disablePictureInPicture(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},e.isInPictureInPicture=function isInPictureInPicture(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},e.requestPictureInPicture=function requestPictureInPicture(){if("pictureInPictureEnabled"in d.a&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},e.exitPictureInPicture=function exitPictureInPicture(){if("pictureInPictureEnabled"in d.a)return d.a.exitPictureInPicture()},e.handleKeyDown=function handleKeyDown(e){var t=this.options_.userActions;t&&t.hotkeys&&(function excludeElement(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)}(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e)))},e.handleHotkeys=function handleHotkeys(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,i=void 0===n?function(e){return a.a.isEventKey(e,"f")}:n,n=t.muteKey,n=void 0===n?function(e){return a.a.isEventKey(e,"m")}:n,t=t.playPauseKey,t=void 0===t?function(e){return a.a.isEventKey(e,"k")||a.a.isEventKey(e,"Space")}:t;i.call(this,e)?(e.preventDefault(),e.stopPropagation(),i=xe.getComponent("FullscreenToggle"),!1!==d.a[this.fsApi_.fullscreenEnabled]&&i.prototype.handleClick.call(this,e)):n.call(this,e)?(e.preventDefault(),e.stopPropagation(),xe.getComponent("MuteToggle").prototype.handleClick.call(this,e)):t.call(this,e)&&(e.preventDefault(),e.stopPropagation(),xe.getComponent("PlayToggle").prototype.handleClick.call(this,e))},e.canPlayType=function canPlayType(e){for(var t,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],o=Ke.getTech(r);if(o=o||xe.getComponent(r)){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else G.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.selectSource=function selectSource(e){function NF0(e,n,i){var r;return e.some(function(t){return n.some(function(e){if(r=i(t,e))return!0})}),r}function QF0(e,t){var n=e[0];if(e[1].canPlaySource(t,i.options_[n.toLowerCase()]))return{source:t,tech:n}}var i=this,t=this.options_.techOrder.map(function(e){return[e,Ke.getTech(e)]}).filter(function(e){var t=e[0],e=e[1];return e?e.isSupported():(G.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),e=this.options_.sourceOrder?NF0(e,t,function flip(n){return function(e,t){return n(t,e)}}(QF0)):NF0(t,e,QF0);return e||!1},e.handleSrc_=function handleSrc_(e,n){var i=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var t,r,o=cWa(e);o.length?(this.changingSrc_=!0,n||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),setSource(this,o[0],function(e,t){return i.middleware_=t,n||(i.cache_.sources=o),i.updateSourceCaches_(e),i.src_(e)?1<o.length?i.handleSrc_(o.slice(1)):(i.changingSrc_=!1,i.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),void i.triggerReady()):void function setTech(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}(t,i.tech_)}),this.options_.retryOnError&&1<o.length&&(t=function retry(){i.error(null),i.handleSrc_(o.slice(1),!0)},r=function stopListeningForErrors(){i.off("error",t)},this.one("error",t),this.one("playing",r),this.resetRetryOnError_=function(){i.off("error",t),i.off("playing",r)})):this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0)},e.src=function src(e){return this.handleSrc_(e,!1)},e.src_=function src_(e){var t=this,n=this.selectSource([e]);return!n||(bVa(n.tech,this.techName_)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(function(){t.changingSrc_=!1})),!1)},e.load=function load(){this.techCall_("load")},e.reset=function reset(){var e=this,t=this.options_.Promise||v.a.Promise;this.paused()||!t?this.doReset_():silencePromise(this.play().then(function(){return e.doReset_()}))},e.doReset_=function doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Ce(this)&&this.trigger("playerreset")},e.resetControlBarUI_=function resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},e.resetProgressBar_=function resetProgressBar_(){this.currentTime(0);var e=this.controlBar||{},t=e.durationDisplay,e=e.remainingTimeDisplay;t&&t.updateContent(),e&&e.updateContent()},e.resetPlaybackRate_=function resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},e.resetVolumeBar_=function resetVolumeBar_(){this.volume(1),this.trigger("volumechange")},e.currentSources=function currentSources(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},e.currentSource=function currentSource(){return this.cache_.source||{}},e.currentSrc=function currentSrc(){return this.currentSource()&&this.currentSource().src||""},e.currentType=function currentType(){return this.currentSource()&&this.currentSource().type||""},e.preload=function preload(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},e.autoplay=function autoplay(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},e.playsinline=function playsinline(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},e.loop=function loop(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},e.poster=function poster(e){if(void 0===e)return this.poster_;(e=e||"")!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.handleTechPosterChange_=function handleTechPosterChange_(){var e;this.poster_&&!this.options_.techCanOverridePoster||!this.tech_||!this.tech_.poster||(e=this.tech_.poster()||"")!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))},e.controls=function controls(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.usingNativeControls=function usingNativeControls(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.error=function error(t){var n=this;if(void 0===t)return this.error_||null;if(R("beforeerror").forEach(function(e){e=e(n,t);isObject(e)&&!Array.isArray(e)||"string"==typeof e||"number"==typeof e||null===e?t=e:n.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function triggerSuppressedError(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",function(){this.off(["click","touchstart"],e)})}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new MediaError(t),this.addClass("vjs-error"),G.error("(CODE:"+this.error_.code+" "+MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),R("error").forEach(function(e){return e(n,n.error_)})},e.reportUserActivity=function reportUserActivity(e){this.userActivity_=!0},e.userActive=function userActive(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.listenForUserActivity_=function listenForUserActivity_(){function XG0(e){e.screenX===n&&e.screenY===i||(n=e.screenX,i=e.screenY,r())}function ZG0(e){r(),this.clearInterval(t)}var t,n,i,r=Te(this,this.reportUserActivity);this.on("mousedown",function handleMouseDown(){r(),this.clearInterval(t),t=this.setInterval(r,250)}),this.on("mousemove",XG0),this.on("mouseup",ZG0),this.on("mouseleave",ZG0);var o,e=this.getChild("controlBar");!e||le||Q||(e.on("mouseenter",function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),e.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r),this.setInterval(function(){var e;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o),(e=this.options_.inactivityTimeout)<=0||(o=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e)))},250)},e.playbackRate=function playbackRate(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},e.defaultPlaybackRate=function defaultPlaybackRate(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.isAudio=function isAudio(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},e.enableAudioOnlyUI_=function enableAudioOnlyUI_(){var t=this;this.addClass("vjs-audio-only-mode");var e=this.children(),n=this.getChild("ControlBar"),i=n&&n.currentHeight();e.forEach(function(e){e!==n&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),t.audioOnlyCache_.hiddenChildren.push(e))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(i),this.trigger("audioonlymodechange")},e.disableAudioOnlyUI_=function disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(e){return e.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},e.audioOnlyMode=function audioOnlyMode(e){var t=this;if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var n=this.options_.Promise||v.a.Promise;if(n){if(e){var i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),n.all(i).then(function(){return t.enableAudioOnlyUI_()})}return n.resolve().then(function(){return t.disableAudioOnlyUI_()})}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},e.enablePosterModeUI_=function enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},e.disablePosterModeUI_=function disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},e.audioPosterMode=function audioPosterMode(e){var t=this;if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var n=this.options_.Promise||v.a.Promise;return n?e?(this.audioOnlyMode()?this.audioOnlyMode(!1):n.resolve()).then(function(){t.enablePosterModeUI_()}):n.resolve().then(function(){t.disablePosterModeUI_()}):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},e.addTextTrack=function addTextTrack(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},e.addRemoteTextTrack=function addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},e.removeRemoteTextTrack=function removeRemoteTextTrack(e){var t=(t=(e=void 0===e?{}:e).track)||e;if(this.tech_)return this.tech_.removeRemoteTextTrack(t)},e.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")},e.videoWidth=function videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.videoHeight=function videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.language=function language(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Ce(this)&&this.trigger("languagechange"))},e.languages=function languages(){return mergeOptions$3(Player.prototype.options_.languages,this.languages_)},e.toJSON=function toJSON(){var e=mergeOptions$3(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=mergeOptions$3(i)).player=void 0,e.tracks[n]=i}return e},e.createModal=function createModal(e,t){var n=this;(t=t||{}).content=e||"";var i=new De(this,t);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},e.updateCurrentBreakpoint_=function updateCurrentBreakpoint_(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<xt.length;n++){var i=xt[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass(Mt[e]),this.addClass(Mt[i]),this.breakpoint_=i;break}}},e.removeCurrentBreakpoint_=function removeCurrentBreakpoint_(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},e.breakpoints=function breakpoints(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=assign({},It,e),this.updateCurrentBreakpoint_()),assign(this.breakpoints_)},e.responsive=function responsive(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?((this.responsive_=e)?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},e.currentBreakpoint=function currentBreakpoint(){return this.breakpoint_},e.currentBreakpointClass=function currentBreakpointClass(){return Mt[this.breakpoint_]||""},e.loadMedia=function loadMedia(e,t){var n,i,r,o=this;e&&"object"==typeof e&&(this.reset(),this.cache_.media=mergeOptions$3(e),n=(r=this.cache_.media).artwork,i=r.poster,e=r.src,r=r.textTracks,!n&&i&&(this.cache_.media.artwork=[{src:i,type:it(i)}]),e&&this.src(e),i&&this.poster(i),Array.isArray(r)&&r.forEach(function(e){return o.addRemoteTextTrack(e,!1)}),this.ready(t))},e.getMedia=function getMedia(){if(this.cache_.media)return mergeOptions$3(this.cache_.media);var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}})};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:it(t.poster)}]),t},Player.getTagSettings=function getTagSettings(e){var t,n={sources:[],tracks:[]},i=getAttributes(e),r=i["data-setup"];if(hasClass(e,"vjs-fill")&&(i.fill=!0),hasClass(e,"vjs-fluid")&&(i.fluid=!0),null!==r&&(r=(t=p()(r||"{}"))[0],t=t[1],r&&G.error(r),assign(i,t)),assign(n,i),e.hasChildNodes())for(var o=e.childNodes,a=0,s=o.length;a<s;a++){var l=o[a],u=l.nodeName.toLowerCase();"source"===u?n.sources.push(getAttributes(l)):"track"===u&&n.tracks.push(getAttributes(l))}return n},e.flexNotSupported_=function flexNotSupported_(){var e=d.a.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},e.debug=function debug(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},e.playbackRates=function playbackRates(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every(function(e){return"number"==typeof e})&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},Player}(xe);Ye.names.forEach(function(e){var t=Ye[e];Lt.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),Lt.prototype.crossorigin=Lt.prototype.crossOrigin,Lt.players={};at=v.a.navigator;Lt.prototype.options_={techOrder:Ke.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:at&&(at.languages&&at.languages[0]||at.userLanguage||at.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Lt.prototype[e]=function(){return this.techGet_(e)}}),At.forEach(function(e){Lt.prototype["handleTech"+aVa(e)+"_"]=function(){return this.trigger(e)}}),xe.registerComponent("Player",Lt);function aYa(e){return Rt.hasOwnProperty(e)}function bYa(e){return aYa(e)?Rt[e]:void 0}function cYa(e,t){e[Dt]=e[Dt]||{},e[Dt][t]=!0}function dYa(e,t,n){n=(n?"before":"")+"pluginsetup",e.trigger(n,t),e.trigger(n+":"+t.name,t)}function eYa(t,n){function OI0(){dYa(this,{name:t,plugin:n,instance:null},!0);var e=n.apply(this,arguments);return cYa(this,t),dYa(this,{name:t,plugin:n,instance:e}),e}return Object.keys(n).forEach(function(e){OI0[e]=n[e]}),OI0}function fYa(r,o){return o.prototype.name=r,function(){dYa(this,{name:r,plugin:o,instance:null},!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=_()(o,[this].concat(t));return this[r]=function(){return i},dYa(this,i.getEventHash()),i}}var Ot="plugin",Dt="activePlugins_",Rt={},Nt=function(){function Plugin(e){if(this.constructor===Plugin)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),evented(this),delete this.trigger,stateful(this,this.constructor.defaultState),cYa(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}var e=Plugin.prototype;return e.version=function version(){return this.constructor.VERSION},e.getEventHash=function getEventHash(e){return(e=void 0===e?{}:e).name=this.name,e.plugin=this.constructor,e.instance=this,e},e.trigger=function trigger$1(e,t){return trigger(this.eventBusEl_,e,this.getEventHash(t=void 0===t?{}:t))},e.handleStateChanged=function handleStateChanged(e){},e.dispose=function dispose(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Dt][e]=!1,this.player=this.state=null,t[e]=fYa(e,Rt[e])},Plugin.isBasic=function isBasic(e){e="string"==typeof e?bYa(e):e;return"function"==typeof e&&!Plugin.prototype.isPrototypeOf(e.prototype)},Plugin.registerPlugin=function registerPlugin(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(aYa(e))G.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Lt.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof t+".");return Rt[e]=t,e!==Ot&&(Plugin.isBasic(t)?Lt.prototype[e]=eYa(e,t):Lt.prototype[e]=fYa(e,t)),t},Plugin.deregisterPlugin=function deregisterPlugin(e){if(e===Ot)throw new Error("Cannot de-register base plugin.");aYa(e)&&(delete Rt[e],delete Lt.prototype[e])},Plugin.getPlugins=function getPlugins(e){var n;return(e=void 0===e?Object.keys(Rt):e).forEach(function(e){var t=bYa(e);t&&((n=n||{})[e]=t)}),n},Plugin.getPluginVersion=function getPluginVersion(e){e=bYa(e);return e&&e.VERSION||""},Plugin}();Nt.getPlugin=bYa,Nt.BASE_PLUGIN_NAME=Ot,Nt.registerPlugin(Ot,Nt),Lt.prototype.usingPlugin=function(e){return!!this[Dt]&&!0===this[Dt][e]};function iYa(e,t){void 0===t&&(t={}),Bt||(G.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),Bt=!0);var n,i=function subClass(){e.apply(this,arguments)},r={};for(n in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),r=t):"function"==typeof t&&(i=t),S()(i,e),e&&(i.super_=e),r)r.hasOwnProperty(n)&&(i.prototype[n]=r[n]);return i}function jYa(e){return 0===e.indexOf("#")?e.slice(1):e}var Bt=!(Lt.prototype.hasPlugin=function(e){return!!aYa(e)});function videojs(e,t,n){if(r=videojs.getPlayer(e))return t&&G.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"==typeof e?de("#"+jYa(e)):e;if(!isEl(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");i.ownerDocument.defaultView&&i.ownerDocument.body.contains(i)||G.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(i.parentNode&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),R("beforesetup").forEach(function(e){e=e(i,mergeOptions$3(t));isObject(e)&&!Array.isArray(e)?t=mergeOptions$3(t,e):G.error("please return an object in beforesetup hooks")});var r=new(xe.getComponent("Player"))(i,t,n);return R("setup").forEach(function(e){return e(r)}),r}videojs.hooks_=D,videojs.hooks=R,videojs.hook=N,videojs.hookOnce=j,videojs.removeHook=B,!0!==v.a.VIDEOJS_NO_DYNAMIC_STYLE&&isReal()&&((N=de(".vjs-styles-defaults"))||(N=AUa("vjs-styles-defaults"),(j=de("head"))&&j.insertBefore(N,j.firstChild),BUa(N,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    "))),autoSetupTimeout(1,videojs),videojs.VERSION="7.21.1",videojs.options=Lt.prototype.options_,videojs.getPlayers=function(){return Lt.players},videojs.getPlayer=function(e){var t=Lt.players;if("string"==typeof e){var n=jYa(e),i=t[n];if(i)return i;n=de("#"+n)}else n=e;if(isEl(n)){e=n,n=e.player,e=e.playerId;if(n||t[e])return n||t[e]}},videojs.getAllPlayers=function(){return Object.keys(Lt.players).map(function(e){return Lt.players[e]}).filter(Boolean)},videojs.players=Lt.players,videojs.getComponent=xe.getComponent,videojs.registerComponent=function(e,t){Ke.isTech(t)&&G.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),xe.registerComponent.call(xe,e,t)},videojs.getTech=Ke.getTech,videojs.registerTech=Ke.registerTech,videojs.use=function use(e,t){Xe[e]=Xe[e]||[],Xe[e].push(t)},Object.defineProperty(videojs,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(videojs.middleware,"TERMINATOR",{value:Ze,writeable:!1,enumerable:!0}),videojs.browser=c,videojs.TOUCH_ENABLED=ae,videojs.extend=iYa,videojs.mergeOptions=mergeOptions$3,videojs.bind=Te,videojs.registerPlugin=Nt.registerPlugin,videojs.deregisterPlugin=Nt.deregisterPlugin,videojs.plugin=function(e,t){return G.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Nt.registerPlugin(e,t)},videojs.getPlugins=Nt.getPlugins,videojs.getPlugin=Nt.getPlugin,videojs.getPluginVersion=Nt.getPluginVersion,videojs.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),videojs.options.languages=mergeOptions$3(videojs.options.languages,((n={})[e]=t,n)),videojs.options.languages[e]},videojs.log=G,videojs.createLogger=$,videojs.createTimeRange=videojs.createTimeRanges=createTimeRanges,videojs.formatTime=formatTime,videojs.setFormatTime=function setFormatTime(e){st=e},videojs.resetFormatTime=function resetFormatTime(){st=pWa},videojs.parseUrl=CVa,videojs.isCrossOrigin=qe,videojs.EventTarget=OUa,videojs.on=on,videojs.one=one,videojs.off=off,videojs.trigger=trigger,videojs.xhr=f.a,videojs.TextTrack=Ge,videojs.AudioTrack=X,videojs.VideoTrack=r,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){videojs[e]=function(){return G.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),pe[e].apply(null,arguments)}}),videojs.computedStyle=computedStyle,videojs.dom=pe,videojs.url=n,videojs.defineLazyProperty=PXa,videojs.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});function nYa(e,t,n){return e&&n&&n.responseURL&&t!==n.responseURL?n.responseURL:t}function sYa(e,n){return Ht(e,function(e,t){return e-Vt<=n&&n<=t+Vt})}function tYa(e,t){return Ht(e,function(e){return t<=e-Ut})}function uYa(e){if(e.length<2)return videojs.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var i=e.end(n-1),r=e.start(n);t.push([i,r])}return videojs.createTimeRanges(t)}function vYa(e,t){var n=null,i=null,r=0,o=[],a=[];if(!(e&&e.length&&t&&t.length))return videojs.createTimeRange();for(var s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(o.sort(function(e,t){return e.time-t.time}),s=0;s<o.length;s++)"start"===o[s].type?2===++r&&(n=o[s].time):"end"===o[s].type&&1===--r&&(i=o[s].time),null!==n&&null!==i&&(a.push([n,i]),i=n=null);return videojs.createTimeRanges(a)}function wYa(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")}function xYa(e,t,n){return void 0===n&&(n=1),((e.length?e.end(e.length-1):0)-t)/n}function yYa(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function zYa(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}function AYa(e){if(e&&e.length&&e.end)return e.end(e.length-1)}function BYa(e,t){var n=0;if(!e||!e.length)return n;for(var i=0;i<e.length;i++){var r=e.start(i),o=e.end(i);o<t||(n+=r<t&&t<=o?o-t:o-r)}return n}function DYa(t,e){if(!e.preload)return e.duration;var n=0;return(e.parts||[]).forEach(function(e){n+=e.duration}),(e.preloadHints||[]).forEach(function(e){"PART"===e.type&&(n+=t.partTargetDuration)}),n}function EYa(e){return(e.segments||[]).reduce(function(n,i,r){return i.parts?i.parts.forEach(function(e,t){n.push({duration:e.duration,segmentIndex:r,partIndex:t,part:e,segment:i})}):n.push({duration:i.duration,segmentIndex:r,partIndex:null,segment:i,part:null}),n},[])}function FYa(e){return(e=e.segments&&e.segments.length&&e.segments[e.segments.length-1])&&e.parts||[]}function GYa(e){var t=e.preloadSegment;if(t){e=t.parts,t=(t.preloadHints||[]).reduce(function(e,t){return e+("PART"===t.type?1:0)},0);return t+=e&&e.length?e.length:0}}function MYa(e){var t=e.defaultDuration,n=e.durationList,i=e.startIndex,r=e.endIndex,o=0;if(r<i&&(i=(e=[r,i])[0],r=e[1]),i<0){for(var a=i;a<Math.min(0,r);a++)o+=t;i=0}for(var s=i;s<r;s++)o+=n[s].duration;return o}function NYa(e,t,n,i){return e&&e.segments?e.endList?Kt(e):null===t?null:(t=Yt(e,e.mediaSequence+e.segments.length,t=t||0),n&&(t-=i="number"==typeof i?i:Wt(null,e)),Math.max(0,t)):null}function QYa(e){return e.excludeUntil&&e.excludeUntil>Date.now()}function RYa(e){return e.excludeUntil&&e.excludeUntil===1/0}function SYa(e){var t=QYa(e);return!e.disabled&&!t}function VYa(e,t){return t.attributes&&t.attributes[e]}function XYa(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!SYa(e)&&(e.attributes.BANDWIDTH||0)<n}).length}function YYa(e,t){return!(!e&&!t||!e&&t||e&&!t)&&(e===t||(!(!e.id||!t.id||e.id!==t.id)||(!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri))))}function ZYa(e,t){var n,i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(n in i){for(var o in i[n])if(r=t(i[n][o]))break;if(r)break}return!!r}function cZa(e){var t=e.onwarn,n=e.oninfo,i=e.manifestString,r=void 0===(o=e.customTagParsers)?[]:o,o=void 0===(o=e.customTagMappers)?[]:o,e=e.experimentalLLHLS,a=new w.a;t&&a.on("warn",t),n&&a.on("info",n),r.forEach(function(e){return a.addParser(e)}),o.forEach(function(e){return a.addTagMapper(e)}),a.push(i),a.end();var s=a.manifest;e||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(e){s.hasOwnProperty(e)&&delete s[e]}),s.segments&&s.segments.forEach(function(t){["parts","preloadHints"].forEach(function(e){t.hasOwnProperty(e)&&delete t[e]})})),s.targetDuration||(l=10,s.segments&&s.segments.length&&(l=s.segments.reduce(function(e,t){return Math.max(e,t.duration)},0)),t&&t("manifest has no targetDuration defaulting to "+l),s.targetDuration=l);var l=FYa(s);return l.length&&!s.partTargetDuration&&(l=l.reduce(function(e,t){return Math.max(e,t.duration)},0),t&&(t("manifest has no partTargetDuration defaulting to "+l),Zt.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),s.partTargetDuration=l),s}function fZa(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];tn({playlist:n,id:Jt(t,n.uri)}),n.resolvedUri=jt(e.uri,n.uri),e.playlists[n.id]=n,(e.playlists[n.uri]=n).attributes.BANDWIDTH||Zt.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}function gZa(t){en(t,function(e){e.uri&&(e.resolvedUri=jt(t.uri,e.uri))})}function hZa(e,t){var n=Jt(0,t),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:v.a.location.href,resolvedUri:v.a.location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[t]=i.playlists[0],i}function iZa(s,e){s.uri=e;for(var t=0;t<s.playlists.length;t++)s.playlists[t].uri||(s.playlists[t].uri="placeholder-uri-"+t);var l=Xt(s);en(s,function(e,t,n,i){var r="placeholder-uri-"+t+"-"+n+"-"+i;if(!e.playlists||!e.playlists.length){if(l&&"AUDIO"===t&&!e.uri)for(var o=0;o<s.playlists.length;o++){var a=s.playlists[o];if(a.attributes&&a.attributes.AUDIO&&a.attributes.AUDIO===n)return}e.playlists=[u()({},e)]}e.playlists.forEach(function(e,t){var n=Jt(t,r);e.uri?e.resolvedUri=e.resolvedUri||jt(s.uri,e.uri):(e.uri=0===t?r:n,e.resolvedUri=e.uri),e.id=e.id||n,e.attributes=e.attributes||{},s.playlists[e.id]=e,s.playlists[e.uri]=e})}),fZa(s),gZa(s)}function lZa(e,t){if(t.endList||!t.serverControl)return e;var n,i,r,o,a={};return t.serverControl.canBlockReload&&(r=t.preloadSegment,n=t.mediaSequence+t.segments.length,r&&(i=r.parts||[],-1<(r=GYa(t)-1)&&r!=i.length-1&&(a._HLS_part=r),(-1<r||i.length)&&n--),a._HLS_msn=n),t.serverControl&&t.serverControl.canSkipUntil&&(a._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(a).length&&(o=new v.a.URL(e),["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(e){a.hasOwnProperty(e)&&o.searchParams.set(e,a[e])}),e=o.toString()),e}function nZa(e,t,n){var i=e.slice(),r=t.slice();n=n||0;for(var o,a=[],s=0;s<r.length;s++){var l=i[s+n],u=r[s];l?(o=l.map||o,a.push(rn(l,u))):(o&&!u.map&&(u.map=o),a.push(u))}return a}function oZa(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=jt(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=jt(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=jt(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=jt(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(e){e.resolvedUri||(e.resolvedUri=jt(t,e.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(e){e.resolvedUri||(e.resolvedUri=jt(t,e.uri))})}function pZa(e){var t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(var i=0;i<n.preloadHints.length;i++)if("MAP"===n.preloadHints[i].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t}function rZa(e,o,t){void 0===t&&(t=an);var n=nn(e,{}),i=n.playlists[o.id];if(!i)return null;if(t(i,o))return null;o.segments=pZa(o);var a=nn(i,o);if(a.preloadSegment&&!o.preloadSegment&&delete a.preloadSegment,i.segments){if(o.skip){o.segments=o.segments||[];for(var r=0;r<o.skip.skippedSegments;r++)o.segments.unshift({skipped:!0})}a.segments=nZa(i.segments,o.segments,o.mediaSequence-i.mediaSequence)}a.segments.forEach(function(e){oZa(e,a.resolvedUri)});for(var s=0;s<n.playlists.length;s++)n.playlists[s].id===o.id&&(n.playlists[s]=a);return n.playlists[o.id]=a,n.playlists[o.uri]=a,en(e,function(e,t,n,i){if(e.playlists)for(var r=0;r<e.playlists.length;r++)o.id===e.playlists[r].id&&(e.playlists[r]=a)}),n}function sZa(e,t){var n=e.segments||[],i=n[n.length-1],i=(n=i&&i.parts&&i.parts[i.parts.length-1])&&n.duration||i&&i.duration;return t&&i?1e3*i:500*(e.partTargetDuration||e.targetDuration||10)}function wZa(e,t,n,i){var r="arraybuffer"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),i(t=!t&&!e.aborted&&200!==n.statusCode&&206!==n.statusCode&&0!==n.statusCode?new Error("XHR Failed with a response of: "+(e&&(r||e.responseText))):t,e)}function xZa(){function oQ0(e,n){e=un({timeout:45e3},e);var t=oQ0.beforeRequest||videojs.Vhs.xhr.beforeRequest;!t||"function"!=typeof t||(t=t(e))&&(e=t);var i=(!0===videojs.Vhs.xhr.original?ln:videojs.Vhs.xhr)(e,function(e,t){return wZa(i,e,t,n)}),r=i.abort;return i.abort=function(){return i.aborted=!0,r.apply(i,arguments)},i.uri=e.uri,i.requestTime=Date.now(),i}return oQ0.original=!0,oQ0}function yZa(e){var t=e.offset,e="bigint"==typeof e.offset||"bigint"==typeof e.length?v.a.BigInt(e.offset)+v.a.BigInt(e.length)-v.a.BigInt(1):e.offset+e.length-1;return"bytes="+t+"-"+e}function zZa(e){var t={};return e.byterange&&(t.Range=yZa(e.byterange)),t}function AZa(e,t){return e.start(t)+"-"+e.end(t)}function BZa(e,t){return e=e.toString(16),"00".substring(0,2-e.length)+e+(t%2?" ":"")}function CZa(e){return 32<=e&&e<126?String.fromCharCode(e):"."}function DZa(n){var i={};return Object.keys(n).forEach(function(e){var t=n[e];Object(A.e)(t)?i[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[e]=t}),i}function EZa(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}function FZa(e){return e.resolvedUri}function GZa(e){for(var t=Array.prototype.slice.call(e),n="",i=0;i<t.length/16;i++)n+=t.slice(16*i,16*i+16).map(BZa).join("")+" "+t.slice(16*i,16*i+16).map(CZa).join("")+"\n";return n}function LZa(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,n=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*n)}function NZa(e,t){var n;try{n=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;if(n<(r=t.segments[0]).dateTimeObject)return null;for(var i=0;i<t.segments.length-1;i++){var r=t.segments[i];if(n<t.segments[i+1].dateTimeObject)break}var o=t.segments[t.segments.length-1],a=o.dateTimeObject,e=o.videoTimingInfo?dn(o.videoTimingInfo):o.duration+o.duration*cn;return new Date(a.getTime()+1e3*e)<n?null:{segment:r=a<n?o:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Qt.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"}}function OZa(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n,i=0,r=0;r<t.segments.length&&!(e<=(i=(n=t.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));r++);var o=t.segments[t.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(i<e){if(e>i+o.duration*cn)return null;n=o}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}function PZa(e,t){var n;try{i=new Date(e),n=new Date(t)}catch(e){}var i=i.getTime();return(n.getTime()-i)/1e3}function QZa(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}function RZa(e){var t=e.playlist,n=e.time,i=void 0===n?void 0:n;if(!(n=e.callback))throw new Error("getProgramTime: callback must be provided");return t&&void 0!==i?(e=OZa(i,t))?"estimate"===e.type?n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:e.estimatedStart}):(t={mediaSeconds:i},(e=LZa(i,e.segment))&&(t.programDateTime=e.toISOString()),n(null,t)):n({message:"valid programTime was not found"}):n({message:"getProgramTime: playlist and time must be provided"})}function SZa(e){var t=e.programTime,n=e.playlist,i=e.retryCount,r=void 0===i?2:i,o=e.seekTo,a=e.pauseAfterSeek,s=void 0===a||a,l=e.tech,u=e.callback;if(!u)throw new Error("seekToProgramTime: callback must be provided");return void 0!==t&&n&&o?n.endList||l.hasStarted_?QZa(n)?(i=NZa(t,n))?(a=i.segment,e=PZa(a.dateTimeObject,t),"estimate"===i.type?0===r?u({message:t+" is not buffered yet. Try again"}):(o(i.estimatedStart+e),void l.one("seeked",function(){SZa({programTime:t,playlist:n,retryCount:r-1,seekTo:o,pauseAfterSeek:s,tech:l,callback:u})})):(e=a.start+e,l.one("seeked",function seekedCallback(){return u(null,l.currentTime())}),s&&l.pause(),void o(e))):u({message:t+" was not found in the stream"}):u({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri}):u({message:"player must be playing a live stream to start buffering"}):u({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"})}function TZa(e,t){if(4===e.readyState)return t()}function UZa(e,t,r){function lS0(e,t,n,i){return t.abort(),a=!0,r(e,t,n,i)}function mS0(e,t){if(!a){if(e)return lS0(e,t,"",o);var n=t.responseText.substring(o&&o.byteLength||0,t.responseText.length);if(o=Object(A.d)(o,Object(A.h)(n,!0)),i=i||Object(I.a)(o),o.length<10||i&&o.length<i+2)return TZa(t,function(){return lS0(e,t,"",o)});n=Object(L.a)(o);return"ts"===n&&o.length<188||!n&&o.length<376?TZa(t,function(){return lS0(e,t,"",o)}):lS0(null,t,n,o)}}var i,o=[],a=!1,n=t({uri:e,beforeSend:function beforeSend(t){t.overrideMimeType("text/plain; charset=x-user-defined"),t.addEventListener("progress",function(e){return e.total,e.loaded,wZa(t,null,{statusCode:t.status},mS0)})}},function(e,t){return wZa(n,e,t,mS0)});return n}function XZa(e,t){if(!an(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var n=0;n<e.segments.length;n++){var i=e.segments[n],r=t.segments[n];if(i.uri!==r.uri)return!1;if(i.byterange||r.byterange){i=i.byterange,r=r.byterange;if(i&&!r||!i&&r)return!1;if(i.offset!==r.offset||i.length!==r.length)return!1}}return!0}function YZa(e){var t=e.masterXml,n=e.srcUrl,i=e.clientOffset,r=e.sidxMapping,e=e.previousManifest,e=Object(P.c)(t,{manifestUri:n,clientOffset:i,sidxMapping:r,previousManifest:e});return iZa(e,n),e}function ZZa(e,t,n){for(var o=!0,a=hn(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),i=0;i<t.playlists.length;i++){var r,s=t.playlists[i];s.sidx&&(r=Object(P.b)(s.sidx),n&&n[r]&&n[r].sidx&&Object(P.a)(s,n[r].sidx,s.sidx.resolvedUri));s=rZa(a,s,XZa);s&&(a=s,o=!1)}return en(t,function(e,t,n,i){var r;e.playlists&&e.playlists.length&&(r=e.playlists[0].id,(e=rZa(a,e.playlists[0],XZa))&&((a=e).mediaGroups[t][n][i].playlists[0]=a.playlists[r],o=!1))}),(o=t.minimumUpdatePeriod===e.minimumUpdatePeriod&&o)?null:a}function _Za(e,t){var n,i={};for(n in e){var r=e[n].sidx;if(r){var o=Object(P.b)(r);if(!t[o])break;var a=t[o].sidxInfo;pn(a,r)&&(i[o]=t[o])}}return i}function a$a(e,r){var o=_Za(e.playlists,r);return en(e,function(e,t,n,i){e.playlists&&e.playlists.length&&(e=e.playlists,o=hn(o,_Za(e,r)))}),o}function e$a(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e}function f$a(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(e){var n=new BlobBuilder;return n.append(t),URL.createObjectURL(n.getBlob())}}function g$a(i){return function(){var e=f$a(i),t=e$a(new Worker(e));t.objURL=e;var n=t.terminate;return t.on=t.addEventListener,t.off=t.removeEventListener,t.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},t}}function h$a(e){return"var browserWorkerPolyFill = "+e$a.toString()+";\nbrowserWorkerPolyFill(self);\n"+e}function i$a(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)}function o$a(t){var n=t.transmuxer,e=t.bytes,i=t.audioAppendStart,r=t.gopsToAlignWith,o=t.remux,a=t.onData,s=t.onTrackInfo,l=t.onAudioTimingInfo,u=t.onVideoTimingInfo,c=t.onVideoSegmentTimingInfo,d=t.onAudioSegmentTimingInfo,h=t.onId3,p=t.onCaptions,f=t.onDone,m=t.onEndedTimeline,g=t.onTransmuxerLog,y=t.isEndOfTimeline,v={buffer:[]},b=y;n.onmessage=function handleMessage(e){n.currentTransmux===t&&("data"===e.data.action&&vn(e,v,a),"trackinfo"===e.data.action&&s(e.data.trackInfo),"gopInfo"===e.data.action&&_n(e,v),"audioTimingInfo"===e.data.action&&l(e.data.audioTimingInfo),"videoTimingInfo"===e.data.action&&u(e.data.videoTimingInfo),"videoSegmentTimingInfo"===e.data.action&&c(e.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===e.data.action&&d(e.data.audioSegmentTimingInfo),"id3Frame"===e.data.action&&h([e.data.id3Frame],e.data.id3Frame.dispatchType),"caption"===e.data.action&&p(e.data.caption),"endedtimeline"===e.data.action&&(b=!1,m()),"log"===e.data.action&&g(e.data.log),"transmuxed"===e.data.type&&(b||(n.onmessage=null,bn({transmuxedData:v,callback:f}),Tn(n))))},i&&n.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&n.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==o&&n.postMessage({action:"setRemux",remux:o}),e.byteLength&&(r=e instanceof ArrayBuffer?e:e.buffer,o=e instanceof ArrayBuffer?0:e.byteOffset,n.postMessage({action:"push",data:r,byteOffset:o,byteLength:e.byteLength},[r])),y&&n.postMessage({action:"endTimeline"}),n.postMessage({action:"flush"})}function r$a(e,t){if(!t.currentTransmux)return t.currentTransmux=e,void Sn(t,e);t.transmuxQueue.push(Sn.bind(null,t,e))}function u$a(e){if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void o$a(e);e.transmuxer.transmuxQueue.push(e)}function x$a(t){var e,n=t.transmuxer,i=t.endAction||t.action,r=t.callback,o=u()({},t,{endAction:null,transmuxer:null,callback:null});n.addEventListener("message",function listenForEndEvent(e){e.data.action===i&&(n.removeEventListener("message",listenForEndEvent),e.data.data&&(e.data.data=new Uint8Array(e.data.data,t.byteOffset||0,t.byteLength||e.data.data.byteLength),t.data&&(t.data=e.data.data)),r(e.data))}),t.data?(e=t.data instanceof ArrayBuffer,o.byteOffset=e?0:t.data.byteOffset,o.byteLength=t.data.byteLength,e=[e?t.data:t.data.buffer],n.postMessage(o,e)):n.postMessage(o)}function D$a(o,a,s){return function(e,t){var n=t.response,e=xn(e,t);if(e)return s(e,o);if(16!==n.byteLength)return s({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:kn.FAILURE,xhr:t},o);for(var n=new DataView(n),i=new Uint32Array([n.getUint32(0),n.getUint32(4),n.getUint32(8),n.getUint32(12)]),r=0;r<a.length;r++)a[r].bytes=i;return s(null,o)}}function F$a(e){var n=e.segment,i=e.finishProcessingFn;return function(e,t){e=xn(e,t);if(e)return i(e,n);e=new Uint8Array(t.response);if(n.map.key)return n.map.encryptedBytes=e,i(null,n);n.map.bytes=e,Mn(n,function(e){return e?(e.xhr=t,e.status=t.status,i(e,n)):void i(null,n)})}}function G$a(e){var n=e.segment,i=e.finishProcessingFn,r=e.responseType;return function(e,t){e=xn(e,t);if(e)return i(e,n);e="arraybuffer"!==r&&t.responseText?gn(t.responseText.substring(n.lastReachedChar||0)):t.response;return n.stats=An(t),n.key?n.encryptedBytes=new Uint8Array(e):n.bytes=new Uint8Array(e),i(null,n)}}function H$a(e){function xkb(){return u$a({bytes:t,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,remux:f,onData:function onData(e){e.type="combined"===e.type?"video":e.type,d(n,e)},onTrackInfo:function onTrackInfo(e){i&&(f&&(e.isMuxed=!0),i(n,e))},onAudioTimingInfo:function onAudioTimingInfo(e){m&&void 0!==e.start&&(m(e.start),m=null),g&&void 0!==e.end&&g(e.end)},onVideoTimingInfo:function onVideoTimingInfo(e){y&&void 0!==e.start&&(y(e.start),y=null),v&&void 0!==e.end&&v(e.end)},onVideoSegmentTimingInfo:function onVideoSegmentTimingInfo(e){o(e)},onAudioSegmentTimingInfo:function onAudioSegmentTimingInfo(e){a(e)},onId3:function onId3(e,t){s(n,e,t)},onCaptions:function onCaptions(e){l(n,[e])},isEndOfTimeline:u,onEndedTimeline:function onEndedTimeline(){c()},onTransmuxerLog:p,onDone:function onDone(e){h&&(e.type="combined"===e.type?"video":e.type,h(null,n,e))}})}var n=e.segment,t=e.bytes,i=e.trackInfoFn,r=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog,e=n.map&&n.map.tracks||{},f=Boolean(e.audio&&e.video),m=r.bind(null,n,"audio","start"),g=r.bind(null,n,"audio","end"),y=r.bind(null,n,"video","start"),v=r.bind(null,n,"video","end");x$a({action:"probeTs",transmuxer:n.transmuxer,data:t,baseStartTime:n.baseStartTime,callback:function callback(e){n.bytes=t=e.data;e=e.result;e&&(i(n,{hasAudio:e.hasAudio,hasVideo:e.hasVideo,isMuxed:f}),i=null,e.hasAudio&&!f&&m(e.audioStart),e.hasVideo&&y(e.videoStart),y=m=null),xkb()}})}function L$a(e){var i=e.activeXhrs,r=e.decryptionWorker,o=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,u=e.id3Fn,c=e.captionsFn,d=e.isEndOfTimeline,h=e.endedTimelineFn,p=e.dataFn,f=e.doneFn,m=e.onTransmuxerLog,g=0,y=!1;return function(e,t){if(!y){if(e)return y=!0,En(i),f(e,t);if((g+=1)===i.length){var n=function segmentFinish(){if(t.encryptedBytes)return On({decryptionWorker:r,segment:t,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:u,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:h,dataFn:p,doneFn:f,onTransmuxerLog:m});In({segment:t,bytes:t.bytes,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:l,id3Fn:u,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:h,dataFn:p,doneFn:f,onTransmuxerLog:m})};if(t.endOfAllRequests=Date.now(),t.map&&t.map.encryptedBytes&&!t.map.bytes)return Ln({decryptionWorker:r,id:t.requestId+"-init",encryptedBytes:t.map.encryptedBytes,key:t.map.key},function(e){t.map.bytes=e,Mn(t,function(e){return e?(En(i),f(e,t)):void n()})});n()}}}}function M$a(e){var t=e.loadendState,n=e.abortFn;return function(e){e.target.aborted&&n&&!t.calledAbortFn&&(n(),t.calledAbortFn=!0)}}function N$a(e){var t=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(e){if(!e.target.aborted)return t.stats=videojs.mergeOptions(t.stats,Pn(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(e,t)}}function O$a(e){var t,n=e.xhr,i=e.xhrOptions,r=e.decryptionWorker,o=e.segment,a=e.abortFn,s=e.progressFn,l=e.trackInfoFn,u=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,d=e.audioSegmentTimingInfoFn,h=e.id3Fn,p=e.captionsFn,f=e.isEndOfTimeline,m=e.endedTimelineFn,g=e.dataFn,y=e.doneFn,e=e.onTransmuxerLog,v=[],y=L$a({activeXhrs:v,decryptionWorker:r,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:d,id3Fn:h,captionsFn:p,isEndOfTimeline:f,endedTimelineFn:m,dataFn:g,doneFn:y,onTransmuxerLog:e});o.key&&!o.key.bytes&&(e=[o.key],o.map&&!o.map.bytes&&o.map.key&&o.map.key.resolvedUri===o.key.resolvedUri&&e.push(o.map.key),e=n(videojs.mergeOptions(i,{uri:o.key.resolvedUri,responseType:"arraybuffer"}),D$a(o,e,y)),v.push(e)),o.map&&!o.map.bytes&&(!o.map.key||o.key&&o.key.resolvedUri===o.map.key.resolvedUri||(t=n(videojs.mergeOptions(i,{uri:o.map.key.resolvedUri,responseType:"arraybuffer"}),D$a(o,[o.map.key],y)),v.push(t)),t=n(videojs.mergeOptions(i,{uri:o.map.resolvedUri,responseType:"arraybuffer",headers:zZa(o.map)}),F$a({segment:o,finishProcessingFn:y})),v.push(t)),i=videojs.mergeOptions(i,{uri:o.part&&o.part.resolvedUri||o.resolvedUri,responseType:"arraybuffer",headers:zZa(o)}),(i=n(i,G$a({segment:o,finishProcessingFn:y,responseType:i.responseType}))).addEventListener("progress",N$a({segment:o,progressFn:s,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:d,id3Fn:h,captionsFn:p,isEndOfTimeline:f,endedTimelineFn:m,dataFn:g})),v.push(i);var b={};return v.forEach(function(e){e.addEventListener("loadend",M$a({loadendState:b,abortFn:a}))}),function(){return En(v)}}function Q$a(e){if((e=e.attributes||{}).CODECS)return Object(k.h)(e.CODECS)}function S$a(e,t){if(!Rn(e,t))return!0;var n,t=t.attributes||{},i=e.mediaGroups.AUDIO[t.AUDIO];for(n in i)if(!i[n].uri&&!i[n].playlists)return!0;return!1}function U$a(e){var t=0;return e.audio&&t++,e.video&&t++,t}function Y$a(e,t){return(e=e&&v.a.getComputedStyle(e))?e[t]:""}function $$a(e,t){var n,i;return(n=(n=e.attributes.BANDWIDTH?e.attributes.BANDWIDTH:n)||v.a.Number.MAX_VALUE)-(i=(i=t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:i)||v.a.Number.MAX_VALUE)}function _$a(e,t){var n,i;return(n=(n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width?e.attributes.RESOLUTION.width:n)||v.a.Number.MAX_VALUE)===(i=(i=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:i)||v.a.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i}function a_a(e,t,n,i,r,o){if(e){var a={bandwidth:t,width:n,height:i,limitRenditionByPlayerDimensions:r},s=e.playlists;Qt.isAudioOnly(e)&&(s=o.getAudioTrackPlaylists_(),a.audioOnly=!0);var l=s.map(function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,i=e.attributes&&e.attributes.BANDWIDTH;return{bandwidth:i||v.a.Number.MAX_VALUE,width:t,height:n,playlist:e}});Un(l,function(e,t){return e.bandwidth-t.bandwidth});var u=(l=l.filter(function(e){return!Qt.isIncompatible(e.playlist)})).filter(function(e){return Qt.isEnabled(e.playlist)}),e=(u=!u.length?l.filter(function(e){return!Qt.isDisabled(e.playlist)}):u).filter(function(e){return e.bandwidth*mn.BANDWIDTH_VARIANCE<t}),c=e[e.length-1],s=e.filter(function(e){return e.bandwidth===c.bandwidth})[0];if(!1===r){var d=s||u[0]||l[0];if(d&&d.playlist){r=s?"bandwidthBestRep":"sortedPlaylistReps";return u[0]&&(r="enabledPlaylistReps"),jn("choosing "+Fn(d)+" using "+r+" with options",a),d.playlist}return jn("could not choose a playlist with options",a),null}d=e.filter(function(e){return e.width&&e.height});Un(d,function(e,t){return e.width-t.width});var h,p,f,e=d.filter(function(e){return e.width===n&&e.height===i}),c=e[e.length-1],e=e.filter(function(e){return e.bandwidth===c.bandwidth})[0];e||(p=(h=d.filter(function(e){return e.width>n||e.height>i})).filter(function(e){return e.width===h[0].width&&e.height===h[0].height}),c=p[p.length-1],p=p.filter(function(e){return e.bandwidth===c.bandwidth})[0]),o.experimentalLeastPixelDiffSelector&&(m=d.map(function(e){return e.pixelDiff=Math.abs(e.width-n)+Math.abs(e.height-i),e}),Un(m,function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff}),f=m[0]);var m=f||p||e||s||u[0]||l[0];if(m&&m.playlist){l="sortedPlaylistReps";return f?l="leastPixelDiffRep":p?l="resolutionPlusOneRep":e?l="resolutionBestRep":s?l="bandwidthBestRep":u[0]&&(l="enabledPlaylistReps"),jn("choosing "+Fn(m)+" using "+l+" with options",a),m.playlist}return jn("could not choose a playlist with options",a),null}}function b_a(){var e=this.useDevicePixelRatio&&v.a.devicePixelRatio||1;return a_a(this.playlists.master,this.systemBandwidth,parseInt(Y$a(this.tech_.el(),"width"),10)*e,parseInt(Y$a(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}function c_a(t){var n=-1,i=-1;if(t<0||1<t)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var e=this.useDevicePixelRatio&&v.a.devicePixelRatio||1;return n<0&&(n=this.systemBandwidth,i=this.systemBandwidth),0<this.systemBandwidth&&this.systemBandwidth!==i&&(n=t*this.systemBandwidth+(1-t)*n,i=this.systemBandwidth),a_a(this.playlists.master,n,parseInt(Y$a(this.tech_.el(),"width"),10)*e,parseInt(Y$a(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}}function d_a(e){var t=e.master,n=e.currentTime,i=e.bandwidth,r=e.duration,o=e.segmentDuration,a=e.timeUntilRebuffer,s=e.currentTimeline,l=e.syncController,t=(e=(t=!(t=(e=t.playlists.filter(function(e){return!Qt.isIncompatible(e)})).filter(Qt.isEnabled)).length?e.filter(function(e){return!Qt.isDisabled(e)}):t).filter(Qt.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=l.getSyncPoint(e,r,s,n)?1:2;return{playlist:e,rebufferingImpact:Qt.estimateSegmentRequestTime(o,i,e)*t-a}})).filter(function(e){return e.rebufferingImpact<=0});return Un(t,function(e,t){return $$a(t.playlist,e.playlist)}),t.length?t[0]:(Un(e,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),e[0]||null)}function e_a(){var t=this,e=this.playlists.master.playlists.filter(Qt.isEnabled);return Un(e,$$a),e.filter(function(e){return!!Bn(t.playlists.master,e).video})[0]||null}function f_a(e){var t,n=0;return e.bytes&&(t=new Uint8Array(e.bytes),e.segments.forEach(function(e){t.set(e,n),n+=e.byteLength})),t}function g_a(e,t,n){var i,r,o,a,s;e[n]||(t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"}),/^cc708_/.test(i=n)&&(i="SERVICE"+n.split("_")[1]),(s=t.textTracks().getTrackById(i))?e[n]=s:(o=r=n,a=!1,(s=(t.options_.vhs&&t.options_.vhs.captionServices||{})[i])&&(r=s.label,o=s.language,a=s.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:i,default:a,label:r,language:o},!1).track))}function h_a(e){var n,i=e.inbandTextTracks,t=e.captionArray,r=e.timestampOffset;t&&(n=v.a.WebKitDataCue||v.a.VTTCue,t.forEach(function(e){var t=e.stream;i[t].addCue(new n(e.startTime+r,e.endTime+r,e.text))}))}function i_a(e){Object.defineProperties(e.frame,{id:{get:function get(){return videojs.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function get(){return videojs.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function get(){return videojs.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}function j_a(e){var t=e.inbandTextTracks,n=e.metadataArray,i=e.timestampOffset,r=e.videoDuration;if(n){var o=v.a.WebKitDataCue||v.a.VTTCue,a=t.metadataTrack_;if(a&&(n.forEach(function(e){var n=e.cueTime+i;!("number"!=typeof n||v.a.isNaN(n)||n<0)&&n<1/0&&e.frames.forEach(function(e){var t=new o(n,n,e.value||e.url||e.data||"");t.frame=e,t.value=e,i_a(t),a.addCue(t)})}),a.cues&&a.cues.length)){for(var s=a.cues,l=[],u=0;u<s.length;u++)s[u]&&l.push(s[u]);var c=l.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),d=Object.keys(c).sort(function(e,t){return Number(e)-Number(t)});d.forEach(function(e,t){var e=c[e],n=Number(d[t+1])||r;e.forEach(function(e){e.endTime=n})})}}}function k_a(e,t,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}function l_a(e,t,n){var i,r;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime>=e&&r.endTime<=t&&n.removeCue(r)}function m_a(t){var e=t.cues;if(e)for(var n=0;n<e.length;n++){for(var i=[],r=0,o=0;o<e.length;o++)e[n].startTime===e[o].startTime&&e[n].endTime===e[o].endTime&&e[n].text===e[o].text&&1<++r&&i.push(e[o]);i.length&&i.forEach(function(e){return t.removeCue(e)})}}function n_a(e,t,n){if(null==t||!e.length)return[];for(var i=Math.ceil((t-n+3)*O.ONE_SECOND_IN_TS),r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)}function o_a(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var i=t[0].pts,r=0;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)}function p_a(e,t,n,i){for(var r=Math.ceil((t-i)*O.ONE_SECOND_IN_TS),o=Math.ceil((n-i)*O.ONE_SECOND_IN_TS),i=e.slice(),a=e.length;a--&&!(e[a].pts<=o););if(-1===a)return i;for(var s=a+1;s--&&!(e[s].pts<=r););return s=Math.max(s,0),i.splice(s,a-s+1),i}function q_a(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var n=Object.keys(e).sort(),i=Object.keys(t).sort();if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(o!==i[r])return!1;if(e[o]!==t[o])return!1}return!0}function s_a(e,t,n){t=t||[];for(var i=[],r=0,o=0;o<t.length;o++){var a=t[o];if(e===a.timeline&&(i.push(o),n<(r+=a.duration)))return o}return 0===i.length?0:i[i.length-1]}function v_a(e){return"number"==typeof e&&isFinite(e)}function x_a(e,t,n){return"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}function y_a(e,t,n){var i=t-mn.BACK_BUFFER_LENGTH;return e.length&&(i=Math.max(i,e.start(0))),Math.min(t-n,i)}function z_a(e){var t=e.startOfSegment,n=e.duration,i=e.segment,r=e.part,o=e.playlist,a=o.mediaSequence,s=o.id,l=o.segments,u=e.mediaIndex,c=e.partIndex,d=e.timeline,h=(void 0===l?[]:l).length-1,p="mediaIndex/partIndex increment";return e.getMediaInfoForTime?p="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(p="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(p+=" with independent "+e.independent),o="number"==typeof c,l=e.segment.uri?"segment":"pre-segment",e=o?GYa({preloadSegment:i})-1:0,l+" ["+(a+u)+"/"+(a+h)+"]"+(o?" part ["+c+"/"+e+"]":"")+" segment start/end ["+i.start+" => "+i.end+"]"+(o?" part start/end ["+r.start+" => "+r.end+"]":"")+" startOfSegment ["+t+"] duration ["+n+"] timeline ["+d+"] selected by ["+p+"] playlist ["+s+"]"}function A_a(e){return e+"TimingInfo"}function B_a(e){var t=e.segmentTimeline,n=e.currentTimeline,i=e.startOfSegment,r=e.buffered;return e.overrideCheck||t!==n?!(t<n)&&r.length?r.end(r.length-1):i:null}function C_a(e){var t=e.timelineChangeController,n=e.currentTimeline,i=e.segmentTimeline,r=e.loaderType,e=e.audioDisabled;if(n===i)return!1;if("audio"===r){n=t.lastTimelineChange({type:"main"});return!n||n.to!==i}if("main"===r&&e){t=t.pendingTimelineChange({type:"audio"});return t&&t.to===i?!1:!0}return!1}function D_a(i){var r=0;return["video","audio"].forEach(function(e){var t,n=i[e+"TimingInfo"];n&&(e=n.start,n=n.end,"bigint"==typeof e||"bigint"==typeof n?t=v.a.BigInt(n)-v.a.BigInt(e):"number"==typeof e&&"number"==typeof n&&(t=n-e),void 0!==t&&r<t&&(r=t))}),r="bigint"==typeof r&&r<Number.MAX_SAFE_INTEGER?Number(r):r}function E_a(e){var t=e.segmentDuration,e=e.maxDuration;return!!t&&Math.round(t)>e+Ut}function F_a(e,t){if("hls"!==t)return null;var n=D_a({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;var i=e.playlist.targetDuration,r=E_a({segmentDuration:n,maxDuration:2*i}),t=E_a({segmentDuration:n,maxDuration:i}),i="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+n+" when the reported duration is "+e.duration+" and the target duration is "+i+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return r||t?{severity:r?"warn":"info",message:i}:null}var jt=C.a,Ft=function logger(e){return videojs.log.debug?videojs.log.debug.bind(videojs,"VHS:",e+" >"):function(){}},Ut=1/30,Vt=3*Ut,Ht=function filterRanges(e,t){var n,i=[];if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return videojs.createTimeRanges(i)},qt=videojs.createTimeRange,Wt=function liveEdgeDelay(e,t){if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;e=0<FYa(t).length;return e&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:e&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},Gt=function backwardDuration(e,t){var n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=e.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=DYa(e,r),void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},zt=function forwardDuration(e,t){for(var n,i=0,r=t-e.mediaSequence;r<e.segments.length;r++){if(void 0!==(n=e.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=DYa(e,n),void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}},Yt=function intervalDuration(e,t,n){if((t=void 0===t?e.mediaSequence+e.segments.length:t)<e.mediaSequence)return 0;var i=Gt(e,t);if(i.precise)return i.result;t=zt(e,t);return t.precise?t.result:i.result+n},Kt=function duration(e,t,n){if(!e)return 0;if(void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return v.a.Infinity}return Yt(e,t,n="number"!=typeof n?0:n)},Xt=function isAudioOnly(n){if(!n||!n.playlists||!n.playlists.length)return ZYa(n,function(e){return e.playlists&&e.playlists.length||e.uri});for(var e=function _loop(e){var t=n.playlists[e],e=t.attributes&&t.attributes.CODECS;return e&&e.split(",").every(function(e){return Object(k.f)(e)})||ZYa(n,function(e){return YYa(t,e)})?"continue":{v:!1}},t=0;t<n.playlists.length;t++){var i=e(t);if("continue"!==i&&"object"==typeof i)return i.v}return!0},Qt={liveEdgeDelay:Wt,duration:Kt,seekable:function seekable(e,t,n){var i=t||0,n=NYa(e,t,!0,n);return null===n?qt():qt(i,n)},getMediaInfoForTime:function getMediaInfoForTime(e){for(var t=e.playlist,n=e.currentTime,i=e.startingSegmentIndex,r=e.startingPartIndex,o=e.startTime,a=e.experimentalExactManifestTimings,s=n-o,l=EYa(t),u=0,c=0;c<l.length;c++){var d=l[c];if(i===d.segmentIndex&&("number"!=typeof r||"number"!=typeof d.partIndex||r===d.partIndex)){u=c;break}}if(s<0){if(0<u)for(var h=u-1;0<=h;h--){var p=l[h];if(s+=p.duration,a){if(s<0)continue}else if(s+Ut<=0)continue;return{partIndex:p.partIndex,segmentIndex:p.segmentIndex,startTime:o-MYa({defaultDuration:t.targetDuration,durationList:l,startIndex:u,endIndex:h})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n}}if(u<0){for(var f=u;f<0;f++)if((s-=t.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n};u=0}for(var m=u;m<l.length;m++){var g=l[m];if(s-=g.duration,a){if(0<s)continue}else if(0<=s-Ut)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:o+MYa({defaultDuration:t.targetDuration,durationList:l,startIndex:u,endIndex:m})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:n}},isEnabled:SYa,isDisabled:function isDisabled(e){return e.disabled},isBlacklisted:QYa,isIncompatible:RYa,playlistEnd:NYa,isAes:function isAes(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:VYa,estimateSegmentRequestTime:function estimateSegmentRequestTime(e,t,n,i){return VYa("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*(i=void 0===i?0:i))/t:NaN},isLowestEnabledRendition:XYa,isAudioOnly:Xt,playlistMatch:YYa,segmentDurationWithParts:DYa},Zt=videojs.log,Jt=function createPlaylistID(e,t){return e+"-"+t},en=function forEachMediaGroup(r,o){r.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(e){if(r.mediaGroups[e])for(var t in r.mediaGroups[e])for(var n in r.mediaGroups[e][t]){var i=r.mediaGroups[e][t][n];o(i,e,t,n)}})},tn=function setupMediaPlaylist(e){var t=e.playlist,n=e.uri,e=e.id;t.id=e,t.playlistErrors_=0,n&&(t.uri=n),t.attributes=t.attributes||{}},nn=videojs.mergeOptions,rn=function updateSegment(e,t){if(!e)return t;var n=nn(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(var i=0;i<t.parts.length;i++)e.parts&&e.parts[i]&&(n.parts[i]=nn(e.parts[i],t.parts[i]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},an=function isPlaylistUnchanged(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment},sn=function(o){function PlaylistLoader(e,t,n){var i;if(void 0===n&&(n={}),i=o.call(this)||this,!e)throw new Error("A non-empty playlist URL or object is required");i.logger_=Ft("PlaylistLoader");var r=n,n=r.withCredentials,n=void 0!==n&&n,r=r.handleManifestRedirects,r=void 0!==r&&r;i.src=e,i.vhs_=t,i.withCredentials=n,i.handleManifestRedirects=r;t=t.options_;return i.customTagParsers=t&&t.customTagParsers||[],i.customTagMappers=t&&t.customTagMappers||[],i.experimentalLLHLS=t&&t.experimentalLLHLS||!1,videojs.browser.IE_VERSION&&(i.experimentalLLHLS=!1),i.state="HAVE_NOTHING",i.handleMediaupdatetimeout_=i.handleMediaupdatetimeout_.bind(b()(i)),i.on("mediaupdatetimeout",i.handleMediaupdatetimeout_),i}h()(PlaylistLoader,o);var e=PlaylistLoader.prototype;return e.handleMediaupdatetimeout_=function handleMediaupdatetimeout_(){var e,t,n=this;"HAVE_METADATA"===this.state&&(e=this.media(),t=jt(this.master.uri,e.uri),this.experimentalLLHLS&&(t=lZa(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials},function(e,t){if(n.request)return e?n.playlistRequestError(n.request,n.media(),"HAVE_METADATA"):void n.haveMetadata({playlistString:n.request.responseText,url:n.media().uri,id:n.media().id})}))},e.playlistRequestError=function playlistRequestError(e,t,n){var i=t.uri,t=t.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+i+".",responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")},e.parseManifest_=function parseManifest_(e){var t=this,n=e.url,e=e.manifestString;return cZa({onwarn:function onwarn(e){e=e.message;return t.logger_("m3u8-parser warn for "+n+": "+e)},oninfo:function oninfo(e){e=e.message;return t.logger_("m3u8-parser info for "+n+": "+e)},manifestString:e,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},e.haveMetadata=function haveMetadata(e){var t=e.playlistString,n=e.playlistObject,i=e.url,e=e.id;this.request=null,this.state="HAVE_METADATA";t=n||this.parseManifest_({url:i,manifestString:t});t.lastRequest=Date.now(),tn({playlist:t,uri:i,id:e});i=rZa(this.master,t);this.targetDuration=t.partTargetDuration||t.targetDuration,this.pendingMedia_=null,i?(this.master=i,this.media_=this.master.playlists[e]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(sZa(this.media(),!!i)),this.trigger("loadedplaylist")},e.dispose=function dispose(){this.trigger("dispose"),this.stopRequest(),v.a.clearTimeout(this.mediaUpdateTimeout),v.a.clearTimeout(this.finalRenditionTimeout),this.off()},e.stopRequest=function stopRequest(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())},e.media=function media(n,e){var i=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof n){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}if(v.a.clearTimeout(this.finalRenditionTimeout),e){var t=(n.partTargetDuration||n.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=v.a.setTimeout(this.media.bind(this,n,!1),t)}else{var r=this.state,e=!this.media_||n.id!==this.media_.id,t=this.master.playlists[n.id];if(t&&t.endList||n.endList&&n.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,void(e&&(this.trigger("mediachanging"),"HAVE_MASTER"===r?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(sZa(n,!0)),e){if(this.state="SWITCHING_MEDIA",this.request){if(n.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=n,this.request=this.vhs_.xhr({uri:n.resolvedUri,withCredentials:this.withCredentials},function(e,t){if(i.request){if(n.lastRequest=Date.now(),n.resolvedUri=nYa(i.handleManifestRedirects,n.resolvedUri,t),e)return i.playlistRequestError(i.request,n,r);i.haveMetadata({playlistString:t.responseText,url:n.uri,id:n.id}),"HAVE_MASTER"===r?i.trigger("loadedmetadata"):i.trigger("mediachange")}})}}},e.pause=function pause(){this.mediaUpdateTimeout&&(v.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},e.load=function load(e){var t=this;this.mediaUpdateTimeout&&(v.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var n=this.media();e?(e=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3,this.mediaUpdateTimeout=v.a.setTimeout(function(){t.mediaUpdateTimeout=null,t.load()},e)):this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},e.updateMediaUpdateTimeout_=function updateMediaUpdateTimeout_(e){var t=this;this.mediaUpdateTimeout&&(v.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=v.a.setTimeout(function(){t.mediaUpdateTimeout=null,t.trigger("mediaupdatetimeout"),t.updateMediaUpdateTimeout_(e)},e))},e.start=function start(){var n=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=v.a.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){n.setupInitialPlaylist(n.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(e,t){if(n.request){if(n.request=null,e)return n.error={status:t.status,message:"HLS playlist request error at URL: "+n.src+".",responseText:t.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");n.src=nYa(n.handleManifestRedirects,n.src,t);t=n.parseManifest_({manifestString:t.responseText,url:n.src});n.setupInitialPlaylist(t)}})},e.srcUri=function srcUri(){return"string"==typeof this.src?this.src:this.src.uri},e.setupInitialPlaylist=function setupInitialPlaylist(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,iZa(this.master,this.srcUri()),e.playlists.forEach(function(t){t.segments=pZa(t),t.segments.forEach(function(e){oZa(e,t.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||v.a.location.href;this.master=hZa(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},PlaylistLoader}(videojs.EventTarget),ln=videojs.xhr,un=videojs.mergeOptions,C=Object.freeze({__proto__:null,createTransferableMessage:DZa,initSegmentId:EZa,segmentKeyId:FZa,hexDump:GZa,tagDump:function tagDump(e){e=e.bytes;return GZa(e)},textRanges:function textRanges(e){for(var t="",n=0;n<e.length;n++)t+=AZa(e,n)+" ";return t}}),cn=.25,dn=function originalSegmentVideoDuration(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},hn=videojs.mergeOptions,pn=function equivalentSidx(e,t){return(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},fn=function(o){function DashPlaylistLoader(e,t,n,i){var r;void 0===n&&(n={}),(r=o.call(this)||this).masterPlaylistLoader_=i||b()(r),i||(r.isMaster_=!0);i=n,n=i.withCredentials,n=void 0!==n&&n,i=i.handleManifestRedirects,i=void 0!==i&&i;if(r.vhs_=t,r.withCredentials=n,r.handleManifestRedirects=i,!e)throw new Error("A non-empty playlist URL or object is required");return r.on("minimumUpdatePeriod",function(){r.refreshXml_()}),r.on("mediaupdatetimeout",function(){r.refreshMedia_(r.media().id)}),r.state="HAVE_NOTHING",r.loadedPlaylists_={},r.logger_=Ft("DashPlaylistLoader"),r.isMaster_?(r.masterPlaylistLoader_.srcUrl=e,r.masterPlaylistLoader_.sidxMapping_={}):r.childPlaylist_=e,r}h()(DashPlaylistLoader,o);var e=DashPlaylistLoader.prototype;return e.requestErrored_=function requestErrored_(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)},e.addSidxSegments_=function addSidxSegments_(o,i,r){var a,s,l=this,u=o.sidx&&Object(P.b)(o.sidx);o.sidx&&u&&!this.masterPlaylistLoader_.sidxMapping_[u]?(a=nYa(this.handleManifestRedirects,o.sidx.resolvedUri),s=function fin(e,t){if(!l.requestErrored_(e,t,i)){var n,e=l.masterPlaylistLoader_.sidxMapping_;try{n=M()(Object(A.k)(t.response).subarray(8))}catch(e){return void l.requestErrored_(e,t,i)}return e[u]={sidxInfo:o.sidx,sidx:n},Object(P.a)(o,n,o.sidx.resolvedUri),r(!0)}},this.request=UZa(a,this.vhs_.xhr,function(e,t,n,i){if(e)return s(e,t);if(!n||"mp4"!==n)return s({status:t.status,message:"Unsupported "+(n||"unknown")+" container type for sidx segment at URL: "+a,response:"",playlist:o,internal:!0,blacklistDuration:1/0,code:2},t);var r=o.sidx.byterange,n=r.offset,r=r.length;if(i.length>=r+n)return s(e,{response:i.subarray(n,n+r),status:t.status,uri:t.uri});l.request=l.vhs_.xhr({uri:a,responseType:"arraybuffer",headers:zZa({byterange:o.sidx.byterange})},s)})):this.mediaRequest_=v.a.setTimeout(function(){return r(!1)},0)},e.dispose=function dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},v.a.clearTimeout(this.minimumUpdatePeriodTimeout_),v.a.clearTimeout(this.mediaRequest_),v.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},e.hasPendingRequest=function hasPendingRequest(){return this.request||this.mediaRequest_},e.stopRequest=function stopRequest(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())},e.media=function media(t){var n=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof t){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var e=!this.media_||t.id!==this.media_.id;if(e&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList)return this.state="HAVE_METADATA",this.media_=t,void(e&&(this.trigger("mediachanging"),this.trigger("mediachange")));e&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,i,function(e){n.haveMetadata({startingState:i,playlist:t})}))},e.haveMetadata=function haveMetadata(e){var t=e.startingState,e=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[e.id]=e,this.mediaRequest_=null,this.refreshMedia_(e.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},e.pause=function pause(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),v.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(v.a.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},e.load=function load(e){var t=this;v.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var n=this.media();e?(e=n?n.targetDuration/2*1e3:5e3,this.mediaUpdateTimeout=v.a.setTimeout(function(){return t.load()},e)):this.started?n&&!n.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},e.start=function start(){var n=this;this.started=!0,this.isMaster_?this.requestMaster_(function(e,t){n.haveMaster_(),n.hasPendingRequest()||n.media_||n.media(n.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=v.a.setTimeout(function(){return n.haveMaster_()},0)},e.requestMaster_=function requestMaster_(i){var r=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(e,t){if(!r.requestErrored_(e,t)){var n=t.responseText!==r.masterPlaylistLoader_.masterXml_;return r.masterPlaylistLoader_.masterXml_=t.responseText,t.responseHeaders&&t.responseHeaders.date?r.masterLoaded_=Date.parse(t.responseHeaders.date):r.masterLoaded_=Date.now(),r.masterPlaylistLoader_.srcUrl=nYa(r.handleManifestRedirects,r.masterPlaylistLoader_.srcUrl,t),n?(r.handleMaster_(),void r.syncClientServerClock_(function(){return i(t,n)})):i(t,n)}"HAVE_NOTHING"===r.state&&(r.started=!1)})},e.syncClientServerClock_=function syncClientServerClock_(n){var i=this,r=Object(P.d)(this.masterPlaylistLoader_.masterXml_);return null===r?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),n()):"DIRECT"===r.method?(this.masterPlaylistLoader_.clientOffset_=r.value-Date.now(),n()):void(this.request=this.vhs_.xhr({uri:jt(this.masterPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},function(e,t){if(i.request){if(e)return i.masterPlaylistLoader_.clientOffset_=i.masterLoaded_-Date.now(),n();t="HEAD"===r.method?t.responseHeaders&&t.responseHeaders.date?Date.parse(t.responseHeaders.date):i.masterLoaded_:Date.parse(t.responseText);i.masterPlaylistLoader_.clientOffset_=t-Date.now(),n()}}))},e.haveMaster_=function haveMaster_(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},e.handleMaster_=function handleMaster_(){this.mediaRequest_=null;var e=this.masterPlaylistLoader_.master,t=YZa({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(t=ZZa(e,t,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=t||e;var n=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return n&&n!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=n),(!e||t&&t.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(t)},e.updateMinimumUpdatePeriodTimeout_=function updateMinimumUpdatePeriodTimeout_(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(v.a.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"):this.createMUPTimeout_(t)},e.createMUPTimeout_=function createMUPTimeout_(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=v.a.setTimeout(function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)},e)},e.refreshXml_=function refreshXml_(){var n=this;this.requestMaster_(function(e,t){t&&(n.media_&&(n.media_=n.masterPlaylistLoader_.master.playlists[n.media_.id]),n.masterPlaylistLoader_.sidxMapping_=a$a(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.sidxMapping_),n.addSidxSegments_(n.media(),n.state,function(e){n.refreshMedia_(n.media().id)}))})},e.refreshMedia_=function refreshMedia_(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var n=this.masterPlaylistLoader_.master.playlists,i=!this.media_||this.media_!==n[e];i?this.media_=n[e]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function createMediaUpdateTimeout(){t.media().endList||(t.mediaUpdateTimeout=v.a.setTimeout(function(){t.trigger("mediaupdatetimeout"),createMediaUpdateTimeout()},sZa(t.media(),Boolean(i))))}(),this.trigger("loadedplaylist")},DashPlaylistLoader}(videojs.EventTarget),mn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},gn=function stringToArrayBuffer(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer},yn=g$a(h$a(i$a(function(){function fV0(){this.init=function(){var o={};this.on=function(e,t){o[e]||(o[e]=[]),o[e]=o[e].concat(t)},this.off=function(e,t){return!!o[e]&&(t=o[e].indexOf(t),o[e]=o[e].slice(),o[e].splice(t,1),-1<t)},this.trigger=function(e){var t,n,i,r=o[e];if(r)if(2===arguments.length)for(n=r.length,t=0;t<n;++t)r[t].call(this,arguments[1]);else{for(i=[],t=arguments.length,t=1;t<arguments.length;++t)i.push(arguments[t]);for(n=r.length,t=0;t<n;++t)r[t].apply(this,i)}},this.dispose=function(){o={}}}}fV0.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},fV0.prototype.push=function(e){this.trigger("data",e)},fV0.prototype.flush=function(e){this.trigger("done",e)},fV0.prototype.partialFlush=function(e){this.trigger("partialdone",e)},fV0.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},fV0.prototype.reset=function(e){this.trigger("reset",e)};var l,t,n,i,r,o,a,s,u,c,d,h,p,f,m,g,y,v,b,_,T,S,C,w,k,E,A,P,x,M,I,L,O,D,R,N,B,j,F,e=fV0,U=Math.pow(2,32),V={getUint64:function getUint64(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return t.getBigUint64?(e=t.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(e):e:t.getUint32(0)*U+t.getUint32(4)},MAX_UINT32:U},H=V.MAX_UINT32;!function(){if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var e in T)T.hasOwnProperty(e)&&(T[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),w=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),E=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),A={video:k,audio:E},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),x=new Uint8Array([0,0,0,0,0,0,0,0]),I=new Uint8Array([0,0,0,0,0,0,0,0]),L=I,O=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),D=I,P=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),l=function box(e){for(var t,n=[],i=0,r=1;r<arguments.length;r++)n.push(arguments[r]);for(r=n.length;r--;)i+=n[r].byteLength;for(t=new Uint8Array(i+8),new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(0,t.byteLength),t.set(e,4),r=0,i=8;r<n.length;r++)t.set(n[r],i),i+=n[r].byteLength;return t},t=function dinf(){return l(T.dinf,l(T.dref,M))},n=function esds(e){return l(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},f=function hdlr(e){return l(T.hdlr,A[e])},p=function mdhd(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),l(T.mdhd,t)},h=function mdia(e){return l(T.mdia,p(e),f(e.type),o(e))},r=function mfhd(e){return l(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},o=function minf(e){return l(T.minf,"video"===e.type?l(T.vmhd,P):l(T.smhd,x),t(),g(e))},s=function mvex(e){for(var t=e.length,n=[];t--;)n[t]=b(e[t]);return l.apply(null,[T.mvex].concat(n))},u=function mvhd(e){e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return l(T.mvhd,e)},m=function sdtp(e){for(var t,n=e.samples||[],i=new Uint8Array(4+n.length),r=0;r<n.length;r++)t=n[r].flags,i[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return l(T.sdtp,i)},g=function stbl(e){return l(T.stbl,y(e),l(T.stts,D),l(T.stsc,L),l(T.stsz,O),l(T.stco,I))},y=function stsd(e){return l(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===e.type?R:N)(e))},R=function videoSample(e){for(var t,n,i=e.sps||[],r=e.pps||[],o=[],a=[],s=0;s<i.length;s++)o.push((65280&i[s].byteLength)>>>8),o.push(255&i[s].byteLength),o=o.concat(Array.prototype.slice.call(i[s]));for(s=0;s<r.length;s++)a.push((65280&r[s].byteLength)>>>8),a.push(255&r[s].byteLength),a=a.concat(Array.prototype.slice.call(r[s]));return t=[T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l(T.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],o,[r.length],a))),l(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio&&(n=e.sarRatio[0],e=e.sarRatio[1],t.push(l(T.pasp,new Uint8Array([(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])))),l.apply(null,t)},N=function audioSample(e){return l(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),n(e))},d=function tkhd(e){e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return l(T.tkhd,e)},v=function traf(e){var t,n=l(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),i=Math.floor(e.baseMediaDecodeTime/H),r=Math.floor(e.baseMediaDecodeTime%H),i=l(T.tfdt,new Uint8Array([1,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,r>>>24&255,r>>>16&255,r>>>8&255,255&r]));return"audio"===e.type?(t=_(e,92),l(T.traf,n,i,t)):(r=m(e),t=_(e,r.length+92),l(T.traf,n,i,t,r))},c=function trak(e){return e.duration=e.duration||4294967295,l(T.trak,d(e),h(e))},b=function trex(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),l(T.trex,t)},B=function trunHeader(e,t){var n=0,i=0,r=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},j=function videoTrun(e,t){var n,i,r,o,a=e.samples||[];for(t+=20+16*a.length,t=B(a,t),(i=new Uint8Array(t.length+16*a.length)).set(t),n=t.length,o=0;o<a.length;o++)r=a[o],i[n++]=(4278190080&r.duration)>>>24,i[n++]=(16711680&r.duration)>>>16,i[n++]=(65280&r.duration)>>>8,i[n++]=255&r.duration,i[n++]=(4278190080&r.size)>>>24,i[n++]=(16711680&r.size)>>>16,i[n++]=(65280&r.size)>>>8,i[n++]=255&r.size,i[n++]=r.flags.isLeading<<2|r.flags.dependsOn,i[n++]=r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,i[n++]=61440&r.flags.degradationPriority,i[n++]=15&r.flags.degradationPriority,i[n++]=(4278190080&r.compositionTimeOffset)>>>24,i[n++]=(16711680&r.compositionTimeOffset)>>>16,i[n++]=(65280&r.compositionTimeOffset)>>>8,i[n++]=255&r.compositionTimeOffset;return l(T.trun,i)},F=function audioTrun(e,t){var n,i,r,o,a=e.samples||[];for(t+=20+8*a.length,t=B(a,t),(n=new Uint8Array(t.length+8*a.length)).set(t),i=t.length,o=0;o<a.length;o++)r=a[o],n[i++]=(4278190080&r.duration)>>>24,n[i++]=(16711680&r.duration)>>>16,n[i++]=(65280&r.duration)>>>8,n[i++]=255&r.duration,n[i++]=(4278190080&r.size)>>>24,n[i++]=(16711680&r.size)>>>16,n[i++]=(65280&r.size)>>>8,n[i++]=255&r.size;return l(T.trun,n)},_=function trun(e,t){return("audio"===e.type?F:j)(e,t)};i=function ftyp(){return l(T.ftyp,S,C,S,w)};function $V0(e,t){var n=z();return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n}function jW0(){var e;return q||(e={96e3:[J,[227,64],te(154),[56]],88200:[J,[231],te(170),[56]],64e3:[J,[248,192],te(240),[56]],48e3:[J,[255,192],te(268),[55,148,128],te(54),[112]],44100:[J,[255,192],te(268),[55,163,128],te(84),[112]],32e3:[J,[255,192],te(268),[55,234],te(226),[112]],24e3:[J,[255,192],te(268),[55,255,128],te(268),[111,112],te(126),[224]],16e3:[J,[255,192],te(268),[55,255,128],te(268),[111,255],te(269),[223,108],te(195),[1,192]],12e3:[ee,te(268),[3,127,248],te(268),[6,255,240],te(268),[13,255,224],te(268),[27,253,128],te(259),[56]],11025:[ee,te(268),[3,127,248],te(268),[6,255,240],te(268),[13,255,224],te(268),[27,255,192],te(268),[55,175,128],te(108),[112]],8e3:[ee,te(268),[3,121,16],te(47),[7]]},q=ne(e)),q}function tW0(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].data.byteLength;return t}function LW0(e){e=e||{},LW0.prototype.init.call(this),this.parse708captions_="boolean"!=typeof e.parse708captions||e.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Ie(0,0),new Ie(0,1),new Ie(1,0),new Ie(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ae({captionServices:e.captionServices})),this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))}var q,W=function mdat(e){return l(T.mdat,e)},G=function moof(e,t){for(var n=[],i=t.length;i--;)n[i]=v(t[i]);return l.apply(null,[T.moof,r(e)].concat(n))},$=(a=function moov(e){for(var t=e.length,n=[];t--;)n[t]=c(e[t]);return l.apply(null,[T.moov,u(4294967295)].concat(n).concat(s(e)))},function initSegment(e){var t=i(),n=a(e),e=new Uint8Array(t.byteLength+n.byteLength);return e.set(t),e.set(n,t.byteLength),e}),z=function createDefaultSample(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Y=function groupNalsIntoFrames(e){var t,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,t=i.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},K=function groupFramesIntoGops(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},X=function extendFirstKeyFrame(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},Q=function generateSampleTable(e,t){for(var n,i,r,o=t||0,a=[],s=0;s<e.length;s++)for(i=e[s],n=0;n<i.length;n++)r=i[n],o+=(r=$V0(r,o)).size,a.push(r);return a},Z=function concatenateNalData(e){for(var t,n,i,r,o,a=0,s=e.byteLength,l=e.nalCount,u=new Uint8Array(s+4*l),c=new DataView(u.buffer),d=0;d<e.length;d++)for(i=e[d],t=0;t<i.length;t++)for(r=i[t],n=0;n<r.length;n++)o=r[n],c.setUint32(a,o.data.byteLength),u.set(o.data,a+=4),a+=o.data.byteLength;return u},J=[33,16,5,32,164,27],ee=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],te=function zeroFill(e){for(var t=[];e--;)t.push(0);return t},ne=function makeTable(n){return Object.keys(n).reduce(function(e,t){return e[t]=new Uint8Array(n[t].reduce(function(e,t){return e.concat(t)},[])),e},{})},ie=function secondsToVideoTs(e){return 9e4*e},re=function secondsToAudioTs(e,t){return e*t},oe=function videoTsToSeconds(e){return e/9e4},ae=function audioTsToSeconds(e,t){return e/t},se=9e4,le=ie,ue=oe,ce=function audioTsToVideoTs(e,t){return ie(ae(e,t))},de=function videoTsToAudioTs(e,t){return re(oe(e),t)},he=function metadataTsToSeconds(e,t,n){return oe(n?e:e-t)},pe=function prefixWithSilence(e,t,n,i){var r,o,a,s,l,u=0,c=0;if(t.length&&(r=ce(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(se/(e.samplerate/1024)),n&&i&&(i=r-Math.max(n,i),c=(u=Math.floor(i/o))*o),!(u<1||se/2<c))){for(a=(a=jW0()[e.samplerate])||t[0].data,s=0;s<u;s++)l=t[0],t.splice(0,0,{data:a,dts:l.dts-o,pts:l.pts-o});return e.baseMediaDecodeTime-=Math.floor(de(c,e.samplerate)),c}},fe=function trimAdtsFramesByEarliestDts(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},me=function generateSampleTable(e){for(var t,n=[],i=0;i<e.length;i++)t=e[i],n.push({size:t.data.byteLength,duration:1024});return n},ge=function concatenateFrameData(e){for(var t,n=0,i=new Uint8Array(tW0(e)),r=0;r<e.length;r++)t=e[r],i.set(t.data,n),n+=t.data.byteLength;return i},ye=se,ve=function clearDtsInfo(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},be=function calculateTrackBaseMediaDecodeTime(e,t){var n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),t=e.timelineStartInfo.baseMediaDecodeTime,t+=n,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/ye,t=Math.floor(t)),t},_e=function collectDtsInfo(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Te=function parseSei(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}n.payload=void 0}t+=r,r=i=0}return n},Se=function parseUserData(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},Ce=function parseCaptionPackets(e,t){var n,i,r,o,a=[];if(!(64&t[0]))return a;for(i=31&t[0],n=0;n<i;n++)o={type:3&t[2+(r=3*n)],pts:e},4&t[2+r]&&(o.ccData=t[3+r]<<8|t[4+r],a.push(o));return a},we=function discardEmulationPreventionBytes(e){for(var t=e.byteLength,n=[],i=1;i<t-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return e;for(var r=t-n.length,o=new Uint8Array(r),a=0,i=0;i<r;a++,i++)a===n[0]&&(a++,n.shift()),o[i]=e[a];return o},ke=4;(LW0.prototype=new e).push=function(e){var t,n;if("sei_rbsp"===e.nalUnitType&&(t=Te(e.escapedRBSP)).payload&&t.payloadType===ke&&(n=Se(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Ce(e.pts,n),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},LW0.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},LW0.prototype.flushStream=function(e){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)},this),this.captionPackets_.length=0),this.flushCCStreams(e)},LW0.prototype.flush=function(){return this.flushStream("flush")},LW0.prototype.partialFlush=function(){return this.flushStream("partialFlush")},LW0.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},LW0.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},LW0.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},LW0.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},LW0.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},LW0.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};function NW0(e){var t=Ee[e]||e;return 4096&e&&e===t?"":String.fromCharCode(t)}function OW0(e){return 32<=e&&e<=127||160<=e&&e<=255}function PW0(e){this.windowNum=e,this.reset()}var Ee={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600};PW0.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},PW0.prototype.getText=function(){return this.rows.join("\n")},PW0.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},PW0.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),0<this.rows.length&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},PW0.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},PW0.prototype.addText=function(e){this.rows[this.rowIdx]+=e},PW0.prototype.backspace=function(){var e;this.isEmpty()||(e=this.rows[this.rowIdx],this.rows[this.rowIdx]=e.substr(0,e.length-1))};function QW0(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new PW0(-1),this.windows=[],this.stream=n,"string"==typeof t&&this.createTextDecoder(t)}QW0.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new PW0(n),"function"==typeof t&&(this.windows[n].beforeRowOverflow=t)},QW0.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},QW0.prototype.createTextDecoder=function(t){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(t)}catch(e){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+t+" encoding. "+e})}};var Ae=function Cea708Stream(e){e=e||{},Cea708Stream.prototype.init.call(this);var t,n=this,i=e.captionServices||{},r={};Object.keys(i).forEach(function(e){t=i[e],/^SERVICE/.test(e)&&(r[e]=t.encoding)}),this.serviceEncodings=r,this.current708Packet=null,this.services={},this.push=function(e){(3===e.type||null===n.current708Packet)&&n.new708Packet(),n.add708Bytes(e)}};Ae.prototype=new e,Ae.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ae.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,t=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(t)},Ae.prototype.push708Packet=function(){var e,t=this.current708Packet,n=t.data,i=null,r=0,o=n[r++];for(t.seq=o>>6,t.sizeCode=63&o;r<n.length;r++)e=31&(o=n[r++]),7===(i=o>>5)&&0<e&&(i=n[r++]),this.pushServiceBlock(i,r,e),0<e&&(r+=e-1)},Ae.prototype.pushServiceBlock=function(e,t,n){for(var i,r=t,o=this.current708Packet.data,a=(a=this.services[e])||this.initService(e,r);r<t+n&&r<o.length;r++)i=o[r],OW0(i)?r=this.handleText(r,a):24===i?r=this.multiByteCharacter(r,a):16===i?r=this.extendedCommands(r,a):128<=i&&i<=135?r=this.setCurrentWindow(r,a):152<=i&&i<=159?r=this.defineWindow(r,a):136===i?r=this.clearWindows(r,a):140===i?r=this.deleteWindows(r,a):137===i?r=this.displayWindows(r,a):138===i?r=this.hideWindows(r,a):139===i?r=this.toggleWindows(r,a):151===i?r=this.setWindowAttributes(r,a):144===i?r=this.setPenAttributes(r,a):145===i?r=this.setPenColor(r,a):146===i?r=this.setPenLocation(r,a):143===i?a=this.reset(r,a):8===i?a.currentWindow.backspace():12===i?a.currentWindow.clearText():13===i?a.currentWindow.pendingNewLine=!0:14===i?a.currentWindow.clearText():141===i&&r++},Ae.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return e=OW0(n)?this.handleText(e,t,{isExtended:!0}):e},Ae.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Ae.prototype.initService=function(t,e){var n,i="SERVICE"+t,r=this;return i in this.serviceEncodings&&(n=this.serviceEncodings[i]),this.services[t]=new QW0(t,n,r),this.services[t].init(this.getPts(e),function(e){r.flushDisplayed(e,r.services[t])}),this.services[t]},Ae.prototype.handleText=function(e,t,n){var i,r=n&&n.isExtended,o=n&&n.isMultiByte,a=this.current708Packet.data,s=r?4096:0,l=a[e],n=a[e+1],a=t.currentWindow,l=t.textDecoder_&&!r?(o?(i=[l,n],e++):i=[l],t.textDecoder_.decode(new Uint8Array(i))):NW0(s|l);return a.pendingNewLine&&!a.isEmpty()&&a.newLine(this.getPts(e)),a.pendingNewLine=!1,a.addText(l),e},Ae.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,i=n[e+1],n=n[e+2];return e=OW0(i)&&OW0(n)?this.handleText(++e,t,{isMultiByte:!0}):e},Ae.prototype.setCurrentWindow=function(e,t){var n=this.current708Packet.data[e];return t.setCurrentWindow(7&n),e},Ae.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,i=n[e];t.setCurrentWindow(7&i);t=t.currentWindow,i=n[++e];return t.visible=(32&i)>>5,t.rowLock=(16&i)>>4,t.columnLock=(8&i)>>3,t.priority=7&i,i=n[++e],t.relativePositioning=(128&i)>>7,t.anchorVertical=127&i,i=n[++e],t.anchorHorizontal=i,i=n[++e],t.anchorPoint=(240&i)>>4,t.rowCount=15&i,i=n[++e],t.columnCount=63&i,i=n[++e],t.windowStyle=(56&i)>>3,t.penStyle=7&i,t.virtualRowCount=t.rowCount+1,e},Ae.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,i=(n[e],t.currentWindow.winAttr),t=n[++e];return i.fillOpacity=(192&t)>>6,i.fillRed=(48&t)>>4,i.fillGreen=(12&t)>>2,i.fillBlue=3&t,t=n[++e],i.borderType=(192&t)>>6,i.borderRed=(48&t)>>4,i.borderGreen=(12&t)>>2,i.borderBlue=3&t,t=n[++e],i.borderType+=(128&t)>>5,i.wordWrap=(64&t)>>6,i.printDirection=(48&t)>>4,i.scrollDirection=(12&t)>>2,i.justify=3&t,t=n[++e],i.effectSpeed=(240&t)>>4,i.effectDirection=(12&t)>>2,i.displayEffect=3&t,e},Ae.prototype.flushDisplayed=function(e,t){for(var n=[],i=0;i<8;i++)t.windows[i].visible&&!t.windows[i].isEmpty()&&n.push(t.windows[i].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},Ae.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},Ae.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=1);return e},Ae.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=0);return e},Ae.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible^=1);return e},Ae.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].clearText();return e},Ae.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].reset();return e},Ae.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,i=(n[e],t.currentWindow.penAttr),t=n[++e];return i.textTag=(240&t)>>4,i.offset=(12&t)>>2,i.penSize=3&t,t=n[++e],i.italics=(128&t)>>7,i.underline=(64&t)>>6,i.edgeType=(56&t)>>3,i.fontStyle=7&t,e},Ae.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,i=(n[e],t.currentWindow.penColor),t=n[++e];return i.fgOpacity=(192&t)>>6,i.fgRed=(48&t)>>4,i.fgGreen=(12&t)>>2,i.fgBlue=3&t,t=n[++e],i.bgOpacity=(192&t)>>6,i.bgRed=(48&t)>>4,i.bgGreen=(12&t)>>2,i.bgBlue=3&t,t=n[++e],i.edgeRed=(48&t)>>4,i.edgeGreen=(12&t)>>2,i.edgeBlue=3&t,e},Ae.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,i=(n[e],t.currentWindow.penLoc);return t.currentWindow.pendingNewLine=!0,t=n[++e],i.row=15&t,t=n[++e],i.column=63&t,e},Ae.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};function TW0(e){return null===e?"":(e=Pe[e]||e,String.fromCharCode(e))}function WW0(){for(var e=[],t=xe+1;t--;)e.push("");return e}var Pe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},xe=14,Me=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ie=function Cea608Stream(e,t){Cea608Stream.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,o=32639&e.ccData;o!==this.lastControlCode_?(4096==(61440&o)?this.lastControlCode_=o:o!==this.PADDING_&&(this.lastControlCode_=null),t=o>>>8,n=255&o,o===this.PADDING_||(o===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":o===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts):o===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(e.pts)):o===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(e.pts)):o===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(e.pts)):o===this.CARRIAGE_RETURN_?(this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts):o===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):o===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(e.pts),this.displayed_=WW0()):o===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=WW0():o===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=WW0()),this.mode_="paintOn",this.startPts_=e.pts):this.isSpecialCharacter(t,n)?(i=TW0((t=(3&t)<<8)|n),this[this.mode_](e.pts,i),this.column_++):this.isExtCharacter(t,n)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=TW0((t=(3&t)<<8)|n),this[this.mode_](e.pts,i),this.column_++):this.isMidRowCode(t,n)?(this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&n)&&this.addFormatting(e.pts,["i"]),1==(1&n)&&this.addFormatting(e.pts,["u"])):this.isOffsetControlCode(t,n)?this.column_+=3&n:this.isPAC(t,n)?(r=Me.indexOf(7968&o),"rollUp"===this.mode_&&(r-this.rollUpRows_+1<0&&(r=this.rollUpRows_-1),this.setRollUp(e.pts,r)),r!==this.row_&&(this.clearFormatting(e.pts),this.row_=r),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&o)&&(this.column_=4*((14&o)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(e.pts,["i"])):this.isNormalChar(t)&&(0===n&&(n=null),i=TW0(t),i+=TW0(n),this[this.mode_](e.pts,i),this.column_+=i.length))):this.lastControlCode_=null}};Ie.prototype=new e,Ie.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e,t){try{return e.trim()}catch(e){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ie.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=WW0(),this.nonDisplayed_=WW0(),this.lastControlCode_=null,this.column_=0,this.row_=xe,this.rollUpRows_=2,this.formatting_=[]},Ie.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ie.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},Ie.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},Ie.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},Ie.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},Ie.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},Ie.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},Ie.prototype.isNormalChar=function(e){return 32<=e&&e<=127},Ie.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=xe,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=WW0(),this.displayed_=WW0()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ie.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);t=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,t)},Ie.prototype.clearFormatting=function(e){var t;this.formatting_.length&&(t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},""),this.formatting_=[],this[this.mode_](e,t))},Ie.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=n+=t},Ie.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=t},Ie.prototype.shiftRowsUp_=function(){for(var e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<xe+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ie.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=t};function bX0(e,t){var n=1;for(t<e&&(n=-1);Math.abs(t-e)>Re;)e+=n*De;return e}function cX0(e){var t,n;cX0.prototype.init.call(this),this.type_=e||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=bX0(e.dts,n),e.pts=bX0(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){t=n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}}var Le={CaptionStream:LW0,Cea608Stream:Ie,Cea708Stream:Ae},Oe={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},De=8589934592,Re=4294967296;cX0.prototype=new e;function eX0(e,t,n){for(var i="",r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}function fX0(e,t,n){return decodeURIComponent(eX0(e,t,n))}function gX0(e,t,n){return unescape(eX0(e,t,n))}function hX0(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var Ne=cX0,Be=bX0,je={TXXX:function TXXX(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=fX0(e.data,1,t),e.value=fX0(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function WXXX(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=fX0(e.data,1,t),e.url=fX0(e.data,t+1,e.data.length);break}},PRIV:function PRIV(e){for(var t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=gX0(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}},Fe=function MetadataStream(e){var t,n={descriptor:e&&e.descriptor},l=0,u=[],c=0;if(Fe.prototype.init.call(this),this.dispatchType=Oe.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,i,r,o,a,s;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(c=0,u.length=0),0===u.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(u.push(e),c+=e.data.byteLength,1===u.length&&(l=hX0(e.data.subarray(6,10)),l+=10),!(c<l)){for(t={data:new Uint8Array(l),frames:[],pts:u[0].pts,dts:u[0].dts},r=0;r<l;)t.data.set(u[0].data.subarray(0,l-r),r),r+=u[0].data.byteLength,c-=u[0].data.byteLength,u.shift();n=10,64&t.data[5]&&(n+=4,n+=hX0(t.data.subarray(10,14)),l-=hX0(t.data.subarray(16,20)));do{if((i=hX0(t.data.subarray(n+4,n+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."})}while((s={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+i+10)}).key=s.id,je[s.id]&&(je[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner&&(a=(1&(o=s.data)[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2,a*=4,a+=3&o[7],s.timeStamp=a,void 0===t.pts&&void 0===t.dts&&(t.pts=s.timeStamp,t.dts=s.timeStamp),this.trigger("timestamp",s))),t.frames.push(s),n+=10,(n+=i)<l);this.trigger("data",t)}}};Fe.prototype=new e;var Ue,Ve,He=Fe,Ne=Ne,qe=function TransportPacketStream(){var r=new Uint8Array(188),o=0;qe.prototype.init.call(this),this.push=function(e){var t,n=0,i=188;for(o?((t=new Uint8Array(e.byteLength+o)).set(r.subarray(0,o)),t.set(e,o),o=0):t=e;i<t.byteLength;)71!==t[n]||71!==t[i]?(n++,i++):(this.trigger("data",t.subarray(n,i)),n+=188,i+=188);n<t.byteLength&&(r.set(t.subarray(n),0),o=t.byteLength-n)},this.flush=function(){188===o&&71===r[0]&&(this.trigger("data",r),o=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){o=0,this.trigger("reset")}};qe.prototype=new e,(Ue=function TransportParseStream(){var i,r,o,a;Ue.prototype.init.call(this),(a=this).packetsWaitingForPmt=[],this.programMapTable=void 0,i=function parsePsi(e,t){var n=0;t.payloadUnitStartIndicator&&(n+=e[n]+1),("pat"===t.type?r:o)(e.subarray(n),t)},r=function parsePat(e,t){t.section_number=e[7],t.last_section_number=e[8],a.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=a.pmtPid},o=function parsePmt(e,t){var n,i;if(1&e[5]){for(a.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var r=e[i],o=(31&e[i+1])<<8|e[i+2];r===Oe.H264_STREAM_TYPE&&null===a.programMapTable.video?a.programMapTable.video=o:r===Oe.ADTS_STREAM_TYPE&&null===a.programMapTable.audio?a.programMapTable.audio=o:r===Oe.METADATA_STREAM_TYPE&&(a.programMapTable["timed-metadata"][o]=r),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=a.programMapTable}},this.push=function(e){var t={},n=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(n+=e[n]+1),0===t.pid)t.type="pat",i(e.subarray(n),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",i(e.subarray(n),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,t]):this.processPes_(e,n,t)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Oe.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Oe.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new e,Ue.STREAM_TYPES={h264:27,adts:15},(Ve=function ElementaryStream(){function h3b(e,t,n){var i,r=new Uint8Array(e.size),o={type:t},a=0,s=0;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,a=0;a<e.data.length;a++)i=e.data[a],r.set(i.data,s),s+=i.data.byteLength;u(r,o),t="video"===t||o.packetLength<=e.size,(n||t)&&(e.size=0,e.data.length=0),t&&l.trigger("data",o)}}var t,l=this,i=!1,r={data:[],size:0},o={data:[],size:0},a={data:[],size:0},u=function parsePes(e,t){var n=e[0]<<16|e[1]<<8|e[2];t.data=new Uint8Array,1==n&&(t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8]))};Ve.prototype.init.call(this),this.push=function(n){({pat:function pat(){},pes:function pes(){var e,t;switch(n.streamType){case Oe.H264_STREAM_TYPE:e=r,t="video";break;case Oe.ADTS_STREAM_TYPE:e=o,t="audio";break;case Oe.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&h3b(e,t,!0),e.data.push(n),e.size+=n.data.byteLength},pmt:function pmt(){var e={type:"metadata",tracks:[]};null!==(t=n.programMapTable).video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),i=!0,l.trigger("data",e)}})[n.type]()},this.reset=function(){r.size=0,r.data.length=0,o.size=0,o.data.length=0,this.trigger("reset")},this.flushStreams_=function(){h3b(r,"video"),h3b(o,"audio"),h3b(a,"timed-metadata")},this.flush=function(){var e;!i&&t&&(e={type:"metadata",tracks:[]},null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),l.trigger("data",e)),i=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new e;var We,Ge={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:qe,TransportParseStream:Ue,ElementaryStream:Ve,TimestampRolloverStream:Ne,CaptionStream:Le.CaptionStream,Cea608Stream:Le.Cea608Stream,Cea708Stream:Le.Cea708Stream,MetadataStream:He};for(We in Oe)Oe.hasOwnProperty(We)&&(Ge[We]=Oe[We]);var $e=Ge,ze=se,Ye=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Ke=function AdtsStream(l){var u,c=0;Ke.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes "+e+" to "+t+" in frame "+c+" outside syncword"})},this.push=function(e){var t,n,i,r,o,a,s=0;if(l||(c=0),"audio"===e.type){for(u&&u.length?(i=u,(u=new Uint8Array(i.byteLength+e.data.byteLength)).set(i),u.set(e.data,i.byteLength)):u=e.data;s+7<u.length;)if(255===u[s]&&240==(246&u[s+1])){if("number"==typeof a&&(this.skipWarn_(a,s),a=null),n=2*(1&~u[s+1]),t=(3&u[s+3])<<11|u[s+4]<<3|(224&u[s+5])>>5,o=(r=1024*(1+(3&u[s+6])))*ze/Ye[(60&u[s+2])>>>2],u.byteLength-s<t)break;this.trigger("data",{pts:e.pts+c*o,dts:e.dts+c*o,sampleCount:r,audioobjecttype:1+(u[s+2]>>>6&3),channelcount:(1&u[s+2])<<2|(192&u[s+3])>>>6,samplerate:Ye[(60&u[s+2])>>>2],samplingfrequencyindex:(60&u[s+2])>>>2,samplesize:16,data:u.subarray(s+7+n,s+t)}),c++,s+=t}else"number"!=typeof a&&(a=s),s++;"number"==typeof a&&(this.skipWarn_(a,s),a=null),u=u.subarray(s)}},this.flush=function(){c=0,this.trigger("done")},this.reset=function(){u=void 0,this.trigger("reset")},this.endTimeline=function(){u=void 0,this.trigger("endedtimeline")}};Ke.prototype=new e;var Xe,Qe,Ze=Ke,Je=function ExpGolomb(i){var r=i.byteLength,o=0,a=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+a},this.loadWord=function(){var e=i.byteLength-r,t=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");t.set(i.subarray(e,e+n)),o=new DataView(t.buffer).getUint32(0),a=8*n,r-=n},this.skipBits=function(e){var t;e<a||(e-=a,e-=8*(t=Math.floor(e/8)),r-=t,this.loadWord()),o<<=e,a-=e},this.readBits=function(e){var t=Math.min(a,e),n=o>>>32-t;return 0<(a-=t)?o<<=t:0<r&&this.loadWord(),0<(t=e-t)?n<<t|this.readBits(t):n},this.skipLeadingZeros=function(){for(var e=0;e<a;++e)if(0!=(o&2147483648>>>e))return o<<=e,a-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},et=function NalByteStream(){var i,r,o=0;et.prototype.init.call(this),this.push=function(e){for(var t,n=(r=r?((t=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),t.set(e.data,r.byteLength),t):e.data).byteLength;o<n-3;o++)if(1===r[o+2]){i=o+5;break}for(;i<n;)switch(r[i]){case 0:if(0!==r[i-1]){i+=2;break}if(0!==r[i-2]){i++;break}for(o+3!==i-2&&this.trigger("data",r.subarray(o+3,i-2));1!==r[++i]&&i<n;);o=i-2,i+=3;break;case 1:if(0!==r[i-1]||0!==r[i-2]){i+=3;break}this.trigger("data",r.subarray(o+3,i-2)),o=i-2,i+=3;break;default:i+=3}r=r.subarray(o),i-=o,o=0},this.reset=function(){r=null,o=0,this.trigger("reset")},this.flush=function(){r&&3<r.byteLength&&this.trigger("data",r.subarray(o+3)),r=null,o=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}};et.prototype=new e,Qe={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Xe=function H264Stream(){var n,i,r,o,a,s,m,t=new et;Xe.prototype.init.call(this),(n=this).push=function(e){"video"===e.type&&(i=e.trackId,r=e.pts,o=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:i,pts:r,dts:o,data:e,nalUnitTypeCode:31&e[0]};switch(t.nalUnitTypeCode){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=a(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=a(e.subarray(1)),t.config=s(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",t)}),t.on("done",function(){n.trigger("done")}),t.on("partialdone",function(){n.trigger("partialdone")}),t.on("reset",function(){n.trigger("reset")}),t.on("endedtimeline",function(){n.trigger("endedtimeline")}),this.flush=function(){t.flush()},this.partialFlush=function(){t.partialFlush()},this.reset=function(){t.reset()},this.endTimeline=function(){t.endTimeline()},m=function skipScalingList(e,t){for(var n=8,i=8,r=0;r<e;r++)n=0===(i=0!==i?(n+t.readExpGolomb()+256)%256:i)?n:i},a=function discardEmulationPreventionBytes(e){for(var t=e.byteLength,n=[],i=1;i<t-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return e;for(var r=t-n.length,o=new Uint8Array(r),a=0,i=0;i<r;a++,i++)a===n[0]&&(a++,n.shift()),o[i]=e[a];return o},s=function readSequenceParameterSet(e){var t,n,i,r,o,a=0,s=0,l=0,u=0,c=[1,1],d=new Je(e),h=d.readUnsignedByte(),p=d.readUnsignedByte(),f=d.readUnsignedByte();if(d.skipUnsignedExpGolomb(),Qe[h]&&(3===(n=d.readUnsignedExpGolomb())&&d.skipBits(1),d.skipUnsignedExpGolomb(),d.skipUnsignedExpGolomb(),d.skipBits(1),d.readBoolean()))for(r=3!==n?8:12,o=0;o<r;o++)d.readBoolean()&&m(o<6?16:64,d);if(d.skipUnsignedExpGolomb(),0===(i=d.readUnsignedExpGolomb()))d.readUnsignedExpGolomb();else if(1===i)for(d.skipBits(1),d.skipExpGolomb(),d.skipExpGolomb(),t=d.readUnsignedExpGolomb(),o=0;o<t;o++)d.skipExpGolomb();if(d.skipUnsignedExpGolomb(),d.skipBits(1),e=d.readUnsignedExpGolomb(),n=d.readUnsignedExpGolomb(),0===(i=d.readBits(1))&&d.skipBits(1),d.skipBits(1),d.readBoolean()&&(a=d.readUnsignedExpGolomb(),s=d.readUnsignedExpGolomb(),l=d.readUnsignedExpGolomb(),u=d.readUnsignedExpGolomb()),d.readBoolean()&&d.readBoolean()){switch(d.readUnsignedByte()){case 1:c=[1,1];break;case 2:c=[12,11];break;case 3:c=[10,11];break;case 4:c=[16,11];break;case 5:c=[40,33];break;case 6:c=[24,11];break;case 7:c=[20,11];break;case 8:c=[32,11];break;case 9:c=[80,33];break;case 10:c=[18,11];break;case 11:c=[15,11];break;case 12:c=[64,33];break;case 13:c=[160,99];break;case 14:c=[4,3];break;case 15:c=[3,2];break;case 16:c=[2,1];break;case 255:c=[d.readUnsignedByte()<<8|d.readUnsignedByte(),d.readUnsignedByte()<<8|d.readUnsignedByte()]}c&&(c[0],c[1])}return{profileIdc:h,levelIdc:f,profileCompatibility:p,width:16*(e+1)-2*a-2*s,height:(2-i)*(n+1)*16-2*l-2*u,sarRatio:c}}}).prototype=new e;function GX0(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:GX0(e,t+=nt(e,t))}function IX0(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}function KX0(e,t,n){return unescape(it(e,t,n))}var Ne=Xe,tt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],nt=function parseId3TagSize(e,t){var n=0<=(n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9])?n:0;return(16&e[t+5])>>4?n+20:n+10},it=function percentEncode(e,t,n){for(var i="",r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},rt={isLikelyAacData:function isLikelyAacData(e){var t=GX0(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:nt,parseAdtsSize:function parseAdtsSize(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function parseType(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function parseSampleRate(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return tt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function parseAacTimestamp(e){var t,n=10;64&e[5]&&(n+=4,n+=IX0(e.subarray(10,14)));do{if((t=IX0(e.subarray(n+4,n+8)))<1)return null;if("PRIV"===String.fromCharCode(e[n],e[n+1],e[n+2],e[n+3]))for(var i=e.subarray(n+10,n+t+10),r=0;r<i.byteLength;r++)if(0===i[r]){if("com.apple.streaming.transportStreamTimestamp"!==KX0(i,0,r))break;var o=i.subarray(r+1),a=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return a*=4,a+=3&o[7]}}while(n+=10,(n+=t)<e.byteLength);return null}},ot=function AacStream(){var o=new Uint8Array,a=0;ot.prototype.init.call(this),this.setTimestamp=function(e){a=e},this.push=function(e){var t,n,i=0,r=0;for(o.length?(n=o.length,(o=new Uint8Array(e.byteLength+n)).set(o.subarray(0,n)),o.set(e,n)):o=e;3<=o.length-r;)if(o[r]!=="I".charCodeAt(0)||o[r+1]!=="D".charCodeAt(0)||o[r+2]!=="3".charCodeAt(0))if(255!=(255&o[r])||240!=(240&o[r+1]))r++;else{if(o.length-r<7)break;if(r+(i=rt.parseAdtsSize(o,r))>o.length)break;t={type:"audio",data:o.subarray(r,r+i),pts:a,dts:a},this.trigger("data",t),r+=i}else{if(o.length-r<10)break;if(r+(i=rt.parseId3TagSize(o,r))>o.length)break;t={type:"timed-metadata",data:o.subarray(r,r+i)},this.trigger("data",t),r+=i}e=o.length-r,o=0<e?o.subarray(r):new Uint8Array},this.reset=function(){o=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){o=new Uint8Array,this.trigger("endedtimeline")}};ot.prototype=new e;function cY0(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];"headOfPipeline"!==r&&t[r].on&&t[r].on("log",mt.bind(e,r))}}function dY0(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function eY0(e,t,n,i,r,o){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(i-t),pts:e+(r-n)},prependedContentDuration:o,baseMediaDecodeTime:e}}var at,st,lt,ut=ot,ct=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],dt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],ht=Ne,pt=rt.isLikelyAacData,ft=se,mt=function retriggerForStream(e,t){t.stream=e,this.trigger("log",t)},gt=function AudioSegmentStream(o,a){var s=[],l=0,u=0,c=1/0,d=(a=a||{}).firstSequenceNumber||0;gt.prototype.init.call(this),this.push=function(t){_e(o,t),o&&ct.forEach(function(e){o[e]=t[e]}),s.push(t)},this.setEarliestDts=function(e){l=e},this.setVideoBaseMediaDecodeTime=function(e){c=e},this.setAudioAppendStart=function(e){u=e},this.flush=function(){var e,t,n,i,r;0!==s.length&&(e=fe(s,o,l),o.baseMediaDecodeTime=be(o,a.keepOriginalTimestamps),r=pe(o,e,u,c),o.samples=me(e),t=W(ge(e)),s=[],i=G(d,[o]),n=new Uint8Array(i.byteLength+t.byteLength),d++,n.set(i),n.set(t,i.byteLength),ve(o),i=Math.ceil(1024*ft/o.samplerate),e.length&&(i=e.length*i,this.trigger("segmentTimingInfo",eY0(ce(o.baseMediaDecodeTime,o.samplerate),e[0].dts,e[0].pts,e[0].dts+i,e[0].pts+i,r||0)),this.trigger("timingInfo",{start:e[0].pts,end:e[0].pts+i})),this.trigger("data",{track:o,boxes:n})),this.trigger("done","AudioSegmentStream")},this.reset=function(){ve(o),s=[],this.trigger("reset")}};gt.prototype=new e,(at=function VideoSegmentStream(a,o){var t,n,s=[],u=[],l=(o=o||{}).firstSequenceNumber||0;at.prototype.init.call(this),delete a.minPTS,this.gopCache_=[],this.push=function(e){_e(a,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,a.sps=[e.data],dt.forEach(function(e){a[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,a.pps=[e.data]),s.push(e)},this.flush=function(){for(var e,t,n,i=0;s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=Y(s),(t=K(e))[0][0].keyFrame||((n=this.getGopForFusion_(s[0],a))?(i=n.duration,t.unshift(n),t.byteLength+=n.byteLength,t.nalCount+=n.nalCount,t.pts=n.pts,t.dts=n.dts,t.duration+=n.duration):t=X(t)),u.length){var r=o.alignGopsAtEnd?this.alignGopsAtEnd_(t):this.alignGopsAtStart_(t);if(!r)return this.gopCache_.unshift({gop:t.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");ve(a),t=r}_e(a,t),a.samples=Q(t),e=W(Z(t)),a.baseMediaDecodeTime=be(a,o.keepOriginalTimestamps),this.trigger("processedGopsInfo",t.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),n=t[0],r=t[t.length-1],this.trigger("segmentTimingInfo",eY0(a.baseMediaDecodeTime,n.dts,n.pts,r.dts+r.duration,r.pts+r.duration,i)),this.trigger("timingInfo",{start:t[0].pts,end:t[t.length-1].pts+t[t.length-1].duration}),this.gopCache_.unshift({gop:t.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.trigger("baseMediaDecodeTime",a.baseMediaDecodeTime),this.trigger("timelineStartInfo",a.timelineStartInfo),i=G(l,[a]),t=new Uint8Array(i.byteLength+e.byteLength),l++,t.set(i),t.set(e,i.byteLength),this.trigger("data",{track:a,boxes:t}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),s=[],this.gopCache_.length=0,u.length=0,this.trigger("reset")},this.resetStream_=function(){ve(a),n=t=void 0},this.getGopForFusion_=function(e){for(var t,n,i,r=1/0,o=0;o<this.gopCache_.length;o++)n=(i=this.gopCache_[o]).gop,a.pps&&dY0(a.pps[0],i.pps[0])&&a.sps&&dY0(a.sps[0],i.sps[0])&&(n.dts<a.timelineStartInfo.dts||-1e4<=(n=e.dts-n.dts-n.duration)&&n<=45e3&&(!t||n<r)&&(t=i,r=n));return t?t.gop:null},this.alignGopsAtStart_=function(e){for(var t,n,i,r,o=e.byteLength,a=e.nalCount,s=e.duration,l=t=0;l<u.length&&t<e.length&&(n=u[l],i=e[t],n.pts!==i.pts);)i.pts>n.pts?l++:(t++,o-=i.byteLength,a-=i.nalCount,s-=i.duration);return 0===t?e:t===e.length?null:((r=e.slice(t)).byteLength=o,r.duration=s,r.nalCount=a,r.pts=r[0].pts,r.dts=r[0].dts,r)},this.alignGopsAtEnd_=function(e){for(var t,n,i=u.length-1,r=e.length-1,o=null,a=!1;0<=i&&0<=r;){if(t=u[i],n=e[r],t.pts===n.pts){a=!0;break}t.pts>n.pts?i--:(i===u.length-1&&(o=r),r--)}if(!a&&null===o)return null;if(0===(l=a?r:o))return e;var s=e.slice(l),l=s.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return s.byteLength=l.byteLength,s.duration=l.duration,s.nalCount=l.nalCount,s.pts=s[0].pts,s.dts=s[0].dts,s},this.alignGopsWith=function(e){u=e}}).prototype=new e,((lt=function CoalesceStream(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,lt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new e).flush=function(e){var t,n,i,r=0,o={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,dt.forEach(function(e){o.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,ct.forEach(function(e){o.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,e=$(this.pendingTracks),o.initSegment=new Uint8Array(e.byteLength),o.initSegment.set(e),o.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)o.data.set(this.pendingBoxes[i],r),r+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=he(t.startPts,a,this.keepOriginalTimestamps),t.endTime=he(t.endPts,a,this.keepOriginalTimestamps),o.captionStreams[t.stream]=!0,o.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=he(n.pts,a,this.keepOriginalTimestamps),o.metadata.push(n);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),i=0;i<o.captions.length;i++)t=o.captions[i],this.trigger("caption",t);for(i=0;i<o.metadata.length;i++)n=o.metadata[i],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},lt.prototype.setRemux=function(e){this.remuxTracks=e},(st=function Transmuxer(i){var r,o,a=this,n=!0;st.prototype.init.call(this),i=i||{},this.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new $e.MetadataStream,t.aacStream=new ut,t.audioTimestampRolloverStream=new $e.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new $e.TimestampRolloverStream("timed-metadata"),t.adtsStream=new Ze,t.coalesceStream=new lt(i,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type&&"audio"!==e.type||t.audioSegmentStream||(o=o||{timelineStartInfo:{baseMediaDecodeTime:a.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new gt(o,i),t.audioSegmentStream.on("log",a.getLogTrigger_("audioSegmentStream")),t.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream),a.trigger("trackinfo",{hasAudio:!!o,hasVideo:!!r}))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done")),cY0(this,t)},this.setupTsPipeline=function(){var n={};(this.transmuxPipeline_=n).type="ts",n.metadataStream=new $e.MetadataStream,n.packetStream=new $e.TransportPacketStream,n.parseStream=new $e.TransportParseStream,n.elementaryStream=new $e.ElementaryStream,n.timestampRolloverStream=new $e.TimestampRolloverStream,n.adtsStream=new Ze,n.h264Stream=new ht,n.captionStream=new $e.CaptionStream(i),n.coalesceStream=new lt(i,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream).pipe(n.timestampRolloverStream),n.timestampRolloverStream.pipe(n.h264Stream),n.timestampRolloverStream.pipe(n.adtsStream),n.timestampRolloverStream.pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)r||"video"!==e.tracks[t].type?o||"audio"!==e.tracks[t].type||((o=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime):(r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime;r&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new at(r,i),n.videoSegmentStream.on("log",a.getLogTrigger_("videoSegmentStream")),n.videoSegmentStream.on("timelineStartInfo",function(e){o&&!i.keepOriginalTimestamps&&(o.timelineStartInfo=e,n.audioSegmentStream.setEarliestDts(e.dts-a.baseMediaDecodeTime))}),n.videoSegmentStream.on("processedGopsInfo",a.trigger.bind(a,"gopInfo")),n.videoSegmentStream.on("segmentTimingInfo",a.trigger.bind(a,"videoSegmentTimingInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(e){o&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),n.videoSegmentStream.on("timingInfo",a.trigger.bind(a,"videoTimingInfo")),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),o&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new gt(o,i),n.audioSegmentStream.on("log",a.getLogTrigger_("audioSegmentStream")),n.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),n.audioSegmentStream.on("segmentTimingInfo",a.trigger.bind(a,"audioSegmentTimingInfo")),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream)),a.trigger("trackinfo",{hasAudio:!!o,hasVideo:!!r})}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("id3Frame",function(e){e.dispatchType=n.metadataStream.dispatchType,a.trigger("id3Frame",e)}),n.coalesceStream.on("caption",this.trigger.bind(this,"caption")),n.coalesceStream.on("done",this.trigger.bind(this,"done")),cY0(this,n)},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;i.keepOriginalTimestamps||(this.baseMediaDecodeTime=e),o&&(o.timelineStartInfo.dts=void 0,o.timelineStartInfo.pts=void 0,ve(o),t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),r&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[]),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,ve(r),t.captionStream.reset()),t.timestampRolloverStream&&t.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){o&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(e){var t=this.transmuxPipeline_;i.remux=e,t&&t.coalesceStream&&t.coalesceStream.setRemux(e)},this.alignGopsWith=function(e){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(t){var n=this;return function(e){e.stream=t,n.trigger("log",e)}},this.push=function(e){var t;n&&((t=pt(e))&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1),this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new e;function DY0(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null}function EY0(e,t,n){for(var i,r,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a={logs:[],seiNals:[]},s=0;s+4<e.length;s+=i)if(i=o.getUint32(s),s+=4,!(i<=0))switch(31&e[s]){case 6:var l=e.subarray(s+1,s+1+i),u=DY0(s,t),l={nalUnitType:"sei_rbsp",size:i,data:l,escapedRBSP:Pt(l),trackId:n};if(u)l.pts=u.pts,l.dts=u.dts,r=u;else{if(!r){a.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+s+" for trackId "+n+". See mux.js#223."});break}l.pts=r.pts,l.dts=r.dts}a.seiNals.push(l)}return a}function FY0(e,t,n){var i=t,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return e.forEach(function(e){e=kt(e).samples;e.forEach(function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof i?(e.pts=i+At.BigInt(e.compositionTimeOffset),i+=At.BigInt(e.duration)):(e.pts=i+e.compositionTimeOffset,i+=e.duration)}),s=s.concat(e)}),s}function HY0(e,t,n){return null===t?null:{seiNals:(t=Mt(e,t)[t]||{}).seiNals,logs:t.logs,timescale:n}}function UY0(e){var t=31&e[1];return t<<=8,t|=e[2]}function VY0(e){return!!(64&e[1])}function WY0(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t}function aZ0(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}var yt=st,He=function toUnsigned(e){return e>>>0},Ne=function toHexString(e){return("00"+e.toString(16)).slice(-2)},vt=function parseType(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},bt=He,_t=function findBox(e,t){var n,i,r,o=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=bt(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),r=vt(e.subarray(n+4,n+8)),i=1<i?n+i:e.byteLength,r===t[0]&&(1===t.length?o.push(e.subarray(n+8,i)):(r=findBox(e.subarray(n+8,i),t.slice(1))).length&&(o=o.concat(r))),n=i;return o},Tt=He,St=V.getUint64,Ct=function tfdt(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=St(e.subarray(4)):t.baseMediaDecodeTime=Tt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},wt=function parseSampleFlags(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},kt=function trun(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),o&&c&&(t={flags:wt(e.subarray(d,d+4))},d+=4,a&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),u&&(1===n.version?t.compositionTimeOffset=i.getInt32(d):t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t),c--);c--;)t={},a&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),l&&(t.flags=wt(e.subarray(d,d+4)),d+=4),u&&(1===n.version?t.compositionTimeOffset=i.getInt32(d):t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t);return n},Et=function tfhd(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4)},i=1&n.flags[2],r=2&n.flags[2],o=8&n.flags[2],a=16&n.flags[2],s=32&n.flags[2],l=65536&n.flags[0],u=131072&n.flags[0],e=8;return i&&(e+=4,n.baseDataOffset=t.getUint32(12),e+=4),r&&(n.sampleDescriptionIndex=t.getUint32(e),e+=4),o&&(n.defaultSampleDuration=t.getUint32(e),e+=4),a&&(n.defaultSampleSize=t.getUint32(e),e+=4),s&&(n.defaultSampleFlags=t.getUint32(e)),l&&(n.durationIsEmpty=!0),!i&&u&&(n.baseDataOffsetIsMoof=!0),n},e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==$t?$t:"undefined"!=typeof self?self:{},e="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},At=e,Pt=we,xt=Le.CaptionStream,Mt=function parseCaptionNals(e,o){var n=_t(e,["moof","traf"]),e=_t(e,["mdat"]),a={},i=[];return e.forEach(function(e,t){t=n[t];i.push({mdat:e,traf:t})}),i.forEach(function(e){var t=e.mdat,n=e.traf,i=_t(n,["tfhd"]),r=Et(i[0]),e=r.trackId,i=_t(n,["tfdt"]),i=0<i.length?Ct(i[0]).baseMediaDecodeTime:0,n=_t(n,["trun"]);o===e&&0<n.length&&(r=FY0(n,i,r),r=EY0(t,r,e),a[e]||(a[e]={seiNals:[],logs:[]}),a[e].seiNals=a[e].seiNals.concat(r.seiNals),a[e].logs=a[e].logs.concat(r.logs))}),a},It=function CaptionParser(){var t,r,o,a,s,n,i=!1;this.isInitialized=function(){return i},this.init=function(e){t=new xt,i=!0,n=!!e&&e.isPartial,t.on("data",function(e){e.startTime=e.startPts/a,e.endTime=e.endPts/a,s.captions.push(e),s.captionStreams[e.stream]=!0}),t.on("log",function(e){s.logs.push(e)})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(o!==e[0]||a!==t[o])},this.parse=function(e,t,n){if(!this.isInitialized())return null;if(!t||!n)return null;if(this.isNewInit(t,n))o=t[0],a=n[o];else if(null===o||!a)return r.push(e),null;for(;0<r.length;){var i=r.shift();this.parse(i,t,n)}return(e=HY0(e,o,a))&&e.logs&&(s.logs=s.logs.concat(e.logs)),null!==e&&e.seiNals?(this.pushNals(e.seiNals),this.flushStream(),s):s.logs.length?{logs:s.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;n?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){s.captions=[],s.captionStreams={},s.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){r=[],a=o=null,s?this.clearParsedCaptions():s={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Lt=He,Ot=Ne,Dt=V.getUint64,Rt=function getTimescaleFromMediaHeader(e){var t=0===e[0]?12:20;return Lt(e[t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])},Nt=function startTime(o,e){e=_t(e,["moof","traf"]).reduce(function(e,t){var n,i=_t(t,["tfhd"])[0],r=Lt(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),i=o[r]||9e4,r=_t(t,["tfdt"])[0],t=new DataView(r.buffer,r.byteOffset,r.byteLength),t=1===r[0]?Dt(r.subarray(4,12)):t.getUint32(4);return"bigint"==typeof t?n=t/At.BigInt(i):"number"!=typeof t||isNaN(t)||(n=t/i),e=(n=n<Number.MAX_SAFE_INTEGER?Number(n):n)<e?n:e},1/0);return"bigint"==typeof e||isFinite(e)?e:0},Bt=function getTracks(e){var e=_t(e,["moov","trak"]),a=[];return e.forEach(function(e){var t={},n=_t(e,["tkhd"])[0];n&&(n=(i=new DataView(n.buffer,n.byteOffset,n.byteLength)).getUint8(0),t.id=0===n?i.getUint32(12):i.getUint32(20));var i=_t(e,["mdia","hdlr"])[0];i&&(o=vt(i.subarray(8,12)),t.type="vide"===o?"video":"soun"===o?"audio":o);var r,o=_t(e,["mdia","minf","stbl","stsd"])[0];o&&(o=o.subarray(8),t.codec=vt(o.subarray(4,8)),(o=_t(o,[t.codec])[0])&&(/^[asm]vc[1-9]$/i.test(t.codec)?(r=o.subarray(78),"avcC"===vt(r.subarray(4,8))&&11<r.length?(t.codec+=".",t.codec+=Ot(r[9]),t.codec+=Ot(r[10]),t.codec+=Ot(r[11])):t.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(t.codec)?(r=o.subarray(28),"esds"===vt(r.subarray(4,8))&&20<r.length&&0!==r[19]?(t.codec+="."+Ot(r[19]),t.codec+="."+Ot(r[20]>>>2&63).replace(/^0/,"")):t.codec="mp4a.40.2"):t.codec=t.codec.toLowerCase()));e=_t(e,["mdia","mdhd"])[0];e&&(t.timescale=Rt(e)),a.push(t)}),a},jt=Be,Ft={};Ft.ts={parseType:function parseType(e,t){e=UY0(e);return 0===e?"pat":e===t?"pmt":t?"pes":null},parsePat:function parsePat(e){var t=VY0(e),n=4+WY0(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function parsePmt(e){var t={},n=VY0(e),i=4+WY0(e);if(n&&(i+=e[i]+1),1&e[i+5]){for(var r=3+((15&e[i+1])<<8|e[i+2])-4,o=12+((15&e[i+10])<<8|e[i+11]);o<r;){var a=i+o;t[(31&e[a+1])<<8|e[a+2]]=e[a],o+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:VY0,parsePesType:function parsePesType(e,t){switch(t[UY0(e)]){case Oe.H264_STREAM_TYPE:return"video";case Oe.ADTS_STREAM_TYPE:return"audio";case Oe.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function parsePesTime(e){if(!VY0(e))return null;var t=4+WY0(e);if(t>=e.byteLength)return null;var n=null,i=e[t+7];return 192&i&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function videoPacketContainsKeyFrame(e){for(var t=4+WY0(e),n=e.subarray(t),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}for(r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===aZ0(31&n[r+3])&&(o=!0);1!==n[++i]&&i<n.length;);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===aZ0(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,o=n&&3<n.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===aZ0(31&n[r+3])?!0:o}},Ft.aac=rt;function lZ0(e,t){var n,i;e.audio&&e.audio.length&&(void 0!==(n=t)&&!isNaN(n)||(n=e.audio[0].dts),e.audio.forEach(function(e){e.dts=jt(e.dts,n),e.pts=jt(e.pts,n),e.dtsTime=e.dts/Ut,e.ptsTime=e.pts/Ut})),e.video&&e.video.length&&(void 0!==(i=t)&&!isNaN(i)||(i=e.video[0].dts),e.video.forEach(function(e){e.dts=jt(e.dts,i),e.pts=jt(e.pts,i),e.dtsTime=e.dts/Ut,e.ptsTime=e.pts/Ut}),e.firstKeyFrame&&((e=e.firstKeyFrame).dts=jt(e.dts,i),e.pts=jt(e.pts,i),e.dtsTime=e.dts/Ut,e.ptsTime=e.pts/Ut))}function mZ0(e){for(var t,n=!1,i=0,r=null,o=null,a=0,s=0;3<=e.length-s;){switch(Ft.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){n=!0;break}if((a=Ft.aac.parseId3TagSize(e,s))>e.length){n=!0;break}null===o&&(t=e.subarray(s,s+a),o=Ft.aac.parseAacTimestamp(t)),s+=a;break;case"audio":if(e.length-s<7){n=!0;break}if((a=Ft.aac.parseAdtsSize(e,s))>e.length){n=!0;break}null===r&&(t=e.subarray(s,s+a),r=Ft.aac.parseSampleRate(t)),i++,s+=a;break;default:s++}if(n)return null}if(null===r||null===o)return null;var l=Ut/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*l,pts:o+1024*i*l}]}}function nZ0(e){var t,n={pid:null,table:null},i={};for(t in Vt(e,n),n.table)if(n.table.hasOwnProperty(t))switch(n.table[t]){case Oe.H264_STREAM_TYPE:i.video=[],qt(e,n,i),0===i.video.length&&delete i.video;break;case Oe.ADTS_STREAM_TYPE:i.audio=[],Ht(e,n,i),0===i.audio.length&&delete i.audio}return i}function qZ0(n,e){e.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};t=e.data;e.data=t.buffer,n.postMessage({action:"data",segment:e,byteOffset:t.byteOffset,byteLength:t.byteLength},[e.data])}),e.on("done",function(e){n.postMessage({action:"done"})}),e.on("gopInfo",function(e){n.postMessage({action:"gopInfo",gopInfo:e})}),e.on("videoSegmentTimingInfo",function(e){var t={start:{decode:ue(e.start.dts),presentation:ue(e.start.pts)},end:{decode:ue(e.end.dts),presentation:ue(e.end.pts)},baseMediaDecodeTime:ue(e.baseMediaDecodeTime)};e.prependedContentDuration&&(t.prependedContentDuration=ue(e.prependedContentDuration)),n.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}),e.on("audioSegmentTimingInfo",function(e){var t={start:{decode:ue(e.start.dts),presentation:ue(e.start.pts)},end:{decode:ue(e.end.dts),presentation:ue(e.end.pts)},baseMediaDecodeTime:ue(e.baseMediaDecodeTime)};e.prependedContentDuration&&(t.prependedContentDuration=ue(e.prependedContentDuration)),n.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:t})}),e.on("id3Frame",function(e){n.postMessage({action:"id3Frame",id3Frame:e})}),e.on("caption",function(e){n.postMessage({action:"caption",caption:e})}),e.on("trackinfo",function(e){n.postMessage({action:"trackinfo",trackInfo:e})}),e.on("audioTimingInfo",function(e){n.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ue(e.start),end:ue(e.end)}})}),e.on("videoTimingInfo",function(e){n.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ue(e.start),end:ue(e.end)}})}),e.on("log",function(e){n.postMessage({action:"log",log:e})})}var Ut=se,Vt=function parsePsi_(e,t){for(var n,i=0,r=188;r<e.byteLength;)if(71!==e[i]||71!==e[r])i++,r++;else{switch(n=e.subarray(i,r),Ft.ts.parseType(n,t.pid)){case"pat":t.pid=Ft.ts.parsePat(n);break;case"pmt":var o=Ft.ts.parsePmt(n);t.table=t.table||{},Object.keys(o).forEach(function(e){t.table[e]=o[e]})}i+=188,r+=188}},Ht=function parseAudioPes_(e,t,n){for(var i,r,o,a,s=0,l=188,u=!1;l<=e.byteLength;)if(71!==e[s]||71!==e[l]&&l!==e.byteLength)s++,l++;else{if(i=e.subarray(s,l),"pes"===Ft.ts.parseType(i,t.pid)&&(r=Ft.ts.parsePesType(i,t.table),o=Ft.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Ft.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),u=!0)),u)break;s+=188,l+=188}for(s=(l=e.byteLength)-188,u=!1;0<=s;)if(71!==e[s]||71!==e[l]&&l!==e.byteLength)s--,l--;else{if(i=e.subarray(s,l),"pes"===Ft.ts.parseType(i,t.pid)&&(r=Ft.ts.parsePesType(i,t.table),o=Ft.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Ft.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),u=!0)),u)break;s-=188,l-=188}},qt=function parseVideoPes_(e,t,n){for(var i,r,o,a,s,l,u,c,d=0,h=188,p=!1,f={data:[],size:0};h<e.byteLength;)if(71!==e[d]||71!==e[h])d++,h++;else{if(i=e.subarray(d,h),"pes"===Ft.ts.parseType(i,t.pid))if(r=Ft.ts.parsePesType(i,t.table),o=Ft.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(o&&!p&&(a=Ft.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),p=!0),!n.firstKeyFrame)){if(o&&0!==f.size){for(s=new Uint8Array(f.size),l=0;f.data.length;)u=f.data.shift(),s.set(u,l),l+=u.byteLength;Ft.ts.videoPacketContainsKeyFrame(s)&&((c=Ft.ts.parsePesTime(s))?(n.firstKeyFrame=c,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")),f.size=0}f.data.push(i),f.size+=i.byteLength}if(p&&n.firstKeyFrame)break;d+=188,h+=188}for(d=(h=e.byteLength)-188,p=!1;0<=d;)if(71!==e[d]||71!==e[h])d--,h--;else{if(i=e.subarray(d,h),"pes"===Ft.ts.parseType(i,t.pid)&&(r=Ft.ts.parsePesType(i,t.table),o=Ft.ts.parsePayloadUnitStartIndicator(i),"video"===r&&o&&(a=Ft.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),p=!0)),p)break;d-=188,h-=188}},Wt=function inspect(e,t){e=(Ft.aac.isLikelyAacData(e)?mZ0:nZ0)(e);return e&&(e.audio||e.video)?(lZ0(e,t),e):null},Gt=function(){function MessageHandlers(e,t){this.options=t||{},this.self=e,this.init()}var e=MessageHandlers.prototype;return e.init=function init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new yt(this.options),qZ0(this.self,this.transmuxer)},e.pushMp4Captions=function pushMp4Captions(e){this.captionParser||(this.captionParser=new It,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),e=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:e&&e.captions||[],logs:e&&e.logs||[],data:t.buffer},[t.buffer])},e.probeMp4StartTime=function probeMp4StartTime(e){var t=e.timescales,e=e.data,t=Nt(t,e);this.self.postMessage({action:"probeMp4StartTime",startTime:t,data:e},[e.buffer])},e.probeMp4Tracks=function probeMp4Tracks(e){var t=e.data,e=Bt(t);this.self.postMessage({action:"probeMp4Tracks",tracks:e,data:t},[t.buffer])},e.probeTs=function probeTs(e){var t=e.data,n=e.baseStartTime,e="number"!=typeof n||isNaN(n)?void 0:n*se,n=Wt(t,e),e=null;n&&((e={hasVideo:n.video&&2===n.video.length||!1,hasAudio:n.audio&&2===n.audio.length||!1}).hasVideo&&(e.videoStart=n.video[0].ptsTime),e.hasAudio&&(e.audioStart=n.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:e,data:t},[t.buffer])},e.clearAllMp4Captions=function clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()},e.clearParsedMp4Captions=function clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()},e.push=function push(e){e=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(e)},e.reset=function reset(){this.transmuxer.reset()},e.setTimestampOffset=function setTimestampOffset(e){e=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(le(e)))},e.setAudioAppendStart=function setAudioAppendStart(e){this.transmuxer.setAudioAppendStart(Math.ceil(le(e.appendStart)))},e.setRemux=function setRemux(e){this.transmuxer.setRemux(e.remux)},e.flush=function flush(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},e.endTimeline=function endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},e.alignGopsWith=function alignGopsWith(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},MessageHandlers}();self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new Gt(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new Gt(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),vn=function handleData_(e,t,n){var i=e.data.segment,r=i.type,o=i.initSegment,a=i.captions,s=i.captionStreams,l=i.metadata,u=i.videoFrameDtsTime,i=i.videoFramePtsTime;t.buffer.push({captions:a,captionStreams:s,metadata:l});e=e.data.segment.boxes||{data:e.data.segment.data},o={type:r,data:new Uint8Array(e.data,e.data.byteOffset,e.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==u&&(o.videoFrameDtsTime=u),void 0!==i&&(o.videoFramePtsTime=i),n(o)},bn=function handleDone_(e){var t=e.transmuxedData,e=e.callback;t.buffer=[],e(t)},_n=function handleGopInfo_(e,t){t.gopInfo=e.data.gopInfo},Tn=function dequeue(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():o$a(e.currentTransmux))},Sn=function processAction(e,t){e.postMessage({action:t}),Tn(e)},Cn=function reset(e){r$a("reset",e)},wn=function createTransmuxer(e){var t=new yn;t.currentTransmux=null,t.transmuxQueue=[];var n=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)},t.postMessage({action:"init",options:e}),t},kn={FAILURE:2,TIMEOUT:-101,ABORTED:-102},En=function abortAll(e){e.forEach(function(e){e.abort()})},An=function getRequestStats(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},Pn=function getProgressStats(e){var t=e.target,t={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return t.bytesReceived=e.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3),t},xn=function handleErrors(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:kn.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:kn.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:kn.FAILURE,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:kn.FAILURE,xhr:t}:null},Mn=function parseInitSegment(n,i){var e=Object(L.a)(n.map.bytes);if("mp4"!==e){var t=n.map.resolvedUri||n.map.uri;return i({internal:!0,message:"Found unsupported "+(e||"unknown")+" container for initialization segment at URL: "+t,code:kn.FAILURE})}x$a({action:"probeMp4Tracks",data:n.map.bytes,transmuxer:n.transmuxer,callback:function callback(e){var t=e.tracks,e=e.data;return n.map.bytes=e,t.forEach(function(e){n.map.tracks=n.map.tracks||{},n.map.tracks[e.type]||"number"==typeof(n.map.tracks[e.type]=e).id&&e.timescale&&(n.map.timescales=n.map.timescales||{},n.map.timescales[e.id]=e.timescale)}),i(null)}})},In=function handleSegmentBytes(e){var n=e.segment,i=e.bytes,t=e.trackInfoFn,r=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog,f=new Uint8Array(i);if(Object(L.b)(f)){n.isFmp4=!0;var m=n.map.tracks,g={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&"enca"!==m.audio.codec&&(g.audioCodec=m.audio.codec),m.video&&m.video.codec&&"encv"!==m.video.codec&&(g.videoCodec=m.video.codec),m.video&&m.audio&&(g.isMuxed=!0),t(n,g);var y=function finishLoading(e){d(n,{data:f,type:g.hasAudio&&!g.isMuxed?"audio":"video"}),e&&e.length&&l(n,e),h(null,n,{})};x$a({action:"probeMp4StartTime",timescales:n.map.timescales,data:f,transmuxer:n.transmuxer,callback:function callback(e){var t=e.data,e=e.startTime;i=t.buffer,n.bytes=f=t,g.hasAudio&&!g.isMuxed&&r(n,"audio","start",e),g.hasVideo&&r(n,"video","start",e),m.video&&t.byteLength&&n.transmuxer?x$a({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:n.transmuxer,data:f,timescales:n.map.timescales,trackIds:[m.video.id],callback:function callback(e){i=e.data.buffer,n.bytes=f=e.data,e.logs.forEach(function(e){p(videojs.mergeOptions(e,{stream:"mp4CaptionParser"}))}),y(e.captions)}}):y()}})}else if(n.transmuxer){if(void 0===n.container&&(n.container=Object(L.a)(f)),"ts"!==n.container&&"aac"!==n.container)return t(n,{hasAudio:!1,hasVideo:!1}),void h(null,n,{});H$a({segment:n,bytes:i,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:h,onTransmuxerLog:p})}else h(null,n,{})},Ln=function decrypt(e,t){var n=e.id,i=e.key,r=e.encryptedBytes,o=e.decryptionWorker;o.addEventListener("message",function decryptionHandler(e){e.data.source===n&&(o.removeEventListener("message",decryptionHandler),e=e.data.decrypted,t(new Uint8Array(e.bytes,e.byteOffset,e.byteLength)))}),e=i.bytes.slice?i.bytes.slice():new Uint32Array(Array.prototype.slice.call(i.bytes)),o.postMessage(DZa({source:n,encrypted:r,key:e,iv:i.iv}),[r.buffer,e.buffer])},On=function decryptSegment(e){var t=e.decryptionWorker,n=e.segment,i=e.trackInfoFn,r=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog;Ln({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:t},function(e){n.bytes=e,In({segment:n,bytes:n.bytes,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:h,onTransmuxerLog:p})})},Dn=Ft("CodecUtils"),Rn=function isMaat(e,t){t=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&t.AUDIO&&e.mediaGroups.AUDIO[t.AUDIO]},Nn=function unwrapCodecList(e){var i={};return e.forEach(function(e){var t=e.mediaType,n=e.type,e=e.details;i[t]=i[t]||[],i[t].push(Object(k.i)(""+n+e))}),Object.keys(i).forEach(function(e){return 1<i[e].length?(Dn("multiple "+e+" codecs found as attributes: "+i[e].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(i[e]=null)):void(i[e]=i[e][0])}),i},Bn=function codecsForPlaylist(e,t){var n=t.attributes||{},i=Nn(Q$a(t)||[]);return Rn(e,t)&&!i.audio&&(S$a(e,t)||(n=Nn(Object(k.d)(e,n.AUDIO)||[])).audio&&(i.audio=n.audio)),i},jn=Ft("PlaylistSelector"),Fn=function representationToString(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},Un=function stableSort(e,i){var r=e.slice();e.sort(function(e,t){var n=i(e,t);return 0===n?r.indexOf(e)-r.indexOf(t):n})},Vn=function(i){function SegmentLoader(e,t){var n=i.call(this)||this;if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=e.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.partIndex=null,n.hasPlayed_=e.hasPlayed,n.currentTime_=e.currentTime,n.seekable_=e.seekable,n.seeking_=e.seeking,n.duration_=e.duration,n.mediaSource_=e.mediaSource,n.vhs_=e.vhs,n.loaderType_=e.loaderType,n.currentMediaInfo_=void 0,n.startingMediaInfo_=void 0,n.segmentMetadataTrack_=e.segmentMetadataTrack,n.goalBufferLength_=e.goalBufferLength,n.sourceType_=e.sourceType,n.sourceUpdater_=e.sourceUpdater,n.inbandTextTracks_=e.inbandTextTracks,n.state_="INIT",n.timelineChangeController_=e.timelineChangeController,n.shouldSaveSegmentTimingInfo_=!0,n.parse708captions_=e.parse708captions,n.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,n.captionServices_=e.captionServices,n.experimentalExactManifestTimings=e.experimentalExactManifestTimings,n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.xhrOptions_=null,n.pendingSegments_=[],n.audioDisabled_=!1,n.isPendingTimestampOffset_=!1,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=11<=videojs.browser.IE_VERSION,n.appendInitSegment_={audio:!0,video:!0},n.playlistOfLastInitSegment_={audio:null,video:null},n.callQueue_=[],n.loadQueue_=[],n.metadataQueue_={id3:[],caption:[]},n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=e.cacheEncryptionKeys,n.keyCache_={},n.decrypter_=e.decrypter,n.syncController_=e.syncController,n.syncPoint_={segmentIndex:0,time:0},n.transmuxer_=n.createTransmuxer_(),n.triggerSyncInfoUpdate_=function(){return n.trigger("syncinfoupdate")},n.syncController_.on("syncinfoupdate",n.triggerSyncInfoUpdate_),n.mediaSource_.addEventListener("sourceopen",function(){n.isEndOfStream_()||(n.ended_=!1)}),n.fetchAtBuffer_=!1,n.logger_=Ft("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(b()(n),"state",{get:function get(){return this.state_},set:function set(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),n.sourceUpdater_.on("ready",function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),"main"===n.loaderType_&&n.timelineChangeController_.on("pendingtimelinechange",function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),"audio"===n.loaderType_&&n.timelineChangeController_.on("timelinechange",function(){n.hasEnoughInfoToLoad_()&&n.processLoadQueue_(),n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),n}h()(SegmentLoader,i);var e=SegmentLoader.prototype;return e.createTransmuxer_=function createTransmuxer_(){return wn({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},e.resetStats_=function resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},e.dispose=function dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&v.a.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},e.setAudio=function setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},e.abort=function abort(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},e.abort_=function abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,v.a.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},e.checkForAbort_=function checkForAbort_(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},e.error=function error(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},e.endOfStream=function endOfStream(){this.ended_=!0,this.transmuxer_&&Cn(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},e.buffered_=function buffered_(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return videojs.createTimeRanges();if("main"===this.loaderType_){var t=e.hasAudio,n=e.hasVideo,e=e.isMuxed;if(n&&t&&!this.audioDisabled_&&!e)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},e.initSegmentForMap=function initSegmentForMap(e,t){if(void 0===t&&(t=!1),!e)return null;var n=EZa(e),i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e},e.segmentKey=function segmentKey(e,t){if(void 0===t&&(t=!1),!e)return null;var n=FZa(e),i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});e={resolvedUri:(i||e).resolvedUri};return i&&(e.bytes=i.bytes),e},e.couldBeginLoading_=function couldBeginLoading_(){return this.playlist_&&!this.paused()},e.load=function load(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},e.init_=function init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},e.playlist=function playlist(e,t){if(void 0===t&&(t={}),e){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update ["+r+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");t=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+t+"]"),null!==this.mediaIndex&&(this.mediaIndex-=t,this.mediaIndex<0?(this.mediaIndex=null,this.partIndex=null):(r=this.playlist_.segments[this.mediaIndex],!this.partIndex||r.parts&&r.parts.length&&r.parts[this.partIndex]||(r=this.mediaIndex,this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=r))),i&&(i.mediaIndex-=t,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(0<=i.mediaIndex&&(i.segment=e.segments[i.mediaIndex]),0<=i.partIndex&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}},e.pause=function pause(){this.checkBufferTimeout_&&(v.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},e.paused=function paused(){return null===this.checkBufferTimeout_},e.resetEverything=function resetEverything(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},e.resetLoader=function resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()},e.resyncLoader=function resyncLoader(){this.transmuxer_&&Cn(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},e.remove=function remove(e,t,n,i){if(void 0===n&&(n=function done(){}),void 0===i&&(i=!1),(t=t===1/0?this.duration_():t)<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var r,o=1,a=function removeFinished(){0===--o&&n()};for(r in!i&&this.audioDisabled_||(o++,this.sourceUpdater_.removeAudio(e,t,a)),!i&&"main"!==this.loaderType_||(this.gopBuffer_=p_a(this.gopBuffer_,e,t,this.timeMapping_),o++,this.sourceUpdater_.removeVideo(e,t,a)),this.inbandTextTracks_)l_a(e,t,this.inbandTextTracks_[r]);l_a(e,t,this.segmentMetadataTrack_),a()}else this.logger_("skipping remove because no source updater or starting media info")},e.monitorBuffer_=function monitorBuffer_(){this.checkBufferTimeout_&&v.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=v.a.setTimeout(this.monitorBufferTick_.bind(this),1)},e.monitorBufferTick_=function monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&v.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=v.a.setTimeout(this.monitorBufferTick_.bind(this),500)},e.fillBuffer_=function fillBuffer_(){var e;this.sourceUpdater_.updating()||(e=this.chooseNextRequest_())&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))},e.isEndOfStream_=function isEndOfStream_(e,t,n){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),void 0===n&&(n=this.partIndex),!t||!this.mediaSource_)return!1;var i="number"==typeof e&&t.segments[e],e=e+1===t.segments.length,i=!i||!i.parts||n+1===i.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&e&&i},e.chooseNextRequest_=function chooseNextRequest_(){var e=this.buffered_(),t=AYa(e)||0,n=BYa(e,this.currentTime_()),i=!this.hasPlayed_()&&1<=n,r=n>=this.goalBufferLength_(),e=this.playlist_.segments;if(!e.length||i||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var o,i={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};i.isSyncRequest?i.mediaIndex=s_a(this.currentTimeline_,e,t):null!==this.mediaIndex?(r=e[this.mediaIndex],o="number"==typeof this.partIndex?this.partIndex:-1,i.startOfSegment=r.end||t,r.parts&&r.parts[o+1]?(i.mediaIndex=this.mediaIndex,i.partIndex=o+1):i.mediaIndex=this.mediaIndex+1):(o=(s=Qt.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time})).segmentIndex,a=s.startTime,s=s.partIndex,i.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),i.mediaIndex=o,i.startOfSegment=a,i.partIndex=s);var a=e[i.mediaIndex],s=a&&"number"==typeof i.partIndex&&a.parts&&a.parts[i.partIndex];if(!a||"number"==typeof i.partIndex&&!s)return null;"number"!=typeof i.partIndex&&a.parts&&(i.partIndex=0,s=a.parts[0]),n||!s||s.independent||(0===i.partIndex?(s=(n=e[i.mediaIndex-1]).parts&&n.parts.length&&n.parts[n.parts.length-1])&&s.independent&&(--i.mediaIndex,i.partIndex=n.parts.length-1,i.independent="previous segment"):a.parts[i.partIndex-1].independent&&(--i.partIndex,i.independent="previous part"));a=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return i.mediaIndex>=e.length-1&&a&&!this.seeking_()?null:this.generateSegmentInfo_(i)},e.generateSegmentInfo_=function generateSegmentInfo_(e){var t=e.independent,n=e.playlist,i=e.mediaIndex,r=e.startOfSegment,o=e.isSyncRequest,a=e.partIndex,s=e.forceTimestampOffset,l=e.getMediaInfoForTime,u=n.segments[i],e="number"==typeof a&&u.parts[a],t={requestId:"segment-loader-"+Math.random(),uri:e&&e.resolvedUri||u.resolvedUri,mediaIndex:i,partIndex:e?a:null,isSyncRequest:o,startOfSegment:r,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:e&&e.duration||u.duration,segment:u,part:e,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},s=void 0!==s?s:this.isPendingTimestampOffset_;t.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:u.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:s});s=AYa(this.sourceUpdater_.audioBuffered());return"number"==typeof s&&(t.audioAppendStart=s-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(t.gopsToAlignWith=n_a(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),t},e.timestampOffsetForSegment_=B_a,e.earlyAbortWhenNeeded_=function earlyAbortWhenNeeded_(e){var t,n,i,r;!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3||(t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,(r=Qt.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived))<=(e=xYa(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1)||(i=d_a({master:this.vhs_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:e,currentTimeline:this.currentTimeline_,syncController:this.syncController_}))&&(r=r-e-i.rebufferingImpact,!i.playlist||i.playlist.uri===this.playlist_.uri||r<(e<=Ut?1:.5)||(this.bandwidth=i.playlist.attributes.BANDWIDTH*mn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort")))))},e.handleAbort_=function handleAbort_(e){this.logger_("Aborting "+z_a(e)),this.mediaRequestsAborted+=1},e.handleProgress_=function handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},e.handleTrackInfo_=function handleTrackInfo_(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(q_a(this.currentMediaInfo_,t=t||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},e.handleTimingInfo_=function handleTimingInfo_(e,t,n,i){var r;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||((r=this.pendingSegment_)[e=A_a(t)]=r[e]||{},r[e][n]=i,this.logger_("timinginfo: "+t+" - "+n+" - "+i),this.hasEnoughInfoToAppend_()&&this.processCallQueue_())},e.handleCaptions_=function handleCaptions_(e,t){var o,a,s=this;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(0!==t.length?this.pendingSegment_.hasAppendedData_?(o=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),a={},t.forEach(function(e){a[e.stream]=a[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=a[e.stream];t.startTime=Math.min(t.startTime,e.startTime+o),t.endTime=Math.max(t.endTime,e.endTime+o),t.captions.push(e)}),Object.keys(a).forEach(function(e){var t=a[e],n=t.startTime,i=t.endTime,r=t.captions,t=s.inbandTextTracks_;s.logger_("adding cues from "+n+" -> "+i+" for "+e),g_a(t,s.vhs_.tech_,e),l_a(n,i,t[e]),h_a({captionArray:r,inbandTextTracks:t,timestampOffset:o})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})):this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t)):this.logger_("SegmentLoader received no captions from a caption event"))},e.handleId3_=function handleId3_(e,t,n){var i;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(this.pendingSegment_.hasAppendedData_?(i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),k_a(this.inbandTextTracks_,n,this.vhs_.tech_),j_a({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:i,videoDuration:this.duration_()})):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n)))},e.processMetadataQueue_=function processMetadataQueue_(){this.metadataQueue_.id3.forEach(function(e){return e()}),this.metadataQueue_.caption.forEach(function(e){return e()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},e.processCallQueue_=function processCallQueue_(){var e=this.callQueue_;this.callQueue_=[],e.forEach(function(e){return e()})},e.processLoadQueue_=function processLoadQueue_(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach(function(e){return e()})},e.hasEnoughInfoToLoad_=function hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!!e&&(!this.getCurrentMediaInfo_()||!C_a({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},e.getCurrentMediaInfo_=function getCurrentMediaInfo_(e){return(e=void 0===e?this.pendingSegment_:e)&&e.trackInfo||this.currentMediaInfo_},e.getMediaInfo_=function getMediaInfo_(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},e.hasEnoughInfoToAppend_=function hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var n=t.hasAudio,i=t.hasVideo,t=t.isMuxed;return!(i&&!e.videoTimingInfo)&&(!(n&&!this.audioDisabled_&&!t&&!e.audioTimingInfo)&&!C_a({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},e.handleData_=function handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n,i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4?(this.trigger("fmp4"),i.timingInfo.start=i[A_a(t.type)].start):(n=this.getCurrentMediaInfo_(),(n="main"===this.loaderType_&&n&&n.hasVideo)&&(r=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:n,firstVideoFrameTimeForData:r,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})),this.updateAppendInitSegmentStatus(i,t.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:"main"===this.loaderType_});var r=this.chooseNextRequest_();if(r.mediaIndex!==i.mediaIndex||r.partIndex!==i.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},e.updateAppendInitSegmentStatus=function updateAppendInitSegmentStatus(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},e.getInitSegmentAndUpdateState_=function getInitSegmentAndUpdateState_(e){var t=e.type,n=e.initSegment,i=e.map,r=e.playlist;if(i){e=EZa(i);if(this.activeInitSegmentId_===e)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=e}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=r,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,n):null},e.handleQuotaExceededError_=function handleQuotaExceededError_(e,t){var n=this,i=e.segmentInfo,r=e.type,o=e.bytes,a=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();1<a.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+yYa(a).join(", ")),1<s.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+yYa(s).join(", "));var l=a.length?a.start(0):0,u=a.length?a.end(a.length-1):0,c=s.length?s.start(0):0,e=s.length?s.end(s.length-1):0;if(u-l<=1&&e-c<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+o.byteLength+", audio buffer: "+yYa(a).join(", ")+", video buffer: "+yYa(s).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:i,type:r,bytes:o}));o=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+o),this.remove(0,o,function(){n.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=v.a.setTimeout(function(){n.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),n.quotaExceededErrorRetryTimeout_=null,n.processCallQueue_()},1e3)},!0)},e.handleAppendError_=function handleAppendError_(e,t){var n=e.segmentInfo,i=e.type,e=e.bytes;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(i+" append of "+e.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:n,type:i,bytes:e}))},e.appendToSourceBuffer_=function appendToSourceBuffer_(e){var t=e.segmentInfo,n=e.type,i=e.initSegment,r=e.data,o=e.bytes;o||(e=[r],r=r.byteLength,i&&(e.unshift(i),r+=i.byteLength),o=f_a({bytes:r,segments:e})),this.sourceUpdater_.appendBuffer({segmentInfo:t,type:n,bytes:o},this.handleAppendError_.bind(this,{segmentInfo:t,type:n,bytes:o}))},e.handleSegmentTimingInfo_=function handleSegmentTimingInfo_(e,t,n){this.pendingSegment_&&t===this.pendingSegment_.requestId&&((t=this.pendingSegment_.segment)[e=e+"TimingInfo"]||(t[e]={}),t[e].transmuxerPrependedSeconds=n.prependedContentDuration||0,t[e].transmuxedPresentationStart=n.start.presentation,t[e].transmuxedDecodeStart=n.start.decode,t[e].transmuxedPresentationEnd=n.end.presentation,t[e].transmuxedDecodeEnd=n.end.decode,t[e].baseMediaDecodeTime=n.baseMediaDecodeTime)},e.appendData_=function appendData_(e,t){var n=t.type,i=t.data;i&&i.byteLength&&("audio"===n&&this.audioDisabled_||(t=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null}),this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:t,data:i})))},e.loadSegment_=function loadSegment_(t){var n=this;this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"==typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push(function(){var e=u()({},t,{forceTimestampOffset:!0});u()(t,n.generateSegmentInfo_(e)),n.isPendingTimestampOffset_=!1,n.updateTransmuxerAndRequestSegment_(t)})},e.updateTransmuxerAndRequestSegment_=function updateTransmuxerAndRequestSegment_(i){var r=this;this.shouldUpdateTransmuxerTimestampOffset_(i.timestampOffset)&&(this.gopBuffer_.length=0,i.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:i.timestampOffset}));var e=this.createSimplifiedSegmentObj_(i),t=this.isEndOfStream_(i.mediaIndex,i.playlist,i.partIndex),n=null!==this.mediaIndex,o=i.timeline!==this.currentTimeline_&&0<i.timeline,o=t||n&&o;this.logger_("Requesting "+z_a(i)),e.map&&!e.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),i.abortRequests=O$a({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:e,abortFn:this.handleAbort_.bind(this,i),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",i.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",i.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:function endedTimelineFn(){r.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function onTransmuxerLog(e){var t=e.message,n=e.level,e=e.stream;r.logger_(z_a(i)+" logged from transmuxer stream "+e+" as a "+n+": "+t)}})},e.trimBackBuffer_=function trimBackBuffer_(e){var t=y_a(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);0<t&&this.remove(0,t)},e.createSimplifiedSegmentObj_=function createSimplifiedSegmentObj_(e){var t=e.segment,n=e.part,i={resolvedUri:(n||t).resolvedUri,byterange:(n||t).byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},n=e.playlist.segments[e.mediaIndex-1];return n&&n.timeline===t.timeline&&(n.videoTimingInfo?i.baseStartTime=n.videoTimingInfo.transmuxedDecodeEnd:n.audioTimingInfo&&(i.baseStartTime=n.audioTimingInfo.transmuxedDecodeEnd)),t.key&&(e=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]),i.key=this.segmentKey(t.key),i.key.iv=e),t.map&&(i.map=this.initSegmentForMap(t.map)),i},e.saveTransferStats_=function saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},e.saveBandwidthRelatedStats_=function saveBandwidthRelatedStats_(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<1/60?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record "+1/60):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},e.handleTimeout_=function handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},e.segmentRequestFinished_=function segmentRequestFinished_(e,t,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===kn.ABORTED?void 0:(this.pause(),e.code===kn.TIMEOUT?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));e=this.pendingSegment_;this.saveBandwidthRelatedStats_(e.duration,t.stats),e.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=o_a(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(e)}},e.setTimeMapping_=function setTimeMapping_(e){e=this.syncController_.mappingForTimeline(e);null!==e&&(this.timeMapping_=e)},e.updateMediaSecondsLoaded_=function updateMediaSecondsLoaded_(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},e.shouldUpdateTransmuxerTimestampOffset_=function shouldUpdateTransmuxerTimestampOffset_(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},e.trueSegmentStart_=function trueSegmentStart_(e){var t=e.currentStart,n=e.playlist,i=e.mediaIndex,r=e.firstVideoFrameTimeForData,o=e.currentVideoTimestampOffset,a=e.useVideoTimingInfo,s=e.videoTimingInfo,e=e.audioTimingInfo;if(void 0!==t)return t;if(!a)return e.start;n=n.segments[i-1];return 0!==i&&n&&void 0!==n.start&&n.end===r+o?s.start:r},e.waitForAppendsToComplete_=function waitForAppendsToComplete_(e){var t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var n=t.hasAudio,i=t.hasVideo,t=t.isMuxed,i="main"===this.loaderType_&&i,t=!this.audioDisabled_&&n&&!t;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);i&&e.waitingOnAppends++,t&&e.waitingOnAppends++,i&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),t&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},e.checkAppendsDone_=function checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},e.checkForIllegalMediaSwitch=function checkForIllegalMediaSwitch(e){e=x_a(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!e&&(this.error({message:e,blacklistDuration:1/0}),this.trigger("error"),!0)},e.updateSourceBufferTimestampOffset_=function updateSourceBufferTimestampOffset_(e){var t;null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_||(t=!1,e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset"))},e.getSegmentStartTimeForTimestampOffsetCalculation_=function getSegmentStartTimeForTimestampOffsetCalculation_(e){var t=e.videoTimingInfo,n=e.audioTimingInfo,e=e.timingInfo;return this.useDtsForTimestampOffset_?t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n&&"number"==typeof n.transmuxedDecodeStart?n.transmuxedDecodeStart:e.start:e.start},e.updateTimingInfoEnd_=function updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),t="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;t&&(e.timingInfo.end="number"==typeof t.end?t.end:t.start+e.duration)},e.handleAppendsDone_=function handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=F_a(e,this.sourceType_);if(t&&("warn"===t.severity?videojs.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+z_a(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var n=e.segment,t=e.part,n=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,t=t&&t.end&&this.currentTime_()-t.end>3*e.playlist.partTargetDuration;if(n||t)return this.logger_("bad "+(n?"segment":"part")+" "+z_a(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+z_a(e))},e.recordThroughput_=function recordThroughput_(e){var t,n;e.duration<1/60?this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record "+1/60):(t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/n*8*1e3),this.throughput.rate+=(n-t)/++this.throughput.count)},e.addSegmentMetadataCue_=function addSegmentMetadataCue_(e){var t,n,i,r;this.segmentMetadataTrack_&&(n=(t=e.segment).start,r=t.end,v_a(n)&&v_a(r)&&(l_a(n,r,this.segmentMetadataTrack_),i=v.a.WebKitDataCue||v.a.VTTCue,e={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:r},(r=new i(n,r,JSON.stringify(e))).value=e,this.segmentMetadataTrack_.addCue(r)))},SegmentLoader}(videojs.EventTarget);function noop(){}function H_a(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})}function M_a(e,t){var n=t[e+"Buffer"],i=H_a(e);n&&(n.removeEventListener("updateend",t["on"+i+"UpdateEnd_"]),n.removeEventListener("error",t["on"+i+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)}function N_a(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)}function P_a(e){var t=e.type,n=e.sourceUpdater,i=e.action,r=e.doneFn,e=e.name;n.queue.push({type:t,action:i,doneFn:r,name:e}),$n(t,n)}function Q_a(n,i){return function(e){var t;i.queuePending[n]&&(t=i.queuePending[n].doneFn,i.queuePending[n]=null,t&&t(i[n+"Error_"])),$n(n,i)}}function S_a(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}function V_a(e,t){for(var n=e.cues,i=0;i<n.length;i++){var r=n[i];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null}function W_a(e,t,n){if(void 0===n&&(n=0),e.segments)for(var i=n,r=0;r<e.segments.length;r++){var o,a,s,l=e.segments[r];if(s=s||V_a(t,i+l.duration/2)){if("cueIn"in l){s.endTime=i,s.adEndTime=i,i+=l.duration,s=null;continue}if(i<s.endTime){i+=l.duration;continue}s.endTime+=l.duration}else"cueOut"in l&&((s=new v.a.VTTCue(i,i+l.duration,l.cueOut)).adStartTime=i,s.adEndTime=i+parseFloat(l.cueOut),t.addCue(s)),"cueOutCont"in l&&(o=(a=l.cueOutCont.split("/").map(parseFloat))[0],a=a[1],(s=new v.a.VTTCue(i,i+l.duration,"")).adStartTime=i-o,s.adEndTime=s.adStartTime+a,t.addCue(s));i+=l.duration}}function ba0(e){var t=e.default?"main":"alternative";return t=e.characteristics&&0<=e.characteristics.indexOf("public.accessibility.describes-video")?"main-desc":t}function ea0(s,l){return function(){var e=l.segmentLoaders,t=e[s],n=e.main,i=l.mediaTypes[s],r=i.activeTrack(),o=i.getActiveGroup(),a=i.activePlaylistLoader,e=i.lastGroup_;o&&e&&o.id===e.id||(i.lastGroup_=o,i.lastTrack_=r,ci(t,i),o&&!o.isMasterPlaylist&&(o.playlistLoader?(t.resyncLoader(),di(o.playlistLoader,i)):a&&n.resetEverything()))}}function fa0(t,n){return function(){var e=n.segmentLoaders[t];n.mediaTypes[t].lastGroup_=null,e.abort(),e.pause()}}function ga0(c,d){return function(){var e=d.masterPlaylistLoader,t=d.segmentLoaders,n=t[c],i=t.main,r=d.mediaTypes[c],o=r.activeTrack(),a=r.getActiveGroup(),s=r.activePlaylistLoader,l=r.lastTrack_;if((!l||!o||l.id!==o.id)&&(r.lastGroup_=a,r.lastTrack_=o,ci(n,r),a)){if(a.isMasterPlaylist){if(!o||!l||o.id===l.id)return;var u=d.vhs.masterPlaylistController_,t=u.selectPlaylist();return u.media()===t?void 0:(r.logger_("track change. Switching master audio from "+l.id+" to "+o.id),e.pause(),i.resetEverything(),void u.fastQualityChange_(t))}if("AUDIO"===c){if(!a.playlistLoader)return i.setAudio(!0),void i.resetEverything();n.setAudio(!0),i.setAudio(!1)}s!==a.playlistLoader&&(n.track&&n.track(o),n.resetEverything()),di(a.playlistLoader,r)}}}function la0(l,u){return function(t){var e=u.masterPlaylistLoader,n=u.mediaTypes[l].groups,i=e.media();if(!i)return null;var r=null;i.attributes[l]&&(r=n[i.attributes[l]]);var o=Object.keys(n);if(!r)if("AUDIO"===l&&1<o.length&&Xt(u.master))for(var a=0;a<o.length;a++){var s=n[o[a]];if(mi(s,i)){r=s;break}}else n.main?r=n.main:1===o.length&&(r=n[o[0]]);return void 0===t?r:null!==t&&r&&r.filter(function(e){return e.id===t.id})[0]||null}}function na0(t,e){var n=e.mediaTypes;return function(){var e=n[t].activeTrack();return e?n[t].activeGroup(e):null}}function oa0(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){fi[e](e,t)});var e,n=t.mediaTypes,i=t.masterPlaylistLoader,r=t.tech,o=t.vhs,a=t.segmentLoaders,s=a.AUDIO,l=a.main;function rIb(){n.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})}for(e in["AUDIO","SUBTITLES"].forEach(function(e){n[e].activeGroup=la0(e,t),n[e].activeTrack=gi[e](e,t),n[e].onGroupChanged=ea0(e,t),n[e].onGroupChanging=fa0(e,t),n[e].onTrackChanged=ga0(e,t),n[e].getActiveGroup=na0(e,t)}),(a=n.AUDIO.activeGroup())&&(a=(a.filter(function(e){return e.default})[0]||a[0]).id,n.AUDIO.tracks[a].enabled=!0,n.AUDIO.onGroupChanged(),n.AUDIO.onTrackChanged(),n.AUDIO.getActiveGroup().playlistLoader?(l.setAudio(!1),s.setAudio(!0)):l.setAudio(!0)),i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return n[e].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(e){return n[e].onGroupChanging()})}),r.audioTracks().addEventListener("change",rIb),r.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),o.on("dispose",function(){r.audioTracks().removeEventListener("change",rIb),r.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),r.clearTracks("audio"),n.AUDIO.tracks)r.audioTracks().addTrack(n.AUDIO.tracks[e])}function pa0(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:noop,activeTrack:noop,getActiveGroup:noop,onGroupChanged:noop,onTrackChanged:noop,lastTrack_:null,logger_:Ft("MediaGroups["+e+"]")}}),t}function ta0(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]}function ua0(e){var t=e.currentPlaylist,n=e.buffered,i=e.currentTime,r=e.nextPlaylist,o=e.bufferLowWaterLine,a=e.bufferHighWaterLine,s=e.duration,l=e.experimentalBufferBasedABR,u=e.log;if(!r)return videojs.log.warn("We received no playlist to switch to. Please check your stream."),!1;var c="allowing switch "+(t&&t.id||"null")+" -> "+r.id;if(!t)return u(c+" as current playlist is not set"),!0;if(r.id===t.id)return!1;if(e=Boolean(sYa(n,i).length),!t.endList)return e||"number"!=typeof t.partTargetDuration?(u(c+" as current playlist is live"),!0):(u("not "+c+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);if(n=BYa(n,i),i=l?mn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:mn.MAX_BUFFER_LOW_WATER_LINE,s<i)return u(c+" as duration < max low water line ("+s+" < "+i+")"),!0;if(i=r.attributes.BANDWIDTH,r=t.attributes.BANDWIDTH,i<r&&(!l||n<a)){t=c+" as next bandwidth < current bandwidth ("+i+" < "+r+")";return l&&(t+=" and forwardBuffer < bufferHighWaterLine ("+n+" < "+a+")"),u(t),!0}if((!l||r<i)&&o<=n){o=c+" as forwardBuffer >= bufferLowWaterLine ("+n+" >= "+o+")";return l&&(o+=" and next bandwidth > current bandwidth ("+i+" > "+r+")"),u(o),!0}return u("not "+c+" as no switching criteria met"),!1}function xa0(e,t,n){var i,r=e.masterPlaylistController_,o=r[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(r);t.attributes&&(i=t.attributes.RESOLUTION,this.width=i&&i.width,this.height=i&&i.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]),this.codecs=Bn(r.master(),t),this.playlist=t,this.id=n,this.enabled=bi(e.playlists,t.id,o)}function ya0(n){n.representations=function(){var e=n.masterPlaylistController_.master(),e=Xt(e)?n.masterPlaylistController_.getAudioTrackPlaylists_():e.playlists;return e?e.filter(function(e){return!RYa(e)}).map(function(e,t){return new xa0(n,e,e.id)}):[]}}function Ca0(t,e){var n=0,i=0,r=videojs.mergeOptions(Si,e);function GOb(e){null!=e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",o),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())}function HOb(){return Date.now()-n<1e3*r.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):r.getSource&&"function"==typeof r.getSource?(n=Date.now(),r.getSource.call(t,GOb)):void videojs.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}function IOb(){t.off("loadedmetadata",o),t.off("error",HOb),t.off("dispose",IOb)}function JOb(e){IOb(),Ca0(t,e)}t.ready(function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var o=function loadedMetadataHandler(){i&&t.currentTime(i)};t.on("error",HOb),t.on("dispose",IOb),t.reloadSourceOnError=JOb}function Da0(e){Ca0(this,e)}var Hn,qn=["video","audio"],Wn=function updating(e,t){var n=t[e+"Buffer"];return n&&n.updating||t.queuePending[e]},Gn=function nextQueueIndexOfType(e,t){for(var n=0;n<t.length;n++){var i=t[n];if("mediaSource"===i.type)return null;if(i.type===e)return n}return null},$n=function shiftQueue(e,t){if(0!==t.queue.length){var n=0,i=t.queue[n];if("mediaSource"!==i.type){if("mediaSource"!==e&&t.ready()&&"closed"!==t.mediaSource.readyState&&!Wn(e,t)){if(i.type!==e){if(null===(n=Gn(e,t.queue)))return;i=t.queue[n]}t.queue.splice(n,1),(t.queuePending[e]=i).action(e,t),i.doneFn||(t.queuePending[e]=null,shiftQueue(e,t))}}else t.updating()||"closed"===t.mediaSource.readyState||(t.queue.shift(),i.action(t),i.doneFn&&i.doneFn(),shiftQueue("audio",t),shiftQueue("video",t))}},zn=function appendBuffer(i,r,o){return function(t,n){var e=n[t+"Buffer"];if(N_a(n.mediaSource,e)){n.logger_("Appending segment "+r.mediaIndex+"'s "+i.length+" bytes to "+t+"Buffer");try{e.appendBuffer(i)}catch(e){n.logger_("Error with code "+e.code+" "+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+r.mediaIndex+" to "+t+"Buffer"),n.queuePending[t]=null,o(e)}}}},Yn=function remove(i,r){return function(t,n){var e=n[t+"Buffer"];if(N_a(n.mediaSource,e)){n.logger_("Removing "+i+" to "+r+" from "+t+"Buffer");try{e.remove(i,r)}catch(e){n.logger_("Remove "+i+" to "+r+" from "+t+"Buffer failed")}}}},Kn=function timestampOffset(i){return function(e,t){var n=t[e+"Buffer"];N_a(t.mediaSource,n)&&(t.logger_("Setting "+e+"timestampOffset to "+i),n.timestampOffset=i)}},Xn=function callback(n){return function(e,t){n()}},Qn=function endOfStream(t){return function(e){if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{e.mediaSource.endOfStream(t)}catch(e){videojs.log.warn("Failed to call media source endOfStream",e)}}}},Zn=function duration(t){return function(e){e.logger_("Setting mediaSource duration to "+t);try{e.mediaSource.duration=t}catch(e){videojs.log.warn("Failed to set media source duration",e)}}},Jn=function abort(){return function(t,e){if("open"===e.mediaSource.readyState){var n=e[t+"Buffer"];if(N_a(e.mediaSource,n)){e.logger_("calling abort on "+t+"Buffer");try{n.abort()}catch(e){videojs.log.warn("Failed to abort on "+t+"Buffer",e)}}}}},ei=function addSourceBuffer(i,r){return function(e){var t=H_a(i),n=Object(k.e)(r);e.logger_("Adding "+i+"Buffer with codec "+r+" to mediaSource");n=e.mediaSource.addSourceBuffer(n);n.addEventListener("updateend",e["on"+t+"UpdateEnd_"]),n.addEventListener("error",e["on"+t+"Error_"]),e.codecs[i]=r,e[i+"Buffer"]=n}},ti=function removeSourceBuffer(n){return function(e){var t=e[n+"Buffer"];if(M_a(n,e),N_a(e.mediaSource,t)){e.logger_("Removing "+n+"Buffer with codec "+e.codecs[n]+" from mediaSource");try{e.mediaSource.removeSourceBuffer(t)}catch(e){videojs.log.warn("Failed to removeSourceBuffer "+n+"Buffer",e)}}}},ni=function changeType(r){return function(e,t){var n=t[e+"Buffer"],i=Object(k.e)(r);N_a(t.mediaSource,n)&&t.codecs[e]!==r&&(t.logger_("changing "+e+"Buffer codec from "+t.codecs[e]+" to "+r),n.changeType(i),t.codecs[e]=r)}},ii=function(n){function SourceUpdater(e){var t=n.call(this)||this;return t.mediaSource=e,t.sourceopenListener_=function(){return $n("mediaSource",b()(t))},t.mediaSource.addEventListener("sourceopen",t.sourceopenListener_),t.logger_=Ft("SourceUpdater"),t.audioTimestampOffset_=0,t.videoTimestampOffset_=0,t.queue=[],t.queuePending={audio:null,video:null},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!1,t.codecs={},t.onVideoUpdateEnd_=Q_a("video",b()(t)),t.onAudioUpdateEnd_=Q_a("audio",b()(t)),t.onVideoError_=function(e){t.videoError_=e},t.onAudioError_=function(e){t.audioError_=e},t.createdSourceBuffers_=!1,t.initializedEme_=!1,t.triggeredReady_=!1,t}h()(SourceUpdater,n);var e=SourceUpdater.prototype;return e.initializedEme=function initializedEme(){this.initializedEme_=!0,this.triggerReady()},e.hasCreatedSourceBuffers=function hasCreatedSourceBuffers(){return this.createdSourceBuffers_},e.hasInitializedAnyEme=function hasInitializedAnyEme(){return this.initializedEme_},e.ready=function ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},e.createSourceBuffers=function createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},e.triggerReady=function triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},e.addSourceBuffer=function addSourceBuffer(e,t){P_a({type:"mediaSource",sourceUpdater:this,action:ei(e,t),name:"addSourceBuffer"})},e.abort=function abort(e){P_a({type:e,sourceUpdater:this,action:Jn(e),name:"abort"})},e.removeSourceBuffer=function removeSourceBuffer(e){this.canRemoveSourceBuffer()?P_a({type:"mediaSource",sourceUpdater:this,action:ti(e),name:"removeSourceBuffer"}):videojs.log.error("removeSourceBuffer is not supported!")},e.canRemoveSourceBuffer=function canRemoveSourceBuffer(){return!videojs.browser.IE_VERSION&&!videojs.browser.IS_FIREFOX&&v.a.MediaSource&&v.a.MediaSource.prototype&&"function"==typeof v.a.MediaSource.prototype.removeSourceBuffer},SourceUpdater.canChangeType=function canChangeType(){return v.a.SourceBuffer&&v.a.SourceBuffer.prototype&&"function"==typeof v.a.SourceBuffer.prototype.changeType},e.canChangeType=function canChangeType(){return this.constructor.canChangeType()},e.changeType=function changeType(e,t){this.canChangeType()?P_a({type:e,sourceUpdater:this,action:ni(t),name:"changeType"}):videojs.log.error("changeType is not supported!")},e.addOrChangeSourceBuffers=function addOrChangeSourceBuffers(n){var i=this;if(!n||"object"!=typeof n||0===Object.keys(n).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(n).forEach(function(e){var t=n[e];if(!i.hasCreatedSourceBuffers())return i.addSourceBuffer(e,t);i.canChangeType()&&i.changeType(e,t)})},e.appendBuffer=function appendBuffer(e,t){var n=this,i=e.segmentInfo,r=e.type,o=e.bytes;if(this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+o.length+" until video append");P_a({type:r,sourceUpdater:this,action:zn(o,i||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===r&&(this.videoAppendQueued_=!0,this.delayedAudioAppendQueue_.length&&(r=this.delayedAudioAppendQueue_.slice(),this.logger_("queuing delayed audio "+r.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,r.forEach(function(e){n.appendBuffer.apply(n,e)})))},e.audioBuffered=function audioBuffered(){return N_a(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered||videojs.createTimeRange()},e.videoBuffered=function videoBuffered(){return N_a(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered||videojs.createTimeRange()},e.buffered=function buffered(){var e=N_a(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=N_a(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():vYa(this.audioBuffered(),this.videoBuffered())},e.setDuration=function setDuration(e,t){void 0===t&&(t=noop),P_a({type:"mediaSource",sourceUpdater:this,action:Zn(e),name:"duration",doneFn:t})},e.endOfStream=function endOfStream(e,t){void 0===t&&(t=noop),P_a({type:"mediaSource",sourceUpdater:this,action:Qn(e="string"!=typeof(e=void 0===e?null:e)?void 0:e),name:"endOfStream",doneFn:t})},e.removeAudio=function removeAudio(e,t,n){void 0===n&&(n=noop),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?P_a({type:"audio",sourceUpdater:this,action:Yn(e,t),doneFn:n,name:"remove"}):n()},e.removeVideo=function removeVideo(e,t,n){void 0===n&&(n=noop),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?P_a({type:"video",sourceUpdater:this,action:Yn(e,t),doneFn:n,name:"remove"}):n()},e.updating=function updating(){return!(!Wn("audio",this)&&!Wn("video",this))},e.audioTimestampOffset=function audioTimestampOffset(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(P_a({type:"audio",sourceUpdater:this,action:Kn(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},e.videoTimestampOffset=function videoTimestampOffset(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(P_a({type:"video",sourceUpdater:this,action:Kn(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},e.audioQueueCallback=function audioQueueCallback(e){this.audioBuffer&&P_a({type:"audio",sourceUpdater:this,action:Xn(e),name:"callback"})},e.videoQueueCallback=function videoQueueCallback(e){this.videoBuffer&&P_a({type:"video",sourceUpdater:this,action:Xn(e),name:"callback"})},e.dispose=function dispose(){var t=this;this.trigger("dispose"),qn.forEach(function(e){t.abort(e),t.canRemoveSourceBuffer()?t.removeSourceBuffer(e):t[e+"QueueCallback"](function(){return M_a(e,t)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},SourceUpdater}(videojs.EventTarget),ri=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),oi=function(n){function VTTSegmentLoader(e,t){return(t=n.call(this,e,t=void 0===t?{}:t)||this).mediaSource_=null,t.subtitlesTrack_=null,t.loaderType_="subtitle",t.featuresNativeTextTracks_=e.featuresNativeTextTracks,t.shouldSaveSegmentTimingInfo_=!1,t}h()(VTTSegmentLoader,n);var e=VTTSegmentLoader.prototype;return e.createTransmuxer_=function createTransmuxer_(){return null},e.buffered_=function buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return videojs.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,e=e[e.length-1].startTime;return videojs.createTimeRanges([[t,e]])},e.initSegmentForMap=function initSegmentForMap(e,t){if(void 0===t&&(t=!1),!e)return null;var n=EZa(e),i=this.initSegments_[n];return t&&!i&&e.bytes&&(t=ri.byteLength+e.bytes.byteLength,(t=new Uint8Array(t)).set(e.bytes),t.set(ri,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:t}),i||e},e.couldBeginLoading_=function couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},e.init_=function init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},e.track=function track(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},e.remove=function remove(e,t){l_a(e,t,this.subtitlesTrack_)},e.fillBuffer_=function fillBuffer_(){var e=this,t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",function checkTimestampOffset(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}},e.timestampOffsetForSegment_=function timestampOffsetForSegment_(){return null},e.chooseNextRequest_=function chooseNextRequest_(){return this.skipEmptySegments_(n.prototype.chooseNextRequest_.call(this))},e.skipEmptySegments_=function skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},e.stopForError=function stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},e.segmentRequestFinished_=function segmentRequestFinished_(e,t,n){var i=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===kn.TIMEOUT&&this.handleTimeout_(),e.code===kn.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");var o=r.segment;if(o.map&&(o.map.bytes=t.map.bytes),r.bytes=t.bytes,"function"!=typeof v.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var a=function errorHandler(){i.subtitlesTrack_.tech_.off("vttjsloaded",s),i.stopForError({message:"Error loading vtt.js"})},s=function loadHandler(){i.subtitlesTrack_.tech_.off("vttjserror",a),i.segmentRequestFinished_(e,t,n)};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",s),void this.subtitlesTrack_.tech_.one("vttjserror",a)}o.requested=!0;try{this.parseVTTCues_(r)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,r.cues.forEach(function(e){i.subtitlesTrack_.addCue(i.featuresNativeTextTracks_?new v.a.VTTCue(e.startTime,e.endTime,e.text):e)}),m_a(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},e.handleData_=function handleData_(){},e.updateTimingInfoEnd_=function updateTimingInfoEnd_(){},e.parseVTTCues_=function parseVTTCues_(t){var e=!1;"function"==typeof v.a.TextDecoder?n=new v.a.TextDecoder("utf8"):(n=v.a.WebVTT.StringDecoder(),e=!0);var n=new v.a.WebVTT.Parser(v.a,v.a.vttjs,n);t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=t.cues.push.bind(t.cues),n.ontimestampmap=function(e){t.timestampmap=e},n.onparsingerror=function(e){videojs.log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map&&(i=t.segment.map.bytes,e&&(i=S_a(i)),n.parse(i));var i=t.bytes;e&&(i=S_a(i)),n.parse(i),n.flush()},e.updateTimeMapping_=function updateTimeMapping_(e,t,n){var i,r,o=e.segment;t&&(e.cues.length?(r=e.timestampmap,i=r.MPEGTS/O.ONE_SECOND_IN_TS-r.LOCAL+t.mapping,e.cues.forEach(function(e){e.startTime+=i,e.endTime+=i}),n.syncInfo||(r=e.cues[0].startTime,t=e.cues[e.cues.length-1].startTime,n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(r,t-o.duration)})):o.empty=!0)},VTTSegmentLoader}(Vn),ai=[{name:"VOD",run:function run(e,t,n,i,r){if(n===1/0)return null;return{time:0,segmentIndex:0,partIndex:null}}},{name:"ProgramDateTime",run:function run(e,t,n,i,r){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var o=null,a=null,s=EYa(t);r=r||0;for(var l=0;l<s.length;l++){var u=s[t.endList||0===r?l:s.length-(l+1)],c=u.segment,d=e.timelineToDatetimeMappings[c.timeline];if(d&&c.dateTimeObject){var h=c.dateTimeObject.getTime()/1e3+d;if(c.parts&&"number"==typeof u.partIndex)for(var p=0;p<u.partIndex;p++)h+=c.parts[p].duration;d=Math.abs(r-h);if(null!==a&&(0===d||a<d))break;a=d,o={time:h,segmentIndex:u.segmentIndex,partIndex:u.partIndex}}}return o}},{name:"Segment",run:function run(e,t,n,i,r){var o=null,a=null;r=r||0;for(var s=EYa(t),l=0;l<s.length;l++){var u=s[t.endList||0===r?l:s.length-(l+1)],c=u.segment,d=u.part&&u.part.start||c&&c.start;if(c.timeline===i&&void 0!==d){c=Math.abs(r-d);if(null!==a&&a<c)break;(!o||null===a||c<=a)&&(a=c,o={time:d,segmentIndex:u.segmentIndex,partIndex:u.partIndex})}}return o}},{name:"Discontinuity",run:function run(e,t,n,i,r){var o=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],u=t.discontinuitySequence+s+1,c=e.discontinuities[u];if(c){u=Math.abs(r-c.time);if(null!==a&&a<u)break;(!o||null===a||u<=a)&&(a=u,o={time:c.time,segmentIndex:l,partIndex:null})}}return o}},{name:"Playlist",run:function run(e,t,n,i,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],si=function(n){function SyncController(e){var t=n.call(this)||this;return t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=Ft("SyncController"),t}h()(SyncController,n);var e=SyncController.prototype;return e.getSyncPoint=function getSyncPoint(e,t,n,i){n=this.runStrategies_(e,t,n,i);return n.length?this.selectSyncPoint_(n,{key:"time",value:i}):null},e.getExpiredTime=function getExpiredTime(e,t){if(!e||!e.segments)return null;t=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!t.length)return null;t=this.selectSyncPoint_(t,{key:"segmentIndex",value:0});return 0<t.segmentIndex&&(t.time*=-1),Math.abs(t.time+MYa({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:t.segmentIndex,endIndex:0}))},e.runStrategies_=function runStrategies_(e,t,n,i){for(var r=[],o=0;o<ai.length;o++){var a=ai[o],s=a.run(this,e,t,n,i);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}))}return r},e.selectSyncPoint_=function selectSyncPoint_(e,t){for(var n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<i&&(i=a,n=e[o].syncPoint,r=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+("number"==typeof n.partIndex?",partIndex:"+n.partIndex:"")+"]"),n},e.saveExpiredSegmentInfo=function saveExpiredSegmentInfo(e,t){var n=t.mediaSequence-e.mediaSequence;if(86400<n)videojs.log.warn("Not saving expired segment info. Media sequence gap "+n+" is too large.");else for(var i=n-1;0<=i;i--){var r=e.segments[i];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:r.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},e.setDateTimeMappingForStart=function setDateTimeMappingForStart(e){var t;this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject&&(e=(t=e.segments[0]).dateTimeObject.getTime()/1e3,this.timelineToDatetimeMappings[t.timeline]=-e)},e.saveSegmentTimingInfo=function saveSegmentTimingInfo(e){var t=e.segmentInfo,n=e.shouldSaveTimelineMapping,i=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),e=t.segment;i&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:e.start}));t=e.dateTimeObject;e.discontinuity&&n&&t&&(this.timelineToDatetimeMappings[e.timeline]=-t.getTime()/1e3)},e.timestampOffsetForTimeline=function timestampOffsetForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].time},e.mappingForTimeline=function mappingForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},e.calculateSegmentTimeMapping_=function calculateSegmentTimeMapping_(e,t,n){var i,r,o=e.segment,a=e.part,s=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)s={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=s,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+s.time+"] [mapping: "+s.mapping+"]")),i=e.startOfSegment,r=t.end+s.mapping;else{if(!s)return!1;i=t.start+s.mapping,r=t.end+s.mapping}return a&&(a.start=i,a.end=r),(!o.start||i<o.start)&&(o.start=i),o.end=r,!0},e.saveDiscontinuitySyncInfo_=function saveDiscontinuitySyncInfo_(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var i=0;i<t.discontinuityStarts.length;i++){var r,o=t.discontinuityStarts[i],a=t.discontinuitySequence+i+1,s=o-e.mediaIndex,l=Math.abs(s);(!this.discontinuities[a]||this.discontinuities[a].accuracy>l)&&(r=void 0,r=s<0?n.start-MYa({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:o}):n.end+MYa({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:o}),this.discontinuities[a]={time:r,accuracy:l})}},e.dispose=function dispose(){this.trigger("dispose"),this.off()},SyncController}(videojs.EventTarget),li=function(t){function TimelineChangeController(){var e=t.call(this)||this;return e.pendingTimelineChanges_={},e.lastTimelineChanges_={},e}h()(TimelineChangeController,t);var e=TimelineChangeController.prototype;return e.clearPendingTimelineChange=function clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},e.pendingTimelineChange=function pendingTimelineChange(e){var t=e.type,n=e.from,e=e.to;return"number"==typeof n&&"number"==typeof e&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:e},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},e.lastTimelineChange=function lastTimelineChange(e){var t=e.type,n=e.from,e=e.to;return"number"==typeof n&&"number"==typeof e&&(this.lastTimelineChanges_[t]={type:t,from:n,to:e},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},e.dispose=function dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},TimelineChangeController}(videojs.EventTarget),ui=g$a(h$a(i$a(function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==$t?$t:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t,n){return e(n={path:t,exports:{},require:function require(e,t){return function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var t=createCommonjsModule(function(e){function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0}),n=createCommonjsModule(function(n){function _setPrototypeOf(e,t){return n.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},n.exports.default=n.exports,n.exports.__esModule=!0,_setPrototypeOf(e,t)}n.exports=_setPrototypeOf,n.exports.default=n.exports,n.exports.__esModule=!0}),i=createCommonjsModule(function(e){e.exports=function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0}),r=function(){function Stream(){this.listeners={}}var e=Stream.prototype;return e.on=function on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.off=function off(e,t){if(!this.listeners[e])return!1;t=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(t,1),-1<t},e.trigger=function trigger(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,r)},e.dispose=function dispose(){this.listeners={}},e.pipe=function pipe(t){this.on("data",function(e){t.push(e)})},Stream}();function SCb(){for(var e,t,n,i,r,o,a,s=[[[],[],[],[],[]],[[],[],[],[],[]]],l=s[0],u=s[1],c=l[4],d=u[4],h=[],p=[],f=0;f<256;f++)p[(h[f]=f<<1^283*(f>>7))^f]=f;for(e=t=0;!c[e];e^=n||1,t=p[t]||1)for(a=16843009*h[i=h[n=h[d[c[e]=r=(r=t^t<<1^t<<2^t<<3^t<<4)>>8^255&r^99]=e]]]^65537*i^257*n^16843008*e,o=257*h[r]^16843008*r,f=0;f<4;f++)l[f][e]=o=o<<24^o>>>8,u[f][r]=a=a<<24^a>>>8;for(f=0;f<5;f++)l[f]=l[f].slice(0),u[f]=u[f].slice(0);return s}function WCb(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}function XCb(e,t,n){for(var i,r,o,a,s=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),l=new m(Array.prototype.slice.call(t)),e=new Uint8Array(e.byteLength),u=new Int32Array(e.buffer),c=n[0],d=n[1],h=n[2],p=n[3],f=0;f<s.length;f+=4)i=WCb(s[f]),r=WCb(s[f+1]),o=WCb(s[f+2]),a=WCb(s[f+3]),l.decrypt(i,r,o,a,u,f),u[f]=WCb(u[f]^c),u[f+1]=WCb(u[f+1]^d),u[f+2]=WCb(u[f+2]^h),u[f+3]=WCb(u[f+3]^p),c=i,d=r,h=o,p=a;return e}function _Cb(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer}var c=null,m=function(){function AES(e){var t,n,i;c=c||SCb(),this._tables=[[c[0][0].slice(),c[0][1].slice(),c[0][2].slice(),c[0][3].slice(),c[0][4].slice()],[c[1][0].slice(),c[1][1].slice(),c[1][2].slice(),c[1][3].slice(),c[1][4].slice()]];var r=this._tables[0][4],o=this._tables[1],a=e.length,s=1;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size");var l=e.slice(0),u=[];for(this._key=[l,u],t=a;t<4*a+28;t++)i=l[t-1],(t%a==0||8===a&&t%a==4)&&(i=r[i>>>24]<<24^r[i>>16&255]<<16^r[i>>8&255]<<8^r[255&i],t%a==0&&(i=i<<8^i>>>24^s<<24,s=s<<1^283*(s>>7))),l[t]=l[t-a]^i;for(n=0;t;n++,t--)i=l[3&n?t:t-4],u[n]=t<=4||n<4?i:o[0][r[i>>>24]]^o[1][r[i>>16&255]]^o[2][r[i>>8&255]]^o[3][r[255&i]]}return AES.prototype.decrypt=function decrypt(e,t,n,i,r,o){for(var a,s,l,u=this._key[1],c=e^u[0],d=i^u[1],h=n^u[2],p=t^u[3],f=u.length/4-2,m=4,t=this._tables[1],g=t[0],y=t[1],v=t[2],b=t[3],_=t[4],T=0;T<f;T++)a=g[c>>>24]^y[d>>16&255]^v[h>>8&255]^b[255&p]^u[m],s=g[d>>>24]^y[h>>16&255]^v[p>>8&255]^b[255&c]^u[m+1],l=g[h>>>24]^y[p>>16&255]^v[c>>8&255]^b[255&d]^u[m+2],p=g[p>>>24]^y[c>>16&255]^v[d>>8&255]^b[255&h]^u[m+3],m+=4,c=a,d=s,h=l;for(T=0;T<4;T++)r[(3&-T)+o]=_[c>>>24]<<24^_[d>>16&255]<<16^_[h>>8&255]<<8^_[255&p]^u[m++],a=c,c=d,d=h,h=p,p=a},AES}(),l=function(t){function AsyncStream(){var e=t.call(this,r)||this;return e.jobs=[],e.delay=1,e.timeout_=null,e}i(AsyncStream,t);var e=AsyncStream.prototype;return e.processJob_=function processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},e.push=function push(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},AsyncStream}(r),o=function(){function Decrypter(e,t,n,i){var r=Decrypter.STEP,o=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),s=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(o.subarray(s,s+r),t,n,a)),s=r;s<o.length;s+=r)n=new Uint32Array([WCb(o[s-4]),WCb(o[s-3]),WCb(o[s-2]),WCb(o[s-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(s,s+r),t,n,a));this.asyncStream_.push(function(){i(null,function unpad(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}(a))})}return Decrypter.prototype.decryptChunk_=function decryptChunk_(t,n,i,r){return function(){var e=XCb(t,n,i);r.set(e,t.byteOffset)}},t(Decrypter,null,[{key:"STEP",get:function get(){return 32e3}}]),Decrypter}(),e="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},e=e.BigInt||Number;e("0x1"),e("0x100"),e("0x10000"),e("0x1000000"),e("0x100000000"),e("0x10000000000"),e("0x1000000000000"),e("0x100000000000000"),e("0x10000000000000000");function bDb(n){var i={};return Object.keys(n).forEach(function(e){var t=n[e];_Cb(t)?i[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[e]=t}),i}self.onmessage=function(e){var n=e.data,t=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),i=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),e=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new o(t,i,e,function(e,t){self.postMessage(bDb({source:n.source,decrypted:t}),[t.buffer])})}}))),ci=function stopLoaders(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},di=function startLoaders(e,t){(t.activePlaylistLoader=e).load()},hi={AUDIO:function AUDIO(a,s){return function(){var e=s.segmentLoaders[a],t=s.mediaTypes[a],n=s.blacklistCurrentPlaylist;ci(e,t);var i=t.activeTrack(),e=t.activeGroup(),e=(e.filter(function(e){return e.default})[0]||e[0]).id,r=t.tracks[e];if(i!==r){for(var o in videojs.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[o].enabled=t.tracks[o]===r;t.onTrackChanged()}else n({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function SUBTITLES(n,i){return function(){var e=i.segmentLoaders[n],t=i.mediaTypes[n];videojs.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ci(e,t);e=t.activeTrack();e&&(e.mode="disabled"),t.onTrackChanged()}}},pi={AUDIO:function AUDIO(e,t,n){var i,r,o;t&&(i=n.tech,r=n.requestOptions,o=n.segmentLoaders[e],t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,r),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),r),i.paused()||o.load()}),t.on("error",hi[e](e,n)))},SUBTITLES:function SUBTITLES(e,t,n){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[e],a=n.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,r),o.track(a.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),r),i.paused()||o.load()}),t.on("error",hi[e](e,n))}},fi={AUDIO:function AUDIO(e,t){var n,i=t.vhs,r=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,l=t.mediaTypes[e],u=l.groups,c=l.tracks,d=l.logger_,h=t.masterPlaylistLoader,p=Xt(h.master);for(n in s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}},p&&(s[e].main.default.playlists=h.master.playlists)),s[e])for(var f in u[n]||(u[n]=[]),s[e][n]){var m=s[e][n][f],g=void 0,g=p?(d("AUDIO group '"+n+"' label '"+f+"' is a master playlist"),m.isMasterPlaylist=!0,null):"vhs-json"===r&&m.playlists?new sn(m.playlists[0],i,a):m.resolvedUri?new sn(m.resolvedUri,i,a):m.playlists&&"dash"===r?new fn(m.playlists[0],i,a,h):null,m=videojs.mergeOptions({id:f,playlistLoader:g},m);pi[e](e,m.playlistLoader,t),u[n].push(m),void 0===c[f]&&(m=new videojs.AudioTrack({id:f,kind:ba0(m),enabled:!1,language:m.language,default:m.default,label:f}),c[f]=m)}o.on("error",hi[e](e,t))},SUBTITLES:function SUBTITLES(e,t){var n,i=t.tech,r=t.vhs,o=t.sourceType,a=t.segmentLoaders[e],s=t.requestOptions,l=t.master.mediaGroups,u=t.mediaTypes[e],c=u.groups,d=u.tracks,h=t.masterPlaylistLoader;for(n in l[e])for(var p in c[n]||(c[n]=[]),l[e][n])if(!l[e][n][p].forced){var f=l[e][n][p],m=void 0;if("hls"===o)m=new sn(f.resolvedUri,r,s);else if("dash"===o){if(!f.playlists.filter(function(e){return e.excludeUntil!==1/0}).length)return;m=new fn(f.playlists[0],r,s,h)}else"vhs-json"===o&&(m=new sn(f.playlists?f.playlists[0]:f.resolvedUri,r,s));f=videojs.mergeOptions({id:p,playlistLoader:m},f),pi[e](e,f.playlistLoader,t),c[n].push(f),void 0===d[p]&&(f=i.addRemoteTextTrack({id:p,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:p},!1).track,d[p]=f)}a.on("error",hi[e](e,t))},"CLOSED-CAPTIONS":function CLOSEDCAPTIONS(e,t){var n,i=t.tech,r=t.master.mediaGroups,t=t.mediaTypes[e],o=t.groups,a=t.tracks;for(n in r[e])for(var s in o[n]||(o[n]=[]),r[e][n]){var l,u,c=r[e][n][s];/^(?:CC|SERVICE)/.test(c.instreamId)&&(void 0===(u=(l=i.options_.vhs&&i.options_.vhs.captionServices||{})[(u={label:s,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect}).instreamId]?videojs.mergeOptions(u,l[u.instreamId]):u).default&&delete u.default,o[n].push(videojs.mergeOptions({id:s},c)),void 0===a[s]&&(u=i.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default,language:u.language,label:u.label},!1).track,a[s]=u))}}},mi=function groupMatch(e,t){for(var n=0;n<e.length;n++){if(YYa(t,e[n]))return!0;if(e[n].playlists&&groupMatch(e[n].playlists,t))return!0}return!1},gi={AUDIO:function AUDIO(n,i){return function(){var e,t=i.mediaTypes[n].tracks;for(e in t)if(t[e].enabled)return t[e];return null}},SUBTITLES:function SUBTITLES(n,i){return function(){var e,t=i.mediaTypes[n].tracks;for(e in t)if("showing"===t[e].mode||"hidden"===t[e].mode)return t[e];return null}}},yi=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],vi=function(y){function MasterPlaylistController(e){var t=y.call(this)||this,n=e.src,i=e.handleManifestRedirects,r=e.withCredentials,o=e.tech,a=e.bandwidth,s=e.externVhs,l=e.useCueTags,u=e.blacklistDuration,c=e.enableLowInitialPlaylist,d=e.sourceType,h=e.cacheEncryptionKeys,p=e.experimentalBufferBasedABR,f=e.experimentalLeastPixelDiffSelector,m=e.captionServices;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");var g=e.maxPlaylistRetries;null==g&&(g=1/0),Hn=s,t.experimentalBufferBasedABR=Boolean(p),t.experimentalLeastPixelDiffSelector=Boolean(f),t.withCredentials=r,t.tech_=o,t.vhs_=o.vhs,t.sourceType_=d,t.useCueTags_=l,t.blacklistDuration=u,t.maxPlaylistRetries=g,t.enableLowInitialPlaylist=c,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:r,handleManifestRedirects:i,maxPlaylistRetries:g,timeout:null},t.on("error",t.pauseLoading),t.mediaTypes_=pa0(),t.mediaSource=new v.a.MediaSource,t.handleDurationChange_=t.handleDurationChange_.bind(b()(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(b()(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(b()(t)),t.mediaSource.addEventListener("durationchange",t.handleDurationChange_),t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_),t.mediaSource.addEventListener("sourceended",t.handleSourceEnded_),t.seekable_=videojs.createTimeRanges(),t.hasPlayed_=!1,t.syncController_=new si(e),t.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new ui,t.sourceUpdater_=new ii(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=new li;h={vhs:t.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:m,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function seekable(){return t.seekable()},seeking:function seeking(){return t.tech_.seeking()},duration:function duration(){return t.duration()},hasPlayed:function hasPlayed(){return t.hasPlayed_},goalBufferLength:function goalBufferLength(){return t.goalBufferLength()},bandwidth:a,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:t.sourceUpdater_,timelineChangeController:t.timelineChangeController_,experimentalExactManifestTimings:e.experimentalExactManifestTimings};t.masterPlaylistLoader_=new("dash"===t.sourceType_?fn:sn)(n,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new Vn(videojs.mergeOptions(h,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),e),t.audioSegmentLoader_=new Vn(videojs.mergeOptions(h,{loaderType:"audio"}),e),t.subtitleSegmentLoader_=new oi(videojs.mergeOptions(h,{loaderType:"vtt",featuresNativeTextTracks:t.tech_.featuresNativeTextTracks}),e),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&&(t.masterPlaylistLoader_.one("loadedplaylist",function(){return t.startABRTimer_()}),t.tech_.on("pause",function(){return t.stopABRTimer_()}),t.tech_.on("play",function(){return t.startABRTimer_()})),yi.forEach(function(e){t[e+"_"]=ta0.bind(b()(t),e)}),t.logger_=Ft("MPC"),t.triggeredFmp4Usage=!1,"none"===t.tech_.preload()?(t.loadOnPlay_=function(){t.loadOnPlay_=null,t.masterPlaylistLoader_.load()},t.tech_.one("play",t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=-1,t.mainAppendsToLoadedData__=-1,t.audioAppendsToLoadedData__=-1;e="none"===t.tech_.preload()?"play":"loadstart";return t.tech_.one(e,function(){var e=Date.now();t.tech_.one("loadeddata",function(){t.timeToLoadedData__=Date.now()-e,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}h()(MasterPlaylistController,y);var e=MasterPlaylistController.prototype;return e.mainAppendsToLoadedData_=function mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__},e.audioAppendsToLoadedData_=function audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__},e.appendsToLoadedData_=function appendsToLoadedData_(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t},e.timeToLoadedData_=function timeToLoadedData_(){return this.timeToLoadedData__},e.checkABR_=function checkABR_(e){void 0===e&&(e="abr");var t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)},e.switchMedia_=function switchMedia_(e,t,n){var i=this.media(),r=i&&(i.id||i.uri),i=e.id||e.uri;r&&r!==i&&(this.logger_("switch media "+r+" -> "+i+" from "+t),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+t})),this.masterPlaylistLoader_.media(e,n)},e.startABRTimer_=function startABRTimer_(){var e=this;this.stopABRTimer_(),this.abrTimer_=v.a.setInterval(function(){return e.checkABR_()},250)},e.stopABRTimer_=function stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(v.a.clearInterval(this.abrTimer_),this.abrTimer_=null)},e.getAudioTrackPlaylists_=function getAudioTrackPlaylists_(){var e=this.master(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var n,i=e.mediaGroups.AUDIO,r=Object.keys(i);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)n=this.mediaTypes_.AUDIO.activeTrack();else{var o,a=i.main||r.length&&i[r[0]];for(o in a)if(a[o].default){n={label:o};break}}if(!n)return t;var s,l=[];for(s in i)if(i[s][n.label]){var u=i[s][n.label];if(u.playlists&&u.playlists.length)l.push.apply(l,u.playlists);else if(u.uri)l.push(u);else if(e.playlists.length)for(var c=0;c<e.playlists.length;c++){var d=e.playlists[c];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===s&&l.push(d)}}return l.length?l:t},e.setupMasterPlaylistLoaderListeners_=function setupMasterPlaylistLoaderListeners_(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;XYa(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,e.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load()),oa0({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,vhs:n.vhs_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),e),n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){n.loadOnPlay_&&n.tech_.off("play",n.loadOnPlay_);var e,t=n.masterPlaylistLoader_.media();if(!t){if(n.excludeUnsupportedVariants_(),!(e=(e=n.enableLowInitialPlaylist?n.selectInitialPlaylist():e)||n.selectPlaylist())||!n.shouldSwitchToMedia_(e))return;if(n.initialMedia_=e,n.switchMedia_(n.initialMedia_,"initial"),!("vhs-json"===n.sourceType_&&n.initialMedia_.segments))return;t=n.initialMedia_}n.handleUpdatedMediaPlaylist(t)}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;XYa(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,n.masterPlaylistLoader_.load(),n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=n.masterPlaylistLoader_.media();"playlist-unchanged"!==e.lastExcludeReason_&&n.stuckAtPlaylistEnd_(e)&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),n.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},e.handleUpdatedMediaPlaylist=function handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},e.triggerPresenceUsage_=function triggerPresenceUsage_(e,t){var n,i=e.mediaGroups||{},r=!0,e=Object.keys(i.AUDIO);for(n in i.AUDIO)for(var o in i.AUDIO[n])i.AUDIO[n][o].uri||(r=!1);r&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(i.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Hn.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),e.length&&1<Object.keys(i.AUDIO[e[0]]).length&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},e.shouldSwitchToMedia_=function shouldSwitchToMedia_(e){var t=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),r=this.bufferHighWaterLine(),o=this.tech_.buffered();return ua0({buffered:o,currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:r,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},e.setupSegmentLoaderListeners_=function setupSegmentLoaderListeners_(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){t.checkABR_("bandwidthupdate"),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){t.experimentalBufferBasedABR&&t.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){t.logger_("main segment loader ended"),t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(e){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))});function jKb(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var e=t.getCodecsOrExclude_();e&&t.sourceUpdater_.addOrChangeSourceBuffers(e)}this.mainSegmentLoader_.on("trackinfo",jKb),this.audioSegmentLoader_.on("trackinfo",jKb),this.mainSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()})},e.mediaSecondsLoaded_=function mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},e.load=function load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},e.smoothQualityChange_=function smoothQualityChange_(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},e.fastQualityChange_=function fastQualityChange_(e){var t=this;(e=void 0===e?this.selectPlaylist():e)!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){videojs.browser.IE_VERSION||videojs.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")},e.play=function play(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},e.setupFirstPlay=function setupFirstPlay(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(videojs.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(n.end(0)),e.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},e.handleSourceOpen_=function handleSourceOpen_(){var e;this.tryToCreateSourceBuffers_(),!this.tech_.autoplay()||void 0!==(e=this.tech_.play())&&"function"==typeof e.then&&e.then(null,function(e){}),this.trigger("sourceopen")},e.handleSourceEnded_=function handleSourceEnded_(){var e,t;!this.inbandTextTracks_.metadataTrack_||(e=this.inbandTextTracks_.metadataTrack_.cues)&&e.length&&(t=this.duration(),e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t)},e.handleDurationChange_=function handleDurationChange_(){this.tech_.trigger("durationchange")},e.onEndOfStream=function onEndOfStream(){var e,t=this.mainSegmentLoader_.ended_;(t=this.mediaTypes_.AUDIO.activePlaylistLoader?((e=this.mainSegmentLoader_.getCurrentMediaInfo_())&&!e.hasVideo||t)&&this.audioSegmentLoader_.ended_:t)&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},e.stuckAtPlaylistEnd_=function stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var n=Hn.Playlist.playlistEnd(e,t),e=this.tech_.currentTime(),t=this.tech_.buffered();if(!t.length)return n-e<=Vt;t=t.end(t.length-1);return t-e<=Vt&&n-t<=Vt},e.blacklistCurrentPlaylist=function blacklistCurrentPlaylist(e,t){var n=(e=void 0===e?{}:e).playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!n)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));n.playlistErrors_++;var i,r=this.masterPlaylistLoader_.master.playlists,o=r.filter(SYa),a=1===o.length&&o[0]===n;if(1===r.length&&t!==1/0)return videojs.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(a);a&&(i=!1,r.forEach(function(e){var t;e===n||void 0!==(t=e.excludeUntil)&&t!==1/0&&(i=!0,delete e.excludeUntil)}),i&&(videojs.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))),o=n.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,n.excludeUntil=o,e.reason&&(n.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});r=this.selectPlaylist();if(!r)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");t=e.internal?this.logger_:videojs.log.warn,o=e.message?" "+e.message:"";t((e.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+o+" Switching to playlist "+r.id+"."),r.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),r.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);o=r.targetDuration/2*1e3||5e3,o="number"==typeof r.lastRequest&&Date.now()-r.lastRequest<=o;return this.switchMedia_(r,"exclude",a||o)},e.pauseLoading=function pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},e.delegateLoaders_=function delegateLoaders_(n,e){var i=this,r=[],t="all"===n;!t&&"main"!==n||r.push(this.masterPlaylistLoader_);var o=[];!t&&"audio"!==n||o.push("AUDIO"),!t&&"subtitle"!==n||(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach(function(e){e=i.mediaTypes_[e]&&i.mediaTypes_[e].activePlaylistLoader;e&&r.push(e)}),["main","audio","subtitle"].forEach(function(e){var t=i[e+"SegmentLoader_"];!t||n!==e&&"all"!==n||r.push(t)}),r.forEach(function(t){return e.forEach(function(e){"function"==typeof t[e]&&t[e]()})})},e.setCurrentTime=function setCurrentTime(e){var t=sYa(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},e.duration=function duration(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Hn.Playlist.duration(e):1/0:0},e.seekable=function seekable(){return this.seekable_},e.onSyncInfoUpdate_=function onSyncInfoUpdate_(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.duration());if(null!==n){var i,r,o=this.masterPlaylistLoader_.master,a=Hn.Playlist.seekable(t,n,Hn.Playlist.liveEdgeDelay(o,t));if(0!==a.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=Hn.Playlist.seekable(t,n,Hn.Playlist.liveEdgeDelay(o,t))).length)return}this.seekable_&&this.seekable_.length&&(i=this.seekable_.end(0),r=this.seekable_.start(0)),!e||e.start(0)>a.end(0)||a.start(0)>e.end(0)?this.seekable_=a:this.seekable_=videojs.createTimeRanges([[(e.start(0)>a.start(0)?e:a).start(0),(e.end(0)<a.end(0)?e:a).end(0)]]),this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===i&&this.seekable_.start(0)===r||(this.logger_("seekable updated ["+wYa(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},e.updateDuration=function updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();return t.length?void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))):void 0}e=this.tech_.buffered(),t=Hn.Playlist.duration(this.masterPlaylistLoader_.media());0<e.length&&(t=Math.max(t,e.end(e.length-1))),this.mediaSource.duration!==t&&this.sourceUpdater_.setDuration(t)},e.dispose=function dispose(){var i=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(e){var t,n=i.mediaTypes_[e].groups;for(t in n)n[t].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},e.master=function master(){return this.masterPlaylistLoader_.master},e.media=function media(){return this.masterPlaylistLoader_.media()||this.initialMedia_},e.areMediaTypesKnown_=function areMediaTypesKnown_(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),e=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return t&&e},e.getCodecsOrExclude_=function getCodecsOrExclude_(){var i=this,n={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};n.video=n.main;var e=Bn(this.master(),this.media()),r={},t=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(n.main.hasVideo&&(r.video=e.video||n.main.videoCodec||k.b),n.main.isMuxed&&(r.video+=","+(e.audio||n.main.audioCodec||k.a)),(n.main.hasAudio&&!n.main.isMuxed||n.audio.hasAudio||t)&&(r.audio=e.audio||n.main.audioCodec||n.audio.audioCodec||k.a,n.audio.isFmp4=(n.main.hasAudio&&!n.main.isMuxed?n.main:n.audio).isFmp4),r.audio||r.video){var o,a,s=function supportFunction(e,t){return(e?Object(k.c):Object(k.g))(t)},l={};if(["video","audio"].forEach(function(e){var t;r.hasOwnProperty(e)&&!s(n[e].isFmp4,r[e])&&(t=n[e].isFmp4?"browser":"muxer",l[t]=l[t]||[],l[t].push(r[e]),"audio"===e&&(o=t))}),t&&o&&this.media().attributes.AUDIO&&(a=this.media().attributes.AUDIO,this.master().playlists.forEach(function(e){(e.attributes&&e.attributes.AUDIO)===a&&e!==i.media()&&(e.excludeUntil=1/0)}),this.logger_("excluding audio group "+a+" as "+o+' does not support codec(s): "'+r.audio+'"')),!Object.keys(l).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach(function(e){var t=(Object(k.h)(i.sourceUpdater_.codecs[e]||"")[0]||{}).type,n=(Object(k.h)(r[e]||"")[0]||{}).type;t&&n&&t.toLowerCase()!==n.toLowerCase()&&u.push('"'+i.sourceUpdater_.codecs[e]+'" -> "'+r[e]+'"')}),u.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+u.join(", ")+".",blacklistDuration:1/0,internal:!0})}return r}t=Object.keys(l).reduce(function(e,t){return e&&(e+=", "),e+=t+' does not support codec(s): "'+l[t].join(",")+'"'},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:t,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},e.tryToCreateSourceBuffers_=function tryToCreateSourceBuffers_(){var e;"open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_()||(e=this.getCodecsOrExclude_())&&(this.sourceUpdater_.createSourceBuffers(e),e=[e.video,e.audio].filter(Boolean).join(","),this.excludeIncompatibleVariants_(e))},e.excludeUnsupportedVariants_=function excludeUnsupportedVariants_(){var i=this,r=this.master().playlists,o=[];Object.keys(r).forEach(function(e){var t,n=r[e];-1===o.indexOf(n.id)&&(o.push(n.id),t=[],!(e=Bn(i.master,n)).audio||Object(k.g)(e.audio)||Object(k.c)(e.audio)||t.push("audio codec "+e.audio),!e.video||Object(k.g)(e.video)||Object(k.c)(e.video)||t.push("video codec "+e.video),e.text&&"stpp.ttml.im1t"===e.text&&t.push("text codec "+e.text),t.length&&(n.excludeUntil=1/0,i.logger_("excluding "+n.id+" for unsupported: "+t.join(", "))))})},e.excludeIncompatibleVariants_=function excludeIncompatibleVariants_(e){var r=this,o=[],a=this.master().playlists,e=Nn(Object(k.h)(e)),s=U$a(e),l=e.video&&Object(k.h)(e.video)[0]||null,u=e.audio&&Object(k.h)(e.audio)[0]||null;Object.keys(a).forEach(function(e){var t,n,i=a[e];-1===o.indexOf(i.id)&&i.excludeUntil!==1/0&&(o.push(i.id),t=[],n=Bn(r.masterPlaylistLoader_.master,i),e=U$a(n),(n.audio||n.video)&&(e!==s&&t.push('codec count "'+e+'" !== "'+s+'"'),r.sourceUpdater_.canChangeType()||(e=n.video&&Object(k.h)(n.video)[0]||null,n=n.audio&&Object(k.h)(n.audio)[0]||null,e&&l&&e.type.toLowerCase()!==l.type.toLowerCase()&&t.push('video codec "'+e.type+'" !== "'+l.type+'"'),n&&u&&n.type.toLowerCase()!==u.type.toLowerCase()&&t.push('audio codec "'+n.type+'" !== "'+u.type+'"')),t.length&&(i.excludeUntil=1/0,r.logger_("blacklisting "+i.id+": "+t.join(" && ")))))})},e.updateAdCues_=function updateAdCues_(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),W_a(e,this.cueTagsTrack_,t)},e.goalBufferLength=function goalBufferLength(){var e=this.tech_.currentTime(),t=mn.GOAL_BUFFER_LENGTH,n=mn.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,mn.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)},e.bufferLowWaterLine=function bufferLowWaterLine(){var e=this.tech_.currentTime(),t=mn.BUFFER_LOW_WATER_LINE,n=mn.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,mn.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,mn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.experimentalBufferBasedABR?r:i)},e.bufferHighWaterLine=function bufferHighWaterLine(){return mn.BUFFER_HIGH_WATER_LINE},MasterPlaylistController}(videojs.EventTarget),bi=function enableFunction(r,o,a){return function(e){var t=r.master.playlists[o],n=RYa(t),i=SYa(t);return void 0===e?i:(e?delete t.disabled:t.disabled=!0,e===i||n||(a(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)}},_i=["seeking","seeked","pause","playing","error"],Ti=function(){function PlaybackWatcher(e){var n=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Ft("PlaybackWatcher"),this.logger_("initialize");function bNb(){return n.monitorCurrentTime_()}function cNb(){return n.monitorCurrentTime_()}function dNb(){return n.techWaiting_()}function eNb(){return n.cancelTimer_()}var i=this.masterPlaylistController_,t=["main","subtitle","audio"],r={};t.forEach(function(e){r[e]={reset:function reset(){return n.resetSegmentDownloads_(e)},updateend:function updateend(){return n.checkSegmentDownloads_(e)}},i[e+"SegmentLoader_"].on("appendsdone",r[e].updateend),i[e+"SegmentLoader_"].on("playlistupdate",r[e].reset),n.tech_.on(["seeked","seeking"],r[e].reset)});function iNb(t){["main","audio"].forEach(function(e){i[e+"SegmentLoader_"][t]("appended",n.seekingAppendCheck_)})}this.seekingAppendCheck_=function(){n.fixesBadSeeks_()&&(n.consecutiveUpdates=0,n.lastRecordedTime=n.tech_.currentTime(),iNb("off"))},this.clearSeekingAppendCheck_=function(){return iNb("off")},this.watchForBadSeeking_=function(){n.clearSeekingAppendCheck_(),iNb("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",dNb),this.tech_.on(_i,eNb),this.tech_.on("canplay",cNb),this.tech_.one("play",bNb),this.dispose=function(){n.clearSeekingAppendCheck_(),n.logger_("dispose"),n.tech_.off("waiting",dNb),n.tech_.off(_i,eNb),n.tech_.off("canplay",cNb),n.tech_.off("play",bNb),n.tech_.off("seeking",n.watchForBadSeeking_),n.tech_.off("seeked",n.clearSeekingAppendCheck_),t.forEach(function(e){i[e+"SegmentLoader_"].off("appendsdone",r[e].updateend),i[e+"SegmentLoader_"].off("playlistupdate",r[e].reset),n.tech_.off(["seeked","seeking"],r[e].reset)}),n.checkCurrentTimeTimeout_&&v.a.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var e=PlaybackWatcher.prototype;return e.monitorCurrentTime_=function monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&v.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=v.a.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function resetSegmentDownloads_(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];0<this[e+"StalledDownloads_"]&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},e.checkSegmentDownloads_=function checkSegmentDownloads_(e){var t=this.masterPlaylistController_,n=t[e+"SegmentLoader_"],i=n.buffered_(),r=zYa(this[e+"Buffered_"],i);this[e+"Buffered_"]=i,r?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:yYa(i)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},e.checkCurrentTime_=function checkCurrentTime_(){if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Vt>=t.end(t.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},e.cancelTimer_=function cancelTimer_(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function fixesBadSeeks_(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();if(this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1)),void 0!==(e=this.beforeSeekableWindow_(t,n)?(o=t.start(0))+(o===t.end(0)?0:Vt):e))return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+wYa(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var i=this.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered(),o=i.audioBuffer?i.audioBuffered():null,t=i.videoBuffer?i.videoBuffered():null,i=this.media(),a=i.partTargetDuration||2*(i.targetDuration-Ut),s=[o,t],l=0;l<s.length;l++)if(s[l])if(BYa(s[l],n)<a)return!1;r=tYa(r,n);return 0!==r.length&&(e=r.start(0)+Vt,this.logger_("Buffered region starts ("+r.start(0)+")  just beyond seek point ("+n+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},e.waiting_=function waiting_(){var e,t;this.techWaiting_()||(e=this.tech_.currentTime(),t=this.tech_.buffered(),(t=sYa(t,e)).length&&e+3<=t.end(0)&&(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+t.start(0)+" -> "+t.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})))},e.techWaiting_=function techWaiting_(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}e=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,n=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:e.audioBuffered(),videoBuffered:e.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;e=tYa(n,t);if(0<e.length){n=e.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+n+", seeking to "+e.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*n,t),!0}return!1},e.afterSeekableWindow_=function afterSeekableWindow_(e,t,n,i){if(void 0===i&&(i=!1),!e.length)return!1;var r=e.end(e.length-1)+Vt;return(r=!n.endList&&i?e.end(e.length-1)+3*n.targetDuration:r)<t},e.beforeSeekableWindow_=function beforeSeekableWindow_(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function videoUnderflow_(e){var t,n,i=e.videoBuffered,r=e.audioBuffered,o=e.currentTime;if(i)return i.length&&r.length?(n=sYa(i,o-3),e=sYa(i,o),(r=sYa(r,o)).length&&!e.length&&n.length&&(t={start:n.end(0),end:r.end(0)})):tYa(i,o).length||(t=this.gapFromVideoUnderflow_(i,o)),!!t&&(this.logger_("Encountered a gap in video from "+t.start+" to "+t.end+". Seeking to current time "+o),!0)},e.skipTheGap_=function skipTheGap_(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),t=tYa(t,n);this.cancelTimer_(),0!==t.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",t.start(0)),this.tech_.setCurrentTime(t.start(0)+Ut),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function gapFromVideoUnderflow_(e,t){for(var n=uYa(e),i=0;i<n.length;i++){var r=n.start(i),o=n.end(i);if(t-r<4&&2<t-r)return{start:r,end:o}}return null},PlaybackWatcher}(),Si={errorInterval:30,getSource:function getSource(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Ci={PlaylistLoader:sn,Playlist:Qt,utils:C,STANDARD_PLAYLIST_SELECTOR:b_a,INITIAL_PLAYLIST_SELECTOR:e_a,lastBandwidthSelector:b_a,movingAverageBandwidthSelector:c_a,comparePlaylistBandwidth:$$a,comparePlaylistResolution:_$a,xhr:xZa()};Object.keys(mn).forEach(function(t){Object.defineProperty(Ci,t,{get:function get(){return videojs.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),mn[t]},set:function set(e){videojs.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?videojs.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):mn[t]=e}})});function La0(e,t){for(var n=t.media(),i=-1,r=0;r<e.length;r++)if(e[r].id===n.id){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})}function Ma0(t,e){e.representations().forEach(function(e){t.addQualityLevel(e)}),La0(t,e.playlists)}var wi="videojs-vhs";Ci.canPlaySource=function(){return videojs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};function Na0(e,t,n){if(!e)return e;var i={};t&&t.attributes&&t.attributes.CODECS&&(i=Nn(Object(k.h)(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);var r,o=Object(k.e)(i.video),a=Object(k.e)(i.audio),s={};for(r in e)s[r]={},a&&(s[r].audioContentType=a),o&&(s[r].videoContentType=o),t.contentProtection&&t.contentProtection[r]&&t.contentProtection[r].pssh&&(s[r].pssh=t.contentProtection[r].pssh),"string"==typeof e[r]&&(s[r].url=e[r]);return videojs.mergeOptions(e,s)}function Oa0(e,n){return e.reduce(function(e,i){if(!i.contentProtection)return e;var t=n.reduce(function(e,t){var n=i.contentProtection[t];return n&&n.pssh&&(e[t]={pssh:n.pssh}),e},{});return Object.keys(t).length&&e.push(t),e},[])}function Pa0(e){var i=e.player,t=e.sourceKeySystems,n=e.audioMedia,e=e.mainPlaylists;if(!i.eme.initializeMediaKeys)return Promise.resolve();var e=n?e.concat([n]):e,t=Oa0(e,Object.keys(t)),r=[],o=[];return t.forEach(function(e){o.push(new Promise(function(e,t){i.tech_.one("keysessioncreated",e)})),r.push(new Promise(function(t,n){i.eme.initializeMediaKeys({keySystems:e},function(e){e?n(e):t()})}))}),Promise.race([Promise.all(r),Promise.race(o)])}function Qa0(e){var t=e.player,n=e.sourceKeySystems,i=e.media,e=e.audioMedia;return!!(e=Na0(n,i,e))&&(!((t.currentSource().keySystems=e)&&!t.eme)||(videojs.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))}function Ra0(){if(!v.a.localStorage)return null;var e=v.a.localStorage.getItem(wi);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function Sa0(e){if(!v.a.localStorage)return!1;var t=(t=Ra0())?videojs.mergeOptions(t,e):e;try{v.a.localStorage.setItem(wi,JSON.stringify(t))}catch(e){return!1}return t}function Ta0(e){return 0===e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(e.substring(e.indexOf(",")+1)):e}Ci.supportsNativeHls=function(){if(!d.a||!d.a.createElement)return!1;var t=d.a.createElement("video");if(!videojs.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),Ci.supportsNativeDash=!!(d.a&&d.a.createElement&&videojs.getTech("Html5").isSupported())&&/maybe|probably/i.test(d.a.createElement("video").canPlayType("application/dash+xml")),Ci.supportsTypeNatively=function(e){return"hls"===e?Ci.supportsNativeHls:"dash"===e&&Ci.supportsNativeDash},Ci.isSupported=function(){return videojs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ki=function(r){function VhsHandler(e,t,n){var i=r.call(this,t,videojs.mergeOptions(n.hls,n.vhs))||this;if(n.hls&&Object.keys(n.hls).length&&videojs.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"==typeof n.initialBandwidth&&(i.options_.bandwidth=n.initialBandwidth),i.logger_=Ft("VhsHandler"),t.options_&&t.options_.playerId&&((n=videojs(t.options_.playerId)).hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function get(){return videojs.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"hls-player-access"}),b()(i)},configurable:!0}),n.hasOwnProperty("vhs")||Object.defineProperty(n,"vhs",{get:function get(){return videojs.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"vhs-player-access"}),b()(i)},configurable:!0}),n.hasOwnProperty("dash")||Object.defineProperty(n,"dash",{get:function get(){return videojs.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),b()(i)},configurable:!0}),i.player_=n),i.tech_=t,i.source_=e,i.stats={},i.ignoreNextSeekingEvent_=!1,i.setOptions_(),i.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(d.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=d.a.fullscreenElement||d.a.webkitFullscreenElement||d.a.mozFullScreenElement||d.a.msFullscreenElement;t&&t.contains(i.tech_.el())?i.masterPlaylistController_.fastQualityChange_():i.masterPlaylistController_.checkABR_()}),i.on(i.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),i.on(i.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),i.on(i.tech_,"play",i.play),i}h()(VhsHandler,r);var e=VhsHandler.prototype;return e.setOptions_=function setOptions_(){var e,t=this;this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage&&((e=Ra0())&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=mn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===mn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},e.src=function src(e,t){var n=this;e&&(this.setOptions_(),this.options_.src=Ta0(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Ci,this.options_.sourceType=Object(E.a)(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&videojs.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new vi(this.options_),t=videojs.mergeOptions({liveRangeSafeTimeDelta:Vt},this.options_,{seekable:function seekable(){return n.seekable()},media:function media(){return n.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_}),this.playbackWatcher_=new Ti(t),this.masterPlaylistController_.on("error",function(){var e=videojs.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}),t=this.options_.experimentalBufferBasedABR?Ci.movingAverageBandwidthSelector(.55):Ci.STANDARD_PLAYLIST_SELECTOR,this.masterPlaylistController_.selectPlaylist=(this.selectPlaylist||t).bind(this),this.masterPlaylistController_.selectInitialPlaylist=Ci.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function get(){return this.masterPlaylistController_.selectPlaylist},set:function set(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function get(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function set(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function get(){var e=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=v.a.navigator.connection||v.a.navigator.mozConnection||v.a.navigator.webkitConnection;return e=this.options_.useNetworkInformationApi&&t?1e7<=(t=1e3*t.downlink*1e3)&&1e7<=e?Math.max(e,t):t:e},set:function set(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function get(){var e=1/(this.bandwidth||1),t=0<this.throughput?1/this.throughput:0;return Math.floor(1/(e+t))},set:function set(){videojs.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function get(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function get(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function get(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function get(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function get(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function get(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function get(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function get(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function get(){return n.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function get(){return n.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function get(){return n.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function get(){return n.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function get(){return n.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function get(){return yYa(n.tech_.buffered())},enumerable:!0},currentTime:{get:function get(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function get(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function get(){return n.tech_.name_},enumerable:!0},duration:{get:function get(){return n.tech_.duration()},enumerable:!0},master:{get:function get(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function get(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function get(){return yYa(n.tech_.seekable())},enumerable:!0},timestamp:{get:function get(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function get(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){n.options_.useBandwidthFromLocalStorage&&Sa0({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){ya0(n)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){n.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=v.a.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},e.createKeySessions_=function createKeySessions_(){var t=this,e=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),Pa0({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(e){t.logger_("error while creating EME key session",e),t.player_.error({message:"Failed to initialize media keys for EME",code:3})})},e.handleWaitingForKey_=function handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},e.setupEme_=function setupEme_(){var n=this,e=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,e=Qa0({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",function(e){var t;"output-restricted"!==e.status||(e=n.masterPlaylistController_.master())&&e.playlists&&(t=[],e.playlists.forEach(function(e){e&&e.attributes&&e.attributes.RESOLUTION&&720<=e.attributes.RESOLUTION.height&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,t.push(e))}),t.length&&((e=videojs.log).warn.apply(e,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(t)),n.masterPlaylistController_.fastQualityChange_()))}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==videojs.browser.IE_VERSION&&e?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},e.setupQualityLevels_=function setupQualityLevels_(){var e=this,t=videojs.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){Ma0(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){La0(e.qualityLevels_,e.playlists)}))},VhsHandler.version=function version$5(){return{"@videojs/http-streaming":"2.15.1","mux.js":"6.0.1","mpd-parser":"0.22.1","m3u8-parser":"4.8.0","aes-decrypter":"3.1.3"}},e.version=function version(){return this.constructor.version()},e.canChangeType=function canChangeType(){return ii.canChangeType()},e.play=function play(){this.masterPlaylistController_.play()},e.setCurrentTime=function setCurrentTime(e){this.masterPlaylistController_.setCurrentTime(e)},e.duration=function duration(){return this.masterPlaylistController_.duration()},e.seekable=function seekable(){return this.masterPlaylistController_.seekable()},e.dispose=function dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&v.a.URL.revokeObjectURL&&(v.a.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),r.prototype.dispose.call(this)},e.convertToProgramTime=function convertToProgramTime(e,t){return RZa({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},e.seekToProgramTime=function seekToProgramTime$1(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=2),SZa({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},VhsHandler}(videojs.getComponent("Component")),Ei={name:"videojs-http-streaming",VERSION:"2.15.1",canHandleSource:function canHandleSource(e,t){t=videojs.mergeOptions(videojs.options,t=void 0===t?{}:t);return Ei.canPlayType(e.type,t)},handleSource:function handleSource(e,t,n){n=videojs.mergeOptions(videojs.options,n=void 0===n?{}:n);return t.vhs=new ki(e,t,n),videojs.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function get(){return videojs.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=xZa(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function canPlayType(e,t){var n=videojs.mergeOptions(videojs.options,t=void 0===t?{}:t),t=n.vhs,t=(t=void 0===t?{}:t).overrideNative,t=void 0===t?!videojs.browser.IS_ANY_SAFARI:t,n=n.hls,n=(n=void 0===n?{}:n).overrideNative,n=void 0!==n&&n,e=Object(E.a)(e);return e&&(!Ci.supportsTypeNatively(e)||n||t)?"maybe":""}};!function supportsNativeMediaSources(){return Object(k.c)("avc1.4d400d,mp4a.40.2")}()||videojs.getTech("Html5").registerSourceHandler(Ei,0),videojs.VhsHandler=ki,Object.defineProperty(videojs,"HlsHandler",{get:function get(){return videojs.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),ki},configurable:!0}),videojs.VhsSourceHandler=Ei,Object.defineProperty(videojs,"HlsSourceHandler",{get:function get(){return videojs.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Ei},configurable:!0}),videojs.Vhs=Ci,Object.defineProperty(videojs,"Hls",{get:function get(){return videojs.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Ci},configurable:!0}),videojs.use||(videojs.registerComponent("Hls",Ci),videojs.registerComponent("Vhs",Ci)),videojs.options.vhs=videojs.options.vhs||{},videojs.options.hls=videojs.options.hls||{},videojs.getPlugin&&videojs.getPlugin("reloadSourceOnError")||(videojs.registerPlugin||videojs.plugin)("reloadSourceOnError",Da0),Ai.a=videojs}.call(this,Pi("./node_modules/webpack/buildin/global.js"))},"./node_modules/videojs-vtt.js/lib/browser-index.js":function(e,t,n){var i=n("./node_modules/global/window.js"),n=e.exports={WebVTT:n("./node_modules/videojs-vtt.js/lib/vtt.js"),VTTCue:n("./node_modules/videojs-vtt.js/lib/vttcue.js"),VTTRegion:n("./node_modules/videojs-vtt.js/lib/vttregion.js")};i.vttjs=n,i.WebVTT=n.WebVTT;var r=n.VTTCue,o=n.VTTRegion,a=i.VTTCue,s=i.VTTRegion;n.shim=function(){i.VTTCue=r,i.VTTRegion=o},n.restore=function(){i.VTTCue=a,i.VTTRegion=s},i.VTTCue||n.shim()},"./node_modules/videojs-vtt.js/lib/vtt.js":function(e,t,n){var n=n("./node_modules/global/document.js"),i=Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return F.prototype=e,new F};function F(){}function ParsingError(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function parseTimeStamp(e){function computeSeconds(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}e=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return e?e[3]?computeSeconds(e[1],e[2],e[3].replace(":",""),e[4]):59<e[1]?computeSeconds(e[1],e[2],0,e[4]):computeSeconds(0,e[1],e[2],e[4]):null}function Settings(){this.values=i(null)}function parseOptions(e,t,n,i){var r,o,a=i?e.split(i):[e];for(r in a)"string"==typeof a[r]&&(2===(o=a[r].split(n)).length&&t(o[0].trim(),o[1].trim()))}function parseCue(t,e,a){var n=t;function consumeTimeStamp(){var e=parseTimeStamp(t);if(null===e)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function skipWhitespace(){t=t.replace(/^\s+/,"")}if(skipWhitespace(),e.startTime=consumeTimeStamp(),skipWhitespace(),"--\x3e"!==t.substr(0,3))throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),skipWhitespace(),e.endTime=consumeTimeStamp(),skipWhitespace(),function consumeCueSettings(e,t){var o=new Settings;parseOptions(e,function(e,t){switch(e){case"region":for(var n=a.length-1;0<=n;n--)if(a[n].id===t){o.set(e,a[n].region);break}break;case"vertical":o.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),r=i[0];o.integer(e,r),o.percent(e,r)&&o.set("snapToLines",!1),o.alt(e,r,["auto"]),2===i.length&&o.alt("lineAlign",i[1],["start","center","end"]);break;case"position":i=t.split(","),o.percent(e,i[0]),2===i.length&&o.alt("positionAlign",i[1],["start","center","end"]);break;case"size":o.percent(e,t);break;case"align":o.alt(e,t,["start","center","end","left","right"])}},/:/,/\s/),t.region=o.get("region",null),t.vertical=o.get("vertical","");try{t.line=o.get("line","auto")}catch(e){}t.lineAlign=o.get("lineAlign","start"),t.snapToLines=o.get("snapToLines",!0),t.size=o.get("size",100);try{t.align=o.get("align","center")}catch(e){t.align=o.get("align","middle")}try{t.position=o.get("position","auto")}catch(e){t.position=o.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=o.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(t,e)}((ParsingError.prototype=i(Error.prototype)).constructor=ParsingError).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Settings.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var u=n.createElement&&n.createElement("textarea"),c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},h={v:"title",lang:"lang"},p={rt:"ruby"};function parseContent(i,t){function nextToken(){if(!t)return null;var e=t.match(/^([^<]*)(<[^>]*>?)?/);return function consume(e){return t=t.substr(e.length),e}(e[1]||e[2])}for(var e,n,r,o,a=i.document.createElement("div"),s=a,l=[];null!==(e=nextToken());)"<"!==e[0]?s.appendChild(i.document.createTextNode(function unescape(e){return u.innerHTML=e,e=u.textContent,u.textContent="",e}(e))):"/"!==e[1]?(o=parseTimeStamp(e.substr(1,e.length-2)))?(n=i.document.createProcessingInstruction("timestamp",o),s.appendChild(n)):(r=e.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(n=function createElement(e,t){var n=c[e];return n?(n=i.document.createElement(n),(e=h[e])&&t&&(n[e]=t.trim()),n):null}(r[1],r[3]))&&function shouldAdd(e,t){return!p[t.localName]||p[t.localName]===e.localName}(s,n)&&(r[2]&&((o=r[2].split(".")).forEach(function(e){var t=/^bg_/.test(e),e=t?e.slice(3):e;d.hasOwnProperty(e)&&(e=d[e],n.style[t?"background-color":"color"]=e)}),n.className=o.join(" ")),l.push(r[1]),s.appendChild(n),s=n):l.length&&l[l.length-1]===e.substr(2).replace(">","")&&(l.pop(),s=s.parentNode);return a}var r=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function determineBidi(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function pushNodes(e,t){for(var n=t.childNodes.length-1;0<=n;n--)e.push(t.childNodes[n])}for(pushNodes(t,e);n=function nextTextNode(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var i=n.match(/^.*(\n|\r)/);return i?i[e.length=0]:n}return"ruby"===t.tagName?nextTextNode(e):t.childNodes?(pushNodes(e,t),nextTextNode(e)):void 0}(t);)for(var i=0;i<n.length;i++)if(function isStrongRTLChar(e){for(var t=0;t<r.length;t++){var n=r[t];if(e>=n[0]&&e<=n[1])return 1}}(n.charCodeAt(i)))return"rtl";return"ltr"}function StyleBox(){}function CueStyleBox(e,t,n){StyleBox.call(this),this.cue=t,this.cueDiv=parseContent(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:determineBidi(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function BoxPosition(e){var t,n,i,r;e.div&&(t=e.div.offsetHeight,n=e.div.offsetWidth,i=e.div.offsetTop,r=(r=e.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects(),e=e.div.getBoundingClientRect(),r=r?Math.max(r[0]&&r[0].height||0,e.height/r.length):0),this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||t,this.bottom=e.bottom||i+(e.height||t),this.width=e.width||n,this.lineHeight=void 0!==r?r:e.lineHeight}function moveBoxToLinePosition(e,t,s,l){var n,i=new BoxPosition(t),r=t.cue,o=function computeLinePos(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(r),a=[];if(r.snapToLines){switch(r.vertical){case"":a=["+y","-y"],n="height";break;case"rl":a=["+x","-x"],n="width";break;case"lr":a=["-x","+x"],n="width"}var u=i.lineHeight,c=u*Math.round(o),d=s[n]+u,h=a[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),o<0&&(c+=""===r.vertical?s.height:s.width,a=a.reverse()),i.move(h,c)}else{var p=i.lineHeight/s.height*100;switch(r.lineAlign){case"center":o-=p/2;break;case"end":o-=p}switch(r.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}a=["+y","-x","+x","-y"],i=new BoxPosition(t)}i=function findBestPosition(e,t){for(var n,i=new BoxPosition(e),r=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(s,t[o])||e.within(s)&&e.overlapsAny(l);)e.move(t[o]);if(e.within(s))return e;var a=e.intersectPercentage(s);a<r&&(n=new BoxPosition(e),r=a),e=new BoxPosition(i)}return n||i}(i,a);t.move(i.toCSSCompatValues(s))}function WebVTT(){}StyleBox.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},StyleBox.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(CueStyleBox.prototype=i(StyleBox.prototype)).constructor=CueStyleBox,BoxPosition.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},BoxPosition.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},BoxPosition.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},BoxPosition.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},BoxPosition.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},BoxPosition.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},BoxPosition.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},BoxPosition.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},WebVTT.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},WebVTT.convertCueToDOMTree=function(e,t){return e&&t?parseContent(e,t):null};WebVTT.processCues=function(i,r,e){if(!i||!r||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var o=i.document.createElement("div");if(o.style.position="absolute",o.style.left="0",o.style.right="0",o.style.top="0",o.style.bottom="0",o.style.margin="1.5%",e.appendChild(o),function shouldCompute(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return 1}(r)){var a=[],s=BoxPosition.getSimpleBoxPosition(o),l={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var e,t,n=0;n<r.length;n++)t=r[n],e=new CueStyleBox(i,t,l),o.appendChild(e.div),moveBoxToLinePosition(0,e,s,a),t.displayState=e.div,a.push(BoxPosition.getSimpleBoxPosition(e))}()}else for(var t=0;t<r.length;t++)o.appendChild(r[t].displayState)},(WebVTT.Parser=function(e,t,n){n||(n=t,t={}),t=t||{},this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof ParsingError))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var i=this;function collectNextLine(){for(var e=i.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),n}function parseHeader(e){e.match(/X-TIMESTAMP-MAP/)?parseOptions(e,function(e,t){"X-TIMESTAMP-MAP"===e&&function parseTimestampMap(e){var n=new Settings;parseOptions(e,function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",parseTimeStamp(t))}},/[^\d]:/,/,/),i.ontimestampmap&&i.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(t)},/=/):parseOptions(e,function(e,t){"Region"===e&&function parseRegion(e){var r=new Settings;parseOptions(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var i=new Settings;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;r.set(e+"X",i.get("x")),r.set(e+"Y",i.get("y"));break;case"scroll":r.alt(e,t,["up"])}},/=/,/\s/),r.has("id")&&((e=new(i.vttjs.VTTRegion||i.window.VTTRegion)).width=r.get("width",100),e.lines=r.get("lines",3),e.regionAnchorX=r.get("regionanchorX",0),e.regionAnchorY=r.get("regionanchorY",100),e.viewportAnchorX=r.get("viewportanchorX",0),e.viewportAnchorY=r.get("viewportanchorY",100),e.scroll=r.get("scroll",""),i.onregion&&i.onregion(e),i.regionList.push({id:r.get("id"),region:e}))}(t)},/:/)}e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var t,n=(t=collectNextLine()).match(/^WEBVTT([ \t].*)?$/);if(!n||!n[0])throw new ParsingError(ParsingError.Errors.BadSignature);i.state="HEADER"}for(var r=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(r?r=!1:t=collectNextLine(),i.state){case"HEADER":/:/.test(t)?parseHeader(t):t||(i.state="ID");continue;case"NOTE":t||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){i.state="NOTE";break}if(!t)continue;i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,"");try{i.cue.align="center"}catch(e){i.cue.align="middle"}if(i.state="CUE",-1===t.indexOf("--\x3e")){i.cue.id=t;continue}case"CUE":try{parseCue(t,i.cue,i.regionList)}catch(e){i.reportOrThrowError(e),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var o=-1!==t.indexOf("--\x3e");if(!t||o&&(r=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=t.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":t||(i.state="ID");continue}}}catch(e){i.reportOrThrowError(e),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new ParsingError(ParsingError.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},e.exports=WebVTT},"./node_modules/videojs-vtt.js/lib/vttcue.js":function(e,t){var y={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function findAlignSetting(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}function VTTCue(e,t,n){this.hasBeenReset=!1;var i="",r=!1,o=e,a=t,s=n,l=null,u="",c=!0,d="auto",h="start",p="auto",f="auto",m=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(e){i=""+e}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(e){r=!!e}},startTime:{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");o=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(e){s=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(e){e=function findDirectionSetting(e){return"string"==typeof e&&(!!y[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(e){c=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){e=findAlignSetting(e);e?(h=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");p=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(e){e=findAlignSetting(e);e?(f=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(e){e=findAlignSetting(e);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=e,this.hasBeenReset=!0}}}),this.displayState=void 0}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=VTTCue},"./node_modules/videojs-vtt.js/lib/vttregion.js":function(e,t){var l={"":!0,up:!0};function isValidPercentValue(e){return"number"==typeof e&&0<=e&&e<=100}e.exports=function VTTRegion(){var t=100,n=3,i=0,r=100,o=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!isValidPercentValue(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!isValidPercentValue(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!isValidPercentValue(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!isValidPercentValue(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!isValidPercentValue(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){e=function findScrollSetting(e){return"string"==typeof e&&(!!l[e.toLowerCase()]&&e.toLowerCase())}(e);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):s=e}}})}},"./node_modules/webpack/buildin/global.js":function(e,t){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./styleguide/All.js":function(e,t,n){"use strict";n.r(t);n("./styleguide/All.less"),n("./node_modules/promise-polyfill/src/index.js");var i=n("./node_modules/@babel/runtime/helpers/classCallCheck/index.js"),c=n.n(i),r=n("./node_modules/@babel/runtime/helpers/createClass/index.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/defineProperty/index.js"),d=n.n(a),s=n("./node_modules/jquery/dist/jquery.js"),S=n.n(s),l=(n("./node_modules/slick-carousel/slick/slick.js"),function(){function SlickCarousel(e){c()(this,SlickCarousel),this.el=e,this.settings={infinite:!0,autoplaySpeed:4e3,speed:300,slidesToScroll:this.slidesToScroll||1,slidesToShow:this.slidesToShow||1,responsive:this.responsiveSettings||"",draggable:!e.hasAttribute("data-not-draggable"),lazyLoad:"none",rows:0},this.init()}return o()(SlickCarousel,[{key:"responsiveSettings",get:function get(){if(this.el.dataset.responsive)return JSON.parse(this.el.dataset.responsive)}},{key:"slidesToScroll",get:function get(){if(this.el.dataset.slidesToScroll)return parseInt(this.el.dataset.slidesToScroll)}},{key:"slidesToShow",get:function get(){if(this.el.dataset.slidesToShow)return parseInt(this.el.dataset.slidesToShow)}},{key:"init",value:function init(){this.el&&!this.el.classList.contains("slick-initialized")&&(S()(this.el).slick(this.settings),S()(this.el).trigger(SlickCarousel.INITIALIZED_EVENT))}}]),SlickCarousel}());d()(l,"INITIALIZED_EVENT","Slick:Initialized");var u=n("./node_modules/@babel/runtime/helpers/toConsumableArray/index.js"),h=n.n(u),p=n("./node_modules/@babel/runtime/helpers/assertThisInitialized/index.js"),f=n.n(p),m=n("./node_modules/@babel/runtime/helpers/inherits/index.js"),g=n.n(m),y=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn/index.js"),v=n.n(y),b=n("./node_modules/@babel/runtime/helpers/getPrototypeOf/index.js"),_=n.n(b),T=function(e,t){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function __(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}function isFunction(e){return"function"==typeof e}var C=!1,w={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,C=e},get useDeprecatedSynchronousErrorHandling(){return C}};function hostReportError(e){setTimeout(function(){throw e},0)}var k={closed:!0,next:function(e){},error:function(e){if(w.useDeprecatedSynchronousErrorHandling)throw e;hostReportError(e)},complete:function(){}},E=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function isObject(e){return null!==e&&"object"==typeof e}var A=function(){function UnsubscriptionErrorImpl(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype),UnsubscriptionErrorImpl}(),P=function(){function Subscription(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var e;return Subscription.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this._parentOrParents,n=this._ctorUnsubscribe,i=this._unsubscribe,r=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Subscription)e.remove(this);else if(null!==e)for(var o=0;o<e.length;++o)e[o].remove(this);if(isFunction(i)){n&&(this._unsubscribe=void 0);try{i.call(this)}catch(e){t=e instanceof A?flattenUnsubscriptionErrors(e.errors):[e]}}if(E(r))for(var o=-1,a=r.length;++o<a;){var s=r[o];if(isObject(s))try{s.unsubscribe()}catch(e){t=t||[],e instanceof A?t=t.concat(flattenUnsubscriptionErrors(e.errors)):t.push(e)}}if(t)throw new A(t)}},Subscription.prototype.add=function(e){var t,n=e;if(!e)return Subscription.EMPTY;switch(typeof e){case"function":n=new Subscription(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;n instanceof Subscription||(t=n,(n=new Subscription)._subscriptions=[t]);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof Subscription){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},Subscription.prototype.remove=function(e){var t=this._subscriptions;!t||-1!==(e=t.indexOf(e))&&t.splice(e,1)},Subscription.EMPTY=((e=new Subscription).closed=!0,e),Subscription}();function flattenUnsubscriptionErrors(e){return e.reduce(function(e,t){return e.concat(t instanceof A?t.errors:t)},[])}var x=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),M=function(r){function Subscriber(e,t,n){var i=r.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=k;break;case 1:if(!e){i.destination=k;break}if("object"==typeof e){e instanceof Subscriber?(i.syncErrorThrowable=e.syncErrorThrowable,(i.destination=e).add(i)):(i.syncErrorThrowable=!0,i.destination=new I(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new I(i,e,t,n)}return i}return __extends(Subscriber,r),Subscriber.prototype[x]=function(){return this},Subscriber.create=function(e,t,n){n=new Subscriber(e,t,n);return n.syncErrorThrowable=!1,n},Subscriber.prototype.next=function(e){this.isStopped||this._next(e)},Subscriber.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(e){this.destination.next(e)},Subscriber.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},Subscriber}(P),I=function(a){function SafeSubscriber(e,t,n,i){var r,o=a.call(this)||this;o._parentSubscriber=e;e=o;return isFunction(t)?r=t:t&&(r=t.next,n=t.error,i=t.complete,t!==k&&(isFunction((e=Object.create(t)).unsubscribe)&&o.add(e.unsubscribe.bind(e)),e.unsubscribe=o.unsubscribe.bind(o))),o._context=e,o._next=r,o._error=n,o._complete=i,o}return __extends(SafeSubscriber,a),SafeSubscriber.prototype.next=function(e){var t;!this.isStopped&&this._next&&(t=this._parentSubscriber,w.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e))},SafeSubscriber.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=w.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;hostReportError(e)}}},SafeSubscriber.prototype.complete=function(){var e,t,n=this;this.isStopped||(e=this._parentSubscriber,this._complete&&(t=function(){return n._complete.call(n._context)},w.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,t):this.__tryOrUnsub(t)),this.unsubscribe())},SafeSubscriber.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),w.useDeprecatedSynchronousErrorHandling)throw e;hostReportError(e)}},SafeSubscriber.prototype.__tryOrSetError=function(t,e,n){if(!w.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return w.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0):(hostReportError(e),!0)}return!1},SafeSubscriber.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},SafeSubscriber}(M);var L=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function identity(e){return e}function pipeFromArray(t){return 0===t.length?identity:1===t.length?t[0]:function piped(e){return t.reduce(function(e,t){return t(e)},e)}}var O=function(){function Observable(e){this._isScalar=!1,e&&(this._subscribe=e)}return Observable.prototype.lift=function(e){var t=new Observable;return t.source=this,t.operator=e,t},Observable.prototype.subscribe=function(e,t,n){var i=this.operator,n=function toSubscriber(e,t,n){if(e){if(e instanceof M)return e;if(e[x])return e[x]()}return e||t||n?new M(e,t,n):new M(k)}(e,t,n);if(i?n.add(i.call(n,this.source)):n.add(this.source||w.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),w.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},Observable.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){w.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function canReportError(e){for(;e;){var t=e,n=t.closed,i=t.destination,t=t.isStopped;if(n||t)return;e=i&&i instanceof M?i:null}return 1}(t)?console.warn(e):t.error(e)}},Observable.prototype.forEach=function(i,e){var r=this;return new(e=getPromiseCtor(e))(function(e,t){var n=r.subscribe(function(e){try{i(e)}catch(e){t(e),n&&n.unsubscribe()}},t,e)})},Observable.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},Observable.prototype[L]=function(){return this},Observable.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:pipeFromArray(e)(this)},Observable.prototype.toPromise=function(e){var i=this;return new(e=getPromiseCtor(e))(function(e,t){var n;i.subscribe(function(e){return n=e},function(e){return t(e)},function(){return e(n)})})},Observable.create=function(e){return new Observable(e)},Observable}();function getPromiseCtor(e){if(!(e=e||(w.Promise||Promise)))throw new Error("no Promise impl found");return e}function isScheduler(e){return e&&"function"==typeof e.schedule}function map_map(t,n){return function mapOperation(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new D(t,n))}}var D=function(){function MapOperator(e,t){this.project=e,this.thisArg=t}return MapOperator.prototype.call=function(e,t){return t.subscribe(new R(e,this.project,this.thisArg))},MapOperator}(),R=function(i){function MapSubscriber(e,t,n){e=i.call(this,e)||this;return e.project=t,e.count=0,e.thisArg=n||e,e}return __extends(MapSubscriber,i),MapSubscriber.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},MapSubscriber}(M),N=function(i){return function(e){for(var t=0,n=i.length;t<n&&!e.closed;t++)e.next(i[t]);e.complete()}},B=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,hostReportError),t}};function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var j=getSymbolIterator(),F=function(i){return function(t){for(var e=i[j]();;){var n=void 0;try{n=e.next()}catch(e){return t.error(e),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof e.return&&t.add(function(){e.return&&e.return()}),t}},U=function(n){return function(e){var t=n[L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}},V=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function isPromise(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var H=function(e){if(e&&"function"==typeof e[L])return U(e);if(V(e))return N(e);if(isPromise(e))return B(e);if(e&&"function"==typeof e[j])return F(e);e=isObject(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function scheduleArray(i,r){return new O(function(e){var t=new P,n=0;return t.add(r.schedule(function(){n!==i.length?(e.next(i[n++]),e.closed||t.add(this.schedule())):e.complete()})),t})}function scheduled(e,t){if(null!=e){if(function isInteropObservable(e){return e&&"function"==typeof e[L]}(e))return function scheduleObservable(i,r){return new O(function(t){var n=new P;return n.add(r.schedule(function(){var e=i[L]();n.add(e.subscribe({next:function(e){n.add(r.schedule(function(){return t.next(e)}))},error:function(e){n.add(r.schedule(function(){return t.error(e)}))},complete:function(){n.add(r.schedule(function(){return t.complete()}))}}))})),n})}(e,t);if(isPromise(e))return function schedulePromise(e,i){return new O(function(t){var n=new P;return n.add(i.schedule(function(){return e.then(function(e){n.add(i.schedule(function(){t.next(e),n.add(i.schedule(function(){return t.complete()}))}))},function(e){n.add(i.schedule(function(){return t.error(e)}))})})),n})}(e,t);if(V(e))return scheduleArray(e,t);if(function isIterable(e){return e&&"function"==typeof e[j]}(e)||"string"==typeof e)return function scheduleIterable(t,n){if(!t)throw new Error("Iterable cannot be null");return new O(function(i){var r,e=new P;return e.add(function(){r&&"function"==typeof r.return&&r.return()}),e.add(n.schedule(function(){r=t[j](),e.add(n.schedule(function(){if(!i.closed){try{var e=r.next(),t=e.value,n=e.done}catch(e){return void i.error(e)}n?i.complete():(i.next(t),this.schedule())}}))})),e})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function from_from(e,t){return t?scheduled(e,t):e instanceof O?e:new O(H(e))}var q=function(n){function SimpleInnerSubscriber(e){var t=n.call(this)||this;return t.parent=e,t}return __extends(SimpleInnerSubscriber,n),SimpleInnerSubscriber.prototype._next=function(e){this.parent.notifyNext(e)},SimpleInnerSubscriber.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},SimpleInnerSubscriber.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},SimpleInnerSubscriber}(M),W=function(e){function SimpleOuterSubscriber(){return null!==e&&e.apply(this,arguments)||this}return __extends(SimpleOuterSubscriber,e),SimpleOuterSubscriber.prototype.notifyNext=function(e){this.destination.next(e)},SimpleOuterSubscriber.prototype.notifyError=function(e){this.destination.error(e)},SimpleOuterSubscriber.prototype.notifyComplete=function(){this.destination.complete()},SimpleOuterSubscriber}(M);function innerSubscribe(e,t){if(!t.closed)return e instanceof O?e.subscribe(t):H(e)(t)}function mergeMap(t,r,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof r?function(e){return e.pipe(mergeMap(function(n,i){return from_from(t(n,i)).pipe(map_map(function(e,t){return r(n,e,i,t)}))},n))}:("number"==typeof r&&(n=r),function(e){return e.lift(new G(t,n))})}var G=function(){function MergeMapOperator(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return MergeMapOperator.prototype.call=function(e,t){return t.subscribe(new z(e,this.project,this.concurrent))},MergeMapOperator}(),z=function(i){function MergeMapSubscriber(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY);e=i.call(this,e)||this;return e.project=t,e.concurrent=n,e.hasCompleted=!1,e.buffer=[],e.active=0,e.index=0,e}return __extends(MergeMapSubscriber,i),MergeMapSubscriber.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},MergeMapSubscriber.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},MergeMapSubscriber.prototype._innerSub=function(e){var t=new q(this),n=this.destination;n.add(t);e=innerSubscribe(e,t);e!==t&&n.add(e)},MergeMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},MergeMapSubscriber.prototype.notifyNext=function(e){this.destination.next(e)},MergeMapSubscriber.prototype.notifyComplete=function(){var e=this.buffer;this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapSubscriber}(W);function fromArray(e,t){return t?scheduleArray(e,t):new O(N(e))}function merge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,i=null,r=e[e.length-1];return isScheduler(r)?(i=e.pop(),1<e.length&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof r&&(n=e.pop()),null===i&&1===e.length&&e[0]instanceof O?e[0]:function mergeAll(e){return mergeMap(identity,e=void 0===e?Number.POSITIVE_INFINITY:e)}(n)(fromArray(e,i))}function fromEvent(e,n,i,t){return isFunction(i)&&(t=i,i=void 0),t?fromEvent(e,n,i).pipe(map_map(function(e){return E(e)?t.apply(void 0,e):t(e)})):new O(function(t){!function setupSubscription(e,t,n,i,r){var o;if(isEventTarget(e)){var a=e;e.addEventListener(t,n,r),o=function(){return a.removeEventListener(t,n,r)}}else if(isJQueryStyleEventEmitter(e)){var s=e;e.on(t,n),o=function(){return s.off(t,n)}}else if(isNodeStyleEventEmitter(e)){var l=e;e.addListener(t,n),o=function(){return l.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,c=e.length;u<c;u++)setupSubscription(e[u],t,n,i,r)}i.add(o)}(e,n,function handler(e){1<arguments.length?t.next(Array.prototype.slice.call(arguments)):t.next(e)},t,i)})}function isNodeStyleEventEmitter(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function isJQueryStyleEventEmitter(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function isEventTarget(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}function noop(){}function tap(t,n,i){return function tapOperatorFunction(e){return e.lift(new Y(t,n,i))}}var Y=function(){function DoOperator(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return DoOperator.prototype.call=function(e,t){return t.subscribe(new K(e,this.nextOrObserver,this.error,this.complete))},DoOperator}(),K=function(r){function TapSubscriber(e,t,n,i){e=r.call(this,e)||this;return e._tapNext=noop,e._tapError=noop,e._tapComplete=noop,e._tapError=n||noop,e._tapComplete=i||noop,isFunction(t)?(e._context=e)._tapNext=t:t&&(e._context=t,e._tapNext=t.next||noop,e._tapError=t.error||noop,e._tapComplete=t.complete||noop),e}return __extends(TapSubscriber,r),TapSubscriber.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},TapSubscriber.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},TapSubscriber.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},TapSubscriber}(M);function filter(t,n){return function filterOperatorFunction(e){return e.lift(new X(t,n))}}var X=function(){function FilterOperator(e,t){this.predicate=e,this.thisArg=t}return FilterOperator.prototype.call=function(e,t){return t.subscribe(new Q(e,this.predicate,this.thisArg))},FilterOperator}(),Q=function(i){function FilterSubscriber(e,t,n){e=i.call(this,e)||this;return e.predicate=t,e.thisArg=n,e.count=0,e}return __extends(FilterSubscriber,i),FilterSubscriber.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},FilterSubscriber}(M);var Z=function(){function ExhaustMapOperator(e){this.project=e}return ExhaustMapOperator.prototype.call=function(e,t){return t.subscribe(new J(e,this.project))},ExhaustMapOperator}(),J=function(n){function ExhaustMapSubscriber(e,t){e=n.call(this,e)||this;return e.project=t,e.hasSubscription=!1,e.hasCompleted=!1,e.index=0,e}return __extends(ExhaustMapSubscriber,n),ExhaustMapSubscriber.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},ExhaustMapSubscriber.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t)},ExhaustMapSubscriber.prototype._innerSub=function(e){var t=new q(this),n=this.destination;n.add(t);e=innerSubscribe(e,t);e!==t&&n.add(e)},ExhaustMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},ExhaustMapSubscriber.prototype.notifyNext=function(e){this.destination.next(e)},ExhaustMapSubscriber.prototype.notifyError=function(e){this.destination.error(e)},ExhaustMapSubscriber.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},ExhaustMapSubscriber}(W),ee=function(i){function AsyncAction(e,t){var n=i.call(this,e,t)||this;return n.scheduler=e,n.work=t,n.pending=!1,n}return __extends(AsyncAction,i),AsyncAction.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,e=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(e,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(e,this.id,t),this},AsyncAction.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},AsyncAction.prototype.recycleAsyncId=function(e,t,n){if(null!==(n=void 0===n?0:n)&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},AsyncAction.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;t=this._execute(e,t);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},AsyncAction.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i},AsyncAction.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},AsyncAction}(function(n){function Action(e,t){return n.call(this)||this}return __extends(Action,n),Action.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},Action}(P)),te=function(){function Scheduler(e,t){void 0===t&&(t=Scheduler.now),this.SchedulerAction=e,this.now=t}return Scheduler.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},Scheduler.now=function(){return Date.now()},Scheduler}(),ne=new(function(i){function AsyncScheduler(e,t){void 0===t&&(t=te.now);var n=i.call(this,e,function(){return AsyncScheduler.delegate&&AsyncScheduler.delegate!==n?AsyncScheduler.delegate.now():t()})||this;return n.actions=[],n.active=!1,n.scheduled=void 0,n}return __extends(AsyncScheduler,i),AsyncScheduler.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),AsyncScheduler.delegate&&AsyncScheduler.delegate!==this?AsyncScheduler.delegate.schedule(e,t,n):i.prototype.schedule.call(this,e,t,n)},AsyncScheduler.prototype.flush=function(e){var t,n=this.actions;if(this.active)n.push(e);else{this.active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=n.shift());if(this.active=!1,t){for(;e=n.shift();)e.unsubscribe();throw t}}},AsyncScheduler}(te))(ee);function debounceTime(t,n){return void 0===n&&(n=ne),function(e){return e.lift(new ie(t,n))}}var ie=function(){function DebounceTimeOperator(e,t){this.dueTime=e,this.scheduler=t}return DebounceTimeOperator.prototype.call=function(e,t){return t.subscribe(new re(e,this.dueTime,this.scheduler))},DebounceTimeOperator}(),re=function(i){function DebounceTimeSubscriber(e,t,n){e=i.call(this,e)||this;return e.dueTime=t,e.scheduler=n,e.debouncedSubscription=null,e.lastValue=null,e.hasValue=!1,e}return __extends(DebounceTimeSubscriber,i),DebounceTimeSubscriber.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))},DebounceTimeSubscriber.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},DebounceTimeSubscriber.prototype.debouncedNext=function(){var e;this.clearDebounce(),this.hasValue&&(e=this.lastValue,this.lastValue=null,this.hasValue=!1,this.destination.next(e))},DebounceTimeSubscriber.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},DebounceTimeSubscriber}(M);function dispatchNext(e){e.debouncedNext()}var oe={leading:!0,trailing:!1};var ae=function(){function ThrottleOperator(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return ThrottleOperator.prototype.call=function(e,t){return t.subscribe(new se(e,this.durationSelector,this.leading,this.trailing))},ThrottleOperator}(),se=function(o){function ThrottleSubscriber(e,t,n,i){var r=o.call(this,e)||this;return r.destination=e,r.durationSelector=t,r._leading=n,r._trailing=i,r._hasValue=!1,r}return __extends(ThrottleSubscriber,o),ThrottleSubscriber.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},ThrottleSubscriber.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},ThrottleSubscriber.prototype.throttle=function(e){e=this.tryDurationSelector(e);e&&this.add(this._throttled=innerSubscribe(e,new q(this)))},ThrottleSubscriber.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},ThrottleSubscriber.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},ThrottleSubscriber.prototype.notifyNext=function(){this.throttlingDone()},ThrottleSubscriber.prototype.notifyComplete=function(){this.throttlingDone()},ThrottleSubscriber}(W);function throttleTime(t,n,i){return void 0===n&&(n=ne),void 0===i&&(i=oe),function(e){return e.lift(new le(t,n,i.leading,i.trailing))}}var le=function(){function ThrottleTimeOperator(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return ThrottleTimeOperator.prototype.call=function(e,t){return t.subscribe(new ue(e,this.duration,this.scheduler,this.leading,this.trailing))},ThrottleTimeOperator}(),ue=function(o){function ThrottleTimeSubscriber(e,t,n,i,r){e=o.call(this,e)||this;return e.duration=t,e.scheduler=n,e.leading=i,e.trailing=r,e._hasTrailingValue=!1,e._trailingValue=null,e}return __extends(ThrottleTimeSubscriber,o),ThrottleTimeSubscriber.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(throttleTime_dispatchNext,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},ThrottleTimeSubscriber.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},ThrottleTimeSubscriber.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},ThrottleTimeSubscriber}(M);function throttleTime_dispatchNext(e){e.subscriber.clearThrottle()}function fromEventPattern(t,i,n){return n?fromEventPattern(t,i).pipe(map_map(function(e){return E(e)?n.apply(void 0,e):n(e)})):new O(function(n){function Fh1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)}var e;try{e=t(Fh1)}catch(e){return void n.error(e)}if(isFunction(i))return function(){return i(Fh1,e)}})}function ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){d()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _createSuper(n){var i=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_()(n);return t=i?(e=_()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),v()(this,t)}}function bYb(e){return{"margin-right":.25*e}}function cYb(e){return{"margin-left":.125*e,"margin-right":.125*e}}function dYb(e){return{"margin-left":.25*e}}var ce="FirstGenieCarouselItemPromo",de="LastGenieCarouselItemPromo",he=function(e){g()(GenieCarousel,e);var t=_createSuper(GenieCarousel);function GenieCarousel(e){var s;return c()(this,GenieCarousel),s=t.call(this,e),d()(f()(s),"afterChange",function(){s.enterObservables=[],s.leaveObservables=[],s.slickList=s.el.querySelector(".slick-list"),s.slickTrack=s.el.querySelector(".slick-track"),s.slickNext=s.el.querySelector("slick-next"),s.sub$&&s.sub$.unsubscribe(),s.positionGenieItems()}),d()(f()(s),"_onMouseEnter",function(e,t,n){var i,r,o,a;e&&(i=S()(e).parent(),r=S()(s.slickTrack),o=i.width(),a=i.height(),i.css(_objectSpread(_objectSpread({},t(o)),{},{height:1.25*a})),r.css({width:s.slickTrackWidth+.25*o}),n&&S()(s.slickList).css(n,.25*-o),r.addClass("active"),s.currentItem=e)}),d()(f()(s),"_onMouseEnterOp",function(t,n){return tap(function(e){return s._onMouseEnter(e&&e.target,t,n)})}),d()(f()(s),"_onMouseLeaveOp",function(){return tap(function(e){e&&e.target&&(e=S()(e.target).parent(),S()(s.slickTrack).css({width:s.slickTrackWidth}),e.css({"margin-left":"","margin-right":"",height:""}),S()(s.slickList).css({"margin-left":"","margin-right":""}))})}),h()(e.classList).some(function(e){return e.includes("Genie")})&&(s.currentItem={},s.onAfterChange.pipe(tap(function(e){return s.afterChange()})).subscribe(),s.afterChange()),s}return o()(GenieCarousel,[{key:"positionGenieItems",value:function positionGenieItems(){var t=this;this.slickTrackWidth=S()(this.slickTrack).width(),S()(this.el).slick("setPosition");var e=S()(this.el).find(".carousel-item.slick-active > div"),n=e.length;if(n<2){if(1!==n)return;this._registerMiddleItemSub(e.get(0))}else for(var i=0;i<n;i++){var r=e.get(i);r.classList.remove(ce),r.classList.remove(de),0===i?(r.classList.add(ce),this._registerFirstItemSub(r)):i===n-1?(r.classList.add(de),this._registerLastItemSub(r)):this._registerMiddleItemSub(r)}this.sub$=merge.apply(void 0,h()(this.enterObservables).concat(h()(this.leaveObservables))).pipe(filter(function(e){return 561<=window.innerWidth}),function exhaustMap(t,r){return r?function(e){return e.pipe(exhaustMap(function(n,i){return from_from(t(n,i)).pipe(map_map(function(e,t){return r(n,e,i,t)}))}))}:function(e){return e.lift(new Z(t))}}(function(e){return function of(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return isScheduler(n)?(e.pop(),scheduleArray(e,n)):fromArray(e)}(e)}),debounceTime(600),tap(function(e){"mouseleave"===e.type&&S()(t.slickTrack).removeClass("active")})).subscribe()}},{key:"_registerItem",value:function _registerItem(e,t,n){e&&(this.enterObservables.push(fromEvent(e,"mouseenter").pipe(throttleTime(100),this._onMouseEnterOp(function(e){return t(e)},n))),this.leaveObservables.push(fromEvent(e,"mouseleave").pipe(this._onMouseLeaveOp())))}},{key:"_registerFirstItemSub",value:function _registerFirstItemSub(e){this._registerItem(e,bYb,"margin-right")}},{key:"_registerLastItemSub",value:function _registerLastItemSub(e){this._registerItem(e,dYb,"margin-left")}},{key:"_registerMiddleItemSub",value:function _registerMiddleItemSub(e){this._registerItem(e,cYb,"margin-right")}}]),GenieCarousel}(function(){function Carousel(e){c()(this,Carousel),this.el=e}return o()(Carousel,[{key:"onAfterChange",get:function get(){var t=this;return fromEventPattern(function(e){S()(t.el).on("afterChange",e)},function(e){S()(t.el).off("afterChange",e)})}}]),Carousel}()),pe=function(){function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype),ObjectUnsubscribedErrorImpl}(),fe=function(i){function SubjectSubscription(e,t){var n=i.call(this)||this;return n.subject=e,n.subscriber=t,n.closed=!1,n}return __extends(SubjectSubscription,i),SubjectSubscription.prototype.unsubscribe=function(){var e,t;this.closed||(this.closed=!0,e=(t=this.subject).observers,this.subject=null,!e||0===e.length||t.isStopped||t.closed||-1!==(t=e.indexOf(this.subscriber))&&e.splice(t,1))},SubjectSubscription}(P),me=function(n){function SubjectSubscriber(e){var t=n.call(this,e)||this;return t.destination=e,t}return __extends(SubjectSubscriber,n),SubjectSubscriber}(M),ge=function(t){function Subject(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return __extends(Subject,t),Subject.prototype[x]=function(){return new me(this)},Subject.prototype.lift=function(e){var t=new ye(this,this);return t.operator=e,t},Subject.prototype.next=function(e){if(this.closed)throw new pe;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)},Subject.prototype.error=function(e){if(this.closed)throw new pe;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0},Subject.prototype.complete=function(){if(this.closed)throw new pe;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0},Subject.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},Subject.prototype._trySubscribe=function(e){if(this.closed)throw new pe;return t.prototype._trySubscribe.call(this,e)},Subject.prototype._subscribe=function(e){if(this.closed)throw new pe;return this.hasError?(e.error(this.thrownError),P.EMPTY):this.isStopped?(e.complete(),P.EMPTY):(this.observers.push(e),new fe(this,e))},Subject.prototype.asObservable=function(){var e=new O;return e.source=this,e},Subject.create=function(e,t){return new ye(e,t)},Subject}(O),ye=function(i){function AnonymousSubject(e,t){var n=i.call(this)||this;return n.destination=e,n.source=t,n}return __extends(AnonymousSubject,i),AnonymousSubject.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},AnonymousSubject.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},AnonymousSubject.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},AnonymousSubject.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):P.EMPTY},AnonymousSubject}(ge);function interval(t,n){return void 0===n&&(n=ne),(!function isNumeric(e){return!E(e)&&0<=e-parseFloat(e)+1}(t=void 0===t?0:t)||t<0)&&(t=0),n&&"function"==typeof n.schedule||(n=ne),new O(function(e){return e.add(n.schedule(dispatch,t,{subscriber:e,counter:0,period:t})),e})}function dispatch(e){var t=e.subscriber,n=e.counter,e=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:e},e)}var ve=new O(function(e){return e.complete()});function empty_empty(e){return e?function emptyScheduled(t){return new O(function(e){return t.schedule(function(){return e.complete()})})}(e):ve}var be=function(){function TakeWhileOperator(e,t){this.predicate=e,this.inclusive=t}return TakeWhileOperator.prototype.call=function(e,t){return t.subscribe(new _e(e,this.predicate,this.inclusive))},TakeWhileOperator}(),_e=function(i){function TakeWhileSubscriber(e,t,n){e=i.call(this,e)||this;return e.predicate=t,e.inclusive=n,e.index=0,e}return __extends(TakeWhileSubscriber,i),TakeWhileSubscriber.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},TakeWhileSubscriber.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},TakeWhileSubscriber}(M),Te="bsp-logger-level",Se=function(){function Logger(){c()(this,Logger)}return o()(Logger,null,[{key:"disableVerboseLogging",value:function disableVerboseLogging(){return window.sessionStorage.setItem(Te,0),Logger}},{key:"enableVerboseLogging",value:function enableVerboseLogging(){return window.sessionStorage.setItem(Te,1),Logger}},{key:"currentLogLevel",value:function currentLogLevel(){return+window.sessionStorage.getItem(Te)}},{key:"assert",value:function assert(){return send("assert",arguments),Logger}},{key:"clear",value:function clear(){return send("clear",arguments),Logger}},{key:"count",value:function count(){return send("count",arguments),Logger}},{key:"debug",value:function debug(){return Logger.log.apply(null,arguments),Logger}},{key:"dir",value:function dir(){return send("dir",arguments),Logger}},{key:"dirxml",value:function dirxml(){return send("dirxml",arguments),Logger}},{key:"error",value:function error(){return send("error",arguments,0),Logger}},{key:"exception",value:function exception(){return Logger.error.apply(null,arguments),Logger}},{key:"group",value:function group(){return send("group",arguments),Logger}},{key:"groupCollapsed",value:function groupCollapsed(){return send("groupCollapsed",arguments),Logger}},{key:"groupEnd",value:function groupEnd(){return send("groupEnd",arguments),Logger}},{key:"info",value:function info(){return send("info",arguments),Logger}},{key:"log",value:function log(){return send("log",arguments),Logger}},{key:"profile",value:function profile(){return send("profile",arguments),Logger}},{key:"profileEnd",value:function profileEnd(){return send("profileEnd",arguments),Logger}},{key:"table",value:function table(){return send("table",arguments),Logger}},{key:"time",value:function time(){return send("time",arguments),Logger}},{key:"timeEnd",value:function timeEnd(){return send("timeEnd",arguments),Logger}},{key:"timeStamp",value:function timeStamp(){return send("timeStamp",arguments),Logger}},{key:"trace",value:function trace(){return send("trace",arguments),Logger}},{key:"warn",value:function warn(){return send("warn",arguments),Logger}},{key:"welcomeMessage",value:function welcomeMessage(){var e="%c";isIE()&&(e="");var t="".concat(e,"Welcome to ").concat(e,"Brightsp").concat(e,"o").concat(e,"t").concat(e," Express").concat(e,"!"),n="".concat(e,"To enable verbose logging from Brightspot Express Javascript plugins, set the session storage variable ").concat(e,"bsp-logger-level ").concat(e,"to 1"),i="background-color: #eee; font-size: 18px",r="".concat(i,"; color: #333333"),o="".concat(i,"; color: #23c8ff"),a="".concat(i,"; color: #ff1e3c"),e="".concat("background-color: #eee; font-size: 11px","; color: #333333"),i="".concat(e,"; font-weight: bold");isIE()?(console.log(t),console.log(n)):(console.log(t,r,o,a,o,a,r),console.log(n,e,i,e))}}]),Logger}();function isIE(){return/Trident\/|MSIE/.test(window.navigator.userAgent)}function send(e,t,n){n=2<arguments.length&&void 0!==n?n:1;window.console&&(window.console[e]&&Se.currentLogLevel()>=n?window.console[e].apply(null,t):Se.currentLogLevel()>=n&&window.console.log&&window.console.log.apply(null,t))}var Ce="complete",we="data-bsp-plugin",ke="interactive",Ee="readystatechange",Ae=function(){function PluginRegistry(){c()(this,PluginRegistry),d()(this,"attrPlugin",we),d()(this,"propPlugin","bspPlugin"),d()(this,"msgPrefix","PluginRegistry:"),this._plugins=[],this._readyStatePluginLoads=[],function _createObserver(){var n=this,t=this;{var i;window.MutationObserver&&((i=new ge).pipe(function throttle(t,n){return void 0===n&&(n=oe),function(e){return e.lift(new ae(t,!!n.leading,!!n.trailing))}}(function(e){return document.readyState===Ce?null:interval(200)})).subscribe({next:function next(e){_loadPlugins.call(t,t._plugins)}}),new window.MutationObserver(function(e){i.next()}).observe(document,{childList:!0,subtree:!0}))}fromEvent(document,Ee).pipe(tap(function(e){document.readyState!==ke&&document.readyState!==Ce||_loadPlugins.call(t,t._plugins)}),map_map(function(e){return n._readyStatePluginLoads}),mergeMap(function(e){var t;return e.el&&_readyToLoad.call(n,e.plugin)&&(t=n._readyStatePluginLoads.indexOf(e),n._readyStatePluginLoads.splice(t,1),_doLoadPlugin.call(n,e.el,e.plugin)),empty_empty()}),function takeWhile(t,n){return void 0===n&&(n=!1),function(e){return e.lift(new be(t,n))}}(function(e){return document.readyState!==Ce})).subscribe()}.call(this)}return o()(PluginRegistry,[{key:"register",value:function register(e,t){!function _addPluginToRegistry(e){this._plugins.push(e),Se.log("".concat(this.msgPrefix," _addPluginToRegistry: added plugin to registry"),e)}.call(this,{load:2<arguments.length&&void 0!==arguments[2]?arguments[2]:ke,Module:e,selector:t,options:3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}})}},{key:"scope",value:function scope(e){return this.constructor.scope(e)}}],[{key:"scope",value:function scope(e){return e.bspPlugin}}]),PluginRegistry}();function _readyToLoad(e){return e&&e.load===document.readyState||e.load===ke&&document.readyState===Ce}function _loadPlugins(e){var t=this;e&&from_from(e).pipe(mergeMap(function(e){return function _createPluginInstances(i){var r=this;if(i){var e="".concat(i.selector.trim(),":not([").concat(we,"~='").concat(i.Module.generatedName,"'])"),e=document.querySelector(e)&&document.querySelectorAll(e);if(e)return from_from(e).pipe(filter(function(e){return-1===r._readyStatePluginLoads.indexOf({plugin:i,el:e})}),mergeMap(function(n){return new Promise(function(e,t){return function _loadPlugin(n,i){var e=this;"function"==typeof n.load?i._bspLoadPromise=new Promise(function(e,t){n.load(e,t,i)}).then(function(){_doLoadPlugin.call(e,i,n)}):n.load!==ke&&n.load!==Ce||(_readyToLoad.call(this,n)?_doLoadPlugin.call(this,i,n):this._readyStatePluginLoads.push({el:i,plugin:n}))}.call(r,i,n)})}))}return empty_empty()}.call(t,e)})).subscribe()}function _doLoadPlugin(e,t){try{e[this.propPlugin]||(e[this.propPlugin]={});var n=function _randomizedModuleName(e,t){var n=t.Module.name;if(n.length<2&&!t.Module.generatedName)for(n="Module".concat(Math.ceil(1e5*Math.random()));e[this.propPlugin][n];)n="Module".concat(Math.ceil(1e5*Math.random()));else t.Module.generatedName&&(n=t.Module.generatedName);return t.Module.generatedName=n}.call(this,e,t);Se.log("".concat(this.msgPrefix," _doLoadPlugin:"),e,t),e[this.propPlugin][n]||(e[this.propPlugin][n]=new t.Module(e,t.options)),e.setAttribute(we,function pluginAttributeValue(e,t){var n="",e=e.getAttribute(we),t=t.generatedName;n=e&&-1<e.indexOf(t)?e:e?e+" "+t:t;return n}(e,t.Module))}catch(e){Se.error(e)}}window.addEventListener("load",function(){setTimeout(function(){0},500)});var Pe=new Ae,xe=function(){function FavoritedEpisodeCarousel(e){c()(this,FavoritedEpisodeCarousel),this.el=e,this.items=e.querySelector(FavoritedEpisodeCarousel._selectors.carouselItems),this.loader=e.querySelector(FavoritedEpisodeCarousel._selectors.loaderElement),this.titleEl=e.querySelector(FavoritedEpisodeCarousel._selectors.titleElement),this.content=e.querySelector(FavoritedEpisodeCarousel._selectors.carouselContent),this.autoFavoriteUrl=e.getAttribute(FavoritedEpisodeCarousel._selectors.autoFavoriteUrl),this.autoFavoriteItem=e.querySelector(FavoritedEpisodeCarousel._selectors.autoFavoriteItem),this.howToFavoriteItem=e.querySelector(FavoritedEpisodeCarousel._selectors.howToFavoriteItem),this.initAutoFavorite()}return o()(FavoritedEpisodeCarousel,[{key:"initAutoFavorite",value:function initAutoFavorite(){var t=this;this.autoFavoriteItem&&this.autoFavoriteUrl&&fromEvent(this.autoFavoriteItem,"click").pipe(debounceTime(500),tap(function(e){t._beginLoading(),S.a.post(t._buildUrl()).then(function(e){t._replaceCarousel(e)},function(e){S.a.post(t._buildUrl(!0)).then(function(e){t._replaceCarousel(e)})})})).subscribe()}},{key:"_beginLoading",value:function _beginLoading(){var t=this,n=S()(this.content).parent().width();S()(this.items).add(this.titleEl).fadeOut(200,function(e){S()(t.content).addClass("loading"),n&&S()(t.loader).css("left",n/2+"px"),S()(t.loader).fadeIn(200)})}},{key:"_replaceCarousel",value:function _replaceCarousel(t){var n=this;t&&S()(this.el).fadeOut(200,function(e){S()(n.content).removeClass("loading"),S()(n.el).html(t).fadeIn(200)})}},{key:"_buildUrl",value:function _buildUrl(e){var t,n=this.autoFavoriteUrl,i=!1;return!this.howToFavoriteItem||(t=this.howToFavoriteItem.getAttribute(FavoritedEpisodeCarousel._selectors.howToFavoriteItemExternalId))&&(n+=(i?"&":"?")+"howToExternalId="+t,i=!0),this.titleEl&&(n+=(i?"&":"?")+"title="+this.titleEl.innerText,i=!0),e&&(n+=(i?"&":"?")+"skipFavorites=true",i=!0),n}}]),FavoritedEpisodeCarousel}();function detectMob(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(e){return navigator.userAgent.match(e)})}d()(xe,"SELECTOR",".FavoritedEpisodeCarousel"),d()(xe,"_selectors",{loaderElement:".loader",autoFavoriteItem:".auto-favorite-item",howToFavoriteItem:".howTo-favorite-item",titleElement:".FavoritedEpisodeCarousel-title",howToFavoriteItemExternalId:"data-external-id",carouselItems:".FavoritedEpisodeCarousel-items",autoFavoriteUrl:"data-auto-favorite-endpoint-url",carouselContent:".FavoritedEpisodeCarousel-content"}),Pe.register(xe,xe.SELECTOR),S()(document).unbind("keydown").bind("keydown",function(e){if(8===e.keyCode){var t,n=!0,i=S()(e.srcElement||e.target);if(i.prop("readonly")||i.prop("disabled")||(i[0].isContentEditable?n=!1:i.is("input")?(t=(t=i.attr("type"))&&t.toLowerCase(),-1<["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week","textbox"].indexOf(t)&&(n=!1)):i.is("textarea")&&(n=!1)),n)return e.preventDefault(),!1}});var Me=n("./node_modules/js-cookie/src/js.cookie.js"),Ie=n.n(Me);function getQueryStringVariables(e){for(var t=window.location.search.substring(1).split("&"),n=[],i=0;i<t.length;i++){var r=t[i].split("=");r[0]===e&&n.push(r[1])}return n}function getUrlParameter(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search.toLowerCase());return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function shuffleArray(e){for(var t=e.length-1;0<t;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e}function getGoogleMapsApiKey(){return void 0!==window.ga_config&&void 0!==window.ga_config.gmapsKey?window.ga_config.gmapsKey:"AIzaSyCSxAiufK_ULC1JTBsNr1HO6XcbPJfPN1Y"}var Le=function getQueryStringParameters(e){e=(e=void 0===e?window.location.search:e).replace(/[^?/]*\?/,"").replace(/#.*/,"");var n={};return e.split("&").forEach(function(e){var t=e.split("="),e=t[0],t=t[1]&&decodeURIComponent(t[1]);n[e]=n[e]||[],n[e].push(t)}),n}();if(Le.mirc){var Oe=Le.mirc[0],De=!0;if(Le.mircs)try{De=JSON.parse(Le.mircs[0])}catch(e){De=Le.mircs[0]}var Re=null;Le.mircmt&&(Ji=new Date(Le.mircmt[0]),(null==Re||Ji<Re)&&(Re=Ji)),Le.mircma&&(er=864e5*Le.mircma[0],isNaN(er)||((tr=new Date).setTime(tr.getTime()+er),(null==Re||tr<Re)&&(Re=tr))),Ie.a.set("mirc",JSON.stringify({campaign:Oe,expires:Re,session:De,optin:!0}),De?{}:{expires:Re})}var Ne=null,Be=!1;function setIncentivized(e){(e?S()('select[name="contextdatavalue_IncentivizedReview"] option[value="True"'):S()('select[name="contextdatavalue_IncentivizedReview"] option[value="False"')).prop("selected",!0).change()}function setCampaign(e,t){var n=S()('form.BVForm input[name="campaignid"]').val();Be||(Ne=n,Be=!0),"replace"!==t&&("ifnull"!==t||n)?"append"===t&&(n=n?n+":"+e:e):n=e,_setCampaign(n)}function _setCampaign(e){e?S()('form.BVForm input[name="campaignid"]').length?S()('form.BVForm input[name="campaignid"]').val(e):S()("form.BVForm").append('<input type="hidden" name="campaignid" value="'+e+'" />'):S()('form.BVForm input[name="campaignid"]').remove()}window.MIRCHandler||(window.MIRCHandler=function(){var e,t,n=window.MIRCConfig,i=null;try{i=JSON.parse(Ie.a.get("mirc")||"null")}catch(e){}(i=n&&n.global&&n.global.campaign&&n.campaigns[n.global.campaign]&&n.campaigns[n.global.campaign].expires&&new Date(n.campaigns[n.global.campaign].expires)>new Date?{campaign:n.global.campaign,expires:new Date(n.campaigns[n.global.campaign].expires),optin:i&&i.campaign===n.global.campaign?i.optin:null}:i)&&(e=i.campaign,t={},(t=n&&n.campaigns&&n.campaigns[e]?n.campaigns[e]:t).expose?S()(".MIRC").length||(S()(".BVMECustomSubmissionDisclaimer").before(S()('\n            <div class="MIRC">\n              <div class="MIRC-description">'.concat(t.description,'\n              </div>\n              <div class="MIRC-controls">\n                <div class="MIRC-radio">\n                  <input type="radio" name="mirc" id="mirc-yes" value="True">\n                  <label for="mirc-yes">').concat(t.yes||"Yes",'</label>\n                </div>                <div class="MIRC-radio">\n                  <input type="radio" name="mirc" id="mirc-no" value="False">\n                  <label for="mirc-no">').concat(t.no||"No","</label>\n                </div>\n              </div>\n            </div>\n            "))),S()('input[name="mirc"]').change(function(){"True"===S()(this).val()?(setIncentivized(!0),i.optin=!0,setCampaign(e,t.strategy)):(setIncentivized(!1),i.optin=!1,function resetCampaign(){Be&&_setCampaign(Ne)}()),Ie.a.set("mirc",JSON.stringify(i),i.session?{}:{expires:i.expires})}),(!i.expires||new Date(i.expires)>new Date)&&(!0===i.optin?S()('input[name="mirc"][value="True"]').prop("checked",!0).change():!1===i.optin&&S()('input[name="mirc"][value="False"]').prop("checked",!0).change())):(!i.expires||new Date(i.expires)>new Date)&&(!0===i.optin?(setIncentivized(!0),setCampaign(e,t.strategy)):!1===i.optin&&setIncentivized(!1)))});var je=function(){function GTM(){c()(this,GTM)}return o()(GTM,null,[{key:"sendDataEvent",value:function sendDataEvent(e){e&&window.dataLayer&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push(e),e.event&&!["gaEvent","add_to_cart","intent_to_checkout","attempt_checkout","purchase","purchase_failed","ga4_ecommerce"].includes(e.event)&&(e.origEvent=e.event,e.event="gpMetaEvent"),window.dataLayer.push(e),window.GTM_LOG&&console.log("Window data layer: "+JSON.stringify(window.dataLayer)))}},{key:"addCustomDimension",value:function addCustomDimension(e){window.dataLayer&&(window.GTM_LOG&&console.log("Adding custom dimension "+e+" to dataLayer."),window.dataLayer.push(e))}}]),GTM}();function sendGoogleAnalyticsEvent(e,t,n,i,r){var o=2<arguments.length&&void 0!==n?n:null,n=3<arguments.length&&void 0!==i?i:null,i=4<arguments.length&&void 0!==r?r:null,r={event:"gaEvent",eventCategory:e,eventAction:t,eventLabel:o,eventValue:0};n&&(r.eventValue=n),i&&i.non_interaction&&(r.eventNonInteractive=!0),SendGoogleAnalyticsEvent_debug("Sending GTM google analytics event",r),je.sendDataEvent(r),null!=window.gtag&&e&&t&&(i=null!=i?i:{},"ecommerce"!==e&&(i.event_category=e),null!=o&&(i.event_label=o),null!=n&&(i.value=n),SendGoogleAnalyticsEvent_debug("Sending gtag google analytics event",t,i),window.gtag("event",t,i))}function SendGoogleAnalyticsEvent_debug(){Fe&&console.log.apply(console,arguments)}var Fe=window.sessionStorage&&window.sessionStorage.getItem("GA_EVENTS_DEBUG"),Ue=n("./node_modules/@babel/runtime/regenerator/index.js"),Ve=n.n(Ue),He=n("./node_modules/@babel/runtime/helpers/asyncToGenerator/index.js"),qe=n.n(He),We=n("./node_modules/@babel/runtime/helpers/get/index.js"),Ge=n.n(We),$e=n("./node_modules/video.js/dist/video.es.js"),ze=n("./node_modules/global/window.js"),Ye=n.n(ze),Ke=n("./node_modules/global/document.js"),Xe=n.n(Ke),Qe="6.9.0";function bZb(e,t){t.isImmediatePropagationStopped=function(){return!0},t.cancelBubble=!0,t.isPropagationStopped=function(){return!0}}var Ze=function prefixEvent(e,t,n){bZb(0,n),e.trigger({type:t+n.type,originalEvent:n})},Je=function handlePlaying(e,t){e.ads.isInAdMode()&&(e.ads.isContentResuming()?e.ads._contentEnding&&Ze(e,"content",t):Ze(e,"ad",t))},et=function handleEnded(e,t){e.ads.isInAdMode()?e.ads.isContentResuming()?(bZb(0,t),e.trigger("resumeended")):Ze(e,"ad",t):e.ads._contentHasEnded||e.ads.stitchedAds()||(Ze(e,"content",t),e.trigger("readyforpostroll"))},tt=function handleLoadEvent(e,t){"loadstart"===t.type&&!e.ads._hasThereBeenALoadStartDuringPlayerLife||"loadeddata"===t.type&&!e.ads._hasThereBeenALoadedData||"loadedmetadata"===t.type&&!e.ads._hasThereBeenALoadedMetaData||(e.ads.inAdBreak()?Ze(e,"ad",t):e.currentSrc()!==e.ads.contentSrc||Ze(e,"content",t))},nt=function handlePlay(e,t){e.ads.inAdBreak()?Ze(e,"ad",t):e.ads.isContentResuming()&&Ze(e,"content",t)};function redispatch(e){"playing"===e.type?Je(this,e):"ended"===e.type?et(this,e):"loadstart"===e.type||"loadeddata"===e.type||"loadedmetadata"===e.type?tt(this,e):"play"===e.type?nt(this,e):this.ads.isInAdMode()&&(this.ads.isContentResuming()?Ze(this,"content",e):Ze(this,"ad",e))}function jZb(){rt(),"function"==typeof Ye.a.__tcfapi&&Ye.a.__tcfapi("addEventListener",2,function(e,t){t&&(it=e)})}var it={},rt=function proxyTcfApi(e){if($e.a.dom.isInFrame()&&"function"!=typeof Ye.a.__tcfapi){for(var o,t=Ye.a,a={};t;){try{if(t.frames.__tcfapiLocator){o=t;break}}catch(e){}if(t===Ye.a.top)break;t=t.parent}o&&(Ye.a.__tcfapi=function(e,t,n,i){var r=Math.random()+"",t={__tcfapiCall:{command:e,parameter:i,version:t,callId:r}};a[r]=n,o.postMessage(t,"*")},Ye.a.addEventListener("message",function(e){var t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){}t=t.__tcfapiReturn;t&&"function"==typeof a[t.callId]&&(a[t.callId](t.returnValue,t.success),a[t.callId]=null)},!1))}},ot=function uriEncodeIfNeeded(e,t){return t?encodeURIComponent(e):e},at=function customFields(e,t,n){if(e&&e[n])for(var i=e[n],r=Object.keys(i),o=0;o<r.length;o++)t["{mediainfo."+n+"."+r[o]+"}"]=i[r[o]]};function nZb(e,t){return void 0!==t&&e.ads.includedCues[t]}function oZb(e,t){void 0!==t&&""!==t&&(e.ads.includedCues[t]=!0)}var st={processMetadataTracks:function(t,n){for(var e=t.textTracks(),i=function setModeAndProcess(e){"metadata"===e.kind&&(t.ads.cueTextTracks.setMetadataTrackMode(e),n(t,e))},r=0;r<e.length;r++)i(e[r]);e.addEventListener("addtrack",function(e){i(e.track)})},setMetadataTrackMode:function(e){},getSupportedAdCue:function(e,t){return t},isSupportedAdCue:function(e,t){return!0},getCueId:function(e,t){return t.id}};function cancelContentPlay(){!1!==this.ads._shouldBlockPlay&&(this.paused()||(this.ads.debug("Playback was canceled by cancelContentPlay"),this.pause()),this.ads._cancelledPlay=!0)}st.processAdTrack=function(e,t,n,i){e.ads.includedCues={};for(var r=0;r<t.length;r++){var o=t[r],a=this.getSupportedAdCue(e,o);if(!this.isSupportedAdCue(e,o))return void $e.a.log.warn("Skipping as this is not a supported ad cue.",o);var s=this.getCueId(e,o),o=o.startTime;if(nZb(e,s))return void $e.a.log("Skipping ad already seen with ID "+s);i&&i(e,a,s,o),n(e,a,s,o),oZb(e,s)}};var lt={},ut=$e.a;lt.isMiddlewareMediatorSupported=function(){return!ut.browser.IS_IOS&&!ut.browser.IS_ANDROID&&!!(ut.use&&ut.middleware&&ut.middleware.TERMINATOR)},lt.playMiddleware=function(n){return{setSource:function setSource(e,t){t(null,e)},callPlay:function callPlay(){if(n.ads&&!0===n.ads._shouldBlockPlay)return n.ads.debug("Using playMiddleware to block content playback"),n.ads._playBlocked=!0,ut.middleware.TERMINATOR},play:function play(e,t){n.ads&&n.ads._playBlocked&&e?(n.ads.debug("Play call to Tech was terminated."),n.trigger("play"),n.addClass("vjs-has-started"),n.ads._playBlocked=!1):t&&t.catch&&t.catch(function(e){"NotAllowedError"!==e.name||$e.a.browser.IS_SAFARI||n.trigger("pause")})}}},lt.testHook=function(e){ut=e};function tZb(){if($e.a.getPlugin)return Boolean($e.a.getPlugin("ads"));var e=$e.a.getComponent("Player");return Boolean(e&&e.prototype.ads)}var ct=lt.playMiddleware,dt=lt.isMiddlewareMediatorSupported;var ht=function(){function States(){}return States.getState=function getState(e){if(e)return States.states_&&States.states_[e]?States.states_[e]:void 0},States.registerState=function registerState(e,t){if("string"!=typeof e||!e)throw new Error('Illegal state name, "'+e+'"; must be a non-empty string.');return(States.states_=!States.states_?{}:States.states_)[e]=t},States}(),pt=function(){function State(e){this.player=e}State._getName=function _getName(){return"Anonymous State"};var e=State.prototype;return e.transitionTo=function transitionTo(e){var t=this.player;this.cleanup(t);e=new e(t);t.ads._state=e,t.ads.debug(this.constructor._getName()+" -> "+e.constructor._getName());for(var n=arguments.length,i=new Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.init.apply(e,[t].concat(i))},e.init=function init(){},e.cleanup=function cleanup(){},e.onPlay=function onPlay(){},e.onPlaying=function onPlaying(){},e.onEnded=function onEnded(){},e.onAdEnded=function onAdEnded(){},e.onAdsReady=function onAdsReady(){$e.a.log.warn("Unexpected adsready event")},e.onAdsError=function onAdsError(){},e.onAdsCanceled=function onAdsCanceled(){},e.onAdTimeout=function onAdTimeout(){},e.onAdStarted=function onAdStarted(){},e.onContentChanged=function onContentChanged(){},e.onContentResumed=function onContentResumed(){},e.onReadyForPostroll=function onReadyForPostroll(){$e.a.log.warn("Unexpected readyforpostroll event")},e.onNoPreroll=function onNoPreroll(){},e.onNoPostroll=function onNoPostroll(){},e.startLinearAdMode=function startLinearAdMode(){$e.a.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.endLinearAdMode=function endLinearAdMode(){$e.a.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.skipLinearAdMode=function skipLinearAdMode(){$e.a.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.isAdState=function isAdState(){throw new Error("isAdState unimplemented for "+this.constructor._getName())},e.isWaitingForAdBreak=function isWaitingForAdBreak(){return!1},e.isContentResuming=function isContentResuming(){return!1},e.inAdBreak=function inAdBreak(){return!1},e.handleEvent=function handleEvent(e){var t=this.player;"play"===e?this.onPlay(t):"adsready"===e?this.onAdsReady(t):"adserror"===e?this.onAdsError(t):"adscanceled"===e?this.onAdsCanceled(t):"adtimeout"===e?this.onAdTimeout(t):"ads-ad-started"===e?this.onAdStarted(t):"contentchanged"===e?this.onContentChanged(t):"contentresumed"===e?this.onContentResumed(t):"readyforpostroll"===e?this.onReadyForPostroll(t):"playing"===e?this.onPlaying(t):"ended"===e?this.onEnded(t):"nopreroll"===e?this.onNoPreroll(t):"nopostroll"===e?this.onNoPostroll(t):"adended"===e&&this.onAdEnded(t)},State}();function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}ht.registerState("State",pt);var ft=function(t){function AdState(e){e=t.call(this,e)||this;return e.contentResuming=!1,e.waitingForAdBreak=!1,e}_inheritsLoose(AdState,t);var e=AdState.prototype;return e.isAdState=function isAdState(){return!0},e.onPlaying=function onPlaying(){var e=ht.getState("ContentPlayback");this.contentResuming&&this.transitionTo(e)},e.onContentResumed=function onContentResumed(){var e=ht.getState("ContentPlayback");this.contentResuming&&this.transitionTo(e)},e.isWaitingForAdBreak=function isWaitingForAdBreak(){return this.waitingForAdBreak},e.isContentResuming=function isContentResuming(){return this.contentResuming},e.inAdBreak=function inAdBreak(){return!0===this.player.ads._inLinearAdMode},AdState}(pt);ht.registerState("AdState",ft),ht.registerState("ContentState",function(e){function ContentState(){return e.apply(this,arguments)||this}_inheritsLoose(ContentState,e);var t=ContentState.prototype;return t.isAdState=function isAdState(){return!1},t.onContentChanged=function onContentChanged(e){var t=ht.getState("BeforePreroll"),n=ht.getState("Preroll");e.ads.debug("Received contentchanged event (ContentState)"),e.paused()?this.transitionTo(t):(this.transitionTo(n,!1),e.pause(),e.ads._pausedOnContentupdate=!0)},ContentState}(pt));var mt,gt=ht.getState("ContentState");function restorePlayerSnapshot(n,e){var i=n.ads.snapshot;if(void 0===e&&(e=function callback(){}),!0===n.ads.disableNextSnapshotRestore)return n.ads.disableNextSnapshotRestore=!1,delete n.ads.snapshot,void e();function Rm1(){for(var e=0;e<s.length;e++)(t=s[e]).track.mode=t.mode}function Sm1(){var e,t;$e.a.browser.IS_IOS&&n.ads.isLive(n)?(i.currentTime<0&&(e=0<n.seekable().length?n.seekable().end(0)+i.currentTime:n.currentTime(),n.currentTime(e)),!n.paused()||(t=n.play())&&t.catch&&t.catch(function(e){$e.a.log.warn("Play promise rejected in IOS snapshot resume",e)})):i.ended?n.currentTime(n.duration()):(n.currentTime(i.currentTime),(t=n.play())&&t.catch&&t.catch(function(e){$e.a.log.warn("Play promise rejected in snapshot resume",e)})),n.ads.shouldRemoveAutoplay_&&(n.autoplay(!1),n.ads.shouldRemoveAutoplay_=!1)}function Tm1(){if(n.off("contentcanplay",Tm1),mt&&n.clearTimeout(mt),1<(o=n.el().querySelector(".vjs-tech")).readyState)return Sm1();if(void 0===o.seekable)return Sm1();if(0<o.seekable.length)return Sm1();if(a--)n.setTimeout(Tm1,50);else try{Sm1()}catch(e){$e.a.log.warn("Failed to resume the content after an advertisement",e)}}var t,r,o=n.$(".vjs-tech"),a=20,s=i.suppressedTracks;"style"in i&&o.setAttribute("style",i.style||""),n.ads.videoElementRecycled()?(n.one("resumeended",function(){delete n.ads.snapshot,e()}),n.one("contentloadedmetadata",Rm1),$e.a.browser.IS_IOS&&!n.autoplay()&&(n.autoplay(!0),n.ads.shouldRemoveAutoplay_=!0),n.src(i.sources),n.one("contentcanplay",Tm1),mt=n.setTimeout(Tm1,2e3)):(Rm1(),n.ended()||(r=n.play())&&r.catch&&r.catch(function(e){$e.a.log.warn("Play promise rejected in snapshot restore",e)}),delete n.ads.snapshot,e())}ht.registerState("AdsDone",function(e){function AdsDone(){return e.apply(this,arguments)||this}_inheritsLoose(AdsDone,e),AdsDone._getName=function _getName(){return"AdsDone"};var t=AdsDone.prototype;return t.init=function init(e){e.ads._contentHasEnded=!0,e.trigger("ended")},t.startLinearAdMode=function startLinearAdMode(){$e.a.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},AdsDone}(gt));var yt={start:function start(e){e.ads.debug("Starting ad break"),e.ads._inLinearAdMode=!0,e.trigger("adstart"),e.ads.shouldTakeSnapshots()&&(e.ads.snapshot=function getPlayerSnapshot(e){var t=$e.a.browser.IS_IOS&&e.ads.isLive(e)&&0<e.seekable().length?e.currentTime()-e.seekable().end(0):e.currentTime(),n=e.$(".vjs-tech"),i=e.textTracks?e.textTracks():[],r=[],e={ended:e.ended(),currentSrc:e.currentSrc(),sources:e.currentSources(),src:e.tech_.src(),currentTime:t,type:e.currentType()};n&&(e.style=n.getAttribute("style"));for(var o=0;o<i.length;o++){var a=i[o];r.push({track:a,mode:a.mode}),a.mode="disabled"}return e.suppressedTracks=r,e}(e)),e.ads.shouldPlayContentBehindAd(e)&&(e.ads.preAdVolume_=e.volume(),e.volume(0)),e.addClass("vjs-ad-playing"),e.hasClass("vjs-live")&&e.removeClass("vjs-live"),e.ads.removeNativePoster()},end:function end(e,t){e.ads.debug("Ending ad break"),void 0===t&&(t=function callback(){}),e.ads.adType=null,e.ads._inLinearAdMode=!1,e.trigger("adend"),e.removeClass("vjs-ad-playing"),e.ads.isLive(e)&&e.addClass("vjs-live"),e.ads.shouldTakeSnapshots()?restorePlayerSnapshot(e,t):(e.volume(e.ads.preAdVolume_),t())}},vt=ht.getState("AdState");ht.registerState("Preroll",function(e){function Preroll(){return e.apply(this,arguments)||this}_inheritsLoose(Preroll,e),Preroll._getName=function _getName(){return"Preroll"};var t=Preroll.prototype;return t.init=function init(e,t,n){if(this.waitingForAdBreak=!0,e.addClass("vjs-ad-loading"),n||e.ads.nopreroll_)return this.resumeAfterNoPreroll(e);n=e.ads.settings.timeout;"number"==typeof e.ads.settings.prerollTimeout&&(n=e.ads.settings.prerollTimeout),this._timeout=e.setTimeout(function(){e.trigger("adtimeout")},n),t?this.handleAdsReady():this.adsReady=!1},t.onAdsReady=function onAdsReady(e){e.ads.inAdBreak()?$e.a.log.warn("Unexpected adsready event (Preroll)"):(e.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},t.handleAdsReady=function handleAdsReady(){this.adsReady=!0,this.readyForPreroll()},t.afterLoadStart=function afterLoadStart(e){var t=this.player;t.ads._hasThereBeenALoadStartDuringPlayerLife?e():(t.ads.debug("Waiting for loadstart..."),t.one("loadstart",function(){t.ads.debug("Received loadstart event"),e()}))},t.noPreroll=function noPreroll(){var e=this;this.afterLoadStart(function(){e.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"),e.resumeAfterNoPreroll(e.player)})},t.readyForPreroll=function readyForPreroll(){var e=this.player;this.afterLoadStart(function(){e.ads.debug("Triggered readyforpreroll event (Preroll)"),e.trigger("readyforpreroll")})},t.onAdsCanceled=function onAdsCanceled(e){var t=this;e.ads.debug("adscanceled (Preroll)"),this.afterLoadStart(function(){t.resumeAfterNoPreroll(e)})},t.onAdsError=function onAdsError(e){var t=this;$e.a.log("adserror (Preroll)"),this.inAdBreak()?e.ads.endLinearAdMode():this.afterLoadStart(function(){t.resumeAfterNoPreroll(e)})},t.startLinearAdMode=function startLinearAdMode(){var e=this.player;!this.adsReady||e.ads.inAdBreak()||this.isContentResuming()?$e.a.log.warn("Unexpected startLinearAdMode invocation (Preroll)"):(this.clearTimeout(e),e.ads.adType="preroll",this.waitingForAdBreak=!1,yt.start(e),e.ads._shouldBlockPlay=!1)},t.onAdStarted=function onAdStarted(e){e.removeClass("vjs-ad-loading")},t.endLinearAdMode=function endLinearAdMode(){var e=this.player;this.inAdBreak()&&(e.removeClass("vjs-ad-loading"),e.addClass("vjs-ad-content-resuming"),this.contentResuming=!0,yt.end(e))},t.skipLinearAdMode=function skipLinearAdMode(){var e=this,t=this.player;t.ads.inAdBreak()||this.isContentResuming()?$e.a.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart(function(){t.trigger("adskip"),t.ads.debug("skipLinearAdMode (Preroll)"),e.resumeAfterNoPreroll(t)})},t.onAdTimeout=function onAdTimeout(e){var t=this;this.afterLoadStart(function(){e.ads.debug("adtimeout (Preroll)"),t.resumeAfterNoPreroll(e)})},t.onNoPreroll=function onNoPreroll(e){e.ads.inAdBreak()||this.isContentResuming()?$e.a.log.warn("Unexpected nopreroll event (Preroll)"):this.noPreroll()},t.resumeAfterNoPreroll=function resumeAfterNoPreroll(e){var t;this.contentResuming=!0,e.ads._shouldBlockPlay=!1,this.cleanupPartial(e),(e.ads._playRequested||e.ads._pausedOnContentupdate)&&(e.paused()?(e.ads.debug("resumeAfterNoPreroll: attempting to resume playback (Preroll)"),(t=e.play())&&t.then&&t.then(null,function(e){})):(e.ads.debug("resumeAfterNoPreroll: already playing (Preroll)"),e.trigger("play"),e.trigger("playing")))},t.cleanup=function cleanup(e){e.ads._hasThereBeenALoadStartDuringPlayerLife||$e.a.log.warn("Leaving Preroll state before loadstart event can cause issues."),this.cleanupPartial(e)},t.cleanupPartial=function cleanupPartial(e){e.removeClass("vjs-ad-loading"),e.removeClass("vjs-ad-content-resuming"),this.clearTimeout(e)},t.clearTimeout=function clearTimeout(e){e.clearTimeout(this._timeout),this._timeout=null},Preroll}(vt));var bt=ht.getState("ContentState");ht.registerState("BeforePreroll",function(e){function BeforePreroll(){return e.apply(this,arguments)||this}_inheritsLoose(BeforePreroll,e),BeforePreroll._getName=function _getName(){return"BeforePreroll"};var t=BeforePreroll.prototype;return t.init=function init(e){this.adsReady=!1,this.shouldResumeToContent=!1,e.ads._shouldBlockPlay=!e.ads.settings.allowVjsAutoplay||!e.autoplay()},t.onAdsReady=function onAdsReady(e){e.ads.debug("Received adsready event (BeforePreroll)"),this.adsReady=!0},t.onPlay=function onPlay(e){var t=ht.getState("Preroll");e.ads.debug("Received play event (BeforePreroll)"),this.transitionTo(t,this.adsReady,this.shouldResumeToContent)},t.onAdsCanceled=function onAdsCanceled(e){e.ads.debug("adscanceled (BeforePreroll)"),this.shouldResumeToContent=!0},t.onAdsError=function onAdsError(){this.player.ads.debug("adserror (BeforePreroll)"),this.shouldResumeToContent=!0},t.onNoPreroll=function onNoPreroll(){this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)"),this.shouldResumeToContent=!0},t.skipLinearAdMode=function skipLinearAdMode(){var e=this.player;e.trigger("adskip"),e.ads.debug("skipLinearAdMode (BeforePreroll)"),this.shouldResumeToContent=!0},t.onContentChanged=function onContentChanged(){this.init(this.player)},BeforePreroll}(bt));var _t=ht.getState("AdState");ht.registerState("Midroll",function(e){function Midroll(){return e.apply(this,arguments)||this}_inheritsLoose(Midroll,e),Midroll._getName=function _getName(){return"Midroll"};var t=Midroll.prototype;return t.init=function init(e){e.ads.adType="midroll",yt.start(e),e.addClass("vjs-ad-loading")},t.onAdStarted=function onAdStarted(e){e.removeClass("vjs-ad-loading")},t.endLinearAdMode=function endLinearAdMode(){var e=this.player;this.inAdBreak()&&(this.contentResuming=!0,e.addClass("vjs-ad-content-resuming"),e.removeClass("vjs-ad-loading"),yt.end(e))},t.onAdsError=function onAdsError(e){this.inAdBreak()&&e.ads.endLinearAdMode()},t.cleanup=function cleanup(e){e.removeClass("vjs-ad-loading"),e.removeClass("vjs-ad-content-resuming")},Midroll}(_t));var Tt=ht.getState("AdState");ht.registerState("Postroll",function(e){function Postroll(){return e.apply(this,arguments)||this}_inheritsLoose(Postroll,e),Postroll._getName=function _getName(){return"Postroll"};var t=Postroll.prototype;return t.init=function init(e){var t;this.waitingForAdBreak=!0,e.ads._contentEnding=!0,e.ads.nopostroll_?(this.resumeContent(e),t=ht.getState("AdsDone"),this.transitionTo(t)):(e.addClass("vjs-ad-loading"),t=e.ads.settings.timeout,"number"==typeof e.ads.settings.postrollTimeout&&(t=e.ads.settings.postrollTimeout),this._postrollTimeout=e.setTimeout(function(){e.trigger("adtimeout")},t))},t.startLinearAdMode=function startLinearAdMode(){var e=this.player;e.ads.inAdBreak()||this.isContentResuming()?$e.a.log.warn("Unexpected startLinearAdMode invocation (Postroll)"):(e.ads.adType="postroll",e.clearTimeout(this._postrollTimeout),this.waitingForAdBreak=!1,yt.start(e))},t.onAdStarted=function onAdStarted(e){e.removeClass("vjs-ad-loading")},t.endLinearAdMode=function endLinearAdMode(){var e=this,t=this.player,n=ht.getState("AdsDone");this.inAdBreak()&&(t.removeClass("vjs-ad-loading"),this.resumeContent(t),yt.end(t,function(){e.transitionTo(n)}))},t.skipLinearAdMode=function skipLinearAdMode(){var e=this.player;e.ads.inAdBreak()||this.isContentResuming()?$e.a.log.warn("Unexpected skipLinearAdMode invocation"):(e.ads.debug("Postroll abort (skipLinearAdMode)"),e.trigger("adskip"),this.abort(e))},t.onAdTimeout=function onAdTimeout(e){e.ads.debug("Postroll abort (adtimeout)"),this.abort(e)},t.onAdsError=function onAdsError(e){e.ads.debug("Postroll abort (adserror)"),e.ads.inAdBreak()?e.ads.endLinearAdMode():this.abort(e)},t.onContentChanged=function onContentChanged(e){var t;this.isContentResuming()?(t=ht.getState("BeforePreroll"),this.transitionTo(t)):this.inAdBreak()||(t=ht.getState("Preroll"),this.transitionTo(t))},t.onNoPostroll=function onNoPostroll(e){this.isContentResuming()||this.inAdBreak()?$e.a.log.warn("Unexpected nopostroll event (Postroll)"):this.abort(e)},t.resumeContent=function resumeContent(e){this.contentResuming=!0,e.addClass("vjs-ad-content-resuming")},t.abort=function abort(e){var t=ht.getState("AdsDone");this.resumeContent(e),e.removeClass("vjs-ad-loading"),this.transitionTo(t)},t.cleanup=function cleanup(e){e.removeClass("vjs-ad-content-resuming"),e.clearTimeout(this._postrollTimeout),e.ads._contentEnding=!1},Postroll}(Tt));var St=ht.getState("ContentState");ht.registerState("ContentPlayback",function(e){function ContentPlayback(){return e.apply(this,arguments)||this}_inheritsLoose(ContentPlayback,e),ContentPlayback._getName=function _getName(){return"ContentPlayback"};var t=ContentPlayback.prototype;return t.init=function init(e){e.ads._shouldBlockPlay=!1},t.onAdsReady=function onAdsReady(e){e.ads.debug("Received adsready event (ContentPlayback)"),e.ads.nopreroll_||(e.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),e.trigger("readyforpreroll"))},t.onReadyForPostroll=function onReadyForPostroll(e){var t=ht.getState("Postroll");e.ads.debug("Received readyforpostroll event"),this.transitionTo(t)},t.startLinearAdMode=function startLinearAdMode(){var e=ht.getState("Midroll");this.transitionTo(e)},ContentPlayback}(St));var Ct=ht.getState("ContentState");ht.registerState("StitchedContentPlayback",function(e){function StitchedContentPlayback(){return e.apply(this,arguments)||this}_inheritsLoose(StitchedContentPlayback,e),StitchedContentPlayback._getName=function _getName(){return"StitchedContentPlayback"};var t=StitchedContentPlayback.prototype;return t.init=function init(){this.player.ads._shouldBlockPlay=!1},t.onContentChanged=function onContentChanged(){this.player.ads.debug("Received contentchanged event ("+this.constructor._getName()+")")},t.startLinearAdMode=function startLinearAdMode(){var e=ht.getState("StitchedAdRoll");this.transitionTo(e)},StitchedContentPlayback}(Ct));var wt=ht.getState("AdState");ht.registerState("StitchedAdRoll",function(e){function StitchedAdRoll(){return e.apply(this,arguments)||this}_inheritsLoose(StitchedAdRoll,e),StitchedAdRoll._getName=function _getName(){return"StitchedAdRoll"};var t=StitchedAdRoll.prototype;return t.init=function init(){this.waitingForAdBreak=!1,this.contentResuming=!1,this.player.ads.adType="stitched",yt.start(this.player)},t.onPlaying=function onPlaying(){},t.onContentResumed=function onContentResumed(){},t.onAdEnded=function onAdEnded(){this.endLinearAdMode(),this.player.trigger("ended")},t.endLinearAdMode=function endLinearAdMode(){var e=ht.getState("StitchedContentPlayback");yt.end(this.player),this.transitionTo(e)},StitchedAdRoll}(wt));function TZb(e){var i=this,e=$e.a.mergeOptions(At,e),t=[];function Ho1(){var e=i.textTracks();if(r())for(var t=0;t<e.length;t++){var n=e[t];"showing"===n.mode&&(n.mode="disabled")}}Et.concat(["firstplay","loadedalldata"]).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),i.on(t,redispatch),kt()||function initCancelContentPlay(e,t){t&&$e.a.log("Using cancelContentPlay to block content playback"),e.on("play",cancelContentPlay)}(i,e.debug),i.setTimeout(function(){i.ads._hasThereBeenALoadStartDuringPlayerLife||""===i.src()||$e.a.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html")},5e3),i.on("ended",function(){i.hasClass("vjs-has-started")||i.addClass("vjs-has-started")}),i.on("contenttimeupdate",function(){i.removeClass("vjs-waiting")}),i.on(["addurationchange","adcanplay"],function(){var e;i.ads.settings.stitchedAds||i.hasStarted()||i.ads.snapshot&&i.currentSrc()===i.ads.snapshot.currentSrc||!i.ads.inAdBreak()||(e=i.play())&&e.catch&&e.catch(function(e){$e.a.log.warn("Play promise rejected when playing ad",e)})}),i.on("nopreroll",function(){i.ads.debug("Received nopreroll event"),i.ads.nopreroll_=!0}),i.on("nopostroll",function(){i.ads.debug("Received nopostroll event"),i.ads.nopostroll_=!0}),i.on("playing",function(){i.ads._cancelledPlay=!1,i.ads._pausedOnContentupdate=!1}),i.on("play",function(){i.ads._playRequested=!0}),i.one("loadstart",function(){i.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),i.on("loadeddata",function(){i.ads._hasThereBeenALoadedData=!0}),i.on("loadedmetadata",function(){i.ads._hasThereBeenALoadedMetaData=!0}),i.ads=function videojs_contrib_ads_es_getAds(n){return{disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,_shouldBlockPlay:!1,_playBlocked:!1,_playRequested:!1,adType:null,VERSION:Qe,reset:function reset(){n.ads.disableNextSnapshotRestore=!1,n.ads._contentEnding=!1,n.ads._contentHasEnded=!1,n.ads.snapshot=null,n.ads.adType=null,n.ads._hasThereBeenALoadedData=!1,n.ads._hasThereBeenALoadedMetaData=!1,n.ads._cancelledPlay=!1,n.ads._shouldBlockPlay=!1,n.ads._playBlocked=!1,n.ads.nopreroll_=!1,n.ads.nopostroll_=!1,n.ads._playRequested=!1},startLinearAdMode:function startLinearAdMode(){n.ads._state.startLinearAdMode()},endLinearAdMode:function endLinearAdMode(){n.ads._state.endLinearAdMode()},skipLinearAdMode:function skipLinearAdMode(){n.ads._state.skipLinearAdMode()},stitchedAds:function stitchedAds(e){return void 0!==e&&($e.a.log.warn("Using player.ads.stitchedAds() as a setter is deprecated, it should be set as an option upon initialization of contrib-ads."),this.settings.stitchedAds=!!e),this.settings.stitchedAds},videoElementRecycled:function videoElementRecycled(){if(n.ads.shouldPlayContentBehindAd(n))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var e=n.tech_.src()!==this.snapshot.src,t=n.currentSrc()!==this.snapshot.currentSrc;return e||t},isLive:function isLive(e){return"boolean"==typeof(e=void 0===e?n:e).ads.settings.contentIsLive?e.ads.settings.contentIsLive:e.duration()===1/0||"8"===$e.a.browser.IOS_VERSION&&0===e.duration()},shouldPlayContentBehindAd:function shouldPlayContentBehindAd(e){if(e=void 0===e?n:e)return!!e.ads.settings.liveCuePoints&&(!$e.a.browser.IS_IOS&&!$e.a.browser.IS_ANDROID&&e.duration()===1/0);throw new Error("shouldPlayContentBehindAd requires a player as a param")},shouldTakeSnapshots:function shouldTakeSnapshots(e){return!this.shouldPlayContentBehindAd(e=void 0===e?n:e)&&!this.stitchedAds()},isInAdMode:function isInAdMode(){return this._state.isAdState()},isWaitingForAdBreak:function isWaitingForAdBreak(){return this._state.isWaitingForAdBreak()},isContentResuming:function isContentResuming(){return this._state.isContentResuming()},isAdPlaying:function isAdPlaying(){return this._state.inAdBreak()},inAdBreak:function inAdBreak(){return this._state.inAdBreak()},removeNativePoster:function removeNativePoster(){var e=n.$(".vjs-tech");e&&e.removeAttribute("poster")},debug:function debug(){if(this.settings.debug){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];1===t.length&&"string"==typeof t[0]?$e.a.log("ADS: "+t[0]):$e.a.log.apply($e.a,["ADS:"].concat(t))}}}}(i),(i.ads.settings=e).stitchedAds=!!e.stitchedAds,e.stitchedAds?i.ads._state=new(ht.getState("StitchedContentPlayback"))(i):i.ads._state=new(ht.getState("BeforePreroll"))(i),i.ads._state.init(i),i.ads.cueTextTracks=st,i.ads.adMacroReplacement=function adMacroReplacement(e,s,t){var n=this,l={};e=e.replace(/{([^}=]+)=([^}]+)}/g,function(e,t,n){return l["{"+t+"}"]=n,"{"+t+"}"}),void 0===s&&(s=!1);var i,r,o=void 0!==t?t:{};for(i in o["{player.id}"]=this.options_["data-player"]||this.id_,o["{player.height}"]=this.currentHeight(),o["{player.width}"]=this.currentWidth(),o["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",o["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",o["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",o["{player.duration}"]=this.duration(),o["{player.pageUrl}"]=$e.a.dom.isInFrame()?Xe.a.referrer:Ye.a.location.href,o["{playlistinfo.id}"]=this.playlistinfo?this.playlistinfo.id:"",o["{playlistinfo.name}"]=this.playlistinfo?this.playlistinfo.name:"",o["{timestamp}"]=(new Date).getTime(),o["{document.referrer}"]=Xe.a.referrer,o["{window.location.href}"]=Ye.a.location.href,o["{random}"]=Math.floor(1e12*Math.random()),["description","tags","reference_id","ad_keys"].forEach(function(e){n.mediainfo&&n.mediainfo[e]?o["{mediainfo."+e+"}"]=n.mediainfo[e]:l["{mediainfo."+e+"}"]?o["{mediainfo."+e+"}"]=l["{mediainfo."+e+"}"]:o["{mediainfo."+e+"}"]=""}),at(this.mediainfo,o,"custom_fields"),at(this.mediainfo,o,"customFields"),Object.keys(it).forEach(function(e){o["{tcf."+e+"}"]=it[e]}),o["{tcf.gdprAppliesInt}"]=it.gdprApplies?1:0,o)e=e.split(i).join(ot(o[i],s));for(r in e=e.replace(/{pageVariable\.([^}]+)}/g,function(e,t){for(var n,i=Ye.a,r=t.split("."),o=0;o<r.length;o++)o===r.length-1?n=i[r[o]]:i=i[r[o]];var a=typeof n;return null===n?"null":void 0===n?l["{pageVariable."+t+"}"]||($e.a.log.warn('Page variable "'+t+'" not found'),""):"string"!=a&&"number"!=a&&"boolean"!=a?($e.a.log.warn('Page variable "'+t+'" is not a supported type'),""):ot(String(n),s)}),l)e=e.replace(r,l[r]);return e}.bind(i),function initializeContentupdate(t){t.ads.contentSrc=t.currentSrc(),t.ads._seenInitialLoadstart=!1,t.on("loadstart",function checkSrc(){var e;t.ads.inAdBreak()||((e=t.currentSrc())!==t.ads.contentSrc&&(t.ads._seenInitialLoadstart&&t.trigger({type:"contentchanged"}),t.trigger({type:"contentupdate",oldValue:t.ads.contentSrc,newValue:e}),t.ads.contentSrc=e),t.ads._seenInitialLoadstart=!0)})}(i),i.on("contentchanged",i.ads.reset);var r=function shouldDisableTracks(){return!i.ads.shouldPlayContentBehindAd(i)&&i.ads.inAdBreak()&&i.tech_.featuresNativeTextTracks&&$e.a.browser.IS_IOS&&!Array.isArray(i.textTracks())};i.ready(function(){i.textTracks().addEventListener("change",Ho1)}),i.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","adended","ads-ad-started","contentchanged","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],function(e){i.ads._state.handleEvent(e.type)}),i.on("dispose",function(){i.ads.reset(),i.textTracks().removeEventListener("change",Ho1)}),jZb(),i.ads.listenToTcf=jZb}var kt=lt.isMiddlewareMediatorSupported,Et=$e.a.getTech("Html5").Events,At={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0,allowVjsAutoplay:$e.a.options.normalizeAutoplay||!1};TZb.VERSION=Qe,function register(e){tZb($e.a)||(($e.a.registerPlugin||$e.a.plugin)("ads",e),dt()&&!$e.a.usingContribAdsMiddleware_&&($e.a.use("*",ct),$e.a.usingContribAdsMiddleware_=!0,$e.a.log.debug("Play middleware has been registered with videojs")))}(TZb);function VZb(e,t,n){this.vjsPlayer=e,this.controller=n,this.contentTrackingTimer=null,this.contentComplete=!1,this.updateTimeIntervalHandle=null,this.updateTimeInterval=1e3,this.seekCheckIntervalHandle=null,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListeners=[],this.contentSource="",this.contentSourceType="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.on("adtimeout",this.onAdTimeout.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),"onPlay"===this.controller.getSettings().requestMode&&this.vjsPlayer.one("play",this.controller.requestAds.bind(this.controller)),this.vjsPlayer.ads(t)}VZb.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)},VZb.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())},VZb.prototype.checkForSeeking=function(){var e=1e3*(this.vjsPlayer.currentTime()-this.contentPlayheadTracker.previousTime);Math.abs(e)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()},VZb.prototype.checkForResize=function(){var e=this.getPlayerWidth(),t=this.getPlayerHeight();e==this.vjsPlayerDimensions.width&&t==this.vjsPlayerDimensions.height||(this.vjsPlayerDimensions.width=e,this.vjsPlayerDimensions.height=t,this.controller.onPlayerResize(e,t))},VZb.prototype.localContentEndedListener=function(){for(var e in this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete()),this.contentEndedListeners)"function"==typeof this.contentEndedListeners[e]&&this.contentEndedListeners[e]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el()&&this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))},VZb.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostroll")},VZb.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var e,t=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(e in t)t[e]&&clearInterval(t[e])},VZb.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()},VZb.prototype.onAdTimeout=function(){this.controller.onAdTimeout()},VZb.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0),this.onVolumeChange(),this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this)),this.controller.onPlayerReady()},VZb.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},VZb.prototype.onVolumeChange=function(){var e=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(e)},VZb.prototype.injectAdContainerDiv=function(e){this.vjsControls.el().parentNode.appendChild(e)},VZb.prototype.getContentPlayer=function(){return this.h5Player},VZb.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()},VZb.prototype.setVolume=function(e){this.vjsPlayer.volume(e),0==e?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},VZb.prototype.unmute=function(){this.vjsPlayer.muted(!1)},VZb.prototype.mute=function(){this.vjsPlayer.muted(!0)},VZb.prototype.play=function(){this.vjsPlayer.play()},VZb.prototype.togglePlayback=function(){this.vjsPlayer.paused()?this.vjsPlayer.play():this.vjsPlayer.pause()},VZb.prototype.getPlayerWidth=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).width;return e&&0!==parseFloat(e)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseFloat(e)||this.vjsPlayer.width()},VZb.prototype.getPlayerHeight=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).height;return e&&0!==parseFloat(e)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).height),parseFloat(e)||this.vjsPlayer.height()},VZb.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},VZb.prototype.getPlayerId=function(){return this.vjsPlayer.id()},VZb.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()},VZb.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker},VZb.prototype.onAdError=function(e){this.vjsControls.show();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})},VZb.prototype.onAdLog=function(e){var t=e.getAdData(),t=void 0!==t.adError?t.adError.getMessage():void 0;this.vjsPlayer.trigger({type:"adslog",data:{AdError:t,AdEvent:e}})},VZb.prototype.onAdBreakStart=function(){this.contentSource=this.vjsPlayer.currentSrc(),this.contentSourceType=this.vjsPlayer.currentType(),this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.startLinearAdMode(),this.vjsControls.hide(),this.vjsPlayer.pause()},VZb.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},VZb.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},VZb.prototype.onAllAdsCompleted=function(){1==this.contentComplete&&(this.contentSource&&this.vjsPlayer.currentSrc()!=this.contentSource&&this.vjsPlayer.src({src:this.contentSource,type:this.contentSourceType}),this.controller.onContentAndAdsCompleted())},VZb.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")},VZb.prototype.changeSource=function(e){this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),e&&this.vjsPlayer.src(e),this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},VZb.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},VZb.prototype.triggerPlayerEvent=function(e,t){this.vjsPlayer.trigger(e,t)},VZb.prototype.addContentEndedListener=function(e){this.contentEndedListeners.push(e)},VZb.prototype.reset=function(){this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1};function WZb(e){this.controller=e,this.adContainerDiv=document.createElement("div"),this.controlsDiv=document.createElement("div"),this.countdownDiv=document.createElement("div"),this.seekBarDiv=document.createElement("div"),this.progressDiv=document.createElement("div"),this.playPauseDiv=document.createElement("div"),this.muteDiv=document.createElement("div"),this.sliderDiv=document.createElement("div"),this.sliderLevelDiv=document.createElement("div"),this.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getPlayerId()+"_",!(this.showCountdown=!0)===this.controller.getSettings().showCountdown&&(this.showCountdown=!1),this.isAdNonlinear=!1,this.createAdContainer()}WZb.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.adContainerDiv.addEventListener("click",this.onAdContainerClick.bind(this),!1),this.createControls(),this.controller.injectAdContainerDiv(this.adContainerDiv)},WZb.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.controller.getIsMobile()?this.countdownDiv.style.display="none":(this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none"),this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.assignControlAttributes(this.progressDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),this.assignControlAttributes(this.muteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},WZb.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},WZb.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},WZb.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()},WZb.prototype.onAdsPaused=function(){this.controller.sdkImpl.adPlaying=!1,this.addClass(this.playPauseDiv,"ima-paused"),this.removeClass(this.playPauseDiv,"ima-playing"),this.showAdControls()},WZb.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},WZb.prototype.onAdsPlaying=function(){this.controller.sdkImpl.adPlaying=!0,this.addClass(this.playPauseDiv,"ima-playing"),this.removeClass(this.playPauseDiv,"ima-paused")},WZb.prototype.updateAdUi=function(e,t,n,i,r){var o=Math.floor(t/60),a=Math.floor(t%60);a.toString().length<2&&(a="0"+a);t=": ";1<r&&(t=" ("+i+" "+this.controller.getSettings().adLabelNofN+" "+r+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+t+o+":"+a,this.progressDiv.style.width=100*(e/n)+"%"},WZb.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},WZb.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},WZb.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},WZb.prototype.onMouseMove=function(e){this.changeVolume(e)},WZb.prototype.onMouseUp=function(e){this.changeVolume(e),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},WZb.prototype.changeVolume=function(e){e=(e.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;e*=100,e=Math.min(Math.max(e,0),100),this.sliderLevelDiv.style.width=e+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(e/100)},WZb.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},WZb.prototype.hideAdContainer=function(){this.adContainerDiv.style.display="none"},WZb.prototype.onAdContainerClick=function(){this.isAdNonlinear&&this.controller.togglePlayback()},WZb.prototype.reset=function(){this.hideAdContainer()},WZb.prototype.onAdError=function(){this.hideAdContainer()},WZb.prototype.onAdBreakStart=function(e){this.showAdContainer(),"application/javascript"!==e.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},WZb.prototype.onAdBreakEnd=function(){var e=this.controller.getCurrentAd();null!=e&&!e.isLinear()||this.hideAdContainer(),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},WZb.prototype.onAllAdsCompleted=function(){this.hideAdContainer()},WZb.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container"),this.isAdNonlinear=!1},WZb.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container"),this.isAdNonlinear=!0},WZb.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},WZb.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-fullscreen")},WZb.prototype.onPlayerVolumeChanged=function(e){0==e?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*e+"%")},WZb.prototype.showAdControls=function(){this.controller.getSettings().disableAdControls||this.addClass(this.controlsDiv,"ima-controls-div-showing")},WZb.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing")},WZb.prototype.assignControlAttributes=function(e,t){e.id=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t},WZb.prototype.getClassRegexp=function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")},WZb.prototype.elementHasClass=function(e,t){return this.getClassRegexp(t).test(e.className)},WZb.prototype.addClass=function(e,t){e.className=e.className.trim()+" "+t},WZb.prototype.removeClass=function(e,t){t=this.getClassRegexp(t);e.className=e.className.trim().replace(t,"")},WZb.prototype.getAdContainerDiv=function(){return this.adContainerDiv},WZb.prototype.setShowCountdown=function(e){this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"};function l$b(e){this.controller=e,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.isAdTimedOut=!1,this.adsManagerDimensions={width:0,height:0},!(this.autoPlayAdBreaks=!0)===this.controller.getSettings().autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale),this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds),this.controller.getSettings().disableCustomPlaybackForIOS10Plus&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.controller.getSettings().disableCustomPlaybackForIOS10Plus),this.controller.getSettings().ppid&&google.ima.settings.setPpid(this.controller.getSettings().ppid),this.controller.getSettings().featureFlags&&google.ima.settings.setFeatureFlags(this.controller.getSettings().featureFlags)}var Pt="2.1.0",xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};l$b.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.controller.getSettings().vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),void 0!==this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode),this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale),this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects),this.controller.getSettings().sessionId&&this.adsLoader.getSettings().setSessionId(this.controller.getSettings().sessionId),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion(Pt),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-loader",adsLoader:this.adsLoader})},l$b.prototype.requestAds=function(){var t,n=new google.ima.AdsRequest;this.controller.getSettings().adTagUrl?n.adTagUrl=this.controller.getSettings().adTagUrl:n.adsResponse=this.controller.getSettings().adsResponse,this.controller.getSettings().forceNonLinearFullSlot&&(n.forceNonLinearFullSlot=!0),this.controller.getSettings().vastLoadTimeout&&(n.vastLoadTimeout=this.controller.getSettings().vastLoadTimeout),this.controller.getSettings().omidMode&&window.console.warn("The additional setting `omidMode` has been removed. Use `omidVendorAccess` instead."),this.controller.getSettings().omidVendorAccess&&(n.omidAccessModeRules={},t=this.controller.getSettings().omidVendorAccess,Object.keys(t).forEach(function(e){n.omidAccessModeRules[e]=t[e]})),n.linearAdSlotWidth=this.controller.getPlayerWidth(),n.linearAdSlotHeight=this.controller.getPlayerHeight(),n.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth(),n.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight(),n.setAdWillAutoPlay(this.controller.adsWillAutoplay()),n.setAdWillPlayMuted(this.controller.adsWillPlayMuted());var i=this.controller.getSettings().adsRequest;i&&"object"===(void 0===i?"undefined":xt(i))&&Object.keys(i).forEach(function(e){n[e]=i[e]}),this.adsLoader.requestAds(n),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-request",AdsRequest:n})},l$b.prototype.onAdsManagerLoaded=function(e){this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onAdLog.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this)),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-manager",adsManager:this.adsManager}),this.autoPlayAdBreaks||this.initAdsManager();e=this.controller.getSettings().preventLateAdStart;e&&this.isAdTimedOut||this.controller.onAdsReady(),this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()},l$b.prototype.onAdsLoaderError=function(e){window.console.warn("AdsLoader error: "+e.getError()),this.controller.onErrorLoadingAds(e),this.adsManager&&this.adsManager.destroy()},l$b.prototype.initAdsManager=function(){try{var e=this.controller.getPlayerWidth(),t=this.controller.getPlayerHeight();this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.init(e,t,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.initializeAdDisplayContainer()}catch(e){this.onAdError(e)}},l$b.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var e in this.controller.getSettings().adsRenderingSettings)""!==e&&(this.adsRenderingSettings[e]=this.controller.getSettings().adsRenderingSettings[e])},l$b.prototype.onAdError=function(e){var t=void 0!==e.getError?e.getError():e.stack;window.console.warn("Ad error: "+t),this.adsManager.destroy(),this.controller.onAdError(e),this.adsActive=!1,this.adPlaying=!1},l$b.prototype.onAdBreakReady=function(e){this.adBreakReadyListener(e)},l$b.prototype.onContentPauseRequested=function(e){this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e)},l$b.prototype.onContentResumeRequested=function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},l$b.prototype.onAllAdsCompleted=function(e){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},l$b.prototype.onAdLoaded=function(e){e.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())},l$b.prototype.onAdStarted=function(e){this.currentAd=e.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()},l$b.prototype.onAdPaused=function(){this.controller.onAdsPaused()},l$b.prototype.onAdResumed=function(e){this.controller.onAdsResumed()},l$b.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)},l$b.prototype.onAdLog=function(e){this.controller.onAdLog(e)},l$b.prototype.onAdPlayheadTrackerInterval=function(){var e,t,n,i,r;null!==this.adsManager&&(e=this.adsManager.getRemainingTime(),n=0<(n=(t=this.currentAd.getDuration())-e)?n:0,r=void(i=0),this.currentAd.getAdPodInfo()&&(r=this.currentAd.getAdPodInfo().getAdPosition(),i=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(n,e,t,r,i))},l$b.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),(this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)||!this.adsManager)&&this.controller.onNoPostroll(),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},l$b.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},l$b.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(e){this.onAdError(e)}}},l$b.prototype.onAdTimeout=function(){this.isAdTimedOut=!0},l$b.prototype.onPlayerReady=function(){this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&"onLoad"===this.controller.getSettings().requestMode&&this.requestAds()},l$b.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},l$b.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},l$b.prototype.onPlayerVolumeChanged=function(e){this.adsManager&&this.adsManager.setVolume(e),this.adMuted=0==e},l$b.prototype.onPlayerResize=function(e,t){this.adsManager&&(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))},l$b.prototype.getCurrentAd=function(){return this.currentAd},l$b.prototype.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e},l$b.prototype.isAdPlaying=function(){return this.adPlaying},l$b.prototype.isAdMuted=function(){return this.adMuted},l$b.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},l$b.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},l$b.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},l$b.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},l$b.prototype.setVolume=function(e){this.adsManager.setVolume(e),this.adMuted=0==e},l$b.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0))},l$b.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},l$b.prototype.addEventListener=function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)},l$b.prototype.getAdsManager=function(){return this.adsManager};var Mt=function Controller(e,t){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(t);var n={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},t=Object.assign({},n,t.contribAdsSettings||{});this.playerWrapper=new VZb(e,t,this),this.adUi=new WZb(this),this.sdkImpl=new l$b(this)};Mt.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!(l$b.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1}),disableAdControls:!1,prerollTimeout:1e3,preventLateAdStart:!1,requestMode:"onLoad",showControlsForJSAds:!0,timeout:5e3},Mt.prototype.initWithSettings=function(e){this.settings=Object.assign({},Mt.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),!(this.showCountdown=!0)===this.settings.showCountdown&&(this.showCountdown=!1)},Mt.prototype.warnAboutDeprecatedSettings=function(){var t=this;["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"].forEach(function(e){void 0!==t.settings[e]&&console.warn("WARNING: videojs.ima setting "+e+" is deprecated")})},Mt.prototype.getSettings=function(){return this.settings},Mt.prototype.getIsMobile=function(){return this.isMobile},Mt.prototype.getIsIos=function(){return this.isIos},Mt.prototype.injectAdContainerDiv=function(e){this.playerWrapper.injectAdContainerDiv(e)},Mt.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},Mt.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},Mt.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},Mt.prototype.requestAds=function(){this.sdkImpl.requestAds()},Mt.prototype.setSetting=function(e,t){this.settings[e]=t},Mt.prototype.onErrorLoadingAds=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},Mt.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},Mt.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},Mt.prototype.setVolume=function(e){this.playerWrapper.setVolume(e),this.sdkImpl.setVolume(e)},Mt.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()},Mt.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},Mt.prototype.onAdError=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},Mt.prototype.onAdBreakStart=function(e){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(e)},Mt.prototype.showAdContainer=function(){this.adUi.showAdContainer()},Mt.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},Mt.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},Mt.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},Mt.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},Mt.prototype.onAdPlayheadUpdated=function(e,t,n,i,r){this.adUi.updateAdUi(e,t,n,i,r)},Mt.prototype.onAdLog=function(e){this.playerWrapper.onAdLog(e)},Mt.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},Mt.prototype.playContent=function(){this.playerWrapper.play()},Mt.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart(),this.playerWrapper.onAdStart()},Mt.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()},Mt.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad(),this.playerWrapper.onAdStart()},Mt.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},Mt.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},Mt.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},Mt.prototype.onPlayerResize=function(e,t){this.sdkImpl.onPlayerResize(e,t)},Mt.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},Mt.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()},Mt.prototype.onContentAndAdsCompleted=function(){for(var e in this.contentAndAdsEndedListeners)"function"==typeof this.contentAndAdsEndedListeners[e]&&this.contentAndAdsEndedListeners[e]()},Mt.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},Mt.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},Mt.prototype.onAdTimeout=function(){this.sdkImpl.onAdTimeout()},Mt.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},Mt.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},Mt.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},Mt.prototype.onPlayerVolumeChanged=function(e){this.adUi.onPlayerVolumeChanged(e),this.sdkImpl.onPlayerVolumeChanged(e)},Mt.prototype.setContentWithAdTag=function(e,t){this.reset(),this.settings.adTagUrl=t||this.settings.adTagUrl,this.playerWrapper.changeSource(e)},Mt.prototype.setContentWithAdsResponse=function(e,t){this.reset(),this.settings.adsResponse=t||this.settings.adsResponse,this.playerWrapper.changeSource(e)},Mt.prototype.setContentWithAdsRequest=function(e,t){this.reset(),this.settings.adsRequest=t||this.settings.adsRequest,this.playerWrapper.changeSource(e)},Mt.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset(),this.adUi.reset()},Mt.prototype.addContentEndedListener=function(e){this.playerWrapper.addContentEndedListener(e)},Mt.prototype.addContentAndAdsEndedListener=function(e){this.contentAndAdsEndedListeners.push(e)},Mt.prototype.setAdBreakReadyListener=function(e){this.sdkImpl.setAdBreakReadyListener(e)},Mt.prototype.setShowCountdown=function(e){this.adUi.setShowCountdown(e),this.showCountdown=e,this.adUi.countdownDiv.style.display=this.showCountdown?"block":"none"},Mt.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},Mt.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()},Mt.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},Mt.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()},Mt.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},Mt.prototype.changeAdTag=function(e){this.reset(),this.settings.adTagUrl=e},Mt.prototype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},Mt.prototype.resumeAd=function(){this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds()},Mt.prototype.togglePlayback=function(){this.playerWrapper.togglePlayback()},Mt.prototype.adsWillAutoplay=function(){return void 0!==this.settings.adsWillAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},Mt.prototype.adsWillPlayMuted=function(){return void 0!==this.settings.adsWillPlayMuted?this.settings.adsWillPlayMuted:void 0!==this.settings.adWillPlayMuted?this.settings.adWillPlayMuted:void 0!==this.playerWrapper.getPlayerOptions().muted?this.playerWrapper.getPlayerOptions().muted:0==this.playerWrapper.getVolume()},Mt.prototype.triggerPlayerEvent=function(e,t){this.playerWrapper.triggerPlayerEvent(e,t)};function n$b(e,t,n){this.vjsPlayer=e,this.daiController=n,this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("pause",this.onPause.bind(this)),this.vjsPlayer.on("play",this.onPlay.bind(this)),this.vjsPlayer.on("seeked",this.onSeekEnd.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),this.vjsPlayer.ads(t)}n$b.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.daiController.onPlayerDisposed()},n$b.prototype.onPause=function(){this.daiController.isInAdBreak()&&this.vjsControls.show()},n$b.prototype.onPlay=function(){this.daiController.isInAdBreak()&&this.vjsControls.hide()},n$b.prototype.onSeekEnd=function(){this.daiController.onSeekEnd(this.vjsPlayer.currentTime())},n$b.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.daiController.onPlayerReady()},n$b.prototype.getStreamPlayer=function(){return this.h5Player},n$b.prototype.getVjsPlayer=function(){return this.vjsPlayer},n$b.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},n$b.prototype.getPlayerId=function(){return this.vjsPlayer.id()},n$b.prototype.onAdError=function(e){this.vjsControls.show();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})},n$b.prototype.onAdBreakStart=function(){this.vjsControls.hide()},n$b.prototype.onAdBreakEnd=function(){this.vjsControls.show()},n$b.prototype.reset=function(){this.vjsControls.show()};function o$b(e){this.daiController=e,this.streamPlayer=null,this.vjsPlayer=null,this.streamManager=null,this.uiSettings=new google.ima.dai.api.UiSettings,this.isAdBreak=!1,this.isSnapback=!1,this.snapForwardTime=0,this.timedMetadata,this.metadataLoaded={},this.SOURCE_TYPES={hls:"application/x-mpegURL",dash:"application/dash+xml"}}o$b.prototype.initImaDai=function(){this.streamPlayer=this.daiController.getStreamPlayer(),this.vjsPlayer=this.daiController.getVjsPlayer(),this.createAdUiDiv(),this.daiController.getSettings().locale&&this.uiSettings.setLocale(this.daiController.getSettings().locale),this.streamManager=new google.ima.dai.api.StreamManager(this.streamPlayer,this.adUiDiv,this.uiSettings),this.streamPlayer.addEventListener("pause",this.onStreamPause),this.streamPlayer.addEventListener("play",this.onStreamPlay),this.streamManager.addEventListener([google.ima.dai.api.StreamEvent.Type.LOADED,google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED],this.onStreamEvent.bind(this),!1),this.vjsPlayer.textTracks().onaddtrack=this.onAddTrack.bind(this),this.vjsPlayer.trigger({type:"stream-manager",StreamManager:this.streamManager}),this.requestStream()},o$b.prototype.onAddTrack=function(e){var l=this,u=e.track;"metadata"===u.kind&&(u.mode="hidden",u.oncuechange=function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=u.activeCues_[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s={};s[a.value.key]=a.value.data,l.streamManager.onTimedMetadata(s)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}})},o$b.prototype.createAdUiDiv=function(){var e=document.createElement("div");e.id="ad-ui",e.style.height="calc(100% - 3em)",this.streamPlayer.parentNode.appendChild(e),this.adUiDiv=e},o$b.prototype.onStreamPause=function(){this.isAdBreak&&(this.adUiDiv.style.display="none")},o$b.prototype.onStreamPlay=function(){this.isAdBreak&&(this.adUiDiv.style.display="block")},o$b.prototype.onSeekEnd=function(e){var t;"live"!==this.daiController.getSettings().streamType&&(this.isSnapback?this.isSnapback=!1:(t=this.streamManager.previousCuePointForStreamTime(e))&&!t.played&&(this.isSnapback=!0,this.snapForwardTime=e,this.vjsPlayer.currentTime(t.start)))},o$b.prototype.onStreamEvent=function(e){switch(e.type){case google.ima.dai.api.StreamEvent.Type.LOADED:this.loadUrl(e.getStreamData().url);break;case google.ima.dai.api.StreamEvent.Type.ERROR:window.console.warn("Error loading stream, attempting to play backup stream. "+e.getStreamData().errorMessage),this.daiController.onErrorLoadingAds(e),this.daiController.getSettings().fallbackStreamUrl&&this.loadurl(this.daiController.getSettings().fallbackStreamUrl);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:this.isAdBreak=!0,this.adUiDiv.style.display="block",this.daiController.onAdBreakStart();break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:this.isAdBreak=!1,this.adUiDiv.style.display="none",this.daiController.onAdBreakEnd(),this.snapForwardTime&&this.snapForwardTime>this.vjsPlayer.currentTime()&&(this.vjsPlayer.currentTime(this.snapForwardTime),this.snapForwardTime=0)}},o$b.prototype.loadUrl=function(t){this.vjsPlayer.ready(function(){var e=this.daiController.getSettings().streamFormat;this.vjsPlayer.src({src:t,type:this.SOURCE_TYPES[e]});var e=this.daiController.getSettings().bookmarkTime;e&&(e=this.streamManager.streamTimeForContentTime(e),this.isSnapback=!0,this.vjsPlayer.currentTime(e))}.bind(this))},o$b.prototype.requestStream=function(){var e=void 0,t=this.daiController.getSettings().streamType;"vod"===t?((e=new google.ima.dai.api.VODStreamRequest).contentSourceId=this.daiController.getSettings().cmsId,e.videoId=this.daiController.getSettings().videoId):"live"===t?(e=new google.ima.dai.api.LiveStreamRequest).assetKey=this.daiController.getSettings().assetKey:window.console.warn("No valid stream type selected"),e.format=this.daiController.getSettings().streamFormat,this.daiController.getSettings().apiKey&&(e.apiKey=this.daiController.getSettings().apiKey),this.daiController.getSettings().authToken&&(e.authToken=this.daiController.getSettings().authToken),this.daiController.getSettings().adTagParameters&&(e.adTagParameters=this.daiController.getSettings().adTagParameters),this.daiController.getSettings().streamActivityMonitorId&&(e.streamActivityMonitorId=this.daiController.getSettings().streamActivityMonitorId),this.daiController.getSettings().omidMode&&(e.omidAccessModeRules={},(t=this.daiController.getSettings().omidMode).FULL&&(e.omidAccessModeRules[google.ima.OmidAccessMode.FULL]=t.FULL),t.DOMAIN&&(e.omidAccessModeRules[google.ima.OmidAccessMode.DOMAIN]=t.DOMAIN),t.LIMITED&&(e.omidAccessModeRules[google.ima.OmidAccessMode.LIMITED]=t.LIMITED)),this.streamManager.requestStream(e),this.vjsPlayer.trigger({type:"stream-request",StreamRequest:e})},o$b.prototype.onPlayerReady=function(){this.initImaDai()},o$b.prototype.onPlayerDisposed=function(){this.streamManager&&this.streamManager.reset()},o$b.prototype.getStreamManager=function(){return this.StreamManager};var It=function DaiController(e,t){this.inAdBreak=!1,this.settings={},this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(t);var n={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},t=Object.assign({},n,t.contribAdsSettings||{});this.playerWrapper=new n$b(e,t,this),this.sdkImpl=new o$b(this)};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}It.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!(o$b.prototype.reset=function(){this.StreamManager&&this.StreamManager.reset()}),disableAdControls:!1,showControlsForJSAds:!0},It.prototype.initWithSettings=function(e){this.settings=Object.assign({},It.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),!(this.showCountdown=!0)===this.settings.showCountdown&&(this.showCountdown=!1)},It.prototype.warnAboutDeprecatedSettings=function(){var t=this;[].forEach(function(e){void 0!==t.settings[e]&&console.warn("WARNING: videojs.imaDai setting "+e+" is deprecated")})},It.prototype.getSettings=function(){return this.settings},It.prototype.getIsMobile=function(){return this.isMobile},It.prototype.getIsIos=function(){return this.isIos},It.prototype.getStreamPlayer=function(){return this.playerWrapper.getStreamPlayer()},It.prototype.getVjsPlayer=function(){return this.playerWrapper.getVjsPlayer()},It.prototype.requestStream=function(){this.sdkImpl.requestStream()},It.prototype.setSetting=function(e,t){this.settings[e]=t},It.prototype.onErrorLoadingAds=function(e){this.playerWrapper.onAdError(e)},It.prototype.onAdError=function(e){this.playerWrapper.onAdError(e)},It.prototype.onAdBreakStart=function(){this.inAdBreak=!0,this.playerWrapper.onAdBreakStart()},It.prototype.onAdBreakEnd=function(){this.inAdBreak=!1,this.playerWrapper.onAdBreakEnd()},It.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},It.prototype.isInAdBreak=function(){return this.inAdBreak},It.prototype.onSeekEnd=function(e){this.sdkImpl.onSeekEnd(e)},It.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},It.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset()},It.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},It.prototype.getStreamManager=function(){return this.sdkImpl.getStreamManager()},It.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},It.prototype.streamWillAutoplay=function(){return void 0!==this.settings.streamWillAutoplay?this.settings.streamWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},It.prototype.triggerPlayerEvent=function(e,t){this.playerWrapper.triggerPlayerEvent(e,t)};function q$b(e,t){this.controller=new Mt(e,t),this.addContentAndAdsEndedListener=function(e){this.controller.addContentAndAdsEndedListener(e)}.bind(this),this.addContentEndedListener=function(e){this.controller.addContentEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.changeAdTag=function(e){this.controller.changeAdTag(e)}.bind(this),this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this),this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this),this.pauseAd=function(){this.controller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(e){this.controller.setAdBreakReadyListener(e)}.bind(this),this.setContentWithAdTag=function(e,t){this.controller.setContentWithAdTag(e,t)}.bind(this),this.setContentWithAdsResponse=function(e,t){this.controller.setContentWithAdsResponse(e,t)}.bind(this),this.setContentWithAdsRequest=function(e,t){this.controller.setContentWithAdsRequest(e,t)}.bind(this),this.setShowCountdown=function(e){this.controller.setShowCountdown(e)}.bind(this)}function r$b(e,t){this.controller=new It(e,t),this.streamEndedListener=function(e){this.controller.addStreamEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.getStreamManager=function(){return this.controller.getStreamManager()}.bind(this)}function t$b(e,t){_classCallCheck(this,t$b),"hls"===(e=e.toLowerCase())||"dash"===e?"dash"!==e?"string"==typeof t?(this.streamFormat=e,this.assetKey=t):window.console.error("assetKey error: value must be string."):window.console.error("streamFormat error: DASH streams are notcurrently supported by this plugin."):window.console.error("VodStream error: incorrect streamFormat.")}function u$b(e,t,n){_classCallCheck(this,u$b),"hls"===(e=e.toLowerCase())||"dash"===e?"dash"!==e?"string"==typeof t?"string"==typeof n?(this.streamFormat=e,this.cmsId=t,this.videoId=n):window.console.error("videoId error: value must be string."):window.console.error("cmsId error: value must be string."):window.console.error("streamFormat error: DASH streams are notcurrently supported by this plugin."):window.console.error("VodStream error: incorrect streamFormat.")}function v$b(e,t){if(e instanceof t$b)t.streamType="live",t.assetKey=e.assetKey;else{if(!(e instanceof u$b))return void window.console.error("initDai() first parameter must be an instance of LiveStream or VodStream.");t.streamType="vod",t.cmsId=e.cmsId,t.videoId=e.videoId}t.streamFormat=e.streamFormat,this.imaDai=new r$b(this,t)}var Lt=$e.a.registerPlugin||$e.a.plugin;Lt("ima",function init(e){this.ima=new q$b(this,e)}),Lt("imaDai",v$b);var Ot="6.0.0";const Dt=$e.a.getComponent("Flash");var Rt=!$e.a.browser.IS_IPHONE;function E$b(e){jt(this,$e.a.mergeOptions(Bt,e))}const Nt=$e.a.registerPlugin||$e.a.plugin,Bt={header:"",code:"",message:"",timeout:45e3,backgroundTimeout:3e5,dismiss:Rt,errors:{1:{type:"MEDIA_ERR_ABORTED",headline:"The video download was cancelled"},2:{type:"MEDIA_ERR_NETWORK",headline:"The video connection was lost, please confirm you are connected to the internet"},3:{type:"MEDIA_ERR_DECODE",headline:"The video is bad or in a format that cannot be played on your browser"},4:{type:"MEDIA_ERR_SRC_NOT_SUPPORTED",headline:"This video is either unavailable or not supported in this browser"},5:{type:"MEDIA_ERR_ENCRYPTED",headline:"The video you are trying to watch is encrypted and we do not know how to decrypt it"},unknown:{type:"MEDIA_ERR_UNKNOWN",headline:"An unanticipated problem was encountered, check back soon and try again"},"-1":{type:"PLAYER_ERR_NO_SRC",headline:"No video has been loaded"},"-2":{type:"PLAYER_ERR_TIMEOUT",headline:"It looks like you're having playback issues. Reloading the video may help."},PLAYER_ERR_DOMAIN_RESTRICTED:{headline:"This video is restricted from playing on your current domain"},PLAYER_ERR_IP_RESTRICTED:{headline:"This video is restricted at your current IP address"},PLAYER_ERR_GEO_RESTRICTED:{headline:"This video is restricted from playing in your current geographic region"},FLASHLS_ERR_CROSS_DOMAIN:{headline:"The video could not be loaded: crossdomain access denied."}}},jt=function(u,c){let n,i,r;function Ss1(e){c.errors=$e.a.mergeOptions(c.errors,e),Object.keys(c.errors).forEach(e=>{const t=c.errors[e];t.type||(t.type=e)})}const o=[];Ss1();function Vs1(e,t){function jt1(){if(!u.error()){var e=u.$(".vjs-tech");if(e&&"application/x-shockwave-flash"===e.type&&!e.vjs_getProperty)return void u.error({code:-2,type:"PLAYER_ERR_TIMEOUT"});if(u.paused())return a();if(u.ended())return a()}t.call(this)}u.on(e,jt1),o.push([e,jt1])}const a=function(){u.error()&&-2===u.error().code&&u.error(null),u.clearTimeout(i),u.clearTimeout(n),r&&(r=!1,u.removeClass("vjs-waiting"));var e=[1/0,-1],t=(e,t)=>-1!==e.indexOf(t);"hidden"===Xe.a.visibilityState&&(u.muted()||t(e,c.backgroundTimeout))||"visible"===Xe.a.visibilityState&&t(e,c.timeout)||(i=u.setTimeout(function(){u.error()||u.paused()||u.ended()||(r=!0,u.addClass("vjs-waiting"))},1e3),n=u.setTimeout(function(){u.error()||u.paused()||u.ended()||u.error({code:-2,type:"PLAYER_ERR_TIMEOUT"})},"hidden"===Xe.a.visibilityState?c.backgroundTimeout:c.timeout))},e=function(){for(var e;o.length;)e=o.shift(),u.off(e[0],e[1]);u.clearTimeout(n),u.clearTimeout(i)},d=function(){let t=0;e(),a(),Vs1(["timeupdate","adtimeupdate"],function(){var e=u.currentTime();e!==t&&(t=e,a())}),u.off(Xe.a,"visibilitychange",d),u.on(Xe.a,"visibilitychange",d)},t=function(){u.currentSrc()||u.error({code:-1,type:"PLAYER_ERR_NO_SRC"})},s=function(){let e="",t=u.error();const n=Xe.a.createElement("div");let i="";if(t){u.off(Xe.a,"visibilitychange",d),t=$e.a.mergeOptions(t,c.errors[t.code||t.type||0]),t.message&&(e=`<div class="vjs-errors-details">${u.localize("Technical details")}
        : <div class="vjs-errors-message">${u.localize(t.message)}</div>
        </div>`),4===t.code&&Dt&&!Dt.isSupported()&&(o=u.localize("If you are using an older browser please try upgrading or installing Flash."),e+=`<span class="vjs-errors-flashmessage">${o}</span>`);const a=u.getChild("errorDisplay");n.className="vjs-errors-dialog";var r=`<div class="vjs-errors-code"><b>${this.localize("Error Code")}:</b> ${t.type||t.code}</div>`,o=-2===t.code;i=`<div class="vjs-errors-content-container">
        <h2 class="vjs-errors-headline">${this.localize(t.headline)}</h2>
        ${o?"":r}
        ${o?"":e}
      </div>`;var r=a.closeable(!("dismiss"in t)||t.dismiss);if(o){i+=`<div class="vjs-errors-timeout-button-container">
         <button>${this.localize("Reload Video")}</button>
         <button>${this.localize("Dismiss")}</button>
       </div>`,n.innerHTML=i,a.fillWith(n),a.getChild("closeButton").hide();const s=a.el().querySelector(".vjs-errors-timeout-button-container > button:first-child"),l=a.el().querySelector(".vjs-errors-timeout-button-container > button:last-child");u.on(s,"click",function(){var e=u.currentSource();u.reset(),u.src(e)}),u.on(l,"click",function(){a.close()}),a.one("modalclose",()=>{u.off(s),u.off(l)})}else r?(i+=`<div class="vjs-errors-ok-button-container">
          <button class="vjs-errors-ok-button">${this.localize("OK")}</button>
        </div>`,n.innerHTML=i,a.fillWith(n),a.contentEl().firstChild.appendChild(a.getChild("closeButton").el()),r=a.el().querySelector(".vjs-errors-ok-button"),u.on(r,"click",function(){a.close()})):(n.innerHTML=i,a.fillWith(n));(u.currentWidth()<=600||u.currentHeight()<=250)&&a.addClass("vjs-xs"),a.one("modalclose",()=>u.error(null))}},l=function(){e(),u.removeClass("vjs-errors"),u.off("play",d),u.off(Xe.a,"visibilitychange",d),u.off("play",t),u.off("dispose",l),u.off(["aderror","error"],s)};function $s1(e){l(),jt(u,$e.a.mergeOptions(Bt,e))}$s1.extend=e=>Ss1(e),$s1.getAll=()=>$e.a.mergeOptions(c.errors),$s1.timeout=function(e){if(void 0===e)return c.timeout;e!==c.timeout&&(c.timeout=e,u.paused()||d())},$s1.backgroundTimeout=function(e){if(void 0===e)return c.backgroundTimeout;e!==c.backgroundTimeout&&(c.backgroundTimeout=e,u.paused()||d())},$s1.disableProgress=()=>{},u.on("play",d),u.on("play",t),u.on("dispose",l),u.on(["aderror","contenterror","error"],s),u.ready(()=>{u.addClass("vjs-errors")}),u.paused()||d(),$s1.VERSION=Ot,u.errors=$s1};["extend","getAll"].forEach(e=>{E$b[e]=function(){$e.a.log.warn(`The errors.${e}() method is not available until the plugin has been initialized!`)}}),E$b.VERSION=Ot,Nt("errors",E$b);var Ft=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),Ut=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function setupDefaultValues(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function startPlayback(e,t){var i,n=e.muted,r=e.timeout,e=e.inline,t=t(),o=t.element,t=t.source,a=void 0,s=void 0;return!0===(o.muted=n)&&o.setAttribute("muted","muted"),!0===e&&o.setAttribute("playsinline","playsinline"),o.src=t,new Promise(function(n){a=o.play(),i=setTimeout(function(){s(!1,new Error("Timeout "+r+" ms has been reached"))},r),s=function sendOutput(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(i),n({result:e,error:t})},void 0!==a?a.then(function(){return s(!0)}).catch(function(e){return s(!1,e)}):s(!0)})}var Vt={audio:function audio(e){return startPlayback(e=setupDefaultValues(e),function(){return{element:document.createElement("audio"),source:URL.createObjectURL(Ft)}})},video:function can_autoplay_es_video(e){return startPlayback(e=setupDefaultValues(e),function(){return{element:document.createElement("video"),source:URL.createObjectURL(Ut)}})}},Ht=function(){function VideoPlayer(e){c()(this,VideoPlayer),d()(this,"selectors",{blockName:"videoPlayer"}),d()(this,"settings",{autoplay:!1,muted:!1,seekSeconds:0}),d()(this,"metrics",{playbackPosition:0,quartilePosition:-1}),d()(this,"playerId",null),this.$el=S()(e),this.playerId=this.$el.attr("data-player-id"),this.$body=S()("body"),this.settings.videoId=this.$el.attr("data-video-id"),this.settings.videoTitle=this.$el.attr("data-video-title"),this.settings.autoplay=this.$el.is("[data-autoplay]"),this.settings.muted=this.$el.is("[data-muted]"),this.settings.seekSeconds=this.$el.attr("data-seek-seconds")||0,this.settings.dfpUrl=this.$el.attr("data-dfp-url")}return o()(VideoPlayer,[{key:"video",get:function get(){return{id:this.settings.videoId,title:this.settings.videoTitle,duration:this.videoDuration}}},{key:"videoDuration",get:function get(){return-1}},{key:"init",value:function init(){var t=this;this.$el.on("click","[data-card]",function(e){t.$el.data("player-instance").play()}),this.$el.removeAttr("data-playback-started"),this.$el.data("player-instance",this),this.$el.on("VideoPlayer:playVideoRequested",this.onPlayVideoRequested.bind(this)),this.$el.on("VideoPlayer:pauseVideoRequested",this.onPauseVideoRequested.bind(this)),this.$el.on("VideoPlayer:stopVideoRequested",this.onStopVideoRequested.bind(this)),this.$el.on("VideoPlayer:muteVideoRequested",this.onMuteVideoRequested.bind(this)),this.$el.on("VideoPlayer:unmuteVideoRequested",this.onUnmuteVideoRequested.bind(this)),this.$el.on("VideoPlayer:loopVideoRequested",this.onLoopVideoRequested.bind(this)),this.$el.on("VideoPlayer:seekToVideoRequested",this.onSeekToVideoRequested.bind(this))}},{key:"onVideoReady",value:function onVideoReady(e){console.log("Player ready"),this.$el.attr("data-player-ready",""),this.$el.trigger("Video:onVideoLoaded",{playerId:this.playerId,video:this.video})}},{key:"onVideoStart",value:function onVideoStart(e){this.resetMetrics(),this.$el.attr("data-playback-started",""),this.$el.trigger("Video:onVideoPlaybackStarted",{playerId:this.playerId,video:this.video})}},{key:"onVideoTimeUpdate",value:function onVideoTimeUpdate(e){e=e.secondsElapsed;this.$el.trigger("Video:onVideoPlaybackTimeUpdate",{playerId:this.playerId,video:this.video,secondsElapsed:e}),this.sendVideoPlaybackMetricEvents(e)}},{key:"onVideoStop",value:function onVideoStop(e){this.$el.trigger("Video:onVideoPlaybackStopped",{playerId:this.playerId,video:this.video})}},{key:"onVideoMute",value:function onVideoMute(e){this.$el.attr("data-muted",""),this.$el.trigger("Video:onVideoPlaybackMuted",{playerId:this.playerId,video:this.video})}},{key:"onVideoUnMute",value:function onVideoUnMute(e){this.$el.removeAttr("data-muted"),this.$el.trigger("Video:onVideoPlaybackUnMuted",{playerId:this.playerId,video:this.video})}},{key:"onVideoPause",value:function onVideoPause(e){this.$el.attr("data-playback-paused",""),this.$el.trigger("Video:onVideoPlaybackPaused",{playerId:this.playerId,video:this.video})}},{key:"onVideoUnPause",value:function onVideoUnPause(e){this.$el.removeAttr("data-playback-paused"),this.$el.trigger("Video:onVideoPlaybackUnPaused",{playerId:this.playerId,video:this.video})}},{key:"onVideoEnd",value:function onVideoEnd(e){this.$el.trigger("Video:onVideoEnded",{playerId:this.playerId,video:this.video})}},{key:"onPlayVideoRequested",value:function onPlayVideoRequested(e,t){this.play()}},{key:"onPauseVideoRequested",value:function onPauseVideoRequested(e,t){this.pause()}},{key:"onStopVideoRequested",value:function onStopVideoRequested(e,t){this.stop()}},{key:"onMuteVideoRequested",value:function onMuteVideoRequested(e,t){this.mute()}},{key:"onUnmuteVideoRequested",value:function onUnmuteVideoRequested(e,t){this.unMute()}},{key:"onLoopVideoRequested",value:function onLoopVideoRequested(e,t){t.loop&&this.loop(t.loop)}},{key:"onSeekToVideoRequested",value:function onSeekToVideoRequested(e,t){t.playerId===this.playerTarget&&t.seconds&&this.seekTo(t.seconds,t.allowSeekAhead)}},{key:"play",value:function play(){}},{key:"pause",value:function pause(){}},{key:"stop",value:function stop(){}},{key:"mute",value:function mute(){}},{key:"unMute",value:function unMute(){}},{key:"loop",value:function loop(e){}},{key:"seekTo",value:function seekTo(e,t){}},{key:"playPause",value:function playPause(){this.$el.is("[data-playback-paused]")?this.play():this.pause()}},{key:"resetMetrics",value:function resetMetrics(){this.metrics={playbackPosition:0,quartilePosition:-1}}},{key:"sendVideoPlaybackMetricEvents",value:function sendVideoPlaybackMetricEvents(e){var t=this.video,n=this.videoDuration,i=e/n*100;if(n<=0)console.warn("sendVideoPlaybackMetricEvents: got invalid duration, bailing out");else{for(;e>this.metrics.playbackPosition+10;)this.metrics.playbackPosition+=5;e>=this.metrics.playbackPosition+5&&(this.metrics.playbackPosition+=5,this.$el.trigger("Video:onVideoTimeIntervalUpdate",{playerId:this.playerId,video:t,secondsElapsed:this.metrics.playbackPosition}));n=null;if(i>=this.metrics.quartilePosition)if(-1===this.metrics.quartilePosition){if(i>=this.metrics.quartilePosition+25)for(this.metrics.quartilePosition=0;i>=this.metrics.quartilePosition;)this.metrics.quartilePosition+=25}else n=this.metrics.quartilePosition,this.metrics.quartilePosition+=25,100===this.metrics.quartilePosition&&(this.metrics.quartilePosition=95);null!==n&&this.$el.trigger("Video:onVideoQuartileCompleted",{playerId:this.playerId,video:t,secondsElapsed:this.metrics.playbackPosition,quartile:n=95===n?100:n})}}},{key:"updateView",value:function updateView(e){this.settings.videoId=e.attr("data-video-id"),this.settings.videoTitle=e.attr("data-video-title"),this.settings.dfpUrl=this.$el.attr("data-dfp-url")}}]),VideoPlayer}(),qt=n("./node_modules/detect-browser/es/index.js");function _createForOfIteratorHelper(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function F(){};return{s:i,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function s(){r=r.call(t)},n:function n(){var e=r.next();return l=e.done,e},e:function e(t){u=!0,a=t},f:function f(){try{l||null==r.return||r.return()}finally{if(u)throw a}}}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Wt=function(){function Clip(t){var n=this;c()(this,Clip),d()(this,"_attributes",{adInitialized:"data-has-been-initialized"}),this.firedBeacons=new Set,Object.keys(t).forEach(function(e){n[e]=t[e]})}return o()(Clip,[{key:"getDuration",value:function getDuration(){return Math.round(this.duration/1e3)}},{key:"onStart",value:function onStart(){this.onQuartileBeacon("start")}},{key:"onFirstQuartile",value:function onFirstQuartile(){this.onQuartileBeacon("firstQuartile")}},{key:"onMidpoint",value:function onMidpoint(){this.onQuartileBeacon("midpoint")}},{key:"onThirdQuartile",value:function onThirdQuartile(){this.onQuartileBeacon("thirdQuartile")}},{key:"onComplete",value:function onComplete(){this.onQuartileBeacon("complete")}},{key:"onQuartileBeacon",value:function onQuartileBeacon(e){this.firedBeacons.has(e)||(this.firedBeacons.add(e),this.onTrackingEvent(e))}},{key:"onTrackingEvent",value:function onTrackingEvent(t){if("click"!==t){var e=this.trackingUrls.find(function(e){return e.event===t});e&&this._fireTrackingEvent(e.url)}else{var n,i=_createForOfIteratorHelper(this.clickTrackingUrls);try{for(i.s();!(n=i.n()).done;){var r=n.value;this._fireTrackingEvent(r)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"beginCompanionTracking",value:function beginCompanionTracking(e,t){var n=this;if(t&&t.trackingUrls){var i,r=S()(e),o=_createForOfIteratorHelper(t.trackingUrls);try{var a=function _loop(){var e=i.value;r.on(e.event,function(){n._fireTrackingEvent(e.url)})};for(o.s();!(i=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}(e&&e.getAttribute(this._attributes.adInitialized))!==this.id&&(r.trigger("creativeView"),e.setAttribute(this._attributes.adInitialized,this.id))}}},{key:"endCompanionTracking",value:function endCompanionTracking(e){if(e&&e.trackingUrls){var t,n=_createForOfIteratorHelper(e.trackingUrls);try{for(n.s();!(t=n.n()).done;){var i=t.value;S()(e).off(i.event)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"_fireTrackingEvent",value:function _fireTrackingEvent(e){S.a.get(e)}},{key:"_getTrackingEvents",value:function _getTrackingEvents(){return!this.trackingUrls||this.trackingUrls.length<=0?[]:this.trackingUrls.map(function(e){return e.event})}}]),Clip}();function getTimeString(e){return e.h?e.h+":"+e.m+":"+e.s:e.m?e.m+":"+e.s:e.s}function secondsToTime(e){var t=(t=Math.floor(e/3600))<10?"0"+(0<=t?t.toString():0):t.toString(),n=e%3600,e=(e=Math.floor(n/60).toString())<10?"0"+(0<=e?e.toString():0):e.toString(),n=Math.floor(n%60);return{h:t,m:e,s:n=n<10?"0"+(0<=n?n.toString():0):n.toString()}}function secondsToTimeString(e){return getTimeString(secondsToTime(e))}function Playlist_createForOfIteratorHelper(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function Playlist_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return Playlist_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Playlist_arrayLikeToArray(e,t):void 0}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function F(){};return{s:i,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function s(){r=r.call(t)},n:function n(){var e=r.next();return l=e.done,e},e:function e(t){u=!0,a=t},f:function f(){try{l||null==r.return||r.return()}finally{if(u)throw a}}}}function Playlist_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Gt=function(){function Playlist(e,t){c()(this,Playlist),d()(this,"_classes",{adInfo:"vjs-ad-info",adCount:"vjs-ad-info-count",adDuration:"vjs-ad-info-duration",adLink:"vjs-ad-info-url",adCompanion:"vjs-ad-info-companion"}),d()(this,"_attributes",{playerStartTime:"data-start-time",adHasCompanion:"data-has-companion",adInitialized:"data-has-been-initialized"}),this.clips=(e||[]).map(function(e){return new Wt(e)}),this.player=t,this.init()}return o()(Playlist,[{key:"init",value:function init(){var e;this.player&&this.player.el_&&((e=this.player.el_.getAttribute(this._attributes.playerStartTime))&&this.skipWithinContent(+e))}},{key:"removeAdInfo",value:function removeAdInfo(){var e=this.player.el_.querySelector(".".concat(this._classes.adInfo));e&&e.remove()}},{key:"addAdInfo",value:function addAdInfo(){var e="Ad ".concat(this.player.ads.clip.adCount," of ").concat(this.player.ads.clip.adSlotSize),t="  "+secondsToTimeString(this.getClipDurationWatched()),n=document.createElement("div");n.classList.add(this._classes.adInfo);var i=document.createElement("div");n.appendChild(i),i.appendChild(this._createAdInfoSpanText(e,this._classes.adCount)),i.appendChild(this._createAdInfoSpanText(t,this._classes.adDuration)),this.player.ads.clip.clickThroughUrl&&i.appendChild(this._createAdInfoSpanElement(this._createAdInfoUrlElement(this.player.ads.clip.clickThroughUrl),this._classes.adLink)),this.player.ads.clip.companions&&0<this.player.ads.clip.companions.length&&((i=this._createAdInfoCompanionElement(n,this.player.ads.clip.companions[0]))&&(n.setAttribute(this._attributes.adHasCompanion,""),n.appendChild(i,this._classes.adCompanion),this.player.ads.clip.beginCompanionTracking(i,this.player.ads.clip.companions[0]))),this.player.el_.appendChild(n)}},{key:"updateAdInfo",value:function updateAdInfo(){var e,t,n,i,r;!this.player.ads.clip||(e=this.player.el_.querySelector(".".concat(this._classes.adInfo)))&&((n=e.querySelector(".".concat(this._classes.adDuration)))&&(t=this.getClipDurationWatched(),n.innerText="  "+secondsToTimeString(t)),(n=e.querySelector(".".concat(this._classes.adCount)))&&(n.innerText="Ad ".concat(this.player.ads.clip.adCount," of ").concat(this.player.ads.clip.adSlotSize)),n=(t=e.querySelector(".".concat(this._classes.adLink)))&&t.getAttribute(this._attributes.adInitialized),t?this.player.ads.clip.clickThroughUrl?n!==this.player.ads.clip.id&&(t.href=this.player.ads.clip.clickThroughUrl,t.setAttribute(this._attributes.adInitialized,this.player.ads.clip.id)):t.remove():this.player.ads.clip.clickThroughUrl&&(r=e.querySelector("div"),(i=this._createAdInfoUrlElement(this.player.ads.clip.clickThroughUrl)).setAttribute(this._attributes.adInitialized,this.player.ads.clip.id),r.appendChild(this._createAdInfoSpanElement(i,this._classes.adLink))),i=(r=e.querySelector(".".concat(this._classes.adCompanion)))&&r.getAttribute(this._attributes.adInitialized),r?this.player.ads.clip.companions?i!==this.player.ads.clip.id&&(i=this.player.ads.clip.companions[0],this.player.ads.clip.endCompanionTracking(r),this.player.ads.clip.beginCompanionTracking(r,i),this._updateAdInfoCompanionElement(e,r,i)):(this.player.ads.clip.endCompanionTracking(r),r.remove(),e.removeAttribute(this._attributes.adHasCompanion)):this.player.ads.clip.companions&&0<this.player.ads.clip.companions.length&&((r=this._createAdInfoCompanionElement(e,this.player.ads.clip.companions[0]))&&(e.setAttribute(this._attributes.adHasCompanion,""),e.appendChild(r,this._classes.adCompanion),this.player.ads.clip.beginCompanionTracking(r,this.player.ads.clip.companions[0]))))}},{key:"skipWithinContent",value:function skipWithinContent(e){if(this.player&&e){var t,n=0,i=Playlist_createForOfIteratorHelper(this.clips);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.isAd)n+=r.getDuration();else{if(!(e>r.getDuration())){n+=e;break}n+=r.getDuration(),e-=r.getDuration()}}}catch(e){i.e(e)}finally{i.f()}this.player.currentTime(n)}}},{key:"getContentDuration",value:function getContentDuration(){return this.clips?this.clips.reduce(function(e,t){return t.isAd?e:e+t.getDuration()},0):0}},{key:"getContentWatched",value:function getContentWatched(){return this.getContentWatchedByDuration(this.player.currentTime())}},{key:"getContentWatchedByDuration",value:function getContentWatchedByDuration(e){for(var t=this.clips.indexOf(this.player.ads.clip),n=0;n<t;n++)this.clips[n].isAd&&(e-=this.clips[n].getDuration());return e}},{key:"addAdCuePoints",value:function addAdCuePoints(){if(this.player&&this.clips&&!(this.clips.length<=0))for(var e,t=this.clips[0].isAd,n=this.clips[0].getDuration(),i=document.querySelector("#".concat(this.player.id()," .vjs-progress-control.vjs-control")),r=1;r<this.clips.length;r++)console.log(!this.clips[r].isAd||t),this.clips[r].isAd&&!t?((e=document.createElement("div")).className="vjs-marker",e.id="ad:"+this.clips[r].creativeAdId,e.style.left="calc("+n/this.player.duration()*100+"% + 8px)",i.appendChild(e),n+=this.clips[r].getDuration(),t=!0):(t=this.clips[r].isAd,n+=this.clips[r].getDuration())}},{key:"skipAds",value:function skipAds(){if(this.player&&this.player.ads&&this.player.ads.clip){for(var e=Math.ceil(this.player.currentTime()+this.getClipDurationWatched()),t=this.clips.indexOf(this.player.ads.clip)+1;t<this.clips.length&&this.clips[t].isAd;t++)e+=this.clips[t].getDuration();this.player.currentTime(e)}}},{key:"skipCurrentClip",value:function skipCurrentClip(){this.player&&this.player.ads&&this.player.ads.clip&&this.player.currentTime(this.player.currentTime()+this.getClipDurationWatched())}},{key:"playClip",value:function playClip(e){if(e&&this.player){var t=this.clips.indexOf(e);if(!(t<0)){for(var n=0,i=0;i<t;i++)n+=this.clips[i].getDuration();this.player.currentTime(n)}}}},{key:"getSkippedAdClips",value:function getSkippedAdClips(e){if(!e||!this.clips)return[];for(var t=[],n=this.clips.indexOf(e),i=0;i<n;i++)this.clips[i].isAd&&!this.clips[i].hasBeenWatched&&0<this.clips[i].duration&&t.push(this.clips[i]);return t}},{key:"getCurrentClip",value:function getCurrentClip(){if(!this.player||!this.clips)return null;var e,t=0,n=this.player.currentTime(),i=Playlist_createForOfIteratorHelper(this.clips);try{for(i.s();!(e=i.n()).done;){var r=e.value;if(n<r.getDuration()+t)return r;t+=r.getDuration()}}catch(e){i.e(e)}finally{i.f()}return null}},{key:"getClipDurationWatched",value:function getClipDurationWatched(){if(this.player.ads.clip){var e=this.clips.indexOf(this.player.ads.clip),t=this.player.ads.clip.getDuration();return(t=0<e?this.clips.slice(0,e+1).reduce(function(e,t){return e+t.getDuration()},0):t)-this.player.currentTime()}}},{key:"_createAdInfoSpanText",value:function _createAdInfoSpanText(e,t){var n=document.createElement("span");return n.textContent=e,n.classList.add(t),n}},{key:"_createAdInfoSpanElement",value:function _createAdInfoSpanElement(e,t){var n=document.createElement("span");return n.appendChild(e),n.classList.add(t),n}},{key:"_createAdInfoUrlElement",value:function _createAdInfoUrlElement(e){var t=this,n=document.createElement("a");return n.href=e,n.target="_blank",n.text="  Learn More",n.classList.add("vjs-ad-info-link"),n.addEventListener("click",function(e){t.player.pause()}),n}},{key:"_createAdInfoCompanionElement",value:function _createAdInfoCompanionElement(e,t){var n=this;if(!t)return null;var i=document.createElement("a");i.href=t.clickThroughUrl,i.target="_blank";var r=document.createElement("img");return r.src=t.staticUrl,r.alt=t.altText,r.width=t.width,r.height=t.height,r.style="max-width: ".concat(t.width,"px; max-height: ").concat(t.height,"px"),i.appendChild(r),i.classList.add("vjs-ad-info-companion"),e&&(e.style="max-width: ".concat(t.width,"px;")),i.addEventListener("click",function(e){n.player.pause()}),i}},{key:"_updateAdInfoCompanionElement",value:function _updateAdInfoCompanionElement(e,t,n){t&&n&&(t.href=n.clickThroughUrl,(t=t.querySelector("img"))&&(t.src=n.staticUrl,t.alt=n.altText,t.width=n.width,t.height=n.height,t.style="max-width: ".concat(n.width,"px; max-height: ").concat(n.height,"px")),e&&(e.style="max-width: ".concat(n.width,"px;")))}}]),Playlist}();function FreewheelAdsPlugin(e,t,n){window.videojs.registerPlugin("freewheelAds",function(e,t){var n=this;if((e=e||{}).stitchedAds=!0,t&&!(t.length<=0)){if("function"==typeof this.ads)this.ads(e);else{if(!this.ads)return;this.ads.stitchedAds(!0)}this.ads.playlist=new Gt(t,this),this.one("loadeddata",onLoadedData),this.ads.wasPaused=!1,this.ads.wasMuted=this.muted()||0===this.volume(),this.on("adstarted",onAdStart),this.on("adended",onAdEnd),this.el_.addEventListener("click",function(){!function onClick(e){e&&e.ads.isInAdMode()&&e.ads.clip.onTrackingEvent("click")}(n)}),this.on("clipchanged",onClipChanged),this.on(["timeupdate","adtimeupdate"],onTimeUpdate),setInterval(function(){return function onInterval(e){var t,n;e.ads.isInAdMode()&&(t=e.muted()||0===e.volume(),n=e.paused(),e.ads.wasMuted!==t&&((e.ads.wasMuted=t)?e.ads.clip.onTrackingEvent("mute"):e.ads.clip.onTrackingEvent("unmute")),e.ads.wasPaused!==n&&((e.ads.wasPaused=n)?e.ads.clip.onTrackingEvent("pause"):e.ads.clip.onTrackingEvent("resume")))}(n)},100)}}),e.freewheelAds(t,n)}function onLoadedData(e){}function onTimeUpdate(e){var t=this.ads.playlist.getCurrentClip(this);t!==this.ads.clip?(this.ads.previousClip=this.ads.clip,this.ads.clip=t,this.trigger("clipchanged")):function handleQuartileBeaconTracking(){var e;this.ads.playlist&&this.ads.clip.isAd&&((e=1-this.ads.playlist.getClipDurationWatched()/this.ads.clip.getDuration())<.25||(e<.5?this.ads.clip.onFirstQuartile():e<.75?this.ads.clip.onMidpoint():this.ads.clip.onThirdQuartile()))}.call(this)}function onAdStart(e){var t=this;this.ads.playlist.addAdInfo(this),this.on("adtimeupdate",function(){t.ads.playlist.updateAdInfo(t)})}function onAdEnd(e){var t=this;this.ads._previousTime&&(this.currentTime(this.ads._previousTime),delete this.ads._previousTime),this.ads.playlist.removeAdInfo(this),this.off("adtimeupdate",function(){t.ads.playlist.updateAdInfo(t)});var n=this.textTracks(),i=this.ads._state.player.textTracks();if(n&&i&&n.length===i.length)for(var r=0;r<i.length;r++)n[r].mode=i[r].mode}function onClipChanged(e){this.ads.clip&&(this.ads.previousClip&&this.ads.previousClip.isAd&&this.ads.previousClip.onComplete(),this.ads.clip.isAd?(this.ads.clip.hasBeenWatched&&this.ads.playlist.skipAds(this),this.ads.clip.hasBeenWatched=!0,this.ads.isInAdMode()||(this.ads.startLinearAdMode(),this.trigger("adstarted"),this.trigger("ads-ad-started"))):(this.ads.isInAdMode()&&this.ads.endLinearAdMode(),this.trigger("adended")))}function VideoJsPlayer_createSuper(n){var i=function VideoJsPlayer_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_()(n);return t=i?(e=_()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),v()(this,t)}}var $t=function(e){g()(VideoJsPlayer,e);var i=VideoJsPlayer_createSuper(VideoJsPlayer);function VideoJsPlayer(r){var o,a,n,s,l,u;c()(this,VideoJsPlayer),u=i.call(this,r),d()(f()(u),"_selectors",{body:"body",videoLead:".VideoLead",pipButton:".vjs-picture-in-picture-control",inactiveVideoJs:".vjs-has-started.vjs-user-inactive.vjs-playing",articlePages:".Article-main, .Article-large-main, .Article-longform-content"}),d()(f()(u),"_attributes",{videoId:"data-video-id",videoSource:"data-source",videoSourceType:"data-type",accountId:"data-account-id",startTime:"data-start-time",dfpTagUrl:"data-dfp-tag-url",videoTitle:"data-video-title",dataVideoStart:"data-video-start",golfidAnalytics:"golfid-analytics",autoplayAdsMuted:"data-autoplay-ads-muted"}),Ge()((e=f()(u),_()(VideoJsPlayer.prototype)),"init",e).call(e),window.videojs||(window.videojs=$e.a),u.videoEl=r;var t=f()(u);null===window.sessionStorage.getItem("userstatus")&&window.sessionStorage.setItem("userstatus","active"),null===window.sessionStorage.getItem("timestamp")&&window.sessionStorage.setItem("timestamp",(new Date).getTime().toString()),u.muteButton=document.createElement("button"),u.muteButton.classList.add("unmuteBanner"),u.muteButton.style.visibility="hidden",u.videoEl.parentElement.appendChild(u.muteButton),u._unmuteHandler=function(){u.muteButton.style.visibility="hidden",u.player.muted(!1);try{u.player.ima.controller.onAdMuteClick()}catch(e){}},u._getAutoplayOptions(u.videoEl).then(function(e){var t=e.autoplay,i=e.muted;u.videoEl&&(u.playerOptions={autoplay:t&&u.videoEl.hasAttribute("autoplay"),controls:u.videoEl.hasAttribute("controls"),muted:i||u.videoEl.hasAttribute("muted"),loop:u.videoEl.hasAttribute("loop"),liveui:u.videoEl.hasAttribute("live"),playbackRates:u.videoEl.hasAttribute("live")?[1]:[.5,1,1.5,2],controlBar:{subsCapsButton:u.videoEl.hasAttribute("text-tracks")},responsive:!0,breakpoints:{tiny:320,xsmall:568,small:768,medium:1024,large:1440,xlarge:1920},html5:{vhs:{handleManifestRedirects:!0,overrideNative:!0}},adWillAutoplay:t&&u.videoEl.hasAttribute("autoplay"),adWillPlayMuted:i||u.videoEl.hasAttribute("muted")},u._shouldOverrideNative()&&(u.playerOptions.html5.vhs.overrideNative=!0,u.playerOptions.html5.nativeAudioTracks=!1,u.playerOptions.html5.nativeVideoTracks=!1),u._ensureDispose(u.videoEl.hasAttribute("autoplay")),u.player=window.videojs(u.videoEl,u.playerOptions,function(e){var t,n;u.videoEl.hasAttribute(u._attributes.dfpTagUrl)&&u._canUseAds(u.player)&&(u.player.ima({id:u.videoEl.id,disableCustomPlaybackForIOS10Plus:!0,adTagUrl:u.videoEl.getAttribute(u._attributes.dfpTagUrl)}),u.initImaEvents(u.videoEl,u.player)),u.player.mediainfo={id:u.videoEl.getAttribute(u._attributes.videoId),name:u.videoEl.getAttribute(u._attributes.videoTitle),accountId:u.videoEl.getAttribute(u._attributes.accountId)},u.videoEl.hasAttribute(u._attributes.golfidAnalytics)&&u.registerGolfIdAnalyticsPlugin(),u.ensureVideoSource(u.videoEl,u.player).then(function(e){var t=+u.videoEl.getAttribute(u._attributes.startTime);0<t&&!u.player.freewheelAds&&u.player.currentTime(t)}),u.initPip(),u.initPlayerEvents(r,u.player),u.ensureLoop(u.videoEl,u.player),S()(u.videoEl).trigger(VideoJsPlayer.EVENTS.initialized),Ge()((o=f()(u),_()(VideoJsPlayer.prototype)),"onVideoReady",o).call(o),"iOS"===Object(qt.a)().os&&(t=setInterval(function(e){Math.abs(u.player.duration()-u.player.currentTime())<=.1&&(Ge()((a=f()(u),_()(VideoJsPlayer.prototype)),"onVideoEnd",a).call(a,{}),clearInterval(t))},2e3)),u.customGeoError(u.player),!i&&!u.videoEl.hasAttribute("muted")||null!==(n=document.getElementsByClassName("ShowCtaLede"))&&n.length<1&&u.showVolumeBtn(u.player),u._restoreVolume()}),S()(u.videoEl).bind("click",function(e){S()(u.videoEl).closest(u._selectors.videoLead).attr(u._attributes.dataVideoStart,""),u.playPause()}).bind("play",function(e){!e.player&&e.video&&(u.player=e.player=window.videojs(e.video,u.playerOptions));var t=+u.videoEl.getAttribute(u._attributes.startTime);0<t&&t>u.player.currentTime()&&!u.player.freewheelAds&&u.player.currentTime(t),u._restoreVolume(),Ge()((n=f()(u),_()(VideoJsPlayer.prototype)),"onVideoStart",n).call(n,e)}).bind("pause",function(e){u.player.seeking()||Ge()((s=f()(u),_()(VideoJsPlayer.prototype)),"onVideoPause",s).call(s,e)}).bind("ended",function(e){Ge()((l=f()(u),_()(VideoJsPlayer.prototype)),"onVideoEnd",l).call(l,e)}).bind("timeupdate",function(e){e.player&&(u.player=e.player),e.secondsElapsed=u.player.currentTime(),u.player&&0!==S()(".CompanionToaster").length&&S()(e.target).trigger("VideoMain:onPlaybackTimeUpdate",{secondsElapsed:u.player.currentTime()}),u.onVideoTimeUpdate(e)}))});var e=window.sessionStorage.getItem("userstatus");return null!==t.timeout&&"active"!==e||(t.timeout=t.getNewStillWatchingTimeout()),window.addEventListener("click",function handleClick(){null!==t.timeout&&clearTimeout(t.timeout),t.timeout=t.getNewStillWatchingTimeout()}),u.videoEl.onplaying=function(){var e=u.player.el().parentElement.getElementsByClassName("StillWatchingPopUp");0<e.length&&"visible"===e.item(0).style.visibility&&t.player.pause()},u}return o()(VideoJsPlayer,[{key:"customGeoError",value:function customGeoError(e){e&&e.errors({errors:{4:{headline:"This content is not available in your location.",message:""}}})}},{key:"getNewStillWatchingTimeout",value:function getNewStillWatchingTimeout(){var e=this,t=this.$body.find(".StillWatchingPopUp-content"),n=0;if(0<t.length){t=t[0],t=1e3*(n=null!==t?parseInt(S()(t).attr("data-inactive-user-time"))||30:n)*60,n=(new Date).getTime()-Number(window.sessionStorage.getItem("timestamp"));n<t&&(t-=n)<6e4&&(t=6e4);var i=window.sessionStorage.getItem("userstatus");return setTimeout(function(){"active"===i&&(window.sessionStorage.setItem("userstatus","inactiveSameVideo"),e.player.on("ended",e.handleInactiveUserPlayNext))},t)}return null}},{key:"ensureLoop",value:function ensureLoop(t,n){t&&n&&n.on("ended",function(e){n&&t.hasAttribute("data-loop")&&(n.currentTime(0),n.play())})}},{key:"ensureAutoplay",value:function ensureAutoplay(n,i){i&&n.hasAttribute("autoplay")&&i.on("play",function(e){var t=i.play();void 0!==t&&t.catch(function(e){i.muted(!0),n.setAttribute("muted",""),i.play().catch(function(e){console.error(e)})})})}},{key:"handleInactiveUserPlayNext",value:function handleInactiveUserPlayNext(){"inactiveSameVideo"===window.sessionStorage.getItem("userstatus")&&window.sessionStorage.setItem("userstatus","inactiveNextVideo")}},{key:"showPopUp",value:function showPopUp(){var n,e,t,i=this,r=this;function toggleContinuousPlaybackOn(){var t,e={},n=r.player.el().parentElement.getElementsByClassName("StillWatchingPopUp");0<n.length&&(0<(n=n[0].getElementsByClassName("skipLength")).length&&(t=n[0],e.timeStamp=Date.now(),S.a.ajax({url:"/api/video/inactiveuser",type:"POST",data:e,success:function success(e){S()(t).html("Continuous playback is turned <b>ON</b>")}}),S()(t).one("click",function(e){!function toggleContinuousPlaybackOff(){var t,e={},n=r.player.el().parentElement.getElementsByClassName("StillWatchingPopUp");0<n.length&&(0<(n=n[0].getElementsByClassName("skipLength")).length&&(t=n[0],e.timeStamp=0,S.a.ajax({url:"/api/video/inactiveuser",type:"POST",data:e,success:function success(e){S()(t).html("<b>TURN ON</b> continuous playback for this session")}}),S()(t).one("click",function(e){toggleContinuousPlaybackOn()})))}()})))}document.querySelector("#"+this.player.id())?0<(n=this.player.el().parentElement.getElementsByClassName("StillWatchingPopUp")).length&&(this.player.pause(),n.item(0).style.visibility="visible",0<(e=n.item(0).getElementsByClassName("popupPlay")).length&&(t=e[0],S()(t).on("click",function(e){document.querySelector("#"+i.player.id())?i.player.play():i.player.dispose(),n.item(0).style.visibility="hidden";var t=window.sessionStorage.getItem("userstatus");null!==t&&"active"!==t&&(window.sessionStorage.setItem("userstatus","active"),window.sessionStorage.setItem("timestamp",(new Date).getTime().toString())),clearTimeout(i.timeout),i.timeout=i.getNewStillWatchingTimeout()})),0<(t=n.item(0).getElementsByClassName("skipLength")).length&&(t=t[0],S()(t).one("click",function(e){toggleContinuousPlaybackOn()}))):this.player.dispose()}},{key:"initImaEvents",value:function initImaEvents(e,t){var n=this;e&&t&&((e=document.getElementById(e.id))&&(S()(e).one("click",function(e){t.ima.initializeAdDisplayContainer()}),t.on("adsready",function(e){t.ima.addEventListener(window.google.ima.AdEvent.Type.STARTED,function(e){t.pause()}),t.ima.addEventListener(window.google.ima.AdEvent.Type.AD_PROGRESS,function(e){t.pause()}),t.ima.addEventListener(window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(e){t.play()}),t.ima.addEventListener(window.google.ima.AdEvent.Type.PAUSED,function(e){S()(n.videoEl).trigger("Video:onAdPaused",{playerId:n.playerId,video:n.video})}),t.ima.addEventListener(window.google.ima.AdEvent.Type.RESUMED,function(e){S()(n.videoEl).trigger("Video:onAdResumed",{playerId:n.playerId,video:n.video})})})))}},{key:"initPlayerEvents",value:function initPlayerEvents(e,t){var n,i,r=this;e&&t&&(n=S()(e),i=this,t.on("useractive",function(e){n.trigger(VideoJsPlayer.EVENTS.playerActive)}),t.on("userinactive",function(e){n.trigger(VideoJsPlayer.EVENTS.playerInactive)}),t.on("adstart",function(e){n.trigger("Video:onAdStarted",{playerId:r.playerId,video:r.video})}),this.previousTime=this.player.currentTime(),t.on("timeupdate",function(e){1<Math.abs(i.player.currentTime()-i.previousTime)&&window.sessionStorage.setItem("userstatus","active"),i.previousTime=i.player.currentTime();var t=window.sessionStorage.getItem("userstatus"),n=i.player.currentTime();"inactiveNextVideo"===t&&120<=n&&i.showPopUp()}),t.on("adended",function(){var e=window.sessionStorage.getItem("userstatus");i.player.pause(),i.player.play(),"inactiveNextVideo"===e&&(i.previousTime=i.player.currentTime(),window.sessionStorage.setItem("userstatus","inactiveNextVideo"))}),t.on("adend",function(e){n.trigger("Video:onAdEnded",{playerId:r.playerId,video:r.video})}),t.on("loadedmetadata",function(){try{i.player.textTracks()[1].mode="hidden"}catch(e){}}),t.on("volumechange",function(e){r._saveVolume(),i.player.muted()||0===i.player.volume()?i.showVolumeBtn(i.player):i.hideVolumeBtn(i.player)}),t.on("advolumechange",function(e){i.player.muted()||0===i.player.volume()?i.showVolumeBtn(i.player):i.hideVolumeBtn(i.player)}))}},{key:"initPip",value:function initPip(){function Xz1(e){var t=S()(e).offset().top,n=t+S()(e).outerHeight(),i=S()(window).scrollTop()+.4*S()(e).outerHeight(),e=i+S()(window).height()-.4*S()(e).outerHeight();return i<n&&t<e}var n=this;this.autoPipDisabled=!0,S()(this._selectors.pipButton).on("click",function(e){n.autoPipDisabled=!0}),S()(this.videoEl).on("dispose",function(e){n.autoPipDisabled=!0}),S()(window).on("scroll",function(){var t=qe()(Ve.a.mark(function _callee(e){var t;return Ve.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(n.autoPipDisabled){e.next=15;break}if((t=Xz1(n.videoEl))||n.videoEl===document.pictureInPictureElement||null!==document.pictureInPictureElement){e.next=12;break}return e.prev=3,e.next=6,n.videoEl.requestPictureInPicture();case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:e.next=15;break;case 12:if(t&&n.videoEl===document.pictureInPictureElement)return e.next=15,document.exitPictureInPicture();e.next=15;break;case 15:case"end":return e.stop()}},_callee,null,[[3,8]])}));return function(e){return t.apply(this,arguments)}}())}},{key:"registerGolfIdAnalyticsPlugin",value:function registerGolfIdAnalyticsPlugin(){var t=this,n=setInterval(function(e){t.player&&t.player.GolfIDVideoAnalyticsPlugin&&(t.player.GolfIDVideoAnalyticsPlugin(),clearInterval(n))},500);setTimeout(function(e){return clearInterval(n)},5e3)}},{key:"ensureVideoSource",value:function ensureVideoSource(n,i){var r=this;return n&&i&&(this.setSource(n,i),i.reloadSourceOnError({getSource:function getSource(e){i.paused()||r.setSource(n,i)},errorInterval:5}),setInterval(function(e){try{i&&!document.hidden&&i.readyState&&0===i.readyState()&&r.setSource(n,i)}catch(e){return}},5e3),i.tech_.on("retryplaylist",function(e){r.setSource(n,i)}),document.addEventListener("visibilitychange",function(){var t=qe()(Ve.a.mark(function _callee2(e){var t;return Ve.a.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(document.hidden||"iOS"!==Object(qt.a)().os){e.next=5;break}return t=i.currentTime(),e.next=4,r.setSource(n,i);case 4:setTimeout(function(e){i.currentTime(t)},500);case 5:case"end":return e.stop()}},_callee2)}));return function(e){return t.apply(this,arguments)}}())),Promise.resolve()}},{key:"setSource",value:function setSource(n,i){var r=this;i&&i.finalSrc?this._setSource(i,i.finalSrc,n.getAttribute("data-type")):i.options_.liveui||void 0!==n.dataset.noAds?this._getVideoSource(n,i).then(function(e){r._setSource(i,e,n.getAttribute("data-type"))}):function isAdBlockerDetected(){var n=document.createElement("div");return n.innerHTML="&nbsp;",n.className="ads ad adsbox doubleclick ad-placement carbon-ads",n.style.display="absolute",n.style.bottom="-1000px",document.body.appendChild(n),new Promise(function(t,e){setTimeout(function(){var e=!1;0===n.offsetHeight&&(e=!0),n.remove(),t(e)},100)})}().then(function(e){var t;e?r._getVideoSource(n,i).then(function(e){r._setSource(i,e,n.getAttribute("data-type"))}):(t="/api/v1/episodes/manifest?id="+encodeURIComponent(n.dataset.videoId),S.a.ajax({url:t,type:"GET",beforeSend:function beforeSend(e){e.setRequestHeader("X-Referer",window.location.href),e.setRequestHeader("X-User-Agent",navigator.userAgent),e.setRequestHeader("X-Device-Type",detectMob()?"Web:Mobile":"Web:Desktop")}}).then(function(e){e&&e.clips&&(i.ads.manifest=e,FreewheelAdsPlugin(i,{},e.clips)),i.finalSrc=e&&e.src||n.getAttribute("data-source"),r._setSource(i,i.finalSrc,n.getAttribute("data-type"))}).fail(function(e){r._getVideoSource(n,i).then(function(e){r._setSource(i,e,n.getAttribute("data-type"))}),console.error("Failed to retrieve video's parsed manifest at ".concat(t)),console.error(e)}))})}},{key:"_setSource",value:function _setSource(e,t,n){e.src({src:t,type:n}),e.el_.setAttribute("src",t),e.el_.setAttribute("type",n)}},{key:"_getVideoSource",value:function _getVideoSource(e,t){if(e){var n=e.getAttribute("data-source");if(window.videojs.browser.IE_VERSION){e=e.getAttribute("data-smil-public-url");if(e)return S.a.get(e).then(function(e){e=S.a.parseXML(e),e=S()(e).find("video");if(e.length){e=e[0].getAttribute("src");if(e)return e}})}return t.finalSrc=n,Promise.resolve(n)}}},{key:"_ensureDispose",value:function _ensureDispose(t){window.videojs.getAllPlayers().forEach(function(e){document.querySelector("#"+e.id())?t&&!e.muted()&&e.pause():e.dispose()})}},{key:"_shouldOverrideNative",value:function _shouldOverrideNative(){var e=Object(qt.a)();return"android"===e.name||"edge"===e.name||"Android OS"===e.os}},{key:"_canUseAds",value:function _canUseAds(e){return"function"==typeof e.ima&&window.google&&window.google.ima}},{key:"_getAutoplayOptions",value:function _getAutoplayOptions(e){var t=document.querySelector(this._selectors.articlePages);return t&&t.contains(e)?Promise.resolve({autoplay:!1,muted:!1}):this._getMutedAutoplayOptions(!1)}},{key:"_getMutedAutoplayOptions",value:function _getMutedAutoplayOptions(n){var i=this;return Vt.video({timeout:100,muted:n,inline:!0}).then(function(){var t=qe()(Ve.a.mark(function _callee3(t){return Ve.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(t.result)return e.abrupt("return",{autoplay:!0,muted:n});e.next=4;break;case 4:if(n)return e.abrupt("return",{autoplay:!1,muted:!0});e.next=8;break;case 8:return e.next=10,i._getMutedAutoplayOptions(!0);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},_callee3)}));return function(e){return t.apply(this,arguments)}}())}},{key:"_saveVolume",value:function _saveVolume(){var e=this.player.volume();Ie.a.set("_player_volume",e)}},{key:"_restoreVolume",value:function _restoreVolume(){var e=Ie.a.get("_player_volume");void 0!==e?this.player.volume(e):this.player.volume(.5)}},{key:"videoDuration",get:function get(){return 0===this.player.readyState()?0:this.player.duration()}},{key:"showVolumeBtn",value:function showVolumeBtn(e){this.muteButton.addEventListener("click",this._unmuteHandler),this.muteButton.style.visibility="visible"}},{key:"hideVolumeBtn",value:function hideVolumeBtn(e){"visible"===this.muteButton.style.visibility&&(removeEventListener("click",this._unmuteHandler),this.muteButton.style.visibility="hidden")}}]),VideoJsPlayer}(Ht);d()($t,"SELECTOR",".video-js"),d()($t,"EVENTS",{initialized:"VideoJsPlayer:Initialized",playerActive:"VideoJsPlayer:PlayerActive",playerInactive:"VideoJsPlayer:PlayerInactive"}),S()("body").on("click",".ResortPage-website a",function(e){sendGoogleAnalyticsEvent("Resort Website","Resort Website Click","Resort Website Click ["+S()('[name="brightspot.contentId"]').attr("content")+"]")}),S()("body").on("click",".CoursePageSidebar-courseWebsite a",function(e){var t=S()(this),n="Regular";sendGoogleAnalyticsEvent("Course Website","Course Website Click ["+(n=!t.attr("href").startsWith("/xgo/")?"FP":n)+"]","Course Website Click ["+t.attr("data-course-id")+"]")}),S()("body").on("click",".CoursePageSidebar-bookTeeTime, .CourseAbout-teeTimeLink a",function(e){var t=S()(this),n="Course Page";t.parent().hasClass("CoursePageSidebar-bookTeeTime")?n="Course Page Sidebar":t.parent().hasClass("CourseAbout-teeTimeLink")&&(n="Course Page TT Block"),sendGoogleAnalyticsEvent("Tee Times","Tee Times Click ["+n+"]","Tee Times Click ["+window.location.pathname.replace(/.*\/courses\//,"").replace(/-.*/,"")+":"+t.attr("href").replace(/.*\/tee-times\/facility\//,"").replace(/-.*/,"")+"]")}),S()("body").on("click",".StandardCoursePromo-teeTime a, .CoursePromo-teeTime a",function(e){var t=S()(this),n="Course Promo";t.parents(".GMap").length&&(n="Course Promo in Map");var i=t.closest(".StandardCoursePromo, .CoursePromo").find(".StandardCoursePromo-title a, .CoursePromo-title a").first(),r="";sendGoogleAnalyticsEvent("Tee Times","Tee Times Click ["+n+"]","Tee Times Click ["+(r=i?i.attr("href").replace(/.*\/courses\//,"").replace(/-.*/,""):r)+":"+t.attr("href").replace(/.*\/tee-times\/facility\//,"").replace(/-.*/,"")+"]")}),S()("body").on("Video:onVideoLoaded",function(e,t){sendGoogleAnalyticsEvent("Video","Video Impression","["+t.video.id+"] "+t.video.title,null,{non_interaction:!0})}),S()("body").on("Video:onVideoPlaybackStarted",function(e,t){sendGoogleAnalyticsEvent("Video","Video Start","["+t.video.id+"] "+t.video.title)}),S()("body").on("Video:onVideoEnded",function(e,t){var n=Math.round(t.video.duration-5*Math.floor(t.video.duration/5));0<n&&sendGoogleAnalyticsEvent("Video","Video Engagement","["+t.video.id+"] "+t.video.title,n),sendGoogleAnalyticsEvent("Video","Video End","["+t.video.id+"] "+t.video.title)}),S()("body").on("Video:onAdStarted",function(e,t){sendGoogleAnalyticsEvent("Video","Ad Start","["+t.video.id+"] "+t.video.title)}),S()("body").on("Video:onAdEnded",function(e,t){sendGoogleAnalyticsEvent("Video","Ad End","["+t.video.id+"] "+t.video.title)}),S()("body").on("Video:onVideoPlaybackUnPaused",function(e,t){sendGoogleAnalyticsEvent("Video","Video Play","["+t.video.id+"] "+t.video.title)}),S()("body").on("Video:onVideoPlaybackPaused",function(e,t){sendGoogleAnalyticsEvent("Video","Video Paused","["+t.video.id+"] "+t.video.title)}),S()("body").on("Video:onVideoTimeIntervalUpdate",function(e,t){sendGoogleAnalyticsEvent("Video","Video Engagement","["+t.video.id+"] "+t.video.title,5)});["Video:onAdStarted","Video:onAdEnded","Video:onVideoEnded","Video:onVideoLoaded","Video:onVideoPlaybackMuted","Video:onVideoPlaybackPaused","Video:onVideoPlaybackStarted","Video:onVideoPlaybackStopped","Video:onVideoPlaybackUnMuted","Video:onVideoPlaybackUnPaused","Video:onVideoQuartileCompleted","Video:onVideoTimeIntervalUpdate"].forEach(function(n){S()("body").on(n,function(e,t){console.log(n,e,t)})});var zt=n("./node_modules/smartbanner.js/src/detector.js");class OptionParser{parse(){var e=document.getElementsByTagName("meta");let i={};return Array.apply(null,e).forEach(function(e){let t=null,n=e.getAttribute("name");e=e.getAttribute("content");n&&e&&function optionparser_valid(e){return-1!==e.indexOf("smartbanner:")&&0<e.split(":")[1].length}(n)&&0<e.length&&(t=n.split(":")[1],-1!==t.indexOf("-")&&(t=function convertToCamelCase(e){let n=e.split("-");return n.map(function(e,t){0<t&&(n[t]=e.charAt(0).toUpperCase()+e.substring(1))}),n.join("")}(t)),i[t]=e)}),i}}class Bakery{static getCookieExpiresString(e){const t=new Date,n=new Date(t.getTime()+e);return`expires=${n.toGMTString()};`}static bake(e,t){document.cookie=`smartbanner_exited=1; ${e?Bakery.getCookieExpiresString(e):""} path=`+t}static unbake(){document.cookie="smartbanner_exited=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}static get baked(){return"1"===document.cookie.replace(/(?:(?:^|.*;\s*)smartbanner_exited\s*=\s*([^;]*).*$)|^.*$/,"$1")}}let Yt={originalTop:"data-smartbanner-original-top",originalMarginTop:"data-smartbanner-original-margin-top"};function handleJQueryMobilePageLoad(e){this.positioningDisabled||setContentPosition(e.data.height)}function addEventListeners(t){let e=document.querySelector(".js_smartbanner__exit");e.addEventListener("click",e=>function handleExitClick(e,t){t.exit(),e.preventDefault()}(e,t));let n=document.querySelector(".js_smartbanner__button");n.addEventListener("click",e=>function handleClickout(e,t){t.clickout()}(0,t)),zt.a.jQueryMobilePage()&&$(document).on("pagebeforeshow",t,handleJQueryMobilePageLoad)}function setContentPosition(i){var r,o=zt.a.wrapperElement();for(let e=0,t=o.length,n;e<t;e++)n=o[e],zt.a.jQueryMobilePage()?n.getAttribute(Yt.originalTop)||(r=parseFloat(getComputedStyle(n).top),n.setAttribute(Yt.originalTop,isNaN(r)?0:r),n.style.top=i+"px"):n.getAttribute(Yt.originalMarginTop)||(r=parseFloat(getComputedStyle(n).marginTop),n.setAttribute(Yt.originalMarginTop,isNaN(r)?0:r),n.style.marginTop=i+"px")}class smartbanner_SmartBanner{constructor(){let e=new OptionParser;this.options=e.parse(),this.platform=zt.a.platform();var t=new Event("smartbanner.init");document.dispatchEvent(t)}get originalTop(){let e=zt.a.wrapperElement()[0];return parseFloat(e.getAttribute(Yt.originalTop))}get originalTopMargin(){let e=zt.a.wrapperElement()[0];return parseFloat(e.getAttribute(Yt.originalMarginTop))}get priceSuffix(){return"ios"===this.platform?this.options.priceSuffixApple:"android"===this.platform?this.options.priceSuffixGoogle:""}get icon(){return"android"===this.platform?this.options.iconGoogle:this.options.iconApple}get buttonUrl(){return"android"===this.platform?this.options.buttonUrlGoogle:"ios"===this.platform?this.options.buttonUrlApple:"#"}get closeLabel(){return void 0!==this.options.closeLabel?this.options.closeLabel:"Close"}get html(){return`<div class="smartbanner smartbanner--${this.options.customDesignModifier||this.platform} js_smartbanner">
      <a href="javascript:void();" class="smartbanner__exit js_smartbanner__exit" aria-label="${this.closeLabel}"></a>
      <div class="smartbanner__icon" style="background-image: url(${this.icon});"></div>
      <div class="smartbanner__info">
        <div>
          <div class="smartbanner__info__title">${this.options.title}</div>
          <div class="smartbanner__info__author">${this.options.author}</div>
          <div class="smartbanner__info__price">${this.options.price}${this.priceSuffix}</div>
        </div>
      </div>
      <a href="${this.buttonUrl}" target="_blank" class="smartbanner__button js_smartbanner__button" rel="noopener" aria-label="${this.options.button}"><span class="smartbanner__button__label">${this.options.button}</span></a>
    </div>`}get height(){try{return document.querySelector(".js_smartbanner").offsetHeight}catch(e){return 0}}get platformEnabled(){let e=this.options.enabledPlatforms||"android,ios";return e&&-1!==e.replace(/\s+/g,"").split(",").indexOf(this.platform)}get positioningDisabled(){return"true"===this.options.disablePositioning}get apiEnabled(){return"true"===this.options.api}get userAgentExcluded(){return!!this.options.excludeUserAgentRegex&&zt.a.userAgentMatchesRegex(this.options.excludeUserAgentRegex)}get userAgentIncluded(){return!!this.options.includeUserAgentRegex&&zt.a.userAgentMatchesRegex(this.options.includeUserAgentRegex)}get hideTtl(){return!!this.options.hideTtl&&parseInt(this.options.hideTtl)}get hidePath(){return this.options.hidePath||"/"}publish(){if(0===Object.keys(this.options).length)throw new Error("No options detected. Please consult documentation.");if(Bakery.baked)return!1;if(this.userAgentExcluded)return!1;if(!this.platformEnabled&&!this.userAgentIncluded)return!1;let e=document.createElement("div");document.querySelector("body").appendChild(e),e.outerHTML=this.html;var t=new Event("smartbanner.view");document.dispatchEvent(t),this.positioningDisabled||setContentPosition(this.height),addEventListeners(this)}exit(){!function removeEventListeners(){zt.a.jQueryMobilePage()&&$(document).off("pagebeforeshow",handleJQueryMobilePageLoad)}(),this.positioningDisabled||function restoreContentPosition(){var i=zt.a.wrapperElement();for(let e=0,t=i.length,n;e<t;e++)n=i[e],zt.a.jQueryMobilePage()&&n.getAttribute(Yt.originalTop)?n.style.top=n.getAttribute(Yt.originalTop)+"px":n.getAttribute(Yt.originalMarginTop)&&(n.style.marginTop=n.getAttribute(Yt.originalMarginTop)+"px")}();var e=document.querySelector(".js_smartbanner");document.querySelector("body").removeChild(e);e=new Event("smartbanner.exit");document.dispatchEvent(e),Bakery.bake(this.hideTtl,this.hidePath)}clickout(){var e=new Event("smartbanner.clickout");document.dispatchEvent(e)}}var Kt,Xt=zt.a.platform();document.addEventListener("smartbanner.view",function(){S()("html").addClass("smartbanner-active"),window.pageYOffset<=84&&S()("html").addClass("smartbanner-visible"),sendGoogleAnalyticsEvent("App Banner","Show","Show App Banner ("+Xt+")");var e=document.createElement("IMG");e.setAttribute("height","1"),e.setAttribute("width","1"),e.setAttribute("border","0"),"android"===Xt?e.setAttribute("src","https://imp.control.kochava.com/track/impression?campaign_id=kogolfpass-android-prod-cx6h740284e931f68101&network_id=13324&site_id=1&device_id=device_id"):"ios"===Xt&&e.setAttribute("src","https://imp.control.kochava.com/track/impression?campaign_id=kogolfpass-ios-prod-h0a8jx680fa3a651a5d&network_id=13324&site_id=1&device_id=device_id"),document.body.appendChild(e)}),document.addEventListener("smartbanner.clickout",function(){sendGoogleAnalyticsEvent("App Banner","Click","Click App Banner ("+Xt+")")}),document.addEventListener("smartbanner.exit",function(){S()("html").removeClass("smartbanner-active smartbanner-visible"),sendGoogleAnalyticsEvent("App Banner","Close","Close App Banner ("+Xt+")")}),window.addEventListener("load",function(){var n,t,i=function log(e){},r=window.location.search.match(/debugAppBanner/);if(r&&(n=document.createElement("div"),document.body.appendChild(n),i=function log(e){var t=document.createElement("div");t.innerHTML=e,n.appendChild(t)}),!document.querySelector('meta[name="smartbanner:title"]'))return i("A2HS/App install not enabled for current page type"),void(window.BeforeInstallPromptEvent&&window.addEventListener("beforeinstallprompt",function(e){e.preventDefault()}));if(i("platform: "+Xt),i("ua: "+window.navigator.userAgent),"ios"!==Xt||zt.a.userAgentMatchesRegex("(CriOS|FxiOS|OPiOS|mercury)")){if(window.BeforeInstallPromptEvent)return i("beforeinstallprompt available"),void window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),i("beforeinstallprompt fired: "+JSON.stringify(e.platforms)),t=e,r&&(window.deferredPrompt=t,console.log(t)),Kt||(S()("body").on("click",".js_smartbanner__button",function(e){i("User clicked install"),t&&(e.preventDefault(),t.prompt(),t.userChoice.then(function(e){"accepted"===e.outcome?i("User accepted the A2HS prompt"):i("User dismissed the A2HS prompt"),t=null}))}),(Kt=new smartbanner_SmartBanner).apiEnabled?window.smartbanner=Kt:Kt.publish())});i("beforeinstallprompt not available - using smartbanner fallback, shows regardless of user having app or not"),(Kt=new smartbanner_SmartBanner).apiEnabled?window.smartbanner=Kt:Kt.publish()}else i("Looks like safari on ios, deferring to native prompt")});function Z$b(l){c()(this,Z$b);var u=l.id;"undefined"!=typeof googletag&&null!==googletag&&googletag.cmd.push(function(){var e=l.getAttribute("data-slot-name"),t=l.getAttribute("data-slot-sizes"),n=l.getAttribute("data-slot-adSizeMap"),i=l.getAttribute("data-outofpage"),r=l.getAttribute("data-pagesTraversed"),o=l.getAttribute("data-slot-is-deactivated"),a=l.getAttribute("data-slot-is-collapsed"),s=googletag.sizeMapping();null!=n&&0<n.length&&JSON.parse(n).forEach(function(e){var t=e.slice(1);1===t.length&&0===t[0][0]&&0===t[0][1]&&(t=[]),s.addSize(e[0],t)}),t=("true"===i?googletag.defineOutOfPageSlot(e,u):googletag.defineSlot(e,JSON.parse(t),u)).defineSizeMapping(s.build()).addService(googletag.pubads()),"true"===a&&(t=t.setCollapseEmptyDiv(!0,!0)),googleDfpSlots[e]=t,null!==r?(Ie.a.get("pagesTraversed_"+e)?(a=Ie.a.get("pagesTraversed_"+e),a=Number(a),Ie.a.set("pagesTraversed_"+e,++a)):Ie.a.set("pagesTraversed_"+e,1),e=Ie.a.get("pagesTraversed_"+e),Number(e)===Number(r)&&"true"!==o&&(googletag.display(u),googletag.pubads().refresh([t]))):"true"!==o&&(googletag.display(u),googletag.pubads().refresh([t]))})}n("./node_modules/jquery-migrate/dist/jquery-migrate.js");function isTouchScreen(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints}function breakpoint(){return window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content").replace(/"/g,"")}function getParameterByName(e,t){t=1<arguments.length&&void 0!==t?t:window.location.href;e=e.replace(/[[\]]/g,"\\$&");t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}function Throttle_throttle(i,r){if(i<=0)return r;var o,a,s=0;return function(){var e,t,n;a=arguments,o||(e=this,t=+Date.now(),(n=i-t+s)<=0?(s=t,r.apply(e,a)):o=setTimeout(function(){s=t,o=null,r.apply(e,a)},n))}}var Qt=function(){function BackTop(e,t){var n=this;c()(this,BackTop),this.el=e,"mq-lg"!==breakpoint()&&"mq-xl"!==breakpoint()||window.addEventListener("scroll",Throttle_throttle(75,function(){n.toggleScroll()})),this.el.addEventListener("click",this.scrollToItem)}return o()(BackTop,[{key:"toggleScroll",value:function toggleScroll(){var e=document.getElementById("backTop")||document.getElementById("scrollTop");e&&560<document.documentElement.scrollTop?e.style.display="block":e.style.display="none"}},{key:"scrollToItem",value:function scrollToItem(){window.scroll({top:0,left:0,behavior:"smooth"})}}]),BackTop}(),Zt=function(){function Banner(e){c()(this,Banner),this.$el=S()(e),this.sessionKey="BannerStatus",this._shouldBarBeOpen(),this.init()}return o()(Banner,[{key:"init",value:function init(){var t=this;this.$el.find("button").on("click",function(e){window.sessionStorage.setItem(t.sessionKey,!0),t.$el.attr("data-banner-hide",!0)})}},{key:"_shouldBarBeOpen",value:function _shouldBarBeOpen(){null===window.sessionStorage.getItem(this.sessionKey)?this.$el.removeAttr("data-banner-hide",!0):this.$el.attr("data-banner-hide",!0)}}]),Banner}(),Jt=function(){function Toggle(e){c()(this,Toggle),this.el=e}return o()(Toggle,[{key:"OnChange",get:function get(){return fromEvent(this.el,"click").pipe(map_map(function(e){return e&&e.target&&e.target.checked}))}}]),Toggle}(),en=function(){function CheckoutPromo(e,t,n){c()(this,CheckoutPromo),this.__checkoutPage=e,this.__updateInvoice=t,this.__onPromoClicked=n,this.__checkoutPageBaseSelector=getBaseSelector(),this.__current_class="current",this.__selected_class="selected",this.__section_selector="> section",this.__price_selector="data-product-price-id",this.__alt_price_selector="data-alt-product-price-id",this.__product_selector="data-product-id",this.__alt_product_selector="data-alt-product-id",this.__free_trial_selector="data-is-free-trial",this.__gtm_price_selector="data-gtm-ecommerce-price",this.__title_selector="data-title",this.__alt_title_selector="data-alternate-title",this.__description_selector="data-description",this.__alt_description_selector="data-alternate-description",this.__includes={},this.invoices={},this.allIncludes=S()(".CheckoutPromoInclude"),this.allPlans=S()(this.__checkoutPageBaseSelector+"-product-plans > a"),this.allPlanDescriptions=S()(this.__checkoutPageBaseSelector+"-product-plan-description"),this.currentPlan=S()(this.__checkoutPageBaseSelector+"-product-selection.selected.current").parent("a"),this.currentInclude=S()(this.allIncludes).not(S()(".CheckoutPromoInclude-hidden")),this.currentPriceId=S()(e.main).attr("data-product-price-id"),this.currentAltPriceId=S()(e.main).attr("data-alt-product-price-id"),this.currentProductId=S()(e.main).attr("data-product-id"),this.currentAltProductId=S()(e.main).attr("data-alt-product-id"),this.currentIsFreeTrial="true"===S()(e.main).attr("data-is-free-trial"),this.__init()}return o()(CheckoutPromo,[{key:"getCurrentTitle",value:function getCurrentTitle(e,t){if(!e)return this.currentPlan.attr(this.__title_selector);e="true"===this.currentPlan.attr("data-is-free-trial");return t?this.currentPlan.attr(e?this.__title_selector:this.__alt_title_selector):this.currentPlan.attr(e?this.__alt_title_selector:this.__title_selector)}},{key:"getCurrentDescription",value:function getCurrentDescription(e,t,n){return(t?"true"===this.currentPlan.attr("data-is-free-trial")?n?e.allPlanDescriptions.filter('[data-product-price-id="'+e.currentPriceId+'"]'):e.allPlanDescriptions.filter('[data-product-price-id="'+e.currentAltPriceId+'"]'):n?e.allPlanDescriptions.filter('[data-product-price-id="'+e.currentAltPriceId+'"]'):e.allPlanDescriptions.filter('[data-product-price-id="'+e.currentPriceId+'"]'):e.allPlanDescriptions.filter('[data-product-price-id="'+e.currentPriceId+'"]')).first().html()}},{key:"flipProductToFromTrial",value:function flipProductToFromTrial(){this.onClick(this.__checkoutPage,this.currentPriceId,this.invoices[this.currentPriceId],this.currentAltPriceId||this.currentPriceId,this.currentIsFreeTrial,this.currentProductId,this.currentAltProductId||this.currentProductId)}},{key:"getInvoice",value:function getInvoice(e){return this.invoices[e]}},{key:"updateCurrentInvoice",value:function updateCurrentInvoice(e,t){var n=this;this.invoices[this.currentPriceId].primary=e,this.invoices[this.currentPriceId].freeTrialSummary=e,this.invoices[this.currentPriceId].nonFreeTrialSummary=e;var i=this.currentAltPriceId?t===this.currentPriceId?this.currentAltPriceId:this.currentPriceId:null;i&&(t={productPriceId:i,action:"none",additionalCodes:this.__checkoutPage.appliedPromoGenerator?this.__checkoutPage.appliedPromoGenerator.toArray(this.__checkoutPage.currentlyAppliedPromos).join("|"):"",inventoryChannelId:this.__checkoutPage.inventoryChannelId},this.__checkoutPage.requestPromoUpdateFromApi(t).done(function(e){n.currentIsFreeTrial?n.currentPriceId===i?n.invoices[n.currentPriceId].freeTrialSummary=e:n.invoices[n.currentPriceId].nonFreeTrialSummary=e:n.currentPriceId===i?n.invoices[n.currentPriceId].nonFreeTrialSummary=e:n.invoices[n.currentPriceId].freeTrialSummary=e}))}},{key:"updateInvoices",value:function updateInvoices(o){var a=this,s=[];merge(this.allPlans.length?this.allPlans:S()(this.__checkoutPageBaseSelector+"-main")).subscribe({next:function next(e){var t=S()(e),n=t.attr(a.__price_selector),i=t.attr(a.__alt_price_selector),r=t.attr(a.__product_selector),e=t.attr(a.__alt_product_selector),t="true"===t.attr(a.__free_trial_selector);!o&&n===a.currentPriceId||s.push(Promise.all(a.__updateInvoice(a.__checkoutPage,n,void 0,i||n,t,r,e||r)))},complete:function complete(){o&&Promise.all(s).then(function(e){return a.initOnClick(a.__checkoutPage,a.__onPromoClicked)})}})}},{key:"initOnClick",value:function initOnClick(o,a){var s=this;this.onClick=a,S()(this.allPlans).click(function(){s.currentPlan=S()(this);var e=s.currentPlan.attr(s.__price_selector),t=s.currentPlan.attr(s.__alt_price_selector),n=s.currentPlan.attr(s.__product_selector),i=s.currentPlan.attr(s.__alt_product_selector),r="true"===s.currentPlan.attr(s.__free_trial_selector);s.currentPriceId=e,s.currentAltPriceId=t,s.currentProductId=n,s.currentAltProductId=i,s.currentIsFreeTrial=r,S()(s.allPlans).find(s.__section_selector).removeClass(s.__selected_class),S()(s.currentPlan).find(s.__section_selector).addClass(s.__selected_class),a(o,e,s.invoices[e],t||e,r,n,i||n)}),o.freeTrialToggle&&(o.freeTrialToggle.disabled=!1)}},{key:"toggleBorder",value:function toggleBorder(e){var t=S()(e).find(this.__section_selector),e=S()(this.currentPlan).find(this.__section_selector);S()(t).hasClass(this.__current_class)?(S()(e).addClass(this.__current_class),S()(t).removeClass(this.__current_class)):(S()(e).removeClass(this.__current_class),S()(t).addClass(this.__current_class))}},{key:"__initIncludes",value:function __initIncludes(){var i=this;this.allIncludes.each(function(e,t){var n=S()(this).attr(i.__price_selector);i.__includes[n]=S()(i.allIncludes).filter("["+i.__price_selector+'="'+n+'"]').html()})}},{key:"__init",value:function __init(){var t=this;this.__initIncludes(),S()(this.allPlans).hover(function(){var e;this!==t.currentPlan.get(0)&&(t.toggleBorder(this),e=S()(this).attr(t.__price_selector),S()(t.currentInclude).html(t.__includes[e]))},function(){this!==t.currentPlan.get(0)&&(t.toggleBorder(this),S()(t.currentInclude).html(t.__includes[t.currentPriceId]))})}}]),CheckoutPromo}(),tn=function(){function AppliedPromo(e){c()(this,AppliedPromo);var t=e.innerHTML,e=document.createElement("div");e.innerHTML=t.trim(),this.template=e.firstChild}return o()(AppliedPromo,[{key:"generate",value:function generate(e){var t=this.template.cloneNode(!0),n=t.querySelector(".AppliedPromo-code"),i=t.querySelector("button");return t.setAttribute("data-promo-code",e),n&&(n.innerHTML=e),i&&i.setAttribute("id",e+"Remove"),t}},{key:"toArray",value:function toArray(e){var t=[];return e.forEach(function(e){t.push(e)}),t}}]),AppliedPromo}(),nn=function(){function ConfirmationModal(){c()(this,ConfirmationModal),this.init()}return o()(ConfirmationModal,[{key:"init",value:function init(){this.modal=S()(".ConfirmationModal"),this.overlay=S()(".ConfirmationModal-overlay"),this.description=S()(".ConfirmationModal-description"),this.placeholder=this.modal.attr("data-email-placeholder")}},{key:"showModal",value:function showModal(){this.modal.show(),this.overlay.show()}},{key:"replaceDescription",value:function replaceDescription(e){this.description.text(this.description.text().replace(this.placeholder,e))}}]),ConfirmationModal}(),rn=function(){function PromoCodeRedemptionInput(e){c()(this,PromoCodeRedemptionInput),this.__selectors={button:".PromoCodeRedemptionInput-button button",input:".PromoCodeRedemptionInput input",errorMessage:".PromoCodeRedemptionInput-errorMessage",redemption:".PromoCodeRedemptionInput",errorRedirect:'input[name="ErrorRedirect"]'},this.__checkoutPage=e,this.__checkoutPageBaseSelector=getBaseSelector(),this.__errorRedirect=S()(this.__selectors.errorRedirect),this.__errorMessage=S()(this.__selectors.errorMessage),this.__button=S()(this.__selectors.button),this.__input=S()(this.__selectors.input),this.__redemptionContainer=S()(this.__checkoutPageBaseSelector+"-PromoCodeRedemption"),this.__redemption=S()(this.__selectors.redemption)}return o()(PromoCodeRedemptionInput,[{key:"redeemPromoUrl",get:function get(){return this.__redemption.attr("data-promo-redeem-url")}},{key:"invoiceViewUrl",get:function get(){return this.__redemption.attr("data-invoice-view-url")}},{key:"init",value:function init(){this.__button.on("click",this.__onClick.bind(this)),""!==this.__input.val()&&this.__button.click(),S()(this.__checkoutPageBaseSelector+"-toggle").hide()}},{key:"__onClick",value:function __onClick(e){e.preventDefault();var t=this;t.__formIsValid(t.__redemption.get(0))&&(t.__button.get(0).disabled=!0,S.a.get(t.redeemPromoUrl+"?promoCode="+t.__input.val(),function(e){t.__onRedemptionSuccess(t,e)}).fail(function(e){t.__revealError(t,"Redemption",e)}))}},{key:"__onRedemptionSuccess",value:function __onRedemptionSuccess(t,e){t.__promoIsValid(e)?S.a.ajax(t.__getInvoiceViewPost(t,e)).fail(function(e){t.__revealError(t,"Invoice",e)}):t.__promoIsRedirect(e)?window.location=e.redirectTo:t.__revealError(t,"Validation - PromoCode",e.ValidationResults[0].Validations[0].Message)}},{key:"__onInvoiceSuccess",value:function __onInvoiceSuccess(e,t,n){var i=e.__checkoutPage;i.onPromoClicked(i,t,{primary:n,freeTrialSummary:n,nonFreeTrialSummary:n}),i.currentlyAppliedPromos=i.getInitialPromoCodes(i.summarySection),S()(i.main).add(e.__redemptionContainer).toggle(400,function(){e.__redemptionContainer.detach()}),e.__ensureErrorRedirect(e)}},{key:"__getInvoiceViewPost",value:function __getInvoiceViewPost(t,e){var e=e.ProductInvoices[0],n=e.Items[0].ProductPricingId;return{method:"POST",contentType:"application/json; charset=utf-8",url:t.invoiceViewUrl,data:JSON.stringify(e),dataType:"html",xhrFields:{withCredentials:!0},statusCode:{200:function _(e){t.__onInvoiceSuccess(t,n,e)}}}}},{key:"__ensureErrorRedirect",value:function __ensureErrorRedirect(e){var t=window.location.search;t.includes("promoCodes")?e.__errorRedirect.val(window.location.href):""!==t?e.__errorRedirect.val(window.location.href+"&promoCodes="+e.__input.val()):e.__errorRedirect.val(window.location.href+"?promoCodes="+e.__input.val())}},{key:"__revealError",value:function __revealError(e,t,n){window.console.log("["+t+"]",n),e.__errorMessage.show(),e.__button.get(0).disabled=!1}},{key:"__getValidationError",value:function __getValidationError(e){return e&&e.ValidationResults&&0<e.ValidationResults.length&&e.ValidationResults[0]&&e.ValidationResults[0].Validations&&0<e.ValidationResults[0].Validations.length?e.ValidationResults[0].Validations[0].Message:"Error encountered while redeeming promo code."}},{key:"__promoIsValid",value:function __promoIsValid(e){return e&&e.ProductInvoices&&0<e.ProductInvoices.length&&e.ProductInvoices[0].Items&&0<e.ProductInvoices[0].Items.length}},{key:"__promoIsRedirect",value:function __promoIsRedirect(e){return e&&e.redirectTo}},{key:"__formIsValid",value:function __formIsValid(t){var n;return t.reportValidity||(n="polyfill-submit",S()('<button id="'+n+'" type="submit" style="display:none;"></button>').appendTo(S()(t)),window.HTMLFormElement.prototype.reportValidity=function(){var e=t.checkValidity();return e||S()("#"+n).click(),e}),t.reportValidity()}}]),PromoCodeRedemptionInput}();function GTMECommerceAnalytics_ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function GTMECommerceAnalytics_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?GTMECommerceAnalytics_ownKeys(Object(n),!0).forEach(function(e){d()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GTMECommerceAnalytics_ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var on=function(){function GTMECommerceAnalytics(e){c()(this,GTMECommerceAnalytics),this.element=e,this.document=document,this.init()}return o()(GTMECommerceAnalytics,[{key:"init",value:function init(){var n=this,i=this;window.addEventListener("load",function(e){var t=e.target;n.onLoad(t,e),n.element.hasAttribute("data-gtm-ecommerce-addToCart")&&GTMECommerceAnalytics.triggerAddToCart(i.element)})}},{key:"onLoad",value:function onLoad(e,t){var n=this.element.hasAttribute("data-purchase-error");window.GTM_LOG&&console.log("Purchase Error? "+n);var r=this.element.getAttribute("data-gtm-ecommerce-currency"),o=this.element.getAttribute("data-gtm-ecommerce-shipping");S()(this.element).on(GTMECommerceAnalytics.events.intentToCheckout.name,function(){GTMECommerceAnalytics.doSendEvent(this,GTMECommerceAnalytics._sendCheckoutEvent,{currencyCode:r},{action:GTMECommerceAnalytics.events.intentToCheckout.name,step:GTMECommerceAnalytics.events.intentToCheckout.step})}),S()(this.element).on(GTMECommerceAnalytics.events.intentToCheckout.name,function(){GTMECommerceAnalytics.doSendEvent(this,GTMECommerceAnalytics._sendGA4AddPaymentInfo,{currencyCode:r})}),S()(this.element).on(GTMECommerceAnalytics.events.attemptCheckout.name,function(){GTMECommerceAnalytics.doSendEvent(this,GTMECommerceAnalytics._sendCheckoutEvent,{currencyCode:r},{action:GTMECommerceAnalytics.events.attemptCheckout.name,step:GTMECommerceAnalytics.events.attemptCheckout.step})}),S()(this.element).on(GTMECommerceAnalytics.events.purchaseFailed.name,function(e,t,n){GTMECommerceAnalytics.doSendEvent(this,GTMECommerceAnalytics._sendCheckoutEvent,{currencyCode:r},{action:GTMECommerceAnalytics.events.purchaseFailed.name,step:GTMECommerceAnalytics.events.purchaseFailed.step},{eventCategory:t,eventValue:n,eventAction:GTMECommerceAnalytics.events.purchaseFailed.name})}),S()(this.element).on(GTMECommerceAnalytics.events.addToCart.name,function(){GTMECommerceAnalytics.doSendEvent(this,GTMECommerceAnalytics._sendAddToCartEvent,{currencyCode:r})}),S()(this.element).on(GTMECommerceAnalytics.events.addToCart.name,function(){GTMECommerceAnalytics.doSendEvent(this,GTMECommerceAnalytics._sendGA4AddToCartEvent,{currencyCode:r})}),S()(this.element).on(GTMECommerceAnalytics.events.purchase.name,function(e,t,n,i){GTMECommerceAnalytics.doSendEvent(this,GTMECommerceAnalytics._sendPurchaseEvent,{id:t,currencyCode:r,tax:n,shipping:o,orderTotal:i})}),S()(this.element).on(GTMECommerceAnalytics.events.purchase.name,function(e,t,n,i){GTMECommerceAnalytics.doSendEvent(this,GTMECommerceAnalytics._sendGA4BeginCheckoutEvent,{id:t,currencyCode:r,tax:n,shipping:o,orderTotal:i}),GTMECommerceAnalytics.doSendEvent(this,GTMECommerceAnalytics._sendGA4PurchaseEvent,{id:t,currencyCode:r,tax:n,shipping:o,orderTotal:i})}),je.addCustomDimension({previousPage:document.referrer})}}],[{key:"doSendEvent",value:function doSendEvent(e,t,n,i,r){var o,a;e&&(a=e.getAttribute("data-gtm-ecommerce-quantity"),o=e.getAttribute("data-gtm-ecommerce-product-variant"),a=GTMECommerceAnalytics._createProductDescriptor(e,o,a),i?t(a,n,i,r):t(a,n))}},{key:"doSendEventSCA",value:function doSendEventSCA(e,t,n,i){n?GTMECommerceAnalytics._sendCheckoutEvent(e,t,n,i):GTMECommerceAnalytics._sendPurchaseEvent(e,t)}},{key:"triggerAddToCart",value:function triggerAddToCart(e){S()(e).trigger(GTMECommerceAnalytics.events.addToCart.name)}},{key:"triggerIntentToCheckout",value:function triggerIntentToCheckout(e){S()(e).trigger(GTMECommerceAnalytics.events.intentToCheckout.name)}},{key:"triggerAttemptCheckout",value:function triggerAttemptCheckout(e){S()(e).trigger(GTMECommerceAnalytics.events.attemptCheckout.name)}},{key:"triggerFailedPurchase",value:function triggerFailedPurchase(e,t,n){S()(e).trigger(GTMECommerceAnalytics.events.purchaseFailed.name,[t,n])}},{key:"triggerPurchase",value:function triggerPurchase(e,t,n,i){S()(e).trigger(GTMECommerceAnalytics.events.purchase.name,[t,n,i])}},{key:"_createProductDescriptor",value:function _createProductDescriptor(e,t,n){if(e){e={name:e.getAttribute("data-gtm-ecommerce-product-name"),id:e.getAttribute("data-gtm-ecommerce-product-price-id"),category:function category(){var e=window.location.pathname.split("/");return e[e.length-1]},price:window.parseFloat(e.getAttribute("data-gtm-ecommerce-product-price")),quantity:1};return t&&(e.variant=t),n&&(e.quantity=window.parseInt(n)),e}return null}},{key:"_sendAddToCartEvent",value:function _sendAddToCartEvent(e,t){var n;t&&t.currencyCode&&e&&(n={actionField:{step:GTMECommerceAnalytics.events.addToCart.step},products:[e]},window.GTM_LOG&&GTMECommerceAnalytics._logEvent(GTMECommerceAnalytics.events.addToCart.name,e,n),GTMECommerceAnalytics._sendECommerceEvent(GTMECommerceAnalytics.events.addToCart.name,"add",n,t.currencyCode),GTMECommerceAnalytics._sendECommerceEvent(GTMECommerceAnalytics.events.addToCart.name,"checkout",n,t.currencyCode))}},{key:"_buildGA4ItemPayload",value:function _buildGA4ItemPayload(e,t){var n=null;if(t&&t.currencyCode&&e){n={currency:t.currencyCode,value:e.price,items:[{item_id:e.id,item_name:e.name,item_category:e.category(),price:e.price,item_quantity:e.quantity}]},t=GTMECommerceAnalytics._getAppliedCoupons().join(", ");return t&&(n.items[0].coupon=t),e.variant&&(n.items[0].item_variant=e.variant),n}}},{key:"_sendGA4AddToCartEvent",value:function _sendGA4AddToCartEvent(e,t){t=GTMECommerceAnalytics._buildGA4ItemPayload(e,t);GTMECommerceAnalytics._sendGA4ECommerceEvent("add_to_cart",t)}},{key:"_sendGA4AddPaymentInfo",value:function _sendGA4AddPaymentInfo(e,t){t=GTMECommerceAnalytics._buildGA4ItemPayload(e,t);GTMECommerceAnalytics._sendGA4ECommerceEvent("add_payment_info",t)}},{key:"_sendGA4PurchaseEvent",value:function _sendGA4PurchaseEvent(e,t){var n=GTMECommerceAnalytics._buildGA4ItemPayload(e,t);n.tax=t.tax,n.shipping=t.shipping,n.transaction_id=t.id||S()('input[name="ExternalOrderID"]').val(),n.value=e.name.toLowerCase().includes("trial")?e.price:t.orderTotal,GTMECommerceAnalytics._sendGA4ECommerceEvent("purchase",n)}},{key:"_sendGA4BeginCheckoutEvent",value:function _sendGA4BeginCheckoutEvent(e,t){var n=GTMECommerceAnalytics._buildGA4ItemPayload(e,t);n.value=e.name.toLowerCase().includes("trial")?e.price:t.orderTotal,GTMECommerceAnalytics._sendGA4ECommerceEvent("begin_checkout",n)}},{key:"_sendCheckoutEvent",value:function _sendCheckoutEvent(e,t,n,i){var r;t&&t.currencyCode&&e&&(r={actionField:{step:n.step},products:[e]},window.GTM_LOG&&GTMECommerceAnalytics._logEvent(n.action,e,r),GTMECommerceAnalytics._sendECommerceEvent(n.action,"checkout",r,t.currencyCode,i))}},{key:"_sendPurchaseEvent",value:function _sendPurchaseEvent(e,t){var n;t&&e&&(n={actionField:{step:GTMECommerceAnalytics.events.purchase.step,id:t.id||S()('input[name="ExternalOrderID"]').val(),revenue:e.name.toLowerCase().includes("trial")?e.price:t.orderTotal,tax:t.tax,shipping:window.parseFloat(t.shipping),coupon:GTMECommerceAnalytics._getAppliedCoupons().join(", ")},products:[e]},window.GTM_LOG&&GTMECommerceAnalytics._logEvent(GTMECommerceAnalytics.events.purchase.name,e,n),GTMECommerceAnalytics._sendECommerceEvent(GTMECommerceAnalytics.events.purchase.name,"checkout",n,t.currencyCode),GTMECommerceAnalytics._sendECommerceEvent(GTMECommerceAnalytics.events.purchase.name,"purchase",n,t.currencyCode))}},{key:"_getAppliedCoupons",value:function _getAppliedCoupons(){var n=[];return S()(".AppliedPromo-code").each(function(e,t){n.push(S()(t).text())}),n}},{key:"_sendECommerceEvent",value:function _sendECommerceEvent(e,t,n,i,r){e&&t&&n&&((i=i?{currencyCode:i}:{})[t]=n,e={event:e},(e=r?GTMECommerceAnalytics_objectSpread(GTMECommerceAnalytics_objectSpread({},e),r):e).ecommerce=i,je.sendDataEvent(e))}},{key:"_sendGA4ECommerceEvent",value:function _sendGA4ECommerceEvent(e,t){e&&t&&((e={event:"ga4_ecommerce",origEvent:e}).ecommerce=t,console.log("[GA4EcommerceEventData] ",e),je.sendDataEvent(e))}},{key:"_logEvent",value:function _logEvent(e,t,n){console.log("["+e+"]Product: "+JSON.stringify(t)),console.log("EventData: "+JSON.stringify(n))}}]),GTMECommerceAnalytics}();function formToKVP(e){var t={};return S()(e).find("input, textarea, select").serializeArray().filter(function(e){return"termsConditionsCheckBox"!==e.name&&"q"!==e.name}).forEach(function(e){t[e.name]="on"===e.value||e.value}),t}function CheckoutPage_ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function CheckoutPage_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?CheckoutPage_ownKeys(Object(n),!0).forEach(function(e){d()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CheckoutPage_ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function getBaseSelector(){var e=S()("html")[0];if(e){if(e.matches(".CheckoutPage"))return".CheckoutPage";if(e.matches(".UpgradeCheckoutPage"))return".UpgradeCheckoutPage";if(e.matches(".SheerIdCheckoutPage"))return".SheerIdCheckoutPage"}return""}d()(on,"events",{addToCart:{name:"add_to_cart",step:1},intentToCheckout:{name:"intent_to_checkout",step:2},attemptCheckout:{name:"attempt_checkout",step:3},purchase:{name:"purchase",step:4},purchaseFailed:{name:"purchase_failed",step:5}});var an=function(){function CheckoutPage(e){c()(this,CheckoutPage),d()(this,"_selectors",{errorRedirect:'input[name="ErrorRedirect"]'}),d()(this,"_failedPurchaseCategories",{freeTrialEligibility:"freeTrialEligibility",duplicateMembership:"duplicateMembership",purchaseError:"purchaseError"}),this.el=e,this.baseSelector=getBaseSelector(),this.initErrorRedirect(e.querySelector(this._selectors.errorRedirect)),this.initCheckout(),this.form&&(this.initPromoCodes(),this.initTaxDisplay(),this.initRedemption(),this.mobileTermsCheck(),this.confirmationModal=new nn,this.postalCodeTimeout=null)}return o()(CheckoutPage,[{key:"initErrorRedirect",value:function initErrorRedirect(e){e&&(e.value=window.location.href.split("?")[0])}},{key:"initCheckout",value:function initCheckout(){this.form=this.el.querySelector(this.baseSelector+"-form"),this.form&&(this.main=S()("main"),this.termsCheckbox=document.getElementById("termsConditions"),this.sameAsBillingCheckbox=document.getElementById("sameAsBilling"),this.emailOptInCheckbox=document.getElementById("emailOptIn"),this.emailOptInFormInput=document.getElementsByName("Email.Opt.In")[0],this.shippingSection=this.el.querySelector(this.baseSelector+"-shipping"),this.summarySection=this.el.querySelector(this.baseSelector+"-summary"),this.submitButton=this.el.querySelector(this.baseSelector+"-submit"),this.creditCard=this.form.querySelector(".customer-cc"),this.redirectUrl=this.form.getAttribute("data-redirect-url"),this.inventoryChannelId=this.form.querySelector('input[name="InventoryChannelID"]').value,this.addCheckoutEvents(),on.triggerAddToCart(this.main),this.freeTrialToggle=this.main.find(this.baseSelector+"-toggle").find("input").get(0),this.freeTrialMinimumDays=this.main.attr("data-free-trial-days")||365,this.freeTrialMessage=this.main.attr("data-free-trial-message"),this.productPriceId=this.main.attr("data-gtm-ecommerce-product-price-id"),this.productId=this.main.attr("data-gtm-ecommerce-product-id"))}},{key:"initPromoCodes",value:function initPromoCodes(){var t=this;this.promoCodeUrl=this.form.getAttribute("data-promo-code-url"),this.promoForm=this.el.querySelector(this.baseSelector+"-promo-form");var e=this.el.querySelector(this.baseSelector+"-promo"),n=this.el.querySelector(this.baseSelector+"-promo-link");this.promo=new en(this,this.updateInvoice,this.onPromoClicked),this.currentlyAppliedPromos=new Set,S()(n).click(function(){S()(e).toggle()}),this.promoForm&&(this.submitPromoInput=this.promoForm.querySelector(this.baseSelector+"-promo-code input"),this.submitPromoButton=this.promoForm.querySelector(this.baseSelector+"-promo-button button"),this.appliedPromos=this.promoForm.querySelector(this.baseSelector+"-promo-applied"),n=S()(this.appliedPromos).find("script"),this.appliedPromoGenerator=new tn(n.get(0)),n.remove(),this.appliedPromoErrorMsg=this.promoForm.querySelector(this.baseSelector+"-error-msg"),this.currentlyAppliedPromos=this.getInitialPromoCodes(this.summarySection),this.addPromoEvents()),this.promo.updateInvoices(!0),this.freeTrialToggle&&(this.freeTrialToggle.disabled=!0,new Jt(this.freeTrialToggle).OnChange.pipe(debounceTime(1e3),tap(function(e){t.promo.flipProductToFromTrial()})).subscribe())}},{key:"initTaxDisplay",value:function initTaxDisplay(){var e=S()(".CheckoutSummary-items-item:first").find(".CheckoutItem-price")[0],t=S()(".CheckoutSummary-items-item:first").find(".CheckoutItem-taxes")[0];e&&t&&-1!==S()(t).html().search(/0.00/)&&-1===S()(e).html().search(/0.00/)&&S()(t).html("TBD"),this.updateTax()}},{key:"initRedemption",value:function initRedemption(){this.redemption=S()(this.baseSelector+"-PromoCodeRedemption"),this.redemption.get(0)&&(this.promoCodeRedemptionInput=new rn(this),this.promoCodeRedemptionInput.init())}},{key:"removeSpecialCharactersFromForm",value:function removeSpecialCharactersFromForm(){var e=S()(this.form),t=/[^a-zA-Z0-9 ]/g,n=e.find('input[name="Payment.Address.Line1"]')[0],i=e.find('input[name="Payment.Address.Line2"]')[0],r=e.find('input[name="Shipping.Address.Line1"]')[0],e=e.find('input[name="Shipping.Address.Line2"]')[0];n&&(n.value=n.value.replace(t,"")),i&&(i.value=i.value.replace(t,"")),r&&(r.value=r.value.replace(t,"")),e&&(e.value=e.value.replace(t,""))}},{key:"reportFormValidity",value:function reportFormValidity(e){return e.reportValidity?e.reportValidity():e.checkValidity()}},{key:"addCheckoutEvents",value:function addCheckoutEvents(){var n=this;S()('[name="Payment.CC.CreditCardNumber"]').hide(),this.creditCard.addEventListener("blur",function(e){var t=n.creditCard.value.replace(/\s+/g,"");S()('[name="Payment.CC.CreditCardNumber"]').val(t)}),this.creditCard.addEventListener("keyup",function(e){if(8===e.keyCode)return!1;if(46===e.keyCode)return!1;n.creditCardFormat(n.creditCard.value);var t=n.validCreditCard(n.creditCard.value),e=n.supportedCreditCard(n.creditCard.value);if(0===n.creditCard.value.length)return!1;e&&t?(S()(".cc-error").addClass("hide"),n.creditCard.classList.remove("invalid")):(S()(".cc-error").removeClass("hide"),n.creditCard.classList.add("invalid"))}),S()(this.sameAsBillingCheckbox).on("change",this.sameAsBillingChecked.bind(this)),S()(this.submitButton).off("click.submit").on("click.submit",function(e){n.submitClicked(e)}),this.emailOptInCheckbox&&this.emailOptInCheckbox.addEventListener("click",function(e){n.toggleEmailOptInInputs(e)}),S()('[name="Payment.Address.PostalCode"]').add('[name="Payment.Address.Country"]').on("change",function(e){n.postalCodeTimeout&&clearTimeout(n.postalCodeTimeout),n.postalCodeTimeout=setTimeout(n.updateTax.bind(n),1e3)}),S()(this.baseSelector+"-payment").one("click",function(e){on.triggerIntentToCheckout(n.main)}),this.asideFixedScroll(),this.resizeWindow()}},{key:"addPromoEvents",value:function addPromoEvents(){this.promoForm.addEventListener("submit",this.submitPromoClicked.bind(this)),S()(this.promoForm).on("click",".AppliedPromo-remove button",this.removePromoClicked.bind(this))}},{key:"getTaxFields",value:function getTaxFields(){var e=S()('[name="Summary.Info"]').attr("data-currency-symbol"),t=S()('[name="Summary.Info"]').attr("data-sub-total"),n=S()('[name="Payment.Address.PostalCode"]').val(),i=S()('[name="Payment.Taxes"]'),r=S()(i).attr("data-tax-code"),n={countryCode:"",currencySymbol:e,price:t,zip:n,taxCode:r,taxCurrency:S()(i).attr("data-tax-currency"),taxUrl:S()(i).attr("data-tax-url")},i=S()('[name="Payment.Address.Country"]');return i.length&&(n.countryCode=i[0].value||i[0].getAttribute("selectedItem"),"ENG"!==n.countryCode&&"SCT"!==n.countryCode&&"WLS"!==n.countryCode&&"NIR"!==n.countryCode||(n.countryCode="GB")),this.getCurrencyCode(r)&&(n.taxCurrency=this.getCurrencyCode(r)),n}},{key:"mobileTermsCheck",value:function mobileTermsCheck(){var e=S()("html")[0];e.matches(".CheckoutPage")?r=".CheckoutPage":e.matches(".UpgradeCheckoutPage")?r=".UpgradeCheckoutPage":e.matches(".SheerIdCheckoutPage")&&(r=".SheerIdCheckoutPage");var t=S()("".concat(r,"-promo-form")),n=S()("".concat(r,"-summaryWrapper")),i=S()("".concat(r,"-main")),e=S()("".concat(r,"-aside")),r=S()("".concat(r,"-completePurchase"));S()(window).width()<850?(S()(t).prependTo(i),S()(e).prependTo(r),S()(n).prependTo(i)):(S()(t).prependTo(e),S()(n).prependTo(e))}},{key:"updateTax",value:function updateTax(){var e,t,n,i,r,l=this.getTaxFields(),u=document.getElementsByClassName("CheckoutItem-price")[0];0!==l.zip.length?l.price&&l.taxUrl&&(r=l.taxUrl,r+="?price="+l.price,r+="&taxCode="+l.taxCode,r+="&taxCurrency="+l.taxCurrency,r+="&zip="+l.zip,r+="&productPriceId="+this.productPriceId,r+="&countryCode="+l.countryCode,S.a.get(r).then(function(e){var t=parseFloat(l.price),n=S()(".CheckoutSummary-items-item:first").find(".CheckoutItem-taxes")[0],i=S()(".CheckoutSummary-items-item:first").find(".CheckoutItem-total")[0],r=S()(".CheckoutSummary-summaryTotal"),o=0,a=!!l.countryCode&&"us"===l.countryCode.toLowerCase(),s=0;u&&(s=parseFloat(u.getAttribute("data-item-price").replace(/[^0-9.]/g,""))),!e||(e=JSON.parse(e))&&(o=e.totalTax,a=!1),S()(n).html(l.currencySymbol+o.toFixed(2).toString()),S()(i).html(S()(i).html().replace(/\d+\.\d+/,(s+o).toFixed(2).toString())),S()(r).html(S()(r).html().replace(/\d+\.\d+/,(t+o).toFixed(2).toString())),a?(S()(n).html(S()(n).html()+"*"),S()(".CheckoutSummary-tax-info").show()):S()(".CheckoutSummary-tax-info").hide()})):"IE"!==S()('[name="Payment.Address.Country"]').val()&&(e=S()(".CheckoutSummary-items-item:first").find(".CheckoutItem-taxes")[0],t=S()(".CheckoutSummary-items-item:first").find(".CheckoutItem-total")[0],n=S()(".CheckoutSummary-summaryTotal"),i=parseFloat(l.price),r=0,u&&(r=parseFloat(u.getAttribute("data-item-price").replace(/[^0-9.]/g,""))),S()(e).html(l.currencySymbol+0..toFixed(2).toString()),S()(t).html(S()(t).html().replace(/\d+\.\d+/,(r+0).toFixed(2).toString())),S()(n).html(S()(n).html().replace(/\d+\.\d+/,(i+0).toFixed(2).toString())))}},{key:"sameAsBillingChecked",value:function sameAsBillingChecked(e){this.sameAsBillingCheckbox.checked?this.shippingSection.setAttribute("data-same-as-billing",!0):this.shippingSection.removeAttribute("data-same-as-billing")}},{key:"toggleEmailOptInInputs",value:function toggleEmailOptInInputs(e){this.emailOptInFormInput.setAttribute("value",this.emailOptInCheckbox.checked)}},{key:"validCreditCard",value:function validCreditCard(e){if(this.isComplete(e)){if(/[^0-9-\s]+/.test(e))return!1;for(var t=0,n=!1,i=(e=e.replace(/\D/g,"")).length-1;0<=i;i--){var r=e.charAt(i),r=parseInt(r,10);n&&9<(r*=2)&&(r-=9),t+=r,n=!n}return!(this.creditCard.value.length<=3)&&t%10==0}return!0}},{key:"supportedCreditCard",value:function supportedCreditCard(e){e=e.substring(0,2);return 2!==e.length||(40<=(e=parseInt(e))&&e<=49||(51<=e&&e<=55||(60<=e&&e<=62||64===e||65===e||(34===e||37===e))))}},{key:"isComplete",value:function isComplete(e){var t=e,n=(t=e.replace(/\s/g,"")).length,e=t.substring(0,2),t="";return 2===e.length&&(e=parseInt(e),S()(".visa, .mastercard, .amex, .discover").removeClass("selected"),40<=e&&e<=49?(t="Visa",S()(".visa").addClass("selected")):51<=e&&e<=55?(t="Master Card",S()(".mastercard").addClass("selected")):60<=e&&e<=62||64===e||65===e?(t="Discover",S()(".discover").addClass("selected")):34===e||37===e?(t="American Express",S()(".amex").addClass("selected")):t="Invalid"),"Invalid"!==t&&("Visa"===t&&(13===n||16===n)||(("Master Card"===t||"Discover"===t)&&16===n||"American Express"===t&&15===n))}},{key:"creditCardFormat",value:function creditCardFormat(e){var t=e,n=(t=t.replace(/[^0-9]/g,"")).substring(0,2),i="",r="",o="",a="",e="";0===this.creditCard.value.length&&S()(".visa, .mastercard, .amex, .discover").removeClass("selected"),2===n.length&&(n=parseInt(n),S()(".visa, .mastercard, .amex, .discover").removeClass("selected"),40<=n&&n<=49?(i="Visa",S()(".visa").addClass("selected")):51<=n&&n<=55?(i="Master Card",S()(".mastercard").addClass("selected")):60<=n&&n<=62||64===n||65===n?(i="Discover",S()(".discover").addClass("selected")):34===n||37===n?(i="American Express",S()(".amex").addClass("selected")):i="Invalid"),4===(r=t.substring(0,4)).length&&(r+=" "),"Visa"===i||"Master Card"===i||"Discover"===i?(4===(o=t.substring(4,8)).length&&(o+=" "),4===(a=t.substring(8,12)).length&&(a+=" "),e=t.substring(12,16)):"American Express"===i?(6===(o=t.substring(4,10)).length&&(o+=" "),a=t.substring(10,15),e=""):"Invalid"===i&&(r=n,e=a=o=""),this.creditCard.value=r+o+a+e}},{key:"validatePaymentForm",value:function validatePaymentForm(){if(!this.termsCheckbox.checked)return window.alert("You must accept the Terms and Conditions to continue"),!1;var e=S()('[name="Payment.Address.PostalCode"]').val();if(!this.isComplete(this.creditCard.value))return window.alert("Credit card number incomplete."),!1;if(!this.validCreditCard(this.creditCard.value))return window.alert("Credit card number invalid."),!1;if(null!==document.querySelector(".hide-billing")&&(S()('[name="Payment.Address.Line1"]').val("null"),S()('[name="Payment.Address.City"]').val("null")),this.sameAsBillingCheckbox&&this.sameAsBillingCheckbox.checked&&(S()('[name="Shipping.Address.Line1"]').val(S()('[name="Payment.Address.Line1"]').val()),S()('[name="Shipping.Address.Line2"]').val(S()('[name="Payment.Address.Line2"]').val()),S()('[name="Shipping.Address.Country"]').val(S()('[name="Payment.Address.Country"]').val()),S()('[name="Shipping.Address.Country"]').change(),S()('[name="Shipping.Address.City"]').val(S()('[name="Payment.Address.City"]').val()),S()('[name="Shipping.Address.StateProvinceCode"]').val(S()('[name="Payment.Address.StateProvinceCode"]').val()),S()('[name="Shipping.Address.PostalCode"]').val(e)),S()(this.form).find('input[name="PromotionalCodes"]').remove(),this.currentlyAppliedPromos.size&&S()('<input type="hidden" name="PromotionalCodes">').val(this.appliedPromoGenerator.toArray(this.currentlyAppliedPromos).join("|")).appendTo(this.form),this.reportFormValidity(this.form))return""===e&&"IE"!==S()('[name="Payment.Address.Country"]').val()&&S()('[name="Payment.Address.PostalCode"]').val("32819"),!0;for(var t=this.form.querySelectorAll(":invalid"),n={},i=[],r=null,o=0;o<t.length;o++){var a=t[o];null===r&&(r=a.parentElement);var s=a.parentElement.textContent.trim();if(a.name&&a.name.includes("CardNumber"))s="Card Number";else if(s.includes("Country"))s="Country";else if(s.includes("State"))s="State";else if(s.includes("Province"))s="Province";else if(s.includes("County"))s="County";else if(s.includes("Parish"))s="Parish";else if(s.includes("Expiration Date")||s.includes("Expiry Year")||s.includes("Exp. Date"))s="Expiration Date";else if(s.includes("MM")||s.includes("YYYY"))continue;n.hasOwnProperty(s)||(i.push(s),n[s]=1)}for(var l="Fix the following input errors to continue: ",u=0;u<i.length;u++)l+="\n    "+i[u];return window.alert(l),"scrollBehavior"in document.documentElement.style&&r.scrollIntoView({block:"center"}),!1}},{key:"submitClicked",value:function submitClicked(e){if(e.preventDefault(),!this.validatePaymentForm())return!1;this.removeSpecialCharactersFromForm(),on.triggerAttemptCheckout(this.main);var t=S()('input[name="Payment.Name"]').val().split(" "),n="New",i="Customer",r=S()('[name="CustomerEmail"]').val(),o=S()('[name="Payment.Address.City"]').val(),a=S()('[name="Payment.Address.Country"]').val(),s=S()('[name="Payment.Address.Line1"]').val(),l=S()('[name="Payment.Address.StateProvinceCode"]').val(),u=S()('[name="Payment.Address.PostalCode"]').val();void 0!==t&&(0<t.length&&(n=t[0]),1<t.length&&(i=t[t.length-1]));var e=this.form,c=this;if(this.disableSubmits(),this.promo.currentIsFreeTrial&&this.freeTrialToggle&&!this.freeTrialToggle.checked){var t=S()(e).attr("data-free-trial-url"),d=!1;if(S.a.ajax({url:t+"?email="+r+"&productPriceId="+this.productPriceId,async:!1,type:"GET",success:function success(e){d="false"===e}}),d)return on.triggerFailedPurchase(this.main,this._failedPurchaseCategories.freeTrialEligibility),window.alert(this.freeTrialMessage),S()(this.freeTrialToggle).click(),this.enableSubmits(),!1}S.a.ajax({type:"POST",url:S()(e).attr("data-create-user-url"),contentType:"application/json; charset=utf-8",data:JSON.stringify({address:{city:o,country:a,line1:s,state:l,zip:u},firstName:n,lastName:i,username:r}),success:function success(e){c.submitForm(c)},error:function error(e){c.submitUserCheckout(c,r,function(e){e?(c.confirmationModal.replaceDescription(r),c.confirmationModal.showModal(),on.triggerFailedPurchase(c.main,c._failedPurchaseCategories.duplicateMembership)):c.submitForm(c)})}})}},{key:"submitForm",value:function submitForm(o){var a=this,s=S()(o.form),l=o.main.attr("data-purchase-delay-seconds"),e=s.find('input[name="ProductPriceID"]').val()||null,t=s.closest("[data-referral-token]").attr("data-referral-token")||null,n=s.closest("[data-referral-enabled-product-price-ids]").attr("data-referral-enabled-product-price-ids")||"";(n?n.split("|"):[]).includes(String(e))&&t&&(s.find('input[name="ReferralToken"]').remove(),s.append('<input type="hidden" name="ReferralToken" value='.concat(t," />")));var u=S()(".CheckoutSummary-summaryTotal span").text().substring(1),c=S()(".CheckoutSummary-items-item:first .CheckoutItem:first .CheckoutItem-price .CheckoutItem-taxes").text().substring(1);o._fillPurchaseToken(o,s).finally(function(e){S.a.ajax({type:"POST",url:s.attr("action"),data:s.serialize(),dataType:"json"}).always(function(e){var t,n,i,r;e?(console.log("TR response",e),r=s.attr("data-redirect-url")+"?PurchaseStatusID="+e.PurchaseStatusID+(window.location.search?"&".concat(window.location.search.slice(1)):""),e.Success?S.a.ajax({url:r,dataType:"json"}).always(function(t){var e=null;t&&t.CustomerSubscriptionID&&(e=t.CustomerSubscriptionID),on.triggerPurchase(o.main,e,c,u),t&&t.RedirectUrl?setTimeout(function(e){window.location.href=t.RedirectUrl},1e3*(l||0)):(window.alert("Your transaction was successful but an unexpected error occurred."),window.location.href="/")}):(n=e.Message,void 0===e.RedirectUrl&&null===e.RedirectUrl||"Pending"!==e.PaymentStatus?(!n&&e.ValidationErrors&&0<e.ValidationErrors.length&&(n=e.ValidationErrors[0].Value),t=s.find('input[name="Token"]')[0],i=s.find('input[name="ExternalOrderID"]')[0],t&&(t.value=null),i&&(i.value=null),on.triggerFailedPurchase(o.main,o._failedPurchaseCategories.purchaseError,{message:n,purchaseStatusId:e.PurchaseStatusID}),a.renderError(e.Message||e.ValidationErrors.map(function(e){return e.Value+"."}).join(" "))):(i=window.location.href,n=new URL(i).pathname,i=(i=window.location.pathname.split("/"))[i.length-1],r=JSON.stringify({email:S()('[name="CustomerEmail"]').val(),purchaseStatusId:e.PurchaseStatusID,paymentReturnUrl:n,gtmQuantity:S()(a.main).attr("data-gtm-ecommerce-quantity"),gtmVariant:S()(a.main).attr("data-gtm-ecommerce-product-variant"),gtmProdName:S()(a.main).attr("data-gtm-ecommerce-product-name"),gtmCurrency:S()(a.main).attr("data-gtm-ecommerce-currency"),gtmShipping:S()(a.main).attr("data-gtm-ecommerce-shipping"),gtmID:S()(a.main).attr("data-gtm-ecommerce-product-price-id"),gtmCategory:i,gtmPrice:window.parseFloat(S()(a.main).attr("data-gtm-ecommerce-product-price")),tax:c,orderTotal:u,purchaseStatusUrl:r}),r=window.btoa(r),Ie.a.set("gc.payment.info",r),window.location.href=e.RedirectUrl))):a.renderError("An unexpected error occurred. Please try again")})})}},{key:"renderError",value:function renderError(e){var t=this.baseSelector+"-purchaseError",n=S()(t);(n=!n.length?S()('<h2 class="'.concat(t.substring(1),'"></h2>')).insertBefore(S()(this.baseSelector+"-contentWrapper")):n).empty().append(e),window.scrollTo(0,0),this.enableSubmits()}},{key:"submitPromoClicked",value:function submitPromoClicked(e){var n=this;e.preventDefault();var i,t,r=S.a.trim(this.submitPromoInput.value);S()(this.appliedPromoErrorMsg).hide(),r&&(this.currentlyAppliedPromos.has(r)?(t=this.appliedPromos.querySelector('.AppliedPromo[data-promo-code="'+r+'"]'),this.flashUpdateIndicator(t)):(this.disableSubmits(),t=this.getTaxFields(),i=S()('input[name="ProductPriceID"]').val(),t={action:"add",promoCode:r,additionalCodes:this.appliedPromoGenerator.toArray(this.currentlyAppliedPromos).join("|"),productPriceId:i,inventoryChannelId:this.inventoryChannelId,countryCode:t.countryCode,currency:t.taxCurrency,zip:t.zip,taxCode:t.taxCode},this.requestPromoUpdateFromApi(t).done(function(e){n.submitPromoInput.value="";var t=n.appliedPromoGenerator.generate(r);n.appliedPromos.appendChild(t),n.currentlyAppliedPromos.add(r),n.flashUpdateIndicator(t);t=S()(e);S()(".CheckoutSummary").replaceWith(t),n.flashUpdateIndicator(t.get(0)),n.promo.updateCurrentInvoice(e,i),n.promo.updateInvoices()}).fail(function(){S()(n.appliedPromoErrorMsg).show().find("span").html(r)}).always(function(){n.enableSubmits(),n.updateTax()})))}},{key:"removePromoClicked",value:function removePromoClicked(e){var n=this,i=S()(e.target).closest(".AppliedPromo"),r=i.attr("data-promo-code");this.disableSubmits();var e=this.getTaxFields(),t=new Set;this.currentlyAppliedPromos.forEach(function(e){t.add(e)}),t.delete(r);var o=S()('input[name="ProductPriceID"]').val(),e={action:"remove",promoCode:r,additionalCodes:this.appliedPromoGenerator.toArray(t).join("|"),productPriceId:o,inventoryChannelId:this.inventoryChannelId,countryCode:e.countryCode,currency:e.taxCurrency,zip:e.zip,taxCode:e.taxCode};this.requestPromoUpdateFromApi(e).done(function(e){i.remove(),n.currentlyAppliedPromos.delete(r);var t=S()(e);S()(".CheckoutSummary").replaceWith(t),n.flashUpdateIndicator(t.get(0)),n.promo.updateCurrentInvoice(e,o),n.promo.updateInvoices()}).always(function(){n.enableSubmits(),n.updateTax()})}},{key:"submitUserCheckout",value:function submitUserCheckout(e,t,n){"string"==typeof e.main.attr("data-show-duplicate-modal")?(t=S()(this.form).attr("data-verify-membership-status")+"?email="+t+"&productTypeId="+S()(this.baseSelector+"-payment").attr("data-product-type-id"),S.a.ajax({type:"GET",url:t,dataType:"text",success:function success(e){n("true"===e)},error:function error(e){n(!1)}})):n(!1)}},{key:"requestPromoUpdateFromApi",value:function requestPromoUpdateFromApi(e){var t;return!e||(t=S()(this.baseSelector+'-payment input[name="CustomerSubscriptionID"]')).length&&(e.CustomerSubscriptionId=t.val()),S.a.ajax({method:"POST",url:this.promoCodeUrl,data:e,dataType:"html",xhrFields:{withCredentials:!0}})}},{key:"disableSubmits",value:function disableSubmits(){this.submitButton.disabled=!0,this.submitPromoButton&&(this.submitPromoButton.disabled=!0)}},{key:"enableSubmits",value:function enableSubmits(){this.submitButton.disabled=!1,this.submitPromoButton&&(this.submitPromoButton.disabled=!1)}},{key:"asideFixedScroll",value:function asideFixedScroll(){var e=this.el.querySelector(this.baseSelector+"-summary-box"),t=140,n=20,i=this.el.querySelector(this.baseSelector+"-contentWrapper");window.addEventListener("scroll",Throttle_throttle(125,function updateAsidePosition(){window.innerWidth<1024||(window.pageYOffset>i.clientHeight-e.clientHeight-t+n?(e.classList.add("fixed-bottom-scroll"),e.classList.remove("fixed-scroll")):(window.pageYOffset>t?e.classList.add("fixed-scroll"):e.classList.remove("fixed-scroll"),e.classList.remove("fixed-bottom-scroll")))}))}},{key:"resizeWindow",value:function resizeWindow(){window.addEventListener("resize",Throttle_throttle(100,this.mobileTermsCheck))}},{key:"flashUpdateIndicator",value:function flashUpdateIndicator(e){var t;e&&(e.classList.add(t="flash-update-indicator"),setTimeout(function(){e.classList.remove(t)},400))}},{key:"getInitialPromoCodes",value:function getInitialPromoCodes(e){var n=this.appliedPromos,i=this.appliedPromoGenerator,r=new Set;return S()(".CheckoutSummary").find(".CheckoutItem-title:contains('Promo Code')").each(function(){var e=S()(this).text().split(":")[1].trim(),t=i.generate(e);n.appendChild(t),r.add(e)}),r}},{key:"updateInvoice",value:function updateInvoice(i,r,n,o,a,s,l){var e={action:"none",additionalCodes:i.appliedPromoGenerator?i.appliedPromoGenerator.toArray(i.currentlyAppliedPromos).join("|"):"",inventoryChannelId:i.inventoryChannelId},e=merge([CheckoutPage_objectSpread({productPriceId:r},e),CheckoutPage_objectSpread({productPriceId:o},e)]),u={},t=[];return e.subscribe({next:function next(n){var e=new Promise(function(t,e){i.requestPromoUpdateFromApi(n).done(function(e){n.productPriceId===r&&(u.primary=e),a?n.productPriceId===r?u.freeTrialSummary=e:u.nonFreeTrialSummary=e:n.productPriceId===r?u.nonFreeTrialSummary=e:u.freeTrialSummary=e,t(e)})});t.push(e)}}),Promise.all(t).then(function(e){var t;i.promo.invoices[r]=u,n&&(t=r,o&&i.freeTrialToggle&&(t=i.freeTrialToggle.checked?a?o:r:a?r:o),l&&i.freeTrialToggle&&(t=i.freeTrialToggle.checked?a?l:s:a?s:l),n(u,t,s))}),t}},{key:"onPromoClicked",value:function onPromoClicked(r,e,t,o,n,i,a){var s=e,l=i,u=r.freeTrialToggle&&r.freeTrialToggle.checked;function updateSummary(e,t,n){var i;e&&(i=e.primary,r.freeTrialToggle&&(i=S()(u?e.nonFreeTrialSummary||e.freeTrialSummary:e.freeTrialSummary||e.nonFreeTrialSummary)),S()(".CheckoutSummary").replaceWith(i),S()(r.baseSelector+"-main").attr("data-gtm-ecommerce-product-id",n),S()(r.baseSelector+"-main").attr("data-gtm-ecommerce-product-price-id",t),S()(r.baseSelector+"-main").attr("data-gtm-ecommerce-product-name",S()(i).find(".CheckoutSummary-items-item:first .CheckoutItem:first .CheckoutItem-title").text()),S()(r.baseSelector+"-main").attr("data-gtm-ecommerce-product-price",S()(i).find('[name="Summary.Info"]').attr("data-sub-total")),S()('input[name="ProductPriceID"]').val(t),S()(r.baseSelector+"-main").attr("data-alt-product-price-id",o),S()(r.baseSelector+"-main").attr("data-alt-product-id",a),S()(r.baseSelector+"-pageHeading").text(r.promo.getCurrentTitle(void 0!==r.freeTrialToggle,!u)),S()(r.baseSelector+"-pageSubHeading").html(r.promo.getCurrentDescription(r.promo,void 0!==r.freeTrialToggle,!u)),r.ensureTermsAndConditionsLabel(t),r.productPriceId=t,r.productId=n,r.updateTax(),r.initTaxDisplay(),on.triggerAddToCart(r.main))}o&&r.freeTrialToggle&&(s=u?n?o:e:n?e:o),a&&r.freeTrialToggle&&(l=u?n?a:i:n?i:a),void 0!==t?updateSummary(t,s,l):r.updateInvoice(r,e,updateSummary,o,n,i,a)}},{key:"ensureTermsAndConditionsLabel",value:function ensureTermsAndConditionsLabel(n){var e=S()(this.baseSelector+"-summary-termsConditions").find("label"),i=!1,r={};e.each(function(e,t){"none"!==t.display&&(r=t),i||t.getAttribute("data-price-id")!==n?S()(t).hide():(i=!0,S()(t).show())}),i||S()(r).show()}},{key:"_fillPurchaseToken",value:function _fillPurchaseToken(n,e){if(e.length<=0)return Promise.resolve();var i=e.find('input[name="Token"]')[0],r=e.find('input[name="ExternalOrderID"]')[0];if(i&&i.value)return Promise.resolve();var t=formToKVP(e[0]);if(!t||t.length<=0)return console.error("No inputs found on the form!"),Promise.reject();var o=e.attr("data-purchase-token-url");if(!o)return console.error("GolfId token retrieval is enabled but no token url was found!"),Promise.reject();var e=e[0].querySelector('input[name="Payment.CC.CVVCode"]'),a={customerEmail:t.CustomerEmail,enforceCvdVerification:!!e,billingAddress:{line1:t["Payment.Address.Line1"],line2:t["Payment.Address.Line2"],city:t["Payment.Address.City"],country:t["Payment.Address.Country"],state:t["Payment.Address.StateProvinceCode"],zipCode:t["Payment.Address.PostalCode"]}};return window.grecaptcha&&window.paymentCaptchaSiteKey?new Promise(function(t,e){window.grecaptcha.execute(window.paymentCaptchaSiteKey,{action:"submit"}).then(function(e){a.reCAPTCHAToken=e,t(n._setTokenFromGolfId(o,a,i,r))})}):n._setTokenFromGolfId(o,a,i,r)}},{key:"_setTokenFromGolfId",value:function _setTokenFromGolfId(e,i,t,n){return new Promise(function(t,n){S.a.ajax({url:e,method:"POST",contentType:"application/json",data:JSON.stringify(i),success:function success(e){t(e)},error:function error(e){n(e)}})}).then(function(e){e&&(t&&(t.value=e.token),n&&(n.value=e.token))}).catch(function(e){console.error("Getting token from GolfId failed with the following response:",e)})}},{key:"getCurrencyCode",value:function getCurrencyCode(e){return{AF:"AFN",AX:"EUR",AL:"ALL",DZ:"DZD",AS:"USD",AD:"EUR",AO:"AOA",AI:"XCD",AG:"XCD",AR:"ARS",AM:"AMD",AW:"AWG",SH:"SHP",AU:"AUD",AT:"EUR",AZ:"AZN",BS:"BSD",BH:"BHD",BD:"BDT",BB:"BBD",BE:"EUR",BZ:"BZD",BJ:"XOF",BM:"BMD",BT:"INR",VE:"VEF",BA:"BAM",BW:"BWP",BV:"NOK",BR:"BRL",IO:"USD",BN:"BND",BG:"BGN",BF:"XOF",BI:"BIF",KH:"KHR",CM:"XAF",CA:"CAD",CV:"CVE",KY:"KYD",CF:"XAF",TD:"XAF",CL:"CLP",CN:"CNY",CX:"AUD",CC:"AUD",CO:"COU",KM:"KMF",CK:"NZD",CR:"CRC",CI:"XOF",HR:"HRK",CW:"ANG",CY:"EUR",CZ:"CZK",DK:"DKK",DJ:"DJF",DM:"XCD",DO:"DOP",TP:"USD",EC:"USD",EG:"EGP",SV:"USD",ENG:"GBP",GQ:"XAF",ER:"ERN",EE:"EUR",ET:"ETB",FK:"FKP",FO:"DKK",FM:"USD",FJ:"FJD",FI:"EUR",FR:"EUR",GF:"EUR",PF:"XPF",TF:"EUR",GA:"XAF",GM:"GMD",GE:"GEL",DE:"EUR",GH:"GHS",GI:"GIP",GR:"EUR",GL:"DKK",GD:"XCD",GP:"EUR",GU:"USD",GT:"GTQ",GG:"GBP",GN:"GNF",GW:"XOF",GY:"GYD",HT:"USD",HM:"AUD",HN:"HNL",HK:"HKD",HU:"HUF",IS:"ISK",IN:"INR",ID:"IDR",IE:"EUR",IM:"GBP",IL:"ILS",IT:"EUR",JM:"JMD",JP:"JPY",JE:"GBP",JO:"JOD",KZ:"KZT",KE:"KES",KI:"AUD",KW:"KWD",KG:"KGS",LA:"LAK",LV:"EUR",LB:"LBP",LS:"ZAR",LY:"LYD",LI:"CHF",LT:"EUR",LU:"EUR",MO:"MOP",MG:"MGA",MW:"MWK",MY:"MYR",MV:"MVR",ML:"XOF",MT:"EUR",MH:"USD",MQ:"EUR",MR:"MRU",MU:"MUR",YT:"EUR",MX:"MXV",MC:"EUR",MN:"MNT",ME:"EUR",MS:"XCD",MA:"MAD",MZ:"MZN",MM:"MMK",NA:"ZAR",NR:"AUD",NP:"NPR",NL:"EUR",AN:"EUR",NC:"XPF",NZ:"NZD",NI:"NIO",NE:"XOF",NG:"NGN",NU:"NZD",NF:"AUD",NIR:"GBP",MP:"USD",NO:"NOK",OM:"OMR",PK:"PKR",PW:"USD",PA:"PAB",PG:"PGK",PY:"PYG",PE:"PEN",PH:"PHP",PN:"NZD",BO:"BOV",PL:"PLN",PT:"EUR",TW:"TWD",PR:"USD",QA:"QAR",KR:"KRW",MD:"MDL",RE:"EUR",RO:"RON",RU:"RUB",RW:"RWF",BL:"EUR",KN:"XCD",LC:"XCD",PM:"EUR",VC:"XCD",WS:"WST",SM:"EUR",ST:"STN",SA:"SAR",SCT:"GBP",SN:"XOF",RS:"RSD",SC:"SCR",SL:"SLL",SG:"SGD",BQ:"USD",SX:"ANG",SK:"EUR",SI:"EUR",SB:"SBD",SO:"SOS",ZA:"ZAR",GS:"FKP",SS:"SSP",ES:"EUR",LK:"LKR",PS:"PSP",SR:"SRD",SJ:"NOK",SZ:"SZL",SE:"SEK",CH:"CHW",TJ:"TJS",TH:"THB",MK:"MKD",TL:"USD",TG:"XOF",TK:"NZD",TO:"TOP",TT:"TTD",TN:"TND",TR:"TRY",TM:"TMT",TC:"USD",TV:"AUD",UG:"UGX",UA:"UAH",AE:"AED",GB:"GBP",TZ:"TZS",US:"USD",UM:"USD",UY:"UYU",UZ:"UZS",VU:"VUV",VA:"EUR",VN:"VND",VG:"USD",VI:"USD",WLS:"GBP",WF:"XPF",EH:"MAD",YE:"YER",YU:"YUM",ZM:"ZMW"}[e]}}]),CheckoutPage}();d()(an,"SELECTOR",".CheckoutPage, .UpgradeCheckoutPage, .SheerIdCheckoutPage");var sn=function(){function DvtAnalyticsHook(e){c()(this,DvtAnalyticsHook),this.initPostMessageHook()}return o()(DvtAnalyticsHook,[{key:"initPostMessageHook",value:function initPostMessageHook(){window.addEventListener("message",this.postMessageListener)}},{key:"postMessageListener",value:function postMessageListener(e){var t,n;"gp-dvt-newsletter"===e.data.type&&(t="Registration Success",n="E-mail Opt In",e.data.success||(t="Registration Failure",n=e.data.message),function DvtAnalyticsHook_debug(){ln&&console.log.apply(console,arguments)}("Sending GTM google analytics event",n={event:"gaEvent",eventCategory:"DVT Registration",eventAction:t,eventLabel:n,eventValue:0}),je.sendDataEvent(n))}}]),DvtAnalyticsHook}();var ln=window.sessionStorage&&window.sessionStorage.getItem("GA_EVENTS_DEBUG"),un=function(){function SweepstakesFormField(){c()(this,SweepstakesFormField),this.__fieldContainerSelectors=[".SweepstakesFormOneFieldContainer-field",".SweepstakesFormTwoFieldContainer-field",".SweepstakesFormThreeFieldContainer-field"],this.__fieldLabelSelectors=[".TextInput-label",".EmailInput-label",".PhoneNumberInput-label",".DateInput-label"],this.__fieldDescriptionSelectors=[".TextInput-description",".EmailInput-description",".PhoneNumberInput-description",".DateInput-description"],this.terms=S()(".SweepstakesForm-terms"),this.optIns=S()(".SweepstakesFormOptin-optIn > input"),this.__init()}return o()(SweepstakesFormField,[{key:"setFieldsReadonly",value:function setFieldsReadonly(){S()(this.__fieldLabelSelectors.join(",")).each(function(e,t){t=S()(t).find("input");void 0!==t&&S()(t).attr("readonly","true")})}},{key:"__init",value:function __init(){this.__initRequiredFields(),this.__initDescriptions(),this.optIns.get(0)&&S()(this.terms).css("padding-bottom","10px")}},{key:"__initRequiredFields",value:function __initRequiredFields(){S()(this.__fieldLabelSelectors.join(",")).each(function(e,t){t=S()(t).find("input").filter("[required]");void 0!==t&&S()("<span class='required-asterisk'>*</span>").insertBefore(S()(t)),"date"===S()(t).attr("type")&&S()(t).css("line-height",S()(t).css("height"))})}},{key:"__initDescriptions",value:function __initDescriptions(){var i=this;S()(this.__fieldDescriptionSelectors.join(",")).each(function(e,t){var n=S()(t).prev("input");void 0!==n&&(S()(t).closest(i.__fieldContainerSelectors.join(",")).siblings().each(function(e,t){void 0===S()(t).find(i.__fieldDescriptionSelectors.join(",")).get(0)&&S()(t).addClass("no-description")}),S()(t).detach().insertBefore(S()(n)))})}}]),SweepstakesFormField}(),cn=function(){function SweepstakesForm(){c()(this,SweepstakesForm),this.fields=new un,this.__form=document.forms["sweepstakes-form"],this.__submitButton=S()(".SweepstakesForm-button button"),this.__errorMessage=S()(this.__form).parent().find(".SweepstakesForm-errorMessage"),this.__successMessage=S()(this.__form).parent().find(".SweepstakesForm-successMessage"),this.__getData(this.__form,this.__submitButton),this.__initForm(this.__form),this.addEvents(this.__submitButton)}return o()(SweepstakesForm,[{key:"addEvents",value:function addEvents(e){S()(e).on("click",this.__onSubmit.bind(this))}},{key:"arrayHasValue",value:function arrayHasValue(o,e,t){return!!o&&(o.includes?o.includes(e,0|t):function(e,t){if(null==o)throw new TypeError('"array" is null or not defined');var n=Object(o),i=n.length>>>0;if(0==i)return!1;var t=0|t,r=Math.max(0<=t?t:i-Math.abs(t),0);for(;r<i;){if(function sameValueZero(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(n[r],e))return!0;r++}return!1})}},{key:"__getData",value:function __getData(e,t){this.__key=S()(e).attr("data-external-key"),this.__cookieName=S()(e).attr("data-cookie-name"),this.__postSubmitLocation=S()(t).attr("data-href"),this.__cookieMaxAge=S()(e).attr("data-cookie-max-age"),this.__exactTargetEndpoint=S()(e).attr("data-exact-target-endpoint"),this.__submissionErrorMessage=S()(e).attr("data-submission-error-message"),this.__submissionSuccessMessage=S()(e).attr("data-submission-success-message"),this.__multipleSubmissionErrorMessage=S()(e).attr("data-multiple-submission-error-message")}},{key:"__initForm",value:function __initForm(t){var n,e=this.fields,i=this;window.HTMLFormElement.prototype.toKVP=function(){var t=S()(e.optIns)?S()(e.optIns).get().map(function(e){return e.name}):void 0,n=S()(this).serializeArray().filter(function(e){return"termsConditionsCheckBox"!==e.name}).filter(function(e){return!t||!i.arrayHasValue(t,e.name)}).map(function(e){return{key:e.name,value:e.value}});return t&&S()(e.optIns).each(function(e,t){t&&"true"===t.getAttribute("submit")&&n.push({key:t.name,value:t.checked})}),n},t.reportValidity||((n=this).__reportValidityPolyfillButtonId="sweepstakes-validation-temp",S()('<button id="'+this.__reportValidityPolyfillButtonId+'" type="submit" style="display:none;"></button>').appendTo(S()(t)),window.HTMLFormElement.prototype.reportValidity=function(){var e=t.checkValidity();return e||S()("#"+n.__reportValidityPolyfillButtonId).click(),e})}},{key:"__onSubmit",value:function __onSubmit(e){if(e.preventDefault(),!this.__form.reportValidity())return!1;e=Ie.a.get(this.__cookieName);if(e&&this.arrayHasValue(window.atob(e.replace(/"/g,"")).split("|"),this.__key))return S()(this.__errorMessage).text(this.__multipleSubmissionErrorMessage),S()(this.__successMessage).hide(),S()(this.__errorMessage).show(),!1;S()(this.__submitButton).get(0).disabled=!0;var t=this,e={fields:this.__form.toKVP(),key:this.__key,cookieMaxAge:Number(this.__cookieMaxAge)};return S.a.ajax({type:"POST",url:t.__exactTargetEndpoint,contentType:"application/json; charset=utf-8",cache:!1,dataType:"json",data:JSON.stringify(e),success:function success(){t.__postSubmitLocation?window.location.replace(t.__postSubmitLocation):(S()(t.__successMessage).text(t.__submissionSuccessMessage),S()(t.__errorMessage).hide(),S()(t.__successMessage).show(),S()(t.__submitButton).hide(),t.fields.setFieldsReadonly())},error:function error(e){console.log("Sweepstakes submission failed: ",e),412===e.status?S()(t.__errorMessage).text(t.__multipleSubmissionErrorMessage):S()(t.__errorMessage).text(t.__submissionErrorMessage),S()(t.__successMessage).hide(),S()(t.__errorMessage).show(),S()(t.__submitButton).get(0).disabled=!1}}),!1}}]),SweepstakesForm}(),dn=function(){function GalleryInline(e){c()(this,GalleryInline),this.el=e,this.init()}return o()(GalleryInline,[{key:"init",value:function init(){var e,t=0,n=this.el.querySelector(".GalleryInline-images");(!(t=n?Number(n.getAttribute("data-slides-length")):t)||6<t)&&(e=this.el.querySelectorAll(".GalleryInline-images-image"),6<(t=t||e.length)&&(n=e[5],(e=document.createElement("span")).innerHTML="+ "+(t-6)+" more",n.setAttribute("more-images","true"),n.appendChild(e)))}}]),GalleryInline}(),hn=n("./node_modules/glightbox/dist/js/glightbox.min.js"),pn=n.n(hn),fn=function(){function GalleryOverlay(e){c()(this,GalleryOverlay),this.el=e,this.settings={gallerySlide:"GallerySlide",gallerySlideInfo:"GallerySlide-info"},this.triggers=Array.prototype.slice.call(this.el.querySelectorAll("[data-open-lightbox]")),this.init()}return o()(GalleryOverlay,[{key:"init",value:function init(){var n=this,o=this;this.updateSlideSelector();this.lightbox=pn()({selector:this.settings.gallerySlide,skin:"GalleryOverlay",lightboxHtml:'<div id="glightbox-body" class="glightbox-container">\n            <div class="gloader visible"></div>\n            <div class="goverlay"></div>\n            <div class="gcontainer">\n               <div id="glightbox-slider" class="gslider"> </div>\n               <div class="gtop">\n                   <div class="gspacer"></div>\n                   <a class="gclose"></a>\n                   <div id="xbanner">\n                    <div class="close"></div>\n                    <div id="googleAde4da51e1-e547-4368-8c9e-f79bef1c1af7" class="GoogleDfpAd" data-slot-name="/1028362/golfadvisor.com_galleries_multi" data-slot-sizes="[[300, 50], [728, 90]]" data-slot-adSizeMap="[[[310, 100], [300, 50]], [[768, 600], [728, 90]]]" data-slot-is-deactivated="false">\n</div>\n                   </div>\n               </div>\n               <div class="ginfo-button"></div>\n               <a class="gnext"></a>\n               <a class="gprev"></a>\n            </div>\n          </div>',loopAtEnd:!0,moreLength:0,onOpen:function onOpen(){document.querySelector("#xbanner .close")&&(document.querySelector("#xbanner .close").onclick=function(e){e.preventDefault(),e.stopPropagation(),document.querySelector("#xbanner").classList.add("hidden")}),document.querySelector(".glightbox-container").classList.toggle("show-info")},onClose:function onClose(){try{googletag.destroySlots([googleDfpSlots["/1028362/golfadvisor.com_galleries_multi"]]),delete googleDfpSlots["/1028362/golfadvisor.com_galleries_multi"]}catch(e){}},beforeSlideChange:function beforeSlideChange(e,t){try{var n=S()(t.slide).parents(".glightbox-container").find(".GoogleDfpAd");1===n.length&&(googletag.display(n.prop("id")),googletag.pubads().refresh([googleDfpSlots[n.data("slotName")]])),document.querySelector("#xbanner")&&document.querySelector("#xbanner").classList.remove("hidden")}catch(e){}},beforeSlideLoad:function beforeSlideLoad(e,t){for(var n,i=t.node.childNodes,r=0;r<i.length;r++)"GallerySlide-info"===i[r].className&&(n=i[r].innerHTML,t.description=n);document.querySelector(".ginfo-button")&&(document.querySelector(".ginfo-button").onclick=function(e){e.preventDefault(),e.stopPropagation(),document.querySelector(".glightbox-container").classList.toggle("show-info")})}}),this.triggers.forEach(function(e){e.addEventListener("click",function(){n.lightbox.open()})}),window.onload=function(e){var i,r,t=document.querySelectorAll(".slick-slider");document.querySelectorAll(".GalleryPage-slides-slide").length&&(i=document.querySelectorAll(".GalleryPage-slides-slide"),r=document.querySelectorAll(".GalleryPage-slides")[0].dataset.slidesLength,n.getSlideCount(i,r)),t.length&&t.forEach(function(e,t,n){r=e.dataset.slidesLength,i=e.querySelector(".slick-track"),o.getSlideCount(i.childNodes,r)})}}},{key:"updateSlideSelector",value:function updateSlideSelector(){for(var e=this.el.querySelectorAll(".GallerySlide"),i="GallerySlideA";0<document.querySelectorAll("."+i).length;)i+="A";this.settings.gallerySlide=i,e.forEach(function(e,t,n){e.classList.contains("slick-cloned")||e.classList.add(i)})}},{key:"getSlideCount",value:function getSlideCount(e,r){var o=1;e.forEach(function(e,t,n){var i;e.classList.contains("slick-cloned")||(i=e.querySelector(".slide-count"),e='<span class="current-number">'.concat(o,'</span> of <span class="total-number">').concat(r,"</span>"),o++,i&&(i.innerHTML=e))})}}]),GalleryOverlay}(),mn=function(){function GalleryLeadSlideCount(e){c()(this,GalleryLeadSlideCount),this.el=e,this.settings={gallerySlide:"GallerySlide",gallerySlideInfo:"GallerySlide-info"},this.init()}return o()(GalleryLeadSlideCount,[{key:"init",value:function init(){var e=this.el.querySelectorAll(".GalleryPage-gridLead-item"),i=1;e.forEach(function(e,t,n){e.classList.contains("slick-cloned")||(e=e.querySelector(".current-number"))&&(e.innerHTML=i,i++)})}}]),GalleryLeadSlideCount}(),gn=function(){function GolfSubscriptionConfirmation(e){c()(this,GolfSubscriptionConfirmation),this.el=e,this.confirmedMessage=this.el.querySelector(".GolfSubscriptionConfirmation-wrapper"),this.unConfirmedMessage=this.el.querySelector(".GolfSubscriptionConfirmation-unconfirmed"),this.unConfirmedMessageErrors=this.el.querySelector(".GolfSubscriptionConfirmation-unconfirmed-description"),this.init()}return o()(GolfSubscriptionConfirmation,[{key:"init",value:function init(){var t=this,e=this.getQueryStringVariables("PurchaseStatusID")[0];null!=e?(console.log("inside purchaseStatusId != null"),e="/cms/_purchaseStatus?PurchaseStatusID=".concat(e),console.log(e),window.fetch(e).then(function(e){if(e.ok)return e;throw new Error("Network response was not ok: "+e.statusText)}).then(function(e){return e.json()}).then(function(e){console.log("data: ",e),"success"===e.purchaseResult?t.showConfirmationDialog():(console.log("Failed Purchase"),t.showUnconfirmedMessage(e.allErrors))}).catch(function(e){console.log("There has been a problem with the fetch operation: ",e.message),t.showUnconfirmedMessage()})):this.showUnconfirmedMessage()}},{key:"showUnconfirmedMessage",value:function showUnconfirmedMessage(e){this.unConfirmedMessage.style.display="block",e&&(t=e.split("|").map(function(e){return"<li>".concat(e,"</li>")}).join(""),this.unConfirmedMessageErrors.innerHTML+="<ul>".concat(t,"</ul>"),this.unConfirmedMessageErrors.style.display="block");var t=this.el.querySelector(".GolfSubscriptionConfirmation-unconfirmed-return-link"),n=t.href;t.addEventListener("click",function(){null!=n?window.location.href=n:window.history.go(-2)})}},{key:"showConfirmationDialog",value:function showConfirmationDialog(){this.confirmedMessage.style.display="block";var n,i=this.el.querySelector(".GolfSubscriptionConfirmation-redirectMessage"),e=this.el.querySelector(".GolfSubscriptionConfirmation-cta"),r=e.querySelector("a").href;e.addEventListener("click",function(){null!=r?window.location.href=r:window.history.go(-2)});var o=Date.now(),a=window.setInterval(function(){n=(Date.now()-o)/1e3;var e,t=10-Math.floor(n);10<=n?(window.clearInterval(a),null!=r?window.location.href=r:window.history.go(-2)):(e=1==t?"second":"seconds",i.innerHTML="You will be redirected back to your initial screen in ".concat(t," ").concat(e))},1e3)}},{key:"getQueryStringVariables",value:function getQueryStringVariables(e){for(var t=window.location.search.substring(1).split("&"),n=[],i=0;i<t.length;i++){var r=t[i].split("=");r[0]===e&&n.push(r[1])}return n}}]),GolfSubscriptionConfirmation}(),yn=function(){function HeaderAd(e){c()(this,HeaderAd),this.el=e,this.header=S()(this.el).closest(".Header")[0],this.headerContentWrapper=document.querySelector(".Header-contentWrapper"),this.globalNav=document.querySelector(".GlobalNavigationHeader"),this.ad=document.querySelector(".Header-leaderBoardAds"),this.body=document.querySelector("body"),this.init()}return o()(HeaderAd,[{key:"init",value:function init(){var t=this,n=this.ad?this.ad.clientHeight:0;this.header.style.marginTop=n+"px",window.addEventListener("scroll",Throttle_throttle(75,function(){84<window.pageYOffset?S()("html").removeClass("smartbanner-visible"):S()("html").addClass("smartbanner-visible");var e=S()("html.smartbanner-active").length?84:0;t.headerScroll(n+e)}))}},{key:"headerScroll",value:function headerScroll(e){window.pageYOffset>e?(this.headerContentWrapper.setAttribute("data-headerscroll","true"),this.globalNav&&this.globalNav.setAttribute("data-headerscroll","true"),this.body.setAttribute("data-headerscroll","true")):(this.headerContentWrapper.removeAttribute("data-headerscroll"),this.globalNav&&this.globalNav.removeAttribute("data-headerscroll"),this.body.removeAttribute("data-headerscroll"))}}]),HeaderAd}(),vn=function(){function InfiniteLoadMore(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,InfiniteLoadMore),this.el=e,this.settings=S.a.extend({},{selectors:{pagination:"[data-pagination-container]",loadMore:"[data-loading-more]",loadingMore:"[data-loading-animation]",items:"[data-pagination-items-container]"}},t),S()(this.el).find(this.selectors.pagination).length?this.init():this.removeNextIndicator()}return o()(InfiniteLoadMore,[{key:"selectors",get:function get(){return this.settings.selectors}},{key:"nextUrl",get:function get(){return this._nextUrl},set:function set(e){this._nextUrl=e}},{key:"init",value:function init(){var t=this;this.nextUrl=S()(this.el).find(this.selectors.pagination).children().last().attr("href"),this.nextPageNumber=this.checkNextPage(this.nextUrl),this.currentPageNumber=1,S()(this.el).on("click",this.selectors.loadMore,function(e){e.preventDefault(),t.currentPageNumber++,t.fetchNextList(t.currentPageNumber)})}},{key:"fetchNextList",value:function fetchNextList(n){var i=this;S.a.get(i.nextUrl).then(function(e){var t=S()(e),e=S()(i.el).attr("data-pagination-parameter-name")?t.find('[data-pagination-parameter-name="'.concat(S()(i.el).attr("data-pagination-parameter-name"),'"]')):t,t=e.find(i.selectors.items).children();i.nextUrl=e.find(i.selectors.pagination).children().last().attr("href"),S()(i.el).find(i.selectors.items).append(t),i.nextPageNumber=i.checkNextPage(i.nextUrl),(!i.nextUrl||i.nextPageNumber<n)&&i.removeNextIndicator()})}},{key:"checkNextPage",value:function checkNextPage(e){if(!e)return 0;e=e.match(/page=[\d]+/);return parseInt(e[0].match(/[\d]+/)[0])}},{key:"removeNextIndicator",value:function removeNextIndicator(){S()(this.el).find(this.selectors.pagination).remove(),S()(this.el).find(this.selectors.loadMore).remove(),S()(this.el).find(this.selectors.loadingMore).remove()}}]),InfiniteLoadMore}(),bn=".LocaleBanner",_n=function(){function LocaleBanner(e){c()(this,LocaleBanner),this.el=e,this.cookieKey="bsp.locale.banner";e=window.isLocaleBannerDebugging;this.isDebugging=e=null===e?!1:e,this.init(),this._shouldGetCountryValue(),this._shouldBarBeOpen()}return o()(LocaleBanner,[{key:"init",value:function init(){for(var t=this,e=this.el.querySelectorAll("button, .LocaleBanner-link-link"),n=0;n<e.length;n++)e[n].addEventListener("click",function(e){t.isDebugging&&console.log("Locale Banner: Adding onClick events..."),document.cookie=t.cookieKey+"=true; path=/",t.el.setAttribute("data-locale-banner-hide",!0)})}},{key:"_shouldGetCountryValue",value:function _shouldGetCountryValue(){var n=this,e=this._getCookie(this.cookieKey),t=null==e,i=this.el.getAttribute("data-is-ajaxed"),r=this.el.getAttribute("data-country-endpoint"),o=null==r;this.isDebugging&&(console.log("Locale Banner: Cookie Value: "+e),console.log("Locale Banner: isAjaxed: "+i),console.log("Locale Banner: Endpoint Url: "+r)),!t||i||o||window.fetch(r,{credentials:"include"}).then(function(e){if(e.ok)return e.text();throw Error("Unable to resolve Locale Banner")}).then(function(e){var t=n._textToHtml(e);n.isDebugging&&(console.log("Locale Banner: HTML from endpoint: "+e),console.log("Locale Banner: newBanner: "),console.dir(t)),t&&(console.log("Locale Banner: Found new banner"),(e=document.querySelector(bn))&&(n.isDebugging&&console.log("Locale Banner: Found old banner"),e.parentNode.replaceChild(t,e),n.isDebugging&&console.log("Locale Banner: Replacing banners"),t.querySelector(bn).getAttribute("data-current-country")&&document.querySelector(bn).removeAttribute("data-locale-banner-hide")))}).catch(function(e){console.log(e)})}},{key:"_textToHtml",value:function _textToHtml(e){var t=document.createElement("div");return t.innerHTML=e,t}},{key:"_shouldBarBeOpen",value:function _shouldBarBeOpen(){this._getCookie(this.cookieKey)&&(this.isDebugging&&console.log("Locale Banner:Hiding locale banner because of set cookie value"),this.el.setAttribute("data-locale-banner-hide",!0))}},{key:"_getCookie",value:function _getCookie(e){e=("; "+document.cookie).split("; "+e+"=");if(2===e.length)return e.pop().split(";").shift()}}]),LocaleBanner}(),Tn=function(){function PageProgressBar(e,t){c()(this,PageProgressBar),this.$ctx=e,this.settings=Object.assign({selectors:{progress:"[data-progress]"}},t),this.$ctx&&this.init()}return o()(PageProgressBar,[{key:"$ctx",value:function $ctx(e){this.$ctx=e}},{key:"selectors",get:function get(){return this.settings.selectors}},{key:"init",value:function init(){this.$ctx.setAttribute("data-progress-show",!0),window.onscroll=this.showProgress}},{key:"showProgress",value:function showProgress(){var e=window.pageYOffset,t=document.querySelector(".Article-articleBody, .Article-large-articleBody, .Article-longform-articleBody").clientHeight;t&&400<e?(t=e/t*100,document.querySelector("[data-progress]").style.display="block",document.querySelector("[data-progress-bar]").style.width=t+"%"):document.querySelector("[data-progress]").style.display="none"}}]),PageProgressBar}(),Sn=n("./node_modules/load-google-maps-api/index.js"),Cn=n.n(Sn),wn=function(){function ListingLocation(e){c()(this,ListingLocation),d()(this,"selectors",{openMapButton:".ListingLocation-locationButton"}),this.el=e,this.openMapButton=this.el.querySelector(this.selectors.openMapButton),this.init()}return o()(ListingLocation,[{key:"init",value:function init(){var n=this;S()(this.openMapButton).click(function(){sendGoogleAnalyticsEvent("Map","Open Map","Open Map From Listings Page"),Cn()({key:getGoogleMapsApiKey(),libraries:["places","visualization"]}).then(function(e){var t='\n              <div id="MapModal" class="Modal MapModal" data-modal>\n                  <div class="Modal-contents MapModal-contents">\n                      <button class="Modal-close MapModal-close" data-close-modal aria-label="close"></button>\n                      <div class="Modal-title MapModal-title">Map</div>\n                      <div class="MapModal-content">\n                          <div class="GMap"\n                                data-gmap-lat="'.concat(S()(n.el).attr("data-lat"),'"\n                                data-gmap-lng="').concat(S()(n.el).attr("data-lng"),'"\n                                data-gmap-highlight-id="').concat(S()(n.el).attr("data-listing-id"),'"\n                                data-gmap-highlight-source="').concat(S()(n.el).attr("data-source"),'"\n                          >\n                              <div class="GMap-map"></div>\n                              <progress class="GMap-progress" max="100"></progress>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n        ');S()("#MapModal").remove(),S()("body").append(S()(t)),S()("#MapModal").attr("data-show","true"),S()("body").attr("data-modal-open","true"),S()("#MapModal .Modal-close").click(function(){S()("#MapModal").remove(),S()("body").attr("data-modal-open","false")})})})}}]),ListingLocation}(),kn=function(){function RegistrationForm(e){c()(this,RegistrationForm),this.init()}return o()(RegistrationForm,[{key:"init",value:function init(){this.countryMap={},this.stateMap={},this.stateLabelMap={},this.postalCodeNotRequired={},this.populateCountries("countrySelect","stateSelect"),this.populateCountries("countrySelectShipping","stateSelectShipping"),this.populateCountries("countryUserSelect","stateUserSelect")}},{key:"buildStateMap",value:function buildStateMap(){this.stateMap.US={AK:"Alaska",AL:"Alabama",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"District of Columbia",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},this.stateMap.BM={DV:"Devonshire",HM:"Hamilton",PG:"Paget",PM:"Pembroke",SG:"Saint George's",SM:"Smith's",SN:"Sandys",SU:"Southhampton",WR:"Warwick"},this.stateMap.CA={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territory",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",SP:"St. Pierre and Miquelon",YT:"Yukon Territory"},this.stateMap.IE={C:"County Cork",CE:"County Clare",CN:"County Cavan",CW:"County Carlow",D:"County Dublin",DL:"County Donegal",G:"County Galway",KE:"County Kildare",KK:"County Kilkenny",KY:"County Kerry",LD:"County Longford",LH:"County Louth",LK:"County Limerick",LM:"County Leitrim",LS:"County Laois",MH:"County Meath",MN:"County Monaghan",MO:"County Mayo",OY:"County Offaly",RN:"County Roscommon",SO:"County Sligo",TA:"County Tipperary",WD:"County Waterford",WH:"County Westmeath",WW:"County Wicklow",WX:"County Wexford"},this.stateMap.MX={AG:"State of Aguascalientes",BA:"Baja California",BJ:"Baja California Sur",CE:"Campeche",CH:"State of Chihuahua",CI:"Chiapas",CL:"State of Colima",CU:"Coahuila de Zaragoza",DF:"Mexican Federal District",DO:"State of Durango",GR:"Guerrero",GU:"State of Guanajuato",HL:"Hidalgo",JC:"Jalisco",MI:"Michoacan",MR:"Morelos",MX:"State of Mexico",NA:"Nayarit",NL:"Nuevo Leon",OA:"Oaxaca ",PB:"Puebla",QR:"Quintana Roo",QU:"State of Queretaro",SI:"Sinaloa",SL:"State of San Luis Potosi",SO:"Sonora",TB:"Tabasco",TL:"State of Tlaxcala",TM:"Tamaulipas",VC:"State of Veracruz",YU:"Yucatan",ZA:"State of Zacatecas"},this.stateMap.GB={ABE:"Aberdeen",ABD:"Aberdeenshire",AGY:"Anglesey",ANS:"Angus",ANN:"Antrim and Newtownabbey",AGB:"Argyll and Bute",ABC:"Armagh, Banbridge and Craigavon",BNS:"Barnsley",BAS:"Bath and North East Somerset",BDF:"Bedford",BFS:"Belfast",BIR:"Birmingham",BBD:"Blackburn with Darwen",BPL:"Blackpool",BGW:"Blaenau Gwent",BOL:"Bolton",BMH:"Bournemouth",BRC:"Bracknell Forest",BRD:"Bradford",BGE:"Bridgend",BNH:"Brighton and Hove",BST:"Bristol",BKM:"Buckinghamshire",BUR:"Bury",CAY:"Caerphilly",CLD:"Calderdale",CAM:"Cambridgeshire",CRF:"Cardiff",CMN:"Carmarthenshire",CCG:"Causeway Coast and Glens",CBF:"Central Bedfordshire",CGN:"Ceredigion",CHE:"Cheshire East",CHW:"Cheshire West and Chester",CLK:"Clackmannanshire",CWY:"Conwy",CON:"Cornwall",COV:"Coventry",CMA:"Cumbria",DAL:"Darlington",DEN:"Denbighshire",DER:"Derby",DBY:"Derbyshire",DRS:"Derry and Strabane",DEV:"Devon",DNC:"Doncaster",DOR:"Dorset",DUD:"Dudley",DGY:"Dumfries and Galloway",DND:"Dundee",DUR:"Durham",EAY:"East Ayrshire",EDU:"East Dunbartonshire",ELN:"East Lothian",ERW:"East Renfrewshire",ERY:"East Riding of Yorkshire",ESX:"East Sussex",EDH:"Edinburgh",ELS:"Eilean Siar",ESS:"Essex",FAL:"Falkirk",FMO:"Fermanagh and Omagh",FIF:"Fife",FLN:"Flintshire",GAT:"Gateshead",GLG:"Glasgow",GLS:"Gloucestershire",LND:"Greater London",GWN:"Gwynedd",HAL:"Halton",HAM:"Hampshire",HPL:"Hartlepool",HEF:"Herefordshire",HRT:"Hertfordshire",HLD:"Highland",IVC:"Inverclyde",IOW:"Isle of Wight",IOS:"Isles of Scilly",KEN:"Kent",KHL:"Kingston upon Hull",KIR:"Kirklees",KWL:"Knowsley",LAN:"Lancashire",LDS:"Leeds",LCE:"Leicester",LEC:"Leicestershire",LIN:"Lincolnshire",LBC:"Lisburn and Castlereagh",LIV:"Liverpool",LUT:"Luton",MAN:"Manchester",MDW:"Medway",MTY:"Merthyr Tydfil",MEA:"Mid and East Antrim",MDB:"Middlesbrough",MLN:"Midlothian",MUL:"Mid Ulster",MIK:"Milton Keynes",MON:"Monmouthshire",MRY:"Moray",NTL:"Neath Port Talbot",NET:"Newcastle upon Tyne",NWP:"Newport",NMD:"Newry, Mourne and Down",NFK:"Norfolk",NTH:"Northamptonshire",NAY:"North Ayrshire",AND:"North Down and Ards",NEL:"North East Lincolnshire",NLK:"North Lanarkshire",NLN:"North Lincolnshire",NSM:"North Somerset",NTY:"North Tyneside",NBL:"Northumberland",NYK:"North Yorkshire",NGM:"Nottingham",NTT:"Nottinghamshire",OLD:"Oldham",ORK:"Orkney Islands",OXF:"Oxfordshire",PEM:"Pembrokeshire",PKN:"Perthshire and Kinross",PTE:"Peterborough",PLY:"Plymouth",POL:"Poole",POR:"Portsmouth",POW:"Powys",RDG:"Reading",RCC:"Redcar and Cleveland",RFW:"Renfrewshire",RCT:"Rhondda, Cynon, Taff",RCH:"Rochdale",ROT:"Rotherham",RUT:"Rutland",SHN:"Saint Helens",SLF:"Salford",SAW:"Sandwell",SCB:"Scottish Borders",SFT:"Sefton",SHF:"Sheffield",ZET:"Shetland Islands",SHR:"Shropshire",SLG:"Slough",SOL:"Solihull",SOM:"Somerset",STH:"Southampton",SAY:"South Ayrshire",SOS:"Southend-on-Sea",SGC:"South Gloucestershire",SLK:"South Lanarkshire",STY:"South Tyneside",STS:"Staffordshire",STG:"Stirling",SKP:"Stockport",STT:"Stockton-on-Tees",STE:"Stoke-on-Trent",SFK:"Suffolk",SND:"Sunderland",SRY:"Surrey",SWA:"Swansea",SWD:"Swindon",TAM:"Tameside",TFW:"Telford and Wrekin",THR:"Thurrock",TOB:"Torbay",TOF:"Torfaen",TRF:"Trafford",VGL:"Vale of Glamorgan",WKF:"Wakefield",WLL:"Walsall",WRT:"Warrington",WAR:"Warwickshire",WBK:"West Berkshire",WDU:"West Dunbartonshire",WLN:"West Lothian",WSX:"West Sussex",WGN:"Wigan",WIL:"Wiltshire",WNM:"Windsor and Maidenhead",WRL:"Wirral",WOK:"Wokingham",WLV:"Wolverhampton",WOR:"Worcestershire",WRX:"Wrexham",YOR:"York"},this.stateMap.ENG={BD:"Bedfordshire",BK:"Buckinghamshire",BR:"Berkshire",CA:"Cambridgeshire",CH:"Cheshire",CM:"Cumberland",CO:"Cornwall",DB:"Derbyshire",DE:"Devon",DO:"Dorset",DU:"Durham",ES:"Essex",GL:"Gloucestershire",HA:"Hampshire",HE:"Herefordshire",HR:"Hertfordshire",HU:"Huntingdonshire",KE:"Kent",LA:"Lancashire",LE:"Leicestershire",LI:"Lincolnshire",MI:"Middlesex",NB:"Northumberland",NF:"Norfolk",NG:"Nottinghamshire",NT:"Northamptonshire",OX:"Oxfordshire",RU:"Rutland",SF:"Suffolk",SH:"Shropshire",SO:"Somerset",SR:"Surrey",SS:"Sussex",ST:"Staffordshire",TW:"Tyne and Wear",WA:"Warwickshire",WI:"Wiltshire",WM:"Westmorland",WO:"Worcestershire",YO:"Yorkshire"},this.stateMap.SCT={AB:"Aberdeenshire",AN:"Angus",AR:"Argyllshire",AY:"Ayrshire",BN:"Banffshire",BU:"Buteshire",BW:"Berwickshire",CL:"Clackmannanshire",DG:"Dumfriesshire",DU:"Dunbartonshire",EL:"East Lothian",FI:"Fife",IV:"Inverness-shire",KC:"Kincardineshire",KK:"Kirkcudbrightshire",KR:"Kinross-shire",LN:"Lanarkshire",ML:"Midlothian",MR:"Morayshire",NN:"Nairnshire",PE:"Peeblesshire",PR:"Perthshire",RF:"Renfrewshire",RS:"Ross-shire",RX:"Roxburghshire",SK:"Selkirkshire",ST:"Stirlingshire",SU:"Sutherland",WL:"West Lothian",WT:"Wigtownshire"},this.stateMap.WLS={BG:"Gwent",CW:"Clwyd",DY:"Dyfed",GW:"Gwynedd",MG:"Mid Glamorgan",PO:"Powys",SG:"South Glamorgan",WG:"West Glamorgan"},this.stateMap.NIR={AR:"County Armagh",AT:"County Antrim",DR:"Derry / Londonderry",DW:"County Down",FM:"County Fermanagh",LD:"County Londonderry",TY:"County Tyrone"},this.stateMap.AU={ACT:"Australia Capital Territory",NSW:"New South Wales",NT:"Northern Territory",QLD:"Queensland",SA:"South Australia",TAS:"Tasmania",VIC:"Victoria",WA:"Western Australia"}}},{key:"buildCountryMap",value:function buildCountryMap(){this.countryMap[""]="--- Please select ---",this.countryMap.AF="Afghanistan",this.countryMap.AX="Aland Islands",this.countryMap.AL="Albania",this.countryMap.DZ="Algeria",this.countryMap.AS="American Samoa",this.countryMap.AD="Andorra",this.countryMap.AO="Angola",this.countryMap.AI="Anguilla",this.countryMap.AQ="Antarctica",this.countryMap.AG="Antigua and Barbuda",this.countryMap.AR="Argentina",this.countryMap.AM="Armenia",this.countryMap.AW="Aruba",this.countryMap.SH="Ascension and Tristan Da Cunha Saint Helena",this.countryMap.AU="Australia",this.countryMap.AT="Austria",this.countryMap.AZ="Azerbaijan",this.countryMap.BS="Bahamas",this.countryMap.BH="Bahrain",this.countryMap.BD="Bangladesh",this.countryMap.BB="Barbados",this.countryMap.BE="Belgium",this.countryMap.BZ="Belize",this.countryMap.BJ="Benin",this.countryMap.BM="Bermuda",this.countryMap.BT="Bhutan",this.countryMap.VE="Bolivarian Republic of Venezuela",this.countryMap.BA="Bosnia and Herzegowina",this.countryMap.BW="Botswana",this.countryMap.BV="Bouvet Island",this.countryMap.BR="Brazil",this.countryMap.IO="British Indian Ocean Territory",this.countryMap.BN="Brunei Darussalam",this.countryMap.BG="Bulgaria",this.countryMap.BF="Burkina Faso",this.countryMap.BI="Burundi",this.countryMap.KH="Cambodia",this.countryMap.CM="Cameroon",this.countryMap.CA="Canada",this.countryMap.CV="Cape Verde",this.countryMap.KY="Cayman Islands",this.countryMap.CF="Central African Republic",this.countryMap.TD="Chad",this.countryMap.CL="Chile",this.countryMap.CN="China",this.countryMap.CX="Christmas Island",this.countryMap.CC="Cocos Islands",this.countryMap.CO="Colombia",this.countryMap.KM="Comoros",this.countryMap.CK="Cook Islands",this.countryMap.CR="Costa Rica",this.countryMap.CI="Cote d'Ivoire",this.countryMap.HR="Croatia",this.countryMap.CW="Curacao",this.countryMap.CY="Cyprus",this.countryMap.CZ="Czech Republic",this.countryMap.DK="Denmark",this.countryMap.DJ="Djibouti",this.countryMap.DM="Dominica",this.countryMap.DO="Dominican Republic",this.countryMap.TP="East Timor",this.countryMap.EC="Ecuador",this.countryMap.EG="Egypt",this.countryMap.SV="El Salvador",this.countryMap.ENG="England",this.countryMap.GQ="Equatorial Guinea",this.countryMap.ER="Eritrea",this.countryMap.EE="Estonia",this.countryMap.ET="Ethiopia",this.countryMap.FK="Falkland Islands",this.countryMap.FO="Faroe Islands",this.countryMap.FM="Federated States of Micronesia",this.countryMap.FJ="Fiji",this.countryMap.FI="Finland",this.countryMap.FR="France",this.countryMap.GF="French Guiana",this.countryMap.PF="French Polynesia",this.countryMap.TF="French Southern Territories",this.countryMap.GA="Gabon",this.countryMap.GM="Gambia",this.countryMap.GE="Georgia",this.countryMap.DE="Germany",this.countryMap.GH="Ghana",this.countryMap.GI="Gibraltar",this.countryMap.GR="Greece",this.countryMap.GL="Greenland",this.countryMap.GD="Grenada",this.countryMap.GP="Guadeloupe",this.countryMap.GU="Guam",this.countryMap.GT="Guatemala",this.countryMap.GG="Guernsey",this.countryMap.GN="Guinea",this.countryMap.GW="Guinea-Bissau",this.countryMap.GY="Guyana",this.countryMap.HT="Haiti",this.countryMap.HM="Heard And Mcdonald Islands",this.countryMap.HN="Honduras",this.countryMap.HK="Hong Kong",this.countryMap.HU="Hungary",this.countryMap.IS="Iceland",this.countryMap.IN="India",this.countryMap.ID="Indonesia",this.countryMap.IE="Ireland",this.countryMap.IM="Isle of Man",this.countryMap.IL="Israel",this.countryMap.IT="Italy",this.countryMap.JM="Jamaica",this.countryMap.JP="Japan",this.countryMap.JE="Jersey",this.countryMap.JO="Jordan",this.countryMap.KZ="Kazakhstan",this.countryMap.KE="Kenya",this.countryMap.KI="Kiribati",this.countryMap.KW="Kuwait",this.countryMap.KG="Kyrgyzstan",this.countryMap.LA="Lao People's Democratic Republic",this.countryMap.LV="Latvia",this.countryMap.LB="Lebanon",this.countryMap.LS="Lesotho",this.countryMap.LY="Libya",this.countryMap.LI="Liechtenstein",this.countryMap.LT="Lithuania",this.countryMap.LU="Luxembourg",this.countryMap.MO="Macao",this.countryMap.MG="Madagascar",this.countryMap.MW="Malawi",this.countryMap.MY="Malaysia",this.countryMap.MV="Maldives",this.countryMap.ML="Mali",this.countryMap.MT="Malta",this.countryMap.MH="Marshall Islands",this.countryMap.MQ="Martinique",this.countryMap.MR="Mauritania",this.countryMap.MU="Mauritius",this.countryMap.YT="Mayotte",this.countryMap.MX="Mexico",this.countryMap.MC="Monaco",this.countryMap.MN="Mongolia",this.countryMap.ME="Montenegro",this.countryMap.MS="Montserrat",this.countryMap.MA="Morocco",this.countryMap.MZ="Mozambique",this.countryMap.MM="Myanmar",this.countryMap.NA="Namibia",this.countryMap.NR="Nauru",this.countryMap.NP="Nepal",this.countryMap.NL="Netherlands",this.countryMap.AN="Netherlands Antilles",this.countryMap.NC="New Caledonia",this.countryMap.NZ="New Zealand",this.countryMap.NI="Nicaragua",this.countryMap.NE="Niger",this.countryMap.NG="Nigeria",this.countryMap.NU="Niue",this.countryMap.NF="Norfolk Island",this.countryMap.NIR="Northern Ireland",this.countryMap.MP="Northern Mariana Islands",this.countryMap.NO="Norway",this.countryMap.OM="Oman",this.countryMap.PK="Pakistan",this.countryMap.PW="Palau",this.countryMap.PA="Panama",this.countryMap.PG="Papua New Guinea",this.countryMap.PY="Paraguay",this.countryMap.PE="Peru",this.countryMap.PH="Philippines",this.countryMap.PN="Pitcairn",this.countryMap.BO="Plurinational State of Bolivia",this.countryMap.PL="Poland",this.countryMap.PT="Portugal",this.countryMap.TW="Province of China Taiwan",this.countryMap.PR="Puerto Rico",this.countryMap.QA="Qatar",this.countryMap.KR="Republic of Korea",this.countryMap.MD="Republic of Moldova",this.countryMap.RE="Reunion",this.countryMap.RO="Romania",this.countryMap.RU="Russian Federation",this.countryMap.RW="Rwanda",this.countryMap.BL="Saint Barthelemy",this.countryMap.KN="Saint Kitts and Nevis",this.countryMap.LC="Saint Lucia",this.countryMap.PM="Saint Pierre and Miquelon",this.countryMap.VC="Saint Vincent and The Grenadines",this.countryMap.WS="Samoa",this.countryMap.SM="San Marino",this.countryMap.ST="Sao Tome And Principe",this.countryMap.SA="Saudi Arabia",this.countryMap.SCT="Scotland",this.countryMap.SN="Senegal",this.countryMap.RS="Serbia",this.countryMap.SC="Seychelles",this.countryMap.SL="Sierra Leone",this.countryMap.SG="Singapore",this.countryMap.BQ="Sint Eustatius and Saba Bonaire",this.countryMap.SX="Sint Maarten ",this.countryMap.SK="Slovakia",this.countryMap.SI="Slovenia",this.countryMap.SB="Solomon Islands",this.countryMap.SO="Somalia",this.countryMap.ZA="South Africa",this.countryMap.GS="South Georgia and The South Sandwich Islands",this.countryMap.SS="South Sudan",this.countryMap.ES="Spain",this.countryMap.LK="Sri Lanka",this.countryMap.PS="State of Palestine",this.countryMap.SR="Suriname",this.countryMap.SJ="Svalbard And Jan Mayen Islands",this.countryMap.SZ="Swaziland",this.countryMap.SE="Sweden",this.countryMap.CH="Switzerland",this.countryMap.TJ="Tajikistan",this.countryMap.TH="Thailand",this.countryMap.MK="The Former Yugoslav Republic of Macedonia",this.countryMap.TL="Timor-leste",this.countryMap.TG="Togo",this.countryMap.TK="Tokelau",this.countryMap.TO="Tonga",this.countryMap.TT="Trinidad And Tobago",this.countryMap.TN="Tunisia",this.countryMap.TR="Turkey",this.countryMap.TM="Turkmenistan",this.countryMap.TC="Turks And Caicos Islands",this.countryMap.TV="Tuvalu",this.countryMap.UG="Uganda",this.countryMap.UA="Ukraine",this.countryMap.AE="United Arab Emirates",this.countryMap.GB="United Kingdom",this.countryMap.TZ="United Republic of Tanzania",this.countryMap.US="United States",this.countryMap.UM="United States Minor Outlying Islands",this.countryMap.UY="Uruguay",this.countryMap.UZ="Uzbekistan",this.countryMap.VU="Vanuatu",this.countryMap.VA="Vatican City State",this.countryMap.VN="Vietnam",this.countryMap.VG="Virgin Islands (British)",this.countryMap.VI="Virgin Islands (US)",this.countryMap.WLS="Wales",this.countryMap.WF="Wallis And Futuna Islands",this.countryMap.EH="Western Sahara",this.countryMap.YE="Yemen",this.countryMap.YU="Yugoslavia",this.countryMap.ZM="Zambia"}},{key:"buildStateLabelMap",value:function buildStateLabelMap(){this.stateLabelMap.US="State",this.stateLabelMap.MX="State",this.stateLabelMap.BM="Parish",this.stateLabelMap.IE="County",this.stateLabelMap.NIR="County",this.stateLabelMap.GB="Province",this.stateLabelMap.WLS="Province",this.stateLabelMap.SCT="Province",this.stateLabelMap.ENG="Province"}},{key:"buildPostalCodeNotRequired",value:function buildPostalCodeNotRequired(){this.countryPostalRequired=$('input[name="Payment.Address.PostalCode"]').attr("required"),this.postalCodeNotRequired.IE=!0}},{key:"getCountryIndex",value:function getCountryIndex(e){var t,n=0;for(t in this.countryMap){if(0==t.localeCompare(e))return n;n++}return 0}},{key:"getStateIndex",value:function getStateIndex(e,t){e=this.stateMap[e];if(e){var n,i=1;for(n in e){if(0==n.localeCompare(t))return i;i++}}return 0}},{key:"populateStates",value:function populateStates(e,t){var n=document.getElementById(e).value,i=document.getElementById(t),r="label[for=stateSelect]";e.includes("Shipping")&&(r="label[for=stateSelectShipping]"),e.includes("User")&&(r="label[for=stateUserSelect]");t=document.querySelector(r),r=this.stateLabelMap[n];t.innerHTML=r=null==r?"State":r,this.postalCodeNotRequired[n]?(e.includes("Shipping")?$('input[name="Shipping.Address.PostalCode"]'):$('input[name="Payment.Address.PostalCode"]')).removeAttr("required"):this.countryPostalRequired&&(e.includes("Shipping")?$('input[name="Shipping.Address.PostalCode"]'):$('input[name="Payment.Address.PostalCode"]')).attr("required",""),i.length=0,i.options[0]=new Option("--- Please select ---","nil"),i.selectedIndex=0;var o=this.stateMap[n];if(o)for(var a in o){var s=o[a];i.options[i.length]=new Option(s,a);a=i.getAttribute("selectedItem");i.selectedIndex=this.getStateIndex(n,a)}else i.options[0]=new Option("N/A","nil")}},{key:"populateCountries",value:function populateCountries(e,t,n){this.buildCountryMap(),this.buildStateMap(),this.buildStateLabelMap(),this.buildPostalCodeNotRequired();var i=document.getElementById(e);if(i){var r,o=this,a=0;for(r in this.countryMap)i.options[a++]=new Option(this.countryMap[r],r);n=i.getAttribute("selectedItem");i.selectedIndex=this.getCountryIndex(n),o.populateStates(e,t),t&&(i.onchange=function(){o.populateStates(e,t)})}}}]),RegistrationForm}();function arrayHasValue(e,t,n){return e&&(!e.includes||e.includes(t,0|n))}var En=n("./node_modules/node-snackbar/dist/snackbar.min.js"),An=n.n(En);function GolfpassSnackbar_ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function GolfpassSnackbar_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?GolfpassSnackbar_ownKeys(Object(n),!0).forEach(function(e){d()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GolfpassSnackbar_ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Pn=function(){function GolfpassSnackbar(){c()(this,GolfpassSnackbar)}return o()(GolfpassSnackbar,null,[{key:"_validateConfig",value:function _validateConfig(e){if(!e||!e.text)throw new Error("Snackbar text is required.");return!0}},{key:"showSuccess",value:function showSuccess(e){this._validateConfig(e)&&An.a.show(GolfpassSnackbar_objectSpread(GolfpassSnackbar_objectSpread({},this._common),{},{backgroundColor:"#0076bb"},e))}},{key:"showFailure",value:function showFailure(e){this._validateConfig(e)&&An.a.show(GolfpassSnackbar_objectSpread(GolfpassSnackbar_objectSpread({},this._common),{},{backgroundColor:"#a94442"},e))}}]),GolfpassSnackbar}();d()(Pn,"_common",{duration:2500,showAction:!1,pos:"bottom-center",actionTextColor:"#FFFFFF",customClass:"golfpass-snack-bar"});var xn='button[type="submit"]';function bindToSubmissionSubject(t,n){var e;t&&n&&((e=t.querySelector(xn))&&e.addEventListener("click",function(e){e.preventDefault(),function __onSubjectSubmit(e,t){!function reportValidity(e){if(e.reportValidity)return e.reportValidity();var t=S()('<button type="submit" style="display:none;"></button>');return t.appendTo(S()(e)),(e=e.checkValidity())||S()(t).click(),t.remove(),e}(e)||t.next(e)}(t,n)}))}var Mn=function(){function DynamicForm(e){c()(this,DynamicForm),d()(this,"_attributes",{errorMessage:"data-submission-error-message",successMessage:"data-submission-success-message"}),this._bindEvents(e)}return o()(DynamicForm,[{key:"_bindEvents",value:function _bindEvents(n){var e,i=this;n&&((e={})[DynamicForm.EVENTS.onSuccess]=function(e){var t=n.getAttribute(i._attributes.successMessage);Pn.showSuccess({text:t||"Submission was successful."})},e[DynamicForm.EVENTS.onError]=function(e){var t=n.getAttribute(i._attributes.errorMessage);Pn.showFailure({text:t||"Submission failed."})},S()(n).on(e))}}]),DynamicForm}();d()(Mn,"SELECTOR",".DynamicForm form"),d()(Mn,"BUTTON_SELECTOR","".concat(Mn.SELECTOR," button")),d()(Mn,"EVENTS",{onSuccess:"DynamicForm:Success",onError:"DynamicForm:Error"});var In=function(){function ManageAccountDataForm(e){c()(this,ManageAccountDataForm),d()(this,"_selectors",{submissionButton:"".concat(ManageAccountDataForm.SELECTOR,'-button button[type="submit"]'),form:"".concat(ManageAccountDataForm.SELECTOR)}),d()(this,"_attributes",{buttonLoading:"loading",submissionSuccessMessage:"data-submission-success-message",submissionErrorMessage:"data-submission-error-message",submissionEndpoint:"data-update-profile-endpoint"}),this.form=e,this.form&&(this.errorMessage=this.form.getAttribute(this._attributes.submissionErrorMessage),this.submissionEndpoint=this.form.getAttribute(this._attributes.submissionEndpoint),this.successMessage=this.form.getAttribute(this._attributes.submissionSuccessMessage),this.initSubmission(this.form))}return o()(ManageAccountDataForm,[{key:"initSubmission",value:function initSubmission(e){var t=this;e&&(this.onSubmissionSubject=new ge,this.onSubmissionSubject.subscribe({next:function next(e){return t._onSubmission(t,e)},complete:function complete(e){return t._onComplete(t)}}),bindToSubmissionSubject(e,this.onSubmissionSubject))}},{key:"_onComplete",value:function _onComplete(t){t.form&&function disableForm(e){e=e.querySelector(t._selectors.submissionButton);e&&(e.disabled=!0)}(t.form)}},{key:"_onSubmission",value:function _onSubmission(t,e){var n;e&&((n=e.querySelector(t._selectors.submissionButton))&&(n.disabled=!0),(e=formToKVP(e))&&t._submitAttempt(t,e).done(function(e){return t._postSubmit(t,e)}).fail(function(e){return t._postSubmit(t,e)}),n&&!t.onSubmissionSubject.closed&&n.removeAttribute("disabled"))}},{key:"_postSubmit",value:function _postSubmit(e,t){t&&200===t.status?Pn.showSuccess({text:e.successMessage||"Submission was successful."}):(t=t.responseJSON)&&t.message?Pn.showFailure({text:t.message}):Pn.showFailure({text:e.errorMessage||"Submission Failed. Please try again."})}},{key:"_submitAttempt",value:function _submitAttempt(e,t){return Object.keys(t).forEach(function(e){"nil"===t[e]&&(t[e]="")}),S.a.ajax({url:e.submissionEndpoint,method:"PUT",contentType:"application/json",data:JSON.stringify(t)})}}]),ManageAccountDataForm}();d()(In,"SELECTOR",".ManageAccountDataForm");var Ln=n("./node_modules/@babel/runtime/helpers/typeof/index.js"),On=n.n(Ln),Dn=["country","administrative_area_level_1","administrative_area_level_2"],Rn=function(){function SearchOverlay(e){c()(this,SearchOverlay),this.el=e,this.clearButton=document.querySelector(".SearchOverlay-clearButton"),this.headerSearch=document.querySelector(".Header-search"),this.searchClose=document.querySelector(".SearchOverlay-close"),this.inputField=document.querySelector(".SearchOverlay-input"),this.searchForm=document.querySelector(".SearchOverlay-form"),this.placesAutoCompleteService=null,this.placesAutoCompleteServiceToken=null,this.defaultSuggestions=document.querySelector(".SearchOverlay-suggestions-no-query"),this.header=document.querySelector(".Header-contentWrapper"),this.init()}return o()(SearchOverlay,[{key:"init",value:function init(){var e,r=this;this.headerSearch&&this.headerSearch.addEventListener("click",function(e){e.preventDefault(),r.openOverlay(),sendGoogleAnalyticsEvent("Top Search","Open Top Search","Open Top Search"),Cn()({key:getGoogleMapsApiKey(),libraries:["places"]})}),this.searchClose&&this.searchClose.addEventListener("click",function(e){e.preventDefault(),r.el.removeAttribute("data-searchoverlay-show"),document.body.removeAttribute("data-searchoverlay-show")}),this.clearButton&&(this.inputField.value?this.clearButton.classList.remove("hidden"):this.clearButton.classList.add("hidden"),this.clearButton.addEventListener("click",function(e){e.preventDefault(),r.inputField.value="",r.clearButton.classList.add("hidden"),r.clearItems(),r.defaultSuggestions.setAttribute("data-show",!0)})),S()(this.el).on("click",'[data-search-suggestions-source="place"] a',function(e){e.preventDefault();e=e.target;new google.maps.places.PlacesService(r.el.querySelector(".gsbpa")).getDetails({placeId:e.getAttribute("data-id"),sessionToken:r.placesAutoCompleteServiceToken},function(e,t){var n,i;t===google.maps.places.PlacesServiceStatus.OK&&e.formatted_address&&e.geometry&&e.geometry.location&&e.geometry.location.lat()&&e.geometry.location.lng()?(n=encodeURIComponent(e.formatted_address),i=e.geometry.location.lat(),t=e.geometry.location.lng(),e=r.searchForm.getAttribute("action"),window.location.href="".concat(e,"?q=").concat(n,"&lat=").concat(i,"&lng=").concat(t)):window.alert("Search error. Please retry.")})}),this.inputField.addEventListener("keyup",function(){r.inputField.value?(r.clearButton.classList.remove("hidden"),r.defaultSuggestions.removeAttribute("data-show")):(r.clearButton.classList.add("hidden"),r.defaultSuggestions.setAttribute("data-show",!0)),r.getCleanedInput().length<3&&r.clearItems(),clearTimeout(e),e=setTimeout(function(){var e=r.getCleanedInput();3<=e.length&&(r.getPlaces(e).then(function(e){var t=S()(r.el).find('[data-search-suggestions-source="place"]');e&&e.length?t.empty().removeClass("hidden").append('<div class="SearchOverlay-suggestions-group-title">'+t.attr("data-search-suggestions-group-label")+"</div>").append('<div class="SearchOverlay-suggestions-group-items">'+e.map(function(e){return r.renderItem(e)}).join("")+"</div>"):t.empty().addClass("hidden"),r.setSuggestionsVisibility()}),r.getSuggestions(e,"show","/api/autocomplete/shows"),r.getSuggestions(e,"expert","/api/autocomplete/experts"),r.getSuggestions(e,"destination","/api/autocomplete/destinations"),r.getSuggestions(e,"resort","/api/autocomplete/resorts"),r.getSuggestions(e,"course","/api/autocomplete/courses"),r.getSuggestions(e,"listing","/api/autocomplete/listings"))},500)})}},{key:"openOverlay",value:function openOverlay(){this.el.setAttribute("data-searchoverlay-show",!0),document.body.setAttribute("data-searchoverlay-show",!0),S()(this.inputField).focus()}},{key:"getSuggestions",value:function getSuggestions(e,n,t){var i=this,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:5;S.a.getJSON("".concat(t,"?s=").concat(encodeURIComponent(e),"&limit=").concat(r),function(e){var t=S()(i.el).find('[data-search-suggestions-source="'.concat(n,'"]'));e.results&&e.results.length?t.empty().removeClass("hidden").append('<div class="SearchOverlay-suggestions-group-title">'+t.attr("data-search-suggestions-group-label")+"</div>").append('<div class="SearchOverlay-suggestions-group-items">'+e.results.map(function(e){return{type:n,id:e.id,label:e.label,url:e.url}}).map(function(e){return i.renderItem(e)}).join("")+"</div>"):t.empty().addClass("hidden"),i.setSuggestionsVisibility()})}},{key:"getPlaces",value:function getPlaces(t){var a=this;return new Promise(function(r,e){var o;a.placesAutoCompleteService||"object"!==("undefined"==typeof google?"undefined":On()(google))||"object"!==On()(google.maps)||"object"!==On()(google.maps.places)||(a.placesAutoCompleteService=new google.maps.places.AutocompleteService),a.placesAutoCompleteService?(o=[],a.placesAutoCompleteServiceToken||(a.placesAutoCompleteServiceToken=new google.maps.places.AutocompleteSessionToken),a.placesAutoCompleteService.getPlacePredictions({input:t,types:["geocode"],sessionToken:a.placesAutoCompleteServiceToken},function(e,t){var n,i;o=t!==google.maps.places.PlacesServiceStatus.OK?[]:(n=a.searchForm.getAttribute("action"),i=a.placesAutoCompleteServiceToken[Object.keys(a.placesAutoCompleteServiceToken)[0]],e.filter(function(e){var t=!0;return e.types.forEach(function(e){-1<Dn.indexOf(e)&&(t=!1)}),t}).map(function(e){return{type:"place",id:e.place_id,label:e.description,url:"".concat(n,"?q=").concat(e.description,"&placeId=").concat(e.place_id,"&sessionToken=").concat(i)}})),r(o)})):r([])})}},{key:"setSuggestionsVisibility",value:function setSuggestionsVisibility(){var e=S()(".SearchOverlay-suggestions");e.find("[data-search-suggestions-source]:not(.hidden)").length?e.removeClass("hidden"):e.addClass("hidden")}},{key:"renderItem",value:function renderItem(e){return'<a class="SearchOverlay-suggestions-group-item"\n      data-type="'.concat(e.type,'"\n      data-id="').concat(e.id,'"\n      data-label="').concat(e.label,'"\n      data-url="').concat(e.url,'"\n      href="').concat(e.url,'">').concat(e.label,"</a>")}},{key:"clearItems",value:function clearItems(){S()(this.el).find(".SearchOverlay-suggestions-group").empty().addClass("hidden"),S()(".SearchOverlay-suggestions").addClass("hidden")}},{key:"getCleanedInput",value:function getCleanedInput(){return(this.inputField.value||"").replace(/^\s+/,"")}}]),SearchOverlay}(),Nn=function(){function SearchBar(e){c()(this,SearchBar),this.init(e)}return o()(SearchBar,[{key:"init",value:function init(e){var t=Object(qt.a)().name.toLowerCase();"ie"!==t&&"edge"!==t&&this.addLCQQueryParam(e)}},{key:"addLCQQueryParam",value:function addLCQQueryParam(e){var t=e.querySelectorAll("a");if(t)for(var n=0;n<t.length;n++)t[n].href=t[n].href+"&lcq=enabled"}}]),SearchBar}();d()(Nn,"SELECTOR",".SearchBar, .SearchBar-transparent");var Bn=function(){function ToggleItems(e){var n=this;c()(this,ToggleItems),this.trigger=e,this.toToggle=e.nextElementSibling,this.active=!1,this.toggleDataAttribute="data-toggle-in-".concat(e.getAttribute("data-toggle-trigger")),this.trigger.addEventListener("click",this.activate.bind(this),!0),window.addEventListener("hashchange",this.deactivate.bind(this)),document.addEventListener("click",function(e){var t=e.target;if(n.active)if("A"===t.tagName&&t.href&&-1<t.href.indexOf("#"))n.deactivate();else if(t!==n.trigger){do{if(t===n.toToggle||t===n.trigger)return}while(t=t.parentNode);n.deactivate()}})}return o()(ToggleItems,[{key:"activate",value:function activate(e){e.preventDefault(),this.active?this.deactivate():(this.active=!0,this.trigger.setAttribute("data-toggled",!0),this.toToggle&&("SCRIPT"===this.toToggle.tagName&&(e=S()(this.toToggle).html(),S()(this.toToggle).replaceWith(e),this.toToggle=this.trigger.nextElementSibling),this.toToggle.setAttribute(this.toggleDataAttribute,!0),this.toToggle.style.display="block"),document.body.setAttribute(this.toggleDataAttribute,!0))}},{key:"deactivate",value:function deactivate(){this.active&&(this.active=!1,this.trigger.removeAttribute("data-toggled"),this.toToggle&&(this.toToggle.removeAttribute(this.toggleDataAttribute),this.toToggle.style.display="none"),document.body.removeAttribute(this.toggleDataAttribute))}}]),ToggleItems}();function debounce(i,r,o){var a;return function(){function CS1(){a=null,o||r.apply(e,t)}var e=this,t=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(CS1,i),n&&r.apply(e,t)}}var jn=function(){function PlaylistItem(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,PlaylistItem),this.$ctx=e,this.settings=S.a.extend({selectors:{belowContent:".VideoPage-below, .EpisodePage-below",companionAnchor:".CompanionAnchor",companionContentItem:".CompanionContentItem",companions:".PlaylistItem-companions",companionsFullSize:".PlaylistItem-companions-fullSize",companionToasterContent:".CompanionHeader-toasterContent",footer:".Footer",moreAnchor:".MoreAnchor",playlist:".Playlist",scrollableContent:".ScrollableContentContainer",pageCompanions:".CompanionContent",videoContent:".VideoPage-content",episodeContent:".EpisodePage-contents",video:"video"}},t),this.blockName=t.blockName||"PlaylistItem",this.init()}return o()(PlaylistItem,[{key:"$ctx",get:function get(){return this._$ctx},set:function set(e){this._$ctx=e}},{key:"ajaxUrl",get:function get(){return this._$ctx.attr("data-ajax-url")}},{key:"selectors",get:function get(){return this.settings.selectors}},{key:"isPlaylistItem",get:function get(){return this.$ctx[0].hasAttribute("data-promo")}},{key:"isLocked",get:function get(){return this.$ctx[0].hasAttribute("data-is-locked")}},{key:"isFreeview",get:function get(){return this.$ctx[0].hasAttribute("data-is-freeview")}},{key:"initiatedByAutoPlay",get:function get(){return!this.__initiatedByAutoPlay&&(this.__initiatedByAutoPlay=!0)}},{key:"dataLockedUrl",get:function get(){return this._$ctx.attr("data-locked-redirect-url")}},{key:"dataTitle",get:function get(){return this._$ctx.attr("data-title")}},{key:"init",value:function init(){var e=this;this.$ctx&&(S()(this.selectors.belowContent).length&&S()(this.selectors.moreAnchor).attr("data-show",!0),S()(this.selectors.moreAnchor).on("click",function(){S()("html, body").animate({scrollTop:S()(e.selectors.belowContent).offset().top-50},800)}),S()(this.selectors.companionAnchor).on("click",function(){S()("html, body").animate({scrollTop:S()(e.selectors.pageCompanions).offset().top-50},800)}))}},{key:"getCompanions",value:function getCompanions(){for(var e,t,n,i=this,r=!1,o=0;o<this.$ctx[0].attributes.length;o++)"data-selected"===this.$ctx[0].attributes[o].name&&(r=!0);r&&this.$ctx.find(this.selectors.companions)&&((n=this.$ctx.find(this.selectors.companionsFullSize)).length&&(e=S()(this.selectors.videoContent),t=S()(this.selectors.episodeContent),n='<div class="CompanionContent">'.concat(n[0].innerHTML,"</div>"),e.length?e.append(n):t.length&&t.prepend(n),S()(this.selectors.companionAnchor).attr("data-show",!0)),S()(this.selectors.companionContentItem).on({click:function click(e){e.preventDefault(),e.stopPropagation();e=S()(e.currentTarget);sendGoogleAnalyticsEvent("Video","CompanionClick","VideoCompanionClick"),void 0===e.attr("data-is-external-link")?e.parents(i.selectors.companionToasterContent).length||i.$ctx.trigger("Playlist:onCompanionContentItemClick",{url:e.attr("data-ajax-url"),mediaType:e.attr("data-media-type")}):window.open(e.attr("data-ajax-url"))}}))}},{key:"select",value:function select(e){(this.$ctx.data("type","video")||this.$ctx.data("type","Video"))&&this.$ctx.trigger("PlaylistItem:onSelect",{$promo:this.$ctx,ajaxUrl:this.ajaxUrl,isLocked:this.isLocked,autoPlay:this.initiatedByAutoPlay,dataLockedUrl:this.dataLockedUrl,title:this.dataTitle,playlist:e})}}]),PlaylistItem}();function Button_createSuper(n){var i=function Button_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_()(n);return t=i?(e=_()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),v()(this,t)}}var Fn=function(e){g()(Button,e);var n=Button_createSuper(Button);function Button(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return c()(this,Button),t=n.call(this,e,t),d()(f()(t),"_attributes",{event:"data-analytics-event-key",eventLabel:"data-analytics-event-label",eventAction:"data-analytics-event-action",eventCategory:"data-analytics-event-category"}),t.onClick$.subscribe(),t}return o()(Button,[{key:"trackClick",value:function trackClick(){var e=this.el.getAttribute(this._attributes.event);e&&je.addCustomDimension({event:e,eventLabel:this.el.getAttribute(this._attributes.eventLabel),eventAction:this.el.getAttribute(this._attributes.eventAction),eventCategory:this.el.getAttribute(this._attributes.eventCategory)})}}]),Button}(function(){function BaseButton(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;c()(this,BaseButton),this.el=e,this.analyticsEnabled=t||e.hasAttribute("data-analytics-enabled")}return o()(BaseButton,[{key:"onClick$",get:function get(){var e=this;return fromEvent(this.el,"click").pipe(this.analyticsEnabled&&this.trackClick?tap(function(){e.trackClick()}):tap())}}]),BaseButton}()),Un=function(){function GolfNowBookingEngine(e){var t=this;c()(this,GolfNowBookingEngine),this.refreshButton=e.querySelector("button"),this.iframe=e.querySelector("iframe"),new Fn(this.refreshButton).onClick$.pipe(tap(function(e){t.iframe&&(t.iframe.src=t.iframe.src)})).subscribe(),this.bindPostMessageEvent(window,"message",this.msgEventHandler.bind(this))}return o()(GolfNowBookingEngine,[{key:"bindPostMessageEvent",value:function bindPostMessageEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}},{key:"msgEventHandler",value:function msgEventHandler(t){if(t.data){var n={};try{n={value:JSON.parse(t.data),valid:!0}}catch(e){n={value:t.data,valid:!1}}n.valid?this.handleJsonData(n.value):this.handleStringData(n.value,t.source)}}},{key:"handleJsonData",value:function handleJsonData(e,t){"resize"===e.message&&this.handleWindowResize(e.data)}},{key:"handleStringData",value:function handleStringData(e,t){}},{key:"handleWindowResize",value:function handleWindowResize(e){window.console.log(e)}}]),GolfNowBookingEngine}();function CopyToClipboardButton_createSuper(n){var i=function CopyToClipboardButton_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_()(n);return t=i?(e=_()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),v()(this,t)}}d()(Un,"SELECTOR",".GolfNowBookingEngine");var Vn=function(e){g()(CopyToClipboardButton,e);var i=CopyToClipboardButton_createSuper(CopyToClipboardButton);function CopyToClipboardButton(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return c()(this,CopyToClipboardButton),(n=i.call(this,e,n)).copyEl=t,n}return o()(CopyToClipboardButton,[{key:"copyOnClick$",get:function get(){var t=this;return Ge()(_()(CopyToClipboardButton.prototype),"onClick$",this).pipe(filter(function(e){return t.copyEl}),map_map(function(e){return t._copyToClipboard()}))}},{key:"copyElement",get:function get(){return this.copyEl}},{key:"_copyToClipboard",value:function _copyToClipboard(){if(!this.copyEl)return!1;var e=document.createElement("textarea");return e.style.cssText='position: absolute; left: "-1000px"; top: "-1000px";',e.value=this.copyEl.innerHTML,document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),e.remove(),!0}}]),CopyToClipboardButton}(Fn);function RedirectButton_createSuper(n){var i=function RedirectButton_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_()(n);return t=i?(e=_()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),v()(this,t)}}var Hn=function(e){g()(RedirectButton,e);var n=RedirectButton_createSuper(RedirectButton);function RedirectButton(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return c()(this,RedirectButton),(t=n.call(this,e,t)).href=e.getAttribute("data-href"),t.href&&(t.clickSub$=t.redirectOnClick$.subscribe()),t.eventKey=e.getAttribute("data-analytics-event-key"),t}return o()(RedirectButton,[{key:"redirectOnClick$",get:function get(){var t=this;return this.onClick$.pipe(filter(function(e){return e&&e.target&&t.href}),map_map(function(e){return{href:t.href,target:e.target.getAttribute("target")}}),tap(function(e){e&&e.href&&("_blank"===e.target?window.open(e.href,e.target,"noopener"):window.location.href=e.href)}))}},{key:"trackClick",value:function trackClick(){this.eventKey&&je.addCustomDimension({event:this.eventKey,destination:this.href})}}]),RedirectButton}(Fn);function CustomerPromoCodesCode_createSuper(n){var i=function CustomerPromoCodesCode_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_()(n);return t=i?(e=_()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),v()(this,t)}}var qn=function(e){g()(CustomerPromoCodesCode,e);var r=CustomerPromoCodesCode_createSuper(CustomerPromoCodesCode);function CustomerPromoCodesCode(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:tap(),n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return c()(this,CustomerPromoCodesCode),(i=r.call(this,i||e.querySelector("button"),e.querySelector(".CustomerPromoCodesCode-code"),n&&n.enabled)).expirationDate=e.querySelector(CustomerPromoCodesCode.SELECTOR+"-expirationDate"),i.analyticsConfig=n,i.codeCopiedSub$=i.copyOnClick$.pipe(throttleTime(500),t).subscribe(),i}return o()(CustomerPromoCodesCode,[{key:"trackClick",value:function trackClick(){this.copyElement&&this.analyticsConfig&&this.analyticsConfig.eventKey&&je.addCustomDimension({event:this.analyticsConfig.eventKey,couponCode:this.copyElement.innerHTML,couponExpirationDate:this.expirationDate?this.expirationDate.innerHTML:""})}}]),CustomerPromoCodesCode}(Vn);d()(qn,"SELECTOR",".CustomerPromoCodesCode");var Wn=function(){function CustomerPromoCodesModule(e){c()(this,CustomerPromoCodesModule),this.el=e,this._init()}return o()(CustomerPromoCodesModule,[{key:"getAnalyticsConfiguration",value:function getAnalyticsConfiguration(){return this.el?{enabled:this.el.hasAttribute("data-analytics-enabled"),eventKey:this.el.getAttribute("data-analytics-event-key")}:{}}},{key:"_init",value:function _init(){var n=this;this.promoCodes=Array.from(this.el.querySelectorAll(qn.SELECTOR)).map(function(t){Array.from(t.querySelectorAll("button")).map(function(e){return new qn(t,CustomerPromoCodesModule._onCopy,n.getAnalyticsConfiguration(),e)})})}}]),CustomerPromoCodesModule}();d()(Wn,"_onCopy",tap(function(e){e?Pn.showSuccess({text:"Code Copied."}):Pn.showFailure({text:"Failed to copy code."})})),d()(Wn,"SELECTOR",".CustomerPromoCodesModule, .CustomerPromoCodesModuleBookingEngineStyle");function X_b(){c()(this,X_b)}function copyTextToClipboard(e){if(e){var t=document.createElement("textarea");return t.style.cssText='position: absolute; left: "-1000px"; top: "-1000px";',t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),t.remove(),1}}d()(X_b,"SELECTOR",".CustomerPromoCodesModule-button button, .CustomerPromoCodesCode-column.copy-column button");var Gn=function(){function RewardsDashboard(e){c()(this,RewardsDashboard),this.el=e,this._init()}return o()(RewardsDashboard,[{key:"_init",value:function _init(){var t=this;this.$paginationEl=S()(this.el).find(RewardsDashboard.PAGINATION_SELECTOR).first(),this.$paginationEl.length&&(this.pageSize=Number(this.$paginationEl.attr("data-pagination-page-size"))||5,this.currentPage=0,this.totalItems=S()(this.el).find(RewardsDashboard.ITEMS_SELECTOR).first().find(RewardsDashboard.ITEM_SELECTOR).length,this.pagination(0),this.$paginationEl.on("click",".prev",function(e){e.preventDefault(),sendGoogleAnalyticsEvent("Rewards Dashboard","Pagination","Prev"),t.pagination(-1)}),this.$paginationEl.on("click",".next",function(e){e.preventDefault(),sendGoogleAnalyticsEvent("Rewards Dashboard","Pagination","Next"),t.pagination(1)})),S()(this.el).on("click",RewardsDashboard.COPY_BUTTON_SELECTOR,function(e){e.preventDefault(),sendGoogleAnalyticsEvent("Rewards Dashboard","Copy Code","Copy Code"),function copyOnClick(e){copyTextToClipboard(S()(e).closest(Gn.ITEM_SELECTOR).find(Gn.COPY_TARGET__SELECTOR).first().text()),S()(e).text("Copied!"),S()(e).addClass("copied"),setTimeout(function(){S()(e).text("Copy"),S()(e).removeClass("copied")},Gn.COPY_TEXT_CHANGE_DELAY)}(e.target)}),S()(this.el).on("click",RewardsDashboard.CTA_SELECTOR,function(e){e=S()(e.target);sendGoogleAnalyticsEvent("Rewards Dashboard","Click CTA","Click CTA ["+e.text()+" | "+e.attr("href")+"]")})}},{key:"pagination",value:function pagination(e){var n=this;this.currentPage=this.currentPage+e,S()(this.el).find(RewardsDashboard.ITEMS_SELECTOR).each(function(e,t){S()(t).find(RewardsDashboard.ITEM_SELECTOR).each(function(e,t){t=S()(t);e<n.currentPage*n.pageSize||e>=(n.currentPage+1)*n.pageSize?t.hide():t.show()})}),this.currentPage<=0?this.$paginationEl.find(".prev").hide():this.$paginationEl.find(".prev").show(),this.currentPage+1>=Math.ceil(this.totalItems/this.pageSize)?this.$paginationEl.find(".next").hide():this.$paginationEl.find(".next").show()}}]),RewardsDashboard}();d()(Gn,"SELECTOR",".RewardsDashboard"),d()(Gn,"ITEMS_SELECTOR",".items"),d()(Gn,"ITEM_SELECTOR",".item"),d()(Gn,"COPY_TARGET__SELECTOR",".copy-target"),d()(Gn,"COPY_BUTTON_SELECTOR",".copy-text"),d()(Gn,"PAGINATION_SELECTOR",Gn.SELECTOR+"-pagination"),d()(Gn,"CTA_SELECTOR",Gn.SELECTOR+"-cta"),d()(Gn,"COPY_TEXT_CHANGE_DELAY",2e3);var $n=function(){function FaqWidget(){c()(this,FaqWidget),this.accordion()}return o()(FaqWidget,[{key:"accordion",value:function accordion(){var e=S()(".FaqQuestionAndAnswer > .FaqQuestionAndAnswer-question");S()(e).click(function(){var e=S()(this),t=e.next(),n=t.css("min-height");t.hasClass("active")?(e.removeClass("active"),t.removeClass("active").css("min-height",0).slideToggle(350,function(){t.css("min-height",n)})):(e.addClass("active"),t.addClass("active").css("min-height",0).slideDown(350,function(){t.css("min-height",n)}))})}}]),FaqWidget}();function OnBoardingQuiz_createForOfIteratorHelper(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function OnBoardingQuiz_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return OnBoardingQuiz_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OnBoardingQuiz_arrayLikeToArray(e,t):void 0}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function F(){};return{s:i,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function s(){r=r.call(t)},n:function n(){var e=r.next();return l=e.done,e},e:function e(t){u=!0,a=t},f:function f(){try{l||null==r.return||r.return()}finally{if(u)throw a}}}}function OnBoardingQuiz_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}d()($n,"SELECTOR",".FaqWidget");var zn={dataActive:"data-active",dataVisible:"data-visible",selTab:"[data-tab]",selPanel:"[data-tab-panel]",dataExpanded:"data-expanded",save:".OnBoardingQuiz-continue",form:"form"},Yn=function(){function OnBoardingQuiz(e,t){c()(this,OnBoardingQuiz),this.responses={},this.el=e,this.settings=Object.assign({},zn,t),this.init(),this.setBinds(this),this.counter(),this.noAnswer()}return o()(OnBoardingQuiz,[{key:"init",value:function init(){var i=this;this.elTabs=h()(this.el.querySelectorAll(this.settings.selTab)),this.elTabPanels=h()(this.el.querySelectorAll(this.settings.selPanel)),this.elTabPanels.forEach(function(e,t){var n=i.checkInputs(i,e.id);e.id.startsWith("c")?(e=e.querySelectorAll("input"),i.allNumberInputsHaveAValue(h()(e))?S()(i.elTabs[t]).addClass("complete"):S()(i.elTabs[t]).removeClass("complete")):n?S()(i.elTabs[t]).addClass("complete"):S()(i.elTabs[t]).removeClass("complete")}),this.elTabs&&this.elTabs.length&&this.elTabPanels&&this.elTabPanels.length||console.error("DOM elements for Tabs are missing, failing fast."),this.ids=this.elTabPanels.map(function(e){return e.id});var e=S()(this.el).find(".OnBoardingQuiz-heading"),e=S()(e).attr("data-last-tab-id"),t=e||window.location.hash.substr(1),e=this.ids.some(function(e){return t===e});this.activePanel=t.length&&e?t:this.elTabPanels[0].id,this.forms=h()(this.el.querySelectorAll(this.settings.form)),this.forms&&this.forms.forEach(function(e){i.initSubmission(e)})}},{key:"initSubmission",value:function initSubmission(e){var t=this;e&&(this.onSubmissionSubject=new ge,this.onSubmissionSubject.subscribe({next:function next(e){return t._onSubmission(t,e)},complete:function complete(e){return null}}),bindToSubmissionSubject(e,this.onSubmissionSubject))}},{key:"_onSubmission",value:function _onSubmission(t,e){var n,i;e&&((n=e.querySelector(zn.save))&&(n.disabled=!0),i=n.getAttribute("data-submit-url"),(e=t.getPayload(t))&&t._submitAttempt(i,e).done(function(e){return t._postSubmit(t,e)}).fail(function(e){return t._postSubmit(t,e)}),n&&!t.onSubmissionSubject.closed&&n.removeAttribute("disabled"))}},{key:"_postSubmit",value:function _postSubmit(e,t){if(t&&200===t.status){if(Pn.showSuccess({text:"Responses saved"}),!this.isComplete){var n,i=OnBoardingQuiz_createForOfIteratorHelper(this.elTabs);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(!this.checkInputs(this,r.href.split("#")[1]))return}}catch(e){i.e(e)}finally{i.f()}this._onComplete()}}else{t=t.responseJSON;t&&t.message&&Pn.showFailure({text:"Submission Failed. Please try again."})}}},{key:"_submitAttempt",value:function _submitAttempt(e,t){return S.a.ajax({url:e,method:"POST",contentType:"application/json",data:JSON.stringify(t)})}},{key:"_onComplete",value:function _onComplete(){var e={event:"quizCompleted",eventAction:"quizCompleted",eventCategory:"OnBoardingQuiz"};this.isComplete=!0;var t=this.el.querySelector(".OnBoardingQuiz-heading");t||je.addCustomDimension(e);t=t.querySelector("h2");t||je.addCustomDimension(e),e.eventLabel=t.innerText,je.addCustomDimension(e)}},{key:"counter",value:function counter(){S()(this.elTabPanels).each(function(){var t=S()(this).find("form").children("span").length;S()(this).find("form").children("span").each(function(e){S()(this).text("Question "+(e+1)+" of "+t)})})}},{key:"allNumberInputsHaveAValue",value:function allNumberInputsHaveAValue(e){return!!e&&Array.prototype.slice.call(e).every(function(e){return e.value})}},{key:"noAnswer",value:function noAnswer(){S()("[data-tab-panel]").each(function(){var e=S()(this).find(".OnBoardingQuiz-noAnswer");S()(this).find("input.noAnswer").each(function(){S()(this).click(function(){var e=S()(this).parents("fieldset");e.find("input:not(.noAnswer)").each(function(){"checkbox"!==this.type&&"radio"!==this.type||(this.checked=!1),S()(this).change(function(){e.find("input.noAnswer").attr("checked",!1)})})})}),e.each(function(){S()(this).click(function(){var e=S()(this).parents("fieldset"),t=e.find('input[type="hidden"]');e.hasClass("disabled")||(e.addClass("disabled"),e.find("input:not(.OnBoardingQuiz-noAnswer)").each(function(){S()(this).attr("value","No Answer").trigger("change").val(""),t.val("No Answer")})),e.find("input:not(.OnBoardingQuiz-noAnswer)").each(function(){S()(this).click(function(){e.hasClass("disabled")&&(e.removeClass("disabled"),S()(this).attr("value","").val(""),t.attr("value","").val(""))})})})})})}},{key:"setBinds",value:function setBinds(c){var i=this;window.onhashchange=function(){var t=window.location.hash.substr(1);i.ids.some(function(e){return t===e})&&(i.activePanel=t)},1===S()("[data-tab-panel]").length&&(S()(".OnBoardingQuiz-skip").hide(),S()(".OnBoardingQuiz-continue").text("Submit").css("display","block")),this.elTabs.forEach(function(e){var t=e.href.split("#")[1],n=S()(e),i=n.parent("li").closest("li").next().children("a"),r=S()("[data-tab-panel]:last-child"),o=S()(".OnBoardingQuiz-onBoardingTabs"),a=n.parent("li").closest("li").next(),s=S()("#".concat(t)),l=s.find("#".concat(t," fieldset")),e=s.find("button.OnBoardingQuiz-skip"),u=s.find(".OnBoardingQuiz-continue");function centerItVariableWidth(e,t){for(var n=S()(t),i=S()(e),t=n.width(),e=i.outerWidth(!0),r=i.index(),o=0,a=n.find("li"),s=0;s<r;s++)o+=S()(a[s]).outerWidth(!0);n.scrollLeft(Math.max(0,o-(t-e)/2))}function scrollTo(){S()(window).width()<768?S()("html, body").animate({scrollTop:S()(".OnBoardingQuiz-main").offset().top-60},1e3):(S()("html, body").animate({scrollTop:S()(".OnBoardingQuiz").offset().top-60},1e3),i.length&&S()(".OnBoardingQuiz-content").scrollTop(0))}r.find("button.OnBoardingQuiz-skip").hide(),r.find(".OnBoardingQuiz-continue").text("Submit").css("display","block"),e.click(function(){i[0].click(),centerItVariableWidth(a,o),scrollTo()}),l.change(function(){!function validateForm(){var e=s.find("fieldset"),t=!0;return e.each(function(e){S()(e).find("input").bind("change paste keyup",function(){t=!1})}),t}()||u.css("display","block")}),u.click(function(e){e.preventDefault(),c.checkInputs(c,t)?n.addClass("complete"):n.removeClass("complete"),scrollTo(),i[0]&&i[0].click(),centerItVariableWidth(a,o)})}),this.elTabs.forEach(function(n){n.addEventListener("click",function(e){var t=window.location.hash.substr(1);i.ids.some(function(e){return t===e})&&(n.getAttribute("href").substr(1)===i.activePanel?(e.preventDefault(),n.getAttribute(zn.dataExpanded)?n.removeAttribute(zn.dataExpanded):n.setAttribute(zn.dataExpanded,!0)):n.removeAttribute(zn.dataExpanded),i.elTabPanels.forEach(function(e){e.id!==i.activePanel||e.getAttribute(zn.dataExpanded)?e.removeAttribute(zn.dataExpanded):e.setAttribute(zn.dataExpanded,!0)}))})})}},{key:"checkInputs",value:function checkInputs(e,t){function allInputsHaveAValue(e){return!!e&&Array.prototype.slice.call(e).every(function(e){return e.value})}var t=e.el.querySelectorAll("#".concat(t," fieldset"));return!!t&&(t=Array.prototype.slice.call(t)).every(function(e){var t=e.querySelectorAll('input[type="radio"]'),n=(t=Array.prototype.slice.call(t)).find(function(e){return"No Answer"===e.value});if(n&&n.checked)return!0;if((t=t.filter(function(e){return"No Answer"!==e.value}))&&t.length&&!t.some(function(e){return e.checked}))return!1;n=e.querySelectorAll('input[type="checkbox"]');if((n=Array.prototype.slice.call(n))&&n.length&&!n.some(function(e){return e.checked}))return!1;t=e.querySelectorAll('input[type="text"]'),n=e.querySelectorAll('input[type="number"]'),e=e.querySelectorAll('input[type="hidden"]');return allInputsHaveAValue(t)&&allInputsHaveAValue(n)||allInputsHaveAValue(e)})}},{key:"getPayload",value:function getPayload(e){var t={questions:[]},n=S()(e.el).find(".OnBoardingQuiz-heading"),i=S()(n).attr("data-quiz-id"),n=S()(n).attr("data-quiz-title"),r=S()(e.el).find(S()(".OnBoardingQuiz-tab")),o=null;if(null!==r)for(var a=0;a<r.length;a++)if("true"===S()(r[a]).attr("data-active")){o=S()(r[a]).attr("href").split("#")[1];break}return t.quizId=i,t.quizTitle=n,t.lastTabId=o,t.questions=e.getResponses(e).flat().filter(function(e){return e.questionId}),t}},{key:"getResponses",value:function getResponses(e){e=e.el.querySelectorAll("[data-tab-panel]");return e?(e=Array.prototype.slice.call(e)).map(function(e){var e=e.querySelector("form");if(!e)return{};e=e.querySelectorAll("fieldset");if(!e)return{};var t,n=[],i=OnBoardingQuiz_createForOfIteratorHelper(e=Array.prototype.slice.call(e));try{for(i.s();!(t=i.n()).done;){var r=t.value,o={},a=r.querySelector("legend");if(a){var s="",l=r.querySelector(".OnBoardingQuizAnswer");l&&(s=l.getAttribute("data-answer-id")),o.questionId=a.id;var u=r.querySelectorAll("input:not(.OnBoardingQuiz-noAnswer)");if(u){u=Array.prototype.slice.call(u),o.answers=[];var c,d=OnBoardingQuiz_createForOfIteratorHelper(u);try{for(d.s();!(c=d.n()).done;){var h=c.value;h.setAttribute("name",o.questionId);var p="checkbox"===h.type||"radio"===h.type;"button"===h.type||p&&!h.checked||!h.value||o.answers.push({answerId:h.id||s,answer:h.value})}}catch(e){d.e(e)}finally{d.f()}n.push(o)}}}}catch(e){i.e(e)}finally{i.f()}return n}):[]}},{key:"activePanel",get:function get(){return this._activePanel},set:function set(i){var r=this;return this._activePanel!==i&&(this._activePanel=i,this.elTabs.forEach(function(e){var t=i===e.getAttribute("href").substr(1),n=e.parentNode;e.setAttribute(r.settings.dataActive,t),t?e.setAttribute(zn.dataExpanded,!0):e.removeAttribute(zn.dataExpanded),n.setAttribute(r.settings.dataActive,t)}),this.elTabPanels.forEach(function(e){var t=i===e.id;e.setAttribute(r.settings.dataVisible,t),t?e.setAttribute(zn.dataExpanded,!0):e.removeAttribute(zn.dataExpanded)})),this._activePanel}}]),OnBoardingQuiz}();d()(Yn,"SELECTOR",".OnBoardingQuiz");var Kn=function(){function FormField(e){c()(this,FormField),d()(this,"__fieldContainerSelectors",[".FormOneFieldContainer-field",".FormTwoFieldContainer-field",".FormThreeFieldContainer-field"]),d()(this,"__fieldLabelSelectors",[".TextInput-label",".EmailInput-label",".PhoneNumberInput-label",".DateInput-label"]),d()(this,"__fieldDescriptionSelectors",[".TextInput-description",".EmailInput-description",".PhoneNumberInput-description",".DateInput-description"]),this.$terms=S()(e).find(".DynamicForm-terms"),this.$optIns=S()(e).find(".FormEmailOptin-optIn > input"),this.__init(e)}return o()(FormField,[{key:"__init",value:function __init(e){this.__initRequiredFields(e),this.__initDescriptions(e),this.$optIns.length&&this.$terms.css("padding-bottom","10px")}},{key:"__initRequiredFields",value:function __initRequiredFields(e){S()(e).find(this.__fieldLabelSelectors.join(",")).each(function(e,t){t=S()(t).find("input").filter("[required]");void 0!==t&&S()("<span class='required-asterisk'>*</span>").insertBefore(S()(t)),"date"===S()(t).attr("type")&&S()(t).css("line-height",S()(t).css("height"))})}},{key:"__initDescriptions",value:function __initDescriptions(e){var i=this;S()(e).find(this.__fieldDescriptionSelectors.join(",")).each(function(e,t){var n=S()(t).prev("input");void 0!==n&&(S()(t).closest(i.__fieldContainerSelectors.join(",")).siblings().each(function(e,t){void 0===S()(t).find(i.__fieldDescriptionSelectors.join(",")).get(0)&&S()(t).addClass("no-description")}),S()(t).detach().insertBefore(S()(n)))})}}]),FormField}();d()(Kn,"SELECTOR",".DSGFormContainer .DynamicForm");var Xn=function(){function DSGFormContainer(e){c()(this,DSGFormContainer),d()(this,"_selectors",{closeModal:".close-modal",unmatchedEmailFormModal:".modal",emailFormOptIn:".FormEmailOptin-optIn",submissionButton:'button[type="submit"]',emailFormOptInCheckbox:".FormEmailOptin-optIn input",formChoices:"".concat(DSGFormContainer.SELECTOR,"-formChoices"),form:"".concat(DSGFormContainer.SELECTOR,"-forms .DynamicForm-form"),unmatchedEmailForm:"".concat(DSGFormContainer.SELECTOR,"-emailOptinForm .DynamicForm-form")}),d()(this,"_attributes",{formName:"formName",selected:"selected",paymentPage:"data-payment-page",submissionEndpoint:"data-submission-endpoint",exactTargetDataExtension:"data-exact-target-data-extension"}),this.el=e,this.forms=e.querySelectorAll(this._selectors.form),this.paymentPage=e.getAttribute(this._attributes.paymentPage),this.emailForm=e.parentElement.querySelector(this._selectors.unmatchedEmailForm),this.submissionEndpoint=e.getAttribute(this._attributes.submissionEndpoint),this.closeModal(this,e.parentElement),this.initDropdown(e),this.submissionEndpoint&&this.paymentPage?this.initSubmissions(this.forms,this.emailForm):console.error("Unable to initialize DSG forms due to undefined arguments!",this.submissionEndpoint,this.paymentPage)}return o()(DSGFormContainer,[{key:"initSubmissions",value:function initSubmissions(e,t){var n=this;e&&(this.onSubmissionSubject=new ge,this.onSubmissionSubject.subscribe({next:function next(e){return n._onSubmission(n,e)},complete:function complete(e){return n._onComplete(n)}}),e.forEach(function(e){bindToSubmissionSubject(e,n.onSubmissionSubject)}),t&&(this.onEmailFormSubmissionSubject=new ge,this.onEmailFormSubmissionSubject.subscribe({next:function next(e){return n._onEmailFormSubmission(n,e)}}),bindToSubmissionSubject(t,this.onEmailFormSubmissionSubject)))}},{key:"initDropdown",value:function initDropdown(e){var t,i,n,r=this;e&&(t=(n=S()(e)).find(".dropdown"),e=n.find(".dropdown .dropdown-menu li"),i=n.find(".DSGFormContainer-forms .DynamicForm"),n=n.find(".dropdown-menu li"),t.click(function(e){e=S()(e.currentTarget);e.attr("tabindex",1).focus(),e.toggleClass("active"),e.find(".dropdown-menu").slideToggle(300)}),t.focusout(function(e){e=S()(e.currentTarget);e.removeClass("active"),e.find(".dropdown-menu").slideUp(300)}),e.click(function(e){var t=S()(e.currentTarget),n=t.text(),e=t.attr(r._attributes.formName);t.parents(".dropdown").find("span").text(n),t.parents(".dropdown").find("input").attr("value",t.attr("id"));e=S()("".concat(r._selectors.form,"[").concat(r._attributes.formName,'="').concat(e,'"]'));e&&(i.hide(),e.parent().show())}),n.click(function(e){e="<strong>"+S()(e.currentTarget).parents(".dropdown").find("input").val()+"</strong>";S()(".msg").html('<span class="msg">Hidden input value: '+e+"</span>")}))}},{key:"closeModal",value:function closeModal(e,t){S()(t).find(e._selectors.closeModal).click(function(){S()(e._selectors.unmatchedEmailFormModal).hide()})}},{key:"_onComplete",value:function _onComplete(t){t.forms&&t.forms.forEach(function disableForm(e){e=e.querySelector(t._selectors.submissionButton);e&&(e.disabled=!0)})}},{key:"_onSubmission",value:function _onSubmission(n,e){var t;e&&((t=e.querySelector(n._selectors.submissionButton))&&(t.disabled=!0),(e=formToKVP(e))&&n._submitAttempt(n,e).done(function(e){e&&e.promotionalRecordId&&window.location.replace("".concat(n.paymentPage,"?").concat(DSGFormContainer.PROMOTIONAL_RECORD_QUERY_PARAM,"=").concat(e.promotionalRecordId))}).fail(function(e){var t=n.el.parentElement.querySelector(n._selectors.unmatchedEmailForm);e&&e.responseJSON&&e.responseJSON.attemptRecordId&&t?(n.attemptRecordId=e.responseJSON.attemptRecordId,S()(n.el.parentElement).find(n._selectors.unmatchedEmailFormModal).css("display","flex")):Pn.showFailure({text:"This offer has already been redeemed.",duration:15e3,showAction:!0})}),t&&!n.onSubmissionSubject.closed&&t.removeAttribute("disabled"))}},{key:"_onEmailFormSubmission",value:function _onEmailFormSubmission(t,n){var i,r,e,o,a;n&&(i=n.querySelector(t._selectors.emailFormOptInCheckbox),(r=n.querySelector(t._selectors.submissionButton))&&(r.disabled=!0),(a=formToKVP(n))&&(e=a[Object.keys(a).find(function(e){return"email"===e.toLowerCase()})],a=(o=n.querySelector(t._selectors.emailFormOptIn))&&i&&i.hasAttribute("name")&&a[Object.keys(a).find(function(e){return e.toLowerCase()===i.getAttribute("name").toLowerCase()})],t._submitEmailPersistence(t,e,t.attemptRecordId,a&&o.getAttribute(t._attributes.exactTargetDataExtension)).done(function(e){t.onSubmissionSubject.complete(),S()(t.el.parentElement).find(t._selectors.closeModal).trigger("click"),Pn.showSuccess({text:n.dataset.submissionSuccessMessage||"Submission was successful.",duration:15e3,showAction:!0})}).fail(function(e){r&&r.removeAttribute("disabled"),S()(n).trigger(Mn.EVENTS.onError)})))}},{key:"_submitAttempt",value:function _submitAttempt(e,t){return S.a.ajax({url:e.submissionEndpoint,method:"POST",contentType:"application/json",data:JSON.stringify(t)})}},{key:"_submitEmailPersistence",value:function _submitEmailPersistence(e,t,n,i){return S.a.ajax({url:"".concat(e.submissionEndpoint,"?email=").concat(t,"&recordId=").concat(n)+(i?"&exactTargetDataExtension=".concat(i):""),method:"PUT",contentType:"application/json"})}}]),DSGFormContainer}();function MembershipRedemptionForm_createForOfIteratorHelper(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function MembershipRedemptionForm_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return MembershipRedemptionForm_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MembershipRedemptionForm_arrayLikeToArray(e,t):void 0}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function F(){};return{s:i,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function s(){r=r.call(t)},n:function n(){var e=r.next();return l=e.done,e},e:function e(t){u=!0,a=t},f:function f(){try{l||null==r.return||r.return()}finally{if(u)throw a}}}}function MembershipRedemptionForm_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}d()(Xn,"SELECTOR",".DSGFormContainer"),d()(Xn,"PROMOTIONAL_RECORD_QUERY_PARAM","promotionalRedemption");var Qn=function(){function MembershipRedemptionForm(e){c()(this,MembershipRedemptionForm),d()(this,"_selectors",{submissionButton:'button[type="submit"]',form:"".concat(MembershipRedemptionForm.SELECTOR,"-form"),optInForm:"".concat(MembershipRedemptionForm.SELECTOR,"-terms .FormEmailOptin-optIn")}),d()(this,"_attributes",{formName:"formName",buttonLoading:"loading",autoSubmit:"data-auto-submit",errorMessage:"data-submission-error-message",successMessage:"data-submission-success-message",successRedirectUrl:"data-success-redirect-url",redemptionEndpointUrl:"data-redemption-endpoint-url",exactTargetDataExtension:"data-exact-target-data-extension"}),this.el=e,this.form=e.querySelector(this._selectors.form),this.optInForm=e.querySelector(this._selectors.optInForm),this.form&&(this.successRedirectUrl=this.form.getAttribute(this._attributes.successRedirectUrl),this.redemptionEndpointUrl=this.form.getAttribute(this._attributes.redemptionEndpointUrl),this.redemptionEndpointUrl?(this.initSubmissions(this.form),this._initParams(this.form)):console.error("Unable to initialize MembershipRedemptionForm form due to undefined arguments!",this.successRedirectUrl,this.redemptionEndpointUrl))}return o()(MembershipRedemptionForm,[{key:"initSubmissions",value:function initSubmissions(e){var t=this;e&&(this.onSubmissionSubject=new ge,this.onSubmissionSubject.subscribe({next:function next(e){return t._onSubmission(t,e)},complete:function complete(e){return t._onComplete(t)}}),bindToSubmissionSubject(e,this.onSubmissionSubject))}},{key:"_onComplete",value:function _onComplete(t){t.forms&&function disableForm(e){e=e.querySelector(t._selectors.submissionButton);e&&(e.disabled=!0)}(t.form)}},{key:"_onSubmission",value:function _onSubmission(t,e){var n,i,r=this;e&&(n="",(i=e.querySelector(t._selectors.submissionButton))&&(n=i.innerText,i.innerText="",i.disabled=!0,i.setAttribute(this._attributes.buttonLoading,"")),(e=formToKVP(e))&&e[MembershipRedemptionForm.EMAIL_INPUT_KEY]&&t._submitAttempt(t,e).done(function(e){e&&e.redirectUrl?window.location.replace(e.redirectUrl):(e=t.form.getAttribute(t._attributes.successMessage),Pn.showSuccess({text:e||"Subscription successfully redeemed. Login to your account to claim your benefits!"}))}).fail(function(e){e&&e.responseJSON&&"You may only redeem a subscription using your own email!"===e.responseJSON.message?Pn.showFailure({duration:0,showAction:!0,actionTextColor:"#fff",text:"You are redeeming this promotion for an email address different than the one you are currently logged in with. Please sign out, or sign in with the correct email address, and try again."}):e&&401===e.status?Pn.showFailure({duration:0,showAction:!0,actionTextColor:"#fff",text:"You must verify your email address to redeem your subscription. Please login or create an account with the provided email address and try again."}):e&&412===e.status?Pn.showSuccess({duration:0,showAction:!0,actionTextColor:"#fff",text:"A verification email has been sent to you. Please check your inbox."}):(e=t.form.getAttribute(t._attributes.errorMessage),Pn.showFailure({text:e||"Failed to redeem your subscription. Please try again."})),i&&!t.onSubmissionSubject.closed&&(i.innerText=n,i.removeAttribute(r._attributes.buttonLoading),i.removeAttribute("disabled"))}))}},{key:"_submitAttempt",value:function _submitAttempt(e,t){var n;return t&&(!t[MembershipRedemptionForm.REGISTRATION_CODE_INPUT_KEY]&&e.registrationCode&&(t[MembershipRedemptionForm.REGISTRATION_CODE_INPUT_KEY]=e.registrationCode),!t[MembershipRedemptionForm.DEAL_INPUT_KEY]&&e.deal&&(t[MembershipRedemptionForm.DEAL_INPUT_KEY]=e.deal)),!e.optInForm||(n=e.optInForm.querySelector("input"))&&(t.emailOptIn={dataExtensionId:e.optInForm.getAttribute(e._attributes.exactTargetDataExtension),emailOptedIn:t[n.name]},t[n.name]=void 0),t.redirectUrl=e.successRedirectUrl,t.redemptionFormUrl=window.location.origin+window.location.pathname,S.a.ajax({url:e.redemptionEndpointUrl,method:"POST",contentType:"application/json",data:JSON.stringify(t)})}},{key:"_initParams",value:function _initParams(t){var n=this;if(window.location.search){var e,i=MembershipRedemptionForm_createForOfIteratorHelper(window.location.search.slice(1).split("&"));try{for(i.s();!(e=i.n()).done;){var r,o,a=e.value.split("=");2===a.length&&((r=a[0].toLowerCase())!==MembershipRedemptionForm.REGISTRATION_CODE_INPUT_KEY.toLowerCase()?r!==MembershipRedemptionForm.DEAL_INPUT_KEY.toLowerCase()?r!==MembershipRedemptionForm.EMAIL_INPUT_KEY.toLowerCase()?r!==MembershipRedemptionForm.OPT_IN_INPUT_KEY.toLowerCase()||!this.optInForm||(o=this.optInForm.querySelector("input"))&&"true"===a[1].toLowerCase()&&(o.checked=!0):(this._lockInjectedInputField(t,MembershipRedemptionForm.EMAIL_INPUT_KEY,a[1]),this.email=a[1]):(this._lockInjectedInputField(t,MembershipRedemptionForm.DEAL_INPUT_KEY,a[1]),this.deal=a[1]):(this._lockInjectedInputField(t,MembershipRedemptionForm.REGISTRATION_CODE_INPUT_KEY,a[1]),this.registrationCode=a[1]))}}catch(e){i.e(e)}finally{i.f()}t.hasAttribute(this._attributes.autoSubmit)&&setTimeout(function(e){S()("html, body").animate({scrollTop:S()(t).offset().top-200},1e3),n.onSubmissionSubject.next(t)},1500)}}},{key:"_lockInjectedInputField",value:function _lockInjectedInputField(e,t,n){e&&t&&n&&((e=e.querySelector('input[name="'.concat(t,'"]')))&&(e.value=decodeURIComponent(n),e.readOnly=t!==MembershipRedemptionForm.EMAIL_INPUT_KEY))}}]),MembershipRedemptionForm}();d()(Qn,"SELECTOR",".MembershipRedemptionForm"),d()(Qn,"DEAL_INPUT_KEY","deal"),d()(Qn,"EMAIL_INPUT_KEY","email"),d()(Qn,"OPT_IN_INPUT_KEY","optIn"),d()(Qn,"REGISTRATION_CODE_INPUT_KEY","registrationCode"),d()(Qn,"AUTO_SUBMIT_KEY","autoSubmit");var Zn=function(){function TabsModule(e){c()(this,TabsModule),d()(this,"_selectors",{content:"".concat(TabsModule.SELECTOR,"-content"),button:"".concat(TabsModule.SELECTOR,"-buttons-button")}),d()(this,"_attributes",{active:"data-active"}),this.initTabs(e)}return o()(TabsModule,[{key:"initTabs",value:function initTabs(e){if(e&&(this.buttons=e.querySelectorAll(this._selectors.button),this.contents=e.querySelectorAll(this._selectors.content),this.buttons&&this.contents))if(this.buttons.length===this.contents.length){if(this._onClick(0),this.buttons.length<2)S()(this._selectors.button).addClass("one-tab");else if(S()(".DvtEpisodePage").length)for(var t=0;t<this.buttons.length;t++)if(this.buttons[t].innerText.toLowerCase().includes("comments")){this._onClick(t);break}this._bindEvents()}else console.error("When using TabsModule, the number of tab buttons must match the number of tab contents!")}},{key:"_bindEvents",value:function _bindEvents(){for(var n=this,e=function _loop(t){n.buttons[t].addEventListener("click",function(e){n._onClick(t)})},t=0;t<this.buttons.length;t++)e(t)}},{key:"_onClick",value:function _onClick(e){if(!(e<0||e>=this.buttons.length)){for(var t=0;t<this.buttons.length;t++)t!==e&&(this.buttons[t].removeAttribute(this._attributes.active),this.contents[t].removeAttribute(this._attributes.active));this.buttons[e].setAttribute(this._attributes.active,""),this.contents[e].setAttribute(this._attributes.active,"")}}}]),TabsModule}();d()(Zn,"SELECTOR",".TabsModule");var Jn=function(){function RoundsPlayedPopUp(){c()(this,RoundsPlayedPopUp),this.quizTile=".QuizBenefitTile",this.popUp=".RoundsPlayedPopUp",this.parent=".BenefitTilesModule",this.openPopUp()}return o()(RoundsPlayedPopUp,[{key:"openPopUp",value:function openPopUp(){var e=S()(this.quizTile),t=S()(this.popUp),n=S()(this.parent).parent();t.detach(),t.insertAfter(n),e.hasClass("quizCompleted")&&e.click(function(e){e.preventDefault(),t.hasClass("visible")||(t.addClass("visible"),S()("body").css("overflow","hidden"))}),t.find(".RoundsPlayedPopUp-close").click(function(){t.hasClass("visible")&&(t.removeClass("visible"),S()("body").css("overflow","initial"))})}}]),RoundsPlayedPopUp}();function BenefitTile_createForOfIteratorHelper(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function BenefitTile_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return BenefitTile_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BenefitTile_arrayLikeToArray(e,t):void 0}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function F(){};return{s:i,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function s(){r=r.call(t)},n:function n(){var e=r.next();return l=e.done,e},e:function e(t){u=!0,a=t},f:function f(){try{l||null==r.return||r.return()}finally{if(u)throw a}}}}function BenefitTile_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}d()(Jn,"SELECTOR",".RoundsPlayedPopUp");var ei=function(){function BenefitTile(e){c()(this,BenefitTile),d()(this,"_attributes",{eventCategory:"data-analytics-event-category"}),this.el=e,this.init(e)}return o()(BenefitTile,[{key:"init",value:function init(e){if(e){var t=e.getAttribute(this._attributes.eventCategory);if(t){e=e.querySelectorAll(".BenefitTile");if(e&&!(e.length<=0)){var n,i=BenefitTile_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.hasAttribute(this._attributes.eventCategory)||r.setAttribute(this._attributes.eventCategory,t)}}catch(e){i.e(e)}finally{i.f()}}}}}}]),BenefitTile}();d()(ei,"SELECTOR",".BenefitTile"),d()(ei,"MODULE_SELECTOR",".BenefitTilesModule");var ti=function(){function MembershipSavings(){c()(this,MembershipSavings),this.init(),this.addEvents()}return o()(MembershipSavings,[{key:"init",value:function init(){this.addEvents(),this.calcMath(),this.detectBrowser()}},{key:"calcMath",value:function calcMath(){var e=S()(".NumberOfBookingsTile input").val(),t=S()(".NumberOfGolfersTile input").val(),n=35*Math.floor(t*e/5),i=Math.ceil(e*t*35*.5*.125),t=Math.ceil(e*t*3);S()(".CancellationProtectionTile .calc-digit").text(n),S()(".RewardsTile .calc-digit").text(i),S()(".WaivedFeesTile .calc-digit").text(t),S()(".CreditsPerksTile .calc-digit").text(155),S()(".TotalSavingsTile .calc-digit").text(n+i+t+155)}},{key:"detectBrowser",value:function detectBrowser(){navigator.vendor.match(/apple/i)&&(S()(".calc-row").removeClass("number-input"),S()(".calc-row").addClass("safari-number-input"))}},{key:"addEvents",value:function addEvents(){S()(".NumberOfBookingsTile .minus, .NumberOfBookingsTile .plus, .NumberOfGolfersTile .minus, .NumberOfGolfersTile .plus").on("click",function(){"0"===S()(".NumberOfGolfersTile input").val()&&S()(".NumberOfGolfersTile input").val(1),"2"===S()(".NumberOfBookingsTile input").val()&&S()(".NumberOfBookingsTile input").val(3),"1"===S()(".NumberOfGolfersTile input").val()?S()(".NumberOfGolfersTile .minus").addClass("inactive-button"):S()(".NumberOfGolfersTile .minus").removeClass("inactive-button"),"3"===S()(".NumberOfBookingsTile input").val()?S()(".NumberOfBookingsTile .minus").addClass("inactive-button"):S()(".NumberOfBookingsTile .minus").removeClass("inactive-button"),4<=S()(".NumberOfGolfersTile input").val()?(S()(".NumberOfGolfersTile input").val(4),S()(".NumberOfGolfersTile .plus").addClass("inactive-button")):S()(".NumberOfGolfersTile .plus").removeClass("inactive-button"),10<=S()(".NumberOfBookingsTile input").val()?(S()(".NumberOfBookingsTile input").val(10),S()(".NumberOfBookingsTile .plus").addClass("inactive-button")):S()(".NumberOfBookingsTile .plus").removeClass("inactive-button");var e=S()(".NumberOfBookingsTile input").val(),t=S()(".NumberOfGolfersTile input").val(),n=35*Math.floor(t*e/5),i=Math.ceil(e*t*35*.5*.125),t=Math.ceil(e*t*3);S()(".CancellationProtectionTile .calc-digit").text(n),S()(".RewardsTile .calc-digit").text(i),S()(".WaivedFeesTile .calc-digit").text(t),S()(".CreditsPerksTile .calc-digit").text(155),S()(".TotalSavingsTile .calc-digit").text(n+i+t+155)}),S()(".NumberOfBookingsTile input, .NumberOfBookingsTile input, .NumberOfGolfersTile input, .NumberOfGolfersTile input").on("change",function(){var e=S()(".NumberOfBookingsTile input").val(),t=S()(".NumberOfGolfersTile input").val(),n=35*Math.floor(t*e/5),i=Math.ceil(e*t*35*.5*.125),t=Math.ceil(e*t*3);S()(".CancellationProtectionTile .calc-digit").text(n),S()(".RewardsTile .calc-digit").text(i),S()(".WaivedFeesTile .calc-digit").text(t),S()(".CreditsPerksTile .calc-digit").text(155),S()(".TotalSavingsTile .calc-digit").text(n+i+t+155)}),S()(".WaivedFeesTile .open-modal").click(function(){S()(".WaivedFeesTile .modal, .WaivedFeesTile .Modal-contents").show()}),S()(".NumberOfBookingsTile .open-modal").click(function(){S()(".NumberOfBookingsTile .modal, .NumberOfBookingsTile .Modal-contents").show()}),S()(".NumberOfBookingsTile .Modal-close").click(function(){S()(".NumberOfBookingsTile .modal, .NumberOfBookingsTile .Modal-contents").hide()}),S()(".NumberOfGolfersTile .open-modal").click(function(){S()(".NumberOfGolfersTile .modal, .NumberOfGolfersTile .Modal-contents").show()}),S()(".NumberOfGolfersTile .Modal-close").click(function(){S()(".NumberOfGolfersTile .modal, .NumberOfGolfersTile .Modal-contents").hide()}),S()(".TotalSavingsTile .open-modal").click(function(){S()(".TotalSavingsTile .modal, .TotalSavingsTile .Modal-contents").show()}),S()(".TotalSavingsTile .Modal-close").click(function(){S()(".TotalSavingsTile .modal, .TotalSavingsTile .Modal-contents").hide()}),S()(".RewardsTile .open-modal").click(function(){S()(".RewardsTile .modal, .RewardsTile .Modal-contents").show()}),S()(".CancellationProtectionTile .open-modal").click(function(){S()(".CancellationProtectionTile .modal, .CancellationProtectionTile .Modal-contents").show()}),S()(".CreditsPerksTile .open-modal").click(function(){S()(".CreditsPerksTile .modal, .CreditsPerksTile .Modal-contents").show()}),S()(".WaivedFeesTile .Modal-close").click(function(){S()(".WaivedFeesTile .modal, .WaivedFeesTile .Modal-contents").hide()}),S()(".RewardsTile .Modal-close").click(function(){S()(".RewardsTile .modal, .RewardsTile .Modal-contents").hide()}),S()(".CancellationProtectionTile .Modal-close").click(function(){S()(".CancellationProtectionTile .modal, .CancellationProtectionTile .Modal-contents").hide()}),S()(".CreditsPerksTile .Modal-close").click(function(){S()(".CreditsPerksTile .modal, .CreditsPerksTile .Modal-contents").hide()}),window.innerWidth<=1023&&S()(".NumberOfBookingsTile").parent().css("order","-1"),S()(window).resize(function(){window.innerWidth<=1023?S()(".NumberOfBookingsTile").parent().css("order","-1"):S()(".NumberOfBookingsTile").parent().css("order","0")})}}]),MembershipSavings}();d()(ti,"SELECTOR",".MembershipSavingsModule");var ni=function(){function NewsModule(){c()(this,NewsModule),this.init()}return o()(NewsModule,[{key:"init",value:function init(){var e=S()(".NewsModule .main-news .PromoImageOnTop-overlay-type");S()(e).detach(),S()(e).appendTo(S()(".NewsModule .main-news .PromoImageOnTop-overlay-title"))}}]),NewsModule}();d()(ni,"SELECTOR",".NewsModule");var ii=function(){function ReferralModule(e){c()(this,ReferralModule),this.el=e,this._init()}return o()(ReferralModule,[{key:"_init",value:function _init(){var e=this;this.copyTrigger=this.el.querySelector(ReferralModule.COPY_BUTTON_SELECTOR),this.copyEl=this.el.querySelector(ReferralModule.URL_SELECTOR),this.copyTrigger&&this.copyEl&&this.copyTrigger.addEventListener("click",function(){sendGoogleAnalyticsEvent("Referral Module","Copy Referral Link","Copy Referral Link"),e._copyToClipboard()}),S()(this.el).on("click",".ActionBar a",function(e){var t=S()(this).text();sendGoogleAnalyticsEvent("Referral Module","Share Referral Link","Share Referral Link on "+(t=(t=t&&t.trim())||"N/A"))})}},{key:"_copyToClipboard",value:function _copyToClipboard(){if(!this.copyEl)return!1;var e=document.createElement("textarea");return e.style.cssText='position: absolute; left: "-1000px"; top: "-1000px";',e.value=this.copyEl.innerHTML,document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),e.remove(),!0}}]),ReferralModule}();d()(ii,"SELECTOR",".ReferralModule"),d()(ii,"URL_SELECTOR",".ReferralModule-referral-url"),d()(ii,"COPY_BUTTON_SELECTOR",".ReferralModule-referral-copy");var ri=function(){function SponsorshipWrapper(){c()(this,SponsorshipWrapper),this.init()}return o()(SponsorshipWrapper,[{key:"init",value:function init(){var e=S()(".SponsorshipWrapper-container").data("color"),t=S()(".SponsorshipWrapper-logo"),n=S()(".SponsorshipWrapper-text");window.innerWidth<=767&&(S()(n).css({"background-color":e}),S()(t).css({"background-color":e})),S()(window).resize(function(){window.innerWidth<=767?(S()(n).css({"background-color":e}),S()(t).css({"background-color":e})):(S()(n).css({"background-color":"unset"}),S()(t).css({"background-color":"unset"}))})}}]),SponsorshipWrapper}();d()(ri,"SELECTOR",".SponsorshipWrapper");var oi=function(){function SponsorshipCalloutModule(){c()(this,SponsorshipCalloutModule),this.init()}return o()(SponsorshipCalloutModule,[{key:"init",value:function init(){var e=S()(".SponsorshipCalloutModule .right-side").data("color"),t=S()(".SponsorshipCalloutModule .right-side"),n=S()(".SponsorshipCalloutModule");window.innerWidth<=767&&(S()(t).css({"background-color":e}),S()(n).css({"background-color":"unset"})),S()(window).resize(function(){window.innerWidth<=767?(S()(t).css({"background-color":e}),S()(n).css({"background-color":"unset"})):(S()(t).css({"background-color":"unset"}),S()(n).css({"background-color":e}))})}}]),SponsorshipCalloutModule}();d()(oi,"SELECTOR",".SponsorshipCalloutModule");var ai=function(){function PromoCodesTable(e){c()(this,PromoCodesTable),this.el=e,this._init()}return o()(PromoCodesTable,[{key:"_init",value:function _init(){var t=this;S()(this.el).on("click",PromoCodesTable.COPY_BUTTON_SELECTOR+", "+PromoCodesTable.COPY_TARGET_SELECTOR,function(e){e.preventDefault(),function PromoCodesTable_copyOnClick(e){var t=S()(e).closest(ai.ITEM_SELECTOR);copyTextToClipboard(t.find(ai.COPY_TARGET_SELECTOR).first().text()),t.find(ai.COPY_BUTTON_SELECTOR).addClass("hide"),t.find(ai.COPIED_MESSAGE_SELECTOR).removeClass("hide"),setTimeout(function(){t.find(ai.COPY_BUTTON_SELECTOR).removeClass("hide"),t.find(ai.COPIED_MESSAGE_SELECTOR).addClass("hide")},ai.COPY_TEXT_CHANGE_DELAY)}(e.target)}),S()(this.el).on("click",PromoCodesTable.VIEW_ALL_SELECTOR,function(e){S()(t.el).find(PromoCodesTable.ITEM_SELECTOR).removeClass("hide"),S()(t.el).find(PromoCodesTable.VIEW_ALL_SELECTOR).remove()}),S()(this.el).on("click",PromoCodesTable.MODAL_OPEN,function(e){S()(t.el).find(".modal").show(),S()(t.el).find(".Modal-contents").show()}),S()(this.el).on("click",PromoCodesTable.MODAL_CLOSE,function(e){S()(t.el).find(".modal").hide(),S()(t.el).find(".Modal-contents").hide()})}}]),PromoCodesTable}();d()(ai,"ITEMS_SELECTOR",".items"),d()(ai,"ITEM_SELECTOR",".item"),d()(ai,"COPY_TARGET_SELECTOR",".copy-target"),d()(ai,"COPY_BUTTON_SELECTOR",".copy-text"),d()(ai,"COPIED_MESSAGE_SELECTOR",".copied-text"),d()(ai,"VIEW_ALL_SELECTOR",".PromoCodesTable-show-all"),d()(ai,"COPY_TEXT_CHANGE_DELAY",2e3),d()(ai,"MODAL_OPEN",".open-modal"),d()(ai,"MODAL_CLOSE",".Modal-close"),d()(ai,"PROMO_CODES",".PromoCodesModule"),d()(ai,"PROMO_CODES_TILE",".PromoCodesModule-tile");t=function(){function HalfCircleProgressBar(e){c()(this,HalfCircleProgressBar),this.el=e,this._init()}return o()(HalfCircleProgressBar,[{key:"_init",value:function _init(){var t=S()(this.el).find(HalfCircleProgressBar.VALUE_SELECTOR),n=S()(this.el).find(HalfCircleProgressBar.POINTS_SELECTOR),e=parseInt(n.text(),10);S()({p:0}).animate({p:e},{duration:3e3,easing:"swing",step:function step(e){t.css({transform:"rotate("+(45+1.8*e)+"deg)"}),n.text(0|e)}})}}]),HalfCircleProgressBar}();d()(t,"SELECTOR",".HalfCircleProgressBar"),d()(t,"VALUE_SELECTOR",".HalfCircleProgressBar-value"),d()(t,"POINTS_SELECTOR",".HalfCircleProgressBar-points");i=function(){function FilterLinksModule(e){c()(this,FilterLinksModule),this.el=e,this._init()}return o()(FilterLinksModule,[{key:"_init",value:function _init(){var e=S()(this.el).find(".filterLink"),t=S()(".filterModuleFilterable");e.first().toggleClass("active"),e.on("click",function(){e.removeClass("active")}),e.first().on("click",function(){S()(this).toggleClass("active"),S()(t).parent().css("display","flex")}),e.slice(1).on("click",function(){var e=S()(this).data("filter-string");S()(this).toggleClass("active"),S()(t).each(function(){0===S()(this).find(".filterModuleFilter").filter(function(){return this.innerText===e}).length?S()(this).parent().css("display","none"):S()(this).parent().css("display","flex")})})}}]),FilterLinksModule}();d()(i,"SELECTOR",".FilterLinksModule");var si=n("./node_modules/rxjs/_esm5/internal/util/root.js");function ajaxGet(e,t){return new ui({method:"GET",url:e,headers:t=void 0===t?null:t})}function ajaxPost(e,t,n){return new ui({method:"POST",url:e,body:t,headers:n})}function ajaxDelete(e,t){return new ui({method:"DELETE",url:e,headers:t})}function ajaxPut(e,t,n){return new ui({method:"PUT",url:e,body:t,headers:n})}function ajaxPatch(e,t,n){return new ui({method:"PATCH",url:e,body:t,headers:n})}var li=map_map(function(e,t){return e.response});function ajaxGetJSON(e,t){return li(new ui({method:"GET",url:e,responseType:"json",headers:t}))}var ui=function(r){function AjaxObservable(e){var t=r.call(this)||this,n={async:!0,createXHR:function(){return(this.crossDomain?function getCORSRequest(){if(si.a.XMLHttpRequest)return new si.a.XMLHttpRequest;if(si.a.XDomainRequest)return new si.a.XDomainRequest;throw new Error("CORS is not supported by your browser")}:function getXMLHttpRequest(){if(si.a.XMLHttpRequest)return new si.a.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(e=t[n],new si.a.ActiveXObject(e))break}catch(e){}return new si.a.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}})()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)n.url=e;else for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return t.request=n,t}function Rac(e){return new AjaxObservable(e)}return __extends(AjaxObservable,r),AjaxObservable.prototype._subscribe=function(e){return new ci(e,this.request)},AjaxObservable.create=(Rac.get=ajaxGet,Rac.post=ajaxPost,Rac.delete=ajaxDelete,Rac.put=ajaxPut,Rac.patch=ajaxPatch,Rac.getJSON=ajaxGetJSON,Rac),AjaxObservable}(O),ci=function(i){function AjaxSubscriber(e,t){var n=i.call(this,e)||this;n.request=t,n.done=!1;e=t.headers=t.headers||{};return t.crossDomain||n.getHeader(e,"X-Requested-With")||(e["X-Requested-With"]="XMLHttpRequest"),n.getHeader(e,"Content-Type")||si.a.FormData&&t.body instanceof si.a.FormData||void 0===t.body||(e["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),t.body=n.serializeBody(t.body,n.getHeader(t.headers,"Content-Type")),n.send(),n}return __extends(AjaxSubscriber,i),AjaxSubscriber.prototype.next=function(e){this.done=!0;var t,n=this.xhr,i=this.request,r=this.destination;try{t=new di(e,n,i)}catch(e){return r.error(e)}r.next(t)},AjaxSubscriber.prototype.send=function(){var e=this.request,t=this.request,n=t.user,i=t.method,r=t.url,o=t.async,a=t.password,s=t.headers,t=t.body;try{var l=this.xhr=e.createXHR();this.setupEvents(l,e),n?l.open(i,r,o,n,a):l.open(i,r,o),o&&(l.timeout=e.timeout,l.responseType=e.responseType),"withCredentials"in l&&(l.withCredentials=!!e.withCredentials),this.setHeaders(l,s),t?l.send(t):l.send()}catch(e){this.error(e)}},AjaxSubscriber.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(si.a.FormData&&t instanceof si.a.FormData)return t;var n;switch(!e||-1!==(n=e.indexOf(";"))&&(e=e.substring(0,n)),e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},AjaxSubscriber.prototype.setHeaders=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])},AjaxSubscriber.prototype.getHeader=function(e,t){for(var n in e)if(n.toLowerCase()===t.toLowerCase())return e[n]},AjaxSubscriber.prototype.setupEvents=function(e,t){var n,o,i=t.progressSubscriber;function xhrTimeout(e){var t,n=xhrTimeout.subscriber,i=xhrTimeout.progressSubscriber,r=xhrTimeout.request;i&&i.error(e);try{t=new pi(this,r)}catch(e){t=e}n.error(t)}function xhrReadyStateChange(e){}function xhrLoad(t){var e=xhrLoad.subscriber,n=xhrLoad.progressSubscriber,i=xhrLoad.request;if(4===this.readyState){var r=1223===this.status?204:this.status,o="text"===this.responseType?this.response||this.responseText:this.response;if((r=0===r?o?200:0:r)<400)n&&n.complete(),e.next(t),e.complete();else{n&&n.error(t);t=void 0;try{t=new hi("ajax error "+r,this,i)}catch(e){t=e}e.error(t)}}}(e.ontimeout=xhrTimeout).request=t,xhrTimeout.subscriber=this,xhrTimeout.progressSubscriber=i,e.upload&&"withCredentials"in e&&(i&&(n=function(e){n.progressSubscriber.next(e)},si.a.XDomainRequest?e.onprogress=n:e.upload.onprogress=n,n.progressSubscriber=i),(e.onerror=o=function(e){var t,n=o.progressSubscriber,i=o.subscriber,r=o.request;n&&n.error(e);try{t=new hi("ajax error",this,r)}catch(e){t=e}i.error(t)}).request=t,o.subscriber=this,o.progressSubscriber=i),(e.onreadystatechange=xhrReadyStateChange).subscriber=this,xhrReadyStateChange.progressSubscriber=i,xhrReadyStateChange.request=t,(e.onload=xhrLoad).subscriber=this,xhrLoad.progressSubscriber=i,xhrLoad.request=t},AjaxSubscriber.prototype.unsubscribe=function(){var e=this.done,t=this.xhr;!e&&t&&4!==t.readyState&&"function"==typeof t.abort&&t.abort(),i.prototype.unsubscribe.call(this)},AjaxSubscriber}(M),di=function(){return function AjaxResponse(e,t,n){this.originalEvent=e,this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=parseXhrResponse(this.responseType,t)}}(),hi=function(){function AjaxErrorImpl(e,t,n){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=parseXhrResponse(this.responseType,t),this}return AjaxErrorImpl.prototype=Object.create(Error.prototype),AjaxErrorImpl}();function parseXhrResponse(e,t){switch(e){case"json":return function parseJson(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(t);case"xml":return t.responseXML;default:return"response"in t?t.response:t.responseText}}var pi=function AjaxTimeoutErrorImpl(e,t){return hi.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this},fi=function(){return ui.create}();var mi=function(){function CatchOperator(e){this.selector=e}return CatchOperator.prototype.call=function(e,t){return t.subscribe(new gi(e,this.selector,this.caught))},CatchOperator}(),gi=function(i){function CatchSubscriber(e,t,n){e=i.call(this,e)||this;return e.selector=t,e.caught=n,e}return __extends(CatchSubscriber,i),CatchSubscriber.prototype.error=function(e){if(!this.isStopped){var t=void 0;try{t=this.selector(e,this.caught)}catch(e){return void i.prototype.error.call(this,e)}this._unsubscribeAndRecycle();e=new q(this);this.add(e);t=innerSubscribe(t,e);t!==e&&this.add(t)}},CatchSubscriber}(W),yi=function(){function VideoAnalytics(e){c()(this,VideoAnalytics),this.element=e,this.document=document,this.$body=S()("body"),this.init()}return o()(VideoAnalytics,[{key:"init",value:function init(){var n=this;S()(this.element).on("Video:onVideoLoaded",function(e,t){n.onVideoLoaded(t)}),S()(this.element).on("Video:onVideoPlaybackStarted",function(e,t){n.onVideoStarted(t)}),S()(this.element).on("Video:onVideoPlaybackStopped",function(e,t){n.onVideoStopped(t)}),S()(this.element).on("Video:onVideoPlaybackPaused",function(e,t){n.onVideoPaused(t)}),S()(this.element).on("Video:onVideoPlaybackUnPaused",function(e,t){n.onVideoUnPaused(t)}),S()(this.element).on("Video:onVideoEnded",function(e,t){n.onVideoEnded(t)}),S()(this.element).on("Video:onVideoQuartileCompleted",function(e,t){n.onVideoQuartileCompleted(t)}),S()(this.element).on("Video:onVideoTimeIntervalUpdate",function(e,t){n.onVideoTimeUpdate(t)})}},{key:"onVideoLoaded",value:function onVideoLoaded(e){this.sendEvent({action:VideoAnalytics.LOADED,video:e.video,playerId:e.playerId})}},{key:"onVideoStarted",value:function onVideoStarted(e){this.sendEvent({action:VideoAnalytics.STARTED,video:e.video,playerId:e.playerId})}},{key:"onVideoStopped",value:function onVideoStopped(e){this.sendEvent({action:VideoAnalytics.STOPPED,video:e.video,playerId:e.playerId})}},{key:"onVideoPaused",value:function onVideoPaused(e){this.sendEvent({action:VideoAnalytics.PAUSED,video:e.video,playerId:e.playerId})}},{key:"onVideoUnPaused",value:function onVideoUnPaused(e){this.sendEvent({action:VideoAnalytics.UN_PAUSED,video:e.video,playerId:e.playerId})}},{key:"onVideoEnded",value:function onVideoEnded(e){this.sendEvent({action:VideoAnalytics.ENDED,video:e.video,playerId:e.playerId})}},{key:"onVideoTimeUpdate",value:function onVideoTimeUpdate(e){this.sendEvent({action:VideoAnalytics.TIME_UPDATE,video:e.video,playerId:e.playerId,value:e.secondsElapsed})}},{key:"onVideoQuartileCompleted",value:function onVideoQuartileCompleted(e){this.sendEvent({action:VideoAnalytics.QUARTILE,video:e.video,playerId:e.playerId,value:e.quartile})}},{key:"sendEvent",value:function sendEvent(e){}}]),VideoAnalytics}();function GTMVideoAnalytics_createSuper(n){var i=function GTMVideoAnalytics_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_()(n);return t=i?(e=_()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),v()(this,t)}}d()(yi,"LOADED","Loaded"),d()(yi,"STARTED","Started"),d()(yi,"STOPPED","Stopped"),d()(yi,"PAUSED","Paused"),d()(yi,"UN_PAUSED","UnPaused"),d()(yi,"ENDED","Ended"),d()(yi,"TIME_UPDATE","TimeUpdate"),d()(yi,"QUARTILE","foo");var vi=function(e){g()(GTMVideoAnalytics,e);var n=GTMVideoAnalytics_createSuper(GTMVideoAnalytics);function GTMVideoAnalytics(e){var t;return c()(this,GTMVideoAnalytics),(t=n.call(this,e)).element=e,t.playerContainer=t.element.parentElement,t.document=document,t}return o()(GTMVideoAnalytics,[{key:"sendEvent",value:function sendEvent(e){this.initializeFromDataAttributes(),e&&this.initializeFromData(e);this.videoId=this.videoId||this.element.getAttribute("data-video-id"),this.videoTitle=this.element.getAttribute("data-video-title"),this.label&&(this.label=this.replaceParameter("playerId",this.label),this.label=this.replaceParameter("videoId",this.label),this.label=this.replaceParameter("videoTitle",this.label),this.label=this.replaceParameter("videoDuration",this.label),this.label=this.replaceParameter("pageUrl",this.label),this.label=this.replaceParameter("pageTitle",this.label)),this.action&&GTMVideoAnalytics.sendVideoEvent(this.eventName,"Video",this.action,this.label,this.value)}},{key:"initializeFromDataAttributes",value:function initializeFromDataAttributes(){this.playerContainer?(this.eventName=this.element.getAttribute("data-gtm-video-event")||this.playerContainer.getAttribute("data-gtm-video-event")||"playVideo",this.label=this.element.getAttribute("data-gtm-video-label")||this.playerContainer.getAttribute("data-gtm-video-label")||"{videoId} | {videoTitle}"):(this.eventName=this.element.getAttribute("data-gtm-video-event")||"playVideo",this.label=this.element.getAttribute("data-gtm-video-label")||"{videoId} | {videoTitle}")}},{key:"initializeFromData",value:function initializeFromData(e){if(e&&(this.playerId=e.playerId||null,this.value=e.value||null,e.video&&(this.videoId=e.video.id||null,this.videoTitle=e.video.title||null,this.videoDuration=e.video.duration||null),e.action))switch(e.action){case yi.STARTED:this.action="Play";break;case yi.STOPPED:this.action="Stop";break;case yi.PAUSED:this.action="Pause";break;case yi.UN_PAUSED:this.action="UnPause";break;case yi.ENDED:this.action="End";break;case yi.TIME_UPDATE:this.action=null;break;case yi.QUARTILE:if(this.value)switch(this.value){case 25:this.action="Video 25% Complete";break;case 50:this.action="Video 50% Complete";break;case 75:this.action="Video 75% Complete";break;case 100:this.action="Video 100% Complete";break;default:this.action=null}else this.action=null}}},{key:"parameterValue",value:function parameterValue(e){var t="";switch(e){case"pageUrl":t=this.document.location;break;case"pageTitle":t=this.document.title;break;case"videoId":t=this.videoId;break;case"videoTitle":t=this.videoTitle;break;case"playerId":t=this.playerId;break;case"videoDuration":t=this.videoDuration}return t}},{key:"replaceParameter",value:function replaceParameter(e,t){if(e&&t){var n=this.parameterValue(e);return t.replace("{"+e+"}",n)}return t}}],[{key:"sendVideoEvent",value:function sendVideoEvent(e,t,n,i,r){t&&n&&i&&(i={event:e||"playVideo",eventCategory:t||"Video",eventAction:n,eventLabel:i},r&&(i.eventValue=r),je.sendDataEvent(i))}}]),GTMVideoAnalytics}(yi),r="body",bi="head title",_i=".EpisodePage-main",Ti="data-playlist-title",Si="Playlist:Initialized",Ci="PlaylistItem:onSelect",a={};function _getTitleToTrack(){var e=S()(_i).add(bi);return 0===e.length?"":1===e.length?e.is(_i)?e.attr(Ti):e.text():e[1].hasAttribute(Ti)?e[1].getAttribute(Ti):e[0].innerText}window.dataLayer&&(a[Si]=function(e,t){t&&t.playlist&&(t.playlist.playlistItems&&1<t.playlist.playlistItems.length&&vi.sendVideoEvent("startPlaylist","Playlist","Start","".concat(_getTitleToTrack()," | ").concat(t.playlist.getSelectedIndex()+1)),t.playlist.selectedPlaylistItem.isLocked&&document.location.search.indexOf(Xi)<0?(je.addCustomDimension({lockedContent:!0}),je.addCustomDimension({event:"lockedContent",eventCategory:"Playlist",eventAction:"playlistInitialized",target:document.location.href,from:document.referrer})):t.playlist.selectedPlaylistItem&&vi.sendVideoEvent("startVideo","Video","Video Start","".concat(_getTitleToTrack()," | ").concat(t.playlist.selectedPlaylistItem.dataTitle),1))},a[Ci]=function(e,t){t&&(t.isLocked?(je.addCustomDimension({lockedContent:!0}),je.addCustomDimension({event:"lockedContent",eventCategory:"Playlist",eventAction:"playlistItemSelected",target:t.dataLockedUrl,from:document.location.href})):t.playlist&&0<t.playlist.getSelectedIndex()&&vi.sendVideoEvent("startVideo","Video","Video Change","".concat(_getTitleToTrack()," | ").concat(t.title),t.playlist.getSelectedIndex()+1))},S()(r).on(a));var wi=function(){function EpisodeCarouselPlaylist(e,t){c()(this,EpisodeCarouselPlaylist),d()(this,"_initializedPlaylistEventData",function(e,t){return{playlist:{playlistItems:t,getSelectedIndex:function getSelectedIndex(){return e.getSelectedIndex(e)},selectedPlaylistItem:{isLocked:e.isSelectedLocked(e),dataTitle:e.getSelectedTitle(e)}}}}),d()(this,"_selectedPlaylistEventData",function(e){return{title:e.getSelectedTitle(e),isLocked:e.isSelectedLocked(e),dataLockedUrl:e.activePromo&&e.activePromo.getAttribute(EpisodeCarouselPlaylist._attributes.url),playlist:{getSelectedIndex:function getSelectedIndex(){return e.getSelectedIndex(e)}}}});var n=e.querySelector(EpisodeCarouselPlaylist._selectors.slickSlider);!t||(t=e.querySelector(t))&&(n=t),this.init(e,n),this.bindEvents(n)}return o()(EpisodeCarouselPlaylist,[{key:"bindEvents",value:function bindEvents(e){var t,n,i=this;e&&(t={},n=S()(e),t[EpisodeCarouselPlaylist.EVENTS.videoEnded]=function(e){var t;!i.activePromo||(t=i.nextPromo||i.getNextPromo())&&i.nextPromo.getAttribute(EpisodeCarouselPlaylist._attributes.url)!==i.firstPromoUrl&&(n.trigger(EpisodeCarouselPlaylist.EVENTS.playNextVideo),i._selectNewPromo(n,t),S()(EpisodeCarouselPlaylist._selectors.playlistAnalyticsTrigger).trigger(Ci,i._selectedPlaylistEventData(i)))},t[EpisodeCarouselPlaylist.EVENTS.nextVideoRequest]=function(e){i.activePromo&&(i.nextPromo=i.getNextPromo(),i.nextPromo&&i.nextPromo.getAttribute(EpisodeCarouselPlaylist._attributes.url)!==i.firstPromoUrl&&n.trigger(EpisodeCarouselPlaylist.EVENTS.nextVideoRequestReady,{episodeId:EpisodeCarouselPlaylist.getEpisodeId(i.nextPromo.parentElement)}))},n.on(t))}},{key:"init",value:function init(e,t){function _1c(e){(e=e.querySelectorAll("".concat(EpisodeCarouselPlaylist._selectors.carouselItem).concat(EpisodeCarouselPlaylist._selectors.slickActive)))&&e.length&&(i.activePromo=e[0].querySelector(EpisodeCarouselPlaylist._selectors.promo),i.activePromo&&(i.firstPromoUrl=i.activePromo.getAttribute(EpisodeCarouselPlaylist._attributes.url),i._toggleSelected(i.activePromo)),S()(EpisodeCarouselPlaylist._selectors.playlistAnalyticsTrigger).trigger(Si,i._initializedPlaylistEventData(i,e)))}var n,i=this;!e||(n=S()(t)).length&&(n.is(EpisodeCarouselPlaylist._selectors.slickInitialized)?_1c(n[0]):n.on(l.INITIALIZED_EVENT,function(e){return _1c(e.target)}),(t=t.querySelectorAll(EpisodeCarouselPlaylist._selectors.promo))&&t.length&&(S()(t).on("click",function(e){var t;e&&e.currentTarget&&e.currentTarget.parentElement&&((t=EpisodeCarouselPlaylist.getEpisodeId(e.currentTarget.parentElement))&&(i._selectNewPromo(n,e.currentTarget),i.nextPromo=i.getNextPromo(),n.trigger(EpisodeCarouselPlaylist.EVENTS.promoSelected,{episodeId:t}),S()(EpisodeCarouselPlaylist._selectors.playlistAnalyticsTrigger).trigger(Ci,i._selectedPlaylistEventData(i))))}),t.forEach(function(e,t){var n,i=e.querySelector("a");i&&(n=i.getAttribute("href"),e.setAttribute(EpisodeCarouselPlaylist._attributes.url,n),i.removeAttribute("href"))})))}},{key:"isSelectedLocked",value:function isSelectedLocked(e){if(e.activePromo){e=e.activePromo.querySelector(EpisodeCarouselPlaylist._selectors.promoType);if(e)return e.hasAttribute(EpisodeCarouselPlaylist._attributes.isLocked)}}},{key:"getSelectedTitle",value:function getSelectedTitle(e){if(e.activePromo&&e.activePromo.parentElement)return e.activePromo.parentElement.getAttribute(EpisodeCarouselPlaylist._attributes.dataTitle)}},{key:"getSelectedIndex",value:function getSelectedIndex(e){if(e.activePromo&&e.activePromo.parentElement){e=e.activePromo.parentElement.getAttribute(EpisodeCarouselPlaylist._attributes.index);if(e)return+e}return-1}},{key:"getNextPromo",value:function getNextPromo(){return this.activePromo.parentElement&&this.activePromo.parentElement.nextElementSibling&&this.activePromo.parentElement.nextElementSibling.querySelector(EpisodeCarouselPlaylist._selectors.promo)}},{key:"_selectNewPromo",value:function _selectNewPromo(e,t){this._toggleSelected(this.activePromo),this.activePromo=t,this._toggleSelected(this.activePromo),this._adjustCurrentSlide(e,this.activePromo)}},{key:"_adjustCurrentSlide",value:function _adjustCurrentSlide(e,t){if(e.length&&S()(t).is(EpisodeCarouselPlaylist._selectors.promo)&&t.parentElement)for(var n=500,i=S()(t.parentElement);!i.is(EpisodeCarouselPlaylist._selectors.slickActive)&&0<--n;)e.slick("slickNext")}},{key:"_toggleSelected",value:function _toggleSelected(e){e&&(e.hasAttribute(EpisodeCarouselPlaylist._attributes.selected)?e.removeAttribute(EpisodeCarouselPlaylist._attributes.selected):e.setAttribute(EpisodeCarouselPlaylist._attributes.selected,""))}}],[{key:"getEpisodeId",value:function getEpisodeId(e){if(e)return e.getAttribute(EpisodeCarouselPlaylist._attributes.episodeId)}}]),EpisodeCarouselPlaylist}();d()(wi,"EVENTS",{videoEnded:"EpisodeCarouselPlaylist:VideoEnded",promoSelected:"EpisodeCarouselPlaylist:PromoSelected",playNextVideo:"EpisodeCarouselPlaylist:PlayNextVideo",nextVideoRequest:"EpisodeCarouselPlaylist:NextVideoRequest",nextVideoRequestReady:"EpisodeCarouselPlaylist:NextVideoRequestReady"}),d()(wi,"_selectors",{carouselItem:".slick-slide",slickActive:".slick-active",promo:".PromoImageOnTop-medium",playlistAnalyticsTrigger:"body",slickSlider:".EpisodeCarousel-items",slickInitialized:".slick-initialized",promoType:".PromoImageOnTop-medium-type"}),d()(wi,"_attributes",{url:"data-url",selected:"selected",dataTitle:"data-title",index:"data-slick-index",isLocked:"data-is-locked",episodeId:"data-episode-id"});var ki=function(){function ShowPage(e){var i=this;c()(this,ShowPage),d()(this,"_selectors",{promo:".PromoImageOnTop-medium",main:"".concat(ShowPage.SELECTOR," main"),episodeCarouselItem:".slick-slide",article:"".concat(ShowPage.SELECTOR," main article"),ctaLedePlayButton:"".concat(Wi.SELECTOR,"-info-button[play-button] button"),ctaOrPlayerLede:"".concat(Wi.SELECTOR,", ").concat(Hi.SELECTOR),sponsorshipBgImg:"".concat(ShowPage.SELECTOR,"-sponsorshipPauseImg")}),d()(this,"_attributes",{showId:"data-show-id"}),this.bindEvents(e),this.sponsorShipBgImg=S()(this._selectors.sponsorshipBgImg),S()(this._selectors.main).on("Video:onVideoPlaybackPaused",function(e,t){if(i.sponsorShipBgImg.length&&1!==S()(".ShowCtaLede-info-button").length){var n=!1;try{n=window.videojs(e.target.parentElement.id).ads.isAdPlaying()}catch(e){}!0!==e.target.seeking&&!0!==e.target.ended&&!0!==n&&0===S()(".ShowEpisodePlayerLede button.vjs-playing").length&&(e=S()(e.target).closest(".ShowEpisodePlayerLede"),i.sponsorShipBgImg.addClass("sponsorshipPaused"),S()(".ShowEpisodePlayerLede, .video-js").addClass("sponsorshipPaused"),e.addClass("sponsorshipPaused"))}}),S()(this._selectors.main).on("Video:onAdPaused",function(e,t){i.sponsorShipBgImg.length&&(e=S()(e.target).closest(".ShowEpisodePlayerLede"),i.sponsorShipBgImg.addClass("sponsorshipPaused sponsorshipAdPaused"),S()(".ShowEpisodePlayerLede, .video-js").addClass("sponsorshipPaused sponsorshipAdPaused"),e.addClass("sponsorshipPaused sponsorshipAdPaused"))}),S()(this._selectors.main).on("Video:onVideoPlaybackStarted",function(e,t){i.sponsorShipBgImg.length&&1<=S()(".ShowEpisodePlayerLede button.vjs-playing").length&&(e=S()(e.target).closest(".ShowEpisodePlayerLede"),i.sponsorShipBgImg.removeClass("sponsorshipPaused"),S()(".ShowEpisodePlayerLede, .video-js").removeClass("sponsorshipPaused"),e.removeClass("sponsorshipPaused"))}),S()(this._selectors.main).on("Video:onAdResumed",function(e,t){i.sponsorShipBgImg.length&&(e=S()(e.target).closest(".ShowEpisodePlayerLede"),i.sponsorShipBgImg.removeClass("sponsorshipPaused sponsorshipAdPaused"),S()(".ShowEpisodePlayerLede, .video-js").removeClass("sponsorshipPaused sponsorshipAdPaused"),e.removeClass("sponsorshipPaused sponsorshipAdPaused"))})}return o()(ShowPage,[{key:"bindEvents",value:function bindEvents(i){var e,r,t,o=this;i&&(e=i.querySelector(this._selectors.ctaOrPlayerLede),(t=i.querySelector(this._selectors.main))&&e&&t.hasAttribute(this._attributes.showId)&&(r=t.getAttribute(this._attributes.showId),(t=t.querySelectorAll(this._selectors.episodeCarouselItem))&&t.forEach(function(e){var n=wi.getEpisodeId(e),t=e.getAttribute(o._attributes.showId);n&&t===r&&(S()(e).on("click",function(e){var t=i.querySelector(o._selectors.ctaOrPlayerLede);t.matches(Wi.SELECTOR)?(replaceLede(window.location.href.split("?")[0],n,function(e){window.console.error(e),Pn.showFailure({text:"An unexpected error occurred. Please try again."})}),window.scrollTo(0,0)):t.matches(Hi.SELECTOR)&&(window.scrollTo(0,0),S()(Hi.SLICK_CAROUSEL_SELECTOR).trigger(wi.EVENTS.promoSelected,{episodeId:n,updateCarousel:!0}))}),!(e=e.querySelector(o._selectors.promo))||(e=e.querySelector("a"))&&e.removeAttribute("href"))})))}}]),ShowPage}();d()(ki,"SELECTOR",".ShowPage"),d()(ki,"CTA_EPISODE_PARAMETER","cta_episode_id"),d()(ki,"EPISODE_INJECTION_PARAMETER","episode_id");const Ei={align:"top-left",class:"",content:"This overlay will show up while the video is playing",debug:!1,showBackground:!0,attachToControlBar:!1,overlays:[{start:"playing",end:"paused"}]};s=$e.a.getComponent("Component");const Ai=$e.a.dom||$e.a,Pi=$e.a.registerPlugin||$e.a.plugin,xi=e=>"number"==typeof e&&e==e,Mi=e=>"string"==typeof e&&/^\S+$/.test(e);class videojs_overlay_es_Overlay extends s{constructor(e,t){super(e,t),["start","end"].forEach(e=>{var t=this.options_[e];if(xi(t))this[e+"Event_"]="timeupdate";else if(Mi(t))this[e+"Event_"]=t;else if("start"===e)throw new Error('invalid "start" option; expected number or string')}),["endListener_","rewindListener_","startListener_"].forEach(t=>{this[t]=e=>videojs_overlay_es_Overlay.prototype[t].call(this,e)}),"timeupdate"===this.startEvent_&&this.on(e,"timeupdate",this.rewindListener_),this.debug(`created, listening to "${this.startEvent_}" for "start" and "${this.endEvent_||"nothing"}" for "end"`),this.hide()}createEl(){var e=this.options_,t=e.content,n=e.showBackground?"vjs-overlay-background":"vjs-overlay-no-background";const i=Ai.createEl("div",{className:`
        vjs-overlay
        vjs-overlay-${e.align}
        ${e.class}
        ${n}
        vjs-hidden
      `});return"string"==typeof t?i.innerHTML=t:t instanceof Ye.a.DocumentFragment?i.appendChild(t):Ai.appendContent(i,t),i}debug(...t){if(this.options_.debug){const n=$e.a.log;let e=n;n.hasOwnProperty(t[0])&&"function"==typeof n[t[0]]&&(e=n[t.shift()]),e(`overlay#${this.id()}: `,...t)}}hide(){return super.hide(),this.debug("hidden"),this.debug(`bound \`startListener_\` to "${this.startEvent_}"`),this.endEvent_&&(this.debug(`unbound \`endListener_\` from "${this.endEvent_}"`),this.off(this.player(),this.endEvent_,this.endListener_)),this.on(this.player(),this.startEvent_,this.startListener_),this}shouldHide_(e,t){var n=this.options_.end;return xi(n)?n<=e:n===t}show(){return super.show(),this.off(this.player(),this.startEvent_,this.startListener_),this.debug("shown"),this.debug(`unbound \`startListener_\` from "${this.startEvent_}"`),this.endEvent_&&(this.debug(`bound \`endListener_\` to "${this.endEvent_}"`),this.on(this.player(),this.endEvent_,this.endListener_)),this}shouldShow_(e,t){var n=this.options_.start,i=this.options_.end;return xi(n)?xi(i)?n<=e&&e<i:this.hasShownSinceSeek_?Math.floor(e)===n:(this.hasShownSinceSeek_=!0,n<=e):n===t}startListener_(e){var t=this.player().currentTime();this.shouldShow_(t,e.type)&&this.show()}endListener_(e){var t=this.player().currentTime();this.shouldHide_(t,e.type)&&this.hide()}rewindListener_(e){var t=this.player().currentTime(),n=this.previousTime_,i=this.options_.start,r=this.options_.end;t<n&&(this.debug("rewind detected"),xi(r)&&!this.shouldShow_(t)?(this.debug(`hiding; ${r} is an integer and overlay should not show at this time`),this.hasShownSinceSeek_=!1,this.hide()):Mi(r)&&t<i&&(this.debug(`hiding; show point (${i}) is before now (${t}) and end point (${r}) is an event`),this.hasShownSinceSeek_=!1,this.hide())),this.previousTime_=t}}$e.a.registerComponent("Overlay",videojs_overlay_es_Overlay);function Na1(e){const i=$e.a.mergeOptions(Ei,e);Array.isArray(this.overlays_)&&this.overlays_.forEach(e=>{this.removeChild(e),this.controlBar&&this.controlBar.removeChild(e),e.dispose()});const t=i.overlays;delete i.overlays,this.overlays_=t.map(t=>{const n=$e.a.mergeOptions(i,t);t="string"==typeof n.attachToControlBar||!0===n.attachToControlBar;if(!this.controls()||!this.controlBar)return this.addChild("overlay",n);if(t&&-1!==n.align.indexOf("bottom")){let e=this.controlBar.children()[0];if(void 0!==this.controlBar.getChild(n.attachToControlBar)&&(e=this.controlBar.getChild(n.attachToControlBar)),e){t=this.controlBar.children().indexOf(e);return this.controlBar.addChild("overlay",n,t)}}const e=this.addChild("overlay",n);return this.el().insertBefore(e.el(),this.controlBar.el()),e})}function EpisodeFreeview_createForOfIteratorHelper(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function EpisodeFreeview_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return EpisodeFreeview_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EpisodeFreeview_arrayLikeToArray(e,t):void 0}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function F(){};return{s:i,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function s(){r=r.call(t)},n:function n(){var e=r.next();return l=e.done,e},e:function e(t){u=!0,a=t},f:function f(){try{l||null==r.return||r.return()}finally{if(u)throw a}}}}function EpisodeFreeview_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Na1.VERSION="3.0.0",Pi("overlay",Na1);var Ii={freeviewComplete:"EpisodeFreeview:Completed"},Li={videoJsOverlay:".vjs-overlay"},Oi="ep.fv",Di="ep.fv.ct",Ri="ep.fv.cb",Ni=function getVideo(e){if(e&&e.container&&e.selectors&&e.selectors.video)return S()(e.container).find(e.selectors.video)[0]},Bi=function getLockedContentModal(e){if(e&&e.container&&e.selectors&&e.selectors.lockedContentModal)return S()(e.container).find(e.selectors.lockedContentModal)[0]},ji=function getVideoId(e){var t=Ni(e);if(t&&e.attributes&&e.attributes.videoId){e=t.getAttribute(e.attributes.videoId);if(e){e=e.split("/");return e[e.length-1]}}},Fi=function getPlayer(e){e=Ni(e);if(e&&e.id&&window.videojs)return window.videojs.getPlayer(e.id)},Ui=function getFreeviewSeconds(e){var t=Ni(e);if(t&&e.attributes&&e.attributes.freeviewSeconds)return+t.getAttribute(e.attributes.freeviewSeconds)},Vi=function isLiveStream(e){var t=Ni(e);if(t&&e.attributes&&e.attributes.isLiveStream){var n,i=t.hasAttribute(e.attributes.isLiveStream)||t.hasAttribute("live");return i&&(n=document.getElementsByClassName("vjs-seek-to-live-control"),e=document.getElementsByClassName("vjs-live-display"),("safari"===(t=Object(qt.a)().name.toLowerCase())&&(!e||e.length<1||"none"===e[0].display||"none"===window.getComputedStyle(e[0]).display||e[0].parentElement.classList.contains("vjs-hidden"))||"safari"!==t&&(!n||n.length<1||"none"===n[0].display||"none"===window.getComputedStyle(n[0]).display))&&(i=!1)),i}};function initFreeview(e,t,n,i){var r;!function __validateParams(e,t,n){return e?t?n?t.video&&t.videoContainer&&t.lockedContentModal?!!(n.videoId&&n.freeviewSeconds&&n.isLiveStream)||(console.error("Freeview: Attributes is missing required selectors!"),!1):(console.error("Freeview: Selectors is missing required selectors!"),!1):(console.error("Freeview: Attributes is undefined!"),!1):(console.error("Freeview: Selectors is undefined!"),!1):(console.error("Freeview: Container Element is undefined!"),!1)}(e,t,n)||((r={}).container=e,r.selectors=t,r.attributes=n,r.returnUrl=i||window.location.href,function EpisodeFreeview_init(i){i&&(i.freeviewSeconds=Ui(i));{var e,t;i.isFreeview=i.inFreeview=0<i.freeviewSeconds&&Ni(i)&&!!Bi(i),i.isFreeview&&(e=Fi(i))&&(e.controlBar.progressControl.disable(),e.controlBar.progressControl.hide(),i.timeCookieDelta=0,Vi(i)&&(t=e.currentTime(),i.timeCookieDelta=t,e.on("playing",function(e){var t=document.getElementsByClassName("vjs-seek-to-live-control"),n=null;t&&0<t.length&&(n=t[0])&&(n.click(),_setFreeviewCookies(i))})),function __bindToOnComplete(t){var n=Fi(t);n&&n.on(Ii.freeviewComplete,function(e){t.inFreeview=!1,S()(t.container).add(Bi(t).parentElement.parentElement).show(),_setFreeviewCookies(t),n.pause(),n.muted(!0),S()(t.container).find(t.selectors.videoContainer).hide(),S()(Ni(t)).remove()})}(i),function EpisodeFreeview_initEvents(e){var t=Fi(e);e.isFreeview&&t&&t.overlay&&function __addOverlay(i,r){i.overlay({class:"blackOverlay",overlays:[{align:"top",content:"Time remaining: "+getTimeString(secondsToTime(function __getInitialTime(e){if(Vi(e))return window.parseFloat(Ui(e))-window.parseFloat(__getCurrentTimeCookie(e));return Ui(e)}(r))),start:"timeupdate",end:"ended"}]}),i.on("timeupdate",function(e){var t,n=S()(r.container).find(Li.videoJsOverlay);i&&i.ads&&i.ads.clip&&i.ads.clip.isAd?n.hide():(n.show(),t=window.parseFloat(__getCurrentTimeCookie(r)),r.inFreeview&&t>r.freeviewSeconds?(r.inFreeview=!1,i.trigger(Ii.freeviewComplete)):r.inFreeview&&function __incrementCookie(e){var t=Fi(e),n=t&&t.currentTime();if(e&&Vi(e)){0===e.timeCookieDelta&&(e.timeCookieDelta=n);var i=window.parseFloat(n)-window.parseFloat(e.timeCookieDelta)+window.parseFloat(__getCurrentTimeCookie(e));return __setCurrentTimeCookie(i,e),e.timeCookieDelta=n}t&&t.ads&&t.ads.playlist?__setCurrentTimeCookie(t.ads.playlist.getContentWatched(t),e):__setCurrentTimeCookie(n,e)}(r),r.inFreeview&&n.length&&n.text("Time remaining: "+getTimeString(secondsToTime(r.freeviewSeconds-function __getPlayerTimeRemaining(e){if(Vi(e))return window.parseFloat(__getCurrentTimeCookie(e));e=Fi(e);if(e&&e.ads&&e.ads.playlist)return e.ads.playlist.getContentWatched(e);return e&&e.currentTime()}(r)))))})}(t,e)}(i))}}(r))}function __getCurrentTimeCookie(e){var t=Fi(e);if(t&&t.ads&&t.ads.playlist)return t.ads.playlist.getContentWatched(t);var n=ji(e),e=Ie.a.get(Di);if(n&&e){var i,r=EpisodeFreeview_createForOfIteratorHelper(e.split("|"));try{for(r.s();!(i=r.n()).done;){var o=i.value;if(arrayHasValue(o.split("~"),n,0))return o.split("~")[1]}}catch(e){r.e(e)}finally{r.f()}}return 0}function _setFreeviewCookies(e){var t,n=ji(e);n&&((t=Ie.a.get(Oi))&&arrayHasValue(t.split("|"),n,0)||(document.cookie="".concat(Oi,"=").concat(t?t+"|":"").concat(n,";path=/;secure;")),document.cookie="".concat(Ri,"=").concat(e.returnUrl,";path=/;secure;"),__setCurrentTimeCookie(0,e))}function __setCurrentTimeCookie(e,t){var n=ji(t);if(e&&n){var t=Ie.a.get(Di),i=[];if(t){var r,o=-1,a=EpisodeFreeview_createForOfIteratorHelper(i=t.split("|"));try{for(a.s();!(r=a.n()).done;){var s=r.value;if(arrayHasValue(s.split("~"),n,0)){o=i.indexOf(s);break}}}catch(e){a.e(e)}finally{a.f()}-1<o&&i.splice(o,1),i.push("".concat(n,"~").concat(e))}else i=["".concat(n,"~").concat(e)];document.cookie="".concat(Di,"=").concat(i.join("|"),";path=/;secure;")}}var Hi=function(){function ShowEpisodePlayerLede(e){var t=this;c()(this,ShowEpisodePlayerLede),d()(this,"_selectors",{video:"video",showPageLede:".ShowPage-lead",videoFavorite:".VideoFavorite",showPageMain:".ShowPage-mainContent",upNextCarouselSlickItems:".EpisodeCarousel-items",videoContainer:".ShowEpisodePlayerLede-player, .ShowEpisodePlayerLede-showCtaLink",episodeDetails:"".concat(ShowEpisodePlayerLede.SELECTOR," .TabsModule"),showCtaLink:"".concat(ShowEpisodePlayerLede.SELECTOR,"-showCtaLink"),lockedContentModal:".LockedContentModal",videoJsPlayerOrLockedContentModal:"".concat(ShowEpisodePlayerLede.SELECTOR,"-main")}),d()(this,"_attributes",{bleedUp:"bleed-up",isLiveStream:"live",videoId:"data-video-id",videoTitle:"data-video-title",freeviewSeconds:"data-freeview-seconds",episodeLedeEndpoint:"data-episode-lede-endpoint"}),d()(this,"_showCtaLink",{inactiveClass:"inactive"}),d()(this,"_getEpisodeLedeUrl",function(e){return t.ledeEndpoint&&e?"".concat(t.ledeEndpoint,"?").concat(ki.EPISODE_INJECTION_PARAMETER,"=").concat(e):""}),this.el=e,this.ledeEndpoint=e.getAttribute(this._attributes.episodeLedeEndpoint),this.upNextCarouselSlick=e.querySelector(ShowEpisodePlayerLede.SLICK_CAROUSEL_SELECTOR),this.initialize(e),this.bindVideoEvents(e.querySelector(this._selectors.video),this.upNextCarouselSlick,!0),this.bindPlaylistEvents(this.upNextCarouselSlick)}return o()(ShowEpisodePlayerLede,[{key:"bindVideoEvents",value:function bindVideoEvents(n,e,t){var i,r=this;n&&!e?window.console.error("Carousel is undefined! Video:",n):!n&&e?window.console.error("Video is undefined! Carousel:",e):n||e||window.console.error("Video  and carousel are undefined!"),n&&(S()(n).on($t.EVENTS.initialized,function(e){window.videojs.getPlayer(n.id).on("loadeddata",function(e){initFreeview(r.el.querySelector(r._selectors.videoJsPlayerOrLockedContentModal),r._selectors,r._attributes,t?"":r._getEpisodeLedeUrl(r.currentEpisodeId))})}),!e||(e=e.querySelector(this._selectors.upNextCarouselSlickItems))&&(i=S()(e),S()(n).on($t.EVENTS.initialized,function(e){var t=window.videojs.getPlayer(n.id);t&&(t.on("play",function(e){i.trigger(wi.EVENTS.nextVideoRequest)}),t.on("ended",function(e){i.trigger(wi.EVENTS.videoEnded)}))})))}},{key:"bindPlaylistEvents",value:function bindPlaylistEvents(e){var t,n,a=this;e?(t=S()(e),(n={})[wi.EVENTS.nextVideoRequestReady]=function(e,t){t&&t.episodeId&&a._getNextVideo(t.episodeId,!1,function(e,t){e.nextVideo=t})},n[wi.EVENTS.playNextVideo]=function(e,t){var n,i=!1,r=document.querySelectorAll(".CommentForm textarea");if(r)for(var o=0;o<r.length;o++)if(0<r[o].value.trim().length){i=!0;break}!0===i?(S()(".video-overlay").addClass("visible"),a.nextVideo&&a.nextVideo.nextVideo&&((n=document.createElement("div")).innerHTML=a.nextVideo.nextVideo,(n=n.querySelector("video"))&&(n=n.getAttribute(a._attributes.videoTitle),S()(".video-overlay h2").html(n))),S()(".play").click(function(){(a.nextVideo||t&&t.episodeId)&&(a.nextVideo?a._replaceVideo(a,a.nextVideo):a._getNextVideo(t.episodeId,!0,a._replaceVideo),S()(r).val(""))})):(a.nextVideo||t&&t.episodeId)&&(a.nextVideo?a._replaceVideo(a,a.nextVideo):a._getNextVideo(t.episodeId,!0,a._replaceVideo))},n[wi.EVENTS.promoSelected]=function(e,t){t&&t.episodeId&&a._getNextVideo(t.episodeId,!0,a._replaceVideo,t.updateCarousel)},t.on(n)):window.console.error("Undefined argument:",e)}},{key:"initialize",value:function initialize(e){var t=this,n=document.querySelector(this._selectors.showPageMain);n&&n.hasAttribute(this._attributes.bleedUp)&&n.removeAttribute(this._attributes.bleedUp);n=e.querySelectorAll(this._selectors.upNextCarouselSlickItems);n&&n.forEach(function(e){e=e.querySelectorAll(t._selectors.videoFavorite);e&&e.forEach(function(e){e.remove()})}),this._initBackButton(this,e)}},{key:"_replaceVideo",value:function _replaceVideo(n,i){function mec(e){n.nextVideo=!1,i.nextVideo&&(n.el.querySelector(n._selectors.videoJsPlayerOrLockedContentModal).outerHTML=i.nextVideo),i.nextEpisodeDetails&&(n.el.querySelector(n._selectors.episodeDetails).outerHTML=i.nextEpisodeDetails);var t=document.querySelector("main.ShowPage-main .ShowPage-sponsorshipPauseImg img");i.nextSponsorshipBgImg&&t&&(t.src=i.nextSponsorshipBgImg,t.dataset.src=i.nextSponsorshipBgImg),i.nextCarousel&&(n.el.querySelector(ShowEpisodePlayerLede.SLICK_CAROUSEL_SELECTOR).outerHTML=i.nextCarousel,n.upNextCarouselSlick=n.el.querySelector(ShowEpisodePlayerLede.SLICK_CAROUSEL_SELECTOR),n.bindPlaylistEvents(n.upNextCarouselSlick)),(t=n.el.querySelector(n._selectors.video))&&(n._initBackButton(n,n.el),n.bindVideoEvents(t,n.upNextCarouselSlick))}i?(S()(n.el.querySelector(n._selectors.video)).trigger("dispose"),document.exitPictureInPicture?document.exitPictureInPicture().catch(function(e){return console.log("Error while exiting PIP mode.")}).finally(mec):mec()):window.console.error("Undefined argument:",i)}},{key:"_getNextVideo",value:function _getNextVideo(e,t,r,o){function wec(e){t&&(window.console.error(e),Pn.showFailure({text:"An unexpected error occurred while retrieving the next video."}))}var a=this,n=this._getEpisodeLedeUrl(e);if(n)return this.currentEpisodeId=e,S.a.get(n).done(function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelector(a._selectors.episodeDetails),i=t.querySelector(a._selectors.videoJsPlayerOrLockedContentModal),e=t.querySelector(ShowEpisodePlayerLede.SLICK_CAROUSEL_SELECTOR),t=t.querySelector(ShowEpisodePlayerLede.SELECTOR);r?r(a,{nextVideo:!!i&&i.outerHTML,nextCarousel:!!(o&&e&&e.outerHTML)&&e.outerHTML,nextEpisodeDetails:!!n&&n.outerHTML,nextSponsorshipBgImg:!!t&&t.dataset.episodeSponsorshipPauseImg}):wec("OnResolved is undefined!")}).fail(wec)}},{key:"_initBackButton",value:function _initBackButton(t,e){var n,i,r=S()(e).find($t.SELECTOR);!r.length||(n=e.querySelector(t._selectors.showCtaLink))&&((e={})[$t.EVENTS.playerInactive]=function(e){n.classList.contains(t._showCtaLink.inactiveClass)||n.classList.add(t._showCtaLink.inactiveClass)},e[$t.EVENTS.playerActive]=function(e){n.classList.contains(t._showCtaLink.inactiveClass)&&n.classList.remove(t._showCtaLink.inactiveClass)},r.on(e),i=t.currentEpisodeId,n.addEventListener("click",function(e){replaceLede(window.location.href.split("?")[0],i,function(e){window.console.error(e),Pn.showFailure({text:"An unexpected error occurred. Please try again."})},!0)}))}}]),ShowEpisodePlayerLede}();d()(Hi,"SELECTOR",".ShowEpisodePlayerLede"),d()(Hi,"CAROUSEL_SELECTOR","".concat(Hi.SELECTOR," .EpisodeCarousel")),d()(Hi,"SLICK_CAROUSEL_SELECTOR","".concat(Hi.SELECTOR,"-upNextCarousel"));var qi={showPageLede:".ShowPage-lead"};function replaceLede(e,t,r,n){e&&fi({url:t?"".concat(e,"?").concat(n?ki.CTA_EPISODE_PARAMETER:ki.EPISODE_INJECTION_PARAMETER,"=").concat(t):e,responseType:"text"}).pipe(tap(function(e){var t,n,i;e&&e.response?(n=document.querySelector(qi.showPageLede))&&((t=document.createElement("div")).innerHTML=e.response,(i=t.querySelector(qi.showPageLede))&&(n.innerHTML=i.innerHTML,n=document.querySelector("main.ShowPage-main .ShowPage-sponsorshipPauseImg img"),"episodeSponsorshipPauseImg"in(i=t.querySelector(Hi.SELECTOR).dataset)&&(i=i.episodeSponsorshipPauseImg,n.dataset.src=i,n.src=i)),t.remove()):r&&r(e)}),function catchError(n){return function catchErrorOperatorFunction(e){var t=new mi(n),e=e.lift(t);return t.caught=e}}(r)).subscribe()}var Wi=function(){function ShowCtaLede(e){c()(this,ShowCtaLede),d()(this,"_selectors",{activeSlickSlide:".slick-slide.slick-active > .PromoImageOnTop-medium",actions:"".concat(ShowCtaLede.SELECTOR,"-actions-body"),description:"".concat(ShowCtaLede.SELECTOR,"-description"),upNextCarousel:"".concat(ShowCtaLede.SELECTOR,"-upNextCarousel"),buttonDiv:"".concat(ShowCtaLede.SELECTOR,"-info-button[play-button]")}),d()(this,"_attributes",{selected:"selected",episodeId:"data-episode-id",customMarginTop:"data-custom-margin-top",episodeLedeEndpoint:"data-episode-lede-endpoint"}),this.updateMarginTops(e),this.initUpNextCarousel(e),this.initButton(e.querySelector(this._selectors.buttonDiv))}return o()(ShowCtaLede,[{key:"initUpNextCarousel",value:function initUpNextCarousel(e){var n,i=this;!e||(n=e.querySelector(this._selectors.upNextCarousel))&&setTimeout(function(e){var t=n.querySelector(i._selectors.activeSlickSlide);t&&t.setAttribute(i._attributes.selected,"")},1e3)}},{key:"updateMarginTops",value:function updateMarginTops(e){var t,n;e.hasAttribute(this._attributes.customMarginTop)&&(t=e.getAttribute(this._attributes.customMarginTop),!(n=e.querySelector(this._selectors.description))||(n=n.querySelector("p"))&&(n.style.marginTop=t),(e=e.querySelector(this._selectors.actions))&&(e.style.marginTop=t))}},{key:"initButton",value:function initButton(t){var e,n=this;!t||(e=t.querySelector("button"))&&new Fn(e).onClick$.pipe(filter(function(e){return e&&e.target}),map_map(function(e){return e.target}),tap(function(e){e.innerText="",e.setAttribute("loading",""),n._replaceLede(e,t)})).subscribe()}},{key:"_replaceLede",value:function _replaceLede(t,e){function t4c(e){window.console.error(e),t.innerText="Play",t.removeAttribute("loading"),Pn.showFailure({text:"An unexpected error occurred. Please try again."})}var n=e.getAttribute(this._attributes.episodeLedeEndpoint),e=e.getAttribute(this._attributes.episodeId);n&&e?replaceLede(n,e,t4c):t4c("Missing required arguments: Endpoint = ".concat(n,", EpisodeId = ").concat(e))}}]),ShowCtaLede}();d()(Wi,"SELECTOR",".ShowCtaLede"),d()(Wi,"JOIN_NOW_BUTTON_SELECTOR","".concat(Wi.SELECTOR,"-info-button:not([play-button]) button"));function a01(t){c()(this,a01),S()(t).find(".GolfNowBookingEnginePlayPage-promoCodeWidget-collapse-minimize").add(".GolfNowBookingEnginePlayPage-promoCodeWidget-collapse-expand").click(function(e){S()(t).find(".CustomerPromoCodesModuleBookingEngineStyle").slideToggle(400),S()(t).find(".GolfNowBookingEnginePlayPage-promoCodeWidget-collapse-minimize").toggle(200,function(){S()(t).find(".GolfNowBookingEnginePlayPage-promoCodeWidget-collapse-expand").toggle(200)})})}d()(a01,"SELECTOR",".GolfNowBookingEnginePlayPage-main");u=function(){function SurveyFunnel(e,t){c()(this,SurveyFunnel),this.current=0,this.initialWidth=0,this.onOpener=!0,this.quizStarted=!1,this.quizFinished=!1,this.posterRemoved=!1,this.emailHasError=!1,this.overlayVisible=!1,this.autoplayAttempted=!1,this.autoplaySuccess=!1,this.id="",this.questionLength=S()("section.survey-funnel-section").length-1,this.questionsDiv=S()("div.survey-funnel-grid"),this.previousQuestionButton=S()("input.previous-question"),this.questionCounter=S()("ul.question-number-display"),this.surveyFunnelBody=S()("body.survey-funnel"),this.playButton=S()(".play-button"),this.tooltip=S()("div.survey-funnel-tooltip"),this.overlay=S()(".survey-funnel-overlay"),this.$emailFields=S()("input.email-field"),this.$video=S()("video"),this.initQuestionCounter(),this.addEvents(),this.payload={},this.payload.answers=[],this.payload.email="",this.payload.fix={},this.payload.fix.id="",this.payload.fix.type="video-series",this.payload.survey={},this.payload.survey.version=S()(".version")[0].innerHTML,this.payload.survey.id=S()(".survey-funnel-id")[0].innerHTML,this.payload.title=S()("h1.survey-title")[0].innerHTML,this.payload.emailOptIn=!0}return o()(SurveyFunnel,[{key:"initPlayer",value:function initPlayer(e){var t,n=S()("video");1===e&&(n[1].style.cssText="display: none;",t=S()(".survey-funnel-mobile-thumbnail")[0].innerHTML,S()('<img class="survey-funnel-poster" src="'+t+'" alt="Survey Funnel">').insertBefore(n[1])),this.togglePlaying(e),n.removeAttr("controls")}},{key:"addEvents",value:function addEvents(){var n=this,i=this.questionsDiv.find("section.survey-funnel-section");function saveCookie(e){document.cookie="sf.showID=".concat(e),n.payload.fix.id=e}function sendGTMEvent(e){var t={};t.event="survey-funnel-question-"+e,je.sendDataEvent(t)}S()(".email-field").keyup(function(){n.emailHasError&&(S()(".email-field").removeClass("survey-funnel-email-error"),n.emailHasError=!1)}),i.hide(),i.slice(0,2).show(),S()("ul.question-number-display li").eq(0).addClass("active"),S()(window).load(function(){1024<S()(window).width()?(n.initPlayer(0),function answersDesktop(){S()("input.survey-answer").on("click",function(e){e.preventDefault(),clearTimeout(n.timer);var t=S()(e.target);n.current<n.questionLength-1?(t.hasClass("start")?n.$video[0].paused&&n.playButton.click():(n.payload.answers.push({answer:t.next()[0].innerHTML,question:i.find("legend.h3")[n.current].innerHTML}),n.current++),sendGTMEvent(n.current+1),i.eq(0).hide(),i.eq(1).hide(),i.eq(n.current).toggleClass("slideInLeftCustom fadeOut").hide(),i.eq(n.current+1).addClass("slideInLeftCustom").show(),S()("ul.question-number-display li").eq(n.current).addClass("active"),1===n.current&&n.previousQuestionButton.show()):(n.payload.answers.push({answer:t.next()[0].innerHTML,question:i.find("legend.h3")[n.current].innerHTML}),e=e.target.id,n.id=e,i.eq(n.questionLength).toggleClass("slideInLeftCustom fadeOut").hide(),S()(n.questionCounter).hide(),(e=S()("section#"+e+"-offer")).detach().insertAfter("section.survey-funnel-section:last-child").css("display","flex").addClass("slideInLeftCustom"),saveCookie(e.find("p.show-id")[0].innerHTML))}),n.previousQuestionButton.on("click",function(e){e.preventDefault(),0<n.current&&(i.eq(n.current+1).removeClass("fadeOut").hide(),i.eq(n.current).removeClass("fadeOut").addClass("slideInLeftCustom").show(),S()("ul.question-number-display li").eq(n.current).removeClass("active"),n.current--,n.payload.answers.pop(),sendGTMEvent(n.current+1),0===n.current&&(i.eq(0).show(),n.previousQuestionButton.hide()))}),S()("input.survey-submit").on("click",function(e){e.preventDefault(),n.submitSurvey(e.target)})}()):(function answersMobile(){n.$emailFields.focus(function(){S()("footer").hide()}),n.$emailFields.focusout(function(){S()("footer").show()}),S()("input.survey-answer").on("click",function(e){e.preventDefault(),clearTimeout(n.timer);var t=S()(e.target);n.current<n.questionLength-1?(t.hasClass("start")||(n.payload.answers.push({answer:t.next()[0].innerHTML,question:i.find("legend.h3")[n.current].innerHTML}),n.current++),1===n.current&&n.previousQuestionButton.show(),sendGTMEvent(n.current+1),i.eq(0).hide(),i.eq(n.current).toggleClass("slideInLeftCustom fadeOut").hide(),i.eq(n.current+1).addClass("slideInLeftCustom").show(),S()("ul.question-number-display li").eq(n.current).addClass("active")):(n.payload.answers.push({answer:t.next()[0].innerHTML,question:i.find("legend.h3")[n.current].innerHTML}),e=e.target.id,n.id=e,i.eq(n.questionLength).toggleClass("slideInLeftCustom fadeOut").hide(),(e=S()("section#"+e+"-offer")).detach().insertAfter("section.survey-funnel-section:last-child").show().addClass("fadeIn"),S()(n.questionCounter).hide(),window.matchMedia("only screen and (max-width: 1025px) and (orientation : landscape)").matches&&e.attr("style","display: flex;"),n.quizFinished=!0,saveCookie(e.find("p.show-id")[0].innerHTML))}),n.previousQuestionButton.on("click",function(e){e.preventDefault(),0<n.current&&(i.eq(n.current+1).removeClass("fadeOut").hide(),i.eq(n.current).removeClass("fadeOut").addClass("fadeIn").show(),S()("ul.question-number-display li").eq(n.current).removeClass("active"),n.current--,sendGTMEvent(n.current+1),n.payload.answers.pop(),0===n.current&&(i.eq(0).show(),n.previousQuestionButton.hide()))}),S()("input.survey-submit").on("click",function(e){e.preventDefault(),n.submitSurvey(e.target)})}(),n.initPlayer(1))}),S()(window).resize(function(){var e=S()(window).width();e>n.initialWidth&&e<=1386&&!n.overlayVisible&&(n.overlay.css("display","flex"),n.overlayVisible=!0),n.overlayVisible&&e<=n.initialWidth&&(n.overlay.hide(),n.overlayVisible=!1,n.quizStarted&&S()("html, body").animate({scrollTop:n.questionsDiv.offset().top},0))}),S()(window).load(function(){n.initialWidth=S()(window).width(),window.matchMedia("(orientation: landscape)").matches&&(/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent))&&(n.overlay.css("display","flex"),n.overlayVisible=!0)})}},{key:"togglePlaying",value:function togglePlaying(t){var n,i=this,r=S()("video")[t];(window.videojs||r)&&(n=r.id?window.videojs.getPlayer(r.id):r,this.playButton.click(qe()(Ve.a.mark(function _callee(){return Ve.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(r.id?n.paused():n.paused)return e.prev=1,n.muted&&n.muted(!1),e.next=5,n.play();e.next=15;break;case 5:i.autoplaySuccess=!0,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Autoplay failed | "+e.t0.message),i.autoplaySuccess=!1;case 12:(r.id?n.paused():n.paused)||(i.posterRemoved||1!==t||(S()(".survey-funnel-poster").hide(),r.style.cssText="display: block;",i.posterRemoved=!0),i.playButton.removeClass("animated pulse-custom"),this.innerHTML='<img src="/styleguide/media/video-pause.svg" value="pause">'),e.next=17;break;case 15:this.innerHTML='<img src="/styleguide/media/video-type.svg">',n.pause();case 17:case"end":return e.stop()}},_callee,this,[[1,8]])}))),i.autoplayAttempted||(i.playButton.click(),i.autoplayAttempted=!0))}},{key:"initQuestionCounter",value:function initQuestionCounter(){for(var e=1;e<=this.questionLength;e++)this.questionCounter.append("<li></li>")}},{key:"submitSurvey",value:function submitSurvey(t){for(var e,n="",i=t.getAttribute("survey-funnel-endpoint"),r=0,r=0;r<this.$emailFields.length;r++)if(""!==this.$emailFields[r].value){n=this.$emailFields[r].value;break}this.validateEmail(n)?(this.payload.email=n,e=this.payload,S.a.ajax({type:"POST",url:i,contentType:"application/json; charset=utf-8",cache:!1,data:JSON.stringify(e),error:function error(e){console.log("Survey Funnel API request failed: ",e)}}).done(function(){var e=t.getAttribute("landing-page");e&&(window.location.href=e)})):(this.$emailFields.val(""),this.$emailFields.addClass("survey-funnel-email-error"),this.$emailFields.attr("placeholder","Please enter a valid email address."),this.emailHasError=!0)}},{key:"validateEmail",value:function validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}}]),SurveyFunnel}();function GTMLinkAnalytics_createSuper(n){var i=function GTMLinkAnalytics_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_()(n);return t=i?(e=_()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),v()(this,t)}}d()(u,"SELECTOR",".survey-funnel"),Pe.register(Fn,Mn.BUTTON_SELECTOR),Pe.register(Hn,$n.SELECTOR+" button"),Pe.register(Fn,ei.SELECTOR),Pe.register(u,u.SELECTOR),Pe.register(a01,a01.SELECTOR),Pe.register(Wi,Wi.SELECTOR),Pe.register(Hi,Hi.SELECTOR),Pe.register(wi,Hi.CAROUSEL_SELECTOR,"interactive",Hi.SELECTOR+"-upNextCarousel"),Pe.register(Hn,Wi.JOIN_NOW_BUTTON_SELECTOR),Pe.register(Wn,Wn.SELECTOR),Pe.register(Hn,X_b.SELECTOR),Pe.register(Un,Un.SELECTOR),Pe.register($n,$n.SELECTOR),Pe.register(Yn,Yn.SELECTOR),Pe.register(Zn,Zn.SELECTOR),Pe.register(Jn,Jn.SELECTOR),Pe.register(ei,ei.MODULE_SELECTOR),Pe.register(ni,ni.SELECTOR),Pe.register(ri,ri.SELECTOR),Pe.register(oi,oi.SELECTOR),Pe.register(ti,ti.SELECTOR),Pe.register(ii,ii.SELECTOR),Pe.register(Gn,Gn.SELECTOR),Pe.register(ai,".TeeTimesCreditsModule, .EarnedRewards, .AdSponsorModule, .PromoCodesModule"),Pe.register(t,t.SELECTOR),Pe.register(i,i.SELECTOR),Pe.register(Xn,Xn.SELECTOR),Pe.register(Mn,Mn.SELECTOR),Pe.register(Kn,Kn.SELECTOR),Pe.register(Qn,Qn.SELECTOR);var Gi=function(e){g()(GTMLinkAnalytics,e);var n=GTMLinkAnalytics_createSuper(GTMLinkAnalytics);function GTMLinkAnalytics(e){var t;return c()(this,GTMLinkAnalytics),(t=n.call(this,e)).element=e,t.document=document,t}return o()(GTMLinkAnalytics,[{key:"onClick",value:function onClick(e,t){var n=this.element.getAttribute("data-gtm-link-event"),i=this.element.getAttribute("data-gtm-link-category")||"Link",r=this.element.getAttribute("data-gtm-link-action")||"Click",o=this.element.getAttribute("data-gtm-link-label")||"{linkUrl} | {pageTitle}",a=this.element.getAttribute("data-gtm-link-value")||null,o=this.replaceParameter("linkUrl",o);o=this.replaceParameter("linkTitle",o),o=this.replaceParameter("pageUrl",o),o=this.replaceParameter("pageTitle",o),GTMLinkAnalytics.sendLinkEvent(n,i,r,o,a)}},{key:"parameterValue",value:function parameterValue(e){var t="";switch(e){case"pageUrl":t=this.document.location;break;case"pageTitle":t=this.document.title;break;case"linkUrl":t=this.element.href;break;case"linkTitle":var n=this.element.getAttribute("data-gtm-link-fallback-title"),t=this.element.innerText||this.element.textContent||n||""}return t}},{key:"replaceParameter",value:function replaceParameter(e,t){if(e&&t){var n=this.parameterValue(e);return t.replace("{"+e+"}",n)}return t}}],[{key:"sendLinkEvent",value:function sendLinkEvent(e,t,n,i,r){t&&n&&i&&(i={event:e||"cta",eventCategory:t,eventAction:n,eventLabel:i},r&&(i.eventValue=r),je.sendDataEvent(i))}}]),GTMLinkAnalytics}(function(){function Link(e){c()(this,Link),this.element=e,this.init()}return o()(Link,[{key:"init",value:function init(){var n=this;this.element.addEventListener("click",function(e){var t=e.currentTarget;n.onClick(t,e)})}},{key:"onClick",value:function onClick(e,t){}}]),Link}()),p=function(){function VideoModule(e){c()(this,VideoModule),this.element=e,this.document=document,this.classes={videoModulePlayer:"VideoModule-player",videoPagePlayer:"VideoPage-player",episodePagePlayer:"EpisodePage-player"},this.selectors={main:"body",video:"video",videoContainer:".VideoModule-player",playlistItem:".PlaylistItem",player:"."+this.classes.videoModulePlayer,poster:".VideoPoster",videoModule:".VideoModule",videoModuleBody:".VideoModule-body",videoPagePlayer:"."+this.classes.videoPagePlayer,episodePagePlayer:"."+this.classes.episodePagePlayer,lockedContentModal:".LockedContentModal"},this.attributes={videoId:"data-video-id",isIframe:"data-is-iframe",isLiveStream:"data-is-live-stream",freeviewSeconds:"data-freeview-seconds"},this.videoModuleBody=this.element.querySelector(this.selectors.videoModuleBody),this.player=this.element.querySelector(this.selectors.player),this.poster=this.element.querySelector(this.selectors.poster),this.init()}return o()(VideoModule,[{key:"init",value:function init(){var t=this,e=S()(this.player).find("video");0<e.length&&(e.removeAttr("autoplay"),e.one($t.EVENTS.initialized,function(){initFreeview(S()(t.element)[0],t.selectors,t.attributes)}));e=this.element.querySelector(this.selectors.playlistItem);e&&e.setAttribute("data-selected","");var n=this.element.querySelectorAll(this.selectors.playlistItem);if(n)for(var i=0;i<n.length;i++){var r=n[i];r&&r.addEventListener("click",function(e){t.onPlaylistItemClicked(e)})}n.length<=1&&S()(this.element).find(".VideoModule-playlist-container").css("display","none"),this.poster&&this.poster.addEventListener("click",function(e){t.onVideoPosterClicked(e)})}},{key:"onPlaylistItemClicked",value:function onPlaylistItemClicked(e){console.log("onPlaylistItemClicked"),e&&(e.stopPropagation(),e.preventDefault(),VideoModule.redirectOnLocked(e.currentTarget)||(this.clearSelectedStateOnPlaylistItems(),VideoModule.setSelectedAttribute(e.currentTarget),this.loadVideo(e.currentTarget)))}},{key:"onVideoPosterClicked",value:function onVideoPosterClicked(e){console.log("onVideoPosterClicked"),VideoModule.redirectOnLocked(e.currentTarget)||this.hidePosterAndPlay()}},{key:"loadVideo",value:function loadVideo(e){var t;e&&((t=e.getAttribute("data-ajax-url"))?this.fetchAndReplaceVideoPlayer(t,e):(console.error("PlaylistItem is not locked, but no Ajax URL provided! Redirecting..."),VideoModule.redirect(e)))}},{key:"fetchAndReplaceVideoPlayer",value:function fetchAndReplaceVideoPlayer(t,n){var i=this;t&&S.a.ajax({beforeSend:function beforeSend(e){e.setRequestHeader("X-VideoPage",window.location.pathname)},url:t,success:function success(e){i.parseAjaxResponse(e,n)},failure:function failure(e){console.warn("Failed to load videoPlayer from "+t),console.error("VideoModule.fetchAndReplaceVideoPlayer() failed"),VideoModule.redirect(n)}})}},{key:"parseAjaxResponse",value:function parseAjaxResponse(e,t){var n;e&&((e=(n=(new window.DOMParser).parseFromString(e,"text/html")).querySelector(this.selectors.episodePagePlayer))&&e.classList.remove(this.classes.episodePagePlayer),e||(e=n.querySelector(this.selectors.videoPagePlayer))&&e.classList.remove(this.classes.videoPagePlayer),e?(e.classList.add(this.classes.videoModulePlayer),this.updatePlayer(e),this.hidePoster()):(console.warn("Failed to parse videoPlayer from Ajax response! Redirecting..."),VideoModule.redirect(t)))}},{key:"updatePlayer",value:function updatePlayer(e){var t,n=this;e&&(this.videoModuleBody?(this.player&&(this.player=this.element.querySelector(this.selectors.player),this.videoModuleBody.removeChild(this.player)),(t=e.firstElementChild)&&S()(t).on("Video:onVideoLoaded",function(e,t){n.triggerPlay(t)}),this.videoModuleBody.childNodes&&0<this.videoModuleBody.childNodes.length?this.videoModuleBody.insertBefore(e,this.videoModuleBody.childNodes.item(0)):this.videoModuleBody.appendChild(e),this.player=this.element.querySelector(this.selectors.player)):console.log("Cannot replace video player: No player provided!"))}},{key:"clearSelectedStateOnPlaylistItems",value:function clearSelectedStateOnPlaylistItems(){if(this.element){var e=this.element.querySelectorAll(this.selectors.playlistItem);if(e)for(var t=0;t<e.length;t++){var n=e[t];n&&VideoModule.removeSelectedAttribute(n)}}}},{key:"hidePosterAndPlay",value:function hidePosterAndPlay(){this.hidePoster(),this.triggerPlay(null)}},{key:"hidePoster",value:function hidePoster(){this.poster&&this.poster.setAttribute("data-hidden","")}},{key:"triggerPlay",value:function triggerPlay(e){var t,n;console.log("Attempting to trigger play"),!this.player||(t=this.player.firstElementChild)&&t.hasAttribute("data-player-ready")&&((n=document.createEvent("Event")).initEvent("VideoPlayer:playVideoRequested",!0,!0),t.dispatchEvent(n),t.removeEventListener("Video:onVideoLoaded",this.triggerPlay,!0))}}],[{key:"redirectOnLocked",value:function redirectOnLocked(e){return!!VideoModule.isLocked(e)&&VideoModule.redirect(e)}},{key:"redirect",value:function redirect(e){if(e){var t,n=e.getAttribute("data-locked-redirect-url");return n?(t=e.getAttribute("data-title")||"",e=e.getAttribute("data-video-id")||"",Gi.sendLinkEvent("lockedContent","Locked Content","Click",e+" | "+t,null),window.location.href=n):console.error("Could not redirect: no redirect URL set!"),!0}return!1}},{key:"isLocked",value:function isLocked(e){return!!e&&e.hasAttribute("data-is-locked")}},{key:"setSelectedAttribute",value:function setSelectedAttribute(e){e&&e.setAttribute("data-selected","")}},{key:"removeSelectedAttribute",value:function removeSelectedAttribute(e){e&&e.removeAttribute("data-selected")}}]),VideoModule}(),m=function(){function VideoEnhancement(e){c()(this,VideoEnhancement),d()(this,"_selectors",{main:"body",video:"video",videoContainer:".VideoEnhancement-player",lockedContentModal:".LockedContentModal"}),d()(this,"_attributes",{videoId:"data-video-id",isIframe:"data-is-iframe",isLiveStream:"data-is-live-stream",freeviewSeconds:"data-freeview-seconds"}),this.$el=S()(e),this.$__playerDiv=this.$el.find(VideoEnhancement._allPlayersSelector),this.__onLoad(this.$el,this.$__playerDiv)}return o()(VideoEnhancement,[{key:"video",get:function get(){return S()(this.$__playerDiv).find(this._selectors.video)}},{key:"__onLoad",value:function __onLoad(t,n){var e,i=this;t.length&&(t[0].hasAttribute(this._attributes.isIframe)&&(S()("header").hide(),S()("footer").hide(),S()(".Playlist").hide(),t.find("a").each(function(e,t){t.target="_blank"}),S()("body").on("PlaylistItem:onSelect",function(e){t.find("a").each(function(e,t){t.target="_blank"})}),t.css("margin-right","0px")),S()("body").on("PlaylistItem:onSelect",function(e){var t;!(n=i.$el.find(VideoEnhancement._allPlayersSelector)).length||(t=n.find("video")[0])&&S()(t).one($t.EVENTS.initialized,function(){initFreeview(i.$el[0],i._selectors,i._attributes)})}),!n.length||(e=n.find("video")[0])&&S()(e).one($t.EVENTS.initialized,function(){initFreeview(i.$el,i._selectors,i._attributes)}))}}]),VideoEnhancement}();d()(m,"_allPlayersSelector",".VideoJsPlayer");y=function(){function VideoLeadModule(e){c()(this,VideoLeadModule),d()(this,"_selectors",{main:"body",video:"video",videoContainer:".VideoLeadModule-player",lockedContentModal:".LockedContentModal"}),d()(this,"_attributes",{videoId:"data-video-id",isIframe:"data-is-iframe",isLiveStream:"data-is-live-stream",freeviewSeconds:"data-freeview-seconds"}),this.$el=S()(e),this.$__page=S()(this._selectors.main),this.$__playerDiv=S()(VideoLeadModule._allPlayersSelector),this.__onLoad(this.$el,this.$__playerDiv)}return o()(VideoLeadModule,[{key:"video",get:function get(){return S()(this.$__playerDiv).find(this._selectors.video)}},{key:"__onLoad",value:function __onLoad(t,n){var e,i=this;t.length&&(t[0].hasAttribute(this._attributes.isIframe)&&(S()("header").hide(),S()("footer").hide(),S()(".Playlist").hide(),t.find("a").each(function(e,t){t.target="_blank"}),S()("body").on("PlaylistItem:onSelect",function(e){t.find("a").each(function(e,t){t.target="_blank"})}),t.css("margin-right","0px")),S()("body").on("PlaylistItem:onSelect",function(e){var t;!(n=i.$__page.find(VideoLeadModule._allPlayersSelector)).length||(t=n[0].querySelector("video"))&&S()(t).one($t.EVENTS.initialized,function(){initFreeview(i.$el[0],i._selectors,i._attributes)})}),!n.length||(e=n[0].querySelector("video"))&&S()(e).one($t.EVENTS.initialized,function(){initFreeview(i.$el[0],i._selectors,i._attributes)}))}}]),VideoLeadModule}();d()(y,"_allPlayersSelector",".VideoJsPlayer");var $i=function(){function VideoPage(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,VideoPage),d()(this,"_selectors",{main:"body",video:"video",videoContainer:".VideoPage-player",lockedContentModal:".LockedContentModal"}),d()(this,"_attributes",{videoId:"data-video-id",isIframe:"data-is-iframe",isLiveStream:"data-is-live-stream",freeviewSeconds:"data-freeview-seconds"}),this.$ctx=e,this.settings=S.a.extend({},{selectors:{companionContentItem:".CompanionContentItem",videoPageContent:".VideoPage-content",belowContent:".VideoPage-below, .EpisodePage-below",updateTarget:".ScrollableContentContainer"}},t),this.$__page=S()(this._selectors.main),this.$__playerDiv=this.$__page.find(VideoPage._allPlayersSelector),this.__onLoad(this.$__page,this.$__playerDiv)}return o()(VideoPage,[{key:"$ctx",value:function $ctx(e){this.$ctx=e}},{key:"selectors",get:function get(){return this.settings.selectors}},{key:"permalink",get:function get(){return this.$ctx.attr("data-permalink")},set:function set(e){this.$ctx.attr("data-permalink",e)}},{key:"videoId",get:function get(){return this.$ctx.attr("data-video-id")}},{key:"videoUrl",get:function get(){return this.$video.attr("data-hls-url")}},{key:"$video",get:function get(){return this.$ctx.find("video")}},{key:"videoPlayer",get:function get(){return this._videoPlayer},set:function set(e){this._videoPlayer=e}},{key:"__onLoad",value:function __onLoad(n,i){var e,r=this;n.length&&(n[0].hasAttribute(this._attributes.isIframe)&&(S()("header").hide(),S()("footer").hide(),S()(".Playlist").hide(),n.find("a").each(function(e,t){t.target="_blank"}),S()("body").on("PlaylistItem:onSelect",function(e){n.find("a").each(function(e,t){t.target="_blank"})}),n.css("margin-right","0px")),S()("body").on("PlaylistItem:onSelect",function(e){var t;!(i=r.$__page.find(VideoPage._allPlayersSelector)).length||(t=i[0].querySelector("video"))&&S()(t).one($t.EVENTS.initialized,function(){initFreeview(n[0],r._selectors,r._attributes)})}),!i.length||(e=i[0].querySelector("video"))&&S()(e).one($t.EVENTS.initialized,function(){initFreeview(n[0],r._selectors,r._attributes)}))}},{key:"fetchView",value:function fetchView(e){var t=this;S.a.ajax({beforeSend:function beforeSend(e){e.setRequestHeader("X-VideoPage",window.location.pathname)},url:e,async:!1}).done(function(e){e=S()(e).find(t.selectors.updateTarget);t.updateView(e),t.$ctx.trigger("VideoPage:onViewReplaced",{})}).fail(function(e){console.error("VideoPagefetchView() failed")})}},{key:"updateVideoUrl",value:function updateVideoUrl(e){this.$ctx.trigger("VideoPage:onUpdateVideoUrl",{videoUrl:e})}},{key:"updateView",value:function updateView(e){if(this.$ctx){var t=e.find(".VideoPage-main, .EpisodePage-main");this.$ctx.attr("id",t.attr("id")),this.$ctx.attr("data-video-id",t.attr("data-video-id")),this.$ctx.attr("data-full-video-id",t.attr("data-full-video-id")),this.videoPlayer=t.find("[data-video-player]"),this.$ctx.find("[data-video-player]").replaceWith(this.videoPlayer),this.$ctx.find(".VideoPage-content").replaceWith(e.find(".VideoPage-content")),this.$ctx.find(".VideoSaveButtons").replaceWith(e.find(".VideoSaveButtons"))}else if(S()(this.selectors.updateTarget).length)return S()(this.selectors.updateTarget).replaceWith(e),void(this.$ctx=e.find(".VideoPage-main, .EpisodePage-main"));this.init()}},{key:"resetVideo",value:function resetVideo(){this.$ctx.add("body").removeAttr("data-video-min")}},{key:"minimizeVideo",value:function minimizeVideo(){this.$ctx.find(".VideoPage-player, .EpisodePage-player").length&&this.$ctx.add("body").attr("data-video-min","")}}]),VideoPage}();function HTML5VideoPlayer_createSuper(n){var i=function HTML5VideoPlayer_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_()(n);return t=i?(e=_()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),v()(this,t)}}d()($i,"_allPlayersSelector",".VideoJsPlayer");b=function(e){g()(HTML5VideoPlayer,e);var n=HTML5VideoPlayer_createSuper(HTML5VideoPlayer);function HTML5VideoPlayer(e){var t;return c()(this,HTML5VideoPlayer),t=n.call(this,e),d()(f()(t),"selectors",{video:".HTML5VideoPlayer-video"}),d()(f()(t),"player",null),Ge()((e=f()(t),_()(HTML5VideoPlayer.prototype)),"init",e).call(e),t.init(),t}return o()(HTML5VideoPlayer,[{key:"videoDuration",get:function get(){return 0===this.player.get(0).readyState?0:this.player.get(0).duration}},{key:"init",value:function init(){var t=this;this.player=this.$el.find(this.selectors.video),this.player.off().bind("click",function(e){t.player.closest(".VideoLead").attr("data-video-start",""),t.play()}).bind("play",function(e){Ge()(_()(HTML5VideoPlayer.prototype),"onVideoStart",t).call(t,e)}).bind("canplay",function(e){Ge()(_()(HTML5VideoPlayer.prototype),"onVideoReady",t).call(t,e)}).bind("pause",function(e){Ge()(_()(HTML5VideoPlayer.prototype),"onVideoPause",t).call(t,e)}).bind("ended",function(e){Ge()(_()(HTML5VideoPlayer.prototype),"onVideoEnd",t).call(t,e)}).bind("timeupdate",function(e){t.onVideoTimeUpdate(e)})}},{key:"play",value:function play(){this.player.get(0).play()}},{key:"pause",value:function pause(){this.player.get(0).pause()}},{key:"onVideoTimeUpdate",value:function onVideoTimeUpdate(e){var t=S()(this.selectors.video)[0].currentTime;Ge()(_()(HTML5VideoPlayer.prototype),"onVideoTimeUpdate",this).call(this,{secondsElapsed:t})}}]),HTML5VideoPlayer}(Ht);Pe.register(p,".VideoModule"),Pe.register(m,".VideoEnhancement"),Pe.register(y,".VideoLeadModule"),Pe.register(b,".HTML5VideoPlayer");var zi,Yi,Ki,Xi="fromPlaylist=true",Qi=S()("body");window.videoPlayers=[];var Zi=".ScrollableContentContainer";isTouchScreen()&&Qi.attr("data-is-touch",""),window.registerPlayer=function(e,t){window.videoPlayers.push(e)},enableScroll(Zi),S()("body").on({"PlaylistItem:onSelect":function PlaylistItemOnSelect(e,t){var n;t.isLocked&&t.lockedUrl&&(n=1<t.lockedUrl.indexOf("?")?t.lockedUrl+"&"+Xi:t.lockedUrl+"?"+Xi,document.location.href===t.dataLockedUrl&&t.autoPlay||(document.location=n)),t.ajaxUrl&&(0<=window.location.search.indexOf("comparePlansModal")&&(n=new URL(t.ajaxUrl),window.location.pathname===n.pathname&&(t.ajaxUrl=1<t.ajaxUrl.indexOf("?")?t.ajaxUrl+"&comparePlansModal=1":t.ajaxUrl+"?comparePlansModal=1")),Qi.attr("data-fadeout",!0),disableScroll(Zi),S()(Zi).html(""),window.videoMain=new $i(null,{updateTarget:".ScrollableContentContainer"}),window.videoMain.fetchView(t.ajaxUrl),new jn(t.$promo,{}).getCompanions())}}),S()("body").on({"CompanionScreen:onClose":function CompanionScreenOnClose(e,t){zi.closeNav()},"CompanionScreen:onMinimize":function CompanionScreenOnMinimize(e,t){window.videoMain.resetVideo()},"CompanionScreen:onMaximize":function CompanionScreenOnMaximize(e,t){window.videoMain.minimizeVideo()},"Playlist:onCompanionContentItemClick":function PlaylistOnCompanionContentItemClick(e,t){Yi.fetchSecondScreen(t.url,t.mediaType)},"Playlist:onCompanionChecked":function PlaylistOnCompanionChecked(e,t){Ki.popToast(t.companion,t.isFirstCompanionItem,Yi.isOpen())},"Playlist:Initialized":function PlaylistInitialized(e,t){t&&(Ki=t.toaster,zi=t.playlist,Yi=t.companionScreen)},"Promo:onScrollEnd":function PromoOnScrollEnd(e,t){disableScroll(Zi),zi.selectNext()},"ScrollableContent:loaded":function ScrollableContentLoaded(e,t){S()(Zi).attr({"data-background":"","data-playlistoffset":""}),enableScroll(Zi),S()(Zi).animate({scrollTop:0},0),setTimeout(function(e){Qi.removeAttr("data-fadeout")},100)},"VideoPage:onViewReplaced":function VideoPageOnViewReplaced(e,t){console.log("The VideoMain view has been replaced")},"VideoMain:onPlaybackTimeUpdate":function VideoMainOnPlaybackTimeUpdate(e,t){zi&&zi.checkForCompanion(t.secondsElapsed)}});ee=S()(".VideoPage-main, .EpisodePage-main");function disableScroll(e){S()(e).off("scroll")}function enableScroll(e){S()(e).off("scroll").on("scroll",debounce(700,function(e){S()(e.target).scrollTop()+S()(e.target).innerHeight()>=S()(e.target)[0].scrollHeight&&S()(this).trigger("Promo:onScrollEnd",{})}))}ee.length&&(window.videoMain=new $i(ee,{})),S()("iframe").each(function(){var e,t=S()(this).attr("src");t&&0<t.indexOf("youtube.com")&&(e="wmode=transparent",-1!==t.indexOf("?")?S()(this).attr("src",t+"&"+e):S()(this).attr("src",t+"?"+e))});function r01(){c()(this,r01),window.addEventListener("DOMContentLoaded",function(){S()(".Article-longform-articleBody .RichTextArticleBody-body p:nth-child(1)");S()(".Article-longform-content").hasClass("isParallax")&&(S()(".Article-longform-body").addClass("isParallax"),S()(".Article-longform-articleBody figure.Figure .Figure-container .Image img, .Article-longform-lead figure.Figure .Figure-container .Image img").each(function(e,t){var n=S()(t).attr("data-src");S()(t.parentElement).replaceWith('<div class="myParallax" style="background-image:url('.concat(n,')"></div>'))}))})}function u01(e){var t=this;c()(this,u01),this.el=e,this.dismiss=document.querySelector(".PolicyBanner-dismiss"),Ie.a.get("policyAccept")||(this.el.setAttribute("data-show",!0),this.dismiss.addEventListener("click",function(){Ie.a.set("policyAccept",!0,{expires:90}),t.el.removeAttribute("data-show")}))}var Ae=function(){function CheckoutConfirmationPromo(){c()(this,CheckoutConfirmationPromo),this.init()}return o()(CheckoutConfirmationPromo,[{key:"init",value:function init(){this.getMobileOperatingSystem()}},{key:"getMobileOperatingSystem",value:function getMobileOperatingSystem(){var e=navigator.userAgent||navigator.vendor||window.opera,t=document.querySelector(".CheckoutConfirmationPromo-apps"),n=document.querySelector(".CheckoutConfirmationPromo-appStore"),i=document.querySelector(".CheckoutConfirmationPromo-playStore");/iPad|iPhone|iPod/.test(e)&&!window.MSStream&&(t.classList.remove("hide"),i.classList.add("hide")),/android/i.test(e)&&(t.classList.remove("hide"),n.classList.add("hide"))}}]),CheckoutConfirmationPromo}(),xe=function(){function PromoHover(e){c()(this,PromoHover),this.el=e,this.init()}return o()(PromoHover,[{key:"init",value:function init(){S()(this.el).click(function(){return window.location=S()(this).find("a").attr("href"),!1})}}]),PromoHover}(),Me=function(){function FullWidthPromoVideo(){c()(this,FullWidthPromoVideo),this.init()}return o()(FullWidthPromoVideo,[{key:"init",value:function init(){var e,t,n=this;null!==document.querySelector(".FullWidthPromo-video-video")&&(e=document.querySelector(".FullWidthPromo-video-video > .VideoJsPlayer"),t=document.querySelector(".FullWidthPromo-video-info"),window.addEventListener("scroll",Throttle_throttle(75,function(){t&&e&&n.floatScroll(t,e)})))}},{key:"floatScroll",value:function floatScroll(e,t){500<window.pageYOffset?(e.setAttribute("data-scroll",!0),t.classList.add("is-sticky")):(e.removeAttribute("data-scroll",!1),t.classList.remove("is-sticky"))}}]),FullWidthPromoVideo}(),Ji=function(){function EpisodePage(e){c()(this,EpisodePage),d()(this,"_selectors",{main:"body",video:"video",videoContainer:".EpisodePage-player",lockedContentModal:".LockedContentModal"}),d()(this,"_attributes",{videoId:"data-video-id",isIframe:"data-is-iframe",isLiveStream:"data-is-live-stream",freeviewSeconds:"data-freeview-seconds"}),this.$el=S()(e),this.$__page=S()(this._selectors.main),this.$__playerDiv=this.$__page.find(EpisodePage._allPlayersSelector),this.__onLoad(this.$__page,this.$__playerDiv)}return o()(EpisodePage,[{key:"video",get:function get(){return S()(this.$__playerDiv).find(this._selectors.video)}},{key:"__onLoad",value:function __onLoad(t,n){var e,i=this;t.length&&(t[0].hasAttribute(this._attributes.isIframe)&&(S()("header").hide(),S()("footer").hide(),S()(".Playlist").hide(),t.find("a").each(function(e,t){t.target="_blank"}),S()("body").on("PlaylistItem:onSelect",function(e){t.find("a").each(function(e,t){t.target="_blank"})}),t.css("margin-right","0px")),S()("body").on("PlaylistItem:onSelect",function(e){var t;!(n=i.$__page.find(EpisodePage._allPlayersSelector)).length||(t=n[0].querySelector("video"))&&S()(t).one($t.EVENTS.initialized,function(){initFreeview(i.$el[0],i._selectors,i._attributes)})}),!n.length||(e=n[0].querySelector("video"))&&S()(e).one($t.EVENTS.initialized,function(){initFreeview(i.$el[0],i._selectors,i._attributes)}))}}]),EpisodePage}();d()(Ji,"_allPlayersSelector",".VideoJsPlayer");Le=function(){function ShowEpisodePage(e){c()(this,ShowEpisodePage),d()(this,"_selectors",{main:"".concat(ShowEpisodePage.SELECTOR," main"),video:"video",videoContainer:"".concat(ShowEpisodePage.SELECTOR,"-player"),upNextCarouselItems:".EpisodeCarousel-items",upNextCarouselItem:".EpisodeCarousel-items-item",lockedContentModal:".LockedContentModal",videoJsPlayerOrLockedContentModal:"".concat(ShowEpisodePage.SELECTOR,"-main"),sponsorshipBgImg:"".concat(ShowEpisodePage.SELECTOR,"-sponsorshipPauseImg"),sponsorshipResumePlay:"".concat(ShowEpisodePage.SELECTOR,"-play-icon")}),d()(this,"_attributes",{bleedUp:"bleed-up",isLiveStream:"live",videoId:"data-video-id",videoTitle:"data-video-title",freeviewSeconds:"data-freeview-seconds",selected:"selected"}),this.el=e,this.init()}return o()(ShowEpisodePage,[{key:"init",value:function init(){var e=this._getCurrentEpisodeCarouselItem();!e||(e=e.querySelector(".PromoImageOnTop-medium"))&&e.setAttribute(this._attributes.selected,""),this.bindSponsorshipEvents(),this.bindVideoEvents()}},{key:"bindSponsorshipEvents",value:function bindSponsorshipEvents(){var i=this;S()(this._selectors.main).on("Video:onVideoPlaybackPaused",function(e,t){if(S()(i._selectors.sponsorshipBgImg).length){var n=!1;try{n=window.videojs(e.target.parentElement.id).ads.isAdPlaying()}catch(e){}!0!==e.target.seeking&&!0!==e.target.ended&&!0!==n&&0===S()(".ShowEpisodePage button.vjs-playing").length&&S()("".concat(i._selectors.sponsorshipBgImg,", ").concat(i._selectors.videoContainer,", ").concat(i._selectors.sponsorshipResumePlay)).addClass("sponsorshipPaused")}}),S()(this._selectors.main).on("Video:onAdPaused",function(e,t){S()(i._selectors.sponsorshipBgImg).length&&S()("".concat(i._selectors.sponsorshipBgImg,", ").concat(i._selectors.videoContainer,", ").concat(i._selectors.sponsorshipResumePlay)).addClass("sponsorshipPaused sponsorshipAdPaused")}),S()(this._selectors.main).on("Video:onVideoPlaybackStarted",function(e,t){S()(i._selectors.sponsorshipBgImg).length&&1<=S()(".ShowEpisodePage button.vjs-playing").length&&S()("".concat(i._selectors.sponsorshipBgImg,", ").concat(i._selectors.videoContainer,", ").concat(i._selectors.sponsorshipResumePlay)).removeClass("sponsorshipPaused")}),S()(this._selectors.main).on("Video:onAdResumed",function(e,t){S()(i._selectors.sponsorshipBgImg).length&&S()("".concat(i._selectors.sponsorshipBgImg,", ").concat(i._selectors.videoContainer,", ").concat(i._selectors.sponsorshipResumePlay)).removeClass("sponsorshipPaused sponsorshipAdPaused")})}},{key:"bindVideoEvents",value:function bindVideoEvents(){var e,o=this,n=this.el.querySelector(this._selectors.video);n?(S()(n).on($t.EVENTS.initialized,function(e){window.videojs.getPlayer(n.id).on("loadeddata",function(e){initFreeview(o.el.querySelector(o._selectors.videoJsPlayerOrLockedContentModal),o._selectors,o._attributes,"")})}),(e=this.el.querySelector(ShowEpisodePage.UP_NEXT_CAROUSEL_SELECTOR))?e.querySelector(this._selectors.upNextCarouselItems)?S()(n).on($t.EVENTS.initialized,function(e){var t=window.videojs.getPlayer(n.id);t&&t.on("ended",function(e){var t=o._getCurrentEpisodeCarouselItem().nextElementSibling;if(t){var n=!1,i=document.querySelectorAll(".CommentForm textarea");if(i)for(var r=0;r<i.length;r++)if(0<i[r].value.trim().length){n=!0;break}!0===n?(S()(".video-overlay").addClass("visible"),S()(".video-overlay h2").html(t.getAttribute("data-title")),S()(".play").click(function(){window.location.href=t.querySelector("a").getAttribute("href")})):window.location.href=t.querySelector("a").getAttribute("href")}})}):console.log("Up next carousel is empty!"):console.log("Up next carousel is undefined!")):console.log("Video is undefined!")}},{key:"_getCurrentEpisodeId",value:function _getCurrentEpisodeId(){var e=document.querySelector('meta[name="brightspot.contentId"]');return e?e.getAttribute("content"):null}},{key:"_getCurrentEpisodeCarouselItem",value:function _getCurrentEpisodeCarouselItem(){var e=this.el.querySelector(ShowEpisodePage.UP_NEXT_CAROUSEL_SELECTOR);return e?e.querySelector("".concat(this._selectors.upNextCarouselItem,"[data-episode-id='").concat(this._getCurrentEpisodeId(),"']")):null}}]),ShowEpisodePage}();d()(Le,"SELECTOR",".ShowEpisodePage"),d()(Le,"UP_NEXT_CAROUSEL_SELECTOR","".concat(Le.SELECTOR,"-upNextCarousel"));var er=function(){function PageNav(){c()(this,PageNav),this.doNativeNav(),this.uniqueId(),this.addDoNotSellPIFooterItem()}return o()(PageNav,[{key:"addDoNotSellPIFooterItem",value:function addDoNotSellPIFooterItem(){var e,t,n;0<document.getElementsByClassName("onetrustEnabled").length&&(!(n=document.getElementById("Footer"))||(e=n.getElementsByClassName("Navigation-items")[0])&&((t=document.createElement("li")).innerHTML='<button id="ot-sdk-btn" class="ot-sdk-show-settings">Cookie Notice</button>',t.classList.add("Navigation-items-item"),e.appendChild(t)),!(n=document.getElementById("Header-footer"))||(t=n.getElementsByClassName("Navigation-items")[0])&&((n=document.createElement("li")).innerHTML='<button id="ot-sdk-btn" class="ot-sdk-show-settings">Cookie Notice</button>',n.classList.add("Navigation-items-item"),t.appendChild(n)))}},{key:"doNativeNav",value:function doNativeNav(){var e=getParameterByName("_nav"),t=getParameterByName("_app");"false"!==e&&"true"!==t||this.addQueryParams()}},{key:"uniqueId",value:function uniqueId(){S()(".Header-toggle li.UnauthenticatedNavigationItem-items-item").each(function(){var e=S()(this).find("a"),t=e.attr("id");t&&e.attr("id","mobile"+t)})}},{key:"addQueryParams",value:function addQueryParams(){var e,t;document&&(e=getParameterByName("_nav"),t=getParameterByName("_app"),"false"!==e&&"true"!==t||S()(document).find("a").each(function(){var e,t;!this||(e=S()(this).attr("href"))&&(t="",t=e.includes("#")?e.includes("?")&&e.includes("app=true")?e.substring(0,e.indexOf("#"))+"&_nav=false"+e.substring(e.indexOf("#"),e.length):e.includes("?")&&e.includes("nav=false")?e.substring(0,e.indexOf("#"))+"&_app=true"+e.substring(e.indexOf("#"),e.length):e.includes("?")?e.substring(0,e.indexOf("#")||e.length-1)+"&_nav=false&_app=true"+e.substring(e.indexOf("#"),e.length):e.substring(0,e.indexOf("#"))+"?_nav=false&_app=true"+e.substring(e.indexOf("#"),e.length):e.includes("?")&&e.includes("app=true")?e+"&_nav=false":e.includes("?")&&e.includes("nav=false")?e+"&_app=true":e.includes("?")?e+"&_nav=false&_app=true":e+"?_nav=false&_app=true",S()(this).attr("href",t))}))}}]),PageNav}();function VideoFavorite_createForOfIteratorHelper(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function VideoFavorite_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return VideoFavorite_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VideoFavorite_arrayLikeToArray(e,t):void 0}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function F(){};return{s:i,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function s(){r=r.call(t)},n:function n(){var e=r.next();return l=e.done,e},e:function e(t){u=!0,a=t},f:function f(){try{l||null==r.return||r.return()}finally{if(u)throw a}}}}function VideoFavorite_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var tr=function(){function VideoFavorite(e){c()(this,VideoFavorite),this.__container=S()(e),this.__favoritesUrl=this.__container.attr("data-video-favorites-endpoint"),this.__externalId=this.__container.attr("data-externalId"),this.__categoryId=this.__container.attr("data-categoryId"),this.__favoriteType=this.__container.attr("data-favorite-type"),this.__favorite=this.__container.find(".material-icons"),this.__isFavorited=this.__favorite.hasClass("favorite"),this.__favorite.attr("toggle","true"),this.__initEvents()}return o()(VideoFavorite,[{key:"__initEvents",value:function __initEvents(){var t=this,e=this.__container.siblings().css("font-size");e&&this.__favorite.css("font-size",e),this.__favorite.on("click",function(){var e=t._getAllFavoriteElements(this);t.__onClick(t,e),e.attr("toggle")||t.__toggleFavorite(e),e.removeAttr("toggle")}),this.__favorite.hover(function(){var e=t._getAllFavoriteElements(this);e.attr("toggle")&&t.__toggleFavorite(e)},function(){var e=t._getAllFavoriteElements(this);e.attr("toggle")?t.__toggleFavorite(e):e.attr("toggle","true")})}},{key:"__onClick",value:function __onClick(e,t){if(t.length)for(var n=0;n<t.length;n++){var i=t.get(n),r=t.clone(!0,!0);i.parentNode.replaceChild(r.get(0),i),e.__favorite=S()(r)}e.__isFavorited?(e.__setUnfavorite(e),e.__isFavorited=!1,"Episode"===e.__favoriteType||"Video"===e.__favoriteType?t.trigger("EpisodeFavorite:Unfavorite"):"Show"===e.__favoriteType&&t.trigger("ShowFavorite:Unfavorite")):(e.__setFavorite(e),e.__isFavorited=!0)}},{key:"__toggleFavorite",value:function __toggleFavorite(e){e.get(0)&&(e.hasClass("favorite")?(e.removeClass("favorite"),e.addClass("not-favorite"),e.text("favorite_border")):(e.removeClass("not-favorite"),e.addClass("favorite"),e.text("favorite")))}},{key:"__setUnfavorite",value:function __setUnfavorite(i){S.a.ajax({url:i.__getFavoritesUrl(i)+"&favorite_return="+window.encodeURIComponent(window.location.href),type:"DELETE",dataType:"text",xhrFields:{withCredentials:!0},statusCode:{412:function _(e,t,n){i.__doRequestRedirect(e)},200:function _(e,t,n){i.__doRequestRedirect(e)}}})}},{key:"__setFavorite",value:function __setFavorite(i){S.a.ajax({url:i.__getFavoritesUrl(i)+"&favorite_return="+window.encodeURIComponent(window.location.href),type:"POST",dataType:"text",xhrFields:{withCredentials:!0},statusCode:{412:function _(e,t,n){i.__doRequestRedirect(e)},200:function _(e,t,n){i.__doRequestRedirect(e)}}})}},{key:"__getFavoritesUrl",value:function __getFavoritesUrl(e){var t=e.__getCurrentTimeParameter(e);return e.__favoritesUrl+"?externalId="+e.__externalId+"&categoryId="+e.__categoryId+(""!==t?"&"+t:"")}},{key:"__getCurrentTimeParameter",value:function __getCurrentTimeParameter(e){if(window.videojs){var t=window.videojs.getAllPlayers();if(t){var n,i=null,r=VideoFavorite_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.id().includes(e.__externalId)){i=o;break}}}catch(e){r.e(e)}finally{r.f()}if(i)return"current_time="+i.currentTime()}}return""}},{key:"__doRequestRedirect",value:function __doRequestRedirect(e){!e||(e=e.getResponseHeader("X-Authenticate-Location"))&&(window.location.href=e.replace(/"/g,""))}},{key:"_getAllFavoriteElements",value:function _getAllFavoriteElements(e){return e&&e.parentElement?S()('[data-externalid="'.concat(e.parentElement.dataset.externalid,'"] > i')):null}}]),VideoFavorite}(),Oe=function(){function VideoFavoritesPage(e){c()(this,VideoFavoritesPage),this.__promos=S()(e).find(".VideoFavoritesPage-results").find("li"),this.__shows=S()(e).find(".VideoFavoritesPage-favoriteShows").find(".ShowCarousel-items-item"),this.__favoriteSelector=".VideoFavorite .material-icons",this.__initEvents(this.__promos,this.__shows)}return o()(VideoFavoritesPage,[{key:"__initEvents",value:function __initEvents(e,t){var n=this;e.each(function(e,t){S()(t).find(n.__favoriteSelector).on("EpisodeFavorite:Unfavorite",function(){S()(t).toggle(400,function(){S()(t).detach()})})}),t.each(function(e,t){S()(t).find(n.__favoriteSelector).on("ShowFavorite:Unfavorite",function(){S()(t).slideToggle(400,function(){S()(t).detach()})})})}}]),VideoFavoritesPage}(),nr=function(){function VerificationValidationPage(e){c()(this,VerificationValidationPage),this.$el=S()(e),this.$form=this.$el.find(".VerificationValidationPage-form"),this.$button=this.$form.find("button"),this._addSubmitEvent(this,this.$button)}return o()(VerificationValidationPage,[{key:"_addSubmitEvent",value:function _addSubmitEvent(e,t){t.on("click",this._onSubmit.bind(this))}},{key:"_onSubmit",value:function _onSubmit(e){e.preventDefault(),this.disabled=!0;var e=this.$form.get(0);e&&e.reportValidity()&&((e=this.$form.find(".TextInput-input").val())&&(window.location.href=this.$button.attr("data-href")+"?membership_number="+e)),this.disabled=!1}}]),VerificationValidationPage}(),De=function(){function GolfIdPluginRegistrar(){c()(this,GolfIdPluginRegistrar)}return o()(GolfIdPluginRegistrar,null,[{key:"registerAll",value:function registerAll(e){e.register(nr,".VerificationValidationPage")}}]),GolfIdPluginRegistrar}(),Re=function(){function StickyAd(){c()(this,StickyAd);var e=this;window.addEventListener("load",function(){e.init()},!1)}return o()(StickyAd,[{key:"init",value:function init(){var i,r,o=document.querySelector("aside .GoogleDfpAd:last-child");function calcDistance(){!function isTargetVisble(){var e=!1,t=i.offset().top,n=i.outerHeight();return r.scrollTop()<t+n&&(e=!0,o.classList.remove("sticky-bottom")),e}()?(o.classList.add("sticky"),o.classList.remove("sticky-bottom")):o.classList.remove("sticky")}!o||(i=S()(o).prev())&&(r=S()(window),S.a.fn.is_on_screen=function(){var e=S()(window),t={top:e.scrollTop(),left:e.scrollLeft()};t.right=t.left+e.width(),t.bottom=t.top+e.height();e=this.offset();return e.right=e.left+this.outerWidth(),e.bottom=e.top+this.outerHeight(),!(t.right<e.left-30||t.left>e.right-30||t.bottom<e.top-30||t.top>e.bottom-30)},calcDistance(),document.addEventListener("scroll",function(){calcDistance()}))}}]),StickyAd}(),ir=function(){function CompanionScreen(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,CompanionScreen),this.$ctx=e,this.settings=S.a.extend({selectors:{companionScreen:".CompanionScreen",screenContent:".CompanionScreen-content",screenControls:".CompanionScreen-controls",drawerOpen:"data-is-open",controlsBackButton:".CompanionScreen-controls-backButton",controlsCloseButton:".CompanionScreen-controls-closeButton",controlsExpandButton:".CompanionScreen-controls-expandButton",scrollableContainer:".ScrollableContentContainer",secondScreenHiddenElements:".EpisodePage-contents, .Article-below"}},t),this.init(this.$ctx)}return o()(CompanionScreen,[{key:"$ctx",get:function get(){return this._$ctx},set:function set(e){this._$ctx=e}},{key:"ajaxUrl",get:function get(){return this._$ctx.attr("data-ajax-url")}},{key:"selectors",get:function get(){return this.settings.selectors}},{key:"init",value:function init(e){var t=this;S()(this.selectors.controlsCloseButton).on({click:function click(e){t.$ctx.removeAttr(t.selectors.drawerOpen).removeAttr("data-media-type"),S()("body").removeAttr("data-secondscreen-is-open"),S()("body").removeAttr("data-secondscreen-is-expanded"),S()(t.selectors.screenContent).empty(),t.$ctx.removeAttr("data-article-max"),t.$ctx.trigger("CompanionScreen:onMinimize",{}),t.$ctx.find(t.selectors.controlsExpandButton+" span").text("EXPAND")}}),S()(this.selectors.controlsBackButton).on({click:function click(e){t.$ctx.removeAttr(t.selectors.drawerOpen).removeAttr("data-media-type"),S()(t.selectors.screenContent).empty(),S()("body").removeAttr("data-secondscreen-is-open"),S()("body").removeAttr("data-secondscreen-is-expanded"),t.$ctx.trigger("CompanionScreen:onClose",{}),t.$ctx.removeAttr("data-article-max"),t.$ctx.trigger("CompanionScreen:onMinimize",{})}}),S()(this.selectors.controlsExpandButton).on({click:function click(e){t.toggleSecondScreen()}})}},{key:"toggleSecondScreen",value:function toggleSecondScreen(){"true"===this.$ctx.attr("data-article-max")?(this.$ctx.removeAttr("data-article-max"),S()("body").removeAttr("data-secondscreen-is-expanded"),this.$ctx.trigger("CompanionScreen:onMinimize",{}),this.$ctx.find(this.selectors.controlsExpandButton+" span").text("EXPAND")):(this.$ctx.attr("data-article-max","true"),S()("body").attr("data-secondscreen-is-expanded",""),this.$ctx.trigger("CompanionScreen:onMaximize",{}),this.$ctx.find(this.selectors.controlsExpandButton+" span").text("COLLAPSE"),0<S()(".Carousel").length&&S()(".Carousel").resize())}},{key:"isOpen",value:function isOpen(){var e=this.$ctx.attr(this.selectors.drawerOpen);return"undefined"!==On()(e)&&!1!==e}},{key:"fetchSecondScreen",value:function fetchSecondScreen(e,i){var r=this;S.a.ajax({url:e}).done(function(e){var t;e&&((t=S()("<div></div>")).html(e),(t=t.find(r.selectors.scrollableContainer)).find(r.selectors.secondScreenHiddenElements).remove(),r.$ctx.find(r.selectors.screenContent).empty().append(t),window.scrollTo(0,0),setTimeout(function(){r.$ctx.attr(r.selectors.drawerOpen,!0).attr("data-media-type",i),S()("body").attr("data-secondscreen-is-open",""),r.$ctx.attr("data-second-screen",!0);var n=r.$ctx.find("video");n.length&&n.each(function(e,t){var e=n.get(e).id;e&&window.videojs&&((e=window.videojs.getPlayer(e))&&(e.muted(!0),e.play()))})},250))}).fail(function(e){console.error("second-screen load failed")})}}]),CompanionScreen}(),rr=function(){function CompanionToaster(e,t){c()(this,CompanionToaster),this.$context=e,this.settings=S.a.extend({},{selectors:{headerLogo:".Header-logo",headerButton:".Header-button",toaster:".CompanionToaster",toasterClose:".CompanionToaster-close",toasterProgressValue:".CompanionToaster-value",toasterContent:".CompanionToaster-content",CompanionContentItem:".CompanionContentItem",CompanionContentItemSelect:".CompanionContentItem-select",progress:".CompanionToaster-progress",dropdownButton:".Dropdown-item",scrollableContent:".ScrollableContentContainer"},attributes:{}},t),this.init(this.$context)}return o()(CompanionToaster,[{key:"companionDuration",get:function get(){return this._companionDuration},set:function set(e){this._companionDuration=e}},{key:"selectors",get:function get(){return this.settings.selectors}},{key:"init",value:function init(e){var r=this;this.companionDuration=10,S()(this.selectors.headerButton).on({click:function click(e){var t=r.$context;"expand"===t.attr("data-menu")?(t.attr("data-menu","collapse"),S()("body").css("overflow","auto")):(t.attr("data-menu","expand"),S()("body").css("overflow","hidden"))}}),S()(this.selectors.headerContainer).on({mouseleave:function mouseleave(e){var t=r.$context,n=S()(r.selectors.headerLogo).get(),i=S()(r.selectors.headerButton).get();window.clearTimeout(void 0),"expand"===r.$context.attr("data-menu")&&(-1<n.indexOf(e.relatedTarget)||-1<i.indexOf(e.relatedTarget)||(r.$context.attr("data-menu","collapse"),window.setTimeout(function(){t.removeAttr("data-menu")},500)))}}),S()(this.selectors.dropdownButton).on({click:function click(e){e=S()(e.target);"open"===e.parent().attr("data-submenu")?e.parent().attr("data-submenu","close"):e.parent().attr("data-submenu","open")}}),S()(this.selectors.toasterClose).on({click:function click(e){r.removeToast()}}),S()(window).on({resize:function resize(e){985<S()(window).width()&&r.$context.removeAttr("data-menu")}}),S()("[data-background]").length&&S()(this.selectors.scrollableContent).attr("data-background","true")}},{key:"delayExpired",value:function delayExpired(e){S()(e.settings.selectors.toasterContent).empty(),S()(this.selectors.toaster).removeAttr("data-animate"),S()(this.selectors.toaster).hide()}},{key:"updateProgressbar",value:function updateProgressbar(e){var t=S()(this.selectors.progress).width();S()(this.selectors.toasterProgressValue).animate({width:t},{easing:"linear",duration:e})}},{key:"removeToast",value:function removeToast(){S()(this.selectors.toasterContent+", "+this.selectors.progress).empty(),S()(this.selectors.toaster).removeAttr("data-animate"),S()(this.selectors.toaster).hide()}},{key:"popToast",value:function popToast(e,t,n){var i=this;this.removeToast(),S()(this.selectors.toaster).show(),e.clone(!0,!0).prependTo(S()(this.selectors.toasterContent)),S()(this.selectors.progress).append('<div class="CompanionToaster-value"></div>'),S()(this.selectors.toaster).attr("data-animate",""),this.companionDelayTimer&&clearTimeout(this.companionDelayTimer),this.companionDuration&&(e=1e3*this.companionDuration,this.updateProgressbar(e),this.companionDelayTimer=setTimeout(function(){i.delayExpired(i)},e))}}]),CompanionToaster}(),Ue=n("./node_modules/hammerjs/hammer.js"),or=n.n(Ue),He=function(){function Playlist(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,Playlist),this.$ctx=S()(e),this.settings=S.a.extend({selectors:{belowContent:".VideoPage-below",companionAnchor:".CompanionAnchor",companionContentItem:".CompanionContentItem",companionContentItemSelect:".CompanionContentItem-select",companionContentItemDismiss:".CompanionContentItem-dismiss",playlistItem:".PlaylistItem",drawerOpen:"data-is-open",moreAnchor:".MoreAnchor",playlistBody:".Playlist-body",playlistTitle:".Playlist-title",scrollableContent:".ScrollableContentContainer",selectedPlaylistItem:".PlaylistItem[data-selected]",video:"video",allPlayers:".VideoJsPlayer"}},t),this.$ctx.parent(".VideoPage-contentWrapper")&&this.init(this.$ctx)}return o()(Playlist,[{key:"$ctx",value:function $ctx(e){this._$ctx=e}},{key:"playlistItems",get:function get(){return this._playlistItems},set:function set(e){this._playlistItems=e}},{key:"isOpen",get:function get(){return!!this.$ctx[0].hasAttribute("".concat(this.selectors.drawerOpen))}},{key:"attachedOnBottom",get:function get(){return this._attachedOnBottom},set:function set(e){this._attachedOnBottom=e}},{key:"$currentDrawer",get:function get(){return this.$ctx.find("".concat(this.selectors.selectedPlaylistItem))},set:function set(e){this._$currentDrawer=e}},{key:"selectors",get:function get(){return this.settings.selectors}},{key:"$selectedPlaylistItem",get:function get(){return this.$ctx.find("".concat(this.selectors.selectedPlaylistItem))}},{key:"selectedPlaylistItem",get:function get(){var e=this.getSelectedIndex();return 0<=e?this.playlistItems[e]:{}}},{key:"init",value:function init(t){var n=this;this.playlistItems=[],this.onResize(),this.isOpen&&(this.openDrawer(this.$currentDrawer),S()(this.selectors.playlistItem).first().attr("data-selected",""),S()("body").attr("data-playlist-is-open","")),isTouchScreen()&&((o=new or.a(this.$ctx.find("".concat(this.selectors.playlistTitle))[0])).get("swipe").set({direction:or.a.DIRECTION_VERTICAL}),o.on("swipe",function(e){e.direction!==or.a.DIRECTION_UP&&e.direction!==or.a.DIRECTION_DOWN||n.toggleNavigation()}));var e=breakpoint();"mq-xs"!==e&&"mq-sm"!==e&&"mq-md"!==e||(this.attachedOnBottom=!0,this.initNav(),this.$ctx.find(this.selectors.playlistItem).click(function(){n.toggleNavigation(!1)})),this.openDrawer(this.$currentDrawer),this.calcProgressBar(t);var i=this.$ctx.find(".PlaylistItem");0<i.length&&i.each(function(e,t){t=S()(t);n.playlistItems.push(new jn(t,{}))}),S()(this.selectors.playlistTitle).on({click:function click(e){e.preventDefault(),e.stopPropagation();e=breakpoint();"mq-xs"!==e&&"mq-sm"!==e&&"mq-md"!==e||n.toggleNavigation()}}),this.$ctx.find(this.selectors.playlistItem).on({click:function click(e){e.preventDefault(),n.selectPlaylistItem(S()(e.currentTarget),!0),n.calcProgressBar(t)}}),this.$ctx.find(this.selectors.companionContentItemSelect).on({click:function click(e){e.preventDefault(),e.stopPropagation();e=S()(e.currentTarget).parent();n.toggleNavigation(!0),n.$ctx.trigger("Playlist:onCompanionContentItemClick",{url:e.attr("data-ajax-url"),mediaType:e.attr("data-media-type")})}}),this.$ctx.find(this.selectors.companionContentItemDismiss).on({click:function click(e){e.preventDefault(),e.stopPropagation(),n.selectors.pageHeader.removeToast()}});var r=S()(".CompanionScreen"),o=S()(".CompanionToaster"),e={playlist:this};o.length&&(e.toaster=new rr(o,{})),r.length&&(e.companionScreen=new ir(r,{})),S()("body").trigger("Playlist:Initialized",e);r=document.getElementsByClassName("EpisodePage-episodeNumber"),e=0;r&&0<r.length&&r[0]&&!isNaN(r[0].innerText)&&(e=r[0].innerText)<0&&(e=0);r=void 0!==this.playlistItems;r&&e>this.playlistItems.length&&(e=0);r=r?this.playlistItems[e]:void 0;r&&(r.isLocked?(this.$selectedPlaylistItem.removeAttr("data-selected"),S()(i[e]).attr("data-selected",""),window.location.href!==r.dataLockedUrl&&window.location.href!==r.dataLockedUrl+"?comparePlansModal=1"?window.location=r.dataLockedUrl:r.isFreeview&&this.playFirstItem(i[e])):this.playFirstItem(i[e]))}},{key:"playFirstItem",value:function playFirstItem(e){var t="0",n=this.$ctx.parent().find(this.selectors.video);n.get(0)&&(t=S()(n).attr("data-start-time")),this.selectPlaylistItem(e,!1),t&&this.$ctx.parent().find(this.selectors.video).attr("data-start-time",t)}},{key:"onResize",value:function onResize(){var t=this;S()(window).resize(function(){var e=breakpoint();"mq-xs"===e||"mq-sm"===e||"mq-md"===e?(t.attachedOnBottom=!0,t.initNav()):(t.attachedOnBottom=!1,t.openNav())})}},{key:"closeNav",value:function closeNav(){this.$ctx.removeAttr(this.selectors.drawerOpen),S()("body").attr("data-playlist-is-closed",""),S()("body").removeAttr("data-playlist-is-open"),this.$ctx.trigger("Playlist:onClose",{}),this.attachedOnBottom&&this.$ctx.animate({top:window.innerHeight-50+"px"},300)}},{key:"initNav",value:function initNav(){this.$ctx.removeAttr(this.selectors.drawerOpen),S()("body").attr("data-playlist-is-closed",""),S()("body").removeAttr("data-playlist-is-open"),this.$ctx.trigger("Playlist:onClose",{}),this.attachedOnBottom&&this.$ctx.css({top:window.innerHeight-50+"px"})}},{key:"openNav",value:function openNav(){this.$ctx.attr(this.selectors.drawerOpen,""),S()("body").attr("data-playlist-is-open",""),S()("body").removeAttr("data-playlist-is-closed"),this.$ctx.attr("data-is-open",""),this.$ctx.trigger("Playlist:onOpen",{}),this.attachedOnBottom?this.$ctx.animate({top:"0px"},300):this.$ctx.css("top","0")}},{key:"toggleNavigation",value:function toggleNavigation(e){this.$ctx[0].hasAttribute(this.selectors.drawerOpen)&&!e?this.closeNav():this.openNav()}},{key:"checkForCompanion",value:function checkForCompanion(i){var r=this.$ctx,e=r.find(this.selectors.selectedPlaylistItem).find(this.selectors.companionContentItem),o=0==e.length-e.not("[data-synced]").length;e.not("[data-synced]").each(function(e){var t=S()(this),n=t.attr("data-timestamp-seconds");n&&+n===Math.floor(+i)&&(t.attr("data-synced",""),r.trigger("Playlist:onCompanionChecked",{companion:t,isFirstCompanionItem:o}))})}},{key:"openDrawer",value:function openDrawer(e){S()(e).attr(this.selectors.drawerOpen,"")}},{key:"closeDrawer",value:function closeDrawer(e){e.removeAttr(this.selectors.drawerOpen)}},{key:"toggleDrawer",value:function toggleDrawer(e){this.isDrawerOpen(e)?this.closeDrawer(e):this.openDrawer(e)}},{key:"isDrawerOpen",value:function isDrawerOpen(e){return e[0].hasAttribute(this.selectors.drawerOpen)}},{key:"calcProgressBar",value:function calcProgressBar(e){var t=this.getSelectedIndex(e),n=this.getNavigationLength(e),i=1/n*100,n=t/n*100;e.find(this.selectors.progressBar).css({height:i+"%",top:n+"%"})}},{key:"getSelectedIndex",value:function getSelectedIndex(){var e=this.$ctx.find("".concat(this.selectors.playlistBody," ").concat(this.selectors.playlistItem)).index(S()(this.selectors.selectedPlaylistItem));return e=e<=0?0:e}},{key:"getNavigationLength",value:function getNavigationLength(e){return e.find(this.selectors.playlistBody).children().length}},{key:"selectPlaylistItem",value:function selectPlaylistItem(e,t){var n=this;this.closeDrawer(this.$currentDrawer),this.$selectedPlaylistItem.removeAttr("data-selected"),S()(e).attr("data-selected",""),this.openDrawer(e);e=this.getSelectedIndex();if((t&&(window.userInitiatedPlayback=!0),t&&1<=e)&&this.playlistItems[e-1].isPlaylistItem){t=this.$ctx.find("".concat(this.selectors.playlistItem)).eq(e-1);return void this.selectPlaylistItem(t)}this.playlistItems[e].select(this),document.querySelectorAll(this.selectors.allPlayers).forEach(function(e){e=e.querySelector("video");e&&S()(e).on("Video:onVideoEnded",function(e){n.selectNext(n)})})}},{key:"selectNext",value:function selectNext(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=!1,i=(e=e||this).getSelectedIndex()+1,r=e.$ctx.find("".concat(e.selectors.playlistItem)).eq(i);if(!1===t){var o=document.querySelectorAll(".CommentForm textarea");if(o)for(var a=0;a<o.length;a++)if(0<o[a].value.trim().length){n=!0;break}}!0===n?(S()(".video-overlay").addClass("visible"),t=r.attr("data-title"),S()(".video-overlay h2").html(t),S()(".play").click(function(){e.selectNext(e,!0)})):(r.length<=0&&(r=e.$ctx.find("".concat(e.selectors.playlistItem)).eq(0),i=0),r!==e.$selectedPlaylistItem&&0!==i&&(e.selectPlaylistItem(r),e.calcProgressBar(e.$ctx)))}},{key:"scrollToTop",value:function scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}}]),Playlist}(),We=function(){function VideoJsBackgroundPlayer(e){c()(this,VideoJsBackgroundPlayer),d()(this,"_selectors",{poster:".vjs-poster"}),this.el=e,this.loopRestarts=0,this.initPlayerEvents=!0,this.bindEvents(e.querySelector("video"))}return o()(VideoJsBackgroundPlayer,[{key:"bindEvents",value:function bindEvents(t){var n=this,i=null;this.backgroundPlayerInterval=setInterval(function(e){if((i||t&&window.videojs)&&(i=i||window.videojs.getPlayer(t.id))&&i.el_===t){try{document.hidden&&!i.paused()?i.pause():!document.hidden&&i.paused()&&i.play()}catch(e){console.log(e)}n.initPlayerEvents&&n._ensurePlayerEvents(t,i)}},VideoJsBackgroundPlayer.INTERVAL)}},{key:"_ensurePlayerEvents",value:function _ensurePlayerEvents(n,i){var r=this;i&&(this.initPlayerEvents=!1,i.on("ended",function(e){var t;r.loopRestarts++,r.loopRestarts>=VideoJsBackgroundPlayer.MAX_LOOPS&&(n.removeAttribute("data-loop"),clearInterval(r.backgroundPlayerInterval),(t=r.el.querySelector(r._selectors.poster))&&(t.style.display="block"),setTimeout(function(e){i.pause()},500))}))}}]),VideoJsBackgroundPlayer}();d()(We,"MAX_LOOPS",20),d()(We,"INTERVAL",1e3),d()(We,"SELECTOR",".VideoJsBackgroundPlayer");function J01(){c()(this,J01),S()(function(){S()("a.NavigationItem-text-link").on("click",function(){S()("div.NavigationItem").removeClass("active"),S()(this).closest("div.NavigationItem").addClass("active")})})}d()(J01,"SELECTOR",".Header-navigation");ze=function(){function ListFiveColumnGrid(){c()(this,ListFiveColumnGrid),this.showing=!1,this.showMore()}return o()(ListFiveColumnGrid,[{key:"showMore",value:function showMore(){var e=this,t=S()(".ListFiveColumnGrid-row div.ListFiveColumnGrid-items-item:nth-last-child(-n+3)");S()(".ListFiveColumnGrid-items-showMore a").on("click",function(){e.showing?(t.removeClass("show"),S()(this).html("more <img src='/styleguide/media/triangle.svg' alt='down arrow' class='icon'>"),e.showing=!1):(t.addClass("show"),S()(this).html("less <img src='/styleguide/media/triangle.svg' alt='down arrow' class='icon down'>"),e.showing=!0)})}}]),ListFiveColumnGrid}();d()(ze,"SELECTOR",".ListFiveColumnGrid");var Ke=".Commenting",ar=window.fetch,sr=window.FormData,ft=function(){function Commenting(e){c()(this,Commenting),this.element=e,this.form=e.querySelector(".CommentForm"),this.results=e.querySelector(".Commenting-comments"),this.totalComments=this.results.getAttribute("data-comment-count"),this.commentTemplate=e.querySelector(".Commenting-commentTemplate"),this.paginationNextLink=e.querySelector(".Commenting-pagination-next"),this.replyFormTemplate=e.querySelector(".Commenting-replyFormTemplate"),this.currentCommentCount=0+this.results.querySelectorAll(".Comment").length,this.characterLimits(),this.bindEvents()}return o()(Commenting,[{key:"bindEvents",value:function bindEvents(){var n=this;this.paginationNextLink&&(this.currentCommentCount>=this.totalComments?this.paginationNextLink.remove():this.paginationNextLink.addEventListener("click",function(e){n.onPaginate(e)})),this.form&&(this.form.onsubmit=this.onFormSubmit.bind(this)),this.element.addEventListener("click",function(e){var t=e.target;t.classList.contains("Comment-interactions-replyButton")&&n.onReplyButtonClick(e),t.classList.contains("Comment-interactions-reportButton")&&n.onReportButtonClick(e)})}},{key:"onFormSubmit",value:function onFormSubmit(t){var i=this;t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation();var r=t.target,e=new sr(r),n=r.getElementsByClassName("CommentForm-submit")[0],o=n.innerText;n.innerText="Sending...",n.disabled=!0,this.renderPlaceholderComment(r),S()(r).find("span.warning").html(""),ar(r.getAttribute("action"),{method:"POST",body:e,credentials:"include"}).then(function(e){if(n.disabled=!1,n.innerText=o,200!==e.status)throw i.languageError(e,t),new Error(e.statusText);return e.text()}).then(function(e){var t=document.createElement("div");t.innerHTML=e.trim();var n=t.firstElementChild,e=i.results.querySelector("[data-placeholder]");e.parentElement.replaceChild(n,e),Array.prototype.filter.call(r.querySelectorAll("input, textarea"),function(e){return"hidden"!==e.getAttribute("type")}).forEach(function(e){e.value=""});var t=r.getAttribute("data-recaptcha-id");t&&window.grecaptcha&&(window.grecaptcha.reset(t),r.setAttribute("data-form-disabled","")),r.elements.parent.value&&((t=(e=r.parentElement).parentElement).removeAttribute("data-reply-active"),t.removeChild(e)),n.scrollIntoView({behavior:"smooth",block:"start"})}).catch(function(e){console.log(e)})}},{key:"onPaginate",value:function onPaginate(e){var t=this;e.preventDefault();var n={limit:Number(this.paginationNextLink.getAttribute("data-limit")),offset:Number(this.paginationNextLink.getAttribute("data-offset")),targetId:this.paginationNextLink.getAttribute("data-target-id")},e=this.paginationNextLink.getAttribute("href")+"&"+Object.keys(n).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n[e]))}).join("&");ar(e,{method:"GET",credentials:"include"}).then(function(e){if(200!==e.status)throw new Error(e.statusText);return e.text()}).then(function(e){t.results.insertAdjacentHTML("beforeend",e),t.currentCommentCount+=e.match(/class="Comment"/g).length,t.paginationNextLink.setAttribute("data-offset",t.results.children.length),t.currentCommentCount>=t.totalComments&&t.paginationNextLink.setAttribute("data-hide","true")}).catch(function(e){console.log(e)})}},{key:"onReplyButtonClick",value:function onReplyButtonClick(e){e.preventDefault();var t=e.target,n=Array.prototype.slice.call(this.results.querySelectorAll(".Comment")).filter(function(e){return e.contains(t)}).pop(),e=n.querySelector("form");e||(S()(t).parent().parent().after(S()(this.replyFormTemplate).html()),(e=n.querySelector("form")).querySelector('input[name="parent"]').setAttribute("value",n.getAttribute("id")),e.querySelector('textarea[name="body"]').value="",e.onsubmit=this.onFormSubmit.bind(this)),"true"===n.getAttribute("data-reply-active")?(n.setAttribute("data-reply-active",!1),S()(t).removeClass("disable"),S()(e).parent().hide()):(n.setAttribute("data-reply-active",!0),S()(t).addClass("disable"),S()(e).parent().show())}},{key:"onReportButtonClick",value:function onReportButtonClick(e){e.preventDefault();var t=e.target,e=t.getAttribute("data-comment-id"),n="Reported-"+e;if(window.localStorage.getItem(n))return t.setAttribute("disabled","disabled"),void(t.innerHTML="Reported");t.innerHTML="Reporting...",ar("/_reportComment?/commentId="+e).then(function(e){if(200!==e.status)throw new Error(e.statusText);return e.text()}).then(function(e){window.localStorage.setItem(n,!0),t.setAttribute("disabled","disabled"),t.innerHTML="Reported"}).catch(function(e){console.log(e),t.innerHTML="Error"})}},{key:"renderPlaceholderComment",value:function renderPlaceholderComment(e){var t=S()(S()(this.commentTemplate).html())[0].cloneNode(!0);t.querySelector(".Comment-body").textContent=e.elements.body.value,t.setAttribute("data-placeholder","true");var n=this.results,e=e.elements.parent.value;e&&((n=(e=document.getElementById(e)).querySelector(".Comment-replyComments"))||((n=document.createElement("div")).className="Comment-replyComments",e.appendChild(n))),n.insertAdjacentElement("afterbegin",t)}},{key:"languageError",value:function languageError(e,t){var n,i,t=S()(t.target);499===e.status&&(n=t.find(".CommentForm-inputs-errorMessage"),i=t.find(".CommentForm-inputs-wrapper textarea"),n.css("display","flex").text("This message has been rejected for inappropriate language."),i.css("box-shadow","0px 0px 2px 2px #a94442"),i.on("input",function(){n.hide(),i.css("box-shadow","none")}))}},{key:"characterLimits",value:function characterLimits(){S()(this.element).on("input","textarea",function(e){var t=S()(e.target),n=parseInt(t.attr("minlength"))||0,i=parseInt(t.attr("maxlength"))||0,e=t.val().length,t=t.closest(".CommentForm").find("span.warning");n&&e<n?t.text("Minimum characters left "+(n-e)):i&&e<=i?t.text("Maximum characters left "+(i-e)):i&i<e?t.text("Maximum characters exceeded"):t.text("")})}}]),Commenting}(),lr={dataActive:"data-active",dataVisible:"data-visible",selTab:"[data-tab]",selPanel:"[data-tab-panel]",dataExpanded:"data-expanded"},pt=function(){function Tabs(e,t){c()(this,Tabs),this.el=e,this.settings=Object.assign({},lr,t),this.init(),this.setBinds()}return o()(Tabs,[{key:"init",value:function init(){this.elTabs=Array.prototype.slice.call(this.el.querySelectorAll(this.settings.selTab)),this.elTabPanels=Array.prototype.slice.call(this.el.querySelectorAll(this.settings.selPanel)),this.elTabs&&this.elTabs.length&&this.elTabPanels&&this.elTabPanels.length||console.error("DOM elements for Tabs are missing, failing fast."),this.ids=this.elTabPanels.map(function(e){return e.id});var t=window.location.hash.substr(1),e=this.ids.some(function(e){return t===e});this.activePanel=window.location.hash.length&&e?window.location.hash.substr(1):this.elTabPanels[0].id}},{key:"setBinds",value:function setBinds(){var i=this;window.addEventListener("hashchange",function(){var t=window.location.hash.substr(1);i.ids.some(function(e){return t===e})&&(i.activePanel=t)}),this.elTabs.forEach(function(n){n.addEventListener("click",function(e){var t=window.location.hash.substr(1);i.ids.some(function(e){return t===e})&&(n.getAttribute("href").substr(1)===i.activePanel?(e.preventDefault(),n.getAttribute(lr.dataExpanded)?n.removeAttribute(lr.dataExpanded):n.setAttribute(lr.dataExpanded,!0)):n.removeAttribute(lr.dataExpanded),i.elTabPanels.forEach(function(e){e.id!==i.activePanel||e.getAttribute(lr.dataExpanded)?e.removeAttribute(lr.dataExpanded):e.setAttribute(lr.dataExpanded,!0)}))})})}},{key:"activePanel",get:function get(){return this._activePanel},set:function set(i){var r=this;return this._activePanel!==i&&(this._activePanel=i,this.elTabs.forEach(function(e){var t=i===e.getAttribute("href").substr(1),n=e.parentNode;e.setAttribute(r.settings.dataActive,t),t?e.setAttribute(lr.dataExpanded,!0):e.removeAttribute(lr.dataExpanded),n.setAttribute(r.settings.dataActive,t)}),this.elTabPanels.forEach(function(e){var t=i===e.id;e.setAttribute(r.settings.dataVisible,t),t?e.setAttribute(lr.dataExpanded,!0):e.removeAttribute(lr.dataExpanded)})),this._activePanel}}]),Tabs}(),ur={dataActive:"data-nav-active",dataVisible:"data-nav-visible",selTab:"[data-nav-tab]",selPanel:"[data-nav-tab-panel]",dataExpanded:"data-nav-expanded"},gt=function(){function NavTabs(e,t){c()(this,NavTabs),this.el=e,this.settings=Object.assign({},ur,t),this.init(),this.setBinds()}return o()(NavTabs,[{key:"init",value:function init(){this.elTabs=Array.prototype.slice.call(this.el.querySelectorAll(this.settings.selTab)),this.elTabPanels=Array.prototype.slice.call(this.el.querySelectorAll(this.settings.selPanel)),this.elTabs&&this.elTabs.length&&this.elTabPanels&&this.elTabPanels.length||console.error("DOM elements for Tabs are missing, failing fast."),this.ids=this.elTabPanels.map(function(e){return e.id});var t=window.location.hash.substr(1),e=this.ids.some(function(e){return t===e});this.activePanel=window.location.hash.length&&e?window.location.hash.substr(1):this.elTabPanels[0].id}},{key:"setBinds",value:function setBinds(){var e=this;window.addEventListener("hashchange",function(){var t=window.location.hash.substr(1);e.ids.some(function(e){return t===e})&&(e.activePanel=t)})}},{key:"activePanel",get:function get(){return this._activePanel},set:function set(i){var r=this;return this._activePanel!==i&&(this._activePanel=i,this.elTabs.forEach(function(e){var t=i===e.getAttribute("href").substr(1),n=e.parentNode;e.setAttribute(r.settings.dataActive,t),t?e.setAttribute(ur.dataExpanded,!0):e.removeAttribute(ur.dataExpanded),n.setAttribute(r.settings.dataActive,t)}),this.elTabPanels.forEach(function(e){var t=i===e.id;e.setAttribute(r.settings.dataVisible,t),t?e.setAttribute(ur.dataExpanded,!0):e.removeAttribute(ur.dataExpanded)})),this._activePanel}}]),NavTabs}(),cr=["locality","postal_code","airport","administrative_area_level_3","administrative_area_level_4","administrative_area_level_5","sublocality","sublocality_level_1","sublocality_level_2","sublocality_level_3","neighborhood","postal_town"],vt=function(){function SearchResultsPage(e){c()(this,SearchResultsPage),this.el=e,this.queryField=document.querySelector(".SearchResultsPage-list-formInput"),this.noResultsDiv=document.querySelector(".SearchResultsPage-list-noResults"),this.queryField&&(this.searchQuery=this.queryField.value);e=function parseQueryString(){try{for(var e=window.location.search.split(/\?/)[1].split("&"),t={},n=0;n<e.length;n++){var i=e[n].split("=");t[i[0]]=i[1]}return t}catch(e){return null}}();this.geocoderService=null;var t=this;!this.searchQuery||e.lat||e.lng||Cn()({key:getGoogleMapsApiKey(),libraries:["places"]}).then(function(e){t.geocodeString(t.searchQuery).then(function(e){var e=e.filter(function(t){return 0<cr.filter(function(e){return t.types.includes(e)}).length}),n=S()('<div class="SearchResultsPage-list-suggestedLocations"><div class="suggestedLocations-label">Did You Mean:</div><div class="suggestedLocations-matches"></div></div>');e.forEach(function(e){var t=window.document.location.origin+window.document.location.pathname+"?q="+encodeURIComponent(e.formatted_address)+"&lat="+e.geometry.location.lat()+"&lng="+e.geometry.location.lng(),e='<div class="TitleOnlyPromo-title"><a class="Link" href="'.concat(t,'">').concat(e.formatted_address,"</a></div>");n.find(".suggestedLocations-matches").append(e)}),0<e.length&&S()(t.queryField).parent().after(n)})}),this.init()}return o()(SearchResultsPage,[{key:"geocodeString",value:function geocodeString(t){var i=this;return new Promise(function(n,e){i.geocoderService||"object"!==("undefined"==typeof google?"undefined":On()(google))||"object"!==On()(google.maps)||(i.geocoderService=new google.maps.Geocoder),i.geocoderService?i.geocoderService.geocode({address:t},function(e,t){t!==google.maps.GeocoderStatus.OK?n([]):n(e)}):n([])})}},{key:"init",value:function init(){var o=this,a=Object(qt.a)(),s=S()(this.el).find(".BottomBorderTabs-panel").first();S()(this.el).find(".BottomBorderTabs-panel").not(":first").each(function(e,t){var n=S()(t);n.find(".SearchSection").each(function(e,t){var t=S()(t),i=!1,r=t.clone(!0,!0);r.removeAttr("id"),r.removeAttr("data-search-filter-trigger"),r.find(".SearchSection-content").each(function(e,t){var n=5;S()(t).hasClass("grid2carousel")&&"ie"!==a.name&&(S()(t).removeClass("grid").addClass("carousel").attr("data-slick-carousel","").attr("data-slides-to-show",5).attr("data-responsive",'[\n                {\n                  "breakpoint": 1440,\n                  "settings": {\n                    "slidesToShow": 5,\n                    "slidesToScroll": 5\n                  }\n                },\n                {\n                  "breakpoint": 1025,\n                  "settings": {\n                    "slidesToShow": 4,\n                    "slidesToScroll": 4\n                  }\n                },\n                {\n                  "breakpoint": 769,\n                  "settings": {\n                    "slidesToShow": 3,\n                    "slidesToScroll": 3\n                  }\n                },\n                {\n                  "breakpoint": 581,\n                  "settings": {\n                    "slidesToShow": 2,\n                    "slidesToScroll": 2,\n                    "centerMode": true\n                  }\n                },\n                {\n                  "breakpoint": 568,\n                  "settings": {\n                    "slidesToShow": 2,\n                    "slidesToScroll": 2,\n                    "arrows": false,\n                    "centerMode": true\n                  }\n                },\n                {\n                  "breakpoint": 421,\n                  "settings": {\n                    "slidesToShow": 1,\n                    "arrows": false,\n                    "slidesToScroll": 1,\n                    "centerMode": true\n                  }\n                }\n              ]'),n=10),S()(t).children().each(function(e,t){n<=e&&(S()(t).remove(),i=!0)});try{(parseInt(r.find(".count").first().attr("data-count"))||0)>n&&(i=!0)}catch(e){}}),r.attr("data-no-load-more")&&(i=!1),r.find('script[type="text/template"]').each(function(e,t){var n=S()(t).html();S()(t).replaceWith(n)}),s.append(r),i&&s.append('<a class="button" href="#'.concat(n.attr("id"),'">').concat("More &raquo;","</a>")),o.addLoadMore(t),t.find('script[type="text/template"]').each(function(e,t){var n=S()(t).html();S()(t).replaceWith(n)})})}),S()("body").on("change",".SearchFilters .CheckboxInput-label",function(e){e=S()(e.target).closest(".SearchFilters");o.updateFilters(e)}),S()("body").on("click",".SearchFilters .reset",function(e){e.preventDefault();e=S()(e.target).closest(".SearchFilters");e.find('input[type="checkbox"]').prop("checked",!1),o.updateFilters(e)}),window.addEventListener("hashchange",function(){var e=window.location.hash.substr(1);S()("#"+e).find("[data-slick-carousel]").slick("setPosition"),"search-shows-episodes"===e?S()(".SearchResultsPage-results-button.filter").css("display","block"):S()(".SearchResultsPage-results-button.filter").css("display","none"),S()(".SearchResultsPage-results-button").first().text(S()('.BottomBorderTabs-tab[href="#'.concat(e,'"]')).text())})}},{key:"updateFilters",value:function updateFilters(t){var a=this;S.a.post(window.location.search,t.serialize()).then(function(o){var e=S()(o).find('[data-search-filter-target="'+t.attr("data-search-filter-target")+'"]');t.empty().append(e.contents()),S()('[data-search-filter-trigger="'+t.attr("data-search-filter-target")+'"]').each(function(e,t){var n=S()(t),i=n.find(".SearchSection-content"),r=n.find(".count"),t=S()(o).find("#"+n.attr("id")+" .SearchSection-content");t.length||(t=S()('<div id="'.concat(n.attr("id"),'" class="SearchSection-content">Results filtered.</div>'))),i.replaceWith(t),t.find('script[type="text/template"]').each(function(e,t){var n=S()(t).html();S()(t).replaceWith(n)});t=S()(o).find("#"+n.attr("id")+" .count").first().attr("data-count");r.attr("data-filtered-count",t),n.find(".load-more").remove(),a.addLoadMore(n)})})}},{key:"addLoadMore",value:function addLoadMore(e){if(!e.attr("data-no-load-more")){var i=S()('[data-search-filter-target="'+e.attr("data-search-filter-trigger")+'"]'),t=0;try{t=parseInt(e.find(".count").first().attr("data-filtered-count"))||parseInt(e.find(".count").first().attr("data-count"))||0}catch(e){}var n=e.find(".SearchSection-content").children().length;n<t&&(n=S()('<button class="button load-more" data-next-page="2" data-total-items="'.concat(t,'" data-current-items="').concat(n,'">').concat("More ","</button>")),e.append(n),n.on("click",function(){var t=S()(this),n=t.closest(".SearchSection");S.a.post(window.location.search+"&p="+t.attr("data-next-page"),i.serialize()).then(function(e){e=S()(e).find("#"+n.attr("id")+" .SearchSection-content").children();n.find(".SearchSection-content").append(e);e=parseInt(t.attr("data-current-items"))+e.length;e<parseInt(t.attr("data-total-items"))?(t.attr("data-next-page",parseInt(t.attr("data-next-page"))+1),t.attr("data-current-items",e)):t.remove()})}))}}}]),SearchResultsPage}(),bt=function(){function SearchActionMode(e){c()(this,SearchActionMode),this.init(e)}return o()(SearchActionMode,[{key:"init",value:function init(e){var t;"global"===e.name?e.value="enabled":"lcq"!==e.name||"ie"!==(t=Object(qt.a)().name.toLowerCase())&&"edge"!==t&&(e.value="enabled")}}]),SearchActionMode}();d()(bt,"SELECTOR",".SearchAction-mode");var _t=n("./node_modules/javascript-autocomplete/auto-complete.min.js"),dr=n.n(_t),hr=["show","expert","destination","place","course","resort","listing"],pr=["country","administrative_area_level_1","administrative_area_level_2"],Tt=function(){function SearchAutocomplete(e){var t=this;c()(this,SearchAutocomplete),this.el=e,this.inputField=e,this.sources=hr;e=this.el.getAttribute("data-search-autocomplete-sources");if("string"==typeof e||e instanceof String)try{var n=JSON.parse(e);Array.isArray(n)&&(this.sources=n)}catch(e){}this.extraClass=this.el.getAttribute("data-search-autocomplete-class")||"",this.suggestions={},this.placesAutoCompleteService=null,this.placesAutoCompleteServiceToken=null,this.usePlaces()?Cn()({key:getGoogleMapsApiKey(),libraries:["places"]}).then(function(e){t.init()}):this.init()}return o()(SearchAutocomplete,[{key:"init",value:function init(){var i=this,n=this;new dr.a({selector:n.inputField,minChars:3,cache:!1,menuClass:(n.usePlaces()?"autocomplete-suggestions-powered-by-google ":"").concat(this.extraClass),source:function source(t,n){i.sources.forEach(function(e){switch(e){case"place":i.getPlaces(t).then(function(e){i.suggestions.place=e,n(i.joinResults())});break;case"show":i.getSuggestions(t,"show","/api/autocomplete/shows").then(function(e){i.suggestions.show=e,n(i.joinResults())});break;case"expert":i.getSuggestions(t,"expert","/api/autocomplete/experts").then(function(e){i.suggestions.expert=e,n(i.joinResults())});break;case"destination":i.getSuggestions(t,"destination","/api/autocomplete/destinations").then(function(e){i.suggestions.destination=e,n(i.joinResults())});break;case"course":i.getSuggestions(t,"course","/api/autocomplete/courses").then(function(e){i.suggestions.course=e,n(i.joinResults())});break;case"resort":i.getSuggestions(t,"resort","/api/autocomplete/resorts").then(function(e){i.suggestions.resort=e,n(i.joinResults())});break;case"listing":i.getSuggestions(t,"listing","/api/autocomplete/listings").then(function(e){i.suggestions.listing=e,n(i.joinResults())})}})},renderItem:function renderItem(e,t){return'<div class="autocomplete-suggestion"\n            data-val="'.concat(t,'"\n            data-type="').concat(e.type,'"\n            data-id="').concat(e.id,'"\n            data-label="').concat(e.label,'"\n            data-url="').concat(e.url,'"\n          >').concat(e.label,"</div>")},onSelect:function onSelect(e,t,i){e.preventDefault(),"place"===i.getAttribute("data-type")?new google.maps.places.PlacesService(S()(n.el).closest("form").find(".gsbpa")[0]).getDetails({placeId:i.getAttribute("data-id"),sessionToken:n.placesAutoCompleteServiceToken},function(e,t){var n;t===google.maps.places.PlacesServiceStatus.OK&&e.formatted_address&&e.geometry&&e.geometry.location&&e.geometry.location.lat()&&e.geometry.location.lng()?(n=encodeURIComponent(e.formatted_address),t=e.geometry.location.lat(),e=e.geometry.location.lng(),i.setAttribute("data-url","/search?q=".concat(n,"&lat=").concat(t,"&lng=").concat(e)),window.location.href=i.getAttribute("data-url")):window.alert("Search error. Please retry.")}):window.location.href=i.getAttribute("data-url")}})}},{key:"getSuggestions",value:function getSuggestions(i,r,o){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:5;return new Promise(function(t,e){var n;S.a.getJSON("".concat(o,"?s=").concat(encodeURIComponent(i),"&limit=").concat(a),function(e){n=e.results.map(function(e){return{type:r,id:e.id,label:e.label,url:e.url}}),t(n)})})}},{key:"getPlaces",value:function getPlaces(t){var a=this;return new Promise(function(r,e){var o;a.placesAutoCompleteService||"object"!==("undefined"==typeof google?"undefined":On()(google))||"object"!==On()(google.maps)||"object"!==On()(google.maps.places)||(a.placesAutoCompleteService=new google.maps.places.AutocompleteService),a.placesAutoCompleteService?(o=[],a.placesAutoCompleteServiceToken||(a.placesAutoCompleteServiceToken=new google.maps.places.AutocompleteSessionToken),a.placesAutoCompleteService.getPlacePredictions({input:t,types:["geocode"],sessionToken:a.placesAutoCompleteServiceToken},function(e,t){var n,i;o=t!==google.maps.places.PlacesServiceStatus.OK?[]:(n=S()(a.el).closest("form").attr("action"),i=a.placesAutoCompleteServiceToken[Object.keys(a.placesAutoCompleteServiceToken)[0]],e.filter(function(e){var t=!0;return e.types.forEach(function(e){-1<pr.indexOf(e)&&(t=!1)}),t}).map(function(e){return{type:"place",id:e.place_id,label:e.description,url:"".concat(n,"?q=").concat(e.description,"&placeId=").concat(e.place_id,"&sessionToken=").concat(i)}})),r(o)})):r([])})}},{key:"usePlaces",value:function usePlaces(){return this.sources&&-1<this.sources.indexOf("place")}},{key:"joinResults",value:function joinResults(){var t=this,n=[];return this.sources.forEach(function(e){t.suggestions[e]&&n.push.apply(n,h()(t.suggestions[e]))}),n}}]),SearchAutocomplete}(),St=function(){function ChoosePlanPage(){c()(this,ChoosePlanPage),this.init()}return o()(ChoosePlanPage,[{key:"init",value:function init(){var e=!1;S()(".pageStep").click(function(){(e=!e)?(S()(".planTypes").hide(),S()(".comparePlans").show(),S()(".pageStep").text("< Choose Plan").css("float","none")):(S()(".planTypes").show(),S()(".comparePlans").hide(),S()(".pageStep").text("Compare Plans >").css("float","right"))}),S()(".ComparePlans ul").on("click","li",function(){var e=S()(this).index()+2;S()(".ComparePlans tr").find("td:not(:eq(0))").hide(),S()("td:nth-child("+e+")").css("display","table-cell"),S()("tr").find("th:not(:eq(0))").hide(),S()("li").removeClass("active"),S()(this).addClass("active")}),S()(".PlanType-title h2").click(function(){if(window.innerWidth<=768)return S()(this).hasClass("active")?(S()(this).parent().siblings().slideUp(),S()(this).removeClass("active")):(S()(this).parent().siblings().slideDown(),S()(this).addClass("active")),!1});var t=window.matchMedia("(min-width: 1024px)");function handleMediaQuery(e){e.matches?S()(".ComparePlans tfoot tr td").attr("colspan",1):S()(".ComparePlans tfoot tr td").attr("colspan",2)}t.addListener(handleMediaQuery),handleMediaQuery(t),S()(window).on("resize",function(e){handleMediaQuery(t)}),window.addEventListener("load",function(){for(var e=document.getElementsByClassName("benefitRow"),t=0;t<e.length;t++)for(var n=e[t].getElementsByTagName("td"),i="",r=0;r<n.length;r++)0===r?i=n[r].innerText:n[r].getAttribute("items").includes(i)&&(n[r].getElementsByClassName("tick").item(0).style.visibility="visible");S()("ul li:first-child button").click()})}}]),ChoosePlanPage}();d()(St,"SELECTOR",".ChoosePlanPage");function qb1(e){c()(this,qb1),window.addEventListener("hashchange",function(){var n=window.location.hash.substr(1);S()("#"+n).find("[data-slick-carousel]").slick("setPosition"),S()(".MembershipPage-main-content .NavTabs-label").each(function(e,t){t.hash.substr(1)===n&&window.scroll(0,0)})}),window.addEventListener("load",function(){window.scrollTo(0,0)}),S()('.AuthenticatedNavigationItem-items-item a[href^="'+window.location.href.replace(window.location.hash,"")+'"]').click(function(e){return e.target.hash===window.location.hash?(e.preventDefault(),window.scroll(0,0),!1):void window.scroll(0,0)})}d()(qb1,"SELECTOR",".MembershipPage");Ct=function(){function SCATransactionFinalizationPage(){c()(this,SCATransactionFinalizationPage),this.init()}return o()(SCATransactionFinalizationPage,[{key:"init",value:function init(){window.addEventListener("load",function(){var e=JSON.parse(S()(".SCATransactionFinalizationPage-main input").val()),t=JSON.parse(window.atob(Ie.a.get("gc.payment.info"))),n={name:t.gtmProdName,id:t.gtmID,category:t.gtmCategory,price:t.gtmPrice,variant:t.gtmVariant,quantity:t.gtmQuantity},i={currencyCode:t.gtmCurrency,tax:t.tax,shipping:t.gtmShipping,orderTotal:t.orderTotal};e?S.a.ajax({url:t.purchaseStatusUrl,dataType:"json"}).always(function(t){var e=null;t&&t.CustomerSubscriptionID&&(e=t.CustomerSubscriptionID),i.id=e,on.doSendEventSCA(n,i),setTimeout(function(e){window.location.href=t.RedirectUrl},1e3)}):(on.doSendEventSCA(n,{currencyCode:t.gtmCurrency},{action:"purchase_failed",step:5},{eventCategory:t.gtmCategory,eventValue:{message:"Authorization was not approved. Please check payment method and try again.",purchaseStatusId:t.purchaseStatusId},eventAction:"purchase_failed"}),setTimeout(function(e){window.location.href="".concat(t.paymentReturnUrl,"?error=Authorization was not approved. Please check payment method and try again.")},1e3))})}}]),SCATransactionFinalizationPage}();d()(Ct,"SELECTOR",".SCATransactionFinalizationPage");var wt=function(){function GoogleAnalyticsScroll(e){c()(this,GoogleAnalyticsScroll),this.el=e,this.init()}return o()(GoogleAnalyticsScroll,[{key:"init",value:function init(){var e=this,t=debounce(100,function(){window.scrollY>=e.el.offsetHeight+e.el.offsetTop-20&&(sendGoogleAnalyticsEvent("Content End Reached","Article End Reached",e.getLabel()),window.removeEventListener("scroll",t))});window.addEventListener("scroll",t)}},{key:"getLabel",value:function getLabel(){var e="End of article reached";return-1!==window.location.pathname.toLowerCase().indexOf("best-of")&&(e="End of best-of reached"),e=null!=document.querySelector("html.GalleryPage")?"End of gallery reached":e}}]),GoogleAnalyticsScroll}(),lt=function(){function GoogleMap(e){c()(this,GoogleMap),d()(this,"selectors",{map:".GoogleMap-map",credentials:"data-map-credentials",defaultMapZoom:"data-map-defaultZoom",enableZoomControls:"data-map-enableZoomControls",defaultLatitude:"data-map-defaultLatitude",defaultLongitude:"data-map-defaultLongitude",defaultMapType:"data-map-defaultType",gaMapSourceType:"data-map-sourceDataType",gaMapSource:"data-map-sourceData",hideInfoBox:"data-map-hideInfoBox",disableDefaultUi:"data-map-disableDefaultUi",centerCourse:"data-map-centerCourse",courseId:"data-map-courseId"});var t=this;this.el=e,this.map=this.el.querySelector(this.selectors.map),this.apiKey=this.el.getAttribute(this.selectors.credentials),this.enableZoomControls=this.el.getAttribute(this.selectors.enableZoomControls),this.defaultMapZoom=this.el.getAttribute(this.selectors.defaultMapZoom),this.defaultLatitude=this.el.getAttribute(this.selectors.defaultLatitude),this.defaultLongitude=this.el.getAttribute(this.selectors.defaultLongitude),this.defaultMapType=this.el.getAttribute(this.selectors.defaultMapType),this.gaMapSourceType=this.el.getAttribute(this.selectors.gaMapSourceType),this.gaMapSource=this.el.getAttribute(this.selectors.gaMapSource),this.hideInfoBox=this.el.hasAttribute(this.selectors.hideInfoBox),this.disableDefaultUi=this.el.hasAttribute(this.selectors.disableDefaultUi),this.centerCourse=this.el.hasAttribute(this.selectors.centerCourse),this.courseId=Number(this.el.getAttribute(this.selectors.courseId)),Cn()({key:t.apiKey,libraries:["places"]}).then(function(e){t.initializeGeoMap(),S()(window).trigger("maps:loaded")})}return o()(GoogleMap,[{key:"initializeGeoMap",value:function initializeGeoMap(){var d,h,p=this,f=parseInt(p.defaultMapZoom)||2,e=p.defaultMapType||"roadmap",t=new google.maps.LatLng(parseFloat(p.defaultLatitude)||40.347778,parseFloat(p.defaultLongitude)||-6.259722),e={zoom:f,center:t,mapTypeId:e,scrollwheel:!0,zoomControl:!p.disableDefaultUi,gestureHandling:"cooperative",maxZoom:22,minZoom:!document.body.classList.contains("ArchitectPage-body")&&null==p.courseId&&2<f?f-2:1,disableDefaultUI:p.disableDefaultUi,fullscreenControl:!0},m=new google.maps.Map(document.getElementById("map"),e),g=[],y=p.gaMapSourceType||"json";m.setOptions({mapTypeControl:!p.disableDefaultUi,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],streetViewControl:!1}),S.a.ajax({url:p.gaMapSource,type:"get",dataType:y,success:function success(i){if("html"===y){for(var e=new DOMParser,t=(i=e.parseFromString(i,"text/html")).querySelectorAll("div[id]"),n=t.length,r=0;r<n;r++)t[r].url=t[r].querySelectorAll(".url")[0]?t[r].querySelectorAll(".url")[0].textContent:"",t[r].name=t[r].querySelectorAll(".name")[0]?t[r].querySelectorAll(".name")[0].textContent:"",t[r].city=t[r].querySelectorAll(".city")[0]?t[r].querySelectorAll(".city")[0].textContent:"",t[r].state=t[r].querySelectorAll(".state")[0]?t[r].querySelectorAll(".state")[0].textContent:"",t[r].country=t[r].querySelectorAll(".country")[0]?t[r].querySelectorAll(".country")[0].textContent:"",t[r].overallRating=t[r].querySelectorAll(".overallRating")[0]?parseFloat(t[r].querySelectorAll(".overallRating")[0].textContent):0,t[r].ratingsCount=t[r].querySelectorAll(".ratingsCount")[0]?parseInt(t[r].querySelectorAll(".ratingsCount")[0].textContent):0,t[r].lat=t[r].querySelectorAll(".lat")[0]?parseFloat(t[r].querySelectorAll(".lat")[0].textContent):0,t[r].lng=t[r].querySelectorAll(".lng")[0]?parseFloat(t[r].querySelectorAll(".lng")[0].textContent):0,t[r].teeTimeUrl=t[r].querySelectorAll(".tee-time-url")[0]?t[r].querySelectorAll(".tee-time-url")[0].textContent:"",t[r].thumbnailUrl=t[r].querySelectorAll(".thumbnail")[0]?t[r].querySelectorAll(".thumbnail")[0].textContent:"";i=t}h=i.length;for(var o,a,s,l=new google.maps.LatLngBounds,u=function _loop(e){var t=i[e];"html"!==y&&(t.teeTimeUrl=0!==t.externalServices.length&&"tee-times"===t.externalServices[0].type?p.getTeeLink(t.externalServices):"");e=""===t.teeTimeUrl?"":'<div class="StandardCoursePromo-teeTime"><a class="Link" href="'+t.teeTimeUrl+'" target="_self">View Tee Times</a></div>';o={lat:t.latitude,lng:t.longitude},a=new google.maps.Marker({icon:{url:"//s3.amazonaws.com/gav_static/assets/maps/sprite-markers.png",size:new google.maps.Size(144*.15,25.2),scaledSize:new google.maps.Size(144*.15,151.2),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(72*.15,25.2)},map:m,position:o});var n='<div class="StandardCoursePromo">\n                            <div class="StandardCoursePromo-media">\n                              <a class="Link" href="'+t.url+'" target="_self">\n                                <img class="Image lazyloaded" alt="'+t.name+'" data-src="'+t.thumbnailUrl+'" src="'+t.thumbnailUrl+'">\n                              </a>\n                              '+e+'\n                          </div>\n                          <div class="StandardCoursePromo-info">\n                            <div class="StandardCoursePromo-title">\n                              <a class="Link" href="'+t.url+'" target="_self">'+t.name+'</a>\n                            </div>\n                            <div class="StandardCoursePromo-locationString">'+p.getLocation(t)+'</div>\n                            <div class="StandardCoursePromo-reviewsInfo">\n                                <div class="RatingStarItem">\n                                    <div class="RatingStarItem-stars-wrapper">\n                                        <div class="RatingStarItem-stars"\n                                            data-stars="'+t.reviewStats.stats.overallRating+'"\n                                            style="width:calc(('+t.reviewStats.stats.overallRating+'/5) * 100%);"\n                                        >\n                                            <span class="RatingStarItem-stars-value">'+t.reviewStats.stats.overallRating+'</span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="StandardCoursePromo-numberOfReviews">'+t.reviewStats.stats.ratingsCount+'</div>\n                                <div class="StandardCoursePromo-writeReviewUrl">\n                                    <a class="Link" href="'+t.url+'#write-review" target="_self">Write Review</a>\n                                </div>\n                              </div>\n                            </div>\n                          </div>';a.infowindow=new google.maps.InfoWindow({content:""}),a.addListener("click",function(e){p.hideInfoBox&&!p.mapIsFullscreen()||(d&&d.close(),this.infowindow.setContent(n),this.infowindow.open(m,this),d=this.infowindow)}),g.push(a),null!=p.courseId&&(a.courseId=t.courseId,g.push(a)),l.extend(o)},c=0;c<h;c++)u(c);1===h?m.panTo(l.getCenter()):1<h&&(m.fitBounds(l),p.centerCourse&&p.hideIconsExceptOne(g,p.courseId,m,i,l,f)),window.addEventListener("hashchange",function showMap(){var e=document.getElementById("map");null!=e&&e.offsetHeight&&(1===h?m.panTo(l.getCenter()):1<h&&(m.fitBounds(l),p.centerCourse&&p.hideIconsExceptOne(g,p.courseId,m,i,l,f)),window.removeEventListener("hashchange",showMap))}),null!=p.courseId&&(s=p.mapIsFullscreen(),m.addListener("bounds_changed",function(){var e=p.mapIsFullscreen();e!==s&&((s=e)?g.forEach(function(e){return e.setMap(m)}):(d&&d.close(),p.hideIconsExceptOne(g,p.courseId,m,i,l,f)))}))}})}},{key:"hideIconsExceptOne",value:function hideIconsExceptOne(e,t,n,i,r,o){e.forEach(function(e){return e.setMap(null)});var e=e.filter(function(e){return e.courseId===t});0<e.length&&((e=e[0]).setMap(n),this.centerCourseOnMap(i,e.courseId,r,n),n.setZoom(o))}},{key:"mapIsFullscreen",value:function mapIsFullscreen(){return 150<this.map.querySelector("div").clientHeight}},{key:"centerCourseOnMap",value:function centerCourseOnMap(e,t,n,i){var r=null,e=e.filter(function(e){return e.courseId===t}),e=(r=0<e.length?e[0]:r)?parseFloat(r.latitude):n.getCenter().lat(),n=r?parseFloat(r.longitude):n.getCenter().lng(),n=new google.maps.LatLng(e,n);i.setCenter(n)}},{key:"getTeeLink",value:function getTeeLink(e){for(var t,n=e.length-1;0<=n;n--)"GolfNow"===e[n].provider&&(t=e[n].details.url);return t||e[0].url}},{key:"getLocation",value:function getLocation(e){var t=e.state||"",n="USA"===e.country||null===e.country?"":e.country,i=""!==e.state&&""!==n?", ":"";return e.city+", "+t+i+n}}]),GoogleMap}(),fr={map:{options:{center:{lat:0,lng:0},minZoom:8,maxZoom:16,zoom:12,mapTypeId:"roadmap",mapTypeControl:!0,mapTypeControlOptions:{style:2},panControl:!1,streetViewControl:!1,gestureHandling:"greedy",styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}},sources:{courses:{id:"courses",type:"tiled",resolution:{lat:1,lng:1},prefetch:.5,cleanup:0,scale:.25,debug:!1,debugColor:"#ff0000",enabled:!0,getMarkers:function getMarkers(e,r){S.a.get("/ajax/api/courses/by_bounds?n="+e.getNorthEast().lat()+"&s="+e.getSouthWest().lat()+"&e="+e.getNorthEast().lng()+"&w="+e.getSouthWest().lng(),function(e){for(var t=[],n=0;n<e.data.length;n++){var i=e.data[n],i={position:{lat:i.lat,lng:i.lng},data:i,source:"courses",id:i.id,options:{icon:{url:"//s3.amazonaws.com/gav_static/assets/maps/sprite-markers-v2.png",size:new google.maps.Size(144*.15,25.2),scaledSize:new google.maps.Size(144*.15,176.4),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(72*.15,25.2)}}};t.push(i)}r(t)})},renderInfo:function renderInfo(e){return e.html}},resorts:{id:"resorts",type:"tiled",resolution:{lat:5,lng:5},prefetch:.5,cleanup:0,scale:.25,debug:!1,debugColor:"#ff0000",enabled:!0,getMarkers:function getMarkers(e,r){S.a.get("/ajax/api/resorts/by_bounds?n="+e.getNorthEast().lat()+"&s="+e.getSouthWest().lat()+"&e="+e.getNorthEast().lng()+"&w="+e.getSouthWest().lng(),function(e){for(var t=[],n=0;n<e.data.length;n++){var i=e.data[n],i={position:{lat:i.lat,lng:i.lng},data:i,source:"resorts",id:i.id,options:{icon:{url:"//s3.amazonaws.com/gav_static/assets/maps/sprite-markers-v2.png",size:new google.maps.Size(144*.15,25.2),scaledSize:new google.maps.Size(144*.15,176.4),origin:new google.maps.Point(0,151.2),anchor:new google.maps.Point(72*.15,25.2)}}};t.push(i)}r(t)})},renderInfo:function renderInfo(e){return'<div class="StandardCoursePromo"><div class="StandardCoursePromo-media"><a class="Link" href="'+e.url+'"><img class="Image" src="'+e.image_url+'" width="300" height="200"></a></div><div class="StandardCoursePromo-info"><div class="StandardCoursePromo-title"><a class="Link" href="'+e.url+'">'+e.name+'</a></div><div class="StandardCoursePromo-locationString">'+e.location+"</div></div></div>"}},"driving-ranges":{id:"driving-ranges",type:"tiled",resolution:{lat:1,lng:1},prefetch:.5,cleanup:0,scale:.25,debug:!1,debugColor:"#ff0000",enabled:!0,getMarkers:function getMarkers(e,r){S.a.get("/ajax/api/listings/by_bounds/?n="+e.getNorthEast().lat()+"&s="+e.getSouthWest().lat()+"&e="+e.getNorthEast().lng()+"&w="+e.getSouthWest().lng()+"&category=driving-ranges",function(e){for(var t=[],n=0;n<e.data.length;n++){var i=e.data[n],i={position:{lat:i.lat,lng:i.lng},data:i,source:"driving-ranges",id:i.id,options:{icon:{url:"//s3.amazonaws.com/gav_static/assets/maps/sprite-markers-v2.png",size:new google.maps.Size(144*.15,25.2),scaledSize:new google.maps.Size(144*.15,176.4),origin:new google.maps.Point(0,126),anchor:new google.maps.Point(72*.15,25.2)}}};t.push(i)}r(t)})},renderInfo:function renderInfo(e){return'<div class="StandardCoursePromo"><div class="StandardCoursePromo-media"><a class="Link" href="'+e.url+'"><img class="Image" src="'+e.image_url+'" width="300" height="200"></a></div><div class="StandardCoursePromo-info"><div class="StandardCoursePromo-title"><a class="Link" href="'+e.url+'">'+e.name+'</a></div><div class="StandardCoursePromo-locationString">'+e.location+"</div></div></div>"}}},debug:!1},Lt=function(){function GMap(e,t){c()(this,GMap),this.el=e,this.mapElement=this.el.querySelector(".GMap-map"),this.progressElement=this.el.querySelector(".GMap-progress"),this.loading={},this.loaded={},this.options=S.a.extend(!0,{},fr,t),this.sources=S.a.extend(!0,{},this.options.sources),this.markers={},this.shapes={},this.seq=1,this.highlight={source:this.el.getAttribute("data-gmap-highlight-source"),id:this.el.getAttribute("data-gmap-highlight-id")},this.el.getAttribute("data-gmap-lat")&&(this.options.map.options.center.lat=parseFloat(this.el.getAttribute("data-gmap-lat"))),this.el.getAttribute("data-gmap-lng")&&(this.options.map.options.center.lng=parseFloat(this.el.getAttribute("data-gmap-lng"))),this.init()}return o()(GMap,[{key:"init",value:function init(){var e=this;this.map=new google.maps.Map(this.mapElement,this.options.map.options),this.map.addListener("idle",function(){e.debug("idle"),e.update()})}},{key:"update",value:function update(){for(var e in this.debug("update"),this.sources)"tiled"===this.sources[e].type&&this.updateTiledSource(e)}},{key:"updateProgress",value:function updateProgress(){var e,t;this.progressElement&&(e=Object.keys(this.loading).length,t=Object.keys(this.loaded).length,e&&t&&0<e+t?(t=Math.floor(t/(e+t)*100),S()(this.progressElement).attr("value",t),this.progressElement.innerHTML="".concat(t,"%")):(S()(this.progressElement).attr("value",100),this.progressElement.innerHTML="100%",0===e&&(this.loaded={})))}},{key:"updateTiledSource",value:function updateTiledSource(o){var e,a=this,s=this,t=this.sources[o],n=void 0!==t.debug&&t.debug,l=void 0!==t.debugColor&&t.debugColor,i=void 0!==t.prefetch?t.prefetch:1,r=void 0!==t.scale?t.scale:.25,u=void 0!==t.resolution.lat?t.resolution.lat:1,c=void 0!==t.resolution.lng?t.resolution.lng:1,d=void 0!==t.getMarkers&&t.getMarkers,h=void 0!==t.renderInfo&&t.renderInfo,p=void 0===t.oldDataBounds,f=new google.maps.LatLngBounds(this.map.getCenter(),this.map.getCenter()).extend(new google.maps.LatLng(this.map.getCenter().lat()+this.map.getBounds().toSpan().lat()*r/2,this.map.getCenter().lng()+this.map.getBounds().toSpan().lng()*r/2)).extend(new google.maps.LatLng(this.map.getCenter().lat()-this.map.getBounds().toSpan().lat()*r/2,this.map.getCenter().lng()-this.map.getBounds().toSpan().lng()*r/2)),r=this.map.getBounds(),r=n?f:r,m=void 0!==t.oldDataBounds?t.oldDataBounds:new google.maps.LatLngBounds(new google.maps.LatLng(0,0),new google.maps.LatLng(0,0)),g=new google.maps.LatLngBounds(r.getSouthWest(),r.getNorthEast()).extend(new google.maps.LatLng(Math.ceil((r.getNorthEast().lat()+r.toSpan().lat()*i)/u)*u,Math.ceil((r.getNorthEast().lng()+r.toSpan().lng()*i)/c)*c)).extend(new google.maps.LatLng(Math.floor((r.getSouthWest().lat()-r.toSpan().lat()*i)/u)*u,Math.floor((r.getSouthWest().lng()-r.toSpan().lng()*i)/c)*c));if(n){for(var y in this.shapes){var v=this.shapes[y];v.tags&&v.tags.includes("debug")&&v.tags.includes("debug-"+o)&&(v.setMap(null),delete this.shapes[y])}this.rectangle({map:this.map,bounds:r,fillColor:l,strokeColor:l,zIndex:1,tags:["debug","debug-"+o]}),this.rectangle({map:this.map,bounds:g,fillColor:l,strokeColor:l,zIndex:2,tags:["debug","debug-"+o]})}for(e in this.debug("clearing"),this.markers){var b=this.markers[e];b.source!==o||g.contains(b.getPosition())||(b.setMap(null),delete this.markers[e])}if(t.oldDataBounds=g,!m.contains(g.getSouthWest())||!m.contains(g.getNorthEast())){this.debug("fetching area",o,g.toString());for(var _=g.getSouthWest().lng(),T=g.getSouthWest().lat(),S=g.toSpan().lat(),C=g.toSpan().lng(),w=0;w<S/u;w++)for(var k=function _loop(e){var i,r=new google.maps.LatLngBounds(new google.maps.LatLng(T+w*u,_+e*c),new google.maps.LatLng(T+(w+1)*u,_+(e+1)*c));m.contains(r.getSouthWest())&&m.contains(r.getNorthEast())||!g.contains(r.getSouthWest())||!g.contains(r.getNorthEast())||(i=o+":"+r.toString(),a.loading[i]||(a.loading[i]=new Date,a.updateProgress(),a.debug("fetching tile",o,r.toString()),n&&a.rectangle({map:a.map,bounds:r,fillColor:l,strokeColor:l,zIndex:3,tags:["debug","debug-"+o]}),d(r,function(n){a.debug("processing tile",o,r.toString());for(var e=function _loop2(e){var t=new google.maps.Marker(n[e]);t.addListener("click",function(){s.debug("click",s,this),s.infoWindow||(s.debug("create infowindow"),s.infoWindow=new google.maps.InfoWindow({content:""})),s.infoWindow.open(s.map,t),s.infoWindow.setContent(h(t.data))}),(s.markers[t.source+":"+t.id]=t).setMap(a.map),t.source===s.highlight.source&&""+t.id==""+s.highlight.id&&((e=t.getIcon()).size=new google.maps.Size(1.5*e.size.width,1.5*e.size.height),e.scaledSize=new google.maps.Size(1.5*e.scaledSize.width,1.5*e.scaledSize.height),e.origin=new google.maps.Point(1.5*e.origin.x,1.5*e.origin.y),e.anchor=new google.maps.Point(1.5*e.anchor.x,1.5*e.anchor.y),p&&google.maps.event.trigger(t,"click"))},t=0;t<n.length;t++)e(t);a.debug("processed tile",o,r.toString()),delete a.loading[i],a.loaded[i]=new Date,a.updateProgress()})))},E=0;E<C/c;E++)k(E)}}},{key:"rectangle",value:function rectangle(e){var rectangle=new google.maps.Rectangle({options:e});e.id=e.id||this.seq++,this.shapes[e.id]=rectangle}},{key:"debug",value:function debug(){var e;this.options.debug&&((e=Array.prototype.slice.call(arguments)).unshift("GMAP "+(new Date).toISOString()+" "),console.log.apply(console,e))}}]),GMap}(),Rt=function(){function Modal(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,Modal),this.$el=S()(e),this.settings=S.a.extend({},{selectors:{openModalButton:"[data-open-modal]",closeModalButton:"[data-close-modal]",checkModalButton:"[data-check-modal]",modal:"[data-modal-contents]",mainTitle:".PlanType-title h2",subTitle:".SubscriptionTiersModal-title"}},t),this.init()}return o()(Modal,[{key:"selectors",get:function get(){return this.settings.selectors}},{key:"init",value:function init(){var e=this.$el.find(this.selectors.openModalButton),t=this.$el.find(this.selectors.closeModalButton),n=this.$el.find(this.selectors.checkModalButton),i=this,r=this.$el.find(this.selectors.modal),o=this.$el.find(this.selectors.title),a=this.$el.find(this.selectors.subTitle),s=this.$el.find(this.selectors.mainTitle),l=document.body;S()(n).on("change",function(e){e.target.checked&&(S()(r).attr("data-show","true"),S()(i.$el).attr("data-show","true"),S()(l).attr("data-modal-open","true"))}),S()(e).on("click",function(){S()(r).attr("data-show","true"),S()(i.$el).attr("data-show","true"),S()(l).attr("data-modal-open","true")}),S()(t).on("click",function(){S()(r).removeAttr("data-show"),S()(i.$el).removeAttr("data-show","true"),S()(l).removeAttr("data-modal-open")}),S.a.fn.lastWord=function(){var e=this.text().trim().split(" "),t=e.pop();this.html(e.join(" ")+(0<e.length?" <span class='last-word'>"+t+"</span>":t))},S()(o).lastWord(),S()(a).lastWord(),S()(s).click(function(){if(window.innerWidth<1024)return S()(this).hasClass("active")?(S()(this).parent().siblings().slideUp(),S()(this).removeClass("active")):(S()(this).parent().siblings().slideDown(),S()(this).addClass("active")),!1})}}]),Modal}(),hn=function(){function LockedContentModal(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,LockedContentModal),this.$el=S()(e),this.settings=S.a.extend({},{selectors:{emailField:".EmailInput-input",emailForm:".LockedContentModal-button-started",title:".LockedContentModal-title",subTitle:".SubscriptionTiersModal-title"}},t,e.dataset),this.init()}return o()(LockedContentModal,[{key:"selectors",get:function get(){return this.settings.selectors}},{key:"init",value:function init(){var o=this,t=this.$el.find(this.selectors.emailField),n=this.$el.find(this.selectors.emailForm),e=this.$el.find(this.selectors.title),i=this.$el.find(this.selectors.subTitle);this.$el.find(".LockedContentModal-inputEmail input").on("change paste keyup",function(){o.hideError()}),S()(n).on("click",function(e){e.preventDefault();var i=S()(n).attr("data-new-account"),r=S()(t).val().trim();S()(n).attr("href","".concat(i,"&email=").concat(r)),o.settings.captchaClientKey&&o.settings.emailCheckApiEndpoint?mr(o.settings.captchaClientKey).then(function(){window.grecaptcha.execute(o.settings.captchaClientKey,{action:"verify_email"}).then(function(e){S.a.ajax({url:o.settings.emailCheckApiEndpoint,method:"POST",data:{email:r,captcha:e}}).then(function(e){o.settings.existingUserMessage?o.showError(o.settings.existingUserMessage):window.location.href="".concat(i,"&email=").concat(r)}).fail(function(e,t,n){0===e.readyState?o.showError("Network error. Try again when network access is available."):404!==e.status?(e=e.responseJSON).errorMessage&&o.showError(e.errorMessage):window.location.href="".concat(i,"&email=").concat(r)})})}).fail(function(){window.location.href="".concat(i,"&email=").concat(r)}):window.location.href="".concat(i,"&email=").concat(r)}),S.a.fn.lastWord=function(){var e=this.text().trim().split(" "),t=e.pop();this.html(e.join(" ")+(0<e.length?" <span class='last-word'>"+t+"</span>":t))},S()(e).lastWord(),S()(i).lastWord()}},{key:"showError",value:function showError(e){this.$el.find(".LockedContentModal-inputEmail input").addClass("error"),this.$el.find(".LockedContentModal-inputEmail .error").html(e).show()}},{key:"hideError",value:function hideError(){this.$el.find(".LockedContentModal-inputEmail input").removeClass("error"),this.$el.find(".LockedContentModal-inputEmail .error").empty().hide()}}]),LockedContentModal}(),mr=function loadRecaptcha(e){var t=new S.a.Deferred;return void 0!==window.grecaptcha&&window.___grecaptcha_cfg&&window.___grecaptcha_cfg.auto_render_clients&&window.___grecaptcha_cfg.auto_render_clients[e]?t.resolve():(window.lcmRecaptchaCallback=function(){t.resolve()},S.a.ajax({dataType:"script",cache:!0,url:"https://www.google.com/recaptcha/api.js?render=".concat(e,"&onload=lcmRecaptchaCallback")}).fail(function(){t.reject()})),t.promise()},Sn=function(){function ToggleParentItem(e){c()(this,ToggleParentItem),this.el=e,this.addEvents()}return o()(ToggleParentItem,[{key:"addEvents",value:function addEvents(){var t=this;this.el.addEventListener("click",function(e){e.preventDefault(),t.toggleParent()})}},{key:"toggleParent",value:function toggleParent(){var e=this.el.parentNode;e.hasAttribute("data-open","true")?e.removeAttribute("data-open","false"):e.setAttribute("data-open","true")}}]),ToggleParentItem}(),En=function(){function RatingBars(e){c()(this,RatingBars),this.el=e,this.init()}return o()(RatingBars,[{key:"init",value:function init(){var n=this.el.getAttribute("data-total-stars-bar"),e=this.el.querySelectorAll(".RatingBarItem-stars"),i=0<S()(this.el).closest(".use-percentage-rating-bars").length;e.forEach(function(e){var t=e.getAttribute("data-stars-bar"),t=0===Number(n)?0:t/n*100;i&&(0<t&&(t=t.toFixed(1)),e.innerHTML='<div class="RatingBarItem-stars-value">'+t+"%</div>"),e.style.width=t+"%"})}}]),RatingBars}(),Ln=function(){function RatingSnapshotAnalytics(e){c()(this,RatingSnapshotAnalytics),d()(this,"selectors",{toggles:".RatingSnapshot-tab"}),this.el=e,this.init()}return o()(RatingSnapshotAnalytics,[{key:"init",value:function init(){this.setupEvents()}},{key:"setupEvents",value:function setupEvents(){this.el.querySelectorAll(this.selectors.toggles).forEach(function(e){e.addEventListener("click",function(e){var t="Toggle Rating Snapshot Timeframe to ";"All Time"===e.target.innerText?t+="All Time":"Last 6 Months"===e.target.innerText?t+="6 Months":"Last 12 Months"===e.target.innerText&&(t+="12 Months"),sendGoogleAnalyticsEvent("Rating Snapshot","Toggle Rating Snapshot Timeframe",t)})})}}]),RatingSnapshotAnalytics}();S()("body").on("click",".ReviewItem .interactions-link-comment, .ReviewerItem .interactions-link-comment",function(e){e.preventDefault();var t=S()(e.target).closest("[data-review-id]").attr("data-review-id"),e=S()(e.target).closest("[data-bv-product-id]").attr("data-bv-product-id");$BV.ui("rr","submit_comment",{productId:e,reviewId:t})}),S()("body").on("click",".ReviewItem-reviewUpdate-button",function(e){var t=this.nextElementSibling;""===this.innerHTML?(this.innerHTML="+",t.removeAttribute("data-show")):(this.innerHTML="",t.setAttribute("data-show",!0))});var Vn=function(){function ReviewFeedback(e){c()(this,ReviewFeedback),d()(this,"reportModalTemplate",'\n    <div id="BVReportModal" class="Modal" data-modal>\n      \x3c!-- <button class="Modal-open" data-open-modal aria-label="open">Open Modal</button> --\x3e\n      <div class="Modal-contents" data-modal-contents>\n        <button class="Modal-close" data-close-modal aria-label="close"></button>\n        <div class="Modal-title">Report inappropriate review or comment</div>\n        <div class="Modal-body">\n          <ul class="Modal-items">\n            <li class="Modal-items-item">\n              <div class="TextArea">\n                <label class="TextArea-label">\n                  <textarea class="TextArea-input" name="textarea" placeholder="Reason for reporting"></textarea>\n                </label>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <ul class="Modal-cta">\n          <li class="Modal-cta-item"><a class="Link" href="#" data-cms-ai="0">Report</a></li>\n          <button class="Modal-cancel" data-close-modal aria-label="cancel">Cancel</button>\n        </ul>\n      </div>\n    </div>\n  '),this.el=e,this.init()}return o()(ReviewFeedback,[{key:"init",value:function init(){this.contentType=null,this.contentId=null,this.el.getAttribute("data-comment-id")?(this.contentType="review_comment",this.contentId=this.el.getAttribute("data-comment-id")):this.el.getAttribute("data-review-id")&&(this.contentType="review",this.contentId=this.el.getAttribute("data-review-id")),this.positiveFeedbackElement=this.el.querySelector(".question-link-yes"),this.negativeFeedbackElement=this.el.querySelector(".question-link-no"),this.reportElement=this.el.querySelector("[data-open-report]"),this.updateFromState(),this.setEvents()}},{key:"updateFromState",value:function updateFromState(){var e,t,n,i=this.getState();i&&(e=n=null,t="","positive"===i.v?(n=this.negativeFeedbackElement,e=this.positiveFeedbackElement,t="Helpful"):"negative"===i.v&&(n=this.positiveFeedbackElement,e=this.negativeFeedbackElement,t="Not Helpful"),n&&n.setAttribute("disabled","disabled"),e&&((n=parseInt(e.getAttribute("data-count"),10))<=i.ov&&(e.setAttribute("data-count",n+1),e.innerHTML="".concat(t,' <span data-data-count="').concat(n+1,'" class="vote-count-').concat(i.v,'">(').concat(n+1,")</span>")),e.classList.add("active")))}},{key:"setEvents",value:function setEvents(){var r=this;this.positiveFeedbackElement&&this.positiveFeedbackElement.addEventListener("click",function(e){r.clickHelpfulness("positive")}),this.negativeFeedbackElement&&this.negativeFeedbackElement.addEventListener("click",function(e){r.clickHelpfulness("negative")}),this.reportElement&&this.reportElement.addEventListener("click",function(e){var t=null;"review"===r.contentType?t="Review":"review_comment"===r.contentType&&(t="Review Comment"),sendGoogleAnalyticsEvent("Review Feedback",t+" Report Click",t+" Report Click");var n=document.querySelector("body"),i=n.querySelector("#BVReportModal");i&&i.remove(),n.insertAdjacentHTML("beforeend",r.reportModalTemplate),(i=n.querySelector("#BVReportModal")).querySelector("textarea").value="",i.setAttribute("data-show","true"),n.setAttribute("data-modal-open","true"),i.querySelector(".Modal-cta a").addEventListener("click",function(e){e.preventDefault(),sendGoogleAnalyticsEvent("Review Feedback",t+" Report Submit",t+" Report Submit");e=i.querySelector("textarea").value;S.a.ajax({url:"/ajax/bvp/submitfeedback?FeedbackType=inappropriate&ContentType=".concat(r.contentType,"&ContentId=").concat(r.contentId,"&ReasonText=").concat(e),dataType:"json"}).done(function(e){}).fail(function(){window.alert("Error")}).always(function(){i.removeAttribute("data-show"),n.removeAttribute("data-modal-open")})})})}},{key:"clickHelpfulness",value:function clickHelpfulness(n){var i=this,r=null,o=null,a=null;"positive"===n?(r=this.positiveFeedbackElement,o=this.negativeFeedbackElement,a="Helpful"):"negative"===n&&(r=this.negativeFeedbackElement,o=this.positiveFeedbackElement,a="Not Helpful");var e="";"review"===this.contentType?e="Review Helpfulness Click":"review_comment"===this.contentType&&(e="Review Comment Helpfulness Click");var t=e+" ("+a+")",s="",l=this.getState();l&&l.v===n&&(n="undo",s=l.aid,t=e+" (Undo "+a+")"),sendGoogleAnalyticsEvent("Review Feedback",e,t),S.a.ajax({url:"/ajax/bvp/submitfeedback?FeedbackType=helpfulness&ContentType=".concat(this.contentType,"&ContentId=").concat(this.contentId,"&Vote=").concat(n,"&UserId=").concat(s),dataType:"json"}).done(function(e){var t=parseInt(r.getAttribute("data-count"),10);"undo"!==n?(i.setState({aid:e.Feedback.Helpfulness.AuthorId,ov:t,v:n}),S()(r).empty(),r.setAttribute("data-count",t+1),r.classList.add("active"),o.setAttribute("disabled","disabled"),"Helpful"===a?r.insertAdjacentHTML("afterbegin","".concat(a,' <span data-data-count="').concat(t+1,'" class="vote-count-positive">(').concat(t+1,")</span>")):r.insertAdjacentHTML("afterbegin","".concat(a,' <span data-data-count="').concat(t+1,'" class="vote-count-negative">(').concat(t+1,")</span>"))):(i.deleteState(),S()(r).empty(),r.setAttribute("data-count",t-1),r.classList.remove("active"),o.removeAttribute("disabled"),"Helpful"===a?r.insertAdjacentHTML("afterbegin","".concat(a,' <span data-data-count="').concat(t-1,'" class="vote-count-positive">(').concat(t-1,")</span>")):r.insertAdjacentHTML("afterbegin","".concat(a,' <span data-data-count="').concat(t-1,'" class="vote-count-negative">(').concat(t-1,")</span>")))}).fail(function(){window.alert("Error")})}},{key:"getState",value:function getState(){var e=Ie.a.get(this.getStateKey());if(e)try{return JSON.parse(e)}catch(e){return null}return null}},{key:"setState",value:function setState(e){Ie.a.set(this.getStateKey(),JSON.stringify(e),{expires:.25})}},{key:"deleteState",value:function deleteState(){Ie.a.remove(this.getStateKey())}},{key:"getStateKey",value:function getStateKey(){return"f-".concat(this.contentType,"-").concat(this.contentId)}}]),ReviewFeedback}(),W=function(){function ReviewList(e){c()(this,ReviewList),this.el=e,this.init(),this.addEvents()}return o()(ReviewList,[{key:"init",value:function init(){this.setupFilterCheckboxes(),this.setupSortSelect(),this.setupExpanders(),this.fixPaginationInTabs(),S()(window).bind("load",function(){var e=getUrlParameter("reviewid");""===e||(t=document.querySelector('[data-review-id="'+e+'"]'))&&(t.classList.add("highlight"),S()("html, body").animate({scrollTop:S()(t).offset().top},1e3));var t=getUrlParameter("commentid");""===t||(t=document.querySelector('[data-comment-id="'+t+'"]'))&&(t.classList.add("highlight"),S()("html, body").animate({scrollTop:S()(t).offset().top},1e3))})}},{key:"setupExpanders",value:function setupExpanders(){var e=this.el.querySelectorAll(".ReviewComment-description"),t=this.el.querySelectorAll(".ReviewItem-description"),n=this.el.querySelectorAll(".ReviewerItem-description");function addShowMore(e,t,n){var i=document.createElement("a");i.setAttribute("href","#"),i.className="showMoreLink showMoreLink-".concat(t,"-").concat(n),i.innerHTML="Show All",Number(e.innerText.length)<=Number(208)?S()(".".concat(i.className)).hide():(e.parentNode.setAttribute("data-hide","true"),S()(e).after(i.cloneNode(!0)))}e.forEach(function(e,t){addShowMore(e,t,"comment")}),t.forEach(function(e,t){addShowMore(e,t,"review")}),n.forEach(function(e,t){addShowMore(e,t,"reviewer")})}},{key:"setupFilterCheckboxes",value:function setupFilterCheckboxes(){["IsRecommended","Rating","Handicap","Age","SkillLevel","Gender"].forEach(function checkCheckbox(t){var n=this;getQueryStringVariables(t).forEach(function(e){n.el.querySelector('.ReviewFilterForm input[name="'+t+'"][value="'+e+'"]').checked=!0})},this)}},{key:"setupSortSelect",value:function setupSortSelect(){for(var e=this.el.querySelector(".ReviewSortForm select"),t=decodeURIComponent(getQueryStringVariables("sort")[0]),n=0;n<e.options.length;n++)if(e.options[n].value===t){e.selectedIndex=n;break}}},{key:"addEvents",value:function addEvents(){this.addShowMoreEvents(),this.addFilterEvents(),this.addSortEvents()}},{key:"addShowMoreEvents",value:function addShowMoreEvents(){function linkUpdate(e){e.preventDefault(),"Show All"===this.innerHTML?(this.innerHTML="Show Less",this.className="showLessLink",this.parentNode.setAttribute("data-hide","false"),sendGoogleAnalyticsEvent("Expander","Expand","Expand Review Text")):(this.innerHTML="Show All",this.className="showMoreLink",this.parentNode.setAttribute("data-hide","true"),sendGoogleAnalyticsEvent("Expander","Collapse","Collapse Review Text"))}this.el.querySelectorAll(".showMoreLink").forEach(function(e){return e.addEventListener("click",linkUpdate)})}},{key:"addFilterEvents",value:function addFilterEvents(){var t=this,e=this.el.querySelector(".ReviewFilterForm-buttons-submit");e&&e.addEventListener("click",function(e){sendGoogleAnalyticsEvent("Reviews List","Sort / Filter","Filter"),e.preventDefault(),t.dynamicallyLoadResults()})}},{key:"addSortEvents",value:function addSortEvents(){var t=this,e=this.el.querySelector(".ReviewSortForm select");e&&e.addEventListener("change",function(e){sendGoogleAnalyticsEvent("Reviews List","Sort / Filter","Sort"),e.preventDefault(),t.dynamicallyLoadResults()})}},{key:"dynamicallyLoadResults",value:function dynamicallyLoadResults(){var i=this,e=S()(this.el.querySelector(".ReviewFilterForm form")).serialize(),t=S()(this.el.querySelector(".ReviewSortForm form")).serialize(),t=window.location.origin+window.location.pathname+"?"+e+"&"+t;window.history.pushState&&window.history.pushState({},"",t),S.a.ajax({url:t}).done(function(e){var t=(new window.DOMParser).parseFromString(e,"text/html"),n=i.el.querySelector(".ReviewList-items"),e=t.querySelector(".ReviewList-items");null==e&&((e=document.createElement("div")).innerHTML='<div class="ReviewList-items"></div>'),n.parentNode.replaceChild(e,n);n=i.el.querySelector(".ReviewList-pagination"),t=t.querySelector(".ReviewList-pagination");n.parentNode.replaceChild(t,n),i.setupExpanders()})}},{key:"fixPaginationInTabs",value:function fixPaginationInTabs(){var t,e=S()(this.el).closest(".NavTabs-content-panel");!e||(t=e.attr("id"))&&S()(this.el).find(".ReviewList-pagination a").each(function(){var e=S()(this);e.attr("href",e.attr("href")+"#"+t)})}}]),ReviewList}(),r=function(){function CourseAbout(e){c()(this,CourseAbout),this.el=e,this.init(),this.addEvents()}return o()(CourseAbout,[{key:"init",value:function init(){var e=[];e[0]=[this.el.querySelector(".CourseAbout-bestLists-content"),64],e[1]=[this.el.querySelector(".CourseAbout-courseDetails-content"),136],e.forEach(function(e){e[0]&&function addShowMore(e,t){var n=document.createElement("a");n.setAttribute("href","#"),n.className="showMoreLink",n.innerHTML="Show All",e.clientHeight>t&&(e.parentNode.setAttribute("data-hide","true"),e.parentNode.insertBefore(n.cloneNode(!0),e.nextSibling))}(e[0],e[1])})}},{key:"addEvents",value:function addEvents(){function linkUpdate(e){e.preventDefault(),"Show All"===this.innerHTML?(this.innerHTML="Show Less",this.className="showLessLink",this.parentNode.setAttribute("data-hide","false"),this.parentNode.classList.contains("CourseAbout-courseDetails")?sendGoogleAnalyticsEvent("Expander","Expand","Expand Course Description"):sendGoogleAnalyticsEvent("Course Info","Toggle More Info","Toggle More Info (Expand)")):(this.innerHTML="Show All",this.className="showMoreLink",this.parentNode.setAttribute("data-hide","true"),this.parentNode.classList.contains("CourseAbout-courseDetails")?sendGoogleAnalyticsEvent("Expander","Collapse","Collapse Course Description"):sendGoogleAnalyticsEvent("Course Info","Toggle More Info","Toggle More Info (Collapse)"))}this.el.querySelectorAll(".showMoreLink").forEach(function(e){return e.addEventListener("click",linkUpdate)})}}]),CourseAbout}(),gr=function(){function LocalHistory(){c()(this,LocalHistory)}return o()(LocalHistory,null,[{key:"push",value:function push(i,r,e){var o=null,a=null,s=LocalHistory.getUserId();return e&&(e.success&&(o=e.success),e.error&&(a=e.error),e.context&&(s=e.context)),new Promise(function(e,t){if(LocalHistory.supported()){var n=[];try{n=JSON.parse(window.localStorage.getItem("_lh:"+i+":"+s))||[]}catch(e){}n.unshift(r),window.localStorage.setItem("_lh:"+i+":"+s,JSON.stringify(n.slice(0,500))),e(),o&&o()}else t(),a&&a()})}},{key:"items",value:function items(i,e){var r=null,o=LocalHistory.getUserId();return e&&(e.success&&(r=e.success),e.context&&(o=e.context)),new Promise(function(e,t){var n=[];try{n=JSON.parse(window.localStorage.getItem("_lh:"+i+":"+o))||[]}catch(e){}e(n),r&&r(n)})}},{key:"supported",value:function supported(){if(void 0!==LocalHistory.SUPPORTED)return LocalHistory.SUPPORTED;if(LocalHistory.SUPPORTED=!1,void 0!==window.localStorage)try{window.localStorage.setItem("_test","_test"),window.localStorage.removeItem("_test"),LocalHistory.SUPPORTED=!0}catch(e){}return LocalHistory.SUPPORTED}},{key:"getUserId",value:function getUserId(){if(void 0!==LocalHistory.UID)return LocalHistory.UID;LocalHistory.UID=LocalHistory.getAnonymousUserId();var e=Ie.a.get("bv_token");return e&&((e=LocalHistory.hex2ascii(e).match(/userid=([a-f0-9-]*)/i))&&(LocalHistory.UID=e[1].toLowerCase())),LocalHistory.UID}},{key:"getAnonymousUserId",value:function getAnonymousUserId(){return"anonymous"}},{key:"hex2ascii",value:function hex2ascii(e){for(var t=e.toString(),n="",i=0;i<t.length&&"00"!==t.substr(i,2);i+=2)n+=String.fromCharCode(parseInt(t.substr(i,2),16));return n}}]),LocalHistory}();window.LocalHistory=gr;a=function(){function CoursePage(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,CoursePage),this.$el=S()(e),this.settings=S.a.extend({},{selectors:{openModalButtonWrite:".WriteReviewModal-open",openModalButtonLayout:".CourseAbout-layout",closeModalButtonLayout:".CourseLayoutModal .Modal-close",modalLayout:".CourseLayoutModal",openModalButtonTee:".CourseAbout-tees",closeModalButtonTee:".CourseTeesModal .Modal-close",modalTee:".CourseTeesModal",openModalButtonScorecard:".CourseAbout-scorecard",closeModalButtonScorecard:".CourseScorecardModal .Modal-close",modalScorecard:".CourseScorecardModal",pageBody:"body"}},t),this.init()}return o()(CoursePage,[{key:"selectors",get:function get(){return this.settings.selectors}},{key:"init",value:function init(){var e=this.$el.find(this.selectors.openModalButtonWrite),t=this.$el.find(this.selectors.openModalButtonLayout),n=this.$el.find(this.selectors.closeModalButtonLayout),i=this.$el.find(this.selectors.modalLayout),r=this.$el.find(this.selectors.openModalButtonTee),o=this.$el.find(this.selectors.closeModalButtonTee),a=this.$el.find(this.selectors.modalTee),s=this.$el.find(this.selectors.openModalButtonScorecard),l=this.$el.find(this.selectors.closeModalButtonScorecard),u=this.$el.find(this.selectors.modalScorecard),c=S()(this.selectors.pageBody),d=(this.$el.find(this.selectors.getBadge).first(),S()("[data-bv-product-id]").first().attr("data-bv-product-id")),h=S()('meta[itemprop="reviewCount"]').attr("content"),p=document.querySelectorAll(".CoursePage-pageLeadByline .RatingStarItem-total.mobile"),f=S()("span[data-total-review]").toArray(),m=S()(".RatingSnapshotItem-stars .RatingStarItem-total.mobile").toArray(),g=this,y=(y=Math.ceil(100*h)/1e5).toFixed(1);window.innerWidth<568?(999<h?S()(p).text("(".concat(y,"K)")):S()(p).text("(".concat(h,")")),f.forEach(function(e,t){var e=Number(e.innerHTML.trim());999<e?(e=(e=Math.ceil(100*e)/1e5).toFixed(1),m[t].innerHTML="(".concat(e,"K)")):m[t].innerHTML="(".concat(f[t].innerHTML.trim(),")")})):(S()(p).text(h),f.forEach(function(e,t){m[t].innerHTML=f[t].innerHTML.trim()+" Reviews"})),S()(window).resize(function(){window.innerWidth<568?(999<h?S()(p).text("(".concat(y,"K)")):S()(p).text("(".concat(h,")")),f.forEach(function(e,t){var e=Number(e.innerHTML.trim());999<e?(e=(e=Math.ceil(100*e)/1e5).toFixed(1),m[t].innerHTML="(".concat(e,"K)")):m[t].innerHTML="(".concat(f[t].innerHTML.trim(),")")}),S()(".RatingSnapshot-tab").click(function(){S()("html, body").animate({scrollTop:S()(".RatingSnapshot").offset().top-60},100)})):(S()(p).text(h),f.forEach(function(e,t){m[t].innerHTML=f[t].innerHTML.trim()+" Reviews"}))});for(var v=S()(".CoursePage-pageHyperlinks .Link").toArray(),b=[],_=["Rating","About","Reviews","More"],T=0;T<v.length;T++)b.push(v[T].innerHTML);window.innerWidth<568?v.forEach(function(e,t){e.innerHTML=_[t]}):v.forEach(function(e,t){e.innerHTML=b[t]}),S()(window).resize(function(){window.innerWidth<568?v.forEach(function(e,t){e.innerHTML=_[t]}):v.forEach(function(e,t){e.innerHTML=b[t]})}),-1!==window.location.href.indexOf("#tees")&&this.openModalDialog(a,c),-1!==window.location.href.indexOf("#scorecard")&&this.openModalDialog(u,c),-1!==window.location.href.indexOf("#layout")&&g.openLayoutModal(i,c),-1!==window.location.href.indexOf("#write-review")&&$BV.ui("rr","submit_review",{productId:d}),S()(t).click(function(){g.openLayoutModal(i,c)}),S()(e).click(function(){$BV.ui("rr","submit_review",{productId:d})}),S()(r).click(function(){sendGoogleAnalyticsEvent("Tees","Open Tees","Open Course Tees"),g.openModalDialog(a,c)}),S()(s).click(function(){sendGoogleAnalyticsEvent("Scorecard","Open Scorecard","Open Course Scorecard"),g.openModalDialog(u,c)}),S()(n).click(function(){S()(i).removeAttr("data-show"),S()(c).removeAttr("data-modal-open")}),S()(o).click(function(){S()(a).removeAttr("data-show"),S()(c).removeAttr("data-modal-open")}),S()(l).click(function(){S()(u).removeAttr("data-show"),S()(c).removeAttr("data-modal-open")}),S()(".CoursePageSidebar-map").click(function(){sendGoogleAnalyticsEvent("Map","Open Map","Open Map From Course Page");var n=this;Cn()({key:getGoogleMapsApiKey(),libraries:["places","visualization"]}).then(function(e){var t='\n              <div id="MapModal" class="Modal MapModal" data-modal>\n                  <div class="Modal-contents MapModal-contents">\n                      <button class="Modal-close MapModal-close" data-close-modal aria-label="close"></button>\n                      <div class="Modal-title MapModal-title">Map</div>\n                      <div class="MapModal-content">\n                          <div class="GMap"\n                                data-gmap-lat="'.concat(S()(n).attr("data-latitude"),'"\n                                data-gmap-lng="').concat(S()(n).attr("data-longitude"),'"\n                                data-gmap-highlight-source="courses"\n                                data-gmap-highlight-id="').concat(S()(n).attr("data-course-id"),'"\n                          >\n                              <div class="GMap-map"></div>\n                              <progress class="GMap-progress" max="100"></progress>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n        ');S()("#MapModal").remove(),S()("body").append(S()(t)),S()("#MapModal").attr("data-show","true"),S()("body").attr("data-modal-open","true"),S()("#MapModal .Modal-close").click(function(){S()("#MapModal").remove(),S()("body").attr("data-modal-open","false")})})});o=window.location.pathname.replace(/.*\/courses\//,"").replace(/-.*/,""),l=[];l.push(S()('[itemprop="addressLocality"]').attr("content")),l.push(S()('[itemprop="addressRegion"]').attr("content")),l.push(S()('[itemprop="addressCountry"]').attr("content"));l=S()("h1").first().text().trim()+" in "+l.filter(function(e){return e}).join(", ");gr.push("viewed",{type:"course",id:o,label:l,url:"/courses/"+o,time:(new Date).toISOString()}),S()(".RatingSnapshot-tab").click(function(){window.innerWidth<=568&&S()("html, body").animate({scrollTop:S()(".RatingSnapshot").offset().top-60},100)}),S()(".CoursePage-golfpassPerks").click(function(){S()(".GolfPassPerksModal").attr("data-show","true"),S()(c).attr("data-modal-open","true"),sendGoogleAnalyticsEvent("Membership Benefits","Open Membership Benefits Modal","Open Membership Benefits Modal (Course Page)")}),S()(".GolfPassPerksModal-intro a").click(function(){var e=S()(this).closest("[data-membership-label]").attr("data-membership-label"),t=S()(this).text();sendGoogleAnalyticsEvent("Membership Benefits","Membership Benefits Link Click (".concat(e,")"),"Membership Benefits Link Click (".concat(e," > Intro > ").concat(t,")"))}),S()(".GolfPassPerksModal-cta a").click(function(){var e=S()(this).closest("[data-membership-label]").attr("data-membership-label"),t=S()(this).text();sendGoogleAnalyticsEvent("Membership Benefits","Membership Benefits Link Click (".concat(e,")"),"Membership Benefits Link Click (".concat(e," > CTA > ").concat(t,")"))})}},{key:"openLayoutModal",value:function openLayoutModal(i,e){var r=this;S()(i).attr("data-show","true"),S()(e).attr("data-modal-open","true");try{this.refreshLayoutAds(i)}catch(e){}sendGoogleAnalyticsEvent("Layouts","Open Layout","Open Course Layout"),Cn()({key:getGoogleMapsApiKey(),libraries:["places","visualization"]}).then(function(e){var t=i.attr("data-course-id"),t="/ajax/course-layout/?id=".concat(t);S.a.when(CoursePage.loadLayoutLibrary(),S.a.get(t)).done(function(e,t){var n={callback:function layoutMapCallback(e){r.refreshLayoutAds(i),sendGoogleAnalyticsEvent("Layouts",e.action,e.label)}};new CourseLayout(".CourseLayoutModal-map",t[0].results[0],n)})})}},{key:"refreshLayoutAds",value:function refreshLayoutAds(e){S()(e).find(".GoogleDfpAd").each(function f(){googletag.display(this.id),googletag.pubads().refresh([googleDfpSlots[this.dataset.slotName]])})}},{key:"openModalDialog",value:function openModalDialog(e,t){S()(e).attr("data-show","true"),S()(t).attr("data-modal-open","true")}}]),CoursePage}();d()(a,"loadLayoutLibrary",function(){var e=new S.a.Deferred;return"undefined"!=typeof CourseLayouts?e.resolve():S.a.ajax({dataType:"script",cache:!0,url:"https://res.golfadvisor.com/js/lw/0.2/lw.min.js"}).then(function(){e.resolve()}).fail(function(){e.reject()}),e.promise()});var s=function(){function CourseScorecard(e){c()(this,CourseScorecard),this.el=e,this.settings={selectors:{metricsSelect:".CourseScorecard-metrics select",items:".CourseScorecard-items"}},this.init()}return o()(CourseScorecard,[{key:"selectors",get:function get(){return this.settings.selectors}},{key:"init",value:function init(){var n=this;this.metricsSelect=this.el.querySelector(this.selectors.metricsSelect),this.items=this.el.querySelector(this.selectors.items),this.originalItemsInYards=[];for(var i=this.items.querySelectorAll("tr"),e=function _loop(e){if(n.skipRow(i[e].querySelector("td").innerText))return"continue";var t=[];i[e].querySelectorAll("td:not(:first-child)").forEach(function(e){return t.push(Number(e.innerText))}),n.originalItemsInYards.push(t)},t=0;t<i.length;t++)e(t);this.setUpEvents()}},{key:"setUpEvents",value:function setUpEvents(){var c=this;this.metricsSelect.addEventListener("change",function(){if("yards"===c.metricsSelect.value){sendGoogleAnalyticsEvent("Scorecard","Toggle Scorecard Metrics","Toggle Scorecard Metrics 1");for(var e=c.items.querySelectorAll("tr"),t=0;t<e.length;t++)if(!c.skipRow(e[t].querySelector("td").innerText))for(var n=e[t].querySelectorAll("td:not(:first-child)"),i=0;i<n.length;i++){var r=Math.round(c.originalItemsInYards[t][i]);0===r&&(r=""),n[i].innerText=r}}else if("meters"===c.metricsSelect.value){sendGoogleAnalyticsEvent("Scorecard","Toggle Scorecard Metrics","Toggle Scorecard Metrics 0.9144");for(var o=c.items.querySelectorAll("tr"),a=0;a<o.length;a++)if(!c.skipRow(o[a].querySelector("td").innerText))for(var s=o[a].querySelectorAll("td:not(:first-child)"),l=0;l<s.length;l++){var u=Math.round(.9144*c.originalItemsInYards[a][l]);0===u&&(u=""),s[l].innerText=u}}})}},{key:"skipRow",value:function skipRow(e){return"Handicap"===e||"Par"===e||"Handicap (W)"===e||"Par (W)"===e}}]),CourseScorecard}(),yr=function(){function Geocoder(e){c()(this,Geocoder),void 0!==e&&(this.geocoder=e)}return o()(Geocoder,[{key:"getGeocoder",value:function getGeocoder(){var i=this;return new Promise(function(t,n){i.geocoder?t(i.geocoder):"undefined"!=typeof google&&void 0!==google.maps&&void 0!==google.maps.Geocoder?(i.geocoder=new google.maps.Geocoder,t(i.geocoder)):Cn()({key:getGoogleMapsApiKey(),libraries:["places"]}).then(function(e){i.geocoder=new e.Geocoder,t(i.geocoder)}).catch(function(e){n(e)})})}},{key:"geocode",value:function geocode(t){var e=this;return new Promise(function(l,u){e.getGeocoder().then(function(e){e.geocode({address:t},function(e,t){if(t===google.maps.GeocoderStatus.OK)if(0<e.length){for(var n=[],i=0;i<e.length;i++){for(var r=e[i],o={lat:r.geometry.location.lat(),latitude:r.geometry.location.lat(),lng:r.geometry.location.lng(),longitude:r.geometry.location.lng()},a=0;a<r.address_components.length;a++){var s=r.address_components[a];(0<=s.types.indexOf("sublocality")||0<=s.types.indexOf("locality"))&&!o.city&&(o.city=s.short_name||s.long_name||""),0<=s.types.indexOf("country")&&(o.country=s.long_name,o.country_code=s.short_name),0<=s.types.indexOf("administrative_area_level_1")&&(o.state=s.long_name,o.state_code=s.short_name)}o.formatted_location=r.formatted_address,n.push(o)}0<n.length?l(n):u("No results matching criteria")}else u("No results");else u("Geocoding error")})}).catch(function(e){u(e)})})}},{key:"reverseGeocode",value:function reverseGeocode(e,t){var n=this,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["locality"],i={lat:parseFloat(e),lng:parseFloat(t)};return new Promise(function(u,c){n.getGeocoder().then(function(e){e.geocode({location:i},function(e,t){if(t===google.maps.GeocoderStatus.OK)if(0<e.length){for(var n=0;n<e.length;n++)for(var i=0;i<d.length;i++){var r=e[n],o=d[i];if(0<=r.types.indexOf(o)){for(var a={lat:r.geometry.location.lat(),latitude:r.geometry.location.lat(),lng:r.geometry.location.lng(),longitude:r.geometry.location.lng()},s=0;s<r.address_components.length;s++){var l=r.address_components[s];(0<=l.types.indexOf("sublocality")||0<=l.types.indexOf("locality"))&&!a.city&&(a.city=l.short_name||l.long_name||""),0<=l.types.indexOf("country")&&(a.country=l.long_name,a.country_code=l.short_name),0<=l.types.indexOf("administrative_area_level_1")&&(a.state=l.long_name,a.state_code=l.short_name)}a.formatted_location=r.formatted_address,u(a)}}c("No results matching criteria")}else c("No results");else c("Geocoding error")})}).catch(function(e){c(e)})})}}]),Geocoder}();window.Geocoder=yr;var vr={debug:!1,cacheBackend:"cookie",cacheKey:"geo",cacheExpires:1,cacheExpiresMultipliers:{manual:7,forced:7},services:["cache","maxmind","gn","html5"],successEvent:"Geolocator.success",failEvent:"Geolocator.fail"},br=function(){function Geolocator(e){c()(this,Geolocator),this.settings=S.a.extend(!0,{},vr,e)}return o()(Geolocator,[{key:"deleteCache",value:function deleteCache(){this.debug("Geolocator.deleteCache"),Ie.a.remove(this.settings.cacheKey)}},{key:"toCache",value:function toCache(e){var t;this.debug("Geolocator.toCache",e),"cookie"===this.settings.cacheBackend&&(t=this.settings.cacheExpires,e&&e._source&&this.settings.cacheExpiresMultipliers[e._source]&&(t*=this.settings.cacheExpiresMultipliers[e._source]),this.debug("Cookies.set",this.settings.cacheKey,JSON.stringify(e),{expires:t}),Ie.a.set(this.settings.cacheKey,JSON.stringify(e),{expires:t}))}},{key:"fromCache",value:function fromCache(){var i=this;return this.debug("Geolocator.fromCache"),new Promise(function(e,t){if("cookie"===i.settings.cacheBackend)try{var n;void 0===Ie.a.get(i.settings.cacheKey)?(i.debug("Geolocator.fromCache.reject (No cache)"),t("No cache")):(n=JSON.parse(Ie.a.get(i.settings.cacheKey)),i.debug("Geolocator.fromCache.resolve",n),e(n))}catch(e){i.debug("Geolocator.fromCache.reject (Invalid cache)",e),t("Invalid cache")}else i.debug("Geolocator.fromCache.reject (No cache configured)"),t("No cache configured")})}},{key:"fromMaxmind",value:function fromMaxmind(){var o=this;return this.debug("Geolocator.fromMaxmind"),new Promise(function(i,r){o.settings.services.indexOf("maxmind")<0?(o.debug("Geolocator.fromMaxmind Disabled"),r("Disabled")):"undefined"!=typeof geoip2?geoip2.city(function(e){var t,n={};e.location.latitude&&e.location.longitude?(n.latitude=n.lat=e.location.latitude,n.longitude=n.lng=e.location.longitude,n.city=e.city.names.en,n.country=e.country.names.en,n.country_code=e.country.iso_code,t=[],n.city&&t.push(n.city),e.subdivisions&&e.subdivisions[0].names.en&&t.push(e.subdivisions[0].names.en),n.country&&t.push(n.country),n.formatted_location=t.slice(0,2).join(", "),n._source="maxmind",n._timestamp=(new Date).getTime(),n._version="1",o.debug("Geolocator.fromMaxmind.resolve",n),i(n)):(o.debug("Geolocator.fromMaxmind.reject (No coords"),r("No coords"))},function(e){o.debug("Geolocator.fromMaxmind.reject",e),r(e)},{w3cGeolocationDisabled:!0}):(o.debug("Geolocator.fromMaxmind.reject API Unavailable"),r("API Unavailable"))})}},{key:"fromGN",value:function fromGN(){var o=this;return this.debug("Geolocator.fromGN"),new Promise(function(i,r){o.settings.services.indexOf("gn")<0?(o.debug("Geolocator.fromGN Disabled"),r("Disabled")):S.a.ajax({url:"https://gp.golfadvisor.com/gn/wg/gip"}).done(function(e){var t,n={};e.Latitude&&e.Longitude?(n.latitude=n.lat=e.Latitude,n.longitude=n.lng=e.Longitude,n.city=e.CityName,n.country=e.Country,n.country_code=e.CountryCode,t=[],n.city&&t.push(n.city),e.StateProvinceCode&&!/^[0-9]+$/.test(e.StateProvinceCode)&&t.push(e.StateProvinceCode),n.country&&t.push(n.country),n.formatted_location=t.slice(0,2).join(", "),n._source="gn",n._timestamp=(new Date).getTime(),n._version="1",o.debug("Geolocator.fromGN.resolve",n),i(n)):(o.debug("Geolocator.fromGN.reject (No coords"),r("No coords"))}).fail(function(e){o.debug("Geolocator.fromGN.reject",e),r(e)})})}},{key:"fromHTML5",value:function fromHTML5(){var r=this;return this.debug("Geolocator.fromHTML5"),new Promise(function(n,i){r.settings.services.indexOf("html5")<0?(r.debug("Geolocator.fromHTML5 Disabled"),i("Disabled")):navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var t;e.coords.accuracy&&e.coords.accuracy<5e4?(t={lat:e.coords.latitude,latitude:e.coords.latitude,lng:e.coords.longitude,longitude:e.coords.longitude},(new yr).reverseGeocode(e.coords.latitude,e.coords.longitude,["postal_code","sublocality","locality"]).then(function(e){e._source="html5",e._timestamp=(new Date).getTime(),e._version="1",r.debug("Geolocator.fromHTML5.resolve with reverse geocode",e),n(e)},function(){t._source="html5",t.city="",t.country="",t.country_code="",t.formatted_location=t.latitude+", "+t.longitude,t._timestamp=(new Date).getTime(),t._version="1",r.debug("Geolocator.fromHTML5.resolve without reverse geocode",t),n(t)})):(r.debug("Geolocator.fromHTML5.reject (Inaccurate geolocation)"),i("Inaccurate geolocation"))},function(e){r.debug("Geolocator.fromHTML5.reject",e),i(e)}):(r.debug("Geolocator.fromHTML5.reject (No navigator.geolocation service)"),i("No navigator.geolocation service"))})}},{key:"geolocateFromService",value:function geolocateFromService(e){return"cache"===e?this.fromCache():"html5"===e?this.fromHTML5():"maxmind"===e?this.fromMaxmind():"gn"===e?this.fromGN():void 0}},{key:"geolocateFromServices",value:function geolocateFromServices(n){var i=this;return new Promise(function(t,e){0===n.length&&e(),i.geolocateFromService(n[0]).then(function(e){t(e)}).catch(function(){i.geolocateFromServices(n.slice(1)).then(t).catch(e)})})}},{key:"geolocate",value:function geolocate(){var i=this,r=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.debug("Geolocator.geolocate"),new Promise(function(t,n){var e;i.forcedData?(e=Promise.resolve(i.forcedData),i.forcedData=null):e=i.geolocateFromServices(i.settings.services),e.then(function(e){i.toCache(e),i.settings.successEvent&&!r&&S()(document).trigger(i.settings.successEvent,e),t(e)}).catch(function(e){i.settings.failEvent&&!r&&S()(document).trigger(i.settings.failEvent,e),n(e)})})}},{key:"set",value:function set(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.forcedData=e,this.geolocate(t)}},{key:"reset",value:function reset(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.settings.cacheBackend&&this.deleteCache(),this.geolocate(e)}},{key:"debug",value:function debug(){this.settings.debug&&console.log.apply(console,arguments)}}]),Geolocator}();window.Geolocator=br;u=function(){function CoursesNearMe(e){var n=this;c()(this,CoursesNearMe),d()(this,"selectors",{openModalButton:"[data-open-modal]",closeModalButton:"[data-close-modal]",modal:"[data-modal-contents]",pageBody:"body",loading:".CoursesNearMe-loading",content:".CoursesNearMe-contents"}),this.el=e,this.options={radius:parseInt(e.getAttribute("data-radius"))||30,maxItems:parseInt(e.getAttribute("data-max-items"))||null,adsLimit:parseInt(e.getAttribute("data-ads-limit"))||2,displayEmptyTabs:function booleanFromString(e){if(void 0===e||!e)return!1;if("string"==typeof e||e instanceof String){try{if(JSON.parse(e))return!0}catch(e){}return!1}}(e.getAttribute("data-display-empty-tabs")),isCarousel:e.getAttribute("data-carousel")||!1},this.tabs={"top-rated":{label:"Top Rated",anchor:"top-rated",criteria:"Courses with the highest golfer ratings (minimum "+(parseInt(e.getAttribute("data-top-rated-min-reviews"))||10)+" reviews to qualify)","no-content-message":"No top rated courses found near you.","max-items":parseInt(e.getAttribute("data-top-rated-limit"))||10,"min-reviews":parseInt(e.getAttribute("data-top-rated-min-reviews"))||10},"most-rated":{label:"Most Reviewed",anchor:"most-rated",criteria:"Courses with the most golfer reviews","no-content-message":"No courses with reviews found near you.","max-items":parseInt(e.getAttribute("data-most-rated-limit"))||10},"most-improved":{label:"Most Improved",anchor:"most-improved",criteria:"Most improved overall rating in past 3 months compared to same period all-time","no-content-message":"No improved courses found near you.","max-items":parseInt(e.getAttribute("data-most-improved-limit"))||10},"not-rated":{label:"Not Rated",anchor:"not-rated",criteria:"Courses with no reviews. Help these courses by submitting reviews","no-content-message":"No courses without reviews found near you.","max-items":parseInt(e.getAttribute("data-not-rated-limit"))||10},all:{label:"All Courses",anchor:"all",criteria:"All courses in the area","no-content-message":"No courses found near you"}},this.autocomplete=null,this.geocoder=null,this.modal=S()(this.el).find(this.selectors.modal),this.pageBody=S()(this.selectors.pageBody),S()(this.el).on("click",this.selectors.openModalButton,function(){n.initializeManualSetting(),n.modal.attr("data-show","true"),n.pageBody.attr("data-modal-open","true")}),S()(this.el).on("click",this.selectors.closeModalButton,function(){n.modal.removeAttr("data-show"),n.pageBody.removeAttr("data-modal-open")}),S()(this.el).on("click","a[data-tab]",function(e){sendGoogleAnalyticsEvent("Near Courses","Click Tab","Click Tab "+(S()(this).text()||"N/A").trim())}),S()(document).on("Geolocator.success",function(e,t){S()(n.el).find(".CoursesNearMe-title-location-text").text(t.formatted_location),n.fetchData(t.lat,t.lng,t.formatted_location)}),S()(document).on("Geolocator.fail",function(e,t){S()(n.el).find(".CoursesNearMe-title-location-text").text("Unknown Location"),S()(n.el).find(n.selectors.content).append(S()('\n                <div class="CoursesNearMe-message">\n                '.concat(n.el.dataset.infoIcon,'\n                  <div class="CoursesNearMe-message-text">Could not determine your location. <a class="Link" href="#" data-open-modal>Set your location</a></div>\n                </div>\n        '))),S()(n.el).find(n.selectors.content).show(),S()(n.el).find(n.selectors.loading).hide()}),this.geolocator=new br,this.geolocator.geolocate()}return o()(CoursesNearMe,[{key:"getCourses",value:function getCourses(n,i,r,o){return new Promise(function(t,e){S.a.ajax({url:"/ajax/api/courses/near?lat="+n+"&lng="+i+"&radius="+r+(o?"&max="+o:"")}).done(function(e){t(e.data)}).fail(function(){e("Error fetching courses.")})})}},{key:"getAds",value:function getAds(n,i){return new Promise(function(t,e){S.a.ajax({url:"/ajax/cachednativeads/near?lat="+n+"&lng="+i}).done(function(e){t(e)}).fail(function(){e("Error fetching ads.")})})}},{key:"fetchData",value:function fetchData(e,t,n){var r=this;S()(this.el).find(this.selectors.loading).show(),S()(this.el).find(this.selectors.content).empty().hide(),this.options.isCarousel||this.getAds(e,t).then(function(e){e=shuffleArray(e).slice(0,r.options.adsLimit).map(function(e){return S()('<li class="CoursesNearMe-leadList-items-item"></li>').append(S()(function htmlForAd(e){return'<div class="NativeAdPromo" data-event-label="'.concat(e.eventLabel,'">\n      <div class="NativeAdPromo-media">\n        <a class="Link" href="').concat(e.adUrl,'" target="_blank" rel="noopener">\n          <img class="Image lazyload" alt="" data-src="').concat(e.image,'">\n        </a>\n      </div>\n      <div class="NativeAdPromo-info">\n        <div class="NativeAdPromo-featured">\n          <a class="Link" href="').concat(e.adUrl,'" target="_blank" rel="noopener">Featured</a>\n        </div>\n        <div class="NativeAdPromo-title">\n          <a class="Link" href="').concat(e.adUrl,'" target="_blank" rel="noopener">').concat(e.name,'</a>\n        </div>\n        <div class="NativeAdPromo-description">').concat(e.description,'</div>\n        <ul class="NativeAdPromo-ctas">\n          <li class="NativeAdPromo-ctas-item"><a class="Link" href="').concat(e.adUrl,'" target="_blank" rel="noopener">Book Now</a></li>\n        </ul>\n      </div>\n    </div>')}(e)))});S()(r.el).find(r.selectors.content).find(".CoursesNearMe-leadList-items").remove(),e.length&&(S()('<ul class="CoursesNearMe-leadList-items"></ul>').append(e).prependTo(S()(r.el).find(r.selectors.content)),S()(r.el).find(r.selectors.content).show())}),this.getCourses(e,t,this.options.radius,this.options.maxItems).then(function(e){for(var t=[],n=0;n<e.length;n++){var i=S()(e[n].html);i.find("img").each(function(){var e=S()(this);e.addClass("lazyload");var t=e.attr("src");t&&e.attr("data-src",t).removeAttr("src");t=e.attr("srcset");t&&e.attr("data-srcset",t).removeAttr("srcset")}),t.push({html:i,reviews:parseInt(i.find(".StandardCoursePromo-numberOfReviews").first().text())||0,rating:parseFloat(i.find(".RatingStarItem-stars").first().attr("data-stars"))||0,improvement:parseFloat(i.attr("data-improvement"))||0})}t.length?r.options.isCarousel?r.renderCarousel(t):r.renderTabs(t):S()(r.el).find(r.selectors.content).append(S()('\n                <div class="CoursesNearMe-message">\n                '.concat(r.el.dataset.infoIcon,'\n                  <div class="CoursesNearMe-message-text">No golf courses found in ').concat(r.options.radius," miles from your location.</div>\n                </div>\n        "))),S()(r.el).find(r.selectors.content).show(),S()(r.el).find(r.selectors.loading).hide()})}},{key:"renderTabs",value:function renderTabs(e){var t=this,n=[],i=[];buildTabsElements.call(this,n,i,this.tabs["top-rated"],e.filter(function(e){return e.reviews>=t.tabs["top-rated"]["min-reviews"]}).sort(function(e,t){return t.rating-e.rating}).slice(0,this.tabs["top-rated"]["max-items"]).map(function(e){return e.html}),this.options.displayEmptyTabs),buildTabsElements.call(this,n,i,this.tabs["most-rated"],e.filter(function(e){return 0<e.reviews}).sort(function(e,t){return t.reviews-e.reviews}).slice(0,this.tabs["most-rated"]["max-items"]).map(function(e){return e.html}),this.options.displayEmptyTabs),buildTabsElements.call(this,n,i,this.tabs["most-improved"],e.filter(function(e){return 0<e.improvement}).sort(function(e,t){return t.improvement-e.improvement}).slice(0,this.tabs["most-improved"]["max-items"]).map(function(e){return e.html}),this.options.displayEmptyTabs),buildTabsElements.call(this,n,i,this.tabs["not-rated"],e.filter(function(e){return 0===e.reviews}).slice(0,this.tabs["not-rated"]["max-items"]).map(function(e){return e.html}),this.options.displayEmptyTabs),buildTabsElements.call(this,n,i,this.tabs.all,e.map(function(e){return e.html}),this.options.displayEmptyTabs),S()(this.el).find(this.selectors.content).find(".CoursesNearMe-tabsList").remove(),S()(this.el).find(this.selectors.content).append(S()('<div class="CoursesNearMe-tabsList" data-widget="CoursesNearMe"></div>').append(S()('<ul class="CoursesNearMe-tabs-desktopLabels"></ul>').append(n)).append(S()('<ul class="CoursesNearMe-tabs"></ul>').append(i)))}},{key:"renderCarousel",value:function renderCarousel(e){var n=S()("<div>").addClass("carousel").attr("data-slick-carousel","").attr("data-slides-to-show",5).attr("data-responsive",'[\n                {\n                  "breakpoint": 1440,\n                  "settings": {\n                    "slidesToShow": 5,\n                    "slidesToScroll": 5\n                  }\n                },\n                {\n                  "breakpoint": 1025,\n                  "settings": {\n                    "slidesToShow": 4,\n                    "slidesToScroll": 4\n                  }\n                },\n                {\n                  "breakpoint": 769,\n                  "settings": {\n                    "slidesToShow": 3,\n                    "slidesToScroll": 3\n                  }\n                },\n                {\n                  "breakpoint": 581,\n                  "settings": {\n                    "slidesToShow": 2,\n                    "slidesToScroll": 2,\n                    "centerMode": true\n                  }\n                },\n                {\n                  "breakpoint": 568,\n                  "settings": {\n                    "slidesToShow": 2,\n                    "slidesToScroll": 2,\n                    "arrows": false,\n                    "centerMode": true\n                  }\n                },\n                {\n                  "breakpoint": 421,\n                  "settings": {\n                    "slidesToShow": 1,\n                    "arrows": false,\n                    "slidesToScroll": 1,\n                    "centerMode": true\n                  }\n                }\n              ]');e.forEach(function(e,t){e=S()(e.html);n.append(e)}),S()(this.el).find(this.selectors.content).find(".carousel").remove(),S()(this.el).find(this.selectors.content).append(n)}},{key:"initializeManualSetting",value:function initializeManualSetting(){var t=this;t.autocomplete||Cn()({key:getGoogleMapsApiKey(),libraries:["places"]}).then(function(e){t.autocomplete=new google.maps.places.SearchBox(document.getElementById("location")),S()(".GeoCoding-modal-saveChanges").click(function(e){e.preventDefault();e=document.getElementById("location").value;t.getGeocoder().geocode(e).then(function(e){e=e[0];e._source="manual",e._timestamp=(new Date).getTime(),e._version="1",t.geolocator.set(e),t.modal.removeAttr("data-show"),t.pageBody.removeAttr("data-modal-open")})})})}},{key:"getGeocoder",value:function getGeocoder(){return this.geocoder||(this.geocoder=new yr),this.geocoder}}]),CoursesNearMe}();function buildTabsElements(e,t,n,i){i&&(i.length||4<arguments.length&&void 0!==arguments[4]&&arguments[4])&&(e.push(S()('<li><a class="CoursesNearMe-tabs-desktopLabels-label" href="#CoursesNearMe-'.concat(n.anchor,'" data-tab>').concat(n.label,"</a></li>"))),(e=S()('<li class="CoursesNearMe-tabs-tab">\n    <a class="CoursesNearMe-mobileLabel" href="#CoursesNearMe-'.concat(n.anchor,'" data-tab>').concat(n.label,'</a>\n   <div class="CoursesNearMe-panel" id="CoursesNearMe-').concat(n.anchor,'" data-tab-panel>\n     <div class="CoursesNearMe-criteria">\n         ').concat(this.el.dataset.infoIcon,'\n         <div class="CoursesNearMe-criteria-text">').concat(n.criteria,'</div>\n     </div>\n     <div class="BottomBorderTabItem">\n         <div class="BottomBorderTabItem-content"></div>\n     </div>\n    </div>\n</li>'))).find(".BottomBorderTabItem-content").append(i.length?i.map(function(e){return e.clone()}):S()("<p>".concat(n["no-content-message"],"</p>"))),t.push(e))}Wn=function(){function CourseSearch(e){c()(this,CourseSearch);var t=this;this.el=e,this.inputField=e.querySelector(".CourseSearch-input"),this.clearButton=e.querySelector(".CourseSearch-clear"),this.placesAutoCompleteService=null,this.placesAutoCompleteServiceToken=null,Cn()({key:getGoogleMapsApiKey(),libraries:["places"]}).then(function(e){t.init()})}return o()(CourseSearch,[{key:"init",value:function init(){var o=this;new dr.a({selector:o.inputField,minChars:3,cache:!1,menuClass:"autocomplete-suggestions-powered-by-google",source:function source(r,t){var e=new Promise(function(t,e){var n=[];S.a.getJSON("/ajax/gap/courses/autocomplete?s="+r,function(e){e.results.forEach(function(e){e.type="course",e.url="/courses/"+e.id,n.push(e)}),t(n)})}),n=new Promise(function(n,e){var i;o.placesAutoCompleteService||"object"!==("undefined"==typeof google?"undefined":On()(google))||"object"!==On()(google.maps)||"object"!==On()(google.maps.places)||(o.placesAutoCompleteService=new google.maps.places.AutocompleteService),o.placesAutoCompleteService?(i=[],o.placesAutoCompleteServiceToken||(o.placesAutoCompleteServiceToken=new google.maps.places.AutocompleteSessionToken),o.placesAutoCompleteService.getPlacePredictions({input:r,types:["geocode"],sessionToken:o.placesAutoCompleteServiceToken},function(e,t){i=t!==google.maps.places.PlacesServiceStatus.OK?[]:e.map(function(e){return{type:"place",id:e.place_id,label:e.description}}),n(i)})):n([])});Promise.all([e,n]).then(function(e){t([].concat(h()(e[0]),h()(e[1])))})},renderItem:function renderItem(e,t){return'<div class="autocomplete-suggestion" data-val="'+t+'" data-type="'+e.type+'" data-id="'+e.id+'" data-label="'+e.label+'" data-url="'+e.url+'">'+e.label+"</div>"},onSelect:function onSelect(e,t,i){e.preventDefault(),"place"===i.getAttribute("data-type")?new google.maps.places.PlacesService(o.el.querySelector(".gsbpa")).getDetails({placeId:i.getAttribute("data-id"),sessionToken:o.placesAutoCompleteServiceToken},function(e,t){var n;t===google.maps.places.PlacesServiceStatus.OK&&e.formatted_address&&e.geometry&&e.geometry.location&&e.geometry.location.lat()&&e.geometry.location.lng()?(n=encodeURIComponent(e.formatted_address),t=e.geometry.location.lat(),e=e.geometry.location.lng(),i.setAttribute("data-url","/search?q=".concat(n,"&lat=").concat(t,"&lng=").concat(e)),gr.push("searched",{type:i.getAttribute("data-type"),id:i.getAttribute("data-id"),label:i.getAttribute("data-label"),url:i.getAttribute("data-url"),time:(new Date).toISOString()}).then(function(e,t){window.location.href=i.getAttribute("data-url")})):window.alert("Search error. Please retry.")}):gr.push("searched",{type:i.getAttribute("data-type"),id:i.getAttribute("data-id"),label:i.getAttribute("data-label"),url:i.getAttribute("data-url"),time:(new Date).toISOString()}).then(function(e,t){window.location.href=i.getAttribute("data-url")})}});o.clearButton&&(o.clearButton.addEventListener("click",function(e){e.preventDefault(),o.inputField.value="",S()(o.clearButton).addClass("hidden")}),o.inputField.addEventListener("keyup",function(e){""===o.inputField.value?S()(o.clearButton).addClass("hidden"):S()(o.clearButton).removeClass("hidden")}))}}]),CourseSearch}(),Un=function(){function MyCourses(e){c()(this,MyCourses),d()(this,"endpoint","/ajax/my/courses"),this.el=e,this.init()}return o()(MyCourses,[{key:"init",value:function init(){var n=this,i={viewed:[],searched:[]},e=getFromLocalHistory("searched"),t=getFromLocalHistory("viewed");Promise.all([e,t]).then(function(e){var t;(t=i.searched).push.apply(t,h()(e[0].filter(function(e){return"course"===e.type}))),(t=i.viewed).push.apply(t,h()(e[1].filter(function(e){return"course"===e.type}))),S.a.ajax(n.endpoint,{contentType:"application/json; charset=UTF-8",data:JSON.stringify(i),dataType:"json",method:"POST"}).done(function(e){var t={};n.populateTab("viewed",e.viewed,t)||S()("#viewed").append("<p>No results found. Start by browsing our global golf course database of over 38,000 golf courses to find your favorite courses.</p>"),n.populateTab("searched",e.searched,t)||S()("#searched").append("<p>No results found. Start by searching our global golf course database of over 38,000 golf courses to find your favorite courses.</p>"),n.populateTab("played",e.played,t)||(void 0!==e.played?S()("#played").append("<p>No played courses found."):S()("#played").append('<p>Please <a class="Link" href="'.concat(window.location.href,'">log in</a> to your account in order to view courses you have played.</p>'))),n.populateTab("favorited",e.favorited,t)||(void 0!==e.favorited?S()("#favorited").append("<p>No favorite courses found."):S()("#favorited").append('<p>Please <a class="Link" href="'.concat(window.location.href,'">log in</a> to your account in order to view favorite courses.</p>'))),n.populateTab("all",Object.values(t),null)||S()("#all").append("<p>No results found. Start by using our global golf course database of over 38,000 golf courses to find your favorite courses.</p>")}).fail(function(){}).always(function(){S()(".MyCourses-loading").addClass("hide"),S()(".MyCourses-content").removeClass("hide")})}),n.el.querySelectorAll("a[data-tab]").forEach(function(t){t.addEventListener("click",function(e){sendGoogleAnalyticsEvent("My Courses","Click Tab","Click Tab "+(t.innerText||t.textContent||"N/A").trim())})})}},{key:"populateTab",value:function populateTab(e,t,n){var i={},r=0,o="";return t&&t.forEach(function(e){(!i[e.id]||historyItemTimeComparator(e,i[e.id])<=0)&&(i[e.id]=e),n&&(!n[e.id]||historyItemTimeComparator(e,n[e.id])<=0)&&(n[e.id]=e)}),Object.values(i).sort(historyItemTimeComparator).forEach(function(e){o+=e.promo,r++}),S()("#".concat(e," .content")).append(S()(o)),S()('[href="#'.concat(e,'"]')).append(" <span>("+r+")</span>"),S()('[href="#'.concat(e,'"]')).attr("data-count",r),r}}]),MyCourses}();function getFromLocalHistory(e){var n=gr.items(e,{context:gr.getAnonymousUserId()}),i=Promise.resolve([]);return gr.getAnonymousUserId()!==gr.getUserId()&&(i=gr.items(e)),new Promise(function(t,e){Promise.all([i.then(function(e){return e},function(e){return[]}),n.then(function(e){return e},function(e){return[]})]).then(function(e){t([].concat(h()(e[0]),h()(e[1])))})})}function historyItemTimeComparator(e,t){return e.time>t.time?-1:e.time<t.time?1:0}$n=function(){function FavoriteCourses(e){c()(this,FavoriteCourses),this.el=e,this.isCarousel=S()(this.el).attr("data-carousel")||!1,this.init()}return o()(FavoriteCourses,[{key:"init",value:function init(){var t=this;S.a.ajax(FavoriteCourses.endpoint,{contentType:"application/json; charset=UTF-8",dataType:"json"}).done(function(e){e&&e.favorited&&e.favorited.length?(t.isCarousel?t.renderCarousel(e.favorited):t.renderList(e.favorited),S()(t.el).removeClass("hide")):S()(t.el).addClass("hide")}).fail(function(){}).always(function(){S()(t.el).find(FavoriteCourses.loadingSelector).addClass("hide"),S()(t.el).find(FavoriteCourses.contentSelector).removeClass("hide")})}},{key:"renderCarousel",value:function renderCarousel(e){var n=S()("<div>").addClass("carousel").attr("data-slick-carousel","").attr("data-slides-to-show",5).attr("data-responsive",'[\n                {\n                  "breakpoint": 1440,\n                  "settings": {\n                    "slidesToShow": 5,\n                    "slidesToScroll": 5\n                  }\n                },\n                {\n                  "breakpoint": 1025,\n                  "settings": {\n                    "slidesToShow": 4,\n                    "slidesToScroll": 4\n                  }\n                },\n                {\n                  "breakpoint": 769,\n                  "settings": {\n                    "slidesToShow": 3,\n                    "slidesToScroll": 3\n                  }\n                },\n                {\n                  "breakpoint": 581,\n                  "settings": {\n                    "slidesToShow": 2,\n                    "slidesToScroll": 2,\n                    "centerMode": true\n                  }\n                },\n                {\n                  "breakpoint": 568,\n                  "settings": {\n                    "slidesToShow": 2,\n                    "slidesToScroll": 2,\n                    "arrows": false,\n                    "centerMode": true\n                  }\n                },\n                {\n                  "breakpoint": 421,\n                  "settings": {\n                    "slidesToShow": 1,\n                    "arrows": false,\n                    "slidesToScroll": 1,\n                    "centerMode": true\n                  }\n                }\n              ]');e.forEach(function(e,t){e=S()(e.promo);n.append(e)}),S()(this.el).find(FavoriteCourses.contentSelector).append(n)}},{key:"renderList",value:function renderList(e){var t=S()('<div class="list List">'),i=S()('<div class="List-items">');t.append(i),e.forEach(function(e,t){var n=S()(e.promo),e=S()('<div class="List-items-item">');e.append(n),i.append(e)}),S()(this.el).find(FavoriteCourses.contentSelector).append(t)}}]),FavoriteCourses}();d()($n,"endpoint","/ajax/my/courses"),d()($n,"loadingSelector",".FavoriteCourses-loading"),d()($n,"contentSelector",".FavoriteCourses-contents");var Zn=n("./styleguide/utils/tinysort.min.js"),_r=n.n(Zn),Tr={lat:["lat","Lat","latitude","Latitude"],lng:["lng","Lng","longitude","Longitude","long","Long"]},Sr=function(){function GeoUtils(){c()(this,GeoUtils)}return o()(GeoUtils,null,[{key:"_getCoordFromObject",value:function _getCoordFromObject(e,t){for(var n=0,i=Array.from(Tr[t]);n<i.length;n++){var r=i[n];if(null!=e[r])return e[r]}return null}},{key:"radians",value:function radians(e){return e*Math.PI/180}},{key:"degrees",value:function degrees(e){return 180*e/Math.PI}},{key:"distance",value:function distance(e,t,n){null==n&&(n="km");var i=null,r=this._getCoordFromObject(e,"lat"),o=this._getCoordFromObject(e,"lng"),a=this._getCoordFromObject(t,"lat"),e=this._getCoordFromObject(t,"lng");return null!=r&&null!=o&&null!=a&&null!=e&&(t=this.radians(a-r),o=this.radians(e-o),r=this.radians(r),a=this.radians(a),a=Math.sin(t/2)*Math.sin(t/2)+Math.sin(o/2)*Math.sin(o/2)*Math.cos(r)*Math.cos(a),i=6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))),"miles"===n&&(i/=1.60934)),i}},{key:"destination",value:function destination(e,t,n,i){var r=n;"miles"===(i=null==i?"km":i)&&(r*=1.60934);n=this.radians(this._getCoordFromObject(e,"lat")),i=this.radians(this._getCoordFromObject(e,"lng")),e=this.radians(t),t={lat:n,lng:i};return t.lat=this.degrees(Math.asin(Math.sin(n)*Math.cos(r/6371)+Math.cos(n)*Math.sin(r/6371)*Math.cos(e))),t.lng=this.degrees(i+Math.atan2(Math.sin(e)*Math.sin(r/6371)*Math.cos(n),Math.cos(r/6371)-Math.sin(n)*Math.sin(t.lat))),t}}]),GeoUtils}(),Cr={center:{lat:0,lng:0},zoom:12,mapTypeId:"roadmap",mapTypeControl:!0,mapTypeControlOptions:{style:2},panControl:!1,streetViewControl:!1,gestureHandling:"greedy",styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},Jn=function(){function CoursesWithMembershipBenefits(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,CoursesWithMembershipBenefits),this.el=e,this.options=S.a.extend(!0,{},{map:Cr,mapSelector:".CoursesWithMembershipBenefits-items-map",listSelector:".CoursesWithMembershipBenefits-items-list"},t),this.init()}return o()(CoursesWithMembershipBenefits,[{key:"init",value:function init(){var i=this;S()(document).on("Geolocator.success",function(e,t){var n={lat:t.lat,lng:t.lng};S()(i.el).find(".CourseList .List-items-item .StandardCoursePromo").each(function(){S()(this).attr("data-distance",Sr.distance(n,{lat:S()(this).attr("data-lat"),lng:S()(this).attr("data-lng")}))}),i.updateSort(S()(i.el).find('select[name="sortby"] option:selected').val())}),S()(document).on("Geolocator.fail",function(e,t){S()(i.el).find('select[name="sortby"] option[value="distance:asc"]').prop("disabled",!0),S()(i.el).find('select[name="sortby"] option:not([disabled]):first').prop("selected",!0)}),(new br).geolocate(),S()(i.el).find('select[name="view"]').on("change",function(e){e.preventDefault(),"list"===S()(this).children("option:selected").val()?(S()(i.el).find('select[name="sortby"]').closest(".Select").removeClass("hidden"),S()(i.el).find(i.options.mapSelector).addClass("hidden"),S()(i.el).find(i.options.listSelector).removeClass("hidden")):(S()(i.el).find('select[name="sortby"]').closest(".Select").addClass("hidden"),S()(i.el).find(i.options.listSelector).addClass("hidden"),S()(i.el).find(i.options.mapSelector).removeClass("hidden"),i.mapEl||Cn()({key:getGoogleMapsApiKey(),libraries:["places"]}).then(function(e){i.initMap()}))}),S()(i.el).find('select[name="sortby"]').on("change",function(e){e.preventDefault(),i.updateSort(S()(this).children("option:selected").val())})}},{key:"updateSort",value:function updateSort(e){"distance:asc"===e?_r()(S()(this.el).find(".List-items-item"),{selector:".StandardCoursePromo",data:"distance"}):"name:asc"===e?_r()(S()(this.el).find(".List-items-item"),{selector:".StandardCoursePromo-title a"}):"name:desc"===e?_r()(S()(this.el).find(".List-items-item"),{selector:".StandardCoursePromo-title a",order:"desc"}):"rating:asc"===e?_r()(S()(this.el).find(".List-items-item"),{selector:".RatingStarItem-stars-value"}):"rating:desc"===e?_r()(S()(this.el).find(".List-items-item"),{selector:".RatingStarItem-stars-value",order:"desc"}):"reviews:asc"===e?_r()(S()(this.el).find(".List-items-item"),{selector:".StandardCoursePromo-numberOfReviews"}):"reviews:desc"===e?_r()(S()(this.el).find(".List-items-item"),{selector:".StandardCoursePromo-numberOfReviews",order:"desc"}):"recent:asc"===e?_r()(S()(this.el).find(".List-items-item"),{selector:".StandardCoursePromo",data:"last-review-time"}):"recent:desc"===e&&_r()(S()(this.el).find(".List-items-item"),{selector:".StandardCoursePromo",data:"last-review-time",order:"desc"})}},{key:"initMap",value:function initMap(){var i,r=this;r.mapEl=r.el.querySelector(r.options.mapSelector),r.mapEl&&(i=null,r.map=new google.maps.Map(r.mapEl,r.options.map),S()(r.el).find(".StandardCoursePromo").each(function(){var e=this,t=S.a.extend(!0,{},r.options.marker);t.icon={url:"//s3.amazonaws.com/gav_static/assets/maps/sprite-markers.png",size:new google.maps.Size(144*.15,25.2),scaledSize:new google.maps.Size(144*.15,151.2),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(72*.15,25.2)},t.position={lat:parseFloat(S()(e).attr("data-lat")),lng:parseFloat(S()(e).attr("data-lng"))};var n=new google.maps.Marker(t);n.addListener("click",function(){r.infoWindow||(r.infoWindow=new google.maps.InfoWindow({content:""})),r.infoWindow.open(r.map,n),r.infoWindow.setContent(e.outerHTML)}),n.setMap(r.map),i?i.extend(t.position):i=new google.maps.LatLngBounds(t.position,t.position)}),r.map.fitBounds(i))}}]),CoursesWithMembershipBenefits}(),ei=function(){function ResortPage(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,ResortPage),this.$el=S()(e),this.settings=S.a.extend({},t),this.init()}return o()(ResortPage,[{key:"init",value:function init(){var e=S()('meta[itemprop="reviewCount"]').attr("content"),t=document.querySelectorAll(".ResortPage-pageLeadByline .RatingStarItem-total.mobile"),n=(n=Math.ceil(100*e)/1e5).toFixed(1);window.innerWidth<568?999<e?S()(t).text("(".concat(n,"K)")):S()(t).text("(".concat(e,")")):S()(t).text(e),S()(window).resize(function(){window.innerWidth<568?999<e?S()(t).text("(".concat(n,"K)")):S()(t).text("(".concat(e,")")):S()(t).text(e)}),S()(".ResortPage-map").click(function(){sendGoogleAnalyticsEvent("Map","Open Map","Open Map From Resort Page");var n=this;Cn()({key:getGoogleMapsApiKey(),libraries:["places","visualization"]}).then(function(e){var t='\n              <div id="MapModal" class="Modal MapModal" data-modal>\n                  <div class="Modal-contents MapModal-contents">\n                      <button class="Modal-close MapModal-close" data-close-modal aria-label="close"></button>\n                      <div class="Modal-title MapModal-title">Map</div>\n                      <div class="MapModal-content">\n                          <div class="GMap"\n                                data-gmap-lat="'.concat(S()(n).attr("data-latitude"),'"\n                                data-gmap-lng="').concat(S()(n).attr("data-longitude"),'"\n                                data-gmap-highlight-source="resorts"\n                                data-gmap-highlight-id="').concat(S()(n).attr("data-resort-id"),'"\n                          >\n                              <div class="GMap-map"></div>\n                              <progress class="GMap-progress" max="100"></progress>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n        ');S()("#MapModal").remove(),S()("body").append(S()(t)),S()("#MapModal").attr("data-show","true"),S()("body").attr("data-modal-open","true"),S()("#MapModal .Modal-close").click(function(){S()("#MapModal").remove(),S()("body").attr("data-modal-open","false")})})}),S()(".ResortPage-golfpassPerks").click(function(){S()(".GolfPassPerksModal").attr("data-show","true"),S()("body").attr("data-modal-open","true"),sendGoogleAnalyticsEvent("Membership Benefits","Open Membership Benefits Modal","Open Membership Benefits Modal (Resort Page)")}),S()(".GolfPassPerksModal-intro a").click(function(){var e=S()(this).closest("[data-membership-label]").attr("data-membership-label"),t=S()(this).text();sendGoogleAnalyticsEvent("Membership Benefits","Membership Benefits Link Click (".concat(e,")"),"Membership Benefits Link Click (".concat(e," > Intro > ").concat(t,")"))}),S()(".GolfPassPerksModal-cta a").click(function(){var e=S()(this).closest("[data-membership-label]").attr("data-membership-label"),t=S()(this).text();sendGoogleAnalyticsEvent("Membership Benefits","Membership Benefits Link Click (".concat(e,")"),"Membership Benefits Link Click (".concat(e," > CTA > ").concat(t,")"))})}}]),ResortPage}(),wr={center:{lat:0,lng:0},zoom:12,mapTypeId:"roadmap",mapTypeControl:!0,mapTypeControlOptions:{style:2},panControl:!1,streetViewControl:!1,gestureHandling:"greedy",styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},ni=function(){function ArchitectPage(e,t){c()(this,ArchitectPage),this.el=e,this.options=S.a.extend(!0,{},{map:wr,mapSelector:".ArchitectPage-map-content"},t),this.init()}return o()(ArchitectPage,[{key:"init",value:function init(){var t=this;Cn()({key:getGoogleMapsApiKey(),libraries:["places"]}).then(function(e){t.initMap()}),S()(".ArchitectPage-courses select").on("change",function(e){e.preventDefault();e=S()(this).children("option:selected").val();"name:asc"===e?_r()(".ArchitectPage-courses-content .CourseList .List-items-item",{selector:".StandardCoursePromo-title a"}):"name:desc"===e?_r()(".ArchitectPage-courses-content .CourseList .List-items-item",{selector:".StandardCoursePromo-title a",order:"desc"}):"rating:asc"===e?_r()(".ArchitectPage-courses-content .CourseList .List-items-item",{selector:".RatingStarItem-stars-value"}):"rating:desc"===e?_r()(".ArchitectPage-courses-content .CourseList .List-items-item",{selector:".RatingStarItem-stars-value",order:"desc"}):"reviews:asc"===e?_r()(".ArchitectPage-courses-content .CourseList .List-items-item",{selector:".StandardCoursePromo-numberOfReviews"}):"reviews:desc"===e?_r()(".ArchitectPage-courses-content .CourseList .List-items-item",{selector:".StandardCoursePromo-numberOfReviews",order:"desc"}):"recent:asc"===e?_r()(".ArchitectPage-courses-content .CourseList .List-items-item",{selector:".StandardCoursePromo",data:"last-review-time"}):"recent:desc"===e&&_r()(".ArchitectPage-courses-content .CourseList .List-items-item",{selector:".StandardCoursePromo",data:"last-review-time",order:"desc"})})}},{key:"initMap",value:function initMap(){var i,r=this;r.mapEl=r.el.querySelector(r.options.mapSelector),r.mapEl&&(i=null,r.map=new google.maps.Map(r.mapEl,r.options.map),S()(r.el).find(".StandardCoursePromo").each(function(){var e=this,t=S.a.extend(!0,{},r.options.marker);t.icon={url:"//s3.amazonaws.com/gav_static/assets/maps/sprite-markers.png",size:new google.maps.Size(144*.15,25.2),scaledSize:new google.maps.Size(144*.15,151.2),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(72*.15,25.2)},t.position={lat:parseFloat(S()(e).attr("data-lat")),lng:parseFloat(S()(e).attr("data-lng"))};var n=new google.maps.Marker(t);n.addListener("click",function(){r.infoWindow||(r.infoWindow=new google.maps.InfoWindow({content:""})),r.infoWindow.open(r.map,n),r.infoWindow.setContent(e.outerHTML)}),n.setMap(r.map),i?i.extend(t.position):i=new google.maps.LatLngBounds(t.position,t.position)}),r.map.fitBounds(i))}}]),ArchitectPage}();function UserProfilePage_createForOfIteratorHelper(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function UserProfilePage_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return UserProfilePage_arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UserProfilePage_arrayLikeToArray(e,t):void 0}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function F(){};return{s:i,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function s(){r=r.call(t)},n:function n(){var e=r.next();return l=e.done,e},e:function e(t){u=!0,a=t},f:function f(){try{l||null==r.return||r.return()}finally{if(u)throw a}}}}function UserProfilePage_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ri=function(){function UserProfilePage(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,UserProfilePage),this.$el=S()(e),this.settings=S.a.extend({},{selectors:{changeEmailButton:".EditAccountForm-changeEmail-button",changeEmail:".EditAccountForm-changeEmail",changePasswordButton:".EditAccountForm-changePassword-button",changePassword:".EditAccountForm-changePassword",changeCancel:".EditAccountForm-change-cancel",editAccount:".EditAccountForm"}},t),this.init()}return o()(UserProfilePage,[{key:"selectors",get:function get(){return this.settings.selectors}},{key:"init",value:function init(){var t=this,e=this.$el.find(this.selectors.changeEmailButton),n=this.$el.find(this.selectors.changeEmail),i=this.$el.find(this.selectors.changePasswordButton),r=this.$el.find(this.selectors.changePassword),o=this.$el.find(this.selectors.editAccount),a=this.$el.find(this.selectors.changeCancel);S()(e).click(function(){S()(n).attr("data-show","true"),S()(o).removeAttr("data-show")}),S()(i).click(function(){S()(r).attr("data-show","true"),S()(o).removeAttr("data-show")}),S()(a).click(function(){S()(o).attr("data-show","true"),S()(r).removeAttr("data-show"),S()(n).removeAttr("data-show")}),t.toggleAutoRenewMsg(),this.countryMap={},this.stateMap={},this.populateCountries("countrySelect","stateSelect"),S()("input[name=autorenewal]:radio").change(function(e){S()(".la-ball-spin-clockwise-fade").show(),S()("input[name=autorenewal]:radio").attr("disabled",1),t.setAutoRenewal({isAutoRenewal:e.target.value}).then(function(e){t.toggleAutoRenewMsg(),S()("input[name=autorenewal]:radio").removeAttr("disabled")}).fail(function(){S()("input[name=autorenewal]:radio").removeAttr("disabled"),S()(".la-ball-spin-clockwise-fade").hide()})}),S()("#membership .change").click(function(){S()(".CreditCardModal").attr("data-show","true"),S()("body").attr("data-modal-open","true")}),S()("#membership .saveCard").click(function(){var e=t.submitCardForm();e&&e.then(function(e){var t=S()("form.credit-card-form input[name=cardNumber]").val().slice(-4)+" ending in "+S()("form.credit-card-form input[name=cardType]").val();S()("#endingIn").html(t),S()(".CreditCardModal").removeAttr("data-show"),S()("body").removeAttr("data-modal-open")}).fail(function(){console.log("card save error")})}),S()("#membership [data-jsDate]").each(function(e,t){var n=S()(t),t=new Date(n.data("jsdate"));n.html(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]+", "+["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+" "+t.getDate()+", "+t.getFullYear())})}},{key:"toggleAutoRenewMsg",value:function toggleAutoRenewMsg(){S()(".la-ball-spin-clockwise-fade").hide(),"autorenewal-true"===S()("input[name=autorenewal]:radio:checked").attr("id")?(S()(".autoRenewMessage-on").show(),S()(".autoRenewMessage-off").hide()):(S()(".autoRenewMessage-on").hide(),S()(".autoRenewMessage-off").show())}},{key:"submitCardForm",value:function submitCardForm(){var e,t=!1,n=S()("form.credit-card-form");n.find("input,select").each(function(e,t){S()(t).removeClass("error")});var i,r=UserProfilePage_createForOfIteratorHelper(n.serializeArray());try{for(r.s();!(i=r.n()).done;){var o=i.value,a=S()(n.find("[name="+o.name+"]"));o.value||"cardType"===o.name?"cardNumber"===o.name&&("?"===(e=this.getCreditCardTypeByNumber(o.value))?(a.addClass("error"),t=!0):n.find("input[name=cardType]").val(e)):(a.addClass("error"),t=!0)}}catch(e){r.e(e)}finally{r.f()}return!t&&this.saveCard(n.serialize())}},{key:"saveCard",value:function saveCard(e){return S.a.ajax({method:"POST",url:"/account/profile/membership/savecard",data:e,dataType:"html",xhrFields:{withCredentials:!0}})}},{key:"setAutoRenewal",value:function setAutoRenewal(e){return S.a.ajax({method:"POST",url:"/account/profile/membership/autorenewal",data:e,dataType:"html",xhrFields:{withCredentials:!0}})}},{key:"getCreditCardTypeByNumber",value:function getCreditCardTypeByNumber(e){e=(e+"").replace(/\s/g,"");return/^(34|37)/.test(e)&&15===e.length?"AMEX":/^(51|52|53|54|55)/.test(e)&&16===e.length?"MasterCard":!/^(4)/.test(e)||13!==e.length&&16!==e.length?/^(300|301|302|303|304|305|36|38)/.test(e)&&14===e.length?"DinersClub":/^(2014|2149)/.test(e)&&15===e.length?"enRoute":/^(6011)/.test(e)&&16===e.length?"Discover":/^(3)/.test(e)&&16===e.length||/^(2131|1800)/.test(e)&&15===e.length?"JCB":"?":"Visa"}},{key:"buildStateMap",value:function buildStateMap(){this.stateMap.US={AK:"Alaska",AL:"Alabama",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"District of Columbia",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},this.stateMap.BM={DV:"Devonshire",HM:"Hamilton",PG:"Paget",PM:"Pembroke",SG:"Saint George's",SM:"Smith's",SN:"Sandys",SU:"Southhampton",WR:"Warwick"},this.stateMap.CA={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territory",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",SP:"St. Pierre and Miquelon",YT:"Yukon Territory"},this.stateMap.IE={C:"County Cork",CE:"County Clare",CN:"County Cavan",CW:"County Carlow",D:"County Dublin",DL:"County Donegal",G:"County Galway",KE:"County Kildare",KK:"County Kilkenny",KY:"County Kerry",LD:"County Longford",LH:"County Louth",LK:"County Limerick",LM:"County Leitrim",LS:"County Laois",MH:"County Meath",MN:"County Monaghan",MO:"County Mayo",OY:"County Offaly",RN:"County Roscommon",SO:"County Sligo",TA:"County Tipperary",WD:"County Waterford",WH:"County Westmeath",WW:"County Wicklow",WX:"County Wexford"},this.stateMap.MX={AG:"State of Aguascalientes",BA:"Baja California",BJ:"Baja California Sur",CE:"Campeche",CH:"State of Chihuahua",CI:"Chiapas",CL:"State of Colima",CU:"Coahuila de Zaragoza",DF:"Mexican Federal District",DO:"State of Durango",GR:"Guerrero",GU:"State of Guanajuato",HL:"Hidalgo",JC:"Jalisco",MI:"Michoacan",MR:"Morelos",MX:"State of Mexico",NA:"Nayarit",NL:"Nuevo Leon",OA:"Oaxaca ",PB:"Puebla",QR:"Quintana Roo",QU:"State of Queretaro",SI:"Sinaloa",SL:"State of San Luis Potosi",SO:"Sonora",TB:"Tabasco",TL:"State of Tlaxcala",TM:"Tamaulipas",VC:"State of Veracruz",YU:"Yucatan",ZA:"State of Zacatecas"}}},{key:"buildCountryMap",value:function buildCountryMap(){this.countryMap[""]="--- Please select ---",this.countryMap.AF="Afghanistan",this.countryMap.AX="Aland Islands",this.countryMap.AL="Albania",this.countryMap.DZ="Algeria",this.countryMap.AS="American Samoa",this.countryMap.AD="Andorra",this.countryMap.AO="Angola",this.countryMap.AI="Anguilla",this.countryMap.AQ="Antarctica",this.countryMap.AG="Antigua and Barbuda",this.countryMap.AR="Argentina",this.countryMap.AM="Armenia",this.countryMap.AW="Aruba",this.countryMap.SH="Ascension and Tristan Da Cunha Saint Helena",this.countryMap.AU="Australia",this.countryMap.AT="Austria",this.countryMap.AZ="Azerbaijan",this.countryMap.BS="Bahamas",this.countryMap.BH="Bahrain",this.countryMap.BD="Bangladesh",this.countryMap.BB="Barbados",this.countryMap.BY="Belarus",this.countryMap.BE="Belgium",this.countryMap.BZ="Belize",this.countryMap.BJ="Benin",this.countryMap.BM="Bermuda",this.countryMap.BT="Bhutan",this.countryMap.VE="Bolivarian Republic of Venezuela",this.countryMap.BA="Bosnia and Herzegowina",this.countryMap.BW="Botswana",this.countryMap.BV="Bouvet Island",this.countryMap.BR="Brazil",this.countryMap.IO="British Indian Ocean Territory",this.countryMap.BN="Brunei Darussalam",this.countryMap.BG="Bulgaria",this.countryMap.BF="Burkina Faso",this.countryMap.BI="Burundi",this.countryMap.KH="Cambodia",this.countryMap.CM="Cameroon",this.countryMap.CA="Canada",this.countryMap.CV="Cape Verde",this.countryMap.KY="Cayman Islands",this.countryMap.CF="Central African Republic",this.countryMap.TD="Chad",this.countryMap.CL="Chile",this.countryMap.CN="China",this.countryMap.CX="Christmas Island",this.countryMap.CC="Cocos Islands",this.countryMap.CO="Colombia",this.countryMap.KM="Comoros",this.countryMap.CG="Congo",this.countryMap.CK="Cook Islands",this.countryMap.CR="Costa Rica",this.countryMap.CI="Cote d'Ivoire",this.countryMap.HR="Croatia",this.countryMap.CU="Cuba",this.countryMap.CW="Curacao",this.countryMap.CY="Cyprus",this.countryMap.CZ="Czech Republic",this.countryMap.KP="Democratic People's Republic of Korea",this.countryMap.DK="Denmark",this.countryMap.DJ="Djibouti",this.countryMap.DM="Dominica",this.countryMap.DO="Dominican Republic",this.countryMap.TP="East Timor",this.countryMap.EC="Ecuador",this.countryMap.EG="Egypt",this.countryMap.SV="El Salvador",this.countryMap.ENG="England",this.countryMap.GQ="Equatorial Guinea",this.countryMap.ER="Eritrea",this.countryMap.EE="Estonia",this.countryMap.ET="Ethiopia",this.countryMap.FK="Falkland Islands",this.countryMap.FO="Faroe Islands",this.countryMap.FM="Federated States of Micronesia",this.countryMap.FJ="Fiji",this.countryMap.FI="Finland",this.countryMap.FR="France",this.countryMap.GF="French Guiana",this.countryMap.PF="French Polynesia",this.countryMap.TF="French Southern Territories",this.countryMap.GA="Gabon",this.countryMap.GM="Gambia",this.countryMap.GE="Georgia",this.countryMap.DE="Germany",this.countryMap.GH="Ghana",this.countryMap.GI="Gibraltar",this.countryMap.GR="Greece",this.countryMap.GL="Greenland",this.countryMap.GD="Grenada",this.countryMap.GP="Guadeloupe",this.countryMap.GU="Guam",this.countryMap.GT="Guatemala",this.countryMap.GG="Guernsey",this.countryMap.GN="Guinea",this.countryMap.GW="Guinea-Bissau",this.countryMap.GY="Guyana",this.countryMap.HT="Haiti",this.countryMap.HM="Heard And Mcdonald Islands",this.countryMap.HN="Honduras",this.countryMap.HK="Hong Kong",this.countryMap.HU="Hungary",this.countryMap.IS="Iceland",this.countryMap.IN="India",this.countryMap.ID="Indonesia",this.countryMap.IR="Iran",this.countryMap.IQ="Iraq",this.countryMap.IE="Ireland",this.countryMap.IM="Isle of Man",this.countryMap.IL="Israel",this.countryMap.IT="Italy",this.countryMap.JM="Jamaica",this.countryMap.JP="Japan",this.countryMap.JE="Jersey",this.countryMap.JO="Jordan",this.countryMap.KZ="Kazakhstan",this.countryMap.KE="Kenya",this.countryMap.KI="Kiribati",this.countryMap.KW="Kuwait",this.countryMap.KG="Kyrgyzstan",this.countryMap.LA="Lao People's Democratic Republic",this.countryMap.LV="Latvia",this.countryMap.LB="Lebanon",this.countryMap.LS="Lesotho",this.countryMap.LR="Liberia",this.countryMap.LY="Libya",this.countryMap.LI="Liechtenstein",this.countryMap.LT="Lithuania",this.countryMap.LU="Luxembourg",this.countryMap.MO="Macao",this.countryMap.MG="Madagascar",this.countryMap.MW="Malawi",this.countryMap.MY="Malaysia",this.countryMap.MV="Maldives",this.countryMap.ML="Mali",this.countryMap.MT="Malta",this.countryMap.MH="Marshall Islands",this.countryMap.MQ="Martinique",this.countryMap.MR="Mauritania",this.countryMap.MU="Mauritius",this.countryMap.YT="Mayotte",this.countryMap.MX="Mexico",this.countryMap.MC="Monaco",this.countryMap.MN="Mongolia",this.countryMap.ME="Montenegro",this.countryMap.MS="Montserrat",this.countryMap.MA="Morocco",this.countryMap.MZ="Mozambique",this.countryMap.MM="Myanmar",this.countryMap.NA="Namibia",this.countryMap.NR="Nauru",this.countryMap.NP="Nepal",this.countryMap.NL="Netherlands",this.countryMap.AN="Netherlands Antilles",this.countryMap.NC="New Caledonia",this.countryMap.NZ="New Zealand",this.countryMap.NI="Nicaragua",this.countryMap.NE="Niger",this.countryMap.NG="Nigeria",this.countryMap.NU="Niue",this.countryMap.NF="Norfolk Island",this.countryMap.NIR="Northern Ireland",this.countryMap.MP="Northern Mariana Islands",this.countryMap.NO="Norway",this.countryMap.OM="Oman",this.countryMap.PK="Pakistan",this.countryMap.PW="Palau",this.countryMap.PA="Panama",this.countryMap.PG="Papua New Guinea",this.countryMap.PY="Paraguay",this.countryMap.PE="Peru",this.countryMap.PH="Philippines",this.countryMap.PN="Pitcairn",this.countryMap.BO="Plurinational State of Bolivia",this.countryMap.PL="Poland",this.countryMap.PT="Portugal",this.countryMap.TW="Province of China Taiwan",this.countryMap.PR="Puerto Rico",this.countryMap.QA="Qatar",this.countryMap.KR="Republic of Korea",this.countryMap.MD="Republic of Moldova",this.countryMap.RE="Reunion",this.countryMap.RO="Romania",this.countryMap.RU="Russian Federation",this.countryMap.RW="Rwanda",this.countryMap.BL="Saint Barthelemy",this.countryMap.KN="Saint Kitts and Nevis",this.countryMap.LC="Saint Lucia",this.countryMap.PM="Saint Pierre and Miquelon",this.countryMap.VC="Saint Vincent and The Grenadines",this.countryMap.WS="Samoa",this.countryMap.SM="San Marino",this.countryMap.ST="Sao Tome And Principe",this.countryMap.SA="Saudi Arabia",this.countryMap.SCT="Scotland",this.countryMap.SN="Senegal",this.countryMap.RS="Serbia",this.countryMap.SC="Seychelles",this.countryMap.SL="Sierra Leone",this.countryMap.SG="Singapore",this.countryMap.BQ="Sint Eustatius and Saba Bonaire",this.countryMap.SX="Sint Maarten ",this.countryMap.SK="Slovakia",this.countryMap.SI="Slovenia",this.countryMap.SB="Solomon Islands",this.countryMap.SO="Somalia",this.countryMap.ZA="South Africa",this.countryMap.GS="South Georgia and The South Sandwich Islands",this.countryMap.SS="South Sudan",this.countryMap.ES="Spain",this.countryMap.LK="Sri Lanka",this.countryMap.PS="State of Palestine",this.countryMap.SD="Sudan",this.countryMap.SR="Suriname",this.countryMap.SJ="Svalbard And Jan Mayen Islands",this.countryMap.SZ="Swaziland",this.countryMap.SE="Sweden",this.countryMap.CH="Switzerland",this.countryMap.SY="Syrian Arab Republic",this.countryMap.TJ="Tajikistan",this.countryMap.TH="Thailand",this.countryMap.CD="The Democratic Republic of The Congo",this.countryMap.MK="The Former Yugoslav Republic of Macedonia",this.countryMap.TL="Timor-leste",this.countryMap.TG="Togo",this.countryMap.TK="Tokelau",this.countryMap.TO="Tonga",this.countryMap.TT="Trinidad And Tobago",this.countryMap.TN="Tunisia",this.countryMap.TR="Turkey",this.countryMap.TM="Turkmenistan",this.countryMap.TC="Turks And Caicos Islands",this.countryMap.TV="Tuvalu",this.countryMap.UG="Uganda",this.countryMap.UA="Ukraine",this.countryMap.AE="United Arab Emirates",this.countryMap.GB="United Kingdom",this.countryMap.TZ="United Republic of Tanzania",this.countryMap.US="United States",this.countryMap.UM="United States Minor Outlying Islands",this.countryMap.UY="Uruguay",this.countryMap.UZ="Uzbekistan",this.countryMap.VU="Vanuatu",this.countryMap.VA="Vatican City State",this.countryMap.VN="Vietnam",this.countryMap.VG="Virgin Islands (British)",this.countryMap.VI="Virgin Islands (US)",this.countryMap.WLS="Wales",this.countryMap.WF="Wallis And Futuna Islands",this.countryMap.EH="Western Sahara",this.countryMap.YE="Yemen",this.countryMap.YU="Yugoslavia",this.countryMap.ZM="Zambia",this.countryMap.ZW="Zimbabwe"}},{key:"getCountryIndex",value:function getCountryIndex(e){var t,n=0;for(t in this.countryMap){if(0===t.localeCompare(e))return n;n++}return 0}},{key:"getStateIndex",value:function getStateIndex(e,t){e=this.stateMap[e];if(e){var n,i=1;for(n in e){if(0===n.localeCompare(t))return i;i++}}return 0}},{key:"populateStates",value:function populateStates(e,t){var n=document.getElementById(e).value,i=document.getElementById(t);i.length=0,i.options[0]=new Option("--- Please select ---","nil"),i.selectedIndex=0;var r=this.stateMap[n];if(r)for(var o in r){var a=r[o];i.options[i.length]=new Option(a,o);o=i.getAttribute("selectedItem");i.selectedIndex=this.getStateIndex(n,o)}else i.options[0]=new Option("N/A","nil")}},{key:"populateCountries",value:function populateCountries(e,t){this.buildCountryMap(),this.buildStateMap();var n,i=document.getElementById(e),r=document.getElementById("cardCountry"),o=this,a=0;for(n in this.countryMap)i.options[a]=new Option(this.countryMap[n],n),r&&(r.options[a]="US"===n?new Option(this.countryMap[n],n,!0,!0):new Option(this.countryMap[n],n)),a+=1;var s=i.getAttribute("selectedItem");i.selectedIndex=this.getCountryIndex(s),o.populateStates(e,t),t&&(i.onchange=function(){o.populateStates(e,t)})}}]),UserProfilePage}(),oi=function(){function GetBadgePage(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,GetBadgePage),this.$el=S()(e),this.settings=S.a.extend({},{selectors:{openModalButton:".MarketingWidget-cta",closeModalButton:".Modal-close",modal:".GetBadgeModal",pageBody:"body"}},t),this.init()}return o()(GetBadgePage,[{key:"selectors",get:function get(){return this.settings.selectors}},{key:"init",value:function init(){var e=this.$el.find(this.selectors.openModalButton),t=this.$el.find(this.selectors.closeModalButton),n=this.$el.find(this.selectors.modal),i=S()(this.selectors.pageBody),r=this;e.each(function(){S()(this).click(function(){var e=S()(this).siblings()[1];S()("#textarea_badge").val(e.value),sendGoogleAnalyticsEvent("Course Badges","Click Get Badge","Click Get Badge "+S()(e).data("badgeEventLabel")||!1),r.openModalDialog(n,i)})}),S()(t).click(function(){S()(n).removeAttr("data-show"),S()(i).removeAttr("data-modal-open")})}},{key:"openModalDialog",value:function openModalDialog(e,t){S()(e).attr("data-show","true"),S()(t).attr("data-modal-open","true")}}]),GetBadgePage}(),ti=function(){function DestinationDetailAbout(e){c()(this,DestinationDetailAbout),this.el=e,this.init(),this.addEvents()}return o()(DestinationDetailAbout,[{key:"init",value:function init(){this.addShowMore(this.el,130)}},{key:"addShowMore",value:function addShowMore(e,t){var n=document.createElement("a");n.setAttribute("href","#"),n.className="showMoreLink",n.innerHTML="Show More",e.clientHeight>t&&(e.parentNode.setAttribute("data-hide","true"),e.after(n.cloneNode(!0)))}},{key:"addEvents",value:function addEvents(){var e=this.el.parentNode.querySelector(".showMoreLink");e&&e.addEventListener("click",this.linkUpdate)}},{key:"linkUpdate",value:function linkUpdate(e){e.preventDefault(),"Show More"===this.innerHTML?(this.innerHTML="Show Less",this.className="showLessLink",this.parentNode.setAttribute("data-hide","false"),sendGoogleAnalyticsEvent("Expander","Expand","Expand Destination Intro")):(this.innerHTML="Show More",this.className="showMoreLink",this.parentNode.setAttribute("data-hide","true"),sendGoogleAnalyticsEvent("Expander","Collapse","Collapse Destination Intro"))}}]),DestinationDetailAbout}(),ii=function(){function LoadMoreAndSortList(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,LoadMoreAndSortList),this.$el=S()(e),this.settings=S.a.extend({},{selectors:{listItems:".LoadMoreAndSortList-items",loadMoreButton:".LoadMoreAndSortList-pagination-next",sortSelectDropDown:'select[name="sortby"]',selectedOption:"option:selected"}},t),this.init()}return o()(LoadMoreAndSortList,[{key:"selectors",get:function get(){return this.settings.selectors}},{key:"init",value:function init(){var n=this.selectors,i=this.$el.find(n.listItems),r=this.$el.find(n.loadMoreButton),o=this.$el.find(n.sortSelectDropDown),a=this;0<r.length&&0<i.length&&(r.attr("data-next-page")?r.on("click",function(e){var t=r.attr("data-next-page");e.preventDefault(),r.addClass("LoadMoreWaiting"),S.a.get(t).then(function(e){r.removeClass("LoadMoreWaiting");e=S()(e).find(n.listItems);0<e.length&&(i.append(e),a.updateLoadMoreButton(r,e))}).fail(function(){r.removeClass("LoadMoreWaiting")})}):r.hide()),0<o.length&&o.on("change",function(e){e.preventDefault(),o.addClass("LoadMoreWaiting");var e=o.find(n.selectedOption).val(),t=S()(this).parents(".CourseList").attr("data-id");S.a.get(e).then(function(e){o.removeClass("LoadMoreWaiting");e=S()(e).find("[data-id="+t+"] .LoadMoreAndSortList-items");0<e.length&&(i.html(e),a.updateLoadMoreButton(r,e))}).fail(function(){o.removeClass("LoadMoreWaiting")})})}},{key:"updateLoadMoreButton",value:function updateLoadMoreButton(e,t){t=t.attr("data-next-page");t?(e.show(),e.attr("data-next-page",t)):e.hide()}}]),LoadMoreAndSortList}(),kr=window.sessionStorage&&window.sessionStorage.getItem("FS_ENV")||"https://sfapi.formstack.io",t=function(){function FormStackFormModule(e,t){if(c()(this,FormStackFormModule),this.options=S.a.extend(!0,{},t,e.dataset),"string"==typeof this.options.formstackDefaultValues||this.options.formstackDefaultValues instanceof String)try{this.options.formstackDefaultValues=JSON.parse(this.options.formstackDefaultValues)}catch(e){}this.el=e,this.container=this.el.querySelector(".FormStackFormModule-content"),this.init()}return o()(FormStackFormModule,[{key:"init",value:function init(){var o=this;window.executeDefaultFormLoad=!0;var t=["Membership","Tee Times/Member for a Day"],e=o.options.formstackDefaultValues["MPLTT_Lead__c.GolfFacilityId2__c"];o.options.optionsApiUrlPrefix&&(e=o.options.optionsApiUrlPrefix+e+"/interest-options",S.a.getJSON(e,function(e){!0===e.success&&(t=e.data.split(";"))})),window.FF_OnAfterRender=function(){S.a.each(o.options.formstackDefaultValues,function(e,t){S()('#dvFastForms [name="'.concat(e,'"]')).val(t)});var e=S.a.map(S()(".ff-multipicklist > option"),function(e){return S()(e).val()});return S()(e).not(t).each(function(e,t){S()('li.ff-checkbox-li > span[data-value="'+t+'"]').parent().hide()}),FFEvaluateRules(),!0},window.FF_OnAfterSave=function(){var e=function trackingCallback(){},t=o.options.formstackSuccessUrl;t&&(e=function createFunctionWithTimeout(e,t){var n=!1;function fn(){n||(n=!0,e())}return setTimeout(fn,t||1e3),fn}(function(){window.location=t},1e3));var n=o.options.formstackFormId;sendGoogleAnalyticsEvent("Forms","FormStack Form Modal Submit","FormStack Form Submit [".concat(n,"]"),null,{event_callback:e});var i,r=S()(o.el).closest(".Modal");r.length&&(i=setInterval(function(){S()("#dvFastForms.ff-ui-dialog").length&&(clearInterval(i),S()("#dvFastForms.ff-ui-dialog").remove(),S()(".ui-widget-overlay.ui-front").remove(),r.removeAttr("data-show"),S()("body").removeAttr("data-modal-open"))},300))},S()(o.container).empty().append(S()('<script type="text/javascript" id="jsFastForms" src="'.concat(kr,"/FormEngine/Scripts/Main.js?d=").concat(o.options.formstackFormId,'"><\/script>')))}}]),FormStackFormModule}(),i=function(){function FormStackFormModal(e){c()(this,FormStackFormModal),d()(this,"modalTemplate",'\n      <div id="FSModal" class="Modal">\n          <div class="Modal-contents">\n              <button class="Modal-close" aria-label="close"></button>\n              <div id="FSFormContainer"></div>\n          </div>\n      </div>\n  '),d()(this,"selectors",{body:"body",modal:"#FSModal",modalClose:"#FSModal .Modal-close",formContainer:"#FSFormContainer"}),this.el=e,this.init()}return o()(FormStackFormModal,[{key:"init",value:function init(){var t=this;this.el.addEventListener("click",function(e){t.handleClick(e)})}},{key:"handleClick",value:function handleClick(e){var t,n=this,i=this.el.nextElementSibling;i&&"SCRIPT"===i.tagName&&(i=S()(S()(i).html()),t=i.attr("data-formstack-form-id"),e.preventDefault(),S()(this.selectors.modal).length||(S()(this.selectors.body).append(S()(this.modalTemplate)),S()(this.selectors.modalClose).on("click",function(){S()(n.selectors.modal).removeAttr("data-show"),S()(n.selectors.body).removeAttr("data-modal-open"),sendGoogleAnalyticsEvent("Forms","FormStack Form Modal Close","FormStack Form Modal Close [".concat(t,"]"))})),S()(this.selectors.formContainer).empty().append(i),S()(this.selectors.modal).attr("data-show","true"),S()(this.selectors.body).attr("data-modal-open","true"),sendGoogleAnalyticsEvent("Forms","FormStack Form Modal Open","FormStack Form Modal Open [".concat(t,"]")))}}]),FormStackFormModal}(),Xn=function(){function BV(e){c()(this,BV),d()(this,"modalTemplate",'\n      <div id="BVModal" class="Modal">\n          <div class="Modal-contents">\n              <button class="Modal-close" aria-label="close"></button>\n              <div id="BVSubmissionContainer"></div>\n          </div>\n      </div>\n  '),d()(this,"competePromoTemplate",'\n      <div class="CompetePromo">\n          <div class="CompetePromo-media"></div>\n          <div classs="CompetePromo-info">\n              <div class="CompetePromo-title">Track Your Stats With GolfNow Compete!</div>\n              <div class="CompetePromo-text">Live scoring, statistics, automatic scoring for thousands of courses.</div>\n              <div class="CompetePromo-ctas-title">Download Today!</div>\n              <div class="CompetePromo-ctas">\n                  <a class="CompetePromo-cta app-store" href="https://apps.apple.com/bm/app/golfnow-compete-tournaments/id1451640918" target="_blank" rel="noopener"></a>\n                  <a class="CompetePromo-cta google-play" href="https://play.google.com/store/apps/details?id=com.golfnow.compete&hl=en_US" target="_blank" rel="noopener"></a>\n              </div>\n          </div>\n      </div>\n  '),d()(this,"newReviewButtonTemplate",'\n      <br><a class="ButtonSolid BVModal-new-review" href="https://www.golfpass.com/travel-advisor/write-review">New Review</a>\n  '),d()(this,"selectors",{body:"body",modal:"#BVModal",modalClose:"#BVModal .Modal-close",submissionContainer:"#BVSubmissionContainer",summaryContainer:"#BVRRSummaryContainer"}),this.init()}return o()(BV,[{key:"init",value:function init(){var r=this;$BV.configure("global",{submissionContainerUrl:window.location.href,allowSamePageSubmission:!0,userToken:Ie.a.get("bv_token"),doLogin:function doLogin(e,t){BV.debug("BV doLogin"),window.location="/authenticate/login?next="+encodeURIComponent(t)},doShowSubmission:function doShowSubmission(){BV.debug("BV doShowSubmission"),S()(r.selectors.modal).length||S()(r.selectors.body).append(S()(r.modalTemplate)),S()(r.selectors.submissionContainer).empty(),S()(r.selectors.body).removeAttr("data-show-compete-promo"),S()(r.selectors.modal).attr("data-show","true"),S()(r.selectors.body).attr("data-modal-open","true"),S()(r.selectors.modal).attr("data-bv-modal-track-close","true"),S()(r.selectors.modal).attr("data-bv-modal-track-open","true")},onSubmissionReturn:function onSubmissionReturn(){return BV.debug("BV onSubmissionReturn"),S()(r.selectors.modal).removeAttr("data-show"),S()(r.selectors.body).removeAttr("data-modal-open"),"function"==typeof window.BVHook&&window.BVHook({xevent:"onSubmissionReturn"},S()(r),this),!1},doScrollSubmission:function doScrollSubmission(){return BV.debug("BV doScrollSubmission"),"function"==typeof window.MIRCHandler&&window.MIRCHandler(),S()(r.selectors.modal).animate({scrollTop:0},"slow"),S()(".BVContextDataSendTipsAndOffersLabel").after('<div class="tooltip">\n               <span class="tooltiptext">Golf Channel and GolfNow</span>\n           </div>'),!1},onEvent:function onEvent(e){BV.debug("BV onEvent",e),"REVIEW_THANKYOU"!==e.pageStatus||"Confirm"!==e.pageType||S()(r.selectors.modal+" .CompetePromo").length||r.showCompetePromo();var t,n=!1,i={eventCategory:"Unexpected Submission",eventAction:"Unexpected Submission",eventLabel:JSON.stringify(e)};"Review"===e.eventTarget?i.eventCategory="Review Submission":"Comment"===e.eventTarget?i.eventCategory="Review Comment Submission":"Profile"===e.eventTarget&&(i.eventCategory="Review Profile Submission"),"Read"===e.eType?"AuthenticationFailure"===e.pageStatus&&(i.eventAction=i.eventCategory+" Authentication Error",i.eventLabel=i.eventCategory+" Authentication Error",n=!0):"Write"===e.eType&&("Action"===e.eventSource?e.formAction?"Cancel"===e.formAction&&(i.eventAction=i.eventCategory+" Cancel",i.eventLabel=i.eventCategory+" Cancel From Form ("+e.pageType+")",n=!0):n=("SubmitActivity"===e.eName||"Whitespace"===e.eName||"External"===e.linkDestinationLocation&&e.pageType,!1):"Display"===e.eventSource&&("Confirm"===e.pageType?S()(r.selectors.modal).removeAttr("data-bv-modal-track-close"):(t={eventCategory:i.eventCategory,eventAction:i.eventCategory+" Cancel",eventLabel:i.eventCategory+" Cancel From Modal ("+e.pageType+")"},S()(r.selectors.modal).attr("data-bv-modal-track-close",JSON.stringify(t))),t="",S()(r.selectors.modal).attr("data-bv-modal-track-open")&&(S()(r.selectors.modal).removeAttr("data-bv-modal-track-open"),t=" (Initial)"),"validationError"===e.pageStatus&&(t=" (Validation Error)"),i.eventAction=i.eventCategory+" Display "+e.pageType,i.eventLabel=i.eventCategory+" Display "+e.pageType+t,n=!0)),"Write"!==e.eType||"Recommend"!==e.fieldName&&"Rating"!==e.fieldName||!0!==S()("#BVFieldRecommendNoID").is(":checked")||"5"!==S()(".BVRatingStarsLegend > .BVRatingStarsDisplayValue").html()&&"4"!==S()(".BVRatingStarsLegend > .BVRatingStarsDisplayValue").html()||window.alert("Are you sure you don't want to recommend this course since you gave it such a high star rating?"),n&&BV.trackEvent(i),"function"==typeof window.BVHook&&window.BVHook(e,S()(r),this)}});try{$BV.ui("rr","show_reviews")}catch(e){}S()("body").on("click",r.selectors.modalClose,function(e){e.preventDefault(),S()(r.selectors.modal).removeAttr("data-show"),S()(r.selectors.body).removeAttr("data-modal-open");var t=S()(r.selectors.modal).attr("data-bv-modal-track-close");if(t){e={eventCategory:"Unexpected Submission",eventAction:"Unexpected Submission Cancel",eventLabel:"Unexpected Submission Cancel From Modal (N/A)"};try{var n=JSON.parse(t);!0!==n&&(e=n)}catch(e){}BV.trackEvent(e)}})}},{key:"showCompetePromo",value:function showCompetePromo(){S()(this.selectors.modal).attr("data-show-compete-promo","true"),S()(this.selectors.modal+" .BVFooter").prepend(S()(this.competePromoTemplate)),S()(this.selectors.modal+" .BVRRTYFooter").append(S()(this.newReviewButtonTemplate))}}],[{key:"trackEvent",value:function trackEvent(e){BV.debug("BV Submission Tracking",e),sendGoogleAnalyticsEvent(e.eventCategory,e.eventAction,e.eventLabel)}},{key:"debug",value:function debug(){BV.DEBUG&&console.log.apply(console,arguments)}}]),BV}();Xn.DEBUG=window.sessionStorage&&window.sessionStorage.getItem("BV_DEBUG");function z11(e){c()(this,z11),this.$el=S()(e),this.target=this.$el.attr("data-video-module-overlay-launcher"),this.$target=S()(this.target),this.$close=this.$target.find('> [class$="-close"]'),this.$body=S()("body");var t,n,i=this,r=this.$target.find(".PlaylistItem").length,o="Videos";0!==r?(1===r&&(o="Video"),this.$el.text("".concat(r," ").concat(o)),this.$el.click(t=function openFunc(){i.$target.attr("data-show","true"),i.$body.attr("data-modal-open","true"),S()(".Header").hide(),S()(".CoursePage-aside-wrapper").css("transform","none"),S()(".CoursePage-pageLead").css("display","none")}),(n=this.$el.closest(".Carousel").find("[data-slick-carousel]")).hide(),e=this.$target.find(".PlaylistItem").first().find(".PlaylistItem-media img").attr("data-srcset").split(" ")[0],(r=S()('<button class="CoursePageSidebar-playButton"> </button>')).click(t),o=S()('<img style="width:100%; cursor:pointer"></img>'),S()(o).hover(function(){S()(this).parent().find(".CoursePageSidebar-playButton").toggleClass("CoursePageSidebar-playButton-hover")}),o.click(t),o.attr("src",e),n.parent().prepend(o),n.parent().prepend(r),this.$close.click(function(){i.$target.removeAttr("data-show"),i.$body.removeAttr("data-modal-open"),S()(".Header").show(),S()(".CoursePage-aside-wrapper").css("transform","translate3d(0,0,0)"),S()(".CoursePage-pageLead").css("display","flex"),window.videojs(S()(".video-js").attr("id")).pause()})):this.$el.remove()}var Er,Ar="Native Ads",Kn=function(){function NativeAd(e){var t=this;c()(this,NativeAd),this.el=e,this.source=this.el.getAttribute("data-nativead"),this.source?this.getAd().then(function(e){t.displayAd(e)},function(e){console.log("get ads error",e),t.el.style.display="none"}):this.applyGoogleAnalyticsEvents(this.el)}return o()(NativeAd,[{key:"getAd",value:function getAd(){return void 0===Er&&(Er=new Promise(function(t,n){window.fetch("/ajax/cachednativeads").then(function(e){return e.json()}).then(function(e){t(shuffleArray(e))},function(e){n(e)})})),new Promise(function(n,t){Er.then(function(e){var t=e.shift();e.push(t),n(t)},function(e){t(e)})})}},{key:"applyGoogleAnalyticsEvents",value:function applyGoogleAnalyticsEvents(e){var t=e.getAttribute("data-event-label");t&&(sendGoogleAnalyticsEvent(Ar,"Native Ads Impression",t,null,{non_interaction:!0}),e.addEventListener("click",function(e){sendGoogleAnalyticsEvent(Ar,"Native Ads Click",t,null)}))}},{key:"displayAd",value:function displayAd(e){var t=e.name,n=e.description,i=e.adUrl,r=e.image,e=e.eventLabel;this.el.querySelectorAll("[data-image]").forEach(function(e){e.setAttribute("src",r)}),this.el.querySelectorAll("[data-title] a").forEach(function(e){e.innerText=t}),this.el.querySelectorAll("[data-url]").forEach(function(e){e.setAttribute("href",i)}),this.el.querySelectorAll("[data-description]").forEach(function(e){e.innerText=n}),this.el.setAttribute("data-event-label",e),this.applyGoogleAnalyticsEvents(this.el)}}]),NativeAd}(),Pr=["www.golfadvisor.com","golfadvisor.brightspotcdn.com","www.golfpass.com","www.golfpass.co.uk","www.golfpass.com.au","golf-pass.brightspotcdn.com"],Qn=function(){function OutlinksTrack(e){c()(this,OutlinksTrack),this.el=e,this.applyGoogleAnalyticsEvents()}return o()(OutlinksTrack,[{key:"applyGoogleAnalyticsEvents",value:function applyGoogleAnalyticsEvents(){var e=document.location.protocol+"//"+document.location.hostname;S()(this.el).on("click",'a[href^="http"]:not([href*="'+e+'"])',function(e){e=e.target.closest("a");e&&Pr.indexOf(e.hostname.toLocaleLowerCase())<0&&(e.target||(e.target="_blank"),e.target&&e.target.match(/_blank/i)&&(e.rel?e.rel.match(/noopener/)||(e.rel=e.rel+" noopener"):e.rel="noopener"),sendGoogleAnalyticsEvent("Outbound click",e.host,e.href,null))})}}]),OutlinksTrack}(),Ht=function(){function CarouselGoogleAnalytics(e){c()(this,CarouselGoogleAnalytics),d()(this,"selectors",{gallerySlide:".GallerySlide",changeImgEmbeddedBtns:".slick-next, .slick-prev",changeImgLightboxBtns:".gprev, .gnext"}),this.el=e,this.init()}return o()(CarouselGoogleAnalytics,[{key:"init",value:function init(){this.setupEmbeddedEvents(),this.setupFullscreenEvents()}},{key:"setupEmbeddedEvents",value:function setupEmbeddedEvents(){this.el.querySelectorAll(this.selectors.changeImgEmbeddedBtns).forEach(function(e){e.addEventListener("click",function(){sendGoogleAnalyticsEvent("Gallery","Change Image",null==document.querySelector("html.CoursePage")?"Embedded Article Gallery":"Embedded Course Gallery")})})}},{key:"setupFullscreenEvents",value:function setupFullscreenEvents(){this.el.querySelectorAll(this.selectors.gallerySlide).forEach(function(e){e.addEventListener("click",function(){sendGoogleAnalyticsEvent("Gallery","Click Fullscreen",null==document.querySelector("html.CoursePage")?"Article Gallery Fullscreen":"Course Gallery Fullscreen")})})}}]),CarouselGoogleAnalytics}(),p=function(){function CarouselLightboxGoogleAnalytics(e){c()(this,CarouselLightboxGoogleAnalytics),d()(this,"selectors",{changeImgLightboxBtns:".gprev, .gnext"}),this.el=e,this.init()}return o()(CarouselLightboxGoogleAnalytics,[{key:"init",value:function init(){this.setupLightboxEvents()}},{key:"setupLightboxEvents",value:function setupLightboxEvents(){document.querySelectorAll(this.selectors.changeImgLightboxBtns).forEach(function(e){e.addEventListener("click",function(){sendGoogleAnalyticsEvent("Gallery","Change Image",null==document.querySelector("html.CoursePage")?"Lightbox Article Gallery":"Lightbox Course Gallery")})})}}]),CarouselLightboxGoogleAnalytics}(),m=function(){function GetawaysActionBar(e){c()(this,GetawaysActionBar),d()(this,"settings",{stickyClass:"sticky",hiddenClass:"hide",targetInViewThreshold:.3}),this.el=e,this.target=null,this.offset=null,this.init()}return o()(GetawaysActionBar,[{key:"init",value:function init(){var e=this,t=this.el.querySelector(".GetawaysActionBar-cta a");null!=t&&t.getAttribute("href")&&(this.target=document.querySelector('[data-cta="'+t.getAttribute("href").replace(/^#/,"").replace(/"/,'\\"')+'"]')),window.addEventListener("scroll",Throttle_throttle(75,function(){e.scroll()}))}},{key:"scroll",value:function scroll(){var e,t,n=this.isSticky(),i=window.pageYOffset,r=document.body.getBoundingClientRect();n||(t=this.el.getBoundingClientRect(),this.offset=t.top-r.top),i<=this.offset&&n?this.unstick():i>this.offset&&(n||this.stick(),null!=this.target&&(t=(e=this.target.getBoundingClientRect()).bottom-e.top,n=e.top-r.top,r=e.bottom-r.top,t=Math.min(window.innerHeight,t)*this.settings.targetInViewThreshold,i+window.innerHeight>n+t&&i<=r-t?this.hide():this.show()))}},{key:"stick",value:function stick(){this.el.classList.add(this.settings.stickyClass),document.querySelector("body").style.paddingTop=this.el.getBoundingClientRect().bottom-this.el.getBoundingClientRect().top+"px"}},{key:"unstick",value:function unstick(){this.el.classList.remove(this.settings.stickyClass),document.querySelector("body").style.paddingTop="0px"}},{key:"isSticky",value:function isSticky(){return this.el.classList.contains(this.settings.stickyClass)}},{key:"hide",value:function hide(){this.el.classList.add(this.settings.hiddenClass)}},{key:"show",value:function show(){this.el.classList.remove(this.settings.hiddenClass)}}]),GetawaysActionBar}(),y=function(){function GetawaysReslogicActionModule(e){c()(this,GetawaysReslogicActionModule),d()(this,"settings",{stickyClass:"sticky"}),this.el=e,this.init()}return o()(GetawaysReslogicActionModule,[{key:"showError",value:function showError(e,t){e.style.display="block"}},{key:"init",value:function init(){var t=this.el.querySelector("input#rlq-startDate"),n=this.el.querySelector("input#rlq-endDate"),e=this.el.querySelector("form"),i=this.el.querySelector(".reslogic-quote-dest-list select");i&&(i.onchange=function(e){var t=this.options[this.selectedIndex];this.name=t.dataset.type}),e.onsubmit=function(e){},t.min=(new Date).toISOString().split("T")[0],t.addEventListener("change",function(e){n.min=t.value})}}]),GetawaysReslogicActionModule}(),b=function(){function BestOfMapModule(e){c()(this,BestOfMapModule),this.init(e)}return o()(BestOfMapModule,[{key:"init",value:function init(e){var n=e.getAttribute("data-filter-tag")||"Golfers' Choice 2020";AmCharts.makeChart("chartdiv",{type:"map",theme:"light",colorSteps:10,dataProvider:{map:"usaLow",getAreasFromMap:!0},areasSettings:{autoZoom:!0,selectedColor:"#96e2ef",rollOverColor:"#96e2ef",color:"#0076bb",outlineThickness:"2"},listeners:[{event:"clickMapObject",method:function method(e){var t=e.mapObject;t.showAsSelected=!t.showAsSelected,e.chart.returnInitialColor(t),e.mapObject.description="<div id='mapcontent' style='display:flex;'></div>";var e=e.mapObject.enTitle,e="/ajax/articles?location=".concat(e,"&ancestor=").concat("USA","&tag=").concat(n);window.fetch(e).then(function(e){if(e.ok)return e;throw new Error("Network response was not ok: "+e.statusText)}).then(function(e){return e.json()}).then(function(t){var n;S.a.isEmptyObject(t)?setTimeout(function(){S()("#mapcontent").html("<p>Coming Soon</p>")},1e3):(n="",S.a.each(t,function(e){n+='<div class="best-img">\n                                    <a href="'.concat(t[e].url,'">\n                                        <img class="state-img" src="').concat(t[e].image,'" alt="article-img">\n                                    </a>\n                                </div>\n                                <div class="best-titles">\n                                    <h4><a href="').concat(t[e].url,'">').concat(t[e].headline,'</a></h4>\n                                    <p><a href="').concat(t[e].url,'">').concat(t[e].subHeadline,"</a></p>\n                                </div>")}),setTimeout(function(){S()("#mapcontent").html(n)},1e3))}).catch(function(e){setTimeout(function(){S()("#mapcontent").html("<p>Coming Soon</p>")},1e3),console.log("There has been a problem with the fetch operation: ",e.message)})}},{event:"descriptionClosed",method:function method(e){e.chart.selectObject()}}]})}}]),BestOfMapModule}(),ee=n("./styleguide/utils/script.js"),xr=n.n(ee),Ue=function(){function StatesMapModule(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c()(this,StatesMapModule),this.$el=S()(e),this.settings=S.a.extend({},{selectors:{chartDiv:".chartDiv"}},t),this.init()}return o()(StatesMapModule,[{key:"init",value:function init(){var n=this,e=S.a.Deferred(),t="/ajax/resort_states?rootSectionId="+n.$el.attr("data-rootsectionid");xr()("https://www.gstatic.com/charts/loader.js",function(){google.charts.load("current",{packages:["geochart"],mapsApiKey:getGoogleMapsApiKey()}),google.charts.setOnLoadCallback(function(){e.resolve()}),S.a.when(S.a.get(t),e).done(function(e,t){n.drawChart(e[0])})})}},{key:"drawChart",value:function drawChart(e){var i={},r=[["State","Resorts"]];e.forEach(function(e,t){0<(i[e.state]=e).count&&r.push([e.state,e.count])}),console.log("init charts here",e,i,r);var e=this.$el.find(this.settings.selectors.chartDiv)[0],o=new google.visualization.GeoChart(e);google.visualization.events.addListener(o,"select",function myClickHandler(){for(var e=o.getSelection(),t=0;t<e.length;t++){var n=e[t];null!=n.row&&(n=i[r[n.row+1][0]].url,window.location.href=n)}}),o.draw(google.visualization.arrayToDataTable(r),{dataMode:"regions",region:"US",resolution:"provinces",legend:"none",colorAxis:{colors:["63afbc","63afbc"]},width:"auto"})}}]),StatesMapModule}(),Mr={center:{lat:0,lng:0},zoom:12,mapTypeId:"roadmap",mapTypeControl:!0,mapTypeControlOptions:{style:2},panControl:!1,streetViewControl:!1,gestureHandling:"greedy",styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},_t=function(){function ListWithMap(e,t){c()(this,ListWithMap),d()(this,"selectors",{map:".GoogleMap-mapContainer",spriteMarkerIndex:"data-sprite-marker-index"});var n=this;this.el=e,this.options=S.a.extend(!0,{},{map:Mr,mapSelector:this.selectors.map},t),this.map=this.el.querySelector(this.selectors.map),this.spriteMarkerIndex=this.el.getAttribute(this.selectors.spriteMarkerIndex),Cn()({key:getGoogleMapsApiKey(),libraries:["places"]}).then(function(e){n.initializeMap(S.a,n,document)})}return o()(ListWithMap,[{key:"initializeMap",value:function initializeMap(r,o,e){var a;o.mapEl=o.el.querySelector(o.options.mapSelector),o.mapEl&&(a=null,o.map=new google.maps.Map(o.mapEl,o.options.map),r(o.el).find(".ListWithMap-items .ListWithMap-items-item > div").each(function(e,t){var n=r.extend(!0,{},o.options.marker);n.icon={url:"//s3.amazonaws.com/gav_static/assets/maps/sprite-markers-v2.png",size:new google.maps.Size(144*.15,25.2),scaledSize:new google.maps.Size(144*.15,176.4),origin:new google.maps.Point(0,168*o.spriteMarkerIndex*.15),anchor:new google.maps.Point(72*.15,25.2)},n.position={lat:parseFloat(r(t).attr("data-lat")),lng:parseFloat(r(t).attr("data-lng"))};var i=new google.maps.Marker(n);i.addListener("click",function(){o.infoWindow||(o.infoWindow=new google.maps.InfoWindow({content:""})),o.infoWindow.open(o.map,i),o.infoWindow.setContent('<div class="infoBoxX">'+t.outerHTML+"</div>")}),i.setMap(o.map),a?a.extend(n.position):a=new google.maps.LatLngBounds(n.position,n.position),o.infoWindow||(o.infoWindow=new google.maps.InfoWindow({content:""})),o.infoWindow.open(o.map,i),o.infoWindow.setContent('<div class="infoBoxX">'+t.outerHTML+"</div>")}),o.map.fitBounds(a))}}]),ListWithMap}(),Ir="S&P Package",Zn=function(){function GolfPackageGoogleAnalytics(e){c()(this,GolfPackageGoogleAnalytics),this.el=e,this.applyGoogleAnalyticsEvents(this.el)}return o()(GolfPackageGoogleAnalytics,[{key:"applyGoogleAnalyticsEvents",value:function applyGoogleAnalyticsEvents(e){var t=e.getAttribute("data-golf-package-event-label");t&&(sendGoogleAnalyticsEvent(Ir,"S&P Package Impression",t,null,{non_interaction:!0}),S()(e).find('a:contains("Book Now")').on("click",function(e){sendGoogleAnalyticsEvent(Ir,"S&P Package Click",t,null)}))}}]),GolfPackageGoogleAnalytics}(),ee=n("./node_modules/lazysizes/lazysizes.js"),ee=n.n(ee);window.$=S.a,"www.golfpass.com"!==document.location.host&&"www.golfpass.co.uk"!==document.location.host&&"www.golfpass.com.au"!==document.location.host||(window.$.migrateMute=!0),Pe.register(l,"[data-slick-carousel]"),Pe.register(he,"[data-slick-carousel]"),Pe.register(Qt,".backTop"),Pe.register(Zt,".Banner"),Pe.register(He,".Playlist"),Pe.register(sn,".dvt-signup"),Pe.register(an,an.SELECTOR),Pe.register(In,In.SELECTOR),Pe.register(cn,".SweepstakesForm"),Pe.register(dn,".GalleryInline"),Pe.register(fn,".Carousel, .CarouselSidebar, .GalleryPage-slides, .GalleryPage-gridLead, .GalleryInline-images"),Pe.register(mn,".GAGalleryPage-slides, .GalleryPage-gridLead"),Pe.register(gn,".GolfSubscriptionConfirmation"),Pe.register(vn,"[data-infinite-load], [data-load-more]"),Pe.register(_n,".LocaleBanner"),Pe.register(Tn,".Article, .Article-large, .Article-longform"),Pe.register(u01,".PolicyBanner"),Pe.register(kn,".RegistrationForm,".concat(an.SELECTOR,",").concat(In.SELECTOR,", ").concat(Yn.SELECTOR)),Pe.register(yn,'.Header [data-load-complete="true"], .GetawaysHeader [data-load-complete="true"]'),Pe.register(wn,".ListingLocation"),Pe.register(Rn,".SearchOverlay"),Pe.register(Nn,Nn.SELECTOR),Pe.register(Bn,"[data-toggle-trigger]"),Pe.register(ze,".ListFiveColumnGrid"),Pe.register(on,"[data-gtm-ecommerce-analytics]"),Pe.register(Gi,"[data-gtm-link-analytics]"),Pe.register(vi,"[data-gtm-video-analytics]"),Pe.register(Ae,".CheckoutConfirmationPromo"),Pe.register(r01,".Article-longform"),Pe.register(xe,".PromoHover-narrow"),Pe.register(Me,".FullWidthPromo-video"),Pe.register(Ji,".EpisodePage"),Pe.register(Le,".ShowEpisodePage"),Pe.register(ki,ki.SELECTOR),Pe.register(er,"header"),Pe.register(tr,".VideoFavorite"),Pe.register(Oe,".VideoFavoritesPage"),Pe.register(rn,".PromoCodeRedemptionInput"),Pe.register(J01,".Header-navigation"),Pe.register($t,$t.SELECTOR),Pe.register(We,We.SELECTOR),Pe.register(Z$b,"[data-dfp-configured] .GoogleDfpAd"),Pe.register(ft,Ke),Pe.register(Hn,".AuthenticatedNavigationItem-upgrade button"),Pe.register(Hn,'.ComparePlans button[type="submit"]'),Pe.register(pt,".RatingSnapshot, .CoursesNearMe-tabsList, .DestinationMapModule-tabsList, .UserProfilePage-tabs, .BottomBorderTabs"),Pe.register(gt,".NavTabs"),Pe.register(vt,".SearchResultsPage-list"),Pe.register(bt,bt.SELECTOR),Pe.register(Tt,"[data-search-autocomplete]"),Pe.register(St,St.SELECTOR),Pe.register(qb1,qb1.SELECTOR),Pe.register(Ct,Ct.SELECTOR),Pe.register(wt,".Article-articleBody, .GalleryPage-slides"),Pe.register(lt,".GoogleMap-main"),Pe.register(Lt,".GMap"),Pe.register(hn,".LockedContentModal"),Pe.register(Rt,".LoginForm, [data-modal], [data-report-modal]"),Pe.register(Sn,".ToggleParentItem"),Pe.register(En,".RatingBars"),Pe.register(Ln,".RatingSnapshot"),Pe.register(Vn,".ReviewComment, .ReviewItem, .ReviewerItem"),Pe.register(W,".ReviewList"),Pe.register(r,".CourseAbout"),Pe.register(a,".CoursePage-body"),Pe.register(s,".CourseScorecard"),Pe.register(u,".CoursesNearMe"),Pe.register(Wn,".CourseSearch"),Pe.register(Un,".MyCourses"),Pe.register($n,".FavoriteCourses"),Pe.register(Jn,".CoursesWithMembershipBenefits"),Pe.register(ei,".ResortPage-body"),Pe.register(ni,".ArchitectPage"),Pe.register(ri,".UserProfilePage"),Pe.register(oi,".GetBadgePage-body"),Pe.register(ti,".DestinationDetailAbout-description"),Pe.register(ii,".LoadMoreAndSortList"),Pe.register(t,".FormStackFormModule"),Pe.register(i,"[data-formstack-modal]"),Pe.register(Xn,".CoursePage, .ResortPage, .ProfilePage, .UserProfilePage, .MembershipPage"),Pe.register(Kn,"[data-nativead], .NativeAdPromo"),Pe.register(Qn,"body"),Pe.register(Ht,".Carousel"),Pe.register(p,".glightbox-GalleryOverlay"),Pe.register(m,".GetawaysActionBar"),Pe.register(y,".GetawaysReslogicActionModule"),Pe.register(Re,"aside .GoogleDfpAd:last-child"),Pe.register(z11,"[data-video-module-overlay-launcher]"),Pe.register(b,".BestOfMapModule"),Pe.register(Ue,".StatesMapModule"),Pe.register(_t,".ListWithMap"),Pe.register(Zn,".PromoImageOnSide-golfPackage, .GolfPackagePage-button"),De.registerAll(Pe),detectMob()?(ee.a.cfg.hFac=0,ee.a.cfg.loadMode=1):(ee.a.cfg.hFac=1.25,ee.a.cfg.loadMode=3),ee.a.cfg.loadHidden=!1,function attachEvents(){document.addEventListener("lazyloaded",function(e){e.target.parentNode.classList.add("image-loaded"),e.target.parentNode.classList.remove("loading")}),window.addEventListener("click",function(){window.sessionStorage.setItem("userstatus","active"),window.sessionStorage.setItem("timestamp",(new Date).getTime().toString())})}()},"./styleguide/All.less":function(e,t,n){},"./styleguide/utils/script.js":function(e,t,n){var i;i=function(){var s,r,o=document,a=o.getElementsByTagName("head")[0],l=!1,u="readyState",c="onreadystatechange",d={},h={},p={},f={};function every(e,t){for(var n=0,i=e.length;n<i;++n)if(!t(e[n]))return l;return 1}function each(e,t){every(e,function(e){return t(e),1})}function $script(e,t,n){e=e.push?e:[e];var i=t&&t.call,r=i?t:n,o=i?e.join(""):t,a=e.length;function loopFn(e){return e.call?e():d[e]}function callback(){if(!--a)for(var e in d[o]=1,r&&r(),p)every(e.split("|"),loopFn)&&!each(p[e],loopFn)&&(p[e]=[])}return setTimeout(function(){each(e,function loading(e,t){return null===e?(callback(),0):(t||/^https?:\/\//.test(e)||!s||(e=-1===e.indexOf(".js")?s+e+".js":s+e),f[e]?(o&&(h[o]=1),2==f[e]?callback():setTimeout(function(){loading(e,!0)},0)):(f[e]=1,o&&(h[o]=1),void create(e,callback)))})},0),$script}function create(e,t){var n,i=o.createElement("script");i.onload=i.onerror=i[c]=function(){i[u]&&!/^c|loade/.test(i[u])||n||(i.onload=i[c]=null,n=1,f[e]=2,t())},i.async=1,i.src=r?e+(-1===e.indexOf("?")?"?":"&")+r:e,a.insertBefore(i,a.lastChild)}return $script.get=create,$script.order=function(t,n,i){!function callback(e){e=t.shift(),t.length?$script(e,callback):$script(e,n,i)}()},$script.path=function(e){s=e},$script.urlArgs=function(e){r=e},$script.ready=function(e,t,n){e=e.push?e:[e];var i=[];return each(e,function(e){d[e]||i.push(e)}),every(e,function(e){return d[e]})?t():(e=e.join("|"),p[e]=p[e]||[],p[e].push(t),n&&n(i)),$script},$script.done=function(e){$script([null],e)},$script},e.exports?e.exports=i():void 0===(i="function"==typeof(i=i)?i.call(t,n,t,e):i)||(e.exports=i)},"./styleguide/utils/tinysort.min.js":function(e,i,o){"use strict";!function(e){var t,k,n,E,A,P,M,I,L,O,D;function c(e,t){for(var n,i=e.length,r=i;r--;)t(e[n=i-r-1],n)}function b(e,t,n){for(var i in t)!n&&e[i]!==k||(e[i]=t[i]);return e}function d(e,t,n){I.push({prepare:e,sort:t,sortBy:n})}window,k=void 0,n=window,E=n.document,A=parseFloat,L={selector:null,order:"asc",attr:null,data:null,useVal:!(I=[]),place:"org",returns:!(M=/(\d+\.?\d*)\s*$/g),cases:!(P=/(-?\d+\.?\d*)\s*$/g),natural:!1,forceStrings:!1,ignoreDashes:!1,sortFunction:null,useFlex:!1,emptyEnd:!1,console:console},D=O=0,n.Element&&((n=Element.prototype).matches=n.matches||n.msMatchesSelector),b(d,{loop:c}),t=b(function(e,n){function g(e){var t=!!e.selector,n=t&&":"===e.selector[0],e=b(e||{},L);m.push(b({hasSelector:t,hasAttr:null!==e.attr&&""!==e.attr,hasData:null!==e.data,hasFilter:n,sortReturnNumber:"asc"===e.order?1:-1},e))}function r(e){for(var t,n=[],i=0,r=-1,o=0,a=void 0;t=(a=e.charAt(i++)).charCodeAt(0);)(t=46===t||48<=t&&t<=57)!==o&&(n[++r]="",o=t),n[r]+=a;return n}function u(){return d.forEach(function(e){return o.appendChild(e.elm)}),o}function v(e){var t=e.elm,n=E.createElement("div");return e.ghost=n,t.parentNode.insertBefore(n,t),e}function w(e,t){var n=e.ghost,i=n.parentNode;i.insertBefore(t,n),i.removeChild(n),delete e.ghost}function x(e,t){var n,i=e.elm,e=t.selector;return e&&(t.hasFilter?i.matches(e)||(i=null):i=i.querySelector(e)),t.hasAttr?n=i.getAttribute(t.attr):t.useVal?n=i.value||i.getAttribute("value"):t.hasData?n=i.getAttribute("data-"+t.data):i&&(n=i.textContent),n=null===(n=y(n)?(n=!t.cases?n.toLowerCase():n).replace(/\s+/g," "):n)?"":n}function y(e){return"string"==typeof e}y(e)&&(e=E.querySelectorAll(e));var i=Object.assign({},L,n||{}).console;0===e.length&&i&&i.warn&&i.warn("No elements to sort");var o=E.createDocumentFragment(),l=[],d=[],a=[],h=[],m=[],_=void 0,T=!0,S=e.length&&e[0].parentNode,i=S.rootNode!==document,C=e.length&&(n===k||!1!==n.useFlex)&&!i&&-1!==getComputedStyle(S,null).display.indexOf("flex");return function(){0===arguments.length?g({}):c(arguments,function(e){return g(y(e)?{selector:e}:e),0}),O=m.length}.apply(null,Array.prototype.slice.call(arguments,1)),function p(){c(e,function(e,t){_?_!==e.parentNode&&(T=!1):_=e.parentNode;var n=m[0],i=n.hasFilter,n=n.selector,n=!n||i&&e.matches(n)||n&&e.querySelector(n)?d:a,t={elm:e,pos:t,posn:n.length};l.push(t),n.push(t)}),h.splice.apply(h,[0,Number.MAX_SAFE_INTEGER].concat(d))}(),d.sort(n&&n.sortFunction||function s(l,u){var d=0;0!==D&&(D=0);for(var e=function f(){var f,e=(f=m[D]).ignoreDashes?M:P;c(I,function(e){return e.prepare&&e.prepare(f)});var t,n,i=!1,o=x(l,f),a=x(u,f);d=f.sortFunction?f.sortFunction(l,u):"rand"===f.order?Math.random()<.5?1:-1:(n=""===o||o===k,t=""===a||a===k,o===a?0:f.emptyEnd&&(n||t)?n&&t?0:n?1:-1:(f.forceStrings||(n=!!y(o)&&o&&o.match(e),e=!!y(a)&&a&&a.match(e),n&&e&&o.substr(0,o.length-n[0].length)==a.substr(0,a.length-e[0].length)&&(i=!0,o=A(n[0]),a=A(e[0]))),o===k||a===k?0:f.natural&&(isNaN(o)||isNaN(a))?function q(e,t,n){for(var i=n(e.toString()),r=n(t.toString()),o=0;i[o]&&r[o];o++)if(i[o]!==r[o]){var a=+i[o],s=+r[o];return a==i[o]&&s==r[o]?a-s:i[o]>r[o]?1:-1}return i.length-r.length}(o,a,r):o<a?-1:a<o?1:0)),c(I,function(e){e=e.sort;return e&&(d=e(f,i,o,a,d))}),0===(d*=f.sortReturnNumber)&&D++};0===d&&D<O;)e();return d=0===d?l.pos>u.pos?1:-1:d}),function t(){var e,n,i=d.length===l.length,r=m[0],o=r.place,a=r.console;T&&i?C?d.forEach(function(e,t){return e.elm.style.order=t}):_?_.appendChild(u()):a&&a.warn&&a.warn("parentNode has been removed"):(n="start"===o,e="end"===o,r="first"===o,"org"===o?(d.forEach(v),d.forEach(function(e,t){return w(h[t],e.elm)})):n||e?(n=(a=(i=h[n?0:h.length-1])&&i.elm.parentNode)&&(n&&a.firstChild||a.lastChild))&&(v(i=n!==i.elm?{elm:n}:i),e&&a.appendChild(i.ghost),w(i,u())):!r&&"last"!==o||w(v(h[r?0:h.length-1]),u()))}(),d.map(function(e){return e.elm})},{plugin:d,defaults:L}),void 0===(n=function(){return t}.call(i,o,i,e))||(e.exports=n)}.call(this,o("./node_modules/webpack/buildin/module.js")(e))},0:function(e,t){}});