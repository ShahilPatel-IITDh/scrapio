/*! For license information please see sparkle.mjs.LICENSE.txt */
var e={560:function(e,t,i){var s;!function(o){function r(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function n(e,t,i,s,o,n){return r((a=r(r(t,e),r(s,n)))<<(d=o)|a>>>32-d,i);var a,d}function a(e,t,i,s,o,r,a){return n(t&i|~t&s,e,t,o,r,a)}function d(e,t,i,s,o,r,a){return n(t&s|i&~s,e,t,o,r,a)}function l(e,t,i,s,o,r,a){return n(t^i^s,e,t,o,r,a)}function p(e,t,i,s,o,r,a){return n(i^(t|~s),e,t,o,r,a)}function c(e,t){var i,s,o,n,c;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var b=1732584193,_=-271733879,m=-1732584194,u=271733878;for(i=0;i<e.length;i+=16)s=b,o=_,n=m,c=u,b=a(b,_,m,u,e[i],7,-680876936),u=a(u,b,_,m,e[i+1],12,-389564586),m=a(m,u,b,_,e[i+2],17,606105819),_=a(_,m,u,b,e[i+3],22,-1044525330),b=a(b,_,m,u,e[i+4],7,-176418897),u=a(u,b,_,m,e[i+5],12,1200080426),m=a(m,u,b,_,e[i+6],17,-1473231341),_=a(_,m,u,b,e[i+7],22,-45705983),b=a(b,_,m,u,e[i+8],7,1770035416),u=a(u,b,_,m,e[i+9],12,-1958414417),m=a(m,u,b,_,e[i+10],17,-42063),_=a(_,m,u,b,e[i+11],22,-1990404162),b=a(b,_,m,u,e[i+12],7,1804603682),u=a(u,b,_,m,e[i+13],12,-40341101),m=a(m,u,b,_,e[i+14],17,-1502002290),b=d(b,_=a(_,m,u,b,e[i+15],22,1236535329),m,u,e[i+1],5,-165796510),u=d(u,b,_,m,e[i+6],9,-1069501632),m=d(m,u,b,_,e[i+11],14,643717713),_=d(_,m,u,b,e[i],20,-373897302),b=d(b,_,m,u,e[i+5],5,-701558691),u=d(u,b,_,m,e[i+10],9,38016083),m=d(m,u,b,_,e[i+15],14,-660478335),_=d(_,m,u,b,e[i+4],20,-405537848),b=d(b,_,m,u,e[i+9],5,568446438),u=d(u,b,_,m,e[i+14],9,-1019803690),m=d(m,u,b,_,e[i+3],14,-187363961),_=d(_,m,u,b,e[i+8],20,1163531501),b=d(b,_,m,u,e[i+13],5,-1444681467),u=d(u,b,_,m,e[i+2],9,-51403784),m=d(m,u,b,_,e[i+7],14,1735328473),b=l(b,_=d(_,m,u,b,e[i+12],20,-1926607734),m,u,e[i+5],4,-378558),u=l(u,b,_,m,e[i+8],11,-2022574463),m=l(m,u,b,_,e[i+11],16,1839030562),_=l(_,m,u,b,e[i+14],23,-35309556),b=l(b,_,m,u,e[i+1],4,-1530992060),u=l(u,b,_,m,e[i+4],11,1272893353),m=l(m,u,b,_,e[i+7],16,-155497632),_=l(_,m,u,b,e[i+10],23,-1094730640),b=l(b,_,m,u,e[i+13],4,681279174),u=l(u,b,_,m,e[i],11,-358537222),m=l(m,u,b,_,e[i+3],16,-722521979),_=l(_,m,u,b,e[i+6],23,76029189),b=l(b,_,m,u,e[i+9],4,-640364487),u=l(u,b,_,m,e[i+12],11,-421815835),m=l(m,u,b,_,e[i+15],16,530742520),b=p(b,_=l(_,m,u,b,e[i+2],23,-995338651),m,u,e[i],6,-198630844),u=p(u,b,_,m,e[i+7],10,1126891415),m=p(m,u,b,_,e[i+14],15,-1416354905),_=p(_,m,u,b,e[i+5],21,-57434055),b=p(b,_,m,u,e[i+12],6,1700485571),u=p(u,b,_,m,e[i+3],10,-1894986606),m=p(m,u,b,_,e[i+10],15,-1051523),_=p(_,m,u,b,e[i+1],21,-2054922799),b=p(b,_,m,u,e[i+8],6,1873313359),u=p(u,b,_,m,e[i+15],10,-30611744),m=p(m,u,b,_,e[i+6],15,-1560198380),_=p(_,m,u,b,e[i+13],21,1309151649),b=p(b,_,m,u,e[i+4],6,-145523070),u=p(u,b,_,m,e[i+11],10,-1120210379),m=p(m,u,b,_,e[i+2],15,718787259),_=p(_,m,u,b,e[i+9],21,-343485551),b=r(b,s),_=r(_,o),m=r(m,n),u=r(u,c);return[b,_,m,u]}function b(e){var t,i="",s=32*e.length;for(t=0;t<s;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function _(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;var s=8*e.length;for(t=0;t<s;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function m(e){var t,i,s="0123456789abcdef",o="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),o+=s.charAt(t>>>4&15)+s.charAt(15&t);return o}function u(e){return unescape(encodeURIComponent(e))}function h(e){return function(e){return b(c(_(e),8*e.length))}(u(e))}function g(e,t){return function(e,t){var i,s,o=_(e),r=[],n=[];for(r[15]=n[15]=void 0,o.length>16&&(o=c(o,8*e.length)),i=0;i<16;i+=1)r[i]=909522486^o[i],n[i]=1549556828^o[i];return s=c(r.concat(_(t)),512+8*t.length),b(c(n.concat(s),640))}(u(e),u(t))}function v(e,t,i){return t?i?g(t,e):m(g(t,e)):i?h(e):m(h(e))}void 0===(s=function(){return v}.call(t,i,t,e))||(e.exports=s)}()},238:function(e,t,i){var s;!function(o,r){var n="function",a="undefined",d="object",l="string",p="major",c="model",b="name",_="type",m="vendor",u="version",h="architecture",g="console",v="mobile",y="tablet",w="smarttv",f="wearable",x="embedded",k="Amazon",E="Apple",j="ASUS",S="BlackBerry",z="Browser",I="Chrome",T="Firefox",A="Google",O="Huawei",P="LG",C="Microsoft",R="Motorola",D="Opera",N="Samsung",M="Sharp",B="Sony",L="Xiaomi",V="Zebra",q="Facebook",U="Chromium OS",H="Mac OS",F=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},G=function(e,t){return typeof e===l&&-1!==Q(t).indexOf(Q(e))},Q=function(e){return e.toLowerCase()},W=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},J=function(e,t){for(var i,s,o,a,l,p,c=0;c<t.length&&!l;){var b=t[c],_=t[c+1];for(i=s=0;i<b.length&&!l&&b[i];)if(l=b[i++].exec(e))for(o=0;o<_.length;o++)p=l[++s],typeof(a=_[o])===d&&a.length>0?2===a.length?typeof a[1]==n?this[a[0]]=a[1].call(this,p):this[a[0]]=a[1]:3===a.length?typeof a[1]!==n||a[1].exec&&a[1].test?this[a[0]]=p?p.replace(a[1],a[2]):r:this[a[0]]=p?a[1].call(this,p,a[2]):r:4===a.length&&(this[a[0]]=p?a[3].call(this,p.replace(a[1],a[2])):r):this[a]=p||r;c+=2}},Y=function(e,t){for(var i in t)if(typeof t[i]===d&&t[i].length>0){for(var s=0;s<t[i].length;s++)if(G(t[i][s],e))return"?"===i?r:i}else if(G(t[i],e))return"?"===i?r:i;return e},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[u,[b,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[u,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,u],[/opios[\/ ]+([\w\.]+)/i],[u,[b,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[u,[b,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[b,u],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[u,[b,"UC"+z]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[u,[b,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[u,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[u,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[u,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[u,[b,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure "+z],u],[/\bfocus\/([\w\.]+)/i],[u,[b,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[u,[b,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[u,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[u,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[u,[b,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[u,[b,"MIUI "+z]],[/fxios\/([-\w\.]+)/i],[u,[b,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[b,"360 "+z]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1 "+z],u],[/(comodo_dragon)\/([\w\.]+)/i],[[b,/_/g," "],u],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[b,u],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,q],u],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[b,u],[/\bgsa\/([\w\.]+) .*safari\//i],[u,[b,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[u,[b,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[u,[b,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,I+" WebView"],u],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[u,[b,"Android "+z]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,u],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[u,[b,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[u,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[u,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[b,u],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],u],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[u,[b,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[b,u],[/(cobalt)\/([\w\.]+)/i],[b,[u,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,Q]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,"",Q]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,Q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[m,N],[_,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[m,N],[_,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[m,E],[_,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[m,E],[_,y]],[/(macintosh);/i],[c,[m,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[m,M],[_,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[m,O],[_,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[m,O],[_,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[m,L],[_,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[m,L],[_,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[m,"OPPO"],[_,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[m,"Vivo"],[_,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[m,"Realme"],[_,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[m,R],[_,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[m,R],[_,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[m,P],[_,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[m,P],[_,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[m,"Lenovo"],[_,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[m,"Nokia"],[_,v]],[/(pixel c)\b/i],[c,[m,A],[_,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[m,A],[_,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[m,B],[_,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[m,B],[_,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[m,"OnePlus"],[_,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[m,k],[_,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[m,k],[_,v]],[/(playbook);[-\w\),; ]+(rim)/i],[c,m,[_,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[m,S],[_,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[m,j],[_,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[m,j],[_,v]],[/(nexus 9)/i],[c,[m,"HTC"],[_,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[c,/_/g," "],[_,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[m,"Acer"],[_,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[m,"Meizu"],[_,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,c,[_,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,c,[_,y]],[/(surface duo)/i],[c,[m,C],[_,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[m,"Fairphone"],[_,v]],[/(u304aa)/i],[c,[m,"AT&T"],[_,v]],[/\bsie-(\w*)/i],[c,[m,"Siemens"],[_,v]],[/\b(rct\w+) b/i],[c,[m,"RCA"],[_,y]],[/\b(venue[\d ]{2,7}) b/i],[c,[m,"Dell"],[_,y]],[/\b(q(?:mv|ta)\w+) b/i],[c,[m,"Verizon"],[_,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[m,"Barnes & Noble"],[_,y]],[/\b(tm\d{3}\w+) b/i],[c,[m,"NuVision"],[_,y]],[/\b(k88) b/i],[c,[m,"ZTE"],[_,y]],[/\b(nx\d{3}j) b/i],[c,[m,"ZTE"],[_,v]],[/\b(gen\d{3}) b.+49h/i],[c,[m,"Swiss"],[_,v]],[/\b(zur\d{3}) b/i],[c,[m,"Swiss"],[_,y]],[/\b((zeki)?tb.*\b) b/i],[c,[m,"Zeki"],[_,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],c,[_,y]],[/\b(ns-?\w{0,9}) b/i],[c,[m,"Insignia"],[_,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[m,"NextBook"],[_,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],c,[_,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],c,[_,v]],[/\b(ph-1) /i],[c,[m,"Essential"],[_,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[m,"Envizen"],[_,y]],[/\b(trio[-\w\. ]+) b/i],[c,[m,"MachSpeed"],[_,y]],[/\btu_(1491) b/i],[c,[m,"Rotor"],[_,y]],[/(shield[\w ]+) b/i],[c,[m,"Nvidia"],[_,y]],[/(sprint) (\w+)/i],[m,c,[_,v]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[m,C],[_,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[m,V],[_,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[m,V],[_,v]],[/smart-tv.+(samsung)/i],[m,[_,w]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[m,N],[_,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,P],[_,w]],[/(apple) ?tv/i],[m,[c,E+" TV"],[_,w]],[/crkey/i],[[c,I+"cast"],[m,A],[_,w]],[/droid.+aft(\w)( bui|\))/i],[c,[m,k],[_,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[m,M],[_,w]],[/(bravia[\w ]+)( bui|\))/i],[c,[m,B],[_,w]],[/(mitv-\w{5}) bui/i],[c,[m,L],[_,w]],[/Hbbtv.*(technisat) (.*);/i],[m,c,[_,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,W],[c,W],[_,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[_,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,c,[_,g]],[/droid.+; (shield) bui/i],[c,[m,"Nvidia"],[_,g]],[/(playstation [345portablevi]+)/i],[c,[m,B],[_,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[m,C],[_,g]],[/((pebble))app/i],[m,c,[_,f]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[m,E],[_,f]],[/droid.+; (glass) \d/i],[c,[m,A],[_,f]],[/droid.+; (wt63?0{2,3})\)/i],[c,[m,V],[_,f]],[/(quest( 2| pro)?)/i],[c,[m,q],[_,f]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[_,x]],[/(aeobc)\b/i],[c,[m,k],[_,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[_,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[_,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[_,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[_,v]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[u,[b,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[u,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,u],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[u,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,u],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[b,[u,Y,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[b,"Windows"],[u,Y,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[u,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,H],[u,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[u,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[b,u],[/\(bb(10);/i],[u,[b,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[u,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[u,[b,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[u,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[u,[b,"watchOS"]],[/crkey\/([\d\.]+)/i],[u,[b,I+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,U],u],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,u],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],u],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,u]]},K=function(e,t){if(typeof e===d&&(t=e,e=r),!(this instanceof K))return new K(e,t).getResult();var i=typeof o!==a&&o.navigator?o.navigator:r,s=e||(i&&i.userAgent?i.userAgent:""),g=i&&i.userAgentData?i.userAgentData:r,w=t?function(e,t){var i={};for(var s in e)t[s]&&t[s].length%2==0?i[s]=t[s].concat(e[s]):i[s]=e[s];return i}(X,t):X,f=i&&i.userAgent==s;return this.getBrowser=function(){var e,t={};return t[b]=r,t[u]=r,J.call(t,s,w.browser),t[p]=typeof(e=t[u])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:r,f&&i&&i.brave&&typeof i.brave.isBrave==n&&(t[b]="Brave"),t},this.getCPU=function(){var e={};return e[h]=r,J.call(e,s,w.cpu),e},this.getDevice=function(){var e={};return e[m]=r,e[c]=r,e[_]=r,J.call(e,s,w.device),f&&!e[_]&&g&&g.mobile&&(e[_]=v),f&&"Macintosh"==e[c]&&i&&typeof i.standalone!==a&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[c]="iPad",e[_]=y),e},this.getEngine=function(){var e={};return e[b]=r,e[u]=r,J.call(e,s,w.engine),e},this.getOS=function(){var e={};return e[b]=r,e[u]=r,J.call(e,s,w.os),f&&!e[b]&&g&&"Unknown"!=g.platform&&(e[b]=g.platform.replace(/chrome os/i,U).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return s},this.setUA=function(e){return s=typeof e===l&&e.length>350?W(e,350):e,this},this.setUA(s),this};K.VERSION="0.7.35",K.BROWSER=F([b,u,p]),K.CPU=F([h]),K.DEVICE=F([c,m,_,g,v,w,y,f,x]),K.ENGINE=K.OS=F([b,u]),typeof t!==a?(e.exports&&(t=e.exports=K),t.UAParser=K):i.amdO?(s=function(){return K}.call(t,i,t,e))===r||(e.exports=s):typeof o!==a&&(o.UAParser=K);var Z=typeof o!==a&&(o.jQuery||o.Zepto);if(Z&&!Z.ua){var ee=new K;Z.ua=ee.getResult(),Z.ua.get=function(){return ee.getUA()},Z.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var i in t)Z.ua[i]=t[i]}}}("object"==typeof window?window:this)}},t={};function i(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,i),r.exports}i.amdO={},i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var s={};!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,i,s){return(i=function(t){var i=function(t,i){if("object"!==e(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var o=s.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(i)?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}function o(e,t,i,s,o,r,n){try{var a=e[r](n),d=a.value}catch(e){return void i(e)}a.done?t(d):Promise.resolve(d).then(s,o)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(s,r){var n=e.apply(t,i);function a(e){o(n,s,r,a,d,"next",e)}function d(e){o(n,s,r,a,d,"throw",e)}a(void 0)}))}}i.d(s,{J:function(){return zt}}),window.__bloomberg__=window.__bloomberg__||{},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.headertag=window.headertag||{},window.headertag.cmd=window.headertag.cmd||[],window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],window.Spritz=window.Spritz||{},window.Spritz.cmd=window.Spritz.cmd||[];var n=i(238);function a(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)e[s]=i[s]}return e}var d=function e(t,i){function s(e,s,o){if("undefined"!=typeof document){"number"==typeof(o=a({},i,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var n in o)o[n]&&(r+="; "+n,!0!==o[n]&&(r+="="+o[n].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+r}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],s={},o=0;o<i.length;o++){var r=i[o].split("="),n=r.slice(1).join("=");try{var a=decodeURIComponent(r[0]);if(s[a]=t.read(n,a),e===a)break}catch(e){}}return e?s[e]:s}},remove:function(e,t){s(e,"",a({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,a({},this.attributes,t))},withConverter:function(t){return e(a({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),l=/\.co\.jp$/i;class p{static getViewportDimensions(){return window&&document?{height:window.innerHeight||document.documentElement.clientHeight,width:window.innerWidth||document.documentElement.clientWidth}:0}static localStorageExists(){try{return window.localStorage}catch(e){return null}}static sessionStorageExists(){try{return window.sessionStorage}catch(e){return null}}static cookiesAreEnabled(){return!(!window||!window.navigator)&&window.navigator.cookieEnabled}static isCOJP(){return l.test(window.location.hostname)}static isBrowser(){return Boolean(window)}static currentTime(){return window.performance&&window.performance.now?window.performance.now():Date.now()}static getElementStyleAttribute(e,t){return window.getComputedStyle(e).getPropertyValue(t)}}var c="undefined"!=typeof window&&"object"==typeof window.NREUM&&window.NREUM,b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c&&c.noticeError(e,t)};class _{get(){return""}set(){}}class m extends _{getObj(e){try{var t=this.get(e);return null!=t?t:JSON.parse(t)}catch(t){return void b(t,{msg:"failed to get key '".concat(e,"' from localstorage")})}}setObj(e,t){try{this.set(e,JSON.stringify(t))}catch(t){b(t,{msg:"failed to save key '".concat(e,"' to localstorage")})}}}class u extends m{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(),this._namespace=e}get(e){return window.localStorage.getItem(this._namespace+e)||""}set(e,t){window.localStorage.setItem(this._namespace+e,t)}remove(e){window.sessionStorage.removeItem(this._namespace+e)}}class h extends m{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(),this._namespace=e}get(e){return window.sessionStorage.getItem(this._namespace+e)||""}set(e,t){window.sessionStorage.setItem(this._namespace+e,t)}remove(e){window.sessionStorage.removeItem(this._namespace+e)}}class g extends m{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;super(),this._duration=e}get(e){return d.get(e)}set(e,t){d.set(e,t,{expires:this._duration})}remove(e){d.remove(e)}}class v{static createLocalStorage(e){return p.isBrowser()?p.localStorageExists()?new u(e):p.cookiesAreEnabled()?new g:new _:new _}static createSessionStorage(e){return p.isBrowser()?p.sessionStorageExists()?new h(e):p.cookiesAreEnabled()?new g:new _:new _}static createCookieStorage(e){return p.isBrowser()&&p.cookiesAreEnabled()?new g(e):new _}}var y=["font-family:BWHaasHead-95Black,BWHaasHead,Helvetica Neue,Helvetica","font-size:45px","margin:0 auto","text-align:center","color:white","background-color:#2800D7","padding:15px 0"],w=["font-size:18px","line-height:28px","background-color:white","color:black","padding: 20px","font-family:Tiempos,Helvetica Neue,Helvetica"],f=["height:100%","width:100%","z-index:100","color:white","background:rgba(256,256,256,.8)","position:fixed","top:0","left:0"],x=["min-width:300px","border:2px solid #2800D7","width:50%","background-color:white","color:black","margin: 20vh auto"],k=["background-color:#D8D8D8","color:#000000","font-size:20px","text-align:center","font-weight:bold","font-family:BWHaasHead-75Bold,BWHaasHead,Helvetica Neue,Helvetica","margin:0 auto 20px","padding:5px","width:165px"],E=["margin-left:4px","display:inline-block","border:1px solid #000000","border-radius:100%","color:#000000","background-color:#D8D8D8","font-size:20px","text-align:center","line-height:20px","width:26px","padding:3px"],j=["width:1px !important","height:1px !important","position:absolute !important","display:block","top:-5000px","left:-5000px;"],S=["pub_300x250","pub_300x250m","pub_728x90","text-ad","textAd","text_ad","text_ads","text-ads","text-ad-links"],z=["a-real-div-for-testing","false-positive-test"],I=["display: block","position: absolute","right: 200%","height: 1%","width: 1%"],T=["font-size:14px","line-height:18px","background-color:white","color:black","padding: 20px","font-family:Tiempos,Helvetica Neue,Helvetica"],A="adBlockerMessage";class O{static renderModal(e,t){var i=document,s=i.createElement("aside"),o=i.createElement("div"),r=i.createElement("h1"),n=i.createTextNode("Bloomberg"),a=i.createElement("div"),d=i.createTextNode(e),l=i.createElement("div"),p=i.createTextNode("Continue"),c=i.createElement("div"),b=i.createTextNode(t),_=i.createElement("div");return s.setAttribute("id","adBlockerContainer"),s.setAttribute("role","dialog"),s.setAttribute("aria-describedby",A),a.setAttribute("id",A),a.setAttribute("tabindex","0"),l.setAttribute("id","adBlockerContinue"),l.setAttribute("tabindex","0"),l.setAttribute("role","button"),c.setAttribute("id","adBlockerTimer"),_.setAttribute("id","adBlockerFooter"),r.setAttribute("style",this.logoStyles()),a.setAttribute("style",this.messageDivStyles()),s.setAttribute("style",this.containerStyles()),o.setAttribute("style",this.elementStyles()),l.setAttribute("style",this.continueDisplayStyles()),c.setAttribute("style",this.timerStyles()),_.setAttribute("style",this.footerStyles()),r.appendChild(n),a.appendChild(d),l.appendChild(p),c.appendChild(b),l.appendChild(c),_.innerHTML='If you believe that you may have received\n    this message in error <a href="https://www.bloomberg.com/feedback" style="color: #2B00F7" id="adBlockerFooterLink">please let\n    us know</a>.',o.appendChild(r),o.appendChild(a),o.appendChild(l),o.appendChild(_),s.appendChild(o),s}static getBlockerMessage(){return"We noticed that you're using an ad blocker,\n    which may adversely affect the performance and content on\n    Bloomberg.com. For the best experience, please\n    allowlist the site."}static logoStyles(){return y.join("; ")}static messageDivStyles(){return w.join("; ")}static containerStyles(){return f.join("; ")}static elementStyles(){return x.join("; ")}static continueDisplayStyles(){return k.join("; ")}static timerStyles(){return E.join("; ")}static fakeAdStyles(){return j.join("; ")}static fakeAdClasses(){return S.join(" ")}static testDivStyles(){return I.join("; ")}static testDivClasses(){return z.join(" ")}static footerStyles(){return T.join("; ")}}var P="bbAbIncremented",C="bbAbVisitMultiplier",R="bbAbMessageDuration",D="bbAbVisits",N="bbAbMessage",M={[R]:5,[C]:5,[N]:O.getBlockerMessage()};class B{static blockTheAdBlocker(){var e;Boolean(document.body)&&((e=document.createElement("div")).setAttribute("class",O.fakeAdClasses()),e.setAttribute("style",O.fakeAdStyles()),document.body.appendChild(e),fetch("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",{method:"HEAD",mode:"no-cors"}).then((()=>!1)).catch((()=>!0)).then((e=>{!function(e){var{hasAdBlocker:t,withoutAdBlocker:i,javascriptTest:s}=e;s&&L("javascript"),void 0!==window.getComputedStyle&&setTimeout((()=>{var e=window.document.getElementsByClassName("pub_300x250")[0],s=window.getComputedStyle(e,null);if(s&&("none"===s.getPropertyValue("display")||"hidden"===s.getPropertyValue("visibility")||"0"===s.getPropertyValue("height")))return L("fake element"),void t();i()}),2500)}({hasAdBlocker:q,withoutAdBlocker:V,javascriptTest:e})})))}}function L(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"adBlockerInUse",eventCategory:"Ad Blocker",eventAction:"detected ad blocker use",eventLabel:e})}function V(){var e={local:v.createLocalStorage(),session:v.createSessionStorage(),cookie:v.createCookieStorage(365)};if(U(e)){var t=e.session,i=e.local,s=e.cookie,o=M;t&&!t.AD_BLOCKER_NAME_KEY&&s.remove(D),Object.keys(o).forEach((e=>i.remove(e))),t.set(P,!0)}}function q(){var e,t,i,s,o,r,n,a={local:v.createLocalStorage(),session:v.createSessionStorage(),cookie:v.createCookieStorage(365)};U(a)&&!Boolean(a.session.get(P))&&(a.session.set("bbAdBlocker",!0),t=(e=a).session,i=e.local,s=M,o=e.cookie,r=o.get(D),n=r?parseInt(r,10)+1:1,o.set(D,n,365),Object.keys(s).forEach((e=>i.set(e,s[e]))),t.set(P,!0),function(e){var t=e.cookie.get(D),i=function(e){return U(e)&&e.local.get(C)||5}(e);(function(e,t){return(parseInt(e,10)-2)%parseInt(t,10)==0})(t,i)&&function(e){var t=function(e){return U(e)&&e.session.get(N)||O.getBlockerMessage()}(e),i=function(e){return U(e)&&e.local.get(R)||5}(e);if(document&&t&&i){var s=O.renderModal(t,i);document.body.appendChild(s),document.getElementById("adBlockerMessage").focus(),window.onLoad=function(e){var t,i=e,s=document.getElementById("adBlockerContainer"),o=document.getElementById("adBlockerContinue"),r=document.getElementById("adBlockerTimer");function n(){s.setAttribute("style","display:none"),o.removeEventListener("click",n),o.removeEventListener("keydown",a),o.removeEventListener("keydown",d)}function a(e){13!==e.keyCode&&32!==e.keyCode||n()}function d(e){13!==e.keyCode&&32!==e.keyCode||e.preventDefault()}t=setInterval((function(){r.textContent=i,--i<0&&(clearInterval(t),r.setAttribute("style","display:none"),o.style.color="#2800D7",o.style.cursor="pointer",o.addEventListener("click",n),o.addEventListener("keydown",a))}),1e3),o.addEventListener("keydown",d)}(i)}}(e)}(a))}function U(e){var t=e.local.get,i=e.session.get;return Boolean("function"==typeof t&&"function"==typeof i)}function H(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return e.bind(this,...i)}var F={position:"absolute",padding:"4px",top:"0",left:"0",height:"100%",width:"100%",background:"rgba(0, 0, 0, 0.75)",border:"1px solid black",boxSizing:"border-box",color:"white",fontFamily:"sans-serif",fontSize:"13px",overflow:"scroll",textAlign:"left",webkitFontSmoothing:"subpixel-antialiased"},G={height:"150px","background-color":"red"},Q={height:"auto","background-color":"transparent"},W="ad-overlay";class J{static overlay(e){var{content:t,adElement:i,empty:s}=e,o=document.createElement("div"),r=s?G:Q;o.setAttribute("class",W),"static"===p.getElementStyleAttribute(i,"position")&&(i.style.position="relative"),o.innerHTML=t,i.appendChild(o),Object.assign(o.style,F),Object.assign(i.style,r)}static clearOverlays(){for(var e=document.getElementsByClassName(W),t=e.length-1;t>=0;--t){var i=e.item(t);i.parentNode.removeChild(i)}}}var Y=e=>"".concat(Math.floor(e),"ms"),$="list-style-type: disc; padding-left: 20px; margin: 4px 0 0;";function X(e,t){var i=e().reduce(((e,i)=>"".concat(e,"<li>").concat(i,": ").concat(t(i),"</li>")),"");return i?'<ul style="'.concat($,'">').concat(i,"</ul>"):""}class K{static show(e,t,i){var s=t.getElement(),o=!s;if(t.isDisplayable()&&!o){var r=K.metrics(e,t),n=function(e){var t=e.getTargeting(),i=Object.keys(t).reduce(((e,i)=>"".concat(e,"<li>").concat(i,": ").concat(t[i],"</li>")),"");return'<ul style="'.concat($,'">').concat(i,"</ul>")}(t),a=function(e){var t=e.getSlot();return t?X(t.getTargetingKeys.bind(t),t.getTargeting.bind(t)):""}(t),d=function(e){return e?X(e.getTargetingKeys.bind(e),e.getTargeting.bind(e)):""}(i),l=function(e){return e?["AdCode: ".concat(e.adCode),"Empty?: ".concat(e.empty),"Creative ID: ".concat(e.creativeId),"Line Item ID: ".concat(e.lineItemId),"Time To Request: ".concat(Y(e.timeToRequest)),"Time To Respond: ".concat(Y(e.timeToRespond)),"Time To Render: ".concat(Y(e.timeToRender)),"Sizes: [".concat(e.sizes,"]")].join("<br/>"):["GPT render event not received for this ad.","Either the request has not been sent out or","the response has not yet been received."].join("<br/>")}(r)+a+n+d;J.overlay({content:l,adElement:s,empty:!r||r.empty})}}static metrics(e,t){var i=t.getSlotRenderedEvent();if(!i)return null;var s=t.getRequestTime()-e,o=t.getRenderTime()-e,r=o-s;return{adCode:t.getUnitName(),sizes:t.getSizes(),empty:i.isEmpty(),creativeId:i.getCreativeId(),lineItemId:i.getLineItemId(),timeToRequest:s,timeToRespond:r,timeToRender:o}}}var Z=K;class ee{constructor(){this._parent=null,this._children=[]}children(){return this._children}members(){return Array.prototype.concat(this._parent,this._children)}parent(){return this._parent}addParent(e){this._parent=e,e.setCompanionGroup(this)}addChild(e){this._children.lastIndexOf(e)<0&&(this._children.push(e),e.setCompanionGroup(this))}clearChildren(){this._children=[]}clearParent(){this._parent=null}}var te,ie=new Uint8Array(16);function se(){if(!te&&!(te="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return te(ie)}for(var oe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,re=[],ne=0;ne<256;++ne)re.push((ne+256).toString(16).substr(1));var ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(re[e[t+0]]+re[e[t+1]]+re[e[t+2]]+re[e[t+3]]+"-"+re[e[t+4]]+re[e[t+5]]+"-"+re[e[t+6]]+re[e[t+7]]+"-"+re[e[t+8]]+re[e[t+9]]+"-"+re[e[t+10]]+re[e[t+11]]+re[e[t+12]]+re[e[t+13]]+re[e[t+14]]+re[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&oe.test(e)}(i))throw TypeError("Stringified UUID is invalid");return i},de=function(e,t,i){var s=(e=e||{}).random||(e.rng||se)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){i=i||0;for(var o=0;o<16;++o)t[i+o]=s[o];return t}return ae(s)},le={d:function(e,t){for(var i in t)le.o(t,i)&&!le.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},pe={};function ce(e){var t=document.cookie.match("(^|;) ?".concat(e,"=([^;$]*)"));return t?t[2]:""}function be(e,t){return-1!==e.indexOf(t)}le.d(pe,{Z:function(){return ve}});var _e="bbgconsentstring";function me(e){window.__tcfapi("removeEventListener",2,(t=>{t||console.warn("[ms.consent] Failed to remove __tcfapi event listener",e)}),e)}function ue(){return be(ce(_e),"req1")}function he(){return be(ce(_e),"fun1")}function ge(){return be(ce(_e),"pad1")}var ve={waitForUserConsent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(((t,i)=>{if(!window.__tcfapi||!window.__uspapi)return console.error("[ms.consent] Please make sure __tcfapi and __uspapi are setup"),i(new Error("__tcfapi and __uspapi not loaded"));var s=!1,o=setTimeout((()=>{console.error("[ms.consent] Timeout in `waitForUserConsent` with options",e),i(new Error("No response from __tcfapi event listener"))}),e.inactiveTimeout||1e4);window.__tcfapi("addEventListener",2,((e,r)=>{if(!r)return console.error("[ms.consent] Failed to `addEventListener` with __tcfapi"),i(new Error("Unable to assign event listener"));if(!s)if(void 0!==e.gdprApplies){clearTimeout(o);var{gdprApplies:n,eventStatus:a,listenerId:d}=e;n?"tcloaded"!==a&&"useractioncomplete"!==a||(t({tcData:e}),me(d),s=!0):(window.__uspapi("getUSPData",1,((e,s)=>{if(!s)return console.error("[ms.consent] Failed to `getUSPData` with __uspapi"),i(new Error("Unable to get US privacy data from __uspapi"));t({uspData:e})})),me(d),s=!0)}else console.warn("[ms.consent] Received `gdprApplies` as undefined")}))}))},gdprAppliesAsync:function(){return window.__tcfapi?new Promise(((e,t)=>{window.__tcfapi("getTCData",2,((i,s)=>{s?e(i.gdprApplies):t(new Error("Failed to `getTCData` from __tcfapi"))}))})):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},iabConsentStringAsync:function(){return window.__tcfapi?new Promise(((e,t)=>{window.__tcfapi("getTCData",2,((i,s)=>{s?e(i.tcString):t(new Error("Failed to `getTCData` from __tcfapi"))}))})):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},getUSPrivacyStringAsync:function(){return window.__uspapi?new Promise(((e,t)=>{window.__uspapi("getUSPData",1,((i,s)=>{s?e(i.uspString):t(new Error("Failed to `getUSPData` from __uspapi"))}))})):Promise.reject(new Error("Unable to find __uspapi in global scope"))},reqAllowed:ue,reqAllowedAsync:()=>Promise.resolve(ue()),funAllowed:he,funAllowedAsync:()=>Promise.resolve(he()),padAllowed:ge,padAllowedAsync:()=>Promise.resolve(ge())},ye=pe.Z;class we{constructor(){this._scriptLoadPromise=null}whenReady(){return this._scriptLoadPromise?this._scriptLoadPromise.then((()=>this)):Promise.reject(this)}loadScriptDependency(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._scriptLoadPromise=new Promise((i=>{window.Spritz.cmd.push((()=>{i(window.Spritz.inject(e,t))}))})),this._scriptLoadPromise}destroy(){this._scriptLoadPromise=null}}function fe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function xe(e){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?fe(Object(s),!0).forEach((function(i){t(e,i,s[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fe(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class ke{constructor(e){t(this,"startTime",null),t(this,"disabled",!0),this.disabled="object"!=typeof window.NREUM,this.details=e,this.newrelic=window.NREUM,this.name=this._composeName(e)}start(){this.disabled||(this.startTime=Date.now(),this.sessionStartTime=performance.now())}end(e){!this.disabled&&this.startTime&&this._measure(e)}mark(e,t){this.disabled||this.newrelic.addPageAction("".concat(this.name,".").concat(e),t)}_measure(e){var t=Date.now(),i=t-this.startTime,s={name:this.name,start:this.startTime,end:t},{action:o,position:r,module:n}=this.details;this.newrelic.addToTrace(s),this.newrelic.addPageAction(this.name,xe(xe({},e),{},{action:o,duration:i,module:n,position:r,startTime:this.sessionStartTime}))}_composeName(e){return"".concat(/^Sparkle/.test(e.module)?e.module:"Sparkle:".concat(e.module),".").concat(e.action).concat(e.position?"-".concat(e.position):"")}}class Ee{constructor(e){t(this,"startTime",null),this.name=e}start(){this.startTime=performance.now(),this.mark("start")}end(){this.startTime&&(this.mark("end"),performance.measure(this.name,"".concat(this.name,".start"),"".concat(this.name,".end")))}mark(e){return performance.mark("".concat(this.name,".").concat(e))}}function je(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function Se(e){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?je(Object(s),!0).forEach((function(i){t(e,i,s[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):je(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class ze{constructor(){t(this,"startTime",null),t(this,"meta",{}),t(this,"reporters",[])}start(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.startTime=performance.now(),this.reporters.forEach((e=>e.start(...t)))}end(e){this.reporters.forEach((t=>t.end(e))),this.meta=Se(Se(Se({},this.meta),e),{},{startTime:this.startTime})}mark(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.reporters.forEach((e=>e.mark(...t)))}addReporter(e){this.reporters.push(e)}}var Ie=/(\w+)(?!:\w+)\.(\w+)(?:-([\w\-()]+))?(?:@(\w+))?/;class Te{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Sparkle";this.prefix=e}createMetric(e){if(!e)throw new Error("Metric name is required");var t="".concat(this.prefix,".").concat(e),[,i,s,o,r]=t.match(Ie),n={name:t,module:i,action:s,containerId:o,position:r},a=new ze;return a.addReporter(new Ee(t)),a.addReporter(new ke(n)),Te.metrics.set(t,a),a}static logPerformanceInfo(){var e=performance.getEntriesByType("measure").filter((e=>/^Sparkle./.test(e.name))).map((e=>{var{name:t,duration:i}=e,s=Te.metrics.get(t),[,o,r,n,a]=t.match(Ie),{advertiserId:d,lineItemId:l,creativeId:p,isEmpty:c,startTime:b}=s.meta||{};return{module:o,action:r,containerId:n,position:a,startTime:Math.round(b),duration:Math.round(i),advertiserId:d,lineItemId:l,creativeId:p,isEmpty:c}}));console.table(e)}static logIndividualAdPerformance(e){if(e){var t=performance.getEntriesByType("measure").filter((t=>/^Sparkle./.test(t.name)&&-1!==t.name.lastIndexOf("-".concat(e)))).map((e=>{var{name:t,duration:i}=e,s=Te.metrics.get(t),[,o,r,,n]=t.match(Ie),{advertiserId:a,lineItemId:d,creativeId:l,isEmpty:p,startTime:c}=s.meta||{};return{module:o,action:r,position:n,startTime:Math.round(c),duration:Math.round(i),advertiserId:a,lineItemId:d,creativeId:l,isEmpty:p}}));console.table(t)}else console.error("Missing required Ad position name")}static printInstructions(){console.log("%cSparkle debug instructions:","background-color: beige; padding: 4px; color: red; font-size: 20px; font-weight: bold;"),console.table([{Command:"Sparkle.logPerformanceInfo()",Description:"Displays a table of all Ad metrics taken during the rendering session"},{Command:"Sparkle.logIndividualAdPerformance(position)",Description:"Displays a table of metrics per Ad based on position name"}])}}t(Te,"metrics",new Map);var Ae=i(560);class Oe{constructor(){t(this,"_eventQueue",new Map)}addEventListener(e,t){if("string"!=typeof e||"function"!=typeof t)return null;if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).once)return this._autoRemoveHandler(e,t),null;var i=this._getEventTypeQueue(e).push(t);return()=>this._removeEventHandler(e,i-1)}removeEventListener(e,t){if("string"!=typeof e)return null;if("function"==typeof t){var i=this._getEventTypeQueue(e).indexOf(t);return this._removeEventHandler(e,i)}return this._eventQueue.delete(e),!0}dispatchEvent(e,t){if(this._eventQueue.has(e))for(var i=this._getEventTypeQueue(e),s=i.length-1;s>=0;)i[s](t),s--}_getEventTypeQueue(e){return this._eventQueue.has(e)||this._eventQueue.set(e,[]),this._eventQueue.get(e)}_removeEventHandler(e,t){var i=t;return!(i<0||(this._getEventTypeQueue(e).splice(i,1),0))}_autoRemoveHandler(e,t){var i=this,s=this._getEventTypeQueue(e).push((function(){t(...arguments),i._removeEventHandler(e,s-1)}))}}class Pe{constructor(e){var{id:t,adCode:i,requestTime:s,event:o={}}=e,{advertiserId:r,campaignId:n,lineItemId:a,creativeId:d,isEmpty:l,size:p}=o;this._lineItemId=a,this._creativeId=d,this._isEmpty=l,this._size=p,this._adId=t,this._adCode=i,this._adRequestStartTime=s,this.toJSON=()=>({advertiserId:r,campaignId:n,lineItemId:a,creativeId:d,isEmpty:l,size:p})}getAdId(){return this._adId}getAdCode(){return this._adCode}getLineItemId(){return this._lineItemId}getCreativeId(){return this._creativeId}isEmpty(){return this._isEmpty}getSize(){return this._size}getRequestTime(){return this._adRequestStartTime}}var Ce="bb-ads__ad";class Re extends Oe{constructor(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),s.tickers&&(s.tickers=JSON.stringify(s.tickers)),this._unitName=t,this._sizes=i,this._targeting=s,this._slot=null,this._viewportOffset=0,this._renderTime=null,this._slotRenderedEvent=null,this._isInterstitial=!1,this._triggeredEventArgument=null,this._isMobile=o,this._containerId=e,this._contextifyCallbacks(),this._setId(),this._renderContainer(e),this.onRender(H(this.setClassName,"bb-ads__rendered")),this.onEmpty(H(this.setClassName,"bb-ads__empty"))}_contextifyCallbacks(){this.setClassName=this.setClassName.bind(this)}_setId(){var e=[this._sizes,this._targeting,this._unitName];this._id=Ae(JSON.stringify(e))}_renderContainer(e){var t=document.getElementById(e);if(t){t.setAttribute("tabindex","-1"),t.setAttribute("role","presentation");var i=document.createElement("div");i.setAttribute("class",Ce),i.setAttribute("id",this._id),t.insertBefore(i,t.firstChild),t=null,i=null}else console.log("Failed to render: Ad container did not exist for id ".concat(e))}getDomId(){return this._slot?this._slot.getSlotId().getDomId():null}getId(){return this._id}getSizes(){return this._sizes}isDisplayable(){return Boolean(this._sizes.length)}getSlot(){return this._slot}getTargeting(){return Object.assign({},this._targeting,{pmid:this.getId()})}addTargeting(e){Object.assign(this._targeting,e)}getElement(){return document.getElementById(this._id)}getElementTopPosition(){var e=this.getElement();return document&&e?e.getBoundingClientRect().top+document.documentElement.scrollTop:1/0}getIframe(){var e=this.getElement();return(e?Array.from(e.getElementsByTagName("iframe")):[]).find((e=>Boolean(e.offsetParent)))||null}getUnitName(){return this._unitName}getPerformanceId(){return this._targeting.performanceId}hasSlot(){return Boolean(this._slot)}setHeight(e){var t=this.getIframe();return t&&(t.setAttribute("height",e),t=null),this}setDimensions(e,t){var i=this.getIframe();return i&&(i.setAttribute("width",e),i.setAttribute("height",t),i=null),this}setClassName(e){var t=this.getElement();return t&&(t.classList.add(e),this._sizes.some((e=>Boolean(e[0])&&e[0]===e[1]))&&(t.classList.add("bb-ads__no_size"),this._sizes.forEach((e=>{Boolean(e[0])&&e[0]===e[1]&&t.classList.add("bb-ads__size_".concat(e[0],"x").concat(e[1]))})))),this}setSlot(e){return this._slot=e,this}setViewportOffset(e){return this._viewportOffset=e,this}getViewportOffset(){return this._viewportOffset}setRequestTime(e){this._requestTime=e}getRequestTime(){return this._requestTime}getRenderTime(){return this._renderTime}getSlotRenderedEvent(){return this._slotRenderedEvent}onRender(e){return this._triggeredEventArgument?(e(this._triggeredEventArgument),this):(this.addEventListener(Re.EVENTS.ON_RENDER,e),this)}onEmpty(e){return this._triggeredEventArgument?(e(this._triggeredEventArgument),this):(this.addEventListener(Re.EVENTS.ON_EMPTY,e),this)}handleSlotRenderEvent(e){var t=(e=>{var{isEmpty:t}=e;return t})(e)||(e=>{var{size:t=[]}=e,[i,s]=t;return 1===i&&1===s})(e);this._renderTime=p.currentTime(),this._slotRenderedEvent=new Pe({id:this.getId(),adCode:this.getUnitName(),requestTime:this.getRequestTime(),event:e}),t?this.dispatchEvent(Re.EVENTS.ON_EMPTY,this._slotRenderedEvent):this.dispatchEvent(Re.EVENTS.ON_RENDER,this._slotRenderedEvent),this._triggeredEventArgument=this._slotRenderedEvent}handleSlotOnLoadEvent(e){this.dispatchEvent(Re.EVENTS.ON_LOAD,e)}handleSlotResponseReceivedEvent(){this._resetContainer()}_resetContainer(){var e=document.getElementById(this._containerId);if(e){e.setAttribute("style","");var t=e.getElementsByClassName(Ce).item(0);t?t.setAttribute("style",""):b(new Error("Failed to reset container: Ad element does not exist for the following container: ".concat(this._containerId)))}else b(new Error("Failed to reset container: Ad container did not exist for id ".concat(this._containerId)))}setInterstitialFlag(e){return this._isInterstitial=e,this}isInterstitial(){return this._isInterstitial}setCompanionGroup(e){this._companionGroup=e}companionGroup(){return this._companionGroup||null}isCompanionChild(){return this.companionGroup()&&this.companionGroup().children().lastIndexOf(this)>=0}isMobile(){return this._isMobile}destroy(){this._unitName=null,this._sizes=null,this._targeting=null,this._slot=null,this._slotRenderedEvent=null}}t(Re,"EVENTS",{ON_RENDER:"render",ON_BEFORE_RENDER:"beforeRender",ON_EMPTY:"empty",ON_LOAD:"load"});var De="https://securepubads.g.doubleclick.net/tag/js/gpt.js",Ne={pubads:"pubads",companionAds:"companionAds"};class Me extends we{constructor(e,i,s,o){super(),t(this,"_performanceMonitor",new Te("Sparkle:GPT")),this._cachedSlots={},this._networkCode=e,this._ix=i,this._iasPublisherOptimization=s,this._moatYieldIntelligence=o,this._renderedAds={},this._googletag=window.googletag,this.services=Ne,this._contextifyCallbacks(),this._listenToSlotRenderEvents(),this._collapseEmptyDivs();var r=this._performanceMonitor.createMetric("load");r.start(),this.loadScriptDependency(De).then((()=>r.end()))}static html(){return'<script src="'.concat(De,'" async><\/script>')}_contextifyCallbacks(){this._handleSlotRenderEvent=this._handleSlotRenderEvent.bind(this),this._handleSlotLoadEvent=this._handleSlotLoadEvent.bind(this),this._handleSlotResponseReceivedEvent=this._handleSlotResponseReceivedEvent.bind(this)}_defineSlot(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(t=e.isInterstitial()?this._googletag.defineOutOfPageSlot(e.getUnitName(),e.getId()):this._googletag.defineSlot(e.getUnitName(),e.getSizes(),e.getId())))return null;var s=e.getTargeting();return e.setSlot(t),Object.keys(s).forEach((e=>t.setTargeting(e,s[e]))),Be(t),i.forEach((e=>t.addService(this._googletag[e]()))),this._cachedSlots[e.getId()]=t,t}_display(e){this._googletag.display(e.getDomId())}_getRenderedAd(e){return this._renderedAds[e]||null}_handleSlotRenderEvent(e){var t=this._getRenderedAd(e.slot.getSlotId().getDomId());t&&t.handleSlotRenderEvent(e)}_handleSlotLoadEvent(e){var t=this._getRenderedAd(e.slot.getSlotId().getDomId());t&&t.handleSlotOnLoadEvent(e)}_handleSlotResponseReceivedEvent(e){var t=this._getRenderedAd(e.slot.getSlotId().getDomId());t&&t.handleSlotResponseReceivedEvent(e)}_listenToSlotRenderEvents(){this.enqueue((()=>{Object.keys(Ne).forEach((e=>{this._googletag[e]().addEventListener("slotRenderEnded",this._handleSlotRenderEvent),this._googletag[e]().addEventListener("slotOnload",this._handleSlotLoadEvent),this._googletag[e]().addEventListener("slotResponseReceived",this._handleSlotResponseReceivedEvent)}))}))}_refreshSlots(e){var{changeCorrelator:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach(Be),this._googletag.pubads().refresh(e,{changeCorrelator:t})}_renderCachedSlot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this._cachedSlots[e.getId()];return!!i&&(e.setSlot(i),this._storeRenderedAd(e),this._refreshSlots([i],t),!0)}_storeRenderedAd(e){this._renderedAds[e.getDomId()]=e}_collapseEmptyDivs(){this.enqueue((()=>this._googletag.pubads().collapseEmptyDivs()))}createAd(e,t,i,s,o){return new Re(e,"/".concat(this._networkCode,"/").concat(t),i,s,o)}setPersonalization(e,t){return ye.padAllowedAsync().then((i=>i?e.getSessionId().then((e=>{var t,i="string"!=typeof(t=e)?"":t.replace(/-/g,"");return this.enqueue((()=>{this._googletag.pubads().setPublisherProvidedId(i)})),e})).catch((()=>null)):(t&&this.enqueue((()=>{this._googletag.pubads().setRequestNonPersonalizedAds(1)})),null))).catch((()=>{this.enqueue((()=>{this._googletag.pubads().setRequestNonPersonalizedAds(1)}))}))}render(e,t){var{services:i=[],display:s=!0,changeCorrelator:o=!1}=t;return new Promise((t=>{this.enqueue((()=>{if(e.setRequestTime(p.currentTime()),this._renderCachedSlot(e,{changeCorrelator:o}))return t();var r=this._defineSlot(e,i);if(!r)return t();this._storeRenderedAd(e);var n=this._ix.whenReady().then((t=>t.fetchBids(e))),a=this._iasPublisherOptimization.whenReady().then((e=>e.makePETRequest(r))),d=this._moatYieldIntelligence.whenReady().then((e=>e.moatYICallback(r)));return Promise.allSettled([n,a,d]).then((t=>{e.dispatchEvent(Re.EVENTS.ON_BEFORE_RENDER),this._googletag.enableServices();var[i]=t;i.value&&this._ix.setTargeting(e,i.value.demand),s&&this._display(e)})).catch((e=>console.warn(e))).finally(t)}))}))}renderInstant(e,t){var{services:i=[]}=t;this.enqueue((()=>{e.dispatchEvent(Re.EVENTS.ON_BEFORE_RENDER),e.setRequestTime(p.currentTime()),this._renderCachedSlot(e)||this._defineSlot(e,i)&&(this._googletag.enableServices(),this._storeRenderedAd(e),this._display(e))}))}enableSingleRequest(){this.enqueue((()=>this._googletag.pubads().enableSingleRequest()))}enableVideoAds(){this.enqueue((()=>this._googletag.pubads().enableVideoAds()))}enqueue(e){this._googletag.cmd.push(e)}refresh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.filter((e=>e.hasSlot())).forEach((e=>{var i=e.getSlot();this.enqueue((()=>this._refreshSlots([i],t)))}))}setRefreshUnfilledSlots(e){this.enqueue((()=>this._googletag.companionAds().setRefreshUnfilledSlots(e)))}setTargeting(e,t){this.enqueue((()=>this._googletag.pubads().setTargeting(e,t)))}getTargetingKeys(){return this._googletag.pubads().getTargetingKeys()}getTargeting(e){return this._googletag.pubads().getTargeting(e)}updateCorrelator(){this.enqueue((()=>this._googletag.pubads().updateCorrelator()))}destroy(){var e=Object.keys(this._cachedSlots).map((e=>this._cachedSlots[e]));this._googletag.cmd.push((()=>this._googletag.destroySlots(e))),this._cachedSlots=null,this._googletag=null,this._iasPublisherOptimization=null,this._ix=null,this._moatYieldIntelligence=null,this._renderedAds=null,super.destroy()}}function Be(e){e.setTargeting("iid",de())}class Le extends we{constructor(){super(),t(this,"_performanceMonitor",new Te("Sparkle:IAS")),window.__iasPET.pubId=926191,this._iasPETTimeoutRequestAds=null;var e=this._performanceMonitor.createMetric("load");e.start(),this.loadScriptDependency("https://cdn.adsafeprotected.com/iasPET.1.js").then((()=>e.end()))}makePETRequest(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=[],[s]=e.getTargeting("performanceId"),o=this._performanceMonitor.createMetric("makePETRequest-".concat(s));return o.start(),window.googletag.cmd.push((()=>{var t=e.getSizes().map(this._sizeTransformation);i.push({adSlotId:e.getSlotElementId(),size:t,adUnitPath:e.getAdUnitPath()})})),new Promise((e=>{this._iasPETTimeoutRequestAds=setTimeout(e,t),window.__iasPET.queue.push({adSlots:i,dataHandler:()=>{o.end(),this._iasDataHandler(e)}})}))}_iasDataHandler(e){clearTimeout(this._iasPETTimeoutRequestAds),window.__iasPET.setTargetingForGPT(),e()}_sizeTransformation(e){return e.getWidth&&e.getHeight?[e.getWidth(),e.getHeight()]:[1,1]}}class Ve extends we{makePETRequest(){return Promise.resolve()}whenReady(){return Promise.resolve(this)}}var qe=JSON.parse('{"box1":[{"display":"mobile","name":"bloomberg_display_mobileweb_box1_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box1_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box1_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box1_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box1_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box1_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box1_300x600","site":"co.jp","size":["300x600"]}],"box2":[{"display":"mobile","name":"bloomberg_display_mobileweb_box2_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box2_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box2_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box2_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box2_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box2_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box2_300x600","site":"co.jp","size":["300x600"]}],"box3":[{"display":"mobile","name":"bloomberg_display_mobileweb_box3_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box3_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box3_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box3_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box3_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box3_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box3_300x600","site":"co.jp","size":["300x600"]}],"box4":[{"display":"mobile","name":"bloomberg_display_mobileweb_box4_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box4_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box4_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box4_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box4_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box4_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box4_300x600","site":"co.jp","size":["300x600"]}],"box5":[{"display":"mobile","name":"bloomberg_display_mobileweb_box5_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box5_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box5_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box5_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box5_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box5_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box5_300x600","site":"co.jp","size":["300x600"]}],"box6":[{"display":"mobile","name":"bloomberg_display_mobileweb_box6_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box6_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box6_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box6_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box6_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box6_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box6_300x600","site":"co.jp","size":["300x600"]}],"box7":[{"display":"mobile","name":"bloomberg_display_mobileweb_box7_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box7_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box7_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box7_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box7_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box7_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box7_300x600","site":"co.jp","size":["300x600"]}],"box8":[{"display":"mobile","name":"bloomberg_display_mobileweb_box8_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box8_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box8_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box8_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box8_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box8_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box8_300x600","site":"co.jp","size":["300x600"]}],"box9":[{"display":"mobile","name":"bloomberg_display_mobileweb_box9_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box9_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box9_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box9_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box9_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box9_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box9_300x600","site":"co.jp","size":["300x600"]}],"box10":[{"display":"mobile","name":"bloomberg_display_mobileweb_box10_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box10_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box10_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box10_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box10_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box10_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box10_300x600","site":"co.jp","size":["300x600"]}],"box11":[{"display":"mobile","name":"bloomberg_display_mobileweb_box11_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box11_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box11_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box11_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box11_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box11_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box11_300x600","site":"co.jp","size":["300x600"]}],"box12":[{"display":"mobile","name":"bloomberg_display_mobileweb_box12_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box12_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box12_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box12_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box12_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box12_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box12_300x600","site":"co.jp","size":["300x600"]}],"box13":[{"display":"mobile","name":"bloomberg_display_mobileweb_box13_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box13_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box13_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box13_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box13_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box13_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box13_300x600","site":"co.jp","size":["300x600"]}],"box14":[{"display":"mobile","name":"bloomberg_display_mobileweb_box14_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box14_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box14_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box14_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box14_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box14_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box14_300x600","site":"co.jp","size":["300x600"]}],"box15":[{"display":"mobile","name":"bloomberg_display_mobileweb_box15_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box15_300x250","site":"bloomberg","size":["300x250"]},{"display":"desktop","name":"bloomberg_display_desktop_box15_300x600","site":"bloomberg","size":["300x600"]},{"display":"mobile","name":"co.jp_display_mobileweb_box15_300x250","site":"co.jp","size":["300x250"]},{"display":"mobile","name":"co.jp_display_mobileweb_box15_320x50","site":"co.jp","size":["320x50"]},{"display":"desktop","name":"co.jp_display_desktop_box15_300x250","site":"co.jp","size":["300x250"]},{"display":"desktop","name":"co.jp_display_desktop_box15_300x600","site":"co.jp","size":["300x600"]}],"leaderboard1":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard1_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard1_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard1_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard1_970x250","site":"co.jp","size":["970x250"]}],"leaderboard2":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard2_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard2_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard2_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard2_970x250","site":"co.jp","size":["970x250"]}],"leaderboard3":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard3_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard3_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard3_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard3_970x250","site":"co.jp","size":["970x250"]}],"leaderboard4":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard4_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard4_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard4_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard4_970x250","site":"co.jp","size":["970x250"]}],"leaderboard5":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard5_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard5_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard5_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard5_970x250","site":"co.jp","size":["970x250"]}],"leaderboard6":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard6_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard6_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard6_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard6_970x250","site":"co.jp","size":["970x250"]}],"leaderboard7":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard7_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard7_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard7_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard7_970x250","site":"co.jp","size":["970x250"]}],"leaderboard8":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard8_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard8_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard8_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard8_970x250","site":"co.jp","size":["970x250"]}],"leaderboard9":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard9_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard9_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard9_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard9_970x250","site":"co.jp","size":["970x250"]}],"leaderboard10":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard10_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard10_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard10_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard10_970x250","site":"co.jp","size":["970x250"]}],"leaderboard11":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard11_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard11_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard11_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard11_970x250","site":"co.jp","size":["970x250"]}],"leaderboard12":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard12_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard12_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard12_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard12_970x250","site":"co.jp","size":["970x250"]}],"leaderboard13":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard13_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard13_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard13_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard13_970x250","site":"co.jp","size":["970x250"]}],"leaderboard14":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard14_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard14_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard14_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard14_970x250","site":"co.jp","size":["970x250"]}],"leaderboard15":[{"display":"desktop","name":"bloomberg_display_desktop_leaderboard15_728x90","site":"bloomberg","size":["728x90"]},{"display":"desktop","name":"bloomberg_display_desktop_leaderboard15_970x250","site":"bloomberg","size":["970x250"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard15_728x90","site":"co.jp","size":["728x90"]},{"display":"desktop","name":"co.jp_display_desktop_leaderboard15_970x250","site":"co.jp","size":["970x250"]}],"video":[{"display":"video","name":"bloomberg_video_video_1x7v","site":"bloomberg","size":["1x7v"]},{"display":"video","name":"co.jp_video_video_1x7v","site":"co.jp","size":["1x7v"]}],"vid":[{"display":"video","name":"bloomberg_video_vid _1x7v","site":"bloomberg","size":["1x7v"]},{"display":"video","name":"co.jp_video_vid _1x7v","site":"co.jp","size":["1x7v"]}],"live":[{"display":"video","name":"bloomberg_video_live_1x7v","site":"bloomberg","size":["1x7v"]},{"display":"video","name":"co.jp_video_live_1x7v","site":"co.jp","size":["1x7v"]}],"livephoenix":[{"display":"video","name":"bloomberg_video_livephoenix _1x7v","site":"bloomberg","size":["1x7v"]},{"display":"video","name":"co.jp_video_livephoenix _1x7v","site":"co.jp","size":["1x7v"]}],"markets":[{"display":"video","name":"bloomberg_video_markets_1x7v","site":"bloomberg","size":["1x7v"]},{"display":"video","name":"co.jp_video_markets_1x7v","site":"co.jp","size":["1x7v"]}],"vodmidroll":[{"display":"video","name":"bloomberg_video_vodmidroll_1x7v","site":"bloomberg","size":["1x7v"]},{"display":"video","name":"co.jp_video_vodmidroll_1x7v","site":"co.jp","size":["1x7v"]}],"LiveTV_Preroll":[{"display":"video","name":"bloomberg_video_LiveTV_Preroll_1x7v","site":"bloomberg","size":["1x7v"]},{"display":"video","name":"co.jp_video_LiveTV_Preroll_1x7v","site":"co.jp","size":["1x7v"]}],"VOD_Preroll":[{"display":"video","name":"bloomberg_video_VOD_Preroll_1x7v","site":"bloomberg","size":["1x7v"]},{"display":"video","name":"co.jp_video_VOD_Preroll_1x7v","site":"co.jp","size":["1x7v"]}],"LiveTV_Midroll":[{"display":"video","name":"bloomberg_video_LiveTV_Midroll_1x7v","site":"bloomberg","size":["1x7v"]},{"display":"video","name":"co.jp_video_LiveTV_Midroll_1x7v","site":"co.jp","size":["1x7v"]}],"VOD_Midroll":[{"display":"video","name":"bloomberg_video_VOD_Midroll_1x7v","site":"bloomberg","size":["1x7v"]},{"display":"video","name":"co.jp_video_VOD_Midroll_1x7v","site":"co.jp","size":["1x7v"]}],"lead":[{"display":"video","name":"co.jp_video_lead_1x7v","site":"co.jp","size":["1x7v"]}],"home":[{"display":"video","name":"co.jp_video_home_1x7v","site":"co.jp","size":["1x7v"]}]}'),Ue=/^(bloomberg|co\.jp)$/,He=/^(desktop|mobile|video)$/,Fe={_filterByPosition(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[arguments.length>1?arguments[1]:void 0]},_filterByDisplay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!He.test(t))throw new Error("IXMapper: Invalid display type specified");return e.filter((e=>e.display===t))},_filterBySize(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((t=>t.size.includes(e)))},_filterBySite(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!Ue.test(t))throw new Error("IXMapper: Invalid site value specified");return e.filter((e=>e.site===t))},findMappingFor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.position)throw new Error("IXMapper: Invalid ad position specified");return[["position",this._filterByPosition],["display",this._filterByDisplay],["size",this._filterBySize],["site",this._filterBySite]].reduce(((t,i)=>{var[s,o]=i,r=e[s];return r?o(t,r):t}),qe)}},Ge=Fe,Qe=new Set(["1x7v","300x250","300x600","320x50","728x90","970x250"]),We=class extends we{constructor(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(super(),t(this,"_performanceMonitor",new Te("Sparkle:IndexExchange")),this._enabled=!e,!this._enabled)return this;var i=p.isCOJP()?"https://js-sec.indexww.com/ht/p/184795-221475390811523.js":"https://js-sec.indexww.com/ht/p/184795-45553530326378.js",s=this._performanceMonitor.createMetric("load");s.start(),this.loadScriptDependency(i,{timeout:1e3}).then((()=>s.end()))}fetchBids(e){if(!this._enabled)return Promise.resolve();var t=e.getSizes().map((e=>Array.isArray(e)?"".concat(e[0],"x").concat(e[1]):"".concat(e))),i=t.filter((e=>Qe.has(e))),s=p.isCOJP()?"co.jp":"bloomberg",o=e.isMobile()?"mobile":"desktop",r=this._performanceMonitor.createMetric("fetchBids-".concat(e.getPerformanceId()));if(r.start(),!i.length)return console.warn("IX: No valid sizes to bid on (position: ".concat(e.getTargeting().position,", sizes: ").concat(t,")")),Promise.resolve();var n=this.fetchDemand(e,o,s,i);return Promise.race([n,(3e3,new Promise((e=>{setTimeout(e,3e3)})))]).then((e=>(r.end(),e)))}fetchDemand(e,t,i,s){var o={position:e.getTargeting().position,site:i,display:t},r=s.reduce(((e,t)=>{var i=Ge.findMappingFor(Object.assign({},o,{size:t}));return i[0]&&e.add(i[0]),e}),new Set),n=[];return r.forEach((e=>{n.push({htSlotName:e.name})})),n.length?new Promise((e=>{window.headertag.cmd.push((()=>{window.headertag.retrieveDemand(n,(t=>{e({demand:t})}),{timeout:3e3})}))})):(console.warn("IX: No slots to retrieve (position: ".concat(o.position,", sizes: ").concat(s,")")),Promise.resolve())}setTargeting(e,t){var i=e.getSlot(),s=t&&t.slot||{};if(s&&i){var o={};Object.keys(s).forEach((e=>{var t=s[e]||[];o=t.reduce(((e,t)=>{var i=t.targeting||{};return Object.keys(i).forEach((t=>{e[t]=e[t]||[],e[t]=e[t].concat(i[t])})),e}),o)})),Object.keys(o).forEach((e=>i.setTargeting(e,o[e])))}}};class Je extends we{constructor(){super(),t(this,"_performanceMonitor",new Te("Sparkle:Moat")),t(this,"_moatReadyPromise",new Promise((e=>{window.moatYieldReady=e})));var e=this._performanceMonitor.createMetric("load");e.start(),this.loadScriptDependency("https://z.moatads.com/bloombergprebidheader853620778109/moatheader.js").then((()=>e.end()))}moatYICallback(e){var[t]=e.getTargeting("performanceId"),i=this._performanceMonitor.createMetric("moatYICallback-".concat(t));return i.start(),this._whenMoatReady().then((()=>{this.setMoatPrebidData(e),i.end()}))}setMoatPrebidData(e){window.moatPrebidApi&&window.moatPrebidApi.setMoatTargetingForSlot(e)}_whenMoatReady(){return Promise.race([this._moatReadyPromise,this._moatCallTimeout(1e3)])}_moatCallTimeout(e){return new Promise(((t,i)=>{setTimeout(i,e)}))}}function Ye(e){return e}var $e="message";class Xe{wouldRefresh(){return!0}}class Ke{constructor(e){this._viewability=e}wouldRefresh(e){var t=e.filter((e=>e.isDisplayable()&&null===e.companionGroup())),i=e.filter((e=>e.isDisplayable()&&null!==e.companionGroup()&&!e.isCompanionChild()));return this.entirelyViewableGroups(i).concat(t)}entirelyViewableGroups(e){return e.reduce(((e,t)=>{var i=t.companionGroup().members();return this._viewability.everyViewable(i)?e.concat(i):e}),[])}}var Ze={webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange",hidden:"visibilitychange"},et="focus",tt="blur";class it extends Oe{constructor(){super(),this._hiddenAttribute=null,this._visibleChangeEvent=null,this._useBrowserPrefixedAttributes(),this._contextifyCallbacks(),this._subscribeToGlobalEvents()}_contextifyCallbacks(){this._dispatchEventListeners=this._dispatchEventListeners.bind(this),this._visibleEventListener=this._visibleEventListener.bind(this),this._invisibleEventListener=this._invisibleEventListener.bind(this)}_subscribeToGlobalEvents(){this._visibleChangeEvent?document.addEventListener(this._visibleChangeEvent,this._dispatchEventListeners):(window.addEventListener(et,this._visibleEventListener),window.addEventListener(tt,this._invisibleEventListener))}_unsubscribeFromGlobalEvents(){this._visibleChangeEvent?document.removeEventListener(this._visibleChangeEvent,this._dispatchEventListeners):(window.removeEventListener(et,this._visibleEventListener),window.removeEventListener(tt,this._invisibleEventListener))}_dispatchEventListeners(){this.isVisible()?this.dispatchEvent(it.EVENTS.ON_VISIBLE):this.dispatchEvent(it.EVENTS.ON_INVISIBLE)}_isVisibilityChange(e){var{view:t}=e;return t===window}_visibleEventListener(e){this._isVisibilityChange(e)&&this.dispatchEvent(it.EVENTS.ON_VISIBLE)}_invisibleEventListener(e){this._isVisibilityChange(e)&&this.dispatchEvent(it.EVENTS.ON_INVISIBLE)}_useBrowserPrefixedAttributes(){Object.keys(Ze).some((e=>void 0!==document[e]&&(this._hiddenAttribute=e,this._visibleChangeEvent=Ze[e],!0)))}destroy(){this._unsubscribeFromGlobalEvents()}isVisible(){return document&&!1===document[this._hiddenAttribute]}}t(it,"EVENTS",{ON_VISIBLE:"visible",ON_INVISIBLE:"invisible"});var st=it;class ot{constructor(e){this._gpt=e,this._services=[e.services.pubads]}render(e){e.isDisplayable()&&this._gpt.render(e,{services:this._services})}refresh(e){this._gpt.refresh(e)}wouldRefresh(e){return e}}class rt{constructor(e){this._gpt=e,this._services=[e.services.pubads,e.services.companionAds]}render(e){e.isDisplayable()&&this._gpt.render(e,{display:!1,services:this._services})}refresh(e){}}class nt{constructor(e){this._gpt=e,this._services=[e.services.pubads]}render(e){this._gpt.renderInstant(e,{services:this._services})}refresh(e){this._gpt.refresh(e)}wouldRefresh(e){return e}}function at(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}class dt{constructor(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{threshold:.5};t(this,"_performanceMonitor",new Te("Sparkle:IntersectionObserver")),this._isRunning=!1,this._adsMap=new Map,this._observer=new IntersectionObserver(((t,i)=>{t.forEach((t=>{if(t.isIntersecting&&this._isRunning){var s=this._adsMap.get(t.target.id),o=this._performanceMonitor.createMetric("entry-".concat(s.getPerformanceId()));s.hasSlot()?(o.mark("refresh"),e.refresh([s])):(o.mark("render"),e.render(s,{services:[e.services.pubads]})),this._adsMap.delete(t.target.id),i.unobserve(t.target)}}))}),function(e){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?at(Object(s),!0).forEach((function(i){t(e,i,s[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):at(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({root:null},i))}start(){this._isRunning=!0}stop(){this._isRunning=!1}destroy(){this._adsMap.clear(),this._observer.disconnect()}render(e){e.isDisplayable()&&!this._adsMap.has(e.getId())&&(this._adsMap.set(e.getId(),e),this._observer.observe(e.getElement()))}refresh(e){e.forEach((e=>{e.isDisplayable()&&!this._adsMap.has(e.getId())&&(this._adsMap.set(e.getId(),e),this._observer.observe(e.getElement()))}))}}class lt{constructor(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4?arguments[4]:void 0;this._gpt=e,this._viewability=t,this._visibility=i,this._strategies=s,this._refreshStrategies=s,this._contextifyCallbacks(),this._initStrategies(o),this._delegateEvents(),this._visibility.isVisible()&&this._start()}_contextifyCallbacks(){this._start=this._start.bind(this),this._stop=this._stop.bind(this)}_delegateEvents(){this._visibility.addEventListener(st.EVENTS.ON_VISIBLE,this._start),this._visibility.addEventListener(st.EVENTS.ON_INVISIBLE,this._stop)}_initStrategies(e){this._strategies=this._strategies||{always:new ot(this._gpt),companion:new rt(this._gpt),parameters:new nt(this._gpt),viewable:new dt(this._gpt,e)},this._refreshStrategies=this._refreshStrategies||{always:new Xe,companion:new Xe,parameters:new Xe,viewable:new Ke(this._viewability)}}_start(){this._strategies.viewable.start()}_stop(){this._strategies.viewable.stop()}_undelegateEvents(){this._visibility.removeEventListener(st.EVENTS.ON_VISIBLE,this._start),this._visibility.removeEventListener(st.EVENTS.ON_INVISIBLE,this._stop)}destroy(){this._undelegateEvents()}render(e,t){var{strategy:i="viewable"}=t,s=this._strategies[i];if(!s)throw new Error("Sparkle: Invalid rendering strategy, supports: ['always', 'companion', 'parameters', 'viewable']");s.render(e)}refresh(e,t){var{strategy:i="viewable"}=t,s=this._strategies[i],o=this._refreshStrategies[i];if(!s)throw new Error("Sparkle: Invalid rendering strategy, supports: ['always', 'companion', 'parameters', 'viewable']");var r=o.wouldRefresh(e);r&&s.refresh(r)}}var pt="/trigrservice/targets",ct={results:[]},bt={_results:null,_url:pt,_deadline:500,_performanceMonitor:new Te("Sparkle:Trigr"),_timeout(){return new Promise((e=>{setTimeout(e,this._deadline,ct)}))},setUrl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;this._url=e},setDeadline(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;this._deadline=e},loadResults(){var e=this._performanceMonitor.createMetric("loadResults");return e.start(),this._results=Promise.race([fetch(this._url).then((e=>e.json())).catch((()=>ct)),this._timeout()]).then((t=>(e.end(),t))),this._results},getResults(){return this._results||this.loadResults()}},_t="reg-user-info-ready";class mt{constructor(){this._userInfo=null}getSessionId(){var e=this._userInfo&&this._userInfo.sessionId||d.get("session_id");return e?Promise.resolve(e):this.getUserInfo().then((e=>e.sessionId))}getUserInfo(){return this._userInfo=window._regUserInfo,this._userInfo?Promise.resolve(this._userInfo):new Promise(((e,t)=>{this._setUserInfo=this._setUserInfo.bind(this,e),window.addEventListener(_t,this._setUserInfo),setTimeout((()=>{t()}),500)}))}_setUserInfo(e,t){var{detail:i}=t;this._userInfo=i,e(this._userInfo)}destroy(){this._userInfo=null,window.removeEventListener(_t,this._setUserInfo),this._setUserInfo=null}}function ut(e){return e>0?Math.floor(e):Math.ceil(e)}class ht{constructor(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invertedBreakpoints=(e=t,Object.keys(e).reduce(((t,i)=>(t[e[i]]=i,t)),{}))}_currentBreakpoint(){var e=window.innerWidth,t=this._invertedBreakpoints,i=Object.keys(t).reduce(((t,i)=>e>=i?i:t));return this._invertedBreakpoints[i]}_isViewable(e,t){var{height:i,width:s}=t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e.offsetParent)return!1;var{top:r,bottom:n,left:a,right:d}=e.getBoundingClientRect(),l=0-o,p=i+o;e=null;var c=ut(r)>=l&&ut(n)<=p,b=ut(a)>=0&&ut(d)<=s;return c&&b}filter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=p.getViewportDimensions();return e.filter((e=>this.isViewable(t,e)))}everyViewable(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=p.getViewportDimensions();return e.every((e=>this.isViewable(t,e)))}isViewable(e,t){var i=t.getElement(),s=!!i&&this._isViewable(i,e,t.getViewportOffset());return i=null,s}getSizes(e){if(Array.isArray(e))return e;var t=(e[this._currentBreakpoint()]||[]).slice(0);return(e.all||[]).forEach((e=>t.push(e))),t}isMobile(e){return"mobile"===this._currentBreakpoint()&&"mobile"in e}destroy(){this._invertedBreakpoints=null}}function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!=typeof e||Array.isArray(e))return null;var t=Object.getOwnPropertyNames(e).sort().join(":");return Ae(t)}var vt=e=>function(){var t=r((function*(t,i){var s=e.createMetric(t);s.start();try{for(var o=arguments.length,r=new Array(o>2?o-2:0),n=2;n<o;n++)r[n-2]=arguments[n];return yield i.apply(this,r)}catch(e){throw s.mark("error",{error:e&&e.toString().slice(0,500)}),e}finally{s.end()}}));return function(e,i){return t.apply(this,arguments)}}(),yt=6e4,wt=v.createLocalStorage(),ft="bbads_consent_data";function xt(){return kt.apply(this,arguments)}function kt(){return(kt=r((function*(){yield ye.waitForUserConsent({inactiveTimeout:yt});var[e,t,i]=yield Promise.all([ye.gdprAppliesAsync(),ye.getUSPrivacyStringAsync(),ye.iabConsentStringAsync()]);return{gdprApplies:e,usPrivacyString:t,iabConsentString:i}}))).apply(this,arguments)}function Et(){return(Et=r((function*(){var e=yield xt();return wt.setObj(ft,e),e}))).apply(this,arguments)}function jt(e){if(e){var t=function(){return Et.apply(this,arguments)}();return wt.getObj(ft)||t}return xt()}function St(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}var zt=new class{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t(this,"cmd",[]),t(this,"initialized",!1),t(this,"disabled","equality"===d.get("term")),t(this,"version","6.10.0"),t(this,"_initQueue",[]),t(this,"_targets",[]),t(this,"_destructibles",[]),t(this,"_performanceMonitor",new Te("Sparkle")),t(this,"_measure",vt(new Te("Sparkle"))),t(this,"_adDebugRegistry",new class{constructor(){this._registeredAds=[],this._startTime=p.currentTime(),this._debugOnRenderMode=!1,this._adMetrics={},window.__bloomberg__.adMetrics=this._adMetrics}push(e,t,i){this._debugOnRenderMode&&(e.onRender(H(Z.show,this._startTime,e,i)),e.onEmpty(H(Z.show,this._startTime,e,i))),this._adMetrics[t]=new Promise((t=>{var i=()=>t(Z.metrics(this._startTime,e));e.onRender(i),e.onEmpty(i)})),this._registeredAds.push(e)}showDebugInformation(e){J.clearOverlays(),this._registeredAds.forEach(H((t=>Z.show(this._startTime,t,e))))}showDebugInformationOnRender(){this._debugOnRenderMode=!0}destroy(){this._adMetrics=null,this._registeredAds.length=0}}),t(this,"_companionGroupCoordinator",new class{constructor(){this._all={}}findOrCreate(e){var t=this._all[e];return t||(t=new ee,this._all[e]=t),t}find(e){return this._all[e]}clearAll(){this.clearAllChildren(),this.clearAllParents(),this._all={}}clearAllChildren(){Object.keys(this._all).forEach((e=>{this._all[e].clearChildren()}))}clearAllParents(){Object.keys(this._all).forEach((e=>{this._all[e].clearParent()}))}destroy(){this.clearAll()}}),t(this,"_disableHeaderbidding",!0),t(this,"GPT",{html:Me.html}),(e&&gt(Object.getPrototypeOf(e)))===gt(Object.getPrototypeOf(this)))return e;this.cmd=e&&e.cmd||[],this.cmd.push=e=>{"function"==typeof e&&e()}}_init(e){var{disableIAS:t=!1,useCachedConsent:i=!1,networkCode:s,breakpoints:o,adCodeDecorator:r=Ye,adBlockerShouldBeBlocked:a=!0,pageTargeting:d={},trigrUrl:l,trigrDeadline:p,observerOptions:c}=e;if(this.disabled)return Promise.resolve();var b=Boolean(this._disableHeaderbidding),_=new n,{name:m,major:u}=_.getBrowser(),h=function(e){return e?new Ve:new Le}(t),g=new Je;return this.adCodeDecoratorFunction=r,this.ix=new We(b),this.gpt=new Me(s,this.ix,h,g),this.postMessages=new class{constructor(){this._listeners={},this._contextifyCallbacks(),this._delegateEvents()}_contextifyCallbacks(){this._dispatchEventListeners=this._dispatchEventListeners.bind(this)}_delegateEvents(){window.addEventListener($e,this._dispatchEventListeners)}_dispatchEventListeners(e){var{data:t,id:i,method:s}=function(e){var t="object"==typeof e.data?e.data:function(e,t){try{return JSON.parse(e)}catch(e){return{}}}(e.data);return{data:t,id:t.id||t.windowId,method:t.method}}(e);((this._listeners[i]?this._listeners[i][s]:[])||[]).forEach((e=>e(t)))}_undelegateEvents(){window.removeEventListener($e,this._dispatchEventListeners)}destroy(){this._undelegateEvents(),this._listeners={}}addEventListener(e,t,i){this._listeners[e]=this._listeners[e]||{};var s=this._listeners[e];s[t]=s[t]||[],s[t].push(i)}removeEventListener(e,t,i){var s=this._listeners[e];s&&s[t]&&(s[t]=s[t].filter((e=>e!==i)))}},this.viewability=new ht(o),this.visibility=new st,this.userInfo=new mt,this.renderer=new lt(this.gpt,this.viewability,this.visibility,null,c),this.gpt.setTargeting("browser","".concat(m).concat(u)),bt.setUrl(l),bt.setDeadline(p),bt.loadResults(),this._destructibles=[...this._destructibles,h,g,this._adDebugRegistry,this._companionGroupCoordinator,this.gpt,this.ix,this.postMessages,this.renderer,this.userInfo,this.viewability,this.visibility],window.addEventListener("beforeunload",(()=>this.destroy())),this._measure("waitForUserConsent",jt,i).then((e=>this._measure("addPageTargeting",this.initPageTargeting,d,e))).then((()=>{a&&B.blockTheAdBlocker(),this.initialized=!0,this._flushInitQueue()})).catch((e=>console.error(e)))}init(e){this._measure("initialize",this._init,e)}addPageTargeting(e){return Promise.resolve(this._setGptTargeting(e))}initPageTargeting(e,i){return Promise.all([bt.getResults(),this.gpt.setPersonalization(this.userInfo,i.gdprApplies)]).then((s=>{var[o,r]=s,{gdprApplies:n,usPrivacyString:a,iabConsentString:l}=i,p=(o.results?o.results:o.value.results)||[],c=function(e){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?St(Object(s),!0).forEach((function(i){t(e,i,s[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):St(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({exp_pref:d.get("exp_pref"),uid:r,gdpr:n?"1":"0",us_privacy:a,gdpr_consent:l,tr:p.join(",")},e);this._setGptTargeting(c)}))}_setGptTargeting(e){Object.keys(e).filter((t=>void 0!==e[t]&&null!==e[t])).forEach((t=>this.gpt.setTargeting(t,e[t])))}createAd(e){var t=this;return r((function*(){if(t.disabled)return new Promise((()=>{}));if(!t.initialized)return t._enqueue((()=>t.createAd(e)));var{containerId:i,adCode:s,dimensions:o,targeting:n,strategy:a,viewportOffset:d=0,targetingModifiers:l=[],isInterstitial:p=!1}=e;if(!(i&&s&&o))throw new Error("Sparkle#createAd requires containerId, adCode and dimensions ".concat(i,", ").concat(s,", ").concat(o));var c,b,_=yield(c=l,b=n,c.reduce(function(){var e=r((function*(e,t){return t(yield e)}));return function(t,i){return e.apply(this,arguments)}}(),b));_.performanceId="".concat(i,"@").concat(n.position);var m=t._performanceMonitor.createMetric("createAd-".concat(_.performanceId)),u=t._performanceMonitor.createMetric("renderAd-".concat(_.performanceId)),h=t._performanceMonitor.createMetric("loadAd-".concat(_.performanceId));m.start();var g=t.gpt.createAd(i,t.adCodeDecoratorFunction(s),t.viewability.getSizes(o),_,t.viewability.isMobile(o)).setViewportOffset(d).setInterstitialFlag(p);return t._adDebugRegistry.push(g,i,t.gpt),t.postMessages.addEventListener(g.getId(),"setIframeHeight",(e=>t=>{var{height:i}=t;return e.setHeight(i)})(g)),t.postMessages.addEventListener(g.getId(),"setIframeDimensions",(e=>t=>{var{width:i,height:s}=t;return e.setDimensions(i,s)})(g)),g.addEventListener(Re.EVENTS.ON_BEFORE_RENDER,(()=>{u.start()}),{once:!0}),g.addEventListener(Re.EVENTS.ON_RENDER,(e=>{u.end(e.toJSON()),h.start()}),{once:!0}),g.addEventListener(Re.EVENTS.ON_EMPTY,(e=>{u.end(e.toJSON()),h.start()}),{once:!0}),g.addEventListener(Re.EVENTS.ON_LOAD,(()=>h.end()),{once:!0}),t.renderer.render(g,{strategy:a}),m.end(),g}))()}createInterstitialAd(e){return Object.defineProperties(e,{isInterstitial:{value:!0},strategy:{value:"always"},dimensions:{value:[0]}}),this.createAd(e)}disableCompanionAdBackfilling(){return this.initialized?(this.gpt.setRefreshUnfilledSlots(!1),this):(this._enqueue((()=>this.gpt.setRefreshUnfilledSlots(!1))),this)}enableVideoAds(){return this.initialized?(this.gpt.enableVideoAds(),this):(this._enqueue((()=>this.gpt.enableVideoAds())),this)}getCompanionGroup(e){return this._companionGroupCoordinator.findOrCreate(e)}clearAllCompanionChildren(){this._companionGroupCoordinator.clearAllChildren()}refresh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initialized?(this.renderer.refresh(e,t),this):(this._enqueue((()=>this.renderer.refresh(e,t))),this)}destroy(){this._adDebugRegistry=null,this._companionGroupCoordinator=null,this._targets=null,this.adCodeDecoratorFunction=null,this.gpt=null,this.postMessages=null,this.renderer=null,this.viewability=null,this.visibility=null,Te.metrics.clear();for(var e=this._destructibles.shift();e;)"function"==typeof e.destroy&&e.destroy(),e=this._destructibles.shift()}showDebugInformation(){return this._adDebugRegistry.showDebugInformation(this.gpt),this}showDebugInformationOnRender(){return Te.printInstructions(),this._adDebugRegistry.showDebugInformationOnRender(),this}updateCorrelator(){return this.initialized?(this.gpt.updateCorrelator(),this):(this._enqueue((()=>this.gpt.updateCorrelator())),this)}_enqueue(e){return new Promise((t=>{this._initQueue.push((()=>t(e())))}))}_flushInitQueue(){this._initQueue.push=e=>{"function"==typeof e&&e()};for(var e=this._initQueue.shift();e;)e(),e=this._initQueue.shift()}_flushQueue(){if(Array.isArray(this.cmd))for(var e=this.cmd.shift();e;)"function"==typeof e&&e(),e=this.cmd.shift()}logPerformanceInfo(){Te.logPerformanceInfo()}logIndividualAdPerformance(e){Te.logIndividualAdPerformance(e)}}(window.Sparkle);window.Sparkle=zt,zt._flushQueue()}();var o=s.J;export{o as Sparkle};