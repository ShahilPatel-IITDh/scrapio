!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["plug-client"]=e():t["plug-client"]=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=277)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(4),o=n.n(r),i=n(10),u=n(39);var s,a=function(t=window.location.href){const e={},n=new URL(t),r=n.searchParams.keys();for(const t of r){const r=n.searchParams.get(t);e[t]=r||!0}return e};!function(t){t[t.error=0]="error",t[t.warn=1]="warn",t[t.info=2]="info",t[t.debug=3]="debug",t[t.trace=4]="trace"}(s||(s={}));const c=s.warn;function f(t,...e){const n=s[t],r=a().plugLog,f=r&&s[r];n>c&&f&&n>f||(("error"===t||f)&&console[t]("[PLUG_CLIENT]",new Date(Date.now()).toISOString(),...e),n===s.error&&window.fetch(Object(u.a)("https://login.bloomberg.com/api/client-log"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","x-csrf-token":o.a.get(i.c)},body:JSON.stringify({source:"PLUG CLIENT",message:e})}))}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(75))},function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return s}));const r="plug-modal-outlet",o="plug-overlay",i="plug-banner-outlet",u="plug-close-button-clicked",s=864e5},function(t,e,n){var r=n(1),o=n(98),i=n(6),u=n(99),s=n(106),a=n(246),c=o("wks"),f=r.Symbol,l=a?f:f&&f.withoutSetter||u;t.exports=function(t){return i(c,t)||(s&&i(f,t)?c[t]=f[t]:c[t]=l("Symbol."+t)),c[t]}},function(t,e,n){t.exports=function(){"use strict";function t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function e(n,r){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=t({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var s in i)i[s]&&(u+="; "+s,!0!==i[s]&&(u+="="+i[s].split(";")[0]));return document.cookie=e+"="+n.write(o,e)+u}}function i(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],r={},o=0;o<e.length;o++){var i=e[o].split("="),u=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=n.read(u,s),t===s)break}catch(t){}}return t?r[t]:r}}return Object.create({set:o,get:i,remove:function(e,n){o(e,"",t({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,t({},this.attributes,n))},withConverter:function(n){return e(t({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}return e({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},function(t,e,n){var r=n(74),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(15);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(18),o=n(19),i=n(34);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return i}));const r="exp_pref",o="_user-data",i="_reg-csrf-token"},function(t,e,n){var r=n(145),o=n(150);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(1),o=n(55).f,i=n(9),u=n(20),s=n(59),a=n(234),c=n(103);t.exports=function(t,e){var n,f,l,p,d,h=t.target,v=t.global,_=t.stat;if(n=v?r:_?r[h]||s(h,{}):(r[h]||{}).prototype)for(f in e){if(p=e[f],l=t.noTargetGet?(d=o(n,f))&&d.value:n[f],!c(v?f:h+(_?".":"#")+f,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;a(p,l)}(t.sham||l&&l.sham)&&i(p,"sham",!0),u(n,f,p,t)}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(100),o=n(1),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r=n(23),o=n(146),i=n(147),u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(8);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(18),o=n(97),i=n(7),u=n(96),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=u(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(1),o=n(9),i=n(6),u=n(59),s=n(60),a=n(36),c=a.get,f=a.enforce,l=String(String).split("String");(t.exports=function(t,e,n,s){var a,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(a=f(n)).source||(a.source=l.join("string"==typeof e?e:""))),t!==r?(c?!d&&t[e]&&(p=!0):delete t[e],p?t[e]=n:o(t,e,n)):p?t[e]=n:u(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var r=n(10),o=n(4),i=n.n(o),u=n(0);const s={getSubscriptions:()=>{let t;try{t=JSON.parse(i.a.get(r.a))}catch(t){}return t&&t.subscriptionsData?t.subscriptionsData.reduce(((t,{entitlements:e})=>(e&&e.forEach((e=>t.add(e))),t)),new Set):new Set},getSubscriberData:()=>{let t;try{return t=JSON.parse(i.a.get(r.a)),t&&t.subscriberData?t.subscriberData:{}}catch(t){return{}}},getNewsletters:()=>{const t=i.a.get(r.a);if(t)try{const e=JSON.parse(t);if(!e)return;const n=e.newsletterIds;if(!Array.isArray(n)||0===n.length)return;return n.join("|")}catch(t){return void u.a("error","Failed to parse newsletters from cookie. Error: ",t)}},getExperiencePreference:()=>i.a.get(r.b)||"AMER",isLoggedIn:()=>{let t;try{t=JSON.parse(i.a.get(r.a))}catch(t){}return"logged_in"===(null==t?void 0:t.status)}};e.a=s},function(t,e,n){var r=n(5).Symbol;t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(78),o=n(79);t.exports=function(t,e,n,i){var u=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var c=e[s],f=i?i(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),u?o(n,c,f):r(n,c,f)}return n}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(21),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";n.d(e,"c",(function(){return O})),n.d(e,"b",(function(){return w})),n.d(e,"a",(function(){return x}));var r=n(2);function o(t,e,n="beforeend"){t&&t.insertAdjacentHTML(n,e)}const i=27,u=9;function s(){return document.activeElement===document.querySelector("body")}function a(t,e){return function(t){return(t.keyCode===u||"Tab"===t.key)&&!0===t.shiftKey}(t)&&(document.activeElement===e[0]||s())}function c(t,e){return function(t){return(t.keyCode===u||"Tab"===t.key)&&!1===t.shiftKey}(t)&&(document.activeElement===e[e.length-1]||s())}var f=function(t){var e;const n=document.querySelector(t);null===(e=null==n?void 0:n.parentElement)||void 0===e||e.removeChild(n)};const l=1e3,p=200;var d=n(40),h=n(0),v=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,s)}a((r=r.apply(t,e||[])).next())}))};const _=`\n    <div id="${r.e}">\n        <div id="${r.d}" role="dialog" aria-modal="true"/>\n    </div\n`,b="\n    #plug-overlay {\n        position: fixed;\n        left: 0;\n        bottom: 0;\n        min-width: 100vw;\n        min-height: 100%;\n        z-index: 10001;\n        background-color: rgba(128, 128, 128, .6);\n        display: flex;\n        justify-content: center;\n        align-items: flex-end;\n        animation: fadeIn 0.5s ease-in;\n    }\n\n    #plug-modal-outlet {\n        position: absolute;\n        left: 50%;\n        transform: translate(-50%, 0);\n        top: 20vh;\n        z-index: 10001;\n    }\n\n    @keyframes fadeIn {\n        0% {\n            opacity: 0;\n        }\n        100% {\n            opacity: 1;\n        }\n}",y=`\n    <div id="${r.a}" role="complementary"/>\n`,g="\n    #plug-banner-outlet {\n        position: fixed;\n        z-index: 10000;\n        width: 100%;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        animation: slideIn 0.3s ease-in;\n    }\n\n    @keyframes slideIn {\n        from {\n            transform: translateY(100%);\n        }\n        to {\n            transform: translateY(0%);\n        }\n";function m(t){const e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e)}function w(t){switch(t){case"modal":return`#${r.d}`;case"banner":return`#${r.a}`;default:return null}}function E(t,e){document.addEventListener("keydown",(function t(n){"Escape"!==n.key&&(n.keyCode||n.which)!==i||(document.removeEventListener("keydown",t),f(e))}));const n=o=>{var i;const u=null===(i=o.detail)||void 0===i?void 0:i.modalRenderId;try{("string"==typeof u?parseInt(u):u)===t&&(window.removeEventListener(r.b,n),f(e))}catch(t){Object(h.a)("error",`invalid modalRenderId ${u}`)}};window.addEventListener(r.b,n)}function O(t,e,n){Object(d.a)(e)&&("modal"===e&&function(t,e){document.getElementById(r.d)||(o(document.body,_),m(b),E(t,null!=e?e:`#${r.e}`))}(t,n),"banner"===e&&function(t,e){document.getElementById(r.a)||(o(document.body,y),m(g),E(t,null!=e?e:`#${r.a}`))}(t,n))}function x(){return v(this,void 0,void 0,(function*(){const t="input, a, button",e=document.querySelector(`#${r.d}`);yield function(t){let e;const n=new Promise(((t,n)=>{e=setTimeout((()=>n({message:`Took longer than ${l/1e3} seconds waiting for condition to be satisfied`})),l)})),r=new Promise((e=>{!function n(){t()&&e(),window.setTimeout(n,p)}()}));return Promise.race([n,r]).then((()=>clearTimeout(e)))}((()=>!!(null==e?void 0:e.querySelector(t))));const n=null==e?void 0:e.querySelector(t);var o;null==n||n.focus(),(o=e).addEventListener("keydown",(t=>{const e=function(t){return t.querySelectorAll('button, a[href]:not(:empty), input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')}(o);if(a(t,e))return t.preventDefault(),void e[e.length-1].focus();c(t,e)&&(t.preventDefault(),e[0].focus())}))}))}},function(t,e,n){var r=n(135),o=n(136),i=n(137),u=n(138),s=n(139);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=u,a.prototype.set=s,t.exports=a},function(t,e,n){var r=n(72);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(11)(Object,"create");t.exports=r},function(t,e,n){var r=n(159);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(232),o=n(57);t.exports=function(t){return r(o(t))}},function(t,e,n){var r,o,i,u=n(233),s=n(1),a=n(15),c=n(9),f=n(6),l=n(61),p=n(62),d=n(63),h=s.WeakMap;if(u){var v=l.state||(l.state=new h),_=v.get,b=v.has,y=v.set;r=function(t,e){return e.facade=t,y.call(v,t,e),e},o=function(t){return _.call(v,t)||{}},i=function(t){return b.call(v,t)}}else{var g=p("state");d[g]=!0,r=function(t,e){return e.facade=t,c(t,g,e),e},o=function(t){return f(t,g)?t[g]:{}},i=function(t){return f(t,g)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!a(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(7),o=n(245),i=n(102),u=n(107),s=n(247),a=n(248),c=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var f,l,p,d,h,v,_,b=n&&n.that,y=!(!n||!n.AS_ENTRIES),g=!(!n||!n.IS_ITERATOR),m=!(!n||!n.INTERRUPTED),w=u(e,b,1+y+m),E=function(t){return f&&a(f),new c(!0,t)},O=function(t){return y?(r(t),m?w(t[0],t[1],E):w(t[0],t[1])):m?w(t,E):w(t)};if(g)f=t;else{if("function"!=typeof(l=s(t)))throw TypeError("Target is not iterable");if(o(l)){for(p=0,d=i(t.length);d>p;p++)if((h=O(t[p]))&&h instanceof c)return h;return new c(!1)}f=l.call(t)}for(v=f.next;!(_=v.call(f)).done;){try{h=O(_.value)}catch(t){throw a(f),t}if("object"==typeof h&&h&&h instanceof c)return h}return new c(!1)}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const r=["red","orange","yellow","green","blue","purple","sandcastle"];function o(t){const e=function(t){if(!t)return;const e=t.split(".");if(e.length<3||"bloomberg"!==e[2])return;const n=e[1];return r.includes(n)?n:void 0}(window.location.hostname);return"blue"===e&&t.includes("www")?t.replace("www","origin.blue"):"blue"===e&&t.includes("https://login")?t.replace("https://login","https://blue-login"):e&&t.includes("staging")?t.replace("staging",e):t}},function(t,e,n){"use strict";function r(t){return"modal"===t||"banner"===t}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(11)(n(5),"Map");t.exports=r},function(t,e,n){var r=n(81),o=n(171),i=n(86);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(74),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=s}).call(this,n(43)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(81),o=n(174),i=n(86);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(179),o=n(87),i=Object.prototype.propertyIsEnumerable,u=Object.getOwnPropertySymbols,s=u?function(t){return null==t?[]:(t=Object(t),r(u(t),(function(e){return i.call(t,e)})))}:o;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(85)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(182),o=n(41),i=n(183),u=n(184),s=n(185),a=n(17),c=n(76),f="[object Map]",l="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",v=c(r),_=c(o),b=c(i),y=c(u),g=c(s),m=a;(r&&m(new r(new ArrayBuffer(1)))!=h||o&&m(new o)!=f||i&&m(i.resolve())!=l||u&&m(new u)!=p||s&&m(new s)!=d)&&(m=function(t){var e=a(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return h;case _:return f;case b:return l;case y:return p;case g:return d}return e}),t.exports=m},function(t,e,n){var r=n(188);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(13),o=n(200),i=n(201),u=n(204);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(u(t))}},function(t,e,n){var r=n(17),o=n(12);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(18),o=n(231),i=n(34),u=n(35),s=n(96),a=n(6),c=n(97),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=u(t),e=s(e,!0),c)try{return f(t,e)}catch(t){}if(a(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(1),o=n(15),i=r.document,u=o(i)&&o(i.createElement);t.exports=function(t){return u?i.createElement(t):{}}},function(t,e,n){var r=n(1),o=n(9);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(61),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(1),o=n(59),i="__core-js_shared__",u=r[i]||o(i,{});t.exports=u},function(t,e,n){var r=n(98),o=n(99),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports={}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(6),o=n(240),i=n(62),u=n(241),s=i("IE_PROTO"),a=Object.prototype;t.exports=u?Object.getPrototypeOf:function(t){return t=o(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r,o=n(7),i=n(243),u=n(65),s=n(63),a=n(105),c=n(58),f=n(62),l="prototype",p="script",d=f("IE_PROTO"),h=function(){},v=function(t){return"<"+p+">"+t+"</"+p+">"},_=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e,n;_=r?function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):(e=c("iframe"),n="java"+p+":",e.style.display="none",a.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F);for(var o=u.length;o--;)delete _[l][u[o]];return _()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h[l]=o(t),n=new h,h[l]=null,n[d]=t):n=_(),void 0===e?n:i(n,e)}},function(t,e,n){var r={};r[n(3)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(19).f,o=n(6),i=n(3)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(56),o=n(1);t.exports="process"==r(o.process)},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(17),o=n(24);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(75))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(151),o=n(158),i=n(160),u=n(161),s=n(162);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=u,a.prototype.set=s,t.exports=a},function(t,e,n){var r=n(79),o=n(72),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var u=t[e];i.call(t,e)&&o(u,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(80);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(11),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(165),o=n(82),i=n(13),u=n(83),s=n(168),a=n(169),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),f=!n&&o(t),l=!n&&!f&&u(t),p=!n&&!f&&!l&&a(t),d=n||f||l||p,h=d?r(t.length,String):[],v=h.length;for(var _ in t)!e&&!c.call(t,_)||d&&("length"==_||l&&("offset"==_||"parent"==_)||p&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||s(_,v))||h.push(_);return h}},function(t,e,n){var r=n(166),o=n(12),i=Object.prototype,u=i.hasOwnProperty,s=i.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(t){return o(t)&&u.call(t,"callee")&&!s.call(t,"callee")};t.exports=a},function(t,e,n){(function(t){var r=n(5),o=n(167),i=e&&!e.nodeType&&e,u=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=u&&u.exports===i?r.Buffer:void 0,a=(s?s.isBuffer:void 0)||o;t.exports=a}).call(this,n(43)(t))},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(73),o=n(84);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(49),o=n(50),i=n(48),u=n(87),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:u;t.exports=s},function(t,e,n){var r=n(49),o=n(13);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(89),o=n(88),i=n(47);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(53),o=n(92);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(54);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},function(t,e){var n=9007199254740991,r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",u=/^(?:0|[1-9]\d*)$/;var s,a,c=Object.prototype,f=c.hasOwnProperty,l=c.toString,p=c.propertyIsEnumerable,d=(s=Object.keys,a=Object,function(t){return s(a(t))}),h=Math.max,v=!p.call({valueOf:1},"valueOf");function _(t,e){var n=w(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&E(t)}(t)&&f.call(t,"callee")&&(!p.call(t,"callee")||l.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var u in t)!e&&!f.call(t,u)||i&&("length"==u||y(u,o))||n.push(u);return n}function b(t,e,n){var r=t[e];f.call(t,e)&&m(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function y(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||u.test(t))&&t>-1&&t%1==0&&t<e}function g(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||c)}function m(t,e){return t===e||t!=t&&e!=e}var w=Array.isArray;function E(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=O(t)?l.call(t):"";return e==o||e==i}(t)}function O(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var x,S=(x=function(t,e){if(v||g(e)||E(e))!function(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var u=e[o],s=r?r(n[u],t[u],u,n,t):void 0;b(n,u,void 0===s?t[u]:s)}}(e,function(t){return E(t)?_(t):function(t){if(!g(t))return d(t);var e=[];for(var n in Object(t))f.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}(e),t);else for(var n in e)f.call(e,n)&&b(t,n,e[n])},function(t,e){return e=h(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=h(n.length-e,0),i=Array(o);++r<o;)i[r]=n[e+r];r=-1;for(var u=Array(e+1);++r<e;)u[r]=n[r];return u[e]=i,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,u)}}((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,i=r>2?e[2]:void 0;for(o=x.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(t,e,n){if(!O(n))return!1;var r=typeof e;return!!("number"==r?E(n)&&y(e,n.length):"string"==r&&e in n)&&m(n[e],t)}(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var u=e[n];u&&x(t,u,n,o)}return t})));t.exports=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){void 0===t&&(t=window.location.href);var e=t.indexOf("?"),n=t.indexOf("#");return e<0?{}:t.substring(e+1,n>0?n:void 0).split("&").reduce((function(t,e){var n=e.split("="),r=n[0],o=n[1];return void 0===o?(t[r]=!0,t):(t[r]=o,t)}),{})}},function(t,e,n){"use strict";var r=n(14),o=n(66),i=n(104),u=n(67),s=n(9),a=n(34),c=n(37),f=function(t,e){var n=this;if(!(n instanceof f))return new f(t,e);i&&(n=i(new Error(void 0),o(n))),void 0!==e&&s(n,"message",String(e));var r=[];return c(t,r.push,{that:r}),s(n,"errors",r),n};f.prototype=u(Error.prototype,{constructor:a(5,f),message:a(5,""),name:a(5,"AggregateError")}),r({global:!0},{AggregateError:f})},function(t,e,n){var r=n(15);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(18),o=n(8),i=n(58);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(26),o=n(61);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.7.0",mode:r?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(1);t.exports=r},function(t,e,n){var r=n(6),o=n(35),i=n(237).indexOf,u=n(63);t.exports=function(t,e){var n,s=o(t),a=0,c=[];for(n in s)!r(u,n)&&r(s,n)&&c.push(n);for(;e.length>a;)r(s,n=e[a++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(64),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(8),o=/#|\.prototype\./,i=function(t,e){var n=s[u(t)];return n==c||n!=a&&("function"==typeof e?r(e):!!e)},u=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},a=i.NATIVE="N",c=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(7),o=n(242);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){var r=n(16);t.exports=r("document","documentElement")},function(t,e,n){var r=n(8);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(21);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(68),o=n(56),i=n(3)("toStringTag"),u="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:u?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(1);t.exports=r.Promise},function(t,e,n){var r=n(7),o=n(21),i=n(3)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||null==(n=r(u)[i])?e:o(n)}},function(t,e,n){var r,o,i,u=n(1),s=n(8),a=n(107),c=n(105),f=n(58),l=n(112),p=n(70),d=u.location,h=u.setImmediate,v=u.clearImmediate,_=u.process,b=u.MessageChannel,y=u.Dispatch,g=0,m={},w="onreadystatechange",E=function(t){if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},O=function(t){return function(){E(t)}},x=function(t){E(t.data)},S=function(t){u.postMessage(t+"",d.protocol+"//"+d.host)};h&&v||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(g),g},v=function(t){delete m[t]},p?r=function(t){_.nextTick(O(t))}:y&&y.now?r=function(t){y.now(O(t))}:b&&!l?(i=(o=new b).port2,o.port1.onmessage=x,r=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts&&d&&"file:"!==d.protocol&&!s(S)?(r=S,u.addEventListener("message",x,!1)):r=w in f("script")?function(t){c.appendChild(f("script"))[w]=function(){c.removeChild(this),E(t)}}:function(t){setTimeout(O(t),0)}),t.exports={set:h,clear:v}},function(t,e,n){var r=n(113);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(16);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(7),o=n(15),i=n(28);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(14),o=n(21),i=n(28),u=n(38),s=n(37);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=i.f(e),r=n.resolve,a=n.reject,c=u((function(){var n=o(e.resolve),i=[],u=0,a=1;s(t,(function(t){var o=u++,s=!1;i.push(void 0),a++,n.call(e,t).then((function(t){s||(s=!0,i[o]={status:"fulfilled",value:t},--a||r(i))}),(function(t){s||(s=!0,i[o]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return c.error&&a(c.value),n.promise}})},function(t,e,n){"use strict";var r=n(14),o=n(21),i=n(16),u=n(28),s=n(38),a=n(37),c="No one promise resolved";r({target:"Promise",stat:!0},{any:function(t){var e=this,n=u.f(e),r=n.resolve,f=n.reject,l=s((function(){var n=o(e.resolve),u=[],s=0,l=1,p=!1;a(t,(function(t){var o=s++,a=!1;u.push(void 0),l++,n.call(e,t).then((function(t){a||p||(p=!0,r(t))}),(function(t){a||p||(a=!0,u[o]=t,--l||f(new(i("AggregateError"))(u,c)))}))})),--l||f(new(i("AggregateError"))(u,c))}));return l.error&&f(l.value),n.promise}})},function(t,e,n){"use strict";var r=n(14),o=n(262),i=n(66),u=n(104),s=n(69),a=n(9),c=n(20),f=n(3),l=n(26),p=n(27),d=n(118),h=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,_=f("iterator"),b="keys",y="values",g="entries",m=function(){return this};t.exports=function(t,e,n,f,d,w,E){o(n,e,f);var O,x,S,I=function(t){if(t===d&&U)return U;if(!v&&t in T)return T[t];switch(t){case b:case y:case g:return function(){return new n(this,t)}}return function(){return new n(this)}},P=e+" Iterator",j=!1,T=t.prototype,A=T[_]||T["@@iterator"]||d&&T[d],U=!v&&A||I(d),B="Array"==e&&T.entries||A;if(B&&(O=i(B.call(new t)),h!==Object.prototype&&O.next&&(l||i(O)===h||(u?u(O,h):"function"!=typeof O[_]&&a(O,_,m)),s(O,P,!0,!0),l&&(p[P]=m))),d==y&&A&&A.name!==y&&(j=!0,U=function(){return A.call(this)}),l&&!E||T[_]===U||a(T,_,U),p[e]=U,d)if(x={values:I(y),keys:w?U:I(b),entries:I(g)},E)for(S in x)(v||j||!(S in T))&&c(T,S,x[S]);else r({target:e,proto:!0,forced:v||j},x);return x}},function(t,e,n){"use strict";var r,o,i,u=n(66),s=n(9),a=n(6),c=n(3),f=n(26),l=c("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(r=o):p=!0),null==r&&(r={}),f||a(r,l)||s(r,l,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));var r=n(120);const o=["ABBA_TARGETS_ENDPOINT","LOG_ENDPOINT","PLUG_SERVICE_ENDPOINT","PLUG_SERVICE_V2_ENDPOINT"];function i(){const e=Object(r.a)(window.location.hostname);o.forEach((n=>{t.env[n]&&t.env[n].includes("staging")&&e&&(t.env[n]=t.env[n].replace("staging",e))}))}}).call(this,n(132))},function(t,e,n){"use strict";const r=["red","orange","yellow","green","blue","purple","sandcastle"];e.a=function(t){const e=t.split(".");if(e.length<3||"bloomberg"!==e[2])return;const n=e[1];return-1!==r.indexOf(n)?n:void 0}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PlugClient}));var lodash_omit__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(122),lodash_omit__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_0__),lodash_get__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(123),lodash_get__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__),_utils_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_utils_getABBAConfig__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(124),_src_utils_userInfoFromCookie__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(22),_utils_outlet__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(29),_utils_recordTemplateRendered__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(125),_utils_isIntrusiveOutlet__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(40),_utils_intrusiveOutletShowing__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(126),_utils_shouldShow__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(127),_utils_getDefaultDaysAfterLastShown__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(128),_utils_getPlugEndpoint__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(129),__awaiter=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,s)}a((r=r.apply(t,e||[])).next())}))};class PlugClient{constructor(t,e){this.outletSelectorMap=t||{},this.regUIClient=e,this.templateEventListeners={}}loadTouts(){return __awaiter(this,void 0,void 0,(function*(){const t=_src_utils_userInfoFromCookie__WEBPACK_IMPORTED_MODULE_4__.a.isLoggedIn(),e=_src_utils_userInfoFromCookie__WEBPACK_IMPORTED_MODULE_4__.a.getSubscriptions().size>0,n=_src_utils_userInfoFromCookie__WEBPACK_IMPORTED_MODULE_4__.a.getNewsletters()||"",r=this.regUIClient.getUserInfo().isDelinquent,o=_src_utils_userInfoFromCookie__WEBPACK_IMPORTED_MODULE_4__.a.getExperiencePreference()||"",i=_src_utils_userInfoFromCookie__WEBPACK_IMPORTED_MODULE_4__.a.getSubscriberData(),u=yield Object(_utils_getABBAConfig__WEBPACK_IMPORTED_MODULE_3__.a)(Object.assign({registered:t,subscriber:e,newsletters:n,isDelinquent:r,experienceRegion:o},i));Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.a)("debug",`Config from abba successfully retrieved: ${JSON.stringify(u,null,4)}`),yield this.loadTemplatesFromPlug(u)}))}loadTemplatesFromPlug(abbaConfig){return __awaiter(this,void 0,void 0,(function*(){const intrusiveOutletShowing=Object(_utils_intrusiveOutletShowing__WEBPACK_IMPORTED_MODULE_8__.a)(),plugTemplatePromises=Object.entries(lodash_omit__WEBPACK_IMPORTED_MODULE_0___default()(abbaConfig,"tracking")).filter((([,{templateId:t}])=>t)).map((([templateName,templateConfig])=>{const{templateId:templateId,renderStrategy:renderStrategyFromAbba,outlet:outletFromAbba,daysAfterLastShown:daysAfterLastShownFromAbba}=templateConfig,plugScriptsEndpoint=Object(_utils_getPlugEndpoint__WEBPACK_IMPORTED_MODULE_11__.a)(templateId);return(()=>__awaiter(this,void 0,void 0,(function*(){var _a;try{const scriptResponse=yield window.fetch(plugScriptsEndpoint);if(!scriptResponse.ok)return void Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.a)("warn",`The plug-service script endpoint did not return a success response for template ${templateId}: ${scriptResponse.status}.`);try{eval(yield scriptResponse.text())}catch(t){return void Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.a)("error",`Failed to parse and evaluate the response from plug-service from the template ${templateId}. Error: `,t)}const templateInstance=lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(window,`_plug.template-${templateId}`);if(!templateInstance)return void Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.a)("error",`Failed to render template ${templateId}. Script from plug-service did not set up window as expected.`);const{outlet:outletFromTemplate,renderStrategy:renderStrategyFromTemplate,isIntrusive:isIntrusive,render:render}=templateInstance;Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.a)("debug",`Received componentJSON from plug for ${templateName}`,{outletFromTemplate:outletFromTemplate,renderStrategyFromTemplate:renderStrategyFromTemplate,isIntrusive:isIntrusive});const outlet=null!=outletFromAbba?outletFromAbba:outletFromTemplate,renderStrategy=null!=renderStrategyFromAbba?renderStrategyFromAbba:renderStrategyFromTemplate,daysAfterLastShown=null!=daysAfterLastShownFromAbba?daysAfterLastShownFromAbba:Object(_utils_getDefaultDaysAfterLastShown__WEBPACK_IMPORTED_MODULE_10__.a)(isIntrusive);if(intrusiveOutletShowing(templateName,outlet))return;if(!Object(_utils_shouldShow__WEBPACK_IMPORTED_MODULE_9__.a)(templateId,templateName))return;const outletSelector=null!==(_a=this.outletSelectorMap[outlet])&&void 0!==_a?_a:Object(_utils_outlet__WEBPACK_IMPORTED_MODULE_5__.b)(outlet);if(!outletSelector)return void Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.a)("error",`Failed to render template ${templateName}. Received unknown outlet: ${outlet}`);if(!Object(_utils_isIntrusiveOutlet__WEBPACK_IMPORTED_MODULE_7__.a)(outlet)&&!document.querySelector(outletSelector))return void Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.a)("warn",`Failed to render template ${templateName}. Could not find selector ${outletSelector} which corresponds to outlet ${outlet}`);const onTemplateRendered=t=>__awaiter(this,void 0,void 0,(function*(){"modal"===outlet&&(yield Object(_utils_outlet__WEBPACK_IMPORTED_MODULE_5__.a)()),yield Object(_utils_recordTemplateRendered__WEBPACK_IMPORTED_MODULE_6__.a)(templateId,daysAfterLastShown,renderStrategy);const e=t.detail.showTemplate?"Visibly rendered":"Plug render completed, but didn't show ";Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.a)("debug",`${e} template ${templateName} with render strategy ${renderStrategy} in outlet ${outlet}`)}));window.addEventListener("plug-render-complete",onTemplateRendered),this.templateEventListeners[templateId]=onTemplateRendered;try{switch(renderStrategy){case"none":break;case"on-load":case"on-time-elapsed":Object(_utils_outlet__WEBPACK_IMPORTED_MODULE_5__.c)(templateId,outlet,outletSelector),render(outletSelector,templateConfig);break;case"on-exit-intent":document.body.addEventListener("mouseleave",(()=>__awaiter(this,void 0,void 0,(function*(){Object(_utils_outlet__WEBPACK_IMPORTED_MODULE_5__.c)(templateId,outlet,outletSelector),render(outletSelector,templateConfig)}))),{once:!0});break;default:return void Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.a)("error",`Failed to render template ${templateName}. Received unknown render strategy: ${renderStrategy}`)}}catch(t){return void Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.a)("error",`Failed to render template ${templateName} with render strategy ${renderStrategy} in outlet ${outlet}. Error: `,t)}}catch(t){Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.a)("warn",`Failed to retrieve the script from plug-service for the template ${templateId}. Error: `,t)}})))()}));yield Promise.all(plugTemplatePromises)}))}_cleanupEventListeners(){Object.keys(this.templateEventListeners).forEach((t=>{window.removeEventListener("plug-render-complete",this.templateEventListeners[t])}))}}},function(t,e,n){var r=n(71),o=n(133),i=n(199),u=n(53),s=n(25),a=n(209),c=n(211),f=n(90),l=c((function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,(function(e){return e=u(e,t),c||(c=e.length>1),e})),s(t,f(t),n),c&&(n=o(n,7,a));for(var l=e.length;l--;)i(n,e[l]);return n}));t.exports=l},function(t,e,n){var r=n(91);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){"use strict";var r=n(0),o=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,s)}a((r=r.apply(t,e||[])).next())}))};e.a=function(t){return o(this,void 0,void 0,(function*(){let e,n;try{n=yield window.__bloomberg__.getAbbaClient(),e=yield n.getConfig("plug-client",t)}catch(t){throw Object(r.a)("warn","Failed to retrieve the config from ABBA. Error: ",t),t}return window.plugClient.abba=n._feeds["plug-client"],window.plugClient.abbaConfig=e,e}))}},function(t,e,n){"use strict";var r=n(2),o=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,s)}a((r=r.apply(t,e||[])).next())}))};e.a=function(t,e,n){return o(this,void 0,void 0,(function*(){if("none"===n)return;const o=`Plug-${t}-render-after-last-shown`,i=Date.now(),u=new Date(i+Number(e)*r.c).toISOString();window.localStorage.setItem(o,u)}))}},function(t,e,n){"use strict";var r=n(0);e.a=function(){let t=!1;return(e,n)=>{if("modal"===n){if(t)return Object(r.a)("warn",`abba config included multiple intrusive outlets but plug-client can only render one, discarding modal template ${e}.`),!0;t=!0}if("banner"===n){if(t)return Object(r.a)("warn",`abba config included multiple intrusive outlets but plug-client can only render one, discarding banner template ${e}.`),!0;t=!0}return!1}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0);function o(t){try{const e=window.localStorage.getItem(t);if(e)return e?new Date(e).getTime():null}catch(e){Object(r.a)("info",`problem reading key ${t} from local storage: `,e)}return null}function i(t,e){const n=`Plug-${t}-render-after-last-closed`,i=`Plug-${t}-render-after-last-cta`,u=o(`Plug-${t}-render-after-last-shown`),s=o(n),a=o(i),c=Date.now();return u&&c<u?(Object(r.a)("info",`Template ${e} has rendered too recently, so this template will not be rendered.`),!1):s&&c<s?(Object(r.a)("info",`Template ${e} has been closed too recently, so this template will not be rendered`),!1):!(a&&c<a)||(Object(r.a)("info",`Template ${e} has had its CTA clicked too recently, so this template will not be rendered.`),!1)}},function(t,e,n){"use strict";function r(t){return!0===t?30:0}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(39);e.a=function(t){let e;return e=t.toString().match(/[\w-]{10}/)?`https://www.bloomberg.com/plug/api/v2/scripts/${t}.js`:`https://www.bloomberg.com/plug/api/v1/scripts/${t}.js`,Object(r.a)(e)}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(222));e.default=o.default},function(t,e,n){t.exports=n(276).default},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var a,c=[],f=!1,l=-1;function p(){f&&a&&(f=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!f){var t=s(p);f=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||f||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(134),o=n(163),i=n(78),u=n(164),s=n(173),a=n(176),c=n(177),f=n(178),l=n(180),p=n(181),d=n(90),h=n(51),v=n(186),_=n(187),b=n(193),y=n(13),g=n(83),m=n(195),w=n(24),E=n(197),O=n(42),x=n(47),S="[object Arguments]",I="[object Function]",P="[object Object]",j={};j[S]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[P]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[I]=j["[object WeakMap]"]=!1,t.exports=function t(e,n,T,A,U,B){var L,D=1&n,M=2&n,R=4&n;if(T&&(L=U?T(e,A,U,B):T(e)),void 0!==L)return L;if(!w(e))return e;var C=y(e);if(C){if(L=v(e),!D)return c(e,L)}else{var k=h(e),F=k==I||"[object GeneratorFunction]"==k;if(g(e))return a(e,D);if(k==P||k==S||F&&!U){if(L=M||F?{}:b(e),!D)return M?l(e,s(L,e)):f(e,u(L,e))}else{if(!j[k])return U?e:{};L=_(e,k,D)}}B||(B=new r);var W=B.get(e);if(W)return W;B.set(e,L),E(e)?e.forEach((function(r){L.add(t(r,n,T,r,e,B))})):m(e)&&e.forEach((function(r,o){L.set(o,t(r,n,T,o,e,B))}));var N=C?void 0:(R?M?d:p:M?x:O)(e);return o(N||e,(function(r,o){N&&(r=e[o=r]),i(L,o,t(r,n,T,o,e,B))})),L}},function(t,e,n){var r=n(30),o=n(140),i=n(141),u=n(142),s=n(143),a=n(144);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=u,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(31),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(31);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(31);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(31);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(30);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(30),o=n(41),i=n(77);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var u=n.__data__;if(!o||u.length<199)return u.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(u)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(73),o=n(148),i=n(24),u=n(76),s=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,f=a.toString,l=c.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:s).test(u(t))}},function(t,e,n){var r=n(23),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(149),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(5)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(152),o=n(30),i=n(41);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(153),o=n(154),i=n(155),u=n(156),s=n(157);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=u,a.prototype.set=s,t.exports=a},function(t,e,n){var r=n(32);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(32),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(32),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(32);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(33);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(33);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(33);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(33);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(25),o=n(42);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(17),o=n(12);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(170),o=n(44),i=n(45),u=i&&i.isTypedArray,s=u?o(u):r;t.exports=s},function(t,e,n){var r=n(17),o=n(84),i=n(12),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!u[r(t)]}},function(t,e,n){var r=n(46),o=n(172),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(85)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(25),o=n(47);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(24),o=n(46),i=n(175),u=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&u.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(5),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===o?r.Buffer:void 0,s=u?u.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(43)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(25),o=n(48);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}},function(t,e,n){var r=n(25),o=n(88);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(89),o=n(48),i=n(42);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(11)(n(5),"DataView");t.exports=r},function(t,e,n){var r=n(11)(n(5),"Promise");t.exports=r},function(t,e,n){var r=n(11)(n(5),"Set");t.exports=r},function(t,e,n){var r=n(11)(n(5),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(52),o=n(189),i=n(190),u=n(191),s=n(192);t.exports=function(t,e,n){var a=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return i(t);case"[object Symbol]":return u(t)}}},function(t,e,n){var r=n(5).Uint8Array;t.exports=r},function(t,e,n){var r=n(52);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(23),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(52);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(194),o=n(50),i=n(46);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(24),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var r=n(196),o=n(44),i=n(45),u=i&&i.isMap,s=u?o(u):r;t.exports=s},function(t,e,n){var r=n(51),o=n(12);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(198),o=n(44),i=n(45),u=i&&i.isSet,s=u?o(u):r;t.exports=s},function(t,e,n){var r=n(51),o=n(12);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,e,n){var r=n(53),o=n(206),i=n(207),u=n(92);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[u(o(e))]}},function(t,e,n){var r=n(13),o=n(54),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(u.test(t)||!i.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(202),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,u=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=u},function(t,e,n){var r=n(203);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(77);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(205);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(23),o=n(71),i=n(13),u=n(54),s=r?r.prototype:void 0,a=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(u(e))return a?a.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(91),o=n(208);t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},function(t,e,n){var r=n(210);t.exports=function(t){return r(t)?void 0:t}},function(t,e,n){var r=n(17),o=n(50),i=n(12),u=Function.prototype,s=Object.prototype,a=u.toString,c=s.hasOwnProperty,f=a.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==f}},function(t,e,n){var r=n(212),o=n(215),i=n(217);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(213);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(49),o=n(214);t.exports=function t(e,n,i,u,s){var a=-1,c=e.length;for(i||(i=o),s||(s=[]);++a<c;){var f=e[a];n>0&&i(f)?n>1?t(f,n-1,i,u,s):r(s,f):u||(s[s.length]=f)}return s}},function(t,e,n){var r=n(23),o=n(82),i=n(13),u=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(u&&t&&t[u])}},function(t,e,n){var r=n(216),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,u=-1,s=o(i.length-e,0),a=Array(s);++u<s;)a[u]=i[e+u];u=-1;for(var c=Array(e+1);++u<e;)c[u]=i[u];return c[e]=n(a),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(218),o=n(221)(r);t.exports=o},function(t,e,n){var r=n(219),o=n(80),i=n(220),u=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=u},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){t.exports=function(t){return t}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){"use strict";var r,o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.addParamsToUrl=void 0;var u=i(n(93)),s=i(n(223)),a=i(n(224)),c=i(n(225)),f=n(273),l=i(n(94)),p=i(n(274)),d=n(275),h="data-signed-in",v="data-status",_="data-reg-ui-client-status",b="reg-ui-client",y=b,g="reg-ui-client__iframe-container",m="reg-ui-client__wide-iframe-container",w="reg-ui-client__uverify-iframe-container",E="reg-ui-client__iframe",O=E,x=new RegExp("^https?://([^\\\\/]+\\.)*bloomberg\\.com(:\\d+)?(/|$)","i"),S=((r={})[g]=O,r[m]="reg-ui-client__wide-iframe",r[w]="reg-ui-client__uverify-iframe",r),I="reg-user-info-ready",P="reg-ui-show-pop-up",j="reg-user-signed-in",T=function(){function t(t,e){void 0===e&&(e={}),this._textElements=[];var n=window.location.hostname,r=e.dismissible,o=e.displayWhenUnauthenticated,i=e.queryParams,u=e.fetchSubMetadata,s=e.activeSubscriptionsOnly,l=void 0!==s&&s,d=e.environment,h=void 0===d?"www.bloomberg.com"===n?"production":"staging":d,v=(0,p.default)(n);this._environment=h,("staging"===h&&v||"production"===h&&"blue"===v)&&(this._environment=v);var _=f.URLS_MAP[this._environment]||f.URLS_MAP.production;this._isLoggedIn=!1,this._isTerminalSubscriber=!1,this._isBBGSubscriber=!1,this._isBWSubscriber=!1,this._opt=e,this._dismissible=!(!1===r||"false"===r),this._displayWhenUnauthenticated=Boolean(o),this._queryParams=i,this._urls=new a.default(_),this._userInfo=new c.default(this._urls,u,l),this._openedWindowReference=null,this._userInfoEventHandler=null,this._userClickEventHandler=this.__userClickEventHandler.bind(this),this._windowMessageListener=this.__windowMessageListener.bind(this),this._windowSignedInEventListener=this.__windowSignedInEventListener.bind(this),this._disableEscapeHandler=this.__disableEscapeHandler.bind(this),this.dispatchSignedInEvent=this.dispatchSignedInEvent.bind(this),this.isLoggedIn=this.isLoggedIn.bind(this),this.isTerminalSubscriber=this.isTerminalSubscriber.bind(this),this.isBBGSubscriber=this.isBBGSubscriber.bind(this),this.isBWSubscriber=this.isBWSubscriber.bind(this),this.addTextElements(t)}return t.prototype.initialize=function(){var t=this;return this._setupMessageListener(),this._setupSignedInEventListener(),this.verifySignInStatus((function(){t._updateLinks()}),(function(){t._displayWhenUnauthenticated&&t.linkToSignIn()})),this},t.prototype.verifySignInStatus=function(t,e){var n=this;return this._userInfo.fetchUserInfo((function(r,o){var i="boolean"==typeof o?{}:o;if(U(i),(0,s.default)(window,I,i),i.userId)return"function"==typeof t&&t.call(n,i.userId),void n.dispatchSignedInEvent(i,"already-signed-in");(0,s.default)(window,"reg-user-not-signed-in"),"function"==typeof e&&e.call(n)})),this},t.prototype.removeUserInfoEventHandler=function(){this._userInfoEventHandler&&(window.removeEventListener(I,this._userInfoEventHandler),this._userInfoEventHandler=null)},t.prototype.cleanup=function(){this._windowMessageListener&&(window.removeEventListener("message",this._windowMessageListener),this._windowMessageListener=null),this._windowSignedInEventListener&&(window.removeEventListener(j,this._windowSignedInEventListener),this._windowSignedInEventListener=null),this._userClickEventHandler&&(this.removeTextElements(),this._userClickEventHandler=null),this._disableEscapeHandler&&(window.removeEventListener("keyup",this._disableEscapeHandler),this._disableEscapeHandler=null);var t=document.getElementById(b);t&&(t.removeEventListener("click",this._hidePopup),document.body.removeChild(t)),this.removeUserInfoEventHandler(),this._openedWindowReference&&(this._openedWindowReference=null),t=null},t.prototype.linkToSignIn=function(t,e){void 0===t&&(t=this._queryParams),void 0===e&&(e=this._opt),document.body.setAttribute(_,"load"),this._createPopup(this._urls.getLoginUrl(t),(0,u.default)({uverifyWide:!0,zIndex:t&&t.zIndex?t.zIndex:null},e))},t.prototype.linkToRegister=function(t,e){void 0===t&&(t=this._queryParams),this.linkToUVerify(t,e)},t.prototype.linkToUVerify=function(t,e){void 0===t&&(t=this._queryParams),document.body.setAttribute(_,"load"),this._createPopup(this._urls.getUVerifyUrl(t),(0,u.default)({uverifyWide:!0,zIndex:t&&t.zIndex?t.zIndex:null},e))},t.prototype.linkToTerminalRegister=function(t,e){void 0===t&&(t=this._queryParams),document.body.setAttribute(_,"load"),this._createPopup(this._urls.getTerminalRegisterUrl(t),e)},t.prototype.linkToBwRegister=function(t,e){void 0===t&&(t=this._queryParams),document.body.setAttribute(_,"load"),this._createPopup(this._urls.getBwRegisterUrl(t),e)},t.prototype.linkToBSSO=function(t,e){void 0===t&&(t=this._queryParams);var n=(0,u.default)({newWindow:!0,width:400,height:525,location:"no",windowName:"terminal"},e);document.body.setAttribute(_,"load"),this._createPopup(this._urls.getBssoUrl(t),n)},t.prototype.onUserInfoReady=function(t){var e=this;if(window._regUserInfo)t(window._regUserInfo);else{var n=this._userInfoEventHandler||this._bindUserInfoEvent(t);this._userInfoEventHandler=function(t){n(t),e.removeUserInfoEventHandler()},window.addEventListener(I,this._userInfoEventHandler)}},t.prototype.addTextElements=function(t){var e=this,n=function(t){if(t instanceof Element)return!1;return t&&t.length&&t.length>=0}(t)?Array.prototype.slice.call(t):[];return t instanceof Element&&(n=[t]),this._textElements=this._textElements.concat(n),this._textElements.forEach((function(t){t.removeEventListener("click",e._userClickEventHandler),t.addEventListener("click",e._userClickEventHandler)})),window._regUserId&&this._updateLinks(),this},t.prototype.removeTextElements=function(){var t=this;this._textElements.forEach((function(e){e.removeEventListener("click",t._userClickEventHandler)})),this._textElements=[]},t.prototype.refreshUserInfo=function(){return this._userInfo.fetchUserInfo((function(t,e){U(e)}),!0),this},t.prototype.refreshUserInfoPromise=function(){return this._userInfo.fetchUserInfo((function(){}),!0).then((function(t){return U(t),t}))},t.prototype.optInToReferralSharing=function(t){var e=this;return this._userInfo.optInToReferralSharing(t).then((function(){return e.refreshUserInfo()}))},t.prototype.optOutOfReferralSharing=function(t){var e=this;return void 0===t&&(t=!1),this._userInfo.optOutOfReferralSharing(t).then((function(){return e.refreshUserInfo()}))},t.prototype.setPreferredEmail=function(t){var e=this;return this._userInfo.setPreferredEmail(t).then((function(){return e.refreshUserInfo()}))},t.prototype.isLoggedIn=function(){return this._isLoggedIn},t.prototype.isTerminalSubscriber=function(){return this._isTerminalSubscriber},t.prototype.isBBGSubscriber=function(){var t,e;return"BBG"===(null===(e=null===(t=window._regUserInfo)||void 0===t?void 0:t.subscription)||void 0===e?void 0:e.type)||this._isBBGSubscriber},t.prototype.isBWSubscriber=function(){return this._isBWSubscriber},t.prototype._setStateToLoggedIn=function(t){var e=t.userId,n=t.user;e&&(this._updateLinks(),this.refreshUserInfo(),U({userId:e,user:n}),this._isLoggedIn=!0,this._isTerminalSubscriber=(0,d.isTerminalSubscriber)(),this._isBBGSubscriber=(0,d.isBBGSubscriber)(),this._isBWSubscriber=(0,d.isBWSubscriber)())},t.prototype._bindUserInfoEvent=function(t){return function(e){t(e.detail)}},t.prototype._setupMessageListener=function(){window.addEventListener("message",this._windowMessageListener)},t.prototype._setupSignedInEventListener=function(){window.addEventListener(j,this._windowSignedInEventListener)},t.prototype._createPopup=function(t,e){void 0===e&&(e={});var n=!(!1===e.dismissible||"false"===e.dismissible||!this._dismissible);if(n||(t=a.default.appendQueryParams(t,{hideCloseButton:!0})),"production"!==this._environment&&(t=a.default.appendQueryParams(t,{skipGrecaptcha:!0})),e.newWindow){if(document.body.removeAttribute(_),null==this._openedWindowReference||this._openedWindowReference.closed){var r="width=".concat(e.width,",height=").concat(e.height,",location=").concat(e.location);return void(this._openedWindowReference=window.open(t,e.windowName||"sign_in",r))}this._openedWindowReference.focus()}else{var o=e.v4,i=void 0!==o&&o,u=e.zIndex,c=void 0===u?null:u,f=e.uverifyWide,l=void 0!==f&&f,p=document.getElementById(b),d=document.getElementById(E);if(p){if((null==d?void 0:d.getAttribute("src"))===t)return document.body.setAttribute(_,"show"),p.setAttribute(v,"show"),void(0,s.default)(window,P);document.body.removeChild(p)}var h=i&&!l?m:l?w:g,y=this._generatePopupContent(t,h,c);document.body.appendChild(y),this._showPopupAfterIframeHeightRefresh(),n?y.addEventListener("click",this._hidePopup):document.addEventListener("keyup",this._disableEscapeHandler)}},t.prototype._generatePopupContent=function(t,e,n){void 0===e&&(e=g),void 0===n&&(n=null);var r=n?"z-index: ".concat(n):null,o='<div class="'.concat(e,'">\n            <iframe id="').concat(E,'" class="').concat(S[e]||O,'" src="').concat(t,'" frameborder="0"></iframe></div>'),i=document.createElement("div");return i.setAttribute("class",y),i.setAttribute("id",b),r&&i.setAttribute("style",r),i.innerHTML=o,i},t.prototype._hidePopup=function(t){var e;t&&t.stopPropagation(),document.body.removeAttribute(_);var n=document.getElementById(b);(0,s.default)(window,"reg-ui-close-pop-up"),n&&n.removeAttribute(v),(null===(e=document.activeElement)||void 0===e?void 0:e.blur)&&document.activeElement.blur()},t.prototype._updateLinks=function(){this._textElements.forEach((function(t){t.setAttribute(h,"true")}))},t.prototype.__userClickEventHandler=function(e){e.preventDefault();var n=e.target;if(!("true"===(null==n?void 0:n.getAttribute(h))))return this.linkToSignIn();t.goToUrl(this._urls.getSettingsUrl())},t.prototype.__disableEscapeHandler=function(t){("Escape"===t.key||27===(t.keyCode||t.which))&&t.preventDefault()},t.prototype._showPopupAfterIframeHeightRefresh=function(){var t=document.getElementById(b),e=document.getElementById(E);t&&e?e.addEventListener("load",(function(){e.style.height=e.scrollHeight.toString(),document.body.setAttribute(_,"show"),t.setAttribute(v,"show"),(0,s.default)(window,P)})):document.body.removeAttribute(_)},t.prototype.__windowMessageListener=function(e){var n,r=e.origin||(null===(n=e.originalEvent)||void 0===n?void 0:n.origin);if(t.isWhiteListedDomain(r||"")){var o=e.data;switch(o.type){case"REG-HIDE-POPUP":case"REG-USER-HIDE-POPUP":this._hidePopup();break;case"REG-USER-SIGNED-IN":this._setStateToLoggedIn(o),this.dispatchSignedInEvent(o,"sign-in-event");break;case"REG-USER-REGISTERED":(0,s.default)(window,"reg-user-registered",o);break;case"REG-USER-VERIFIED":(0,s.default)(window,"reg-user-verified",o)}}},t.prototype.__windowSignedInEventListener=function(t){var e=t.detail;this._setStateToLoggedIn(e)},t.prototype.dispatchSignedInEvent=function(t,e){var n=t.userId,r=t.user;n&&(this._setStateToLoggedIn({userId:n,user:r}),window._regUserId!==n?((0,s.default)(window,j,{source:e,userId:n,user:r,isTerminalSubscriber:this._isTerminalSubscriber,isBBGSubscriber:this._isBBGSubscriber,isBWSubscriber:this._isBWSubscriber}),window._regUserId=n):(0,s.default)(window,"reg-user-repeated-sign-in",{source:e,userId:n,user:r,isTerminalSubscriber:this._isTerminalSubscriber,isBBGSubscriber:this._isBBGSubscriber,isBWSubscriber:this._isBWSubscriber}))},t.prototype.getUserInfo=function(){return o(o({},window._regUserInfo||{}),{isDelinquent:"true"===localStorage.getItem("isDelinquent")})},t.isWhiteListedDomain=function(t){return x.test(t)},t.goToUrl=function(t){window.location.href=t},t}();function A(t,e){void 0===t&&(t=document.location.href),void 0===e&&(e={});var n=(0,u.default)({},(0,l.default)(t),e),r=Object.keys(n).reduce((function(t,e){return t+=""===t?"?":"&",t+="".concat(e,"=").concat(n[e])}),""),o=t.indexOf("#"),i=t.indexOf("?")>0?t.split("?")[0]:t.split("#")[0],s="".concat(i).concat(r).concat(o>0?t.substring(o):"");window.history.replaceState({},"",s)}function U(t){void 0===t&&(t={});var e=window._regUserInfo||{},n=t.subscriptionType?{type:t.subscriptionType,number:t.subscriptionNumber}:null;window._regUserInfo={agentId:t.agentId||e.agentId,sessionId:t.sessionId||e.sessionId,sessionKey:t.sessionKey||e.sessionKey,userId:t.userId||e.userId,user:t.user||e.user,subscription:n||e.subscription},window._regUserInfo.user&&window._regUserInfo.user.referralToken&&A(document.location.href,{sref:window._regUserInfo.user.referralToken})}e.addParamsToUrl=A,e.default=T},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){if(t&&e)try{new t.CustomEvent("test")}catch(r){var n=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var r=e.createEvent("CustomEvent");return r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),r};n.prototype=t.Event.prototype,t.CustomEvent=n}}("undefined"!=typeof window?window:null,"undefined"!=typeof document?document:null),e.default=function(t,e,n){void 0===t&&(t=window),void 0===n&&(n={});var r=new window.CustomEvent(e,{detail:n});t.dispatchEvent(r)}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(94)),i=/([^:]\/)\/+/g,u=function(){function t(t){var e=t.baseUrl,n=t.apiBaseUrl;this._baseUrl=e,this._apiBaseUrl=n,this._config=t}return t.prototype._constructPath=function(e,n,r){void 0===r&&(r=this._baseUrl);var o="".concat(r).concat(e).replace(i,"$1");return t.appendQueryParams(o,n)},t.prototype.getLoginUrl=function(t){var e=this._config.loginUrl;return this._constructPath(e,t)},t.prototype.getRegisterUrl=function(t){var e=this._config.registerUrl;return this._constructPath(e,t)},t.prototype.getUVerifyUrl=function(t){var e=this._config.uverifyUrl;return this._constructPath(e,t)},t.prototype.getTerminalRegisterUrl=function(t){var e=this._config.terminalRegisterUrl;return this._constructPath(e,t)},t.prototype.getBwRegisterUrl=function(t){var e=this._config.bwRegisterUrl;return this._constructPath(e,t)},t.prototype.getSettingsUrl=function(t){var e=this._config.settingsUrl;return this._constructPath(e,t)},t.prototype.getUserInfoUrl=function(t){var e=this._config.userInfoUrl;return this._constructPath(e,t,this._apiBaseUrl)},t.prototype.getBssoUrl=function(t){var e=this._config.bssoUrl;return this._constructPath(e,t,this._apiBaseUrl)},t.prototype.getOptInToReferralsUrl=function(t){var e=this._config.optInToReferralsUrl;return this._constructPath(e,t,this._apiBaseUrl)},t.prototype.getOptOutFromReferralsUrl=function(t){var e=this._config.optOutFromReferralsUrl;return this._constructPath(e,t,this._apiBaseUrl)},t.prototype.setPreferredEmailUrl=function(t){var e=this._config.preferredEmailPath;return this._constructPath(e,t,this._apiBaseUrl)},t.appendQueryParams=function(e,n){if(!n||"object"!=typeof n)return e;var r=Object.keys(n);if(0===r.length)return e;for(var i=-1,u=(0,o.default)(e),s=0;s<r.length;++s)if(void 0===u[r[s]]){i=s;break}if(-1===i)return e;var a=e.includes("?")?"&":"?",c=e+a+t.constructKeyValuePair(r[i],n[r[i]].toString());for(s=i+1;s<r.length;++s)void 0===u[r[s]]&&(c+="&"+t.constructKeyValuePair(r[s],n[r[s]].toString()));return c},t.constructKeyValuePair=function(t,e){return t+"="+encodeURIComponent(e)},t}();e.default=u},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(4)),c=s(n(226)),f=u(n(227));n(228),n(271);var l=/bloomberg\.com$/i,p="_breg-uid",d="_breg-user",h="session_id",v="session_key",_="agent_id",b="_user-data";function y(t){try{return JSON.parse(decodeURIComponent(t))}catch(t){return null}}var g=function(){function t(t,e,n){this._fetchSubMetadata=!!e,this._activeSubscriptionsOnly=Boolean(n),this._userInfoUrl=t.getUserInfoUrl({withSubscriberData:this._fetchSubMetadata,activeSubscriptionsOnly:this._activeSubscriptionsOnly}),this._optInUrl=t.getOptInToReferralsUrl(),this._optOutUrl=t.getOptOutFromReferralsUrl(),this._preferredEmailUrl=t.setPreferredEmailUrl()}return t.prototype.fetchUserInfo=function(e,n){return void 0===n&&(n=!1),this._fetchUserInfo(e,n).then((function(e){if(!e||t.isOnBbgComSite())return e;var n=e.userId,r=e.user,o=e.sessionId,i=e.sessionKey,u=e.agentId,s=(0,c.default)();return a.default.set(_,u||"",{expires:s}),a.default.set(h,o||"",{expires:s}),a.default.set(v,i||"",{expires:s}),n&&a.default.set(p,n,{expires:s}),r&&a.default.set(d,encodeURIComponent(JSON.stringify(r)),{expires:s}),e}))},t.prototype.optInToReferralSharing=function(t){return this._fetchFromRegAPI(this._optInUrl,{method:"PUT",body:{productRatePlanId:t}})},t.prototype.optOutOfReferralSharing=function(t){return this._fetchFromRegAPI(this._optOutUrl,{method:"PUT",body:{defaulted:t}})},t.prototype.setPreferredEmail=function(t){return this._fetchFromRegAPI(this._preferredEmailUrl,{method:"PUT",body:{preferredEmail:t}})},t.prototype._fetchUserInfo=function(e,n){var r=!n&&!!a.default.get("_last-refresh"),o=!!a.default.get(b),i=function(){try{return JSON.parse(a.default.get(b)||"{}").subscriberData}catch(t){return null}}(),u=null==i?void 0:i.introPeriodStatus,s=(0,f.default)(),c=this._fetchSubMetadata&&!u;return t.isFetchInProgress()&&!this._fetchSubMetadata?Promise.resolve({}):r&&o&&s&&!c?Promise.resolve().then((function(){var t=function(){var t,e,n,r=a.default.get(_),o=a.default.get(h),i=a.default.get(v),u=a.default.get(p),s=a.default.get(d);try{var c=JSON.parse(a.default.get(b)||"{}");(null===(t=c.subscriptionsData)||void 0===t?void 0:t.some((function(t){return"BBG"===t.product})))?n="BBG":(null===(e=c.subscriptionsData)||void 0===e?void 0:e.some((function(t){return"BW"===t.product})))&&(n="BW")}catch(t){}return{agentId:r,sessionId:o,sessionKey:i,userId:u,user:s?y(s):null,subscriptionType:n}}();return e(null,t),t})):(t.lock(),this._fetchFromRegAPI(this._userInfoUrl,{method:"GET"}).then((function(n){t.unlock();var r=n.isDelinquent;return localStorage.setItem("isDelinquent",r),(0,f.writeLastKnownInformation)(n),e(void 0,n),n})).catch((function(t){e(t,!1)})))},t.prototype._fetchFromRegAPI=function(e,n){var o=a.default.get("_reg-csrf-token"),i={method:n.method,headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"};return o&&(i.headers=r(r({},i.headers),{"x-csrf-token":o})),n.body&&(i.body=JSON.stringify(n.body)),t.fetch(e,i).then((function(t){return t.json()}))},t.lock=function(){window.__regUIFetchInProgress=!0},t.unlock=function(){window.__regUIFetchInProgress=!1},t.isFetchInProgress=function(){return window.__regUIFetchInProgress||!1},t.isOnBbgComSite=function(){return l.test(window.location.hostname)},t.fetch=function(t,e){return fetch(t,e)},t}();e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=new Date;return t.setFullYear(t.getFullYear()+1),t}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.writeLastKnownInformation=void 0;var o=r(n(4));e.writeLastKnownInformation=function(t){var e=t.userId,n=t.subscriptionType,r=!!e,o="BBG"===n,i="BW"===n;try{localStorage.setItem("lastKnownUserInfo",JSON.stringify({isSignedIn:r,isBBGSubscriber:o,isBWSubscriber:i}))}catch(t){}},e.default=function(){var t,e,n=o.default.get("_user-data");if(!n)return!1;try{var r=function(){try{return JSON.parse(localStorage.getItem("lastKnownUserInfo")||"{}")}catch(t){return{}}}(),i=JSON.parse(n),u=r.isSignedIn===("logged_in"===i.status),s=r.isBBGSubscriber===!!(null===(t=null==i?void 0:i.subscriptionsData)||void 0===t?void 0:t.some((function(t){return"BBG"===t.product}))),a=r.isBWSubscriber===!!(null===(e=null==i?void 0:i.subscriptionsData)||void 0===e?void 0:e.some((function(t){return"BW"===t.product})));return u&&s&&a}catch(t){return!1}}},function(t,e,n){"use strict";if("undefined"!=typeof window){var r=n(229);window.Promise=window.Promise?window.Promise:r}},function(t,e,n){var r=n(230);n(267),n(268),n(269),n(270),t.exports=r},function(t,e,n){n(95),n(249),n(251),n(115),n(116),n(259),n(260),n(263);var r=n(100);t.exports=r.Promise},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(8),o=n(56),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(1),o=n(60),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(6),o=n(235),i=n(55),u=n(19);t.exports=function(t,e){for(var n=o(e),s=u.f,a=i.f,c=0;c<n.length;c++){var f=n[c];r(t,f)||s(t,f,a(e,f))}}},function(t,e,n){var r=n(16),o=n(236),i=n(239),u=n(7);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(u(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(101),o=n(65).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(35),o=n(102),i=n(238),u=function(t){return function(e,n,u){var s,a=r(e),c=o(a.length),f=i(u,c);if(t&&n!=n){for(;c>f;)if((s=a[f++])!=s)return!0}else for(;c>f;f++)if((t||f in a)&&a[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:u(!0),indexOf:u(!1)}},function(t,e,n){var r=n(64),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(57);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(8);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(15);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(18),o=n(19),i=n(7),u=n(244);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=u(e),s=r.length,a=0;s>a;)o.f(t,n=r[a++],e[n]);return t}},function(t,e,n){var r=n(101),o=n(65);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(3),o=n(27),i=r("iterator"),u=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||u[i]===t)}},function(t,e,n){var r=n(106);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(108),o=n(27),i=n(3)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(7);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},function(t,e,n){var r=n(68),o=n(20),i=n(250);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r=n(68),o=n(108);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){"use strict";var r,o,i,u,s=n(14),a=n(26),c=n(1),f=n(16),l=n(109),p=n(20),d=n(252),h=n(69),v=n(253),_=n(15),b=n(21),y=n(254),g=n(60),m=n(37),w=n(255),E=n(110),O=n(111).set,x=n(256),S=n(114),I=n(257),P=n(28),j=n(38),T=n(36),A=n(103),U=n(3),B=n(70),L=n(258),D=U("species"),M="Promise",R=T.get,C=T.set,k=T.getterFor(M),F=l,W=c.TypeError,N=c.document,K=c.process,G=f("fetch"),$=P.f,q=$,z=!!(N&&N.createEvent&&c.dispatchEvent),H="function"==typeof PromiseRejectionEvent,V="unhandledrejection",J=A(M,(function(){if(!(g(F)!==String(F))){if(66===L)return!0;if(!B&&!H)return!0}if(a&&!F.prototype.finally)return!0;if(L>=51&&/native code/.test(F))return!1;var t=F.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[D]=e,!(t.then((function(){}))instanceof e)})),Y=J||!w((function(t){F.all(t).catch((function(){}))})),Q=function(t){var e;return!(!_(t)||"function"!=typeof(e=t.then))&&e},X=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;x((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var u,s,a,c=n[i++],f=o?c.ok:c.fail,l=c.resolve,p=c.reject,d=c.domain;try{f?(o||(2===t.rejection&&nt(t),t.rejection=1),!0===f?u=r:(d&&d.enter(),u=f(r),d&&(d.exit(),a=!0)),u===c.promise?p(W("Promise-chain cycle")):(s=Q(u))?s.call(u,l,p):l(u)):p(r)}catch(t){d&&!a&&d.exit(),p(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&tt(t)}))}},Z=function(t,e,n){var r,o;z?((r=N.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!H&&(o=c["on"+t])?o(r):t===V&&I("Unhandled promise rejection",n)},tt=function(t){O.call(c,(function(){var e,n=t.facade,r=t.value;if(et(t)&&(e=j((function(){B?K.emit("unhandledRejection",r,n):Z(V,n,r)})),t.rejection=B||et(t)?2:1,e.error))throw e.value}))},et=function(t){return 1!==t.rejection&&!t.parent},nt=function(t){O.call(c,(function(){var e=t.facade;B?K.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},rt=function(t,e,n){return function(r){t(e,r,n)}},ot=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,X(t,!0))},it=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw W("Promise can't be resolved itself");var r=Q(e);r?x((function(){var n={done:!1};try{r.call(e,rt(it,n,t),rt(ot,n,t))}catch(e){ot(n,e,t)}})):(t.value=e,t.state=1,X(t,!1))}catch(e){ot({done:!1},e,t)}}};J&&(F=function(t){y(this,F,M),b(t),r.call(this);var e=R(this);try{t(rt(it,e),rt(ot,e))}catch(t){ot(e,t)}},(r=function(t){C(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(F.prototype,{then:function(t,e){var n=k(this),r=$(E(this,F));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=B?K.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&X(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=R(t);this.promise=t,this.resolve=rt(it,e),this.reject=rt(ot,e)},P.f=$=function(t){return t===F||t===i?new o(t):q(t)},a||"function"!=typeof l||(u=l.prototype.then,p(l.prototype,"then",(function(t,e){var n=this;return new F((function(t,e){u.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return S(F,G.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:J},{Promise:F}),h(F,M,!1,!0),v(M),i=f(M),s({target:M,stat:!0,forced:J},{reject:function(t){var e=$(this);return e.reject.call(void 0,t),e.promise}}),s({target:M,stat:!0,forced:a||J},{resolve:function(t){return S(a&&this===i?F:this,t)}}),s({target:M,stat:!0,forced:Y},{all:function(t){var e=this,n=$(e),r=n.resolve,o=n.reject,i=j((function(){var n=b(e.resolve),i=[],u=0,s=1;m(t,(function(t){var a=u++,c=!1;i.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,i[a]=t,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=$(e),r=n.reject,o=j((function(){var o=b(e.resolve);m(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(20);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(16),o=n(19),i=n(3),u=n(18),s=i("species");t.exports=function(t){var e=r(t),n=o.f;u&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(3)("iterator"),o=!1;try{var i=0,u={next:function(){return{done:!!i++}},return:function(){o=!0}};u[r]=function(){return this},Array.from(u,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r,o,i,u,s,a,c,f,l=n(1),p=n(55).f,d=n(111).set,h=n(112),v=n(70),_=l.MutationObserver||l.WebKitMutationObserver,b=l.document,y=l.process,g=l.Promise,m=p(l,"queueMicrotask"),w=m&&m.value;w||(r=function(){var t,e;for(v&&(t=y.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?u():i=void 0,t}}i=void 0,t&&t.enter()},!h&&!v&&_&&b?(s=!0,a=b.createTextNode(""),new _(r).observe(a,{characterData:!0}),u=function(){a.data=s=!s}):g&&g.resolve?(c=g.resolve(void 0),f=c.then,u=function(){f.call(c,r)}):u=v?function(){y.nextTick(r)}:function(){d.call(l,r)}),t.exports=w||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,u()),i=e}},function(t,e,n){var r=n(1);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){var r,o,i=n(1),u=n(113),s=i.process,a=s&&s.versions,c=a&&a.v8;c?o=(r=c.split("."))[0]+r[1]:u&&(!(r=u.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=u.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){"use strict";var r=n(14),o=n(26),i=n(109),u=n(8),s=n(16),a=n(110),c=n(114),f=n(20);r({target:"Promise",proto:!0,real:!0,forced:!!i&&u((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=a(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),o||"function"!=typeof i||i.prototype.finally||f(i.prototype,"finally",s("Promise").prototype.finally)},function(t,e,n){"use strict";var r=n(261).charAt,o=n(36),i=n(117),u="String Iterator",s=o.set,a=o.getterFor(u);i(String,"String",(function(t){s(this,{type:u,string:String(t),index:0})}),(function(){var t,e=a(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(64),o=n(57),i=function(t){return function(e,n){var i,u,s=String(o(e)),a=r(n),c=s.length;return a<0||a>=c?t?"":void 0:(i=s.charCodeAt(a))<55296||i>56319||a+1===c||(u=s.charCodeAt(a+1))<56320||u>57343?t?s.charAt(a):i:t?s.slice(a,a+2):u-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,n){"use strict";var r=n(118).IteratorPrototype,o=n(67),i=n(34),u=n(69),s=n(27),a=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),u(t,c,!1,!0),s[c]=a,t}},function(t,e,n){var r=n(1),o=n(264),i=n(265),u=n(9),s=n(3),a=s("iterator"),c=s("toStringTag"),f=i.values;for(var l in o){var p=r[l],d=p&&p.prototype;if(d){if(d[a]!==f)try{u(d,a,f)}catch(t){d[a]=f}if(d[c]||u(d,c,l),o[l])for(var h in i)if(d[h]!==i[h])try{u(d,h,i[h])}catch(t){d[h]=i[h]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r=n(35),o=n(266),i=n(27),u=n(36),s=n(117),a="Array Iterator",c=u.set,f=u.getterFor(a);t.exports=s(Array,"Array",(function(t,e){c(this,{type:a,target:r(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(3),o=n(67),i=n(19),u=r("unscopables"),s=Array.prototype;null==s[u]&&i.f(s,u,{configurable:!0,value:o(null)}),t.exports=function(t){s[u][t]=!0}},function(t,e,n){n(95)},function(t,e,n){n(115)},function(t,e,n){"use strict";var r=n(14),o=n(28),i=n(38);r({target:"Promise",stat:!0},{try:function(t){var e=o.f(this),n=i(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},function(t,e,n){n(116)},function(t,e,n){"use strict";"undefined"!=typeof window&&n(272)},function(t,e){!function(t){"use strict";if(!t.fetch){var e="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,r="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,i="ArrayBuffer"in t;if(i)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(t){return t&&DataView.prototype.isPrototypeOf(t)},a=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};h.prototype.append=function(t,e){t=l(t),e=p(e);var n=this.map[t];this.map[t]=n?n+","+e:e},h.prototype.delete=function(t){delete this.map[l(t)]},h.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},h.prototype.set=function(t,e){this.map[l(t)]=p(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},g.call(m.prototype),g.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},E.error=function(){var t=new E(null,{status:0,statusText:""});return t.type="error",t};var f=[301,302,303,307,308];E.redirect=function(t,e){if(-1===f.indexOf(e))throw new RangeError("Invalid status code");return new E(null,{status:e,headers:{location:t}})},t.Headers=h,t.Request=m,t.Response=E,t.fetch=function(t,e){return new Promise((function(n,o){var i=new m(t,e),u=new XMLHttpRequest;u.onload=function(){var t,e,r={status:u.status,statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;n(new E(o,r))},u.onerror=function(){o(new TypeError("Network request failed"))},u.ontimeout=function(){o(new TypeError("Network request failed"))},u.open(i.method,i.url,!0),"include"===i.credentials?u.withCredentials=!0:"omit"===i.credentials&&(u.withCredentials=!1),"responseType"in u&&r&&(u.responseType="blob"),i.headers.forEach((function(t,e){u.setRequestHeader(e,t)})),u.send(void 0===i._bodyInit?null:i._bodyInit)}))},t.fetch.polyfill=!0}function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function p(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function v(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function _(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function b(t){var e=new FileReader,n=_(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(r&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(o&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(i&&r&&s(t))this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(t)&&!a(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var t=v(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var t,e,n,r=v(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=_(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(t,e){var n,r,o=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),c.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function E(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.URLS_MAP=void 0;var o=r(n(93)),i={loginUrl:"iframe/login",registerUrl:"iframe/register",uverifyUrl:"iframe/uverify",terminalRegisterUrl:"iframe/terminal-register",bwRegisterUrl:"iframe/magazine",settingsUrl:"account",userInfoUrl:"user-info",bssoUrl:"api/login/bloomberg-auth-redirect",optInToReferralsUrl:"api/referrals/opt-in",optOutFromReferralsUrl:"api/referrals/opt-out",preferredEmailPath:"api/account/update-preferred-email"};e.URLS_MAP={development:(0,o.default)({baseUrl:"http://local.bloomberg.com:4004/account/",apiBaseUrl:"http://local-login.bloomberg.com:4004/"},i),red:(0,o.default)({baseUrl:"https://origin.red.bloomberg.com/account/",apiBaseUrl:"https://red-login.bloomberg.com/"},i),orange:(0,o.default)({baseUrl:"https://origin.orange.bloomberg.com/account/",apiBaseUrl:"https://orange-login.bloomberg.com/"},i),yellow:(0,o.default)({baseUrl:"https://origin.yellow.bloomberg.com/account/",apiBaseUrl:"https://yellow-login.bloomberg.com/"},i),green:(0,o.default)({baseUrl:"https://origin.green.bloomberg.com/account/",apiBaseUrl:"https://green-login.bloomberg.com/"},i),blue:(0,o.default)({baseUrl:"https://origin.blue.bloomberg.com/account/",apiBaseUrl:"https://blue-login.bloomberg.com/"},i),purple:(0,o.default)({baseUrl:"https://origin.purple.bloomberg.com/account/",apiBaseUrl:"https://purple-login.bloomberg.com/"},i),sandcastle:(0,o.default)({baseUrl:"https://origin.sandcastle.bloomberg.com/account/",apiBaseUrl:"https://sandcastle-login.bloomberg.com/"},i),staging:(0,o.default)({baseUrl:"https://origin.staging.bloomberg.com/account/",apiBaseUrl:"https://staging-login.bloomberg.com/"},i),production:(0,o.default)({baseUrl:"https://www.bloomberg.com/account/",apiBaseUrl:"https://login.bloomberg.com/"},i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["red","orange","yellow","green","blue","purple","sandcastle"];e.default=function(t){var e=t.split(".");if(!(e.length<3||"bloomberg"!==e[2])){var n=e[1];return-1!==r.indexOf(n)?n:void 0}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isTerminalSubscriber=e.isBWSubscriber=e.isBBGSubscriber=void 0;var o=r(n(4)),i="_user-data",u={BLOOMBERG_ALL:"bbg-all",BLOOMBERG_DIGITAL:"bbg-digital",BUSINESSWEEK_PRINT:"bw-print",BUSINESSWEEK_DIGITAL:"bw-digital",BUSINESSWEEK_ZINIO:"bw-zinio"},s="terminal",a=function(){var t=JSON.parse(o.default.get(i)||"{}");return t&&t.subscriptionsData?t.subscriptionsData.reduce((function(t,e){var n=e.entitlements;return n&&n.forEach((function(e){return t.add(e)})),t}),new Set):new Set};e.isBBGSubscriber=function(){var t=a();return[u.BLOOMBERG_ALL,u.BLOOMBERG_DIGITAL].some((function(e){return t.has(e)}))};e.isBWSubscriber=function(){var t=a();return[u.BUSINESSWEEK_DIGITAL,u.BUSINESSWEEK_PRINT,u.BUSINESSWEEK_ZINIO].some((function(e){return t.has(e)}))};e.isTerminalSubscriber=function(){var t,e=(t=JSON.parse(o.default.get(i)||"{}"))&&t.linkedAccounts?t.linkedAccounts.split("|").reduce((function(t,e){return e&&(t[e]=!0),t}),{}):null;return Boolean(e&&e[s])}},function(t,e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){var e=document.cookie.match("(^|;) ?".concat(t,"=([^;$]*)"));return e?e[2]:""}function o(t,e){return-1!==t.indexOf(e)}function i(t){window.__tcfapi("removeEventListener",2,(function(e){e||console.warn("[ms.consent] Failed to remove __tcfapi event listener",t)}),t)}function u(){return o(r("bbgconsentstring"),"req1")}function s(){return o(r("bbgconsentstring"),"fun1")}function a(){return o(r("bbgconsentstring"),"pad1")}n.r(e),e.default={waitForUserConsent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){if(!window.__tcfapi||!window.__uspapi)return console.error("[ms.consent] Please make sure __tcfapi and __uspapi are setup"),n(new Error("__tcfapi and __uspapi not loaded"));var r=!1,o=setTimeout((function(){console.error("[ms.consent] Timeout in `waitForUserConsent` with options",t),n(new Error("No response from __tcfapi event listener"))}),t.inactiveTimeout||1e4);window.__tcfapi("addEventListener",2,(function(t,u){if(!u)return console.error("[ms.consent] Failed to `addEventListener` with __tcfapi"),n(new Error("Unable to assign event listener"));if(!r)if(void 0!==t.gdprApplies){clearTimeout(o);var s=t.gdprApplies,a=t.eventStatus,c=t.listenerId;s?"tcloaded"!==a&&"useractioncomplete"!==a||(e({tcData:t}),i(c),r=!0):(window.__uspapi("getUSPData",1,(function(t,r){if(!r)return console.error("[ms.consent] Failed to `getUSPData` with __uspapi"),n(new Error("Unable to get US privacy data from __uspapi"));e({uspData:t})})),i(c),r=!0)}else console.warn("[ms.consent] Received `gdprApplies` as undefined")}))}))},gdprAppliesAsync:function(){return window.__tcfapi?new Promise((function(t,e){window.__tcfapi("getTCData",2,(function(n,r){r?t(n.gdprApplies):e(new Error("Failed to `getTCData` from __tcfapi"))}))})):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},iabConsentStringAsync:function(){return window.__tcfapi?new Promise((function(t,e){window.__tcfapi("getTCData",2,(function(n,r){r?t(n.tcString):e(new Error("Failed to `getTCData` from __tcfapi"))}))})):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},getUSPrivacyStringAsync:function(){return window.__uspapi?new Promise((function(t,e){window.__uspapi("getUSPData",1,(function(n,r){r?t(n.uspString):e(new Error("Failed to `getUSPData` from __uspapi"))}))})):Promise.reject(new Error("Unable to find __uspapi in global scope"))},reqAllowed:u,reqAllowedAsync:function(){return Promise.resolve(u())},funAllowed:s,funAllowedAsync:function(){return Promise.resolve(s())},padAllowed:a,padAllowedAsync:function(){return Promise.resolve(a())}}}])},function(t,e,n){"use strict";n.r(e);var r=n(119),o=n(121),i=n(130),u=n.n(i);var s={REG_LOGGED_IN:"reg-user-signed-in"},a=n(2),c=n(131),f=n.n(c);var l=function(t){let e;try{const n=t.getElementsByClassName("navi-tout-mobile__link-text");for(const t of n)if("follow us"===t.innerText.toLowerCase()){e=t;break}}catch(t){}return e},p=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,s)}a((r=r.apply(t,e||[])).next())}))};Object(r.a)();const d=t=>{const e=new u.a([],{environment:"production",fetchSubMetadata:!0,activeSubscriptionsOnly:!0}),n=new o.a(t,e),r=n.loadTouts.bind(n);e.onUserInfoReady(r),e.initialize(),window.addEventListener(s.REG_LOGGED_IN,r),window.addEventListener("keydown",(function t(e){var r;return p(this,void 0,void 0,(function*(){if(" "===e.key&&e.ctrlKey){window.removeEventListener("keydown",t);try{const e=null===(r=window.plugClient.abba)||void 0===r?void 0:r.find((t=>!!t.config["debug-modal"]));if(!e)return;window.document.body.style.setProperty("cursor","wait","important"),yield n.loadTemplatesFromPlug(e.config),window.addEventListener(a.b,(function(n){const{detail:r}=n;r.modalRenderId===e.config["debug-modal"].templateId&&window.addEventListener("keydown",t)}))}catch(t){}window.document.body.style.removeProperty("cursor")}}))}));const i=l(window.document);i&&i.addEventListener("contextmenu",(function(t){var e;return p(this,void 0,void 0,(function*(){t.preventDefault();try{const t=null===(e=window.plugClient.abba)||void 0===e?void 0:e.find((t=>!!t.config["debug-modal"]));if(!t)return;window.document.body.style.setProperty("cursor","wait","important"),yield n.loadTemplatesFromPlug(t.config)}catch(t){}window.document.body.style.removeProperty("cursor")}))}))};window.plugClient={init:t=>{p(void 0,void 0,void 0,(function*(){try{yield f.a.waitForUserConsent(),d(t)}catch(t){}}))}}}])}));