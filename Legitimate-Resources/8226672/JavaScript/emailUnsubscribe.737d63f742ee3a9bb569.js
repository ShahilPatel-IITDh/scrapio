(window.webpackJsonp=window.webpackJsonp||[]).push([["emailUnsubscribe"],{2717:function(t,e,i){var s=i(3500);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,i(397).default)("0d19e555",s,!0,{})},3499:function(t,e,i){"use strict";i(2717)},3500:function(t,e,i){(e=i(305)(!1)).push([t.i,".email-unsubscribe-con{max-width:990px;margin:0 auto}.email-unsubscribe__content{margin:40px 12px 12px 12px}.email-unsubscribe__detail{margin-top:32px;margin-bottom:32px}.email-unsubscribe__detail-list{list-style:square;padding-left:20px;padding-top:4px}",""]),t.exports=e},4413:function(t,e,i){"use strict";i.r(e);var s,n=i(13),r=i.n(n),a=i(21),o=i.n(a),c=i(17),u=i.n(c),l=i(22),m=i.n(l),b=i(11),d=i.n(b),p=i(23),_=i.n(p),f=i(32),h=i.n(f),g=i(30),v=i.n(g),y=i(2),x=i.n(y),C=i(20),$=i.n(C),w=i(1),k=i.n(w),j=i(26),q=i.n(j),U=i(25),E=i(43),T=i(6),M=i(7),O=i(10),L={emailUnsubscribe:(s=x()(k.a.mark((function t(e,i){var s,n,a,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.commit,e.state,n=i.context,a=void 0===n?{}:n,!(o=i.payload)||!r()(o).length){t.next=9;break}return t.t0=O.a,t.next=6,T.a.post(a,M.a.emailUnsubscribe().path,o);case 6:return t.t1=t.sent,t.t2={commit:s,options:{isPageError:!0}},t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 9:case"end":return t.stop()}}),t)}))),function(t,e){return s.apply(this,arguments)})};function S(t,e){var i=r()(t);if(o.a){var s=o()(t);e&&(s=u()(s).call(s,(function(e){return m()(t,e).enumerable}))),i.push.apply(i,s)}return i}function I(t){for(var e=1;e<arguments.length;e++){var i,s,n=null!=arguments[e]?arguments[e]:{};e%2?d()(i=S(Object(n),!0)).call(i,(function(e){$()(t,e,n[e])})):_.a?h()(t,_()(n)):d()(s=S(Object(n))).call(s,(function(e){v()(t,e,m()(n,e))}))}return t}var N={name:"EmailUnsubscribe",data:function(){return{isConfirmed:!1}},computed:I(I({},Object(E.e)({isMobile:function(t){return t.ua.isMobile},isUserLoggedIn:function(t){return t.auth.isUserLoggedIn}})),{},{title:function(){return this.isConfirmed?this.$t("email_unsubscribe.confirmed_title"):this.$t("email_unsubscribe.title")},emailType:function(){return this.$route.query.type&&this.$te("email_unsubscribe.types.".concat(this.$route.query.type))&&this.$t("email_unsubscribe.types.".concat(this.$route.query.type))},hasRequiredDetails:function(){return this.$route.query.u&&this.emailType}}),asyncData:function(t){return x()(k.a.mark((function e(){var i,s,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.store,s=t.route,t.context,n=["daily","follow","comment","like","announcement","event_invite","social_notifications","price_drop","price_drop_seller","offer_to_likers","friends_notification","abandonment_notification","dressing_room","just_in_recommendations","stories","drop_soon_merch","item_watch","daily_trends","posh_ambassador_programs","my_saved_searches"],s.query.u&&s.query.type&&q()(n).call(n,s.query.type)||i.dispatch("setErrorObj",{statusCode:404,isPageError:!0});case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){this.setEventTrackingAttributes({screenName:U.a.screenName.emailUnsubscribe})},beforeDestroy:function(){this.$store.unregisterPMModule("$_email_unsubscribe")},created:function(){this.$store.registerPMModule("$_email_unsubscribe",{namespaced:!0,actions:L})},methods:I(I(I({},Object(E.b)("$_email_unsubscribe",["emailUnsubscribe"])),Object(E.b)({showLoader:"loaderShowAction",setEventTrackingAttributes:"setEventTrackingAttributes",setErrorObj:"setErrorObj"})),{},{confirm:function(){var t=this;return x()(k.a.mark((function e(){var i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.showLoader(!0),e.next=3,t.emailUnsubscribe({payload:{token:t.$route.query.u}});case 3:i=e.sent,t.showLoader(!1),i&&!i.error&&(t.isConfirmed=!0);case 6:case"end":return e.stop()}}),e)})))()},redirectToNotificationSettings:function(){return this.isUserLoggedIn?this.$router.push({name:"notificationSettings"}):this.$router.push({name:"login",query:{"pmrd[url]":this.$pmRoutes.notificationSettings().baseUrl}})},redirectToHome:function(){return this.isUserLoggedIn?this.$router.push({name:"feed"}):this.$router.push({name:"Home"})}}),metaInfo:function(){return{title:this.$t("common.poshmark"),meta:[{name:"robots",content:"noindex"}]}}},A=(i(3499),i(29)),D=Object(A.a)(N,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.hasRequiredDetails?i("div",{staticClass:"email-unsubscribe-con"},[i("div",{staticClass:"email-unsubscribe__content card",class:t.isMobile?"card--small":"card--medium"},[i("h3",{staticClass:"br--bottom br--light-gray p--b--4 fw--med"},[t._v("\n        "+t._s(t.title)+"\n      ")]),i("div",{staticClass:"email-unsubscribe__detail"},[t.isConfirmed?i("p",[t._v("\n          "+t._s(t.$t("email_unsubscribe.confirmed_msg"))+"\n        ")]):i("div",[i("p",[t._v(t._s(t.$t("email_unsubscribe.msg")))]),i("ul",{staticClass:"email-unsubscribe__detail-list"},[i("li",[t._v(t._s(t.emailType))])])])]),i("div",{staticClass:"form__actions d--fl jc--sb"},[i("a",{class:{"col-x9":t.isMobile},on:{click:t.redirectToNotificationSettings}},[t._v("\n          "+t._s(t.$t("common.manageNotificationSettings")))]),t.isConfirmed?i("button",{staticClass:"btn btn--primary",attrs:{type:"button"},on:{click:t.redirectToHome}},[t._v("\n          "+t._s(t.$t("common.ok"))+"\n        ")]):i("div",[i("button",{staticClass:"btn btn--primary",attrs:{type:"button"},on:{click:t.confirm}},[t._v("\n            "+t._s(t.$t("common.confirm"))+"\n          ")]),i("button",{staticClass:"btn btn--tertiary",attrs:{type:"button"},on:{click:t.redirectToHome}},[t._v("\n            "+t._s(t.$t("common.cancel"))+"\n          ")])])])])]):i("div",{staticClass:"email-unsubscribe-con"},[t._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"email-unsubscribe__content card card--medium"},[e("div",{staticClass:"pm-sub-section__header m--t--3 p--4"}),e("div",{staticClass:"br--bottom br--light-gray p--b--4 fw--med"}),e("div",{staticClass:"email-unsubscribe__detail"},[e("div",[e("span",{staticClass:"bg--light-gray shimmer--text p--1 col-x14"}),e("ul",{staticClass:"email-unsubscribe__detail-list"},[e("li",{staticClass:"bg--light-gray shimmer--text p--1 col-x9"})])])]),e("div",{staticClass:"form__actions d--fl jc--sb"},[e("span",{staticClass:"bg--light-gray shimmer--text p--1 col-x7"}),e("div",{staticClass:"d--fl col-x6"},[e("span",{staticClass:"bg--light-gray shimmer--text p--4 col-x12 m--r--2"}),e("span",{staticClass:"bg--light-gray shimmer--text p--4 col-x12"})])])])}],!1,null,null,null);e.default=D.exports}}]);