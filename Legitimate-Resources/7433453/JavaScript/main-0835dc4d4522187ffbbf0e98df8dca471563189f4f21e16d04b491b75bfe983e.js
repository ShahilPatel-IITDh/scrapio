function mergeRecursive(t,e){"use strict";for(var n in e)try{e[n].constructor===Object?t[n]=mergeRecursive(t[n],e[n]):t[n]=e[n]}catch(r){t[n]=e[n]}return t}function arrayEquals(t,e){"use strict";if(!e||!t)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!arrayEquals(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function createHeatMap(t,e,n,r,i){function o(t){var e=t.split("-");return new Date(e[0],e[1]-1,e[2])}var a=$(".heatmap-section").width(),s=3*a/500,l=a/156,c="month",u="x_day",d=!1,h=0,f=-5,p="%b %Y",g="%B %e, %Y";$(window).width()<480&&(c="year",u="month",d=5,r=1,i=i,l=a/15,p="%Y",g="%B, %Y",h=-12,f=0,$(".heatmap-years h6").hide());var m=t,y=_.filter(window.trump_data,function(t){return t.date.split("-")[0]==String(n)}),v=function(t){var e={};for(var n in t){var r=t[n].date;e[Math.round(o(r).getTime()/1e3)]=t[n].count}return e},b=function(t){return terms={pay:"payment"},terms[t]?terms[t]:t}(m);(new CalHeatMap).init({itemSelector:"#"+m+"-heatmap",data:y,afterLoadData:v,start:i,id:"graph_c",itemName:b,domain:c,subDomain:u,cellSize:l,cellPadding:1,range:r,colLimit:d,subDomainDateFormat:g,domainLabelFormat:p,displayLegend:!1,tooltip:!0,weekStartOnMonday:!1,domainGutter:s,domainDynamicDimension:!1,onClick:function(){},label:{position:"bottom",offset:{x:h,y:f}}})}!function(e,n){function r(){var t="scrollTop"in e.document.body?e.document.body.scrollTop:a.scrollTop;t!==n&&0<t&&e.document.body&&(e.document.body.insertBefore(o,e.document.body.firstChild),o.getBoundingClientRect&&0===o.getBoundingClientRect().top||(a.className=a.className.replace(i,"")),e.document.body.removeChild(o),e.removeEventListener?e.removeEventListener("scroll",r,!1):e.detachEvent("onscroll",r))}var i="fixed-supported",o=e.document.createElement("div"),t=e.navigator.userAgent,a=e.document.documentElement;o.style.position="fixed",o.style.top=0,t.match(/Android 2\.[1256]/)&&-1<t.indexOf("AppleWebKit")&&t.match(/Opera Mobi\/([0-9]+)/)&&RegExp.$1<7458&&e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)&&t.match(/Fennec\/([0-9]+)/)&&RegExp.$1<6||(a.className+=" "+i,e.addEventListener?e.addEventListener("scroll",r,!1):e.attachEvent("onscroll",r)),e.FixedFixed=r}(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.stickybits=e()}(this,function(){"use strict";function a(t,e){return this.el=t,this.se=e&&e.scrollEl||window,this.offset=e&&e.stickyBitStickyOffset||0,this.vp=e&&e.verticalPosition||"top",this.useClasses=e&&e.useStickyClasses||!1,this.ns=e&&e.noStyles||!1,this.styles=this.el.style,this.setStickyPosition(),"fixed"!==this.positionVal&&!0!==this.useClasses||this.manageStickiness(),this}function s(t){this.privateInstances=t||[];var e=this.privateInstances;this.cleanup=function(){for(var t=0;t<e.length;t+=1)e[t].cleanup()}}return a.prototype.setStickyPosition=function(){for(var t=["","-o-","-webkit-","-moz-","-ms-"],e=this.styles,n=this.vp,r=0;r<t.length;r+=1)e.position=t[r]+"sticky";return""!==e.position?(this.positionVal=e.position,"top"!==n||this.ns||(e[n]=this.offset+"px")):this.positionVal="fixed",this},a.prototype.manageStickiness=function(){function r(t,e){var n=i.className.split(" ");e&&-1===n.indexOf(e)&&n.push(e);var r=n.indexOf(t);-1!==r&&n.splice(r,1),i.className=n.join(" ")}var i=this.el,t=i.parentNode,o=this.positionVal,a=this.vp,s=this.styles,l=this.ns,c=this.se,u=c===window,e=u||"fixed"!==o?0:c.getBoundingClientRect().top,d=e+this.offset,h=void 0!==c.requestAnimationFrame?c.requestAnimationFrame:function(t){t()};t.className+=" js-stickybit-parent";var f=u?t.getBoundingClientRect().top:t.getBoundingClientRect().top-e,p=f+t.offsetHeight-(i.offsetHeight-d),g="default";return this.manageState=function(){var t=u?c.scrollY||c.pageYOffset:c.scrollTop,e=t<f&&"sticky"===g,n=p<t&&"sticky"===g;f<t&&t<p&&("default"===g||"stuck"===g)?(g="sticky",h(function(){r("js-is-stuck","js-is-sticky"),s.position=o,l||(s.bottom="",s[a]=d+"px")})):e?(g="default",h(function(){r("js-is-sticky"),"fixed"===o&&(s.position="")})):n&&(g="stuck",h(function(){r("js-is-sticky","js-is-stuck"),"fixed"!==o||l||(s.top="",s.bottom="0",s.position="absolute")}))},c.addEventListener("scroll",this.manageState),this},a.prototype.cleanup=function(){function t(t,e){var n=t,r=n.className.split(" "),i=r.indexOf(e);-1!==i&&r.splice(i,1),n.className=r.join(" ")}var e=this.el,n=this.styles;n.position="",n[this.vp]="",t(e,"js-is-sticky"),t(e,"js-is-stuck"),t(e.parentNode,"js-stickybit-parent"),this.se.removeEventListener("scroll",this.manageState),this.manageState=!1},function(t,e){var n="string"==typeof t?document.querySelectorAll(t):t;"length"in n||(n=[n]);for(var r=[],i=0;i<n.length;i+=1){var o=n[i];r.push(new a(o,e))}return new s(r)}}),function(a,n,t,s){function e(t,e){this.element=a(t);var n=this,r={};if(this.element.is("[data-config]"))for(var i in c)if(c.hasOwnProperty(i)){var o=n.element.attr("data-"+i.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}));o!==s&&(r[i]="true"===o||"false"===o?"true"===o:o)}this.options=a.extend({},c,r,e),this.element.is("."+this.options.collapsedClass)&&(this.options.collapsed=!0),this._defaults=c,this._name=l,this.init()}var l="collapsible",c={pluginClass:l,collapsedClass:l+"-collapsed",expandedClass:l+"-expanded",headerClass:l+"-header",contentClass:l+"-content",enhancedClass:l+"-enhanced",instructions:!1,innerButton:!1,collapsed:!1};e.prototype={init:function(){this.header=this.element.children().filter("."+this.options.headerClass),this.header.length||(this.header=this.element.children().eq(0)),this.content=this.element.children().filter("."+this.options.contentClass),this.content.length||(this.content=this.header.next()),this.options.innerButton&&(this.headerHTML=this.header.text(),this.headerButton=a("<button></button>").append(this.headerHTML)),this._addAttributes(),this._bindEvents(),0,this.element.data(l,this),this.element.trigger("init")},_addAttributes:function(){this.element.addClass(this.options.pluginClass).addClass(this.options.enhancedClass),this.header.addClass(this.options.headerClass),this._addA11yAttrs(),this.content.addClass(this.options.contentClass)},_addA11yAttrs:function(){this.options.innerButton?(this.header.html(""),this.header.append(this.headerButton)):(this.header.attr("role","button"),this.header.attr("tabindex","0"),this.options.instructions&&this.header.attr("title",this.options.instructions))},_removeA11yAttrs:function(){this.options.innerButton?(this.header.html(""),this.header.append(this.headerHTML)):(this.header.removeAttr("role"),this.header.removeAttr("tabindex"),this.header.removeAttr("title"))},_isNonInteractive:function(){var t=n.getComputedStyle(this.content[0],null),e=n.getComputedStyle(this.header[0],null);return this.options.innerButton&&(e=n.getComputedStyle(this.headerButton[0],null)),"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility")&&"default"===e.getPropertyValue("cursor")},_checkInteractivity:function(){this._isNonInteractive()?this._removeA11yAttrs():this._addA11yAttrs()},_bindEvents:function(){var t,e=this;this.header.bind("click",function(t){e.toggle(t.target),t.preventDefault()}).bind("keydown."+l,function(t){13!==t.which&&32!==t.which||(e.toggle(t.target),t.preventDefault())}),this.options.collapsed?this._collapse():this._expand(),this._checkInteractivity(),a(n).bind("resize",function(){t&&clearTimeout(t),t=setTimeout(function(){e._checkInteractivity.call(e)},150)})},collapsed:!1,_expand:function(){this.element.removeClass(this.options.collapsedClass),this.element.addClass(this.options.expandedClass),this.options.innerButton?this.headerButton.attr("aria-expanded","true"):this.header.attr("aria-expanded","true"),this.collapsed=!1},expand:function(){var t=a(this).data(l)||this;t._expand(),t.element.trigger("expand")},_collapse:function(){this.element.addClass(this.options.collapsedClass),this.element.removeClass(this.options.expandedClass),this.options.innerButton?this.headerButton.attr("aria-expanded","false"):this.header.attr("aria-expanded","false"),this.collapsed=!0},collapse:function(){var t=a(this).data(l)||this;t._collapse(),t.element.trigger("collapse")},toggle:function(){this.collapsed?this.expand():this.collapse()},focusable:"a, input, textarea, select, button, [tabindex='0']"},a.fn[l]=function(t){return this.each(function(){a(this).data(l)||new e(this,t)})},a(t).bind("enhance",function(t){var e="."+l;a(a(t.target).is(e)&&t.target).add(e,t.target).filter(e)[l]()})}(jQuery,window,document),function(n,t,e){function r(t){this.$toggle=t,this.isLink=this.$toggle.is("a[href]"),this.isSelect=!this.isLink&&this.$toggle.is("select"),this.isRadio=!this.isSelect&&this.$toggle.is("[type='radio']"),this.$target=n(t.attr(a)||t.attr("href")),this.component=this.$target.data(o)}function i(t){var e=t.data(s);return e||(e=new r(t),t.data(s,e)),e}var o="collapsible",a="data-"+"collapsible-target",s=a;r.prototype.getForcedElement=function(){return this.isSelect?this.$toggle.find("option").eq(this.$toggle[0].selectedIndex):this.$toggle},r.prototype.toggle=function(){var t=this.getForcedElement();t.is("[data-force-expand]")?this.component.expand():t.is("[data-force-collapse]")?this.component.collapse():t.is("[data-ignore]")||this.component.toggle()},r.prototype.initSelect=function(){var t=this;this.isSelect&&this.$toggle.unbind("change."+o).bind("change."+o,function(){t.toggle()})},r.prototype.onclick=function(t){var e=this;this.isLink?(t.preventDefault(),this.toggle()):this.isSelect||(this.isRadio?n("[name='"+this.$toggle.attr("name")+"']").unbind("change."+o).bind("change."+o,function(){e.$toggle[0].checked?e.component.expand():e.component.collapse()}).trigger("change"):this.toggle())},n(e).bind("click."+o,function(e){n(e.target).closest("["+a+"]").each(function(){var t=i(n(this));t.onclick.call(t,e)})}),n(e).bind("enhance",function(t){var e="select["+a+"]";n(n(t.target).is(e)&&t.target).add(e,t.target).filter(e).each(function(){i(n(this)).initSelect()})})}(jQuery,window,document),function(f,p,t){f(t).bind("init",function(n){var r="collapsible";if(f(n.target).is("."+r)){var i,o=f(n.target),a=o.data(r),s=o.prev().filter("."+r+"-trigger"),t=r+"-trigger-expand",l=function(){return"absolute"===o.children("."+r+"-content").css("position")||o.is("[data-collapsible-ismenu]")},c=!1;f("body").bind("gesturestart."+r,function(){c=!0}).bind("mousemove."+r,function(){c=!0}).bind("touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(t){i=t.target.getBoundingClientRect().top}).bind("focusin."+r+" touchend."+r+" click."+r+" pointerup."+r+" MSPointerUp."+r,function(t){var e=t.originalEvent?t.originalEvent.type:t.type;"touchend"!==e&&"pointerup"!==e&&"MSPointerUp"!==e||i&&5<Math.abs(i-t.target.getBoundingClientRect().top)&&(c=!0),f(t.target).closest(n.target).length||f(t.target).closest(s).length||o.data(r).collapsed||!l()||!1!==c||(setTimeout(function(){o.data(r).collapse()}),f(t.target).closest("a,select,input,textarea,button,label").length&&!f(t.target).closest("."+r+"-header").length&&t.preventDefault()),setTimeout(function(){i=null,c=!1},200)});var u,d=!1,e=o.is("[data-collapsible-hover]"),h=o.is("[data-collapsible-hover='exclusive']");e&&(h&&a.header.unbind("click tap"),o.add(s).bind("touchstart pointerdown MSPointerDown",function(t){var e=t.originalEvent?t.originalEvent:t;("pointerdown"!==e.type&&"MSPointerDown"!==e.type||!e.pointerType||"mouse"!==e.pointerType&&4!==e.pointerType)&&(d=!0)}).bind("mouseover."+r,function(t){u=(new Date).getTime(),!d&&l()&&f(t.target).closest(a.header).length&&o.data(r).expand()}).bind("mouseleave."+r,function(){u=null,!d&&l()&&f(n.target).is(o)&&o.data(r).collapse()}).bind("click",function(t){if(u){var e=(new Date).getTime()-u;f(t.target).is(a.header)&&l()&&f(t.target).is("a[href]")&&!d&&300<e&&(p.location.href=t.target.href)}}),o.bind("expand",function(){s.addClass(t)}).bind("collapse",function(){s.removeClass(t)})),a.arrow=function(t,e){var n,r=this.content.find(this.focusable);if(f(t).is(this.header)&&!e)n=r[0];else{e&&(r=r.reverse?r.reverse():f(r.get().reverse()));var i=!1;r.each(function(){!n&&i&&0<this.offsetHeight&&-1<this.offsetLeft&&(n=this),i||(i=f(this).is(t))})}n?n.focus():this.header[0].focus()},a.element.bind("keydown."+r,function(t){!a.collapsed&&l()&&(39===t.which||40===t.which?(a.arrow(t.target),t.preventDefault()):37!==t.which&&38!==t.which||(a.arrow(t.target,!0),t.preventDefault()))})}})}(jQuery,window,document),function(l,c,u){var d="collapsible";l(u).bind("expand."+d,function(t){var e,n,r="data-"+d+"-set",i="."+d+"["+r+"]",o=l(t.target);if(o.is(i)){var a=o.attr(r);l("."+d+"-enhanced["+r+"='"+a+"']").filter(function(){return this!==o[0]}).each(function(){var t=l(this).data(d);t&&t.collapse()});var s=t.target.getBoundingClientRect().top+(u.body.scrollY||u.body.scrollTop||u.documentElement.scrollTop);s<(e="pageYOffset",n="scrollTop",c?e in c?c[e]:c.document.documentElement[n]:c.document.body[n])&&c.scrollTo(0,s)}})}(jQuery,window,document),function(c,t,e){function u(t){t.removeClass(f).attr(p)}function d(t){t.addClass(f).attr({"aria-selected":"true"}).removeAttr("tabindex")}var h="collapsible",f="tab-active",p={tabindex:"-1","aria-selected":!1},g=h+"-id-",m=0;c(e).bind("init",function(t){var e,n,r,i=c(t.target).closest("."+h),o=i.parent(),a=o.find(".tabnav");if(i.is("."+h)&&o.is(".tabs")){n=(e=i.data(h)).content.attr("id"),a.find("[aria-controls="+n+"]").remove(),n||(n=g+ ++m,e.content.attr("id",n));var s={id:r=n+"-link","aria-controls":n,role:"tab"};for(var l in p)s[l]=p[l];e.$tabHeaderListItem=c("<li>").attr("role","presentation"),e.$tabHeader=c("<a href='#"+n+"'>"+e.header[0].innerHTML+"</a>").attr(s),e.header.css("display","none"),e.content.attr({"aria-labeledby":r}),e.$tabHeader.bind("click",function(t){t.preventDefault(),t.stopPropagation(),e.$tabHeader.is("."+f)||(u(o.find("."+f)),d(e.$tabHeader),e.toggle())}).bind("keydown",function(t){var e,n=a.find("."+f);39===t.which?e="next":37===t.which&&(e="prev"),e&&(n.parent()[e]().find("a").trigger("click").focus(),t.preventDefault())}),a.length||(a=c("<ul class='tabnav' role='tablist'></nav>"),o.prepend(a)),e.collapsed||(d(e.$tabHeader),e._expand()),a.append(e.$tabHeaderListItem.append(e.$tabHeader))}})}(jQuery,window,document),function(h,f){var p={boundAttr:"data-ajax-bound",interactionAttr:"data-interaction",makeReq:function(t,r){h.get(t,function(t,e,n){r.trigger("ajaxIncludeResponse",[t,n])})},plugins:{}};h.fn.ajaxInclude=function(t){function c(t){var e=t.data("url");d.proxy&&-1===h.inArray(e,n)?(n.push(e),r=r.add(t)):p.makeReq(e,t)}function i(){n.length&&(p.makeReq(d.proxy+n.join(","),r),r=h(),n=[])}function u(t,e){function n(){c(t),i(),r.removeListener(n)}var r=f.matchMedia(e);r.addListener&&r.addListener(n)}var n=[],r=h(),d={proxy:null};return"string"==typeof t?d.proxy=t:d=h.extend(d,t),this.not("["+p.boundAttr+"]").not("["+p.interactionAttr+"]").each(function(){for(var a,t,s=h(this),e=s.attr("data-media"),n=["append","replace","before","after"],r=!1,l=s.attr("data-target"),i=n.length,o=0;o<i;o++)s.is("[data-"+n[o]+"]")&&(a=n[o],t=s.attr("data-"+a));t||(t=s.attr("href")||s.attr("action"),r=!0),"replace"===a&&(a+="With"),s.data("method",a).data("url",t).data("target",l).attr(p.boundAttr,!0).each(function(){for(var t in p.plugins)p.plugins[t].call(this,d)}).bind("ajaxIncludeResponse",function(t,e){var n=e,r=l?h(l):s;if(d.proxy){var i=new RegExp("<entry url=[\"']?"+s.data("url")+"[\"']?>((?:(?!</entry>)(.|\n))*)","gmi").exec(n);i&&(n=i[1])}var o=s.triggerHandler("ajaxIncludeFilter",[n]);o&&(n=o),"replaceWith"===a?(s.trigger("ajaxInclude",[n]),r[s.data("method")](n)):(r[s.data("method")](n),s.trigger("ajaxInclude",[n]))}),r?p.makeReq(t,s,!0):!e||f.matchMedia&&f.matchMedia(e).matches?c(s):e&&f.matchMedia&&u(s,e)}),i(),this},f.AjaxInclude=p}(jQuery,this),function(l){l.fn.appendAround=function(){return this.each(function(){function e(t){return"none"===l(t).css("display")}function t(){if(e(o)){var t=0;s.each(function(){e(this)||t||(n.appendTo(this),t++,o=this)})}}var n=l(this),r="data-set",i=n.parent(),o=i[0],a=i.attr(r),s=l("["+r+"='"+a+"']");t(),l(window).bind("resize",t)})}}(jQuery),function(){"use strict";function e(t){if(!t)throw new Error("No options passed to Waypoint constructor");if(!t.element)throw new Error("No element option passed to Waypoint constructor");if(!t.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+n,this.options=e.Adapter.extend({},e.defaults,t),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=t.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),o[this.key]=this,n+=1}var n=0,o={};e.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},e.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete o[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(t){var e=[];for(var n in o)e.push(o[n]);for(var r=0,i=e.length;r<i;r++)e[r][t]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(t){window.setTimeout(t,1e3/60)}function n(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+r,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,i[t.waypointContextKey]=this,r+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var r=0,i={},o=window.Waypoint,t=window.onload;n.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},n.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete i[this.key])},n.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,o.requestAnimationFrame(t))})},n.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||o.isTouch)&&(e.didScroll=!0,o.requestAnimationFrame(t))})},n.prototype.handleResize=function(){o.Context.refreshAll()},n.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var r=e[n],i=r.newScroll>r.oldScroll?r.forward:r.backward;for(var o in this.waypoints[n]){var a=this.waypoints[n][o],s=r.oldScroll<a.triggerPoint,l=r.newScroll>=a.triggerPoint;(s&&l||!s&&!l)&&(a.queueTrigger(i),t[a.group.id]=a.group)}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},n.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},n.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},n.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},n.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var r=0,i=t.length;r<i;r++)t[r].destroy()},n.prototype.refresh=function(){var t,e=this.element==this.element.window,n=this.adapter.offset(),r={};for(var i in this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o=t[i];for(var a in this.waypoints[i]){var s,l,c,u,d=this.waypoints[i][a],h=d.options.offset,f=d.triggerPoint,p=0,g=null==f;d.element!==d.element.window&&(p=d.adapter.offset()[o.offsetProp]),"function"==typeof h?h=h.apply(d):"string"==typeof h&&(h=parseFloat(h),-1<d.options.offset.indexOf("%")&&(h=Math.ceil(o.contextDimension*h/100))),s=o.contextScroll-o.contextOffset,d.triggerPoint=p+s-h,l=f<o.oldScroll,c=d.triggerPoint>=o.oldScroll,u=!l&&!c,!g&&(l&&c)?(d.queueTrigger(o.backward),r[d.group.id]=d.group):!g&&u?(d.queueTrigger(o.forward),r[d.group.id]=d.group):g&&o.oldScroll>=d.triggerPoint&&(d.queueTrigger(o.forward),r[d.group.id]=d.group)}}for(var m in r)r[m].flushTriggers();return this},n.findOrCreateByElement=function(t){return n.findByElement(t)||new n(t)},n.refreshAll=function(){for(var t in i)i[t].refresh()},n.findByElement=function(t){return i[t.waypointContextKey]},window.onload=function(){t&&t(),n.refreshAll()},o.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},o.Context=n}(),function(){"use strict";function a(t,e){return t.triggerPoint-e.triggerPoint}function s(t,e){return e.triggerPoint-t.triggerPoint}function e(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},r=window.Waypoint;e.prototype.add=function(t){this.waypoints.push(t)},e.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},e.prototype.flushTriggers=function(){for(var t in this.triggerQueues){var e=this.triggerQueues[t],n="up"===t||"left"===t;e.sort(n?s:a);for(var r=0,i=e.length;r<i;r+=1){var o=e[r];(o.options.continuous||r===e.length-1)&&o.trigger([t])}}this.clearTriggerQueues()},e.prototype.next=function(t){this.waypoints.sort(a);var e=r.Adapter.inArray(t,this.waypoints);return e===this.waypoints.length-1?null:this.waypoints[e+1]},e.prototype.previous=function(t){this.waypoints.sort(a);var e=r.Adapter.inArray(t,this.waypoints);return e?this.waypoints[e-1]:null},e.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},e.prototype.remove=function(t){var e=r.Adapter.inArray(t,this.waypoints);-1<e&&this.waypoints.splice(e,1)},e.prototype.first=function(){return this.waypoints[0]},e.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},e.findOrCreate=function(t){return n[t.axis][t.name]||new e(t)},r.Group=e}(),function(){"use strict";function n(t){this.$element=r(t)}var r=window.jQuery,t=window.Waypoint;r.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,e){n.prototype[e]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[e].apply(this.$element,t)}}),r.each(["extend","inArray","isEmptyObject"],function(t,e){n[e]=r[e]}),t.adapters.push({name:"jquery",Adapter:n}),t.Adapter=n}(),function(){"use strict";function t(i){return function(t,e){var n=[],r=t;return i.isFunction(arguments[0])&&((r=i.extend({},e)).handler=arguments[0]),this.each(function(){var t=i.extend({},r,{element:this});"string"==typeof t.context&&(t.context=i(this).closest(t.context)[0]),n.push(new o(t))}),n}}var o=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),function(){"use strict";function t(){}function e(t){this.options=r.Adapter.extend({},e.defaults,t),this.axis=this.options.horizontal?"horizontal":"vertical",this.waypoints=[],this.element=this.options.element,this.createWaypoints()}var r=window.Waypoint;e.prototype.createWaypoints=function(){for(var t={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},e=0,n=t[this.axis].length;e<n;e++){var r=t[this.axis][e];this.createWaypoint(r)}},e.prototype.createWaypoint=function(t){var e,n=this;this.waypoints.push(new r({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:(e=t,function(t){n.options[e[t]].call(n,t)}),offset:t.offset,horizontal:this.options.horizontal}))},e.prototype.destroy=function(){for(var t=0,e=this.waypoints.length;t<e;t++)this.waypoints[t].destroy();this.waypoints=[]},e.prototype.disable=function(){for(var t=0,e=this.waypoints.length;t<e;t++)this.waypoints[t].disable()},e.prototype.enable=function(){for(var t=0,e=this.waypoints.length;t<e;t++)this.waypoints[t].enable()},e.defaults={context:window,enabled:!0,enter:t,entered:t,exit:t,exited:t},r.Inview=e}(),function(e){"use strict";var t=function(t){e(t).each(function(){var t=e(this);t.html(t.html().replace(/\s([^\s<]+)\s*$/,"&nbsp;$1"))})};e(document).bind("enhance",function(){t("h1, h2, h3, h4, h5, h6")})}(jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return e===undefined&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e),e}:n(jQuery)}(function(A){"use strict";var r,n,i,o,a,t,m,s,h,E="undefined"!=typeof window?window:this,L={i18n:{modeStack:"Stack",modeSwipe:"Swipe",modeToggle:"Toggle",modeSwitchColumnsAbbreviated:"Cols",modeSwitchColumns:"Columns",columnToggleButton:"Columns",columnToggleError:"No eligible columns.",sort:"Sort",swipePreviousColumn:"Previous column",swipeNextColumn:"Next column"},mustard:"head"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini};A(E.document).on("enhance.tablesaw",function(){"undefined"!=typeof TablesawConfig&&TablesawConfig.i18n&&(L.i18n=A.extend(L.i18n,TablesawConfig.i18n||{})),L.i18n.modes=[L.i18n.modeStack,L.i18n.modeSwipe,L.i18n.modeToggle]}),L.mustard&&A(document.documentElement).addClass("tablesaw-enhanced"),function(){var e="tablesaw",n={toolbar:"tablesaw-bar"},r={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh",resize:"tablesawresize"},i="stack",o="table",a="[data-tablesaw],[data-tablesaw-mode],[data-tablesaw-sortable]",s={};L.events=r;var t=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=A(t),this.$thead=this.$table.children().filter("thead").eq(0),this.$tbody=this.$table.children().filter("tbody"),this.mode=this.$table.attr("data-tablesaw-mode")||i,this.$toolbar=null,this.init()};t.prototype.init=function(){if(!this.$thead.length)throw new Error("tablesaw: a <thead> is required, but none was found.");if(!this.$thead.find("th").length)throw new Error("tablesaw: no header cells found. Are you using <th> inside of <thead>?");this.$table.attr("id")||this.$table.attr("id",e+"-"+Math.round(1e4*Math.random())),this.createToolbar(),this._initCells(),this.$table.data(e,this),this.$table.trigger(r.create,[this])},t.prototype.getConfig=function(t){var e=A.extend(s,t||{});return A.extend(e,"undefined"!=typeof TablesawConfig?TablesawConfig:{})},t.prototype._getPrimaryHeaderRow=function(){return this._getHeaderRows().eq(0)},t.prototype._getHeaderRows=function(){return this.$thead.children().filter("tr").filter(function(){return!A(this).is("[data-tablesaw-ignorerow]")})},t.prototype._getRowIndex=function(t){return t.prevAll().length},t.prototype._getHeaderRowIndeces=function(){var t=this,e=[];return this._getHeaderRows().each(function(){e.push(t._getRowIndex(A(this)))}),e},t.prototype._getPrimaryHeaderCells=function(t){return(t||this._getPrimaryHeaderRow()).find("th")},t.prototype._findPrimaryHeadersForCell=function(t){for(var e=this._getPrimaryHeaderRow(),n=this._getPrimaryHeaderCells(e),r=this._getRowIndex(e),i=[],o=0;o<this.headerMapping.length;o++)if(o!==r)for(var a=0;a<this.headerMapping[o].length;a++)this.headerMapping[o][a]===t&&i.push(n[a]);return i},t.prototype.getRows=function(){var t=this;return this.$table.find("tr").filter(function(){return A(this).closest("table").is(t.$table)})},t.prototype.getBodyRows=function(t){return(t?A(t):this.$tbody).children().filter("tr")},t.prototype.getHeaderCellIndex=function(t){for(var e=this.headerMapping[0],n=0;n<e.length;n++)if(e[n]===t)return n;return-1},t.prototype._initCells=function(){var t=this.getRows(),a=[];t.each(function(t){a[t]=[]}),t.each(function(i){var o=0;A(this).children().each(function(){for(var t=parseInt(this.getAttribute("colspan"),10),e=parseInt(this.getAttribute("rowspan"),10);a[i][o];)o++;if(a[i][o]=this,t)for(var n=0;n<t-1;n++)o++,a[i][o]=this;if(e)for(var r=1;r<e;r++)a[i+r][o]=this;o++})});for(var e=this._getHeaderRowIndeces(),n=0;n<a[0].length;n++)for(var r=0,i=e.length;r<i;r++){var o,s=a[e[r]][n],l=e[r];for(s.cells||(s.cells=[]);l<a.length;)s!==(o=a[l][n])&&s.cells.push(o),l++}this.headerMapping=a},t.prototype.refresh=function(){this._initCells(),this.$table.trigger(r.refresh,[this])},t.prototype._getToolbarAnchor=function(){var t=this.$table.parent();return t.is(".tablesaw-overflow")?t:this.$table},t.prototype._getToolbar=function(t){return t||(t=this._getToolbarAnchor()),t.prev().filter("."+n.toolbar)},t.prototype.createToolbar=function(){var t=this._getToolbarAnchor(),e=this._getToolbar(t);e.length||(e=A("<div>").addClass(n.toolbar).insertBefore(t)),this.$toolbar=e,this.mode&&this.$toolbar.addClass("tablesaw-mode-"+this.mode)},t.prototype.destroy=function(){this._getToolbar().each(function(){this.className=this.className.replace(/\btablesaw-mode\-\w*\b/gi,"")});var t=this.$table.attr("id");A(document).off("."+t),A(window).off("."+t),this.$table.trigger(r.destroy,[this]),this.$table.removeData(e)},A.fn[e]=function(){return this.each(function(){A(this).data(e)||new t(this)})};var l=A(E.document);l.on("enhance.tablesaw",function(t){L.mustard&&A(t.target).find(o).filter(a)[e]()});var c,u,d=!1;l.on("scroll.tablesaw",function(){d=!0,E.clearTimeout(c),c=E.setTimeout(function(){d=!1},300)}),A(E).on("resize",function(){d||(E.clearTimeout(u),u=E.setTimeout(function(){l.trigger(r.resize)},150))})}(),r={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label",cellContentLabels:"tablesaw-cell-content"},n={key:"tablesaw-stack"},i={labelless:"data-tablesaw-no-labels",hideempty:"data-tablesaw-hide-empty"},(o=function(t,e){this.tablesaw=e,this.$table=A(t),this.labelless=this.$table.is("["+i.labelless+"]"),this.hideempty=this.$table.is("["+i.hideempty+"]"),this.$table.data(n.key,this)}).prototype.init=function(){if(this.$table.addClass(r.stackTable),!this.labelless){var n=this;this.$table.find("th, td").filter(function(){return!A(this).closest("thead").length}).filter(function(){return!(A(this).closest("tr").is("["+i.labelless+"]")||n.hideempty&&!A(this).html())}).each(function(){var i=A(document.createElement("b")).addClass(r.cellLabels),t=A(this);A(n.tablesaw._findPrimaryHeadersForCell(this)).each(function(t){var e=A(this.cloneNode(!0)),n=e.find(".tablesaw-sortable-btn");e.find(".tablesaw-sortable-arrow").remove();var r=e.find("[data-tablesaw-checkall]");r.closest("label").remove(),r.length?i=A([]):(0<t&&i.append(document.createTextNode(", ")),i.append(n.length?n[0].childNodes:e[0].childNodes))}),
i.length&&!t.find("."+r.cellContentLabels).length&&t.wrapInner("<span class='"+r.cellContentLabels+"'></span>");var e=t.find("."+r.cellLabels);e.length?e.replaceWith(i):t.prepend(i)})}},o.prototype.destroy=function(){this.$table.removeClass(r.stackTable),this.$table.find("."+r.cellLabels).remove(),this.$table.find("."+r.cellContentLabels).each(function(){A(this).replaceWith(this.childNodes)})},A(document).on(L.events.create,function(t,e){"stack"===e.mode&&new o(e.table,e).init()}).on(L.events.refresh,function(t,e){"stack"===e.mode&&A(e.table).data(n.key).init()}).on(L.events.destroy,function(t,e){"stack"===e.mode&&A(e.table).data(n.key).destroy()}),a="tablesawbtn",t={_create:function(){return A(this).each(function(){A(this).trigger("beforecreate."+a)[a]("_init").trigger("create."+a)})},_init:function(){var t=A(this),e=this.getElementsByTagName("select")[0];return e&&A(this).addClass("btn-select tablesaw-btn-select")[a]("_select",e),t},_select:function(t){var e=function(t,e){var n,r,i=A(e).find("option"),o=document.createElement("span"),a=!1;if(o.setAttribute("aria-hidden","true"),o.innerHTML="&#160;",i.each(function(){var t=this;t.selected&&(o.innerHTML=t.text)}),r=t.childNodes,0<i.length){for(var s=0,l=r.length;s<l;s++)(n=r[s])&&"SPAN"===n.nodeName.toUpperCase()&&(t.replaceChild(o,n),a=!0);a||t.insertBefore(o,t.firstChild)}};e(this,t),A(this).on("change refresh",function(){e(this,t)})}},A.fn[a]=function(t,e,n,r){return this.each(function(){return t&&"string"==typeof t?A.fn[a].prototype[t].call(this,e,n,r):A(this).data(a+"active")?A(this):(A(this).data(a+"active",!0),void A.fn[a].prototype._create.call(this))})},A.extend(A.fn[a].prototype,t),m={key:"tablesaw-coltoggle"},(s=function(t){this.$table=A(t),this.$table.length&&(this.tablesaw=this.$table.data("tablesaw"),this.attributes={subrow:"data-tablesaw-subrow",ignorerow:"data-tablesaw-ignorerow",btnTarget:"data-tablesaw-columntoggle-btn-target",set:"data-tablesaw-columntoggle-set"},this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-"},this.set=[],this.$headers=this.tablesaw._getPrimaryHeaderCells(),this.$table.data(m.key,this))}).prototype.initSet=function(){var t=this.$table.attr(this.attributes.set);if(t){var e=this.$table[0];this.set=A("table["+this.attributes.set+"='"+t+"']").filter(function(){return this!==e}).get()}},s.prototype.init=function(){function r(t){var e=t.checked,n=c.getHeaderFromCheckbox(t),r=c.$getCells(n);r[e?"removeClass":"addClass"]("tablesaw-toggle-cellhidden"),r[e?"addClass":"removeClass"]("tablesaw-toggle-cellvisible"),c.updateColspanIgnoredRows(e,A(n).add(n.cells)),c.$table.trigger("tablesawcolumns")}function e(t){t&&A(t.target).closest("."+c.classes.popup).length||(A(document).off("click."+i),o.removeClass("up").addClass("down"),l.removeClass("visible"))}function n(){l.addClass("visible"),o.removeClass("down").addClass("up"),A(document).off("click."+i,e),window.clearTimeout(h),h=window.setTimeout(function(){A(document).on("click."+i,e)},15)}if(this.$table.length){var i,t,o,a,s,l,c=this,u=this.tablesaw.getConfig({getColumnToggleLabelTemplate:function(t){return"<label><input type='checkbox' checked>"+t+"</label>"}});this.$table.addClass(this.classes.columnToggleTable),t=(i=this.$table.attr("id"))+"-popup",l=A("<div class='"+this.classes.columnBtnContain+"'></div>"),o=A("<a href='#"+t+"' class='btn tablesaw-btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+L.i18n.columnToggleButton+"</span></a>"),a=A("<div class='"+this.classes.popup+"' id='"+t+"'></div>"),s=A("<div class='btn-group'></div>"),this.$popup=a;var d=!1;this.$headers.each(function(){var t=A(this),e=t.attr("data-tablesaw-priority"),n=c.$getCells(this);e&&"persist"!==e&&(n.addClass(c.classes.priorityPrefix+e),A(u.getColumnToggleLabelTemplate(t.text())).appendTo(s).find('input[type="checkbox"]').data("tablesaw-header",this),d=!0)}),d||s.append("<label>"+L.i18n.columnToggleError+"</label>"),s.appendTo(a),s.find('input[type="checkbox"]').on("change",function(e){var n;r(e.target),c.set.length&&(A(c.$popup).find("input[type='checkbox']").each(function(t){if(this===e.target)return n=t,!1}),A(c.set).each(function(){var t=A(this).data(m.key).$popup.find("input[type='checkbox']").get(n);t&&(t.checked=e.target.checked,r(t))}))}),o.appendTo(l);var h,f=A(this.$table.attr(this.attributes.btnTarget));l.appendTo(f.length?f:this.tablesaw.$toolbar),o.on("click.tablesaw",function(t){t.preventDefault(),l.is(".visible")?e():n()}),a.appendTo(l),this.$menu=s;var p,g=this.$table.closest(".tablesaw-overflow");g.css("-webkit-overflow-scrolling")&&g.on("scroll",function(){var t=A(this);window.clearTimeout(p),p=window.setTimeout(function(){t.css("-webkit-overflow-scrolling","auto"),window.setTimeout(function(){t.css("-webkit-overflow-scrolling","touch")},0)},100)}),A(window).on(L.events.resize+"."+i,function(){c.refreshToggle()}),this.initSet(),this.refreshToggle()}},s.prototype.updateColspanIgnoredRows=function(a,s){this.$table.find("["+this.attributes.subrow+"],["+this.attributes.ignorerow+"]").each(function(){var t,e,n,r,i=A(this),o=i.find("td[colspan]").eq(0);!0===a||!1===a?(r=s.filter(function(){return this===o[0]}).length?a?1:-1:0,e=parseInt(o.attr("colspan"),10)+r):((n=o.data("original-colspan"))?e=n:(e=parseInt(o.attr("colspan"),10),o.data("original-colspan",e)),t=i.find("td").filter(function(){return this!==o[0]&&"none"===A(this).css("display")}).length,e-=a-t),o.attr("colspan",e)})},s.prototype.$getCells=function(t){var r=this;return A(t).add(t.cells).filter(function(){var t=A(this),e=t.parent(),n=t.is("[colspan]");return!(e.is("["+r.attributes.subrow+"]")||e.is("["+r.attributes.ignorerow+"]")&&n)})},s.prototype.getHeaderFromCheckbox=function(t){return A(t).data("tablesaw-header")},s.prototype.refreshToggle=function(){var n=this,r=0;this.$menu.find("input").each(function(){var t=n.getHeaderFromCheckbox(this),e="table-cell"===n.$getCells(t).eq(0).css("display");(this.checked=e)||r++}),this.updateColspanIgnoredRows(r)},s.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){A(this).removeClass("tablesaw-toggle-cellhidden").removeClass("tablesaw-toggle-cellvisible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},A(document).on(L.events.create,function(t,e){"columntoggle"===e.mode&&new s(e.table).init()}),A(document).on(L.events.destroy,function(t,e){"columntoggle"===e.mode&&A(e.table).data(m.key).destroy()}),A(document).on(L.events.refresh,function(t,e){"columntoggle"===e.mode&&A(e.table).data(m.key).refreshPriority()}),function(){function d(t){var e=[];return A(t.childNodes).each(function(){var t=A(this);t.is("input, select")?e.push(t.val()):t.is(".tablesaw-cell-label")||e.push((t.text()||"").replace(/^\s+|\s+$/g,""))}),e.join("")}var h="tablesaw-sortable",n="table[data-"+h+"]",l="[data-"+h+"-switch]",f={sortCol:"data-tablesaw-sortable-col",defaultCol:"data-tablesaw-sortable-default-col",numericCol:"data-tablesaw-sortable-numeric",subRow:"data-tablesaw-subrow",ignoreRow:"data-tablesaw-ignorerow"},p={head:h+"-head",ascend:h+"-ascending",descend:h+"-descending",switcher:h+"-switch",tableToolbar:"tablesaw-bar-section",sortButton:h+"-btn"},t={_create:function(t){return A(this).each(function(){if(A(this).data(h+"-init"))return!1;A(this).data(h+"-init",!0).trigger("beforecreate."+h)[h]("_init",t).trigger("create."+h)})},_init:function(){function t(t){A.each(t,function(t,e){A(e).addClass(p.head)})}function e(t,r){A.each(t,function(t,e){var n=A("<button class='"+p.sortButton+"'/>");n.on("click",{col:e},r),A(e).wrapInner(n).find("button").append("<span class='tablesaw-sortable-arrow'>")})}function i(t){A.each(t,function(t,e){var n=A(e);n.removeAttr(f.defaultCol),n.removeClass(p.ascend),n.removeClass(p.descend)})}function n(t){if(!A(t.target).is("a[href]")){t.stopPropagation();var e=A(t.target).closest("["+f.sortCol+"]"),n=t.data.col,r=a.index(e[0]);i(e.closest("thead").find("th").filter(function(){return this!==e[0]})),e.is("."+p.descend)||!e.is("."+p.ascend)?(c[h]("sortBy",n,!0),r+="_asc"):(c[h]("sortBy",n),r+="_desc"),s&&s.find("select").val(r).trigger("refresh"),t.preventDefault()}}function r(t){A.each(t,function(t,e){var n=A(e);n.is("["+f.defaultCol+"]")&&(n.is("."+p.descend)||n.addClass(p.ascend))})}function o(n){s=A("<div>").addClass(p.switcher).addClass(p.tableToolbar);var l=["<label>"+L.i18n.sort+":"];l.push('<span class="btn tablesaw-btn"><select>'),n.each(function(t){var e=A(this),n=e.is("["+f.defaultCol+"]"),r=e.is("."+p.descend),i=e.is("["+f.numericCol+"]"),o=0,a=5;A(this.cells.slice(0,a)).each(function(){isNaN(parseInt(d(this),10))||o++});var s=o===a;i||e.attr(f.numericCol,s?"":"false"),l.push("<option"+(n&&!r?" selected":"")+' value="'+t+'_asc">'+e.text()+" "+(s?"&#x2191;":"(A-Z)")+"</option>"),l.push("<option"+(n&&r?" selected":"")+' value="'+t+'_desc">'+e.text()+" "+(s?"&#x2193;":"(Z-A)")+"</option>")}),l.push("</select></span></label>"),s.html(l.join(""));var t=u.$toolbar.children().eq(0);t.length?s.insertBefore(t):s.appendTo(u.$toolbar),s.find(".tablesaw-btn").tablesawbtn(),s.find("select").on("change",function(){var t=A(this).val().split("_"),e=n.eq(t[0]);i(e.siblings()),c[h]("sortBy",e.get(0),"asc"===t[1])})}var a,s,c=A(this),u=c.data("tablesaw");c.addClass(h),t(a=c.children().filter("thead").find("th["+f.sortCol+"]")),e(a,n),r(a),c.is(l)&&o(a)},sortRows:function(t,e,n,r,i){function o(t,s){var l=[];return A.each(t,function(t,e){for(var n=e.parentNode,r=A(n),i=[],o=r.next();o.is("["+f.subRow+"]");)i.push(o[0]),o=o.next();var a=n.parentNode;r.is("["+f.subRow+"]")||a===s&&l.push({element:e,cell:d(e),row:n,subrows:i.length?i:null,ignored:r.is("["+f.ignoreRow+"]")})}),l}function a(t,n){var r=/[^\-\+\d\.]/g;return t?function(t,e){return t.ignored||e.ignored?0:n?parseFloat(t.cell.replace(r,""))-parseFloat(e.cell.replace(r,"")):t.cell.toLowerCase()>e.cell.toLowerCase()?1:-1}:function(t,e){return t.ignored||e.ignored?0:n?parseFloat(e.cell.replace(r,""))-parseFloat(t.cell.replace(r,"")):t.cell.toLowerCase()<e.cell.toLowerCase()?1:-1}}function s(t){var e,n,r=[];for(e=0,n=t.length;e<n;e++)r.push(t[e].row),t[e].subrows&&r.push(t[e].subrows);return r}var l,c=o(r.cells,i),u=A(r).data("tablesaw-sort");return l=!(!u||"function"!=typeof u)&&u(n)||a(n,A(r).is("["+f.numericCol+"]")&&!A(r).is("["+f.numericCol+'="false"]')),s(c.sort(l))},makeColDefault:function(t,e){var n=A(t);n.attr(f.defaultCol,"true"),e?(n.removeClass(p.descend),n.addClass(p.ascend)):(n.removeClass(p.ascend),n.addClass(p.descend))},sortBy:function(s,l){var c,u=A(this),d=u.data("tablesaw");d.$tbody.each(function(){var t,e,n,r=this,i=A(this),o=d.getBodyRows(r),a=d.headerMapping[0];for(e=0,n=a.length;e<n;e++)if(a[e]===s){c=e;break}for(e=0,n=(t=u[h]("sortRows",o,c,l,s,r)).length;e<n;e++)i.append(t[e])}),u[h]("makeColDefault",s,l),u.trigger("tablesaw-sorted")}};A.fn[h]=function(t){var e,n=Array.prototype.slice.call(arguments,1);return t&&"string"==typeof t?void 0!==(e=A.fn[h].prototype[t].apply(this[0],n))?e:A(this):(A(this).data(h+"-active")||(A(this).data(h+"-active",!0),A.fn[h].prototype._create.call(this,t)),A(this))},A.extend(A.fn[h].prototype,t),A(document).on(L.events.create,function(t,e){e.$table.is(n)&&e.$table[h]()})}(),function(){function n(c,u){function e(t){return A(t.cells).add(t).filter(function(){return!A(this).parent().is("["+N.ignorerow+"],["+N.subrow+"]")})}function d(t){e(t).removeClass(k.hiddenCol)}function h(t){e(t).addClass(k.hiddenCol)}function f(t){e(t).addClass(k.persistCol)}function a(t){return A(t).is('[data-tablesaw-priority="persist"]')}function t(){var e=0;return C.each(function(){var t=A(this);t.is("."+k.hiddenCol)||(e+=parseInt(t.attr("colspan")||1,10))}),e}function p(e){e||(e=t()),u.find("["+N.ignorerow+"],["+N.subrow+"]").find("td[colspan]").each(function(){var t=A(this);parseInt(t.attr("colspan"),10);t.attr("colspan",e)})}function g(){u.removeClass(k.persistWidths),A("#"+S+"-persist").remove()}function n(){var t,n="#"+S+".tablesaw-swipe ",r=[],i=u.width(),o=[];if(C.each(function(t){var e;a(this)&&(e=this.getBoundingClientRect().width)<.75*i&&(o.push(t+"-"+e),r.push(n+" ."+k.persistCol+":nth-child("+(t+1)+") { width: "+e+"px; }"))}),t=o.join("_"),r.length){u.addClass(k.persistWidths);var e=A("#"+S+"-persist");e.length&&e.data("tablesaw-hash")===t||(e.remove(),A("<style>"+r.join("\n")+"</style>").attr("id",S+"-persist").data("tablesaw-hash",t).appendTo(D))}}function r(){var r,i=[];return T.each(function(t){var e=A(this),n="none"===e.css("display")||e.is("."+k.hiddenCol);if(n||r){if(n&&r)return i[1]=t,!1}else r=!0,i[0]=t}),i}function i(){var t=r();return[t[1]-1,t[0]-1]}function o(t){return t?r():i()}function s(t){return-1<t[1]&&t[1]<T.length}function m(){var t=u.attr("data-tablesaw-swipe-media");return!t||"matchMedia"in E&&E.matchMedia(t).matches}function y(){if(m()){var n=u.parent().width(),r=[],i=0,o=[],a=C.length;C.each(function(t){var e=A(this).is('[data-tablesaw-priority="persist"]');r.push(e),i+=M[t],o.push(i),(e||n<i)&&a--});var s=0===a,l=0;C.each(function(t){var e=parseInt(A(this).attr("colspan")||1,10);if(r[t])return l+=e,void f(this);o[t]<=n||s?(l+=e,s=!1,d(this)):h(this)}),p(l),g(),u.trigger("tablesawcolumns")}}function v(t){var e=o(t);s(e)&&(isNaN(e[0])&&(e[0]=t?0:T.length-1),n(),h(T.get(e[0])),d(T.get(e[1])),p(),u.trigger("tablesawcolumns"))}function b(t,e){return(t.touches||t.originalEvent.touches)[0][e]}var l=u.data("tablesaw"),_=A("<div class='tablesaw-advance'></div>"),w=A("<a href='#' class='btn tablesaw-nav-btn tablesaw-btn btn-micro left' title='"+L.i18n.swipePreviousColumn+"'></a>").appendTo(_),x=A("<a href='#' class='btn tablesaw-nav-btn tablesaw-btn btn-micro right' title='"+L.i18n.swipeNextColumn+"'></a>").appendTo(_),C=c._getPrimaryHeaderCells(),T=C.not('[data-tablesaw-priority="persist"]'),M=[],D=A(document.head||"head"),S=u.attr("id");if(!C.length)throw new Error("tablesaw swipe: no header cells found.");u.addClass("tablesaw-swipe"),u.find("."+k.hiddenCol).removeClass(k.hiddenCol),C.each(function(){var t=this.offsetWidth;M.push(t)}),_.appendTo(l.$toolbar),S||(S="tableswipe-"+Math.round(1e4*Math.random()),u.attr("id",S)),w.add(x).on("click",function(t){v(!!A(t.target).closest(x).length),t.preventDefault()}),u.is("["+N.disableTouchEvents+"]")||u.on("touchstart.swipetoggle",function(t){var i,o,a=b(t,"pageX"),s=b(t,"pageY"),l=window.pageYOffset;A(E).off(L.events.resize,y),A(this).on("touchmove.swipetoggle",function(t){i=b(t,"pageX"),o=b(t,"pageY")}).on("touchend.swipetoggle",function(){var t=c.getConfig({swipeHorizontalThreshold:30,swipeVerticalThreshold:30}),e=t.swipe?t.swipe.verticalThreshold:t.swipeVerticalThreshold,n=t.swipe?t.swipe.horizontalThreshold:t.swipeHorizontalThreshold,r=Math.abs(window.pageYOffset-l)>=e;Math.abs(o-s)>=e||r||(i-a<-1*n&&v(!0),n<i-a&&v(!1)),window.setTimeout(function(){A(E).on(L.events.resize,y)},300),A(this).off("touchmove.swipetoggle touchend.swipetoggle")})}),u.on("tablesawcolumns.swipetoggle",function(){var t=s(i()),e=s(r());w[t?"removeClass":"addClass"](k.hideBtn),x[e?"removeClass":"addClass"](k.hideBtn),l.$toolbar[t||e?"removeClass":"addClass"](k.allColumnsVisible)}).on("tablesawnext.swipetoggle",function(){v(!0)}).on("tablesawprev.swipetoggle",function(){v(!1)}).on(L.events.destroy+".swipetoggle",function(){var t=A(this);t.removeClass("tablesaw-swipe"),l.$toolbar.find(".tablesaw-advance").remove(),A(E).off(L.events.resize,y),t.off(".swipetoggle")}).on(L.events.refresh,function(){M=[],C.each(function(){var t=this.offsetWidth;M.push(t)}),y()}),y(),A(E).on(L.events.resize,y)}var k={hideBtn:"disabled",persistWidths:"tablesaw-fix-persist",hiddenCol:"tablesaw-swipe-cellhidden",persistCol:"tablesaw-swipe-cellpersist",allColumnsVisible:"tablesaw-all-cols-visible"},N={disableTouchEvents:"data-tablesaw-no-touch",ignorerow:"data-tablesaw-ignorerow",subrow:"data-tablesaw-subrow"};A(document).on(L.events.create,function(t,e){"swipe"===e.mode&&n(e,e.$table)})}(),function(){function n(t){function n(t){var e=t.attr(s.attr.init);return!e||E.matchMedia&&E.matchMedia(e).matches}function e(){if(n(t)){i.css("display","block");var e=o.find("li").removeClass(a);t.find("thead th").each(function(t){"none"===A(this).css("display")&&e.eq(t).addClass(a)})}else i.css("display","none")}var r=t.data("tablesaw"),i=A('<div class="tablesaw-advance minimap">'),o=A('<ul class="tablesaw-advance-dots">').appendTo(i),a="tablesaw-advance-dots-hide";t.find("thead th").each(function(){o.append("<li><i></i></li>")}),i.appendTo(r.$toolbar),e(),A(E).on(L.events.resize,e),t.on("tablesawcolumns.minimap",function(){e()}).on(L.events.destroy+".minimap",function(){var t=A(this);r.$toolbar.find(".tablesaw-advance").remove(),A(E).off(L.events.resize,e),t.off(".minimap")})}var s={attr:{init:"data-tablesaw-minimap"}};A(document).on(L.events.create,function(t,e){"swipe"!==e.mode&&"columntoggle"!==e.mode||!e.$table.is("[ "+s.attr.init+"]")||n(e.$table)})}(),h={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-bar-section"},modes:["stack","swipe","columntoggle"],init:function(e){var t,n=A(e),r=n.data("tablesaw"),i=n.attr(h.attributes.excludeMode),o=r.$toolbar,a=A("<div>").addClass(h.classes.main+" "+h.classes.toolbar),s=['<label><span class="abbreviated">'+L.i18n.modeSwitchColumnsAbbreviated+'</span><span class="longform">'+L.i18n.modeSwitchColumns+"</span>:"],l=n.attr("data-tablesaw-mode");s.push('<span class="btn tablesaw-btn"><select>');for(var c=0,u=h.modes.length;c<u;c++)i&&i.toLowerCase()===h.modes[c]||(t=l===h.modes[c],s.push("<option"+(t?" selected":"")+' value="'+h.modes[c]+'">'+L.i18n.modes[c]+"</option>"));s.push("</select></span></label>"),a.html(s.join(""));var d=o.find(".tablesaw-advance").eq(0);d.length?a.insertBefore(d):a.appendTo(o),a.find(".tablesaw-btn").tablesawbtn(),a.find("select").on("change",function(t){return h.onModeChange.call(e,t,A(this).val())})},onModeChange:function(t,e){var n=A(this),r=n.data("tablesaw");r.$toolbar.find("."+h.classes.main).remove(),r.destroy(),n.attr("data-tablesaw-mode",e),n.tablesaw()}},A(E.document).on(L.events.create,function(t,e){e.$table.is(h.selectors.init)&&h.init(e.table)}),function(){function n(t){this.tablesaw=t,this.$table=t.$table,this.attr="data-tablesaw-checkall",this.checkAllSelector="["+this.attr+"]",this.forceCheckedSelector="["+this.attr+"-checked]",this.forceUncheckedSelector="["+this.attr+"-unchecked]",this.checkboxSelector='input[type="checkbox"]',this.$triggers=null,this.$checkboxes=null,this.$table.data(o)||(this.$table.data(o,this),this.init())}var o="tablesawCheckAll";n.prototype._filterCells=function(t){return t.filter(function(){return!A(this).closest("tr").is("[data-tablesaw-subrow],[data-tablesaw-ignorerow]")}).find(this.checkboxSelector).not(this.checkAllSelector)},n.prototype.getCheckboxesForButton=function(t){return this._filterCells(A(A(t).attr(this.attr)))},n.prototype.getCheckboxesForCheckbox=function(t){return this._filterCells(A(A(t).closest("th")[0].cells))},n.prototype.init=function(){var t=this;this.$table.find(this.checkAllSelector).each(function(){A(this).is(t.checkboxSelector)?t.addCheckboxEvents(this):t.addButtonEvents(this)})},n.prototype.addButtonEvents=function(t){var i=this;A(t).on("click",function(t){t.preventDefault();var e,n=i.getCheckboxesForButton(this),r=!0;n.each(function(){this.checked||(r=!1)}),e=!!A(this).is(i.forceCheckedSelector)||!A(this).is(i.forceUncheckedSelector)&&!r,n.each(function(){this.checked=e,A(this).trigger("change."+o)})})},n.prototype.addCheckboxEvents=function(n){var e=this;A(n).on("change",function(){var t=this.checked;e.getCheckboxesForCheckbox(this).each(function(){this.checked=t})});var r=e.getCheckboxesForCheckbox(n);r.on("change."+o,function(){var t=0;r.each(function(){this.checked&&t++});var e=t===r.length;n.checked=e,n.indeterminate=0!==t&&!e})},A(document).on(L.events.create,function(t,e){new n(e)})}()}),function(t){"use strict";var e;if("shoestring"in t)e=t.shoestring;else{if(!("jQuery"in t))throw new Error("tablesaw: DOM library not found.");e=t.jQuery}"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){e(document).trigger("enhance.tablesaw")})}("undefined"!=typeof window?window:this),function(u,d){"undefined"==typeof d.fn.clone&&(d.fn.clone=function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),d(t)});var h={selectors:{init:".table--long"},tests:{sticky:PP.utils.featureTest("position","sticky"),fixed:PP.utils.featureTest("position","fixed",!0)},getScrollTop:function(){var t="pageYOffset",e="scrollTop";return u?t in u?u[t]:u.document.documentElement[e]:elem[e]},init:function(t){function r(t){a[a.is(".on")?"removeClass":"addClass"]("on"),t&&c()}var e,n,i=d(t),o=i.find("thead").eq(0),a=i.next().is(".stickyclone"),s=function(t){return t.tagName+":eq("+d(t).prevAll().length+")"},l=function(t,e){t.replaceWith(e.clone().css("width",e[0].clientWidth+1+"px"))},c=function(){var r=a.find("th"),t=window.getComputedStyle?getComputedStyle(i[0],null):i[0].currentStyle,e=parseInt(t.getPropertyValue("width"),10),n=-1<navigator.userAgent.toLowerCase().indexOf("firefox")?0:1;a.css("width",e-n+"px"),o.find("th").each(function(t){var e=d(this),n=r.eq(t);"none"!==e.css("display")?l(n,e):n.css("display","none")})};a.length||((e=document.createElement("table")).className=t.className.replace(/\bstickyheaders\b/,"")+" stickyclone",(a=d(e)).append(o.clone()),a.on("click",function(t){var e=d(t.target),n=[s(t.target)];e.is("a[href]")||(e.parents().each(function(){var t=this.tagName;if("THEAD"===t)return!1;n.unshift(s(this)),"TH"!==t&&"TD"!==t||n}),o.find(n.join(" > ")).trigger(t.type),c())}),i.after(a)),d(u).bind("scroll",function(){var t=i.offset().top,e=h.getScrollTop(),n=a.is(".on");e<t||t+i.height()<e?n&&r():n||r(!0)}).trigger("scroll"),d(u).bind("resize",function(){clearTimeout(n),n=setTimeout(function(){a.is(".on")&&c()},150)})}};!(u.StickyHeaders=h).tests.sticky&&h.tests.fixed&&d(u.document).on("enhance",function(){d(h.selectors.init).each(function(){h.init(this)})})}(this,jQuery),function(r){"use strict";var e="table--shortened",n="data-enhanced-"+e,i="."+e+":not(["+n+"])",o="container-shortened",t=".stickyclone",a="at-top",s="at-bottom";r.fn[e]=function(){return this.not(t).each(function(){var t=r(this),e=function(t){var e=r(t),n=e.scrollTop();0==n?e.addClass(a).removeClass(s):n+e.innerHeight()>=e[0].scrollHeight?e.addClass(s).removeClass(a):e.removeClass(a+" "+s)};t.wrap('<div class="'+o+'-inner"></div>').parent().wrap('<div class="'+o+' full"></div>').prepend('<div class="'+o+"-cap "+o+'-cap--top" role="presentation" aria-hidden></div>').append('<div class="'+o+"-cap "+o+'-cap--bottom" role="presentation" aria-hidden></div>');var n=t.parent();n.on("scroll",function(t){e(t.target)}),e(n[0])})},r(document).bind("enhance",function(t){(r(t.target).is(i)?r(t.target):r(i,t.target))[e]().attr(n,"true")})}(jQuery),function(e){"use strict";e(".site-nav-item").bind("ajaxInclude",function(){e(this).addClass("collapsible collapsible-collapsed").attr("data-collapsible-set","nav-primary").attr("data-collapsible-hover",""),e(document).trigger("enhance")}),e(window).on("resize",function(){e(".site-mast .collapsible-expanded .collapsible-header, .modal.collapsible-expanded .collapsible-header").trigger("click")}),e(document).keyup(function(t){27===t.keyCode&&e(".modal.collapsible-expanded .collapsible-header").trigger("click")})}(jQuery),function(e){"use strict";var n="subnav",r="data-enhanced-"+n,i="."+n+":not(["+r+"])";stickybits("."+n,{customVerticalPosition:!0,useStickyClasses:!0});var o="is-hidden",a=[],s=".medium, .full, .site-footer, .aside.aside-medium, .aside.aside-large",l=".aside--alt, .stickyclone";e.fn[n]=function(){return this.each(function(){var r=e(this),t=function(t,e){if("add"===e)a.push(t),r.addClass(o);else{var n=a.indexOf(t);-1<n&&a.splice(n,1),0===a.length&&r.removeClass(o)}};e(s).not(l).each(function(){new Waypoint.Inview({element:e(this)[0],enter:function(){t(this.element,"add")},exited:function(){t(this.element,"remove")}})})})},e(document).bind("enhance",function(t){(e(t.target).is(i)?e(t.target):e(i,t.target))[n]().attr(r,"true")})}(jQuery),function(i){"use strict";var e="number",n="data-enhanced-"+e,r="."+e+":not(["+n+"])",o=['<div class="rank-scale" role="presentation" aria-hidden>','    <span class="rank-marker" style="left: {{ position }}"></span>','    <ul class="rank-labels">',"        <li>High</li>","        <li>Low</li>","    </ul>","</div>"].join("\n");i.fn[e]=function(){return this.each(function(){var t=i(this),e=i(".rank",t);if(0===i(".rank-scale",t).length&&0<e.length){var n=e.attr("data-rank")/e.attr("data-total")*100,r=o.split("{{ position }}").join(n+"%");e.prepend(r)}})},i(document).bind("enhance",function(t){(i(t.target).is(r)?i(t.target):i(r,t.target))[e]().attr(n,"true")})}(jQuery),$(document).ready(function(){$("html").addClass("enhanced"),$("[data-append], [data-replace], [data-after], [data-before]").ajaxInclude(),$("[data-set] > *").appendAround(),$(document).trigger("enhance")}),function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/(\{.*\})/,single:"metadata"},setType:function(t,e){this.defaults.type=t,this.defaults.name=e},get:function(elem,opts){var data,m,e,attr,settings=$.extend({},this.defaults,opts);if(settings.single.length||(settings.single="metadata"),data=$.data(elem,settings.single),data)return data;if(data="{}","class"===settings.type)m=settings.cre.exec(elem.className),m&&(data=m[1]);else if("elem"===settings.type){if(!elem.getElementsByTagName)return undefined;e=elem.getElementsByTagName(settings.name),e.length&&(data=$.trim(e[0].innerHTML))}else elem.getAttribute!==undefined&&(attr=elem.getAttribute(settings.name),attr&&(data=attr));return data.indexOf("{")<0&&(data="{"+data+"}"),data=eval("("+data+")"),$.data(elem,settings.single,data),data}}}),$.fn.metadata=function(t){return $.metadata.get(this[0],t)}}(jQuery),function(k){"use strict";var N=k.tablesorter={version:"2.31.1",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(e,n){if(e&&e.tHead&&0!==e.tBodies.length&&!0!==e.hasInitialized){var t,r="",i=k(e),o=k.metadata;e.hasInitialized=!1,e.isProcessing=!0,e.config=n,k.data(e,"tablesorter",n),N.debug(n,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+N.version),k.data(e,"startoveralltimer",new Date)),n.supportsDataObject=((t=k.fn.jquery.split("."))[0]=parseInt(t[0],10),1<t[0]||1===t[0]&&4<=parseInt(t[1],10)),n.emptyTo=n.emptyTo.toLowerCase(),n.stringTo=n.stringTo.toLowerCase(),n.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(i.attr("class"))||(r=""!==n.theme?" tablesorter-"+n.theme:""),n.namespace?n.namespace="."+n.namespace.replace(N.regex.nonWord,""):n.namespace=".tablesorter"+Math.random().toString(16).slice(2),n.table=e,n.$table=i.addClass(N.css.table+" "+n.tableClass+r+" "+n.namespace.slice(1)).attr("role","grid"),n.$headers=i.find(n.selectorHeaders),n.$table.children().children("tr").attr("role","row"),n.$tbodies=i.children("tbody:not(."+n.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),n.$table.children("caption").length&&((r=n.$table.children("caption")[0]).id||(r.id=n.namespace.slice(1)+"caption"),n.$table.attr("aria-labelledby",r.id)),n.widgetInit={},n.textExtraction=n.$table.attr("data-text-extraction")||n.textExtraction||"basic",N.buildHeaders(n),N.fixColumnWidth(e),N.addWidgetFromClass(e),N.applyWidgetOptions(e),N.setupParsers(n),n.totalRows=0,n.debug&&N.validateOptions(n),n.delayInit||N.buildCache(n),N.bindEvents(e,n.$headers,!0),N.bindMethods(n),n.supportsDataObject&&"undefined"!=typeof i.data().sortlist?n.sortList=i.data().sortlist:o&&i.metadata()&&i.metadata().sortlist&&(n.sortList=i.metadata().sortlist),N.applyWidget(e,!0),0<n.sortList.length?(n.last.sortList=n.sortList,N.sortOn(n,n.sortList,{},!n.initWidgets)):(N.setHeadersCss(n),n.initWidgets&&N.applyWidget(e,!1)),n.showProcessing&&i.unbind("sortBegin"+n.namespace+" sortEnd"+n.namespace).bind("sortBegin"+n.namespace+" sortEnd"+n.namespace,function(t){clearTimeout(n.timerProcessing),N.isProcessing(e),"sortBegin"===t.type&&(n.timerProcessing=setTimeout(function(){N.isProcessing(e,!0)},500))}),e.hasInitialized=!0,e.isProcessing=!1,N.debug(n,"core")&&(console.log("Overall initialization time:"+N.benchmark(k.data(e,"startoveralltimer"))),N.debug(n,"core")&&console.groupEnd&&console.groupEnd()),i.triggerHandler("tablesorter-initialized",e),"function"==typeof n.initialized&&n.initialized(e)}else N.debug(n,"core")&&(e.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",e))},bindMethods:function(n){var t=n.$table,e=n.namespace,r="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(e+" ");t.unbind(r.replace(N.regex.spaces," ")).bind("sortReset"+e,function(t,e){t.stopPropagation(),N.sortReset(this.config,function(t){t.isApplyingWidgets?setTimeout(function(){N.applyWidget(t,"",e)},100):N.applyWidget(t,"",e)})}).bind("updateAll"+e,function(t,e,n){t.stopPropagation(),N.updateAll(this.config,e,n)}).bind("update"+e+" updateRows"+e,function(t,e,n){t.stopPropagation(),N.update(this.config,e,n)}).bind("updateHeaders"+e,function(t,e){t.stopPropagation(),N.updateHeaders(this.config,e)}).bind("updateCell"+e,function(t,e,n,r){t.stopPropagation(),N.updateCell(this.config,e,n,r)}).bind("addRows"+e,function(t,e,n,r){t.stopPropagation(),N.addRows(this.config,e,n,r)}).bind("updateComplete"+e,function(){this.isUpdating=!1}).bind("sorton"+e,function(t,e,n,r){t.stopPropagation(),N.sortOn(this.config,e,n,r)}).bind("appendCache"+e,function(t,e,n){t.stopPropagation(),N.appendCache(this.config,n),k.isFunction(e)&&e(this)}).bind("updateCache"+e,function(t,e,n){t.stopPropagation(),N.updateCache(this.config,e,n)}).bind("applyWidgetId"+e,function(t,e){t.stopPropagation(),N.applyWidgetId(
this,e)}).bind("applyWidgets"+e,function(t,e){t.stopPropagation(),N.applyWidget(this,!1,e)}).bind("refreshWidgets"+e,function(t,e,n){t.stopPropagation(),N.refreshWidgets(this,e,n)}).bind("removeWidget"+e,function(t,e,n){t.stopPropagation(),N.removeWidget(this,e,n)}).bind("destroy"+e,function(t,e,n){t.stopPropagation(),N.destroy(this,e,n)}).bind("resetToLoadState"+e,function(t){t.stopPropagation(),N.removeWidget(this,!0,!1);var e=k.extend(!0,{},n.originalSettings);(n=k.extend(!0,{},N.defaults,e)).originalSettings=e,this.hasInitialized=!1,N.setup(this,n)})},bindEvents:function(t,e,n){var r,s=(t=k(t)[0]).config,i=s.namespace,l=null;!0!==n&&(e.addClass(i.slice(1)+"_extra_headers"),(r=N.getClosest(e,"table")).length&&"TABLE"===r[0].nodeName&&r[0]!==t&&k(r[0]).addClass(i.slice(1)+"_extra_table")),r=(s.pointerDown+" "+s.pointerUp+" "+s.pointerClick+" sort keyup ").replace(N.regex.spaces," ").split(" ").join(i+" "),e.find(s.selectorSort).add(e.filter(s.selectorSort)).unbind(r).bind(r,function(t,e){var n,r,i,o=k(t.target),a=" "+t.type+" ";if(!(1!==(t.which||t.button)&&!a.match(" "+s.pointerClick+" | sort | keyup ")||" keyup "===a&&t.which!==N.keyCodes.enter||a.match(" "+s.pointerClick+" ")&&"undefined"!=typeof t.which||a.match(" "+s.pointerUp+" ")&&l!==t.target&&!0!==e)){if(a.match(" "+s.pointerDown+" "))return l=t.target,void("1"===(i=o.jquery.split("."))[0]&&i[1]<4&&t.preventDefault());if(l=null,n=N.getClosest(k(this),"."+N.css.header),N.regex.formElements.test(t.target.nodeName)||o.hasClass(s.cssNoSort)||0<o.parents("."+s.cssNoSort).length||n.hasClass("sorter-false")||0<o.parents("button").length)return!s.cancelSelection;s.delayInit&&N.isEmptyObject(s.cache)&&N.buildCache(s),s.last.clickedIndex=n.attr("data-column")||n.index(),(r=s.$headerIndexed[s.last.clickedIndex][0])&&!r.sortDisabled&&N.initSort(s,r,t)}}),s.cancelSelection&&e.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(l){var t,c,e,n;for(l.headerList=[],l.headerContent=[],l.sortVars=[],N.debug(l,"core")&&(e=new Date),l.columns=N.computeColumnIndex(l.$table.children("thead, tfoot").children("tr")),c=l.cssIcon?'<i class="'+(l.cssIcon===N.css.icon?N.css.icon:l.cssIcon+" "+N.css.icon)+'"></i>':"",l.$headers=k(k.map(l.$table.find(l.selectorHeaders),function(t,e){var n,r,i,o,a,s=k(t);if(!N.getClosest(s,"tr").hasClass(l.cssIgnoreRow))return/(th|td)/i.test(t.nodeName)||(a=N.getClosest(s,"th, td"),s.attr("data-column",a.attr("data-column"))),n=N.getColumnData(l.table,l.headers,e,!0),l.headerContent[e]=s.html(),""===l.headerTemplate||s.find("."+N.css.headerIn).length||(o=l.headerTemplate.replace(N.regex.templateContent,s.html()).replace(N.regex.templateIcon,s.find("."+N.css.icon).length?"":c),l.onRenderTemplate&&(r=l.onRenderTemplate.apply(s,[e,o]))&&"string"==typeof r&&(o=r),s.html('<div class="'+N.css.headerIn+'">'+o+"</div>")),l.onRenderHeader&&l.onRenderHeader.apply(s,[e,l,l.$table]),i=parseInt(s.attr("data-column"),10),t.column=i,a=N.getOrder(N.getData(s,n,"sortInitialOrder")||l.sortInitialOrder),l.sortVars[i]={count:-1,order:a?l.sortReset?[1,0,2]:[1,0]:l.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},void 0!==(a=N.getData(s,n,"lockedOrder")||!1)&&!1!==a&&(l.sortVars[i].lockedOrder=!0,l.sortVars[i].order=N.getOrder(a)?[1,1]:[0,0]),l.headerList[e]=t,s.addClass(N.css.header+" "+l.cssHeader),N.getClosest(s,"tr").addClass(N.css.headerRow+" "+l.cssHeaderRow).attr("role","row"),l.tabIndex&&s.attr("tabindex",0),t})),l.$headerIndexed=[],n=0;n<l.columns;n++)N.isEmptyObject(l.sortVars[n])&&(l.sortVars[n]={}),t=l.$headers.filter('[data-column="'+n+'"]'),l.$headerIndexed[n]=t.length?t.not(".sorter-false").length?t.not(".sorter-false").filter(":last"):t.filter(":last"):k();l.$table.find(l.selectorHeaders).attr({scope:"col",role:"columnheader"}),N.updateHeader(l),N.debug(l,"core")&&(console.log("Built headers:"+N.benchmark(e)),console.log(l.$headers))},addInstanceMethods:function(t){k.extend(N.instanceMethods,t)},setupParsers:function(t,e){var n,r,i,o,a,s,l,c,u,d,h,f,p,g,m=t.table,y=0,v=N.debug(t,"core"),b={};if(t.$tbodies=t.$table.children("tbody:not(."+t.cssInfoBlock+")"),0===(g=(p=void 0===e?t.$tbodies:e).length))return v?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(v&&(f=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),r={extractors:[],parsers:[]};y<g;){if((n=p[y].rows).length)for(a=0,o=t.columns,s=0;s<o;s++){if((l=t.$headerIndexed[a])&&l.length&&(c=N.getColumnData(m,t.headers,a),h=N.getParserById(N.getData(l,c,"extractor")),d=N.getParserById(N.getData(l,c,"sorter")),u="false"===N.getData(l,c,"parser"),t.empties[a]=(N.getData(l,c,"empty")||t.emptyTo||(t.emptyToBottom?"bottom":"top")).toLowerCase(),t.strings[a]=(N.getData(l,c,"string")||t.stringTo||"max").toLowerCase(),u&&(d=N.getParserById("no-parser")),h||(h=!1),d||(d=N.detectParserForColumn(t,n,-1,a)),v&&(b["("+a+") "+l.text()]={parser:d.id,extractor:h?h.id:"none",string:t.strings[a],empty:t.empties[a]}),r.parsers[a]=d,r.extractors[a]=h,0<(i=l[0].colSpan-1)))for(a+=i,o+=i;0<i+1;)r.parsers[a-i]=d,r.extractors[a-i]=h,i--;a++}y+=r.parsers.length?g:1}v&&(N.isEmptyObject(b)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](b),console.log("Completed detecting parsers"+N.benchmark(f)),console.groupEnd&&console.groupEnd()),t.parsers=r.parsers,t.extractors=r.extractors},addParser:function(t){var e,n=N.parsers.length,r=!0;for(e=0;e<n;e++)N.parsers[e].id.toLowerCase()===t.id.toLowerCase()&&(r=!1);r&&(N.parsers[N.parsers.length]=t)},getParserById:function(t){if("false"==t)return!1;var e,n=N.parsers.length;for(e=0;e<n;e++)if(N.parsers[e].id.toLowerCase()===t.toString().toLowerCase())return N.parsers[e];return!1},detectParserForColumn:function(t,e,n,r){for(var i,o,a,s=N.parsers.length,l=!1,c="",u=N.debug(t,"core"),d=!0;""===c&&d;)(a=e[++n])&&n<50?a.className.indexOf(N.cssIgnoreRow)<0&&(l=e[n].cells[r],c=N.getElementText(t,l,r),o=k(l),u&&console.log("Checking if value was empty on row "+n+", column: "+r+': "'+c+'"')):d=!1;for(;0<=--s;)if((i=N.parsers[s])&&"text"!==i.id&&i.is&&i.is(c,t.table,l,o))return i;return N.getParserById("text")},getElementText:function(t,e,n){if(!e)return"";var r,i=t.textExtraction||"",o=e.jquery?e:k(e);return"string"==typeof i?"basic"===i&&void 0!==(r=o.attr(t.textAttribute))?k.trim(r):k.trim(e.textContent||o.text()):"function"==typeof i?k.trim(i(o[0],t.table,n)):"function"==typeof(r=N.getColumnData(t.table,i,n))?k.trim(r(o[0],t.table,n)):k.trim(o[0].textContent||o.text())},getParsedText:function(t,e,n,r){void 0===r&&(r=N.getElementText(t,e,n));var i=""+r,o=t.parsers[n],a=t.extractors[n];return o&&(a&&"function"==typeof a.format&&(r=a.format(r,t.table,e,n)),i="no-parser"===o.id?"":o.format(""+r,t.table,e,n),t.ignoreCase&&"string"==typeof i&&(i=i.toLowerCase())),i},buildCache:function(t,e,n){var r,i,o,a,s,l,c,u,d,h,f,p,g,m,y,v,b,_,w,x,C,T,M=t.table,D=t.parsers,S=N.debug(t,"core");if(t.$tbodies=t.$table.children("tbody:not(."+t.cssInfoBlock+")"),c=void 0===n?t.$tbodies:n,t.cache={},t.totalRows=0,!D)return S?console.warn("Warning: *Empty table!* Not building a cache"):"";for(S&&(p=new Date),t.showProcessing&&N.isProcessing(M,!0),l=0;l<c.length;l++){for(v=[],r=t.cache[l]={normalized:[]},g=c[l]&&c[l].rows.length||0,a=0;a<g;++a)if(m={child:[],raw:[]},d=[],!(u=k(c[l].rows[a])).hasClass(t.selectorRemove.slice(1)))if(u.hasClass(t.cssChildRow)&&0!==a)for(C=r.normalized.length-1,(y=r.normalized[C][t.columns]).$row=y.$row.add(u),u.prev().hasClass(t.cssChildRow)||u.prev().addClass(N.css.cssHasChild),h=u.children("th, td"),C=y.child.length,y.child[C]=[],_=0,x=t.columns,s=0;s<x;s++)(f=h[s])&&(y.child[C][s]=N.getParsedText(t,f,s),0<(b=h[s].colSpan-1)&&(_+=b,x+=b)),_++;else{for(m.$row=u,m.order=a,_=0,x=t.columns,s=0;s<x;++s){if((f=u[0].cells[s])&&_<t.columns&&(!(w="undefined"!=typeof D[_])&&S&&console.warn("No parser found for row: "+a+", column: "+s+'; cell containing: "'+k(f).text()+'"; does it have a header?'),i=N.getElementText(t,f,_),m.raw[_]=i,o=N.getParsedText(t,f,_,i),d[_]=o,w&&"numeric"===(D[_].type||"").toLowerCase()&&(v[_]=Math.max(Math.abs(o)||0,v[_]||0)),0<(b=f.colSpan-1))){for(T=0;T<=b;)o=t.duplicateSpan||0===T?i:"string"!=typeof t.textExtraction&&N.getElementText(t,f,_+T)||"",m.raw[_+T]=o,d[_+T]=o,T++;_+=b,x+=b}_++}d[t.columns]=m,r.normalized[r.normalized.length]=d}r.colMax=v,t.totalRows+=r.normalized.length}if(t.showProcessing&&N.isProcessing(M),S){for(C=Math.min(5,t.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+t.totalRows+" rows (showing "+C+" rows in log) and "+t.columns+" columns"+N.benchmark(p)),i={},s=0;s<t.columns;s++)for(_=0;_<C;_++)i["row: "+_]||(i["row: "+_]={}),i["row: "+_][t.$headerIndexed[s].text()]=t.cache[0].normalized[_][s];console[console.table?"table":"log"](i),console.groupEnd&&console.groupEnd()}k.isFunction(e)&&e(M)},getColumnText:function(t,e,n,r){var i,o,a,s,l,c,u,d,h,f,p="function"==typeof n,g="all"===e,m={raw:[],parsed:[],$cell:[]},y=(t=k(t)[0]).config;if(!N.isEmptyObject(y)){for(l=y.$tbodies.length,i=0;i<l;i++)for(c=(a=y.cache[i].normalized).length,o=0;o<c;o++)s=a[o],r&&!s[y.columns].$row.is(r)||(f=!0,d=g?s.slice(0,y.columns):s[e],s=s[y.columns],u=g?s.raw:s.raw[e],h=g?s.$row.children():s.$row.children().eq(e),p&&(f=n({tbodyIndex:i,rowIndex:o,parsed:d,raw:u,$row:s.$row,$cell:h})),!1!==f&&(m.parsed[m.parsed.length]=d,m.raw[m.raw.length]=u,m.$cell[m.$cell.length]=h));return m}N.debug(y,"core")&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(o){var t,e,n=o.sortList,r=n.length,i=N.css.sortNone+" "+o.cssNone,a=[N.css.sortAsc+" "+o.cssAsc,N.css.sortDesc+" "+o.cssDesc],s=[o.cssIconAsc,o.cssIconDesc,o.cssIconNone],l=["ascending","descending"],c=function(t,e){t.removeClass(i).addClass(a[e]).attr("aria-sort",l[e]).find("."+N.css.icon).removeClass(s[2]).addClass(s[e])},u=o.$table.find("tfoot tr").children("td, th").add(k(o.namespace+"_extra_headers")).removeClass(a.join(" ")),d=o.$headers.add(k("thead "+o.namespace+"_extra_headers")).removeClass(a.join(" ")).addClass(i).attr("aria-sort","none").find("."+N.css.icon).removeClass(s.join(" ")).end();for(d.not(".sorter-false").find("."+N.css.icon).addClass(s[2]),o.cssIconDisabled&&d.filter(".sorter-false").find("."+N.css.icon).addClass(o.cssIconDisabled),t=0;t<r;t++)if(2!==n[t][1]){if((d=(d=o.$headers.filter(function(t){for(var e=!0,n=o.$headers.eq(t),r=parseInt(n.attr("data-column"),10),i=r+N.getClosest(n,"th, td")[0].colSpan;r<i;r++)e=!!e&&(e||-1<N.isValueInArray(r,o.sortList));return e})).not(".sorter-false").filter('[data-column="'+n[t][0]+'"]'+(1===r?":last":""))).length)for(e=0;e<d.length;e++)d[e].sortDisabled||c(d.eq(e),n[t][1]);u.length&&c(u.filter('[data-column="'+n[t][0]+'"]'),n[t][1])}for(r=o.$headers.length,t=0;t<r;t++)N.setColumnAriaLabel(o,o.$headers.eq(t))},getClosest:function(t,e){return k.fn.closest?t.closest(e):t.is(e)?t:t.parents(e).filter(":first")},setColumnAriaLabel:function(t,e,n){if(e.length){var r=parseInt(e.attr("data-column"),10),i=t.sortVars[r],o=e.hasClass(N.css.sortAsc)?"sortAsc":e.hasClass(N.css.sortDesc)?"sortDesc":"sortNone",a=k.trim(e.text())+": "+N.language[o];e.hasClass("sorter-false")||!1===n?a+=N.language.sortDisabled:(o=(i.count+1)%i.order.length,n=i.order[o],a+=N.language[0===n?"nextAsc":1===n?"nextDesc":"nextNone"]),e.attr("aria-label",a),i.sortedBy?e.attr("data-sortedBy",i.sortedBy):e.removeAttr("data-sortedBy")}},updateHeader:function(t){var e,n,r,i,o=t.table,a=t.$headers.length;for(e=0;e<a;e++)r=t.$headers.eq(e),i=N.getColumnData(o,t.headers,e,!0),n="false"===N.getData(r,i,"sorter")||"false"===N.getData(r,i,"parser"),N.setColumnSort(t,r,n)},setColumnSort:function(t,e,n){var r=t.table.id;e[0].sortDisabled=n,e[n?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+n),t.tabIndex&&(n?e.removeAttr("tabindex"):e.attr("tabindex","0")),r&&(n?e.removeAttr("aria-controls"):e.attr("aria-controls",r))},updateHeaderSortCount:function(t,e){var n,r,i,o,a,s,l,c,u=e||t.sortList,d=u.length;for(t.sortList=[],o=0;o<d;o++)if(l=u[o],(n=parseInt(l[0],10))<t.columns){switch(t.sortVars[n].order||(c=N.getOrder(t.sortInitialOrder)?t.sortReset?[1,0,2]:[1,0]:t.sortReset?[0,1,2]:[0,1],t.sortVars[n].order=c,t.sortVars[n].count=0),c=t.sortVars[n].order,r=(r=(""+l[1]).match(/^(1|d|s|o|n)/))?r[0]:""){case"1":case"d":r=1;break;case"s":r=a||0;break;case"o":r=0===(s=c[(a||0)%c.length])?1:1===s?0:2;break;case"n":r=c[++t.sortVars[n].count%c.length];break;default:r=0}a=0===o?r:a,i=[n,parseInt(r,10)||0],t.sortList[t.sortList.length]=i,r=k.inArray(i[1],c),t.sortVars[n].count=0<=r?r:i[1]%c.length}},updateAll:function(t,e,n){var r=t.table;r.isUpdating=!0,N.refreshWidgets(r,!0,!0),N.buildHeaders(t),N.bindEvents(r,t.$headers,!0),N.bindMethods(t),N.commonUpdate(t,e,n)},update:function(t,e,n){t.table.isUpdating=!0,N.updateHeader(t),N.commonUpdate(t,e,n)},updateHeaders:function(t,e){t.table.isUpdating=!0,N.buildHeaders(t),N.bindEvents(t.table,t.$headers,!0),N.resortComplete(t,e)},updateCell:function(t,e,n,r){if(k(e).closest("tr").hasClass(t.cssChildRow))console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');else{if(N.isEmptyObject(t.cache))return N.updateHeader(t),void N.commonUpdate(t,n,r);t.table.isUpdating=!0,t.$table.find(t.selectorRemove).remove();var i,o,a,s,l,c,u=t.$tbodies,d=k(e),h=u.index(N.getClosest(d,"tbody")),f=t.cache[h],p=N.getClosest(d,"tr");if(e=d[0],u.length&&0<=h){if(a=u.eq(h).find("tr").not("."+t.cssChildRow).index(p),l=f.normalized[a],(c=p[0].cells.length)!==t.columns)for(i=!1,o=s=0;o<c;o++)i||p[0].cells[o]===e?i=!0:s+=p[0].cells[o].colSpan;else s=d.index();i=N.getElementText(t,e,s),l[t.columns].raw[s]=i,i=N.getParsedText(t,e,s,i),l[s]=i,"numeric"===(t.parsers[s].type||"").toLowerCase()&&(f.colMax[s]=Math.max(Math.abs(i)||0,f.colMax[s]||0)),!1!==(i="undefined"!==n?n:t.resort)?N.checkResort(t,i,r):N.resortComplete(t,r)}else N.debug(t,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),t.table.isUpdating=!1}},addRows:function(t,e,n,r){var i,o,a,s,l,c,u,d,h,f,p,g,m,y="string"==typeof e&&1===t.$tbodies.length&&/<tr/.test(e||""),v=t.table;if(y)e=k(e),t.$tbodies.append(e);else if(!(e&&e instanceof k&&N.getClosest(e,"table")[0]===t.table))return N.debug(t,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(v.isUpdating=!0,N.isEmptyObject(t.cache))N.updateHeader(t),N.commonUpdate(t,n,r);else{for(l=e.filter("tr").attr("role","row").length,a=t.$tbodies.index(e.parents("tbody").filter(":first")),t.parsers&&t.parsers.length||N.setupParsers(t),s=0;s<l;s++){for(h=0,u=e[s].cells.length,d=t.cache[a].normalized.length,p=[],f={child:[],raw:[],$row:e.eq(s),order:d},c=0;c<u;c++)g=e[s].cells[c],i=N.getElementText(t,g,h),f.raw[h]=i,o=N.getParsedText(t,g,h,i),p[h]=o,"numeric"===(t.parsers[h].type||"").toLowerCase()&&(t.cache[a].colMax[h]=Math.max(Math.abs(o)||0,t.cache[a].colMax[h]||0)),0<(m=g.colSpan-1)&&(h+=m),h++;p[t.columns]=f,t.cache[a].normalized[d]=p}N.checkResort(t,n,r)}},updateCache:function(t,e,n){t.parsers&&t.parsers.length||N.setupParsers(t,n),N.buildCache(t,e,n)},appendCache:function(t,e){var n,r,i,o,a,s,l,c=t.table,u=t.$tbodies,d=[],h=t.cache;if(N.isEmptyObject(h))return t.appender?t.appender(c,d):c.isUpdating?t.$table.triggerHandler("updateComplete",c):"";for(N.debug(t,"core")&&(l=new Date),s=0;s<u.length;s++)if((i=u.eq(s)).length){for(o=N.processTbody(c,i,!0),r=(n=h[s].normalized).length,a=0;a<r;a++)d[d.length]=n[a][t.columns].$row,t.appender&&(!t.pager||t.pager.removeRows||t.pager.ajax)||o.append(n[a][t.columns].$row);N.processTbody(c,o,!1)}t.appender&&t.appender(c,d),N.debug(t,"core")&&console.log("Rebuilt table"+N.benchmark(l)),e||t.appender||N.applyWidget(c),c.isUpdating&&t.$table.triggerHandler("updateComplete",c)},commonUpdate:function(t,e,n){t.$table.find(t.selectorRemove).remove(),N.setupParsers(t),N.buildCache(t),N.checkResort(t,e,n)},initSort:function(e,t,n){if(e.table.isUpdating)return setTimeout(function(){N.initSort(e,t,n)},50);var r,i,o,a,s,l,c,u=!n[e.sortMultiSortKey],d=e.table,h=e.$headers.length,f=N.getClosest(k(t),"th, td"),p=parseInt(f.attr("data-column"),10),g="mouseup"===n.type?"user":n.type,m=e.sortVars[p].order;if(f=f[0],e.$table.triggerHandler("sortStart",d),l=(e.sortVars[p].count+1)%m.length,e.sortVars[p].count=n[e.sortResetKey]?2:l,e.sortRestart)for(o=0;o<h;o++)c=e.$headers.eq(o),p!==(l=parseInt(c.attr("data-column"),10))&&(u||c.hasClass(N.css.sortNone))&&(e.sortVars[l].count=-1);if(u){if(k.each(e.sortVars,function(t){e.sortVars[t].sortedBy=""}),e.sortList=[],e.last.sortList=[],null!==e.sortForce)for(r=e.sortForce,i=0;i<r.length;i++)r[i][0]!==p&&(e.sortList[e.sortList.length]=r[i],e.sortVars[r[i][0]].sortedBy="sortForce");if((a=m[e.sortVars[p].count])<2&&(e.sortList[e.sortList.length]=[p,a],e.sortVars[p].sortedBy=g,1<f.colSpan))for(i=1;i<f.colSpan;i++)e.sortList[e.sortList.length]=[p+i,a],e.sortVars[p+i].count=k.inArray(a,m),e.sortVars[p+i].sortedBy=g}else if(e.sortList=k.extend([],e.last.sortList),0<=N.isValueInArray(p,e.sortList))for(e.sortVars[p].sortedBy=g,i=0;i<e.sortList.length;i++)(l=e.sortList[i])[0]===p&&(l[1]=m[e.sortVars[p].count],2===l[1]&&(e.sortList.splice(i,1),e.sortVars[p].count=-1));else if(a=m[e.sortVars[p].count],e.sortVars[p].sortedBy=g,a<2&&(e.sortList[e.sortList.length]=[p,a],1<f.colSpan))for(i=1;i<f.colSpan;i++)e.sortList[e.sortList.length]=[p+i,a],e.sortVars[p+i].count=k.inArray(a,m),e.sortVars[p+i].sortedBy=g;if(e.last.sortList=k.extend([],e.sortList),e.sortList.length&&e.sortAppend&&(r=k.isArray(e.sortAppend)?e.sortAppend:e.sortAppend[e.sortList[0][0]],!N.isEmptyObject(r)))for(i=0;i<r.length;i++)if(r[i][0]!==p&&N.isValueInArray(r[i][0],e.sortList)<0){if(s=(""+(a=r[i][1])).match(/^(a|d|s|o|n)/))switch(l=e.sortList[0][1],s[0]){case"d":a=1;break;case"s":a=l;break;case"o":a=0===l?1:0;break;case"n":a=(l+1)%m.length;break;default:a=0}e.sortList[e.sortList.length]=[r[i][0],a],e.sortVars[r[i][0]].sortedBy="sortAppend"}e.$table.triggerHandler("sortBegin",d),setTimeout(function(){N.setHeadersCss(e),N.multisort(e),N.appendCache(e),e.$table.triggerHandler("sortBeforeEnd",d),e.$table.triggerHandler("sortEnd",d)},1)},multisort:function(c){var t,e,u,n,d=c.table,h=[],f=0,p=c.textSorter||"",g=c.sortList,m=g.length,r=c.$tbodies.length;if(!c.serverSideSorting&&!N.isEmptyObject(c.cache)){if(N.debug(c,"core")&&(e=new Date),"object"==typeof p)for(u=c.columns;u--;)"function"==typeof(n=N.getColumnData(d,p,u))&&(h[u]=n);for(t=0;t<r;t++)u=c.cache[t].colMax,c.cache[t].normalized.sort(function(t,e){var n,r,i,o,a,s,l;for(n=0;n<m;n++){if(i=g[n][0],o=g[n][1],f=0===o,c.sortStable&&t[i]===e[i]&&1===m)return t[c.columns].order-e[c.columns].order;if((r=/n/i.test(N.getSortType(c.parsers,i)))&&c.strings[i]?(r="boolean"==typeof N.string[c.strings[i]]?(f?1:-1)*(N.string[c.strings[i]]?-1:1):c.strings[i]&&N.string[c.strings[i]]||0,a=c.numberSorter?c.numberSorter(t[i],e[i],f,u[i],d):N["sortNumeric"+(f?"Asc":"Desc")](t[i],e[i],r,u[i],i,c)):(s=f?t:e,l=f?e:t,a="function"==typeof p?p(s[i],l[i],f,i,d):"function"==typeof h[i]?h[i](s[i],l[i],f,i,d):N["sortNatural"+(f?"Asc":"Desc")](t[i]||"",e[i]||"",i,c)),a)return a}return t[c.columns].order-e[c.columns].order});N.debug(c,"core")&&console.log("Applying sort "+g.toString()+N.benchmark(e))}},resortComplete:function(t,e){t.table.isUpdating&&t.$table.triggerHandler("updateComplete",t.table),k.isFunction(e)&&e(t.table)},checkResort:function(t,e,n){var r=k.isArray(e)?e:t.sortList;!1===(void 0===e?t.resort:e)||t.serverSideSorting||t.table.isProcessing?(N.resortComplete(t,n),N.applyWidget(t.table,!1)):r.length?N.sortOn(t,r,function(){N.resortComplete(t,n)},!0):N.sortReset(t,function(){N.resortComplete(t,n),N.applyWidget(t.table,!1)})},sortOn:function(t,e,n,r){var i,o=t.table;for(t.$table.triggerHandler("sortStart",o),i=0;i<t.columns;i++)t.sortVars[i].sortedBy=-1<N.isValueInArray(i,e)?"sorton":"";N.updateHeaderSortCount(t,e),N.setHeadersCss(t),t.delayInit&&N.isEmptyObject(t.cache)&&N.buildCache(t),t.$table.triggerHandler("sortBegin",o),N.multisort(t),N.appendCache(t,r),t.$table.triggerHandler("sortBeforeEnd",o),t.$table.triggerHandler("sortEnd",o),N.applyWidget(o),k.isFunction(n)&&n(o)},sortReset:function(t,e){var n;for(t.sortList=[],n=0;n<t.columns;n++)t.sortVars[n].count=-1,t.sortVars[n].sortedBy="";N.setHeadersCss(t),N.multisort(t),N.appendCache(t),k.isFunction(e)&&e(t.table)},getSortType:function(t,e){return t&&t[e]&&t[e].type||""},getOrder:function(t){return/^d/i.test(t)||1===t},sortNatural:function(t,e){if(t===e)return 0;t=(t||"").toString(),e=(e||"").toString();var n,r,i,o,a,s,l=N.regex;if(l.hex.test(e)){if((n=parseInt(t.match(l.hex),16))<(r=parseInt(e.match(l.hex),16)))return-1;if(r<n)return 1}for(n=t.replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),r=e.replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),s=Math.max(n.length,r.length),a=0;a<s;a++){if(i=isNaN(n[a])?n[a]||0:parseFloat(n[a])||0,o=isNaN(r[a])?r[a]||0:parseFloat(r[a])||0,isNaN(i)!==isNaN(o))return isNaN(i)?1:-1;if(typeof i!=typeof o&&(i+="",o+=""),i<o)return-1;if(o<i)return 1}return 0},sortNaturalAsc:function(t,e,n,r){if(t===e)return 0;var i=N.string[r.empties[n]||r.emptyTo];return""===t&&0!==i?"boolean"==typeof i?i?-1:1:-i||-1:""===e&&0!==i?"boolean"==typeof i?i?1:-1:i||1:N.sortNatural(t,e)},sortNaturalDesc:function(t,e,n,r){if(t===e)return 0;var i=N.string[r.empties[n]||r.emptyTo];return""===t&&0!==i?"boolean"==typeof i?i?-1:1:i||1:""===e&&0!==i?"boolean"==typeof i?i?1:-1:-i||-1:N.sortNatural(e,t)},sortText:function(t,e){return e<t?1:t<e?-1:0},getTextValue:function(t,e,n){if(n){var r,i=t?t.length:0,o=n+e;for(r=0;r<i;r++)o+=t.charCodeAt(r);return e*o}return 0},sortNumericAsc:function(t,e,n,r,i,o){if(t===e)return 0;var a=N.string[o.empties[i]||o.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===e&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(t)&&(t=N.getTextValue(t,n,r)),isNaN(e)&&(e=N.getTextValue(e,n,r)),t-e)},sortNumericDesc:function(t,e,n,r,i,o){if(t===e)return 0;var a=N.string[o.empties[i]||o.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===e&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(t)&&(t=N.getTextValue(t,n,r)),isNaN(e)&&(e=N.getTextValue(e,n,r)),e-t)},sortNumeric:function(t,e){return t-e},addWidget:function(t){t.id&&!N.isEmptyObject(N.getWidgetById(t.id))&&console.warn('"'+t.id+'" widget was loaded more than once!'),N.widgets[N.widgets.length]=t},hasWidget:function(t,e){return(t=k(t)).length&&t[0].config&&t[0].config.widgetInit[e]||!1},getWidgetById:function(t){var e,n,r=N.widgets.length;for(e=0;e<r;e++)if((n=N.widgets[e])&&n.id&&n.id.toLowerCase()===t.toLowerCase())return n},applyWidgetOptions:function(t){var e,n,r,i=t.config,o=i.widgets.length;if(o)for(e=0;e<o;e++)(n=N.getWidgetById(i.widgets[e]))&&n.options&&(r=k.extend(!0,{},n.options),i.widgetOptions=k.extend(!0,r,i.widgetOptions),k.extend(!0,N.defaults.widgetOptions,n.options))},addWidgetFromClass:function(t){var e,n,r=t.config,i="^"+r.widgetClass.replace(N.regex.templateName,"(\\S+)+")+"$",o=new RegExp(i,"g"),a=(t.className||"").split(N.regex.spaces);if(a.length)for(e=a.length,n=0;n<e;n++)a[n].match(o)&&(r.widgets[r.widgets.length]=a[n].replace(o,"$1"))},applyWidgetId:function(t,e,n){var r,i,o,a=(t=k(t)[0]).config,s=a.widgetOptions,l=N.debug(a,"core"),c=N.getWidgetById(e);c&&(o=c.id,r=!1,k.inArray(o,a.widgets)<0&&(a.widgets[a.widgets.length]=o),l&&(i=new Date),!n&&a.widgetInit[o]||(a.widgetInit[o]=!0,t.hasInitialized&&N.applyWidgetOptions(t),"function"==typeof c.init&&(r=!0,l&&console[console.group?"group":"log"]("Initializing "+o+" widget"),c.init(t,c,a,s))),n||"function"!=typeof c.format||(r=!0,l&&console[console.group?"group":"log"]("Updating "+o+" widget"),c.format(t,a,s,!1)),l&&r&&(console.log("Completed "+(n?"initializing ":"applying ")+o+" widget"+N.benchmark(i)),console.groupEnd&&console.groupEnd()))},applyWidget:function(t,e,n){var r,i,o,a,s,l=(t=k(t)[0]).config,c=N.debug(l,"core"),u=[];if(!1===e||!t.hasInitialized||!t.isApplyingWidgets&&!t.isUpdating){if(c&&(s=new Date),N.addWidgetFromClass(t),clearTimeout(l.timerReady),l.widgets.length){for(t.isApplyingWidgets=!0,l.widgets=k.grep(l.widgets,function(t,e){return k.inArray(t,l.widgets)===e}),i=(o=l.widgets||[]).length,r=0;r<i;r++)(a=N.getWidgetById(o[r]))&&a.id?(a.priority||(a.priority=10),u[r]=a):c&&console.warn('"'+o[r]+'" was enabled, but the widget code has not been loaded!');for(u.sort(function(t,e){return t.priority<e.priority?-1:t.priority===e.priority?0:1}),i=u.length,c&&console[console.group?"group":"log"]("Start "+(e?"initializing":"applying")+" widgets"),r=0;r<i;r++)(a=u[r])&&a.id&&N.applyWidgetId(t,a.id,e);c&&console.groupEnd&&console.groupEnd()}l.timerReady=setTimeout(function(){t.isApplyingWidgets=!1,k.data(t,"lastWidgetApplication",new Date),l.$table.triggerHandler("tablesorter-ready"),e||"function"!=typeof n||n(t),c&&(a=l.widgets.length,console.log("Completed "+(!0===e?"initializing ":"applying ")+a+" widget"+(1!==a?"s":"")+N.benchmark(s)))},10)}},removeWidget:function(t,e,n){var r,i,o,a,s=(t=k(t)[0]).config;if(!0===e)for(e=[],a=N.widgets.length,o=0;o<a;o++)(i=N.widgets[o])&&i.id&&(e[e.length]=i.id);else e=(k.isArray(e)?e.join(","):e||"").toLowerCase().split(/[\s,]+/);for(a=e.length,r=0;r<a;r++)i=N.getWidgetById(e[r]),0<=(o=k.inArray(e[r],s.widgets))&&!0!==n&&s.widgets.splice(o,1),i&&i.remove&&(N.debug(s,"core")&&console.log((n?"Refreshing":"Removing")+' "'+e[r]+'" widget'),i.remove(t,s,s.widgetOptions,n),s.widgetInit[e[r]]=!1);s.$table.triggerHandler("widgetRemoveEnd",t)},refreshWidgets:function(t,e,n){var r,i,o=(t=k(t)[0]).config.widgets,a=N.widgets,s=a.length,l=[],c=function(t){k(t).triggerHandler("refreshComplete")};for(r=0;r<s;r++)(i=a[r])&&i.id&&(e||k.inArray(i.id,o)<0)&&(l[l.length]=i.id);N.removeWidget(t,l.join(","),!0),!0!==n?(N.applyWidget(t,e||!1,c),e&&N.applyWidget(t,!1,c)):c(t)},benchmark:function(t){return" ("+((new Date).getTime()-t.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(t,e){return t&&(!0===t.debug||"string"==typeof t.debug&&-1<t.debug.indexOf(e))},isEmptyObject:function(t){for(var e in t)return!1;return!0},isValueInArray:function(t,e){var n,r=e&&e.length||0;for(n=0;n<r;n++)if(e[n][0]===t)return n;return-1},formatFloat:function(t,e){return"string"!=typeof t||""===t?t:(t=(e&&e.config?!1!==e.config.usNumberFormat:void 0===e||e)?t.replace(N.regex.comma,""):t.replace(N.regex.digitNonUS,"").replace(N.regex.comma,"."),N.regex.digitNegativeTest.test(t)&&(t=t.replace(N.regex.digitNegativeReplace,"-$1")),n=parseFloat(t),isNaN(n)?k.trim(t):n);var n},isDigit:function(t){return isNaN(t)?N.regex.digitTest.test(t.toString().replace(N.regex.digitReplace,"")):""!==t},computeColumnIndex:function(t,e){var n,r,i,o,a,s,l,c,u,d,h=e&&e.columns||0,f=[],p=new Array(h);for(n=0;n<t.length;n++)for(s=t[n].cells,r=0;r<s.length;r++){for(l=n,c=(a=s[r]).rowSpan||1,u=a.colSpan||1,"undefined"==typeof f[l]&&(f[l]=[]),i=0;i<f[l].length+1;i++)if("undefined"==typeof f[l][i]){d=i;break}for(h&&a.cellIndex===d||(a.setAttribute?a.setAttribute("data-column",d):k(a).attr("data-column",d)),i=l;i<l+c;i++)for("undefined"==typeof f[i]&&(f[i]=[]),p=f[i],o=d;o<d+u;o++)p[o]="x"}return N.checkColumnCount(t,f,p.length),p.length},checkColumnCount:function(t,e,n){var r,i,o=!0,a=[];for(r=0;r<e.length;r++)if(e[r]&&(i=e[r].length,e[r].length!==n)){o=!1;break}o||(t.each(function(t,e){var n=e.parentElement.nodeName;a.indexOf(n)<0&&a.push(n)}),console.error("Invalid or incorrect number of columns in the "+a.join(" or ")+"; expected "+n+", but found "+i+" columns"))},fixColumnWidth:function(t){var e,n,r,i,o,a=(t=k(t)[0]).config,s=a.$table.children("colgroup");if(s.length&&s.hasClass(N.css.colgroup)&&s.remove(),a.widthFixed&&0===a.$table.children("colgroup").length){for(s=k('<colgroup class="'+N.css.colgroup+'">'),e=a.$table.width(),i=(r=a.$tbodies.find("tr:first").children(":visible")).length,o=0;o<i;o++)n=parseInt(r.eq(o).width()/e*1e3,10)/10+"%",s.append(k("<col>").css("width",n));a.$table.prepend(s)}},getData:function(t,e,n){var r,i,o="",a=k(t);return a.length?(r=!!k.metadata&&a.metadata(),i=" "+(a.attr("class")||""),void 0!==a.data(n)||void 0!==a.data(n.toLowerCase())?o+=a.data(n)||a.data(n.toLowerCase()):r&&"undefined"!=typeof r[n]?o+=r[n]:e&&"undefined"!=typeof e[n]?o+=e[n]:" "!==i&&i.match(" "+n+"-")&&(o=i.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),k.trim(o)):""},getColumnData:function(t,e,n,r,i){if("object"!=typeof e||null===e)return e;var o,a=(t=k(t)[0]).config,s=i||a.$headers,l=a.$headerIndexed&&a.$headerIndexed[n]||s.find('[data-column="'+n+'"]:last');if("undefined"!=typeof e[n])return r?e[n]:e[s.index(l)];for(o in e)if("string"==typeof o&&l.filter(o).add(l.find(o)).length)return e[o]},isProcessing:function(t,e,n){var r=(t=k(t))[0].config,i=n||t.find("."+N.css.header);e?(void 0!==n&&0<r.sortList.length&&(i=i.filter(function(){return!this.sortDisabled&&0<=N.isValueInArray(parseFloat(k(this).attr("data-column")),r.sortList)})),t.add(i).addClass(N.css.processing+" "+r.cssProcessing)):t.add(i).removeClass(N.css.processing+" "+r.cssProcessing)},processTbody:function(t,e,n){if(t=k(t)[0],n)return t.isProcessing=!0,e.before('<colgroup class="tablesorter-savemyplace"/>'),k.fn.detach?e.detach():e.remove();var r=k(t).find("colgroup.tablesorter-savemyplace");e.insertAfter(r),r.remove(),t.isProcessing=!1},clearTableBody:function(t){k(t)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6\u014d",O:"\xd3\xd2\xd4\xd5\xd6\u014c",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},replaceAccents:function(t){var e,n="[",r=N.characterEquivalents;if(!N.characterRegex){for(e in N.characterRegexArray={},r)"string"==typeof e&&(n+=r[e],N.characterRegexArray[e]=new RegExp("["+r[e]+"]","g"));N.characterRegex=new RegExp(n+"]")}if(N.characterRegex.test(t))for(e in r)"string"==typeof e&&(t=t.replace(N.characterRegexArray[e],e));return t},validateOptions:function(t){var e,n,r,i,o="headers sortForce sortList sortAppend widgets".split(" "),a=t.originalSettings;if(a){for(e in N.debug(t,"core")&&(i=new Date),a)if("undefined"===(r=typeof N.defaults[e]))console.warn('Tablesorter Warning! "table.config.'+e+'" option not recognized');else if("object"===r)for(n in a[e])r=N.defaults[e]&&typeof N.defaults[e][n],k.inArray(e,o)<0&&"undefined"===r&&console.warn('Tablesorter Warning! "table.config.'+e+"."+n+'" option not recognized');N.debug(t,"core")&&console.log("validate options time:"+N.benchmark(i))}},restoreHeaders:function(t){var e,n,r=k(t)[0].config,i=r.$table.find(r.selectorHeaders),o=i.length;for(e=0;e<o;e++)(n=i.eq(e)).find("."+N.css.headerIn).length&&n.html(r.headerContent[e])},destroy:function(t,e,n){if((t=k(t)[0]).hasInitialized){N.removeWidget(t,!0,!1);var r,i=k(t),o=t.config,a=i.find("thead:first"),s=a.find("tr."+N.css.headerRow).removeClass(N.css.headerRow+" "+o.cssHeaderRow),l=i.find("tfoot:first > tr").children("th, td");!1===e&&0<=k.inArray("uitheme",o.widgets)&&(i.triggerHandler("applyWidgetId",["uitheme"]),i.triggerHandler("applyWidgetId",["zebra"])),a.find("tr").not(s).remove(),r="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(o.namespace+" "),i.removeData("tablesorter").unbind(r.replace(N.regex.spaces," ")),o.$headers.add(l).removeClass([N.css.header,o.cssHeader,o.cssAsc,o.cssDesc,N.css.sortAsc,N.css.sortDesc,N.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),s.find(o.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(o.namespace+" ").replace(N.regex.spaces," ")),N.restoreHeaders(t),i.toggleClass(N.css.table+" "+o.tableClass+" tablesorter-"+o.theme,!1===e),i.removeClass(o.namespace.slice(1)),t.hasInitialized=!1,delete t.config.cache,"function"==typeof n&&n(t),N.debug(o,"core")&&console.log("tablesorter has been removed")}}};k.fn.tablesorter=function(n){return this.each(function(){var t=this,e=k.extend(!0,{},N.defaults,n,N.instanceMethods);e.originalSettings=n,!t.hasInitialized&&N.buildTable&&"TABLE"!==this.nodeName?N.buildTable(t,e):N.setup(t,e)})},window.console&&window.console.log||(
N.logs=[],console={},console.log=console.warn=console.error=console.table=function(t){var e=1<arguments.length?arguments:t;N.logs[N.logs.length]={date:Date.now(),log:e}}),N.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),N.addParser({id:"text",is:function(){return!0},format:function(t,e){var n=e.config;return t&&(t=k.trim(n.ignoreCase?t.toLocaleLowerCase():t),t=n.sortLocaleCompare?N.replaceAccents(t):t),t},type:"text"}),N.regex.nondigit=/[^\w,. \-()]/g,N.addParser({id:"digit",is:function(t){return N.isDigit(t)},format:function(t,e){var n=N.formatFloat((t||"").replace(N.regex.nondigit,""),e);return t&&"number"==typeof n?n:t?k.trim(t&&e.config.ignoreCase?t.toLocaleLowerCase():t):t},type:"numeric"}),N.regex.currencyReplace=/[+\-,. ]/g,N.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,N.addParser({id:"currency",is:function(t){return t=(t||"").replace(N.regex.currencyReplace,""),N.regex.currencyTest.test(t)},format:function(t,e){var n=N.formatFloat((t||"").replace(N.regex.nondigit,""),e);return t&&"number"==typeof n?n:t?k.trim(t&&e.config.ignoreCase?t.toLocaleLowerCase():t):t},type:"numeric"}),N.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,N.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,N.addParser({id:"url",is:function(t){return N.regex.urlProtocolTest.test(t)},format:function(t){return t?k.trim(t.replace(N.regex.urlProtocolReplace,"")):t},type:"text"}),N.regex.dash=/-/g,N.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,N.addParser({id:"isoDate",is:function(t){return N.regex.isoDate.test(t)},format:function(t){var e=t?new Date(t.replace(N.regex.dash,"/")):t;return e instanceof Date&&isFinite(e)?e.getTime():t},type:"numeric"}),N.regex.percent=/%/g,N.regex.percentTest=/(\d\s*?%|%\s*?\d)/,N.addParser({id:"percent",is:function(t){return N.regex.percentTest.test(t)&&t.length<15},format:function(t,e){return t?N.formatFloat(t.replace(N.regex.percent,""),e):t},type:"numeric"}),N.addParser({id:"image",is:function(t,e,n,r){return 0<r.find("img").length},format:function(t,e,n){return k(n).find("img").attr(e.config.imgAttr||"alt")||t},parsed:!0,type:"text"}),N.regex.dateReplace=/(\S)([AP]M)$/i,N.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,N.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,N.addParser({id:"usLongDate",is:function(t){return N.regex.usLongDateTest1.test(t)||N.regex.usLongDateTest2.test(t)},format:function(t){var e=t?new Date(t.replace(N.regex.dateReplace,"$1 $2")):t;return e instanceof Date&&isFinite(e)?e.getTime():t},type:"numeric"}),N.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,N.regex.shortDateReplace=/[\-.,]/g,N.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,N.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,N.convertFormat=function(t,e){t=(t||"").replace(N.regex.spaces," ").replace(N.regex.shortDateReplace,"/"),"mmddyyyy"===e?t=t.replace(N.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===e?t=t.replace(N.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===e&&(t=t.replace(N.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(t);return n instanceof Date&&isFinite(n)?n.getTime():""},N.addParser({id:"shortDate",is:function(t){return t=(t||"").replace(N.regex.spaces," ").replace(N.regex.shortDateReplace,"/"),N.regex.shortDateTest.test(t)},format:function(t,e,n,r){if(t){var i=e.config,o=i.$headerIndexed[r],a=o.length&&o.data("dateFormat")||N.getData(o,N.getColumnData(e,i.headers,r),"dateFormat")||i.dateFormat;return o.length&&o.data("dateFormat",a),N.convertFormat(t,a)||t}return t},type:"numeric"}),N.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,N.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,N.addParser({id:"time",is:function(t){return N.regex.timeTest.test(t)},format:function(t){var e=(t||"").match(N.regex.timeMatch),n=new Date(t),r=t&&(null!==e?e[0]:"00:00 AM"),i=r?new Date("2000/01/01 "+r.replace(N.regex.dateReplace,"$1 $2")):r;return i instanceof Date&&isFinite(i)?(n instanceof Date&&isFinite(n)?n.getTime():0)?parseFloat(i.getTime()+"."+n.getTime()):i.getTime():t},type:"numeric"}),N.addParser({id:"metadata",is:function(){return!1},format:function(t,e,n){var r=e.config,i=r.parserMetadataName?r.parserMetadataName:"sortValue";return k(n).metadata()[i]},type:"numeric"}),N.addWidget({id:"zebra",priority:90,format:function(t,e,n){var r,i,o,a,s,l,c,u=new RegExp(e.cssChildRow,"i"),d=e.$tbodies.add(k(e.namespace+"_extra_table").children("tbody:not(."+e.cssInfoBlock+")"));for(s=0;s<d.length;s++)for(o=0,c=(r=d.eq(s).children("tr:visible").not(e.selectorRemove)).length,l=0;l<c;l++)i=r.eq(l),u.test(i[0].className)||o++,a=o%2==0,i.removeClass(n.zebra[a?1:0]).addClass(n.zebra[a?0:1])},remove:function(t,e,n,r){if(!r){var i,o,a=e.$tbodies,s=(n.zebra||["even","odd"]).join(" ");for(i=0;i<a.length;i++)(o=N.processTbody(t,a.eq(i),!0)).children().removeClass(s),N.processTbody(t,o,!1)}}})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return function(v,b,_){"use strict";var w=v.tablesorter||{};v.extend(!0,w.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),w.storage=function(t,e,n,r){var i,o,a,s=!1,l={},c=(t=v(t)[0]).config,u=c&&c.widgetOptions,d=w.debug(c,"storage"),h=(r&&r.storageType||u&&u.storage_storageType).toString().charAt(0).toLowerCase(),f=h?"":r&&r.useSessionStorage||u&&u.storage_useSessionStorage,p=v(t),g=r&&r.id||p.attr(r&&r.group||u&&u.storage_group||"data-table-group")||u&&u.storage_tableId||t.id||v(".tablesorter").index(p),m=r&&r.url||p.attr(r&&r.page||u&&u.storage_page||"data-table-page")||u&&u.storage_fixedUrl||c&&c.fixedUrl||b.location.pathname;if("c"!==h&&(h="s"===h||f?"sessionStorage":"localStorage")in b)try{b[h].setItem("_tmptest","temp"),s=!0,b[h].removeItem("_tmptest")}catch(y){console.warn(h+" is not supported in this browser")}if(d&&console.log("Storage >> Using",s?h:"cookies"),v.parseJSON&&(s?l=v.parseJSON(b[h][e]||"null")||{}:(o=_.cookie.split(/[;\s|=]/),l=0!==(i=v.inArray(e,o)+1)&&v.parseJSON(o[i]||"null")||{})),void 0===n||!b.JSON||!JSON.hasOwnProperty("stringify"))return l&&l[m]?l[m][g]:"";l[m]||(l[m]={}),l[m][g]=n,s?b[h][e]=JSON.stringify(l):((a=new Date).setTime(a.getTime()+31536e6),_.cookie=e+"="+JSON.stringify(l).replace(/\"/g,'"')+"; expires="+a.toGMTString()+"; path=/")}}(t,window,document),function(T){"use strict";var M=T.tablesorter||{};M.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},T.extend(M.css,{wrapper:"tablesorter-wrapper"}),M.addWidget({id:"uitheme",priority:10,format:function(t,e,n){var r,i,o,a,s,l,c,u,d,h,f,p,g,m=M.themes,y=e.$table.add(T(e.namespace+"_extra_table")),v=e.$headers.add(T(e.namespace+"_extra_headers")),b=e.theme||"jui",_=m[b]||{},w=T.trim([_.sortNone,_.sortDesc,_.sortAsc,_.active].join(" ")),x=T.trim([_.iconSortNone,_.iconSortDesc,_.iconSortAsc].join(" ")),C=M.debug(e,"uitheme");for(C&&(s=new Date),y.hasClass("tablesorter-"+b)&&e.theme===e.appliedTheme&&n.uitheme_applied||(n.uitheme_applied=!0,h=m[e.appliedTheme]||{},f=(g=!T.isEmptyObject(h))?[h.sortNone,h.sortDesc,h.sortAsc,h.active].join(" "):"",p=g?[h.iconSortNone,h.iconSortDesc,h.iconSortAsc].join(" "):"",g&&(n.zebra[0]=T.trim(" "+n.zebra[0].replace(" "+h.even,"")),n.zebra[1]=T.trim(" "+n.zebra[1].replace(" "+h.odd,"")),e.$tbodies.children().removeClass([h.even,h.odd].join(" "))),_.even&&(n.zebra[0]+=" "+_.even),_.odd&&(n.zebra[1]+=" "+_.odd),y.children("caption").removeClass(h.caption||"").addClass(_.caption),u=y.removeClass((e.appliedTheme?"tablesorter-"+(e.appliedTheme||""):"")+" "+(h.table||"")).addClass("tablesorter-"+b+" "+(_.table||"")).children("tfoot"),e.appliedTheme=e.theme,u.length&&u.children("tr").removeClass(h.footerRow||"").addClass(_.footerRow).children("th, td").removeClass(h.footerCells||"").addClass(_.footerCells),v.removeClass((g?[h.header,h.hover,f].join(" "):"")||"").addClass(_.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){T(this)["mouseenter"===t.type?"addClass":"removeClass"](_.hover||"")}),v.each(function(){var t=T(this);t.find("."+M.css.wrapper).length||t.wrapInner('<div class="'+M.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),e.cssIcon&&v.find("."+M.css.icon).removeClass(g?[h.icons,p].join(" "):"").addClass(_.icons||""),M.hasWidget(e.table,"filter")&&(i=function(){y.children("thead").children("."+M.css.filterRow).removeClass(g&&h.filterRow||"").addClass(_.filterRow||"")},n.filter_initialized?i():y.one("filterInit",function(){i()}))),r=0;r<e.columns;r++)l=e.$headers.add(T(e.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+r+'"]'),c=M.css.icon?l.find("."+M.css.icon):T(),(d=v.not(".sorter-false").filter('[data-column="'+r+'"]:last')).length&&(l.removeClass(w),c.removeClass(x),d[0].sortDisabled?c.removeClass(_.icons||""):(o=_.sortNone,a=_.iconSortNone,d.hasClass(M.css.sortAsc)?(o=[_.sortAsc,_.active].join(" "),a=_.iconSortAsc):d.hasClass(M.css.sortDesc)&&(o=[_.sortDesc,_.active].join(" "),a=_.iconSortDesc),l.addClass(o),c.addClass(a||"")));C&&console.log("uitheme >> Applied "+b+" theme"+M.benchmark(s))},remove:function(t,e,n,r){if(n.uitheme_applied){var i=e.$table,o=e.appliedTheme||"jui",a=M.themes[o]||M.themes.jui,s=i.children("thead").children(),l=a.sortNone+" "+a.sortDesc+" "+a.sortAsc,c=a.iconSortNone+" "+a.iconSortDesc+" "+a.iconSortAsc;i.removeClass("tablesorter-"+o+" "+a.table),n.uitheme_applied=!1,r||(i.find(M.css.header).removeClass(a.header),s.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(a.hover+" "+l+" "+a.active).filter("."+M.css.filterRow).removeClass(a.filterRow),s.find("."+M.css.icon).removeClass(a.icons+" "+c))}}})}(t),function(y){"use strict";var v=y.tablesorter||{};v.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(t,e,n){var r,i,o,a,s,l,c,u,d=e.$table,h=e.$tbodies,f=e.sortList,p=f.length,g=n&&n.columns||["primary","secondary","tertiary"],m=g.length-1;for(c=g.join(" "),i=0;i<h.length;i++)(o=(r=v.processTbody(t,h.eq(i),!0)).children("tr")).each(function(){if(s=y(this),"none"!==this.style.display&&(l=s.children().removeClass(c),f&&f[0]&&(l.eq(f[0][0]).addClass(g[0]),1<p)))for(u=1;u<p;u++)l.eq(f[u][0]).addClass(g[u]||g[m])}),v.processTbody(t,r,!1);if(a=!1!==n.columns_thead?["thead tr"]:[],!1!==n.columns_tfoot&&a.push("tfoot tr"),a.length&&(o=d.find(a.join(",")).children().removeClass(c),p))for(u=0;u<p;u++)o.filter('[data-column="'+f[u][0]+'"]').addClass(g[u]||g[m])},remove:function(t,e,n){var r,i,o=e.$tbodies,a=(n.columns||["primary","secondary","tertiary"]).join(" ");for(e.$headers.removeClass(a),e.$table.children("tfoot").children("tr").children("th, td").removeClass(a),r=0;r<o.length;r++)(i=v.processTbody(t,o.eq(r),!0)).children("tr").each(function(){y(this).children().removeClass(a)}),v.processTbody(t,i,!1)}})}(t),function(L){"use strict";var R,F,z=L.tablesorter||{},y=z.css,l=z.keyCodes;L.extend(y,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),L.extend(l,{backSpace:8,escape:27,space:32,left:37,down:40}),z.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(t,e,n){e.$table.hasClass("hasFilters")||R.init(t,e,n)},remove:function(t,e,n,r){var i,o,a=e.$table,s=e.$tbodies,l="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(e.namespace+"filter ");if(a.removeClass("hasFilters").unbind(l.replace(z.regex.spaces," ")).find("."+y.filterRow).remove(),n.filter_initialized=!1,!r){for(i=0;i<s.length;i++)(o=z.processTbody(t,s.eq(i),!0)).children().removeClass(n.filter_filteredRow).show(),z.processTbody(t,o,!1);n.filter_reset&&L(document).undelegate(n.filter_reset,"click"+e.namespace+"filter")}}}),F=(R=z.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(t,e,n){if(!F.orTest.test(e.iFilter)&&!F.orSplit.test(e.filter)||F.regex.test(e.filter))return null;var r,i,o,a=L.extend({},e),s=e.filter.split(F.orSplit),l=e.iFilter.split(F.orSplit),c=s.length;for(r=0;r<c;r++){a.nestedFilters=!0,a.filter=""+(R.parseFilter(t,s[r],e)||""),a.iFilter=""+(R.parseFilter(t,l[r],e)||""),o="("+(R.parseFilter(t,a.filter,e)||"")+")";try{if(i=new RegExp(e.isMatch?o:"^"+o+"$",t.widgetOptions.filter_ignoreCase?"i":"").test(a.exact)||R.processTypes(t,a,n))return i}catch(u){return null}}return i||!1},and:function(t,e,n){if(F.andTest.test(e.filter)){var r,i,o,a,s=L.extend({},e),l=e.filter.split(F.andSplit),c=e.iFilter.split(F.andSplit),u=l.length;for(r=0;r<u;r++){s.nestedFilters=!0,s.filter=""+(R.parseFilter(t,l[r],e)||""),s.iFilter=""+(R.parseFilter(t,c[r],e)||""),a=("("+(R.parseFilter(t,s.filter,e)||"")+")").replace(F.wild01,"\\S{1}").replace(F.wild0More,"\\S*");try{o=new RegExp(e.isMatch?a:"^"+a+"$",t.widgetOptions.filter_ignoreCase?"i":"").test(s.exact)||R.processTypes(t,s,n),i=0===r?o:i&&o}catch(d){return null}}return i||!1}return null},regex:function(t,e){if(F.regex.test(e.filter)){var n,r=e.filter_regexCache[e.index]||F.regex.exec(e.filter),i=r instanceof RegExp;try{i||(e.filter_regexCache[e.index]=r=new RegExp(r[1],r[2])),n=r.test(e.exact)}catch(o){n=!1}return n}return null},operators:function(t,e){if(F.operTest.test(e.iFilter)&&""!==e.iExact){var n,r,i,o=t.table,a=e.parsed[e.index],s=z.formatFloat(e.iFilter.replace(F.operators,""),o),l=t.parsers[e.index]||{},c=s;return(a||"numeric"===l.type)&&(i=L.trim(""+e.iFilter.replace(F.operators,"")),s="number"!=typeof(r=R.parseFilter(t,i,e,!0))||""===r||isNaN(r)?s:r),!a&&"numeric"!==l.type||isNaN(s)||"undefined"==typeof e.cache?(i=isNaN(e.iExact)?e.iExact.replace(z.regex.nondigit,""):e.iExact,n=z.formatFloat(i,o)):n=e.cache,F.gtTest.test(e.iFilter)?r=F.gteTest.test(e.iFilter)?s<=n:s<n:F.ltTest.test(e.iFilter)&&(r=F.lteTest.test(e.iFilter)?n<=s:n<s),r||""!==c||(r=!0),r}return null},notMatch:function(t,e){if(F.notTest.test(e.iFilter)){var n,r=e.iFilter.replace("!",""),i=R.parseFilter(t,r,e)||"";return F.exact.test(i)?""===(i=i.replace(F.exact,""))||L.trim(i)!==e.iExact:(n=e.iExact.search(L.trim(i)),""===i||(e.anyMatch?n<0:!(t.widgetOptions.filter_startsWith?0===n:0<=n)))}return null},exact:function(t,e){if(F.exact.test(e.iFilter)){var n=e.iFilter.replace(F.exact,""),r=R.parseFilter(t,n,e)||"";return e.anyMatch?0<=L.inArray(r,e.rowArray):r==e.iExact}return null},range:function(t,e){if(F.toTest.test(e.iFilter)){var n,r,i,o,a=t.table,s=e.index,l=e.parsed[s],c=e.iFilter.split(F.toSplit);return r=c[0].replace(z.regex.nondigit,"")||"",i=z.formatFloat(R.parseFilter(t,r,e),a),r=c[1].replace(z.regex.nondigit,"")||"",o=z.formatFloat(R.parseFilter(t,r,e),a),(l||"numeric"===t.parsers[s].type)&&(i=""===(n=t.parsers[s].format(""+c[0],a,t.$headers.eq(s),s))||isNaN(n)?i:n,o=""===(n=t.parsers[s].format(""+c[1],a,t.$headers.eq(s),s))||isNaN(n)?o:n),!l&&"numeric"!==t.parsers[s].type||isNaN(i)||isNaN(o)?(r=isNaN(e.iExact)?e.iExact.replace(z.regex.nondigit,""):e.iExact,n=z.formatFloat(r,a)):n=e.cache,o<i&&(r=i,i=o,o=r),i<=n&&n<=o||""===i||""===o}return null},wild:function(t,e){if(F.wildOrTest.test(e.iFilter)){var n=""+(R.parseFilter(t,e.iFilter,e)||"");!F.wildTest.test(n)&&e.nestedFilters&&(n=e.isMatch?n:"^("+n+")$");try{return new RegExp(n.replace(F.wild01,"\\S{1}").replace(F.wild0More,"\\S*"),t.widgetOptions.filter_ignoreCase?"i":"").test(e.exact)}catch(r){return null}}return null},fuzzy:function(t,e){if(F.fuzzyTest.test(e.iFilter)){var n,r=0,i=e.iExact.length,o=e.iFilter.slice(1),a=R.parseFilter(t,o,e)||"";for(n=0;n<i;n++)e.iExact[n]===a[r]&&(r+=1);return r===a.length}return null}},init:function(n){z.language=L.extend(!0,{},{to:"to",or:"or",and:"and"},z.language);var t,e,r,i,o,a,s,l,c=n.config,u=c.widgetOptions,d=function(t,e,n){return""===(e=e.trim())?"":(t||"")+e+(n||"")};if(c.$table.addClass("hasFilters"),c.lastSearch=[],u.filter_searchTimer=null,u.filter_initTimer=null,u.filter_formatterCount=0,u.filter_formatterInit=[],u.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',u.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',a="\\{"+F.query+"\\}",L.extend(F,{child:new RegExp(c.cssChildRow),filtered:new RegExp(u.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+d("|",z.language.or)+d("|",z.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+d("|",z.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+d("|",z.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+d("",z.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+d("",z.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+d("|\\s+",z.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+d("|\\s+(?:",z.language.or,")\\s+")+")","gi"),iQuery:new RegExp(a,"i"),igQuery:new RegExp(a,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),a=c.$headers.filter(".filter-false, .parser-false").length,!1!==u.filter_columnFilters&&a!==c.$headers.length&&R.buildRow(n,c,u),r="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(c.namespace+"filter "),c.$table.bind(r,function(t,e){return a=u.filter_hideEmpty&&L.isEmptyObject(c.cache)&&!(c.delayInit&&"appendCache"===t.type),c.$table.find("."+y.filterRow).toggleClass(u.filter_filteredRow,a),/(search|filter)/.test(t.type)||(t.stopPropagation(),R.buildDefault(n,!0)),"filterReset"===t.type||"filterAndSortReset"===t.type?(c.$table.find("."+y.filter).add(u.filter_$externalFilters).val(""),"filterAndSortReset"===t.type?z.sortReset(this.config,function(){R.searching(n,[])}):R.searching(n,[])):"filterResetSaved"===t.type?z.storage(n,"tablesorter-filters",""):"filterEnd"===t.type?R.buildDefault(n,!0):(e="search"===t.type?e:"updateComplete"===t.type?c.$table.data("lastSearch"):"",/(update|add)/.test(t.type)&&"updateComplete"!==t.type&&(c.lastCombinedFilter=null,c.lastSearch=[],setTimeout(function(){c.$table.triggerHandler("filterFomatterUpdate")},100)),R.searching(n,e,!0)),!1}),u.filter_reset&&(u.filter_reset instanceof L?u.filter_reset.click(function(){c.$table.triggerHandler("filterReset")}):L(u.filter_reset).length&&L(document).undelegate(u.filter_reset,"click"+c.namespace+"filter").delegate(u.filter_reset,"click"+c.namespace+"filter",function(){c.$table.triggerHandler("filterReset")})),u.filter_functions)for(o=0;o<c.columns;o++)if(s=z.getColumnData(n,u.filter_functions,o))if(l=!((i=c.$headerIndexed[o].removeClass("filter-select")).hasClass("filter-false")||i.hasClass("parser-false")),!(t="")===s&&l)R.buildSelect(n,o);else if("object"==typeof s&&l){for(e in s)"string"==typeof e&&(t+=""===t?'<option value="">'+(i.data("placeholder")||i.attr("data-placeholder")||u.filter_placeholder.select||"")+"</option>":"",0<=(r=a=e).indexOf(u.filter_selectSourceSeparator)&&(r=(a=e.split(u.filter_selectSourceSeparator))[1],a=a[0]),t+="<option "+(r===a?"":'data-function-name="'+e+'" ')+'value="'+a+'">'+r+"</option>");c.$table.find("thead").find("select."+y.filter+'[data-column="'+o+'"]').append(t),(s="function"==typeof(r=u.filter_selectSource)||z.getColumnData(n,r,o))&&R.buildSelect(c.table,o,"",!0,i.hasClass(u.filter_onlyAvail))}R.buildDefault(n,!0),R.bindSearch(n,c.$table.find("."+y.filter),!0),u.filter_external&&R.bindSearch(n,u.filter_external),u.filter_hideFilters&&R.hideFilters(c),c.showProcessing&&(r="filterStart filterEnd ".split(" ").join(c.namespace+"filter-sp "),c.$table.unbind(r.replace(z.regex.spaces," ")).bind(r,function(t,e){i=e?c.$table.find("."+y.header).filter("[data-column]").filter(function(){return""!==e[L(this).data("column")]}):"",z.isProcessing(n,"filterStart"===t.type,e?i:"")})),c.filteredRows=c.totalRows,r="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(c.namespace+"filter "),c.$table.unbind(r.replace(z.regex.spaces," ")).bind(r,function(){R.completeInit(this)}),c.pager&&c.pager.initialized&&!u.filter_initialized?(c.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){R.filterInitComplete(c)},100)):u.filter_initialized||R.completeInit(n)},completeInit:function(t){var e=t.config,n=e.widgetOptions,r=R.setDefaults(t,e,n)||[];r.length&&(e.delayInit&&""===r.join("")||z.setFilters(t,r,!0)),e.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){n.filter_initialized||R.filterInitComplete(e)},100)},formatterUpdated:function(t,e){var n=t&&t.closest("table"),r=n.length&&n[0].config,i=r&&r.widgetOptions;i&&!i.filter_initialized&&(i.filter_formatterInit[e]=1)},filterInitComplete:function(t){var e,n,r=t.widgetOptions,i=0,o=function(){r.filter_initialized=!0,t.lastSearch=t.$table.data("lastSearch"),t.$table.triggerHandler("filterInit",t),R.findRows(t.table,t.lastSearch||[]),z.debug(t,"filter")&&console.log("Filter >> Widget initialized")};if(L.isEmptyObject(r.filter_formatter))o();else{for(n=r.filter_formatterInit.length,e=0;e<n;e++)1===r.filter_formatterInit[e]&&i++;clearTimeout(r.filter_initTimer),r.filter_initialized||i!==r.filter_formatterCount?r.filter_initialized||(r.filter_initTimer=setTimeout(function(){o()},500)):o()}},processFilters:function(t,e){var n,r=[],i=e?encodeURIComponent:decodeURIComponent,o=t.length;for(n=0;n<o;n++)t[n]&&(r[n]=i(t[n]));return r},setDefaults:function(t,e,n){var r,i,o,a,s,l=z.getFilters(t)||[];if(n.filter_saveFilters&&z.storage&&(i=z.storage(t,"tablesorter-filters")||[],(r=L.isArray(i))&&""===i.join("")||!r||(l=R.processFilters(i))),""===l.join(""))for(s=e.$headers.add(n.filter_$externalFilters).filter("["+n.filter_defaultAttrib+"]"),o=0;o<=e.columns;o++)a=o===e.columns?"all":o,l[o]=s.filter('[data-column="'+a+'"]').attr(n.filter_defaultAttrib)||l[o]||"";return e.$table.data("lastSearch",l),l},parseFilter:function(t,e,n,r){return r||n.parsed[n.index]?t.parsers[n.index].format(e,t.table,[],n.index):e},buildRow:function(t,e,n){var r,i,o,a,s,l,c,u,d,h=n.filter_cellFilter,f=e.columns,p=L.isArray(h),g='<tr role="search" class="'+y.filterRow+" "+e.cssIgnoreRow+'">';for(o=0;o<f;o++)e.$headerIndexed[o].length&&(g+=1<(d=e.$headerIndexed[o]&&e.$headerIndexed[o][0].colSpan||0)?'<td data-column="'+o+"-"+(o+d-1)+'" colspan="'+d+'"':'<td data-column="'+o+'"',g+=p?h[o]?' class="'+h[o]+'"':"":""!==h?' class="'+h+'"':"",g+="></td>");for(e.$filters=L(g+="</tr>").appendTo(e.$table.children("thead").eq(0)).children("td"),o=0;o<f;o++)l=!1,(a=e.$headerIndexed[o])&&a.length&&(r=R.getColumnElm(e,e.$filters,o),u=z.getColumnData(t,n.filter_functions,o),s=n.filter_functions&&u&&"function"!=typeof u||a.hasClass("filter-select"),i=z.getColumnData(t,e.headers,o),l="false"===z.getData(a[0],i,"filter")||"false"===z.getData(a[0],i,"parser"),s?g=L("<select>").appendTo(r):((u=z.getColumnData(t,n.filter_formatter,o))?(n.filter_formatterCount++,(g=u(r,o))&&0===g.length&&(g=r.children("input")),g&&(0===g.parent().length||g.parent().length&&g.parent()[0]!==r[0])&&r.append(g)):g=L('<input type="search">').appendTo(r),g&&(d=a.data("placeholder")||a.attr("data-placeholder")||n.filter_placeholder.search||"",g.attr("placeholder",d))),g&&(c=(L.isArray(n.filter_cssFilter)?"undefined"!=typeof n.filter_cssFilter[o]&&n.filter_cssFilter[o]||"":n.filter_cssFilter)||"",g.addClass(y.filter+" "+c),(d=(c=n.filter_filterLabel).match(/{{([^}]+?)}}/g))||(d=["{{label}}"]),L.each(d,function(t,e){var n=new RegExp(e,"g"),r=a.attr("data-"+e.replace(/{{|}}/g,"")),i=void 0===r?a.text():r;c=c.replace(n,L.trim(i))}),g.attr({"data-column":r.attr("data-column"),"aria-label":c}),l&&(g.attr("placeholder","").addClass(y.filterDisabled)[0].disabled=!0)))},bindSearch:function(i,t,e){if(i=L(i)[0],(t=L(t)).length){var n,o=i.config,a=o.widgetOptions,r=o.namespace+"filter",s=a.filter_$externalFilters;!0!==e&&(n=a.filter_anyColumnSelector+","+a.filter_multipleColumnSelector,a.filter_$anyMatch=t.filter(n),s&&s.length?a.filter_$externalFilters=a.filter_$externalFilters.add(t):a.filter_$externalFilters=t,z.setFilters(i,o.$table.data("lastSearch")||[],!1===e)),n="keypress keyup keydown search change input ".split(" ").join(r+" "),t.attr("data-lastSearchTime",(new Date).getTime()).unbind(n.replace(z.regex.spaces," ")).bind("keydown"+r,function(t){if(t.which===l.escape&&!i.config.widgetOptions.filter_resetOnEsc)return!1}).bind("keyup"+r,function(t){a=i.config.widgetOptions;var e=parseInt(L(this).attr("data-column"),10),n="boolean"==typeof a.filter_liveSearch?a.filter_liveSearch:z.getColumnData(i,a.filter_liveSearch,e);if(void 0===n&&(n=a.filter_liveSearch.fallback||!1),L(this).attr("data-lastSearchTime",(new Date).getTime()),t.which===l.escape)this.value=a.filter_resetOnEsc?"":o.lastSearch[e];else{if(""!==this.value&&("number"==typeof n&&this.value.length<n||t.which!==l.enter&&t.which!==l.backSpace&&(t.which<l.space||t.which>=l.left&&t.which<=l.down)))return;if(!1===n&&""!==this.value&&t.which!==l.enter)return}R.searching(i,!0,!0,e)}).bind("search change keypress input blur ".split(" ").join(r+" "),function(t){var e=parseInt(L(this).attr("data-column"),10),n=t.type,r="boolean"==typeof a.filter_liveSearch?a.filter_liveSearch:z.getColumnData(i,a.filter_liveSearch,e);!i.config.widgetOptions.filter_initialized||t.which!==l.enter&&"search"!==n&&"blur"!==n&&("change"!==n&&"input"!==n||!0!==r&&(!0===r||"INPUT"===t.target.nodeName)||this.value===o.lastSearch[e])||(t.preventDefault(),L(this).attr("data-lastSearchTime",(new Date).getTime()),R.searching(i,"keypress"!==n,!0,e))})}},searching:function(t,e,n,r){var i,o=t.config.widgetOptions;void 0===r?i=!1:void 0===(i="boolean"==typeof o.filter_liveSearch?o.filter_liveSearch:z.getColumnData(t,o.filter_liveSearch,r))&&(i=o.filter_liveSearch.fallback||!1),clearTimeout(o.filter_searchTimer),void 0===e||!0===e?o.filter_searchTimer=setTimeout(function(){R.checkFilters(t,e,n)},i?o.filter_searchDelay:10):R.checkFilters(t,e,n)},equalFilters:function(t,e,n){var r,i=[],o=[],a=t.columns+1;for(e=L.isArray(e)?e:[],n=L.isArray(n)?n:[],r=0;r<a;r++)i[r]=e[r]||"",o[r]=n[r]||"";return i.join(",")===o.join(",")},checkFilters:function(t,e,n){var r=t.config,i=r.widgetOptions,o=L.isArray(e),a=o?e:z.getFilters(t,!0),s=a||[];if(L.isEmptyObject(r.cache))r.delayInit&&(!r.pager||r.pager&&r.pager.initialized)&&z.updateCache(r,function(){R.checkFilters(t,!1,n)});else if(o&&(z.setFilters(t,a,!1,!0!==n),i.filter_initialized||(r.lastSearch=[],r.lastCombinedFilter="")),i.filter_hideFilters&&r.$table.find("."+y.filterRow).triggerHandler(R.hideFiltersCheck(r)?"mouseleave":"mouseenter"),!R.equalFilters(r,r.lastSearch,s)||!1===e){if(!1===e&&(r.lastCombinedFilter="",r.lastSearch=[]),a=a||[],a=Array.prototype.map?a.map(String):a.join("\ufffd").split("\ufffd"),i.filter_initialized&&r.$table.triggerHandler("filterStart",[a]),!r.showProcessing)return R.findRows(t,a,s),!1;setTimeout(function(){return R.findRows(t,a,s),!1},30)}},hideFiltersCheck:function(t){if("function"==typeof t.widgetOptions.filter_hideFilters){var e=t.widgetOptions.filter_hideFilters(t);if("boolean"==typeof e)return e}return""===z.getFilters(t.$table).join("")},hideFilters:function(r,t){var i;(t||r.$table).find("."+y.filterRow).addClass(y.filterRowHide).bind("mouseenter mouseleave",function(t){var e=t,n=L(this);clearTimeout(i),i=setTimeout(function(){/enter|over/.test(e.type)?n.removeClass(y.filterRowHide):L(document.activeElement).closest("tr")[0]!==n[0]&&n.toggleClass(y.filterRowHide,R.hideFiltersCheck(r))},200)}).find("input, select").bind("focus blur",function(t){var e=t,n=L(this).closest("tr");clearTimeout(i),i=setTimeout(function(){clearTimeout(i),n.toggleClass(y.filterRowHide,R.hideFiltersCheck(r)&&"focus"!==e.type)},200)})},defaultFilter:function(t,e){if(""===t)return t;var n=F.iQuery,r=e.match(F.igQuery).length,i=1<r?L.trim(t).split(/\s/):[L.trim(t)],o=i.length-1,a=0,s=e;for(o<1&&1<r&&(i[1]=i[0]);n.test(s);)s=s.replace(n,i[a++]||""),n.test(s)&&a<o&&""!==(i[a]||"")&&(s=e.replace(n,s));return s},getLatestSearch:function(t){return t?t.sort(function(t,e){return L(e).attr("data-lastSearchTime")-L(t).attr("data-lastSearchTime")}):t||L()},findRange:function(t,e,n){var r,i,o,a,s,l,c,u,d,h=[];if(/^[0-9]+$/.test(e))return[parseInt(e,10)];if(!n&&/-/.test(e))for(d=(i=e.match(/(\d+)\s*-\s*(\d+)/g))?i.length:0,u=0;u<d;u++){for(o=i[u].split(/\s*-\s*/),a=parseInt(o[0],10)||0,(s=parseInt(o[1],10)||t.columns-1)<a&&(r=a,a=s,s=r),s>=t.columns&&(s=t.columns-1);a<=s;a++)h[h.length]=a;e=e.replace(i[u],"")}if(!n&&/,/.test(e))for(d=(l=e.split(/\s*,\s*/)).length,c=0;c<d;c++)""!==l[c]&&(u=parseInt(l[c],10))<t.columns&&(h[h.length]=u);if(!h.length)for(u=0;u<t.columns;u++)h[h.length]=u;return h},getColumnElm:function(e,t,n){return t.filter(function(){var t=R.findRange(e,L(this).attr("data-column"));return-1<L.inArray(n,t)})},multipleColumns:function(t,e){var n=t.widgetOptions,r=n.filter_initialized||!e.filter(n.filter_anyColumnSelector).length,i=L.trim(R.getLatestSearch(e).attr("data-column")||"");return R.findRange(t,i,!r)},processTypes:function(t,e,n){var r,i=null,o=null;for(r in R.types)L.inArray(r,n.excludeMatch)<0&&null===o&&null!==(o=R.types[r](t,e,n))&&(e.matchedOn=r,i=o);return i},matchType:function(t,e){var n,r=t.widgetOptions,i=t.$headerIndexed[e];return i.hasClass("filter-exact")?n=!1:i.hasClass("filter-match")?n=!0:(r.filter_columnFilters?i=t.$filters.find("."+y.filter).add(r.filter_$externalFilters).filter('[data-column="'+e+'"]'):r.filter_$externalFilters&&(i=r.filter_$externalFilters.filter('[data-column="'+e+'"]')),n=!!i.length&&"match"===t.widgetOptions.filter_matchType[(i[0].nodeName||"").toLowerCase()]),n},processRow:function(e,n,t){var r,i,o,a,s,l=e.widgetOptions,c=!0,u=l.filter_$anyMatch&&l.filter_$anyMatch.length,d=l.filter_$anyMatch&&l.filter_$anyMatch.length?R.multipleColumns(e,l.filter_$anyMatch):[];if(n.$cells=n.$row.children(),n.matchedOn=null,n.anyMatchFlag&&1<d.length||n.anyMatchFilter&&!u){if(n.anyMatch=!0,n.isMatch=!0,n.rowArray=n.$cells.map(function(t){if(-1<L.inArray(t,d)||n.anyMatchFilter&&!u)return n.parsed[t]?s=n.cacheArray[t]:(s=n.rawArray[t],s=L.trim(l.filter_ignoreCase?s.toLowerCase():s),e.sortLocaleCompare&&(s=z.replaceAccents(s))),s}).get(),n.filter=n.anyMatchFilter,n.iFilter=n.iAnyMatchFilter,n.exact=n.rowArray.join(" "),n.iExact=l.filter_ignoreCase?n.exact.toLowerCase():n.exact,n.cache=n.cacheArray.slice(0,-1).join(" "),t.excludeMatch=t.noAnyMatch,null!==(i=R.processTypes(e,n,t)))c=i;else if(l.filter_startsWith)for(c=!1,d=Math.min(e.columns,n.rowArray.length);!c&&0<d;)d--,c=c||0===n.rowArray[d].indexOf(n.iFilter);else c=0<=(
n.iExact+n.childRowText).indexOf(n.iFilter);if(n.anyMatch=!1,n.filters.join("")===n.filter)return c}for(d=0;d<e.columns;d++)n.filter=n.filters[d],n.index=d,t.excludeMatch=t.excludeFilter[d],n.filter&&(n.cache=n.cacheArray[d],r=n.parsed[d]?n.cache:n.rawArray[d]||"",n.exact=e.sortLocaleCompare?z.replaceAccents(r):r,n.iExact=!F.type.test(typeof n.exact)&&l.filter_ignoreCase?n.exact.toLowerCase():n.exact,n.isMatch=R.matchType(e,d),r=c,a=l.filter_columnFilters&&e.$filters.add(l.filter_$externalFilters).filter('[data-column="'+d+'"]').find("select option:selected").attr("data-function-name")||"",e.sortLocaleCompare&&(n.filter=z.replaceAccents(n.filter)),l.filter_defaultFilter&&F.iQuery.test(t.defaultColFilter[d])&&(n.filter=R.defaultFilter(n.filter,t.defaultColFilter[d])),n.iFilter=l.filter_ignoreCase?(n.filter||"").toLowerCase():n.filter,i=null,(o=t.functions[d])&&("function"==typeof o?i=o(n.exact,n.cache,n.filter,d,n.$row,e,n):"function"==typeof o[a||n.filter]&&(i=o[s=a||n.filter](n.exact,n.cache,n.filter,d,n.$row,e,n))),null===i?(i=R.processTypes(e,n,t),s=!0===o&&("and"===n.matchedOn||"or"===n.matchedOn),null===i||s?!0===o?r=n.isMatch?0<=(""+n.iExact).search(n.iFilter):n.filter===n.exact:(s=(n.iExact+n.childRowText).indexOf(R.parseFilter(e,n.iFilter,n)),r=!l.filter_startsWith&&0<=s||l.filter_startsWith&&0===s):r=i):r=i,c=!!r&&c);return c},findRows:function(t,n,e){if(!R.equalFilters(t.config,t.config.lastSearch,e)&&t.config.widgetOptions.filter_initialized){var r,i,o,a,s,l,c,u,d,h,f,p,g,m,y,v,b,_,w,x,C,T,M,D=L.extend([],n),S=t.config,k=S.widgetOptions,N=z.debug(S,"filter"),A={anyMatch:!1,filters:n,filter_regexCache:[]},E={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:z.getColumnData(t,k.filter_defaultFilter,S.columns,!0)||""};for(A.parsed=[],d=0;d<S.columns;d++)A.parsed[d]=k.filter_useParsedData||S.parsers&&S.parsers[d]&&S.parsers[d].parsed||z.getData&&"parsed"===z.getData(S.$headerIndexed[d],z.getColumnData(t,S.headers,d),"filter")||S.$headerIndexed[d].hasClass("filter-parsed"),E.functions[d]=z.getColumnData(t,k.filter_functions,d)||S.$headerIndexed[d].hasClass("filter-select"),E.defaultColFilter[d]=z.getColumnData(t,k.filter_defaultFilter,d)||"",E.excludeFilter[d]=(z.getColumnData(t,k.filter_excludeFilter,d,!0)||"").split(/\s+/);for(N&&(console.log("Filter >> Starting filter widget search",n),m=new Date),S.filteredRows=0,e=D||[],c=S.totalRows=0;c<S.$tbodies.length;c++){if(u=z.processTbody(t,S.$tbodies.eq(c),!0),d=S.columns,i=S.cache[c].normalized,a=L(L.map(i,function(t){return t[d].$row.get()})),""===e.join("")||k.filter_serversideFiltering)a.removeClass(k.filter_filteredRow).not("."+S.cssChildRow).css("display","");else{if(r=(a=a.not("."+S.cssChildRow)).length,(k.filter_$anyMatch&&k.filter_$anyMatch.length||"undefined"!=typeof n[S.columns])&&(A.anyMatchFlag=!0,A.anyMatchFilter=""+(n[S.columns]||k.filter_$anyMatch&&R.getLatestSearch(k.filter_$anyMatch).val()||""),k.filter_columnAnyMatch)){for(w=A.anyMatchFilter.split(F.andSplit),x=!1,v=0;v<w.length;v++)1<(C=w[v].split(":")).length&&(isNaN(C[0])?L.each(S.headerContent,function(t,e){-1<e.toLowerCase().indexOf(C[0])&&(n[T=t]=C[1])}):T=parseInt(C[0],10)-1,0<=T&&T<S.columns&&(n[T]=C[1],w.splice(v,1),v--,x=!0));x&&(A.anyMatchFilter=w.join(" && "))}if(_=k.filter_searchFiltered,f=S.lastSearch||S.$table.data("lastSearch")||[],_)for(v=0;v<d+1;v++)y=n[v]||"",_||(v=d),_=_&&f.length&&0===y.indexOf(f[v]||"")&&!F.alreadyFiltered.test(y)&&!F.exactTest.test(y)&&!(F.isNeg1.test(y)||F.isNeg2.test(y))&&!(""!==y&&S.$filters&&S.$filters.filter('[data-column="'+v+'"]').find("select").length&&!R.matchType(S,v));for(b=a.not("."+k.filter_filteredRow).length,_&&0===b&&(_=!1),N&&console.log("Filter >> Searching through "+(_&&b<r?b:"all")+" rows"),A.anyMatchFlag&&(S.sortLocaleCompare&&(A.anyMatchFilter=z.replaceAccents(A.anyMatchFilter)),k.filter_defaultFilter&&F.iQuery.test(E.defaultAnyFilter)&&(A.anyMatchFilter=R.defaultFilter(A.anyMatchFilter,E.defaultAnyFilter),_=!1),A.iAnyMatchFilter=k.filter_ignoreCase&&S.ignoreCase?A.anyMatchFilter.toLowerCase():A.anyMatchFilter),l=0;l<r;l++)if(M=a[l].className,!(l&&F.child.test(M)||_&&F.filtered.test(M))){if(A.$row=a.eq(l),A.rowIndex=l,A.cacheArray=i[l],o=A.cacheArray[S.columns],A.rawArray=o.raw,A.childRowText="",!k.filter_childByColumn){for(M="",h=o.child,v=0;v<h.length;v++)M+=" "+h[v].join(" ")||"";A.childRowText=k.filter_childRows?k.filter_ignoreCase?M.toLowerCase():M:""}if(p=!1,g=R.processRow(S,A,E),s=o.$row,y=!!g,h=o.$row.filter(":gt(0)"),k.filter_childRows&&h.length){if(k.filter_childByColumn)for(k.filter_childWithSibs||(h.addClass(k.filter_filteredRow),s=s.eq(0)),v=0;v<h.length;v++)A.$row=h.eq(v),A.cacheArray=o.child[v],A.rawArray=A.cacheArray,y=R.processRow(S,A,E),p=p||y,!k.filter_childWithSibs&&y&&h.eq(v).removeClass(k.filter_filteredRow);p=p||g}else p=y;s.toggleClass(k.filter_filteredRow,!p)[0].display=p?"":"none"}}S.filteredRows+=a.not("."+k.filter_filteredRow).length,S.totalRows+=a.length,z.processTbody(t,u,!1)}S.lastCombinedFilter=D.join(""),S.lastSearch=D,S.$table.data("lastSearch",D),k.filter_saveFilters&&z.storage&&z.storage(t,"tablesorter-filters",R.processFilters(D,!0)),N&&console.log("Filter >> Completed search"+z.benchmark(m)),k.filter_initialized&&(S.$table.triggerHandler("filterBeforeEnd",S),S.$table.triggerHandler("filterEnd",S)),setTimeout(function(){z.applyWidget(S.table)},0)}},getOptionSource:function(t,e,n){var r=(t=L(t)[0]).config,i=!1,o=r.widgetOptions.filter_selectSource,a=r.$table.data("lastSearch")||[],s="function"==typeof o||z.getColumnData(t,o,e);if(n&&""!==a[e]&&(n=!1),!0===s)i=o(t,e,n);else{if(s instanceof L||"string"===L.type(s)&&0<=s.indexOf("</option>"))return s;if(L.isArray(s))i=s;else if("object"===L.type(o)&&s&&null===(i=s(t,e,n)))return null}return!1===i&&(i=R.getOptions(t,e,n)),R.processOptions(t,e,i)},processOptions:function(i,o,n){if(!L.isArray(n))return!1;var a,t,e,r,s,l,c=(i=L(i)[0]).config,u=null!=o&&0<=o&&o<c.columns,d=!!u&&c.$headerIndexed[o].hasClass("filter-select-sort-desc"),h=[];if(n=L.grep(n,function(t,e){return!!t.text||L.inArray(t,n)===e}),u&&c.$headerIndexed[o].hasClass("filter-select-nosort"))return n;for(r=n.length,e=0;e<r;e++)l=(t=n[e]).text?t.text:t,s=(u&&c.parsers&&c.parsers.length&&c.parsers[o].format(l,i,[],o)||l).toString(),s=c.widgetOptions.filter_ignoreCase?s.toLowerCase():s,t.text?(t.parsed=s,h[h.length]=t):h[h.length]={text:t,parsed:s};for(a=c.textSorter||"",h.sort(function(t,e){var n=d?e.parsed:t.parsed,r=d?t.parsed:e.parsed;return u&&"function"==typeof a?a(n,r,!0,o,i):u&&"object"==typeof a&&a.hasOwnProperty(o)?a[o](n,r,!0,o,i):!z.sortNatural||z.sortNatural(n,r)}),n=[],r=h.length,e=0;e<r;e++)n[n.length]=h[e];return n},getOptions:function(t,e,n){var r,i,o,a,s,l,c,u,d=(t=L(t)[0]).config,h=d.widgetOptions,f=[];for(i=0;i<d.$tbodies.length;i++)for(s=d.cache[i],o=d.cache[i].normalized.length,r=0;r<o;r++)if(a=s.row?s.row[r]:s.normalized[r][d.columns].$row[0],!n||!a.className.match(h.filter_filteredRow))if(h.filter_useParsedData||d.parsers[e].parsed||d.$headerIndexed[e].hasClass("filter-parsed")){if(f[f.length]=""+s.normalized[r][e],h.filter_childRows&&h.filter_childByColumn)for(u=s.normalized[r][d.columns].$row.length-1,l=0;l<u;l++)f[f.length]=""+s.normalized[r][d.columns].child[l][e]}else if(f[f.length]=s.normalized[r][d.columns].raw[e],h.filter_childRows&&h.filter_childByColumn)for(u=s.normalized[r][d.columns].$row.length,l=1;l<u;l++)c=s.normalized[r][d.columns].$row.eq(l).children().eq(e),f[f.length]=""+z.getElementText(d,c,e);return f},buildSelect:function(t,e,n,r,i){if(t=L(t)[0],e=parseInt(e,10),t.config.cache&&!L.isEmptyObject(t.config.cache)){var o,a,s,l,c,u,d,h=t.config,f=h.widgetOptions,p=h.$headerIndexed[e],g='<option value="">'+(p.data("placeholder")||p.attr("data-placeholder")||f.filter_placeholder.select||"")+"</option>",m=h.$table.find("thead").find("select."+y.filter+'[data-column="'+e+'"]').val();if(void 0!==n&&""!==n||null!==(n=R.getOptionSource(t,e,i))){if(L.isArray(n)){for(o=0;o<n.length;o++)if((d=n[o]).text){for(a in d["data-function-name"]="undefined"==typeof d.value?d.text:d.value,g+="<option",d)d.hasOwnProperty(a)&&"text"!==a&&(g+=" "+a+'="'+d[a].replace(F.quote,"&quot;")+'"');d.value||(g+=' value="'+d.text.replace(F.quote,"&quot;")+'"'),g+=">"+d.text.replace(F.quote,"&quot;")+"</option>"}else""+d!="[object Object]"&&(0<=(a=s=d=(""+d).replace(F.quote,"&quot;")).indexOf(f.filter_selectSourceSeparator)&&(a=(l=s.split(f.filter_selectSourceSeparator))[0],s=l[1]),g+=""!==d?"<option "+(a===s?"":'data-function-name="'+d+'" ')+'value="'+a+'">'+s+"</option>":"");n=[]}c=(h.$filters?h.$filters:h.$table.children("thead")).find("."+y.filter),f.filter_$externalFilters&&(c=c&&c.length?c.add(f.filter_$externalFilters):f.filter_$externalFilters),(u=c.filter('select[data-column="'+e+'"]')).length&&(u[r?"html":"append"](g),L.isArray(n)||u.append(n).val(m),u.val(m))}}},buildDefault:function(t,e){var n,r,i,o=t.config,a=o.widgetOptions,s=o.columns;for(n=0;n<s;n++)i=!((r=o.$headerIndexed[n]).hasClass("filter-false")||r.hasClass("parser-false")),(r.hasClass("filter-select")||!0===z.getColumnData(t,a.filter_functions,n))&&i&&R.buildSelect(t,n,"",e,r.hasClass(a.filter_onlyAvail))}}).regex,z.getFilters=function(t,e,n,r){var i,o,a,s,l=[],c=t?L(t)[0].config:"",u=c?c.widgetOptions:"";if(!0!==e&&u&&!u.filter_columnFilters||L.isArray(n)&&R.equalFilters(c,n,c.lastSearch))return L(t).data("lastSearch")||[];if(c&&(c.$filters&&(o=c.$filters.find("."+y.filter)),u.filter_$externalFilters&&(o=o&&o.length?o.add(u.filter_$externalFilters):u.filter_$externalFilters),o&&o.length))for(l=n||[],i=0;i<c.columns+1;i++)s=i===c.columns?u.filter_anyColumnSelector+","+u.filter_multipleColumnSelector:'[data-column="'+i+'"]',(a=o.filter(s)).length&&(a=R.getLatestSearch(a),L.isArray(n)?(r&&1<a.length&&(a=a.slice(1)),i===c.columns&&(a=(s=a.filter(u.filter_anyColumnSelector)).length?s:a),a.val(n[i]).trigger("change"+c.namespace)):(l[i]=a.val()||"",i===c.columns?a.slice(1).filter('[data-column*="'+a.attr("data-column")+'"]').val(l[i]):a.slice(1).val(l[i])),i===c.columns&&a.length&&(u.filter_$anyMatch=a));return l},z.setFilters=function(t,e,n,r){var i=t?L(t)[0].config:"",o=z.getFilters(t,!0,e,r);return void 0===n&&(n=!0),i&&n&&(i.lastCombinedFilter=null,i.lastSearch=[],R.searching(i.table,e,r),i.$table.triggerHandler("filterFomatterUpdate")),0!==o.length}}(t),function(D,f){"use strict";function S(t,e){var n=isNaN(e.stickyHeaders_offset)?D(e.stickyHeaders_offset):[];return n.length?n.height()||0:parseInt(e.stickyHeaders_offset,10)||0}var k=D.tablesorter||{};D.extend(k.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),k.addHeaderResizeEvent=function(t,e,n){if((t=D(t)[0]).config){var r={timer:250},i=D.extend({},r,n),l=t.config,c=l.widgetOptions,o=function(t){var e,n,r,i,o,a,s=l.$headers.length;for(c.resize_flag=!0,n=[],e=0;e<s;e++)i=(r=l.$headers.eq(e)).data("savedSizes")||[0,0],o=r[0].offsetWidth,a=r[0].offsetHeight,o===i[0]&&a===i[1]||(r.data("savedSizes",[o,a]),n.push(r[0]));n.length&&!1!==t&&l.$table.triggerHandler("resize",[n]),c.resize_flag=!1};if(clearInterval(c.resize_timer),e)return c.resize_flag=!1;o(!1),c.resize_timer=setInterval(function(){c.resize_flag||o()},i.timer)}},k.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(t,p,g){if(!(p.$table.hasClass("hasStickyHeaders")||0<=D.inArray("filter",p.widgets)&&!p.$table.hasClass("hasFilters"))){var e,n,r,i,m=p.$table,y=D(g.stickyHeaders_attachTo||g.stickyHeaders_appendTo),o=p.namespace+"stickyheaders ",v=D(g.stickyHeaders_yScroll||g.stickyHeaders_attachTo||f),a=D(g.stickyHeaders_xScroll||g.stickyHeaders_attachTo||f),s=m.children("thead:first").children("tr").not(".sticky-false").children(),b=m.children("tfoot"),l=S(p,g),_=m.parent().closest("."+k.css.table).hasClass("hasStickyHeaders")?m.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],w=_.length?_.height():0,c=g.$sticky=m.clone().addClass("containsStickyHeaders "+k.css.sticky+" "+g.stickyHeaders+" "+p.namespace.slice(1)+"_extra_table").wrap('<div class="'+k.css.stickyWrap+'">'),x=c.parent().addClass(k.css.stickyHide).css({position:y.length?"absolute":"fixed",padding:parseInt(c.parent().parent().css("padding-left"),10),top:l+w,left:0,visibility:"hidden",zIndex:g.stickyHeaders_zIndex||2}),u=c.children("thead:first"),C="",d=function(t,e){var n,r,i,o,a,s=t.filter(":visible"),l=s.length;for(n=0;n<l;n++)o=e.filter(":visible").eq(n),"border-box"===(a=s.eq(n)).css("box-sizing")?r=a.outerWidth():"collapse"===o.css("border-collapse")?f.getComputedStyle?r=parseFloat(f.getComputedStyle(a[0],null).width):(i=parseFloat(a.css("border-width")),r=a.outerWidth()-parseFloat(a.css("padding-left"))-parseFloat(a.css("padding-right"))-i):r=a.width(),o.css({width:r,"min-width":r,"max-width":r})},T=function(t){return!1===t&&_.length?m.position().left:y.length?parseInt(y.css("padding-left"),10)||0:m.offset().left-parseInt(m.css("margin-left"),10)-D(f).scrollLeft()},M=function(){x.css({left:T(),width:m.outerWidth()}),d(m,c),d(s,i)},h=function(t){if(m.is(":visible")){w=_.length?_.offset().top-v.scrollTop()+_.height():0;var e,n=m.offset(),r=S(p,g),i=D.isWindow(v[0]),o=i?v.scrollTop():_.length?parseInt(_[0].style.top,10):v.offset().top,a=y.length?o:v.scrollTop(),s=g.stickyHeaders_includeCaption?0:m.children("caption").height()||0,l=a+r+w-s,c=m.height()-(x.height()+(b.height()||0))-s,u=l>n.top&&l<n.top+c?"visible":"hidden",d="visible"===u?k.css.stickyVis:k.css.stickyHide,h=!x.hasClass(d),f={visibility:u};y.length&&(h=!0,f.top=i?l-y.offset().top:y.scrollTop()),(e=T(i))!==parseInt(x.css("left"),10)&&(h=!0,f.left=e),f.top=(f.top||0)+(!i&&_.length?_.height():r+w),h&&x.removeClass(k.css.stickyVis+" "+k.css.stickyHide).addClass(d).css(f),(u!==C||t)&&(M(),C=u)}};if(y.length&&!y.css("position")&&y.css("position","relative"),c.attr("id")&&(c[0].id+=g.stickyHeaders_cloneId),c.find("> thead:gt(0), tr.sticky-false").hide(),c.find("> tbody, > tfoot").remove(),c.find("caption").toggle(g.stickyHeaders_includeCaption),i=u.children().children(),c.css({height:0,width:0,margin:0}),i.find("."+k.css.resizer).remove(),m.addClass("hasStickyHeaders").bind("pagerComplete"+o,function(){M()}),k.bindEvents(t,u.children().children("."+k.css.header)),g.stickyHeaders_appendTo?D(g.stickyHeaders_appendTo).append(x):m.after(x),p.onRenderHeader)for(n=(r=u.children("tr").children()).length,e=0;e<n;e++)p.onRenderHeader.apply(r.eq(e),[e,p,c]);a.add(v).unbind("scroll resize ".split(" ").join(o).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(o),function(t){h("resize"===t.type)}),p.$table.unbind("stickyHeadersUpdate"+o).bind("stickyHeadersUpdate"+o,function(){h(!0)}),g.stickyHeaders_addResizeEvent&&k.addHeaderResizeEvent(t),m.hasClass("hasFilters")&&g.filter_columnFilters&&(m.bind("filterEnd"+o,function(){var t=D(document.activeElement).closest("td"),e=t.parent().children().index(t);x.hasClass(k.css.stickyVis)&&g.stickyHeaders_filteredToTop&&(f.scrollTo(0,m.position().top),0<=e&&p.$filters&&p.$filters.eq(e).find("a, select, input").filter(":visible").focus())}),k.filter.bindSearch(m,i.find("."+k.css.filter)),g.filter_hideFilters&&k.filter.hideFilters(p,c)),g.stickyHeaders_addResizeEvent&&m.bind("resize"+p.namespace+"stickyheaders",function(){M()}),h(!0),m.triggerHandler("stickyHeadersInit")}},remove:function(t,e,n){var r=e.namespace+"stickyheaders ";e.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(r).replace(/\s+/g," ")).next("."+k.css.stickyWrap).remove(),n.$sticky&&n.$sticky.length&&n.$sticky.remove(),D(f).add(n.stickyHeaders_xScroll).add(n.stickyHeaders_yScroll).add(n.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(r).replace(/\s+/g," ")),k.addHeaderResizeEvent(t,!0)}})}(t,window),function(u,e){"use strict";var d=u.tablesorter||{};u.extend(d.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),u(function(){var t="<style>body."+d.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+d.css.resizableContainer+" { position: relative; height: 1px; }."+d.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";u("head").append(t)}),d.resizable={init:function(t,e){if(!t.$table.hasClass("hasResizable")){t.$table.addClass("hasResizable");var n,r,i,o,a=t.$table,s=a.parent(),l=parseInt(a.css("margin-top"),10),c=e.resizable_vars={useStorage:d.storage&&!1!==e.resizable,$wrap:s,mouseXPosition:0,$target:null,$next:null,overflow:"auto"===s.css("overflow")||"scroll"===s.css("overflow")||"auto"===s.css("overflow-x")||"scroll"===s.css("overflow-x"),storedSizes:[]};for(d.resizableReset(t.table,!0),c.tableWidth=a.width(),c.fullWidth=Math.abs(s.width()-c.tableWidth)<20,c.useStorage&&c.overflow&&(d.storage(t.table,"tablesorter-table-original-css-width",c.tableWidth),o=d.storage(t.table,"tablesorter-table-resized-width")||"auto",d.resizable.setWidth(a,o,!0)),e.resizable_vars.storedSizes=i=(c.useStorage?d.storage(t.table,d.css.resizableStorage):[])||[],d.resizable.setWidths(t,e,i),d.resizable.updateStoredSizes(t,e),e.$resizable_container=u('<div class="'+d.css.resizableContainer+'">').css({top:l}).insertBefore(a),r=0;r<t.columns;r++)n=t.$headerIndexed[r],o=d.getColumnData(t.table,t.headers,r),"false"===d.getData(n,o,"resizable")||u('<div class="'+d.css.resizableHandle+'">').appendTo(e.$resizable_container).attr({"data-column":r,unselectable:"on"}).data("header",n).bind("selectstart",!1);d.resizable.bindings(t,e)}},updateStoredSizes:function(t,e){var n,r,i=t.columns,o=e.resizable_vars;for(o.storedSizes=[],n=0;n<i;n++)r=t.$headerIndexed[n],o.storedSizes[n]=r.is(":visible")?r.width():0},setWidth:function(t,e,n){t.css({width:e,"min-width":n?e:"","max-width":n?e:""})},setWidths:function(t,e,n){var r,i,o=e.resizable_vars,a=u(t.namespace+"_extra_headers"),s=t.$table.children("colgroup").children("col");if((n=n||o.storedSizes||[]).length){for(r=0;r<t.columns;r++)d.resizable.setWidth(t.$headerIndexed[r],n[r],o.overflow),a.length&&(i=a.eq(r).add(s.eq(r)),d.resizable.setWidth(i,n[r],o.overflow));(i=u(t.namespace+"_extra_table")).length&&!d.hasWidget(t.table,"scroller")&&d.resizable.setWidth(i,t.$table.outerWidth(),o.overflow)}},setHandlePosition:function(i,o){var a,s=i.$table.height(),t=o.$resizable_container.children(),l=Math.floor(t.width()/2);d.hasWidget(i.table,"scroller")&&(s=0,i.$table.closest("."+d.css.scrollerWrap).children().each(function(){var t=u(this);s+=t.filter('[style*="height"]').length?t.height():t.children("table").height()})),!o.resizable_includeFooter&&i.$table.children("tfoot").length&&(s-=i.$table.children("tfoot").height()),a=3.3<=parseFloat(u.fn.jquery)?0:i.$table.position().left,t.each(function(){var t=u(this),e=parseInt(t.attr("data-column"),10),n=i.columns-1,r=t.data("header");r&&(!r.is(":visible")||!o.resizable_addLastColumn&&d.resizable.checkVisibleColumns(i,e)?t.hide():(e<n||e===n&&o.resizable_addLastColumn)&&t.css({display:"inline-block",height:s,left:r.position().left-a+r.outerWidth()-l}))})},checkVisibleColumns:function(t,e){var n,r=0;for(n=e+1;n<t.columns;n++)r+=t.$headerIndexed[n].is(":visible")?1:0;return 0===r},toggleTextSelection:function(t,e,n){var r=t.namespace+"tsresize";e.resizable_vars.disabled=n,u("body").toggleClass(d.css.resizableNoSelect,n),n?u("body").attr("unselectable","on").bind("selectstart"+r,!1):u("body").removeAttr("unselectable").unbind("selectstart"+r)},bindings:function(o,a){var t=o.namespace+"tsresize";a.$resizable_container.children().bind("mousedown",function(t){var e,n=a.resizable_vars,r=u(o.namespace+"_extra_headers"),i=u(t.target).data("header");e=parseInt(i.attr("data-column"),10),n.$target=i=i.add(r.filter('[data-column="'+e+'"]')),n.target=e,n.$next=t.shiftKey||a.resizable_targetLast?i.parent().children().not(".resizable-false").filter(":last"):i.nextAll(":not(.resizable-false)").eq(0),e=parseInt(n.$next.attr("data-column"),10),n.$next=n.$next.add(r.filter('[data-column="'+e+'"]')),n.next=e,n.mouseXPosition=t.pageX,d.resizable.updateStoredSizes(o,a),d.resizable.toggleTextSelection(o,a,!0)}),u(document).bind("mousemove"+t,function(t){var e=a.resizable_vars;e.disabled&&0!==e.mouseXPosition&&e.$target&&(a.resizable_throttle?(clearTimeout(e.timer),e.timer=setTimeout(function(){d.resizable.mouseMove(o,a,t)},isNaN(a.resizable_throttle)?5:a.resizable_throttle)):d.resizable.mouseMove(o,a,t))}).bind("mouseup"+t,function(){a.resizable_vars.disabled&&(d.resizable.toggleTextSelection(o,a,!1),d.resizable.stopResize(o,a),d.resizable.setHandlePosition(o,a))}),u(e).bind("resize"+t+" resizeEnd"+t,function(){d.resizable.setHandlePosition(o,a)}),o.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(t+" "),function(){d.resizable.setHandlePosition(o,a)}).bind("resizableReset"+t,function(){d.resizableReset(o.table)}).find("thead:first").add(u(o.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+t,function(){var t=0===a.resizable_vars.storedSizes.length;return d.resizableReset(o.table),d.resizable.setHandlePosition(o,a),a.resizable_vars.storedSizes=[],t})},mouseMove:function(t,e,n){if(0!==e.resizable_vars.mouseXPosition&&e.resizable_vars.$target){var r,i=0,o=e.resizable_vars,a=o.$next,s=o.storedSizes[o.target],l=n.pageX-o.mouseXPosition;if(o.overflow){if(0<s+l){for(o.storedSizes[o.target]+=l,d.resizable.setWidth(o.$target,o.storedSizes[o.target],!0),r=0;r<t.columns;r++)i+=o.storedSizes[r];d.resizable.setWidth(t.$table.add(u(t.namespace+"_extra_table")),i)}a.length||(o.$wrap[0].scrollLeft=t.$table.width())}else o.fullWidth?(o.storedSizes[o.target]+=l,o.storedSizes[o.next]-=l):o.storedSizes[o.target]+=l,d.resizable.setWidths(t,e);o.mouseXPosition=n.pageX,t.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(t,e){var n=e.resizable_vars;d.resizable.updateStoredSizes(t,e),n.useStorage&&(d.storage(t.table,d.css.resizableStorage,n.storedSizes),d.storage(t.table,"tablesorter-table-resized-width",t.$table.width())),n.mouseXPosition=0,n.$target=n.$next=null,t.$table.triggerHandler("stickyHeadersUpdate"),t.$table.triggerHandler("resizableComplete")}},d.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(t,e,n,r){d.resizable.init(n,r)},format:function(t,e,n){d.resizable.setHandlePosition(e,n)},remove:function(t,e,n,r){if(n.$resizable_container){var i=e.namespace+"tsresize";e.$table.add(u(e.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+i),n.$resizable_container.remove(),d.resizable.toggleTextSelection(e,n,!1),d.resizableReset(t,r),u(document).unbind("mousemove"+i+" mouseup"+i)}}}),d.resizableReset=function(o,a){u(o).each(function(){var t,e,n=this.config,r=n&&n.widgetOptions,i=r.resizable_vars;if(o&&n&&n.$headerIndexed.length){for(i.overflow&&i.tableWidth&&(d.resizable.setWidth(n.$table,i.tableWidth,!0),i.useStorage&&d.storage(o,"tablesorter-table-resized-width",i.tableWidth)),t=0;t<n.columns;t++)e=n.$headerIndexed[t],r.resizable_widths&&r.resizable_widths[t]?d.resizable.setWidth(e,r.resizable_widths[t],i.overflow):e.hasClass("resizable-false")||d.resizable.setWidth(e,"",i.overflow);n.$table.triggerHandler("stickyHeadersUpdate"),d.storage&&!a&&d.storage(this,d.css.resizableStorage,[])}})}}(t,window),function(n){"use strict";function c(t){var e=d.storage(t.table,"tablesorter-savesort");return e&&e.hasOwnProperty("sortList")&&n.isArray(e.sortList)?e.sortList:[]}function u(t,e){return(e||c(t)).join(",")!==t.sortList.join(",")}var d=n.tablesorter||{};d.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(t,e,n,r){e.format(t,n,r,!0)},format:function(e,t,n,r){var i,o=t.$table,a=!1!==n.saveSort,s={sortList:t.sortList},l=d.debug(t,"saveSort");l&&(i=new Date),o.hasClass("hasSaveSort")?a&&e.hasInitialized&&d.storage&&u(t)&&(d.storage(e,"tablesorter-savesort",s),l&&console.log("saveSort >> Saving last sort: "+t.sortList+d.benchmark(i))):(o.addClass("hasSaveSort"),s="",d.storage&&(s=c(t),l&&console.log('saveSort >> Last sort loaded: "'+s+'"'+d.benchmark(i)),o.bind("saveSortReset",function(t){t.stopPropagation(),d.storage(e,"tablesorter-savesort","")})),r&&s&&0<s.length?t.sortList=s:e.hasInitialized&&s&&0<s.length&&u(t,s)&&d.sortOn(t,s))},remove:function(t,e){e.$table.removeClass("hasSaveSort"),d.storage&&d.storage(t,"tablesorter-savesort","")}})}(t),t.tablesorter}),window.PP={},window.PP.utils={},window.PP.config={};var googletag=googletag||{};googletag.cmd=googletag.cmd||[],PP.config.donateBanner={secondsUntilShown:.25,daysForDonateBarDismissal:3},function(t){"use strict";t.PP.utils;var e=[];if("sessionStorage"in window){var n="fonts-loaded";if("loaded"===sessionStorage.getItem("fontsLoaded"))e.push(n);else{var r=new FontFaceObserver("Tiempos Text",{weight:400}),i=new FontFaceObserver("Tiempos Text",{style:"italic",weight:400}),o=new FontFaceObserver("Tiempos Text",{weight:700}),a=new FontFaceObserver("Tiempos Text",{style:"italic",weight:700}),s=new FontFaceObserver("Graphik",{weight:400}),l=new FontFaceObserver("Graphik",{style:"italic",weight:400}),c=new FontFaceObserver("Graphik",{weight:700}),u=new FontFaceObserver("Graphik",{style:"italic",weight:700});t.Promise.all([r.load(),i.load(),o.load(),a.load(),s.load(),l.load(),c.load(),u.load()]).then(function(){t.document.documentElement.className+=" "+n,sessionStorage.setItem("fontsLoaded","loaded")})}}t.document.documentElement.className+=" "+e.join(" ")}(this),function(p){var g=p.jQuery;g(p.document).bind("init",function(t){var r="collapsible",e="navbar",n=e+"_item",i=e+"-overflow",o=n+"-overflow",a=e+"_more",s=a+"-nomore",l=e+"-ready";if(g(t.target).is("."+r+"."+e)){var c=g(t.target),u=c.find("."+n),d=c.find("."+a);d.attr("aria-label","Toggle more items");var h=function(){d.removeClass(s),u.removeClass(o)},f=function(){function t(){c.removeClass(l)}function e(){c.addClass(l)}function n(){if(d[0].offsetTop>r){var t=u.not("."+o);t.length&&(t.last().addClass(o),n())}else{0===u.filter("."+o).length?(d.addClass(s),c.removeClass(i)):c.addClass(i),e()}}t(),h();var r=u[0].offsetTop;n()};f(),g(p).bind("resize",f),g(p).on("load",f),c.bind("mouseover."+r,function(t){c.is("[data-collapsible-hover]")&&!g(t.target).closest("."+o+", ."+a).length&&c.data(r).collapse()}).bind("expand",function(t){var e=g(t.target),n=e.find("."+r+"-expanded."+o);g(t.target).is(this)?(d.attr("tabindex","-1"),c.find("."+o+" a").eq(0).focus()):n.length||e.is("."+r+"-expanded."+o)||c.data(r).collapse()}).bind("collapse",function(t){var e=g(t.target),n=e.find("."+r+"-expanded."+o);n.length&&e.is("."+r+"-expanded."+o)&&(n.data(r).collapse(),e.data(r).collapse()),g(t.target).is(this)&&d.attr("tabindex","0")})}})}("undefined"!=typeof global?global:this),function(){"use strict";function t(t){d.push(t),1==d.length&&u()}function e(){for(;d.length;)d[0](),d.shift()}function o(t){this.a=h,this.b=void 0,this.f=[];var e=this;try{t(function(t){a(e,t)},function(t){l(e,t)})}catch(n){l(e,n)}}function n(n){return new o(function(t,e){e(n)})}function s(e){return new o(function(t){t(e)})}function a(e,t){if(e.a==h){if(t==e)throw new TypeError;var n=!1;try{var r=t&&t.then;if(null!=t&&"object"==typeof t&&"function"==typeof r)return void r.call(t,function(t){n||a(e,t),n=!0},function(t){n||l(e,t),n=!0})}catch(i){return void(n||l(e,i))}e.a=0,e.b=t,c(e)}}function l(t,e){if(t.a==h){if(e==t)throw new TypeError;t.a=1,t.b=e,c(t)}}function c(o){t(function(){if(o.a!=h)for(;o.f.length;){var t=(r=o.f.shift())[0],e=r[1],n=r[2],r=r[3];try{0==o.a?n("function"==typeof t?t.call(void 0,o.b):o.b):1==o.a&&("function"==typeof e?n(e.call(void 0,o.b)):r(o.b))}catch(i){r(i)}}})}function r(a){return new o(function(n,t){function e(e){return function(t){i[e]=t,(r+=1)==a.length&&n(i)}}var r=0,i=[];0==a.length&&n(i);for(var o=0;o<a.length;o+=1)s(a[o]).c(e(o),t)})}function i(r){return new o(function(t,e){for(var n=0;n<r.length;n+=1)s(r[n]).c(t,e)})}var u,d=[];u=function(){setTimeout(e)};var h=2;o.prototype.g=function(t){return this.c(void 0,t)},o.prototype.c=function(n,r){var i=this;return new o(function(t,e){i.f.push([n,r,t,e]),c(i)})},window.Promise||(window.Promise=o,window.Promise.resolve=s,window.Promise.reject=n,window.Promise.race=i,window.Promise.all=r,window.Promise.prototype.then=o.prototype.c,window.Promise.prototype["catch"]=o.prototype.g)}(),function(){function i(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function n(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function n(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",n),t())})}function _(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function w(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function o(t){var e=t.a.offsetWidth,n=e+100;return t.f.style.width=n+"px",t.c.scrollLeft=n,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function x(t,e){function n(){var t=r;o(t)&&t.a.parentNode&&e(t.g)}var r=t;i(t.b,n),i(t.c,n),o(t)}function t(t,e){var n=e||{};this.family=t,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function r(){if(null===e)if(a()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);e=!!t&&parseInt(t[1],10)<603}else e=!1;return e}function a(){return null===c&&(c=!!document.fonts),c}function s(){if(null===l){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(e){}l=""!==t.style.font}return l}function C(t,e){return[t.style,t.weight,s()?t.stretch:"","100px",e].join(" ")}var T=null,e=null,l=null,c=null;t.prototype.load=function(t,e){var g=this,m=t||"BESbswy",y=0,v=e||3e3,b=(new Date).getTime();return new Promise(function(f,p){if(a()&&!r()){var t=new Promise(function(e,t){function n(){(new Date).getTime()-b>=v?t():document.fonts.load(C(g,'"'+g.family+'"'),m).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}n()}),e=new Promise(function(t,e){y=setTimeout(e,v)});Promise.race([e,t]).then(function(){clearTimeout(y),f(g)},function(){p(g)})}else n(function(){function e(){var t;(t=-1!=a&&-1!=s||-1!=a&&-1!=l||-1!=s&&-1!=l)&&((t=a!=s&&a!=l&&s!=l)||(null===T&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),T=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)),t=T&&(a==c&&s==c&&l==c||a==u&&s==u&&l==u||a==d&&s==d&&l==d)),t=!t),t&&(h.parentNode&&h.parentNode.removeChild(h),clearTimeout(y),f(g))}function n(){if((new Date).getTime()-b>=v)h.parentNode&&h.parentNode.removeChild(h),p(g);else{var t=document.hidden;!0!==t&&void 0!==t||(a=r.a.offsetWidth,s=i.a.offsetWidth,l=o.a.offsetWidth,e()),y=setTimeout(n,50)}}var r=new _(m),i=new _(m),o=new _(m),a=-1,s=-1,l=-1,c=-1,u=-1,d=-1,
h=document.createElement("div");h.dir="ltr",w(r,C(g,"sans-serif")),w(i,C(g,"serif")),w(o,C(g,"monospace")),h.appendChild(r.a),h.appendChild(i.a),h.appendChild(o.a),document.body.appendChild(h),c=r.a.offsetWidth,u=i.a.offsetWidth,d=o.a.offsetWidth,n(),x(r,function(t){a=t,e()}),w(r,C(g,'"'+g.family+'",sans-serif')),x(i,function(t){s=t,e()}),w(i,C(g,'"'+g.family+'",serif')),x(o,function(t){l=t,e()}),w(o,C(g,'"'+g.family+'",monospace'))})})},"object"==typeof module?module.exports=t:(window.FontFaceObserver=t,window.FontFaceObserver.prototype.load=t.prototype.load)}(),function(t,a){function e(t,e){"use strict";var n=window.document.getElementsByTagName("script")[0],r=window.document.createElement("script");return r.src=t,r.async=!0,n.parentNode.insertBefore(r,n),e&&"function"==typeof e&&(r.onload=e),r}function n(t,e,n){if(e===a){var r=("; "+window.document.cookie).split("; "+t+"=");return 2===r.length?r.pop().split(";").shift():null}var i;if(!1===e&&(n=-1),n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()}else i="";window.document.cookie=t+"="+e+i+"; path=/"}function r(t,e,n){var r=t+":",i=document.createElement("test").style;return i.cssText=n?r+e:r+["-webkit-","-moz-","-ms-","-o-",""].join(e+";"+r).slice(0,-r.length),-1!==i[t].indexOf(e)}var i=t.PP;i.utils.loadJS=e,i.utils.cookie=n,i.utils.featureTest=r}(this),function(){function c(t,e,n){void 0===n&&(n=e,optionsValues=void 0);var r=void 0!==t?t:e;if(void 0===r)return null;if("function"!=typeof r)return r;var i=[n];return n.geography&&(i=[n.geography,n.data]),r.apply(null,i)}function e(t,e,n){return this.svg=f.select(t).append("svg").attr("width",n||t.offsetWidth).attr("data-width",n||t.offsetWidth).attr("class","datamap").attr("height",e||t.offsetHeight).style("overflow","hidden"),this.options.responsive&&(f.select(this.options.element).style({position:"relative","padding-bottom":100*this.options.aspectRatio+"%"}),f.select(this.options.element).select("svg").style({position:"absolute",width:"100%",height:"100%"}),f.select(this.options.element).select("svg").select("g").selectAll("path").style("vector-effect","non-scaling-stroke")),this.svg}function t(t,e){var n,r,i=e.width||t.offsetWidth,o=e.height||t.offsetHeight,a=this.svg;return e&&"undefined"==typeof e.scope&&(e.scope="world"),"usa"===e.scope?n=f.geo.albersUsa().scale(i).translate([i/2,o/2]):"world"===e.scope&&(n=f.geo[e.projection]().scale((i+1)/2/Math.PI).translate([i/2,o/("mercator"===e.projection?1.45:1.8)])),"orthographic"===e.projection&&(a.append("defs").append("path").datum({type:"Sphere"}).attr("id","sphere").attr("d",r),a.append("use").attr("class","stroke").attr("xlink:href","#sphere"),a.append("use").attr("class","fill").attr("xlink:href","#sphere"),n.scale(250).clipAngle(90).rotate(e.projectionConfig.rotation)),{path:r=f.geo.path().projection(n),projection:n}}function n(){f.select(".datamaps-style-block").empty()&&f.select("head").append("style").attr("class","datamaps-style-block").html('.datamap path.datamaps-graticule { fill: none; stroke: #777; stroke-width: 0.5px; stroke-opacity: .5; pointer-events: none; } .datamap .labels {pointer-events: none;} .datamap path {stroke: #FFFFFF; stroke-width: 1px;} .datamaps-legend dt, .datamaps-legend dd { float: left; margin: 0 3px 0 0;} .datamaps-legend dd {width: 20px; margin-right: 6px; border-radius: 3px;} .datamaps-legend {padding-bottom: 20px; z-index: 1001; position: absolute; left: 4px; font-size: 12px; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;} .datamaps-hoverover {display: none; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; } .hoverinfo {padding: 4px; border-radius: 1px; background-color: #FFF; box-shadow: 1px 1px 5px #CCC; font-size: 12px; border: 1px solid #CCC; } .hoverinfo hr {border:1px dotted #CCC; }')}function i(t){var r=this.options.fills,i=this.options.data||{},e=this.options.geographyConfig,n=this.svg.select("g.datamaps-subunits");n.empty()&&(n=this.addLayer("datamaps-subunits",null,!0));var o=p.feature(t,t.objects[this.options.scope]).features;e.hideAntarctica&&(o=o.filter(function(t){return"ATA"!==t.id})),e.hideHawaiiAndAlaska&&(o=o.filter(function(t){return"HI"!==t.id&&"AK"!==t.id})),n.selectAll("path.datamaps-subunit").data(o).enter().append("path").attr("d",this.path).attr("class",function(t){return"datamaps-subunit "+t.id}).attr("data-info",function(t){return JSON.stringify(i[t.id])}).style("fill",function(t){var e,n=i[t.id];return n&&n.fillKey&&(e=r[c(n.fillKey,{data:i[t.id],geography:t})]),void 0===e&&(e=c(n&&n.fillColor,r.defaultFill,{data:i[t.id],geography:t})),e}).style("stroke-width",e.borderWidth).style("stroke-opacity",e.borderOpacity).style("stroke",e.borderColor)}function o(){function i(){this.parentNode.appendChild(this)}var o=this.svg,a=this,s=this.options.geographyConfig;(s.highlightOnHover||s.popupOnHover)&&o.selectAll(".datamaps-subunit").on("mouseover",function(t){var e=f.select(this),n=a.options.data[t.id]||{};if(s.highlightOnHover){var r={fill:e.style("fill"),stroke:e.style("stroke"),"stroke-width":e.style("stroke-width"),"fill-opacity":e.style("fill-opacity")};e.style("fill",c(n.highlightFillColor,s.highlightFillColor,n)).style("stroke",c(n.highlightBorderColor,s.highlightBorderColor,n)).style("stroke-width",c(n.highlightBorderWidth,s.highlightBorderWidth,n)).style("stroke-opacity",c(n.highlightBorderOpacity,s.highlightBorderOpacity,n)).style("fill-opacity",c(n.highlightFillOpacity,s.highlightFillOpacity,n)).attr("data-previousAttributes",JSON.stringify(r)),/((MSIE)|(Trident))/.test(navigator.userAgent)||i.call(this)}s.popupOnHover&&a.updatePopup(e,t,s,o)}).on("mouseout",function(){var t=f.select(this);if(s.highlightOnHover){var e=JSON.parse(t.attr("data-previousAttributes"));for(var n in e)t.style(n,e[n])}t.on("mousemove",null),f.selectAll(".datamaps-hoverover").style("display","none")})}function r(t,e){if(e=e||{},this.options.fills){var n="<dl>",r="";for(var i in e.legendTitle&&(n="<h2>"+e.legendTitle+"</h2>"+n),this.options.fills){if("defaultFill"===i){if(!e.defaultFillName)continue;r=e.defaultFillName}else r=e.labels&&e.labels[i]?e.labels[i]:i+": ";n+="<dt>"+r+"</dt>",n+='<dd style="background-color:'+this.options.fills[i]+'">&nbsp;</dd>'}n+="</dl>",f.select(this.options.element).append("div").attr("class","datamaps-legend").html(n)}}function a(){var t=f.geo.graticule();this.svg.insert("path",".datamaps-subunits").datum(t).attr("class","datamaps-graticule").attr("d",this.path)}function s(t,e,a){var s=this;if(this.svg,!e||e&&!e.slice)throw"Datamaps Error - arcs must be an array";for(var n=0;n<e.length;n++)e[n]=d(e[n],e[n].options),delete e[n].options;void 0===a&&(a=g.arcConfig);var r=t.selectAll("path.datamaps-arc").data(e,JSON.stringify),l=f.geo.path().projection(s.projection);r.enter().append("svg:path").attr("class","datamaps-arc").style("stroke-linecap","round").style("stroke",function(t){return c(t.strokeColor,a.strokeColor,t)}).style("fill","none").style("stroke-width",function(t){return c(t.strokeWidth,a.strokeWidth,t)}).attr("d",function(t){var e=s.latLngToXY(c(t.origin.latitude,t),c(t.origin.longitude,t)),n=s.latLngToXY(c(t.destination.latitude,t),c(t.destination.longitude,t)),r=[(e[0]+n[0])/2,(e[1]+n[1])/2];if(a.greatArc){var i=f.geo.greatArc().source(function(t){return[c(t.origin.longitude,t),c(t.origin.latitude,t)]}).target(function(t){return[c(t.destination.longitude,t),c(t.destination.latitude,t)]});return l(i(t))}var o=c(t.arcSharpness,a.arcSharpness,t);return"M"+e[0]+","+e[1]+"S"+(r[0]+50*o)+","+(r[1]-75*o)+","+n[0]+","+n[1]}).attr("data-info",function(t){return JSON.stringify(t)}).transition().delay(100).style("fill",function(t){var e=this.getTotalLength();return this.style.transition=this.style.WebkitTransition="none",this.style.strokeDasharray=e+" "+e,this.style.strokeDashoffset=e,this.getBoundingClientRect(),this.style.transition=this.style.WebkitTransition="stroke-dashoffset "+c(t.animationSpeed,a.animationSpeed,t)+"ms ease-out",this.style.strokeDashoffset="0","none"}),r.exit().transition().style("opacity",0).remove()}function l(l,c){var u=this;c=c||{};var d=this.projection([-67.707617,42.722131]);this.svg.selectAll(".datamaps-subunit").attr("data-foo",function(t){var e,n,r=u.path.centroid(t),i=7.5,o=5;-1<["FL","KY","MI"].indexOf(t.id)&&(i=-2.5),"NY"===t.id&&(i=-1),"MI"===t.id&&(o=18),"LA"===t.id&&(i=13),e=r[0]-i,n=r[1]+o;var a=["VT","NH","MA","RI","CT","NJ","DE","MD","DC"].indexOf(t.id);if(-1<a){var s=d[1];e=d[0],n=s+a*(2+(c.fontSize||12)),l.append("line").attr("x1",e-3).attr("y1",n-5).attr("x2",r[0]).attr("y2",r[1]).style("stroke",c.labelColor||"#000").style("stroke-width",c.lineWidth||1)}return l.append("text").attr("x",e).attr("y",n).style("font-size",(c.fontSize||10)+"px").style("font-family",c.fontFamily||"Verdana").style("fill",c.labelColor||"#000").text(function(){return c.customLabelText&&c.customLabelText[t.id]?c.customLabelText[t.id]:t.id}),"bar"})}function u(t,e,r){function n(t){return void 0!==t&&"undefined"!=typeof t.latitude&&"undefined"!=typeof t.longitude}var i=this,o=this.options.fills,a=this.options.filters,s=this.svg;if(!e||e&&!e.slice)throw"Datamaps Error - bubbles must be an array";var l=t.selectAll("circle.datamaps-bubble").data(e,r.key);l.enter().append("svg:circle").attr("class","datamaps-bubble").attr("cx",function(t){var e;return n(t)?e=i.latLngToXY(t.latitude,t.longitude):t.centered&&(e=i.path.centroid(s.select("path."+t.centered).data()[0])),e?e[0]:void 0}).attr("cy",function(t){var e;return n(t)?e=i.latLngToXY(t.latitude,t.longitude):t.centered&&(e=i.path.centroid(s.select("path."+t.centered).data()[0])),e?e[1]:void 0}).attr("r",function(t){return r.animate?0:c(t.radius,r.radius,t)}).attr("data-info",function(t){return JSON.stringify(t)}).attr("filter",function(t){var e=a[c(t.filterKey,r.filterKey,t)];return e||void 0}).style("stroke",function(t){return c(t.borderColor,r.borderColor,t)}).style("stroke-width",function(t){return c(t.borderWidth,r.borderWidth,t)}).style("stroke-opacity",function(t){return c(t.borderOpacity,r.borderOpacity,t)}).style("fill-opacity",function(t){return c(t.fillOpacity,r.fillOpacity,t)}).style("fill",function(t){return o[c(t.fillKey,r.fillKey,t)]||o.defaultFill}).on("mouseover",function(t){var e=f.select(this);if(r.highlightOnHover){var n={fill:e.style("fill"),stroke:e.style("stroke"),"stroke-width":e.style("stroke-width"),"fill-opacity":e.style("fill-opacity")};e.style("fill",c(t.highlightFillColor,r.highlightFillColor,t)).style("stroke",c(t.highlightBorderColor,r.highlightBorderColor,t)).style("stroke-width",c(t.highlightBorderWidth,r.highlightBorderWidth,t)).style("stroke-opacity",c(t.highlightBorderOpacity,r.highlightBorderOpacity,t)).style("fill-opacity",c(t.highlightFillOpacity,r.highlightFillOpacity,t)).attr("data-previousAttributes",JSON.stringify(n))}r.popupOnHover&&i.updatePopup(e,t,r,s)}).on("mouseout",function(){var t=f.select(this);if(r.highlightOnHover){var e=JSON.parse(t.attr("data-previousAttributes"));for(var n in e)t.style(n,e[n])}f.selectAll(".datamaps-hoverover").style("display","none")}),l.transition().duration(400).attr("r",function(t){return c(t.radius,r.radius,t)}).transition().duration(0).attr("data-info",function(t){return JSON.stringify(t)}),l.exit().transition().delay(r.exitDelay).attr("r",0).remove()}function d(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t)for(var e in t)null==n[e]&&(n[e]=t[e])}),n}function h(t){if(void 0===f||void 0===p)throw new Error("Include d3.js (v3.0.3 or greater) and topojson on this page before creating a new map");return this.options=d(t,g),this.options.geographyConfig=d(t.geographyConfig,g.geographyConfig),this.options.projectionConfig=d(t.projectionConfig,g.projectionConfig),this.options.bubblesConfig=d(t.bubblesConfig,g.bubblesConfig),this.options.arcConfig=d(t.arcConfig,g.arcConfig),0<f.select(this.options.element).select("svg").length&&e.call(this,this.options.element,this.options.height,this.options.width),this.addPlugin("bubbles",u),this.addPlugin("legend",r),this.addPlugin("arc",s),this.addPlugin("labels",l),this.addPlugin("graticule",a),this.options.disableDefaultStyles||n(),this.draw()}var f=window.d3,p=window.topojson,g={scope:"world",responsive:!1,aspectRatio:.5625,setProjection:t,projection:"equirectangular",dataType:"json",data:{},done:function(){},fills:{defaultFill:"#ABDDA4"},filters:{},geographyConfig:{dataUrl:null,hideAntarctica:!0,hideHawaiiAndAlaska:!1,borderWidth:1,borderOpacity:1,borderColor:"#FDFDFD",popupTemplate:function(t){return'<div class="hoverinfo"><strong>'+t.properties.name+"</strong></div>"},popupOnHover:!0,highlightOnHover:!0,highlightFillColor:"#FC8D59",highlightBorderColor:"rgba(250, 15, 160, 0.2)",highlightBorderWidth:2,highlightBorderOpacity:1},projectionConfig:{rotation:[97,0]},bubblesConfig:{borderWidth:2,borderOpacity:1,borderColor:"#FFFFFF",popupOnHover:!0,radius:null,popupTemplate:function(t,e){return'<div class="hoverinfo"><strong>'+e.name+"</strong></div>"},fillOpacity:.75,animate:!0,highlightOnHover:!0,highlightFillColor:"#FC8D59",highlightBorderColor:"rgba(250, 15, 160, 0.2)",highlightBorderWidth:2,highlightBorderOpacity:1,highlightFillOpacity:.85,exitDelay:100,key:JSON.stringify},arcConfig:{strokeColor:"#DD1C77",strokeWidth:1,arcSharpness:1,animationSpeed:600}};h.prototype.resize=function(){var t=this.options;if(t.responsive){var e=t.element.clientWidth,n=f.select(t.element).select("svg").attr("data-width");f.select(t.element).select("svg").selectAll("g").attr("transform","scale("+e/n+")")}},h.prototype.draw=function(){function n(t){r.options.dataUrl&&f[r.options.dataType](r.options.dataUrl,function(t){if("csv"===r.options.dataType&&t&&t.slice){for(var e={},n=0;n<t.length;n++)e[t[n].id]=t[n];t=e}Datamaps.prototype.updateChoropleth.call(r,t)}),i.call(r,t),o.call(r),(r.options.geographyConfig.popupOnHover||r.options.bubblesConfig.popupOnHover)&&(hoverover=f.select(r.options.element).append("div").attr("class","datamaps-hoverover").style("z-index",10001).style("position","absolute")),r.options.done(r)}var r=this,t=r.options,e=t.setProjection.apply(r,[t.element,t]);return this.path=e.path,this.projection=e.projection,t.geographyConfig.dataUrl?f.json(t.geographyConfig.dataUrl,function(t,e){if(t)throw new Error(t);n(r.customTopo=e)}):n(this[t.scope+"Topo"]||t.geographyConfig.dataJson),this},h.prototype.worldTopo="__WORLD__",h.prototype.abwTopo="__ABW__",h.prototype.afgTopo="__AFG__",h.prototype.agoTopo="__AGO__",h.prototype.aiaTopo="__AIA__",h.prototype.albTopo="__ALB__",h.prototype.aldTopo="__ALD__",h.prototype.andTopo="__AND__",h.prototype.areTopo="__ARE__",h.prototype.argTopo="__ARG__",h.prototype.armTopo="__ARM__",h.prototype.asmTopo="__ASM__",h.prototype.ataTopo="__ATA__",h.prototype.atcTopo="__ATC__",h.prototype.atfTopo="__ATF__",h.prototype.atgTopo="__ATG__",h.prototype.ausTopo="__AUS__",h.prototype.autTopo="__AUT__",h.prototype.azeTopo="__AZE__",h.prototype.bdiTopo="__BDI__",h.prototype.belTopo="__BEL__",h.prototype.benTopo="__BEN__",h.prototype.bfaTopo="__BFA__",h.prototype.bgdTopo="__BGD__",h.prototype.bgrTopo="__BGR__",h.prototype.bhrTopo="__BHR__",h.prototype.bhsTopo="__BHS__",h.prototype.bihTopo="__BIH__",h.prototype.bjnTopo="__BJN__",h.prototype.blmTopo="__BLM__",h.prototype.blrTopo="__BLR__",h.prototype.blzTopo="__BLZ__",h.prototype.bmuTopo="__BMU__",h.prototype.bolTopo="__BOL__",h.prototype.braTopo="__BRA__",h.prototype.brbTopo="__BRB__",h.prototype.brnTopo="__BRN__",h.prototype.btnTopo="__BTN__",h.prototype.norTopo="__NOR__",h.prototype.bwaTopo="__BWA__",h.prototype.cafTopo="__CAF__",h.prototype.canTopo="__CAN__",h.prototype.cheTopo="__CHE__",h.prototype.chlTopo="__CHL__",h.prototype.chnTopo="__CHN__",h.prototype.civTopo="__CIV__",h.prototype.clpTopo="__CLP__",h.prototype.cmrTopo="__CMR__",h.prototype.codTopo="__COD__",h.prototype.cogTopo="__COG__",h.prototype.cokTopo="__COK__",h.prototype.colTopo="__COL__",h.prototype.comTopo="__COM__",h.prototype.cpvTopo="__CPV__",h.prototype.criTopo="__CRI__",h.prototype.csiTopo="__CSI__",h.prototype.cubTopo="__CUB__",h.prototype.cuwTopo="__CUW__",h.prototype.cymTopo="__CYM__",h.prototype.cynTopo="__CYN__",h.prototype.cypTopo="__CYP__",h.prototype.czeTopo="__CZE__",h.prototype.deuTopo="__DEU__",h.prototype.djiTopo="__DJI__",h.prototype.dmaTopo="__DMA__",h.prototype.dnkTopo="__DNK__",h.prototype.domTopo="__DOM__",h.prototype.dzaTopo="__DZA__",h.prototype.ecuTopo="__ECU__",h.prototype.egyTopo="__EGY__",h.prototype.eriTopo="__ERI__",h.prototype.esbTopo="__ESB__",h.prototype.espTopo="__ESP__",h.prototype.estTopo="__EST__",h.prototype.ethTopo="__ETH__",h.prototype.finTopo="__FIN__",h.prototype.fjiTopo="__FJI__",h.prototype.flkTopo="__FLK__",h.prototype.fraTopo="__FRA__",h.prototype.froTopo="__FRO__",h.prototype.fsmTopo="__FSM__",h.prototype.gabTopo="__GAB__",h.prototype.psxTopo="__PSX__",h.prototype.gbrTopo="__GBR__",h.prototype.geoTopo="__GEO__",h.prototype.ggyTopo="__GGY__",h.prototype.ghaTopo="__GHA__",h.prototype.gibTopo="__GIB__",h.prototype.ginTopo="__GIN__",h.prototype.gmbTopo="__GMB__",h.prototype.gnbTopo="__GNB__",h.prototype.gnqTopo="__GNQ__",h.prototype.grcTopo="__GRC__",h.prototype.grdTopo="__GRD__",h.prototype.grlTopo="__GRL__",h.prototype.gtmTopo="__GTM__",h.prototype.gumTopo="__GUM__",h.prototype.guyTopo="__GUY__",h.prototype.hkgTopo="__HKG__",h.prototype.hmdTopo="__HMD__",h.prototype.hndTopo="__HND__",h.prototype.hrvTopo="__HRV__",h.prototype.htiTopo="__HTI__",h.prototype.hunTopo="__HUN__",h.prototype.idnTopo="__IDN__",h.prototype.imnTopo="__IMN__",h.prototype.indTopo="__IND__",h.prototype.ioaTopo="__IOA__",h.prototype.iotTopo="__IOT__",h.prototype.irlTopo="__IRL__",h.prototype.irnTopo="__IRN__",h.prototype.irqTopo="__IRQ__",h.prototype.islTopo="__ISL__",h.prototype.isrTopo="__ISR__",h.prototype.itaTopo="__ITA__",h.prototype.jamTopo="__JAM__",h.prototype.jeyTopo="__JEY__",h.prototype.jorTopo="__JOR__",h.prototype.jpnTopo="__JPN__",h.prototype.kabTopo="__KAB__",h.prototype.kasTopo="__KAS__",h.prototype.kazTopo="__KAZ__",h.prototype.kenTopo="__KEN__",h.prototype.kgzTopo="__KGZ__",h.prototype.khmTopo="__KHM__",h.prototype.kirTopo="__KIR__",h.prototype.knaTopo="__KNA__",h.prototype.korTopo="__KOR__",h.prototype.kosTopo="__KOS__",h.prototype.kwtTopo="__KWT__",h.prototype.laoTopo="__LAO__",h.prototype.lbnTopo="__LBN__",h.prototype.lbrTopo="__LBR__",h.prototype.lbyTopo="__LBY__",h.prototype.lcaTopo="__LCA__",h.prototype.lieTopo="__LIE__",h.prototype.lkaTopo="__LKA__",h.prototype.lsoTopo="__LSO__",h.prototype.ltuTopo="__LTU__",h.prototype.luxTopo="__LUX__",h.prototype.lvaTopo="__LVA__",h.prototype.macTopo="__MAC__",h.prototype.mafTopo="__MAF__",h.prototype.marTopo="__MAR__",h.prototype.mcoTopo="__MCO__",h.prototype.mdaTopo="__MDA__",h.prototype.mdgTopo="__MDG__",h.prototype.mdvTopo="__MDV__",h.prototype.mexTopo="__MEX__",h.prototype.mhlTopo="__MHL__",h.prototype.mkdTopo="__MKD__",h.prototype.mliTopo="__MLI__",h.prototype.mltTopo="__MLT__",h.prototype.mmrTopo="__MMR__",h.prototype.mneTopo="__MNE__",h.prototype.mngTopo="__MNG__",h.prototype.mnpTopo="__MNP__",h.prototype.mozTopo="__MOZ__",h.prototype.mrtTopo="__MRT__",h.prototype.msrTopo="__MSR__",h.prototype.musTopo="__MUS__",h.prototype.mwiTopo="__MWI__",h.prototype.mysTopo="__MYS__",h.prototype.namTopo="__NAM__",h.prototype.nclTopo="__NCL__",h.prototype.nerTopo="__NER__",h.prototype.nfkTopo="__NFK__",h.prototype.ngaTopo="__NGA__",h.prototype.nicTopo="__NIC__",h.prototype.niuTopo="__NIU__",h.prototype.nldTopo="__NLD__",h.prototype.nplTopo="__NPL__",h.prototype.nruTopo="__NRU__",h.prototype.nulTopo="__NUL__",h.prototype.nzlTopo="__NZL__",h.prototype.omnTopo="__OMN__",h.prototype.pakTopo="__PAK__",h.prototype.panTopo="__PAN__",h.prototype.pcnTopo="__PCN__",h.prototype.perTopo="__PER__",h.prototype.pgaTopo="__PGA__",h.prototype.phlTopo="__PHL__",h.prototype.plwTopo="__PLW__",h.prototype.pngTopo="__PNG__",h.prototype.polTopo="__POL__",h.prototype.priTopo="__PRI__",h.prototype.prkTopo="__PRK__",h.prototype.prtTopo="__PRT__",h.prototype.pryTopo="__PRY__",h.prototype.pyfTopo="__PYF__",h.prototype.qatTopo="__QAT__",h.prototype.rouTopo="__ROU__",h.prototype.rusTopo="__RUS__",h.prototype.rwaTopo="__RWA__",h.prototype.sahTopo="__SAH__",h.prototype.sauTopo="__SAU__",h.prototype.scrTopo="__SCR__",h.prototype.sdnTopo="__SDN__",h.prototype.sdsTopo="__SDS__",h.prototype.senTopo="__SEN__",h.prototype.serTopo="__SER__",h.prototype.sgpTopo="__SGP__",h.prototype.sgsTopo="__SGS__",h.prototype.shnTopo="__SHN__",h.prototype.slbTopo="__SLB__",h.prototype.sleTopo="__SLE__",h.prototype.slvTopo="__SLV__",h.prototype.smrTopo="__SMR__",h.prototype.solTopo="__SOL__",h.prototype.somTopo="__SOM__",h.prototype.spmTopo="__SPM__",h.prototype.srbTopo="__SRB__",h.prototype.stpTopo="__STP__",h.prototype.surTopo="__SUR__",h.prototype.svkTopo="__SVK__",h.prototype.svnTopo="__SVN__",h.prototype.sweTopo="__SWE__",h.prototype.swzTopo="__SWZ__",h.prototype.sxmTopo="__SXM__",h.prototype.sycTopo="__SYC__",h.prototype.syrTopo="__SYR__",h.prototype.tcaTopo="__TCA__",h.prototype.tcdTopo="__TCD__",h.prototype.tgoTopo="__TGO__",h.prototype.thaTopo="__THA__",h.prototype.tjkTopo="__TJK__",h.prototype.tkmTopo="__TKM__",h.prototype.tlsTopo="__TLS__",h.prototype.tonTopo="__TON__",h.prototype.ttoTopo="__TTO__",h.prototype.tunTopo="__TUN__",h.prototype.turTopo="__TUR__",h.prototype.tuvTopo="__TUV__",h.prototype.twnTopo="__TWN__",h.prototype.tzaTopo="__TZA__",h.prototype.ugaTopo="__UGA__",h.prototype.ukrTopo="__UKR__",h.prototype.umiTopo="__UMI__",h.prototype.uryTopo="__URY__",h.prototype.usaTopo={type:"Topology",transform:{scale:[.03514630243024302,.005240860686068607],translate:[-178.123152,18.948267]},objects:{usa:{type:"GeometryCollection",geometries:[{type:"Polygon",id:"AL",arcs:[[0,1,2,3,4]],properties:{name:"Alabama"}},{type:"MultiPolygon",id:"AK",arcs:[[[5]],[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]]],properties:{name:"Alaska"}},{type:"Polygon",id:"AZ",arcs:[[44,45,46,47,48]],properties:{name:"Arizona"}},{type:"Polygon",id:"AR",arcs:[[49,50,51,52,53,54]],properties:{name:"Arkansas"}},{type:"Polygon",id:"CA",arcs:[[55,-47,56,57]],properties:{name:"California"}},{type:"Polygon",id:"CO",arcs:[[58,59,60,61,62,63]],properties:{name:"Colorado"}},{type:"Polygon",id:"CT",arcs:[[64,65,66,67]],properties:{name:"Connecticut"}},{type:"Polygon",id:"DE",arcs:[[68,69,70,71]],properties:{name:"Delaware"}},{type:"Polygon",id:"DC",arcs:[[72,73]],properties:{name:"District of Columbia"}},{type:"Polygon",id:"FL",arcs:[[74,75,-2]],properties:{name:"Florida"}},{type:"Polygon",id:"GA",arcs:[[76,77,-75,-1,78,79]],properties:{name:"Georgia"}},{type:"MultiPolygon",id:"HI",arcs:[[[80]],[[81]],[[82]],[[83]],[[84]]],properties:{name:"Hawaii"}},{type:"Polygon",id:"ID",arcs:[[85,86,87,88,89,90,91]],properties:{name:"Idaho"}},{type:"Polygon",id:"IL",arcs:[[92,93,94,95,96,97]],properties:{name:"Illinois"}},{type:"Polygon",id:"IN",arcs:[[98,99,-95,100,101]],properties:{name:"Indiana"}},{type:"Polygon",id:"IA",arcs:[[102,-98,103,104,105,106]],properties:{name:"Iowa"}},{type:"Polygon",id:"KS",arcs:[[107,108,-60,109]],properties:{name:"Kansas"}},{type:"Polygon",id:"KY",arcs:[[110,111,112,113,-96,-100,114]],properties:{name:"Kentucky"}},{type:"Polygon",id:"LA",arcs:[[115,116,117,-52]],properties:{name:"Louisiana"}},{type:"Polygon",id:"ME",arcs:[[118,119]],properties:{name:"Maine"}},{type:"MultiPolygon",id:"MD",arcs:[[[120]],[[-71,121,122,123,124,-74,125,126,127]]],properties:{name:"Maryland"}},{type:"Polygon",id:"MA",arcs:[[128,129,130,131,-68,132,133,134]],properties:{name:"Massachusetts"}},{type:"MultiPolygon",id:"MI",arcs:[[[-102,135,136]],[[137]],[[138,139]],[[140]]],properties:{name:"Michigan"}},{type:"Polygon",id:"MN",arcs:[[-107,141,142,143,144]],properties:{name:"Minnesota"}},{type:"Polygon",id:"MS",arcs:[[-4,145,-116,-51,146]],properties:{name:"Mississippi"}},{type:"Polygon",id:"MO",arcs:[[-97,-114,147,-55,148,-108,149,-104]],properties:{name:"Missouri"}},{type:"Polygon",id:"MT",arcs:[[150,151,-92,152,153]],properties:{name:"Montana"}},{type:"Polygon",id:"NE",arcs:[[-105,-150,-110,-59,154,155]],properties:{name:"Nebraska"}},{type:"Polygon",id:"NV",arcs:[[156,-48,-56,157,-88]],properties:{name:"Nevada"}},{type:"Polygon",id:"NH",arcs:[[-135,158,159,-120,160]],properties:{name:"New Hampshire"}},{type:"Polygon",id:"NJ",arcs:[[161,-69,162,163]],properties:{name:"New Jersey"}},{type:"Polygon",id:"NM",arcs:[[164,165,166,-45,-62]],properties:{name:"New Mexico"}},{type:"Polygon",id:"NY",arcs:[[-133,-67,167,-164,168,169,170]],properties:{name:"New York"}},{type:"Polygon",id:"NC",arcs:[[171,172,-80,173,174]],properties:{name:"North Carolina"}},{type:"Polygon",id:"ND",arcs:[[175,-154,176,-143]],properties:{name:"North Dakota"}},{type:"Polygon",id:"OH",arcs:[[177,-115,-99,-137,178,179]],properties:{name:"Ohio"}},{type:"Polygon",id:"OK",arcs:[[-149,-54,180,-165,-61,-109]],properties:{name:"Oklahoma"}},{type:"Polygon",id:"OR",arcs:[[-89,-158,-58,181,182]],properties:{name:"Oregon"}},{type:"Polygon",id:"PA",arcs:[[-163,-72,-128,183,-180,184,-169]],properties:{name:"Pennsylvania"}},{type:"MultiPolygon",id:"RI",arcs:[[[185,-130]],[[186,-65,-132]]],properties:{name:"Rhode Island"}},{type:"Polygon",id:"SC",arcs:[[187,-77,-173]],properties:{name:"South Carolina"}},{type:"Polygon",id:"SD",arcs:[[-142,-106,-156,188,-151,-176]],properties:{name:"South Dakota"}},{type:"Polygon",id:"TN",arcs:[[189,-174,-79,-5,-147,-50,-148,-113]],properties:{name:"Tennessee"}},{type:"Polygon",id:"TX",arcs:[[-53,-118,190,-166,-181]],properties:{name:"Texas"}},{type:"Polygon",id:"UT",arcs:[[191,-63,-49,-157,-87]],properties:{name:"Utah"}},{type:"Polygon",id:"VT",arcs:[[-134,-171,192,-159]],properties:{name:"Vermont"}},{type:"MultiPolygon",id:"VA",arcs:[[[193,-123]],[[120]],[[-126,-73,-125,194,-175,-190,-112,195]]],properties:{name:"Virginia"}},{type:"MultiPolygon",id:"WA",arcs:[[[-183,196,-90]],[[197]],[[198]]],properties:{name:"Washington"}},{type:"Polygon",id:"WV",arcs:[[-184,-127,-196,-111,-178]],properties:{name:"West Virginia"}},{type:"Polygon",id:"WI",arcs:[[199,-93,-103,-145,200,-140]],properties:{name:"Wisconsin"}},{type:"Polygon",id:"WY",arcs:[[-189,-155,-64,-192,-86,-152]],properties:{name:"Wyoming"}}]}},arcs:[[[2632,3060],[5,-164],[7,-242],[4,-53],[3,-30],[-2,-19],[4,-11],[-5,-25],[0,-24],[-2,-32],[2,-57],[-2,-51],[3,-52]],[[2649,2300],[-14,-1],[-59,0],[-1,-25],[6,-37],[-1,-31],[2,-16],[-4,-28]],[[2578,2162],[-4,-6],[-7,31],[-1,47],[-2,6],[-3,-36],[-1,-34],[-7,9]],[[2553,2179],[-2,291],[6,363],[4,209],[-3,20]],[[2558,3062],[24,1],[50,-3]],[[1324,6901],[1,32],[6,-19],[-1,-32],[-8,4],[2,15]],[[1317,6960],[5,-23],[-3,-33],[-2,11],[0,45]],[[1285,7153],[6,5],[3,-8],[-1,-28],[-6,-6],[-5,17],[3,20]],[[1267,7137],[12,-7],[3,-36],[13,-41],[4,-25],[0,-21],[3,-4],[1,-27],[5,-27],[0,-25],[3,8],[2,-19],[1,-74],[-3,-17],[-7,3],[-3,38],[-2,-3],[-6,28],[-2,-10],[-5,10],[1,-28],[5,7],[3,-10],[-2,-39],[-5,4],[-9,49],[-2,25],[1,26],[-7,-2],[0,20],[5,2],[5,18],[-2,31],[-6,7],[-1,50],[-2,25],[-4,-18],[-2,28],[4,14],[-3,32],[2,8]],[[1263,6985],[5,-12],[4,15],[4,-7],[-4,-28],[-6,8],[-3,24]],[[1258,7247],[-4,19],[5,13],[15,-18],[7,1],[5,-36],[9,-29],[-1,-22],[-5,-11],[-6,5],[-5,-14],[-6,9],[-7,-9],[-1,45],[0,30],[-5,1],[-1,16]],[[1252,7162],[-4,14],[-4,32],[0,24],[3,11],[4,-11],[0,20],[12,-35],[1,-33],[-4,-5],[-3,-37],[3,-11],[-3,-43],[-5,9],[0,-27],[-3,13],[-2,54],[5,25]],[[1207,7331],[8,38],[3,-16],[7,-13],[6,-2],[0,-30],[6,-99],[0,-85],[-1,-22],[-4,13],[-10,84],[-7,25],[3,20],[-3,48],[-8,39]],[[1235,7494],[10,-15],[5,2],[0,-14],[8,-52],[-5,8],[-2,-18],[6,-27],[2,-48],[-6,-13],[-2,-16],[-10,-35],[-3,1],[-1,37],[2,22],[-1,32],[-3,40],[0,21],[-2,51],[-4,22],[-1,38],[7,-36]],[[1203,7324],[4,0],[4,-35],[-2,-24],[-6,-5],[0,38],[0,26]],[[1207,7331],[-5,7],[-3,26],[-6,18],[-5,37],[-6,17],[1,30],[4,10],[1,26],[3,-11],[8,-1],[6,17],[8,-23],[-5,-26],[2,-9],[4,28],[10,-9],[5,-21],[-3,-38],[3,-3],[3,-50],[-7,-7],[-14,41],[0,-42],[-4,-17]],[[883,7871],[-12,-48],[-1,-19],[-9,-12],[2,29],[10,30],[7,34],[3,-14]],[[870,7943],[-2,-39],[-4,-41],[-6,14],[5,47],[7,19]],[[863,9788],[3,-8],[15,-9],[8,5],[10,0],[12,-7],[7,4],[7,-15],[12,-18],[16,-4],[5,10],[11,6],[4,14],[12,2],[0,-9],[7,5],[15,-15],[9,-24],[10,-11],[2,-11],[8,-2],[8,-18],[1,-11],[5,9],[6,-7],[0,-1783],[13,-16],[2,17],[14,-24],[8,30],[18,4],[-3,-52],[4,-17],[10,-17],[2,-27],[29,-101],[4,-63],[6,17],[12,31],[7,1],[3,23],[0,34],[5,0],[1,31],[9,7],[13,26],[13,-45],[-1,-27],[3,-27],[7,-7],[10,-40],[-1,-12],[4,-22],[12,-25],[19,-110],[3,-29],[6,-29],[8,-65],[9,-55],[-3,-23],[9,-9],[-2,-33],[7,-14],[1,-38],[7,2],[14,-40],[9,-7],[5,-19],[4,-5],[1,-19],[9,-5],[3,-23],[-4,-43],[1,-36],[4,-58],[-4,-15],[-6,-53],[-10,-39],[-3,20],[-4,-6],[-3,39],[1,17],[-3,20],[7,21],[-2,7],[-7,-26],[-3,17],[-4,-10],[-12,42],[4,46],[-8,-15],[0,-23],[-6,17],[-1,22],[4,24],[-1,24],[-6,-19],[-6,42],[-3,-8],[-2,36],[5,23],[6,0],[-2,28],[3,36],[-5,-1],[-9,32],[-6,37],[-15,27],[0,77],[-4,9],[1,31],[-5,9],[-8,42],[-2,22],[-12,7],[-14,56],[-6,132],[-3,-30],[1,-27],[6,-53],[-1,-8],[3,-43],[0,-28],[-6,6],[-4,31],[-6,6],[-8,-9],[0,45],[-5,38],[-5,-12],[-17,40],[-2,-11],[10,-13],[7,-31],[3,-1],[1,-25],[4,-30],[-10,-16],[-5,10],[0,-26],[-8,20],[-2,14],[-5,0],[-13,38],[-10,33],[-1,20],[-5,30],[-14,21],[-9,21],[-14,26],[-9,24],[1,26],[2,-9],[3,17],[-3,38],[4,21],[-2,9],[-7,-40],[-14,-26],[-18,10],[-14,24],[-1,18],[-7,-4],[-7,14],[-17,12],[-9,1],[-21,-10],[-8,-7],[-10,27],[-12,12],[-3,17],[-2,28],[-8,-2],[-3,-25],[-15,34],[-2,14],[-15,-27],[-7,-32],[-3,30],[3,17],[4,-5],[14,22],[-2,17],[-6,-8],[-3,22],[-6,3],[-6,55],[-3,-13],[-8,-8],[-3,8],[-3,-18],[-11,6],[-1,-20],[-7,-5],[-3,7],[2,36],[-3,-1],[-5,-38],[7,-12],[1,-27],[4,-30],[-3,-31],[-5,10],[-2,-15],[6,-7],[3,-41],[-8,-9],[-4,9],[-7,-12],[-3,10],[-9,-2],[0,16],[-4,-10],[-3,-20],[-3,18],[-5,-25],[2,-12],[-6,-15],[-6,-2],[-3,-20],[-6,-17],[-4,6],[-5,-21],[-4,1],[-8,-43],[-9,-3],[-3,14],[-5,-23],[-11,17],[2,33],[8,11],[4,-2],[2,13],[8,25],[0,21],[-11,-28],[-9,16],[-1,12],[5,48],[8,34],[1,29],[2,5],[1,30],[-4,34],[10,12],[19,48],[4,-19],[6,-5],[9,20],[-10,26],[-4,20],[-7,-2],[-5,9],[-2,-8],[-9,-14],[-4,-26],[-9,-6],[-9,-30],[-1,-20],[-7,-11],[-2,-22],[-5,-13],[-2,-39],[-10,-25],[5,-20],[-4,-29],[-9,-5],[-1,-38],[-8,-13],[-3,15],[-4,-29],[-5,-1],[1,-21],[-11,-13],[-2,-57],[12,-3],[10,-16],[3,-19],[-4,-30],[-7,-19],[-6,-1],[0,-17],[-4,-6],[1,-21],[-4,-31],[-9,-29],[-5,0],[-5,-11],[-5,2],[-4,-11],[2,-16],[-7,-8],[-2,-23],[-5,14],[-5,-45],[-9,4],[1,-24],[-6,6],[-3,-11],[0,-32],[-6,-50],[-10,-6],[-7,-23],[-2,-13],[-5,18],[-8,-48],[-2,13],[-5,-4],[-1,-27],[-5,-10],[-6,4],[-4,-27],[8,-9],[-9,-60],[-25,-20],[-6,-54],[-2,12],[1,33],[-5,6],[-6,-13],[-1,-14],[-10,-22],[-4,-25],[-1,18],[-2,-21],[-6,14],[-10,-33],[-8,2],[1,25],[-4,24],[-3,-20],[1,-21],[-11,-64],[-3,16],[-1,-24],[-8,4],[-1,38],[-4,8],[-2,-14],[4,-16],[-2,-27],[-5,-13],[-5,29],[-5,2],[-1,-11],[5,-17],[-9,-27],[6,-7],[0,-13],[-5,9],[-7,-25],[-15,1],[-7,-16],[0,-13],[-8,-15],[-6,6],[-2,35],[6,12],[4,43],[6,1],[13,28],[10,1],[4,-27],[3,20],[-1,23],[6,10],[7,0],[8,50],[10,45],[12,40],[15,18],[6,-9],[6,12],[1,-17],[-3,-19],[4,-14],[1,23],[7,2],[2,-15],[5,-5],[0,18],[-8,15],[0,11],[5,49],[6,28],[9,27],[15,24],[10,35],[5,-13],[4,5],[-1,22],[1,21],[8,44],[11,28],[8,38],[0,21],[7,148],[11,40],[-1,31],[-27,-45],[-8,6],[-2,18],[-5,9],[-1,21],[-4,-10],[-3,-32],[5,-41],[-6,-18],[-5,7],[-9,64],[-6,33],[-4,0],[-2,-24],[-3,-4],[-4,19],[-5,4],[-2,32],[-16,-37],[-13,-26],[-1,-14],[-11,-22],[-6,20],[5,23],[-1,54],[-4,57],[7,24],[-6,49],[-5,27],[-4,39],[-6,17],[-2,-34],[-7,-8],[-12,-22],[-14,-9],[-7,2],[-7,12],[-1,30],[-5,9],[-9,42],[-8,8],[-8,46],[6,21],[1,39],[-5,-8],[0,24],[2,19],[-6,18],[0,-19],[-7,8],[-1,32],[-6,4],[-3,22],[0,27],[-5,-12],[-1,26],[7,6],[-6,30],[10,2],[0,35],[2,24],[18,77],[4,23],[3,-5],[-2,33],[7,55],[6,22],[11,9],[8,-9],[12,-33],[8,4],[11,32],[11,49],[6,6],[1,-13],[13,0],[12,10],[11,52],[0,12],[-5,48],[-1,28],[-8,31],[-3,26],[8,-7],[8,22],[0,20],[-10,39],[-8,-30],[-7,5],[-6,-17],[-8,-4],[-2,-11],[-9,-17],[-2,-28],[-5,-12],[-2,34],[-5,7],[-4,-26],[-2,12],[-10,19],[-20,-1],[-14,-21],[-6,-3],[-11,13],[-22,14],[-6,12],[-3,19],[2,26],[-8,22],[2,24],[5,12],[-2,31],[-8,0],[-6,8],[-13,6],[-7,16],[-10,16],[-1,19],[16,27],[20,43],[15,27],[8,-15],[8,-3],[2,21],[-5,3],[-1,18],[20,29],[22,22],[12,2],[7,-7],[-4,-32],[2,-22],[-3,-15],[4,-26],[8,5],[10,-5],[11,6],[4,-10],[7,-2],[7,10],[8,-11],[9,42],[5,2],[5,-8],[2,24],[-12,11],[-11,-9],[1,31],[-8,34],[-10,10],[-2,30],[7,8],[9,-31],[-1,-24],[4,-18],[10,-22],[2,23],[-11,30],[5,54],[-4,10],[-11,-12],[-11,3],[-2,10],[-6,-10],[-24,23],[0,
24],[-7,54],[-6,19],[-9,17],[-19,46],[-9,18],[-8,4],[-13,31],[-12,18],[-1,6],[9,10],[4,29],[1,59],[25,-4],[31,13],[8,11],[12,29],[12,45],[3,45],[5,38],[10,33],[5,24],[13,38],[2,-10],[11,-3],[16,20],[10,21],[24,64],[9,4],[1,-10],[9,7],[9,-2],[18,9],[17,28],[17,58],[7,13],[2,-10],[26,-24],[2,-17],[-9,-22],[-4,-1],[0,-29],[14,9],[0,16],[6,14],[2,-8],[5,33],[13,-30],[-2,-23],[8,-6],[5,-14],[7,22],[13,1],[7,7],[18,-7],[10,-8],[-5,-45],[17,-12],[2,-11],[16,-20],[1,9],[12,13],[11,-1],[0,-11],[7,-1],[7,15],[11,2],[9,-6],[11,-16],[5,3],[7,-22],[4,9],[7,-7],[5,-13]],[[717,7456],[-1,-8],[-9,13],[7,49],[6,4],[4,45],[5,-40],[4,14],[8,-22],[0,-31],[-11,-4],[-5,-13],[-8,-7]],[[688,7363],[8,25],[-8,6],[0,22],[6,14],[5,-10],[0,-22],[3,15],[0,32],[5,-15],[1,21],[5,-12],[5,0],[5,11],[7,-20],[0,-55],[9,4],[-6,-37],[-11,15],[4,-24],[-3,-20],[-6,10],[0,-38],[-8,-10],[-3,-16],[-5,15],[-6,-40],[-4,-4],[-5,-18],[-2,43],[-6,-23],[-1,13],[-6,14],[0,39],[-6,15],[4,45],[11,28],[7,-2],[1,-21]],[[671,7185],[-6,-39],[-2,6],[8,33]],[[640,7055],[4,-2],[-1,-40],[-8,6],[-1,13],[6,23]],[[519,6933],[-2,-41],[-9,-33],[5,51],[2,-5],[4,28]],[[501,6947],[5,0],[0,-20],[-5,-23],[-5,15],[-3,-14],[-2,35],[2,12],[8,-5]],[[451,6875],[1,-16],[-3,-11],[-3,18],[5,9]],[[447,8527],[-4,-19],[-2,16],[6,3]],[[436,6781],[6,-7],[-1,-16],[-5,1],[0,22]],[[358,6745],[2,-22],[-5,-10],[-1,23],[4,9]],[[352,6718],[-8,-21],[-2,14],[3,19],[7,-12]],[[335,7902],[6,7],[2,-14],[5,3],[6,-12],[1,-54],[-3,-18],[-7,-11],[-2,-18],[-11,20],[-5,-1],[-10,28],[-4,0],[-6,15],[-3,25],[4,7],[10,-7],[5,20],[5,2],[3,14],[4,-6]],[[334,6690],[5,-14],[-10,-36],[1,-6],[12,26],[0,-15],[-5,-17],[-8,-12],[-1,-18],[-8,-18],[-7,-1],[-5,-18],[-9,-16],[-5,17],[9,20],[3,-3],[8,16],[-2,19],[4,20],[6,-9],[1,12],[-7,4],[-4,14],[4,23],[11,13],[2,-26],[5,25]],[[266,6527],[10,37],[1,16],[4,17],[7,9],[3,-10],[1,-25],[-12,-27],[-6,-40],[-6,-13],[-2,36]],[[238,6477],[2,-19],[-8,-1],[-1,13],[7,7]],[[227,7303],[-4,-18],[-1,18],[5,0]],[[212,6440],[2,-18],[-5,-13],[-1,19],[4,12]],[[182,8542],[22,-28],[13,24],[6,-2],[5,-14],[2,-23],[11,-12],[4,-12],[15,-5],[8,-8],[-4,-28],[-7,6],[-8,-5],[-4,-13],[-4,-28],[-5,26],[-6,18],[-6,2],[-3,20],[-15,25],[-6,1],[-11,-22],[-7,11],[-4,23],[4,44]],[[162,6381],[0,-22],[-5,-4],[1,19],[4,7]],[[128,6335],[4,-8],[10,1],[1,-7],[-13,-9],[-2,23]],[[108,6360],[0,19],[4,7],[6,-19],[-2,-17],[-4,1],[1,-20],[-5,-2],[-12,-21],[-6,6],[2,15],[7,-2],[9,33]],[[47,6279],[5,3],[0,-24],[-6,3],[-8,-28],[-4,37],[4,1],[0,29],[5,1],[0,-21],[4,-1]],[[28,6296],[3,-9],[-2,-32],[-5,-10],[0,20],[4,31]],[[0,6291],[5,-1],[4,-23],[-4,-27],[-5,51]],[[9993,6496],[6,-13],[0,-19],[-11,-12],[-8,31],[0,15],[13,-2]],[[1966,3444],[-1,-1081]],[[1965,2363],[-57,0],[-34,71],[-73,150],[3,43]],[[1804,2627],[6,8],[1,16],[-1,36],[-4,1],[-2,71],[6,27],[0,28],[-1,45],[4,34],[4,12],[4,25],[-6,27],[-4,51],[-5,31],[0,24]],[[1806,3063],[2,26],[0,36],[-3,36],[-2,112],[11,7],[3,-23],[3,1],[3,33],[0,153]],[[1823,3444],[101,2],[42,-2]],[[2515,3253],[-1,-35],[-4,-11],[-1,-29],[-5,-31],[0,-46],[-3,-34],[-3,-5]],[[2498,3062],[2,-17],[-4,-14],[-2,-33],[-3,-8],[0,-38],[-5,-10],[0,-13],[-6,-31],[2,-21],[-5,-30],[-5,-59],[5,-25],[-2,-16],[1,-39],[-2,-26]],[[2474,2682],[-69,3],[-13,0]],[[2392,2685],[0,101],[-4,8],[-5,-9],[-3,18]],[[2380,2803],[1,335],[-5,211]],[[2376,3349],[4,0],[123,-1],[2,-36],[-4,-23],[-4,-36],[18,0]],[[1654,4398],[0,-331],[0,-241],[36,-171],[35,-169],[27,-137],[20,-101],[34,-185]],[[1804,2627],[-38,-18],[-30,-16],[-4,25],[0,40],[-2,47],[-4,33],[-9,46],[-12,43],[-2,-12],[-4,8],[1,18],[-5,39],[-7,-8],[-12,28],[-2,23],[-8,28],[-9,-1],[-7,13],[-10,-6],[-5,26],[1,53],[-1,8],[1,38],[-8,28],[0,39],[-3,2],[-4,33],[-4,8],[-1,20],[-11,79],[-5,23],[-1,61],[2,-5],[2,37],[-4,33],[-5,-4],[-7,30],[-2,24],[0,23],[-3,31],[0,50],[5,0],[-2,70],[-2,-7],[-1,-35],[-5,-7],[-7,26],[-1,45],[-4,35],[-6,22],[-3,25],[-9,50],[2,14],[-4,64],[2,35],[-3,54],[-7,52],[-7,29],[-2,35],[7,83],[2,29],[-2,22],[3,57],[-2,52],[-3,13],[1,42]],[[1534,4399],[28,1],[24,1],[38,-3],[30,0]],[[2107,4208],[57,0],[0,-191]],[[2164,4017],[1,-574]],[[2165,3443],[-28,1]],[[2137,3444],[-38,-1],[-72,0],[-15,1],[-46,0]],[[1966,3444],[0,223],[-1,21],[0,162],[0,357]],[[1965,4207],[32,1],[63,-1],[47,1]],[[3025,4400],[0,-113],[-2,-18]],[[3023,4269],[-2,3],[-12,-14],[-15,4],[-7,-26],[-7,-9],[-8,-22]],[[2972,4205],[-2,22],[7,21],[-2,16],[2,144]],[[2977,4408],[12,-2],[36,-3],[0,-3]],[[2922,3980],[-2,-23]],[[2920,3957],[-3,-13],[0,-30],[5,-29],[1,-47],[6,-49],[3,-2],[1,-66]],[[2933,3721],[-19,2],[-2,241]],[[2912,3964],[5,21],[5,-5]],[[2876,3786],[-2,27]],[[2874,3813],[2,12],[4,-19],[-4,-20]],[[2649,2300],[4,-55],[39,-13],[37,-14],[1,-41],[4,1],[1,39],[-1,35],[2,15],[7,-16],[8,-7]],[[2751,2244],[1,-83],[4,-93],[8,-122],[13,-131],[-2,-9],[1,-61],[5,-68],[8,-137],[2,-42],[0,-44],[-3,-158],[-3,-3],[-3,-49],[1,-16],[-5,-36],[-2,9],[-6,-15],[-9,-8],[-2,20],[1,29],[-7,85],[-5,15],[-4,-11],[-3,47],[-1,38],[-6,43],[-2,28],[1,41],[-3,8],[1,-24],[-3,-7],[-9,104],[-4,26],[9,76],[-6,-4],[-4,-24],[-3,38],[5,104],[1,87],[-4,21],[-1,28],[-5,6],[-7,46],[-5,19],[0,28],[-4,11],[-3,31],[-11,42],[-9,-10],[0,-29],[-3,5],[-12,-35],[-12,-9],[0,21],[-3,25],[-15,57],[-10,24],[-10,6],[-8,-4],[-17,-18]],[[2703,3063],[-6,-41],[0,-20],[9,-40],[3,3],[5,-42],[1,-22],[4,-40],[7,-24],[3,-35],[8,-33],[0,-22],[5,-35],[7,-29],[2,-32],[1,-40],[3,-14],[5,-51],[0,-33],[7,-16]],[[2767,2497],[-7,-65],[-2,-34],[-3,-29],[0,-30],[-3,-14],[-1,-81]],[[2632,3060],[37,1]],[[2669,3061],[20,-1],[14,3]],[[640,0],[-7,17],[-1,16],[1,43],[-5,73],[4,24],[2,34],[-2,22],[1,23],[8,-27],[9,-20],[5,-29],[0,-26],[8,-40],[-5,-34],[-8,-15],[-7,-25],[-3,-36]],[[613,397],[3,-26],[4,11],[9,-30],[-1,-27],[-9,-14],[-2,6],[-1,33],[-5,7],[-1,19],[3,21]],[[602,432],[-3,-20],[-7,0],[2,22],[8,-2]],[[574,525],[3,-45],[-2,-26],[-6,-5],[-4,54],[4,1],[5,21]],[[531,626],[3,-2],[2,-20],[-1,-28],[-4,-18],[-9,22],[1,31],[8,15]],[[1908,4871],[0,-472]],[[1908,4399],[-31,-1],[-54,0]],[[1823,4398],[-85,1]],[[1738,4399],[0,349],[4,62],[-2,16],[-6,3],[-2,26],[6,68],[3,6],[3,29],[-1,17],[4,23],[1,34],[6,56],[-2,26],[-7,14],[-4,32]],[[1741,5160],[0,34],[-3,33],[0,16],[0,255],[0,236]],[[1738,5734],[28,0]],[[1766,5734],[0,-195],[9,-54],[1,-52],[5,-23],[6,-8],[0,-14],[11,-51],[1,-21],[8,-20],[0,-12],[8,1],[-4,-71],[-1,-45],[3,-29],[-5,-21],[2,-20],[-1,-21],[6,-20],[7,26],[3,21],[5,-19],[-1,-15],[3,-37],[5,-39],[3,-13],[0,-37],[3,-16],[6,-2],[4,-61],[3,-11],[3,18],[9,-1],[7,17],[3,-10],[7,9],[2,-11],[5,8],[7,39],[4,-33],[5,-20]],[[2489,4496],[53,-3],[28,0]],[[2570,4493],[-1,-37],[4,-43],[5,-70]],[[2578,4343],[0,-450],[-3,-35],[3,-40],[1,-34],[-4,-27],[-1,-25],[-5,-41],[-3,-3],[0,-24],[-2,-9],[-1,-45],[0,-13]],[[2563,3597],[-3,-27],[2,-34],[-11,-17],[-1,-20],[2,-25],[-3,-16],[-11,29],[-3,-2],[-4,-33],[1,-11]],[[2532,3441],[-5,2],[-6,55],[2,12],[-2,37],[0,29],[-9,41],[-3,-4],[-3,25],[-9,38],[0,31],[5,49],[-1,18],[3,23],[-4,13],[-6,9],[-3,-18],[-3,11],[-1,63],[-10,41],[-9,49],[-3,58],[-1,39],[3,27]],[[2467,4089],[0,35],[8,21],[1,29],[4,19],[0,33],[-4,27],[2,34],[11,9],[9,24],[0,29],[4,13],[1,37],[0,24],[-7,18],[-1,20],[-6,35]],[[2655,4340],[0,-228],[0,-266]],[[2655,3846],[-2,-9],[2,-52],[-5,-1],[-5,-18],[-8,9],[1,-38],[-5,-16],[-2,-24],[-5,-9],[-3,-48],[-3,-13],[-6,18],[-1,22],[-7,-24],[1,-21],[-7,-7],[-1,19],[-8,-19],[-2,-20],[-7,28],[-4,-6],[-2,13],[-3,-13],[-7,-2],[-3,-18]],[[2578,4343],[3,-12],[8,0],[9,22]],[[2598,4353],[23,0],[34,0],[0,-13]],[[2473,4685],[0,-28],[4,-19],[-3,-23],[1,-43],[2,-30],[10,-22],[2,-24]],[[2467,4089],[-3,7],[-6,38],[-3,-1],[-40,-5],[-39,-2],[-33,3]],[[2343,4129],[-3,25],[2,49],[-3,43],[0,48],[-5,17],[-1,26],[2,23],[-2,33],[-4,13],[-5,86]],[[2324,4492],[-5,41],[2,29],[1,37],[2,14],[-3,19],[1,33],[-2,16],[4,4]],[[2324,4685],[144,0],[5,0]],[[2356,4017],[3,-18],[9,-14],[-6,-56],[4,-18],[4,-45],[6,-10],[0,-412]],[[2376,3444],[-156,0],[-55,-1]],[[2164,4017],[5,0],[187,0]],[[2718,3716],[-1,-57],[4,-37],[4,-28],[2,-22],[5,-22],[4,-3]],[[2736,3547],[-11,-51],[-11,-29],[0,-14],[-4,-13],[0,-16],[-6,-8],[-1,-21],[-16,-27]],[[2687,3368],[0,-3],[-24,2],[-22,6],[-5,-2],[-32,8],[-36,-5],[-6,9],[1,-35],[-36,2],[-3,-2]],[[2524,3348],[1,24],[5,-8],[2,77]],[[2655,3846],[11,0],[5,-40],[1,-17],[9,-7],[6,-26],[5,13],[10,-14],[4,19],[4,6],[1,-32],[3,-6],[4,-26]],[[2474,2682],[3,-22],[-2,-9],[-1,-38],[5,-24],[0,-57],[-3,-44],[-7,-27],[-2,-43],[-2,4],[-1,-70],[-3,-2],[2,-37],[-2,-14],[54,0],[-3,-63],[4,-41],[1,-32],[4,-20]],[[2521,2143],[-9,-26],[0,-19],[7,-12],[3,30],[6,-30],[-1,-24],[-3,-11],[-7,10],[1,-18],[-2,-27],[5,-24],[9,-7],[3,-29],[3,-4],[-5,-32],[-5,6],[-4,33],[-10,18],[0,33],[-6,-11],[1,-27],[-3,-25],[-3,-4],[-3,28],[-7,1],[-2,-29],[-4,-9],[-5,18],[-4,2],[-3,47],[-7,21],[-2,-3],[-3,40],[-7,-5],[0,24],[-8,-23],[1,-18],[-5,-17],[-9,8],[-10,27],[-7,11],[-16,-9],[-2,-8]],[[2398,2049],[-2,19],[6,68],[-2,37],[2,20],[-1,26],[3,19],[3,50],[0,40],[-8,78],[0,41],[-7,42],[0,196]],[[3046,5029],[12,26],[-2,13],[5,30],[4,13],[-1,12],[5,18],[-1,33],[2,50],[5,17],[1,53],[22,147],[6,-7],[0,-35],[4,-13],[9,21],[6,0],[4,14],[8,-31],[4,-25],[1,-214],[-1,-51],[10,-14],[-2,-22],[3,-21],[-2,-18],[4,-30],[5,7],[5,-68],[-6,-31],[-3,12],[-3,-21],[-4,5],[0,-18],[-6,2],[-8,-40],[-2,28],[-3,2],[1,-30],[-6,-15],[-2,24],[-3,-12],[-7,0],[0,28],[-5,-6],[1,-20],[-4,-42],[1,-12],[-6,-23],[-5,9],[-3,-24],[-4,-3],[-4,-20],[-4,4],[-1,21],[-7,-34],[2,-21],[-5,-7],[0,-18],[-5,-22],[-5,-50]],[[3056,4600],[-3,14],[0,19],[-4,22],[-2,250],[-1,124]],[[2904,3626],[2,0],[-1,0],[-1,0]],[[2933,3721],[-6,-80]],[[2927,3641],[-4,-3],[-8,-12]],[[2915,3626],[-6,-8],[0,31],[-2,13],[3,13],[-4,32],[-2,-14],[-6,3],[-2,35],[2,0],[0,45],[2,18],[-2,60],[3,36],[5,6],[0,37],[-3,-5],[0,-18],[-8,-25],[-2,-21],[0,-56],[-3,-26],[1,-44],[4,-30],[-1,-23],[3,-23],[-2,-16],[-6,30],[-10,15],[-2,29],[-6,-16],[-2,23],[5,29]],[[2874,3756],[2,30]],[[2874,3813],[-4,18],[-6,10],[0,28],[-3,15],[-4,4]],[[2857,3888],[-4,53],[-4,0],[-5,18],[-3,-15],[-5,1],[-1,-21],[-8,14],[-6,-28],[-3,6],[-6,-33],[-6,-17],[1,98]],[[2807,3964],[105,0]],[[3053,4565],[1,-34],[-1,-27],[-5,-25],[0,-29],[6,-4],[4,-31],[0,-24],[3,-6],[0,-22],[8,-19],[9,18],[-2,-26],[-13,-23],[-5,-1],[-3,18],[-5,-6],[0,-13],[-5,-9]],[[3045,4302],[-3,35]],[[3042,4337],[0,6]],[[3042,4343],[-3,14],[-2,45],[-4,0],[-8,-2]],[[2977,4408],[0,7],[6,126]],[[2983,4541],[23,-3]],[[3006,4538],[34,-7],[3,18],[7,19],[3,-3]],[[2598,4353],[5,25],[4,43],[4,26],[3,36],[1,52],[0,57],[-9,111],[3,42],[-2,50],[6,51],[2,43],[-1,23],[5,9],[0,31],[8,9],[5,34],[0,-69],[3,-3],[3,35],[1,58],[2,15],[8,9],[-3,41],[5,35],[7,2],[7,-22],[7,-3],[3,-28],[6,-2],[9,-25],[3,1],[4,-41],[-3,-21],[3,-29],[2,-32],[-2,-71],[-6,-18],[-1,-37],[-7,-12],[-4,-44],[2,-17],[6,-15],[6,24],[6,49],[10,19],[5,-15],[3,-27],[3,-80],[0,-39],[3,-48],[-3,-69],[-4,-11],[-1,25],[-3,-7],[-3,-58],[-6,-21],[-2,-44],[-7,-37],[0,-16]],[[2694,4347],[-39,-7]],[[2635,5110],[1,-23],[-4,-4],[1,33],[2,-6]],[[2496,5270],[11,20],[5,23],[12,9],[8,29],[4,1],[3,20],[9,28],[4,24],[7,15],[6,-13],[-11,-59],[-2,-19],[0,-36],[5,27],[10,-4],[8,-19],[7,-52],[3,-10],[7,9],[2,-12],[7,-6],[16,44],[8,4],[10,-2],[7,15],[6,1],[1,-54],[5,-7],[6,8],[2,-12],[4,16],[8,5],[1,-67],[3,-28],[6,-8],[1,19],[5,0],[3,-20],[-3,-14],[-15,12],[-8,-8],[-8,23],[-2,-21],[1,-18],[-4,4],[-5,27],[-9,15],[-5,1],[-4,-25],[-8,-6],[-8,5],[-3,-10],[-1,-21],[-9,-18],[1,25],[-4,5],[-2,-26],[-6,-1],[-3,-11],[-5,-45],[-8,-58],[1,-5]],[[2576,4989],[-4,20],[2,27],[-7,4],[3,26],[0,34],[-5,23],[-4,24],[-12,19],[-4,-7],[-12,29],[-29,38],[-3,33],[-5,11]],[[2541,5539],[-7,-24],[-4,-3],[1,19],[18,45],[-4,-31],[-4,-6]],[[2324,4685],[0,343],[-7,22],[-5,36],[8,41],[1,22]],[[2321,5149],[-1,76],[-4,20],[-2,42],[0,51],[-1,8],[-1,123],[-5,65],[-3,36],[0,77],[1,27],[-3,60]],[[2302,5734],[59,0],[0,73],[5,-2],[4,-14],[4,-100],[3,-11],[9,-3],[1,-10],[11,-4],[1,-21],[10,5],[0,9],[7,10],[6,-4],[8,-16],[2,-19],[4,2],[4,-43],[2,18],[7,8],[1,-18],[9,-12],[0,-17],[4,-14],[8,8],[5,18],[8,12],[2,-28],[5,6],[6,-6],[6,4],[8,-24],[7,4],[0,-10],[-10,-24],[-13,-19],[-9,-20],[-12,-49],[-5,-31],[-8,-34],[-13,-46],[2,-16]],[[2450,5296],[-2,9],[-6,-16],[0,-113],[-2,-11],[-8,-16],[-6,-41],[-1,-27],[3,-2],[4,-24],[-3,-29],[0,-33],[-2,-70],[8,-34],[6,-3],[3,-21],[8,-21],[2,-25],[8,-33],[5,-7],[5,-42],[-1,-30],[2,-22]],[[2553,2179],[-3,-8],[-7,4],[-3,12],[-7,-8],[-9,-22],[-3,-14]],[[2498,3062],[53,0],[7,0]],[[2524,3348],[-2,0],[-2,0],[1,-47],[-6,-48]],[[2376,3349],[0,95]],[[2356,4017],[-7,50],[-6,62]],[[2108,5151],[0,-181],[-1,0]],[[2107,4970],[-53,1],[-90,0],[-56,0],[0,-100]],[[1766,5734],[130,-1],[58,1],[154,0]],[[2108,5734],[0,-217],[0,-366]],[[2107,4208],[0,382]],[[2107,4590],[21,0],[49,-1],[88,0],[1,-10],[15,-34],[4,19],[4,-4],[13,0],[15,-36],[2,-27],[5,-5]],[[1823,4398],[0,-954]],[[1654,4398],[37,-1],[47,2]],[[3006,4538],[-2,14],[0,28],[3,11],[-1,27],[3,81],[5,37],[2,43],[3,16],[-1,47],[10,17],[5,33],[-3,31],[4,32],[0,18]],[[3034,4973],[4,49],[6,-5],[2,12]],[[3056,4600],[-3,-35]],[[2962,4152],[-5,-13],[-2,-29],[8,-14],[0,-22],[-3,-103],[-9,-76],[-6,-22],[-5,-48],[-3,31],[-8,16],[-10,42],[-1,28],[0,4],[2,11]],[[2922,3980],[8,15],[0,15],[9,31],[2,17],[-9,39],[0,24],[-3,6],[-1,22],[5,33],[-3,20],[7,40],[2,21],[4,13]],[[2943,4276],[13,-41],[9,-28],[-3,-55]],[[2137,3444],[0,-95]],[[2137,3349],[-1,0],[0,-474],[0,-193],[0,-192],[-101,0],[-1,-18],[3,-22]],[[2037,2450],[-48,0],[0,-87],[-24,0]],[[2972,4205],[13,-15],[2,11],[10,0],[6,6],[8,31],[1,-22],[5,-10],[-11,-28],[-22,-42],[-9,-8],[-6,2],[-5,-9],[-2,31]],[[2943,4276],[-2,14],[-4,1],[-5,32],[1,29],[-4,22],[-2,-2],[-3,27],[-125,0],[0,48],[0,3]],[[2799,4450],[17,54],[3,26],[5,18],[-2,32],[-2,7],[-2,52],[17,22],[15,-1],[6,-5],[6,-21],[4,8],[12,-1],[8,14],[8,34],[5,1],[0,52],[3,31],[-7,21],[2,24],[11,32],[4,28],[14,64],[13,32],[19,-5],[23,4]],[[2981,4973],[1,-39],[-2,-36],[3,-34],[-1,-37],[-3,-39],[2,-52],[-1,-16],[4,-31],[-1,-132],[0,-16]],[[2909,3359],[4,-77],[-8,8],[-1,-10],[-10,-11],[-1,-11],[-7,-3],[0,-13],[8,9],[1,-8],[9,9],[3,-18],[5,8],[2,-46],[-2,-22],[-3,-2],[-8,-47],[-9,-2],[-2,-33],[4,-32],[4,-6],[-6,-54],[-6,7],[-9,-6],[-6,-11],[-10,-37],[-7,-48],[-4,-60],[-6,13],[-11,-12]],[[2833,2844],[-32,181],[-32,4],[1,21],[-5,33],[-3,-12],[0,20],[-35,10],[-8,-8],[-6,-17],[-10,-13]],[[2669,3061],[1,45],[5,4],[3,31],[7,29],[7,1],[7,29],[8,10],[6,43],[4,13],[1,-19],[11,37],[5,-8],[4,36],[5,9],[1,45]],[[2744,3366],[20,-5],[19,-3],[23,-1],[103,2]],[[2321,5149],[-213,2]],[[2108,5734],[194,0]],[[2777,4138],[-4,-10],[2,-21],[0,-29],[-4,-46],[-3,-70],[-11,-62],[-3,-8],[-4,12],[-3,-27],[-3,1],[-4,-36],[1,-22],[-3,-18],[-4,29],[-5,-46],[1,-29],[-3,-11],[-1,-25],[-8,-4]],[[2694,4347],[11,-26],[3,-15],[3,14],[6,-30],[4,-9],[14,25],[7,-6],[9,36],[12,34],[14,24]],[[2777,4394],[0,-256]],[[2380,2803],[-11,21],[-3,22],[-7,18],[-2,-16],[-8,1],[-1,10],[-7,-19],[-3,11],[-6,-10],[-5,-29],[-2,17],[-6,14],[-7,0],[-2,21],[-7,-42],[-2,24],[-3,-8],[-3,16],[-7,15],[-5,-25],[-2,26],[-4,3],[-2,21],[-6,8],[-3,-18],[-3,16],[-5,-2],[-6,17],[-6,-2],[-2,36],[-9,2],[-4,-6],[-6,37],[-2,-3],[0,370],[-52,0],[-34,0]],[[1534,4399],[-4,22],[-2,61],[0,43],[-4,33],[3,32],[2,51],[4,54],[2,48],[3,162],[0,22],[3,71],[1,99],[-2,54],[1,32],[12,29]],[[1553,5212],[5,-22],[4,5],[3,2],[6,-20],[3,-23],[1,-57],[15,-21],[12,30],[8,3],[9,-10],[1,-13],[16,27],[3,-9],[9,5],[7,19],[12,17],[12,4],[4,12],[58,-1]],[[2807,3964],[-30,0],[0,174]],[[2777,4394],[5,11],[17,45]],[[3045,4302],[-6,-4],[3,39]],[[3042,4343],[-4,3],[-3,-28],[-1,-40],[-11,-9]],[[2833,2844],[-5,-10],[-6,-31],[-6,-49],[-1,-40],[-5,-31],[-6,0],[-2,-23],[-6,-25],[-4,-28],[-6,-11],[-6,-29],[-1,-14],[-6,-16],[-6,-40]],[[2107,4590],[0,380]],[[2687,3368],[57,-2]],[[2398,2049],[-5,-1],[-14,-26],[-6,15],[-1,31],[-3,-22],[-3,5],[-1,-27],[3,-11],[0,-36],[-5,-37],[-9,-47],[-17,-51],[-2,9],[-5,-13],[0,12],[-7,-9],[-3,24],[-2,-5],[7,-49],[-5,-16],[-5,10],[-1,-35],[-7,-35],[-6,-66],[-4,-69],[-3,5],[-1,-25],[3,6],[-2,-50],[-2,-2],[0,-28],[3,-16],[1,-57],[3,-20],[0,-37],[3,-32],[-9,-20],[-3,25],[-7,10],[-9,-3],[-8,32],[-5,3],[-5,25],[-6,8],[-4,24],[-2,58],[-5,34],[0,30],[-2,31],[1,27],[-4,30],[-3,4],[-5,27],[-1,34],[-5,32],[-6,26],[-3,57],[-2,16],[-4,46],[-1,38],[-4,27],[-6,24],[-1,16],[-6,15],[-4,42],[-13,9],[-7,-2],[-7,15],[-1,-20],[-7,-6],[-5,-40],[-3,-64],[-2,-1],[-4,-37],[-5,-1],[-7,29],[-17,47],[-4,25],[-6,24],[-5,54],[-1,49],[-4,40],[-2,35],[-3,22],[-11,32],[-6,44],[-4,15],[-6,38],[-7,20],[-5,50],[-4,11]],[[1908,4399],[0,-192],[57,0]],[[2981,4973],[30,-2],[23,2]],[[2927,3641],[-4,-32],[-3,-12],[-3,-44],[-6,-71],[-5,-15],[-1,27],[2,58],[8,74]],[[2874,3756],[-4,-8],[-2,-28],[1,-19],[8,6],[1,-31],[10,-12],[3,-24],[8,-26],[-4,-54],[4,-41],[-4,-20],[-1,-24],[4,-15],[-4,-23],[-6,30],[-1,-10],[5,-22],[14,-5],[3,-71]],[[2736,3547],[-1,-16],[4,-32],[5,-16],[4,1],[5,25],[4,-20],[7,11],[13,36],[1,-11],[5,17],[0,34],[4,30],[5,29],[2,34],[6,36],[2,44],[5,-27],[4,-8],[3,16],[6,68],[4,-17],[13,77],[2,57],[15,-64],[3,37]],[[1553,5212],[-5,7],[-4,-12],[-6,17],[1,26],[4,14],[-6,40],[-4,103],[-2,14],[-3,73],[-6,28],[-2,56],[3,38],[6,-18],[11,-24],[8,1],[8,-9],[8,9],[3,-16],[7,1],[5,-42],[3,3],[1,-56],[2,-52],[3,6],[-3,43],[1,43],[4,44],[-3,18],[-1,31],[-3,35],[2,25],[-2,29],[-5,4],[-4,22],[1,21],[163,0]],[[1576,5602],[4,9],[0,-39],[-5,15],[1,15]],[[1568,5655],[3,25],[4,-30],[-1,-27],[-7,8],[1,24]],[[2576,4989],[-1,-23],[-6,-4],[-4,-44],[-2,-30],[3,-6],[5,20],[4,38],[6,15],[5,48],[6,10],[-1,-25],[-4,-23],[-8,-79],[-2,-44],[0,-32],[-3,-10],[-2,-43],[1,-37],[-3,-24],[-3,-59],[0,-47],[4,-42],[-1,-55]],[[2450,5296],[6,-2],[20,33],[8,17],[2,-13],[-4,-25],[9,-33],[5,-3]]]},h.prototype.usgTopo="__USG__",h.prototype.uzbTopo="__UZB__",h.prototype.vatTopo="__VAT__",h.prototype.vctTopo="__VCT__",h.prototype.venTopo="__VEN__",h.prototype.vgbTopo="__VGB__",h.prototype.virTopo="__VIR__",h.prototype.vnmTopo="__VNM__",h.prototype.vutTopo="__VUT__",h.prototype.wlfTopo="__WLF__",h.prototype.wsbTopo="__WSB__",h.prototype.wsmTopo="__WSM__",h.prototype.yemTopo="__YEM__",h.prototype.zafTopo="__ZAF__",h.prototype.zmbTopo="__ZMB__",h.prototype.zweTopo="__ZWE__",h.prototype.latLngToXY=function(t,e){return this.projection([e,t])},h.prototype.addLayer=function(t,e,n){return(n?this.svg.insert("g",":first-child"):this.svg.append("g")).attr("id",e||"").attr("class",t||"")},h.prototype.updateChoropleth=function(t,e){var n=this.svg;for(var r in e&&!0===e.reset&&n.selectAll(".datamaps-subunit").attr("data-info",function(){return"{}"}).transition().style("fill",this.options.fills.defaultFill),t)if(t.hasOwnProperty(r)){var i,o=t[r];if(!r)continue;i="string"==typeof o?o:"string"==typeof o.color?o.color:"string"==typeof o.fillColor?o.fillColor:this.options.fills[o.fillKey],o===Object(o)&&(this.options.data[r]=d(o,this.options.data[r]||{}),this.svg.select("."+r).attr("data-info",JSON.stringify(this.options.data[r]))),n.selectAll("."+r).transition().style("fill",i)}},h.prototype.updatePopup=function(n,r,i){var t=this;n.on("mousemove",null),n.on("mousemove",function(){var e=f.mouse(t.options.element);f.select(t.svg[0][0].parentNode).select(".datamaps-hoverover").style("top",e[1]+30+"px").html(function(){var t=JSON.parse(n.attr("data-info"));try{return i.popupTemplate(r,t)}catch(e){return""}}).style("left",e[0]+"px")}),f.select(t.svg[0][0].parentNode).select(".datamaps-hoverover").style("display","block")},h.prototype.addPlugin=function(o,a){var s=this;"undefined"==typeof h.prototype[o]&&(h.prototype[o]=function(t,e,n,r){var i;void 0===r&&(r=!1),"function"==typeof e&&(n=e,e=void 0),e=d(e||{},s.options[o+"Config"]),!r&&this.options[o+"Layer"]?(i=this.options[o+"Layer"],e=e||this.options[o+"Options"]):(i=this.addLayer(o),this.options[o+"Layer"]=i,this.options[o+"Options"]=e),a.apply(this,[i,t,e]),n&&n(i)})},"object"==typeof exports?(f=require("d3"),p=require("topojson"),module.exports=h):"function"==typeof define&&define.amd?define("datamaps",["require","d3","topojson"],function(t){return f=t("d3"),p=t("topojson"),h}):window.Datamap=window.Datamaps=h,window.jQuery&&(window.jQuery.fn.datamaps=function(t,e){(t=t||{}).element=this[0];var n=new h(t);return"function"==typeof e&&e(n,t),this})}(),function(){function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function F(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function a(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function c(t){return null===t?NaN:+t}function u(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=i+1}return n}}}function l(t){return t.length}function d(t){for(var e=1;t*e%1;)e*=10;return e}function e(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function v(){this._=Object.create(null)}function n(t){return(t+="")===ba||t[0]===_a?_a+t:t}function r(t){return(t+="")[0]===_a?t.slice(1):t}function i(t){return n(t)in this._}function o(t){return(t=n(t))in this._&&delete this._[t]}function h(){var t=[];for(var e in this._)t.push(r(e));return t}function f(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function z(t){return t}function m(e,n,r){return function(){var t=r.apply(n,arguments);return t===n?e:t}}function y(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=wa.length;n<r;++n){var i=wa[n]+e;if(i in t)return i}}function _(){}function b(){}function w(i){function t(){for(var t,e=o,n=-1,r=e.length;++n<r;)(t=e[n].on)&&t.apply(this,arguments);return i}var o=[],a=new v;return t.on=function(t,e){var n,r=a.get(t);return arguments.length<2?r&&r.on:(r&&(r.on=null,o=o.slice(0,n=o.indexOf(r)).concat(o.slice(n+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),i)},t}function $(){la.event.preventDefault()}function x(){for(var t,e=la.event;t=e.sourceEvent;)e=t;return e}function P(i){for(var o=new b,t=0,e=arguments.length;++t<e;)o[arguments[t]]=w(o);return o.of=function(n,r){return function(t){try{var e=t.sourceEvent=la.event;t.target=i,la.event=t,o[t.type].apply(n,r)}finally{la.event=e}}},o}function C(t){return Ca(t,Sa),t}function T(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function M(t){return"function"==typeof t?t:function(){return Ma(t,this)}}function D(e,n){function t(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,n)}function o(){this.setAttributeNS(e.space,e.local,n)}function a(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=la.ns.qualify(e),null==n?e.local?r:t:"function"==typeof n?e.local?s:a:e.local?o:i}function S(t){return t.trim().replace(/\s+/g," ")}function k(t){return new RegExp("(?:^|\\s+)"+la.requote(t)+"(?:\\s+|$)","g")}function N(t){return(t+"").trim().split(/^|\s+/)}function A(n,r){function t(){for(var t=-1;++t<i;)n[t](this,r)}function e(){for(var t=-1,e=r.apply(this,arguments);++t<i;)n[t](this,e)}var i=(n=N(n).map(E)).length;return"function"==typeof r?e:t}function E(r){var i=k(r);return function(t,e){if(n=t.classList)return e?n.add(r):n.remove(r);var n=t.getAttribute("class")||"";e?(i.lastIndex=0,i.test(n)||t.setAttribute("class",S(n+" "+r))):t.setAttribute("class",S(n.replace(i," ")))}}function L(e,n,r){function t(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,n,r)}function o(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}return null==n?t:"function"==typeof n?o:i}function R(e,n){function t(){delete this[e]}function r(){this[e]=n}function i(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}return null==n?t:"function"==typeof n?i:r}function I(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===ka&&t.documentElement.namespaceURI===ka?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=la.ns.qualify(n)).local?e:t}function H(){var t=this.parentNode;t&&t.removeChild(this)}function O(t){return{__data__:t}}function j(t){return function(){return Da(this,t)}}function W(n){return arguments.length||(n=a),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function q(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function B(t){return Ca(t,Aa),t}function U(a){var s,l;return function(t,e,n){var r,i=a[n].update,o=i.length;for(n!=l&&(l=n,s=0),s<=e&&(s=e+1);!(r=i[s])&&++s<o;);return r}}function V(i,e,n){function r(){var t=this[a];t&&(this.removeEventListener(i,t,t.$),delete this[a])}function t(){var t=l(e,ua(arguments));r.call(this),this.addEventListener(i,this[a]=t,t.$=n),t._=e}function o(){var t,e=new RegExp("^__on([^.]+)"+la.requote(i)+"$");for(var n in this)if(t=n.match(e)){var r=this[n];this.removeEventListener(t[1],r,r.$),delete this[n]}}var a="__on"+i,s=i.indexOf("."),l=Y;0<s&&(i=i.slice(0,s));var c=Ea.get(i);return c&&(i=c,l=G),s?e?t:r:e?_:o}function Y(n,r){return function(t){var e=la.event;la.event=t,r[0]=this.__data__;try{n.apply(this,r)}finally{la.event=e}}}function G(t,e){var r=Y(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||r.call(e,t)}}function K(t){var n=".dragsuppress-"+ ++Ra,r="click"+n,i=la.select(F(t)).on("touchmove"+n,$).on("dragstart"+n,$).on("selectstart"+n,$);if(null==La&&(La=!("onselectstart"in t)&&y(t.style,"userSelect")),La){var o=s(t).style,a=o[La];o[La]="none"}return function(t){if(i.on(n,null),La&&(o[La]=a),t){var e=function(){i.on(r,null)};i.on(r,function(){$(),e()},!0),setTimeout(e,0)}}}function Z(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Fa<0){var i=F(t);if(i.scrollX||i.scrollY){var o=(n=la.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Fa=!(o.f||o.e),n.remove()}}return Fa?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function X(){return la.event.changedTouches[0].identifier}function Q(t){return 0<t?1:t<0?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return 1<t?0:t<-1?Pa:Math.acos(t)}function et(t){return 1<t?Oa:t<-1?-Oa:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):wt(""+t,xt,st):new st(t,e,n)}function lt(t,e,n){function r(t){return 360<t?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,o=2*(n=n<0?0:1<n?1:n)-(a=n<=.5?n*(1+e):n+e-n*e),new yt(i(t+120),i(t),i(t-120))}function ct(t,e,n){return this instanceof ct?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ct?new ct(t.h,t.c,t.l):ft(t instanceof dt?t.l:(t=Ct((t=la.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ct(t,e,n)}function ut(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new dt(n,Math.cos(t*=ja)*e,Math.sin(t)*e)}function dt(t,e,n){return this instanceof dt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof dt?new dt(t.l,t.a,t.b):t instanceof ct?ut(t.h,t.c,t.l):Ct((t=yt(t)).r,t.g,t.b):new dt(t,e,n)}function ht(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new yt(mt(3.2404542*(i=pt(i)*Qa)-1.5371385*(r=pt(r)*Ja)-.4985314*(o=pt(o)*ts)),mt(-.969266*i+1.8760108*r+.041556*o),mt(.0556434*i-.2040259*r+1.0572252*o))}function ft(t,e,n){return 0<t?new ct(Math.atan2(n,e)*Wa,Math.sqrt(e*e+n*n),t):new ct(NaN,NaN,t)}function pt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function gt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t,e,n){return this instanceof yt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof yt?new yt(t.r,t.g,t.b):wt(""+t,yt,lt):new yt(t,e,n)}function vt(t){return new yt(t>>16,t>>8&255,255&t)}function bt(t){return vt(t)+""}function _t(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function wt(t,e,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Mt(i[0]),Mt(i[1]),Mt(i[2]))}return(o=rs.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function xt(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(i=l<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=0<l&&l<1?0:r),new st(r,i,l)}function Ct(t,e,n){var r=gt((.4124564*(t=Tt(t))+.3575761*(e=Tt(e))+.1804375*(n=Tt(n)))/Qa),i=gt((.2126729*t+.7151522*e+.072175*n)/Ja);return dt(116*i-16,500*(r-i),200*(i-gt((.0193339*t+.119192*e+.9503041*n)/ts)))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Mt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Dt(t){return"function"==typeof t?t:function(){return t}}function St(r){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),kt(t,e,r,n)}}function kt(i,o,r,t){function e(){var t,e=c.status;if(!e&&At(c)||200<=e&&e<300||304===e){try{t=r.call(a,c)}catch(n){return void s.error.call(a,n)}s.load.call(a,t)}else s.error.call(a,c)}var a={},s=la.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(i)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=e:c.onreadystatechange=function(){3<c.readyState&&e()},c.onprogress=function(t){var e=la.event;la.event=t;try{s.progress.call(a,c)}finally{la.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",a):o},a.responseType=function(t){return arguments.length?(u=t,a):u},a.response=function(t){return r=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(ua(arguments)))}}),a.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),c.open(t,i,!0),null==o||"accept"in l||(l.accept=o+",*/*"),c.setRequestHeader)for(var r in l)c.setRequestHeader(r,l[r]);return null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=u&&(c.responseType=u),null!=n&&a.on("error",n).on("load",function(t){n(null,t)}),s.beforesend.call(a,c),c.send(null==e?null:e),a},a.abort=function(){return c.abort(),a},la.rebind(a,s,"on"),null==t?a:a.get(Nt(t))}function Nt(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function At(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Et(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return os?os.n=i:is=i,os=i,as||(ss=clearTimeout(ss),as=1,ls(Lt)),i}function Lt(){var t=Rt(),e=Ft()-t;24<e?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Lt,e)),as=0):(as=1,ls(Lt))}function Rt(){for(var t=Date.now(),e=is;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ft(){for(var t,e=is,n=Infinity;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:is=e.n;return os=t,n}function zt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function $t(t,e){var n=Math.pow(10,3*va(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}}function Pt(t){var T=t.decimal,s=t.thousands,l=t.grouping,r=t.currency,M=l&&s?function(t,e){for(var n=t.length,r=[],i=0,o=l[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=l[i=(i+1)%l.length];return r.reverse().join(s)}:z;return function(t){var e=us.exec(t),u=e[1]||" ",d=e[2]||">",h=e[3]||"-",n=e[4]||"",f=e[5],p=+e[6],g=e[7],m=e[8],y=e[9],v=1,b="",_="",w=!1,x=!0;switch(m&&(m=+m.substring(1)),(f||"0"===u&&"="===d)&&(f=u="0",d="="),y){case"n":g=!0,y="g";break;case"%":v=100,_="%",y="f"
;break;case"p":v=100,_="%",y="r";break;case"b":case"o":case"x":case"X":"#"===n&&(b="0"+y.toLowerCase());case"c":x=!1;case"d":w=!0,m=0;break;case"s":v=-1,y="r"}"$"===n&&(b=r[0],_=r[1]),"r"!=y||m||(y="g"),null!=m&&("g"==y?m=Math.max(1,Math.min(21,m)):"e"!=y&&"f"!=y||(m=Math.max(0,Math.min(20,m)))),y=ds.get(y)||It;var C=f&&g;return function(t){var e=_;if(w&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===h?"":h;if(v<0){var r=la.formatPrefix(t,m);t=r.scale(t),e=r.symbol+_}else t*=v;var i,o,a=(t=y(t,m)).lastIndexOf(".");if(a<0){var s=x?t.lastIndexOf("e"):-1;s<0?(i=t,o=""):(i=t.substring(0,s),o=t.substring(s))}else i=t.substring(0,a),o=T+t.substring(a+1);!f&&g&&(i=M(i,Infinity));var l=b.length+i.length+o.length+(C?0:n.length),c=l<p?new Array(l=p-l+1).join(u):"";return C&&(i=M(c+i,c.length?p-o.length:Infinity)),n+=b,t=i+o,("<"===d?n+t+c:">"===d?c+n+t:"^"===d?c.substring(0,l>>=1)+n+t+c.substring(l):n+(C?t:c+t))+e}}}function It(t){return t+""}function Ht(t){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):t)}function Ot(r,o,a){function t(t){var e=r(t),n=i(e,1);return t-e<n-t?e:n}function s(t){return o(t=r(new fs(t-1)),1),t}function i(t,e){return o(t=new fs(+t),e),t}function l(t,e,n){var r=s(t),i=[];if(1<n)for(;r<e;)a(r)%n||i.push(new Date(+r)),o(r,1);else for(;r<e;)i.push(new Date(+r)),o(r,1);return i}function e(t,e,n){try{var r=new(fs=Ht);return r._=t,l(r,e,n)}finally{fs=Date}}(r.floor=r).round=t,r.ceil=s,r.offset=i,r.range=l;var n=r.utc=jt(r);return(n.floor=n).round=jt(t),n.ceil=jt(s),n.offset=jt(i),n.range=e,r}function jt(r){return function(t,e){try{var n=new(fs=Ht);return n._=t,r(n,e)._}finally{fs=Date}}}function Wt(t){function r(s){function t(t){for(var e,n,r,i=[],o=-1,a=0;++o<l;)37===s.charCodeAt(o)&&(i.push(s.slice(a,o)),null!=(n=gs[e=s.charAt(++o)])&&(e=s.charAt(++o)),(r=k[e])&&(e=r(t,null==n?"e"===e?" ":"0":n)),i.push(e),a=o+1);return i.push(s.slice(a,o)),i.join("")}var l=s.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(i(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&fs!==Ht,r=new(n?Ht:fs);return"j"in e?r.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),r.setFullYear(e.y,0,1),r.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(r.getDay()+5)%7:e.w+7*e.U-(r.getDay()+6)%7)):r.setFullYear(e.y,e.m,e.d),r.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?r._:r},t.toString=function(){return s},t}function i(t,e,n,r){for(var i,o,a,s=0,l=e.length,c=n.length;s<l;){if(c<=r)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=N[a in gs?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function e(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.w=C.get(r[0].toLowerCase()),n+r[0].length):-1}function n(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){D.lastIndex=0;var r=D.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){T.lastIndex=0;var r=T.exec(e.slice(n));return r?(t.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,n){return i(t,k.c.toString(),e,n)}function l(t,e,n){return i(t,k.x.toString(),e,n)}function c(t,e,n){return i(t,k.X.toString(),e,n)}function u(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var d=t.dateTime,h=t.date,f=t.time,p=t.periods,g=t.days,m=t.shortDays,y=t.months,v=t.shortMonths;r.utc=function(t){function e(t){try{var e=new(fs=Ht);return e._=t,n(e)}finally{fs=Date}}var n=r(t);return e.parse=function(t){try{fs=Ht;var e=n.parse(t);return e&&e._}finally{fs=Date}},e.toString=n.toString,e},r.multi=r.utc.multi=le;var b=la.map(),_=Bt(g),w=Ut(g),x=Bt(m),C=Ut(m),T=Bt(y),M=Ut(y),D=Bt(v),S=Ut(v);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var k={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return v[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:r(d),d:function(t,e){return qt(t.getDate(),e,2)},e:function(t,e){return qt(t.getDate(),e,2)},H:function(t,e){return qt(t.getHours(),e,2)},I:function(t,e){return qt(t.getHours()%12||12,e,2)},j:function(t,e){return qt(1+hs.dayOfYear(t),e,3)},L:function(t,e){return qt(t.getMilliseconds(),e,3)},m:function(t,e){return qt(t.getMonth()+1,e,2)},M:function(t,e){return qt(t.getMinutes(),e,2)},p:function(t){return p[+(12<=t.getHours())]},S:function(t,e){return qt(t.getSeconds(),e,2)},U:function(t,e){return qt(hs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qt(hs.mondayOfYear(t),e,2)},x:r(h),X:r(f),y:function(t,e){return qt(t.getFullYear()%100,e,2)},Y:function(t,e){return qt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},N={a:e,A:n,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Jt,M:re,p:u,S:ie,U:Yt,w:Vt,W:Gt,x:l,X:c,y:Zt,Y:Kt,Z:Xt,"%":se};return r}function qt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Bt(t){return new RegExp("^(?:"+t.map(la.requote).join("|")+")","i")}function Ut(t){for(var e=new v,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Vt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Yt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Gt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Kt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Zt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.y=Qt(+r[0]),n+r[0].length):-1}function Xt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Qt(t){return t+(68<t?1900:2e3)}function Jt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function te(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ee(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ne(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function re(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ie(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oe(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",r=va(e)/60|0,i=va(e)%60;return n+qt(r,"0",2)+qt(i,"0",2)}function se(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function le(r){for(var t=r.length,e=-1;++e<t;)r[e][0]=this(r[e][0]);return function(t){for(var e=0,n=r[e];!n[1](t);)n=r[++e];return n[0](t)}}function ce(){}function ue(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function de(t,e){t&&ws.hasOwnProperty(t.type)&&ws[t.type](t,e)}function he(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function fe(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)he(t[n],e,1);e.polygonEnd()}function pe(){function n(t,e){e=e*ja/2+Pa/4;var n=(t*=ja)-u,r=0<=n?1:-1,i=r*n,o=Math.cos(e),a=Math.sin(e),s=h*a,l=d*o+s*Math.cos(i),c=s*r*Math.sin(i);Fs.add(Math.atan2(c,l)),u=t,d=o,h=a}var r,i,u,d,h;zs.point=function(t,e){zs.point=n,u=(r=t)*ja,d=Math.cos(e=(i=e)*ja/2+Pa/4),h=Math.sin(e)},zs.lineEnd=function(){n(r,i)}}function ge(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ye(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ve(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function be(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _e(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function we(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function xe(t,e){return va(t[0]-e[0])<za&&va(t[1]-e[1])<za}function Ce(t,e){t*=ja;var n=Math.cos(e*=ja);Te(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Te(t,e,n){Ms+=(t-Ms)/++Cs,Ds+=(e-Ds)/Cs,Ss+=(n-Ss)/Cs}function Me(){function r(t,e){t*=ja;var n=Math.cos(e*=ja),r=n*Math.cos(t),i=n*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=l*o-c*i)*a+(a=c*r-s*o)*a+(a=s*i-l*r)*a),s*r+l*i+c*o);Ts+=a,ks+=a*(s+(s=r)),Ns+=a*(l+(l=i)),As+=a*(c+(c=o)),Te(s,l,c)}var s,l,c;$s.point=function(t,e){t*=ja;var n=Math.cos(e*=ja);s=n*Math.cos(t),l=n*Math.sin(t),c=Math.sin(e),$s.point=r,Te(s,l,c)}}function De(){$s.point=Ce}function Se(){function r(t,e){t*=ja;var n=Math.cos(e*=ja),r=n*Math.cos(t),i=n*Math.sin(t),o=Math.sin(e),a=p*o-g*i,s=g*r-f*o,l=f*i-p*r,c=Math.sqrt(a*a+s*s+l*l),u=f*r+p*i+g*o,d=c&&-tt(u)/c,h=Math.atan2(c,u);Es+=d*a,Ls+=d*s,Rs+=d*l,Ts+=h,ks+=h*(f+(f=r)),Ns+=h*(p+(p=i)),As+=h*(g+(g=o)),Te(f,p,g)}var i,o,f,p,g;$s.point=function(t,e){i=t,o=e,$s.point=r,t*=ja;var n=Math.cos(e*=ja);f=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),Te(f,p,g)},$s.lineEnd=function(){r(i,o),$s.lineEnd=De,$s.point=Ce}}function ke(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function Ne(){return!0}function Ae(t,e,n,r,s){var l=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(xe(n,r)){s.lineStart();for(var i=0;i<e;++i)s.point((n=t[i])[0],n[1]);s.lineEnd()}else{var o=new Le(n,t,null,!0),a=new Le(n,null,o,!1);o.o=a,l.push(o),c.push(a),a=new Le(r,null,o=new Le(r,t,null,!1),!0),o.o=a,l.push(o),c.push(a)}}}),c.sort(e),Ee(l),Ee(c),l.length){for(var i=0,o=n,a=c.length;i<a;++i)c[i].e=o=!o;for(var u,d,h=l[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,s.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(i=0,a=u.length;i<a;++i)s.point((d=u[i])[0],d[1]);else r(f.x,f.n.x,1,s);f=f.n}else{if(p)for(i=(u=f.p.z).length-1;0<=i;--i)s.point((d=u[i])[0],d[1]);else r(f.x,f.p.x,-1,s);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);s.lineEnd()}}}function Ee(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Le(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Re(v,b,_,w){return function(r,a){function e(t,e){var n=r(t,e);v(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=r(t,e);h.point(n[0],n[1])}function n(){p.point=t,h.lineStart()}function i(){p.point=e,h.lineEnd()}function s(t,e){d.push([t,e]);var n=r(t,e);m.point(n[0],n[1])}function o(){m.lineStart(),d=[]}function l(){s(d[0][0],d[0][1]),m.lineEnd();var t,e=m.clean(),n=g.buffer(),r=n.length;if(d.pop(),u.push(d),d=null,r)if(1&e){var i,o=-1;if(0<(r=(t=n[0]).length-1)){for(y||(a.polygonStart(),y=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else 1<r&&2&e&&n.push(n.pop().concat(n.shift())),c.push(n.filter(Fe))}var c,u,d,h=b(a),f=r.invert(w[0],w[1]),p={point:e,lineStart:n,lineEnd:i,polygonStart:function(){p.point=s,p.lineStart=o,p.lineEnd=l,c=[],u=[]},polygonEnd:function(){p.point=e,p.lineStart=n,p.lineEnd=i,c=la.merge(c);var t=Oe(f,u);c.length?(y||(a.polygonStart(),y=!0),Ae(c,$e,t,_,a)):t&&(y||(a.polygonStart(),y=!0),a.lineStart(),_(null,null,1,a),a.lineEnd()),y&&(a.polygonEnd(),y=!1),c=u=null},sphere:function(){a.polygonStart(),a.lineStart(),_(null,null,1,a),a.lineEnd(),a.polygonEnd()}},g=ze(),m=b(g),y=!1;return p}}function Fe(t){return 1<t.length}function ze(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:_,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function $e(t,e){return((t=t.x)[0]<0?t[1]-Oa-za:Oa-t[1])-((e=e.x)[0]<0?e[1]-Oa-za:Oa-e[1])}function Pe(i){var o,a=NaN,s=NaN,l=NaN;return{lineStart:function(){i.lineStart(),o=1},point:function(t,e){var n=0<t?Pa:-Pa,r=va(t-a);va(r-Pa)<za?(i.point(a,s=0<(s+e)/2?Oa:-Oa),i.point(l,s),i.lineEnd(),i.lineStart(),i.point(n,s),i.point(t,s),o=0):l!==n&&Pa<=r&&(va(a-l)<za&&(a-=l*za),va(t-n)<za&&(t-=n*za),s=Ie(a,s,t,e),i.point(l,s),i.lineEnd(),i.lineStart(),i.point(n,s),o=0),i.point(a=t,s=e),l=n},lineEnd:function(){i.lineEnd(),a=s=NaN},clean:function(){return 2-o}}}function Ie(t,e,n,r){var i,o,a=Math.sin(t-n);return va(a)>za?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function He(t,e,n,r){var i;if(null==t)i=n*Oa,r.point(-Pa,i),r.point(0,i),r.point(Pa,i),r.point(Pa,0),r.point(Pa,-i),r.point(0,-i),r.point(-Pa,-i),r.point(-Pa,0),r.point(-Pa,i);else if(va(t[0]-e[0])>za){var o=t[0]<e[0]?Pa:-Pa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Oe(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Fs.reset();for(var s=0,l=e.length;s<l;++s){var c=e[s],u=c.length;if(u)for(var d=c[0],h=d[0],f=d[1]/2+Pa/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===u&&(m=0);var y=(t=c[m])[0],v=t[1]/2+Pa/4,b=Math.sin(v),_=Math.cos(v),w=y-h,x=0<=w?1:-1,C=x*w,T=Pa<C,M=p*b;if(Fs.add(Math.atan2(M*x*Math.sin(C),g*_+M*Math.cos(C))),o+=T?w+x*Ia:w,T^n<=h^n<=y){var D=ye(ge(d),ge(t));_e(D);var S=ye(i,D);_e(S);var k=(T^0<=w?-1:1)*et(S[2]);(k<r||r===k&&(D[0]||D[1]))&&(a+=T^0<=w?1:-1)}if(!m++)break;h=y,p=b,g=_,d=t}}return(o<-za||o<za&&Fs<0)^1&a}function je(i){function f(t,e){return Math.cos(t)*Math.cos(e)>D}function t(s){var l,c,u,d,h;return{lineStart:function(){d=u=!1,h=1},point:function(t,e){var n,r=[t,e],i=f(t,e),o=m?i?0:g(t,e):i?g(t+(t<0?Pa:-Pa),e):0;if(!l&&(d=u=i)&&s.lineStart(),i!==u&&(n=p(l,r),(xe(l,n)||xe(r,n))&&(r[0]+=za,r[1]+=za,i=f(r[0],r[1]))),i!==u)h=0,i?(s.lineStart(),n=p(r,l),s.point(n[0],n[1])):(n=p(l,r),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(y&&l&&m^i){var a;o&c||!(a=p(r,l,!0))||(h=0,m?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!i||l&&xe(l,r)||s.point(r[0],r[1]),l=r,u=i,c=o},lineEnd:function(){u&&s.lineEnd(),l=null},clean:function(){return h|(d&&u)<<1}}}function p(t,e,n){var r=[1,0,0],i=ye(ge(t),ge(e)),o=me(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var l=D*o/s,c=-D*a/s,u=ye(r,i),d=be(r,l);ve(d,be(i,c));var h=u,f=me(d,h),p=me(h,h),g=f*f-p*(me(d,d)-1);if(!(g<0)){var m=Math.sqrt(g),y=be(h,(-f-m)/p);if(ve(y,d),y=we(y),!n)return y;var v,b=t[0],_=e[0],w=t[1],x=e[1];_<b&&(v=b,b=_,_=v);var C=_-b,T=va(C-Pa)<za;if(!T&&x<w&&(v=w,w=x,x=v),T||C<za?T?0<w+x^y[1]<(va(y[0]-b)<za?w:x):w<=y[1]&&y[1]<=x:Pa<C^(b<=y[0]&&y[0]<=_)){var M=be(h,(-f+m)/p);return ve(M,d),[y,we(M)]}}}function g(t,e){var n=m?i:Pa-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}var D=Math.cos(i),m=0<D,y=va(D)>za;return Re(f,t,gn(i,6*ja),m?[0,-i]:[-Pa,i-Pa])}function We(u,d,h,f){return function(t){var e,n=t.a,r=t.b,i=n.x,o=n.y,a=0,s=1,l=r.x-i,c=r.y-o;if(e=u-i,l||!(0<e)){if(e/=l,l<0){if(e<a)return;e<s&&(s=e)}else if(0<l){if(s<e)return;a<e&&(a=e)}if(e=h-i,l||!(e<0)){if(e/=l,l<0){if(s<e)return;a<e&&(a=e)}else if(0<l){if(e<a)return;e<s&&(s=e)}if(e=d-o,c||!(0<e)){if(e/=c,c<0){if(e<a)return;e<s&&(s=e)}else if(0<c){if(s<e)return;a<e&&(a=e)}if(e=f-o,c||!(e<0)){if(e/=c,c<0){if(s<e)return;a<e&&(a=e)}else if(0<c){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:i+a*l,y:o+a*c}),s<1&&(t.b={x:i+s*l,y:o+s*c}),t}}}}}}function qe(C,T,M,D){function S(t,e){return va(t[0]-C)<za?0<e?0:3:va(t[0]-M)<za?0<e?2:1:va(t[1]-T)<za?0<e?1:0:0<e?3:2}function k(t,e){return N(t.x,e.x)}function N(t,e){var n=S(t,1),r=S(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function r(t){for(var e=0,n=u.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=u[i],l=s.length,c=s[0];a<l;++a)o=s[a],c[1]<=r?o[1]>r&&0<J(c,o,t)&&++e:o[1]<=r&&J(c,o,t)<0&&--e,c=o;return 0!==e}function o(t,e,n,r){var i=0,o=0;if(null==t||(i=S(t,n))!==(o=S(e,n))||N(t,e)<0^0<n)for(;r.point(0===i||3===i?C:M,1<i?D:T),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function a(t,e){return C<=t&&t<=M&&T<=e&&e<=D}function t(t,e){a(t,e)&&i.point(t,e)}function e(){x.point=s,u&&u.push(c=[]),m=!(y=!0),p=g=NaN}function n(){l&&(s(d,h),f&&m&&_.rejoin(),l.push(_.buffer())),x.point=t,m&&i.lineEnd()}function s(t,e){var n=a(t=Math.max(-Is,Math.min(Is,t)),e=Math.max(-Is,Math.min(Is,e)));if(u&&c.push([t,e]),y)d=t,h=e,y=!1,(f=n)&&(i.lineStart(),i.point(t,e));else if(n&&m)i.point(t,e);else{var r={a:{x:p,y:g},b:{x:t,y:e}};w(r)?(m||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),n||i.lineEnd(),v=!1):n&&(i.lineStart(),i.point(t,e),v=!1)}p=t,g=e,m=n}var l,u,c,d,h,f,p,g,m,y,v,b=i,_=ze(),w=We(C,T,M,D),x={point:t,lineStart:e,lineEnd:n,polygonStart:function(){i=_,l=[],u=[],v=!0},polygonEnd:function(){i=b,l=la.merge(l);var t=r([C,D]),e=v&&t,n=l.length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),o(null,null,1,i),i.lineEnd()),n&&Ae(l,k,t,o,i),i.polygonEnd()),l=u=c=null}};return x}}function Be(t){var e=0,n=Pa/3,r=sn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Pa/180,n=t[1]*Pa/180):[e/Pa*180,n/Pa*180]},i}function Ue(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,et((o-(t*t+n*n)*i*i)/(2*i))]},n}function Ve(){function n(t,e){Os+=a*t-o*e,o=t,a=e}var r,i,o,a;Vs.point=function(t,e){Vs.point=n,r=o=t,i=a=e},Vs.lineEnd=function(){n(r,i)}}function Ye(t,e){t<js&&(js=t),qs<t&&(qs=t),e<Ws&&(Ws=e),Bs<e&&(Bs=e)}function Ge(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Ke(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Ke(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Ke(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ze(t,e){Ms+=t,Ds+=e,++Ss}function Xe(){function n(t,e){var n=t-o,r=e-a,i=Math.sqrt(n*n+r*r);ks+=i*(o+t)/2,Ns+=i*(a+e)/2,As+=i,Ze(o=t,a=e)}var o,a;Gs.point=function(t,e){Gs.point=n,Ze(o=t,a=e)}}function Qe(){Gs.point=Ze}function Je(){function n(t,e){var n=t-o,r=e-a,i=Math.sqrt(n*n+r*r);ks+=i*(o+t)/2,Ns+=i*(a+e)/2,As+=i,Es+=(i=a*t-o*e)*(o+t),Ls+=i*(a+e),Rs+=3*i,Ze(o=t,a=e)}var r,i,o,a;Gs.point=function(t,e){Gs.point=n,Ze(r=o=t,i=a=e)},Gs.lineEnd=function(){n(r,i)}}function tn(n){function t(t,e){n.moveTo(t+a,e),n.arc(t,e,a,0,Ia)}function e(t,e){n.moveTo(t,e),s.point=r}function r(t,e){n.lineTo(t,e)}function i(){s.point=t}function o(){n.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=t,s},result:_};return s}function en(N){function e(t){return(w?r:n)(t)}function n(n){return on(n,function(t,e){t=N(t,e),n.point(t[0],t[1])})}function r(i){function t(t,e){t=N(t,e),i.point(t[0],t[1])}function e(){g=NaN,_.point=n,i.lineStart()}function n(t,e){var n=ge([t,e]),r=N(t,e);A(g,m,p,y,v,b,g=r[0],m=r[1],p=t,y=n[0],v=n[1],b=n[2],w,i),i.point(g,m)}function r(){_.point=t,i.lineEnd()}function o(){e(),_.point=a,_.lineEnd=s}function a(t,e){n(l=t,e),c=g,u=m,d=y,h=v,f=b,_.point=n}function s(){A(g,m,p,y,v,b,c,u,l,d,h,f,w,i),(_.lineEnd=r)()}var l,c,u,d,h,f,p,g,m,y,v,b,_={point:t,lineStart:e,lineEnd:r,polygonStart:function(){i.polygonStart(),_.lineStart=o},polygonEnd:function(){i.polygonEnd(),_.lineStart=e}};return _}function A(t,e,n,r,i,o,a,s,l,c,u,d,h,f){var p=a-t,g=s-e,m=p*p+g*g;if(4*E<m&&h--){var y=r+c,v=i+u,b=o+d,_=Math.sqrt(y*y+v*v+b*b),w=Math.asin(b/=_),x=va(va(b)-1)<za||va(n-l)<za?(n+l)/2:Math.atan2(v,y),C=N(x,w),T=C[0],M=C[1],D=T-t,S=M-e,k=g*D-p*S;(E<k*k/m||.3<va((p*D+g*S)/m-.5)||r*c+i*u+o*d<L)&&(A(t,e,n,r,i,o,T,M,x,y/=_,v/=_,b,h,f),f.point(T,M),A(T,M,x,y,v,b,a,s,l,c,u,d,h,f))}}var E=.5,L=Math.cos(30*ja),w=16;return e.precision=function(t){return arguments.length?(w=0<(E=t*t)&&16,e):Math.sqrt(E)},e}function nn(n){var e=en(function(t,e){return n([t*Wa,e*Wa])});return function(t){return ln(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return[(t=s(t[0]*ja,t[1]*ja))[0]*h+l,c-t[1]*h]}function n(t){return(t=s.invert((t[0]-l)/h,(c-t[1])/h))&&[t[0]*Wa,t[1]*Wa]}function r(){s=ke(a=dn(y,v,b),o);var t=o(g,m);return l=f-t[0]*h,c=p+t[1]*h,i()}function i(){return u&&(u.valid=!1,u=null),e}var o,a,s,l,c,u,d=en(function(t,e){return[(t=o(t,e))[0]*h+l,c-t[1]*h]}),h=150,f=480,p=250,g=0,m=0,y=0,v=0,b=0,_=Ps,w=z,x=null,C=null;return e.stream=function(t){return u&&(u.valid=!1),(u=ln(_(a,d(w(t))))).valid=!0,u},e.clipAngle=function(t){return arguments.length?(_=null==t?(x=t,Ps):je((x=+t)*ja),i()):x},e.clipExtent=function(t){return arguments.length?(w=(C=t)?qe(t[0][0],t[0][1],t[1][0],t[1][1]):z,i()):C},e.scale=function(t){return arguments.length?(h=+t,r()):h},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],r()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*ja,m=t[1]%360*ja,r()):[g*Wa,m*Wa]},e.rotate=function(t){return arguments.length?(y=t[0]%360*ja,v=t[1]%360*ja,b=2<t.length?t[2]%360*ja:0,r()):[y*Wa,v*Wa,b*Wa]},la.rebind(e,d,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function ln(n){return on(n,function(t,e){n.point(t*ja,e*ja)})}function cn(t,e){return[t,e]}function un(t,e){return[Pa<t?t-Ia:t<-Pa?t+Ia:t,e]}function dn(t,e,n){return t?e||n?ke(fn(t),pn(e,n)):fn(t):e||n?pn(e,n):un}function hn(n){return function(t,e){return[Pa<(t+=n)?t-Ia:t<-Pa?t+Ia:t,e]}}function fn(t){var e=hn(t);return e.invert=hn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,o=Math.sin(e),a=o*s+r*l;return[Math.atan2(i*c-a*u,r*s-o*l),et(a*c+i*u)]}var s=Math.cos(t),l=Math.sin(t),c=Math.cos(e),u=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,o=Math.sin(e),a=o*c-i*u;return[Math.atan2(i*c+o*u,r*s+a*l),et(a*s-r*l)]},n}function gn(s,l){var c=Math.cos(s),u=Math.sin(s);return function(t,e,n,r){var i=n*l;null!=t?(t=mn(c,t),e=mn(c,e),(0<n?t<e:e<t)&&(t+=n*Ia)):(t=s+n*Ia,e=s-.5*i);for(var o,a=t;0<n?e<a:a<e;a-=i)r.point((o=we([c,-u*Math.cos(a),-u*Math.sin(a)]))[0],o[1])}}function mn(t,e){var n=ge(e);n[0]-=t,_e(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-za)%(2*Math.PI)}function yn(t,e,n){var r=la.range(t,e-za,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function vn(t,e,n){var r=la.range(t,e-za,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function bn(t){return t.source}function _n(t){return t.target}function wn(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),c=i*Math.sin(t),u=o*Math.cos(n),d=o*Math.sin(n),h=2*Math.asin(Math.sqrt(ot(r-e)+i*o*ot(n-t))),f=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*f,n=Math.sin(h-t)*f,r=n*l+e*u,i=n*c+e*d,o=n*a+e*s;return[Math.atan2(i,r)*Wa,Math.atan2(o,Math.sqrt(r*r+i*i))*Wa]}:function(){return[t*Wa,e*Wa]};return p.distance=h,p}function xn(){function n(t,e){var n=Math.sin(e*=ja),r=Math.cos(e),i=va((t*=ja)-a),o=Math.cos(i);Us+=Math.atan2(Math.sqrt((i=r*Math.sin(i))*i+(i=l*n-s*r*o)*i),s*n+l*r*o),a=t,s=n,l=r}var a,s,l;Ks.point=function(t,e){a=t*ja,s=Math.sin(e*=ja),l=Math.cos(e),Ks.point=n},Ks.lineEnd=function(){Ks.point=Ks.lineEnd=_}}function Cn(o,a){function t(t,e){var n=Math.cos(t),r=Math.cos(e),i=o(n*r);return[i*r*Math.sin(t),i*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),r=a(n),i=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*i,n*o),Math.asin(n&&e*i/n)]},t}function Tn(t,e){function n(t,e){0<a?e<-Oa+za&&(e=-Oa+za):Oa-za<e&&(e=Oa-za);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Pa/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=Q(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Oa]},n):Dn}function Mn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return va(i)<za?cn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-Q(i)*Math.sqrt(t*t+n*n)]},n)}function Dn(t,e){return[t,Math.log(Math.tan(Pa/4+e/2))]}function Sn(t){var i,o=an(t),a=o.scale,s=o.translate,l=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=l.apply(o,arguments);if(e===o){if(i=null==t){var n=Pa*a(),r=s();l([[r[0]-n,r[1]-n],[r[0]+n,r[1]+n]])}}else i&&(e=null);return e},o.clipExtent(null)}function kn(t,e){return[Math.log(Math.tan(Pa/4+e/2)),-t]}function Nn(t){return t[0]}function An(t){return t[1]}function En(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;1<r&&J(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Ln(t,e){return t[0]-e[0]||t[1]-e[1]}function Rn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Fn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,l=t[1],c=n[1],u=e[1]-l,d=r[1]-c,h=(s*(l-c)-d*(i-o))/(d*a-s*u);return[i+h*a,l+h*u]}function zn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function $n(){rr(this),this.edge=this.site=this.circle=null}function Pn(t){var e=sl.pop()||new $n;return e.site=t,e}function In(t){Gn(t),il.remove(t),sl.push(t),rr(t)}function Hn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];In(t);for(var l=o;l.circle&&va(n-l.circle.x)<za&&va(r-l.circle.cy)<za;)o=l.P,s.unshift(l),In(l),l=o;s.unshift(l),Gn(l);for(var c=a;c.circle&&va(n-c.circle.x)<za&&va(r-c.circle.cy)<za;)a=c.N,s.push(c),In(c),c=a;s.push(c),Gn(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],tr(c.edge,l.site,c.site,i);l=s[0],(c=s[d-1]).edge=Qn(l.site,c.site,null,i),Yn(l),Yn(c)}function On(t){for(var e,n,r,i,o=t.x,a=t.y,s=il._;s;)if(r=jn(s,a)-o,za<r)s=s.L;else{if(i=o-Wn(s,a),!(za<i)){-za<r?(e=s.P,n=s):-za<i?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Pn(t);if(il.insert(e,l),e||n){if(e===n)return Gn(e),n=Pn(e.site),il.insert(l,n),l.edge=n.edge=Qn(e.site,l.site),Yn(e),void Yn(n);if(n){Gn(e),Gn(n);var c=e.site,u=c.x,d=c.y,h=t.x-u,f=t.y-d,p=n.site,g=p.x-u,m=p.y-d,y=2*(h*m-f*g),v=h*h+f*f,b=g*g+m*m,_={x:(m*v-f*b)/y+u,y:(h*b-g*v)/y+d};tr(n.edge,c,p,_),l.edge=Qn(c,t,null,_),n.edge=Qn(t,p,null,_),Yn(e),Yn(n)}else l.edge=Qn(e.site,l.site)}}function jn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-Infinity;var s=(n=a.site).x,l=n.y,c=l-e;if(!c)return s;var u=s-r,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+i-o/2)))/d+r:(r+s)/2}function Wn(t,e){var n=t.N;if(n)return jn(n,e);var r=t.site;return r.y===e?r.x:Infinity}function qn(t){this.site=t,this.edges=[]}function Bn(t){for(var e,n,r,i,o,a,s,l,c,u,d=t[0][0],h=t[1][0],f=t[0][1],p=t[1][1],g=rl,m=g.length;m--;)if((o=g[m])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)r=(u=s[a].end()).x,i=u.y,e=(c=s[++a%l].start()).x,n=c.y,(va(r-e)>za||va(i-n)>za)&&(s.splice(a,0,new er(Jn(o.site,u,va(r-d)<za&&za<p-i?{x:d,y:va(e-d)<za?n:p}:va(i-p)<za&&za<h-r?{x:va(n-p)<za?e:h,y:p}:va(r-h)<za&&za<i-f?{x:h,y:va(e-h)<za?n:f}:va(i-f)<za&&za<r-d?{x:va(n-f)<za?e:d,y:f}:null),o.site,null)),++l)}function Un(t,e){return e.angle-t.angle}function Vn(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,c=r.y-s,u=o.x-a,d=2*(l*(m=o.y-s)-c*u);if(!(-$a<=d)){var h=l*l+c*c,f=u*u+m*m,p=(m*h-c*f)/d,g=(l*f-u*h)/d,m=g+s,y=ll.pop()||new Vn;y.arc=t,y.site=i,y.x=p+a,y.y=m+Math.sqrt(p*p+g*g),y.cy=m,t.circle=y;for(var v=null,b=al._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}al.insert(v,y),v||(ol=y)}}}}function Gn(t){var e=t.circle;e&&(e.P||(ol=e.N),al.remove(e),ll.push(e),rr(e),t.circle=null)}function Kn(t){for(var e,n=nl,r=We(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Zn(e=n[i],t)||!r(e)||va(e.a.x-e.b.x)<za&&va(e.a.y-e.b.y)<za)&&(e.a=e.b=null,n.splice(i,1))}function Zn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,d=t.r,h=u.x,f=u.y,p=d.x,g=d.y,m=(h+p)/2,y=(f+g)/2;if(g===f){if(m<a||s<=m)return;if(p<h){if(o){if(o.y>=c)return}else o={x:m,y:l};n={x:m,y:c}}else{if(o){if(o.y<l)return}else o={x:m,y:c};n={x:m,y:l}}}else if(i=y-(r=(h-p)/(g-f))*m,r<-1||1<r)if(p<h){if(o){if(o.y>=c)return}else o={x:(l-i)/r,y:l};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-i)/r,y:c};n={x:(l-i)/r,y:l}}else if(f<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Xn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Qn(t,e,n,r){var i=new Xn(t,e);return nl.push(i),n&&tr(i,t,e,n),r&&tr(i,e,t,r),rl[t.i].edges.push(new er(i,t,e)),rl[e.i].edges.push(new er(i,e,t)),i}function Jn(t,e,n){var r=new Xn(t,null);return r.a=e,r.b=n,nl.push(r),r}function tr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function er(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function nr(){this._=null}function rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function or(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ar(t){for(;t.L;)t=t.L;return t}function sr(t,e){var n,r,i,o=t.sort(lr).pop();for(nl=[],rl=new Array(t.length),il=new nr,al=new nr;;)if(i=ol,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(rl[o.i]=new qn(o),On(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Hn(i.arc)}e&&(Kn(e),Bn(e));var a={cells:rl,edges:nl};return il=al=nl=rl=null,a}function lr(t,e){return e.y-t.y||e.x-t.x}function cr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ur(t){return t.x}function dr(t){return t.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=e.nodes;l[0]&&fr(t,l[0],n,r,a,s),l[1]&&fr(t,l[1],a,r,i,s),l[2]&&fr(t,l[2],n,s,a,o),l[3]&&fr(t,l[3],a,s,i,o)}}function pr(t,g,m,y,v,b,_){var w,x=Infinity;return function C(t,e,n,r,i){if(!(b<e||_<n||r<y||i<v)){if(o=t.point){var o,a=g-t.x,s=m-t.y,l=a*a+s*s;if(l<x){var c=Math.sqrt(x=l);y=g-c,v=m-c,b=g+c,_=m+c,w=o}}for(var u=t.nodes,d=.5*(e+r),h=.5*(n+i),f=(h<=m)<<1|d<=g,p=f+4;f<p;++f)if(t=u[3&f])switch(3&f){case 0:C(t,e,n,d,h);break;case 1:C(t,d,n,r,h);break;case 2:C(t,e,h,d,i);break;case 3:C(t,d,h,r,i)}}}(t,y,v,b,_),w}function gr(t,e){t=la.rgb(t),e=la.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+_t(Math.round(n+o*t))+_t(Math.round(r+a*t))+_t(Math.round(i+s*t))}}function mr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=br(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function yr(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function vr(t,r){var e,n,i,o=ul.lastIndex=dl.lastIndex=0,a=-1,s=[],l=[];for(t+="",r+="";(e=ul.exec(t))&&(n=dl.exec(r));)(i=n.index)>o&&(i=r.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:yr(e,n)})),o=dl.lastIndex;return o<r.length&&(i=r.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(r=l[0].x,function(t){return r(t)+""}):function(){return r}:(r=l.length,function(t){for(var e,n=0;n<r;++n)s[(e=l[n]).i]=e.x(t);return s.join("")})}function br(t,e){for(var n,r=la.interpolators.length;0<=--r&&!(n=la.interpolators[r](t,e)););return n}function _r(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(br(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function wr(e){return function(t){return t<=0?0:1<=t?1:e(t)}}function xr(e){return function(t){return 1-e(1-t)}}function Cr(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Tr(t){return t*t}function Mr(t){return t*t*t}function Dr(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Sr(e){return function(t){return Math.pow(t,e)}}function kr(t){return 1-Math.cos(t*Oa)}function Nr(t){return Math.pow(2,10*(t-1))}function Ar(t){return 1-Math.sqrt(1-t*t)}
function Er(e,n){var r;return arguments.length<2&&(n=.45),arguments.length?r=n/Ia*Math.asin(1/e):(e=1,r=n/4),function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-r)*Ia/n)}}function Lr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Rr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Fr(t,e){t=la.hcl(t),e=la.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ut(n+o*t,r+a*t,i+s*t)+""}}function zr(t,e){t=la.hsl(t),e=la.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return lt(n+o*t,r+a*t,i+s*t)+""}}function $r(t,e){t=la.lab(t),e=la.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return ht(n+o*t,r+a*t,i+s*t)+""}}function Pr(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function Ir(t){var e=[t.a,t.b],n=[t.c,t.d],r=Or(e),i=Hr(e,n),o=Or(jr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Wa,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Wa:0}function Hr(t,e){return t[0]*e[0]+t[1]*e[1]}function Or(t){var e=Math.sqrt(Hr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function jr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Wr(t){return t.length?t.pop()+",":""}function qr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:yr(t[0],e[0])},{i:i-2,x:yr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Br(t,e,n,r){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),r.push({i:n.push(Wr(n)+"rotate(",null,")")-2,x:yr(t,e)})):e&&n.push(Wr(n)+"rotate("+e+")")}function Ur(t,e,n,r){t!==e?r.push({i:n.push(Wr(n)+"skewX(",null,")")-2,x:yr(t,e)}):e&&n.push(Wr(n)+"skewX("+e+")")}function Vr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Wr(n)+"scale(",null,",",null,")");r.push({i:i-4,x:yr(t[0],e[0])},{i:i-2,x:yr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Wr(n)+"scale("+e+")")}function Yr(t,e){var i=[],o=[];return t=la.transform(t),e=la.transform(e),qr(t.translate,e.translate,i,o),Br(t.rotate,e.rotate,i,o),Ur(t.skew,e.skew,i,o),Vr(t.scale,e.scale,i,o),t=e=null,function(t){for(var e,n=-1,r=o.length;++n<r;)i[(e=o[n]).i]=e.x(t);return i.join("")}}function Gr(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function Kr(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function Zr(t){for(var e=t.source,n=t.target,r=Qr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Xr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Qr(t,e){if(t===e)return t;for(var n=Xr(t),r=Xr(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Jr(t){t.fixed|=2}function ti(t){t.fixed&=-7}function ei(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ni(t){t.fixed&=-5}function ri(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,l=-1;++l<s;)null!=(o=a[l])&&(ri(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ii(t,e){return la.rebind(t,e,"sort","children","value"),(t.nodes=t).links=ui,t}function oi(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;0<=--r;)n.push(i[r])}function ai(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function si(t){return t.children}function li(t){return t.value}function ci(t,e){return e.value-t.value}function ui(t){return la.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function di(t){return t.x}function hi(t){return t.y}function fi(t,e,n){t.y0=e,t.y=n}function pi(t){return la.range(t.length)}function gi(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function mi(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function yi(t){return t.reduce(vi,0)}function vi(t,e){return t+e[1]}function bi(t,e){return _i(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function _i(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function wi(t){return[la.min(t),la.max(t)]}function xi(t,e){return t.value-e.value}function Ci(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Ti(t,e){(t._pack_next=e)._pack_prev=t}function Mi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return n*n+r*r<.999*i*i}function Di(t){function e(t){u=Math.min(t.x-t.r,u),d=Math.max(t.x+t.r,d),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(c=n.length)){var n,r,i,o,a,s,l,c,u=Infinity,d=-Infinity,h=Infinity,f=-Infinity;if(n.forEach(Si),(r=n[0]).x=-r.r,r.y=0,e(r),1<c&&((i=n[1]).x=i.r,i.y=0,e(i),2<c))for(Ai(r,i,o=n[2]),e(o),Ci(r,o),Ci(r._pack_prev=o,i),i=r._pack_next,a=3;a<c;a++){Ai(r,i,o=n[a]);var p=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Mi(s,o)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!Mi(l,o);l=l._pack_prev,m++);p?(g<m||g==m&&i.r<r.r?Ti(r,i=s):Ti(r=l,i),a--):(Ci(r,o),e(i=o))}var y=(u+d)/2,v=(h+f)/2,b=0;for(a=0;a<c;a++)(o=n[a]).x-=y,o.y-=v,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(ki)}}function Si(t){t._pack_next=t._pack_prev=t}function ki(t){delete t._pack_next,delete t._pack_prev}function Ni(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ni(i[o],e,n,r)}function Ai(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,l=.5+((r*=r)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+l*i+c*o,n.y=t.y+l*o-c*i}else n.x=t.x+r,n.y=t.y}function Ei(t,e){return t.parent==e.parent?1:2}function Li(t){var e=t.children;return e.length?e[0]:t.t}function Ri(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Fi(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function zi(t){for(var e,n=0,r=0,i=t.children,o=i.length;0<=--o;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function $i(t,e,n){return t.a.parent===e.parent?t.a:n}function Pi(t){return 1+la.max(t,function(t){return t.y})}function Ii(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Hi(t){var e=t.children;return e&&e.length?Hi(e[0]):t}function Oi(t){var e,n=t.children;return n&&(e=n.length)?Oi(n[e-1]):t}function ji(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Wi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function qi(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Bi(t){return t.rangeExtent?t.rangeExtent():qi(t.range())}function Ui(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Vi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Yi(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:xl}function Gi(n,t,e,r){var i=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(e(n[a-1],n[a])),o.push(r(t[a-1],t[a]));return function(t){var e=la.bisect(n,t,1,s)-1;return o[e](i[e](t))}}function Ki(n,r,i,o){function e(){var t=2<Math.min(n.length,r.length)?Gi:Ui,e=o?Kr:Gr;return s=t(n,r,e,i),l=t(r,n,e,br),a}function a(t){return s(t)}var s,l;return a.invert=function(t){return l(t)},a.domain=function(t){return arguments.length?(n=t.map(Number),e()):n},a.range=function(t){return arguments.length?(r=t,e()):r},a.rangeRound=function(t){return a.range(t).interpolate(Pr)},a.clamp=function(t){return arguments.length?(o=t,e()):o},a.interpolate=function(t){return arguments.length?(i=t,e()):i},a.ticks=function(t){return Ji(n,t)},a.tickFormat=function(t,e){return to(n,t,e)},a.nice=function(t){return Xi(n,t),e()},a.copy=function(){return Ki(n,r,i,o)},e()}function Zi(t,e){return la.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Xi(t,e){return Vi(t,Yi(Qi(t,e)[2])),Vi(t,Yi(Qi(t,e)[2])),t}function Qi(t,e){null==e&&(e=10);var n=qi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Ji(t,e){return la.range.apply(la,Qi(t,e))}function to(t,e,n){var r=Qi(t,e);if(n){var i=us.exec(n);if(i.shift(),"s"===i[8]){var o=la.formatPrefix(Math.max(va(r[0]),va(r[1])));return i[7]||(i[7]="."+eo(o.scale(r[2]))),i[8]="f",n=la.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+no(i[8],r)),n=i.join("")}else n=",."+eo(r[2])+"f";return la.format(n)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function no(t,e){var n=eo(e[2]);return t in Cl?Math.abs(n-eo(Math.max(va(e[0]),va(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ro(e,l,c,u){function d(t){return(c?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(l)}function h(t){return c?Math.pow(l,t):-Math.pow(l,-t)}function i(t){return e(d(t))}return i.invert=function(t){return h(e.invert(t))},i.domain=function(t){return arguments.length?(c=0<=t[0],e.domain((u=t.map(Number)).map(d)),i):u},i.base=function(t){return arguments.length?(l=+t,e.domain(u.map(d)),i):l},i.nice=function(){var t=Vi(u.map(d),c?Math:Ml);return e.domain(t),u=t.map(h),i},i.ticks=function(){var t=qi(u),e=[],n=t[0],r=t[1],i=Math.floor(d(n)),o=Math.ceil(d(r)),a=l%1?2:l;if(isFinite(o-i)){if(c){for(;i<o;i++)for(var s=1;s<a;s++)e.push(h(i)*s);e.push(h(i))}else for(e.push(h(i));i++<o;)for(s=a-1;0<s;s--)e.push(h(i)*s);for(i=0;e[i]<n;i++);for(o=e.length;e[o-1]>r;o--);e=e.slice(i,o)}return e},i.tickFormat=function(t,n){if(!arguments.length)return Tl;arguments.length<2?n=Tl:"function"!=typeof n&&(n=la.format(n));var r=Math.max(1,l*t/i.ticks().length);return function(t){var e=t/h(Math.round(d(t)));return e*l<l-.5&&(e*=l),e<=r?n(t):""}},i.copy=function(){return ro(e.copy(),l,c,u)},Zi(i,e)}function io(e,n,r){function i(t){return e(o(t))}var o=oo(n),a=oo(1/n);return i.invert=function(t){return a(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(o)),i):r},i.ticks=function(t){return Ji(r,t)},i.tickFormat=function(t,e){return to(r,t,e)},i.nice=function(t){return i.domain(Xi(r,t))},i.exponent=function(t){return arguments.length?(o=oo(n=t),a=oo(1/n),e.domain(r.map(o)),i):n},i.copy=function(){return io(e.copy(),n,r)},Zi(i,e)}function oo(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ao(s,l){function c(t){return d[((i.get(t)||("range"===l.t?i.set(t,s.push(t)):NaN))-1)%d.length]}function u(e,n){return la.range(s.length).map(function(t){return e+n*t})}var i,d,h;return c.domain=function(t){if(!arguments.length)return s;s=[],i=new v;for(var e,n=-1,r=t.length;++n<r;)i.has(e=t[n])||i.set(e,s.push(e));return c[l.t].apply(c,l.a)},c.range=function(t){return arguments.length?(d=t,h=0,l={t:"range",a:arguments},c):d},c.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=(n+r)/2,0):(r-n)/(s.length-1+e);return d=u(n+i*e/2,i),h=0,l={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=r=Math.round((n+r)/2),0):(r-n)/(s.length-1+e)|0;return d=u(n+Math.round(i*e/2+(r-n-(s.length-1+e)*i)/2),i),h=0,l={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],o=(t[1-r]-i)/(s.length-e+2*n);return d=u(i+o*n,o),r&&d.reverse(),h=o*(1-e),l={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],o=t[1-r],a=Math.floor((o-i)/(s.length-e+2*n));return d=u(i+Math.round((o-i-(s.length-e)*a)/2),a),r&&d.reverse(),h=Math.round(a*(1-e)),l={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return h},c.rangeExtent=function(){return qi(l.a[0])},c.copy=function(){return ao(s,l)},c.domain(s)}function so(n,r){function e(){var t=0,e=r.length;for(o=[];++t<e;)o[t-1]=la.quantile(n,t/e);return i}function i(t){if(!isNaN(t=+t))return r[la.bisect(o,t)]}var o;return i.domain=function(t){return arguments.length?(n=t.map(c).filter(u).sort(a),e()):n},i.range=function(t){return arguments.length?(r=t,e()):r},i.quantiles=function(){return o},i.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[0<t?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]},i.copy=function(){return so(n,r)},e()}function lo(e,n,r){function t(t){return r[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=r.length/(n-e),a=r.length-1,t}var o,a;return t.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],i()):[e,n]},t.range=function(t){return arguments.length?(r=t,i()):r},t.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/o+e,t+1/o]},t.copy=function(){return lo(e,n,r)},i()}function co(e,n){function r(t){if(t<=t)return n[la.bisect(e,t)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return co(e,n)},r}function uo(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return Ji(n,t)},e.tickFormat=function(t,e){return to(n,t,e)},e.copy=function(){return uo(n)},e}function ho(){return 0}function fo(t){return t.innerRadius}function po(t){return t.outerRadius}function go(t){return t.startAngle}function mo(t){return t.endAngle}function yo(t){return t&&t.padAngle}function vo(t,e,n,r){return 0<(t-n)*e-(e-r)*t?0:1}function bo(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,c=-s*o,u=t[0]+l,d=t[1]+c,h=e[0]+l,f=e[1]+c,p=(u+h)/2,g=(d+f)/2,m=h-u,y=f-d,v=m*m+y*y,b=n-r,_=u*f-h*d,w=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*v-_*_)),x=(_*y-m*w)/v,C=(-_*m-y*w)/v,T=(_*y+m*w)/v,M=(-_*m+y*w)/v,D=x-p,S=C-g,k=T-p,N=M-g;return k*k+N*N<D*D+S*S&&(x=T,C=M),[[x-l,C-c],[x*n/b,C*n/b]]}function _o(c){function e(t){function e(){r.push("M",f(c(i),p))}for(var n,r=[],i=[],o=-1,a=t.length,s=Dt(u),l=Dt(d);++o<a;)h.call(this,n=t[o],o)?i.push([+s.call(this,n,o),+l.call(this,n,o)]):i.length&&(e(),i=[]);return i.length&&e(),r.length?r.join(""):null}var u=Nn,d=An,h=Ne,f=wo,n=f.key,p=.7;return e.x=function(t){return arguments.length?(u=t,e):u},e.y=function(t){return arguments.length?(d=t,e):d},e.defined=function(t){return arguments.length?(h=t,e):h},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?f=t:(f=El.get(t)||wo).key,e):n},e.tension=function(t){return arguments.length?(p=t,e):p},e}function wo(t){return 1<t.length?t.join("L"):t+"Z"}function xo(t){return t.join("L")+"Z"}function Co(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return 1<n&&i.push("H",r[0]),i.join("")}function To(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Mo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Do(t,e){return t.length<4?wo(t):t[1]+No(t.slice(1,-1),Ao(t,e))}function So(t,e){return t.length<3?xo(t):t[0]+No((t.push(t[0]),t),Ao([t[t.length-2]].concat(t,[t[1]]),e))}function ko(t,e){return t.length<3?wo(t):t[0]+No(t,Ao(t,e))}function No(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return wo(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),1<e.length){s=e[1],o=t[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,l++)o=t[l],s=e[c],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var u=t[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function Ao(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Eo(t){if(t.length<3)return wo(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",zo(Fl,a),",",zo(Fl,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),$o(l,a,s);return t.pop(),l.push("L",r),l.join("")}function Lo(t){if(t.length<4)return wo(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(zo(Fl,o)+","+zo(Fl,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),$o(n,o,a);return n.join("")}function Ro(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[zo(Fl,a),",",zo(Fl,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),$o(e,a,s);return e.join("")}function Fo(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,c=-1;++c<=n;)i=c/n,(r=t[c])[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*l);return Eo(t)}function zo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function $o(t,e,n){t.push("C",zo(Ll,e),",",zo(Ll,n),",",zo(Rl,e),",",zo(Rl,n),",",zo(Fl,e),",",zo(Fl,n))}function Po(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Io(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Po(i,o);++e<n;)r[e]=(a+(a=Po(i=o,o=t[e+1])))/2;return r[e]=a,r}function Ho(t){for(var e,n,r,i,o=[],a=Io(t),s=-1,l=t.length-1;++s<l;)e=Po(t[s],t[s+1]),va(e)<za?a[s]=a[s+1]=0:9<(i=(n=a[s]/e)*n+(r=a[s+1]/e)*r)&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Oo(t){return t.length<3?wo(t):t[0]+No(t,Ho(t))}function jo(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Oa,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Wo(p){function e(t){function e(){o.push("M",_(p(s),C),x,w(p(a.reverse()),C),"Z")}for(var n,r,i,o=[],a=[],s=[],l=-1,c=t.length,u=Dt(g),d=Dt(y),h=g===m?function(){return r}:Dt(m),f=y===v?function(){return i}:Dt(v);++l<c;)b.call(this,n=t[l],l)?(a.push([r=+u.call(this,n,l),i=+d.call(this,n,l)]),s.push([+h.call(this,n,l),+f.call(this,n,l)])):a.length&&(e(),a=[],s=[]);return a.length&&e(),o.length?o.join(""):null}var g=Nn,m=Nn,y=0,v=An,b=Ne,_=wo,n=_.key,w=_,x="L",C=.7;return e.x=function(t){return arguments.length?(g=m=t,e):m},e.x0=function(t){return arguments.length?(g=t,e):g},e.x1=function(t){return arguments.length?(m=t,e):m},e.y=function(t){return arguments.length?(y=v=t,e):v},e.y0=function(t){return arguments.length?(y=t,e):y},e.y1=function(t){return arguments.length?(v=t,e):v},e.defined=function(t){return arguments.length?(b=t,e):b},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?_=t:(_=El.get(t)||wo).key,w=_.reverse||_,x=_.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(C=t,e):C},e}function qo(t){return t.radius}function Bo(t){return[t.x,t.y]}function Uo(r){return function(){var t=r.apply(this,arguments),e=t[0],n=t[1]-Oa;return[e*Math.cos(n),e*Math.sin(n)]}}function Vo(){return 64}function Yo(){return"circle"}function Go(t){var e=Math.sqrt(t/Pa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ko(r){return function(){var t,e,n;(t=this[r])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[r],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Zo(t,e,n){return Ca(t,jl),t.namespace=e,t.id=n,t}function Xo(t,r,i,o){var a=t.id,s=t.namespace;return q(t,"function"==typeof i?function(t,e,n){t[s][a].tween.set(r,o(i.call(t,t.__data__,e,n)))}:(i=o(i),function(t){t[s][a].tween.set(r,i)}))}function Qo(t){return null==t&&(t=""),function(){this.textContent=t}}function Jo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(o,a,i,s,t){function e(t){var e=g.delay;if(u.t=e+c,e<=t)return n(t-e);u.c=n}function n(t){var e=p.active,n=p[e];for(var r in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[e],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),p)if(+r<s){var i=p[r];i.timer.c=null,i.timer.t=NaN,--p.count,delete p[r]}u.c=l,Et(function(){return u.c&&l(t||1)&&(u.c=null,u.t=NaN),1},0,c),p.active=s,g.event&&g.event.start.call(o,o.__data__,a),f=[],g.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&f.push(e)}),h=g.ease,d=g.duration}function l(t){for(var e=t/d,n=h(e),r=f.length;0<r;)f[--r].call(o,n);if(1<=e)return g.event&&g.event.end.call(o,o.__data__,a),--p.count?delete p[s]:delete o[i],1}var c,u,d,h,f,p=o[i]||(o[i]={active:0,count:0}),g=p[s];g||(c=t.time,u=Et(e,0,c),g=p[s]={tween:new v,time:c,timer:u,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++p.count)}function ea(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:r(t))+",0)"})}function na(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:r(t))+")"})}function ra(t){return t.toISOString()}function ia(e,i,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,r=la.bisect(Zl,n);return r==Zl.length?[i.year,Qi(t.map(function(t){return t/31536e6}),e)[2]]:r?i[n/Zl[r-1]<Zl[r]/n?r-1:r]:[Jl,Qi(t,e)[2]]}return a.invert=function(t){return oa(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(oa)},a.nice=function(e,n){function r(t){return!isNaN(t)&&!e.range(t,oa(+t+1),n).length}var t=a.domain(),i=qi(t),o=null==e?s(i,10):"number"==typeof e&&s(i,e);return o&&(e=o[0],n=o[1]),a.domain(Vi(t,1<n?{floor:function(t){for(;r(t=e.floor(t));)t=oa(t-1);return t},ceil:function(t){for(;r(t=e.ceil(t));)t=oa(+t+1);return t}}:e))},a.ticks=function(t,e){var n=qi(a.domain()),r=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],oa(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return ia(e.copy(),i,t)},Zi(a,e)}function oa(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=da.createRange();return e.selectNode(da.body),e.createContextualFragment(t.responseText)}var la={version:"3.5.16"},ca=[].slice,ua=function(t){return ca.call(t)},da=this.document;if(da)try{ua(da.documentElement.childNodes)[0].nodeType}catch(nc){ua=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),da)try{da.createElement("DIV").style.setProperty("opacity",0,"")}catch(rc){var ha=this.Element.prototype,fa=ha.setAttribute,pa=ha.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,ma=ga.setProperty;ha.setAttribute=function(t,e){fa.call(this,t,e+"")},ha.setAttributeNS=function(t,e,n){pa.call(this,t,e,n+"")},ga.setProperty=function(t,e,n){ma.call(this,t,e+"",n)}}la.ascending=a,la.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},la.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r<n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r<n&&(n=r)}return n},la.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n<r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n<r&&(n=r)}return n},la.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(r<n&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(r<n&&(n=r),i<r&&(i=r))}return[n,i]},la.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)u(n=+t[o])&&(r+=n);else for(;++o<i;)u(n=+e.call(t,t[o],o))&&(r+=n);return r},la.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)u(n=c(t[o]))?r+=n:--a;else for(;++o<i;)u(n=c(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},la.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},la.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)u(n=c(t[o]))&&r.push(n);else for(;++o<i;)u(n=c(e.call(t,t[o],o)))&&r.push(n);if(r.length)return la.quantile(r.sort(a),.5)},la.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)u(n=c(t[s]))&&(a+=(r=n-o)*(n-(o+=r/++l)));else for(;++s<i;)u(n=c(e.call(t,t[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++l)));if(1<l)return a/(l-1)},la.deviation=function(){var t=la.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ya=t(a);la.bisectLeft=ya.left,la.bisect=la.bisectRight=ya.right,la.bisector=function(n){return t(1===n.length?function(t,e){return a(n(t),e)}:n)},la.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},la.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},la.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},la.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=la.min(t,l),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r},la.zip=function(){return la.transpose(arguments)},la.keys=function(t){var e=[];for(var n in t)e.push(n);return e},la.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},la.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},la.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n};var va=Math.abs;la.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===Infinity)throw new Error("infinite range");var r,i=[],o=d(va(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},la.map=function(t,e){var n=new v;if(t instanceof v)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var ba="__proto__",_a="\0";e(v,{has:i,get:function(t){return this._[n(t)]},set:function(t,e){return this._[n(t)]=e},remove:o,keys:h,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:r(e),value:this._[e]});return t},size:f,empty:p,forEach:function(t){for(var e in this._)t.call(this,r(e),this._[e])}}),la.nest=function(){function d(n,t,r){if(r>=g.length)return f?f.call(p,t):h?t.sort(h):t;for(var e,i,o,a,s=-1,l=t.length,c=g[r++],u=new v;++s<l;)(a=u.get(e=c(i=t[s])))?a.push(i):u.set(e,[i]);return n?(i=n(),o=function(t,e){i.set(t,d(n,e,r))}):(i={},o=function(t,e){i[t]=d(n,e,r)}),u.forEach(o),i}function o(t,n){if(n>=g.length)return t;var r=[],i=e[n++];return t.forEach(function(t,e){r.push({key:t,values:o(e,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var h,f,p={},g=[],e=[];return p.map=function(t,e){return d(e,t,0)},p.entries=function(t){return o(d(la.map,t,0),0)},p.key=function(t){return g.push(t),p},p.sortKeys=function(t){return e[g.length-1]=t,p},p.sortValues=function(t){return h=t,p},p.rollup=function(t){return f=t,p},p},la.set=function(t){var e=new g;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},e(g,{has:i,add:function(t){return this._[n(t+="")]=!0,t},remove:o,values:h,size:f,empty:p,forEach:function(t){for(var e in this._)t.call(this,r(e))}}),la.behavior={},la.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=m(t,e,e[n]);return t};var wa=["webkit","ms","moz","Moz","o","O"];la.dispatch=function(){for(var t=new b,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=w(t);return t},b.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(0<=n&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},la.event=null,la.requote=function(t){return t.replace(xa,"\\$&")};var xa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ca={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ta=function(t,e){return e.querySelector(t)},Ma=function(t,e){return e.querySelectorAll(t)},Da=function(t,e){var n=t.matches||t[y(t,"matchesSelector")];return(Da=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ta=function(t,e){return Sizzle(t,e)[0]||null},Ma=Sizzle,Da=Sizzle.matchesSelector),la.selection=function(){return la.select(da.documentElement)};var Sa=la.selection.prototype=[];Sa.select=function(t){var e,n,r,i,o=[];t=T(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return C(o)},Sa.selectAll=function(t){var e,n,r=[];t=M(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=ua(t.call(n,n.__data__,s,i))),e.parentNode=n);return C(r)};var ka="http://www.w3.org/1999/xhtml",Na={svg:"http://www.w3.org/2000/svg",xhtml:ka,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};la.ns={prefix:Na,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Na.hasOwnProperty(n)?{space:Na[n],local:t}:t}},Sa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=la.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},Sa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=N(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!k(t[i]).test(e))return!1;return!0}for(e in t)this.each(A(e,t[e]));return this}return this.each(A(t,e))},Sa.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(L(n,t[n],e));return this}if(r<2){var i=this.node();return F(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(L(t,e,n))},Sa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},Sa.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Sa.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Sa.append=function(t){return t=I(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Sa.insert=function(t,e){return t=I(t),e=T(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Sa.remove=function(){return this.each(H)},Sa.data=function(t,p){function e(t,e){var n,r,i,o=t.length,a=e.length,s=Math.min(o,a),l=new Array(a),c=new Array(a),u=new Array(o);if(p){var d,h=new v,f=new Array(o);for(n=-1;++n<o;)(r=t[n])&&(h.has(d=p.call(r,r.__data__,n))?u[n]=r:h.set(d,r),f[n]=d);for(n=-1;++n<a;)(r=h.get(d=p.call(e,i=e[n],n)))?!0!==r&&((l[n]=r).__data__=i):c[n]=O(i),h.set(d,!0);for(n=-1;++n<o;)n in f&&!0!==h.get(f[n])&&(u[n]=t[n])}else{for(n=-1;++n<s;)r=t[n],i=e[n],r?(r.__data__=i,l[n]=r):c[n]=O(i);for(;n<a;++n)c[n]=O(e[n]);for(;n<o;++n)u[n]=t[n]}c.update=l,c.parentNode=l.parentNode=u.parentNode=t.parentNode,g.push(c),m.push(l),y.push(u)}var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}var g=B([]),m=C([]),y=C([]);if("function"==typeof t)for(;++i<o;)e(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)e(n=this[i],t)
;return m.enter=function(){return g},m.exit=function(){return y},m},Sa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Sa.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=j(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return C(i)},Sa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];0<=--i;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Sa.sort=function(t){t=W.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Sa.each=function(r){return q(this,function(t,e,n){r.call(t,t.__data__,e,n)})},Sa.call=function(t){var e=ua(arguments);return t.apply(e[0]=this,e),this},Sa.empty=function(){return!this.node()},Sa.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Sa.size=function(){var t=0;return q(this,function(){++t}),t};var Aa=[];la.selection.enter=B,(la.selection.enter.prototype=Aa).append=Sa.append,Aa.empty=Sa.empty,Aa.node=Sa.node,Aa.call=Sa.call,Aa.size=Sa.size,Aa.select=function(t){for(var e,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(o=i[c])?(e.push(r[c]=n=t.call(i.parentNode,o.__data__,c,s)),n.__data__=o.__data__):e.push(null)}return C(a)},Aa.insert=function(t,e){return arguments.length<2&&(e=U(this)),Sa.insert.call(this,t,e)},la.select=function(t){var e;return"string"==typeof t?(e=[Ta(t,da)]).parentNode=da.documentElement:(e=[t]).parentNode=s(t),C([e])},la.selectAll=function(t){var e;return"string"==typeof t?(e=ua(Ma(t,da))).parentNode=da.documentElement:(e=ua(t)).parentNode=null,C([e])},Sa.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(V(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(V(t,e,n))};var Ea=la.map({mouseenter:"mouseover",mouseleave:"mouseout"});da&&Ea.forEach(function(t){"on"+t in da&&Ea.remove(t)});var La,Ra=0;la.mouse=function(t){return Z(t,x())};var Fa=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;la.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=x().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return Z(t,r)},la.behavior.drag=function(){function e(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function t(f,p,g,m,y){return function(){function t(){var t,e,n=p(o,l);n&&(t=n[0]-h[0],e=n[1]-h[1],s|=t|e,a({type:"drag",x:(h=n)[0]+r[0],y:n[1]+r[1],dx:t,dy:e}))}function e(){p(o,l)&&(u.on(m+c,null).on(y+c,null),d(s),a({type:"dragend"}))}var r,n=this,i=la.event.target.correspondingElement||la.event.target,o=n.parentNode,a=v.of(n,arguments),s=0,l=f(),c=".drag"+(null==l?"":"-"+l),u=la.select(g(i)).on(m+c,t).on(y+c,e),d=K(i),h=p(o,l);r=b?[(r=b.apply(n,arguments)).x-h[0],r.y-h[1]]:[0,0],a({type:"dragstart"})}}var v=P(e,"drag","dragstart","dragend"),b=null,n=t(_,la.mouse,F,"mousemove","mouseup"),r=t(X,la.touch,z,"touchmove","touchend");return e.origin=function(t){return arguments.length?(b=t,e):b},la.rebind(e,v,"on")},la.touches=function(n,t){return arguments.length<2&&(t=x().touches),t?ua(t).map(function(t){var e=Z(n,t);return e.identifier=t.identifier,e}):[]};var za=1e-6,$a=za*za,Pa=Math.PI,Ia=2*Pa,Ha=Ia-za,Oa=Pa/2,ja=Pa/180,Wa=180/Pa,qa=Math.SQRT2,Ba=2,Ua=4;la.interpolateZoom=function(t,e){var n,i,o=t[0],a=t[1],s=t[2],r=e[0],l=e[1],c=e[2],u=r-o,d=l-a,h=u*u+d*d;if(h<$a)i=Math.log(c/s)/qa,n=function(t){return[o+t*u,a+t*d,s*Math.exp(qa*t*i)]};else{var f=Math.sqrt(h),p=(c*c-s*s+Ua*h)/(2*s*Ba*f),g=(c*c-s*s-Ua*h)/(2*c*Ba*f),m=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);i=(y-m)/qa,n=function(t){var e=t*i,n=rt(m),r=s/(Ba*f)*(n*it(qa*e+m)-nt(m));return[o+r*u,a+r*d,s*n/rt(qa*e+m)]}}return n.duration=1e3*i,n},la.behavior.zoom=function(){function i(t){t.on(N,s).on(Ya+".zoom",r).on("dblclick.zoom",o).on(L,D)}function l(t){return[(t[0]-k.x)/k.k,(t[1]-k.y)/k.k]}function n(t){return[t[0]*k.k+k.x,t[1]*k.k+k.y]}function _(t){k.k=Math.max(y[0],Math.min(y[1],t))}function w(t,e){e=n(e),k.x+=t[0]-e[0],k.y+=t[1]-e[1]}function x(t,e,n,r){t.__chart__={x:k.x,y:k.y,k:k.k},_(Math.pow(2,r)),w(c=e,n),t=la.select(t),0<v&&(t=t.transition().duration(v)),t.call(i.event)}function e(){f&&f.domain(h.range().map(function(t){return(t-k.x)/k.k}).map(h.invert)),g&&g.domain(p.range().map(function(t){return(t-k.y)/k.k}).map(p.invert))}function C(t){b++||t({type:"zoomstart"})}function T(t){e(),t({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function M(t){--b||(t({type:"zoomend"}),c=null)}function s(){function t(){i=1,w(la.mouse(n),a),T(r)}function e(){o.on(A,null).on(E,null),s(i),M(r)}var n=this,r=R.of(n,arguments),i=0,o=la.select(F(n)).on(A,t).on(E,e),a=l(la.mouse(n)),s=K(n);Ol.call(n),C(r)}function D(){function u(){var t=la.touches(f);return c=k.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=l(t))}),t}function t(){var t=la.event.target;la.select(t).on(y,d).on(v,h),b.push(t);for(var e=la.event.changedTouches,n=0,r=e.length;n<r;++n)g[e[n].identifier]=null;var i=u(),o=Date.now();if(1===i.length){if(o-S<500){var a=i[0];x(f,a,g[a.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),$()}S=o}else if(1<i.length){a=i[0];var s=i[1],l=a[0]-s[0],c=a[1]-s[1];m=l*l+c*c}}function d(){var t,e,n,r,i=la.touches(f);Ol.call(f);for(var o=0,a=i.length;o<a;++o,r=null)if(n=i[o],r=g[n.identifier]){if(e)break;t=n,e=r}if(r){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,l=m&&Math.sqrt(s/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],_(l*c)}S=null,w(t,e),T(p)}function h(){if(la.event.touches.length){for(var t=la.event.changedTouches,e=0,n=t.length;e<n;++e)delete g[t[e].identifier];for(var r in g)return void u()}la.selectAll(b).on(i,null),o.on(N,s).on(L,D),a(),M(p)}var c,f=this,p=R.of(f,arguments),g={},m=0,i=".zoom-"+la.event.changedTouches[0].identifier,y="touchmove"+i,v="touchend"+i,b=[],o=la.select(f),a=K(f);t(),C(p),o.on(N,null).on(L,t)}function r(){var t=R.of(this,arguments);d?clearTimeout(d):(Ol.call(this),a=l(c=u||la.mouse(this)),C(t)),d=setTimeout(function(){d=null,M(t)},50),$(),_(Math.pow(2,.002*Va())*k.k),w(c,a),T(t)}function o(){var t=la.mouse(this),e=Math.log(k.k)/Math.LN2;x(this,t,l(t),la.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var a,c,u,d,S,h,f,p,g,k={x:0,y:0,k:1},m=[960,500],y=Ga,v=250,b=0,N="mousedown.zoom",A="mousemove.zoom",E="mouseup.zoom",L="touchstart.zoom",R=P(i,"zoomstart","zoom","zoomend");return Ya||(Ya="onwheel"in da?(Va=function(){return-la.event.deltaY*(la.event.deltaMode?120:1)},"wheel"):"onmousewheel"in da?(Va=function(){return la.event.wheelDelta},"mousewheel"):(Va=function(){return-la.event.detail},"MozMousePixelScroll")),i.event=function(t){t.each(function(){var s=R.of(this,arguments),e=k;Il?la.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},C(s)}).tween("zoom:zoom",function(){var r=m[0],t=m[1],i=c?c[0]:r/2,o=c?c[1]:t/2,a=la.interpolateZoom([(i-k.x)/k.k,(o-k.y)/k.k,r/k.k],[(i-e.x)/e.k,(o-e.y)/e.k,r/e.k]);return function(t){var e=a(t),n=r/e[2];this.__chart__=k={x:i-e[0]*n,y:o-e[1]*n,k:n},T(s)}}).each("interrupt.zoom",function(){M(s)}).each("end.zoom",function(){M(s)}):(this.__chart__=k,C(s),T(s),M(s))})},i.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},e(),i):[k.x,k.y]},i.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:null},_(+t),e(),i):k.k},i.scaleExtent=function(t){return arguments.length?(y=null==t?Ga:[+t[0],+t[1]],i):y},i.center=function(t){return arguments.length?(u=t&&[+t[0],+t[1]],i):u},i.size=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],i):m},i.duration=function(t){return arguments.length?(v=+t,i):v},i.x=function(t){return arguments.length?(h=(f=t).copy(),k={x:0,y:0,k:1},i):f},i.y=function(t){return arguments.length?(p=(g=t).copy(),k={x:0,y:0,k:1},i):g},la.rebind(i,R,"on")};var Va,Ya,Ga=[0,Infinity];(la.color=at).prototype.toString=function(){return this.rgb()+""};var Ka=(la.hsl=st).prototype=new at;Ka.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Ka.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Ka.rgb=function(){return lt(this.h,this.s,this.l)};var Za=(la.hcl=ct).prototype=new at;Za.brighter=function(t){return new ct(this.h,this.c,Math.min(100,this.l+Xa*(arguments.length?t:1)))},Za.darker=function(t){return new ct(this.h,this.c,Math.max(0,this.l-Xa*(arguments.length?t:1)))},Za.rgb=function(){return ut(this.h,this.c,this.l).rgb()},la.lab=dt;var Xa=18,Qa=.95047,Ja=1,ts=1.08883,es=dt.prototype=new at;es.brighter=function(t){return new dt(Math.min(100,this.l+Xa*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new dt(Math.max(0,this.l-Xa*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return ht(this.l,this.a,this.b)};var ns=(la.rgb=yt).prototype=new at;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new yt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new yt(i,i,i)},ns.darker=function(t){return new yt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ns.hsl=function(){return xt(this.r,this.g,this.b)},ns.toString=function(){return"#"+_t(this.r)+_t(this.g)+_t(this.b)};var rs=la.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});rs.forEach(function(t,e){rs.set(t,vt(e))}),la.functor=Dt,la.xhr=St(z),la.dsv=function(i,o){function a(t,e,n){arguments.length<3&&(n=e,e=null);var r=kt(t,o,null==e?s:l(e),n);return r.row=function(t){return arguments.length?r.response(null==(e=t)?s:l(t)):e},r}function s(t){return a.parse(t.responseText)}function l(e){return function(t){return a.parse(t.responseText,e)}}function e(t){return t.map(c).join(i)}function c(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+i+"\n]"),h=i.charCodeAt(0);return a.parse=function(t,r){var i;return a.parseRows(t,function(t,e){if(i)return i(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=r?function(t,e){return r(n(t),e)}:n})},a.parseRows=function(i,t){function e(){if(l<=c)return s;if(o)return o=!1,a;var t=c;if(34===i.charCodeAt(t)){for(var e=t;e++<l;)if(34===i.charCodeAt(e)){if(34!==i.charCodeAt(e+1))break;++e}return c=e+2,13===(n=i.charCodeAt(e+1))?(o=!0,10===i.charCodeAt(e+2)&&++c):10===n&&(o=!0),i.slice(t+1,e).replace(/""/g,'"')}for(;c<l;){var n,r=1;if(10===(n=i.charCodeAt(c++)))o=!0;else if(13===n)o=!0,10===i.charCodeAt(c)&&(++c,++r);else if(n!==h)continue;return i.slice(t,c-r)}return i.slice(t)}for(var n,o,a={},s={},r=[],l=i.length,c=0,u=0;(n=e())!==s;){for(var d=[];n!==a&&n!==s;)d.push(n),n=e();t&&null==(d=t(d,u++))||r.push(d)}return r},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new g,r=[];return t.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(c).join(i)].concat(t.map(function(e){return r.map(function(t){return c(e[t])}).join(i)})).join("\n")},a.formatRows=function(t){return t.map(e).join("\n")},a},la.csv=la.dsv(",","text/csv"),la.tsv=la.dsv("\t","text/tab-separated-values");var is,os,as,ss,ls=this[y(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};la.timer=function(){Et.apply(this,arguments)},la.timer.flush=function(){Rt(),Ft()},la.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var cs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map($t);la.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=la.round(t,zt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),cs[8+n/3]};var us=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ds=la.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=la.round(t,zt(t,e))).toFixed(Math.max(0,Math.min(20,zt(t*(1+1e-15),e))))}}),hs=la.time={},fs=Date;Ht.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;hs.year=Ot(function(t){return(t=hs.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),hs.years=hs.year.range,hs.years.utc=hs.year.utc.range,hs.day=Ot(function(t){var e=new fs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),hs.days=hs.day.range,hs.days.utc=hs.day.utc.range,hs.dayOfYear=function(t){var e=hs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=hs[t]=Ot(function(t){return(t=hs.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=hs.year(t).getDay();return Math.floor((hs.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});hs[t+"s"]=e.range,hs[t+"s"].utc=e.utc.range,hs[t+"OfYear"]=function(t){var e=hs.year(t).getDay();return Math.floor((hs.dayOfYear(t)+(e+n)%7)/7)}}),hs.week=hs.sunday,hs.weeks=hs.sunday.range,hs.weeks.utc=hs.sunday.utc.range,hs.weekOfYear=hs.sundayOfYear;var gs={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,ys=/^%/;la.locale=function(t){return{numberFormat:Pt(t),timeFormat:Wt(t)}};var vs=la.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});la.format=vs.numberFormat,la.geo={},ce.prototype={s:0,t:0,add:function(t){ue(t,this.t,bs),ue(bs.s,this.s,this),this.s?this.t+=bs.t:this.s=bs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bs=new ce;la.geo.stream=function(t,e){t&&_s.hasOwnProperty(t.type)?_s[t.type](t,e):de(t,e)};var _s={Feature:function(t,e){de(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)de(n[r].geometry,e)}},ws={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)he(n[r],e,0)},Polygon:function(t,e){fe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fe(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)de(n[r],e)}};la.geo.area=function(t){return xs=0,la.geo.stream(t,zs),xs};var xs,Cs,Ts,Ms,Ds,Ss,ks,Ns,As,Es,Ls,Rs,Fs=new ce,zs={sphere:function(){xs+=4*Pa},point:_,lineStart:_,lineEnd:_,polygonStart:function(){Fs.reset(),zs.lineStart=pe},polygonEnd:function(){var t=2*Fs;xs+=t<0?4*Pa+t:t,zs.lineStart=zs.lineEnd=zs.point=_}};la.geo.bounds=function(){function u(t,e){b.push(_=[h=t,p=t]),e<f&&(f=e),g<e&&(g=e)}function r(t,e){var n=ge([t*ja,e*ja]);if(y){var r=ye(y,n),i=ye([r[1],-r[0],0],r);_e(i),i=we(i);var o=t-m,a=0<o?1:-1,s=i[0]*Wa*a,l=180<va(o);if(l^(a*m<s&&s<a*t)){var c=i[1]*Wa;g<c&&(g=c)}else if(l^(a*m<(s=(s+360)%360-180)&&s<a*t)){(c=-i[1]*Wa)<f&&(f=c)}else e<f&&(f=e),g<e&&(g=e);l?t<m?d(h,t)>d(h,p)&&(p=t):d(t,p)>d(h,p)&&(h=t):h<=p?(t<h&&(h=t),p<t&&(p=t)):m<t?d(h,t)>d(h,p)&&(p=t):d(t,p)>d(h,p)&&(h=t)}else u(t,e);y=n,m=t}function t(){w.point=r}function e(){_[0]=h,_[1]=p,w.point=u,y=null}function n(t,e){if(y){var n=t-m;v+=180<va(n)?n+(0<n?360:-360):n}else a=t,s=e;zs.point(t,e),r(t,e)}function i(){zs.lineStart()}function o(){n(a,s),zs.lineEnd(),va(v)>za&&(h=-(p=180)),_[0]=h,_[1]=p,y=null}function d(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var h,f,p,g,m,a,s,y,v,b,_,w={point:u,lineStart:t,lineEnd:e,polygonStart:function(){w.point=n,w.lineStart=i,w.lineEnd=o,v=0,zs.polygonStart()},polygonEnd:function(){zs.polygonEnd(),w.point=u,w.lineStart=t,w.lineEnd=e,Fs<0?(h=-(p=180),f=-(g=90)):za<v?g=90:v<-za&&(f=-90),_[0]=h,_[1]=p}};return function(t){if(g=p=-(h=f=Infinity),b=[],la.geo.stream(t,w),i=b.length){b.sort(l);for(var e=1,n=[s=b[0]];e<i;++e)c((o=b[e])[0],s)||c(o[1],s)?(d(s[0],o[1])>d(s[0],s[1])&&(s[1]=o[1]),d(o[0],s[1])>d(s[0],s[1])&&(s[0]=o[0])):n.push(s=o);for(var r,i,o,a=-Infinity,s=(e=0,n[i=n.length-1]);e<=i;s=o,++e)o=n[e],(r=d(s[1],o[0]))>a&&(a=r,h=o[0],p=s[1])}return b=_=null,h===Infinity||f===Infinity?[[NaN,NaN],[NaN,NaN]]:[[h,f],[p,g]]}}(),la.geo.centroid=function(t){Cs=Ts=Ms=Ds=Ss=ks=Ns=As=Es=Ls=Rs=0,la.geo.stream(t,$s);var e=Es,n=Ls,r=Rs,i=e*e+n*n+r*r;return i<$a&&(e=ks,n=Ns,r=As,Ts<za&&(e=Ms,n=Ds,r=Ss),(i=e*e+n*n+r*r)<$a)?[NaN,NaN]:[Math.atan2(n,e)*Wa,et(r/Math.sqrt(i))*Wa]};var $s={sphere:_,point:Ce,lineStart:Me,lineEnd:De,polygonStart:function(){$s.lineStart=Se},polygonEnd:function(){$s.lineStart=Me}},Ps=Re(Ne,Pe,He,[-Pa,-Pa/2]),Is=1e9;la.geo.clipExtent=function(){var e,n,r,i,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=qe(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[r,i]]}};return s.extent([[0,0],[960,500]])},(la.geo.conicEqualArea=function(){return Be(Ue)}).raw=Ue,la.geo.albers=function(){return la.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},la.geo.albersUsa=function(){function i(t){var e=t[0],n=t[1];return r=null,o(e,n),r||(a(e,n),r)||s(e,n),r}var r,o,a,s,l=la.geo.albers(),c=la.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=la.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(t,e){r=[t,e]}};return i.invert=function(t){var e=l.scale(),n=l.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?c:.166<=i&&i<.234&&-.214<=r&&r<-.115?u:l).invert(t)},i.stream=function(t){var n=l.stream(t),r=c.stream(t),i=u.stream(t);return{point:function(t,e){n.point(t,e),r.point(t,e),i.point(t,e)},sphere:function(){n.sphere(),r.sphere(),i.sphere()},lineStart:function(){n.lineStart(),r.lineStart(),i.lineStart()},lineEnd:function(){n.lineEnd(),r.lineEnd(),i.lineEnd()},polygonStart:function(){n.polygonStart(),r.polygonStart(),i.polygonStart()},polygonEnd:function(){n.polygonEnd(),r.polygonEnd(),i.polygonEnd()}}},i.precision=function(t){return arguments.length?(l.precision(t),c.precision(t),u.precision(t),i):l.precision()},i.scale=function(t){return arguments.length?(l.scale(t),c.scale(.35*t),u.scale(t),i.translate(l.translate())):l.scale()},i.translate=function(t){if(!arguments.length)return l.translate();var e=l.scale(),n=+t[0],r=+t[1];return o=l.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(d).point,a=c.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+za,r+.12*e+za],[n-.214*e-za,r+.234*e-za]]).stream(d).point,s=u.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+za,r+.166*e+za],[n-.115*e-za,r+.234*e-za]]).stream(d).point,i},i.scale(1070)};var Hs,Os,js,Ws,qs,Bs,Us,Vs={point:_,lineStart:_,lineEnd:_,polygonStart:function(){Os=0,Vs.lineStart=Ve},polygonEnd:function(){Vs.lineStart=Vs.lineEnd=Vs.point=_,Hs+=va(Os/2)}},Ys={point:Ye,lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_},Gs={point:Ze,lineStart:Xe,lineEnd:Qe,polygonStart:function(){Gs.lineStart=Je},polygonEnd:function(){Gs.point=Ze,Gs.lineStart=Xe,Gs.lineEnd=Qe}};la.geo.path=function(){function e(t){return t&&("function"==typeof l&&a.pointRadius(+l.apply(this,arguments)),s&&s.valid||(s=o(a)),la.geo.stream(t,s)),a.result()}function n(){return s=null,e}var r,i,o,a,s,l=4.5;return e.area=function(t){return Hs=0,la.geo.stream(t,o(Vs)),Hs},e.centroid=function(t){return Ms=Ds=Ss=ks=Ns=As=Es=Ls=Rs=0,la.geo.stream(t,o(Gs)),Rs?[Es/Rs,Ls/Rs]:As?[ks/As,Ns/As]:Ss?[Ms/Ss,Ds/Ss]:[NaN,NaN]},e.bounds=function(t){return qs=Bs=-(js=Ws=Infinity),la.geo.stream(t,o(Ys)),[[js,Ws],[qs,Bs]]},e.projection=function(t){return arguments.length?(o=(r=t)?t.stream||nn(t):z,n()):r},e.context=function(t){return arguments.length?(a=null==(i=t)?new Ge:new tn(t),"function"!=typeof l&&a.pointRadius(l),n()):i},e.pointRadius=function(t){return arguments.length?(l="function"==typeof t?t:(a.pointRadius(+t),+t),e):l},e.projection(la.geo.albersUsa()).context(null)},la.geo.transform=function(r){return{stream:function(t){var e=new rn(t);for(var n in r)e[n]=r[n];return e}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},la.geo.projection=an,la.geo.projectionMutator=sn,(la.geo.equirectangular=function(){return an(cn)}).raw=cn.invert=cn,la.geo.rotation=function(e){function t(t){return(t=e(t[0]*ja,t[1]*ja))[0]*=Wa,t[1]*=Wa,t}return e=dn(e[0]%360*ja,e[1]*ja,2<e.length?e[2]*ja:0),t.invert=function(t){return(t=e.invert(t[0]*ja,t[1]*ja))[0]*=Wa,t[1]*=Wa,t},t},un.invert=cn,la.geo.circle=function(){function e(){var t="function"==typeof o?o.apply(this,arguments):o,n=dn(-t[0]*ja,-t[1]*ja,0).invert,r=[];return i(null,null,1,{point:function(t,e){r.push(t=n(t,e)),t[0]*=Wa,t[1]*=Wa}}),{type:"Polygon",coordinates:[r]}}var n,i,o=[0,0],r=6;return e.origin=function(t){return arguments.length?(o=t,e):o},e.angle=function(t){return arguments.length?(i=gn((n=+t)*ja,r*ja),e):n},e.precision=function(t){return arguments.length?(i=gn(n*ja,(r=+t)*ja),e):r},e.angle(90)},la.geo.distance=function(t,e){var n,r=(e[0]-t[0])*ja,i=t[1]*ja,o=e[1]*ja,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),c=Math.cos(i),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},la.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return la.range(Math.ceil(o/m)*m,i,m).map(h).concat(la.range(Math.ceil(c/y)*y,l,y).map(f)).concat(la.range(Math.ceil(r/p)*p,n,p).filter(function(t){return va(t%m)>za}).map(u)).concat(la.range(Math.ceil(s/g)*g,a,g).filter(function(t){return va(t%y)>za}).map(d))}var n,r,i,o,a,s,l,c,u,d,h,f,p=10,g=p,m=90,y=360,v=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(f(l).slice(1),h(i).reverse().slice(1),f(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],c=+t[0][1],l=+t[1][1],i<o&&(t=o,o=i,i=t),l<c&&(t=c,c=l,l=t),e.precision(v)):[[o,c],[i,l]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<r&&(t=r,r=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(v)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],y=+t[1],e):[m,y]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(v=+t,u=yn(s,a,90),d=vn(r,n,v),h=yn(c,l,90),f=vn(o,i,v),e):v},e.majorExtent([[-180,-90+za],[180,90-za]]).minorExtent([[-180,-80-za],[180,80+za]])},la.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||i.apply(this,arguments),r||o.apply(this,arguments)]}}var n,r,i=bn,o=_n;return e.distance=function(){return la.geo.distance(n||i.apply(this,arguments),r||o.apply(this,arguments))},e.source=function(t){return arguments.length?(n="function"==typeof(i=t)?null:t,e):i},e.target=function(t){return arguments.length?(r="function"==typeof(o=t)?null:t,e):o},e.precision=function(){return arguments.length?e:0},e},la.geo.interpolate=function(t,e){return wn(t[0]*ja,t[1]*ja,e[0]*ja,e[1]*ja)},la.geo.length=function(t){return Us=0,la.geo.stream(t,Ks),Us};var Ks={sphere:_,point:_,lineStart:xn,lineEnd:_,polygonStart:_,polygonEnd:_},Zs=Cn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(la.geo.azimuthalEqualArea=function(){return an(Zs)}).raw=Zs;var Xs=Cn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},z);(la.geo.azimuthalEquidistant=function(){return an(Xs)}).raw=Xs,(la.geo.conicConformal=function(){return Be(Tn)}).raw=Tn,(la.geo.conicEquidistant=function(){return Be(Mn)}).raw=Mn;var Qs=Cn(function(t){return 1/t},Math.atan);(la.geo.gnomonic=function(){return an(Qs)}).raw=Qs,Dn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Oa]},(la.geo.mercator=function(){return Sn(Dn)}).raw=Dn;var Js=Cn(function(){return 1},Math.asin);(la.geo.orthographic=function(){return an(Js)}).raw=Js;var tl=Cn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(la.geo.stereographic=function(){return an(tl)}).raw=tl,kn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Oa]},(la.geo.transverseMercator=function(){var t=Sn(kn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=kn,la.geom={},la.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,n=Dt(h),r=Dt(f),i=t.length,o=[],a=[];for(e=0;e<i;e++)o.push([+n.call(this,t[e],e),+r.call(this,t[e],e),e]);for(o.sort(Ln),e=0;e<i;e++)a.push([o[e][0],-o[e][1]]);var s=En(o),l=En(a),c=l[0]===s[0],u=l[l.length-1]===s[s.length-1],d=[];for(e=s.length-1;0<=e;--e)d.push(t[o[s[e]][2]]);for(e=+c;e<l.length-u;++e)d.push(t[o[l[e]][2]]);return d}var h=Nn,f=An;return arguments.length?e(t):(e.x=function(t){return arguments.length?(h=t,e):h},e.y=function(t){return arguments.length?(f=t,e):f},e)},la.geom.polygon=function(t){return Ca(t,el),t};var el=la.geom.polygon.prototype=[];el.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},el.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},el.clip=function(t){for(var e,n,r,i,o,a,s=zn(t),l=-1,c=this.length-zn(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,i=this[l],o=e[(r=e.length-s)-1],n=-1;++n<r;)Rn(a=e[n],u,i)?(Rn(o,u,i)||t.push(Fn(o,a,u,i)),t.push(a)):Rn(o,u,i)&&t.push(Fn(o,a,u,i)),o=a;s&&t.push(t[0]),u=i}return t};var nl,rl,il,ol,al,sl=[],ll=[];qn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Un),e.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ar(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ir(this,n),n=(t=n).U),n.C=!1,r.C=!0,or(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(or(this,n),n=(t=n).U),n.C=!1,r.C=!0,ir(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?ar(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,((n.L=o).U=n)!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,(n.R=a).U=n):(n.U=i,t=(i=n).R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,ir(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,or(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ir(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,or(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,or(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}},la.geom.voronoi=function(t){function e(i){var o=new Array(i.length),a=u[0][0],s=u[0][1],l=u[1][0],c=u[1][1];return sr(n(i),u).cells.forEach(function(t,e){var n=t.edges,r=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):r.x>=a&&r.x<=l&&r.y>=s&&r.y<=c?[[a,c],[l,c],[l,s],[a,s]]:[]).point=i[e]}),o}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/za)*za,y:Math.round(a(t,e)/za)*za,i:e}})}var r=Nn,i=An,o=r,a=i,
u=cl;return t?e(t):(e.links=function(e){return sr(n(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},e.triangles=function(c){var u=[];return sr(n(c)).cells.forEach(function(t,e){for(var n,r=t.site,i=t.edges.sort(Un),o=-1,a=i.length,s=i[a-1].edge,l=s.l===r?s.r:s.l;++o<a;)s,n=l,l=(s=i[o].edge).l===r?s.r:s.l,e<n.i&&e<l.i&&cr(r,n,l)<0&&u.push([c[e],c[n.i],c[l.i]])}),u},e.x=function(t){return arguments.length?(o=Dt(r=t),e):r},e.y=function(t){return arguments.length?(a=Dt(i=t),e):i},e.clipExtent=function(t){return arguments.length?(u=null==t?cl:t,e):u===cl?null:u},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):u===cl?null:u&&u[1]},e)};var cl=[[-1e6,-1e6],[1e6,1e6]];la.geom.delaunay=function(t){return la.geom.voronoi().triangles(t)},la.geom.quadtree=function(t,b,_,w,x){function e(t){function f(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(va(l-n)+va(c-r)<.01)d(t,e,n,r,i,o,a,s);else{var u=t.point;t.x=t.y=t.point=null,d(t,u,l,c,i,o,a,s),d(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else d(t,e,n,r,i,o,a,s)}function d(t,e,n,r,i,o,a,s){var l=.5*(i+a),c=.5*(o+s),u=l<=n,d=c<=r,h=d<<1|u;t.leaf=!1,u?i=l:a=l,d?o=c:s=c,f(t=t.nodes[h]||(t.nodes[h]=hr()),e,n,r,i,o,a,s)}var e,n,r,i,o,a,s,l,c,u=Dt(T),h=Dt(M);if(null!=b)a=b,s=_,l=w,c=x;else if(l=c=-(a=s=Infinity),n=[],r=[],o=t.length,C)for(i=0;i<o;++i)(e=t[i]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>l&&(l=e.x),e.y>c&&(c=e.y),n.push(e.x),r.push(e.y);else for(i=0;i<o;++i){var p=+u(e=t[i],i),g=+h(e,i);p<a&&(a=p),g<s&&(s=g),l<p&&(l=p),c<g&&(c=g),n.push(p),r.push(g)}var m=l-a,y=c-s;y<m?c=s+m:l=a+y;var v=hr();if(v.add=function(t){f(v,t,+u(t,++i),+h(t,i),a,s,l,c)},v.visit=function(t){fr(t,v,a,s,l,c)},v.find=function(t){return pr(v,t[0],t[1],a,s,l,c)},i=-1,null==b){for(;++i<o;)f(v,t[i],n[i],r[i],a,s,l,c);--i}else t.forEach(v.add);return n=r=t=e=null,v}var C,T=Nn,M=An;return(C=arguments.length)?(T=ur,M=dr,3===C&&(x=_,w=b,_=b=0),e(t)):(e.x=function(t){return arguments.length?(T=t,e):T},e.y=function(t){return arguments.length?(M=t,e):M},e.extent=function(t){return arguments.length?(null==t?b=_=w=x=null:(b=+t[0][0],_=+t[0][1],w=+t[1][0],x=+t[1][1]),e):null==b?null:[[b,_],[w,x]]},e.size=function(t){return arguments.length?(null==t?b=_=w=x=null:(b=_=0,w=+t[0],x=+t[1]),e):null==b?null:[w-b,x-_]},e)},la.interpolateRgb=gr,la.interpolateObject=mr,la.interpolateNumber=yr,la.interpolateString=vr;var ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dl=new RegExp(ul.source,"g");la.interpolate=br,la.interpolators=[function(t,e){var n=typeof e;return("string"===n?rs.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gr:vr:e instanceof at?gr:Array.isArray(e)?_r:"object"===n&&isNaN(e)?mr:yr)(t,e)}],la.interpolateArray=_r;var hl=function(){return z},fl=la.map({linear:hl,poly:Sr,quad:function(){return Tr},cubic:function(){return Mr},sin:function(){return kr},exp:function(){return Nr},circle:function(){return Ar},elastic:Er,back:Lr,bounce:function(){return Rr}}),pl=la.map({"in":z,out:xr,"in-out":Cr,"out-in":function(t){return Cr(xr(t))}});la.ease=function(t){var e=t.indexOf("-"),n=0<=e?t.slice(0,e):t,r=0<=e?t.slice(e+1):"in";return n=fl.get(n)||hl,wr((r=pl.get(r)||z)(n.apply(null,ca.call(arguments,1))))},la.interpolateHcl=Fr,la.interpolateHsl=zr,la.interpolateLab=$r,la.interpolateRound=Pr,la.transform=function(t){var n=da.createElementNS(la.ns.prefix.svg,"g");return(la.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Ir(e?e.matrix:gl)})(t)},Ir.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gl={a:1,b:0,c:0,d:1,e:0,f:0};la.interpolateTransform=Yr,la.layout={},la.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Zr(t[n]));return e}},la.layout.chord=function(){function t(){var t,e,n,r,i,o={},a=[],s=la.range(_),l=[];for(y=[],v=[],t=0,r=-1;++r<_;){for(e=0,i=-1;++i<_;)e+=b[r][i];a.push(e),l.push(la.range(_)),t+=e}for(w&&s.sort(function(t,e){return w(a[t],a[e])}),x&&l.forEach(function(t,n){t.sort(function(t,e){return x(b[n][t],b[n][e])})}),t=(Ia-T*_)/t,e=0,r=-1;++r<_;){for(n=e,i=-1;++i<_;){var c=s[r],u=l[c][i],d=b[c][u],h=e,f=e+=d*t;o[c+"-"+u]={index:c,subindex:u,startAngle:h,endAngle:f,value:d}}v[c]={index:c,startAngle:n,endAngle:e,value:a[c]},e+=T}for(r=-1;++r<_;)for(i=r-1;++i<_;){var p=o[r+"-"+i],g=o[i+"-"+r];(p.value||g.value)&&y.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}C&&m()}function m(){y.sort(function(t,e){return C((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var y,v,b,_,w,x,C,e={},T=0;return e.matrix=function(t){return arguments.length?(_=(b=t)&&b.length,y=v=null,e):b},e.padding=function(t){return arguments.length?(T=t,y=v=null,e):T},e.sortGroups=function(t){return arguments.length?(w=t,y=v=null,e):w},e.sortSubgroups=function(t){return arguments.length?(x=t,y=null,e):x},e.sortChords=function(t){return arguments.length?(C=t,y&&m(),e):C},e.chords=function(){return y||t(),y},e.groups=function(){return v||t(),v},e},la.layout.force=function(){function d(c){return function(t,e,n,r){if(t.point!==c){var i=t.cx-c.x,o=t.cy-c.y,a=r-e,s=i*i+o*o;if(a*a/x<s){if(s<u){var l=t.charge/s;c.px-=i*l,c.py-=o*l}return!0}if(t.point&&s&&s<u){l=t.pointCharge/s;c.px-=i*l,c.py-=o*l}}return!t.charge}}function t(t){t.px=la.event.x,t.py=la.event.y,i.resume()}var h,e,f,p,g,m,i={},y=la.dispatch("start","tick","end"),v=[1,1],b=.9,o=ml,a=yl,_=-30,u=vl,w=.1,x=.64,C=[],T=[];return i.tick=function(){if((f*=.99)<.005)return h=null,y.end({type:"end",alpha:f=0}),!0;var t,e,n,r,i,o,a,s,l,c=C.length,u=T.length;for(e=0;e<u;++e)r=(n=T[e]).source,(o=(s=(i=n.target).x-r.x)*s+(l=i.y-r.y)*l)&&(s*=o=f*g[e]*((o=Math.sqrt(o))-p[e])/o,l*=o,i.x-=s*(a=r.weight+i.weight?r.weight/(r.weight+i.weight):.5),i.y-=l*a,r.x+=s*(a=1-a),r.y+=l*a);if((a=f*w)&&(s=v[0]/2,l=v[1]/2,e=-1,a))for(;++e<c;)(n=C[e]).x+=(s-n.x)*a,n.y+=(l-n.y)*a;if(_)for(ri(t=la.geom.quadtree(C),f,m),e=-1;++e<c;)(n=C[e]).fixed||t.visit(d(n));for(e=-1;++e<c;)(n=C[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*b,n.y-=(n.py-(n.py=n.y))*b);y.tick({type:"tick",alpha:f})},i.nodes=function(t){return arguments.length?(C=t,i):C},i.links=function(t){return arguments.length?(T=t,i):T},i.size=function(t){return arguments.length?(v=t,i):v},i.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,i):o},i.distance=i.linkDistance,i.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,i):a},i.friction=function(t){return arguments.length?(b=+t,i):b},i.charge=function(t){return arguments.length?(_="function"==typeof t?t:+t,i):_},i.chargeDistance=function(t){return arguments.length?(u=t*t,i):Math.sqrt(u)},i.gravity=function(t){return arguments.length?(w=+t,i):w},i.theta=function(t){return arguments.length?(x=t*t,i):Math.sqrt(x)},i.alpha=function(t){return arguments.length?(t=+t,f?0<t?f=t:(h.c=null,h.t=NaN,h=null,y.end({type:"end",alpha:f=0})):0<t&&(y.start({type:"start",alpha:f=t}),h=Et(i.tick)),i):f},i.start=function(){function t(t,e){if(!l){for(l=new Array(c),o=0;o<c;++o)l[o]=[];for(o=0;o<u;++o){var n=T[o];l[n.source.index].push(n.target),l[n.target.index].push(n.source)}}for(var r,i=l[s],o=-1,a=i.length;++o<a;)if(!isNaN(r=i[o][t]))return r;return Math.random()*e}var s,l,e,c=C.length,u=T.length,n=v[0],r=v[1];for(s=0;s<c;++s)(e=C[s]).index=s,e.weight=0;for(s=0;s<u;++s)"number"==typeof(e=T[s]).source&&(e.source=C[e.source]),"number"==typeof e.target&&(e.target=C[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<c;++s)e=C[s],isNaN(e.x)&&(e.x=t("x",n)),isNaN(e.y)&&(e.y=t("y",r)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof o)for(s=0;s<u;++s)p[s]=+o.call(this,T[s],s);else for(s=0;s<u;++s)p[s]=o;if(g=[],"function"==typeof a)for(s=0;s<u;++s)g[s]=+a.call(this,T[s],s);else for(s=0;s<u;++s)g[s]=a;if(m=[],"function"==typeof _)for(s=0;s<c;++s)m[s]=+_.call(this,C[s],s);else for(s=0;s<c;++s)m[s]=_;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){if(e||(e=la.behavior.drag().origin(z).on("dragstart.force",Jr).on("drag.force",t).on("dragend.force",ti)),!arguments.length)return e;this.on("mouseover.force",ei).on("mouseout.force",ni).call(e)},la.rebind(i,y,"on")};var ml=20,yl=1,vl=Infinity;la.layout.hierarchy=function(){function s(t){var e,n=[t],r=[];for(t.depth=0;null!=(e=n.pop());)if(r.push(e),(o=c.call(s,e,e.depth))&&(i=o.length)){for(var i,o,a;0<=--i;)n.push(a=o[i]),a.parent=e,a.depth=e.depth+1;u&&(e.value=0),e.children=o}else u&&(e.value=+u.call(s,e,e.depth)||0),delete e.children;return ai(t,function(t){var e,n;l&&(e=t.children)&&e.sort(l),u&&(n=t.parent)&&(n.value+=t.value)}),r}var l=ci,c=si,u=li;return s.sort=function(t){return arguments.length?(l=t,s):l},s.children=function(t){return arguments.length?(c=t,s):c},s.value=function(t){return arguments.length?(u=t,s):u},s.revalue=function(t){return u&&(oi(t,function(t){t.children&&(t.value=0)}),ai(t,function(t){var e;t.children||(t.value=+u.call(s,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},s},la.layout.partition=function(){function c(t,e,n,r){var i=t.children;if(t.x=e,t.y=t.depth*r,t.dx=n,t.dy=r,i&&(o=i.length)){var o,a,s,l=-1;for(n=t.value?n/t.value:0;++l<o;)c(a=i[l],e,s=a.value*n,r),e+=s}}function o(t){var e=t.children,n=0;if(e&&(r=e.length))for(var r,i=-1;++i<r;)n=Math.max(n,o(e[i]));return 1+n}function e(t,e){var n=r.call(this,t,e);return c(n[0],0,i[0],i[1]/o(n[0])),n}var r=la.layout.hierarchy(),i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},ii(e,r)},la.layout.pie=function(){function h(n){var e,t=n.length,r=n.map(function(t,e){return+f.call(h,t,e)}),i=+("function"==typeof g?g.apply(this,arguments):g),o=("function"==typeof m?m.apply(this,arguments):m)-i,a=Math.min(Math.abs(o)/t,+("function"==typeof y?y.apply(this,arguments):y)),s=a*(o<0?-1:1),l=la.sum(r),c=l?(o-t*s)/l:0,u=la.range(t),d=[];return null!=p&&u.sort(p===bl?function(t,e){return r[e]-r[t]}:function(t,e){return p(n[t],n[e])}),u.forEach(function(t){d[t]={data:n[t],value:e=r[t],startAngle:i,endAngle:i+=e*c+s,padAngle:a}}),d}var f=Number,p=bl,g=0,m=Ia,y=0;return h.value=function(t){return arguments.length?(f=t,h):f},h.sort=function(t){return arguments.length?(p=t,h):p},h.startAngle=function(t){return arguments.length?(g=t,h):g},h.endAngle=function(t){return arguments.length?(m=t,h):m},h.padAngle=function(t){return arguments.length?(y=t,h):y},h};var bl={};la.layout.stack=function(){function d(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return h.call(d,t,e)}),r=n.map(function(t){return t.map(function(t,e){return[m.call(d,t,e),y.call(d,t,e)]})}),i=f.call(d,r,e);n=la.permute(n,i),r=la.permute(r,i);var o,a,s,l,c=p.call(d,r,e),u=n[0].length;for(s=0;s<u;++s)for(g.call(d,n[0][s],l=c[s],r[0][s][1]),a=1;a<o;++a)g.call(d,n[a][s],l+=r[a-1][s][1],r[a][s][1]);return t}var h=z,f=pi,p=gi,g=fi,m=di,y=hi;return d.values=function(t){return arguments.length?(h=t,d):h},d.order=function(t){return arguments.length?(f="function"==typeof t?t:_l.get(t)||pi,d):f},d.offset=function(t){return arguments.length?(p="function"==typeof t?t:wl.get(t)||gi,d):p},d.x=function(t){return arguments.length?(m=t,d):m},d.y=function(t){return arguments.length?(y=t,d):y},d.out=function(t){return arguments.length?(g=t,d):g},d};var _l=la.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(mi),o=t.map(yi),a=la.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,l=0,c=[],u=[];for(e=0;e<r;++e)n=a[e],s<l?(s+=o[n],c.push(n)):(l+=o[n],u.push(n));return u.reverse().concat(c)},reverse:function(t){return la.range(t.length).reverse()},"default":pi}),wl=la.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];s<r&&(s=r),a.push(r)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,i,o,a,s,l,c,u=t.length,d=t[0],h=d.length,f=[];for(f[0]=l=c=0,n=1;n<h;++n){for(i=e=0;e<u;++e)i+=t[e][n][1];for(o=e=0,s=d[n][0]-d[n-1][0];e<u;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}f[n]=l-=i?o/i*s:0,l<c&&(c=l)}for(n=0;n<h;++n)f[n]-=c;return f},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:gi});la.layout.histogram=function(){function n(t,e){for(var n,r,i=[],o=t.map(h,this),a=f.call(this,o,e),s=p.call(this,a,o,e),l=(e=-1,o.length),c=s.length-1,u=d?1:1/l;++e<c;)(n=i[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<c)for(e=-1;++e<l;)(r=o[e])>=a[0]&&r<=a[1]&&((n=i[la.bisect(s,r,1,c)-1]).y+=u,n.push(t[e]));return i}var d=!0,h=Number,f=wi,p=bi;return n.value=function(t){return arguments.length?(h=t,n):h},n.range=function(t){return arguments.length?(f=Dt(t),n):f},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return _i(t,e)}:Dt(e),n):p},n.frequency=function(t){return arguments.length?(d=!!t,n):d},n},la.layout.pack=function(){function e(t,e){var n=c.call(this,t,e),r=n[0],i=d[0],o=d[1],a=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(r.x=r.y=0,ai(r,function(t){t.r=+a(t.value)}),ai(r,Di),u){var s=u*(l?1:Math.max(2*r.r/i,2*r.r/o))/2;ai(r,function(t){t.r+=s}),ai(r,Di),ai(r,function(t){t.r-=s})}return Ni(r,i/2,o/2,l?1:1/Math.max(2*r.r/i,2*r.r/o)),n}var l,c=la.layout.hierarchy().sort(xi),u=0,d=[1,1];return e.size=function(t){return arguments.length?(d=t,e):d},e.radius=function(t){return arguments.length?(l=null==t||"function"==typeof t?t:+t,e):l},e.padding=function(t){return arguments.length?(u=+t,e):u},ii(e,c)},la.layout.tree=function(){function e(t,e){var n=g.call(this,t,e),r=n[0],i=d(r);if(ai(i,h),i.parent.m=-i.z,oi(i,f),v)oi(r,p);else{var o=r,a=r,s=r;oi(r,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var l=m(o,a)/2-o.x,c=y[0]/(a.x+m(a,o)/2+l),u=y[1]/(s.depth||1);oi(r,function(t){t.x=(t.x+l)*c,t.y=t.depth*u})}return n}function d(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function h(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){zi(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+m(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+m(t._,r._));t.parent.A=o(t,r,t.parent.A||n[0])}function f(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var r,i=t,o=t,a=e,s=i.parent.children[0],l=i.m,c=o.m,u=a.m,d=s.m;a=Ri(a),i=Li(i),a&&i;)s=Li(s),(o=Ri(o)).a=t,0<(r=a.z+u-i.z-l+m(a._,i._))&&(Fi($i(a,t,n),t,r),l+=r,c+=r),u+=a.m,l+=i.m,d+=s.m,c+=o.m;a&&!Ri(o)&&(o.t=a,o.m+=u-c),i&&!Li(s)&&(s.t=i,s.m+=l-d,n=t)}return n}function p(t){t.x*=y[0],t.y=t.depth*y[1]}var g=la.layout.hierarchy().sort(null).value(null),m=Ei,y=[1,1],v=null;return e.separation=function(t){return arguments.length?(m=t,e):m},e.size=function(t){return arguments.length?(v=null==(y=t)?p:null,e):v?null:y},e.nodeSize=function(t){return arguments.length?(v=null==(y=t)?null:p,e):v?y:null},ii(e,g)},la.layout.cluster=function(){function e(t,e){var n,r=u.call(this,t,e),i=r[0],o=0;ai(i,function(t){var e=t.children;e&&e.length?(t.x=Ii(e),t.y=Pi(e)):(t.x=n?o+=d(t,n):0,t.y=0,n=t)});var a=Hi(i),s=Oi(i),l=a.x-d(a,s)/2,c=s.x+d(s,a)/2;return ai(i,f?function(t){t.x=(t.x-i.x)*h[0],t.y=(i.y-t.y)*h[1]}:function(t){t.x=(t.x-l)/(c-l)*h[0],t.y=(1-(i.y?t.y/i.y:1))*h[1]}),r}var u=la.layout.hierarchy().sort(null).value(null),d=Ei,h=[1,1],f=!1;return e.separation=function(t){return arguments.length?(d=t,e):d},e.size=function(t){return arguments.length?(f=null==(h=t),e):f?null:h},e.nodeSize=function(t){return arguments.length?(f=null!=(h=t),e):f?h:null},ii(e,u)},la.layout.treemap=function(){function u(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function d(t){var e=t.children;if(e&&e.length){var n,r,i,o=g(t),a=[],s=e.slice(),l=Infinity,c="slice"===m?o.dx:"dice"===m?o.dy:"slice-dice"===m?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(u(s,o.dx*o.dy/t.value),a.area=0;0<(i=s.length);)a.push(n=s[i-1]),a.area+=n.area,"squarify"!==m||(r=h(a,c))<=l?(s.pop(),l=r):(a.area-=a.pop().area,f(a,c,o,!1),c=Math.min(o.dx,o.dy),a.length=a.area=0,l=Infinity);a.length&&(f(a,c,o,!0),a.length=a.area=0),e.forEach(d)}}function a(t){var e=t.children;if(e&&e.length){var n,r=g(t),i=e.slice(),o=[];for(u(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(f(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(a)}}function h(t,e){for(var n,r=t.area,i=0,o=Infinity,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),i<n&&(i=n));return e*=e,(r*=r)?Math.max(e*i*y/r,r/(e*o*y)):Infinity}function f(t,e,n,r){var i,o=-1,a=t.length,s=n.x,l=n.y,c=e?p(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)(i=t[o]).x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?p(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)(i=t[o]).x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?p(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function i(t){var e=r||o(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=s[0],n.dy=s[1]):n.dx=n.dy=0,r&&o.revalue(n),u([n],n.dx*n.dy/n.value),(r?a:d)(n),c&&(r=e),e}var r,o=la.layout.hierarchy(),p=Math.round,s=[1,1],l=null,g=ji,c=!1,m="squarify",y=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(s=t,i):s},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?ji(t):Wi(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Wi(t,n)}return arguments.length?(g=null==(l=n)?ji:"function"==(r=typeof n)?t:("number"===r&&(n=[n,n,n,n]),e),i):l;var r},i.round=function(t){return arguments.length?(p=t?Math.round:Number,i):p!=Number},i.sticky=function(t){return arguments.length?(c=t,r=null,i):c},i.ratio=function(t){return arguments.length?(y=t,i):y},i.mode=function(t){return arguments.length?(m=t+"",i):m},ii(i,o)},la.random={normal:function(r,i){var t=arguments.length;return t<2&&(i=1),t<1&&(r=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return r+i*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=la.random.normal.apply(la,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=la.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},la.scale={};var xl={floor:z,ceil:z};la.scale.linear=function(){return Ki([0,1],[0,1],br,!1)};var Cl={s:1,g:1,p:1,r:1,e:1};la.scale.log=function(){return ro(la.scale.linear().domain([0,1]),10,!0,[1,10])};var Tl=la.format(".0e"),Ml={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};la.scale.pow=function(){return io(la.scale.linear(),1,[0,1])},la.scale.sqrt=function(){return la.scale.pow().exponent(.5)},la.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},la.scale.category10=function(){return la.scale.ordinal().range(Dl)},la.scale.category20=function(){return la.scale.ordinal().range(Sl)},la.scale.category20b=function(){return la.scale.ordinal().range(kl)},la.scale.category20c=function(){return la.scale.ordinal().range(Nl)};var Dl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),Sl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),kl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),Nl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);la.scale.quantile=function(){return so([],[])},la.scale.quantize=function(){return lo(0,1,[0,1])},la.scale.threshold=function(){return co([.5],[0,1])},la.scale.identity=function(){return uo([0,1])},la.svg={},la.svg.arc=function(){function e(){var t=Math.max(0,+H.apply(this,arguments)),e=Math.max(0,+O.apply(this,arguments)),n=q.apply(this,arguments)-Oa,r=B.apply(this,arguments)-Oa,i=Math.abs(r-n),o=r<n?0:1;if(e<t&&(a=e,e=t,t=a),Ha<=i)return I(e,o)+(t?I(t,1-o):"")+"Z";var a,s,l,c,u,d,h,f,p,g,m,y,v=0,b=0,_=[];if((c=(+U.apply(this,arguments)||0)/2)&&(l=W===Al?Math.sqrt(t*t+e*e):+W.apply(this,arguments),o||(b*=-1),e&&(b=et(l/e*Math.sin(c))),t&&(v=et(l/t*Math.sin(c)))),e){u=e*Math.cos(n+b),d=e*Math.sin(n+b),h=e*Math.cos(r-b),f=e*Math.sin(r-b);var w=Math.abs(r-n-2*b)<=Pa?0:1;if(b&&vo(u,d,h,f)===o^w){var x=(n+r)/2;u=e*Math.cos(x),d=e*Math.sin(x),h=f=null}}else u=d=0;if(t){p=t*Math.cos(r-v),g=t*Math.sin(r-v),m=t*Math.cos(n+v),y=t*Math.sin(n+v);var C=Math.abs(n-r+2*v)<=Pa?0:1;if(v&&vo(p,g,m,y)===1-o^C){var T=(n+r)/2;p=t*Math.cos(T),g=t*Math.sin(T),m=y=null}}else p=g=0;if(za<i&&.001<(a=Math.min(Math.abs(e-t)/2,+j.apply(this,arguments)))){s=t<e^o?0:1;var M=a,D=a;if(i<Pa){var S=null==m?[p,g]:null==h?[u,d]:Fn([u,d],[m,y],[h,f],[p,g]),k=u-S[0],N=d-S[1],A=h-S[0],E=f-S[1],L=1/Math.sin(Math.acos((k*A+N*E)/(Math.sqrt(k*k+N*N)*Math.sqrt(A*A+E*E)))/2),R=Math.sqrt(S[0]*S[0]+S[1]*S[1]);D=Math.min(a,(t-R)/(L-1)),M=Math.min(a,(e-R)/(L+1))}if(null!=h){var F=bo(null==m?[p,g]:[m,y],[u,d],e,M,o),z=bo([h,f],[p,g],e,M,o);a===M?_.push("M",F[0],"A",M,",",M," 0 0,",s," ",F[1],"A",e,",",e," 0 ",1-o^vo(F[1][0],F[1][1],z[1][0],z[1][1]),",",o," ",z[1],"A",M,",",M," 0 0,",s," ",z[0]):_.push("M",F[0],"A",M,",",M," 0 1,",s," ",z[0])}else _.push("M",u,",",d);if(null!=m){var $=bo([u,d],[m,y],t,-D,o),P=bo([p,g],null==h?[u,d]:[h,f],t,-D,o);a===D?_.push("L",P[0],"A",D,",",D," 0 0,",s," ",P[1],"A",t,",",t," 0 ",o^vo(P[1][0],P[1][1],$[1][0],$[1][1]),",",1-o," ",$[1],"A",D,",",D," 0 0,",s," ",$[0]):_.push("L",P[0],"A",D,",",D," 0 0,",s," ",$[0])}else _.push("L",p,",",g)}else _.push("M",u,",",d),null!=h&&_.push("A",e,",",e," 0 ",w,",",o," ",h,",",f),_.push("L",p,",",g),null!=m&&_.push("A",t,",",t," 0 ",C,",",1-o," ",m,",",y);return _.push("Z"),_.join("")}function I(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var H=fo,O=po,j=ho,W=Al,q=go,B=mo,U=yo;return e.innerRadius=function(t){return arguments.length?(H=Dt(t),e):H},e.outerRadius=function(t){return arguments.length?(O=Dt(t),e):O},e.cornerRadius=function(t){return arguments.length?(j=Dt(t),e):j},e.padRadius=function(t){return arguments.length?(W=t==Al?Al:Dt(t),e):W},e.startAngle=function(t){return arguments.length?(q=Dt(t),e):q},e.endAngle=function(t){return arguments.length?(B=Dt(t),e):B},e.padAngle=function(t){return arguments.length?(U=Dt(t),e):U},e.centroid=function(){var t=(+H.apply(this,arguments)+ +O.apply(this,arguments))/2,e=(+q.apply(this,arguments)+ +B.apply(this,arguments))/2-Oa;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Al="auto";la.svg.line=function(){return _o(z)};var El=la.map({linear:wo,"linear-closed":xo,step:Co,"step-before":To,"step-after":Mo,basis:Eo,"basis-open":Lo,"basis-closed":Ro,bundle:Fo,cardinal:ko,"cardinal-open":Do,"cardinal-closed":So,monotone:Oo});El.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ll=[0,2/3,1/3,0],Rl=[0,1/3,2/3,0],Fl=[0,1/6,2/3,1/6];la.svg.line.radial=function(){var t=_o(jo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(To.reverse=Mo).reverse=To,la.svg.area=function(){return Wo(z)},la.svg.area.radial=function(){var t=Wo(jo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},la.svg.chord=function(){function e(t,e){var n=i(this,l,t,e),r=i(this,c,t,e);return"M"+n.p0+a(n.r,n.p1,n.a1-n.a0)+(o(n,r)?s(n.r,n.p1,n.r,n.p0):s(n.r,n.p1,r.r,r.p0)+a(r.r,r.p1,r.a1-r.a0)+s(r.r,r.p1,n.r,n.p0))+"Z"}function i(t,e,n,r){var i=e.call(t,n,r),o=u.call(t,i,r),a=d.call(t,i,r)-Oa,s=h.call(t,i,r)-Oa;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function o(t,e){return t.a0==e.a0&&t.a1==e.a1}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(Pa<n)+",1 "+e}function s(t,e,n,r){return"Q 0,0 "+r}var l=bn,c=_n,u=qo,d=go,h=mo;return e.radius=function(t){return arguments.length?(u=Dt(t),e):u},e.source=function(t){return arguments.length?(l=Dt(t),e):l},e.target=function(t){return arguments.length?(c=Dt(t),e):c},e.startAngle=function(t){return arguments.length?(d=Dt(t),e):d},e.endAngle=function(t){return arguments.length?(h=Dt(t),e):h},e},la.svg.diagonal=function(){function e(t,e){var n=a.call(this,t,e),r=s.call(this,t,e),i=(n.y+r.y)/2,o=[n,{x:n.x,y:i},{x:r.x,y:i},r];return"M"+(o=o.map(l))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}var a=bn,s=_n,l=Bo;return e.source=function(t){return arguments.length?(a=Dt(t),e):a},e.target=function(t){return arguments.length?(s=Dt(t),e):s},e.projection=function(t){return arguments.length?(l=t,e):l},e},la.svg.diagonal.radial=function(){var t=la.svg.diagonal(),e=Bo,n=t.projection;return t.projection=function(t){return arguments.length?n(Uo(e=t)):e},t},la.svg.symbol=function(){function e(t,e){return(zl.get(n.call(this,t,e))||Go)(r.call(this,t,e))}var n=Yo,r=Vo;return e.type=function(t){return arguments.length?(n=Dt(t),e):n},e.size=function(t){return arguments.length?(r=Dt(t),e):r},e};var zl=la.map({circle:Go,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Pl)),n=e*Pl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/$l),n=e*$l/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/$l),n=e*$l/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});la.svg.symbolTypes=zl.keys();var $l=Math.sqrt(3),Pl=Math.tan(30*ja);Sa.transition=function(t){for(var e,n,r=Il||++Wl,i=Jo(t),o=[],a=Hl||{time:Date.now(),ease:Dr,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&ta(n,u,i,r,a),e.push(n)}return Zo(o,i,r)},Sa.interrupt=function(t){return this.each(null==t?Ol:Ko(Jo(t)))};var Il,Hl,Ol=Ko(Jo()),jl=[],Wl=0;jl.call=Sa.call,jl.empty=Sa.empty,jl.node=Sa.node,jl.size=Sa.size,la.transition=function(t,e){return t&&t.transition?Il?t.transition(e):t:la.selection().transition(t)},(la.transition.prototype=jl).select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=T(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=t.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),ta(n,u,o,i,r[o][i]),e.push(n)):e.push(null)}return Zo(a,o,i)},jl.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,l=[];t=M(t);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,f=d.length;++h<f;)if(r=d[h]){o=r[s][a],n=t.call(r,r.__data__,h,c),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&ta(i,p,s,a,o),e.push(i)}return Zo(l,s,a)},jl.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=j(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,s=0,l=(a=this[i]).length;s<l;s++)(n=a[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return Zo(r,this.namespace,this.id)},jl.tween=function(e,n){var r=this.id,i=this.namespace;return arguments.length<2?this.node()[i][r].tween.get(e):q(this,null==n?function(t){t[i][r].tween.remove(e)}:function(t){t[i][r].tween.set(e,n)})},jl.attr=function(t,e){function r(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function n(n){return null==n?r:(n+="",function(){var e,t=this.getAttribute(s);return t!==n&&(e=a(t,n),function(t){this.setAttribute(s,e(t))})})}function o(n){return null==n?i:(n+="",function(){var e,t=this.getAttributeNS(s.space,s.local);return t!==n&&(e=a(t,n),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Yr:br,s=la.ns.qualify(t);return Xo(this,"attr."+t,e,s.local?o:n)},jl.attrTween=function(t,r){function e(t,e){var n=r.call(this,t,e,this.getAttribute(i));return n&&function(t){this.setAttribute(i,n(t))}}function n(t,e){var n=r.call(this,t,e,this.getAttributeNS(i.space,i.local));return n&&function(t){this.setAttributeNS(i.space,i.local,n(t))}}var i=la.ns.qualify(t);return this.tween("attr."+t,i.local?n:e)},jl.style=function(r,t,i){function e(){this.style.removeProperty(r)}function n(n){return null==n?e:(n+="",function(){var e,t=F(this).getComputedStyle(this,null).getPropertyValue(r);return t!==n&&(e=br(t,n),function(t){this.style.setProperty(r,e(t),i)})})}var o=arguments.length;if(o<3){if("string"!=typeof r){for(i in o<2&&(t=""),r)this.style(i,r[i],t);return this}i=""}return Xo(this,"style."+r,t,n)},jl.styleTween=function(r,i,o){function t(t,e){var n=i.call(this,t,e,F(this).getComputedStyle(this,null).getPropertyValue(r));return n&&function(t){this.style.setProperty(r,n(t),o)}}return arguments.length<3&&(o=""),this.tween("style."+r,t)},jl.text=function(t){return Xo(this,"text",t,Qo)},jl.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},jl.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=la.ease.apply(la,arguments)),q(this,function(t){t[r][n].ease=e}))},jl.delay=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].delay:q(this,"function"==typeof r?function(t,e,n){t[o][i].delay=+r.call(t,t.__data__,e,n)}:(r=+r,function(t){t[o][i].delay=r}))},jl.duration=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].duration:q(this,"function"==typeof r?function(t,e,n){t[o][i].duration=Math.max(1,r.call(t,t.__data__,e,n))}:(r=Math.max(1,r),function(t){t[o][i].duration=r}))},jl.each=function(r,n){var i=this.id,o=this.namespace;if(arguments.length<2){var t=Hl,e=Il;try{Il=i,q(this,function(t,e,n){Hl=t[o][i],r.call(t,t.__data__,e,n)})}finally{Hl=t,Il=e}}else q(this,function(t){var e=t[o][i];(e.event||(e.event=la.dispatch("start","end","interrupt"))).on(r,n)});return this},jl.transition=function(){for(var t,e,n,r=this.id,i=++Wl,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var c,u=0,d=(c=this[s]).length;u<d;u++)(e=c[u])&&ta(e,u,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Zo(a,o,i)},la.svg.axis=function(){function n(t){t.each(function(){var t,e=la.select(this),n=this.__chart__||S,r=this.__chart__=S.copy(),i=null==R?r.ticks?r.ticks.apply(r,L):r.domain():R,o=null==D?r.tickFormat?r.tickFormat.apply(r,L):z:D,a=e.selectAll(".tick").data(i,r),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",za),l=la.transition(a.exit()).style("opacity",za).remove(),c=la.transition(a.order()).style("opacity",1),u=Math.max(N,0)+E,d=Bi(r),h=e.selectAll(".domain").data([0]),f=(h.enter().append("path").attr("class","domain"),la.transition(h));s.append("line"),s.append("text");var p,g,m,y,v=s.select("line"),b=c.select("line"),_=a.select("text").text(o),w=s.select("text"),x=c.select("text"),C="top"===k||"left"===k?-1:1;if("bottom"===k||"top"===k?(t=ea,p="x",m="y",g="x2",y="y2",_.attr("dy",C<0?"0em":".71em").style("text-anchor","middle"),f.attr("d","M"+d[0]+","+C*A+"V0H"+d[1]+"V"+C*A)):(t=na,p="y",m="x",g="y2",y="x2",_.attr("dy",".32em").style("text-anchor",C<0?"end":"start"),f.attr("d","M"+C*A+","+d[0]+"H0V"+d[1]+"H"+C*A)),v.attr(y,C*N),w.attr(m,C*u),b.attr(g,0).attr(y,C*N),x.attr(p,0).attr(m,C*u),r.rangeBand){var T=r,M=T.rangeBand()/2;n=r=function(t){return T(t)+M}}else n.rangeBand?n=r:l.call(t,r,n);s.call(t,n,r),c.call(t,r,r)})}var D,S=la.scale.linear(),k=ql,N=6,A=6,E=3,L=[10],R=null;return n.scale=function(t){return arguments.length?(S=t,n):S},n.orient=function(t){return arguments.length?(k=t in Bl?t+"":ql,n):k},n.ticks=function(){return arguments.length?(L=ua(arguments),n):L},n.tickValues=function(t){return arguments.length?(R=t,n):R},n.tickFormat=function(t){return arguments.length?(D=t,n):D},n.tickSize=function(t){var e=arguments.length;return e?(N=+t,A=+arguments[e-1],n):N},n.innerTickSize=function(t){return arguments.length?(N=+t,n):N},n.outerTickSize=function(t){return arguments.length?(A=+t,n):A},n.tickPadding=function(t){return arguments.length?(E=+t,n):E},n.tickSubdivide=function(){return arguments.length&&n},n};var ql="bottom",Bl={top:1,
right:1,bottom:1,left:1};la.svg.brush=function(){function _(t){t.each(function(){var t=la.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(s,z);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ul[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",_.empty()?"none":null);var r,i=la.transition(t),o=la.transition(e);S&&(r=Bi(S),o.attr("x",r[0]).attr("width",r[1]-r[0]),x(i)),k&&(r=Bi(k),o.attr("y",r[0]).attr("height",r[1]-r[0]),C(i)),w(i)})}function w(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+N[+/e$/.test(t)]+","+A[+/^s/.test(t)]+")"})}function x(t){t.select(".extent").attr("x",N[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",N[1]-N[0])}function C(t){t.select(".extent").attr("y",A[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",A[1]-A[0])}function a(){function t(){32==la.event.keyCode&&(p||(d=null,m[0]-=N[1],m[1]-=A[1],p=2),$())}function e(){32==la.event.keyCode&&2==p&&(m[0]+=N[1],m[1]+=A[1],p=0,$())}function n(){var t=la.mouse(a),e=!1;o&&(t[0]+=o[0],t[1]+=o[1]),p||(la.event.altKey?(d||(d=[(N[0]+N[1])/2,(A[0]+A[1])/2]),m[0]=N[+(t[0]<d[0])],m[1]=A[+(t[1]<d[1])]):d=null),h&&r(t,S,0)&&(x(c),e=!0),f&&r(t,k,1)&&(C(c),e=!0),e&&(w(c),l({type:"brush",mode:p?"move":"resize"}))}function r(t,e,n){var r,i,o=Bi(e),a=o[0],s=o[1],l=m[n],c=n?A:N,u=c[1]-c[0];if(p&&(a-=l,s-=u+l),r=(n?L:E)?Math.max(a,Math.min(s,t[n])):t[n],p?i=(r+=l)+u:(d&&(l=Math.max(a,Math.min(s,2*d[n]-r))),l<r?(i=r,r=l):i=l),c[0]!=r||c[1]!=i)return n?M=null:T=null,c[0]=r,c[1]=i,!0}function i(){n(),c.style("pointer-events","all").selectAll(".resize").style("display",_.empty()?"none":null),la.select("body").style("cursor",null),y.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g(),l({type:"brushend"})}var d,o,a=this,s=la.select(la.event.target),l=D.of(a,arguments),c=la.select(a),u=s.datum(),h=!/^(n|s)$/.test(u)&&S,f=!/^(e|w)$/.test(u)&&k,p=s.classed("extent"),g=K(a),m=la.mouse(a),y=la.select(F(a)).on("keydown.brush",t).on("keyup.brush",e);if(la.event.changedTouches?y.on("touchmove.brush",n).on("touchend.brush",i):y.on("mousemove.brush",n).on("mouseup.brush",i),c.interrupt().selectAll("*").interrupt(),p)m[0]=N[0]-m[0],m[1]=A[0]-m[1];else if(u){var v=+/w$/.test(u),b=+/^n/.test(u);o=[N[1-v]-m[0],A[1-b]-m[1]],m[0]=N[v],m[1]=A[b]}else la.event.altKey&&(d=m.slice());c.style("pointer-events","none").selectAll(".resize").style("display",null),la.select("body").style("cursor",s.style("cursor")),l({type:"brushstart"}),n()}var T,M,D=P(_,"brushstart","brush","brushend"),S=null,k=null,N=[0,0],A=[0,0],E=!0,L=!0,s=Vl[0];return _.event=function(t){t.each(function(){var r=D.of(this,arguments),i={x:N,y:A,i:T,j:M},t=this.__chart__||i;this.__chart__=i,Il?la.select(this).transition().each("start.brush",function(){T=t.i,M=t.j,N=t.x,A=t.y,r({type:"brushstart"})}).tween("brush:brush",function(){var e=_r(N,i.x),n=_r(A,i.y);return T=M=null,function(t){N=i.x=e(t),A=i.y=n(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){T=i.i,M=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},_.x=function(t){return arguments.length?(s=Vl[!(S=t)<<1|!k],_):S},_.y=function(t){return arguments.length?(s=Vl[!S<<1|!(k=t)],_):k},_.clamp=function(t){return arguments.length?(S&&k?(E=!!t[0],L=!!t[1]):S?E=!!t:k&&(L=!!t),_):S&&k?[E,L]:S?E:k?L:null},_.extent=function(t){var e,n,r,i,o;return arguments.length?(S&&(e=t[0],n=t[1],k&&(e=e[0],n=n[0]),T=[e,n],S.invert&&(e=S(e),n=S(n)),n<e&&(o=e,e=n,n=o),e==N[0]&&n==N[1]||(N=[e,n])),k&&(r=t[0],i=t[1],S&&(r=r[1],i=i[1]),M=[r,i],k.invert&&(r=k(r),i=k(i)),i<r&&(o=r,r=i,i=o),r==A[0]&&i==A[1]||(A=[r,i])),_):(S&&(T?(e=T[0],n=T[1]):(e=N[0],n=N[1],S.invert&&(e=S.invert(e),n=S.invert(n)),n<e&&(o=e,e=n,n=o))),k&&(M?(r=M[0],i=M[1]):(r=A[0],i=A[1],k.invert&&(r=k.invert(r),i=k.invert(i)),i<r&&(o=r,r=i,i=o))),S&&k?[[e,r],[n,i]]:S?[e,n]:k&&[r,i])},_.clear=function(){return _.empty()||(N=[0,0],A=[0,0],T=M=null),_},_.empty=function(){return!!S&&N[0]==N[1]||!!k&&A[0]==A[1]},la.rebind(_,D,"on")};var Ul={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Yl=hs.format=vs.timeFormat,Gl=Yl.utc,Kl=Gl("%Y-%m-%dT%H:%M:%S.%LZ");Yl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ra:Kl,ra.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ra.toString=Kl.toString,hs.second=Ot(function(t){return new fs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),hs.seconds=hs.second.range,hs.seconds.utc=hs.second.utc.range,hs.minute=Ot(function(t){return new fs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),hs.minutes=hs.minute.range,hs.minutes.utc=hs.minute.utc.range,hs.hour=Ot(function(t){var e=t.getTimezoneOffset()/60;return new fs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),hs.hours=hs.hour.range,hs.hours.utc=hs.hour.utc.range,hs.month=Ot(function(t){return(t=hs.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),hs.months=hs.month.range,hs.months.utc=hs.month.utc.range;var Zl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xl=[[hs.second,1],[hs.second,5],[hs.second,15],[hs.second,30],[hs.minute,1],[hs.minute,5],[hs.minute,15],[hs.minute,30],[hs.hour,1],[hs.hour,3],[hs.hour,6],[hs.hour,12],[hs.day,1],[hs.day,2],[hs.week,1],[hs.month,1],[hs.month,3],[hs.year,1]],Ql=Yl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ne]]),Jl={range:function(t,e,n){return la.range(Math.ceil(t/n)*n,+e,n).map(oa)},floor:z,ceil:z};Xl.year=hs.year,hs.scale=function(){return ia(la.scale.linear(),Xl,Ql)};var tc=Xl.map(function(t){return[t[0].utc,t[1]]}),ec=Gl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ne]]);tc.year=hs.year.utc,hs.scale.utc=function(){return ia(la.scale.linear(),tc,ec)},la.text=St(function(t){return t.responseText}),la.json=function(t,e){return kt(t,"application/json",aa,e)},la.html=function(t,e){return kt(t,"text/html",sa,e)},la.xml=St(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=la,define(la)):"object"==typeof module&&module.exports?module.exports=la:this.d3=la}();var d3="function"==typeof require?require("d3"):window.d3,CalHeatMap=function(){"use strict";function t(){f.verticalDomainLabel="top"===f.options.label.position||"bottom"===f.options.label.position,f.domainVerticalLabelHeight=null===f.options.label.height?Math.max(25,2*f.options.cellSize):f.options.label.height,f.domainHorizontalLabelWidth=0,""===f.options.domainLabelFormat&&null===f.options.label.height&&(f.domainVerticalLabelHeight=0),f.verticalDomainLabel||(f.domainVerticalLabelHeight=0,f.domainHorizontalLabelWidth=f.options.label.width),f.paint(),!1!==f.options.nextSelector&&d3.select(f.options.nextSelector).on("click."+f.options.itemNamespace,function(){return d3.event.preventDefault(),f.loadNextDomain(1)}),!1!==f.options.previousSelector&&d3.select(f.options.previousSelector).on("click."+f.options.itemNamespace,function(){return d3.event.preventDefault(),f.loadPreviousDomain(1)}),f.Legend.redraw(f.graphDim.width-f.options.domainGutter-f.options.cellPadding),f.afterLoad();var t=f.getDomainKeys();f.options.loadOnInit?f.getDatas(f.options.data,new Date(t[0]),f.getSubDomain(t[t.length-1]).pop(),function(){f.fill(),f.onComplete()}):f.onComplete(),f.checkIfMinDomainIsReached(t[0]),f.checkIfMaxDomainIsReached(f.getNextDomain().getTime())}function d(t,e){var n=f.options.cellSize*f._domainType[f.options.subDomain].column(t)+f.options.cellPadding*f._domainType[f.options.subDomain].column(t);return 2===arguments.length&&!0===e?n+(f.domainHorizontalLabelWidth+f.options.domainGutter+f.options.domainMargin[1]+f.options.domainMargin[3]):n}function h(t,e){var n=f.options.cellSize*f._domainType[f.options.subDomain].row(t)+f.options.cellPadding*f._domainType[f.options.subDomain].row(t);return 2===arguments.length&&!0===e&&(n+=f.options.domainGutter+f.domainVerticalLabelHeight+f.options.domainMargin[0]+f.options.domainMargin[2]),n}var f=this;for(var e in this.allowedDataType=["json","csv","tsv","txt"],this.options={itemSelector:"#cal-heatmap",paintOnLoad:!0,range:12,cellSize:10,cellPadding:2,cellRadius:0,domainGutter:2,domainMargin:[0,0,0,0],domain:"hour",subDomain:"min",colLimit:null,rowLimit:null,weekStartOnMonday:!0,start:new Date,minDate:null,maxDate:null,data:"",dataType:this.allowedDataType[0],dataPostPayload:null,considerMissingDataAsZero:!1,loadOnInit:!0,verticalOrientation:!1,domainDynamicDimension:!0,label:{position:"bottom",align:"center",offset:{x:0,y:0},rotate:null,width:100,height:null},legend:[10,20,30,40],displayLegend:!0,legendCellSize:10,legendCellPadding:2,legendMargin:[0,0,0,0],legendVerticalPosition:"bottom",legendHorizontalPosition:"left",legendOrientation:"horizontal",legendColors:null,highlight:[],itemName:["item","items"],domainLabelFormat:null,subDomainTitleFormat:{empty:"{date}",filled:"{count} {name} {connector} {date}"},subDomainDateFormat:null,subDomainTextFormat:null,legendTitleFormat:{lower:"less than {min} {name}",inner:"between {down} and {up} {name}",upper:"more than {max} {name}"},animationDuration:500,nextSelector:!1,previousSelector:!1,itemNamespace:"cal-heatmap",tooltip:!1,onClick:null,afterLoad:null,afterLoadNextDomain:null,afterLoadPreviousDomain:null,onComplete:null,afterLoadData:function(t){return t},onMaxDomainReached:null,onMinDomainReached:null},this._domainType={min:{name:"minute",level:10,maxItemNumber:60,defaultRowNumber:10,defaultColumnNumber:6,row:function(t){return f.getSubDomainRowNumber(t)},column:function(t){return f.getSubDomainColumnNumber(t)},position:{x:function(t){return Math.floor(t.getMinutes()/f._domainType.min.row(t))},y:function(t){return t.getMinutes()%f._domainType.min.row(t)}},format:{date:"%H:%M, %A %B %-e, %Y",legend:"",connector:"at"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()).getTime()}},hour:{name:"hour",level:20,maxItemNumber:function(t){switch(f.options.domain){case"day":return 24;case"week":return 168;case"month":return 24*(f.options.domainDynamicDimension?f.getDayCountInMonth(t):31)}},defaultRowNumber:6,defaultColumnNumber:function(t){switch(f.options.domain){case"day":return 4;case"week":return 28;case"month":return f.options.domainDynamicDimension?f.getDayCountInMonth(t):31}},row:function(t){return f.getSubDomainRowNumber(t)},column:function(t){return f.getSubDomainColumnNumber(t)},position:{x:function(t){return"month"===f.options.domain?0<f.options.colLimit||0<f.options.rowLimit?Math.floor((t.getHours()+24*(t.getDate()-1))/f._domainType.hour.row(t)):Math.floor(t.getHours()/f._domainType.hour.row(t))+4*(t.getDate()-1):"week"===f.options.domain?0<f.options.colLimit||0<f.options.rowLimit?Math.floor((t.getHours()+24*f.getWeekDay(t))/f._domainType.hour.row(t)):Math.floor(t.getHours()/f._domainType.hour.row(t))+4*f.getWeekDay(t):Math.floor(t.getHours()/f._domainType.hour.row(t))},y:function(t){var e=t.getHours();if(0<f.options.colLimit||0<f.options.rowLimit)switch(f.options.domain){case"month":e+=24*(t.getDate()-1);break;case"week":e+=24*f.getWeekDay(t)}return Math.floor(e%f._domainType.hour.row(t))}},format:{date:"%Hh, %A %B %-e, %Y",legend:"%H:00",connector:"at"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()).getTime()}},day:{name:"day",level:30,maxItemNumber:function(t){switch(f.options.domain){case"week":return 7;case"month":return f.options.domainDynamicDimension?f.getDayCountInMonth(t):31;case"year":return f.options.domainDynamicDimension?f.getDayCountInYear(t):366}},defaultColumnNumber:function(t){switch(t=new Date(t),f.options.domain){case"week":return 1;case"month":return f.options.domainDynamicDimension&&!f.options.verticalOrientation?f.getWeekNumber(new Date(t.getFullYear(),t.getMonth()+1,0))-f.getWeekNumber(t)+1:6;case"year":return f.options.domainDynamicDimension?f.getWeekNumber(new Date(t.getFullYear(),11,31))-f.getWeekNumber(new Date(t.getFullYear(),0))+1:54}},defaultRowNumber:7,row:function(t){return f.getSubDomainRowNumber(t)},column:function(t){return f.getSubDomainColumnNumber(t)},position:{x:function(t){switch(f.options.domain){case"week":return Math.floor(f.getWeekDay(t)/f._domainType.day.row(t));case"month":return 0<f.options.colLimit||0<f.options.rowLimit?Math.floor((t.getDate()-1)/f._domainType.day.row(t)):f.getWeekNumber(t)-f.getWeekNumber(new Date(t.getFullYear(),t.getMonth()));case"year":return 0<f.options.colLimit||0<f.options.rowLimit?Math.floor((f.getDayOfYear(t)-1)/f._domainType.day.row(t)):f.getWeekNumber(t)}},y:function(t){var e=f.getWeekDay(t);if(0<f.options.colLimit||0<f.options.rowLimit)switch(f.options.domain){case"year":e=f.getDayOfYear(t)-1;break;case"week":e=f.getWeekDay(t);break;case"month":e=t.getDate()-1}return Math.floor(e%f._domainType.day.row(t))}},format:{date:"%A %B %-e, %Y",legend:"%e %b",connector:"on"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()}},week:{name:"week",level:40,maxItemNumber:54,defaultColumnNumber:function(t){switch(t=new Date(t),f.options.domain){case"year":return f._domainType.week.maxItemNumber;case"month":return f.options.domainDynamicDimension?f.getWeekNumber(new Date(t.getFullYear(),t.getMonth()+1,0))-f.getWeekNumber(t):5}},defaultRowNumber:1,row:function(t){return f.getSubDomainRowNumber(t)},column:function(t){return f.getSubDomainColumnNumber(t)},position:{x:function(t){switch(f.options.domain){case"year":return Math.floor(f.getWeekNumber(t)/f._domainType.week.row(t));case"month":return Math.floor(f.getMonthWeekNumber(t)/f._domainType.week.row(t))}},y:function(t){return f.getWeekNumber(t)%f._domainType.week.row(t)}},format:{date:"%B Week #%W",legend:"%B Week #%W",connector:"in"},extractUnit:function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=e.getDay()-(f.options.weekStartOnMonday?1:0);return n<0&&(n=6),e.setDate(e.getDate()-n),e.getTime()}},month:{name:"month",level:50,maxItemNumber:12,defaultColumnNumber:12,defaultRowNumber:1,row:function(){return f.getSubDomainRowNumber()},column:function(){return f.getSubDomainColumnNumber()},position:{x:function(t){return Math.floor(t.getMonth()/f._domainType.month.row(t))},y:function(t){return t.getMonth()%f._domainType.month.row(t)}},format:{date:"%B %Y",legend:"%B",connector:"in"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth()).getTime()}},year:{name:"year",level:60,row:function(){return f.options.rowLimit||1},column:function(){return f.options.colLimit||1},position:{x:function(){return 1},y:function(){return 1}},format:{date:"%Y",legend:"%Y",connector:"in"},extractUnit:function(t){return new Date(t.getFullYear()).getTime()}}},this._domainType)if(this._domainType.hasOwnProperty(e)){var n=this._domainType[e];this._domainType["x_"+e]={name:"x_"+e,level:n.type,maxItemNumber:n.maxItemNumber,defaultRowNumber:n.defaultRowNumber,defaultColumnNumber:n.defaultColumnNumber,row:n.column,column:n.row,position:{x:n.position.y,y:n.position.x},format:n.format,extractUnit:n.extractUnit}}this.lastInsertedSvg=null,this._completed=!1,this._domains=d3.map(),this.graphDim={width:0,height:0},this.legendDim={width:0,height:0},this.NAVIGATE_LEFT=1,this.NAVIGATE_RIGHT=2,this.RESET_ALL_ON_UPDATE=0,this.RESET_SINGLE_ON_UPDATE=1,this.APPEND_ON_UPDATE=2,this.DEFAULT_LEGEND_MARGIN=10,this.root=null,this.tooltip=null,this._maxDomainReached=!1,this._minDomainReached=!1,this.domainPosition=new DomainPosition,this.Legend=null,this.legendScale=null,this.DSTDomain=[],this._init=function(){return f.getDomain(f.options.start).map(function(t){return t.getTime()}).map(function(t){f._domains.set(t,f.getSubDomain(t).map(function(t){return{t:f._domainType[f.options.subDomain].extractUnit(t),v:null}}))}),f.root=d3.select(f.options.itemSelector).append("svg").attr("class","cal-heatmap-container"),f.tooltip=d3.select(f.options.itemSelector).attr("style",function(){var t=d3.select(f.options.itemSelector).attr("style");return(null!==t?t:"")+"position:relative;"}).append("div").attr("class","ch-tooltip"),f.root.attr("x",0).attr("y",0).append("svg").attr("class","graph"),f.Legend=new Legend(f),f.options.paintOnLoad&&t(),!0},this.paint=function(o){function e(t,e,n,r){var i=0;switch(o){case!1:return i=e[n],e[n]+=r,f.domainPosition.setPosition(t,i),i;case f.NAVIGATE_RIGHT:return f.domainPosition.setPosition(t,e[n]),a=r,s=f.domainPosition.getPositionFromIndex(1),f.domainPosition.shiftRightBy(s),e[n];case f.NAVIGATE_LEFT:return a=-(i=-r),s=e[n]-f.domainPosition.getLast(),f.domainPosition.setPosition(t,i),f.domainPosition.shiftLeftBy(a),i}}function t(t){switch(i.label.rotate){case"right":t.attr("transform",function(t){var e="rotate(90), ";switch(i.label.position){case"right":e+="translate(-"+d(t)+" , -"+d(t)+")";break;case"left":e+="translate(0, -"+f.domainHorizontalLabelWidth+")"}return e});break;case"left":t.attr("transform",function(t){var e="rotate(270), ";switch(i.label.position){case"right":e+="translate(-"+(d(t)+f.domainHorizontalLabelWidth)+" , "+d(t)+")";break;case"left":e+="translate(-"+f.domainHorizontalLabelWidth+" , "+f.domainHorizontalLabelWidth+")"}return e})}}var i=f.options;0===arguments.length&&(o=!1);var n=f.root.select(".graph").selectAll(".graph-domain").data(function(){var t=f.getDomainKeys();return o===f.NAVIGATE_LEFT?t.reverse():t},function(t){return t}),a=0,s=0,r=n.enter().append("svg").attr("width",function(t){return d(t,!0)}).attr("height",function(t){return h(t,!0)}).attr("x",function(t){return i.verticalOrientation?(f.graphDim.width=Math.max(f.graphDim.width,d(t,!0)),0):e(t,f.graphDim,"width",d(t,!0))}).attr("y",function(t){return i.verticalOrientation?e(t,f.graphDim,"height",h(t,!0)):(f.graphDim.height=Math.max(f.graphDim.height,h(t,!0)),0)}).attr("class",function(t){var e="graph-domain",n=new Date(t);switch(i.domain){case"hour":e+=" h_"+n.getHours();case"day":e+=" d_"+n.getDate()+" dy_"+n.getDay();case"week":e+=" w_"+f.getWeekNumber(n);case"month":e+=" m_"+(n.getMonth()+1);case"year":e+=" y_"+n.getFullYear()}return e});(f.lastInsertedSvg=r).append("rect").attr("width",function(t){return d(t,!0)-i.domainGutter-i.cellPadding}).attr("height",function(t){return h(t,!0)-i.domainGutter-i.cellPadding}).attr("class","domain-background");var l=r.append("svg").attr("x",function(){return"left"===i.label.position?f.domainHorizontalLabelWidth+i.domainMargin[3]:i.domainMargin[3]}).attr("y",function(){return"top"===i.label.position?f.domainVerticalLabelHeight+i.domainMargin[0]:i.domainMargin[0]}).attr("class","graph-subdomain-group").selectAll("g").data(function(t){return f._domains.get(t)}).enter().append("g");l.append("rect").attr("class",function(t){return"graph-rect"+f.getHighlightClassName(t.t)+(null!==i.onClick?" hover_cursor":"")}).attr("width",i.cellSize).attr("height",i.cellSize).attr("x",function(t){return f.positionSubDomainX(t.t)}).attr("y",function(t){return f.positionSubDomainY(t.t)}).on("click",function(t){if(null!==i.onClick)return f.onClick(new Date(t.t),t.v)}).call(function(t){0<i.cellRadius&&t.attr("rx",i.cellRadius).attr("ry",i.cellRadius),null!==f.legendScale&&null!==i.legendColors&&i.legendColors.hasOwnProperty("base")&&t.attr("fill",i.legendColors.base),i.tooltip&&(t.on("mouseover",function(t){var e=this.parentNode.parentNode;f.tooltip.html(f.getSubDomainTitle(t)).attr("style","display: block;");var n=f.positionSubDomainX(t.t)-f.tooltip[0][0].offsetWidth/2+i.cellSize/2,r=f.positionSubDomainY(t.t)-f.tooltip[0][0].offsetHeight-i.cellSize/2;n+=parseInt(e.getAttribute("x"),10),r+=parseInt(e.getAttribute("y"),10),n+=parseInt(f.root.select(".graph").attr("x"),10),r+=parseInt(f.root.select(".graph").attr("y"),10),n+=parseInt(e.parentNode.getAttribute("x"),10),r+=parseInt(e.parentNode.getAttribute("y"),10),f.tooltip.attr("style","display: block; left: "+n+"px; top: "+r+"px;")}),t.on("mouseout",function(){f.tooltip.attr("style","display:none").html("")}))}),i.tooltip||l.append("title").text(function(t){return f.formatDate(new Date(t.t),i.subDomainDateFormat)}),""!==i.domainLabelFormat&&r.append("text").attr("class","graph-label").attr("y",function(t){var e=i.domainMargin[0];switch(i.label.position){case"top":e+=f.domainVerticalLabelHeight/2;break;case"bottom":e+=h(t)+f.domainVerticalLabelHeight/2}return e+i.label.offset.y*("right"===i.label.rotate&&"right"===i.label.position||"left"===i.label.rotate&&"left"===i.label.position?-1:1)}).attr("x",function(t){var e=i.domainMargin[3];switch(i.label.position){case"right":e+=d(t);break;case"bottom":case"top":e+=d(t)/2}return"right"===i.label.align?e+f.domainHorizontalLabelWidth-i.label.offset.x*("right"===i.label.rotate?-1:1):e+i.label.offset.x}).attr("text-anchor",function(){switch(i.label.align){case"start":case"left":return"start";case"end":case"right":return"end";default:return"middle"}}).attr("dominant-baseline",function(){return f.verticalDomainLabel?"middle":"top"}).text(function(t){return f.formatDate(new Date(t),i.domainLabelFormat)}).call(t),null!==i.subDomainTextFormat&&l.append("text").attr("class",function(t){return"subdomain-text"+f.getHighlightClassName(t.t)}).attr("x",function(t){return f.positionSubDomainX(t.t)+i.cellSize/2}).attr("y",function(t){return f.positionSubDomainY(t.t)+i.cellSize/2}).attr("text-anchor","middle").attr("dominant-baseline","central").text(function(t){return f.formatDate(new Date(t.t),i.subDomainTextFormat)}),!1!==o&&n.transition().duration(i.animationDuration).attr("x",function(t){return i.verticalOrientation?0:f.domainPosition.getPosition(t)}).attr("y",function(t){return i.verticalOrientation?f.domainPosition.getPosition(t):0});var c=f.graphDim.width,u=f.graphDim.height;i.verticalOrientation?f.graphDim.height+=a-s:f.graphDim.width+=a-s,n.exit().transition().duration(i.animationDuration).attr("x",function(t){if(i.verticalOrientation)return 0;switch(o){case f.NAVIGATE_LEFT:return Math.min(f.graphDim.width,c);case f.NAVIGATE_RIGHT:return-d(t,!0)}}).attr("y",function(t){if(!i.verticalOrientation)return 0;switch(o){case f.NAVIGATE_LEFT:return Math.min(f.graphDim.height,u);case f.NAVIGATE_RIGHT:return-h(t,!0)}}).remove(),f.resize()}};CalHeatMap.prototype={init:function(t){"use strict";function e(t,e,n){if((e&&!1===t||t instanceof Element||"string"==typeof t)&&""!==t)return!0;throw new Error("The "+n+" is not valid")}function n(t){switch(t){case"year":return"month";case"month":case"week":return"day";case"day":return"hour";default:return"min"}}function r(){if(!u._domainType.hasOwnProperty(d.domain)||"min"===d.domain||"x_"===d.domain.substring(0,2))throw new Error("The domain '"+d.domain+"' is not valid");if(!u._domainType.hasOwnProperty(d.subDomain)||"year"===d.subDomain)throw new Error("The subDomain '"+d.subDomain+"' is not valid");if(u._domainType[d.domain].level<=u._domainType[d.subDomain].level)throw new Error("'"+d.subDomain+"' is not a valid subDomain to '"+d.domain+"'");return!0}function i(){if(!t.hasOwnProperty("label")||t.hasOwnProperty("label")&&!t.label.hasOwnProperty("align")){switch(d.label.position){case"left":d.label.align="right";break;case"right":d.label.align="left";break;default:d.label.align="center"}"left"===d.label.rotate?d.label.align="right":"right"===d.label.rotate&&(d.label.align="left")}(!t.hasOwnProperty("label")||t.hasOwnProperty("label")&&!t.label.hasOwnProperty("offset"))&&("left"!==d.label.position&&"right"!==d.label.position||(d.label.offset={x:10,y:15}))}function o(){switch(d.legendVerticalPosition){case"top":d.legendMargin[2]=u.DEFAULT_LEGEND_MARGIN;break;case"bottom":d.legendMargin[0]=u.DEFAULT_LEGEND_MARGIN;break;case"middle":case"center":d.legendMargin["right"===d.legendHorizontalPosition?3:1]=u.DEFAULT_LEGEND_MARGIN}}function a(t){switch("number"==typeof t&&(t=[t]),Array.isArray(t)||(console.log("Margin only takes an integer or an array of integers"),t=[0]),t.length){case 1:return[t[0],t[0],t[0],t[0]];case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]];case 4:return t;default:return t.slice(0,4)}}function s(t){return"string"==typeof t?[t,t+(""!==t?"s":"")]:Array.isArray(t)?1===t.length?[t[0],t[0]+"s"]:2<t.length?t.slice(0,2):t:["item","items"]}function l(t){return 0<t?t:null}function c(t){return 0<t&&0<d.colLimit?(console.log("colLimit and rowLimit are mutually exclusive, rowLimit will be ignored"),null):0<t?t:null}var u=this,d=u.options=mergeRecursive(u.options,t);if(r(),e(d.itemSelector,!1,"itemSelector"),-1===u.allowedDataType.indexOf(d.dataType))throw new Error("The data type '"+d.dataType+"' is not valid data type");if(null===d3.select(d.itemSelector)[0][0])throw new Error("The node '"+d.itemSelector+"' specified in itemSelector does not exists");try{e(d.nextSelector,!0,"nextSelector"),e(d.previousSelector,!0,"previousSelector")}catch(p){return console.log(p.message),!1}t.hasOwnProperty("subDomain")||(this.options.subDomain=n(t.domain)),"string"==typeof d.itemNamespace&&""!==d.itemNamespace||(console.log("itemNamespace can not be empty, falling back to cal-heatmap"),d.itemNamespace="cal-heatmap");var h=["data","onComplete","onClick","afterLoad","afterLoadData","afterLoadPreviousDomain","afterLoadNextDomain"];for(var f in h)t.hasOwnProperty(h[f])&&(d[h[f]]=t[h[f]]);return d.subDomainDateFormat="string"==typeof d.subDomainDateFormat||"function"==typeof d.subDomainDateFormat?d.subDomainDateFormat:this._domainType[d.subDomain].format.date,d.domainLabelFormat="string"==typeof d.domainLabelFormat||"function"==typeof d.domainLabelFormat?d.domainLabelFormat:this._domainType[d.domain].format.legend,d.subDomainTextFormat="string"==typeof d.subDomainTextFormat&&""!==d.subDomainTextFormat||"function"==typeof d.subDomainTextFormat?d.subDomainTextFormat:null,d.domainMargin=a(d.domainMargin),d.legendMargin=a(d.legendMargin),d.highlight=u.expandDateSetting(d.highlight),d.itemName=s(d.itemName),d.colLimit=l(d.colLimit),d.rowLimit=c(d.rowLimit),t.hasOwnProperty("legendMargin")||o(),i(),this._init()},expandDateSetting:function(t){"use strict";return Array.isArray(t)||(t=[t]),t.map(function(t){return"now"===t?new Date:t instanceof Date&&t}).filter(function(t){return!1!==t})},fill:function(t){"use strict";function e(t){if(null===i.legendScale)return!1;t.attr("fill",function(t){return null===t.v&&o.hasOwnProperty("considerMissingDataAsZero")&&!o.considerMissingDataAsZero&&o.legendColors.hasOwnProperty("base")?o.legendColors.base:null!==o.legendColors&&o.legendColors.hasOwnProperty("empty")&&(0===t.v||null===t.v&&o.hasOwnProperty("considerMissingDataAsZero")&&o.considerMissingDataAsZero)?o.legendColors.empty:t.v<0&&0<o.legend[0]&&null!==o.legendColors&&o.legendColors.hasOwnProperty("overflow")?o.legendColors.overflow:i.legendScale(Math.min(t.v,o.legend[o.legend.length-1]))})}function n(t){"function"==typeof o.subDomainTextFormat&&t.text(function(t){return o.subDomainTextFormat(t.t,t.v)})}var i=this,o=i.options;0===arguments.length&&(t=i.root.selectAll(".graph-domain"));var r=t.selectAll("svg").selectAll("g").data(function(t){return i._domains.get(t)});r.transition().duration(o.animationDuration).select("rect").attr("class",function(t){var e=i.getHighlightClassName(t.t).trim().split(" "),n=i.dateIsLessThan(t.t,new Date),r=i.dateIsEqual(t.t,new Date);return(null===i.legendScale||null===t.v&&o.hasOwnProperty("considerMissingDataAsZero")&&!o.considerMissingDataAsZero&&!o.legendColors.hasOwnProperty("base"))&&e.push("graph-rect"),r?e.push("now"):n||e.push("future"),null!==t.v?e.push(i.Legend.getClass(t.v,null===i.legendScale)):o.considerMissingDataAsZero&&n&&e.push(i.Legend.getClass(0,null===i.legendScale)),null!==o.onClick&&e.push("hover_cursor"),e.join(" ")}).call(e),r.transition().duration(o.animationDuration).select("title").text(function(t){return i.getSubDomainTitle(t)}),r.transition().duration(o.animationDuration).select("text").attr("class",function(t){return"subdomain-text"+i.getHighlightClassName(t.t)}).call(n)},triggerEvent:function(t,e,n){"use strict";return!!(3===arguments.length&&n||null===this.options[t])||("function"==typeof this.options[t]?("function"==typeof e&&(e=e()),this.options[t].apply(this,e)):(console.log("Provided callback for "+t+" is not a function."),!1))},onClick:function(t,e){"use strict";return this.triggerEvent("onClick",[t,e])},afterLoad:function(){"use strict";return this.triggerEvent("afterLoad")},onComplete:function(){"use strict";var t=this.triggerEvent("onComplete",[],this._completed);return this._completed=!0,t},afterLoadPreviousDomain:function(e){"use strict";var n=this;return this.triggerEvent("afterLoadPreviousDomain",function(){var t=n.getSubDomain(e);return[t.shift(),t.pop()]})},afterLoadNextDomain:function(e){"use strict";var n=this;return this.triggerEvent("afterLoadNextDomain",function(){var t=n.getSubDomain(e);return[t.shift(),t.pop()]})},onMinDomainReached:function(t){"use strict";return this._minDomainReached=t,this.triggerEvent("onMinDomainReached",[t])},onMaxDomainReached:function(t){"use strict";return this._maxDomainReached=t,this.triggerEvent("onMaxDomainReached",[t])},checkIfMinDomainIsReached:function(t,e){"use strict";this.minDomainIsReached(t)&&this.onMinDomainReached(!0),2===arguments.length&&this._maxDomainReached&&!this.maxDomainIsReached(e)&&this.onMaxDomainReached(!1)},checkIfMaxDomainIsReached:function(t,e){"use strict";this.maxDomainIsReached(t)&&this.onMaxDomainReached(!0),2===arguments.length&&this._minDomainReached&&!this.minDomainIsReached(e)&&this.onMinDomainReached(!1)},formatNumber:d3.format(",g"),formatDate:function(t,e){"use strict";return arguments.length<2&&(e="title"),"function"==typeof e?e(t):d3.time.format(e)(t)},getSubDomainTitle:function(t){"use strict";if(null!==t.v||this.options.considerMissingDataAsZero){var e=t.v;return null===e&&this.options.considerMissingDataAsZero&&(e=0),this.options.subDomainTitleFormat.filled.format({count:this.formatNumber(e),name:this.options.itemName[1!==e?1:0],connector:this._domainType[this.options.subDomain].format.connector,date:this.formatDate(new Date(t.t),this.options.subDomainDateFormat)})}return this.options.subDomainTitleFormat.empty.format({date:this.formatDate(new Date(t.t),this.options.subDomainDateFormat)})},loadNextDomain:function(t){"use strict";if(this._maxDomainReached||0===t)return!1;var e=this.loadNewDomains(this.NAVIGATE_RIGHT,this.getDomain(this.getNextDomain(),t));return this.afterLoadNextDomain(e.end),this.checkIfMaxDomainIsReached(this.getNextDomain().getTime(),e.start),!0},loadPreviousDomain:function(t){"use strict";if(this._minDomainReached||0===t)return!1;var e=this.loadNewDomains(this.NAVIGATE_LEFT,this.getDomain(this.getDomainKeys()[0],-t).reverse());return this.afterLoadPreviousDomain(e.start),this.checkIfMinDomainIsReached(e.start,e.end),!0},loadNewDomains:function(t,e){"use strict";function n(t){return{t:r._domainType[r.options.subDomain].extractUnit(t),v:null}}for(var r=this,i=t===this.NAVIGATE_LEFT,o=-1,a=e.length,s=this.getDomainKeys();++o<a;){if(i&&this.minDomainIsReached(e[o])){e=e.slice(0,o+1);break}if(!i&&this.maxDomainIsReached(e[o])){e=e.slice(0,o);break}}for(o=0,a=(e=e.slice(-this.options.range)).length;o<a;o++)this._domains.set(e[o].getTime(),this.getSubDomain(e[o]).map(n)),this._domains.remove(i?s.pop():s.shift())
;return s=this.getDomainKeys(),i&&(e=e.reverse()),this.paint(t),this.getDatas(this.options.data,e[0],this.getSubDomain(e[e.length-1]).pop(),function(){r.fill(r.lastInsertedSvg)}),{start:e[i?0:1],end:s[s.length-1]}},maxDomainIsReached:function(t){"use strict";return null!==this.options.maxDate&&this.options.maxDate.getTime()<t},minDomainIsReached:function(t){"use strict";return null!==this.options.minDate&&this.options.minDate.getTime()>=t},getDomainKeys:function(){"use strict";return this._domains.keys().map(function(t){return parseInt(t,10)}).sort(function(t,e){return t-e})},positionSubDomainX:function(t){"use strict";var e=this._domainType[this.options.subDomain].position.x(new Date(t));return e*this.options.cellSize+e*this.options.cellPadding},positionSubDomainY:function(t){"use strict";var e=this._domainType[this.options.subDomain].position.y(new Date(t));return e*this.options.cellSize+e*this.options.cellPadding},getSubDomainColumnNumber:function(t){"use strict";if(0<this.options.rowLimit){var e=this._domainType[this.options.subDomain].maxItemNumber;return"function"==typeof e&&(e=e(t)),Math.ceil(e/this.options.rowLimit)}var n=this._domainType[this.options.subDomain].defaultColumnNumber;return"function"==typeof n&&(n=n(t)),this.options.colLimit||n},getSubDomainRowNumber:function(t){"use strict";if(0<this.options.colLimit){var e=this._domainType[this.options.subDomain].maxItemNumber;return"function"==typeof e&&(e=e(t)),Math.ceil(e/this.options.colLimit)}var n=this._domainType[this.options.subDomain].defaultRowNumber;return"function"==typeof n&&(n=n(t)),this.options.rowLimit||n},getHighlightClassName:function(t){"use strict";if(t=new Date(t),0<this.options.highlight.length)for(var e in this.options.highlight)if(this.dateIsEqual(this.options.highlight[e],t))return this.isNow(this.options.highlight[e])?" highlight-now":" highlight";return""},isNow:function(t){"use strict";return this.dateIsEqual(t,new Date)},dateIsEqual:function(t,e){"use strict";switch(t instanceof Date||(t=new Date(t)),e instanceof Date||(e=new Date(e)),this.options.subDomain){case"x_min":case"min":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes();case"x_hour":case"hour":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()&&t.getHours()===e.getHours();case"x_day":case"day":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate();case"x_week":case"week":return t.getFullYear()===e.getFullYear()&&this.getWeekNumber(t)===this.getWeekNumber(e);case"x_month":case"month":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth();default:return!1}},dateIsLessThan:function(t,e){"use strict";function n(t,e){switch(e){case"x_min":case"min":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()).getTime();case"x_hour":case"hour":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()).getTime();case"x_day":case"day":return new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();case"x_week":case"week":case"x_month":case"month":return new Date(t.getFullYear(),t.getMonth()).getTime();default:return t.getTime()}}return t instanceof Date||(t=new Date(t)),e instanceof Date||(e=new Date(e)),n(t,this.options.subDomain)<n(e,this.options.subDomain)},getDayOfYear:d3.time.format("%j"),getWeekNumber:function(t){"use strict";return(!0===this.options.weekStartOnMonday?d3.time.format("%W"):d3.time.format("%U"))(t)},getMonthWeekNumber:function(t){"use strict";"number"==typeof t&&(t=new Date(t));var e=this.getWeekNumber(new Date(t.getFullYear(),t.getMonth()));return this.getWeekNumber(t)-e-1},getWeekNumberInYear:function(t){"use strict";"number"==typeof t&&(t=new Date(t))},getDayCountInMonth:function(t){"use strict";return this.getEndOfMonth(t).getDate()},getDayCountInYear:function(t){"use strict";return"number"==typeof t&&(t=new Date(t)),1===new Date(t.getFullYear(),1,29).getMonth()?366:365},getWeekDay:function(t){"use strict";return!1===this.options.weekStartOnMonday?t.getDay():0===t.getDay()?6:t.getDay()-1},getEndOfMonth:function(t){"use strict";return"number"==typeof t&&(t=new Date(t)),new Date(t.getFullYear(),t.getMonth()+1,0)},jumpDate:function(t,e,n){"use strict";var r=new Date(t);switch(n){case"hour":r.setHours(r.getHours()+e);break;case"day":r.setHours(r.getHours()+24*e);break;case"week":r.setHours(r.getHours()+24*e*7);break;case"month":r.setMonth(r.getMonth()+e);break;case"year":r.setFullYear(r.getFullYear()+e)}return new Date(r)},getMinuteDomain:function(t,e){"use strict";var n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),r=null;return r=e instanceof Date?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()):new Date(+n+1e3*e*60),d3.time.minutes(Math.min(n,r),Math.max(n,r))},getHourDomain:function(t,e){"use strict";var n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),r=null;e instanceof Date?r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()):(r=new Date(n)).setHours(r.getHours()+e);var i=d3.time.hours(Math.min(n,r),Math.max(n,r)),o=0,a=i.length;for(o=0;o<a;o++)if(0<o&&i[o].getHours()===i[o-1].getHours()){this.DSTDomain.push(i[o].getTime()),i.splice(o,1);break}return"number"==typeof e&&i.length>Math.abs(e)&&i.splice(i.length-1,1),i},getDayDomain:function(t,e){"use strict";var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=null;return e instanceof Date?r=new Date(e.getFullYear(),e.getMonth(),e.getDate()):(r=new Date(n),r=new Date(r.setDate(r.getDate()+parseInt(e,10)))),d3.time.days(Math.min(n,r),Math.max(n,r))},getWeekDomain:function(t,e){"use strict";var n;!1===this.options.weekStartOnMonday?n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()):1===t.getDay()?n=new Date(t.getFullYear(),t.getMonth(),t.getDate()):0===t.getDay()?(n=new Date(t.getFullYear(),t.getMonth(),t.getDate())).setDate(n.getDate()-6):n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()+1);var r=new Date(n),i=e;return"object"!=typeof e&&(i=new Date(r.setDate(r.getDate()+7*e))),!0===this.options.weekStartOnMonday?d3.time.mondays(Math.min(n,i),Math.max(n,i)):d3.time.sundays(Math.min(n,i),Math.max(n,i))},getMonthDomain:function(t,e){"use strict";var n=new Date(t.getFullYear(),t.getMonth()),r=null;return r=e instanceof Date?new Date(e.getFullYear(),e.getMonth()):(r=new Date(n)).setMonth(r.getMonth()+e),d3.time.months(Math.min(n,r),Math.max(n,r))},getYearDomain:function(t,e){"use strict";var n=new Date(t.getFullYear(),0),r=null;return r=e instanceof Date?new Date(e.getFullYear(),0):new Date(t.getFullYear()+e,0),d3.time.years(Math.min(n,r),Math.max(n,r))},getDomain:function(t,e){"use strict";switch("number"==typeof t&&(t=new Date(t)),arguments.length<2&&(e=this.options.range),this.options.domain){case"hour":var n=this.getHourDomain(t,e);return"number"==typeof e&&n.length<e&&(0<e?n.push(this.getHourDomain(n[n.length-1],2)[1]):n.shift(this.getHourDomain(n[0],-2)[0])),n;case"day":return this.getDayDomain(t,e);case"week":return this.getWeekDomain(t,e);case"month":return this.getMonthDomain(t,e);case"year":return this.getYearDomain(t,e)}},getSubDomain:function(t){"use strict";"number"==typeof t&&(t=new Date(t));var o=this,e=function(t,e){switch(e){case"year":return o.getDayCountInYear(t);case"month":return o.getDayCountInMonth(t);case"week":return 7}},n=function(t,e){switch(e){case"hour":return 60;case"day":return 1440;case"week":return 10080}},r=function(t,e){switch(e){case"day":return 24;case"week":return 168;case"month":return 24*o.getDayCountInMonth(t)}},i=function(t,e){if("month"===e){var n=new Date(t.getFullYear(),t.getMonth()+1,0),r=o.getWeekNumber(n),i=o.getWeekNumber(new Date(t.getFullYear(),t.getMonth()));return r<i&&(i=0,r++),r-i+1}if("year"===e)return o.getWeekNumber(new Date(t.getFullYear(),11,31))};switch(this.options.subDomain){case"x_min":case"min":return this.getMinuteDomain(t,n(t,this.options.domain));case"x_hour":case"hour":return this.getHourDomain(t,r(t,this.options.domain));case"x_day":case"day":return this.getDayDomain(t,e(t,this.options.domain));case"x_week":case"week":return this.getWeekDomain(t,i(t,this.options.domain));case"x_month":case"month":return this.getMonthDomain(t,12)}},getNextDomain:function(t){"use strict";return 0===arguments.length&&(t=1),this.getDomain(this.jumpDate(this.getDomainKeys().pop(),t,this.options.domain),1)[0]},getPreviousDomain:function(t){"use strict";return 0===arguments.length&&(t=1),this.getDomain(this.jumpDate(this.getDomainKeys().shift(),-t,this.options.domain),1)[0]},getDatas:function(t,e,n,r,i,o){"use strict";var a=this;arguments.length<5&&(i=!0),arguments.length<6&&(o=this.APPEND_ON_UPDATE);var s=function(t){!1!==i?"function"==typeof i?t=i(t):"function"==typeof a.options.afterLoadData?t=a.options.afterLoadData(t):console.log("Provided callback for afterLoadData is not a function."):"csv"!==a.options.dataType&&"tsv"!==a.options.dataType||(t=this.interpretCSV(t)),a.parseDatas(t,o,e,n),"function"==typeof r&&r()};switch(typeof t){case"string":if(""===t)return s({}),!0;var l=this.parseURI(t,e,n),c="GET";null!==a.options.dataPostPayload&&(c="POST");var u=null;switch(null!==a.options.dataPostPayload&&(u=this.parseURI(a.options.dataPostPayload,e,n)),this.options.dataType){case"json":d3.json(l,s).send(c,u);break;case"csv":d3.csv(l,s).send(c,u);break;case"tsv":d3.tsv(l,s).send(c,u);break;case"txt":d3.text(l,"text/plain",s).send(c,u)}return!1;case"object":if(t===Object(t))return s(t),!1;default:return s({}),!0}},parseDatas:function(t,e,n,r){"use strict";e===this.RESET_ALL_ON_UPDATE&&this._domains.forEach(function(t,e){e.forEach(function(t,e,n){n[e].v=null})});var i={},o=function(t){return t.t};for(var a in t){var s=new Date(1e3*a),l=this.getDomain(s)[0].getTime();if(0<=this.DSTDomain.indexOf(l)&&this._domains.has(l-36e5)&&(l-=36e5),!isNaN(a)&&t.hasOwnProperty(a)&&this._domains.has(l)&&+n<=l&&l<+r){var c=this._domains.get(l);i.hasOwnProperty(l)||(i[l]=c.map(o));var u=i[l].indexOf(this._domainType[this.options.subDomain].extractUnit(s));e===this.RESET_SINGLE_ON_UPDATE?c[u].v=t[a]:isNaN(c[u].v)?c[u].v=t[a]:c[u].v+=t[a]}}},parseURI:function(t,e,n){"use strict";return t=(t=(t=(t=t.replace(/\{\{t:start\}\}/g,e.getTime()/1e3)).replace(/\{\{t:end\}\}/g,n.getTime()/1e3)).replace(/\{\{d:start\}\}/g,e.toISOString())).replace(/\{\{d:end\}\}/g,n.toISOString())},interpretCSV:function(t){"use strict";var e,n,r={},i=Object.keys(t[0]);for(e=0,n=t.length;e<n;e++)r[t[e][i[0]]]=+t[e][i[1]];return r},resize:function(){"use strict";var t=this,e=t.options,n=e.displayLegend?t.Legend.getDim("width")+e.legendMargin[1]+e.legendMargin[3]:0,r=e.displayLegend?t.Legend.getDim("height")+e.legendMargin[0]+e.legendMargin[2]:0,i=t.graphDim.width-e.domainGutter-e.cellPadding,o=t.graphDim.height-e.domainGutter-e.cellPadding;this.root.transition().duration(e.animationDuration).attr("width",function(){return"middle"===e.legendVerticalPosition||"center"===e.legendVerticalPosition?i+n:Math.max(i,n)}).attr("height",function(){return"middle"===e.legendVerticalPosition||"center"===e.legendVerticalPosition?Math.max(o,r):o+r}),this.root.select(".graph").transition().duration(e.animationDuration).attr("y",function(){return"top"===e.legendVerticalPosition?r:0}).attr("x",function(){return"middle"!==e.legendVerticalPosition&&"center"!==e.legendVerticalPosition||"left"!==e.legendHorizontalPosition?0:n})},next:function(t){"use strict";return 0===arguments.length&&(t=1),this.loadNextDomain(t)},previous:function(t){"use strict";return 0===arguments.length&&(t=1),this.loadPreviousDomain(t)},jumpTo:function(t,e){"use strict";arguments.length<2&&(e=!1);var n=this.getDomainKeys(),r=n[0],i=n[n.length-1];return t<r?this.loadPreviousDomain(this.getDomain(r,t).length):e?this.loadNextDomain(this.getDomain(r,t).length):i<t&&this.loadNextDomain(this.getDomain(i,t).length)},rewind:function(){"use strict";this.jumpTo(this.options.start,!0)},update:function(t,e,n){"use strict";arguments.length<2&&(e=!0),arguments.length<3&&(n=this.RESET_ALL_ON_UPDATE);var r=this.getDomainKeys(),i=this;this.getDatas(t,new Date(r[0]),this.getSubDomain(r[r.length-1]).pop(),function(){i.fill()},e,n)},setLegend:function(t,e){"use strict";var n=this.options.legend.slice(0);1<=arguments.length&&Array.isArray(t)&&(this.options.legend=arguments[0]),2<=arguments.length&&(Array.isArray(e)&&2<=arguments[1].length?this.options.legendColors=[arguments[1][0],arguments[1][1]]:this.options.legendColors=arguments[1]),(0<arguments.length&&!arrayEquals(n,this.options.legend)||2<=arguments.length)&&(this.Legend.buildColors(),this.fill()),this.Legend.redraw(this.graphDim.width-this.options.domainGutter-this.options.cellPadding)},removeLegend:function(){"use strict";return!!this.options.displayLegend&&(this.options.displayLegend=!1,this.Legend.remove(),!0)},showLegend:function(){"use strict";return!this.options.displayLegend&&(this.options.displayLegend=!0,this.Legend.redraw(this.graphDim.width-this.options.domainGutter-this.options.cellPadding),!0)},highlight:function(t){"use strict";return 0<(this.options.highlight=this.expandDateSetting(t)).length&&(this.fill(),!0)},destroy:function(t){"use strict";return this.root.transition().duration(this.options.animationDuration).attr("width",0).attr("height",0).remove().each("end",function(){"function"==typeof t?t():void 0!==t&&console.log("Provided callback for destroy() is not a function.")}),null},getSVG:function(){"use strict";for(var r={".cal-heatmap-container":{},".graph":{},".graph-rect":{},"rect.highlight":{},"rect.now":{},"rect.highlight-now":{},"text.highlight":{},"text.now":{},"text.highlight-now":{},".domain-background":{},".graph-label":{},".subdomain-text":{},".q0":{},".qi":{}},t=1,e=this.options.legend.length+1;t<=e;t++)r[".q"+t]={};var n=this.root,i=["stroke","stroke-width","stroke-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-miterlimit","fill","fill-opacity","fill-rule","marker","marker-start","marker-mid","marker-end","alignement-baseline","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","kerning","text-anchor","shape-rendering","text-transform","font-family","font","font-size","font-weight"],o=function(t,e,n){-1!==i.indexOf(e)&&(r[t][e]=n)},a=function(t){return n.select(t)[0][0]};for(var s in r)if(r.hasOwnProperty(s)){var l=a(s);if(null!==l)if("getComputedStyle"in window){var c=getComputedStyle(l,null);if(0!==c.length)for(var u=0;u<c.length;u++)o(s,c.item(u),c.getPropertyValue(c.item(u)));else for(var d in c)c.hasOwnProperty(d)&&o(s,d,c[d])}else if("currentStyle"in l){var h=l.currentStyle;for(var f in h)o(s,f,h[f])}}var p='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css"><![CDATA[ ';for(var g in r){for(var m in p+=g+" {\n",r[g])p+="\t"+m+":"+r[g][m]+";\n";p+="}\n"}return p+="]]></style>",p+=(new XMLSerializer).serializeToString(this.root[0][0]),p+="</svg>"}};var DomainPosition=function(){"use strict";this.positions=d3.map()};DomainPosition.prototype.getPosition=function(t){"use strict";return this.positions.get(t)},DomainPosition.prototype.getPositionFromIndex=function(t){"use strict";var e=this.getKeys();return this.positions.get(e[t])},DomainPosition.prototype.getLast=function(){"use strict";var t=this.getKeys();return this.positions.get(t[t.length-1])},DomainPosition.prototype.setPosition=function(t,e){"use strict";this.positions.set(t,e)},DomainPosition.prototype.shiftRightBy=function(n){"use strict";this.positions.forEach(function(t,e){this.set(t,e-n)});var t=this.getKeys();this.positions.remove(t[0])},DomainPosition.prototype.shiftLeftBy=function(n){"use strict";this.positions.forEach(function(t,e){this.set(t,e+n)});var t=this.getKeys();this.positions.remove(t[t.length-1])},DomainPosition.prototype.getKeys=function(){"use strict";return this.positions.keys().sort(function(t,e){return parseInt(t,10)-parseInt(e,10)})};var Legend=function(t){"use strict";this.calendar=t,this.computeDim(),null!==t.options.legendColors&&this.buildColors()};Legend.prototype.computeDim=function(){"use strict";var t=this.calendar.options;this.dim={width:t.legendCellSize*(t.legend.length+1)+t.legendCellPadding*t.legend.length,height:t.legendCellSize}},Legend.prototype.remove=function(){"use strict";this.calendar.root.select(".graph-legend").remove(),this.calendar.resize()},Legend.prototype.redraw=function(t){"use strict";function e(t){t.attr("width",l.legendCellSize).attr("height",l.legendCellSize).attr("x",function(t,e){return e*(l.legendCellSize+l.legendCellPadding)})}function n(){switch(l.legendHorizontalPosition){case"right":return"center"===l.legendVerticalPosition||"middle"===l.legendVerticalPosition?t+l.legendMargin[3]:t-o.getDim("width")-l.legendMargin[1];case"middle":case"center":return Math.round(t/2-o.getDim("width")/2);default:return l.legendMargin[3]}}function r(){return"bottom"===l.legendVerticalPosition?a.graphDim.height+l.legendMargin[0]-l.domainGutter-l.cellPadding:l.legendMargin[0]}if(!this.calendar.options.displayLegend)return!1;var i,o=this,a=this.calendar,s=a.root,l=a.options;this.computeDim();var c=l.legend.slice(0);c.push(c[c.length-1]+1);var u=a.root.select(".graph-legend");null!==u[0][0]?i=(s=u).select("g").selectAll("rect").data(c):((s="top"===l.legendVerticalPosition?s.insert("svg",".graph"):s.append("svg")).attr("x",n()).attr("y",r()),i=s.attr("class","graph-legend").attr("height",o.getDim("height")).attr("width",o.getDim("width")).append("g").selectAll().data(c)),i.enter().append("rect").call(e).attr("class",function(t){return a.Legend.getClass(t,null===a.legendScale)}).attr("fill-opacity",0).call(function(t){null!==a.legendScale&&null!==l.legendColors&&l.legendColors.hasOwnProperty("base")&&t.attr("fill",l.legendColors.base)}).append("title"),i.exit().transition().duration(l.animationDuration).attr("fill-opacity",0).remove(),i.transition().delay(function(t,e){return l.animationDuration*e/10}).call(e).attr("fill-opacity",1).call(function(t){t.attr("fill",function(t,e){return null===a.legendScale?"":0===e?a.legendScale(t-1):a.legendScale(l.legend[e-1])}),t.attr("class",function(t){return a.Legend.getClass(t,null===a.legendScale)})}),i.select("title").text(function(t,e){return 0===e?l.legendTitleFormat.lower.format({min:l.legend[e],name:l.itemName[1]}):e===c.length-1?l.legendTitleFormat.upper.format({max:l.legend[e-1],name:l.itemName[1]}):l.legendTitleFormat.inner.format({down:l.legend[e-1],up:l.legend[e],name:l.itemName[1]})}),s.transition().duration(l.animationDuration).attr("x",n()).attr("y",r()).attr("width",o.getDim("width")).attr("height",o.getDim("height")),s.select("g").transition().duration(l.animationDuration).attr("transform",function(){return"vertical"===l.legendOrientation?"rotate(90 "+l.legendCellSize/2+" "+l.legendCellSize/2+")":""}),a.resize()},Legend.prototype.getDim=function(t){"use strict";var e="horizontal"===this.calendar.options.legendOrientation;switch(t){case"width":return this.dim[e?"width":"height"];case"height":return this.dim[e?"height":"width"]}},Legend.prototype.buildColors=function(){"use strict";var t=this.calendar.options;if(null===t.legendColors)return this.calendar.legendScale=null,!1;var e=[];if(Array.isArray(t.legendColors))e=t.legendColors;else{if(!t.legendColors.hasOwnProperty("min")||!t.legendColors.hasOwnProperty("max"))return t.legendColors=null,!1;e=[t.legendColors.min,t.legendColors.max]}var n=t.legend.slice(0);0<n[0]?n.unshift(0):n[0]<0&&n.unshift(n[0]-(n[n.length-1]-n[0])/n.length);var r=d3.scale.linear().range(e).interpolate(d3.interpolateHcl).domain([d3.min(n),d3.max(n)]),i=n.map(function(t){return r(t)});return this.calendar.legendScale=d3.scale.threshold().domain(t.legend).range(i),!0},Legend.prototype.getClass=function(t,e){"use strict";if(null===t||isNaN(t))return"";for(var n=[this.calendar.options.legend.length+1],r=0,i=this.calendar.options.legend.length-1;r<=i;r++){if(0<this.calendar.options.legend[0]&&t<0){n=["1","i"];break}if(t<=this.calendar.options.legend[r]){n=[r+1];break}}return 0===t&&n.push(0),n.unshift(""),(n.join(" r")+(e?n.join(" q"):"")).trim()},String.prototype.format=function(t){"use strict";var e=this;for(var n in t)if(arguments[0].hasOwnProperty(n)){var r=new RegExp("\\{"+n+"\\}","gi");e=e.replace(r,arguments[0][n])}return e},"function"==typeof define&&define.amd?define(["d3"],function(){"use strict";return CalHeatMap}):"object"==typeof module&&module.exports?module.exports=CalHeatMap:window.CalHeatMap=CalHeatMap;var hashChange=function(){var t=document.getElementById(window.location.hash.substr(1));$(".activeTr").removeClass("activeTr").find("td").css({background:"",color:""}),$(t).parent().addClass("activeTr").find("td").css({background:"#08c",color:"#fff"})};$(window).on("hashchange",hashChange),hashChange(),$(window).on("load",hashChange),hashChange(),$(document).ready(function(){$("table").tablesorter()}),propublica.views.stateSelect=propublica.View.extend({cssClass:"state-select",tag:"select",render:function(){$(".state-select").change(function(){var t=this.value;window.location=RAILS_ROOT+"races/2024/states/"+t})}}),propublica.views.heatMap=propublica.View.extend({cssClass:"heatmap",render:function(){$("#pay-heatmap").html("");var e=$("#pay-heatmap").attr("data-type"),n=$("#pay-heatmap").attr("cycle");if("2022"==n)var t=[{year:2020,range:12,start:new Date(2019,12)},{year:2021,range:12,start:new Date(2020,12)},{year:2022,range:12,start:new Date(2021,12)}];else if("2020"==n)t=[{year:2018,range:12,start:new Date(2017,12)},{year:2019,range:12,start:new Date(2018,12)},{year:2020,range:12,start:new Date(2019,12)}];else if("2018"==n)t=[{year:2016,range:12,start:new Date(2015,12)},{year:2017,range:12,start:new Date(2016,12)},{year:2018,range:12,start:new Date(2017,12)}];else t=[{year:2015,range:12,start:new Date(2014,12)},{year:2016,range:12,start:new Date(2015,12)}];var r=window.trump_data.length;$(".payment-days").text(r),_.each(t,function(t){createHeatMap(e,n,t.year,t.range,t.start)})}});