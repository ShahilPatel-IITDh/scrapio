"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{1984:function(n,e,t){var r,_=t(7294);function o(){return o=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},o.apply(this,arguments)}e.Z=n=>_.createElement("svg",o({width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),r||(r=_.createElement("path",{d:"M6 12L23.5422 17.6867M6 12V34L23.5422 40M6 12L23.5422 6L42 12M23.5422 17.6867V40M23.5422 17.6867L42 12M23.5422 40L42 34V12",stroke:"#050038",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"})))},7302:function(n,e,t){var r,_,o=t(7294);function u(){return u=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},u.apply(this,arguments)}e.Z=n=>o.createElement("svg",u({role:"img","aria-labelledby":"svg-users-title",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},n),r||(r=o.createElement("title",{id:"svg-users-title"},"Users")),_||(_=o.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M12 13a5 5 0 1 1 0-10 5 5 0 0 1 0 10zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM4.987 21.164a1 1 0 1 1-1.973-.328l.443-2.658A5 5 0 0 1 8.389 14h7.223a5 5 0 0 1 4.932 4.178l.443 2.658a1 1 0 0 1-1.973.328l-.443-2.657A3 3 0 0 0 15.61 16H8.39a3 3 0 0 0-2.96 2.507l-.442 2.657z"})))},4978:function(n,e,t){t.d(e,{WH:function(){return m},So:function(){return v},B6:function(){return S},Ch:function(){return f},_1:function(){return C},Vr:function(){return U},BQ:function(){return M},pv:function(){return O},Zp:function(){return w},lt:function(){return Y},H6:function(){return B},PM:function(){return k},vH:function(){return h},mw:function(){return g},ok:function(){return y},Ns:function(){return G},p7:function(){return P},_f:function(){return D},GL:function(){return R},wm:function(){return N},cG:function(){return W},oF:function(){return b},Xu:function(){return l},mJ:function(){return L},oE:function(){return V}});var r=t(6042),_=t(1752),o=t.n(_),u=t(1549),i=t.n(u),a=t(3416),c=t(7906),E=o()().publicRuntimeConfig,I=E.eventHubApiHost,s=E.eventHubWriteKey,A=function(n){var e=n.event,t=n.properties,_=n.userId,o={writeKey:s,event:e,userId:_,type:"track",context:{library:{name:"marketplace-client-analytics",version:"0.1"},page:p(),userAgent:(0,c.ij)()},timestamp:new Date,sentAt:new Date,messageId:"".concat(i()(JSON.stringify(e)),"-").concat((0,a.x0)()),properties:(0,r.Z)({},t)},u=JSON.stringify(o);navigator.sendBeacon("".concat(I,"/v1/t"),u)},p=function(){return{referrer:document.referrer,path:location.pathname,title:document.title,url:location.href,search:location.search,inIframe:(0,c.QV)()}},d=t(6483),T="miro_marketplace_standalone",R=function(n){var e=n.userId,t=n.accountId,r=n.organizationId,_=n.applicationId,o=n.isRequestModified;A({event:"org_app_request_submit_form_submitted",userId:e,properties:{team_id:t,org_id:r||"no-organization",app_id:_,is_request_message_modified:o}})},N=function(n){var e=n.userId,t=n.accountId,r=n.organizationId,_=n.applicationId;A({event:"org_app_request_submit_form_viewed",userId:e,properties:{team_id:t,org_id:r||"no-organization",app_id:_}})},S=function(n){var e=n.applicationId,t=n.actionType,_=n.accountId,o=n.selectedAccountApplicationStatus,u=n.userId,i=n.utm;A({event:"app_installation_page_interacted",userId:u||"",properties:(0,r.Z)({app_id:e,action_type:t,account_application_status:o||"",account_id:_||""},i)})},f=function(n){var e=n.applicationId,t=n.source,_=n.accountApplicationStatuses,o=n.userId,u=n.utm,i=function(n){return _?_.filter((function(e){return e.text===n})).length:0},a=d.Du.NOT_AVAILABLE_IN_CURRENT_PLAN,c=d.Du.INSTALLABLE,E=d.Du.INSTALLED_NOT_AUTHORIZED,I=d.Du.ALREADY_INSTALLED_CAN_REINSTALL,s=d.Du.ALREADY_INSTALLED_CANNOT_REINSTALL,p=d.Du.CAN_NOT_INSTALL_CAUSE_NOT_ADMIN,T=d.Du.RESTRICTED_IN_ORG,R=d.Du.PLUGIN_RESTRICTED_IN_ORG_ALREADY_REQUESTED;A({event:"app_installation_page_shown",userId:o,properties:(0,r.Z)({app_id:e,teams_permissions:_||[],overall_teams:_?_.length:0,to_upgrade_teams:i(a),to_install_teams:i(c),to_authorize_teams:i(E),installed_can_reinstall_teams:i(I),installed_cannot_reinstall_teams:i(s),not_an_admin_teams:i(p),app_not_approved_teams:i(T),app_not_approved_teams_already_requested:i(R),source:t},u)})},l=function(n){var e=n.accountId,t=n.userId,r=n.searchQuery,_=n.searchResultCount;A({event:"focus_out_after_search",userId:t,properties:{account_id:e||"anonymous",search_text:r,count_search_result:_}})},L=function(n){var e=n.accountId,t=n.userId,r=n.categoryKey,_=n.utmSource;A({event:"category_see_all_clicked",userId:t||"",properties:{account_id:e||"anonymous",user_id:t||"",category_key:r,utm_source:_||T}})},O=function(n){var e=n.accountId,t=n.userId,r=n.categoryKey,_=n.utmSource;A({event:"collection_card_clicked",userId:t||"",properties:{account_id:e||"anonymous",user_id:t||"",category_key:r,utm_source:_||T}})},m=function(n){var e=n.accountId,t=n.userId,r=n.appId,_=n.featured,o=n.utmSource;A({event:"app_card_clicked",userId:t||"",properties:{account_id:e||"anonymous",user_id:t||"",app_id:r,featured:_,utm_source:o||T}})},D=function(n){var e=n.source,t=n.userId,r=n.accountId;A({event:"marketplace_opened",userId:t,properties:{account_id:r||"anonymous",marketplace_opened_from:e}})},v=function(n){var e=n.accountId,t=n.userId,_=n.appId,o=n.utm;A({event:"button_on_app_page_clicked",userId:t||"",properties:(0,r.Z)({account_id:e||"anonymous",user_id:t||"",app_id:_,timestamp:(new Date).toISOString()},o)})},C=function(n){var e=n.accountId,t=n.userId,_=n.appId,o=n.utm,u=n.isAuthorized,i=n.isInstalled;A({event:"app_run_button_clicked",userId:t||"",properties:(0,r.Z)({account_id:e||"anonymous",user_id:t||"",app_id:_,is_authorized:u,is_installed:i,timestamp:(new Date).toISOString()},o)})},U=function(n){var e=n.accountId,t=n.appId,r=n.userId;A({event:"app_share_button_clicked",userId:r,properties:{account_id:e||"anonymous",app_id:t}})},M=function(n){var e=n.accountId,t=n.appId,r=n.type,_=n.userId;A({event:"app_share_item_clicked",userId:_,properties:{account_id:e||"anonymous",app_id:t,type:r}})},g=function(n){var e=n.accountId,t=n.userId;A({event:"marketplace_build_menu_clicked",userId:t||"",properties:{account_id:e||"anonymous",user_id:t||""}})},y=function(n){var e=n.accountId,t=n.userId,r=n.type;A({event:"marketplace_build_menuitem_clicked",userId:t||"",properties:{account_id:e||"anonymous",user_id:t||"",type:r}})},h=function(n){var e=n.accountId,t=n.userId,r=n.type;A({event:"marketplace_banner_clicked",userId:t||"",properties:{account_id:e||"anonymous",user_id:t||"",type:r}})},P=function(n){var e=n.title,t=n.location,r=n.userId;A({event:"marketplace_link_clicked",userId:r,properties:{location:t,title:e}})},G=function(n){var e=n.accountId,t=n.userId,r=n.categoryKey,_=n.utmSource;A({event:"category_clicked",userId:t||"",properties:{account_id:e||"anonymous",user_id:t||"",category_key:r,utm_source:_||T}})},V=function(n){var e=n.accountId,t=n.userId,r=n.clickFrom,_=n.appId,o=n.appName,u=n.plan;A({event:"click_upgrade",userId:t||"",properties:{account_id:e||"anonymous",initiator_id:t||"",click_upgrade_from:r,app_id:_,app_name:o||"",plan:u||""}})},B=function(){A({event:"click_login",properties:{}})},k=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.accountId,t=n.userId;A({event:"click_logout",userId:t||"",properties:{account_id:e||"anonymous"}})},w=function(n){var e=n.accountId,t=n.userId,r=n.appId;A({event:"app_rating_form_clicked",userId:t||"",properties:{account_id:e||"anonymous",app_id:r,form_type:"app_rating_form"}})},b=function(n){A({event:"app_rating_submitted",userId:n.userId||"",properties:{account_id:n.accountId||"anonymous",app_id:n.appId,form_type:"app_rating_form"}})},W=function(n){A({event:"app_review_rating_changed",userId:n.userId||"",properties:{account_id:n.accountId||"anonymous",app_id:n.appId,form_type:"app_rating_form"}})},Y=function(n){var e=n.accountId,t=n.userId,r=n.appId;A({event:"app_rating_form_closed",userId:t||"",properties:{account_id:e||"anonymous",app_id:r,form_type:"app_rating_form"}})}},6836:function(n,e,t){t.d(e,{l:function(){return _}});var r=t(1163);function _(){var n=(0,r.useRouter)().query.utm_source;if("string"===typeof n)return n}},5014:function(n,e,t){var r;t.d(e,{Q:function(){return r}}),function(n){n.NEW_PREMIUM="NEW_PREMIUM",n.PAID_TEAM="PAID_TEAM",n.EDU_TEAM="EDU_TEAM",n.FREE_TEAM_2018="FREE_TEAM_2018",n.DEV_TEAM="DEV_TEAM",n.ENT_DEV_TEAM="ENT_DEV_TEAM",n.FREE="FREE",n.NEW_FREE="NEW_FREE",n.TEAM="TEAM",n.PREMIUM="PREMIUM",n.EDUCATION="EDUCATION"}(r||(r={}))},6483:function(n,e,t){var r,_;t.d(e,{Du:function(){return o},xb:function(){return a},cy:function(){return s},XX:function(){return d},Wk:function(){return E},Qv:function(){return T},sS:function(){return p}}),function(n){n.CHANGE_BOARD_OWNER="CHANGE_BOARD_OWNER",n.TRASH_BOARD="TRASH_BOARD",n.EDIT_ACCOUNT_SETTINGS="EDIT_ACCOUNT_SETTINGS",n.CREATE_BOARDS="CREATE_BOARDS",n.REMOVE_BOARDS="REMOVE_BOARDS",n.VIEW_USERS="VIEW_USERS",n.EDIT_USERS="EDIT_USERS",n.ADD_USERS="ADD_USERS",n.REMOVE_USERS="REMOVE_USERS",n.CHANGE_USERS_ROLE="CHANGE_USERS_ROLE",n.VIEW_BOARDS_INFO="VIEW_BOARDS_INFO",n.VIEW_PROJECTS="VIEW_PROJECTS",n.CREATE_PROJECTS="CREATE_PROJECTS",n.CREATE_TEMPLATES="CREATE_TEMPLATES",n.REMOVE_TEMPLATES="REMOVE_TEMPLATES",n.SETUP_PLUGINS="SETUP_PLUGINS",n.MANAGE_APPLICATIONS="MANAGE_APPLICATIONS",n.ACCESS_API_KEYS="ACCESS_API_KEYS",n.CREATE_BILLING_SUBSCRIPTION="CREATE_BILLING_SUBSCRIPTION",n.MANAGE_BILLING_SUBSCRIPTION="MANAGE_BILLING_SUBSCRIPTION",n.MANAGE_BILLING_UPCOMING_INVOICE="MANAGE_BILLING_UPCOMING_INVOICE",n.ADD_RESOURCES="ADD_RESOURCES",n.VIEW_TEAM_DISCOVERY_BY_DOMAIN="VIEW_TEAM_DISCOVERY_BY_DOMAIN",n.EDIT_TEAM_DISCOVERY_BY_DOMAIN="EDIT_TEAM_DISCOVERY_BY_DOMAIN",n.VIEW_TEAM_DISCOVERY="VIEW_TEAM_DISCOVERY",n.EDIT_TEAM_DISCOVERY="EDIT_TEAM_DISCOVERY",n.VIEW_RALLY_RESOURCES="VIEW_RALLY_RESOURCES",n.SELECT_ROLE_WHEN_INVITING_NEW_USER_TO_ACCOUNT="SELECT_ROLE_WHEN_INVITING_NEW_USER_TO_ACCOUNT",n.VIEW_PERSONAL_TEMPLATES="VIEW_PERSONAL_TEMPLATES",n.VIEW_TEAM_TEMPLATES="VIEW_TEAM_TEMPLATES",n.CREATE_PERSONAL_TEMPLATES="CREATE_PERSONAL_TEMPLATES",n.CREATE_TEAM_TEMPLATES="CREATE_TEAM_TEMPLATES",n.SHARE_BOARD_FOR_SLACK_CONTACTS="SHARE_BOARD_FOR_SLACK_CONTACTS",n.SHARE_BOARD_FOR_GOOGLE_CONTACTS="SHARE_BOARD_FOR_GOOGLE_CONTACTS"}(r||(r={})),function(n){n.ORGANIZATION_INTERNAL_ADMIN="ORGANIZATION_INTERNAL_ADMIN",n.ORGANIZATION_INTERNAL_USER="ORGANIZATION_INTERNAL_USER",n.ORGANIZATION_EXTERNAL_USER="ORGANIZATION_EXTERNAL_USER",n.ORGANIZATION_TEAM_GUEST_USER="ORGANIZATION_TEAM_GUEST_USER"}(_||(_={}));var o,u=t(5014);!function(n){n.ALREADY_INSTALLED_CANNOT_REINSTALL="ALREADY_INSTALLED_CANNOT_REINSTALL",n.RESTRICTED_IN_ORG="RESTRICTED_IN_ORG",n.CAN_NOT_INSTALL_CAUSE_NOT_ADMIN="CAN_NOT_INSTALL_CAUSE_NOT_ADMIN",n.NOT_AVAILABLE_IN_CURRENT_PLAN="NOT_AVAILABLE_IN_CURRENT_PLAN",n.INSTALLABLE="INSTALLABLE",n.ALREADY_INSTALLED_CAN_REINSTALL="ALREADY_INSTALLED_CAN_REINSTALL",n.INSTALLED_NOT_AUTHORIZED="INSTALLED_NOT_AUTHORIZED",n.PLUGIN_RESTRICTED_IN_ORG_ALREADY_REQUESTED="PLUGIN_RESTRICTED_IN_ORG_ALREADY_REQUESTED",n.AUTHORIZATION_NOT_REQUIRED="AUTHORIZATION_NOT_REQUIRED"}(o||(o={}));var i=[o.INSTALLABLE,o.INSTALLED_NOT_AUTHORIZED,o.ALREADY_INSTALLED_CAN_REINSTALL,o.AUTHORIZATION_NOT_REQUIRED];function a(n,e,t){var _=n.organization,u=e.id,i=E(n,u),a=s(n,u),c=function(n){var e=n.permissions;if(A(n.organization))return!0;return(e||[]).includes(r.SETUP_PLUGINS)}(n),p=function(n,e){if(n.ignoreWhitelist)return!1;if(!e||!e.applicationsNeedApproval)return!1;return!e.approvedApplications.some((function(e){return e.id===n.id}))}(e,_),d=function(n,e){return e.availableAccountTypes.includes(n.type)}(n,e),T=function(n,e){if(!n.organization)return!1;var t=n.id;return Boolean(e[t])}(n,t),R=A(_);return a?c&&d?o.ALREADY_INSTALLED_CAN_REINSTALL:o.ALREADY_INSTALLED_CANNOT_REINSTALL:c||i?p&&!R?T?o.PLUGIN_RESTRICTED_IN_ORG_ALREADY_REQUESTED:o.RESTRICTED_IN_ORG:d?i&&!a?o.INSTALLED_NOT_AUTHORIZED:I(e)?o.INSTALLABLE:o.AUTHORIZATION_NOT_REQUIRED:o.NOT_AVAILABLE_IN_CURRENT_PLAN:o.CAN_NOT_INSTALL_CAUSE_NOT_ADMIN}function c(n,e){return n.installedApplications.find((function(n){var t=n.application;return t.id===e||t.appKey===e}))}function E(n,e){return Boolean(c(n,e))}var I=function(n){return!1!==n.authorizationRequired};function s(n,e){var t=c(n,e),r=null===t||void 0===t?void 0:t.currentUserAuthorization,_=n.permissions,o=(null===r||void 0===r?void 0:r.scopes)||[];if(!t||!_||0===_.length)return!1;if(!I(t.application))return!0;var u=t.application.scopes;return 0===u.length||0!==o.length&&u.map((function(n){return n.key})).every((function(n){return o.includes(n)}))}function A(n){var e;return(null===n||void 0===n||null===(e=n.currentUserPermission)||void 0===e?void 0:e.role)===_.ORGANIZATION_INTERNAL_ADMIN}function p(n){return!!n&&i.includes(n)}function d(n){var e=u.Q.DEV_TEAM;return n.availableAccountTypes.includes(e)}function T(n){return n.type===u.Q.DEV_TEAM}},3944:function(n,e,t){t.d(e,{G7:function(){return I},NS:function(){return A},YT:function(){return s},bw:function(){return a},j3:function(){return u},m1:function(){return E}});var r=t(828),_=t(1163);function o(n){try{return new URL(n),!0}catch(e){return!1}}function u(n){return function(n){try{return new URL(n,"http://example.com"),!0}catch(e){return!1}}(n)&&!o(n)}var i=/^\/marketplace(\/|$|#|\?)/;function a(n){return i.test(n)}var c=/^\/(oauth\/authorize|app-install)(\/)?($|#|\?)/;function E(n){return c.test(n)}RegExp("^".concat("(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}","$"));function I(n,e){var t=o(n),_=t?new URL(n):new URL(n,"http://localhost");return Object.entries(e).forEach((function(n){var e=(0,r.Z)(n,2),t=e[0],o=e[1];o?_.searchParams.set(t,o):_.searchParams.delete(t)})),_.searchParams.sort(),t?_.href:_.pathname+_.search}function s(){var n=(0,_.useRouter)().query;return function(e){return a(e)||E(e)?I(e,{account_id:"string"===typeof n.account_id?n.account_id:void 0,iframe:"1"===n.iframe?"1":void 0,utm_source:"string"===typeof n.utm_source?n.utm_source:void 0,features_on:"string"===typeof n.features_on?n.features_on:void 0}):e}}function A(){var n=new URL(window.location.href),e="".concat(n.origin,"/login"),t=new URLSearchParams({authSuccessRedirect:n.href});return"".concat(e,"?").concat(t)}}}]);