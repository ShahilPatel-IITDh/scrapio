!function(){var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.p="/FP/Assets/Cache/output/",e.p=window.AssetManager?window.AssetManager.R_JS("/FP/Assets/Cache/output/"):"",function(){"use strict";function t(){var t=null;return"undefined"!=typeof window&&"Window"===window.constructor.name?t=window:void 0!==e.g&&(t=e.g),t}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e?e:t()}var n;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i="error",c="info",a="warning",u="debug",l=u,f="message",s="logLevel",p="timestamp",y="error",b="eventType",v="timeSinceOrigin",h="includeContext",g=(o(n={},u,0),o(n,c,1),o(n,a,3),o(n,i,4),o(n,"critical",5),n),d="message",m="logObject",O="timing",w="error";function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var _=0;function E(e){return"__private_"+_+++"_"+e}var T=E("minimumLogLevel"),k=function(){function e(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,T,{writable:!0,value:void 0}),P(this,T)[T]=null!==(r=g[t])&&void 0!==r?r:g.debug}var t,r,n;return t=e,(r=[{key:"logMessage",value:function(e){this.isAcceptedLogLevel(e)&&this.logMessageImpl(e)}},{key:"logMessageImpl",value:function(e){}},{key:"logObject",value:function(e){this.isAcceptedLogLevel(e)&&this.logObjectImpl(e)}},{key:"logObjectImpl",value:function(e){}},{key:"logTiming",value:function(e){this.isAcceptedLogLevel(e)&&this.logTimingImpl(e)}},{key:"logTimingImpl",value:function(e){}},{key:"logError",value:function(e){this.isAcceptedLogLevel(e)&&this.logErrorImpl(e)}},{key:"logErrorImpl",value:function(e){}},{key:"isAcceptedLogLevel",value:function(e){var t=e.logLevel;return g[t]>=P(this,T)[T]}}])&&j(t.prototype,r),n&&j(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(){var e=r();return e&&e.performance&&e.performance.now?e.performance.now():0}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var C=0;function I(e){return"__private_"+C+++"_"+e}var x=I("startTimingsMap"),M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,x,{writable:!0,value:{}})}var t,r,n;return t=e,r=[{key:"getTimingLogObject",value:function(e,t){var r,n,o,i,c,a;t=null!==(r=t)&&void 0!==r?r:{};var u=Date.now(),l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach((function(t){L(e,t,r[t])}))}return e}({},t),f=null!==(n=null!==(o=null!==(i=l.startTime)&&void 0!==i?i:R(this,x)[x][e])&&void 0!==o?o:l.timestamp)&&void 0!==n?n:u,s=null!==(c=null!==(a=l.endTime)&&void 0!==a?a:t.timestamp)&&void 0!==c?c:u;return f===s||l.duration||(l.startTime=f,l.duration=s-f),l.timeSinceOrigin||(l.timeSinceOrigin=S()),l.timestamp||(l.timestamp=f),R(this,x)[x][e]=f,l}}],r&&A(t.prototype,r),n&&A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),B=["error"];function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function V(e){var t,r=e.error,n=N(e,B);return r?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach((function(t){F(e,t,r[t])}))}return e}({},n,(F(t={},"errorMessage",r.message),F(t,"errorStack",r.stack),t)):n}var D=["includeContext"];function H(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach((function(t){U(e,t,r[t])}))}return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var W=0;function X(e){return"__private_"+W+++"_"+e}var z=X("loggingAgents"),Q=X("maxLogLimit"),$=X("logCount"),Y=X("contextIdentifiers"),Z=X("logTimingMeasurements"),ee=X("setLogObjectDefaults"),te=X("addContextToLogObject"),re=X("isLogRelevant"),ne=X("isValidMessage"),oe=X("isValidLogObject"),ie=X("isValidTimingKey"),ce=X("isValidError"),ae=function(){function e(t,r){var n,o=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};K(this,e),Object.defineProperty(this,z,{writable:!0,value:void 0}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,$,{writable:!0,value:0}),Object.defineProperty(this,Y,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,ee,{writable:!0,value:function(e,t){var r;return q({},(U(r={},p,Date.now()),U(r,v,S()),U(r,s,l),r),t,e)}}),Object.defineProperty(this,te,{writable:!0,value:function(e){var t=e.includeContext,r=H(e,D);return!0===t?q({},J(o,Y)[Y],r):r}}),Object.defineProperty(this,re,{writable:!0,value:function(e){return J(o,$)[$]++<J(o,Q)[Q]||e.logLevel===i}}),Object.defineProperty(this,ne,{writable:!0,value:function(e){return e&&isNaN(e)}}),Object.defineProperty(this,oe,{writable:!0,value:function(e){return e&&Object.keys(e).length}}),Object.defineProperty(this,ie,{writable:!0,value:function(e){return J(o,ne)[ne](e)}}),Object.defineProperty(this,ce,{writable:!0,value:function(e,t,r){return t||J(o,ne)[ne](e)||J(o,oe)[oe](r)}}),J(this,Z)[Z]=new M,J(this,z)[z]=t,J(this,Y)[Y]=c,J(this,Q)[Q]=null!==(n=null==r?void 0:r.maxLogLimit)&&void 0!==n?n:10}var t,r,n;return t=e,r=[{key:"logMessage",value:function(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(J(this,ne)[ne](e)){var i=J(this,ee)[ee]((U(t={},f,e),U(t,s,n),U(t,h,o),U(t,b,d),t));J(this,re)[re](i)&&J(this,z)[z].forEach((function(e){return e.logMessage(J(r,te)[te](i))}))}}},{key:"logObject",value:function(e){var t=this;if(J(this,oe)[oe](e)){var r=V(J(this,ee)[ee](e,U({},b,m)));J(this,re)[re](r)&&J(this,z)[z].forEach((function(e){return e.logObject(J(t,te)[te](r))}))}}},{key:"logTiming",value:function(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(J(this,ie)[ie](e)){var o=(U(t={},b,O),U(t,f,e),t);n=V(J(this,Z)[Z].getTimingLogObject(e,J(this,ee)[ee](n,o))),J(this,re)[re](n)&&J(this,z)[z].forEach((function(e){return e.logTiming(J(r,te)[te](n))}))}}},{key:"logError",value:function(e,t,r){var n,o=this;if(J(this,ce)[ce](e,t,r)){var c=(U(n={},b,w),U(n,s,i),n);t&&(c.error=t),e&&(c.message=e),r=J(this,ee)[ee](c,r),J(this,re)[re](r)&&J(this,z)[z].forEach((function(e){return e.logError(J(o,te)[te](r))}))}}}],r&&G(t.prototype,r),n&&G(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}var le=["message","logLevel"];function fe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ye(e,t){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ye(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ge(e);if(t){var o=ge(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ve(this,r)}}function ve(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}function de(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var me=0;function Oe(e){return"__private_"+me+++"_"+e}var we=Oe("logFunctions"),je=Oe("defaultLogFunction"),Pe=Oe("performanceMeasure"),_e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}(f,e);var t,n,o,l=be(f);function f(e){var t,n,o,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s=l.call(this),Object.defineProperty(he(s),we,{writable:!0,value:void 0}),Object.defineProperty(he(s),je,{writable:!0,value:void 0}),Object.defineProperty(he(s),Pe,{writable:!0,value:void 0}),s.logObjectImpl=s.logMessageImpl,s.logErrorImpl=s.logMessageImpl,de(he(s),we)[we]=(se(t={},u,e.debug),se(t,c,e.info),se(t,a,e.warn),se(t,i,e.error),t),de(he(s),je)[je]=e.log,de(he(s),Pe)[Pe]=null===(n=r())||void 0===n||null===(o=n.performance)||void 0===o?void 0:o.measure,s}return t=f,(n=[{key:"logMessageImpl",value:function(e){var t,r=e.message,n=e.logLevel,o=fe(e,le);(null!==(t=de(this,we)[we][n])&&void 0!==t?t:de(this,je)[je])(r,o)}},{key:"logTimingImpl",value:function(e){if(de(this,Pe)[Pe]){var t,r,n=e.name,o=e.message,i=e.startTime,c=e.timestamp,a=e.endTime,u=null!==(t=null!=i?i:c)&&void 0!==t?t:a,l=null!=a?a:c;l&&u!==l&&(r=l);var f=null!=n?n:o;de(this,Pe)[Pe](f,u,r)}this.logMessageImpl(e)}},{key:"isAcceptedLogLevel",value:function(){return!0}}])&&pe(t.prototype,n),o&&pe(t,o),Object.defineProperty(t,"prototype",{writable:!1}),f}(k),Ee="POST",Te="timer",ke="timeWithoutActivity",Se="maxItems",Le="explicit";function Ae(e){return function(e){if(Array.isArray(e))return Re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Me=0;function Be(e){return"__private_"+Me+++"_"+e}var Fe=Be("buffer"),Ne=Be("dontFlushBefore"),Ve=Be("timerId"),De=Be("flushIterationCount"),He=Be("updateForFlush"),qe=Be("flushAfterQuiteTime"),Ue=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Ce(this,e),Object.defineProperty(this,Fe,{writable:!0,value:[]}),Object.defineProperty(this,Ne,{writable:!0,value:null}),Object.defineProperty(this,Ve,{writable:!0,value:null}),Object.defineProperty(this,De,{writable:!0,value:0}),this.flush=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;xe(r,Ve)[Ve]&&clearTimeout(xe(r,Ve)[Ve]),xe(r,Ve)[Ve]=null,xe(r,Fe)[Fe].length&&r.flushCallback(Ae(xe(r,Fe)[Fe]),e,++xe(r,De)[De]),xe(r,Fe)[Fe].length=0},Object.defineProperty(this,He,{writable:!0,value:function(){r.quiteTimeBeforeSend&&(xe(r,Ne)[Ne]=Date.now()+r.quiteTimeBeforeSend),r.maxItems&&xe(r,Fe)[Fe].length>=r.maxItems?r.flush(Se):xe(r,Ve)[Ve]||!r.quiteTimeBeforeSend&&!r.bufferingTime||(xe(r,Ve)[Ve]=setTimeout(xe(r,qe)[qe],r.quiteTimeBeforeSend||r.bufferingTime))}}),Object.defineProperty(this,qe,{writable:!0,value:function(){var e=Date.now();xe(r,Ne)[Ne]&&xe(r,Ne)[Ne]>e?xe(r,Ve)[Ve]=setTimeout(xe(r,qe)[qe],xe(r,Ne)[Ne]-e):r.flush(r.quiteTimeBeforeSend?ke:Te)}}),this.flushCallback=t,this.bufferingTime=n,this.maxItems=o,this.quiteTimeBeforeSend=i,xe(this,De)[De]=0,this.registerShutdownListener()}var t,r,n;return t=e,(r=[{key:"add",value:function(e){xe(this,Fe)[Fe].push(e),xe(this,He)[He]()}},{key:"addMultiple",value:function(e){var t;(t=xe(this,Fe)[Fe]).push.apply(t,Ae(e)),xe(this,He)[He]()}},{key:"registerShutdownListener",value:function(){}}])&&Ie(t.prototype,r),n&&Ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ge=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=[]}var t,r,n;return t=e,(r=[{key:"addEvent",value:function(e,t,r){var n=this;if(e&&e.addEventListener&&t&&"function"==typeof r)return this.performPushAndAdd(e,t,r),function(){n.removeEvent(e,t,r)}}},{key:"removeEvent",value:function(e,t,r){e&&e.removeEventListener&&t&&"function"==typeof r&&(e.removeEventListener(t,r),this.container=this.container.filter((function(n){return n.element!==e&&n.eventName!==t&&n.eventFn!==r})))}},{key:"addMultipleEvents",value:function(e,t,r){if(e&&e.addEventListener&&t&&"function"==typeof r)for(var n=0,o=t.length;n<o;n++){var i=t[n];this.performPushAndAdd(e,i,r)}}},{key:"performPushAndAdd",value:function(e,t,r){this.container.push({element:e,eventName:t,eventFn:r}),e.addEventListener(t,r)}},{key:"destroy",value:function(){for(var e=0,t=this.container.length;e<t;e++)this.container[e].element.removeEventListener(this.container[e].eventName,this.container[e].eventFn);this.container=[]}}])&&Ke(t.prototype,r),n&&Ke(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ze(e,t){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ze(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ye(e);if(t){var o=Ye(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $e(this,r)}}function $e(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ye(e){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ye(e)}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ze(e,t)}(c,e);var t,n,o,i=Qe(c);function c(){return We(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"registerShutdownListener",value:function(){var e=this;(new Ge).addEvent(r(),"beforeunload",(function(){return e.flush("unload")}))}}])&&Xe(t.prototype,n),o&&Xe(t,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ue),et={"<":"&lt;",">":"&gt;"},tt=/[<>]/g;function rt(e){return et[e]}function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function it(e,t){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},it(e,t)}function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=lt(e);if(t){var o=lt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return at(this,r)}}function at(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ut(e)}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lt(e)}function ft(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var st=0;function pt(e){return"__private_"+st+++"_"+e}var yt=pt("reportURL"),bt=pt("browserBufferingAggregator"),vt=pt("onBufferFlush"),ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}(i,e);var t,r,n,o=ct(i);function i(e,t){var r,n=t.reportURL,c=t.bufferingTime,a=t.maxBufferItems;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,e),Object.defineProperty(ut(r),yt,{writable:!0,value:void 0}),Object.defineProperty(ut(r),bt,{writable:!0,value:void 0}),r.logObjectImpl=r.logMessageImpl,r.logTimingImpl=r.logMessageImpl,r.logErrorImpl=function(e){return r.logMessageImpl(V(e))},Object.defineProperty(ut(r),vt,{writable:!0,value:function(e,t,n){var o,i=new XMLHttpRequest;i.open(Ee,ft(ut(r),yt)[yt]),i.setRequestHeader("Content-Type","application/json"),i.send((o=JSON.stringify({logs:e,flushReason:null!=t?t:"No JS flush reason",flushIterationCount:n}))&&"string"==typeof o?o.replace(tt,rt):o)}}),ft(ut(r),yt)[yt]=n,ft(ut(r),bt)[bt]=new Ze(ft(ut(r),vt)[vt],c,a),r}return t=i,(r=[{key:"logMessageImpl",value:function(e){ft(this,bt)[bt].add(e)}}])&&ot(t.prototype,r),n&&ot(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(k);var gt=["exposed"];function dt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach((function(t){Ot(e,t,r[t])}))}return e}function Ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wt(){var e,t,n,o,i,c,a,u=r();if(u&&!u.clientLogger){var l=u.clientLoggerConfiguration||{};u.clientLogger=(e=mt({},l,{consoleLoggerConfig:jt(l),endpointLoggerConfig:Pt(l)}),t=e.maxLogLimit,n=e.minimumLogLevel,o=e.contextIdentifiers,i=e.consoleLoggerConfig,c=e.endpointLoggerConfig,a=[],i&&a.push(new _e(i.console)),c&&a.push(new ht(n,c)),new ae(a,{minimumLogLevel:n,maxLogLimit:t},o))}return null==u?void 0:u.clientLogger}function jt(e){var t,n,o=null===(t=r())||void 0===t?void 0:t.console;return null!=e&&null!==(n=e.consoleLoggerConfig)&&void 0!==n&&n.exposed&&o?{console:o}:void 0}var Pt=function(e){var t=(null==e?void 0:e.endpointLoggerConfig)||{},r=t.exposed,n=dt(t,gt);return r?mt({reportURL:"/FP/API/ClientLog/client-log.php"},n):void 0};function _t(e){return new Promise((function(t){setTimeout(t,e)}))}function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function Tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kt(e,t){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kt(e,t)}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Rt(e);if(t){var o=Rt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Lt(this,r)}}function Lt(e,t){if(t&&("object"===Et(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return At(e)}function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rt(e){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rt(e)}var Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kt(e,t)}(i,e);var t,r,n,o=St(i);function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(At(r),i),r.message=t,r.statusCode=e||500,r}return t=i,r&&Tt(t.prototype,r),n&&Tt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));var It="score",xt="checkbox";function Mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ft=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.waitForReadyState=function(){return new Promise((function(e){return t.recaptchaObject.ready(e)}))},this.execute=function(e){return new Promise((function(r){return t.recaptchaObject.execute(t.siteKeys[It],{action:e}).then(r)}))},this.retryExecute=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=t.getGrecaptchaCfg();return t.execute(e).then((function(e){if(!e)throw new Error("unable to obtain access token");return e})).catch((function(a){var u;if(r<=1)throw t.clientLogger.logObject((Mt(u={},f,"[Recaptcha][Score] failed to fetch recaptcha token from google:"),Mt(u,"grecaptcha_cfg_before",!!i),Mt(u,"grecaptcha_cfg_after",!!t.getGrecaptchaCfg()),Mt(u,"count",o),Mt(u,y,a),Mt(u,s,c),Mt(u,h,!0),u)),a;return _t(n).then((function(){return t.retryExecute(e,r-1,n,o+1)}))}))},this.clientLogger=wt(),this.initTryCount=0,this.siteKeys=null}var t,n,o;return t=e,n=[{key:"getAccessToken",value:function(e){var t=this;return new Promise((function(r,n){var o;e||(t.clientLogger.logObject((Mt(o={},f,"[Recaptcha] cant get access token for recaptcha without ActionName"),Mt(o,"grecaptcha_exists",!!t.recaptchaObject),Mt(o,"is_enterprise",!!t.isEnterprise),Mt(o,h,!0),o)),n(new Error("getAccessToken is missing mandatory argument actionName"))),r()})).then((function(){return t.retryExecute(e)}))}},{key:"validateUserByAction",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getAccessToken(e).then((function(r){return t.validateAccessToken(r,e)})).then((function(e){return t.validateValidationResponse(e,r)}))}},{key:"render",value:function(e,t){this.recaptchaObject.render(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach((function(t){Mt(e,t,r[t])}))}return e}({},t,{sitekey:this.siteKeys[xt]}))}},{key:"reset",value:function(){this.recaptchaObject.reset()}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),n=t.recaptchaSiteKeys,o=t.grecaptcha,i=t.location;return new Promise((function(t,r){var c;e.siteKeys=n,e.recaptchaObject=null!==(c=null==o?void 0:o.enterprise)&&void 0!==c?c:o,e.isEnterprise=!(null==o||!o.enterprise),e.locationHref=null==i?void 0:i.href,e.recaptchaObject||r(new Error("Missing google recaptcha")),n||r(new Error("Missing site keys on the window")),t()}))}},{key:"validateAccessToken",value:function(e,t){var r,n,o,i,a=this,u=new FormData;return u.append("recaptchaV3Token",e),u.append("recaptchaV3Action",t),u.append("calledFromUrl",this.locationHref),(r={method:Ee,url:"/FP/API/Security/ReCaptchaV3/validate-recaptcha-token.php",body:u},n=r.method,o=r.url,i=r.body,new Promise((function(e,t){var r=new XMLHttpRequest;r.open(n,o),r.onload=function(){this.status>=200&&this.status<300?e(r.response):t(new Ct(this.status,r.statusText))},r.onerror=function(){t(new Ct(this.status,r.statusText))},r.send(i)}))).catch((function(e){var t;throw a.clientLogger.logObject((Mt(t={},f,"[Recaptcha] Error trying to send a score token validation"),Mt(t,y,e),Mt(t,s,c),Mt(t,h,!0),t)),e}))}},{key:"validateValidationResponse",value:function(e,t){var r,n;try{if(e){var o,i=JSON.parse(e);i&&"success"===(null==i?void 0:i.status)&&null!=i&&null!==(o=i.data)&&void 0!==o&&o.is_token_valid||(r=new Error("Recaptcha validation failed"))}else r=new Error("Recaptcha validation missing response")}catch(e){r=e}if(r&&(this.clientLogger.logObject((Mt(n={},f,"[Recaptcha] Failed to validate validation response"),Mt(n,"responseString",e),Mt(n,"is_enterprise",!!this.isEnterprise),Mt(n,h,!0),Mt(n,y,r),n)),t))throw r}},{key:"getGrecaptchaCfg",value:function(){return r().___grecaptcha_cfg}}],o=[{key:"create",value:function(){var t=new e;return t.init().then(t.waitForReadyState).then((function(){return t})).catch((function(e){var r;throw t.clientLogger.logObject((Mt(r={},f,"[Recaptcha] Failed to initialize recaptcha service"),Mt(r,"grecaptcha_exists",!!t.recaptchaObject),Mt(r,"is_enterprise",!!t.isEnterprise),Mt(r,y,e),Mt(r,h,!0),r)),e}))}}],n&&Bt(t.prototype,n),o&&Bt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vt=r();Vt.RecaptchaService=Ft,Vt.ReCaptchaV3Consts={RECAPTCHA_V3_TOKEN_PARAM_NAME:"recaptchaV3Token",RECAPTCHA_V3_ACTION_PARAM_NAME:"recaptchaV3Action",ACTIONS:{RECAPTCHA_V3_ACTION_SIGNUP:"signup",RECAPTCHA_V3_ACTION_LOGIN:"login"},RECAPTCHA_V3_VALIDATE_TOKEN_PATH:"/FP/API/Security/ReCaptchaV3/validate-recaptcha-token.php"},window.onRecaptchaLoaded=function(){var e=Vt.recaptchaV3ActionName;e&&Ft.create().then((function(t){return t.validateUserByAction(e,!1)})).catch((function(t){var r;wt().logObject((Nt(r={},s,a),Nt(r,f,"[Recaptcha] Error on validateUserByAction action: ".concat(e)),Nt(r,y,t),r))}))}}()}();
//# sourceMappingURL=https://www.myheritage.com/FP/Assets/JS/output/sourcemaps/RecaptchaInitiator-f280d46763d2b98604b9241b58003fc7.js.map
