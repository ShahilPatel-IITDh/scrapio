!function(){var e,t,n={969:function(){var e,t;e=function(){var e={},t={};this.setFeatureExperiments=function(t){e=t},this.setFeatureFlags=function(e){t=e},this.isUserInExperiment=function(t){return void 0!==e[t]&&void 0!==e[t].isUserInExperiment&&e[t].isUserInExperiment},this.getExperimentVariantName=function(t){return void 0===e[t]||void 0===e[t].experimentVariantName?"":e[t].experimentVariantName},this.isFeatureEnabled=function(e){return void 0!==t[e]&&void 0!==t[e].isFeatureEnabled&&t[e].isFeatureEnabled},this.logExperimentActivity=function(e,t,n,r,i){var o=getAjaxObject();if(r="number"==typeof r?r:1,void 0!==e&&void 0!==t){i&&(o.onreadystatechange=function(){o.readyState>=2&&(o.onreadystatechange=null,i())},n=!0),void 0===n&&(n=!0);var a="";a+="experimentName="+encodeURI(e),a+="&activityName="+encodeURI(t),a+="&action=logExperimentActivity",a+="&countValue="+r,o.open("GET","/FP/feature-exposure.php?"+a,n),o.send(null)}},this.createOnRequestsPassedCallback=function(e,t){var n=0;return function(){n++,Number.isInteger(e)&&n>=e&&t&&t()}},this.getConfigValue=function(e){return!(!t.hasOwnProperty(e)||!t[e].hasOwnProperty("configValue"))&&t[e].configValue},this.getJsonValue=function(e){var t=this.getConfigValue(e)||null,n=null;try{n=JSON.parse(t)}catch(e){n=null}return n}},(t=window.features||{}).exposureService=new e,window.FeatureExposureService=e,window.features=t},931:function(){!function(){var e=window.ASSET_DOMAIN_ALIAS_GENERAL||"cf.mhcache.com",t={R_IMG:function(e){return this._R_Asset(e)},R_CSS:function(e){return this._R_Asset(e)},R_JS:function(e){return this._R_Asset(e)},spacer:function(){return this.R_IMG("/FP/Images/spacer.gif")},_R_Asset:function(t){return""==t||-1!=t.indexOf(":")||/^\/\//.test(t)?t:("/"==t.charAt(0)?n=t:(n=this._getRequestUriBaseDir()+"/","./"==t.substr(0,2)?n+=t.substr(2):n+=t),"//"+e+n);var n},getJqueryPath:function(){return t._R_Asset("/FP/Assets/Cache/output/JqueryLibBundled_v1MV5a9f63bc768af9041adc2a5154c94153.js")},getJqueryUiPath:function(){return t._R_Asset("/FP/Assets/Cache/output/JqueryUiBundled_v1MV78df8c1bdd79b0ec07e2f79a839594d8.js")},getJqueryPluginsPath:function(){return t._R_Asset("/FP/Assets/Cache/output/JqueryPluginsBundled_v1MV0eb7008787dae76196075203608d56da.js")},_requestUriBaseDir:null,_getRequestUriBaseDir:function(){return null===this._requestUriBaseDir&&(this._requestUriBaseDir=document.location.pathname.substring(0,document.location.pathname.lastIndexOf("/"))),this._requestUriBaseDir}},n=-1!=navigator.appVersion.toLowerCase().indexOf("win"),r=!!navigator.userAgent.match(/(MSIE|Edge)/)||!!navigator.userAgent.match(/Trident.*rv[ :]*11\./),o=-1!=navigator.userAgent.indexOf("Firefox"),a=-1!=navigator.userAgent.indexOf("Opera"),s=-1!=navigator.userAgent.indexOf("WebKit"),c=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/i),u=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),l=o?"Firefox":a?"Opera":s?"Chrome\\Safari":c?"iOS":"Unknown";!document.getElementById&&document.all&&(document.getElementById=function(e){return document.all[e]});function d(e){var t=document.cookie.indexOf(e+"="),n=t+e.length+1;if(!t&&e!=document.cookie.substring(0,e.length))return null;if(-1==t)return null;var r=document.cookie.indexOf(";",n);return-1==r&&(r=document.cookie.length),unescape(document.cookie.substring(n,r))}function f(){var e=document.location.host.toLowerCase(),t=e.lastIndexOf("myheritage.");return-1==t?"":"."+e.substr(t)}function p(){var e=document;if(e.images){e.MM_p||(e.MM_p=[]);var n,r=e.MM_p.length,i=p.arguments;for(n=0;n<i.length;n++)0!=i[n].indexOf("#")&&(e.MM_p[r]=new Image,e.MM_p[r++].src=t.R_IMG(i[n]))}}function v(){var e;if(!e&&"undefined"!=typeof XMLHttpRequest)try{e=new XMLHttpRequest}catch(t){e=!1}return e}var h=null;function g(){if(null==h){h=[];for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){(r=e[t].src)&&(h[r]=!0)}var n=document.getElementsByTagName("link");for(t=0;t<n.length;t++){var r=n[t].src;"stylesheet"==n[t].rel&&r&&(h[r]=!0)}}}function m(n){var r=[],i=0;function o(e){void 0!==h[e]&&0!=h[e]||(h[e]=!0,a())}function a(){if(i<r.length){var e=document.getElementsByTagName("HEAD")[0],t=document.createElement("script"),a=r[i++];t.type="text/javascript",t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||o(a)},t.onload=function(){o(a)},t.src=a,e.appendChild(t)}else n&&n()}g(),this.addFullPathScript=function(e){h[e]||(r[r.length]=e)},this.addScript=function(n,r,i,o){var a="/FP/Assets/Cache/"+r+"/"+i.substring(0,i.lastIndexOf("."))+("_v"+o)+".js";n=="http://"+e?this.addFullPathScript(t.R_JS(a)):this.addFullPathScript(n+a)},this.startDownload=function(){a()}}var y=new Array;function w(e,t){e.query.value=e.query.value.replace(/^\s*|\s*$/g,""),b(e),e.action.value="search";var n=document.forms.search.searchIn;if(null!=n&&"results"==n.options[n.selectedIndex].value){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name","psn"),r.setAttribute("value",t),e.appendChild(r)}disableButton("goSearcButton"),e.submit()}function b(e){var t=document.getElementById("advanced");null!=t&&(e.aSearch.value=t.className)}function C(e){var t=document.getElementById("conversionTrackingID");t?t.setAttribute("src",e):((t=document.createElement("iframe")).setAttribute("style","display:none;"),t.setAttribute("id","conversionTrackingID"),t.setAttribute("width","0"),t.setAttribute("height","0"),t.setAttribute("src",e),document.body.appendChild(t))}function k(e){return e.replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1")}function E(e){return"undefined"!=typeof jQuery&&!!jQuery("#"+k(e)).hasClass("ui-button")}function O(e){for(var t="",n=0;n<e.length;n++)n%2==0&&(t+=e.charAt(n));return t}!function(e){"use strict";(window.mhInitialize=window.mhInitialize||{}).addEvent=function(e,t,n){return!!e&&(e.addEventListener?(e.addEventListener(t,n,!0),!0):!!e.attachEvent&&e.attachEvent("on"+t,n))}}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),window.initQButton=function(e,n,r,i,o,a,s){var c=jQuery(e),u={disabled:!!o.disabled},l="";1==r&&(l="qButton-old"),c.button(u).data("color",i).addClass("qButton-"+n+" qButton-"+i).css("display","flex").prepend('<span class="qButton-left '+l+'"></span>');var d=c.find(".ui-button-text");d.addClass("qButton-right "+l),s&&d.attr("data-automations",s),o.minWidth&&d.css("min-width",o.minWidth+"px"),o.leftIconClass&&c.find(".qButton-left").append('<img class="'+o.leftIconClass+'" src="'+t.spacer()+'">').addClass("qButton-icon-container"),o.tooltip&&(c.balloon?c.find(".qButton-left,.qButton-right").balloon({delay:600,hideDuration:0,minLifetime:500,position:"bottom",contents:o.tooltip}):c.attr("title",o.tooltip)),c.click((function(e){c.hasClass("ui-state-disabled")?e.preventDefault():(o.disableOnClick&&(null==a?_.defer((function(){c.button("disable")})):c.button("disable")),null!=a&&(e.preventDefault(),a()))}))},window.fillComboBox=function(e,t,n){var r=document.getElementById(e);if(null!=r){var i,o=t.length;for(i=0;i<o;i++){var a=t[i],s=document.createElement("option");try{r.add(s,null)}catch(e){r.add(s)}s.value=a[0],s.text=a[1],i==n&&(s.selected=!0)}}},window.orangeButtonOver=function(e){var t=document.getElementById(e+"Tx");t&&(t.style.color="#7C7D7E")},window.orangeButtonOut=function(e,t){if(""!=t&&void 0!==t){var n=document.getElementById(e+"Filler");n&&(n.style.backgroundImage="url('/FP/Company/"+imageDir+"/buttons/"+t+"_filler.gif')");var r=document.getElementById(e+"Left");r&&(r.style.backgroundImage="url('/FP/Company/"+imageDir+"/buttons/"+t+"_left.gif')");var i=document.getElementById(e+"Right");i&&(i.src="/FP/Company/"+imageDir+"/buttons/"+t+"_right.gif");var o=document.getElementById(e+"Tx");o&&(o.style.color="#2C506A")}},window.orangeButtonDown=function(e,t){if(""!=t&&void 0!==t){var n=document.getElementById(e+"Filler");n&&(n.style.backgroundImage="url(/FP/Company/"+imageDir+"/buttons/"+t+"_filler_over.gif)");var r=document.getElementById(e+"Left");r&&(r.style.backgroundImage="url(/FP/Company/"+imageDir+"/buttons/"+t+"_left_over.gif)");var i=document.getElementById(e+"Right");i&&(i.src="/FP/Company/"+imageDir+"/buttons/"+t+"_right_over.gif");var o=document.getElementById(e+"Tx");o&&(o.style.color="#7C7D7E")}},window.orangeButtonUp=function(e,t){if(""!=t&&void 0!==t){var n=document.getElementById(e+"Filler");n&&(n.style.backgroundImage="url('/FP/Company/"+imageDir+"/buttons/"+t+"_filler.gif')");var r=document.getElementById(e+"Left");r&&(r.style.backgroundImage="url('/FP/Company/"+imageDir+"/buttons/"+t+"_left.gif')");var i=document.getElementById(e+"Right");i&&(i.src="/FP/Company/"+imageDir+"/buttons/"+t+"_right.gif");var o=document.getElementById(e+"Tx");o&&(o.style.color="#2C506A")}},window.getCookie=d,window.setCookie=function(e,t,n){var r;if(-1!=n){var i=new Date;n?i.setTime(n):i.setTime(i.getTime()+31536e6),r=i.toGMTString()}var o=f(),a=e+"="+escape(t);r&&(a+=";expires="+r),a+=";path=/"+(""!=o?";domain="+o:""),document.cookie=a},window.deleteCookie=function(e){if(d(e)){var t=f();document.cookie=e+"=;path=/; expires=Thu, 01-Jan-70 00:00:01 GMT"+(""!=t?";domain="+t:"")}},window.BtnOrange1_wArrow_PreloadImages=function(){p(imageDir,imageDir,imageDir,imageDir,imageDir,imageDir)},window.BtnOrange1_wDown=function(e){e.style.backgroundImage="url(/FP/Company/"+imageDir+"/wizard/buttons/orange1/C_d.gif)",e.getElementsByTagName("TD")[0].style.backgroundImage="url(/FP/Company/"+imageDir+"/wizard/buttons/orange1/R_d.gif)",e.getElementsByTagName("TABLE")[0].style.backgroundImage="url(/FP/Company/"+imageDir+"/wizard/buttons/orange1/L_d.gif)"},window.BtnOrange1_wUp=function(e){e.style.backgroundImage&&-1==e.style.backgroundImage.indexOf("C.gif")&&(e.style.backgroundImage="url(/FP/Company/"+imageDir+"/wizard/buttons/orange1/C.gif)",e.getElementsByTagName("TD")[0].style.backgroundImage="url(/FP/Company/"+imageDir+"/wizard/buttons/orange1/R.gif)",e.getElementsByTagName("TABLE")[0].style.backgroundImage="url(/FP/Company/"+imageDir+"/wizard/buttons/orange1/L.gif)")},window.BtnOrange6_wArrow_PreloadImages=function(){p(imageDir,imageDir,imageDir,imageDir,imageDir,imageDir)},window.BtnWizOrange1_wArrowL_PreloadImages=function(){p(imageDir,imageDir,imageDir,imageDir,imageDir,imageDir)},window.BtnWizOrange1_wArrowR_PreloadImages=function(){p(imageDir,imageDir,imageDir,imageDir,imageDir,imageDir)},window.BtnWizOrange1_wArrowL_Down=function(e){e.style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/C_d.gif)",e.getElementsByTagName("TD")[0].style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/R_d.gif)",e.getElementsByTagName("TABLE")[0].style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/Larrow_d.gif)"},window.BtnWizOrange1_wArrowL_Up=function(e){e.style.backgroundImage&&-1==e.style.backgroundImage.indexOf("C.gif")&&(e.style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/C.gif)",e.getElementsByTagName("TD")[0].style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/R.gif)",e.getElementsByTagName("TABLE")[0].style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/Larrow.gif)")},window.BtnWizOrange1_wArrowR_Down=function(e){e.style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/C_d.gif)",e.getElementsByTagName("TD")[0].style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/Rarrow_d.gif)",e.getElementsByTagName("TABLE")[0].style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/L_d.gif)"},window.BtnWizOrange1_wArrowR_Up=function(e){e.style.backgroundImage&&-1==e.style.backgroundImage.indexOf("C.gif")&&(e.style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/C.gif)",e.getElementsByTagName("TD")[0].style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/Rarrow.gif)",e.getElementsByTagName("TABLE")[0].style.backgroundImage="url("+imageDir+"/wizard/buttons/orange1/L.gif)")},window.BtnWizOrange1_TextOver=function(e){e.style.color="#7C7D7E"},window.BtnWizOrange1_TextRegular=function(e){e.style.color="#224863"},window.getAjaxObject=v,window.sendAjaxRequest=function(e,n,r,i,o,a,s,c,u,l,d){g();var f=null;"undefined"!=l&&null!=l||(l="text"),"undefined"!=s&&null!=s&&""!=s||(s=[]),s=Array.isArray(s)?s:[s],void 0!==u&&null!=a||(u=!1),void 0!==d&&null!=d||(d=!0),""!=i&&function(e,n){null!=n&&""!=n||(n='<IMG SRC="'+t.R_IMG("/FP/Icons/AjaxIcons/loading.gif")+'">'),e.innerHTML=n}(f=document.getElementById(i),c),"GET"!=o&&"POST"!=o&&(o="GET"),"GET"==o?(""!=r?n.indexOf("?")>-1?e.open("GET",n+"&"+r,d):e.open("GET",n+"?"+r,d):e.open("GET",n,d),paramsToSend=null):(e.open("POST",n,d),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),paramsToSend=r),e.onreadystatechange=function(){if(4==e.readyState&&(ajaxResponse=e.responseText,""!=i&&(f.innerHTML=ajaxResponse),u&&evaluateScript(ajaxResponse),"function"==typeof a))switch(l){case"text":a.apply(null,[i,escape(ajaxResponse)].concat(s));break;case"json":a(JSON.parse(ajaxResponse));break;default:a(ajaxResponse)}},e.send(paramsToSend)},window.LazyScriptDownloader=m,window.LazyCssDownloader=function(){var n=[],r=0;g(),this.addFullPathCss=function(e){h[e]||(n[n.length]=e,h[e]=!0)},this.addCss=function(n,r,i,c){var u="IE";o||s?u="MZ":a&&(u="OP");var l="/FP/Assets/Cache/"+r+"/"+i.substring(0,i.lastIndexOf("."))+("_d"+languageDirection)+("_b"+u)+("_v"+c)+".css";n=="http://"+e?this.addFullPathCss(t.R_CSS(l)):this.addFullPathCss(n+l)},this.startDownload=function(){!function(){for(;r<n.length;){var e=document.getElementsByTagName("HEAD")[0],t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.media="screen",t.href=n[r++],e.appendChild(t)}}()}},window.writeWelcomeWizardWatermark=function(e,t,n,r,i){var o=v(),a="s="+e+"&welcomeStep="+t;void 0!==n&&null!=n&&(a+="&isWebmaster="+n),void 0!==r&&(a+="&activity="+r),void 0!==i&&(a+="&scenario="+encodeURIComponent(i)),o.open("GET","/FP/API/welcome-watermark.php?"+a,!1),o.send(null)},window.preloadImages=function e(){var n=document;if(n.images){n.MM_p=new Array;var r,i=n.MM_p.length,o=e.arguments;for(r=0;r<o.length;r++)0!=o[r].indexOf("#")&&(n.MM_p[i]=new Image,n.MM_p[i++].src=t.R_IMG(o[r]))}},window.preloadIcons=function(e){for(i=0;i<e.length;i++){(new Image).src=t.R_IMG(e[i])}},window.innerTabRoll=function(e,t,n){var r=document.getElementById("innerTabContainer_"+e);r&&(r.className.indexOf("Inactive")>=0?function(e,t,n){var r=document.getElementById("innerTabLeft_"+e),i=document.getElementById("innerTabCenter_"+e),o=document.getElementById("innerTabRight_"+e);r&&i&&o&&(n?(r.className=t+" "+t+"InactiveLeft_Roll",i.className=t+" "+t+"InactiveCenter_Roll",o.className=t+" "+t+"InactiveRight_Roll"):(r.className=t+" "+t+"InactiveLeft",i.className=t+" "+t+"InactiveCenter",o.className=t+" "+t+"InactiveRight"))}(e,t,n):function(e,t,n){var r=document.getElementById("innerTabCenter_"+e);r&&(r.className=n?t+" "+t+"ActiveCenter_Roll":t+" "+t+"ActiveCenter")}(e,t,n))},window.setActiveInnerTab=function(e){if("undefined"!=typeof allInnerTabIDs){var t,n=allInnerTabIDs.length;for(t=0;t<n;t++){var r=document.getElementById("innerTabContainer_"+allInnerTabIDs[t]);if(r){var i=r.innerHTML;allInnerTabIDs[t]==e?(r.className="ActiveInnerTab",i=(i=i.replace(/Inactive/g,"Active")).replace(/_Roll/g,"")):(r.className="InactiveInnerTab",i=(i=i.replace(/Active/g,"Inactive")).replace(/_Roll/g,"")),r.innerHTML=i}}}},window.handleSearchSubmission=function(e,t,n){if(!e)e=window.event;var r;return e.keyCode?r=e.keyCode:e.which&&(r=e.which),13!=r||(w(t,n),!1)},window.submitSearchQuery=w,window.toggleFilter=function(e,t){if(b(e),"results"==document.forms.search.searchIn.options[document.forms.search.searchIn.selectedIndex].value){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","psn"),n.setAttribute("value",t),e.appendChild(n)}e.submit()},window.toggleFilterInSearch=function(e,t){if(b(e),e.action.value="all",e.query.value="",e.scope.value="","results"==document.forms.search.searchIn.options[document.forms.search.searchIn.selectedIndex].value){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","psn"),n.setAttribute("value",t),e.appendChild(n)}e.submit()},window.updateLink=function(e){},window.searchbarLoaded=function(e){var t=document.getElementById("query1");t&&t.focus()},window.updatePageStatistics=function(){if("undefined"!=typeof gTrafficTrackingWrite){var e=new m;e.addFullPathScript(gTrafficTrackingWrite),e.startDownload()}"undefined"!=typeof onLoadGoalConversionURL&&C(onLoadGoalConversionURL)},window.sendMobileEvent=function(e){function t(e){window.location.hash="mobile-"+encodeURIComponent(JSON.stringify(e))}t({}),t(e),t({})},window.reportGoalConversion=function(e){C(replaceParameter(goalTrackingBaseURL,"type",e))},window.innerReportGoalConversion=C,window.hoverButtonSprite2=function(e){var t=document.getElementById(e);if(null!=t){var n=t.getAttribute("type"),r=t.getAttribute("color"),i=document.getElementById(e+"-left"),o=document.getElementById(e+"-middle"),a=document.getElementById(e+"-right");if("true"!=t.getAttribute("isDisabled")){var s="";i.className.indexOf("newButtonSpriteBackground-"+n+"-old")>=0&&(s=" newButtonSpriteBackground-"+n+"-old"),i.className="newButtonSpriteBackground-"+n+s+" newButtonSpriteSideWidth-"+n+" newButtonSpritePosition-"+n+"-"+r+"-hover-left",o.className="newButtonSpriteBackground-"+n+s+" newButtonSpriteMiddle-"+n+"-hover newButtonSpritePosition-"+n+"-"+r+"-hover-middle",a.className="newButtonSpriteBackground-"+n+s+" newButtonSpriteSideWidth-"+n+" newButtonSpritePosition-"+n+"-"+r+"-hover-right"}}},window.restoreButtonSprite2=function(e,t){if(E(e)){var n=jQuery("#"+k(e));if(n.hasClass("ui-state-disabled")&&!t)return;n.button("enable")}else{var r=document.getElementById(e);if(null!=r){var i=r.getAttribute("type"),o=r.getAttribute("color"),a=document.getElementById(e+"-left"),s=document.getElementById(e+"-middle"),c=document.getElementById(e+"-right");if("true"!=r.getAttribute("isDisabled")||t){r.setAttribute("isDisabled","false"),r.className="newButtonSprite";var u="";a.className.indexOf("newButtonSpriteBackground-"+i+"-old")>=0&&(u=" newButtonSpriteBackground-"+i+"-old"),a.className="newButtonSpriteBackground-"+i+u+" newButtonSpriteSideWidth-"+i+" newButtonSpritePosition-"+i+"-"+o+"-normal-left",s.className="newButtonSpriteBackground-"+i+u+" newButtonSpriteMiddle-"+i+"-normal newButtonSpritePosition-"+i+"-"+o+"-normal-middle",c.className="newButtonSpriteBackground-"+i+u+" newButtonSpriteSideWidth-"+i+" newButtonSpritePosition-"+i+"-"+o+"-normal-right";var l=document.getElementById(e+"-caption");l&&(l.style.opacity=1)}}}},window.disableButtonSprite2=function(e){if(E(e))jQuery("#"+e).button("disable");else{var t=document.getElementById(e);if(null!=t){var n=t.getAttribute("type"),r=t.getAttribute("color"),i=document.getElementById(e+"-left"),o=document.getElementById(e+"-middle"),a=document.getElementById(e+"-right");t.setAttribute("isDisabled","true"),t.className="newButtonSpriteDisabled";var s="";i.className.indexOf("newButtonSpriteBackground-"+n+"-old")>=0&&(s=" newButtonSpriteBackground-"+n+"-old"),i.className="newButtonSpriteBackground-"+n+s+" newButtonSpriteSideWidth-"+n+" newButtonSpritePosition-"+n+"-"+r+"-disabled-left",o.className="newButtonSpriteBackground-"+n+s+" newButtonSpriteMiddle-"+n+"-disabled newButtonSpritePosition-"+n+"-"+r+"-disabled-middle",a.className="newButtonSpriteBackground-"+n+s+" newButtonSpriteSideWidth-"+n+" newButtonSpritePosition-"+n+"-"+r+"-disabled-right";var c=document.getElementById(e+"-caption");c&&(c.style.opacity=.5)}}},window.setButtonSprite2Text=function(e,t){if(E(e))jQuery("#"+e+" .ui-button-text").html(t);else{var n=document.getElementById(e+"-caption");n&&(n.innerHTML=t)}},window.iconSpriteButtonRoll=function(e,t,n,r,i){if("true"==document.getElementById(e).getAttribute("isEnabled")){var o=document.getElementById(e+"Left"),a=document.getElementById(e+"Center"),s=document.getElementById(e+"Right"),c=document.getElementById(e+"Icon");o&&a&&s&&c&&(o.className=t,a.className=n,s.className=r,c.className=i)}},window.unscrambleURL=O,window.invokeuScrambleURL=function(e){document.location.href=O(e)},window.ASSET_DOMAIN_ALIAS_GENERAL=e,window.AssetManager=t,window.isWin=n,window.isIE=r,window.isFF=o,window.isOpera=a,window.isIos=c,window.isSafari=u,window.browserName=l,window.selectedPage=-1,window.COOKIE_EXPIRATION_SESSION=-1,window.enabledButtons=y}()},814:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(108);function i(e){var t=null,n=(0,r.J)().document.cookie.match(new RegExp("(^| )".concat(e,"=([^;]+)")));if(n)try{t=decodeURIComponent(n[2])}catch(t){console.error("Invalid cookie value for cookie '".concat(e))}return t}},108:function(e,t,n){"use strict";function r(){var e=null;return"undefined"!=typeof window&&"Window"===window.constructor.name?e=window:void 0!==n.g&&(e=n.g),e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e?e:r()}n.d(t,{J:function(){return i}})},808:function(e,t,n){var r,i;!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var u in o)o[u]&&(c+="; "+u,!0!==o[u]&&(c+="="+o[u]));return document.cookie=t+"="+i+c}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var p=l[f].split("="),v=p.slice(1).join("=");this.json||'"'!==v.charAt(0)||(v=v.slice(1,-1));try{var h=p[0].replace(d,decodeURIComponent);if(v=n.read?n.read(v,h):n(v,h)||v.replace(d,decodeURIComponent),this.json)try{v=JSON.parse(v)}catch(e){}if(t===h){a=v;break}t||(a[h]=v)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))}))},611:function(e){"use strict";e.exports=_},467:function(e){"use strict";e.exports=axios}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e](i,i.exports,o),i.exports}o.m=n,o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))},o.u=function(e){return"chunks/familyGraphQlClientFactory-v1-Chunk_v160912e83eec10a45650.js"},o.miniCssF=function(e){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="applications:",o.l=function(n,r,i,a){if(e[n])e[n].push(r);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+i),s.src=n,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous")),e[n]=[r];var f=function(t,r){s.onerror=s.onload=null,clearTimeout(p);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/FP/Assets/Cache/output/",function(){var e={642:0};o.f.j=function(t,n){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var a=o.p+o.u(t),s=new Error;o.l(a,(function(n){if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,a=n[0],s=n[1],c=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)c(o)}for(t&&t(n);u<a.length;u++)i=a[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkapplications=self.webpackChunkapplications||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),o.p=window.AssetManager?window.AssetManager.R_JS("/FP/Assets/Cache/output/"):"",function(){"use strict";var e=o(108),t="requests",n="dna",r="userValues",i=[t,r,n],a="readwrite",s="Purge",c="IndexDB Event",u="IndexInstance",l="IdbUnsupported",d="OpenError",f="noConfig",p="[ClientCache] Attempt to use client cache, but no configuration supplied",v="NoDb",h="NoRequest";function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=!1;function y(t,n){if((0,e.J)().writeActivityIndicator){var r="".concat("infrastructureClientTiming.ExpirationCache",".").concat(t);n?(0,e.J)().writeActivityIndicator(r,n,!0,1,"ActivityScenarioBucketIndicatorService"):(0,e.J)().writeActivityIndicator(r,n,!0)}}var w=function(){function t(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._window=e,e.mhIdbInstance)throw y(u,"singleton"),new Error("[ClientCache] multiple instances already on window");if(!t.isCachingSupported(e))throw y(u,"noSupport"),new Error("[ClientCache] Attempt to use client cache, but cache is not supported");if(!e.mhClientCacheConfig||!e.mhClientCacheConfig.dbConfiguration)throw y(u,f),new Error(p);this.dbConfiguration=e.mhClientCacheConfig.dbConfiguration,this.timeoutWithin=this.dbConfiguration.timeoutWithin,e.mhIdbInstance=this,this.openDB(e)}var o,w,b;return o=t,b=[{key:"getInstance",value:function(n){return n||(n=(0,e.J)()),n.mhIdbInstance||new t(n),n.mhIdbInstance}},{key:"logError",value:function(e,t,n){}},{key:"isCachingSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t||(t=(0,e.J)()),!(!("mhIdbInstance"in t)||!t.mhIdbInstance)||!!("indexedDB"in t&&t.indexedDB&&t.mhClientCacheConfig&&t.mhClientCacheConfig.dbConfiguration&&t.mhClientCacheConfig.enabled)||(m&&y(l,f),m=!1,!1)}},{key:"initializeDB",value:function(n){if(n||(n=(0,e.J)()),t.isCachingSupported(n))return t.getInstance(n)}}],(w=[{key:"getConfigStoreNames",value:function(){var e={};return i.forEach((function(t){return e[t]=t})),this.dbConfiguration.storeNameList&&this.dbConfiguration.storeNameList.forEach((function(t){return e[t]=t})),Object.keys(e)}},{key:"getDbObjectStoreNames",value:function(e){for(var t=[],n=0;n<e.objectStoreNames.length;n++)t.push(e.objectStoreNames[n]);return t}},{key:"upgradeDB",value:function(e,t,n){return y("Upgrade","".concat(n,"-").concat(t)),this.getDbObjectStoreNames(e).forEach((function(t){e.deleteObjectStore(t)})),this.getConfigStoreNames().forEach((function(t){e.createObjectStore(t,{keyPath:"key"})})),e}},{key:"prepareDbForUser",value:function(e,t,i,o){var c=function(e){return e?1e9===e?"guest":"member":"unset"};!function(n){var i=e.transaction([r],a);i.addEventListener("complete",(function(e){})),i.addEventListener("error",o);var s=i.objectStore(r).get("aid");s.addEventListener("error",o),s.addEventListener("success",(function(e){var a=null;if(e.target&&e.target.result&&e.target.result.cached&&(a=e.target.result.cached.value),a!==t){var s=i.objectStore(r).put({key:"aid",cached:{value:t}});s.addEventListener("error",o),s.addEventListener("success",(function(e){return n("".concat(c(a),"-").concat(c(t)))}))}else n()}))}((function(t){if(t){var r=e.transaction([n],a);r.addEventListener("complete",(function(e){})),r.addEventListener("error",o);var c=r.objectStore(n).clear();c.addEventListener("error",o),c.addEventListener("success",(function(t){return i(e)}))}y(s,t),i(e)}))}},{key:"watchDB",value:function(e){return e.addEventListener("abort",(function(e){return y(c,"abort")})),e.addEventListener("close",(function(e){return y(c,"close")})),e.addEventListener("error",(function(e){return y(c,"error")})),e.addEventListener("versionchange",(function(e){return y(c,"versionChange")})),e}},{key:"openDB",value:function(){var e=this;return this.promiseDB||(this.promiseDB=new Promise((function(n,r){var i=!1,o=null,a=function(e,t){return!i&&(i=!0,t&&t.target&&t.target.error&&(t=t.target.error),y(d,e),r(t),!0)},c=function(t){o&&clearTimeout(o),e.timeoutWithin&&e.timeoutWithin>0&&(o=setTimeout((function(){i||(o=null,a(t,"[ClientCache] Operation time out"))}),e.timeoutWithin))};try{if(!e.dbConfiguration)return void a(f,p);var u=e.dbConfiguration&&e.dbConfiguration.version;if(!u)return void a("noVersion","[ClientCache] Attempt to use client cache without version");u=parseInt(u);var l=e._window.indexedDB.open("MyHeritage",u);l?(l.addEventListener("error",(function(n){a("error",n)&&t.logError(n,e._window,"ClientCache.openError")})),l.addEventListener("blocked",(function(e){return a("blocked",e)})),l.addEventListener("upgradeneeded",(function(t){c("timeout-upgrade"),e.upgradeDB(t.target.result,t.newVersion,t.oldVersion)})),l.addEventListener("success",(function(r){c("timeout-purge");var o=r.target.result;o?(e.watchDB(o),e.prepareDbForUser(o,e.dbConfiguration.aid,(function(e){return function(e){i||(i=!0,n(e),y(d,"success"))}(e)}),(function(n){a(s,n)&&t.logError(n,e._window,"ClientCache.purgeError")}))):a(v,v)})),c("timeout-open")):a(h,h)}catch(n){a("openError",n&&n.message)&&t.logError(n,e._window,"ClientCache.initError")}}))),this.promiseDB}}])&&g(o.prototype,w),b&&g(o,b),Object.defineProperty(o,"prototype",{writable:!1}),t}(),b="development";function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;C(this,e),this._window=t,this._init()}var t,n,r;return t=e,n=[{key:"_init",value:function(){this._initHistoryEvents("pushState"),this._initHistoryEvents("replaceState"),this._initPopState()}},{key:"_initHistoryEvents",value:function(e){var t=this._window.history,n=t[e];this._window.onLocationChangeListeners=this._window.onLocationChangeListeners||[],t[e]=function(e,r,i){if(this._emitHistoryLocationChangeEvent(e,i),n)return n.apply(t,arguments)}.bind(this)}},{key:"_initPopState",value:function(){this._window.onPopStateListeners=this._window.onPopStateListeners||[],"function"==typeof this._window.onpopstate&&this._window.onpopstate.toString()!==this._emitHistoryPopStateEvent.bind(this).toString()&&this.addOnPopStateEventListener(this._window.onpopstate),this._window.onpopstate=this._emitHistoryPopStateEvent.bind(this)}},{key:"_emitHistoryChangeEvent",value:function(e,t,n){n.forEach((function(n){"function"==typeof n&&n({state:e,newPath:t})}))}},{key:"_emitHistoryLocationChangeEvent",value:function(e,t){this._emitHistoryChangeEvent(e,t,this._window.onLocationChangeListeners)}},{key:"_emitHistoryPopStateEvent",value:function(e){this._emitHistoryChangeEvent(e.state,this._window.document.location.href,this._window.onPopStateListeners)}},{key:"addOnChangeStateEventListener",value:function(e){this.addOnPushStateEventListener(e),this.addOnPopStateEventListener(e)}},{key:"addOnPushStateEventListener",value:function(e){this._window.onLocationChangeListeners.push(e)}},{key:"addOnPopStateEventListener",value:function(e){this._window.onPopStateListeners.push(e)}}],n&&k(t.prototype,n),r&&k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){var t=function(e){return[].slice.call(arguments,1).forEach((function(t){for(var n in t)e[n]=t[n]})),e}({},e),n=document.getElementById("gtm_iframe");if(n&&(["gtm.element","gtm.elementClasses"].forEach((function(e){t[e]&&(t[e]="".concat(t[e]))})),n.contentWindow))try{n.contentWindow.postMessage(t,"https://myheritage-container.com")}catch(e){n.contentWindow.postMessage(JSON.parse(JSON.stringify(t)),"https://myheritage-container.com")}}function P(){if(window.gtmDataLayer){var e=window.gtmDataLayer.push;window.gtmDataLayer.push=function(t){e.call(this,arguments[0]),arguments[0]&&arguments[0].event&&O(arguments[0])},window.gtmDataLayer[0].firstElement=!0,window.gtmDataLayer.filter((function(e){return!e.event||-1===e.event.indexOf("gtm.")})).map((function(e){O(e)})),window.removeEventListener("load",P)}}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S,_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=[]}var t,n,r;return t=e,(n=[{key:"addEvent",value:function(e,t,n){var r=this;if(e&&e.addEventListener&&t&&"function"==typeof n)return this.performPushAndAdd(e,t,n),function(){r.removeEvent(e,t,n)}}},{key:"removeEvent",value:function(e,t,n){e&&e.removeEventListener&&t&&"function"==typeof n&&(e.removeEventListener(t,n),this.container=this.container.filter((function(r){return r.element!==e&&r.eventName!==t&&r.eventFn!==n})))}},{key:"addMultipleEvents",value:function(e,t,n){if(e&&e.addEventListener&&t&&"function"==typeof n)for(var r=0,i=t.length;r<i;r++){var o=t[r];this.performPushAndAdd(e,o,n)}}},{key:"performPushAndAdd",value:function(e,t,n){this.container.push({element:e,eventName:t,eventFn:n}),e.addEventListener(t,n)}},{key:"destroy",value:function(){for(var e=0,t=this.container.length;e<t;e++)this.container[e].element.removeEventListener(this.container[e].eventName,this.container[e].eventFn);this.container=[]}}])&&I(t.prototype,n),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j="error",T="info",A="warning",x="debug",L=x,D="message",M="logLevel",N="timestamp",R="eventType",F="timeSinceOrigin",U="includeContext",G=(B(S={},x,0),B(S,T,1),B(S,A,3),B(S,j,4),B(S,"critical",5),S),q="message",H="logObject",J="timing",V="error";function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Q=0;function X(e){return"__private_"+Q+++"_"+e}var $=X("minimumLogLevel"),K=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,$,{writable:!0,value:void 0}),z(this,$)[$]=null!==(n=G[t])&&void 0!==n?n:G.debug}var t,n,r;return t=e,(n=[{key:"logMessage",value:function(e){this.isAcceptedLogLevel(e)&&this.logMessageImpl(e)}},{key:"logMessageImpl",value:function(e){}},{key:"logObject",value:function(e){this.isAcceptedLogLevel(e)&&this.logObjectImpl(e)}},{key:"logObjectImpl",value:function(e){}},{key:"logTiming",value:function(e){this.isAcceptedLogLevel(e)&&this.logTimingImpl(e)}},{key:"logTimingImpl",value:function(e){}},{key:"logError",value:function(e){this.isAcceptedLogLevel(e)&&this.logErrorImpl(e)}},{key:"logErrorImpl",value:function(e){}},{key:"isAcceptedLogLevel",value:function(e){var t=e.logLevel;return G[t]>=z(this,$)[$]}}])&&W(t.prototype,n),r&&W(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Z(){var t=(0,e.J)();return t&&t.performance&&t.performance.now?t.performance.now():0}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var ne=0;function re(e){return"__private_"+ne+++"_"+e}var ie=re("startTimingsMap"),oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,ie,{writable:!0,value:{}})}var t,n,r;return t=e,n=[{key:"getTimingLogObject",value:function(e,t){var n,r,i,o,a,s;t=null!==(n=t)&&void 0!==n?n:{};var c=Date.now(),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){Y(e,t,n[t])}))}return e}({},t),l=null!==(r=null!==(i=null!==(o=u.startTime)&&void 0!==o?o:te(this,ie)[ie][e])&&void 0!==i?i:u.timestamp)&&void 0!==r?r:c,d=null!==(a=null!==(s=u.endTime)&&void 0!==s?s:t.timestamp)&&void 0!==a?a:c;return l===d||u.duration||(u.startTime=l,u.duration=d-l),u.timeSinceOrigin||(u.timeSinceOrigin=Z()),u.timestamp||(u.timestamp=l),te(this,ie)[ie][e]=l,u}}],n&&ee(t.prototype,n),r&&ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ae=["error"];function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ue(e){var t,n=e.error,r=ce(e,ae);return n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){se(e,t,n[t])}))}return e}({},r,(se(t={},"errorMessage",n.message),se(t,"errorStack",n.stack),t)):r}var le=["includeContext"];function de(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){pe(e,t,n[t])}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var me=0;function ye(e){return"__private_"+me+++"_"+e}var we=ye("loggingAgents"),be=ye("maxLogLimit"),Ce=ye("logCount"),ke=ye("contextIdentifiers"),Ee=ye("logTimingMeasurements"),Oe=ye("setLogObjectDefaults"),Pe=ye("addContextToLogObject"),Ie=ye("isLogRelevant"),Se=ye("isValidMessage"),_e=ye("isValidLogObject"),Be=ye("isValidTimingKey"),je=ye("isValidError"),Te=function(){function e(t,n){var r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ve(this,e),Object.defineProperty(this,we,{writable:!0,value:void 0}),Object.defineProperty(this,be,{writable:!0,value:void 0}),Object.defineProperty(this,Ce,{writable:!0,value:0}),Object.defineProperty(this,ke,{writable:!0,value:void 0}),Object.defineProperty(this,Ee,{writable:!0,value:void 0}),Object.defineProperty(this,Oe,{writable:!0,value:function(e,t){var n;return fe({},(pe(n={},N,Date.now()),pe(n,F,Z()),pe(n,M,L),n),t,e)}}),Object.defineProperty(this,Pe,{writable:!0,value:function(e){var t=e.includeContext,n=de(e,le);return!0===t?fe({},ge(i,ke)[ke],n):n}}),Object.defineProperty(this,Ie,{writable:!0,value:function(e){return ge(i,Ce)[Ce]++<ge(i,be)[be]||e.logLevel===j}}),Object.defineProperty(this,Se,{writable:!0,value:function(e){return e&&isNaN(e)}}),Object.defineProperty(this,_e,{writable:!0,value:function(e){return e&&Object.keys(e).length}}),Object.defineProperty(this,Be,{writable:!0,value:function(e){return ge(i,Se)[Se](e)}}),Object.defineProperty(this,je,{writable:!0,value:function(e,t,n){return t||ge(i,Se)[Se](e)||ge(i,_e)[_e](n)}}),ge(this,Ee)[Ee]=new oe,ge(this,we)[we]=t,ge(this,ke)[ke]=o,ge(this,be)[be]=null!==(r=null==n?void 0:n.maxLogLimit)&&void 0!==r?r:10}var t,n,r;return t=e,n=[{key:"logMessage",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ge(this,Se)[Se](e)){var o=ge(this,Oe)[Oe]((pe(t={},D,e),pe(t,M,r),pe(t,U,i),pe(t,R,q),t));ge(this,Ie)[Ie](o)&&ge(this,we)[we].forEach((function(e){return e.logMessage(ge(n,Pe)[Pe](o))}))}}},{key:"logObject",value:function(e){var t=this;if(ge(this,_e)[_e](e)){var n=ue(ge(this,Oe)[Oe](e,pe({},R,H)));ge(this,Ie)[Ie](n)&&ge(this,we)[we].forEach((function(e){return e.logObject(ge(t,Pe)[Pe](n))}))}}},{key:"logTiming",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ge(this,Be)[Be](e)){var i=(pe(t={},R,J),pe(t,D,e),t);r=ue(ge(this,Ee)[Ee].getTimingLogObject(e,ge(this,Oe)[Oe](r,i))),ge(this,Ie)[Ie](r)&&ge(this,we)[we].forEach((function(e){return e.logTiming(ge(n,Pe)[Pe](r))}))}}},{key:"logError",value:function(e,t,n){var r,i=this;if(ge(this,je)[je](e,t,n)){var o=(pe(r={},R,V),pe(r,M,j),r);t&&(o.error=t),e&&(o.message=e),n=ge(this,Oe)[Oe](o,n),ge(this,Ie)[Ie](n)&&ge(this,we)[we].forEach((function(e){return e.logError(ge(i,Pe)[Pe](n))}))}}}],n&&he(t.prototype,n),r&&he(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}var xe=["message","logLevel"];function Le(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ne(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var i=Ge(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){if(t&&("object"===Ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}function qe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var He=0;function Je(e){return"__private_"+He+++"_"+e}var Ve=Je("logFunctions"),We=Je("defaultLogFunction"),ze=Je("performanceMeasure"),Qe=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(a,t);var n,r,i,o=Re(a);function a(t){var n,r,i,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),s=o.call(this),Object.defineProperty(Ue(s),Ve,{writable:!0,value:void 0}),Object.defineProperty(Ue(s),We,{writable:!0,value:void 0}),Object.defineProperty(Ue(s),ze,{writable:!0,value:void 0}),s.logObjectImpl=s.logMessageImpl,s.logErrorImpl=s.logMessageImpl,qe(Ue(s),Ve)[Ve]=(De(n={},x,t.debug),De(n,T,t.info),De(n,A,t.warn),De(n,j,t.error),n),qe(Ue(s),We)[We]=t.log,qe(Ue(s),ze)[ze]=null===(r=(0,e.J)())||void 0===r||null===(i=r.performance)||void 0===i?void 0:i.measure,s}return n=a,(r=[{key:"logMessageImpl",value:function(e){var t,n=e.message,r=e.logLevel,i=Le(e,xe);(null!==(t=qe(this,Ve)[Ve][r])&&void 0!==t?t:qe(this,We)[We])(n,i)}},{key:"logTimingImpl",value:function(e){if(qe(this,ze)[ze]){var t,n,r=e.name,i=e.message,o=e.startTime,a=e.timestamp,s=e.endTime,c=null!==(t=null!=o?o:a)&&void 0!==t?t:s,u=null!=s?s:a;u&&c!==u&&(n=u);var l=null!=r?r:i;qe(this,ze)[ze](l,c,n)}this.logMessageImpl(e)}},{key:"isAcceptedLogLevel",value:function(){return!0}}])&&Me(n.prototype,r),i&&Me(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(K),Xe="timer",$e="timeWithoutActivity",Ke="maxItems",Ze="explicit";function Ye(e){return function(e){if(Array.isArray(e))return et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var it=0;function ot(e){return"__private_"+it+++"_"+e}var at=ot("buffer"),st=ot("dontFlushBefore"),ct=ot("timerId"),ut=ot("flushIterationCount"),lt=ot("updateForFlush"),dt=ot("flushAfterQuiteTime"),ft=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;tt(this,e),Object.defineProperty(this,at,{writable:!0,value:[]}),Object.defineProperty(this,st,{writable:!0,value:null}),Object.defineProperty(this,ct,{writable:!0,value:null}),Object.defineProperty(this,ut,{writable:!0,value:0}),this.flush=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze;rt(n,ct)[ct]&&clearTimeout(rt(n,ct)[ct]),rt(n,ct)[ct]=null,rt(n,at)[at].length&&n.flushCallback(Ye(rt(n,at)[at]),e,++rt(n,ut)[ut]),rt(n,at)[at].length=0},Object.defineProperty(this,lt,{writable:!0,value:function(){n.quiteTimeBeforeSend&&(rt(n,st)[st]=Date.now()+n.quiteTimeBeforeSend),n.maxItems&&rt(n,at)[at].length>=n.maxItems?n.flush(Ke):rt(n,ct)[ct]||!n.quiteTimeBeforeSend&&!n.bufferingTime||(rt(n,ct)[ct]=setTimeout(rt(n,dt)[dt],n.quiteTimeBeforeSend||n.bufferingTime))}}),Object.defineProperty(this,dt,{writable:!0,value:function(){var e=Date.now();rt(n,st)[st]&&rt(n,st)[st]>e?rt(n,ct)[ct]=setTimeout(rt(n,dt)[dt],rt(n,st)[st]-e):n.flush(n.quiteTimeBeforeSend?$e:Xe)}}),this.flushCallback=t,this.bufferingTime=r,this.maxItems=i,this.quiteTimeBeforeSend=o,rt(this,ut)[ut]=0,this.registerShutdownListener()}var t,n,r;return t=e,(n=[{key:"add",value:function(e){rt(this,at)[at].push(e),rt(this,lt)[lt]()}},{key:"addMultiple",value:function(e){var t;(t=rt(this,at)[at]).push.apply(t,Ye(e)),rt(this,lt)[lt]()}},{key:"registerShutdownListener",value:function(){}}])&&nt(t.prototype,n),r&&nt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gt(e,t)}function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wt(e);if(t){var i=wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}function yt(e,t){if(t&&("object"===pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wt(e){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wt(e)}var bt=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gt(e,t)}(a,t);var n,r,i,o=mt(a);function a(){return vt(this,a),o.apply(this,arguments)}return n=a,(r=[{key:"registerShutdownListener",value:function(){var t=this;(new _).addEvent((0,e.J)(),"beforeunload",(function(){return t.flush("unload")}))}}])&&ht(n.prototype,r),i&&ht(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(ft),Ct={"<":"&lt;",">":"&gt;"},kt=/[<>]/g;function Et(e){return Ct[e]}function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},It(e,t)}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var i=jt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(e,t){if(t&&("object"===Ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bt(e)}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}function Tt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var At=0;function xt(e){return"__private_"+At+++"_"+e}var Lt=xt("reportURL"),Dt=xt("browserBufferingAggregator"),Mt=xt("onBufferFlush"),Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&It(e,t)}(o,e);var t,n,r,i=St(o);function o(e,t){var n,r=t.reportURL,a=t.bufferingTime,s=t.maxBufferItems;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,e),Object.defineProperty(Bt(n),Lt,{writable:!0,value:void 0}),Object.defineProperty(Bt(n),Dt,{writable:!0,value:void 0}),n.logObjectImpl=n.logMessageImpl,n.logTimingImpl=n.logMessageImpl,n.logErrorImpl=function(e){return n.logMessageImpl(ue(e))},Object.defineProperty(Bt(n),Mt,{writable:!0,value:function(e,t,r){var i,o=new XMLHttpRequest;o.open("POST",Tt(Bt(n),Lt)[Lt]),o.setRequestHeader("Content-Type","application/json"),o.send((i=JSON.stringify({logs:e,flushReason:null!=t?t:"No JS flush reason",flushIterationCount:r}))&&"string"==typeof i?i.replace(kt,Et):i)}}),Tt(Bt(n),Lt)[Lt]=r,Tt(Bt(n),Dt)[Dt]=new bt(Tt(Bt(n),Mt)[Mt],a,s),n}return t=o,(n=[{key:"logMessageImpl",value:function(e){Tt(this,Dt)[Dt].add(e)}}])&&Pt(t.prototype,n),r&&Pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(K);var Rt=["exposed"];function Ft(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){Gt(e,t,n[t])}))}return e}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(){var t,n,r,i,o,a,s,c=(0,e.J)();if(c&&!c.clientLogger){var u=c.clientLoggerConfiguration||{};c.clientLogger=(t=Ut({},u,{consoleLoggerConfig:Ht(u),endpointLoggerConfig:Jt(u)}),n=t.maxLogLimit,r=t.minimumLogLevel,i=t.contextIdentifiers,o=t.consoleLoggerConfig,a=t.endpointLoggerConfig,s=[],o&&s.push(new Qe(o.console)),a&&s.push(new Nt(r,a)),new Te(s,{minimumLogLevel:r,maxLogLimit:n},i))}return null==c?void 0:c.clientLogger}function Ht(t){var n,r,i=null===(n=(0,e.J)())||void 0===n?void 0:n.console;return null!=t&&null!==(r=t.consoleLoggerConfig)&&void 0!==r&&r.exposed&&i?{console:i}:void 0}var Jt=function(e){var t=(null==e?void 0:e.endpointLoggerConfig)||{},n=t.exposed,r=Ft(t,Rt);return n?Ut({reportURL:"/FP/API/ClientLog/client-log.php"},r):void 0};function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zt,Qt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;Vt(this,e),this.window=t}var t,n,r;return t=e,(n=[{key:"getCookie",value:function(e){var t=this.window.document,n=t.cookie.indexOf("".concat(e,"=")),r=n+e.length+1;if(!n&&e!==t.cookie.substring(0,e.length))return null;if(-1===n)return null;var i=t.cookie.indexOf(";",r);return-1===i&&(i=t.cookie.length),unescape(t.cookie.substring(r,i))}},{key:"setCookie",value:function(e,t,n){var r,i=this.window.document;if(-1!==n){var o=new Date;n?o.setTime(n):o.setTime(o.getTime()+31536e6),r=o.toGMTString()}var a=this.getCookieDomain(),s="".concat(e,"=").concat(escape(t));r&&(s+=";expires=".concat(r));var c=""!==a?";domain=".concat(a):"";s+=";path=/".concat(c),i.cookie=s}},{key:"deleteCookie",value:function(e){var t=this.window.document;if(this.getCookie(e)){var n=this.getCookieDomain(),r=""!==n?";domain=".concat(n):"";t.cookie="".concat(e,"=;path=/; expires=").concat("Thu, 01-Jan-70 00:00:01 GMT").concat(r)}}},{key:"getCookieDomain",value:function(){var e=document.location.host.toLowerCase(),t=e.lastIndexOf("myheritage.");return-1===t?"":".".concat(e.substr(t))}}])&&Wt(t.prototype,n),r&&Wt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Xt="cookie_preferences_dialog_root",$t="cpb_button_container",Kt="cpb_cookie_preferences_link";function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt="cookiePreferences",en=1601856e6,tn=16154208e5,nn="OldNews",rn="MyHeritage",on=[nn,rn,"MyHeritageExternalSite"],an=Math.pow(2,0),sn=Math.pow(2,1),cn=Math.pow(2,2),un=(Zt(zt={},an,"All"),Zt(zt,sn,"Analytics"),Zt(zt,cn,"Marketing"),sn|cn),ln=[];ln.ts=0,ln.ii=!1,ln.ucb=!1,ln.nmg=an;var dn=ln,fn=[];fn.ts=0,fn.ii=!1,fn.ucb=!1,fn.nmg=0;var pn=fn;var vn=["a","input","button"],hn=[Kt,Xt],gn="cookie-privacy.CookiePreferencesStatistics.OptInBanner.Viewed",mn="cookie-privacy.CookiePreferencesStatistics.Banner.OptInClicked",yn="intrusive",wn="non-intrusive";function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var On=function(){function t(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(kn(this,t),r.cookiePreferencesServiceInstance)throw new Error("CookiePreferencesService is a singleton object. Use the getInstance method");this.window=r,this.familyGraphQlClient=null,this.cookieStorageService=i||new Qt(r),this.testTest=null,this.timestamp=null,this.isInteractive=null,this.userClosedCookieBanner=null,this.nonMandatoryGroup=null,this.clientName=rn,this.persistencyTs=null,this.persistencyOptInFlags=null,this.fetchingFromPersistencyPromise=null;var o=null==r?void 0:r.cookiePreferencesClientData,a=null==o||null===(e=o.persistencyCookiePreferences)||void 0===e?void 0:e.opt_in_flags,s=null==o||null===(n=o.persistencyCookiePreferences)||void 0===n?void 0:n.opt_date;if(this.normalizeClientCookie(),null!=s&&null!=a){var c=this.getTimestampFromDateTime(s);r.isNaN(c)||(this.persistencyTs=c,this.persistencyOptInFlags=a,this.syncCookieAndPersistencyConsentData())}}var n,r,i;return n=t,r=[{key:"setTimestamp",value:function(e){this.timestamp=e}},{key:"setIsInteractive",value:function(){this.isInteractive=!0}},{key:"getIsInteractive",value:function(){return!0===this.getCurrentCookieValues().ii}},{key:"setClientName",value:function(e){on.includes(e)&&(this.clientName=e)}},{key:"getClientName",value:function(){return this.clientName}},{key:"setUserClosedCookieBanner",value:function(){this.userClosedCookieBanner=!0}},{key:"getTimestampWithoutMs",value:function(e){return 1e3*Math.floor(e/1e3)}},{key:"getTimestampFromDateTime",value:function(e){return this.window.Date.parse(e.replace(/\s/,"T"))}},{key:"isAnalyticsContainerAllowed",value:function(){var e,t=null===(e=this.window)||void 0===e?void 0:e.cookiePreferencesClientData;return!(null!=t&&t.isCookiePreferencesOptInExposed)}},{key:"getPersistencyCookiePreferences",value:function(){var e,t=this,n=null===(e=this.window)||void 0===e?void 0:e.cookiePreferencesClientData;if(null!=n&&n.isLoadedByExternalSite)return Promise.resolve();if(null!==this.persistencyTs&&null!==this.persistencyOptInFlags)return Promise.resolve();if(null!=n&&n.isFetchDataOnlyOnServerExposed){if(this.doesClientSideCookieExists()){var r=this.getCurrentCookieValues();(null==n||!n.isCookiePreferencesOptInExposed||null!=n&&n.isCookiePreferencesOptInExposed&&r.ucb)&&this.persistConsentData(r)}return Promise.resolve()}return null===this.fetchingFromPersistencyPromise&&(this.fetchingFromPersistencyPromise=new Promise((function(e){t.getUserConsentDataFromPersistency().then((function(r){var i,o,a,s,c,u,l,d,f=null;if(null!=r&&null!==(i=r.data)&&void 0!==i&&i.guests)f=null==r||null===(u=r.data)||void 0===u||null===(l=u.guests)||void 0===l||null===(d=l.cookie_consent)||void 0===d?void 0:d.data;else if(null!=r&&null!==(o=r.data)&&void 0!==o&&o.user_preferences){var p,v,h;f=null==r||null===(p=r.data)||void 0===p||null===(v=p.user_preferences)||void 0===v||null===(h=v.cookie_consent)||void 0===h?void 0:h.data}(null===(a=f)||void 0===a?void 0:a.length)>0&&(f=bn(f,1)[0]);var g=f?null===(s=f)||void 0===s?void 0:s.opt_date:null,m=f?null===(c=f)||void 0===c?void 0:c.opt_in_flags:null;if(g&&null!==m){var y=t.getTimestampFromDateTime(g);t.window.isNaN(y)||(t.persistencyTs=y,t.persistencyOptInFlags=m,t.syncCookieAndPersistencyConsentData())}else t.doesCookiePreferencesDataExist().then((function(e){if(e){var r=t.getCurrentCookieValues();(null==n||!n.isCookiePreferencesOptInExposed||null!=n&&n.isCookiePreferencesOptInExposed&&r.ucb)&&t.persistConsentData(r)}}));e()}))}))),this.fetchingFromPersistencyPromise}},{key:"normalizeClientCookie",value:function(){if(this.doesClientSideCookieExists()){var e=!1,t=this.getCurrentCookieValues();!0===t.nmg?(this.setTimestamp(t.ts),this.setNonMandatoryGroup(an),this.persistencyOptInFlags=an,e=!0):!1===t.nmg&&(this.setTimestamp(t.ts),this.setNonMandatoryGroup(0),this.persistencyOptInFlags=0,e=!0),e&&this.saveClientCookieConsentData()}}},{key:"syncCookieAndPersistencyConsentData",value:function(){if(null!==this.persistencyTs&&null!==this.persistencyOptInFlags){var e,t=null===(e=this.window)||void 0===e?void 0:e.cookiePreferencesClientData;(null!=t&&t.isCookiePreferencesOptInExposed||(null==t||!t.isCookiePreferencesOptInExposed)&&0===this.persistencyOptInFlags)&&this.setUserClosedCookieBanner(),this.setTimestamp(this.persistencyTs),this.setIsInteractive(),this.setNonMandatoryGroup(this.persistencyOptInFlags),this.saveClientCookieConsentData()}}},{key:"markAsInteractive",value:function(){var e;this.setIsInteractive();var t=this.saveClientCookieConsentData(),n=null===(e=this.window)||void 0===e?void 0:e.cookiePreferencesClientData;return null==n||!n.isCookiePreferencesOptInExposed||null!=n&&n.isCookiePreferencesOptInExposed&&t.ucb?this.persistConsentData(t):Promise.resolve()}},{key:"getUserClosedCookieBanner",value:function(){var e=this;return new Promise((function(t){e.getPersistencyCookiePreferences().then((function(){var n=e.getCurrentCookieValues();t(!0===n.ucb)}))}))}},{key:"getCurrentTimeStamp",value:function(){return(new this.window.Date).getTime()}},{key:"isCookieConsentExpired",value:function(){var e=this;return new Promise((function(t){e.getPersistencyCookiePreferences().then((function(){var n,r=null===(n=e.window)||void 0===n?void 0:n.cookiePreferencesClientData,i=e.getCurrentCookieValues(),o=e.getCurrentTimeStamp(),a=e.getTimestampWithoutMs(i.ts);null!==e.persistencyTs&&e.window.parseInt(e.persistencyTs)>=e.window.parseInt(a)&&(a=e.persistencyTs),"IE"===(null==r?void 0:r.userCountry)?a<en&&(a=en):"NL"!==(null==r?void 0:r.userCountry)&&a<tn&&(a=tn),t(a>0&&(null==r?void 0:r.isCookiePreferencesOptInExposed)&&o-a>31536e6)}))}))}},{key:"setNonMandatoryGroup",value:function(e){this.nonMandatoryGroup=e}},{key:"getNonMandatoryGroup",value:function(){var e=this;return new Promise((function(t){e.getPersistencyCookiePreferences().then((function(){var n=e.getCurrentCookieValues(),r=e.getTimestampWithoutMs(n.ts),i=n.nmg;null!==e.persistencyTs&&null!==e.persistencyOptInFlags&&e.window.parseInt(e.persistencyTs)>=e.window.parseInt(r)&&(i=e.persistencyOptInFlags),t(i)}))}))}},{key:"getCurrentCookieValues",value:function(){var n,r,i=null!==(n=(0,e.J)())&&void 0!==n&&null!==(r=n.cookiePreferencesClientData)&&void 0!==r&&r.isCookiePreferencesOptInExposed?pn:dn,o=this.cookieStorageService.getCookie(Yt);if(null!==o){o=t.removeBackslashes(o);try{o=JSON.parse(o)}catch(e){o=null}}return null===o&&((o=[]).ts=i.ts,o.ii=i.ii,o.ucb=i.ucb,o.nmg=i.nmg),o}},{key:"doesClientSideCookieExists",value:function(){return null!==this.cookieStorageService.getCookie(Yt)}},{key:"doesCookiePreferencesDataExist",value:function(){var e,t=this,n=null===(e=this.window)||void 0===e?void 0:e.cookiePreferencesClientData;return null!=n&&n.isLoadedByExternalSite?Promise.resolve(!1):new Promise((function(e){t.getPersistencyCookiePreferences().then((function(){e(t.doesClientSideCookieExists())}))}))}},{key:"saveClientCookieConsentData",value:function(){var e=this.getCurrentCookieValues(),t={};if(t.ii=null===this.isInteractive?e.ii:this.isInteractive,t.ucb=null===this.userClosedCookieBanner?e.ucb:this.userClosedCookieBanner,t.nmg=null===this.nonMandatoryGroup?e.nmg:this.nonMandatoryGroup,t.ts=null===this.timestamp?(new Date).getTime():this.timestamp,this.cookieStorageService.setCookie(Yt,JSON.stringify(t),(new Date).getTime()+31536e6),this.window.gtmDataLayer){var n=Boolean(t.nmg&cn);0===this.window.gtmDataLayer.length&&(this.window.gtmDataLayer[0]={}),this.window.gtmDataLayer[0].allowAdFeatures=n,this.window.gtmDataLayer[0].allow_google_signals=n}return t}},{key:"persistConsentData",value:function(e){var t,n=null===(t=this.window)||void 0===t?void 0:t.cookiePreferencesClientData;if(null==n||!n.isLoadedByExternalSite){var r=e.nmg,i=this.timestampToUnixTime(e.ts);return null===i&&(i=this.timestampToUnixTime((new Date).getTime())),this.persistencyTs=i,this.persistencyOptInFlags=r,this.persistCookiePreferences(i,e.nmg)}return Promise.resolve()}},{key:"saveCookiePreferences",value:function(){var e=this.saveClientCookieConsentData();return this.persistConsentData(e)}},{key:"timestampToUnixTime",value:function(e){var t=function(e){return"0".concat(e.toString()).slice(-2)},n=new Date(e);if(isNaN(n.getTime()))return null;var r=n.getFullYear(),i=t(n.getMonth()+1),o=t(n.getDate()),a=t(n.getHours()),s=t(n.getMinutes()),c=t(n.getSeconds());return"".concat(r,"-").concat(i,"-").concat(o," ").concat(a,":").concat(s,":").concat(c)}},{key:"getFamilyGraphQlClient",value:function(e){var t=this;return new Promise((function(n,r){null===t.familyGraphQlClient?(e===rn&&(o.p=AssetManager?AssetManager.R_JS("/FP/Assets/Cache/output/"):""),o.e(519).then(o.bind(o,717)).then((function(e){var r=e.buildFamilyGraphQlClient;t.familyGraphQlClient=r(),n()})).catch((function(e){qt().logMessage("Failed fetching FamilyGraphQl client: ".concat(e),A),r()}))):n()}))}},{key:"getUserConsentDataFromPersistency",value:function(){var e,t=this,n=null===(e=this.window)||void 0===e?void 0:e.cookiePreferencesClientData,r=null==n?void 0:n.fgToken,i=null==n?void 0:n.clientName;if(!r)return Promise.resolve();var o=null==n?void 0:n.isGuest,a=null==n?void 0:n.guestId,s=null==n?void 0:n.accountId;return this.getFamilyGraphQlClient(i).then((function(){var e=t;return o?e.familyGraphQlClient.query(r,"\nquery get_guests_consent($id: String!) {\n  guests(id: $id) {\n    cookie_consent {\n      data {\n        opt_in_flags\n        opt_date\n      }\n    }\n  }\n}\n","get cookie consent for guest",{params:{guest_id:a},variables:{id:"guests-0"}}):e.familyGraphQlClient.query(r,"\nquery get_user_preferences($id: String!) {\n  user_preferences(id: $id) {\n    cookie_consent {\n      data {\n        opt_in_flags\n        opt_date\n      }\n    }\n  }\n}\n","get cookie consent for member",{params:{guest_id:a},variables:{id:"userpreferences-".concat(s)}})}))}},{key:"persistCookiePreferences",value:function(e,t){var n,r,i,o=this,a=null===(n=this.window)||void 0===n?void 0:n.cookiePreferencesClientData,s=null==a?void 0:a.fgToken;if(!s||null!==(r=this.window)&&void 0!==r&&null!==(i=r.mhStaticModeConfiguration)&&void 0!==i&&i.isStaticModeEnabled)return Promise.resolve();var c=null==a?void 0:a.isGuest,u=null==a?void 0:a.guestId,l=null==a?void 0:a.accountId,d=null==a?void 0:a.clientName;return this.getFamilyGraphQlClient(d).then((function(){return c?o.familyGraphQlClient.mutation(s,"\nmutation update_guests_consent($id: String!, $upload_data: EditableCookieConsent!) {\n  guests_cookie_consent_upload(id: $id, upload_data: $upload_data) {\n    opt_in_flags\n  }\n}\n","update cookie consent for guest",{params:{guest_id:u},variables:{id:"guests-0",upload_data:{opt_date:e,opt_in_flags:t}}}):o.familyGraphQlClient.mutation(s,"\nmutation update_user_preferences($id: String!, $upload_data: EditableCookieConsent!) {\n  user_preferences_cookie_consent_upload(id: $id, upload_data: $upload_data) {\n    opt_in_flags\n  }\n}\n","update cookie consent for member",{params:{guest_id:u},variables:{id:"userpreferences-".concat(l),upload_data:{opt_date:e,opt_in_flags:t}}})}))}},{key:"isNonMandatoryCookieCategoryEnabled",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=null===(e=this.window)||void 0===e?void 0:e.cookiePreferencesClientData;return null!=r&&r.isUnsupportedBrowser?Promise.resolve(!1):null!=r&&r.isCookiePreferencesExposed?null!=r&&r.isCookiePreferencesOptInExposed||null!=r&&r.isUseSameSettingsDialogForAllBannersExposed?Promise.all([this.getUserClosedCookieBanner(),this.getNonMandatoryGroup(),this.isCookieConsentExpired()]).then((function(e){if(e[2]&&null!=r&&r.isLoadedByExternalSite)return!1;var i=e[1]===an?un:e[1];if(n===un&&i===un)return null!=r&&r.isCookiePreferencesOptInExposed||null==r||!r.isUseSameSettingsDialogForAllBannersExposed?e[0]:t.getIsInteractive();var o=Boolean(i&n);return null!=r&&r.isCookiePreferencesOptInExposed||null==r||!r.isUseSameSettingsDialogForAllBannersExposed?e[0]&&o:t.getIsInteractive()&&o})):Promise.all([this.getNonMandatoryGroup(),this.isCookieConsentExpired()]).then((function(e){return(!e[1]||null==r||!r.isLoadedByExternalSite)&&e[0]===an&&t.getIsInteractive()})):Promise.resolve(!0)}},{key:"areNonMandatoryCookiesEnabled",value:function(){return this.isNonMandatoryCookieCategoryEnabled(un).then((function(e){return e}))}}],i=[{key:"removeBackslashes",value:function(e){return e.replace(/\\/g,"")}},{key:"getInstance",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,e.J)(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.cookiePreferencesServiceInstance||(n.cookiePreferencesServiceInstance=new t(n,r)),n.cookiePreferencesServiceInstance}}],r&&En(n.prototype,r),i&&En(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}On.instance=null;var Sn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;Pn(this,e),this.window=t}var t,n,r;return t=e,(n=[{key:"loadGtmContainer",value:function(e){!function(e,t,n,r,i){e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=t.getElementsByTagName(n)[0],a=t.createElement(n),s="&l=".concat(r);a.async=!0,a.src="//www.googletagmanager.com/gtm.js?id=".concat(i).concat(s),o.parentNode.insertBefore(a,o)}(this.window,this.window.document,"script","gtmDataLayer",e)}}])&&In(t.prototype,n),r&&In(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),_n="GTM-J44C",Bn="GTM-TVPKLTS",jn="GTM-MCTD222",Tn="GTM-PTLTXDK",An="GTM-NVKCPJZ",xn="GTM-WHS5WNX",Ln="lec";function Dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;Dn(this,e),this.gtmLoaderService=new Sn(t),this.window=t,this.eventContainer=new _,this.window.ajaxCheckIfShouldLoadExtendedContainer=this.window.ajaxCheckIfShouldLoadExtendedContainer||!1,this.shouldLoadExtendedContainer=void 0!==this.window.shouldLoadExtendedContainer?this.window.shouldLoadExtendedContainer:this.getSavedShouldLoadExtendedContainer()}var t,n,r;return t=e,n=[{key:"setShouldLoadExtendedContainer",value:function(e){this.shouldLoadExtendedContainer=e}},{key:"loadNonMandatoryContainer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.window.isFtb&&void 0!==this.window.gtmDataLayer)if(this.window.isCovidDomain)this.gtmLoaderService.loadGtmContainer(xn);else if(!this.window.optOut){var r,i,o,a;if(null!==(r=this.window)&&void 0!==r&&null!==(i=r.cookiePreferencesClientData)&&void 0!==i&&i.isCookiePreferencesOptInExposed||null!==(o=this.window)&&void 0!==o&&null!==(a=o.cookiePreferencesClientData)&&void 0!==a&&a.isUseSameSettingsDialogForAllBannersExposed){var s,c,u=n||On.getInstance(),l=u.isAnalyticsContainerAllowed(),d=null===(s=this.window)||void 0===s||null===(c=s.cookiePreferencesClientData)||void 0===c?void 0:c.isLoadedByExternalSite;u.isNonMandatoryCookieCategoryEnabled(sn).then((function(e){e&&l&&!d&&t.gtmLoaderService.loadGtmContainer(Bn)})),u.isNonMandatoryCookieCategoryEnabled(cn).then((function(n){n&&(t.gtmLoaderService.loadGtmContainer(_n),t.loadExtendedContainer(e),d&&u.isNonMandatoryCookieCategoryEnabled(sn).then((function(e){e&&l&&t.gtmLoaderService.loadGtmContainer(Bn)})))}))}else this.gtmLoaderService.loadGtmContainer(_n),this.gtmLoaderService.loadGtmContainer(Bn),this.loadExtendedContainer(e)}}},{key:"loadExtendedContainer",value:function(e){void 0!==this.shouldLoadExtendedContainer?(this.shouldLoadExtendedContainer&&this.gtmLoaderService.loadGtmContainer(jn),"function"==typeof e&&e()):this.window.ajaxCheckIfShouldLoadExtendedContainer&&this.sendAjaxLoadExtendedContainer(1,e)}},{key:"getSavedShouldLoadExtendedContainer",value:function(){if(this.didStoreApiResponse())return"true"===this.window.sessionStorage.getItem(Ln)}},{key:"didStoreApiResponse",value:function(){return this.window.sessionStorage&&null!==this.window.sessionStorage.getItem(Ln)}},{key:"sendAjaxLoadExtendedContainer",value:function(e,t){var n=this,r=new this.window.XMLHttpRequest;r.preventCsrfToken=!0,r.open("GET","//www.myheritage.com/FP/API/GTM/should-load-extended-container.php"),r.setRequestHeader("Content-Type","application/json"),r.onload=function(){try{if(200===r.status&&r.responseText){var i=n.window.JSON.parse(r.responseText),o="false";i.data.shouldLoadExtendedGTMContainer&&(1===e?n.gtmLoaderService.loadGtmContainer(jn):2===e&&n.gtmLoaderService.loadGtmContainer(An),o="true"),n.window.sessionStorage&&(n.window.sessionStorage.setItem(Ln,o),n.shouldLoadExtendedContainer=o),"function"==typeof t&&t()}}catch(e){console.log(e)}},r.send()}},{key:"loadNonTrustedContainer",value:function(){var e,t,n,r,i=this,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==(e=this.window)&&void 0!==e&&null!==(t=e.cookiePreferencesClientData)&&void 0!==t&&t.isCookiePreferencesOptInExposed||null!==(n=this.window)&&void 0!==n&&null!==(r=n.cookiePreferencesClientData)&&void 0!==r&&r.isUseSameSettingsDialogForAllBannersExposed){var s=a||On.getInstance();s.isNonMandatoryCookieCategoryEnabled(cn).then((function(e){e&&i.loadNonTrustedContainerInner(o)}))}else this.loadNonTrustedContainerInner(o)}},{key:"loadNonTrustedContainerInner",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(e||!this.window.optOut&&!this.window.isFtb)&&(this.gtmLoaderService.loadGtmContainer(Tn),void 0!==this.shouldLoadExtendedContainer?this.shouldLoadExtendedContainer&&this.gtmLoaderService.loadGtmContainer(An):this.window.ajaxCheckIfShouldLoadExtendedContainer&&this.sendAjaxLoadExtendedContainer(2))}}],n&&Mn(t.prototype,n),r&&Mn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Rn=o(611),Fn=o.n(Rn),Un=/((CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS)[ +]+(12[_.]2|12[_.]([3-9]|\d{2,})|12[_.]5|12[_.]([6-9]|\d{2,})|(1[3-9]|[2-9]\d|\d{3,})[_.]\d+|14[_.]0|14[_.]([1-9]|\d{2,})|14[_.]4|14[_.]([5-9]|\d{2,})|14[_.]8|14[_.](9|\d{2,})|(1[5-9]|[2-9]\d|\d{3,})[_.]\d+|15[_.]2|15[_.]([3-9]|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})[_.]\d+)(?:[_.]\d+)?)|(Opera Mini(?:\/att)?\/?(\d+)?(?:\.\d+)?(?:\.\d+)?)|(Opera\/.+Opera Mobi.+Version\/(64\.0|64\.([1-9]|\d{2,})|(6[5-9]|[7-9]\d|\d{3,})\.\d+))|(Opera\/(64\.0|64\.([1-9]|\d{2,})|(6[5-9]|[7-9]\d|\d{3,})\.\d+).+Opera Mobi)|(Opera Mobi.+Opera(?:\/|\s+)(64\.0|64\.([1-9]|\d{2,})|(6[5-9]|[7-9]\d|\d{3,})\.\d+))|((?:Chrome).*OPR\/(88\.0|88\.([1-9]|\d{2,})|(89|9\d|\d{3,})\.\d+)\.\d+)|(SamsungBrowser\/(17\.0|17\.([1-9]|\d{2,})|(1[8-9]|[2-9]\d|\d{3,})\.\d+))|(Edge\/(103(?:\.0)?|103(?:\.([1-9]|\d{2,}))?|(10[4-9]|1[1-9]\d|[2-9]\d\d|\d{4,})(?:\.\d+)?))|((Chromium|Chrome)\/(102\.0|102\.([1-9]|\d{2,})|(10[3-9]|1[1-9]\d|[2-9]\d\d|\d{4,})\.\d+)(?:\.\d+)?)|(Version\/(15\.5|15\.([6-9]|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})\.\d+)(?:\.\d+)? Safari\/)|(Firefox\/(91\.0|91\.([1-9]|\d{2,})|(9[2-9]|\d{3,})\.\d+|101\.0|101\.([1-9]|\d{2,})|(10[2-9]|1[1-9]\d|[2-9]\d\d|\d{4,})\.\d+)\.\d+)|(Firefox\/(91\.0|91\.([1-9]|\d{2,})|(9[2-9]|\d{3,})\.\d+|101\.0|101\.([1-9]|\d{2,})|(10[2-9]|1[1-9]\d|[2-9]\d\d|\d{4,})\.\d+)(pre|[ab]\d+[a-z]*)?)/;function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hn="default",Jn=["myheritage","mhcache","mhutils","ajax\\.googleapis\\.com"],Vn=new RegExp("[a-zA-Z-]*://[^?:)]*","i"),Wn="infrastructure",zn=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,e.J)(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;Gn(this,t),this._window=n,this._document=r,this.numberOfReportedErrors=0,this.clientSideErrorConfiguration=this._window.clientSideErrorConfiguration||null,this.previousRegisteredOnErrorCallback=this._window.onerror,this._window.reportedErrorsPerAgent=this._window.reportedErrorsPerAgent||{},this.reportedErrorsPerAgent=this._window.reportedErrorsPerAgent}var n,r,i;return n=t,r=[{key:"bindOnError",value:function(){this._window.onerror=this.handleError.bind(this)}},{key:"callPreviousRegisteredOnErrorCallback",value:function(){this.previousRegisteredOnErrorCallback&&this.previousRegisteredOnErrorCallback.apply(this._window,arguments)}},{key:"getErrorReportedCount",value:function(e,t,n){if(!e)return 0;var r=(n||"")+(t||"");return""===r?0:(this.reportedErrorsPerAgent[e]=this.reportedErrorsPerAgent[e]||{},this.reportedErrorsPerAgent[e][r]=(this.reportedErrorsPerAgent[e][r]||0)+1,this.reportedErrorsPerAgent[e][r])}},{key:"handleError",value:function(e,t,n,r,i){var o=!1;this.callPreviousRegisteredOnErrorCallback.apply(this,arguments);try{if(this._window.isBot)o=!0;else if(this.getErrorReportedCount(Hn,i&&i.stack,i&&i.message||e)>1)o=!0;else{var a=this.extractStackFromError(i),s=this._isMyHeritageError(a),c=s.isMyHeritageError,u=s.isUnsupportedBrowser,l=s.firstNonMhUrl;if(c){var d=this._checkShouldExcludeError(e,t);d?o=!0:this.reportActivity(t,e,!0)}else o=!0,this.reportActivity(l,e,!1,u)}}catch(e){}finally{this._document.body&&-1!==this._document.body.className.indexOf("mh_ftb")&&(o=!0)}return o}},{key:"getExcludeErrorReason",value:function(e,t){var n=this.extractStackFromError(e),r=null,i=null,o=null,a=null,s=this._isMyHeritageError(n),c=s.isMyHeritageError,u=s.isUnsupportedBrowser,l=s.firstNonMhUrl;c&&(r=this.getSourceUrlFromStack(n),(i=this._checkShouldExcludeError(e.message,r))||(o=this._window.isBot));var d=!c||i||o,f=this.getErrorReportedCount(t,e.stack,e.message);return(d||f>1)&&(a={isMyHeritageError:c,isUnsupportedBrowser:u,firstNonMhUrl:l,shouldExcludeError:i,isBot:o,message:e.message,stack:e.stack,sourceUrl:r,ignoreError:d,count:f,hasClientSideErrorConfiguration:!!this.clientSideErrorConfiguration,mhRequestId:this._window.mhRequestId||"NA"}),a}},{key:"_isMyHeritageError",value:function(e){var t=!0,n=!1,r=null,i=this._window.navigator.userAgent;if(this._window.location.protocol.includes("https")&&this.clientSideErrorConfiguration)if(this.clientSideErrorConfiguration.excludeUnsupportedBrowsersEnabled&&!Un.test(i))t=!1,n=!0;else if(e&&e.length){var o=new RegExp("(".concat(Jn.join("|"),")")),a=this.getSourceUrlFromStack(e);o.test(a)||(t=!1,r=a)}else t=!1,r="unknown source";else t=!1;return{isMyHeritageError:t,isUnsupportedBrowser:n,firstNonMhUrl:r}}},{key:"_checkShouldExcludeError",value:function(e,t){var n=!1;if(this.clientSideErrorConfiguration)for(var r=this._window.navigator.userAgent,i=this.clientSideErrorConfiguration.exclude,o=0;o<i.length;o++){var a=i[o];if(a.message&&null===e.match(a.message)||a.userAgent&&null===r.match(new RegExp(a.userAgent,"i"))||(n=!a.source||new RegExp(a.source,"i").test(t)),n)break}else n=!0;return n}},{key:"reportActivity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.numberOfReportedErrors<10&&this._window.writeActivityIndicatorWithCallback){var i=[],o=n?".":".NonMh";r&&(o=".UnsupportedBrowser");var a=Wn+o;i.push({activityId:"".concat(a,"ClientSideErrors")});var s="";if(this._window.gtmDataLayer&&this._window.gtmDataLayer.length>0){var c=this._window.gtmDataLayer[0];c.hasOwnProperty("pageViewURL")&&c.pageViewURL&&(s=c.pageViewURL)}else s=this._window.location.pathname;i.push({activityId:"".concat(a,"ClientSideErrorsByUrl"),scenario:s});var u=this._window.location.hostname;u&&i.push({activityId:"".concat(a,"ClientSideErrorsByHostname"),scenario:u});var l=this._window.browserName;l&&i.push({activityId:"".concat(a,"ClientSideErrorsByBrowserName"),scenario:l});var d=this._document.createElement("a");if(d.href=e,d.hostname&&i.push({activityId:"".concat(a,"ClientSideErrorsByExecutingUrl"),scenario:d.hostname}),t){var f=this.buildMonitoredActivity(t,a);f&&i.push(f)}i.length>0&&this._window.writeActivityIndicatorWithCallback(i),this.numberOfReportedErrors++}}},{key:"getSourceUrlFromStack",value:function(e){var t=null;if(e)for(var n=e.length-1;!t&&n>=0;){var r=e[n],i=Vn.exec(r);t=i&&i.length?i[0]:null,n--}return t||this._window.location.href}},{key:"extractStackFromError",value:function(e){return e&&e.stack&&e.stack.split("\n").slice(1)}},{key:"buildMonitoredActivity",value:function(e,t){var n=this.clientSideErrorConfiguration?Fn().find(this.clientSideErrorConfiguration.monitoredErrorRules,(function(t){return e.match(new RegExp(t.regex,"ig"))})):null;return n?{activityId:"".concat(t,"ClientSideMonitoredError.").concat(n.activityId)}:null}}],r&&qn(n.prototype,r),i&&qn(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(),Qn="click",Xn="load";function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _;$n(this,e),this.window=t,this.eventContainer=n,this.removeEventListenersArray=[],this.reportBannerClickedActivity=this.reportBannerClickedActivity.bind(this),this.reportBannerOptInClickedActivity=this.reportBannerOptInClickedActivity.bind(this),this.reportBannerOptInDisabledClickedActivity=this.reportBannerOptInDisabledClickedActivity.bind(this),this.reportBannerCookiesPolicyLinkClickedActivity=this.reportBannerCookiesPolicyLinkClickedActivity.bind(this),this.reportBannerCookiesPreferencesLinkClickedActivity=this.reportBannerCookiesPreferencesLinkClickedActivity.bind(this)}var t,n,r;return t=e,n=[{key:"attachStatisticsEvents",value:function(){var e=this,t=this.window.document.querySelector(".".concat("cpb_close_container"," .").concat("cpb_close"));this.eventContainer.addEvent(t,Qn,this.reportBannerClickedActivity);var n=this.window.document.querySelector(".".concat($t," #").concat("banner_accept_all_button"));this.eventContainer.addEvent(n,Qn,(function(){return e.reportBannerOptInClickedActivity(!1)}));var r=this.window.document.querySelector(".".concat($t," #").concat("banner_accept_only_mandatory_button"));if(this.eventContainer.addEvent(r,Qn,this.reportBannerOptInDisabledClickedActivity),!n&&!r){var i=this.window.document.querySelector(".".concat($t," .").concat("cpb_button"));this.eventContainer.addEvent(i,Qn,(function(){return e.reportBannerOptInClickedActivity(!1)}))}var o=this.window.document.querySelector("#cpb_cookie_policy_link");this.removeEventListenersArray.push(this.eventContainer.addEvent(o,Qn,this.reportBannerCookiesPolicyLinkClickedActivity));var a=this.window.document.querySelector("#".concat(Kt));this.removeEventListenersArray.push(this.eventContainer.addEvent(a,Qn,this.reportBannerCookiesPreferencesLinkClickedActivity))}},{key:"reportBannerViewedActivity",value:function(){this.window.writeActivityIndicator("cookie-privacy.CookiePreferencesStatistics.Banner.Viewed")}},{key:"reportOptInBannerViewedActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.window.writeActivityIndicator(gn,e?yn:wn)}},{key:"reportBannerClickedActivity",value:function(){this.window.writeActivityIndicator("cookie-privacy.CookiePreferencesStatistics.Banner.Closed")}},{key:"reportBannerOptInClickedActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.window.writeActivityIndicator(mn,e?yn:wn)}},{key:"reportBannerOptInDisabledClickedActivity",value:function(){this.window.writeActivityIndicator("cookie-privacy.CookiePreferencesStatistics.Banner.OptInDisabledClicked")}},{key:"reportBannerCookiesPreferencesLinkClickedActivity",value:function(){this.window.writeActivityIndicator("cookie-privacy.CookiePreferencesStatistics.PrivacySection.CookiePreferences.Clicked")}},{key:"reportBannerCookiesPolicyLinkClickedActivity",value:function(){this.window.writeActivityIndicator("cookie-privacy.CookiePreferencesStatistics.Banner.CookiePolicy.Clicked")}},{key:"reportCookiePreferencesCookiesEnabledActivity",value:function(e){this.window.writeActivityIndicator("cookie-privacy.CookiePreferencesStatistics.CookiePreferences.EnabledCookie",e)}},{key:"reportCookiePreferencesCookiesOptInEnabledActivity",value:function(e){this.window.writeActivityIndicator("cookie-privacy.CookiePreferencesStatistics.CookiePreferences.OptIn.EnabledCookie",e)}},{key:"reportCookiePreferencesCookiesDisabledActivity",value:function(){this.window.writeActivityIndicator("cookie-privacy.CookiePreferencesStatistics.CookiePreferences.DisabledCookie")}},{key:"reportCookiePreferencesCookiesOptInDisabledActivity",value:function(){this.window.writeActivityIndicator("cookie-privacy.CookiePreferencesStatistics.CookiePreferences.OptIn.DisabledCookie")}},{key:"detachStatisticsEventsIfNeeded",value:function(){this.removeEventListenersArray.forEach((function(e){return e()}))}}],n&&Kn(t.prototype,n),r&&Kn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;Yn(this,e);new Sn(t);this.window=t,this.eventContainer=new _}var t,n,r;return t=e,(n=[{key:"loadNonMandatoryContainer",value:function(e){}},{key:"loadNonTrustedContainer",value:function(){}}])&&er(t.prototype,n),r&&er(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function nr(e,t){var n;if(e===nn)n=new tr(t);else n=new Nn(t);return n}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var or=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:On.getInstance();rr(this,e),this.window=t,this.eventContainer=n,this.gtmLoaderService=new nr(r.getClientName(),t),this.cookiePreferencesService=r,this.scrollEventHandler=this.scrollEventHandler.bind(this),this.pointerDownEventHandler=this.pointerDownEventHandler.bind(this)}var t,n,r;return t=e,n=[{key:"detachInteractiveEvents",value:function(){this.eventContainer.destroy()}},{key:"markAsInteractive",value:function(){var e=this;this.detachInteractiveEvents(),this.cookiePreferencesService.markAsInteractive().then((function(){e.cookiePreferencesService.areNonMandatoryCookiesEnabled().then((function(t){t&&e.gtmLoaderService.loadNonMandatoryContainer((function(){O({optIn:!0,isFtb:window.isFtb,shouldLoadExtendedContainer:window.shouldLoadExtendedContainer}),e.window.googleAnalyticsExposedInIframe||e.gtmLoaderService.loadNonTrustedContainer()}))}))}))}},{key:"scrollEventHandler",value:function(){this.markAsInteractive()}},{key:"pointerDownEventHandler",value:function(e){for(var t=e.target||e.srcElement,n=e.path||e.composedPath&&e.composedPath()||[],r=!1,i=0;i<n.length;i++)if(n[i]&&n[i].id&&hn.indexOf(n[i].id)>-1){r=!0;break}!r&&t&&t.tagName&&vn.indexOf(t.tagName.toLowerCase())>-1&&this.markAsInteractive()}},{key:"attachInteractiveEvents",value:function(){var e,t,n,r;this.eventContainer.addEvent(this.window.document,"scroll",(e=this.scrollEventHandler,t=1e3,n={leading:!0,trailing:!1},function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)})),this.eventContainer.addEvent(this.window.document,"pointerdown",this.pointerDownEventHandler)}}],n&&ir(t.prototype,n),r&&ir(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){sr(e,t,n[t])}))}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ur,lr=/loaded|complete/,dr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._document=t,this._Promise=n}var t,n,r;return t=e,n=[{key:"js",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t=ar({src:e,async:1,crossOrigin:"anonymous"},t),this.loadFile("script",t,n)}},{key:"css",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t=ar({href:e,type:"text/css",rel:"stylesheet",crossOrigin:"anonymous"},t),this.loadFile("link",t,n)}},{key:"loadFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new this._Promise((function(i,o){var a=t._document.createElement(e),s=r;for(var c in null===s&&(s=t._document.getElementsByTagName(e)[0]),s&&s.parentNode&&s.parentNode.insertBefore(a,s),a.onload=a.onreadystatechange=function(t,n){(n||!a.readyState||lr.test(a.readyState))&&(u(),n?o("aborted loading file for tag ".concat(e)):i(a))},a.onerror=function(e){u(),o(e)},n)a[c]=n[c];function u(){a.onload=a.onreadystatechange=a.onerror=null}}))}}],n&&cr(t.prototype,n),r&&cr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fr(e,t){return ur||((ur=new dr(e,t)).js=pr(ur.js).bind(ur),ur.css=pr(ur.css).bind(ur)),ur}function pr(e,t){var n=function n(r){var i=n.cache,o="".concat(t?t.apply(this,arguments):r);return i.hasOwnProperty(o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}function vr(e,t){var n=e.js,r=e.css,i=void 0===r?[]:r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.attributes,c=o.document,u=void 0===c?{}:c,l=o.Promise,d=void 0===l?{}:l,f=o.writeActivityIndicator,p=void 0===f?hr:f,v=fr(u,d),h=i.map((function(e){return v.css(e)})),g=n.reduce((function(e,t){return e.then((function(){return d.all(t.map((function(e){return v.js(e,s)})))}))}),d.resolve());return h.push(g),d.all(h).catch((function(e){var n,r;p(t);var i=e.currentTarget||e,o=null!==(n=null!==(r=null==i?void 0:i.src)&&void 0!==r?r:null==i?void 0:i.href)&&void 0!==n?n:"".concat(e);qt().logMessage("Could not lazy load asset: ".concat(o),A,!0)}))}function hr(){}var gr="0123456789abcdefghijklmnopqrstuvwxyz";function mr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,e.J)().Math,i=n,o=parseInt(t);(Number.isNaN(o)||o<=0)&&(o=16),"string"==typeof i&&0!==i.length||(i=gr);var a=i.split("").sort((function(){return r.random()-.5}));return Array.from(Array(o)).map((function(){return a[Number.parseInt(r.random()*a.length)]})).join("")}var yr=o(808),wr=o.n(yr);function br(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,e.J)().location.host;return".".concat(t.split(".").slice(1).join("."))}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){kr(e,t,n[t])}))}return e}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pr=31536e4,Ir=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr();Er(this,e),this.cookieService=t}var t,n,r;return t=e,n=[{key:"getCookie",value:function(e){return this.cookieService.get(e)}},{key:"setCookie",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pr,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Number.parseInt(n),o=Number.isNaN(i)||i<=0?void 0:new Date(Date.now()+1e3*n);this.cookieService.set(e,t,Cr({},r,{expires:0===n?void 0:o,secure:!0}))}},{key:"setRootDomainCookie",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pr,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.setCookie(e,t,n,Cr({domain:br()},r))}}],n&&Or(t.prototype,n),r&&Or(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Sr="perm_id",_r="m_perm_id";function Br(){var e=new Ir,t=e.getCookie(Sr),n=e.getCookie(_r);t||(t="T_".concat(mr(16,gr),"_").concat(mr(16,gr)),e.setRootDomainCookie(Sr,t)),n&&t===n||e.setRootDomainCookie(_r,t)}var jr=o(814);function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function xr(){var e=On.getInstance();return Promise.all([e.getUserClosedCookieBanner(),e.isCookieConsentExpired()]).then((function(e){return!e[0]||e[1]}))}function Lr(t){var n=t||(0,e.J)();return new Promise((function(e,t){var r,i;if((null==n||null===(r=n.cookiePreferencesClientData)||void 0===r?void 0:r.clientName)===rn||null!=n&&null!==(i=n.cookiePreferencesClientData)&&void 0!==i&&i.cookiePreferencesBannerString)e();else{var o=new XMLHttpRequest;o.open("GET","https://www.myheritage.com/FP/API/CookiePreferences/fetch-client-data.php"),o.onload=function(){if(200===o.status)try{var r=JSON.parse(o.response);if("object"===Ar(r)&&null!==r){var i=null==n?void 0:n.cookiePreferencesClientData;n.cookiePreferencesClientData=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){Tr(e,t,n[t])}))}return e}({},r.data,i),e()}t()}catch(e){t()}else t()},o.send()}}))}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){Mr(e,t,n[t])}))}return e}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){var t,n=(0,e.J)();null!=n&&null!==(t=n.mhStaticModeConfiguration)&&void 0!==t&&t.isStaticModeEnabled&&null!=n&&n.cookiePreferencesClientData&&(Br(),n.cookiePreferencesClientData.guestId=(0,jr.D)(Sr))}(),(0,e.J)().loadCookiePreferencesBanner=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,e.J)(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zn(n),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:On.getInstance(),o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new or(n);i.setClientName(t),xr().then((function(e){if(e){i.getIsInteractive()||o.attachInteractiveEvents();var t=null==n?void 0:n.cookiePreferencesClientData;vr(null==t?void 0:t.bannerDependencies,void 0,n).then((function(){null!=t&&t.isCookiePreferencesOptInExposed?r.reportOptInBannerViewedActivity(n.cookiePreferencesClientData.isIntrusiveBanner):r.reportBannerViewedActivity()}))}}))},(0,e.J)().openCookiePreferencesDialog=function(t){t&&t.preventDefault();var n=(0,e.J)(),r=n.cookiePreferencesClientData;n._||r.dialogDependencies.js[0].push(r.optionalDependencies.underscore);(function(e){var t=e.document,n=t.createElement("div");n.id=Xt,t.body.appendChild(n)})(n),vr(r.dialogDependencies,void 0,n).then((function(){return n.showCookiePreferencesDialog()}))};var Nr="csrf_token",Rr="X-CSRF-TOKEN",Fr="csrf-token",Ur="tr_id",Gr="tr-id",qr="X-TR-ID",Hr=["familygraphql.myheritage.com","familygraph.myheritage.com","stats.g.doubleclick.net","google-analytics.com","sites-cf-sandbox.mhcache.com","sites-cf.mhcache.com",window.ASSET_DOMAIN_ALIAS_GENERAL||"cf.mhcache.com","www.filae.com","browser-intake-datadoghq.com","cf.myheritageimages.com","accounts.google.com","*.adyen.com","*.cardinalcommerce.com","*.paypal.com","*.sandbox.paypal.com","*.gladly.com","kg668dbov0.execute-api.us-east-1.amazonaws.com"],Jr=["familygraphql.myheritage.com","familygraph.myheritage.com"],Vr=function(e){var t=e.navigator.sendBeacon;return function(n){Kr(n,Hr)||(n=$r(n,e.mhXsrfToken,Nr),e.trafficTrackingId&&Yr(n)&&(n=$r(n,e.trafficTrackingId,Ur)));for(var r=!1,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];try{r=t.apply(e.navigator,[n].concat(o))}catch(e){qt().logMessage("Failed sending beacon. url: ".concat(n," args: ").concat(o," ").concat(e),A,!0)}return r}},Wr=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:window;try{this.url=t,this.method=e;var a=Kr(t,Hr);a||Zr(this)&&(t=$r(t,o.mhXsrfToken,Nr,e));var s=Kr(t,Jr);a&&!s||o.trafficTrackingId&&Yr(t)&&(t=$r(t,o.trafficTrackingId,Ur,!s&&e)),void 0!==n&&null!=n||(n=!0)}catch(e){Xr(e,o)}return this.base_open(e,t,n,r,i)},zr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;try{Kr(this.url,Hr)||"post"!==this.method.toLowerCase()||(Zr(this)&&this.setRequestHeader(Rr,t.mhXsrfToken),t.trafficTrackingId&&this.setRequestHeader(qr,t.trafficTrackingId))}catch(e){Xr(e,t)}return this.base_send(e)},Qr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;try{Kr(e,Hr)||(t.headers=Dr({},t.headers,Mr({},Rr,n.mhXsrfToken)),n.trafficTrackingId&&(t.headers=Dr({},t.headers,Mr({},qr,n.trafficTrackingId))))}catch(e){Xr(e,n)}return n.base_fetch(e,t)},Xr=function(e,t){t.console.error(e),t.Sentry&&t.Sentry.captureException&&t.Sentry.captureException(e)},$r=function(e,t,n,r){-1===e.indexOf("./")||(e=function(e,t){var n=e.split("/"),r=t.split("/");n.pop();for(var i=0;i<r.length;i++)"."!==r[i]&&(".."===r[i]?n.pop():n.push(r[i]));return n.join("/")}("".concat(location.protocol,"//").concat(location.host).concat(location.pathname),e));return r&&"get"!==r.toLowerCase()?e:function(e,t,n){var r=-1===e.indexOf("?")?"?":"&",i=t||"";return"".concat(e).concat(r).concat(n,"=").concat(i)}(e,t,n)},Kr=function(e,t){for(var n=0;n<t.length;n++){if(new RegExp(t[n].replace(/\*/g,".*")).test(e))return!0}return!1},Zr=function(e){var t=!0;return"boolean"==typeof e.preventCsrfToken&&(t=!e.preventCsrfToken),t},Yr=function(e){return-1===e.indexOf(Ur)},ei=function(e,t,n){var r=document.createElement("input");return r.setAttribute("name",e),r.setAttribute("class",t),r.type="hidden",r.value=n,r};function ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;e&&(0===e.getElementsByClassName(Fr).length&&e.appendChild(ei(Nr,Fr,t.mhXsrfToken)),t.trafficTrackingId&&0===e.getElementsByClassName(Gr).length&&e.appendChild(ei(Ur,Gr,t.trafficTrackingId)),e.submit_())}function ni(t,n){return function(t,n){var r,i,o=(0,e.J)();return t&&(null==o||null===(r=o.navigator)||void 0===r||null===(i=r.sendBeacon)||void 0===i?void 0:i.call(r,t,n))}(t,JSON.stringify(n))}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){ii(e,t,n[t])}))}return e}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var ci=0;function ui(e){return"__private_"+ci+++"_"+e}var li,di,fi,pi="/FP/activity-indicator.php",vi="activityJson",hi=ui("reportURL"),gi=ui("dataQueryParam"),mi=ui("browserBufferingAggregator"),yi=ui("onBufferFlush"),wi=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.reportURL,o=void 0===i?pi:i,a=r.dataQueryParam,s=void 0===a?vi:a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,e.J)();oi(this,t),Object.defineProperty(this,hi,{writable:!0,value:void 0}),Object.defineProperty(this,gi,{writable:!0,value:void 0}),Object.defineProperty(this,mi,{writable:!0,value:void 0}),Object.defineProperty(this,yi,{writable:!0,value:function(e){n._window.isClientSideStatisticsReportingExposed&&ni(si(n,hi)[hi],ii({},si(n,gi)[gi],e))}}),si(this,mi)[mi]=new bt(si(this,yi)[yi]),si(this,hi)[hi]=o,si(this,gi)[gi]=s,this._window=c}var n,r,i;return n=t,(r=[{key:"writeActivityIndicator",value:function(e,t){var n=e.activityId,r=e.scenario,i=e.delta,o=e.service,a=ri({activityId:n},r&&{scenario:r},i&&{delta:i},o&&{service:o});si(this,mi)[mi].add(a),t&&"function"==typeof t&&this._window.setTimeout(t)}},{key:"writeActivityIndicators",value:function(e,t){si(this,mi)[mi].addMultiple(e.map((function(e){var t=e.activityId,n=e.scenario,r=e.delta,i=e.service;return ri({activityId:t},n&&{scenario:n},r&&{delta:r},i&&{service:i})}))),t&&"function"==typeof t&&this._window.setTimeout(t)}}])&&ai(n.prototype,r),i&&ai(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();function bi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,e.J)(),n=t.clientActivityReportingConfiguration,r=void 0===n?{}:n,i=(0,e.J)();if(!i.mhStatisticsBatchReporter){var o=ri({reportURL:pi,dataQueryParam:vi},r);i.mhStatisticsBatchReporter=new wi(o,i)}return i.mhStatisticsBatchReporter}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){ki(e,t,n[t])}))}return e}function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ei(e,t,n,r,i,o){bi().writeActivityIndicator({activityId:e,scenario:t,delta:r,service:i},o)}function Oi(e,t){bi().writeActivityIndicators(e,t)}function Pi(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=function(){i&&i(),(0,e.J)().location=r};return bi().writeActivityIndicator(Ci({activityId:t,scenario:n},o),a),!1}!function(){var t=(0,e.J)();t.writeRedirectActivity=Pi,t.writeActivityIndicator=Ei,t.writeActivityIndicatorWithCallback=Oi}(),window.history&&window.history.pushState&&(window.historyEventsEmitter=window.historyEventsEmitter||new E(window)),(null===(li=window)||void 0===li||null===(di=li.process)||void 0===di||null===(fi=di.env)||void 0===fi?void 0:fi.NODE_ENV)!==b&&(window.clientSideErrorHandler=new zn(window),window.clientSideErrorHandler.bindOnError()),window.googleAnalyticsExposedInIframe&&window.addEventListener("load",P),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;e.XMLHttpRequest&&(e.XMLHttpRequest.prototype.base_send=e.XMLHttpRequest.prototype.send,e.XMLHttpRequest.prototype.base_open=e.XMLHttpRequest.prototype.open,e.XMLHttpRequest.prototype.open=Wr,e.XMLHttpRequest.prototype.send=zr),e.navigator&&e.navigator.sendBeacon&&(e.navigator.sendBeacon=Vr(e)),e.fetch&&(e.base_fetch=e.fetch,e.fetch=Qr),HTMLFormElement.prototype.submit_=HTMLFormElement.prototype.submit,HTMLFormElement.prototype.submit=ti}(window),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments.length>1?arguments[1]:void 0;Lr(e).then(e.loadNonMandatoryContainer=function(){e.addEventListener(Xn,(function(){var n=new Nn(e);On.getInstance().areNonMandatoryCookiesEnabled().then((function(e){e&&n.loadNonMandatoryContainer(t)}))}))})}(window,(function(){(O({optIn:!0,isFtb:window.isFtb,optOut:window.optOut,shouldLoadExtendedContainer:window.shouldLoadExtendedContainer}),window.googleAnalyticsExposedInIframe)||new Nn(window).loadNonTrustedContainer(!0)}));try{w.initializeDB(window)}catch(e){}o(931),o(969)}()}();
//# sourceMappingURL=https://www.myheritage.com/FP/Assets/JS/output/sourcemaps/MainFullInitialize-59842f75ba45c3ea1365f1a3397a4dd0.js.map
