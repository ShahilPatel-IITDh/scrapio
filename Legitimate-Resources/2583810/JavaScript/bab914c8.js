function applyCustomSelect(){$('select:not("[data-js-not-custom]")').each(function(){var $this=$(this);if($this.closest('.select-custom').length){return}
var numberOfOptions=$(this).children('option').length;$this.addClass('is-hidden');$this.wrap('<div class="select-custom"></div>');$this.after('<div class="select-custom_field">'+$this.children('option:selected').text()+'</div>');var $customSelect=$this.next('.select-custom_field');var $customSelectOptions=$('<div />',{class:'select-custom_options'}).insertAfter($customSelect);var $customSelectOptionsInner=$('<div />',{class:'select-custom_options-inner'}).appendTo($customSelectOptions);for(var i=0;i<numberOfOptions;i++){$('<div />',{class:'select-custom_option',text:$this.children('option').eq(i).text(),rel:$this.children('option').eq(i).val()}).appendTo($customSelectOptionsInner)}
var $customSelectOption=$customSelectOptionsInner.children('.select-custom_option');$customSelect.on('click',function(event){event.stopPropagation();$('.select-custom_field.is-active').not(this).each(function(){$(this).removeClass('is-active').next('.select-custom_options').hide()});$(this).toggleClass('is-active').next('.select-custom_options').toggle()});$customSelectOption.on('click',function(event){event.stopPropagation();$customSelect.text($(this).text()).removeClass('is-active').addClass('is-selected');$this.val($(this).attr('rel')).change();$customSelectOptions.hide();if($(this).attr('rel')==0){$customSelect.removeClass('is-selected')}});$(document).on('click',function(){$customSelect.removeClass('is-active');$customSelectOptions.hide()})})}
$(function(){if(window.customSelectDelay){setTimeout(applyCustomSelect,window.customSelectDelay)}else{applyCustomSelect()}})