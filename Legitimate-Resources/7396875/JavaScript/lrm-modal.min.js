var LRM=LRM||{},LRM_Helper;+function(a){LRM.home_url_arr.scheme!==window.location.protocol.replace(":","")&&alert("AJAX Login and Registration Popup warning: the WP settings site URL scheme and current url scheme doesn't math. \n\rWP settings url: "+LRM.home_url+"\n"+"Browser url: "+window.location.href+"\n\r"+"This could cause a login/registration issues! "+"Usually this happens when SSL (HTTPS) were added to the site, but HTTP version still accessible. How to set up HTTP to HTTPS redirect: https://websitesetup.org/http-to-https-wordpress/"),LRM.home_url_arr.host!==window.location.host&&alert("AJAX Login and Registration Popup warning: the WP settings site Domain and current url Domain doesn't math. \n\rWP settings domain: "+LRM.home_url_arr.host+"\n"+"Browser domain: "+window.location.host+"\n\r"+"This could cause a login/registration issues! "),a('.lrm-user-modal').length>0?b():setTimeout(function(){b()},1200);function d(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a}function b(){var j='<span class="lrm-button-loader"> <svg version="1.1" id="L4" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 40" enable-background="new 0 0 0 0" xml:space="preserve"> <circle fill="#ffffff" stroke="none" cx="30" cy="20" r="6"> <animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.1"/> </circle> <circle fill="#ffffff" stroke="none" cx="50" cy="20" r="6"> <animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.2"/> </circle> <circle fill="#ffffff" stroke="none" cx="70" cy="20" r="6"> <animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin="0.3"/> </circle> </svg></span>',h,b,f;a("html").addClass("html-has-lrm"),a("body").addClass("has-lrm"),a(document).on('lrm_show_signup',c),a(document).on('lrm_show_register',c),a(document).on('lrm_show_signin',e),a(document).on('lrm_show_login',e),setTimeout(function(){LRM.selectors_mapping.login&&a(LRM.selectors_mapping.login).off("click").on('click',function(b){return b.preventDefault(),a(document).trigger('lrm_show_login',[b]),!1}),LRM.selectors_mapping.register&&a(LRM.selectors_mapping.register).off("click").on('click',function(b){return b.preventDefault(),a(document).trigger('lrm_show_signup',[b]),!1});var b=window.location.hash.substring(1);b.length>0&&(b==="login"?a(document).trigger('lrm_show_login'):b==="inline-login"?jQuery(".lrm-inline .lrm-switch-to--login").click():b=="register"?a(document).trigger('lrm_show_signup'):b=="inline-register"&&jQuery(".lrm-inline .lrm-switch-to--register").click())},300),h=d()?'touchend':'click',a(document).on('click','.lrm-signup',c),a(document).on(h,'[class*="lrm-register"]',c),a(document).on('click','.lrm-switch-to--register',c),a(document).on('click','.lrm-signin',e),a(document).on(h,'[class*="lrm-login"]',e),a(document).on('click','.lrm-switch-to--login',e),a(document).on('click','.lrm-forgot-password,[data-action="login"] .lrm-form-message a,.lrm-switch-to--reset-password',function(a){a.preventDefault(),k(a)}),a('.lrm-user-modal').on('click',function(c){if(a(c.target).is('.lrm-user-modal')||a(c.target).is('.lrm-close-form')){var d=a(document).triggerHandler('lrm/can_close_modal',c);if(d!==void 0&&!d)return!1;a(this).removeClass('is-visible'),b=!1,a(document).triggerHandler("lrm/close_modal",this,c,"click")}}),a(document).on("keyup",function(c){if(c.which=='27'){var d=a(document).triggerHandler('lrm/can_close_modal',c);if(d!==void 0&&!d)return!1;a(".lrm-user-modal").removeClass('is-visible'),b=!1,a(document).triggerHandler("lrm/close_modal",this,c,"esc")}}),a(document).on('click','.lrm-user-modal-container .hide-password',function(){var b=a(this),c=b.parent().find('input');'password'==c.attr('type')?c.attr('type','text'):c.attr('type','password'),b.hasClass("hide-password--on")?(b.attr("title",b.data("show")),b.removeClass("hide-password--on")):(b.attr("title",b.data("hide")),b.addClass("hide-password--on")),c.putCursorAtEnd()}),b=!1,f=!1;function i(c){if(!c.target||a(c.target).hasClass("lrm-switch-to-link"))return;var d=a(c.target).data("lrm-role");d!==void 0&&(b=d),f=!1,a(c.target).data("lrm-role-silent")!==void 0&&(f=!0)}function e(c,e){var b,d;return!!(LRM.is_user_logged_in&&!LRM.is_customize_preview)||(a(document).triggerHandler("lrm/before_display/login",this,c),i(c),b=a(c.target).closest(".lrm-main"),b.length||(LRM.redirect_url="",e?(d=e.target):(d=c.target?c.target:this),d&&a(d).hasClass("lrm-redirect")&&(LRM.redirect_url=a(d).attr("href"))),b.length||(b=a(".lrm-user-modal")),g(b),b.find('.lrm-signin-section').addClass('is-selected'),b.find('.lrm-signup-section').removeClass('is-selected'),b.find('.lrm-reset-password-section').removeClass('is-selected'),b.find('.lrm-switcher').children('li').eq(0).children('a').addClass('selected'),b.find('.lrm-switcher').children('li').eq(1).children('a').removeClass('selected'),setTimeout(function(){a(window).width()>600&&b.find(".lrm-signin-section input[data-autofocus]").focus()},100),c&&c.preventDefault(),!1)}function c(d,l){var c,h,e,k,j;return!!(LRM.is_user_logged_in&&!LRM.is_customize_preview)||(a(document).triggerHandler("lrm/before_display/registration",this,d),i(d),c=a(d.target).closest(".lrm-main"),c.length||(LRM.redirect_url="",l?(h=l.target):(h=d.target?d.target:this),h&&a(h).hasClass("lrm-redirect")&&(LRM.redirect_url=a(h).attr("href"))),c.length||(c=a(".lrm-user-modal")),g(c),c.find('.lrm-signin-section').removeClass('is-selected'),c.find('.lrm-signup-section').addClass('is-selected'),c.find('.lrm-reset-password-section').removeClass('is-selected'),c.find('.lrm-switcher').children('li').eq(0).children('a').removeClass('selected'),c.find('.lrm-switcher').children('li').eq(1).children('a').addClass('selected'),c.find(".fieldset--user_role")&&(e=c.find(".fieldset--user_role"),k=null,b?(k=e.find("option[data-label='"+b+"']"),k.length&&(j=k.val()),j?e.find("select[name='user_role']").val(j):console.warn("LRM user role selector: no Role was found with a label:",b)):e.find("select[name='user_role']").val(""),f&&(!b||b&&j)?e.hide():e.show()),setTimeout(function(){a(window).width()>600&&c.find(".lrm-signup-section input:first").focus(),a("#signup-password").trigger("keyup")},100),d&&d.preventDefault(),!1)}function k(c){a(document).triggerHandler("lrm/before_display/forgot_password",this,c);var b=a(c.target).closest(".lrm-main");return b.length||(b=a(".lrm-user-modal")),g(b),b.find('.lrm-signin-section').removeClass('is-selected'),b.find('.lrm-signup-section').removeClass('is-selected'),b.find('.lrm-reset-password-section').addClass('is-selected'),setTimeout(function(){a(window).width()>600&&b.find(".lrm-reset-password-section input[data-autofocus]").focus()},100),c&&c.preventDefault(),!1}function g(b){window.LRM_Pro&&(window.LRM_Pro.modal_is_shown=!0),b.addClass('is-visible'),a(document).triggerHandler("lrm/show_modal",b)}a(document).on('submit','.js-lrm-form',l);function l(c){if(LRM.is_customize_preview){alert("Not possible to submit form in Preview Mode!");return}var b=a(c.target);if(b.hasClass("rcp_form"))return!0;if(c.preventDefault(),b.hasClass("--is-submitting"))return!1;if(a(document).triggerHandler('lrm/do_not_submit_form',b))return!1;if(b.data("action")=="registration"&&b.find("#acf-form-data").length>0&&acf.validation.active){if("yes"!==b.data("lrm-acf-validated"))return;b.data("lrm-acf-validated","no")}return b.find(".has-error").removeClass("has-error").next("span").removeClass("is-visible"),b.find("button[type='submit']").prepend(j),b.find(".lrm-form-message").html(""),b.addClass("--is-submitting"),a.ajax({type:'POST',dataType:'json',url:LRM.ajax_url,data:b.serialize(),success:function(c){if(b.find(".lrm-button-loader").remove(),b.removeClass("--is-submitting"),c.data.message&&(c.data.for?0===b.find('input[name="'+c.data.for+'"]').length?alert(c.data.message):(b.find('input[name="'+c.data.for+'"]').addClass('has-error').next('.lrm-error-message').html(c.data.message).addClass('is-visible'),b.find(".lrm-form-message").removeClass("lrm-is-error").html("")):LRM_Form.set_message(b,c.data.message,!c.success),c.data.custom_html&&c.data.custom_html_selector&&a(c.data.custom_html_selector).html(c.data.custom_html)),a(document).triggerHandler('lrm/ajax_response',[c,b,b.data("action")]),window.is_lrm_testing){window.lrm_response=c;return}c.success&&c.data.logged_in&&(LRM.is_user_logged_in=!0,a(document).triggerHandler('lrm_user_logged_in',[c,b,b.data("action")]),"reload"==c.data.action?window.location.reload(!0):"hide"==c.data.action&&(a(".lrm-user-modal").removeClass('is-visible'),a("body").addClass("logged-in"))),a(document).triggerHandler('lrm_pro/maybe_refresh_recaptcha')},error:function(a,d,c){if(b.find(".lrm-button-loader").remove(),b.removeClass("--is-submitting"),503===a.status&&a.responseText.indexOf("ERROR")>0?LRM_Form.set_message(b,a.responseText,!1):alert("An error occurred, please contact with administrator... \n\rFor more details look at the console (F12 or Ctrl+Shift+I, Console tab)!"),window.console==void 0)return;console.log('statusCode:',a.status),console.log('errorThrown:',c),console.log('responseText:',a.responseText)}}),!1}a('body').on('keyup','#lrm-password1,#lrm-password2',function(c){var b=LRM.checkPasswordStrength(a("#lrm-password1"),null,a("#lrm-password1").parent().parent().find(".lrm-pass-strength-result"));if(typeof b=="undefined")return;!b||b<=2?(a(".pw-weak").show(),a(".pw-checkbox").attr("required","required")):(a(".pw-weak").hide(),a(".pw-checkbox").attr("required",!1))}),setTimeout(function(){a('#lrm-password1,#lrm-password2').length>0&&a('#lrm-password1,#lrm-password2').trigger('keyup')},500)}a.ajaxSetup({dataFilter:function(a,d){if('json'!==d)return a;if(c(a))return a;var b=a.match(/{"success.*}/);return null===b?console.log('Unable to fix malformed JSON'):c(b[0])?(console.log('Fixed malformed JSON. Original:'),console.log(a),a=b[0]):console.log('Unable to fix malformed JSON'),a}});function c(c){try{var b=a.parseJSON(c);return b&&'object'==typeof b}catch(a){return!1}}window.LRM_Form={set_message:function(f,e,g){var b=f.find(".lrm-form-message"),d,h,c;0!==b.length?b.html(e):alert(e),d=a(".lrm-user-modal").hasClass('is-visible'),h=d?".lrm-user-modal":"html, body",c=a(document).triggerHandler("lrm/form/set_message_scroll_offset",[f,d,b]),c===void 0&&(c=d?25:b.offset().top-15),a(h).animate({scrollTop:c},1500),g?b.addClass("lrm-is-error"):b.removeClass("lrm-is-error")}},LRM.checkPasswordStrength=function(c,b,a){return LRM.loadPasswordMeter(function(){var d=c.val(),g,e,f;if(!d){a.data('status','empty');return}switch(b?(g=b.val()):(g=d),e=["querty","password","P@ssword1","132","123"],f=0,"lrm"===LRM.password_strength_lib?f=LRM_Helper.PasswordMeter(d,e,g):(e=e.concat(wp.passwordStrength.userInputBlacklist()),f=wp.passwordStrength.meter(d,e,g)),f){case 2:a.attr('data-status','bad').html(LRM.l10n.password_is_bad);break;case 3:a.attr('data-status','good').html(LRM.l10n.password_is_good);break;case 4:a.attr('data-status','strong').html(LRM.l10n.password_is_strong);break;case 5:if(b){a.attr('data-status','short').html(LRM.l10n.passwords_is_mismatch);break}default:a.attr('data-status','short').html(LRM.l10n.password_is_short)}return f})},LRM.passwordMeterIsLoaded=!1,LRM.passwordMeterIsLoading=!1,LRM.loadPasswordMeter=function(b){if("lrm"===LRM.password_strength_lib||LRM.passwordMeterIsLoaded)return b();window.wp=window.wp||{};var c;!function(a){wp.passwordStrength={meter:function(d,b,c){if(a.isArray(b)||(b=[b.toString()]),d!=c&&c&&c.length>0)return 5;if("undefined"==typeof window.zxcvbn)return-1;var e=zxcvbn(d,b);return e.score},userInputBlacklist:function(){var b,f,g,e,c=[],d=[],h=["user_login","first_name","last_name","nickname","display_name","email","url","description","weblog_title","admin_email"];for(c.push(document.title),c.push(document.URL),f=h.length,b=0;b<f;b++)e=a("#"+h[b]),0!==e.length&&(c.push(e[0].defaultValue),c.push(e.val()));for(g=c.length,b=0;b<g;b++)c[b]&&(d=d.concat(c[b].replace(/\W/g," ").split(" ")));return d=a.grep(d,function(b,c){return!(""===b||4>b.length)&&a.inArray(b,d)===c})}},c=wp.passwordStrength.meter}(jQuery),LRM.passwordMeterIsLoading=!0,a.cachedScript(LRM.password_zxcvbn_js_src).done(function(a,c){LRM.passwordMeterIsLoaded=!0,b()})}}(jQuery),jQuery.fn.putCursorAtEnd=function(){return this.each(function(){if(this.setSelectionRange){var a=jQuery(this).val().length*2;this.focus(),this.setSelectionRange(a,a)}else jQuery(this).val(jQuery(this).val())})},jQuery.cachedScript=function(b,a){return a=jQuery.extend(a||{},{dataType:"script",cache:!0,url:b}),jQuery.ajax(a)},LRM_Helper={},LRM_Helper.setCookie=function(d,e,b){var c="",a;b&&(a=new Date,a.setTime(a.getTime()+b*24*60*60*1e3),c="; expires="+a.toUTCString()),document.cookie=d+"="+(e||"")+c+"; path=/"},LRM_Helper.getCookie=function(e){for(var c=e+"=",d=document.cookie.split(';'),b=0,a;b<d.length;b++){for(a=d[b];a.charAt(0)==' ';)a=a.substring(1,a.length);if(a.indexOf(c)==0)return a.substring(c.length,a.length)}return null},LRM_Helper.PasswordMeter=function(a,c,d){function b(){this.pass1=a,this.pass2=d,this.passLength=this.pass1.length,this.tokens={letters:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers:"0123456789",specialChars:"!&%/()=?^*+][#><;:,._-|"},this.letters=this.tokens.letters.split(""),this.numbers=this.tokens.numbers.split(""),this.specialChars=this.tokens.specialChars.split("")}b.prototype={check:function(){var a=this,h,j,g,d,e,f,i,b,c,k;if(a.pass2&&a.pass1!==a.pass2)return 5;h=a.pass1,j=a.passLength,g=0,d=0,e=0,f=h.split(""),i=f.length;for(b=0;b<i;++b)c=f[b],a._isLetter(c)?g++:a._isNumber(c)?d++:a._isSpecialChar(c)&&e++;return k=a._calculate(j,g,d,e),Math.round(k/2.5)},_isLetter:function(a){var b=this;return b.letters.indexOf(a)!=-1},_isNumber:function(a){var b=this;return b.numbers.indexOf(a)!=-1},_isSpecialChar:function(a){var b=this;return b.specialChars.indexOf(a)!=-1},_calculate:function(d,e,f,g){var b=0,h=parseInt(e,10),i=parseInt(f,10),j=parseInt(g,10);return d<7&&(b+=1),d>=7&&(b+=4),h>0&&(b+=1),i>0&&(b+=2),j>0&&(b+=3),jQuery.inArray(a,c)>0&&(b=5),b}};var e=new b;return e.check()}