"use strict";(self.webpackChunkAemPortal=self.webpackChunkAemPortal||[]).push([[392],{7392:function(t,e,a){a.d(e,{CN:function(){return w},Cs:function(){return m},Gr:function(){return f},L9:function(){return k},Mj:function(){return d},N:function(){return l},RG:function(){return u},RV:function(){return h},RZ:function(){return g},SH:function(){return p},Z0:function(){return v},iQ:function(){return y},oR:function(){return S}});var n=a(3360),r=a(1239),i=a(1582);const o=(0,n.O6)("datalayer");class c{withEvent(t){return this.event={...t},this}withConversion(t){return t.category&&t.detail?(this.conversion={...t},this):(o.error("Interaction#withConversion category or detail missing on given conversion",t),this)}withRawData(t){return this.event?this.event.rawdata=t:o.error("Interaction#withRawData called before event was set"),this}withProfile(t){return this.profile=t,this}withProduct(t){return this.product=t,this}track(){if(!(window.SCS&&window.SCS.datalayer&&window.SCS.datalayer.track))return void o.warn("Interaction#track: Cannot track event, SCS Datalayer not available at this time. Please check whether utag.sync.js has been loaded");if(!s)return void o.error("Interaction#track: Initial tracking data has not yet been set.");const t={...s,...this};o("Interaction > track",t),window.SCS.datalayer.track(t)}}let s;function l(t,e="de",a=i.dP.RES,c,l,d="scportal",f=(n.yv?"prod":"dev"),g,h=!1,p=!1){o("SCS.portal.datalayer.initializeTrackingData",arguments),!s||p?(s={page:{path:String(null!=t?t:window.location.pathname),language:e,cfu:a,viewtype:c,template:l},platform:{platform:d,environment:f,context:g}},h||Promise.all([(0,i.Ai)(),r.Cd]).then((([t])=>{u(t),v()})).catch((t=>{o.error("Error on page track",t)}))):o.error("initializeTrackingData: initial call to initializeTrackingData already done")}function u(t){if(!s)return void o.error("setProfile: call initializeTrackingData first");const e=t.getUser();e&&(s.profile={cfu:e.getSegment(),loggedIn:"login"})}function d(t){s?s.page.type=t:o.error("setPageType: call initializeTrackingData first")}function f(t){s?s.product=t:o.error("setProduct: call initializeTrackingData first")}function g(t){s?s.conversion=t:o.error("setConversion: call initializeTrackingData first")}function h(t){s?s.cart=t:o.error("setCart: call initializeTrackingData first")}function p(t,e){s?(s.udo||(s.udo={}),s.udo[t]=e):o.error("addUdoProperty: call initializeTrackingData first")}function w(t){s?(s.apps||(s.apps={}),s.apps.uxTracking={active:t}):o.error("setUxTracking: call initializeTrackingData first")}function S(t){s?(s.apps||(s.apps={}),s.apps.performance={active:t}):o.error("Performance: call initializeTrackingData first")}function m(t){s?(s.apps||(s.apps={}),s.apps.analytics||(s.apps.analytics={}),s.apps.analytics.aaeloquaid=t):o.error("addAdobeAnalyticsEloquaID: call initializeTrackingData first")}function v(){var t;s?(t=s,window.SCS&&window.SCS.datalayer&&window.SCS.datalayer.page?window.SCS.datalayer.page(t):o.warn("SCS.datalayer.page not available, utag.sync.js not loaded?")):o.error("trackPageView: call initializeTrackingData first")}function k(t,e,a,n){t&&e&&a&&n?(new c).withEvent({action:t,category:n,label:e,location:a}).track():o.error("Called `trackEvent` without all necessary fields")}function y(t,e,a,n,r,i,s){t&&e&&a&&n&&r&&i?(new c).withEvent({action:t,category:n,label:e,location:a}).withConversion({category:r,detail:i,class:s}).track():o.error("Called `trackEventAndConversion` without all necessary fields")}},1582:function(t,e,a){a.d(e,{Ai:function(){return d},dP:function(){return n}});var n,r=a(3360),i=a(9582);!function(t){t.RES="res",t.SME="sme",t.CBU="cbu"}(n||(n={}));const o=(0,r.O6)("profile");class c{constructor(t){this.data=t}getId(){return this.data.cust_scn}getFirstName(){return decodeURIComponent(this.data.cust_fname||"")}getLastName(){return decodeURIComponent(this.data.cust_lname||"")}getAuthLevel(){return decodeURIComponent(this.data.session_authlevel||"")}getFullName(){return this.isSegmentSme()||this.isSegmentCbu()?this.getLastName():[this.getFirstName(),this.getLastName()].filter(Boolean).filter(i.d0).join(" ")}getSegment(){return this.data.cust_segment||n.RES}isSegmentSme(){return this.getSegment()===n.SME}isSegmentCbu(){return this.getSegment()===n.CBU}isSegmentRes(){return this.getSegment()===n.RES}}class s{constructor(t){this.user=t}getUser(){return this.user}}const l="scsHeader.profile.loginData";let u;function d(){return u||(u=async function(){try{const t=await fetch("/etc/profile.json",{credentials:"same-origin"}),e=await t.json();if(l in e)return new s(new c(e[l]))}catch(t){return o.error("Profile JSON data not in expected format",t),new s}return new s}()),u}}}]);
//# sourceMappingURL=392.905708cd588761bfc1b6.js.map