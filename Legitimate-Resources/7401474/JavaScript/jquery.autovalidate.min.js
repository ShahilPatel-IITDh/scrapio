jQuery(function(e){var t="form.autovalidate",a=".watermark[title]",r="watermarked",n=[],i="input textarea select".split(" "),o=["required"],l="mustmatchfield mustmatch mustnotmatch minvalue maxvalue minlength minchosen maxchosen validateas".split(" ");e.each(i,function(t,a){e.each(o,function(e,t){n.push(a+"."+t)}),e.each(l,function(e,t){n.push(a+"["+t+"]")})}),n=n.join(",");var s="has-error",h=function(e,t,a,r){var n=e.parent(".form-group,.input-group,.checkbox-inline,.checkbox");n.length&&(a?n.addClass(t):n.removeClass(t),errorHolder=n.find(".errorHolder"),e.attr("data-toggle","tooltip").attr("data-placement","bottom"),a?e.tooltip("hide").attr("data-original-title",r).tooltip("fixTitle").tooltip("show"):e.tooltip("hide").attr("data-original-title","").tooltip("fixTitle"),on_mobile="undefined"!=typeof on_mobile&&on_mobile,on_mobile&&(error_holder=n.find(".error-holder"),error_holder.length||(str="<div class='error-holder text-danger'></div>",n.append(str),error_holder=n.find(".error-holder")),a?error_holder.html(r).show():error_holder.html("").hide()))},d=function(t){var n=t.target||t,i=e(n),o=e(n.form);if(i.data("blessedBox"))return theWatcher(i.data("blessedBox"));var l=i.hasClass("required"),d=i.attr("mustmatchfield"),m=i.attr("mustmatch"),c=i.attr("mustnotmatch"),u=i.attr("minvalue"),f=i.attr("maxvalue"),p=i.attr("minlength"),v=i.attr("maxlength")&&i.attr("maxlength")>=0&&i.attr("maxlength"),g=i.attr("minchosen"),b=i.attr("maxchosen"),x=i.attr("validateas"),k=i.attr("mustmatchmessage");h(i,s,!1),i.data("siblingBoxes")&&i.data("siblingBoxes").each(function(t,a){h(e(a),s,!1)});var y=o.data("validationErrorsByName");delete y[n.name];var w=i.is(a)&&i.hasClass(r)?"":n.value;"radio"==n.type&&(w=o.find("input[name="+n.name+"]:checked").val()||"");var _=i.attr("nicename")||n.name.replace(/_/g," ").replace(/ id$/,"");if(x)switch(x.toLowerCase()){case"email":m="^[^@ ]+@[^@. ]+\\.[^@ ]+$",k||(k=_+" doesn't look like a valid email address. It must be of the format 'john@host.com'");break;case"phone":m="^\\+\\D*\\d*\\D*(\\d{3})?\\D*\\d{3}\\D*\\d{4}\\D*$",k||(k=_+" doesn't look like a valid phone number; e.g +237000000000");break;case"zipcode":m="^\\d{5}(?:-\\d{4})?$",k||(k=_+" doesn't look like a valid zip code. It should be 5 digits, optionally followed by a dash and four more, e.g. 00237 or 19009-2314");break;case"integer":m="^-?\\d+$",k||(k=_+" must be an integer.");break;case"float":m="^-?(?:\\d+|\\d*.\\d+)$",k||(k=_+" must be a number, such as 1024 or 3.1415 (no commas are allowed).");break;case"url":m="(ftp|http|https):\\/\\/(w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?",k||(k=_+" doesn't look like a valid URL. It must be of the format 'http://www.zitocard.com'.")}var B=[];if(l&&!w&&B.push(i.attr("requiredmessage")||o.attr("requiredmessage")&&o.attr("requiredmessage").replace(/%nicename%/gi,_)||_+" is a required field."),d&&w){mmfield=e("[name="+d+"]");var D=mmfield.attr("nicename")||d.replace(/_/g," ");mmfield.length&&mmfield.val()!=w&&B.push(k||_+" must have the same value as "+D)}if(m&&w&&(m=new RegExp(m,"true"==i.attr("mustmatchcasesensitive")?"":"i"),m.test(w)||B.push(k||_+" is not in a valid format.")),c&&w&&(c=new RegExp(c,"true"==i.attr("mustmatchcasesensitive")?"":"i"),c.test(w)&&B.push(k||_+" is not in a valid format.")),u&&w&&1*u>1*w&&B.push(_+" may not be less than "+u+"."),f&&w&&1*w>1*f&&B.push(_+" may not be greater than "+f+"."),p&&w.length<1*p&&(l||w)&&B.push(_+" must have at least "+p+" characters."),v&&w.length>1*v&&B.push(_+" may not be more than "+v+" characters (it is currently "+w.length+" characters)."),"date"==x&&w){var I=new Date(w);isNaN(I)&&B.push(_+" must be a valid date (e.g. 12/31/2001)"),u&&new Date(u)>I&&B.push(_+" must not be earlier than "+new Date(u).toLocaleString()+"."),f&&new Date(f)<I&&B.push(_+" must be earlier than "+new Date(f).toLocaleString()+".")}if(g||b){var T;"checkbox"==n.type||"radio"==n.type?T=o.find("input[name='"+n.name+"']:checked").length:n.options&&(T=i.find("option:selected").length),g>T&&B.push("Please choose at least "+g+" "+_),T>b&&B.push("Please choose no more than "+b+" "+_)}B.length&&(y[n.name]={el:n,message:B.join("\n")},h(i,s,!0,B[0]),i.data("siblingBoxes")&&i.data("siblingBoxes").each(function(t,a){h(e(a),s,!0,error[0])}))},m=function(t,i){i=e(i),i.data("validationErrorsByName",{});for(var o=0,l=i[0].elements.length;l>o;o++){var s=e(i[0].elements[o]);if(s.is(a)&&function(e){var t=e.attr("title");e.focus(function(){e.val()==t&&e.removeClass(r).val("")}).blur(function(){e.val()||e.addClass(r).val(t)}).blur()}(s),s.is(n)||s.attr("maxlength")&&s.attr("maxlength")>=0)if(s.data("nativeIndex",o),"checkbox"==s[0].type||"radio"==s[0].type){var h=e(s.form).find("input[name='"+s.name+"']:"+s[0].type).not(s);h.data("blessedBox",s[0]),h.add(s).click(d),s.data("siblingBoxes",h)}else s.blur(d),s.change(d)}i.submit(function(t){for(var a=0,r=i[0].elements.length;r>a;a++)d(i[0].elements[a]);var n=[];if(e.each(i.data("validationErrorsByName"),function(e,t){n.push(t)}),n.length){n.sort(function(t,a){return t=1e3*t.el.tabIndex+e(t.el).data("nativeIndex"),a=1e3*a.el.tabIndex+e(a.el).data("nativeIndex"),a>t?-1:t>a?1:0});var o=e.map(n,function(e){return e.message}).join("\n");i.attr("alertError")&&alert(o);var l=n[0].el;try{parentTab=e(l).closest(".form_tab"),parentTab.length&&(parentTabId=parentTab.attr("id"),e("a[href='#"+parentTabId+"']").click())}catch(s){}try{l.focus()}catch(s){}try{l.select()}catch(s){}return t.cancelFurtherSubmits=!0,t.preventDefault(),t.stopPropagation(),!1}return!0})};e(t).each(m),e(document).bind("DOMNodeInserted",function(a){e(a.target).find(t).andSelf().filter(t).each(m)}),e(".required").each(function(){thisname=e(this).attr("name"),label=e("label[for="+thisname+"]"),label.length&&(prev_cont=label.html(),prev_cont+=" <sup class='text-danger'>*</sup>",label.html(prev_cont))}),e(".form-group[hint]").each(function(){hint=e(this).attr("hint"),hint="<div class='text-muted'>"+hint+"</div>",e(this).find(".form-control").after(hint)}),e("[default]").each(function(){var t=e(this).attr("default");"undefined"==typeof t&&(t=""),!e(this).is("[type]")||"checkbox"!=e(this).attr("type")&&"radio"!=e(this).attr("type")?e(this).val(t):t==e(this).val()&&e(this).prop("checked",!0)});for(var c=document.getElementsByTagName("TEXTAREA"),u=0,f=c.length;f>u;u++)if(/^[0-9]+$/.test(c[u].getAttribute("maxlength"))){var p=function(){var e=parseInt(this.getAttribute("maxlength"),10);return this.value.length>e?(alert("Maximum length exceeded: "+e),this.value=this.value.substr(0,e),!1):void 0};c[u].onkeyup=p,c[u].onblur=p}});