(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46856],{67211:function(e,t,n){var r=n(25620),i={184:(e,t)=>{var n;!function(){var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},679:(e,t,n)=>{var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),v=l(n),g=0;g<a.length;++g){var m=a[g];if(!(o[m]||r&&r[m]||v&&v[m]||s&&s[m])){var y=h(n,m);try{c(t,m,y)}catch(e){}}}}return t}},921:(e,t)=>{var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case v:case l:return e;default:return t}}case i:return t}}}function w(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||_(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===x||e.$$typeof===b||e.$$typeof===m)},t.typeOf=_},864:(e,t,n)=>{e.exports=n(921)},774:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return i[e](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nc=void 0;var s={};(()=>{a.r(s),a.d(s,{DevEasterEgg:()=>Uo,PROXY_ENV_COOKIE_KEY:()=>Wo,isProxyOnline:()=>Ho,isShowProxyEntry:()=>Yo});const e=n(67597);var t=a.n(e);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){if(Array.isArray(e))return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||h(e,t)||f()}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var x=a(184),b=a.n(x);const _=(0,e.createContext)({});function w(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function C(e){return e<=1?"".concat(100*Number(e),"%"):e}function S(e){return 1===e.length?"0"+e:String(e)}function E(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function k(e){return T(e)/255}function T(e){return parseInt(e,16)}var P={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function I(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(P[e])e=P[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=D.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=D.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=D.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=D.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=D.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=D.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=D.hex8.exec(e))?{r:T(n[1]),g:T(n[2]),b:T(n[3]),a:k(n[4]),format:t?"name":"hex8"}:(n=D.hex6.exec(e))?{r:T(n[1]),g:T(n[2]),b:T(n[3]),format:t?"name":"hex"}:(n=D.hex4.exec(e))?{r:T(n[1]+n[1]),g:T(n[2]+n[2]),b:T(n[3]+n[3]),a:k(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=D.hex3.exec(e))&&{r:T(n[1]+n[1]),g:T(n[2]+n[2]),b:T(n[3]+n[3]),format:t?"name":"hex"}}(e)),"object"==typeof e&&(O(e.r)&&O(e.g)&&O(e.b)?(t=function(e,t,n){return{r:255*w(e,255),g:255*w(t,255),b:255*w(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):O(e.h)&&O(e.s)&&O(e.v)?(r=C(e.s),i=C(e.v),t=function(e,t,n){e=6*w(e,360),t=w(t,100),n=w(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6;return{r:255*[n,a,o,o,s,n][l],g:255*[s,n,n,a,o,o][l],b:255*[o,o,s,n,n,a][l]}}(e.h,r,i),a=!0,s="hsv"):O(e.h)&&O(e.s)&&O(e.l)&&(r=C(e.s),o=C(e.l),t=function(e,t,n){var r,i,o;if(e=w(e,360),t=w(t,100),n=w(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=E(s,a,e+1/3),i=E(s,a,e),o=E(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var A="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),M="[\\s|\\(]+(".concat(A,")[,|\\s]+(").concat(A,")[,|\\s]+(").concat(A,")\\s*\\)?"),F="[\\s|\\(]+(".concat(A,")[,|\\s]+(").concat(A,")[,|\\s]+(").concat(A,")[,|\\s]+(").concat(A,")\\s*\\)?"),D={CSS_UNIT:new RegExp(A),rgb:new RegExp("rgb"+M),rgba:new RegExp("rgba"+F),hsl:new RegExp("hsl"+M),hsla:new RegExp("hsla"+F),hsv:new RegExp("hsv"+M),hsva:new RegExp("hsva"+F),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function O(e){return Boolean(D.CSS_UNIT.exec(String(e)))}var L=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function R(e){var t=function(e,t,n){e=w(e,255),t=w(t,255),n=w(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,l=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:l,v:a}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function N(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var i=[S(Math.round(e).toString(16)),S(Math.round(t).toString(16)),S(Math.round(n).toString(16))];return i.join("")}(t,n,r))}function B(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function V(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function W(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function z(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=I(e),i=5;i>0;i-=1){var o=R(r),a=N(I({h:B(o,i,!0),s:V(o,i,!0),v:W(o,i,!0)}));n.push(a)}n.push(N(r));for(var s=1;s<=4;s+=1){var l=R(r),c=N(I({h:B(l,s),s:V(l,s),v:W(l,s)}));n.push(c)}return"dark"===t.theme?L.map((function(e){var r,i,o,a=e.index,s=e.opacity;return N((r=I(t.backgroundColor||"#141414"),o=100*s/100,{r:((i=I(n[a])).r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b}))})):n}var j={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Y={},H={};Object.keys(j).forEach((function(e){Y[e]=z(j[e]),Y[e].primary=Y[e][5],H[e]=z(j[e],{theme:"dark",backgroundColor:"#141414"}),H[e].primary=H[e][5]})),Y.red,Y.volcano,Y.gold,Y.orange,Y.yellow,Y.lime,Y.green,Y.cyan,Y.blue,Y.geekblue,Y.purple,Y.magenta,Y.grey;var U={},q=[];function X(e,t){}function $(e,t){}function K(e,t,n){t||U[n]||(e(!1,n),U[n]=!0)}function G(e,t){K(X,e,t)}G.preMessage=function(e){q.push(e)},G.resetWarned=function(){U={}},G.noteOnce=function(e,t){K($,e,t)};const Z=G;function J(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var Q="data-rc-order",ee="rc-util-key",te=new Map;function ne(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):ee}function re(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function ie(e){return Array.from((te.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!J())return null;var n=t.csp,r=t.prepend,i=document.createElement("style");i.setAttribute(Q,function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r)),null!=n&&n.nonce&&(i.nonce=null==n?void 0:n.nonce),i.innerHTML=e;var o=re(t),a=o.firstChild;if(r){if("queue"===r){var s=ie(o).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(Q))}));if(s.length)return o.insertBefore(i,s[s.length-1].nextSibling),i}o.insertBefore(i,a)}else o.appendChild(i);return i}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ie(re(t)).find((function(n){return n.getAttribute(ne(t))===e}))}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){var n=te.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=oe("",t),i=r.parentNode;te.set(e,i),e.removeChild(r)}}(re(n),n);var r,i,o,a=ae(t,n);if(a)return null!==(r=n.csp)&&void 0!==r&&r.nonce&&a.nonce!==(null===(i=n.csp)||void 0===i?void 0:i.nonce)&&(a.nonce=null===(o=n.csp)||void 0===o?void 0:o.nonce),a.innerHTML!==e&&(a.innerHTML=e),a;var s=oe(e,n);return s.setAttribute(ne(n),t),s}function le(e){return"object"===o(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===o(e.icon)||"function"==typeof e.icon)}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];return"class"===n?(t.className=r,delete t.class):t[n]=r,t}),{})}function ue(e,n,r){return r?t().createElement(e.tag,g(g({key:n},ce(e.attrs)),r),(e.children||[]).map((function(t,r){return ue(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t().createElement(e.tag,g({key:n},ce(e.attrs)),(e.children||[]).map((function(t,r){return ue(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function de(e){return z(e)[0]}function he(e){return e?Array.isArray(e)?e:[e]:[]}var fe=["icon","className","onClick","style","primaryColor","secondaryColor"],pe={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},ve=function(t){var n,r,i=t.icon,o=t.className,a=t.onClick,s=t.style,l=t.primaryColor,c=t.secondaryColor,u=y(t,fe),d=pe;if(l&&(d={primaryColor:l,secondaryColor:c||de(l)}),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",n=(0,e.useContext)(_).csp;(0,e.useEffect)((function(){se(t,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),n=le(i),r="icon should be icon definiton, but got ".concat(i),Z(n,"[@ant-design/icons] ".concat(r)),!le(i))return null;var h=i;return h&&"function"==typeof h.icon&&(h=g(g({},h),{},{icon:h.icon(d.primaryColor,d.secondaryColor)})),ue(h.icon,"svg-".concat(h.name),g({className:o,onClick:a,style:s,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u))};ve.displayName="IconReact",ve.getTwoToneColors=function(){return g({},pe)},ve.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;pe.primaryColor=t,pe.secondaryColor=n||de(t),pe.calculated=!!n};const ge=ve;function me(e){var t=p(he(e),2),n=t[0],r=t[1];return ge.setTwoToneColors({primaryColor:n,secondaryColor:r})}var ye=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];me("#1890ff");var xe=e.forwardRef((function(t,n){var r,i=t.className,o=t.icon,a=t.spin,s=t.rotate,l=t.tabIndex,u=t.onClick,d=t.twoToneColor,h=y(t,ye),f=e.useContext(_),v=f.prefixCls,m=void 0===v?"anticon":v,x=f.rootClassName,w=b()(x,m,(c(r={},"".concat(m,"-").concat(o.name),!!o.name),c(r,"".concat(m,"-spin"),!!a||"loading"===o.name),r),i),C=l;void 0===C&&u&&(C=-1);var S=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,E=p(he(d),2),k=E[0],T=E[1];return e.createElement("span",g(g({role:"img","aria-label":o.name},h),{},{ref:n,tabIndex:C,onClick:u,className:w}),e.createElement(ge,{icon:o,primaryColor:k,secondaryColor:T,style:S}))}));xe.displayName="AntdIcon",xe.getTwoToneColor=function(){var e=ge.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},xe.setTwoToneColor=me;const be=xe;var _e=function(t,n){return e.createElement(be,g(g({},t),{},{ref:n,icon:m}))};_e.displayName="CloseOutlined";const we=e.forwardRef(_e);function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function Ee(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e,t){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Te(e,t)}function Pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Te(e,t)}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var i=Ie(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ke(e)}(this,n)}}var Me=function(e){return+setTimeout(e,16)},Fe=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(Me=function(e){return window.requestAnimationFrame(e)},Fe=function(e){return window.cancelAnimationFrame(e)});var De=0,Oe=new Map;function Le(e){Oe.delete(e)}var Re=function(e){var t=De+=1;return function n(r){if(0===r)Le(t),e();else{var i=Me((function(){n(r-1)}));Oe.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};Re.cancel=function(e){var t=Oe.get(e);return Le(t),Fe(t)};const Ne=Re,Be=n(72934);var Ve=a.n(Be),We=(0,e.forwardRef)((function(t,n){var r=t.didUpdate,i=t.getContainer,o=t.children,a=(0,e.useRef)(),s=(0,e.useRef)();(0,e.useImperativeHandle)(n,(function(){return{}}));var l=(0,e.useRef)(!1);return!l.current&&J()&&(s.current=i(),a.current=s.current.parentNode,l.current=!0),(0,e.useEffect)((function(){null==r||r(t)})),(0,e.useEffect)((function(){return null===s.current.parentNode&&null!==a.current&&a.current.appendChild(s.current),function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?Ve().createPortal(o,s.current):null}));const ze=We;var je;function Ye(e){if("undefined"==typeof document)return 0;if(e||void 0===je){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),je=i-o}return je}const He=function(e){if(!e)return{};var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).element,n=void 0===t?document.body:t,r={},i=Object.keys(e);return i.forEach((function(e){r[e]=n.style[e]})),i.forEach((function(t){n.style[t]=e[t]})),r};var Ue={};const qe=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),r=document.body.className;if(e){if(!n.test(r))return;return He(Ue),Ue={},void(document.body.className=r.replace(n,"").trim())}var i=Ye();if(i&&(Ue=He({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var o="".concat(r," ").concat(t);document.body.className=o.trim()}}};function Xe(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function $e(e){return function(e){if(Array.isArray(e))return d(e)}(e)||Xe(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ke=0,Ge=[],Ze="ant-scrolling-effect",Je=new RegExp("".concat(Ze),"g"),Qe=new Map,et=Ee((function e(t){var n=this;Ce(this,e),c(this,"lockTarget",void 0),c(this,"options",void 0),c(this,"getContainer",(function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container})),c(this,"reLock",(function(e){var t=Ge.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())})),c(this,"lock",(function(){var e;if(!Ge.some((function(e){return e.target===n.lockTarget})))if(Ge.some((function(e){var t,r=e.options;return(null==r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))Ge=[].concat($e(Ge),[{target:n.lockTarget,options:n.options}]);else{var t=0,r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&"hidden"!==getComputedStyle(r).overflow&&(t=Ye());var i=r.className;if(0===Ge.filter((function(e){var t,r=e.options;return(null==r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&Qe.set(r,He({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),!Je.test(i)){var o="".concat(i," ").concat(Ze);r.className=o.trim()}Ge=[].concat($e(Ge),[{target:n.lockTarget,options:n.options}])}})),c(this,"unLock",(function(){var e,t=Ge.find((function(e){return e.target===n.lockTarget}));if(Ge=Ge.filter((function(e){return e.target!==n.lockTarget})),t&&!Ge.some((function(e){var n,r=e.options;return(null==r?void 0:r.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,i=r.className;Je.test(i)&&(He(Qe.get(r),{element:r}),Qe.delete(r),r.className=r.className.replace(Je,"").trim())}})),this.lockTarget=Ke++,this.options=t})),tt=0,nt=J(),rt={},it=function(e){if(!nt)return null;if(e){if("string"==typeof e)return document.querySelectorAll(e)[0];if("function"==typeof e)return e();if("object"===o(e)&&e instanceof window.HTMLElement)return e}return document.body},ot=function(t){Pe(r,t);var n=Ae(r);function r(t){var i;return Ce(this,r),c(ke(i=n.call(this,t)),"container",void 0),c(ke(i),"componentRef",e.createRef()),c(ke(i),"rafId",void 0),c(ke(i),"scrollLocker",void 0),c(ke(i),"renderComponent",void 0),c(ke(i),"updateScrollLocker",(function(e){var t=(e||{}).visible,n=i.props,r=n.getContainer,o=n.visible;o&&o!==t&&nt&&it(r)!==i.scrollLocker.getContainer()&&i.scrollLocker.reLock({container:it(r)})})),c(ke(i),"updateOpenCount",(function(e){var t=e||{},n=t.visible,r=t.getContainer,o=i.props,a=o.visible,s=o.getContainer;a!==n&&nt&&it(s)===document.body&&(a&&!n?tt+=1:e&&(tt-=1)),("function"==typeof s&&"function"==typeof r?s.toString()!==r.toString():s!==r)&&i.removeCurrentContainer()})),c(ke(i),"attachToParent",(function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||i.container&&!i.container.parentNode){var e=it(i.props.getContainer);return!!e&&(e.appendChild(i.container),!0)}return!0})),c(ke(i),"getContainer",(function(){return nt?(i.container||(i.container=document.createElement("div"),i.attachToParent(!0)),i.setWrapperClassName(),i.container):null})),c(ke(i),"setWrapperClassName",(function(){var e=i.props.wrapperClassName;i.container&&e&&e!==i.container.className&&(i.container.className=e)})),c(ke(i),"removeCurrentContainer",(function(){var e,t;null===(e=i.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(i.container)})),c(ke(i),"switchScrollingEffect",(function(){1!==tt||Object.keys(rt).length?tt||(He(rt),rt={},qe(!0)):(qe(),rt=He({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))})),i.scrollLocker=new et({container:it(t.getContainer)}),i}return Ee(r,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Ne((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;nt&&it(n)===document.body&&(tt=t&&tt?tt-1:tt),this.removeCurrentContainer(),Ne.cancel(this.rafId)}},{key:"render",value:function(){var t=this.props,n=t.children,r=t.forceRender,i=t.visible,o=null,a={getOpenCount:function(){return tt},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(r||i||this.componentRef.current)&&(o=e.createElement(ze,{getContainer:this.getContainer,ref:this.componentRef},n(a))),o}}]),r}(e.Component);const at=ot;function st(e){return function(e){return e instanceof HTMLElement||e instanceof SVGElement}(e)?e:e instanceof t().Component?Ve().findDOMNode(e):null}var lt=a(864);function ct(e,t){"function"==typeof e?e(t):"object"===o(e)&&e&&"current"in e&&(e.current=t)}var ut=e.createContext({});const dt=function(e){Pe(n,e);var t=Ae(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Ee(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component);function ht(t){var n=e.useRef(!1),r=p(e.useState(t),2),i=r[0],o=r[1];return e.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||o(e)}]}var ft="none",pt="appear",vt="enter",gt="leave",mt="none",yt="prepare",xt="start",bt="active",_t="end",wt="prepared";function Ct(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var St,Et,kt,Tt=(St=J(),Et="undefined"!=typeof window?window:{},kt={animationend:Ct("Animation","AnimationEnd"),transitionend:Ct("Transition","TransitionEnd")},St&&("AnimationEvent"in Et||delete kt.animationend.animation,"TransitionEvent"in Et||delete kt.transitionend.transition),kt),Pt={};if(J()){var It=document.createElement("div");Pt=It.style}var At={};function Mt(e){if(At[e])return At[e];var t=Tt[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Pt)return At[e]=t[o],At[e]}return""}var Ft=Mt("animationend"),Dt=Mt("transitionend"),Ot=!(!Ft||!Dt),Lt=Ft||"animationend",Rt=Dt||"transitionend";function Nt(e,t){return e?"object"===o(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}const Bt=J()?e.useLayoutEffect:e.useEffect;var Vt=[yt,xt,bt,_t],Wt=[yt,wt];function zt(e){return e===bt||e===_t}const jt=function(t){var n=t;"object"===o(t)&&(n=t.transitionSupport);var r=e.forwardRef((function(t,r){var i=t.visible,o=void 0===i||i,a=t.removeOnLeave,s=void 0===a||a,l=t.forceRender,u=t.children,d=t.motionName,h=t.leavedClassName,f=t.eventProps,v=function(e,t){return!(!e.motionName||!n||!1===t)}(t,e.useContext(ut).motion),m=(0,e.useRef)(),y=(0,e.useRef)(),x=function(t,n,r,i){var o=i.motionEnter,a=void 0===o||o,s=i.motionAppear,l=void 0===s||s,u=i.motionLeave,d=void 0===u||u,h=i.motionDeadline,f=i.motionLeaveImmediately,v=i.onAppearPrepare,m=i.onEnterPrepare,y=i.onLeavePrepare,x=i.onAppearStart,b=i.onEnterStart,_=i.onLeaveStart,w=i.onAppearActive,C=i.onEnterActive,S=i.onLeaveActive,E=i.onAppearEnd,k=i.onEnterEnd,T=i.onLeaveEnd,P=i.onVisibleChanged,I=p(ht(),2),A=I[0],M=I[1],F=p(ht(ft),2),D=F[0],O=F[1],L=p(ht(null),2),R=L[0],N=L[1],B=(0,e.useRef)(!1),V=(0,e.useRef)(null);function W(){return r()}var z=(0,e.useRef)(!1);function j(){O(ft,!0),N(null,!0)}function Y(e){var t=W();if(!e||e.deadline||e.target===t){var n,r=z.current;D===pt&&r?n=null==E?void 0:E(t,e):D===vt&&r?n=null==k?void 0:k(t,e):D===gt&&r&&(n=null==T?void 0:T(t,e)),D!==ft&&r&&!1!==n&&j()}}var H=p(function(t){var n=(0,e.useRef)(),r=(0,e.useRef)(t);r.current=t;var i=e.useCallback((function(e){r.current(e)}),[]);function o(e){e&&(e.removeEventListener(Rt,i),e.removeEventListener(Lt,i))}return e.useEffect((function(){return function(){o(n.current)}}),[]),[function(e){n.current&&n.current!==e&&o(n.current),e&&e!==n.current&&(e.addEventListener(Rt,i),e.addEventListener(Lt,i),n.current=e)},o]}(Y),1)[0],U=function(e){var t,n,r;switch(e){case pt:return c(t={},yt,v),c(t,xt,x),c(t,bt,w),t;case vt:return c(n={},yt,m),c(n,xt,b),c(n,bt,C),n;case gt:return c(r={},yt,y),c(r,xt,_),c(r,bt,S),r;default:return{}}},q=e.useMemo((function(){return U(D)}),[D]),X=p(function(t,n,r){var i=p(ht(mt),2),o=i[0],a=i[1],s=function(){var t=e.useRef(null);function n(){Ne.cancel(t.current)}return e.useEffect((function(){return function(){n()}}),[]),[function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var o=Ne((function(){i<=1?r({isCanceled:function(){return o!==t.current}}):e(r,i-1)}));t.current=o},n]}(),l=p(s,2),c=l[0],u=l[1],d=n?Wt:Vt;return Bt((function(){if(o!==mt&&o!==_t){var e=d.indexOf(o),t=d[e+1],n=r(o);!1===n?a(t,!0):t&&c((function(e){function r(){e.isCanceled()||a(t,!0)}!0===n?r():Promise.resolve(n).then(r)}))}}),[t,o]),e.useEffect((function(){return function(){u()}}),[]),[function(){a(yt,!0)},o]}(D,!t,(function(e){if(e===yt){var t=q[yt];return!!t&&t(W())}var n;return K in q&&N((null===(n=q[K])||void 0===n?void 0:n.call(q,W(),null))||null),K===bt&&(H(W()),h>0&&(clearTimeout(V.current),V.current=setTimeout((function(){Y({deadline:!0})}),h))),K===wt&&j(),true})),2),$=X[0],K=X[1],G=zt(K);z.current=G,Bt((function(){M(n);var e,r=B.current;B.current=!0,!r&&n&&l&&(e=pt),r&&n&&a&&(e=vt),(r&&!n&&d||!r&&f&&!n&&d)&&(e=gt);var i=U(e);e&&(t||i[yt])?(O(e),$()):O(ft)}),[n]),(0,e.useEffect)((function(){(D===pt&&!l||D===vt&&!a||D===gt&&!d)&&O(ft)}),[l,a,d]),(0,e.useEffect)((function(){return function(){B.current=!1,clearTimeout(V.current)}}),[]);var Z=e.useRef(!1);(0,e.useEffect)((function(){A&&(Z.current=!0),void 0!==A&&D===ft&&((Z.current||A)&&(null==P||P(A)),Z.current=!0)}),[A,D]);var J=R;return q[yt]&&K===xt&&(J=g({transition:"none"},J)),[D,K,J,null!=A?A:n]}(v,o,(function(){try{return m.current instanceof HTMLElement?m.current:st(y.current)}catch(e){return null}}),t),_=p(x,4),w=_[0],C=_[1],S=_[2],E=_[3],k=e.useRef(E);E&&(k.current=!0);var T,P=e.useCallback((function(e){m.current=e,ct(r,e)}),[r]),I=g(g({},f),{},{visible:o});if(u)if(w===ft)T=E?u(g({},I),P):!s&&k.current&&h?u(g(g({},I),{},{className:h}),P):l||!s&&!h?u(g(g({},I),{},{style:{display:"none"}}),P):null;else{var A,M;C===yt?M="prepare":zt(C)?M="active":C===xt&&(M="start");var F=Nt(d,"".concat(w,"-").concat(M));T=u(g(g({},I),{},{className:b()(Nt(d,w),(A={},c(A,F,F&&M),c(A,d,"string"==typeof d),A)),style:S}),P)}else T=null;return e.isValidElement(T)&&function(e){var t,n,r=(0,lt.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render)}(T)&&(T.ref||(T=e.cloneElement(T,{ref:P}))),e.createElement(dt,{ref:y},T)}));return r.displayName="CSSMotion",r}(Ot);var Yt="add",Ht="keep",Ut="remove",qt="removed";function Xt(e){var t;return g(g({},t=e&&"object"===o(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function $t(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Xt)}var Kt=["component","children","onVisibleChanged","onAllRemoved"],Gt=["status"],Zt=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt,r=function(t){Pe(o,t);var r=Ae(o);function o(){var e;Ce(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return c(ke(e=r.call.apply(r,[this].concat(n))),"state",{keyEntities:[]}),c(ke(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:g(g({},e),{},{status:qt})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==qt})).length})),e}return Ee(o,[{key:"render",value:function(){var t=this,r=this.state.keyEntities,o=this.props,a=o.component,s=o.children,l=o.onVisibleChanged,c=o.onAllRemoved,u=y(o,Kt),d=a||e.Fragment,h={};return Zt.forEach((function(e){h[e]=u[e],delete u[e]})),delete u.keys,e.createElement(d,u,r.map((function(r){var o=r.status,a=y(r,Gt),u=o===Yt||o===Ht;return e.createElement(n,i({},h,{key:a.key,visible:u,eventProps:a,onVisibleChanged:function(e){null==l||l(e,{key:a.key}),e||0===t.removeKey(a.key)&&c&&c()}}),s)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=$t(n),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=$t(e),a=$t(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return g(g({},e),{},{status:Yt})}))),r=o),n.push(g(g({},s),{},{status:Ht})),r+=1,t=!0;break}}t||n.push(g(g({},e),{},{status:Ut}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return g(g({},e),{},{status:Yt})}))));var s={};return n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Ut}))).forEach((function(t){t.key===e&&(t.status=Ht)}))})),n}(r,i);return{keyEntities:o.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==qt||e.status!==Ut}))}}}]),o}(e.Component);c(r,"defaultProps",{component:"div"})}(Ot);const Jt=jt,Qt=function(t){var n=t.prefixCls,r=t.className,i=t.style,o=t.children,a=t.containerRef;return e.createElement(e.Fragment,null,e.createElement("div",{className:b()("".concat(n,"-content"),r),style:g({},i),"aria-modal":"true",role:"dialog",ref:a},o))},en=e.createContext(null);var tn={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=tn.F1&&t<=tn.F12)return!1;switch(t){case tn.ALT:case tn.CAPS_LOCK:case tn.CONTEXT_MENU:case tn.CTRL:case tn.DOWN:case tn.END:case tn.ESC:case tn.HOME:case tn.INSERT:case tn.LEFT:case tn.MAC_FF_META:case tn.META:case tn.NUMLOCK:case tn.NUM_CENTER:case tn.PAGE_DOWN:case tn.PAGE_UP:case tn.PAUSE:case tn.PRINT_SCREEN:case tn.RIGHT:case tn.SHIFT:case tn.UP:case tn.WIN_KEY:case tn.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=tn.ZERO&&e<=tn.NINE)return!0;if(e>=tn.NUM_ZERO&&e<=tn.NUM_MULTIPLY)return!0;if(e>=tn.A&&e<=tn.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case tn.SPACE:case tn.QUESTION_MARK:case tn.NUM_PLUS:case tn.NUM_MINUS:case tn.NUM_PERIOD:case tn.NUM_DIVISION:case tn.SEMICOLON:case tn.DASH:case tn.EQUALS:case tn.COMMA:case tn.PERIOD:case tn.SLASH:case tn.APOSTROPHE:case tn.SINGLE_QUOTE:case tn.OPEN_SQUARE_BRACKET:case tn.BACKSLASH:case tn.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const nn=tn;function rn(e){return"string"==typeof e&&String(Number(e))===e?(Z(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var on={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function an(t){var n,r,o,a,s=t.prefixCls,l=t.open,u=t.placement,d=t.inline,h=t.push,f=t.forceRender,v=t.autoFocus,m=t.keyboard,y=t.scrollLocker,x=t.rootClassName,_=t.rootStyle,w=t.zIndex,C=t.className,S=t.style,E=t.motion,k=t.width,T=t.height,P=t.children,I=t.contentWrapperStyle,A=t.mask,M=t.maskClosable,F=t.maskMotion,D=t.maskClassName,O=t.maskStyle,L=t.afterOpenChange,R=t.onClose,N=e.useRef(),B=e.useRef(),V=e.useRef();e.useEffect((function(){var e;l&&v&&(null===(e=N.current)||void 0===e||e.focus({preventScroll:!0}))}),[l,v]);var W=p(e.useState(!1),2),z=W[0],j=W[1],Y=e.useContext(en),H=null!==(n=null!==(r=null===(o=!1===h?{distance:0}:!0===h?{}:h||{})||void 0===o?void 0:o.distance)&&void 0!==r?r:null==Y?void 0:Y.pushDistance)&&void 0!==n?n:180,U=e.useMemo((function(){return{pushDistance:H,push:function(){j(!0)},pull:function(){j(!1)}}}),[H]);e.useEffect((function(){var e,t;l?null==Y||null===(e=Y.push)||void 0===e||e.call(Y):null==Y||null===(t=Y.pull)||void 0===t||t.call(Y)}),[l]),e.useEffect((function(){l&&A&&(null==y||y.lock())}),[l,A]),e.useEffect((function(){return function(){var e;null==y||y.unLock(),null==Y||null===(e=Y.pull)||void 0===e||e.call(Y)}}),[]);var q=A&&e.createElement(Jt,i({key:"mask"},F,{visible:l}),(function(t,n){var r=t.className,i=t.style;return e.createElement("div",{className:b()("".concat(s,"-mask"),r,D),style:g(g({},i),O),onClick:M?R:void 0,ref:n})})),X="function"==typeof E?E(u):E,$={};if(z&&H)switch(u){case"top":$.transform="translateY(".concat(H,"px)");break;case"bottom":$.transform="translateY(".concat(-H,"px)");break;case"left":$.transform="translateX(".concat(H,"px)");break;default:$.transform="translateX(".concat(-H,"px)")}"left"===u||"right"===u?$.width=rn(k):$.height=rn(T);var K=e.createElement(Jt,i({key:"panel"},X,{visible:l,forceRender:f,onVisibleChanged:function(e){null==L||L(e),e||null==y||y.unLock()},removeOnLeave:!1,leavedClassName:"".concat(s,"-content-wrapper-hidden")}),(function(t,n){var r=t.className,i=t.style;return e.createElement("div",{className:b()("".concat(s,"-content-wrapper"),r),style:g(g(g({},$),i),I)},e.createElement(Qt,{containerRef:n,prefixCls:s,className:C,style:S},P))})),G=g({},_);return w&&(G.zIndex=w),e.createElement(en.Provider,{value:U},e.createElement("div",{className:b()(s,"".concat(s,"-").concat(u),x,(a={},c(a,"".concat(s,"-open"),l),c(a,"".concat(s,"-inline"),d),a)),style:G,tabIndex:-1,ref:N,onKeyDown:function(e){var t=e.keyCode,n=e.shiftKey;switch(t){case nn.TAB:var r;if(t===nn.TAB)if(n||document.activeElement!==V.current){var i;if(n&&document.activeElement===B.current)null===(i=V.current)||void 0===i||i.focus({preventScroll:!0})}else null===(r=B.current)||void 0===r||r.focus({preventScroll:!0});break;case nn.ESC:R&&m&&R(e)}}},q,e.createElement("div",{tabIndex:0,ref:B,style:on,"aria-hidden":"true","data-sentinel":"start"}),K,e.createElement("div",{tabIndex:0,ref:V,style:on,"aria-hidden":"true","data-sentinel":"end"})))}var sn=function(t){var n=t.open,r=t.getContainer,o=t.forceRender,a=t.wrapperClassName,s=t.prefixCls,l=t.afterOpenChange,c=t.destroyOnClose,u=p(e.useState(!1),2),d=u[0],h=u[1];if(!o&&!d&&!n&&c)return null;var f=g(g({},t),{},{prefixCls:s,afterOpenChange:function(e){h(e),null==l||l(e)}});return!1===r?e.createElement(an,i({},f,{inline:!0})):e.createElement(at,{visible:n,forceRender:o,getContainer:r,wrapperClassName:a},(function(t){var n=t.scrollLocker;return e.createElement(an,i({},f,{scrollLocker:n}))}))};sn.defaultProps={open:!1,getContainer:function(){return document.body},prefixCls:"rc-drawer",placement:"right",autoFocus:!0,keyboard:!0,width:378,mask:!0,maskClosable:!0};const ln=sn;var cn=e.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}});function un(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t().Children.forEach(e,(function(e){(null!=e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(un(e)):(0,lt.isFragment)(e)&&e.props?r=r.concat(un(e.props.children,n)):r.push(e))})),r}cn.Consumer;var dn="RC_FORM_INTERNAL_HOOKS",hn=function(){Z(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const fn=e.createContext({getFieldValue:hn,getFieldsValue:hn,getFieldError:hn,getFieldWarning:hn,getFieldsError:hn,isFieldsTouched:hn,isFieldTouched:hn,isFieldValidating:hn,isFieldsValidating:hn,resetFields:hn,setFields:hn,setFieldValue:hn,setFieldsValue:hn,validateFields:hn,submit:hn,getInternalHooks:function(){return hn(),{dispatch:hn,initEntityValue:hn,registerField:hn,useSubscribe:hn,setInitialValues:hn,destroyForm:hn,setCallbacks:hn,registerWatch:hn,getFields:hn,setValidateMessages:hn,setPreserve:hn,getInitialValue:hn}}});function pn(e){return null==e?[]:Array.isArray(e)?e:[e]}function vn(){vn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h={};function f(){}function p(){}function v(){}var g={};c(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(T([])));y&&y!==t&&n.call(y,a)&&(g=y);var x=v.prototype=f.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,a,s,l){var c=d(e[r],e,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==o(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,l)}))}l(c.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=v,r(x,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},b(_.prototype),c(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function gn(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function mn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){gn(o,r,i,a,s,"next",e)}function s(e){gn(o,r,i,a,s,"throw",e)}a(void 0)}))}}function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yn.apply(this,arguments)}function xn(e){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xn(e)}function bn(e,t){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bn(e,t)}function _n(e,t,n){return _n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&bn(i,n.prototype),i},_n.apply(null,arguments)}function wn(e){var t="function"==typeof Map?new Map:void 0;return wn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _n(e,arguments,xn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),bn(r,e)},wn(e)}var Cn=/%[sdj%]/g;function Sn(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function En(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"==typeof e)return e.apply(null,n);if("string"==typeof e){var a=e.replace(Cn,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}break;default:return e}}));return a}return e}function kn(e,t){return null==e||!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e)}function Tn(e,t,n){var r=0,i=e.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}([])}"undefined"!=typeof r&&r.env;var Pn=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,bn(t,n),r}(wn(Error));function In(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function An(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"==typeof r&&"object"==typeof e[n]?e[n]=yn({},e[n],r):e[n]=r}return e}var Mn,Fn=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!kn(t,o||e.type)||r.push(En(i.messages.required,e.fullField))},Dn=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,On=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Ln={integer:function(e){return Ln.number(e)&&parseInt(e,10)===e},float:function(e){return Ln.number(e)&&!Ln.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!Ln.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(Dn)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(Mn)return Mn;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),l=function(e){return e&&e.exact?o:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};l.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+i+t(e),"g")};var c=l.v4().source,u=l.v6().source;return Mn=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(On)}},Rn="enum",Nn=Fn,Bn=function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(En(i.messages.whitespace,e.fullField))},Vn=function(e,t,n,r,i){if(e.required&&void 0===t)Fn(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?Ln[o](t)||r.push(En(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(En(i.messages.types[o],e.fullField,e.type))}},Wn=function(e,t,n,r,i){var o="number"==typeof e.len,a="number"==typeof e.min,s="number"==typeof e.max,l=t,c=null,u="number"==typeof t,d="string"==typeof t,h=Array.isArray(t);if(u?c="number":d?c="string":h&&(c="array"),!c)return!1;h&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&r.push(En(i.messages[c].len,e.fullField,e.len)):a&&!s&&l<e.min?r.push(En(i.messages[c].min,e.fullField,e.min)):s&&!a&&l>e.max?r.push(En(i.messages[c].max,e.fullField,e.max)):a&&s&&(l<e.min||l>e.max)&&r.push(En(i.messages[c].range,e.fullField,e.min,e.max))},zn=function(e,t,n,r,i){e[Rn]=Array.isArray(e[Rn])?e[Rn]:[],-1===e[Rn].indexOf(t)&&r.push(En(i.messages[Rn],e.fullField,e[Rn].join(", ")))},jn=function(e,t,n,r,i){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(En(i.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||r.push(En(i.messages.pattern.mismatch,e.fullField,t,e.pattern))))},Yn=function(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t,o)&&!e.required)return n();Nn(e,t,r,a,i,o),kn(t,o)||Vn(e,t,r,a,i)}n(a)},Hn={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t,"string")&&!e.required)return n();Nn(e,t,r,o,i,"string"),kn(t,"string")||(Vn(e,t,r,o,i),Wn(e,t,r,o,i),jn(e,t,r,o,i),!0===e.whitespace&&Bn(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t)&&!e.required)return n();Nn(e,t,r,o,i),void 0!==t&&Vn(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),kn(t)&&!e.required)return n();Nn(e,t,r,o,i),void 0!==t&&(Vn(e,t,r,o,i),Wn(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t)&&!e.required)return n();Nn(e,t,r,o,i),void 0!==t&&Vn(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t)&&!e.required)return n();Nn(e,t,r,o,i),kn(t)||Vn(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t)&&!e.required)return n();Nn(e,t,r,o,i),void 0!==t&&(Vn(e,t,r,o,i),Wn(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t)&&!e.required)return n();Nn(e,t,r,o,i),void 0!==t&&(Vn(e,t,r,o,i),Wn(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();Nn(e,t,r,o,i,"array"),null!=t&&(Vn(e,t,r,o,i),Wn(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t)&&!e.required)return n();Nn(e,t,r,o,i),void 0!==t&&Vn(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t)&&!e.required)return n();Nn(e,t,r,o,i),void 0!==t&&zn(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t,"string")&&!e.required)return n();Nn(e,t,r,o,i),kn(t,"string")||jn(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t,"date")&&!e.required)return n();var a;Nn(e,t,r,o,i),kn(t,"date")||(a=t instanceof Date?t:new Date(t),Vn(e,a,r,o,i),a&&Wn(e,a.getTime(),r,o,i))}n(o)},url:Yn,hex:Yn,email:Yn,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":typeof t;Nn(e,t,r,o,i,a),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(kn(t)&&!e.required)return n();Nn(e,t,r,o,i)}n(o)}};function Un(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var qn=Un(),Xn=function(){function e(e){this.rules=null,this._messages=qn,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=An(Un(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,a=n,s=r;if("function"==typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(a.messages){var l=this.messages();l===qn&&(l=Un()),An(l,a.messages),a.messages=l}else a.messages=this.messages();var c={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=o[e];n.forEach((function(n){var a=n;"function"==typeof a.transform&&(o===t&&(o=yn({},o)),r=o[e]=a.transform(r)),(a="function"==typeof a?{validator:a}:yn({},a)).validator=i.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=i.getType(a),c[e]=c[e]||[],c[e].push({rule:a,value:r,source:o,field:e}))}))}));var u={};return function(e,t,n,r,i){if(t.first){var o=new Promise((function(t,o){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);Tn(a,n,(function(e){return r(e),e.length?o(new Pn(e,Sn(e))):t(i)}))}));return o.catch((function(e){return e})),o}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,c=0,u=[],d=new Promise((function(t,o){var d=function(e){if(u.push.apply(u,e),++c===l)return r(u),u.length?o(new Pn(u,Sn(u))):t(i)};s.length||(r(u),t(i)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?Tn(r,n,d):function(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,e||[]),++i===o&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}(c,a,(function(t,n){var r,i=t.rule,s=!("object"!==i.type&&"array"!==i.type||"object"!=typeof i.fields&&"object"!=typeof i.defaultField);function l(e,t){return yn({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!a.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var d=c.map(In(i,o));if(a.first&&d.length)return u[i.field]=1,n(d);if(s){if(i.required&&!t.value)return void 0!==i.message?d=[].concat(i.message).map(In(i,o)):a.error&&(d=[a.error(i,En(a.messages.required,i.field))]),n(d);var h={};i.defaultField&&Object.keys(t.value).map((function(e){h[e]=i.defaultField})),h=yn({},h,t.rule.fields);var f={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];f[e]=n.map(l.bind(null,e))}));var p=new e(f);p.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),p.validate(t.value,t.rule.options||a,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,a);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,a)}catch(e){null==console.error||console.error(e),a.suppressValidatorError||setTimeout((function(){throw e}),0),c(e.message)}!0===r?c():!1===r?c("function"==typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){for(var t,n,r=[],i={},a=0;a<e.length;a++)t=e[a],n=void 0,Array.isArray(t)?r=(n=r).concat.apply(n,t):r.push(t);r.length?(i=Sn(r),s(r,i)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!Hn.hasOwnProperty(e.type))throw new Error(En("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Hn.required:Hn[this.getType(e)]||void 0},e}();Xn.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Hn[e]=t},Xn.warning=function(){},Xn.messages=qn,Xn.validators=Hn;var $n="'${name}' is not a valid ${type}",Kn={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:$n,method:$n,array:$n,object:$n,number:$n,date:$n,boolean:$n,integer:$n,float:$n,regexp:$n,email:$n,url:$n,hex:$n},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Gn(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null==n)return;n=n[t[r]]}return n}function Zn(e,t,n,r){if(!t.length)return n;var i,o,a=u(i=t)||Xe(i)||h(i)||f(),s=a[0],l=a.slice(1);return o=e||"number"!=typeof s?Array.isArray(e)?$e(e):g({},e):[],r&&void 0===n&&1===l.length?delete o[s][l[0]]:o[s]=Zn(o[s],l,n,r),o}function Jn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!Gn(e,t.slice(0,-1))?e:Zn(e,t,n,r)}const Qn=function e(t){return Array.isArray(t)?function(t){return t.map((function(t){return e(t)}))}(t):"object"===o(t)&&null!==t?function(t){if(Object.getPrototypeOf(t)===Object.prototype){var n={};for(var r in t)n[r]=e(t[r]);return n}return t}(t):t};function er(e){return pn(e)}function tr(e,t){return Gn(e,t)}function nr(e,t,n){return Jn(e,t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}function rr(e,t){var n={};return t.forEach((function(t){var r=tr(e,t);n=nr(n,t,r)})),n}function ir(e,t){return e&&e.some((function(e){return lr(e,t)}))}function or(e){return"object"===o(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function ar(e,t){var n=Array.isArray(e)?$e(e):g({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],o=or(r)&&or(i);n[e]=o?ar(r,i||{}):Qn(i)})),n):n}function sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return ar(e,t)}),e)}function lr(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function cr(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===o(t.target)&&e in t.target?t.target[e]:t}function ur(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat($e(e.slice(0,n)),[i],$e(e.slice(n,t)),$e(e.slice(t+1,r))):o<0?[].concat($e(e.slice(0,t)),$e(e.slice(t+1,n+1)),[i],$e(e.slice(n+1,r))):e}var dr=Xn;function hr(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var fr="CODE_LOGIC_ERROR";function pr(e,t,n,r,i){return vr.apply(this,arguments)}function vr(){return vr=mn(vn().mark((function t(n,r,i,o,a){var s,l,u,d,h,f,p,v,m;return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(s=g({},i)).ruleIndex,s.validator&&(l=s.validator,s.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(fr)}}),u=null,s&&"array"===s.type&&s.defaultField&&(u=s.defaultField,delete s.defaultField),d=new dr(c({},n,[s])),h=sr({},Kn,o.validateMessages),d.messages(h),f=[],t.prev=9,t.next=12,Promise.resolve(d.validate(c({},n,r),g({},o)));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(9),t.t0.errors&&(f=t.t0.errors.map((function(t,n){var r=t.message,i=r===fr?h.default:r;return e.isValidElement(i)?e.cloneElement(i,{key:"error_".concat(n)}):i})));case 17:if(f.length||!u){t.next=22;break}return t.next=20,Promise.all(r.map((function(e,t){return pr("".concat(n,".").concat(t),e,u,o,a)})));case 20:return p=t.sent,t.abrupt("return",p.reduce((function(e,t){return[].concat($e(e),$e(t))}),[]));case 22:return v=g(g({},i),{},{name:n,enum:(i.enum||[]).join(", ")},a),m=f.map((function(e){return"string"==typeof e?hr(e,v):e})),t.abrupt("return",m);case 25:case"end":return t.stop()}}),t,null,[[9,14]])}))),vr.apply(this,arguments)}function gr(){return(gr=mn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,$e(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mr(){return(mr=mn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yr=["name"],xr=[];function br(e,t,n,r,i,o){return"function"==typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var _r=function(t){Pe(r,t);var n=Ae(r);function r(t){var i;return Ce(this,r),(i=n.call(this,t)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=xr,i.warnings=xr,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,er(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat($e(void 0===n?[]:n),$e(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"==typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null==t||t(g(g({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,o=r.shouldUpdate,a=r.dependencies,s=void 0===a?[]:a,l=r.onReset,c=n.store,u=i.getNamePath(),d=i.getValue(e),h=i.getValue(c),f=t&&ir(t,u);switch("valueUpdate"===n.type&&"external"===n.source&&d!==h&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=xr,i.warnings=xr,i.triggerMetaEvent()),n.type){case"reset":if(!t||f)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=xr,i.warnings=xr,i.triggerMetaEvent(),null==l||l(),void i.refresh();break;case"remove":if(o)return void i.reRender();break;case"setField":if(f){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||xr),"warnings"in p&&(i.warnings=p.warnings||xr),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(o&&!u.length&&br(o,e,c,d,h,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(er).some((function(e){return ir(n.relatedFields,e)})))return void i.reRender();break;default:if(f||(!s.length||u.length||o)&&br(o,e,c,d,h,n))return void i.reRender()}!0===o&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var o=i.props,a=o.validateFirst,s=void 0!==a&&a,l=o.messageVariables,c=(e||{}).triggerName,u=i.getRules();c&&(u=u.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||pn(t).includes(c)})));var d=function(e,t,n,r,i,o){var a,s=e.join("."),l=n.map((function(e,t){var n=e.validator,r=g(g({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Z(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=o&&"function"==typeof o.then&&"function"==typeof o.catch,Z(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!n==!!i?r-o:n?1:-1}));if(!0===i)a=new Promise(function(){var e=mn(vn().mark((function e(n,i){var a,c,u;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<l.length)){e.next=12;break}return c=l[a],e.next=5,pr(s,t,c,r,o);case 5:if(!(u=e.sent).length){e.next=9;break}return i([{errors:u,rule:c}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return pr(s,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));a=(i?function(e){return mr.apply(this,arguments)}(c):function(e){return gr.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return a.catch((function(e){return e})),a}(t,n,u,e,s,l);return d.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr;if(i.validatePromise===r){var t;i.validatePromise=null;var n=[],o=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?xr:r;t?o.push.apply(o,$e(i)):n.push.apply(n,$e(i))})),i.errors=n,i.warnings=o,i.triggerMetaEvent(),i.reRender()}})),d}));return i.validatePromise=r,i.dirty=!0,i.errors=xr,i.warnings=xr,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(dn).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(t){if("function"==typeof t){var n=i.getMeta();return g(g({},i.getOnlyChild(t(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=un(t);return 1===r.length&&e.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return tr(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,o=t.getValueFromEvent,a=t.normalize,s=t.valuePropName,l=t.getValueProps,u=t.fieldContext,d=void 0!==r?r:u.validateTrigger,h=i.getNamePath(),f=u.getInternalHooks,p=u.getFieldsValue,v=f(dn).dispatch,m=i.getValue(),y=l||function(e){return c({},s,e)},x=e[n],b=g(g({},e),y(m));return b[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=o?o.apply(void 0,n):cr.apply(void 0,[s].concat(n)),a&&(e=a(e,m,p(!0))),v({type:"updateValue",namePath:h,value:e}),x&&x.apply(void 0,n)},pn(d||[]).forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&v({type:"validateField",namePath:h,triggerName:e})}})),b},t.fieldContext&&(0,(0,t.fieldContext.getInternalHooks)(dn).initEntityValue)(ke(i)),i}return Ee(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(dn).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var t,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),o=i.child;return i.isFunction?t=o:e.isValidElement(o)?t=e.cloneElement(o,this.getControlled(o.props)):(Z(!o,"`children` of Field is not validate ReactElement."),t=o),e.createElement(e.Fragment,{key:n},t)}}]),r}(e.Component);_r.contextType=fn,_r.defaultProps={trigger:"onChange",valuePropName:"value"};const wr=function(t){var n=t.name,r=y(t,yr),o=e.useContext(fn),a=void 0!==n?er(n):void 0,s="keep";return r.isListField||(s="_".concat((a||[]).join("_"))),e.createElement(_r,i({key:s,name:a},r,{fieldContext:o}))},Cr=e.createContext(null);var Sr="__@field_split__";function Er(e){return e.map((function(e){return"".concat(o(e),":").concat(e)})).join(Sr)}var kr=function(){function e(){Ce(this,e),this.kvs=new Map}return Ee(e,[{key:"set",value:function(e,t){this.kvs.set(Er(e),t)}},{key:"get",value:function(e){return this.kvs.get(Er(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Er(e))}},{key:"map",value:function(e){return $e(this.kvs.entries()).map((function(t){var n=p(t,2),r=n[0],i=n[1],o=r.split(Sr);return e({key:o.map((function(e){var t=p(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}();const Tr=kr;var Pr=["name","errors"],Ir=Ee((function e(t){var n=this;Ce(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===dn?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Z(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=sr({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=nr(i,n,tr(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new Tr;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=tr(n.initialValues,e);return e.length?Qn(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Tr;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=er(e);return t.get(n)||{INVALIDATE_NAME_PATH:er(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&i.push(o)}else i.push(o)})),rr(n.store,i.map(er))},this.getFieldValue=function(e){n.warningUnhooked();var t=er(e);return tr(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:er(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=er(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=er(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(er),s=!1):(i=null,s=o):(i=o.map(er),s=a);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return s?l.every(c):l.some(c);var u=new Tr;i.forEach((function(e){u.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&u.update(n,(function(t){return[].concat($e(t),[e])}))}))}));var d=function(e){return e.some(c)},h=u.map((function(e){return e.value}));return s?h.every(d):h.some(d)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(er);return t.some((function(e){var t=e.getNamePath();return ir(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new Tr,i=n.getFieldEntities(!0);i.forEach((function(e){var t=e.props.initialValue,n=e.getNamePath();if(void 0!==t){var i=r.get(n)||new Set;i.add({entity:e,value:t}),r.set(n,i)}})),t.entities?e=t.entities:t.namePathList?(e=[],t.namePathList.forEach((function(t){var n,i=r.get(t);i&&(n=e).push.apply(n,$e($e(i).map((function(e){return e.entity}))))}))):e=i,e.forEach((function(e){if(void 0!==e.props.initialValue){var i=e.getNamePath();if(void 0!==n.getInitialValue(i))Z(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=r.get(i);if(o&&o.size>1)Z(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);t.skipExist&&void 0!==a||n.updateStore(nr(n.store,i,$e(o)[0].value))}}}}))},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(sr({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(er);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(nr(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,o=(e.errors,y(e,Pr)),a=er(i);r.push(a),"value"in o&&n.updateStore(nr(n.store,a,o.value)),n.notifyObservers(t,[a],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=g(g({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===tr(n.store,r)&&n.updateStore(nr(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null==t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||o.length>1)){var a=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==a&&n.fieldEntities.every((function(e){return!lr(e.getNamePath(),t)}))){var s=n.store;n.updateStore(nr(s,t,a,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=g(g({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat($e(r))}),r},this.updateValue=function(e,t){var r=er(e),i=n.store;n.updateStore(nr(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a(rr(n.store,[r]),n.getFieldsValue()),n.triggerOnFieldsChange([r].concat($e(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=sr(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new Tr;return n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=er(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))})),function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new Tr;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return ir(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(er):[],o=[];n.getFieldEntities(!0).forEach((function(a){if(r||i.push(a.getNamePath()),(null==t?void 0:t.recursive)&&r){var s=a.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(a.props.rules&&a.props.rules.length){var l=a.getNamePath();if(!r||ir(i,l)){var c=a.validateRules(g({validateMessages:g(g({},Kn),n.validateMessages)},t));o.push(c.then((function(){return{name:l,errors:[],warnings:[]}})).catch((function(e){var t,n=[],r=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?r.push.apply(r,$e(i)):n.push.apply(n,$e(i))})),n.length?Promise.reject({name:l,errors:n,warnings:r}):{name:l,errors:n,warnings:r}})))}}}));var a=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(e){console.error(e)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));const Ar=function(t){var n=e.useRef(),r=p(e.useState({}),2)[1];if(!n.current)if(t)n.current=t;else{var i=new Ir((function(){r({})}));n.current=i.getForm()}return[n.current]};var Mr=e.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}});const Fr=Mr;var Dr=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"];function Or(e){try{return JSON.stringify(e)}catch(e){return Math.random()}}var Lr=e.forwardRef((function(t,n){var r=t.name,a=t.initialValues,s=t.fields,l=t.form,c=t.preserve,u=t.children,d=t.component,h=void 0===d?"form":d,f=t.validateMessages,v=t.validateTrigger,m=void 0===v?"onChange":v,x=t.onValuesChange,b=t.onFieldsChange,_=t.onFinish,w=t.onFinishFailed,C=y(t,Dr),S=e.useContext(Fr),E=p(Ar(l),1)[0],k=E.getInternalHooks(dn),T=k.useSubscribe,P=k.setInitialValues,I=k.setCallbacks,A=k.setValidateMessages,M=k.setPreserve,F=k.destroyForm;e.useImperativeHandle(n,(function(){return E})),e.useEffect((function(){return S.registerForm(r,E),function(){S.unregisterForm(r)}}),[S,E,r]),A(g(g({},S.validateMessages),f)),I({onValuesChange:x,onFieldsChange:function(e){if(S.triggerFormChange(r,e),b){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];b.apply(void 0,[e].concat(n))}},onFinish:function(e){S.triggerFormFinish(r,e),_&&_(e)},onFinishFailed:w}),M(c);var D,O=e.useRef(null);P(a,!O.current),O.current||(O.current=!0),e.useEffect((function(){return F}),[]);var L="function"==typeof u;D=L?u(E.getFieldsValue(!0),E):u,T(!L);var R=e.useRef();e.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==o(e)||"object"!==o(t))return!1;var n=Object.keys(e),r=Object.keys(t);return $e(new Set([].concat(n,r))).every((function(n){var r=e[n],i=t[n];return"function"==typeof r&&"function"==typeof i||r===i}))})(R.current||[],s||[])||E.setFields(s||[]),R.current=s}),[s,E]);var N=e.useMemo((function(){return g(g({},E),{},{validateTrigger:m})}),[E,m]),B=e.createElement(fn.Provider,{value:N},D);return!1===h?B:e.createElement(h,i({},C,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),E.submit()},onReset:function(e){var t;e.preventDefault(),E.resetFields(),null===(t=C.onReset)||void 0===t||t.call(C,e)}}),B)}));Lr.FormProvider=function(t){var n=t.validateMessages,r=t.onFormChange,i=t.onFormFinish,o=t.children,a=e.useContext(Mr),s=e.useRef({});return e.createElement(Mr.Provider,{value:g(g({},a),{},{validateMessages:g(g({},a.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:s.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:s.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=g(g({},s.current),{},c({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=g({},s.current);delete t[e],s.current=t,a.unregisterForm(e)}})},o)},Lr.Field=wr,Lr.List=function(t){var n=t.name,r=t.initialValue,i=t.children,o=t.rules,a=t.validateTrigger,s=e.useContext(fn),l=e.useRef({keys:[],id:0}).current,c=e.useMemo((function(){var e=er(s.prefixName)||[];return[].concat($e(e),$e(er(n)))}),[s.prefixName,n]),u=e.useMemo((function(){return g(g({},s),{},{prefixName:c})}),[s,c]),d=e.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[l.keys[n],e.slice(t+1)]}}}),[c]);return"function"!=typeof i?(Z(!1,"Form.List only accepts function as children."),null):e.createElement(Cr.Provider,{value:d},e.createElement(fn.Provider,{value:u},e.createElement(wr,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:a,initialValue:r,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,o=e.onChange,a=s.getFieldValue,u=function(){return a(c||[])||[]},d={add:function(e,t){var n=u();t>=0&&t<=n.length?(l.keys=[].concat($e(l.keys.slice(0,t)),[l.id],$e(l.keys.slice(t))),o([].concat($e(n.slice(0,t)),[e],$e(n.slice(t))))):(l.keys=[].concat($e(l.keys),[l.id]),o([].concat($e(n),[e]))),l.id+=1},remove:function(e){var t=u(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(l.keys=l.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=u();e<0||e>=n.length||t<0||t>=n.length||(l.keys=ur(l.keys,e,t),o(ur(n,e,t)))}}},h=r||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var n=l.keys[t];return void 0===n&&(l.keys[t]=l.id,n=l.keys[t],l.id+=1),{name:t,key:n,isListField:!0}})),d,t)}))))},Lr.useForm=Ar,Lr.useWatch=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=void 0===i?[]:i,a=n[1],s=p((0,e.useState)(),2),l=s[0],c=s[1],u=(0,e.useMemo)((function(){return Or(l)}),[l]),d=(0,e.useRef)(u);d.current=u;var h=(0,e.useContext)(fn),f=a||h,v=f&&f._init,g=er(o),m=(0,e.useRef)(g);return m.current=g,(0,e.useEffect)((function(){if(v){var e=f.getFieldsValue,t=(0,(0,f.getInternalHooks)(dn).registerWatch)((function(e){var t=tr(e,m.current),n=Or(t);d.current!==n&&(d.current=n,c(t))})),n=tr(e(),m.current);return c(n),t}}),[v]),l};var Rr=e.createContext({}),Nr=function(t){var n=t.children,r=t.status,o=t.override,a=(0,e.useContext)(Rr),s=(0,e.useMemo)((function(){var e=i({},a);return o&&delete e.isFormItemInput,r&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[r,o,a]);return e.createElement(Rr.Provider,{value:s},n)},Br=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},Vr=(Br("bottomLeft","bottomRight","topLeft","topRight"),function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)}),Wr=(Br("default","large"),{distance:180});const zr=function(t){var n=t.width,r=t.height,o=t.size,a=void 0===o?"default":o,s=t.closable,l=void 0===s||s,u=t.mask,d=void 0===u||u,h=t.push,f=void 0===h?Wr:h,v=t.closeIcon,g=void 0===v?e.createElement(we,null):v,m=t.bodyStyle,y=t.drawerStyle,x=t.className,_=t.visible,w=t.open,C=t.children,S=t.style,E=t.title,k=t.headerStyle,T=t.onClose,P=t.footer,I=t.footerStyle,A=t.prefixCls,M=t.getContainer,F=t.extra,D=t.afterVisibleChange,O=t.afterOpenChange,L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),R=e.useContext(cn),N=R.getPopupContainer,B=R.getPrefixCls,V=R.direction,W=B("drawer",A),z=void 0===M&&N?function(){return N(document.body)}:M,j=l&&e.createElement("button",{type:"button",onClick:T,"aria-label":"Close",className:"".concat(W,"-close")},g);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach((function(e){var t=p(e,2);t[0],t[1]}));var Y=b()(c({"no-mask":!d},"".concat(W,"-rtl"),"rtl"===V),x),H=e.useMemo((function(){return null!=n?n:"large"===a?736:378}),[n,a]),U=e.useMemo((function(){return null!=r?r:"large"===a?736:378}),[r,a]),q={motionName:Vr(W,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500};return e.createElement(Nr,{status:!0,override:!0},e.createElement(ln,i({prefixCls:W,onClose:T},L,{open:w||_,mask:d,push:f,width:H,height:U,rootClassName:Y,getContainer:z,afterOpenChange:function(e){null==O||O(e),null==D||D(e)},maskMotion:q,motion:function(e){return{motionName:Vr(W,"panel-motion-".concat(e)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}},rootStyle:S}),e.createElement("div",{className:"".concat(W,"-wrapper-body"),style:i({},y)},E||l?e.createElement("div",{className:b()("".concat(W,"-header"),c({},"".concat(W,"-header-close-only"),l&&!E&&!F)),style:k},e.createElement("div",{className:"".concat(W,"-header-title")},j,E&&e.createElement("div",{className:"".concat(W,"-title")},E)),F&&e.createElement("div",{className:"".concat(W,"-extra")},F)):null,e.createElement("div",{className:"".concat(W,"-body"),style:m},C),function(){if(!P)return null;var t="".concat(W,"-footer");return e.createElement("div",{className:t,style:I},P)}())))};function jr(t){var n=e.useRef();n.current=t;var r=e.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}var Yr=J()?e.useLayoutEffect:e.useEffect,Hr=function(t,n){var r=e.useRef(!0);Yr((function(){return t(r.current)}),n),Yr((function(){return r.current=!1,function(){r.current=!0}}),[])},Ur=function(e,t){Hr((function(t){if(!t)return e()}),t)};function qr(e){return void 0!==e}const Xr=e.createContext(void 0);var $r=e.createContext(null),Kr=$r.Provider;const Gr=$r;var Zr=e.createContext(null),Jr=Zr.Provider,Qr=function(e){Pe(r,e);var n=Ae(r);function r(e){var t;Ce(this,r),(t=n.call(this,e)).handleChange=function(e){var n=t.props,r=n.disabled,i=n.onChange;r||("checked"in t.props||t.setState({checked:e.target.checked}),i&&i({target:g(g({},t.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},t.saveInput=function(e){t.input=e};var i="checked"in e?e.checked:e.defaultChecked;return t.state={checked:i},t}return Ee(r,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,r=n.prefixCls,o=n.className,a=n.style,s=n.name,l=n.id,u=n.type,d=n.disabled,h=n.readOnly,f=n.tabIndex,p=n.onClick,v=n.onFocus,g=n.onBlur,m=n.onKeyDown,x=n.onKeyPress,_=n.onKeyUp,w=n.autoFocus,C=n.value,S=n.required,E=y(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),k=Object.keys(E).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=E[t]),e}),{}),T=this.state.checked,P=b()(r,o,(c(e={},"".concat(r,"-checked"),T),c(e,"".concat(r,"-disabled"),d),e));return t().createElement("span",{className:P,style:a},t().createElement("input",i({name:s,id:l,type:u,required:S,readOnly:h,disabled:d,tabIndex:f,className:"".concat(r,"-input"),checked:!!T,onClick:p,onFocus:v,onBlur:g,onKeyUp:_,onKeyDown:m,onKeyPress:x,onChange:this.handleChange,autoFocus:w,ref:this.saveInput,value:C},k)),t().createElement("span",{className:"".concat(r,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?g(g({},t),{},{checked:e.checked}):null}}]),r}(e.Component);Qr.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};const ei=Qr;const ti=e.createContext(!1);const ni=e.forwardRef((function(t,n){var r,o=e.useContext(Gr),a=e.useContext(Zr),s=e.useContext(cn),l=s.getPrefixCls,u=s.direction,d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){ct(t,e)}))}}(n,e.useRef()),h=(0,e.useContext)(Rr).isFormItemInput,f=t.prefixCls,p=t.className,v=t.children,g=t.style,m=t.disabled,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["prefixCls","className","children","style","disabled"]),x=l("radio",f),_="button"===((null==o?void 0:o.optionType)||a)?"".concat(x,"-button"):x,w=i({},y),C=e.useContext(ti);w.disabled=m||C,o&&(w.name=o.name,w.onChange=function(e){var n,r;null===(n=t.onChange)||void 0===n||n.call(t,e),null===(r=null==o?void 0:o.onChange)||void 0===r||r.call(o,e)},w.checked=t.value===o.value,w.disabled=w.disabled||o.disabled);var S=b()("".concat(_,"-wrapper"),(c(r={},"".concat(_,"-wrapper-checked"),w.checked),c(r,"".concat(_,"-wrapper-disabled"),w.disabled),c(r,"".concat(_,"-wrapper-rtl"),"rtl"===u),c(r,"".concat(_,"-wrapper-in-form-item"),h),r),p);return e.createElement("label",{className:S,style:g,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave},e.createElement(ei,i({},w,{type:"radio",prefixCls:_,ref:d})),void 0!==v?e.createElement("span",null,v):null)}));var ri=e.forwardRef((function(t,n){var r,o=e.useContext(cn),a=o.getPrefixCls,s=o.direction,l=e.useContext(Xr),u=function(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=p(ht((function(){return qr(i)?i:qr(r)?"function"==typeof r?r():r:"function"==typeof e?e():e})),2),l=s[0],c=s[1],u=void 0!==i?i:l,d=a?a(u):u,h=jr(o),f=p(ht([u]),2),v=f[0],g=f[1];return Ur((function(){var e=v[0];l!==e&&h(l,e)}),[v]),Ur((function(){qr(i)||c(i)}),[i]),[d,jr((function(e,t){c(e,t),g([u],t)}))]}(t.defaultValue,{value:t.value}),d=p(u,2),h=d[0],f=d[1],v=t.prefixCls,g=t.className,m=void 0===g?"":g,y=t.options,x=t.buttonStyle,_=void 0===x?"outline":x,w=t.disabled,C=t.children,S=t.size,E=t.style,k=t.id,T=t.onMouseEnter,P=t.onMouseLeave,I=t.onFocus,A=t.onBlur,M=a("radio",v),F="".concat(M,"-group"),D=C;y&&y.length>0&&(D=y.map((function(t){return"string"==typeof t||"number"==typeof t?e.createElement(ni,{key:t.toString(),prefixCls:M,disabled:w,value:t,checked:h===t},t):e.createElement(ni,{key:"radio-group-value-options-".concat(t.value),prefixCls:M,disabled:t.disabled||w,value:t.value,checked:h===t.value,style:t.style},t.label)})));var O=S||l,L=b()(F,"".concat(F,"-").concat(_),(c(r={},"".concat(F,"-").concat(O),O),c(r,"".concat(F,"-rtl"),"rtl"===s),r),m);return e.createElement("div",i({},function(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}(t),{className:L,style:E,onMouseEnter:T,onMouseLeave:P,onFocus:I,onBlur:A,id:k,ref:n}),e.createElement(Kr,{value:{onChange:function(e){var n=h,r=e.target.value;"value"in t||f(r);var i=t.onChange;i&&r!==n&&i(e)},value:h,disabled:t.disabled,name:t.name,optionType:t.optionType}},D))}));const ii=e.memo(ri);const oi=e.forwardRef((function(t,n){var r=e.useContext(cn).getPrefixCls,o=t.prefixCls,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["prefixCls"]),s=r("radio",o);return e.createElement(Jr,{value:"button"},e.createElement(ni,i({prefixCls:s},a,{type:"radio",ref:n})))}));var ai=ni;ai.Button=oi,ai.Group=ii,ai.__ANT_RADIO=!0;const si=ai;function li(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create,Object.create;var ci=a(774),ui=a.n(ci);const di=function(e){function t(e,r,l,c,h){for(var f,p,v,g,b,w=0,C=0,S=0,E=0,k=0,F=0,O=v=f=0,R=0,N=0,B=0,V=0,W=l.length,z=W-1,j="",Y="",H="",U="";R<W;){if(p=l.charCodeAt(R),R===z&&0!==C+E+S+w&&(0!==C&&(p=47===C?10:47),E=S=w=0,W++,z++),0===C+E+S+w){if(R===z&&(0<N&&(j=j.replace(d,"")),0<j.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:j+=l.charAt(R)}p=59}switch(p){case 123:for(f=(j=j.trim()).charCodeAt(0),v=1,V=++R;R<W;){switch(p=l.charCodeAt(R)){case 123:v++;break;case 125:v--;break;case 47:switch(p=l.charCodeAt(R+1)){case 42:case 47:e:{for(O=R+1;O<z;++O)switch(l.charCodeAt(O)){case 47:if(42===p&&42===l.charCodeAt(O-1)&&R+2!==O){R=O+1;break e}break;case 10:if(47===p){R=O+1;break e}}R=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;R++<z&&l.charCodeAt(R)!==p;);}if(0===v)break;R++}if(v=l.substring(V,R),0===f&&(f=(j=j.replace(u,"").trim()).charCodeAt(0)),64===f){switch(0<N&&(j=j.replace(d,"")),p=j.charCodeAt(1)){case 100:case 109:case 115:case 45:N=r;break;default:N=M}if(V=(v=t(r,N,v,p,h+1)).length,0<D&&(b=s(3,v,N=n(M,j,B),r,P,T,V,p,h,c),j=N.join(""),void 0!==b&&0===(V=(v=b.trim()).length)&&(p=0,v="")),0<V)switch(p){case 115:j=j.replace(_,a);case 100:case 109:case 45:v=j+"{"+v+"}";break;case 107:v=(j=j.replace(m,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=j+v,112===c&&(Y+=v,v="")}else v=""}else v=t(r,n(r,j,B),v,c,h+1);H+=v,v=B=N=O=f=0,j="",p=l.charCodeAt(++R);break;case 125:case 59:if(1<(V=(j=(0<N?j.replace(d,""):j).trim()).length))switch(0===O&&(f=j.charCodeAt(0),45===f||96<f&&123>f)&&(V=(j=j.replace(" ",":")).length),0<D&&void 0!==(b=s(1,j,r,e,P,T,Y.length,c,h,c))&&0===(V=(j=b.trim()).length)&&(j="\0\0"),f=j.charCodeAt(0),p=j.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){U+=j+l.charAt(R);break}default:58!==j.charCodeAt(V-1)&&(Y+=i(j,f,p,j.charCodeAt(2)))}B=N=O=f=0,j="",p=l.charCodeAt(++R)}}switch(p){case 13:case 10:47===C?C=0:0===1+f&&107!==c&&0<j.length&&(N=1,j+="\0"),0<D*L&&s(0,j,r,e,P,T,Y.length,c,h,c),T=1,P++;break;case 59:case 125:if(0===C+E+S+w){T++;break}default:switch(T++,g=l.charAt(R),p){case 9:case 32:if(0===E+w+C)switch(k){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===E+C+w&&(N=B=1,g="\f"+g);break;case 108:if(0===E+C+w+I&&0<O)switch(R-O){case 2:112===k&&58===l.charCodeAt(R-3)&&(I=k);case 8:111===F&&(I=F)}break;case 58:0===E+C+w&&(O=R);break;case 44:0===C+S+E+w&&(N=1,g+="\r");break;case 34:case 39:0===C&&(E=E===p?0:0===E?p:E);break;case 91:0===E+C+S&&w++;break;case 93:0===E+C+S&&w--;break;case 41:0===E+C+w&&S--;break;case 40:0===E+C+w&&(0===f&&(2*k+3*F==533||(f=1)),S++);break;case 64:0===C+S+E+w+O+v&&(v=1);break;case 42:case 47:if(!(0<E+w+S))switch(C){case 0:switch(2*p+3*l.charCodeAt(R+1)){case 235:C=47;break;case 220:V=R,C=42}break;case 42:47===p&&42===k&&V+2!==R&&(33===l.charCodeAt(V+2)&&(Y+=l.substring(V,R+1)),g="",C=0)}}0===C&&(j+=g)}F=k,k=p,R++}if(0<(V=Y.length)){if(N=r,0<D&&void 0!==(b=s(2,Y,N,e,P,T,V,c,h,c))&&0===(Y=b).length)return U+Y+H;if(Y=N.join(",")+"{"+Y+"}",0!=A*I){switch(2!==A||o(Y,2)||(I=0),I){case 111:Y=Y.replace(x,":-moz-$1")+Y;break;case 112:Y=Y.replace(y,"::-webkit-input-$1")+Y.replace(y,"::-moz-$1")+Y.replace(y,":-ms-input-$1")+Y}I=0}}return U+Y+H}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[l++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===A||2===A&&o(l,1)?"-webkit-"+l+l:l}if(0===A||2===A&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(k,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return f.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(b,"tb");break;case 232:l=a.replace(b,"tb-rl");break;case 220:l=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(C,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(C,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(S,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,l,u){for(var d,h=0,f=t;h<D;++h)switch(d=F[h].call(c,e,f,n,r,i,o,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:f=d}if(f!==t)return f}function l(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!=typeof e?A=1:(A=2,O=e):A=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=s(-1,n,r,r,P,T,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(M,r,n,0,0);return 0<D&&void 0!==(i=s(-2,o,r,r,P,T,o.length,0,0,0))&&(o=i),I=0,T=P=1,o}var u=/^\0+/g,d=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,x=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,C=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,T=1,P=1,I=0,A=1,M=[],F=[],D=0,O=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:D=F.length=0;break;default:if("function"==typeof t)F[D++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=l,void 0!==e&&l(e),c},hi={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var fi=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pi=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return fi.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),vi=a(679),gi=a.n(vi);function mi(){return(mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var yi=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},xi=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,lt.typeOf)(e)},bi=Object.freeze([]),_i=Object.freeze({});function wi(e){return"function"==typeof e}function Ci(e){return e.displayName||e.name||"Component"}function Si(e){return e&&"string"==typeof e.styledComponentId}var Ei="undefined"!=typeof r&&void 0!==r.env&&(r.env.REACT_APP_SC_ATTR||r.env.SC_ATTR)||"data-styled",ki="undefined"!=typeof window&&"HTMLElement"in window,Ti=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof r&&void 0!==r.env&&(void 0!==r.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==r.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==r.env.REACT_APP_SC_DISABLE_SPEEDY&&r.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==r.env.SC_DISABLE_SPEEDY&&""!==r.env.SC_DISABLE_SPEEDY&&"false"!==r.env.SC_DISABLE_SPEEDY&&r.env.SC_DISABLE_SPEEDY));function Pi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Ii=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Pi(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),Ai=new Map,Mi=new Map,Fi=1,Di=function(e){if(Ai.has(e))return Ai.get(e);for(;Mi.has(Fi);)Fi++;var t=Fi++;return Ai.set(e,t),Mi.set(t,e),t},Oi=function(e){return Mi.get(e)},Li=function(e,t){t>=Fi&&(Fi=t+1),Ai.set(e,t),Mi.set(t,e)},Ri="style["+Ei+'][data-styled-version="5.3.11"]',Ni=new RegExp("^"+Ei+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Bi=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},Vi=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(Ni);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(Li(c,l),Bi(e,c,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(a)}}},Wi=function(){return a.nc},zi=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Ei))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(Ei,"active"),r.setAttribute("data-styled-version","5.3.11");var a=Wi();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},ji=function(){function e(e){var t=this.element=zi(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Pi(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Yi=function(){function e(e){var t=this.element=zi(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Hi=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Ui=ki,qi={isServer:!ki,useCSSOMInjection:!Ti},Xi=function(){function e(e,t,n){void 0===e&&(e=_i),void 0===t&&(t={}),this.options=mi({},qi,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ki&&Ui&&(Ui=!1,function(e){for(var t=document.querySelectorAll(Ri),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Ei)&&(Vi(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Di(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(mi({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Hi(i):r?new ji(i):new Yi(i),new Ii(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Di(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Di(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Di(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=Oi(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var l=Ei+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),$i=/(a)(d)/gi,Ki=function(e){return String.fromCharCode(e+(e>25?39:97))};function Gi(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ki(t%52)+n;return(Ki(t%52)+n).replace($i,"$1-$2")}var Zi=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ji=function(e){return Zi(5381,e)};function Qi(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(wi(n)&&!Si(n))return!1}return!0}var eo=Ji("5.3.11"),to=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Qi(e),this.componentId=t,this.baseHash=Zi(eo,t),this.baseStyle=n,Xi.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=bo(this.rules,e,t,n).join(""),a=Gi(Zi(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,c=Zi(this.baseHash,n.hash),u="",d=0;d<l;d++){var h=this.rules[d];if("string"==typeof h)u+=h;else if(h){var f=bo(h,e,t,n),p=Array.isArray(f)?f.join(""):f;c=Zi(c,p+d),u+=p}}if(u){var v=Gi(c>>>0);if(!t.hasNameForId(r,v)){var g=n(u,"."+v,void 0,r);t.insertRules(r,v,g)}i.push(v)}}return i.join(" ")},e}(),no=/^\s*\/\/.*$/gm,ro=[":","[",".","#"];function io(e){var t,n,r,i,o=void 0===e?_i:e,a=o.options,s=void 0===a?_i:a,l=o.plugins,c=void 0===l?bi:l,u=new di(s),d=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,l,c,u,d){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),f=function(e,r,o){return 0===r&&-1!==ro.indexOf(o[n.length])||o.match(i)?e:"."+t};function p(e,o,a,s){void 0===s&&(s="&");var l=e.replace(no,""),c=o&&a?a+" "+o+" { "+l+" }":l;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),u(a||!o?"":o,c)}return u.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,f))},h,function(e){if(-2===e){var t=d;return d=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Pi(15),Zi(e,t.name)}),5381).toString():"",p}var oo=t().createContext(),ao=(oo.Consumer,t().createContext()),so=(ao.Consumer,new Xi),lo=io();function co(){return(0,e.useContext)(oo)||so}function uo(){return(0,e.useContext)(ao)||lo}function ho(n){var r=(0,e.useState)(n.stylisPlugins),i=r[0],o=r[1],a=co(),s=(0,e.useMemo)((function(){var e=a;return n.sheet?e=n.sheet:n.target&&(e=e.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[n.disableCSSOMInjection,n.sheet,n.target]),l=(0,e.useMemo)((function(){return io({options:{prefix:!n.disableVendorPrefixes},plugins:i})}),[n.disableVendorPrefixes,i]);return(0,e.useEffect)((function(){ui()(i,n.stylisPlugins)||o(n.stylisPlugins)}),[n.stylisPlugins]),t().createElement(oo.Provider,{value:s},t().createElement(ao.Provider,{value:l},n.children))}var fo=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=lo);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Pi(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=lo),this.name+e.hash},e}(),po=/([A-Z])/,vo=/([A-Z])/g,go=/^ms-/,mo=function(e){return"-"+e.toLowerCase()};function yo(e){return po.test(e)?e.replace(vo,mo).replace(go,"-ms-"):e}var xo=function(e){return null==e||!1===e||""===e};function bo(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=bo(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return xo(e)?"":Si(e)?"."+e.styledComponentId:wi(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:bo(e(t),t,n,r):e instanceof fo?n?(e.inject(n,r),e.getName(r)):e:xi(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!xo(t[a])&&(Array.isArray(t[a])&&t[a].isCss||wi(t[a])?o.push(yo(a)+":",t[a],";"):xi(t[a])?o.push.apply(o,e(t[a],a)):o.push(yo(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in hi||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var l}var _o=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function wo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return wi(e)||xi(e)?_o(bo(yi(bi,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:_o(bo(yi(e,n)))}new Set;var Co=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,So=/(^-|-$)/g;function Eo(e){return e.replace(Co,"-").replace(So,"")}function ko(e){return"string"==typeof e&&!0}var To=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Po=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Io(e,t,n){var r=e[n];To(t)&&To(r)?Ao(r,t):e[n]=t}function Ao(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(To(a))for(var s in a)Po(s)&&Io(e,a[s],s)}return e}var Mo=t().createContext();Mo.Consumer;var Fo={};function Do(n,r,i){var o=Si(n),a=!ko(n),s=r.attrs,l=void 0===s?bi:s,c=r.componentId,u=void 0===c?function(e,t){var n="string"!=typeof e?"sc":Eo(e);Fo[n]=(Fo[n]||0)+1;var r=n+"-"+function(e){return Gi(Ji(e)>>>0)}("5.3.11"+n+Fo[n]);return t?t+"-"+r:r}(r.displayName,r.parentComponentId):c,d=r.displayName,h=void 0===d?function(e){return ko(e)?"styled."+e:"Styled("+Ci(e)+")"}(n):d,f=r.displayName&&r.componentId?Eo(r.displayName)+"-"+r.componentId:r.componentId||u,p=o&&n.attrs?Array.prototype.concat(n.attrs,l).filter(Boolean):l,v=r.shouldForwardProp;o&&n.shouldForwardProp&&(v=r.shouldForwardProp?function(e,t,i){return n.shouldForwardProp(e,t,i)&&r.shouldForwardProp(e,t,i)}:n.shouldForwardProp);var g,m=new to(i,f,o?n.componentStyle:void 0),y=m.isStatic&&0===l.length,x=function(t,n){return function(t,n,r,i){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,l=t.foldedComponentIds,c=t.shouldForwardProp,u=t.styledComponentId,d=t.target,h=function(e,t,n){void 0===e&&(e=_i);var r=mi({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in wi(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(function(e,t,n){return void 0===n&&(n=_i),e.theme!==n.theme&&e.theme||t||n.theme}(n,(0,e.useContext)(Mo),s)||_i,n,o),f=h[0],p=h[1],v=function(e,t,n,r){var i=co(),o=uo();return t?e.generateAndInjectStyles(_i,i,o):e.generateAndInjectStyles(n,i,o)}(a,i,f),g=r,m=p.$as||n.$as||p.as||n.as||d,y=ko(m),x=p!==n?mi({},n,{},p):n,b={};for(var _ in x)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?b.as=x[_]:(c?c(_,pi,m):!y||pi(_))&&(b[_]=x[_]));return n.style&&p.style!==n.style&&(b.style=mi({},n.style,{},p.style)),b.className=Array.prototype.concat(l,u,v!==u?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=g,(0,e.createElement)(m,b)}(g,t,n,y)};return x.displayName=h,(g=t().forwardRef(x)).attrs=p,g.componentStyle=m,g.displayName=h,g.shouldForwardProp=v,g.foldedComponentIds=o?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):bi,g.styledComponentId=f,g.target=o?n.target:n,g.withComponent=function(e){var t=r.componentId,n=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,["componentId"]),o=t&&t+"-"+(ko(e)?e:Eo(Ci(e)));return Do(e,mi({},n,{attrs:p,componentId:o}),i)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=o?Ao({},n.defaultProps,e):e}}),Object.defineProperty(g,"toString",{value:function(){return"."+g.styledComponentId}}),a&&gi()(g,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var Oo=function(e){return function e(t,n,r){if(void 0===r&&(r=_i),!(0,lt.isValidElementType)(n))return Pi(1,String(n));var i=function(){return t(n,r,wo.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,mi({},r,{},i))},i.attrs=function(i){return e(t,n,mi({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Do,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Oo[e]=Oo(e)})),function(){var e=function(e,t){this.rules=e,this.componentId=t,this.isStatic=Qi(e),Xi.registerId(this.componentId+1)}.prototype;e.createStyles=function(e,t,n,r){var i=r(bo(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},e.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.renderStyles=function(e,t,n,r){e>2&&Xi.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}(),function(){var e=function(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Wi();return"<style "+[n&&'nonce="'+n+'"',Ei+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Pi(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return Pi(2);var r=((n={})[Ei]="",n["data-styled-version"]="5.3.11",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=Wi();return i&&(r.nonce=i),[t().createElement("style",mi({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Xi({isServer:!0}),this.sealed=!1}.prototype;e.collectStyles=function(e){return this.sealed?Pi(2):t().createElement(ho,{sheet:this.instance},e)},e.interleaveWithNodeStream=function(e){return Pi(3)}}();const Lo=Oo;var Ro,No,Bo=Lo.p(Ro||(Ro=li(["\n  opacity: 0.3;\n  font-size: 10px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 999;\n  &:hover {\n    opacity: 1;\n  }\n  background: #ccc;\n"],["\n  opacity: 0.3;\n  font-size: 10px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 999;\n  &:hover {\n    opacity: 1;\n  }\n  background: #ccc;\n"]))),Vo=Lo.h3(No||(No=li(["\n  font-size: 18px;\n  font-weight: normal;\n  margin-top: 20px;\n"],["\n  font-size: 18px;\n  font-weight: normal;\n  margin-top: 20px;\n"]))),Wo="_nginx_server_proxy_env_";function zo(e){return"undefined"!=typeof document?function(e){var t,n=document.cookie,r=n.indexOf(e+"=");if(-1!==r)return r=r+e.length+1,-1===(t=n.indexOf(";",r))&&(t=n.length),n.substring(r,t)}(e):""}var jo=["argocd","atomuai","atomuaj","atomucc","atomucu","atomucv","atomudc","atomudi","atomudm","atomudn","atomudt","atomue","atomuez","atomufy","atomuic","atomuin","atomujy","atomume","atomunb","atomung","atomunt","atomusp","atomutest","atomuty","atomuvn","atomuxx","atomuyi","chaosblade","cluster-fleet-local-local-1a3d67d0a899","cointest","deepflow","default","fleet-local","ingress","istio-system","karpenter","kube-node-lease","kube-public","kube-system","kuboard","local","logging","luban","lxcfs","minio","mmxc","mock","monitoring","ops","p-82hxb","p-ds7lr","velero","vince-test","zhkg","atomupre"],Yo=function(){return"undefined"!=typeof location&&jo.some((function(e){return location.origin.indexOf(".".concat(e,"."))>-1}))},Ho=function(){return"online"===zo(Wo)&&Yo()},Uo=function(n){var r=(0,e.useState)(!1),i=r[0],o=r[1],a=(0,e.useCallback)((function(){o(!1)}),[]),s=(0,e.useCallback)((function(){o(!0)}),[]),l=(0,e.useState)("undefined"==typeof document?"test":zo(Wo)||"test"),c=l[0],u=l[1],d=(0,e.useCallback)((function(e){u(e.target.value),function(e,t,n){var r=e+"="+t+";path=/",i=location.hostname,o=i.split(".");3===o.length&&(i="."+o[1]+"."+o[2]),r+=";domain="+i;var a="";r+=a,document.cookie=r}(Wo,e.target.value),location.reload()}),[]);return Yo()?t().createElement("div",null,t().createElement(Bo,{onClick:s},(null==n?void 0:n.commitShort)||"\u67e5\u770b\u5f69\u86cb\u4fe1\u606f"),t().createElement(zr,{title:"\u5f69\u86cb\u4fe1\u606f",placement:"left",closable:!1,onClose:a,open:i},(null==n?void 0:n.commitShort)||"",(null==n?void 0:n.commitFull)?t().createElement(t().Fragment,null,t().createElement(Vo,null,"\u7248\u672c\u4fe1\u606f"),t().createElement("pre",null,null==n?void 0:n.commitFull)):t().createElement("div",null),t().createElement(Vo,null,"\u6570\u636e\u73af\u5883\u5207\u6362"),t().createElement(si.Group,{onChange:d,value:c},t().createElement(si,{value:"test"},"\u6d4b\u8bd5\u73af\u5883"),t().createElement(si,{value:"online"},"\u7ebf\u4e0a\u73af\u5883")))):t().createElement("div",null)}})();var l=t;for(var c in s)l[c]=s[c];s.__esModule&&Object.defineProperty(l,"__esModule",{value:!0})},22429:function(e,t,n){"use strict";n.d(t,{BN:function(){return _},oh:function(){return S},L7:function(){return T}});var r=n(11780),i=n(25638),o=n(40380),a=n.n(o),s=n(67597),l=n(77163),c=!1,u=!1;function d(e){if(e.event){var t=window.mexcAppJsBridge.events[e.event];t&&t.length&&setTimeout((function(){t.forEach((function(t){return null===t||void 0===t?void 0:t(e.data)}))}))}}function h(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!c)return Promise.resolve(null);n=i?new Promise((function(e){r=f(e)})):Promise.resolve(null);try{u?window.mexcAppJsBridge.callNative(e,t?JSON.stringify(t):"",r):window.webkit.messageHandlers.mexcAppJsBridge.postMessage(JSON.stringify({method:e,param:t,callbackMethod:r}))}catch(o){console.warn(o)}return n}function f(e){var t="__mexc_native_call_h5_fn".concat(window.mexcAppJsBridge.callbackMethodId++,"__");return window.mexcAppJsBridge[t]=function(n){var r=u?n:JSON.parse(n);window.mexcAppJsBridge[t]=void 0,delete window.mexcAppJsBridge[t],null===e||void 0===e||e(r)},t}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}!function(){var e,t,n,r;"undefined"!==typeof window&&((window.top.mexcAppJsBridge||window.mexcAppJsBridge)&&(window!==window.top&&(window.mexcAppJsBridge=window.top.mexcAppJsBridge),c=!0,u=!0),(null!==(e=window.top.webkit)&&void 0!==e&&null!==(t=e.messageHandlers)&&void 0!==t&&t.mexcAppJsBridge||null!==(n=window.webkit)&&void 0!==n&&null!==(r=n.messageHandlers)&&void 0!==r&&r.mexcAppJsBridge)&&(window.mexcAppJsBridge=window.mexcAppJsBridge||{},window!==window.top&&(window.webkit=window.top.webkit,window.top.mexcAppJsBridge=window.mexcAppJsBridge),c=!0),c&&(window.mexcAppJsBridge.events=window.mexcAppJsBridge.events||{},window.mexcAppJsBridge.handleEventFromApp=window.mexcAppJsBridge.handleEventFromApp||d,window.mexcAppJsBridge.callbackMethodId=window.mexcAppJsBridge.callbackMethodId||1))}();var v,g=null,m=null,y={},x=new WeakMap,b=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=x.get(t)||t){e.next=3;break}return e.abrupt("return",!1);case 3:if("undefined"===typeof y[n]){e.next=5;break}return e.abrupt("return",y[n]);case 5:return e.next=7,h("caniuse",{method:n},!0);case 7:return r=e.sent,y[n]=0===(null===r||void 0===r?void 0:r.code),e.abrupt("return",y[n]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)(a().mark((function e(){var t,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(n.length>0&&void 0!==n[0])||n[0])||!g){e.next=3;break}return e.abrupt("return",g);case 3:return e.next=5,h("getAppInfo",null,!0);case 5:return t=e.sent,g=0===(null===t||void 0===t?void 0:t.code)?null===t||void 0===t?void 0:t.data:null,e.abrupt("return",g);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,r.Z)(a().mark((function e(){var t,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(n.length>0&&void 0!==n[0])||n[0])||!m){e.next=3;break}return e.abrupt("return",m);case 3:return e.next=5,h("getUserInfo",null,!0);case 5:return t=e.sent,m=0===(null===t||void 0===t?void 0:t.code)?null===t||void 0===t?void 0:t.data:null,e.abrupt("return",m);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,r.Z)(a().mark((function e(){var t,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(n.length>0&&void 0!==n[0])||n[0])||!m){e.next=3;break}return e.abrupt("return",m);case 3:return e.next=5,h("login",null,!0);case 5:return t=e.sent,m=0===(null===t||void 0===t?void 0:t.code)?null===t||void 0===t?void 0:t.data:null,e.abrupt("return",m);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e,t){var n,r=new Promise((function(e){n=f(e)}));return h("openPage",{route:e,callbackMethod:n,closePageStack:t}),r},E=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(r.length>0&&void 0!==r[0])||r[0])||"number"!==typeof v){e.next=3;break}return e.abrupt("return",v);case 3:return e.next=5,h("getStatusBarHeight",null,!0);case 5:return n=e.sent,v=0===(null===n||void 0===n?void 0:n.code)?null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.height:null,e.abrupt("return",v);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(k);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!0);case 4:return e.abrupt("return",h("checkNetAvailable",null,!0).then((function(e){return 0===(null===e||void 0===e?void 0:e.code)})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x.set(_,"getAppInfo"),x.set(w,"getUserInfo"),x.set(C,"login"),x.set(S,"openPage"),x.set((function(){h("closePage",null)}),"closePage"),x.set((function(e){h("tel",{number:e})}),"tel"),x.set((function(e,t){h("alert",{content:e},!0).then((function(e){0===(null===e||void 0===e?void 0:e.code)&&(null===t||void 0===t||t())}))}),"alert"),x.set((function(){h("showLoading",null)}),"showLoading"),x.set((function(){h("hideLoading",null)}),"hideLoading"),x.set((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n={default:0,success:1,error:2}[t];h("showToast",{content:e,type:n})}),"showToast"),x.set((function(){h("share",null)}),"share"),x.set((function(e){h("setTitle",{title:e})}),"setTitle"),x.set((function(e){h("setTitleBarVisible",{visible:e})}),"setTitleBarVisible"),x.set((function(e){h("setCloseButtonVisible",{visible:e})}),"setCloseButtonVisible"),x.set(E,"getStatusBarHeight"),x.set((function(e){h("copyToClipboard",{content:e})}),"copyToClipboard"),x.set((function(e){h(e?"disableBack":"enableBack",null)}),"disableBack"),x.set(k,"checkNetAvailable"),x.set((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:"Confirm",positiveText:"Ok",negativeText:"Cancel",cancelable:!0},e);return h("alert",t,!0).then((function(e){return Promise.resolve(0===(null===e||void 0===e?void 0:e.code))}))}),"alert");var T=function(){var e=(0,s.useState)(null),t=(0,i.Z)(e,2),n=t[0],o=t[1];return(0,s.useEffect)((function(){(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,_();case 3:t=e.sent,o(t);case 5:case"end":return e.stop()}}),e)})))()}),[]),n}},36952:function(e,t){!function(e){"use strict";function t(e,n){if(o(e)||o(n))for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var a=e[i],l=n[i];o(l)&&o(a)&&!r(l)&&!r(a)?t(a,l):s(n[i])&&(e[i]=n[i])}}function n(e){if(!o(e)||!r(e))return e;var t;for(var i in t=r(e)?[]:{},e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=e[i];t[i]=o(a)?n(a):a}return t}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e}function a(e){return"number"==typeof e&&!isNaN(e)}function s(e){return null!=e}function l(e){return"boolean"==typeof e}function c(e){return"string"==typeof e}var u=/\\(\\)?/g,d=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g");function h(e,t,n){if(s(e)){var r=[];t.replace(d,(function(e){for(var t=[],n=1;arguments.length>n;n++)t[n-1]=arguments[n];var i=e;return s(t[1])?i=t[2].replace(u,"$1"):s(t[0])&&(i=t[0].trim()),r.push(i),""}));for(var i=e,o=0,a=r.length;s(i)&&a>o;)i=null==i?void 0:i[r[o++]];return s(i)?i:null!=n?n:"--"}return null!=n?n:"--"}function f(e,t,n){var r=e.format(new Date(t)).split(", "),i=r[0].split("/"),o=r[1].split(":"),a={YYYY:i[2],MM:i[0],DD:i[1],HH:"24"===o[0]?"00":o[0],mm:o[1],ss:o[2]};return n.replace(/YYYY|MM|DD|HH|mm|ss/g,(function(e){return a[e]}))}function p(e,t){var n=+e;return a(n)?n.toFixed(null!=t?t:2):"".concat(n)}function v(e,t){void 0===t&&(t=E);var n=+e;return a(n)?e>1e9?"".concat(t(+(n/1e9).toFixed(3)),"B"):e>1e6?"".concat(t(+(n/1e6).toFixed(3)),"M"):e>1e3?"".concat(t(+(n/1e3).toFixed(3)),"K"):"".concat(t(e)):"--"}var g,m,y,x,b,_,w,C,S,E=function(e){var t=(""+e).split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},k=function(e){return"".concat(e,"%")};function T(e,t,n){return void 0===n&&(n=E),n(p(e,t))}function P(e,t,n){var r,i,o,a,s,l,c=(2592e3===n?(i=(r=new Date(e)).getTimezoneOffset(),o=new Date(r.getTime()+60*i*1e3),a=new Date(o.getTime()+288e5),s=a.getUTCFullYear(),l=a.getUTCMonth()+1,new Date(Date.UTC(12===l?s+1:s,(12===l?1:l+1)-1,1,0,0,0))).getTime():e+(t?e-(null!=t?t:0):1e3*(null!=n?n:0)))-Date.now();if(0>c)return{isValid:!1,text:""};var u=Math.floor(c/864e5),d=Math.floor(c%864e5/36e5),h="".concat(10>d?"0":"").concat(d),f=Math.floor(c%36e5/6e4),p="".concat(10>f?"0":"").concat(f),v=Math.floor(c%6e4/1e3),g="".concat(10>v?"0":"").concat(v);return{isValid:!0,text:0!==u?"".concat(u,"D ").concat(d,"H"):0!==d?"".concat(h,":").concat(p,":").concat(g):"".concat(p,":").concat(g)}}e.LineType=void 0,(g=e.LineType||(e.LineType={})).Dashed="dashed",g.Solid="solid",e.PolygonType=void 0,(m=e.PolygonType||(e.PolygonType={})).Stroke="stroke",m.Fill="fill",m.StrokeFill="stroke_fill",e.TooltipShowRule=void 0,(y=e.TooltipShowRule||(e.TooltipShowRule={})).Always="always",y.FollowCross="follow_cross",y.None="none",e.TooltipShowType=void 0,(x=e.TooltipShowType||(e.TooltipShowType={})).Standard="standard",x.Rect="rect",e.TooltipIconPosition=void 0,(b=e.TooltipIconPosition||(e.TooltipIconPosition={})).Left="left",b.Middle="middle",b.Right="right",e.CandleType=void 0,(_=e.CandleType||(e.CandleType={})).CandleSolid="candle_solid",_.CandleStroke="candle_stroke",_.CandleUpStroke="candle_up_stroke",_.CandleDownStroke="candle_down_stroke",_.Ohlc="ohlc",_.Area="area",e.YAxisPosition=void 0,(w=e.YAxisPosition||(e.YAxisPosition={})).Left="left",w.Right="right",e.YAxisType=void 0,(C=e.YAxisType||(e.YAxisType={})).Normal="normal",C.Percentage="percentage",C.Log="log",e.FormatDateType=void 0,(S=e.FormatDateType||(e.FormatDateType={}))[S.Tooltip=0]="Tooltip",S[S.Crosshair=1]="Crosshair",S[S.XAxis=2]="XAxis";var I="en-US",A=function(e,t){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},A(e,t)};function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},D.apply(this,arguments)};function O(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function L(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&i[3]>s[1])){a.label=s[1];break}if(6===s[0]&&i[1]>a.label){a.label=i[1],i=s;break}if(i&&i[2]>a.label){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function R(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function B(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;o>i;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}e.ActionType=void 0,(F=e.ActionType||(e.ActionType={})).OnZoom="onZoom",F.OnScroll="onScroll",F.OnVisibleRangeChange="onVisibleRangeChange",F.OnTooltipIconClick="onTooltipIconClick",F.OnCrosshairChange="onCrosshairChange",F.OnCandleBarClick="onCandleBarClick",F.OnPaneDrag="onPaneDrag";var V,W=function(){function e(){this._callbacks=[]}return e.prototype.subscribe=function(e){var t;0>(null!==(t=this._callbacks.indexOf(e))&&void 0!==t?t:-1)&&this._callbacks.push(e)},e.prototype.unsubscribe=function(e){var t;if(void 0!==e){var n=null!==(t=this._callbacks.indexOf(e))&&void 0!==t?t:-1;n>-1&&this._callbacks.splice(n,1)}else this._callbacks=[]},e.prototype.execute=function(e){this._callbacks.forEach((function(t){t(e)}))},e.prototype.isEmpty=function(){return 0===this._callbacks.length},e}(),z=new(function(){function e(){this._baseId=1}return e.prototype.next=function(e){var t=(new Date).getTime();return t===this._prevIdTimestamp?++this._baseId:this._baseId=1,this._prevIdTimestamp=t,"".concat(null!=e?e:"").concat(t,"_").concat(this._baseId)},e}());function j(e){return z.next(e)}function Y(e,t){var n,r=document.createElement(e),i=null!=t?t:{};for(var o in i)r.style[o]=null!==(n=i[o])&&void 0!==n?n:"";return r}function H(e){var t,n,r;return null!==(r=null===(n=null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||void 0===n?void 0:n.devicePixelRatio)&&void 0!==r?r:2}function U(e,t,n){return"".concat(null!=t?t:"normal"," ").concat(null!=e?e:12,"px ").concat(null!=n?n:"Helvetica Neue")}function q(e,t,n,r){if(void 0===V){var i=document.createElement("canvas"),o=H(i);(V=i.getContext("2d")).scale(o,o)}return V.font=U(t,n,r),Math.round(V.measureText(e).width)}function X(e,t,n){var r=0,i=0;for(i=e.length-1;r!==i;){var o=Math.floor((i+r)/2),a=i-r,s=e[o][t];if(n===e[r][t])return r;if(n===e[i][t])return i;if(n===s)return o;if(n>s?r=o:i=o,2>=a)break}return r}function $(e,t){return null==t&&(t=10),+(+e).toFixed(t=Math.min(Math.max(0,t),20))}function K(e,t,n){var r=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER];return e.forEach((function(e){var i,o;r[0]=Math.max(null!==(i=e[t])&&void 0!==i?i:e,r[0]),r[1]=Math.min(null!==(o=e[n])&&void 0!==o?o:e,r[1])})),r}function G(e){return Math.log(e)/Math.log(10)}function Z(e){return Math.pow(10,e)}var J,Q=1,ee=50,te=6,ne=50,re=function(){function t(e){this._dateTimeFormat=this._buildDateTimeFormat(),this._zoomEnabled=!0,this._scrollEnabled=!0,this._loading=!0,this._loadMoreCallback=null,this._more=!0,this._totalBarSpace=0,this._barSpace=te,this._offsetRightDistance=ne,this._startScrollOffsetRightBarCount=0,this._minVisibleBarCount={left:2,right:2},this._visibleRange={from:0,to:0},this._chartStore=e,this._gapBarSpace=this._calcGapBarSpace(),this._offsetRightBarCount=this._offsetRightDistance/this._barSpace}return t.prototype._calcGapBarSpace=function(){return Math.max(1,Math.min(Math.floor(.82*this._barSpace),Math.floor(this._barSpace)-1))},t.prototype.adjustVisibleRange=function(){var t,n=this._chartStore.getDataList(),r=n.length,i=this._totalBarSpace/this._barSpace,o=i-Math.min(this._minVisibleBarCount.left,r);this._offsetRightBarCount>o&&(this._offsetRightBarCount=o);var a=-r+Math.min(this._minVisibleBarCount.right,r);a>this._offsetRightBarCount&&(this._offsetRightBarCount=a);var s=Math.round(this._offsetRightBarCount+r+.5);s>r&&(s=r);var l=Math.round(s-i)-1;if(0>l&&(l=0),this._visibleRange={from:l,to:s},this._chartStore.getActionStore().execute(e.ActionType.OnVisibleRangeChange,{from:l,to:s}),this._chartStore.adjustVisibleDataList(),0===l&&this._more&&!this._loading&&null!==this._loadMoreCallback){this._loading=!0;var c=n[0];this._loadMoreCallback(null!==(t=null==c?void 0:c.timestamp)&&void 0!==t?t:null)}},t.prototype.setMore=function(e){return this._more=e,this},t.prototype.setLoading=function(e){return this._loading=e,this},t.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},t.prototype._buildDateTimeFormat=function(e){var t={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};void 0!==e&&(t.timeZone=e);var n=null;try{n=new Intl.DateTimeFormat("en",t)}catch(e){}return n},t.prototype.setTimezone=function(e){var t=this._buildDateTimeFormat(e);null!==t&&(this._dateTimeFormat=t)},t.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},t.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:this._gapBarSpace/2}},t.prototype.setBarSpace=function(e,t){Q>e||e>ee||this._barSpace===e||(this._barSpace=e,this._gapBarSpace=this._calcGapBarSpace(),null==t||t(),this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0))},t.prototype.setTotalBarSpace=function(e){return this._totalBarSpace!==e&&(this._totalBarSpace=e,this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0)),this},t.prototype.setOffsetRightDistance=function(e,t){return this._offsetRightDistance=e,this._offsetRightBarCount=e/this._barSpace,null!=t&&t&&(this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)),this},t.prototype.resetOffsetRightDistance=function(){this.setOffsetRightDistance(this._offsetRightDistance)},t.prototype.getOffsetRightDistance=function(){return this._offsetRightDistance},t.prototype.getOffsetRightBarCount=function(){return this._offsetRightBarCount},t.prototype.setOffsetRightBarCount=function(e){return this._offsetRightBarCount=e,this},t.prototype.setLeftMinVisibleBarCount=function(e){return this._minVisibleBarCount.left=e,this},t.prototype.setRightMinVisibleBarCount=function(e){return this._minVisibleBarCount.right=e,this},t.prototype.getVisibleRange=function(){return this._visibleRange},t.prototype.startScroll=function(){this._startScrollOffsetRightBarCount=this._offsetRightBarCount},t.prototype.scroll=function(t){if(this._scrollEnabled){var n=t/this._barSpace;this._chartStore.getActionStore().execute(e.ActionType.OnScroll),this._offsetRightBarCount=this._startScrollOffsetRightBarCount-n,this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)}},t.prototype.getDataByDataIndex=function(e){var t;return null!==(t=this._chartStore.getDataList()[e])&&void 0!==t?t:null},t.prototype.coordinateToFloatIndex=function(e){var t=this._chartStore.getDataList().length;return Math.round(1e6*(t+this._offsetRightBarCount-(this._totalBarSpace-e)/this._barSpace))/1e6},t.prototype.dataIndexToTimestamp=function(e){var t,n=this.getDataByDataIndex(e);return null!==(t=null==n?void 0:n.timestamp)&&void 0!==t?t:null},t.prototype.timestampToDataIndex=function(e){var t=this._chartStore.getDataList();return 0===t.length?0:X(t,"timestamp",e)},t.prototype.dataIndexToCoordinate=function(e){var t=this._chartStore.getDataList().length;return this._totalBarSpace-(t+this._offsetRightBarCount-e-.5)*this._barSpace},t.prototype.coordinateToDataIndex=function(e){return Math.ceil(this.coordinateToFloatIndex(e))-1},t.prototype.zoom=function(t,n){var r,i=this;if(this._zoomEnabled){if(void 0===(null==n?void 0:n.x)){var o=this._chartStore.getCrosshairStore().get();n={x:null!==(r=null==o?void 0:o.x)&&void 0!==r?r:this._totalBarSpace/2}}this._chartStore.getActionStore().execute(e.ActionType.OnZoom);var a=this.coordinateToFloatIndex(n.x);this.setBarSpace(this._barSpace+t*(this._barSpace/10),(function(){i._offsetRightBarCount+=a-i.coordinateToFloatIndex(null==n?void 0:n.x)}))}},t.prototype.setZoomEnabled=function(e){return this._zoomEnabled=e,this},t.prototype.getZoomEnabled=function(){return this._zoomEnabled},t.prototype.setScrollEnabled=function(e){return this._scrollEnabled=e,this},t.prototype.getScrollEnabled=function(){return this._scrollEnabled},t.prototype.setLoadMoreCallback=function(e){return this._loadMoreCallback=e,this},t.prototype.clear=function(){this._more=!0,this._loading=!0,this._visibleRange={from:0,to:0}},t}();function ie(e,t,n,r,i){var o,a,l,c=t.result,u=t.figures,d=t.styles,f=h(d,"circles",r.circles),p=f.length,v=h(d,"bars",r.bars),g=v.length,m=h(d,"lines",r.lines),y=m.length,x=0,b=0,_=0,w=0;u.forEach((function(u){var d,h,C,S;switch(u.type){case"circle":a=(o=f[x%p]).style,l=o.noChangeColor,w=x,x++;break;case"bar":a=(o=v[b%g]).style,l=o.noChangeColor,w=b,b++;break;case"line":a=(o=m[_%y]).style,l=o.color,w=_,_++}if(s(o)){var E=null!==(h=null===(d=u.styles)||void 0===d?void 0:d.call(u,{prev:{kLineData:e[n-1],indicatorData:c[n-1]},current:{kLineData:e[n],indicatorData:c[n]},next:{kLineData:e[n+1],indicatorData:c[n+1]}},t,r))&&void 0!==h?h:{style:a,color:l};i(u,{style:null!==(C=E.style)&&void 0!==C?C:a,color:null!==(S=E.color)&&void 0!==S?S:l},o,w)}}))}e.IndicatorSeries=void 0,(J=e.IndicatorSeries||(e.IndicatorSeries={})).Normal="normal",J.Price="price",J.Volume="volume";var oe=function(){function t(t){this.result=[],this._precisionFlag=!1;var n=t.name,r=t.shortName,i=t.series,o=t.calcParams,a=t.figures,s=t.precision,l=t.shouldOhlc,c=t.shouldFormatBigNumber,u=t.visible,d=t.minValue,h=t.maxValue,f=t.styles,p=t.extendData,v=t.regenerateFigures,g=t.createTooltipDataSource,m=t.draw;this.name=n,this.shortName=null!=r?r:n,this.series=null!=i?i:e.IndicatorSeries.Normal,this.precision=null!=s?s:4,this.calcParams=null!=o?o:[],this.figures=null!=a?a:[],this.shouldOhlc=null!=l&&l,this.shouldFormatBigNumber=null!=c&&c,this.visible=null==u||u,this.minValue=null!=d?d:null,this.maxValue=null!=h?h:null,this.styles=null!=f?f:null,this.extendData=p,this.regenerateFigures=null!=v?v:null,this.createTooltipDataSource=null!=g?g:null,this.draw=null!=m?m:null}return t.prototype.setShortName=function(e){return this.shortName!==e&&(this.shortName=e,!0)},t.prototype.setSeries=function(e){return this.series!==e&&(this.series=e,!0)},t.prototype.setPrecision=function(e,t){var n=null!=t&&t,r=Math.floor(e);return!(r===this.precision||0>e||n&&(!n||this._precisionFlag))&&(this.precision=r,n||(this._precisionFlag=!0),!0)},t.prototype.setCalcParams=function(e){var t,n;return this.calcParams=e,this.figures=null!==(n=null===(t=this.regenerateFigures)||void 0===t?void 0:t.call(this,e))&&void 0!==n?n:this.figures,!0},t.prototype.setShouldOhlc=function(e){return this.shouldOhlc!==e&&(this.shouldOhlc=e,!0)},t.prototype.setShouldFormatBigNumber=function(e){return this.shouldFormatBigNumber!==e&&(this.shouldFormatBigNumber=e,!0)},t.prototype.setVisible=function(e){return this.visible!==e&&(this.visible=e,!0)},t.prototype.setStyles=function(e){return this.styles!==e&&(this.styles=e,!0)},t.prototype.setExtendData=function(e){return this.extendData!==e&&(this.extendData=e,!0)},t.prototype.setFigures=function(e){return this.figures!==e&&(this.figures=e,!0)},t.prototype.setMinValue=function(e){return this.minValue!==e&&(this.minValue=e,!0)},t.prototype.setMaxValue=function(e){return this.maxValue!==e&&(this.maxValue=e,!0)},t.prototype.setRegenerateFigures=function(e){return this.regenerateFigures!==e&&(this.regenerateFigures=e,!0)},t.prototype.setCreateTooltipDataSource=function(e){return this.createTooltipDataSource!==e&&(this.createTooltipDataSource=e,!0)},t.prototype.setDraw=function(e){return this.draw!==e&&(this.draw=e,!0)},t.prototype.calcIndicator=function(e){return O(this,void 0,void 0,(function(){var t;return L(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.calc(e,this)];case 1:return t=n.sent(),this.result=t,[2,!0];case 2:return n.sent(),[2,!1];case 3:return[2]}}))}))},t.extend=function(e){return function(t){function n(){return t.call(this,e)||this}return M(n,t),n.prototype.calc=function(t,n){return e.calc(t,n)},n}(t)},t}(),ae={name:"AVP",shortName:"AVP",series:e.IndicatorSeries.Price,precision:2,figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(e){var t=0,n=0;return e.map((function(e){var r,i,o={},a=null!==(r=null==e?void 0:e.turnover)&&void 0!==r?r:0,s=null!==(i=null==e?void 0:e.volume)&&void 0!==i?i:0;return t+=a,0!==(n+=s)&&(o.avp=t/n),o}))}},se={name:"EMA",shortName:"EMA",series:e.IndicatorSeries.Price,calcParams:[6,12,20],precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(e){return e.map((function(e,t){return{key:"ema".concat(t+1),title:"EMA".concat(e,": "),type:"line"}}))},calc:function(e,t){var n=t.calcParams,r=t.figures,i=0,o=[];return e.map((function(e,t){var a={},s=e.close;return i+=s,n.forEach((function(e,n){e-1>t||(o[n]=t>e-1?(2*s+(e-1)*o[n])/(e+1):i/e,a[r[n].key]=o[n])})),a}))}},le={name:"MA",shortName:"MA",series:e.IndicatorSeries.Price,calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma30",title:"MA30: ",type:"line"},{key:"ma60",title:"MA60: ",type:"line"}],regenerateFigures:function(e){return e.map((function(e,t){return{key:"ma".concat(t+1),title:"MA".concat(e,": "),type:"line"}}))},calc:function(e,t){var n=t.calcParams,r=t.figures,i=[];return e.map((function(t,o){var a={},s=t.close;return n.forEach((function(t,n){var l;i[n]=(null!==(l=i[n])&&void 0!==l?l:0)+s,t-1>o||(a[r[n].key]=i[n]/t,i[n]-=e[o-(t-1)].close)})),a}))}},ce={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(e){return e.map((function(e,t){var n=t+1;return{key:"rsi".concat(n),title:"RSI".concat(n,": "),type:"line"}}))},calc:function(e,t){var n=t.calcParams,r=t.figures,i=[],o=[];return e.map((function(t,a){var s,l={},c=(null!==(s=e[a-1])&&void 0!==s?s:t).close,u=t.close-c;return n.forEach((function(t,n){var s,c,d;if(u>0?i[n]=(null!==(s=i[n])&&void 0!==s?s:0)+u:o[n]=(null!==(c=o[n])&&void 0!==c?c:0)+Math.abs(u),a>=t-1){l[r[n].key]=0!==o[n]?100-100/(1+i[n]/o[n]):0;var h=e[a-(t-1)],f=null!==(d=e[a-t])&&void 0!==d?d:h,p=h.close-f.close;p>0?i[n]-=p:o[n]-=Math.abs(p)}})),l}))}},ue={name:"VOL",shortName:"VOL",series:e.IndicatorSeries.Volume,calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(e,t,n){var r=e.current.kLineData;return{color:r.close>r.open?h(t.styles,"bars[0].upColor",n.bars[0].upColor):r.open>r.close?h(t.styles,"bars[0].downColor",n.bars[0].downColor):h(t.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor)}}}],regenerateFigures:function(e){var t=e.map((function(e,t){return{key:"ma".concat(t+1),title:"MA".concat(e,": "),type:"line"}}));return t.push({key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(e,t,n){var r=e.current.kLineData;return r?{color:r.close>r.open?h(t.styles,"bars[0].upColor",n.bars[0].upColor):r.open>r.close?h(t.styles,"bars[0].downColor",n.bars[0].downColor):h(t.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor)}:{color:h(t.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor)}}}),t},calc:function(e,t){var n=t.calcParams,r=t.figures,i=[];return e.map((function(t,o){var a,s=null!==(a=t.volume)&&void 0!==a?a:0,l={volume:s};return n.forEach((function(t,n){var a,c;i[n]=(null!==(a=i[n])&&void 0!==a?a:0)+s,t-1>o||(l[r[n].key]=i[n]/t,i[n]-=null!==(c=e[o-(t-1)].volume)&&void 0!==c?c:0)})),l}))}},de={name:"WR",shortName:"WR",calcParams:[6,10,14],figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(e){return e.map((function(e,t){return{key:"wr".concat(t+1),title:"WR".concat(t+1,": "),type:"line"}}))},calc:function(e,t){var n=t.calcParams,r=t.figures;return e.map((function(t,i){var o={},a=t.close;return n.forEach((function(t,n){var s=t-1;if(i>=s){var l=K(e.slice(i-s,i+1),"high","low"),c=l[0],u=c-l[1];o[r[n].key]=0===u?0:(a-c)/u*100}})),o}))}},he={},fe=[ae,{name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(e,t,n){var r,i,o,a,s=null!==(i=null===(r=e.prev.indicatorData)||void 0===r?void 0:r.ao)&&void 0!==i?i:Number.MIN_SAFE_INTEGER,l=null!==(a=null===(o=e.current.indicatorData)||void 0===o?void 0:o.ao)&&void 0!==a?a:Number.MIN_SAFE_INTEGER;return{color:l>s?h(t.styles,"bars[0].upColor",n.bars[0].upColor):h(t.styles,"bars[0].downColor",n.bars[0].downColor),style:l>s?"stroke":"fill"}}}],calc:function(e,t){var n=t.calcParams,r=Math.max(n[0],n[1]),i=0,o=0,a=0,s=0;return e.map((function(t,l){var c,u={},d=(t.low+t.high)/2;return i+=d,o+=d,l<n[0]-1||(a=i/n[0],i-=((c=e[l-(n[0]-1)]).low+c.high)/2),l<n[1]-1||(s=o/n[1],o-=((c=e[l-(n[1]-1)]).low+c.high)/2),r-1>l||(u.ao=a-s),u}))}},{name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(e){return e.map((function(e,t){return{key:"bias".concat(t+1),title:"BIAS".concat(e,": "),type:"line"}}))},calc:function(e,t){var n=t.calcParams,r=t.figures,i=[];return e.map((function(t,o){var a={},s=t.close;return n.forEach((function(t,l){var c;if(i[l]=(null!==(c=i[l])&&void 0!==c?c:0)+s,o>=t-1){var u=i[l]/n[l];a[r[l].key]=(s-u)/u*100,i[l]-=e[o-(t-1)].close}})),a}))}},{name:"BOLL",shortName:"BOLL",series:e.IndicatorSeries.Price,calcParams:[20,2],precision:2,shouldOhlc:!0,figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=n[0]-1,i=0;return e.map((function(t,o){var a={};if(i+=t.close,o>=r){a.mid=i/n[0];var s=function(e,t){var n=e.length,r=0;return e.forEach((function(e){var n=e.close-t;r+=n*n})),Math.sqrt((r=Math.abs(r))/n)}(e.slice(o-r,o+1),a.mid);a.up=a.mid+n[1]*s,a.dn=a.mid-n[1]*s,i-=e[o-r].close}return a}))}},{name:"BRAR",shortName:"BRAR",calcParams:[26],figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=0,i=0,o=0,a=0;return e.map((function(t,s){var l,c,u={},d=t.high,h=t.low,f=t.open,p=(null!==(l=e[s-1])&&void 0!==l?l:t).close;if(o+=d-f,a+=f-h,r+=d-p,i+=p-h,s>=n[0]-1){u.ar=0!==a?o/a*100:0,u.br=0!==i?r/i*100:0;var v=e[s-(n[0]-1)],g=v.high,m=v.low,y=v.open,x=(null!==(c=e[s-n[0]])&&void 0!==c?c:e[s-(n[0]-1)]).close;r-=g-x,i-=x-m,o-=g-y,a-=y-m}return u}))}},{name:"BBI",shortName:"BBI",series:e.IndicatorSeries.Price,precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=Math.max.apply(Math,B([],N(n),!1)),i=[],o=[];return e.map((function(t,a){var s={},l=t.close;if(n.forEach((function(t,n){var r;i[n]=(null!==(r=i[n])&&void 0!==r?r:0)+l,t-1>a||(o[n]=i[n]/t,i[n]-=e[a-(t-1)].close)})),a>=r-1){var c=0;o.forEach((function(e){c+=e})),s.bbi=c/4}return s}))}},{name:"CCI",shortName:"CCI",calcParams:[20],figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=n[0]-1,i=0,o=[];return e.map((function(t,a){var s={},l=(t.high+t.low+t.close)/3;if(i+=l,o.push(l),a>=r){var c=i/n[0],u=o.slice(a-r,a+1),d=0;u.forEach((function(e){d+=Math.abs(e-c)}));var h=d/n[0];s.cci=0!==h?(l-c)/h/.015:0,i-=(e[a-r].high+e[a-r].low+e[a-r].close)/3}return s}))}},{name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=Math.ceil(n[1]/2.5+1),i=Math.ceil(n[2]/2.5+1),o=Math.ceil(n[3]/2.5+1),a=Math.ceil(n[4]/2.5+1),s=0,l=[],c=0,u=[],d=0,h=[],f=0,p=[],v=[];return e.forEach((function(t,g){var m,y,x,b,_,w={},C=null!==(m=e[g-1])&&void 0!==m?m:t,S=(C.high+C.close+C.low+C.open)/4,E=Math.max(0,t.high-S),k=Math.max(0,S-t.low);n[0]-1>g||(w.cr=0!==k?E/k*100:0,s+=w.cr,c+=w.cr,d+=w.cr,f+=w.cr,n[0]+n[1]-2>g||(l.push(s/n[1]),n[0]+n[1]+r-3>g||(w.ma1=l[l.length-1-r]),s-=null!==(y=v[g-(n[1]-1)].cr)&&void 0!==y?y:0),n[0]+n[2]-2>g||(u.push(c/n[2]),n[0]+n[2]+i-3>g||(w.ma2=u[u.length-1-i]),c-=null!==(x=v[g-(n[2]-1)].cr)&&void 0!==x?x:0),n[0]+n[3]-2>g||(h.push(d/n[3]),n[0]+n[3]+o-3>g||(w.ma3=h[h.length-1-o]),d-=null!==(b=v[g-(n[3]-1)].cr)&&void 0!==b?b:0),n[0]+n[4]-2>g||(p.push(f/n[4]),n[0]+n[4]+a-3>g||(w.ma4=p[p.length-1-a]),f-=null!==(_=v[g-(n[4]-1)].cr)&&void 0!==_?_:0)),v.push(w)})),v}},{name:"DMA",shortName:"DMA",calcParams:[10,50,10],figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=Math.max(n[0],n[1]),i=0,o=0,a=0,s=[];return e.forEach((function(t,l){var c,u={},d=t.close;i+=d,o+=d;var h=0,f=0;if(n[0]-1>l||(h=i/n[0],i-=e[l-(n[0]-1)].close),n[1]-1>l||(f=o/n[1],o-=e[l-(n[1]-1)].close),l>=r-1){var p=h-f;u.dma=p,a+=p,r+n[2]-2>l||(u.ama=a/n[2],a-=null!==(c=s[l-(n[2]-1)].dma)&&void 0!==c?c:0)}s.push(u)})),s}},{name:"DMI",shortName:"DMI",calcParams:[14,6],figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=0,i=0,o=0,a=0,s=0,l=0,c=0,u=0,d=[];return e.forEach((function(t,h){var f,p,v={},g=null!==(f=e[h-1])&&void 0!==f?f:t,m=g.close,y=t.high,x=t.low,b=y-x,_=Math.abs(y-m),w=Math.abs(m-x),C=y-g.high,S=g.low-x,E=Math.max(Math.max(b,_),w),k=C>0&&C>S?C:0,T=S>0&&S>C?S:0;if(r+=E,i+=k,o+=T,h>=n[0]-1){h>n[0]-1?(a=a-a/n[0]+E,s=s-s/n[0]+k,l=l-l/n[0]+T):(a=r,s=i,l=o);var P=0,I=0;0!==a&&(P=100*s/a,I=100*l/a),v.pdi=P,v.mdi=I;var A=0;I+P!==0&&(A=Math.abs(I-P)/(I+P)*100),c+=A,2*n[0]-2>h||(v.adx=u=h>2*n[0]-2?(u*(n[0]-1)+A)/n[0]:c/n[0],2*n[0]+n[1]-3>h||(v.adxr=((null!==(p=d[h-(n[1]-1)].adx)&&void 0!==p?p:0)+u)/2))}d.push(v)})),d}},{name:"EMV",shortName:"EMV",calcParams:[14,9],figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=0,i=0,o=[],a=[];return e.forEach((function(t,s){var l,c,u,d={},h=null!==(l=e[s-1])&&void 0!==l?l:t,f=t.high,p=t.low,v=null!==(c=t.turnover)&&void 0!==c?c:0,g=0;0!==v&&(g=((f+p)/2-(h.high+h.low)/2)*(f-p)/v),o.push(g),r+=g,n[0]-1>s||(d.emv=r,r-=o[s-(n[0]-1)],i+=d.emv,n[0]+n[1]-2>s||(d.maEmv=i/n[1],i-=null!==(u=a[s-(n[1]-1)].emv)&&void 0!==u?u:0)),a.push(d)})),a}},se,{name:"MTM",shortName:"MTM",calcParams:[12,6],figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=0,i=[];return e.forEach((function(t,o){var a,s={};o<n[0]||(s.mtm=t.close-e[o-n[0]].close,r+=s.mtm,n[0]+n[1]-1>o||(s.maMtm=r/n[1],r-=null!==(a=i[o-(n[1]-1)].mtm)&&void 0!==a?a:0)),i.push(s)})),i}},le,{name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(e,t,n){var r,i,o,a,s=null!==(i=null===(r=e.prev.indicatorData)||void 0===r?void 0:r.macd)&&void 0!==i?i:Number.MIN_SAFE_INTEGER,l=null!==(a=null===(o=e.current.indicatorData)||void 0===o?void 0:o.macd)&&void 0!==a?a:Number.MIN_SAFE_INTEGER;return{style:l>s?"stroke":"fill",color:l>0?h(t.styles,"bars[0].upColor",n.bars[0].upColor):0>l?h(t.styles,"bars[0].downColor",n.bars[0].downColor):h(t.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor)}}}],calc:function(e,t){var n,r,i=t.calcParams,o=0,a=0,s=0,l=0,c=Math.max(i[0],i[1]);return e.map((function(e,t){var u={},d=e.close;return o+=d,i[0]-1>t||(n=t>i[0]-1?(2*d+(i[0]-1)*n)/(i[0]+1):o/i[0]),i[1]-1>t||(r=t>i[1]-1?(2*d+(i[1]-1)*r)/(i[1]+1):o/i[1]),c-1>t||(u.dif=a=n-r,s+=a,c+i[2]-2>t||(u.macd=2*(a-(l=t>c+i[2]-2?(2*a+l*(i[2]-1))/(i[2]+1):s/i[2])),u.dea=l)),u}))}},{name:"OBV",shortName:"OBV",calcParams:[30],figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=0,i=0,o=[];return e.forEach((function(t,a){var s,l,c,u,d=null!==(s=e[a-1])&&void 0!==s?s:t;d.close>t.close?i-=null!==(l=t.volume)&&void 0!==l?l:0:t.close>d.close&&(i+=null!==(c=t.volume)&&void 0!==c?c:0);var h={obv:i};r+=i,n[0]-1>a||(h.maObv=r/n[0],r-=null!==(u=o[a-(n[0]-1)].obv)&&void 0!==u?u:0),o.push(h)})),o}},{name:"PVT",shortName:"PVT",figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(e){var t=0;return e.map((function(n,r){var i,o,a={},s=null!==(i=n.volume)&&void 0!==i?i:1,l=(null!==(o=e[r-1])&&void 0!==o?o:n).close,c=0,u=l*s;return 0!==u&&(c=(n.close-l)/u),a.pvt=t+=c,a}))}},{name:"PSY",shortName:"PSY",calcParams:[12,6],figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=0,i=0,o=[],a=[];return e.forEach((function(t,s){var l,c,u={},d=(null!==(l=e[s-1])&&void 0!==l?l:t).close,h=t.close-d>0?1:0;o.push(h),r+=h,n[0]-1>s||(u.psy=r/n[0]*100,i+=u.psy,n[0]+n[1]-2>s||(u.maPsy=i/n[1],i-=null!==(c=a[s-(n[1]-1)].psy)&&void 0!==c?c:0),r-=o[s-(n[0]-1)]),a.push(u)})),a}},{name:"ROC",shortName:"ROC",calcParams:[12,6],figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=[],i=0;return e.forEach((function(t,o){var a,s,l={};if(o>=n[0]-1){var c=(null!==(a=e[o-n[0]])&&void 0!==a?a:e[o-(n[0]-1)]).close;l.roc=0!==c?(t.close-c)/c*100:0,i+=l.roc,n[0]-1+n[1]-1>o||(l.maRoc=i/n[1],i-=null!==(s=r[o-(n[1]-1)].roc)&&void 0!==s?s:0)}r.push(l)})),r}},ce,{name:"SMA",shortName:"SMA",series:e.IndicatorSeries.Price,calcParams:[12,2],precision:2,figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(e,t){var n=t.calcParams,r=0,i=0;return e.map((function(e,t){var o={},a=e.close;return r+=a,n[0]-1>t||(o.sma=i=t>n[0]-1?(a*n[1]+i*(n[0]-n[1]+1))/(n[0]+1):r/n[0]),o}))}},{name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=[];return e.forEach((function(t,i){var o,a,s,l,c={},u=t.close;if(i>=n[0]-1){var d=K(e.slice(i-(n[0]-1),i+1),"high","low"),h=d[1],f=d[0]-h;c.k=((n[1]-1)*(null!==(a=null===(o=r[i-1])||void 0===o?void 0:o.k)&&void 0!==a?a:50)+(u-h)/(0===f?1:f)*100)/n[1],c.d=((n[2]-1)*(null!==(l=null===(s=r[i-1])||void 0===s?void 0:s.d)&&void 0!==l?l:50)+c.k)/n[2],c.j=3*c.k-2*c.d}r.push(c)})),r}},{name:"SAR",shortName:"SAR",series:e.IndicatorSeries.Price,calcParams:[2,2,20],precision:2,shouldOhlc:!0,figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(e,t,n){var r,i,o=e.current,a=null!==(i=null===(r=o.indicatorData)||void 0===r?void 0:r.sar)&&void 0!==i?i:Number.MIN_SAFE_INTEGER,s=o.kLineData;return{color:((null==s?void 0:s.high)+(null==s?void 0:s.low))/2>a?h(t.styles,"circles[0].upColor",n.circles[0].upColor):h(t.styles,"circles[0].downColor",n.circles[0].downColor)}}}],calc:function(e,t){var n=t.calcParams,r=n[0]/100,i=n[1]/100,o=n[2]/100,a=r,s=-100,l=!1,c=0;return e.map((function(t,n){var u=c,d=t.high,h=t.low;if(l){(-100===s||d>s)&&(s=d,a=Math.min(a+i,o)),c=u+a*(s-u);var f=Math.min(e[Math.max(1,n)-1].low,h);c>t.low?(c=s,a=r,s=-100,l=!l):c>f&&(c=f)}else{(-100===s||s>h)&&(s=h,a=Math.min(a+i,o)),c=u+a*(s-u);var p=Math.max(e[Math.max(1,n)-1].high,d);t.high>c?(c=s,a=0,s=-100,l=!l):p>c&&(c=p)}return{sar:c}}))}},{name:"TRIX",shortName:"TRIX",calcParams:[12,9],figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(e,t){var n,r,i,o=t.calcParams,a=0,s=0,l=0,c=0,u=[];return e.forEach((function(e,t){var d,h={},f=e.close;if(a+=f,t>=o[0]-1&&(s+=n=t>o[0]-1?(2*f+(o[0]-1)*n)/(o[0]+1):a/o[0],t>=2*o[0]-2&&(l+=r=t>2*o[0]-2?(2*n+(o[0]-1)*r)/(o[0]+1):s/o[0],t>=3*o[0]-3))){var p=void 0,v=0;t>3*o[0]-3?v=((p=(2*r+(o[0]-1)*i)/(o[0]+1))-i)/i*100:p=l/o[0],i=p,h.trix=v,c+=v,3*o[0]+o[1]-4>t||(h.maTrix=c/o[1],c-=null!==(d=u[t-(o[1]-1)].trix)&&void 0!==d?d:0)}u.push(h)})),u}},ue,{name:"VR",shortName:"VR",calcParams:[26,6],figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(e,t){var n=t.calcParams,r=0,i=0,o=0,a=0,s=[];return e.forEach((function(t,l){var c,u,d,h,f,p={},v=t.close,g=(null!==(c=e[l-1])&&void 0!==c?c:t).close,m=null!==(u=t.volume)&&void 0!==u?u:0;if(v>g?r+=m:g>v?i+=m:o+=m,l>=n[0]-1){var y=o/2;p.vr=i+y===0?0:(r+y)/(i+y)*100,a+=p.vr,n[0]+n[1]-2>l||(p.maVr=a/n[1],a-=null!==(d=s[l-(n[1]-1)].vr)&&void 0!==d?d:0);var x=e[l-(n[0]-1)],b=null!==(h=e[l-n[0]])&&void 0!==h?h:x,_=x.close,w=null!==(f=x.volume)&&void 0!==f?f:0;_>b.close?r-=w:b.close>_?i-=w:o-=w}s.push(p)})),s}},de];function pe(e){var t;return null!==(t=he[e])&&void 0!==t?t:null}fe.forEach((function(e){he[e.name]=oe.extend(e)}));var ve,ge=function(){function t(e){this._instances=new Map,this._chartStore=e}return t.prototype._overrideInstance=function(e,t){var n=t.shortName,r=t.series,i=t.calcParams,o=t.precision,a=t.figures,s=t.minValue,l=t.maxValue,c=t.shouldOhlc,u=t.shouldFormatBigNumber,d=t.visible,h=t.styles,f=t.extendData,p=t.regenerateFigures,v=t.createTooltipDataSource,g=t.draw,m=t.calc,y=!1;void 0!==n&&e.setShortName(n)&&(y=!0),void 0!==r&&e.setSeries(r)&&(y=!0);var x=!1;return void 0!==i&&e.setCalcParams(i)&&(y=!0,x=!0),void 0!==a&&e.setFigures(a)&&(y=!0,x=!0),void 0!==s&&e.setMinValue(s)&&(y=!0),void 0!==l&&e.setMinValue(l)&&(y=!0),void 0!==o&&e.setPrecision(o)&&(y=!0),void 0!==c&&e.setShouldOhlc(c)&&(y=!0),void 0!==u&&e.setShouldFormatBigNumber(u)&&(y=!0),void 0!==d&&e.setVisible(d)&&(y=!0),void 0!==h&&e.setStyles(h)&&(y=!0),void 0!==f&&e.setExtendData(f)&&(y=!0,x=!0),void 0!==p&&e.setRegenerateFigures(p)&&(y=!0),void 0!==v&&e.setCreateTooltipDataSource(v)&&(y=!0),void 0!==g&&e.setDraw(g)&&(y=!0),void 0!==m&&(e.calc=m,x=!0),[y,x]},t.prototype.addInstance=function(e,t,n){var r;return O(this,void 0,void 0,(function(){var i,o,a,s;return L(this,(function(l){switch(l.label){case 0:return i=e.name,o=this._instances.get(t),null!==(r=null==o?void 0:o.has(i))&&void 0!==r&&r?[4,Promise.reject(Error("Duplicate indicators."))]:[3,2];case 1:case 3:return[2,l.sent()];case 2:return void 0===o&&(o=new Map,this._instances.set(t,o)),a=pe(i),s=new a,this._overrideInstance(s,e),n||o.clear(),o.set(i,s),[4,s.calcIndicator(this._chartStore.getDataList())]}}))}))},t.prototype.getInstances=function(e){var t;return null!==(t=this._instances.get(e))&&void 0!==t?t:new Map},t.prototype.removeInstance=function(e,t){var n=!1,r=this._instances.get(e);return void 0!==r&&(void 0!==t?r.has(t)&&(r.delete(t),n=!0):(r.clear(),n=!0),0===r.size&&this._instances.delete(e)),n},t.prototype.hasInstances=function(e){return this._instances.has(e)},t.prototype.calcInstance=function(e,t){var n;return O(this,void 0,void 0,(function(){var r,i,o,a=this;return L(this,(function(s){switch(s.label){case 0:return r=[],void 0!==e?void 0!==t?(i=this._instances.get(t),null!==(n=null==i?void 0:i.has(e))&&void 0!==n&&n&&(o=null==i?void 0:i.get(e),r.push(o.calcIndicator(this._chartStore.getDataList())))):this._instances.forEach((function(t){if(t.has(e)){var n=null==t?void 0:t.get(e);r.push(n.calcIndicator(a._chartStore.getDataList()))}})):this._instances.forEach((function(e){e.forEach((function(e){r.push(e.calcIndicator(a._chartStore.getDataList()))}))})),[4,Promise.all(r)];case 1:return[2,s.sent().includes(!0)]}}))}))},t.prototype.getInstanceByPaneId=function(e,t){var n;if(void 0!==e){var r=this._instances.get(e);return void 0!==t?null!==(n=null==r?void 0:r.get(t))&&void 0!==n?n:null:null!=r?r:null}return this._instances},t.prototype.setSeriesPrecision=function(t){this._instances.forEach((function(n){n.forEach((function(n){n.series===e.IndicatorSeries.Price&&n.setPrecision(t.price,!0),n.series===e.IndicatorSeries.Volume&&n.setPrecision(t.volume,!0)}))}))},t.prototype.override=function(e,t){return O(this,void 0,void 0,(function(){var n,r,i,o,a,s,l=this;return L(this,(function(c){switch(c.label){case 0:return n=e.name,r=new Map,null!==t?void 0!==(i=this._instances.get(t))&&r.set(t,i):r=this._instances,o=!1,a=[],r.forEach((function(t){var r=t.get(n);if(void 0!==r){var i=l._overrideInstance(r,e);i[1]?a.push(r.calcIndicator(l._chartStore.getDataList())):i[0]&&(o=!0)}})),[4,Promise.all(a)];case 1:return s=c.sent(),[2,[o,s.includes(!0)]]}}))}))},t}(),me=function(){function e(e){this._crosshair={},this._chartStore=e}return e.prototype.set=function(e,t){var n,r,i=this._chartStore.getDataList(),o=null!=e?e:{},a=i[r=void 0!==o.x?0>(n=this._chartStore.getTimeScaleStore().coordinateToDataIndex(o.x))?0:n>i.length-1?i.length-1:n:n=i.length-1],s=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(n),l=this._crosshair.x,c=this._crosshair.y,u=this._crosshair.paneId;return this._crosshair=D(D({},o),{realX:s,kLineData:a,realDataIndex:n,dataIndex:r}),l===o.x&&c===o.y&&u===o.paneId||(null!==a&&this._chartStore.getChart().crosshairChange(this._crosshair),null!=t&&t||this._chartStore.getChart().updatePane(1)),this},e.prototype.recalculate=function(e){this.set(this._crosshair,e)},e.prototype.get=function(){return this._crosshair},e}(),ye=function(){function e(){this._activeIconInfo=null}return e.prototype.setActiveIconInfo=function(e){this._activeIconInfo=null!=e?e:null},e.prototype.getActiveIconInfo=function(){return this._activeIconInfo},e}();e.OverlayMode=void 0,(ve=e.OverlayMode||(e.OverlayMode={})).Normal="normal",ve.WeakMagnet="weak_magnet",ve.StrongMagnet="strong_magnet";var xe=1,be="overlay_figure_",_e=function(){function t(t){this.currentStep=xe,this.points=[],this._prevPressedPoint=null,this._prevPressedPoints=[];var n=t.mode,r=t.extendData,i=t.styles,o=t.totalStep,a=t.lock,s=t.visible,l=t.needDefaultPointFigure,c=t.needDefaultXAxisFigure,u=t.needDefaultYAxisFigure,d=t.createPointFigures,h=t.createXAxisFigures,f=t.createYAxisFigures,p=t.performEventPressedMove,v=t.performEventMoveForDrawing,g=t.onDrawStart,m=t.onDrawing,y=t.onDrawEnd,x=t.onClick,b=t.onRightClick,_=t.onPressedMoveStart,w=t.onPressedMoving,C=t.onPressedMoveEnd,S=t.onMouseEnter,E=t.onMouseMove,k=t.onMouseLeave,T=t.onRemoved,P=t.onSelected,I=t.onDeselected;this.name=t.name,this.totalStep=void 0===o||2>o?1:o,this.lock=null!=a&&a,this.visible=null==s||s,this.needDefaultPointFigure=null!=l&&l,this.needDefaultXAxisFigure=null!=c&&c,this.needDefaultYAxisFigure=null!=u&&u,this.mode=null!=n?n:e.OverlayMode.Normal,this.extendData=r,this.styles=null!=i?i:null,this.createPointFigures=null!=d?d:null,this.createXAxisFigures=null!=h?h:null,this.createYAxisFigures=null!=f?f:null,this.performEventPressedMove=null!=p?p:null,this.performEventMoveForDrawing=null!=v?v:null,this.onDrawStart=null!=g?g:null,this.onDrawing=null!=m?m:null,this.onDrawEnd=null!=y?y:null,this.onClick=null!=x?x:null,this.onRightClick=null!=b?b:null,this.onPressedMoveStart=null!=_?_:null,this.onPressedMoving=null!=w?w:null,this.onPressedMoveEnd=null!=C?C:null,this.onMouseEnter=null!=S?S:null,this.onMouseMove=null!=E?E:null,this.onMouseLeave=null!=k?k:null,this.onRemoved=null!=T?T:null,this.onSelected=null!=P?P:null,this.onDeselected=null!=I?I:null}return t.prototype.setId=function(e){return void 0===this.id&&(this.id=e,!0)},t.prototype.setGroupId=function(e){return void 0===this.groupId&&(this.groupId=e,!0)},t.prototype.setExtendData=function(e){return e!==this.extendData&&(this.extendData=e,!0)},t.prototype.setStyles=function(e){return e!==this.styles&&(this.styles=e,!0)},t.prototype.setPoints=function(e){if(e.length>0){var t=void 0;if(this.points=B([],N(e),!1),this.totalStep-1>e.length?(this.currentStep=e.length+1,t=e.length):(this.currentStep=-1,t=this.totalStep-1),null!==this.performEventMoveForDrawing)for(var n=0;t>n;n++)this.performEventMoveForDrawing({currentStep:n+2,mode:this.mode,points:this.points,performPointIndex:n,performPoint:this.points[n]});return-1===this.currentStep&&null!==this.performEventPressedMove&&this.performEventPressedMove({currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}),!0}return!1},t.prototype.setLock=function(e){return this.lock!==e&&(this.lock=e,!0)},t.prototype.setVisible=function(e){return this.visible!==e&&(this.visible=e,!0)},t.prototype.setMode=function(e){return e!==this.mode&&(this.mode=e,!0)},t.prototype.setOnDrawStartCallback=function(e){return this.onDrawStart!==e&&(this.onDrawStart=e,!0)},t.prototype.setOnDrawingCallback=function(e){return this.onDrawing!==e&&(this.onDrawing=e,!0)},t.prototype.setOnDrawEndCallback=function(e){return this.onDrawEnd!==e&&(this.onDrawEnd=e,!0)},t.prototype.setOnClickCallback=function(e){return this.onClick!==e&&(this.onClick=e,!0)},t.prototype.setOnRightClickCallback=function(e){return this.onRightClick!==e&&(this.onRightClick=e,!0)},t.prototype.setOnPressedMoveStartCallback=function(e){return this.onPressedMoveStart!==e&&(this.onPressedMoveStart=e,!0)},t.prototype.setOnPressedMovingCallback=function(e){return this.onPressedMoving!==e&&(this.onPressedMoving=e,!0)},t.prototype.setOnPressedMoveEndCallback=function(e){return this.onPressedMoveEnd!==e&&(this.onPressedMoveEnd=e,!0)},t.prototype.setOnMouseEnterCallback=function(e){return this.onMouseEnter!==e&&(this.onMouseEnter=e,!0)},t.prototype.setOnMouseMoveCallback=function(e){return this.onMouseMove!==e&&(this.onMouseMove=e,!0)},t.prototype.setOnMouseLeaveCallback=function(e){return this.onMouseLeave!==e&&(this.onMouseLeave=e,!0)},t.prototype.setOnRemovedCallback=function(e){return this.onRemoved!==e&&(this.onRemoved=e,!0)},t.prototype.setOnSelectedCallback=function(e){return this.onSelected!==e&&(this.onSelected=e,!0)},t.prototype.setOnDeselectedCallback=function(e){return this.onDeselected!==e&&(this.onDeselected=e,!0)},t.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=-1:this.currentStep++},t.prototype.forceComplete=function(){this.currentStep=-1},t.prototype.isDrawing=function(){return-1!==this.currentStep},t.prototype.isStart=function(){return this.currentStep===xe},t.prototype.eventMoveForDrawing=function(e){var t,n=this.currentStep-1,r={};void 0!==e.timestamp&&(r.timestamp=e.timestamp),void 0!==e.dataIndex&&(r.dataIndex=e.dataIndex),void 0!==e.value&&(r.value=e.value),this.points[n]=r,null===(t=this.performEventMoveForDrawing)||void 0===t||t.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:n,performPoint:r})},t.prototype.eventPressedPointMove=function(e,t){var n;void 0!==e.dataIndex&&(this.points[t].dataIndex=e.dataIndex,this.points[t].timestamp=e.timestamp),void 0!==e.value&&(this.points[t].value=e.value),null===(n=this.performEventPressedMove)||void 0===n||n.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:t,performPoint:this.points[t]})},t.prototype.startPressedMove=function(e){this._prevPressedPoint=D({},e),this._prevPressedPoints=n(this.points)},t.prototype.eventPressedOtherMove=function(e,t){var n,r;null!==this._prevPressedPoint&&(void 0!==e.dataIndex&&void 0!==this._prevPressedPoint.dataIndex&&(n=e.dataIndex-this._prevPressedPoint.dataIndex),void 0!==e.value&&void 0!==this._prevPressedPoint.value&&(r=e.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map((function(e){var i;void 0===e.dataIndex&&void 0!==e.timestamp&&(e.dataIndex=t.timestampToDataIndex(e.timestamp));var o=D({},e);return void 0!==n&&void 0!==e.dataIndex&&(o.dataIndex=e.dataIndex+n,o.timestamp=null!==(i=t.dataIndexToTimestamp(o.dataIndex))&&void 0!==i?i:void 0),void 0!==r&&void 0!==e.value&&(o.value=e.value+r),o})))},t.extend=function(e){return function(t){function n(){return t.call(this,e)||this}return M(n,t),n}(t)},t}(),we=2;function Ce(e,t){return Math.sqrt(Math.pow(e.x+t.x,2)+Math.pow(e.y+t.y,2))}function Se(e){var t=Ce(e[0],e[1]),n=t+Ce(e[1],e[2]),r=[e[2].x-e[0].x,e[2].y-e[0].y];return[{x:e[1].x-.5*r[0]*t/n,y:e[1].y-.5*r[1]*t/n},{x:e[1].x+.5*r[0]*t/n,y:e[1].y+.5*r[1]*t/n}]}function Ee(e,t){var n=t.coordinates;if(n.length>1)for(var r=1;n.length>r;r++){var i=n[r-1],o=n[r];if(i.x===o.x&&we+we>Math.abs(i.y-e.y)+Math.abs(o.y-e.y)-Math.abs(i.y-o.y)&&we>Math.abs(e.x-i.x))return!0;var a=Pe(i,o),s=ke(a,e),l=Math.abs(s-e.y);if(we+we>Math.abs(i.x-e.x)+Math.abs(o.x-e.x)-Math.abs(i.x-o.x)&&we*we>l*l/(a[0]*a[0]+1))return!0}return!1}function ke(e,t){return null!=e?t.x*e[0]+e[1]:t.y}function Te(e,t,n){return ke(Pe(e,t),n)}function Pe(e,t){var n=e.x-t.x;if(0!==n){var r=(e.y-t.y)/n;return[r,e.y-r*e.x]}return null}function Ie(t,n,r){var i=n.coordinates,o=i.length;if(o>1){var a=r.style,s=void 0===a?e.LineType.Solid:a,l=r.smooth,c=r.size,u=r.color,d=void 0===u?"currentColor":u,h=r.dashedValue,f=void 0===h?[2,2]:h;if(t.lineWidth=void 0===c?1:c,t.strokeStyle=d,t.setLineDash(s===e.LineType.Dashed?f:[]),t.beginPath(),t.moveTo(i[0].x,i[0].y),null!=l&&l){for(var p=[],v=1;o-1>v;v++)p=p.concat(Se([i[v-1],i[v],i[v+1]]));t.quadraticCurveTo(p[0].x,p[0].y,i[1].x,i[1].y);for(var g=2;o-1>g;g++)t.bezierCurveTo(p[2*(g-2)+1].x,p[2*(g-2)+1].y,p[2*(g-1)].x,p[2*(g-1)].y,i[g].x,i[g].y);t.quadraticCurveTo(p[2*(g-2)+1].x,p[2*(g-2)+1].y,i[g].x,i[g].y)}else for(g=1;i.length>g;g++)t.lineTo(i[g].x,i[g].y);t.stroke(),t.closePath()}}var Ae={name:"line",checkEventOn:Ee,draw:function(e,t,n){Ie(e,t,n)}};function Me(e,t,n){var r=null!=n?n:0,i=[];if(e.length>1)if(e[0].x===e[1].x){var o=t.height;if(i.push({coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:o}]}),e.length>2){i.push({coordinates:[{x:e[2].x,y:0},{x:e[2].x,y:o}]});for(var a=e[0].x-e[2].x,s=0;r>s;s++){var l=a*(s+1);i.push({coordinates:[{x:e[0].x+l,y:0},{x:e[0].x+l,y:o}]})}}}else{var c=t.width,u=Pe(e[0],e[1]),d=u[0],h=u[1];if(i.push({coordinates:[{x:0,y:0*d+h},{x:c,y:c*d+h}]}),e.length>2){var f=e[2].y-d*e[2].x;for(i.push({coordinates:[{x:0,y:0*d+f},{x:c,y:c*d+f}]}),a=h-f,s=0;r>s;s++){var p=h+a*(s+1);i.push({coordinates:[{x:0,y:0*d+p},{x:c,y:c*d+p}]})}}}return i}function Fe(e,t){if(e.length>1){var n=void 0;return n=e[0].x===e[1].x&&e[0].y!==e[1].y?e[1].y>e[0].y?{x:e[0].x,y:t.height}:{x:e[0].x,y:0}:e[0].x>e[1].x?{x:0,y:Te(e[0],e[1],{x:0,y:e[0].y})}:{x:t.width,y:Te(e[0],e[1],{x:t.width,y:e[0].y})},{coordinates:[e[0],n]}}return[]}var De={name:"simpleAnnotation",totalStep:2,createPointFigures:function(e){var t,n,r=e.overlay,o=e.coordinates;s(r.extendData)&&(n=i(r.extendData)?r.extendData(r):null!==(t=r.extendData)&&void 0!==t?t:"");var a=o[0].x,l=o[0].y-6,c=l-50,u=c-5;return[{type:"line",attrs:{coordinates:[{x:a,y:l},{x:a,y:c}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:a,y:c},{x:a-4,y:u},{x:a+4,y:u}]},ignoreEvent:!0},{type:"rectText",attrs:{x:a,y:u,text:null!=n?n:"",align:"center",baseline:"bottom"},ignoreEvent:!0}]}},Oe={name:"simpleTag",totalStep:2,createPointFigures:function(e){var t=e.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:e.bounding.width,y:t[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(e){var t,n,r,o,a,l=e.overlay,c=e.coordinates,u=e.bounding,d=e.yAxis,h=e.precision;return null!==(t=null==d?void 0:d.isFromZero())&&void 0!==t&&t?(r="left",o=0):(r="right",o=u.width),s(l.extendData)&&(a=i(l.extendData)?l.extendData(l):null!==(n=l.extendData)&&void 0!==n?n:""),s(a)||void 0===l.points[0].value||(a=p(l.points[0].value,h.price)),{type:"rectText",attrs:{x:o,y:c[0].y,text:null!=a?a:"",align:r,baseline:"middle"}}}},Le={};function Re(e){Le[e.name]=_e.extend(e)}function Ne(e){var t;return null!==(t=Le[e])&&void 0!==t?t:null}function Be(e){var n={width:0,height:0,left:0,right:0,top:0,bottom:0};return void 0!==e&&t(n,e),n}[{name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.precision,r=e.overlay.points;if(t.length>0){var i=[],o=[],a=e.bounding.width;if(t.length>1&&void 0!==r[0].value&&void 0!==r[1].value){var s=t[0].y-t[1].y,l=r[0].value-r[1].value;[1,.786,.618,.5,.382,.236,0].forEach((function(e){var c,u=t[1].y+s*e,d=E(((null!==(c=r[1].value)&&void 0!==c?c:0)+l*e).toFixed(n.price));i.push({coordinates:[{x:0,y:u},{x:a,y:u}]}),o.push({x:0,y:u,text:"".concat(d," (").concat(k((100*e).toFixed(1)),")"),baseline:"bottom"})}))}return[{type:"line",attrs:i},{type:"text",isCheckEvent:!1,attrs:o}]}return[]}},{name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n={x:0,y:t[0].y};return void 0!==t[1]&&t[1].x>t[0].x&&(n.x=e.bounding.width),[{type:"line",attrs:{coordinates:[t[0],n]}}]},performEventPressedMove:function(e){var t=e.points,n=e.performPoint;t[0].value=n.value,t[1].value=n.value},performEventMoveForDrawing:function(e){2===e.currentStep&&(e.points[0].value=e.performPoint.value)}},{name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=[];return 2===t.length&&n.push({coordinates:t}),[{type:"line",attrs:n}]},performEventPressedMove:function(e){var t=e.points,n=e.performPoint;t[0].value=n.value,t[1].value=n.value},performEventMoveForDrawing:function(e){2===e.currentStep&&(e.points[0].value=e.performPoint.value)}},{name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates;return[{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:e.bounding.width,y:t[0].y}]}}]}},{name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){return[{type:"line",attrs:Me(e.coordinates,e.bounding)}]}},{name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){return[{type:"line",attrs:Me(e.coordinates,e.bounding,1)}]}},{name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.overlay.points[0].value;return[{type:"line",attrs:{coordinates:[t[0],{x:e.bounding.width,y:t[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:t[0].x,y:t[0].y,text:E((void 0===n?0:n).toFixed(e.precision.price)),baseline:"bottom"}}]}},{name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){return[{type:"line",attrs:Fe(e.coordinates,e.bounding)}]}},{name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates;return 2===t.length?[{type:"line",attrs:{coordinates:t}}]:[]}},{name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.bounding;return 2===t.length?t[0].x===t[1].x?[{type:"line",attrs:{coordinates:[{x:t[0].x,y:0},{x:t[0].x,y:n.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:Te(t[0],t[1],{x:0,y:t[0].y})},{x:n.width,y:Te(t[0],t[1],{x:n.width,y:t[0].y})}]}}]:[]}},{name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates;if(2===t.length){var n={x:t[0].x,y:0};return t[1].y>t[0].y&&(n.y=e.bounding.height),[{type:"line",attrs:{coordinates:[t[0],n]}}]}return[]},performEventPressedMove:function(e){var t=e.points,n=e.performPoint;t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex,t[1].timestamp=n.timestamp,t[1].dataIndex=n.dataIndex},performEventMoveForDrawing:function(e){var t=e.points,n=e.performPoint;2===e.currentStep&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},{name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates;return 2===t.length?[{type:"line",attrs:{coordinates:t}}]:[]},performEventPressedMove:function(e){var t=e.points,n=e.performPoint;t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex,t[1].timestamp=n.timestamp,t[1].dataIndex=n.dataIndex},performEventMoveForDrawing:function(e){var t=e.points,n=e.performPoint;2===e.currentStep&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},{name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates;return[{type:"line",attrs:{coordinates:[{x:t[0].x,y:0},{x:t[0].x,y:e.bounding.height}]}}]}},De,Oe].forEach((function(e){Le[e.name]=_e.extend(e)}));var Ve=function(){function e(){this._children=[],this._callbacks=new Map}return e.prototype.registerEvent=function(e,t){return this._callbacks.set(e,t),this},e.prototype.onEvent=function(e,t,n){var r=this._callbacks.get(e);return!(void 0===r||!this.checkEventOn(t))&&r(t,n)},e.prototype.checkEventOn=function(e){var t,n;try{for(var r=R(this._children),i=r.next();!i.done;i=r.next())if(i.value.checkEventOn(e))return!0}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e.prototype.dispatchEvent=function(e,t,n){var r=this._children.length-1;if(r>-1)for(var i=r;i>-1;i--)if(this._children[i].dispatchEvent(e,t,n))return!0;return this.onEvent(e,t,n)},e.prototype.addChild=function(e){return this._children.push(e),this},e.prototype.clear=function(){this._children=[]},e}(),We="main",ze="xAxis",je="yAxis",Ye="separator",He=function(e){function n(t,n){var r=e.call(this)||this;return r._bounding=Be(),r._pane=n,r._init(t),r}return M(n,e),n.prototype._init=function(e){if(this._container=Y("div",this.getContainerStyle()),this.insertBefore()){var t=e.lastChild;null!==t?e.insertBefore(this._container,t):e.appendChild(this._container)}else e.appendChild(this._container);this.initDom(this._container)},n.prototype.setBounding=function(e){return t(this._bounding,e),this},n.prototype.getContainer=function(){return this._container},n.prototype.getBounding=function(){return this._bounding},n.prototype.getPane=function(){return this._pane},n.prototype.update=function(e){this.updateImp(e,this._container,this._bounding)},n.prototype.insertBefore=function(){return!1},n}(Ve),Ue=function(t){function n(e,n){var r,i,o,a=t.call(this,e,n)||this;return a._dragFlag=!1,a._dragStartY=0,a._topPaneHeight=0,a._currentPaneHeight=0,a._pressedMouseMoveEvent=(r=a._pressedTouchMouseMoveEvent,i=20,o=0,function(){var e=Date.now();e-o>(null!=i?i:20)&&(r.apply(this,arguments),o=e)}),a.registerEvent("touchStartEvent",a._mouseDownEvent.bind(a)).registerEvent("touchMoveEvent",a._pressedMouseMoveEvent.bind(a)).registerEvent("touchEndEvent",a._mouseUpEvent.bind(a)).registerEvent("mouseDownEvent",a._mouseDownEvent.bind(a)).registerEvent("mouseUpEvent",a._mouseUpEvent.bind(a)).registerEvent("pressedMouseMoveEvent",a._pressedMouseMoveEvent.bind(a)).registerEvent("mouseEnterEvent",a._mouseEnterEvent.bind(a)).registerEvent("mouseLeaveEvent",a._mouseLeaveEvent.bind(a)),a}return M(n,t),n.prototype.getName=function(){return Ye},n.prototype.checkEventOn=function(){return!0},n.prototype._mouseDownEvent=function(e){var t,n;this._dragFlag=!0,this._dragStartY=e.pageY;var r=this.getPane();return this._topPaneHeight=null!==(n=null===(t=r.getTopPane())||void 0===t?void 0:t.getBounding().height)&&void 0!==n?n:0,this._currentPaneHeight=r.getBounding().height,!0},n.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._mouseLeaveEvent()},n.prototype._pressedTouchMouseMoveEvent=function(t){var n=t.pageY-this._dragStartY,r=this.getPane(),i=r.getTopPane(),o=0>n;if(null!==i&&r.getOptions().dragEnabled){var a=void 0,s=void 0,l=void 0,c=void 0;o?(a=i,s=r,l=this._topPaneHeight,c=this._currentPaneHeight):(a=r,s=i,l=this._currentPaneHeight,c=this._topPaneHeight);var u=a.getOptions().minHeight;if(l>u){var d=Math.max(l-Math.abs(n),u),h=l-d;a.setBounding({height:d}),s.setBounding({height:c+h});var f=r.getChart();f.getChartStore().getActionStore().execute(e.ActionType.OnPaneDrag,{paneId:r.getId}),f.adjustPaneViewport(!0,!0,!0,!0,!0)}}return!0},n.prototype._mouseEnterEvent=function(){var e=this.getPane();if(e.getOptions().dragEnabled){var t=e.getChart().getStyles().separator;return this._moveDom.style.background=t.activeBackgroundColor,!0}return!1},n.prototype._mouseLeaveEvent=function(){return!this._dragFlag&&(this._moveDom.style.background="",!0)},n.prototype.getContainerStyle=function(){return{margin:"0",padding:"0",position:"relative",boxSizing:"border-box"}},n.prototype.insertBefore=function(){return!0},n.prototype.initDom=function(e){this._moveDom=Y("div",{width:"100%",height:"".concat(7,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"}),e.appendChild(this._moveDom)},n.prototype.updateImp=function(e,t,n){if(4===e||2===e){var r=this.getPane().getChart().getStyles().separator;this._moveDom.style.top="".concat(-Math.floor((7-r.size)/2),"px"),this._moveDom.style.height="".concat(7,"px");var i=r.fill;t.style.backgroundColor=r.color,t.style.height="".concat(r.size,"px"),t.style.marginLeft="".concat(i?0:n.left,"px"),t.style.width=i?"100%":"".concat(n.width,"px")}},n.prototype.getImage=function(){var e=this.getPane().getChart().getStyles().separator,t=this.getContainer().offsetWidth,n=e.size,r=Y("canvas",{width:"".concat(t,"px"),height:"".concat(n,"px"),boxSizing:"border-box"}),i=r.getContext("2d"),o=H(r);return r.width=t*o,r.height=n*o,i.scale(o,o),i.fillStyle=e.color,i.fillRect(this.getBounding().left,0,t,n),r},n}(He),qe=30,Xe={CANDLE:"candle_pane",INDICATOR:"indcator_pane_",XAXIS:"xaxis_pane"},$e=function(){function e(e,t,n,r,i){this._yAxisWidget=null,this._separatorWidget=null,this._axis=this.createAxisComponent(),this._bounding=Be(),this._options={minHeight:qe,dragEnabled:!0,gap:{top:.2,bottom:.1}},this._chart=t,this._id=n,this._topPane=null!=r?r:null,this._bottomPane=null!=i?i:null,this._init(e)}return e.prototype._init=function(e){this._container=e,this._seriesContiainer=Y("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"}),this._separatorWidget=this.createSeparatorWidget(e);var t=e.lastChild;null!==t?e.insertBefore(this._seriesContiainer,t):e.appendChild(this._seriesContiainer),this._mainWidget=this.createMainWidget(this._seriesContiainer),this._yAxisWidget=this.creatYAxisWidget(this._seriesContiainer)},e.prototype.getContainer=function(){return this._seriesContiainer},e.prototype.getId=function(){return this._id},e.prototype.setOptions=function(e){return t(this._options,e),this},e.prototype.getOptions=function(){return this._options},e.prototype.getChart=function(){return this._chart},e.prototype.getAxisComponent=function(){return this._axis},e.prototype.setBounding=function(e,n,r){var i,o,a;t(this._bounding,e);var s=0;if(null!==this._separatorWidget){s=this._chart.getStyles().separator.size;var l=D(D({},e),{height:7});void 0!==e.top&&(l.top=e.top-Math.floor((7-s)/2)),this._separatorWidget.setBounding(l)}var c={};return void 0!==e.height&&(c.height=e.height-s),void 0!==e.top&&(c.top=e.top+s),this._mainWidget.setBounding(c),null===(i=this._yAxisWidget)||void 0===i||i.setBounding(c),void 0!==n&&(this._mainWidget.setBounding(n),null===(o=this._separatorWidget)||void 0===o||o.setBounding(n)),void 0!==r&&(null===(a=this._yAxisWidget)||void 0===a||a.setBounding(r)),this},e.prototype.getTopPane=function(){return this._topPane},e.prototype.setTopPane=function(e){return this._topPane=e,this},e.prototype.getBottomPane=function(){return this._bottomPane},e.prototype.setBottomPane=function(e){return this._bottomPane=e,this},e.prototype.getBounding=function(){return this._bounding},e.prototype.getMainWidget=function(){return this._mainWidget},e.prototype.getYAxisWidget=function(){return this._yAxisWidget},e.prototype.getSeparatorWidget=function(){return this._separatorWidget},e.prototype.update=function(e){var t,n;this._bounding.width!==this._seriesContiainer.offsetWidth&&(this._seriesContiainer.style.width="".concat(this._bounding.width,"px"));var r=this._mainWidget.getBounding().height;r!==this._seriesContiainer.offsetHeight&&(this._seriesContiainer.style.height="".concat(r,"px"));var i=null!=e?e:3;this._mainWidget.update(i),null===(t=this._yAxisWidget)||void 0===t||t.update(i),null===(n=this._separatorWidget)||void 0===n||n.update(i)},e.prototype.getImage=function(e){var t=this._bounding,n=t.width,r=t.height,i=Y("canvas",{width:"".concat(n,"px"),height:"".concat(r,"px"),boxSizing:"border-box"}),o=i.getContext("2d"),a=H(i);i.width=n*a,i.height=r*a,o.scale(a,a);var s=0;if(null!=this._separatorWidget){var l=this.getChart().getStyles().separator.size;s=l,o.drawImage(this._separatorWidget.getImage(),0,0,n,l)}var c=this._mainWidget.getBounding();if(o.drawImage(this._mainWidget.getImage(e),c.left,s,c.width,c.height),null!==this._yAxisWidget){var u=this._yAxisWidget.getBounding();o.drawImage(this._yAxisWidget.getImage(e),u.left,s,u.width,u.height)}return i},e.prototype.destroy=function(){this._container.removeChild(this._seriesContiainer),null!==this._separatorWidget&&this._container.removeChild(this._separatorWidget.getContainer())},e.prototype.createSeparatorWidget=function(e){return null},e.prototype.creatYAxisWidget=function(e){return null},e}(),Ke=function(){function e(e){this._instances=new Map,this._progressInstanceInfo=null,this._pressedInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._hoverInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._clickInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._chartStore=e}return e.prototype._overrideInstance=function(e,t){var n=t.id,r=t.groupId,i=t.points,o=t.styles,a=t.lock,s=t.visible,l=t.mode,c=t.extendData,u=t.onDrawStart,d=t.onDrawing,h=t.onDrawEnd,f=t.onClick,p=t.onRightClick,v=t.onPressedMoveStart,g=t.onPressedMoving,m=t.onPressedMoveEnd,y=t.onMouseEnter,x=t.onMouseMove,b=t.onMouseLeave,_=t.onRemoved,w=t.onSelected,C=t.onDeselected,S=!1;return void 0!==n&&e.setId(n),void 0!==r&&e.setGroupId(r),void 0!==i&&e.setPoints(i)&&(S=!0),void 0!==o&&e.setStyles(o)&&(S=!0),void 0!==a&&e.setLock(a),void 0!==s&&e.setVisible(s)&&(S=!0),void 0!==l&&e.setMode(l),void 0!==c&&e.setExtendData(c)&&(S=!0),void 0!==u&&e.setOnDrawStartCallback(u),void 0!==d&&e.setOnDrawingCallback(d),void 0!==h&&e.setOnDrawEndCallback(h),void 0!==f&&e.setOnClickCallback(f),void 0!==p&&e.setOnRightClickCallback(p),void 0!==v&&e.setOnPressedMoveStartCallback(v),void 0!==g&&e.setOnPressedMovingCallback(g),void 0!==m&&e.setOnPressedMoveEndCallback(m),void 0!==y&&e.setOnMouseEnterCallback(y),void 0!==x&&e.setOnMouseMoveCallback(x),void 0!==b&&e.setOnMouseLeaveCallback(b),void 0!==_&&e.setOnRemovedCallback(_),void 0!==w&&e.setOnSelectedCallback(w),void 0!==C&&e.setOnDeselectedCallback(C),S},e.prototype.getInstanceById=function(e){var t,n;try{for(var r=R(this._instances),i=r.next();!i.done;i=r.next()){var o=i.value[1].find((function(t){return t.id===e}));if(void 0!==o)return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null!==this._progressInstanceInfo&&this._progressInstanceInfo.instance.id===e?this._progressInstanceInfo.instance:null},e.prototype.addInstance=function(e,t,n){var r,i,o,a,s=null!==(r=e.id)&&void 0!==r?r:j("overlay_");if(null===this.getInstanceById(s)){var l=new(Ne(e.name)),c=null!==(i=e.groupId)&&void 0!==i?i:s;return e.id=s,e.groupId=c,this._overrideInstance(l,e),l.isDrawing()?this._progressInstanceInfo={paneId:t,instance:l,appointPaneFlag:n}:(this._instances.has(t)||this._instances.set(t,[]),null===(o=this._instances.get(t))||void 0===o||o.push(l)),null===(a=l.onDrawStart)||void 0===a||a.call(l,{overlay:l}),this._chartStore.getChart().updatePane(1,t),s}return null},e.prototype.getProgressInstanceInfo=function(){return this._progressInstanceInfo},e.prototype.progressInstanceComplete=function(){var e;if(null!==this._progressInstanceInfo){var t=this._progressInstanceInfo,n=t.instance,r=t.paneId;n.isDrawing()||(this._instances.has(r)||this._instances.set(r,[]),null===(e=this._instances.get(r))||void 0===e||e.push(n),this._progressInstanceInfo=null)}},e.prototype.updateProgressInstanceInfo=function(e,t){null!==this._progressInstanceInfo&&(void 0!==t&&t&&(this._progressInstanceInfo.appointPaneFlag=t),this._progressInstanceInfo.paneId=e)},e.prototype.getInstances=function(e){var t;if(void 0===e){var n=[];return this._instances.forEach((function(e){n=n.concat(e)})),n}return null!==(t=this._instances.get(e))&&void 0!==t?t:[]},e.prototype.override=function(e){var t=this,n=e.id,r=e.groupId,i=e.name,o=!1;if(void 0!==n){var a=this.getInstanceById(n);null!==a&&this._overrideInstance(a,e)&&(o=!0)}else if(this._instances.forEach((function(n){n.forEach((function(n){(void 0!==i&&n.name===i||void 0!==r&&n.groupId===r||void 0===i&&void 0===r)&&t._overrideInstance(n,e)&&(o=!0)}))})),null!==this._progressInstanceInfo){var s=this._progressInstanceInfo.instance;(void 0!==i&&s.name===i||void 0!==r&&s.groupId===r||void 0===i&&void 0===r)&&this._overrideInstance(s,e)&&(o=!0)}o&&this._chartStore.getChart().updatePane(1)},e.prototype.removeInstance=function(e){var t,n,r,i=function(e,t){if(void 0!==e.id){if(t.id!==e.id)return!1}else if(void 0!==e.groupId){if(t.groupId!==e.groupId)return!1}else if(void 0!==e.name&&t.name!==e.name)return!1;return!0},o=[];if(null!==this._progressInstanceInfo){var a=this._progressInstanceInfo.instance;(void 0===e||void 0!==e&&i(e,a))&&(o.push(this._progressInstanceInfo.paneId),null===(r=a.onRemoved)||void 0===r||r.call(a,{overlay:a}),this._progressInstanceInfo=null)}if(void 0!==e){var s=new Map,l=function(t){var n=t[1].filter((function(n){var r;return!i(e,n)||(o.includes(t[0])||o.push(t[0]),null===(r=n.onRemoved)||void 0===r||r.call(n,{overlay:n}),!1)}));n.length>0&&s.set(t[0],n)};try{for(var c=R(this._instances),u=c.next();!u.done;u=c.next())l(u.value)}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}this._instances=s}else this._instances.forEach((function(e,t){o.push(t),e.forEach((function(e){var t;null===(t=e.onRemoved)||void 0===t||t.call(e,{overlay:e})}))})),this._instances.clear();if(o.length>0){var d=this._chartStore.getChart();o.forEach((function(e){d.updatePane(1,e)})),d.updatePane(1,Xe.XAXIS)}},e.prototype.setPressedInstanceInfo=function(e){this._pressedInstanceInfo=e},e.prototype.getPressedInstanceInfo=function(){return this._pressedInstanceInfo},e.prototype.setHoverInstanceInfo=function(e,t){var n,r,i,o,a,s=this._hoverInstanceInfo,l=s.instance,c=s.figureKey,u=s.figureIndex;(null==l?void 0:l.id)===(null===(n=e.instance)||void 0===n?void 0:n.id)&&s.figureType===e.figureType&&u===e.figureIndex||(this._hoverInstanceInfo=e,(null==l?void 0:l.id)!==(null===(r=e.instance)||void 0===r?void 0:r.id)&&(null===(i=null==l?void 0:l.onMouseLeave)||void 0===i||i.call(l,D({overlay:l,figureKey:c,figureIndex:u},t)),null===(a=null===(o=e.instance)||void 0===o?void 0:o.onMouseEnter)||void 0===a||a.call(o,D({overlay:e.instance,figureKey:e.figureKey,figureIndex:e.figureIndex},t))))},e.prototype.getHoverInstanceInfo=function(){return this._hoverInstanceInfo},e.prototype.setClickInstanceInfo=function(e,t){var n,r,i,o,a,s,l,c,u,d=this._clickInstanceInfo,h=d.paneId,f=d.instance,p=d.figureType,v=d.figureKey,g=d.figureIndex;if(null!==(r=null===(n=e.instance)||void 0===n?void 0:n.isDrawing())&&void 0!==r&&r||null===(o=null===(i=e.instance)||void 0===i?void 0:i.onClick)||void 0===o||o.call(i,D({overlay:e.instance,figureKey:e.figureKey,figureIndex:e.figureIndex},t)),((null==f?void 0:f.id)!==(null===(a=e.instance)||void 0===a?void 0:a.id)||p!==e.figureType||g!==e.figureIndex)&&(this._clickInstanceInfo=e,(null==f?void 0:f.id)!==(null===(s=e.instance)||void 0===s?void 0:s.id))){null===(l=null==f?void 0:f.onDeselected)||void 0===l||l.call(f,D({overlay:f,figureKey:v,figureIndex:g},t)),null===(u=null===(c=e.instance)||void 0===c?void 0:c.onSelected)||void 0===u||u.call(c,D({overlay:e.instance,figureKey:e.figureKey,figureIndex:e.figureIndex},t));var m=this._chartStore.getChart();m.updatePane(1,e.paneId),h!==e.paneId&&m.updatePane(1,h),m.updatePane(1,Xe.XAXIS)}},e.prototype.getClickInstanceInfo=function(){return this._clickInstanceInfo},e.prototype.isEmpty=function(){return 0===this._instances.size&&null===this._progressInstanceInfo},e.prototype.isDrawing=function(){var e,t;return null!==this._progressInstanceInfo&&null!==(t=null===(e=this._progressInstanceInfo)||void 0===e?void 0:e.instance.isDrawing())&&void 0!==t&&t},e}(),Ge=function(){function e(){this._actions=new Map}return e.prototype.execute=function(e,t){var n;null===(n=this._actions.get(e))||void 0===n||n.execute(t)},e.prototype.subscribe=function(e,t){var n;this._actions.has(e)||this._actions.set(e,new W),null===(n=this._actions.get(e))||void 0===n||n.subscribe(t)},e.prototype.unsubscribe=function(e,t){var n=this._actions.get(e);void 0!==n&&(n.unsubscribe(t),n.isEmpty()&&this._actions.delete(e))},e.prototype.has=function(e){var t=this._actions.get(e);return void 0!==t&&!t.isEmpty()},e}(),Ze={light:{grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},text:{color:"#76808F"}}},indicator:{tooltip:{text:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},dark:{grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},text:{color:"#929AA5"}}},indicator:{tooltip:{text:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}}};function Je(e){var t;return null!==(t=Ze[e])&&void 0!==t?t:null}var Qe=function(){function n(t,n){this._styles={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:e.LineType.Dashed,dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:e.LineType.Dashed,dashedValue:[2,2]}},candle:{type:e.CandleType.CandleSolid,bar:{upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#999999"},area:{lineSize:2,lineColor:"#1677FF",value:"close",backgroundColor:[{offset:0,color:"rgba(22, 119, 255, 0.01)"},{offset:1,color:"rgba(22, 119, 255, 0.2)"}]},priceMark:{show:!0,high:{show:!0,color:"#76808F",textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},low:{show:!0,color:"#76808F",textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},last:{show:!0,upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888",line:{show:!0,style:e.LineType.Dashed,dashedValue:[4,4],size:1},text:{show:!0,style:e.PolygonType.Fill,size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderStyle:e.LineType.Solid,borderSize:1,borderDashedValue:[2,2],color:"#FFFFFF",family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{showRule:e.TooltipShowRule.Always,showType:e.TooltipShowType.Standard,custom:null,defaultValue:"n/a",rect:{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:8,offsetLeft:10,offsetTop:8,offsetRight:10,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}},indicator:{ohlc:{upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"},bars:[{style:e.PolygonType.Fill,borderStyle:e.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"}],lines:[{style:e.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#FF9600"},{style:e.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#9D65C9"},{style:e.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#1677FF"},{style:e.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#E11D74"},{style:e.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:"#01C5C4"}],circles:[{style:e.PolygonType.Fill,borderStyle:e.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"}],lastValueMark:{show:!1,text:{show:!1,style:e.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:e.LineType.Solid,borderSize:1,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{showRule:e.TooltipShowRule.Always,showType:e.TooltipShowType.Standard,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}},xAxis:{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},yAxis:{show:!0,size:"auto",type:e.YAxisType.Normal,position:e.YAxisPosition.Right,inside:!1,reverse:!1,axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},separator:{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:"rgba(33, 150, 243, 0.08)"},crosshair:{show:!0,horizontal:{show:!0,line:{show:!0,style:e.LineType.Dashed,dashedValue:[4,2],size:1,color:"#76808F"},text:{show:!0,style:e.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:e.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderColor:"#686D76",borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#686D76"}},vertical:{show:!0,line:{show:!0,style:e.LineType.Dashed,dashedValue:[4,2],size:1,color:"#76808F"},text:{show:!0,style:e.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:e.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:"#686D76",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#686D76"}}},overlay:{point:{color:"#1677FF",borderColor:"rgba(22, 119, 255, 0.35)",borderSize:1,radius:5,activeColor:"#1677FF",activeBorderColor:"rgba(22, 119, 255, 0.35)",activeBorderSize:3,activeRadius:5},line:{style:e.LineType.Solid,smooth:!1,color:"#1677FF",size:1,dashedValue:[2,2]},rect:{style:e.PolygonType.Fill,color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderRadius:0,borderStyle:e.LineType.Solid,borderDashedValue:[2,2]},polygon:{style:e.PolygonType.Fill,color:"#1677FF",borderColor:"#1677FF",borderSize:1,borderStyle:e.LineType.Solid,borderDashedValue:[2,2]},circle:{style:e.PolygonType.Fill,color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderStyle:e.LineType.Solid,borderDashedValue:[2,2]},arc:{style:e.LineType.Solid,color:"#1677FF",size:1,dashedValue:[2,2]},text:{color:"#1677FF",size:12,family:"Helvetica Neue",weight:"normal"},rectText:{style:e.PolygonType.Fill,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:e.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#1677FF"}},logo:{height:void 0,width:void 0,left:void 0,bottom:void 0},depth:{bidLineSize:1,bidLineColor:"#16b979",bidBackgroundColor:[{offset:0,color:"rgba(22, 185, 121, 0.05)"},{offset:1,color:"rgba(22, 185, 121, 0.3)"}],askLineSize:1,askLineColor:"#EF5350",askBackgroundColor:[{offset:0,color:"rgba(238, 44, 90, 0.05)"},{offset:1,color:"rgba(238, 44, 90, 0.3)"}]}},this._customApi={formatDate:f,formatBigNumber:v,formatNumber:E,formatPercent:k},this._locale=I,this._interval=void 0,this._showCountDown=!0,this._logo=void 0,this._precision={price:2,volume:0},this._dataList=[],this._timeScaleStore=new re(this),this._indicatorStore=new ge(this),this._overlayStore=new Ke(this),this._crosshairStore=new me(this),this._tooltipStore=new ye,this._actionStore=new Ge,this._visibleDataList=[],this._chart=t,this.setOptions(n)}return n.prototype.adjustVisibleDataList=function(){this._visibleDataList=[];for(var e=this._timeScaleStore.getVisibleRange(),t=e.to,n=e.from;t>n;n++){var r=this._dataList[n],i=this._timeScaleStore.dataIndexToCoordinate(n);this._visibleDataList.push({dataIndex:n,x:i,data:r})}},n.prototype.setOptions=function(e){var n=this;if(void 0!==e){var r=e.locale,i=e.timezone,o=e.styles,a=e.customApi,s=e.interval,l=e.showCountDown,u=e.logo,d=e.tooltipOptions;if(void 0!==r&&(this._locale=r),void 0!==i&&this._timeScaleStore.setTimezone(i),void 0!==o&&(c(o)?t(this._styles,Je(o)):t(this._styles,o)),void 0!==a&&(t(this._customApi,a),a.formatNumber&&(E=a.formatNumber),a.formatPercent&&(k=a.formatPercent)),void 0!==s&&(this._interval=s),void 0!==l&&(this._showCountDown=l),void 0!==u){var h=new Image;h.src=u,h.onload=function(){n._logo=h}}void 0!==d&&(this._tooltipOptions=d)}return this},n.prototype.getStyles=function(){return this._styles},n.prototype.getLocale=function(){return this._locale},n.prototype.getInterval=function(){return this._interval},n.prototype.getShowCountDown=function(){return this._showCountDown},n.prototype.getLogo=function(){return this._logo},n.prototype.getCustomApi=function(){return this._customApi},n.prototype.getPrecision=function(){return this._precision},n.prototype.setPrecision=function(e){return this._precision=e,this._indicatorStore.setSeriesPrecision(e),this},n.prototype.getDataList=function(){return this._dataList},n.prototype.getVisibleDataList=function(){return this._visibleDataList},n.prototype.addData=function(e,t,n){if(r(e)){this._timeScaleStore.setLoading(!1),this._timeScaleStore.setMore(null==n||n);var i=0===this._dataList.length;this._dataList=e.concat(this._dataList),i&&this._timeScaleStore.resetOffsetRightDistance(),this._timeScaleStore.adjustVisibleRange()}else if(t<this._dataList.length)this._dataList[t]=e,this.adjustVisibleDataList();else{this._dataList.push(e);var o=this._timeScaleStore.getOffsetRightBarCount();0>o&&this._timeScaleStore.setOffsetRightBarCount(--o),this._timeScaleStore.adjustVisibleRange()}this._crosshairStore.recalculate(!0)},n.prototype.clearDataList=function(){this._dataList=[],this._visibleDataList=[],this._timeScaleStore.clear()},n.prototype.getTimeScaleStore=function(){return this._timeScaleStore},n.prototype.getIndicatorStore=function(){return this._indicatorStore},n.prototype.getOverlayStore=function(){return this._overlayStore},n.prototype.getCrosshairStore=function(){return this._crosshairStore},n.prototype.getTooltipStore=function(){return this._tooltipStore},n.prototype.getActionStore=function(){return this._actionStore},n.prototype.getChart=function(){return this._chart},n.prototype.getTooltipOptions=function(){return this._tooltipOptions},n}();function et(e){return null==window.requestAnimationFrame?window.setTimeout(e,20):window.requestAnimationFrame(e)}function tt(e){null==window.cancelAnimationFrame&&window.clearTimeout(e),window.cancelAnimationFrame(e)}var nt=-1,rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mainRequestAnimationId=nt,t._overlayRequestAnimationId=nt,t}return M(t,e),t.prototype.getContainerStyle=function(){return{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box"}},t.prototype.initDom=function(e){this._mainCanvas=Y("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._mainCtx=this._mainCanvas.getContext("2d"),this._overlayCanvas=Y("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._overlayCtx=this._overlayCanvas.getContext("2d"),e.appendChild(this._mainCanvas),e.appendChild(this._overlayCanvas)},t.prototype._optimalUpdateMain=function(e,t){var n=this;this._mainRequestAnimationId!==nt&&(tt(this._mainRequestAnimationId),this._mainRequestAnimationId=nt),this._mainRequestAnimationId=et((function(){if(e!==n._mainCanvas.offsetWidth||t!==n._mainCanvas.offsetHeight){n._mainCtx.clearRect(0,0,n._mainCanvas.offsetWidth,n._mainCanvas.offsetHeight);var r=H(n._mainCanvas),i=Math.floor(e*r),o=Math.floor(t*r);n._mainCanvas.style.width="".concat(e,"px"),n._mainCanvas.style.height="".concat(t,"px"),n._mainCanvas.width=i,n._mainCanvas.height=o,n._mainCtx.scale(r,r)}else n._mainCtx.clearRect(0,0,n._mainCanvas.offsetWidth,n._mainCanvas.offsetHeight);n.updateMain(n._mainCtx)}))},t.prototype._optimalUpdateOverlay=function(e,t){var n=this;this._overlayRequestAnimationId!==nt&&(tt(this._overlayRequestAnimationId),this._overlayRequestAnimationId=nt),this._overlayRequestAnimationId=et((function(){if(e!==n._overlayCanvas.offsetWidth||t!==n._overlayCanvas.offsetHeight){n._overlayCtx.clearRect(0,0,n._overlayCanvas.offsetWidth,n._overlayCanvas.offsetHeight);var r=H(n._overlayCanvas),i=Math.floor(e*r),o=Math.floor(t*r);n._overlayCanvas.style.width="".concat(e,"px"),n._overlayCanvas.style.height="".concat(t,"px"),n._overlayCanvas.width=i,n._overlayCanvas.height=o,n._overlayCtx.scale(r,r)}else n._overlayCtx.clearRect(0,0,n._overlayCanvas.offsetWidth,n._overlayCanvas.offsetHeight);n.updateOverlay(n._overlayCtx)}))},t.prototype.updateImp=function(e,t,n){var r=n.width,i=n.height;t.style.left="".concat(n.left,"px");var o=e;switch(r===t.offsetWidth&&i===t.offsetHeight||(t.style.width="".concat(r,"px"),t.style.height="".concat(i,"px"),o=3),o){case 0:this._optimalUpdateMain(r,i);break;case 1:this._optimalUpdateOverlay(r,i);break;case 3:case 4:this._optimalUpdateMain(r,i),this._optimalUpdateOverlay(r,i)}},t.prototype.getImage=function(e){var t=this.getBounding(),n=t.width,r=t.height,i=Y("canvas",{width:"".concat(n,"px"),height:"".concat(r,"px"),boxSizing:"border-box"}),o=i.getContext("2d"),a=H(i);return i.width=n*a,i.height=r*a,o.scale(a,a),o.drawImage(this._mainCanvas,0,0,n,r),e&&o.drawImage(this._overlayCanvas,0,0,n,r),i},t}(He),it=2,ot=function(e){function t(t){var n=e.call(this)||this;return n.attrs=t.attrs,n.styles=t.styles,n}return M(t,e),t.prototype.checkEventOn=function(e){return this.checkEventOnImp(e,this.attrs,this.styles)},t.prototype.draw=function(e){this.drawImp(e,this.attrs,this.styles)},t.extend=function(e){var n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return M(n,t),n.prototype.checkEventOnImp=function(t,n,r){return e.checkEventOn(t,n,r)},n.prototype.drawImp=function(t,n,r){e.draw(t,n,r)},n}(t);return n},t}(Ve);function at(e,t){var n=e.x-t.x,r=e.y-t.y,i=t.r;return!(n*n+r*r>i*i)}function st(t,n,r){var i=n.x,o=n.y,a=n.r,s=r.style,l=void 0===s?e.PolygonType.Fill:s,c=r.color,u=r.borderSize,d=void 0===u?1:u,h=r.borderColor,f=void 0===h?"currentColor":h,p=r.borderStyle,v=void 0===p?e.LineType.Solid:p,g=r.borderDashedValue,m=void 0===g?[2,2]:g;l!==e.PolygonType.Fill&&r.style!==e.PolygonType.StrokeFill||(t.fillStyle=void 0===c?"currentColor":c,t.beginPath(),t.arc(i,o,a,0,2*Math.PI),t.closePath(),t.fill()),l!==e.PolygonType.Stroke&&r.style!==e.PolygonType.StrokeFill||(t.strokeStyle=f,t.lineWidth=d,t.setLineDash(v===e.LineType.Dashed?m:[]),t.beginPath(),t.arc(i,o,a,0,2*Math.PI),t.closePath(),t.stroke())}var lt={name:"circle",checkEventOn:at,draw:function(e,t,n){st(e,t,n)}};function ct(e,t){for(var n=!1,r=t.coordinates,i=0,o=r.length-1;r.length>i;o=i++)r[i].y>e.y!=r[o].y>e.y&&(r[o].x-r[i].x)*(e.y-r[i].y)/(r[o].y-r[i].y)+r[i].x>e.x&&(n=!n);return n}function ut(t,n,r){var i=n.coordinates,o=r.style,a=void 0===o?e.PolygonType.Fill:o,s=r.color,l=r.borderSize,c=void 0===l?1:l,u=r.borderColor,d=void 0===u?"currentColor":u,h=r.borderStyle,f=void 0===h?e.LineType.Solid:h,p=r.borderDashedValue,v=void 0===p?[2,2]:p;if(a===e.PolygonType.Fill||r.style===e.PolygonType.StrokeFill){t.fillStyle=void 0===s?"currentColor":s,t.beginPath(),t.moveTo(i[0].x,i[0].y);for(var g=1;i.length>g;g++)t.lineTo(i[g].x,i[g].y);t.closePath(),t.fill()}if(a===e.PolygonType.Stroke||r.style===e.PolygonType.StrokeFill){for(t.strokeStyle=d,t.lineWidth=c,t.setLineDash(f===e.LineType.Dashed?v:[]),t.beginPath(),t.moveTo(i[0].x,i[0].y),g=1;i.length>g;g++)t.lineTo(i[g].x,i[g].y);t.closePath(),t.stroke()}}var dt={name:"polygon",checkEventOn:ct,draw:function(e,t,n){ut(e,t,n)}};function ht(e,t){return!(t.x>e.x||e.x>t.x+t.width||t.y>e.y||e.y>t.y+t.height)}function ft(t,n,r){var i=n.x,o=n.y,a=n.width,s=n.height,l=r.style,c=void 0===l?e.PolygonType.Fill:l,u=r.color,d=r.borderSize,h=void 0===d?1:d,f=r.borderColor,p=void 0===f?"currentColor":f,v=r.borderStyle,g=void 0===v?e.LineType.Solid:v,m=r.borderRadius,y=void 0===m?0:m,x=r.borderDashedValue,b=void 0===x?[2,2]:x;c!==e.PolygonType.Fill&&r.style!==e.PolygonType.StrokeFill||(t.fillStyle=void 0===u?"currentColor":u,t.beginPath(),t.moveTo(i+y,o),t.arcTo(i+a,o,i+a,o+s,y),t.arcTo(i+a,o+s,i,o+s,y),t.arcTo(i,o+s,i,o,y),t.arcTo(i,o,i+a,o,y),t.closePath(),t.fill()),c!==e.PolygonType.Stroke&&r.style!==e.PolygonType.StrokeFill||(t.strokeStyle=p,t.lineWidth=h,t.setLineDash(g===e.LineType.Dashed?b:[]),t.beginPath(),t.moveTo(i+y,o),t.arcTo(i+a,o,i+a,o+s,y),t.arcTo(i+a,o+s,i,o+s,y),t.arcTo(i,o+s,i,o,y),t.arcTo(i,o,i+a,o,y),t.closePath(),t.stroke())}var pt={name:"rect",checkEventOn:ht,draw:function(e,t,n){ft(e,t,n)}};function vt(e,t,n){var r=t.size,i=void 0===r?12:r,o=t.paddingLeft,a=void 0===o?0:o,s=t.paddingTop,l=void 0===s?0:s,c=t.paddingRight,u=void 0===c?0:c,d=t.paddingBottom,h=void 0===d?0:d,f=e.x,p=e.y,v=e.align,g=e.baseline,m=void 0===g?"top":g;n=null!=n?n:i*e.text.length;var y,x,b=i;switch(void 0===v?"left":v){case"left":case"start":y=f;break;case"right":case"end":y=f-u-n-a;break;default:y=f-n/2-a}switch(m){case"top":case"hanging":x=p;break;case"bottom":case"ideographic":case"alphabetic":x=p-b-l-h;break;default:x=p-b/2-l}return{x:y,y:x,width:a+n+u,height:l+b+h}}function gt(e,t,n){var r=vt(t,n),i=r.x,o=r.y;return!(i>e.x||e.x>i+r.width||o>e.y||e.y>o+r.height)}function mt(e,t,n){var r=t.x,i=t.y,o=t.text,a=t.align,s=t.baseline,l=void 0===s?"top":s,c=n.color,u=void 0===c?"currentColor":c,d=n.size,h=void 0===d?12:d,f=n.family,p=n.weight;e.textAlign=void 0===a?"left":a,e.textBaseline=l,e.font=U(h,p,f),e.fillStyle=u,e.fillText(o,r,i)}var yt={name:"text",checkEventOn:function(e,t,n){return gt(e,t,n)},draw:function(e,t,n){mt(e,t,n)}};function xt(e,t,n){var r=t.text,i=n.size,o=n.paddingLeft,a=void 0===o?0:o,s=n.paddingTop,l=void 0===s?0:s,c=n.textWidth;e.font=U(void 0===i?12:i,n.weight,n.family);var u=vt(t,n,null!=c?c:e.measureText(r).width);ft(e,u,D(D({},n),{color:n.backgroundColor})),mt(e,{x:u.x+a,y:u.y+l,text:r,align:"left",baseline:"top"},n)}var bt={name:"rectText",checkEventOn:function(e,t,n){return gt(e,t,n)},draw:function(e,t,n){xt(e,t,n)}};function _t(e,t){if(Math.abs(Math.sqrt((d=(c=e).x-(u=t).x)*d+(h=c.y-u.y)*h)-t.r)<it){var n=t.r,r=t.startAngle,i=t.endAngle,o=n*Math.cos(r)+t.x,a=n*Math.sin(r)+t.y,s=n*Math.cos(i)+t.x,l=n*Math.sin(i)+t.y;return!(e.x>Math.max(o,s)+it||Math.min(o,s)-it>e.x||e.y>Math.max(a,l)+it||Math.min(a,l)-it>e.y)}var c,u,d,h;return!1}function wt(t,n,r){var i=n.x,o=n.y,a=n.r,s=n.startAngle,l=n.endAngle,c=r.style,u=void 0===c?e.LineType.Solid:c,d=r.size,h=r.color,f=void 0===h?"currentColor":h,p=r.dashedValue,v=void 0===p?[2,2]:p;t.lineWidth=void 0===d?1:d,t.strokeStyle=f,t.setLineDash(u===e.LineType.Dashed?v:[]),t.beginPath(),t.arc(i,o,a,s,l),t.stroke(),t.closePath()}var Ct={name:"arc",checkEventOn:_t,draw:function(e,t,n){wt(e,t,n)}},St={};function Et(e){var t;return null!==(t=St[e])&&void 0!==t?t:null}[lt,Ae,dt,pt,yt,bt,Ct].forEach((function(e){St[e.name]=ot.extend(e)}));var kt=function(e){function t(t){var n=e.call(this)||this;return n._widget=t,n}return M(t,e),t.prototype.getWidget=function(){return this._widget},t.prototype.createFigure=function(e,t,n,r){var i=function(e){var t;return null!==(t=St[e])&&void 0!==t?t:null}(e);if(null!==i){var o=new i({name:e,attrs:t,styles:n});if(void 0!==r){for(var a in r)r.hasOwnProperty(a)&&o.registerEvent(a,r[a]);this.addChild(o)}return o}return null},t.prototype.draw=function(e){this.clear(),this.drawImp(e)},t}(Ve),Tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.drawImp=function(e){var t,n=this,r=this.getWidget(),i=this.getWidget().getPane(),o=i.getChart(),a=r.getBounding(),s=o.getStyles().grid;if(s.show){e.save(),e.globalCompositeOperation="destination-over";var l=s.horizontal;l.show&&i.getAxisComponent().getTicks().forEach((function(t){var r;null===(r=n.createFigure("line",{coordinates:[{x:0,y:t.coord},{x:a.width,y:t.coord}]},l))||void 0===r||r.draw(e)}));var c=s.vertical;c.show&&(null===(t=o.getPaneById(Xe.XAXIS))||void 0===t?void 0:t.getAxisComponent()).getTicks().forEach((function(t){var r;null===(r=n.createFigure("line",{coordinates:[{x:t.coord,y:0},{x:t.coord,y:a.height}]},c))||void 0===r||r.draw(e)})),e.restore()}},t}(kt),Pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.eachChildren=function(e){var t=this.getWidget().getPane().getChart().getChartStore(),n=t.getVisibleDataList(),r=t.getTimeScaleStore().getBarSpace();n.forEach((function(t,n){e(t,r,n)}))},t}(kt),It=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n._boundCandleBarClickEvent=function(t){return function(){return n.getWidget().getPane().getChart().getChartStore().getActionStore().execute(e.ActionType.OnCandleBarClick,t),!1}},n}return M(n,t),n.prototype.drawImp=function(e){var t=this,n=this.getWidget().getPane(),r=n.getId()===Xe.CANDLE,i=n.getChart().getChartStore(),o=this.getCandleBarOptions(i);if(null!==o){var a=n.getAxisComponent();this.eachChildren((function(n,i){t._drawCandleBar(e,a,n,i,o,r)}))}},n.prototype.getCandleBarOptions=function(e){var t=e.getStyles().candle;return{type:t.type,styles:t.bar}},n.prototype._drawCandleBar=function(t,n,r,i,o,a){var s,l=this,c=r.data,u=r.x,d=c.open,h=c.high,f=c.low,p=c.close,v=i.halfGapBar,g=i.gapBar,m=o.type,y=o.styles;s=p>d?y.upColor:d>p?y.downColor:y.noChangeColor;var x=n.convertToPixel(d),b=n.convertToPixel(p),_=[x,b,n.convertToPixel(h),n.convertToPixel(f)];_.sort((function(e,t){return e-t}));var w=Math.max(1,_[2]-_[1]),C=[];m!==e.CandleType.Ohlc?(C.push({name:"rect",attrs:{x:u-.5,y:_[0],width:1,height:_[1]-_[0]},styles:{color:s}}),C.push(m===e.CandleType.CandleStroke||m===e.CandleType.CandleUpStroke&&p>d||m===e.CandleType.CandleDownStroke&&d>p?{name:"rect",attrs:{x:u-v+.5,y:_[1],width:g-1,height:w},styles:{style:e.PolygonType.Stroke,borderColor:s}}:{name:"rect",attrs:{x:u-v,y:_[1],width:g,height:w},styles:{color:s}}),C.push({name:"rect",attrs:{x:u-.5,y:_[2],width:1,height:_[3]-_[2]},styles:{color:s}})):C=[{name:"rect",attrs:{x:u-.5,y:_[0],width:1,height:_[3]-_[0]},styles:{color:s}},{name:"rect",attrs:{x:u-v,y:x,width:v,height:1},styles:{color:s}},{name:"rect",attrs:{x:u,y:b,width:v,height:1},styles:{color:s}}],C.forEach((function(e){var n,i,o=e.attrs,s=e.styles;a&&(i={mouseClickEvent:l._boundCandleBarClickEvent(r)}),null===(n=l.createFigure("rect",o,s,i))||void 0===n||n.draw(t)}))},n}(Pt),At=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return M(n,t),n.prototype.getCandleBarOptions=function(t){var n,r,i=this.getWidget().getPane();if(!i.getAxisComponent().isInCandle()){var o=t.getIndicatorStore().getInstances(i.getId());try{for(var a=R(o),s=a.next();!s.done;s=a.next()){var l=s.value[1];if(l.shouldOhlc&&l.visible){var c=l.styles,u=t.getStyles().indicator;return{type:e.CandleType.Ohlc,styles:{upColor:h(c,"ohlc.upColor",u.ohlc.upColor),downColor:h(c,"ohlc.downColor",u.ohlc.downColor),noChangeColor:h(c,"ohlc.noChangeColor",u.ohlc.noChangeColor)}}}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}return null},n.prototype.drawImp=function(e){var n,r=this;t.prototype.drawImp.call(this,e);var i=this.getWidget(),o=i.getPane(),a=o.getChart(),l=i.getBounding(),c=null===(n=a.getPaneById(Xe.XAXIS))||void 0===n?void 0:n.getAxisComponent(),u=o.getAxisComponent(),d=a.getChartStore(),h=d.getDataList(),f=d.getTimeScaleStore(),p=f.getVisibleRange(),v=d.getIndicatorStore().getInstances(o.getId()),g=d.getStyles().indicator;v.forEach((function(t){var n;if(t.visible){var i=!1;if(null!==t.draw&&(e.save(),i=null!==(n=t.draw({ctx:e,kLineDataList:h,indicator:t,visibleRange:p,bounding:l,barSpace:f.getBarSpace(),defaultStyles:g,xAxis:c,yAxis:u}))&&void 0!==n&&n,e.restore()),!i){var o=t.result,a=[],d=[],v=[];r.eachChildren((function(n,i){var l,c=i.halfGapBar,f=i.gapBar,m=n.dataIndex,y=n.x,x=null!==(l=o[m])&&void 0!==l?l:{};ie(h,t,m,g,(function(t,n,i,o){var l,h,g,b=x[t.key],_=u.convertToPixel(b);switch(t.type){case"circle":s(b)&&(null===(l=r.createFigure("circle",{x:y,y:_,r:c},{style:n.style,color:n.color,borderColor:n.color}))||void 0===l||l.draw(e));break;case"bar":if(s(b)){var w=null!==(h=t.baseValue)&&void 0!==h?h:u.getExtremum().min,C=u.convertToPixel(w),S=Math.abs(C-_);w!==b&&(S=Math.max(1,S)),null===(g=r.createFigure("rect",{x:y-c,y:_>C?C:_,width:f,height:S},{style:n.style,color:n.color,borderColor:n.color}))||void 0===g||g.draw(e)}break;case"line":var E=null;if(s(b)){E=n;var k={x:y,y:_},T=a[o];s(d[o])||(d[o]=[]),d[o].push(k),s(T)&&((null==T?void 0:T.color)!==n.color||(null==T?void 0:T.style)!==n.style)&&(v.push({name:"line",attrs:{coordinates:d[o]},styles:{style:n.style,color:n.color,size:i.size,smooth:i.smooth,dashedValue:i.dashedValue}}),d[o]=[k]),m===p.to-1&&v.push({name:"line",attrs:{coordinates:d[o]},styles:{style:n.style,color:null==n?void 0:n.color,size:i.size,smooth:i.smooth,dashedValue:i.dashedValue}})}a[o]=E}}))})),v.forEach((function(t){var n;null===(n=r.createFigure("line",t.attrs,t.styles))||void 0===n||n.draw(e)}))}}}))},n}(It),Mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.drawImp=function(e){var t=this.getWidget(),n=t.getPane(),r=t.getBounding(),i=t.getPane().getChart().getChartStore(),o=i.getCrosshairStore().get(),a=i.getStyles().crosshair;if(void 0!==o.paneId&&a.show){if(o.paneId===n.getId()){var s=o.y;this._drawLine(e,[{x:0,y:s},{x:r.width,y:s}],a.horizontal)}var l=o.realX;this._drawLine(e,[{x:l,y:0},{x:l,y:r.height}],a.vertical)}},t.prototype._drawLine=function(e,t,n){var r;if(n.show){var i=n.line;i.show&&(null===(r=this.createFigure("line",{coordinates:t},i))||void 0===r||r.draw(e))}},t}(kt),Ft=function(t){function n(n){var r=t.call(this,n)||this;return r._boundIconClickEvent=function(t,n){return function(){return r.getWidget().getPane().getChart().getChartStore().getActionStore().execute(e.ActionType.OnTooltipIconClick,D(D({},t),{iconId:n})),!0}},r._boundIconMouseMoveEvent=function(e,t){return function(){return r.getWidget().getPane().getChart().getChartStore().getTooltipStore().setActiveIconInfo(D(D({},e),{iconId:t})),!0}},r._initContainer(n.getContainer()),r._tooltipOptions=r.getWidget().getPane().getChart().getChartStore().getTooltipOptions(),r}return M(n,t),n.prototype.getTooltipOptions=function(){return this._tooltipOptions},n.prototype.getIndicatorTooltipContainer=function(){return this._indicatorTooltipContainer},n.prototype._initContainer=function(e){this._indicatorTooltipContainer=Y("div",{position:"relative",width:"100%"}),this._indicatorTooltipContainer.className="origin-kline-tooltip-wrapper",this._indicatorTooltipContainer.addEventListener("mousemove",(function(e){var t,n;"none"!==(null===(n=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.dataset)||void 0===n?void 0:n.stopprop)&&e.stopPropagation()})),this._indicatorTooltipContainer.addEventListener("mousedown",(function(e){e.stopPropagation()})),e.appendChild(this._indicatorTooltipContainer)},n.prototype.drawImp=function(e){var t=this.getWidget(),n=t.getPane(),r=n.getChart().getChartStore(),i=r.getCrosshairStore().get();if(void 0!==i.kLineData){var o=t.getBounding(),a=r.getCustomApi(),s=r.getIndicatorStore().getInstances(n.getId()),l=r.getTooltipStore().getActiveIconInfo(),c=r.getStyles().indicator;this.drawIndicatorTooltip(e,n.getId(),r.getDataList(),i,l,s,a,o,c)}},n.prototype.drawIndicatorTooltip=function(e,t,n,r,i,o,a,s,l,c,u){var d=this,h=l.tooltip,f=0;if(this.isDrawTooltip(r,h)){var p=h.text,v=0,g=null!=c?c:0,m=0,y=this.getTooltipOptions();if(null==y?void 0:y.tooltipFn){var x=[];return u&&x.push({name:"last",values:u}),o.forEach((function(e){var t=d.getIndicatorTooltipData(n,r,e,a,l);x.push({name:t.name,values:t.values})})),null==y?void 0:y.tooltipFn({ele:this._indicatorTooltipContainer,contentList:x})}o.forEach((function(o){var c=d.getIndicatorTooltipData(n,r,o,a,l),u=c.name,h=c.calcParamsText,y=c.values,x=u.length>0,b=y.length>0;if(x||b){var _=N(d.classifyTooltipIcons(c.icons),3),w=_[1],C=_[2],S=N(d.drawStandardTooltipIcons(e,s,{paneId:t,indicatorName:o.name,iconId:""},i,_[0],v,g,m),4);if(v=S[0],g=S[1],f+=S[3],m=S[2],x){var E=u;h.length>0&&(E="".concat(E).concat(h));var k=N(d.drawStandardTooltipLabels(e,s,[{title:{text:"",color:p.color},value:{text:E,color:p.color}}],v,g,m,p),4);v=k[0],g=k[1],f+=k[3],m=k[2]}var T=N(d.drawStandardTooltipIcons(e,s,{paneId:t,indicatorName:o.name,iconId:""},i,w,v,g,m),4);if(v=T[0],g=T[1],f+=T[3],m=T[2],b){var P=N(d.drawStandardTooltipLabels(e,s,y,v,g,m,p),4);v=P[0],g=P[1],f+=P[3],m=P[2]}var I=N(d.drawStandardTooltipIcons(e,s,{paneId:t,indicatorName:o.name,iconId:""},i,C,v,g,m),4);v=0,f+=I[3],g=I[1]+I[2],m=0}}))}return f},n.prototype.drawStandardTooltipIcons=function(e,t,n,r,i,o,a,s){var l=this,c=o,u=a,d=0,h=0,f=0;return i.length>0&&(i.forEach((function(t){var n=t.marginLeft,r=t.marginTop,i=t.marginRight,o=t.marginBottom,a=t.paddingLeft,s=t.paddingTop,l=t.paddingRight,c=t.paddingBottom,u=t.size,f=t.icon;e.font=U(u,"normal",t.fontFamily),d+=n+a+e.measureText(f).width+l+i,h=Math.max(h,r+s+u+c+o)})),c+d>t.width?(c=i[0].marginLeft,u+=s,f=h):f=Math.max(0,h-s),i.forEach((function(t){var i,o=t.marginRight,a=t.paddingLeft,s=t.paddingRight,d=t.icon,h=(null==r?void 0:r.paneId)===n.paneId&&(null==r?void 0:r.indicatorName)===n.indicatorName&&(null==r?void 0:r.iconId)===t.id;null===(i=l.createFigure("rectText",{text:d,x:c+=t.marginLeft,y:u+t.marginTop},{paddingLeft:a,paddingTop:t.paddingTop,paddingRight:s,paddingBottom:t.paddingBottom,color:h?t.activeColor:t.color,size:t.size,family:t.fontFamily,backgroundColor:h?t.activeBackgroundColor:t.backgroundColor},{mouseClickEvent:l._boundIconClickEvent(n,t.id),mouseMoveEvent:l._boundIconMouseMoveEvent(n,t.id)}))||void 0===i||i.draw(e),c+=a+e.measureText(d).width+s+o}))),[c,u,Math.max(s,h),f]},n.prototype.drawStandardTooltipLabels=function(e,t,n,r,i,o,a){var s=this,l=r,c=i,u=0,d=0,h=o;if(n.length>0){var f=a.marginLeft,p=a.marginTop,v=a.marginRight,g=a.marginBottom,m=a.size,y=a.family,x=a.weight;e.font=U(m,x,y),n.forEach((function(n){var r,i,o=n.title,a=n.value,b=e.measureText(o.text).width,_=e.measureText(a.text).width,w=m+p+g;l+f+(b+_)+v>t.width?(l=f,c+=w,d+=w):(l+=f,d+=Math.max(0,w-h)),h=u=Math.max(h,w),o.text.length>0&&(null===(r=s.createFigure("text",{x:l,y:c+p,text:o.text},{color:o.color,size:m,family:y,weight:x}))||void 0===r||r.draw(e),l+=b),null===(i=s.createFigure("text",{x:l,y:c+p,text:a.text},{color:a.color,size:m,family:y,weight:x}))||void 0===i||i.draw(e),l+=_+v}))}return[l,c,u,d]},n.prototype.isDrawTooltip=function(t,n){var r=n.showRule;return r===e.TooltipShowRule.Always||r===e.TooltipShowRule.FollowCross&&void 0!==t.paneId},n.prototype.getIndicatorTooltipData=function(e,t,n,r,i){var a,l,c,u=i.tooltip,d=u.showName?n.shortName:"",h="",f=n.calcParams;f.length>0&&u.showParams&&(h="(".concat(f.join(","),")"));var v={name:d,calcParamsText:h,values:[],icons:u.icons},g=t.dataIndex,m=null!==(a=n.result)&&void 0!==a?a:[],y=[];if(n.visible){var x=null!==(l=m[g])&&void 0!==l?l:{};ie(e,n,g,i,(function(e,t){if(void 0!==e.title){var i=t.color,o=x[e.key];s(o)&&(o=p(o,n.precision),o=n.shouldFormatBigNumber?r.formatBigNumber(o,r.formatNumber):r.formatNumber(o)),y.push({title:{text:e.title,color:i},value:{text:null!=o?o:u.defaultValue,color:i}})}})),v.values=y}if(null!==n.createTooltipDataSource){var b=this.getWidget(),_=b.getPane(),w=_.getChart().getChartStore(),C=n.createTooltipDataSource({kLineDataList:e,indicator:n,visibleRange:w.getTimeScaleStore().getVisibleRange(),bounding:b.getBounding(),crosshair:t,defaultStyles:i,xAxis:null===(c=_.getChart().getPaneById(Xe.XAXIS))||void 0===c?void 0:c.getAxisComponent(),yAxis:_.getAxisComponent()}),S=C.name,E=C.calcParamsText,k=C.values,T=C.icons;if(void 0!==S&&u.showName&&(v.name=S),void 0!==E&&u.showParams&&(v.calcParamsText=E),void 0!==T&&(v.icons=T),void 0!==k&&n.visible){var P=[],I=i.tooltip.text.color;k.forEach((function(e){var t={text:"",color:I};o(e.title)?t=e.title:t.text=e.title;var n={text:"",color:I};o(e.value)?n=e.value:n.text=e.value,P.push({title:t,value:n})})),v.values=P}}return v},n.prototype.classifyTooltipIcons=function(t){var n=[],r=[],i=[];return t.forEach((function(t){switch(t.position){case e.TooltipIconPosition.Left:n.push(t);break;case e.TooltipIconPosition.Middle:r.push(t);break;case e.TooltipIconPosition.Right:i.push(t)}})),[n,r,i]},n}(kt),Dt=function(t){function n(e){var n=t.call(this,e)||this;return n._initEvent(),n}return M(n,t),n.prototype._initEvent=function(){var e=this,t=this.getWidget().getPane(),n=t.getId(),r=t.getChart().getChartStore().getOverlayStore();this.registerEvent("mouseMoveEvent",(function(t){var i,o=r.getProgressInstanceInfo();if(null!==o){var a=o.instance,s=o.paneId;a.isStart()&&(r.updateProgressInstanceInfo(n),s=n);var l=a.points.length-1,c="".concat(be,"point_").concat(l);return a.isDrawing()&&s===n&&(a.eventMoveForDrawing(e._coordinateToPoint(o.instance,t)),null===(i=a.onDrawing)||void 0===i||i.call(a,D({overlay:a,figureKey:c,figureIndex:l},t))),e._figureMouseMoveEvent(a,1,c,l,0)(t)}return r.setHoverInstanceInfo({paneId:n,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},t),!1})).registerEvent("mouseClickEvent",(function(t){var i,o,a=r.getProgressInstanceInfo();if(null!==a){var s=a.instance,l=a.paneId;s.isStart()&&(r.updateProgressInstanceInfo(n,!0),l=n);var c=s.points.length-1,u="".concat(be,"point_").concat(c);return s.isDrawing()&&l===n&&(s.eventMoveForDrawing(e._coordinateToPoint(s,t)),null===(i=s.onDrawing)||void 0===i||i.call(s,D({overlay:s,figureKey:u,figureIndex:c},t)),s.nextStep(),s.isDrawing()||(r.progressInstanceComplete(),null===(o=s.onDrawEnd)||void 0===o||o.call(s,D({overlay:s,figureKey:u,figureIndex:c},t)))),e._figureMouseClickEvent(s,1,u,c,0)(t)}return r.setClickInstanceInfo({paneId:n,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},t),!1})).registerEvent("mouseDoubleClickEvent",(function(e){var t,i=r.getProgressInstanceInfo();if(null!==i){var o=i.instance,a=i.paneId;if(o.isDrawing()&&a===n&&(o.forceComplete(),!o.isDrawing())){r.progressInstanceComplete();var s=o.points.length-1,l="".concat(be,"point_").concat(s);null===(t=o.onDrawEnd)||void 0===t||t.call(o,D({overlay:o,figureKey:l,figureIndex:s},e))}return!0}return!1})).registerEvent("mouseRightClickEvent",(function(t){var n=r.getProgressInstanceInfo();if(null!==n){var i=n.instance;if(i.isDrawing()){var o=i.points.length-1;return e._figureMouseRightClickEvent(i,1,"".concat(be,"point_").concat(o),o,0)(t)}}return!1})).registerEvent("mouseUpEvent",(function(e){var t,i=r.getPressedInstanceInfo(),o=i.instance;return null!==o&&(null===(t=o.onPressedMoveEnd)||void 0===t||t.call(o,D({overlay:o,figureKey:i.figureKey,figureIndex:i.figureIndex},e))),r.setPressedInstanceInfo({paneId:n,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1}),!1})).registerEvent("pressedMouseMoveEvent",(function(t){var n,i,o=r.getPressedInstanceInfo(),a=o.instance,s=o.figureType,l=o.figureIndex;if(null!==a){if(!(a.lock||null!==(i=null===(n=a.onPressedMoving)||void 0===n?void 0:n.call(a,D({overlay:a,figureIndex:l,figureKey:o.figureKey},t)))&&void 0!==i&&i)){var c=e._coordinateToPoint(a,t);1===s?a.eventPressedPointMove(c,l):a.eventPressedOtherMove(c,e.getWidget().getPane().getChart().getChartStore().getTimeScaleStore())}return!0}return!1}))},n.prototype._createFigureEvents=function(e,t,n,r,i,o){var a;if(!e.isDrawing()){var s=[];if(void 0!==o&&(l(o)?o&&(s=["mouseClickEvent","mouseRightClickEvent","tapEvent","mouseDownEvent","touchStartEvent","mouseMoveEvent","touchMoveEvent"]):s=o),0===s.length)return{mouseMoveEvent:this._figureMouseMoveEvent(e,t,n,r,i),mouseDownEvent:this._figureMouseDownEvent(e,t,n,r,i),mouseClickEvent:this._figureMouseClickEvent(e,t,n,r,i),mouseRightClickEvent:this._figureMouseRightClickEvent(e,t,n,r,i)};a={},s.includes("mouseMoveEvent")||s.includes("touchMoveEvent")||(a.mouseMoveEvent=this._figureMouseMoveEvent(e,t,n,r,i)),s.includes("mouseDownEvent")||s.includes("touchStartEvent")||(a.mouseDownEvent=this._figureMouseDownEvent(e,t,n,r,i)),s.includes("mouseClickEvent")||s.includes("tapEvent")||(a.mouseClickEvent=this._figureMouseClickEvent(e,t,n,r,i)),s.includes("mouseRightClickEvent")||(a.mouseRightClickEvent=this._figureMouseRightClickEvent(e,t,n,r,i))}return a},n.prototype._figureMouseMoveEvent=function(e,t,n,r,i){var o=this;return function(a){var s,l=o.getWidget().getPane(),c=l.getChart().getChartStore().getOverlayStore();return null===(s=e.onMouseMove)||void 0===s||s.call(e,D({overlay:e,figureIndex:r,figureKey:n},a)),c.setHoverInstanceInfo({paneId:l.getId(),instance:e,figureType:t,figureKey:n,figureIndex:r,attrsIndex:i},a),!0}},n.prototype._figureMouseDownEvent=function(e,t,n,r,i){var o=this;return function(a){var s,l=o.getWidget().getPane(),c=l.getId(),u=l.getChart().getChartStore().getOverlayStore();return e.startPressedMove(o._coordinateToPoint(e,a)),null===(s=e.onPressedMoveStart)||void 0===s||s.call(e,D({overlay:e,figureIndex:r,figureKey:n},a)),u.setPressedInstanceInfo({paneId:c,instance:e,figureType:t,figureKey:n,figureIndex:r,attrsIndex:i}),!0}},n.prototype._figureMouseClickEvent=function(e,t,n,r,i){var o=this;return function(a){var s=o.getWidget().getPane(),l=s.getId();return s.getChart().getChartStore().getOverlayStore().setClickInstanceInfo({paneId:l,instance:e,figureType:t,figureKey:n,figureIndex:r,attrsIndex:i},a),!0}},n.prototype._figureMouseRightClickEvent=function(e,t,n,r,i){var o=this;return function(t){var i,a;return null!==(a=null===(i=e.onRightClick)||void 0===i?void 0:i.call(e,D({overlay:e,figureIndex:r,figureKey:n},t)))&&void 0!==a&&a||o.getWidget().getPane().getChart().getChartStore().getOverlayStore().removeInstance(e),!0}},n.prototype._coordinateToPoint=function(t,n){var r,i,o={},a=this.getWidget().getPane(),s=a.getChart(),l=a.getId(),c=s.getChartStore().getTimeScaleStore();if(this.coordinateToPointTimestampDataIndexFlag()){var u=(null===(r=s.getPaneById(Xe.XAXIS))||void 0===r?void 0:r.getAxisComponent()).convertFromPixel(n.x),d=null!==(i=c.dataIndexToTimestamp(u))&&void 0!==i?i:void 0;o.dataIndex=u,o.timestamp=d}if(this.coordinateToPointValueFlag()){var h=a.getAxisComponent(),f=h.convertFromPixel(n.y);if(t.mode!==e.OverlayMode.Normal&&l===Xe.CANDLE&&void 0!==o.dataIndex){var p=c.getDataByDataIndex(o.dataIndex);if(null!==p)if(f>p.high)if(t.mode===e.OverlayMode.WeakMagnet){var v=h.convertToPixel(p.high);h.convertFromPixel(v-8)>f&&(f=p.high)}else f=p.high;else if(p.low>f)if(t.mode===e.OverlayMode.WeakMagnet){var g=h.convertToPixel(p.low);f>h.convertFromPixel(g-8)&&(f=p.low)}else f=p.low;else{var m=Math.max(p.open,p.close),y=Math.min(p.open,p.close);f=f>m?p.high-f>f-m?m:p.high:y>f?y-f>f-p.low?p.low:y:f-y>m-f?m:y}}o.value=f}return o},n.prototype.coordinateToPointValueFlag=function(){return!0},n.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},n.prototype.dispatchEvent=function(e,n,r){return this.getWidget().getPane().getChart().getChartStore().getOverlayStore().isDrawing()?this.onEvent(e,n,r):t.prototype.dispatchEvent.call(this,e,n,r)},n.prototype.checkEventOn=function(){return!0},n.prototype.drawImp=function(e){var t,n=this,r=this.getWidget(),i=r.getPane(),o=i.getId(),a=i.getChart(),s=i.getAxisComponent(),l=null===(t=a.getPaneById(Xe.XAXIS))||void 0===t?void 0:t.getAxisComponent(),c=r.getBounding(),u=a.getChartStore(),d=u.getCustomApi(),h=u.getTimeScaleStore(),f=h.getDateTimeFormat(),p=h.getBarSpace(),v=u.getPrecision(),g=u.getStyles().overlay,m=u.getOverlayStore(),y=m.getHoverInstanceInfo(),x=m.getClickInstanceInfo();this.getCompleteOverlays(m,o).forEach((function(t){t.visible&&n._drawOverlay(e,t,c,p,v,f,d,g,l,s,y,x,h)}));var b=m.getProgressInstanceInfo();if(null!==b){var _=this.getProgressOverlay(b,o);null!==_&&_.visible&&this._drawOverlay(e,_,c,p,v,f,d,g,l,s,y,x,h)}},n.prototype._drawOverlay=function(e,t,n,r,i,o,a,s,l,c,u,d,h){var f=t.points.map((function(e){var t,n,r=e.dataIndex;void 0!==e.timestamp&&(r=h.timestampToDataIndex(e.timestamp));var i={x:0,y:0};return void 0!==r&&(i.x=null!==(t=null==l?void 0:l.convertToPixel(r))&&void 0!==t?t:0),void 0!==e.value&&(i.y=null!==(n=null==c?void 0:c.convertToPixel(e.value))&&void 0!==n?n:0),i}));if(f.length>0){var p=[].concat(this.getFigures(t,f,n,r,i,o,s,l,c));this.drawFigures(e,t,p,s)}this.drawDefaultFigures(e,t,f,n,i,o,a,s,l,c,u,d)},n.prototype.drawFigures=function(e,t,n,r){var i=this;n.forEach((function(n,o){var a=n.type,s=n.styles,l=n.ignoreEvent;[].concat(n.attrs).forEach((function(c,u){var d,h,f,p=i._createFigureEvents(t,2,null!==(d=n.key)&&void 0!==d?d:"",o,u,l),v=D(D(D({},r[a]),null===(h=t.styles)||void 0===h?void 0:h[a]),s);null===(f=i.createFigure(a,c,v,p))||void 0===f||f.draw(e)}))}))},n.prototype.getCompleteOverlays=function(e,t){return e.getInstances(t)},n.prototype.getProgressOverlay=function(e,t){return e.paneId===t?e.instance:null},n.prototype.getFigures=function(e,t,n,r,i,o,a,s,l){var c,u;return null!==(u=null===(c=e.createPointFigures)||void 0===c?void 0:c.call(e,{overlay:e,coordinates:t,bounding:n,barSpace:r,precision:i,dateTimeFormat:o,defaultStyles:a,xAxis:s,yAxis:l}))&&void 0!==u?u:[]},n.prototype.drawDefaultFigures=function(e,t,n,r,i,o,a,s,l,c,u,d){var h,f,p=this;if(t.needDefaultPointFigure&&((null===(h=u.instance)||void 0===h?void 0:h.id)===t.id&&0!==u.figureType||(null===(f=d.instance)||void 0===f?void 0:f.id)===t.id&&0!==d.figureType)){var v=t.styles,g=D(D({},s.point),null==v?void 0:v.point);n.forEach((function(n,r){var i,o,a,s=n.x,l=n.y,c=g.radius,d=g.color,h=g.borderColor,f=g.borderSize;(null===(i=u.instance)||void 0===i?void 0:i.id)===t.id&&1===u.figureType&&u.figureIndex===r&&(c=g.activeRadius,d=g.activeColor,h=g.activeBorderColor,f=g.activeBorderSize),null===(o=p.createFigure("circle",{x:s,y:l,r:c+f},{color:h},p._createFigureEvents(t,1,"".concat(be,"point_").concat(r),r,0)))||void 0===o||o.draw(e),null===(a=p.createFigure("circle",{x:s,y:l,r:c},{color:d}))||void 0===a||a.draw(e)}))}},n}(kt),Ot=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._gridView=new Tt(r),r._indicatorView=new At(r),r._crosshairLineView=new Mt(r),r._tooltipView=r.createTooltipView(),r._overlayView=new Dt(r),r.addChild(r._tooltipView),r.addChild(r._overlayView),r.getContainer().style.cursor="crosshair",r.registerEvent("mouseMoveEvent",(function(){return n.getChart().getChartStore().getTooltipStore().setActiveIconInfo(),!1})),r}return M(t,e),t.prototype.getName=function(){return We},t.prototype.updateMain=function(e){this.updateMainContent(e),this._indicatorView.draw(e),this._gridView.draw(e)},t.prototype.createTooltipView=function(){return new Ft(this)},t.prototype.updateMainContent=function(e){},t.prototype.updateOverlay=function(e){this._overlayView.draw(e),this._crosshairLineView.draw(e),this._tooltipView.draw(e)},t}(rt),Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.drawImp=function(e){var t,n,i=this.getWidget(),o=i.getPane(),s=o.getChart(),l=i.getBounding(),c=o.getAxisComponent(),u=s.getStyles().candle.area,d=[],h=[],f=Number.MAX_SAFE_INTEGER;this.eachChildren((function(e,t,n){var r=e.x,i=t.halfGapBar,o=e.data[u.value];if(a(o)){var s=c.convertToPixel(o);if(0===n){var p=r-i;h.push({x:p,y:l.height}),h.push({x:p,y:s}),d.push({x:p,y:s})}d.push({x:r,y:s}),h.push({x:r,y:s}),f=Math.min(f,s)}}));var p=h.length;if(p>0){var v=h[p-1],g=v.x;d.push({x:g,y:v.y}),h.push({x:g,y:v.y}),h.push({x:g,y:l.height})}if(d.length>0&&(null===(t=this.createFigure("line",{coordinates:d},{color:u.lineColor,size:u.lineSize}))||void 0===t||t.draw(e)),h.length>0){var m=u.backgroundColor,y=void 0;if(r(m)){var x=e.createLinearGradient(0,l.height,0,f);try{m.forEach((function(e){x.addColorStop(e.offset,e.color)}))}catch(e){}y=x}else y=m;null===(n=this.createFigure("polygon",{coordinates:h},{color:y}))||void 0===n||n.draw(e)}},t}(Pt),Rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.drawImp=function(e){var t=this.getWidget().getPane(),n=t.getChart().getChartStore(),r=n.getStyles().candle.priceMark,i=r.high,o=r.low,a=n.getCustomApi().formatNumber;if(r.show&&(i.show||o.show)){var s=n.getPrecision(),l=t.getAxisComponent(),c=Number.MIN_SAFE_INTEGER,u=0,d=Number.MAX_SAFE_INTEGER,h=0;this.eachChildren((function(e){var t=e.data,n=e.x;t.high>c&&(c=t.high,u=n),d>t.low&&(d=t.low,h=n)}));var f=l.convertToPixel(c),p=l.convertToPixel(d);i.show&&c!==Number.MIN_SAFE_INTEGER&&this._drawMark(e,T(c,s.price,a),{x:u,y:f},p>f?[-2,-5]:[2,5],i),o.show&&d!==Number.MAX_SAFE_INTEGER&&this._drawMark(e,T(d,s.price,a),{x:h,y:p},p>f?[2,5]:[-2,-5],o)}},t.prototype._drawMark=function(e,t,n,r,i){var o,a,s,l,c,u,d=n.x,h=n.y+r[0];null===(o=this.createFigure("line",{coordinates:[{x:d-2,y:h+r[0]},{x:d,y:h},{x:d+2,y:h+r[0]}]},{color:i.color}))||void 0===o||o.draw(e),d>this.getWidget().getBounding().width/2?(c=(l=d-5)-i.textOffset,u="right"):(u="left",c=(l=d+5)+i.textOffset);var f=h+r[1];null===(a=this.createFigure("line",{coordinates:[{x:d,y:h},{x:d,y:f},{x:l,y:f}]},{color:i.color}))||void 0===a||a.draw(e),null===(s=this.createFigure("text",{x:c,y:f,text:t,align:u,baseline:"middle"},{color:i.color,size:i.textSize,family:i.textFamily,weight:i.textWeight}))||void 0===s||s.draw(e)},t}(Pt),Nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.drawImp=function(e){var t,n=this.getWidget(),r=n.getPane(),i=n.getBounding(),o=r.getChart().getChartStore(),a=o.getStyles().candle.priceMark,s=a.last,l=s.line;if(a.show&&s.show&&l.show){var c=r.getAxisComponent(),u=o.getDataList(),d=u[u.length-1];if(null!=d){var h=d.close,f=d.open,p=c.convertToNicePixel(h);null===(t=this.createFigure("line",{coordinates:[{x:0,y:p},{x:i.width,y:p}]},{style:l.style,color:h>f?s.upColor:f>h?s.downColor:s.noChangeColor,size:l.size,dashedValue:l.dashedValue}))||void 0===t||t.draw(e)}}},t}(kt),Bt={"zh-CN":{time:"\u65f6\u95f4\uff1a",open:"\u5f00\uff1a",high:"\u9ad8\uff1a",low:"\u4f4e\uff1a",close:"\u6536\uff1a",volume:"\u6210\u4ea4\u91cf\uff1a"},"en-US":{time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: "}};function Vt(e,t){var n,r;return null!==(r=null===(n=Bt[t])||void 0===n?void 0:n[e])&&void 0!==r?r:e}var Wt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return M(n,t),n.prototype.drawImp=function(t){var n,r=this.getWidget(),i=r.getPane(),o=i.getId(),a=i.getChart().getChartStore(),s=a.getCrosshairStore().get();if(void 0!==s.kLineData){var l=r.getBounding(),c=null===(n=i.getYAxisWidget())||void 0===n?void 0:n.getBounding(),u=a.getDataList(),d=a.getPrecision(),h=a.getLocale(),f=a.getCustomApi(),p=a.getTooltipStore().getActiveIconInfo(),v=a.getIndicatorStore().getInstances(i.getId()),g=a.getTimeScaleStore().getDateTimeFormat(),m=a.getStyles(),y=m.candle,x=m.indicator;if(y.tooltip.showType===e.TooltipShowType.Rect&&x.tooltip.showType===e.TooltipShowType.Rect){var b=this.isDrawTooltip(s,y.tooltip),_=this.isDrawTooltip(s,x.tooltip);this._drawRectTooltip(t,u,v,l,c,s,d,g,h,f,b,_,m,0)}else if(y.tooltip.showType===e.TooltipShowType.Standard&&x.tooltip.showType===e.TooltipShowType.Standard){var w=this._drawCandleStandardTooltip(t,u,o,l,s,p,d,g,h,f,y);this.drawIndicatorTooltip(t,o,u,s,p,v,f,l,x,w.top,w.values)}else if(y.tooltip.showType===e.TooltipShowType.Rect&&x.tooltip.showType===e.TooltipShowType.Standard){var C=this.drawIndicatorTooltip(t,o,u,s,p,v,f,l,x,0);b=this.isDrawTooltip(s,y.tooltip),this._drawRectTooltip(t,u,v,l,c,s,d,g,h,f,b,!1,m,C)}else{var S=this._drawCandleStandardTooltip(t,u,o,l,s,p,d,g,h,f,y).top;_=this.isDrawTooltip(s,x.tooltip),this._drawRectTooltip(t,u,v,l,c,s,d,g,h,f,!1,_,m,S)}}},n.prototype._drawCandleStandardTooltip=function(e,t,n,r,i,o,a,s,l,c,u){var d,h,f,p=u.tooltip,v=p.text,g=0;if(this.isDrawTooltip(i,p)){var m=null!==(d=i.dataIndex)&&void 0!==d?d:0,y=this._getCandleTooltipData({prev:null!==(h=t[m-1])&&void 0!==h?h:null,current:i.kLineData,next:null!==(f=t[m+1])&&void 0!==f?f:null},a,s,l,c,u),x=this.getTooltipOptions();if(null==x?void 0:x.tooltipFn)return{top:0,values:y};var b=0,_=0,w=0,C=N(this.classifyTooltipIcons(p.icons),3),S=C[1],E=C[2],k=N(this.drawStandardTooltipIcons(e,r,{paneId:n,indicatorName:"",iconId:""},o,C[0],b,_,0),4);g+=k[3];var T=N(this.drawStandardTooltipIcons(e,r,{paneId:n,indicatorName:"",iconId:""},o,S,b=k[0],_=k[1],w=k[2]),4);if(b=T[0],_=T[1],g+=T[3],w=T[2],y.length>0){var P=N(this.drawStandardTooltipLabels(e,r,y,b,_,w,v),4);b=P[0],_=P[1],g+=P[3],w=P[2]}var I=N(this.drawStandardTooltipIcons(e,r,{paneId:n,indicatorName:"",iconId:""},o,E,b,_,w),4);b=I[0],_=I[1],g+=I[3],w=I[2]}return{top:g,values:[]}},n.prototype._drawRectTooltip=function(t,n,r,i,o,a,s,l,c,u,d,h,f,p){var v,g,m,y,x,b=this,_=f.candle,w=f.indicator,C=_.tooltip,S=w.tooltip;if(d||h){var E=null!==(v=a.dataIndex)&&void 0!==v?v:0,k=this._getCandleTooltipData({prev:null!==(g=n[E-1])&&void 0!==g?g:null,current:a.kLineData,next:null!==(m=n[E+1])&&void 0!==m?m:null},s,l,c,u,_),T=C.text,P=T.marginLeft,I=T.marginRight,A=T.marginTop,M=T.marginBottom,F=T.size,D=T.weight,O=T.family,L=C.rect,R=L.paddingLeft,N=L.paddingRight,B=L.paddingTop,V=L.paddingBottom,W=L.offsetLeft,z=L.offsetRight,j=L.offsetTop,Y=L.borderSize,H=L.borderRadius,q=L.borderColor,X=L.color,$=0,K=0,G=0;d&&(t.font=U(F,D,O),k.forEach((function(e){var n=e.value,r="".concat(e.title.text).concat(n.text),i=t.measureText(r).width+P+I;$=Math.max($,i)})),G+=(M+A+F)*k.length);var Z=S.text,J=Z.marginLeft,Q=Z.marginRight,ee=Z.marginTop,te=Z.marginBottom,ne=Z.size,re=Z.weight,ie=Z.family,oe=[];if(h&&(t.font=U(ne,re,ie),r.forEach((function(e){var r,i=null!==(r=b.getIndicatorTooltipData(n,a,e,u,w).values)&&void 0!==r?r:[];oe.push(i),i.forEach((function(e){var n=e.value,r="".concat(e.title.text).concat(n.text),i=t.measureText(r).width+J+Q;$=Math.max($,i),G+=ee+te+ne}))}))),0!==(K+=$)&&0!==G){var ae;K+=2*Y+R+N,(null!==(y=a.realX)&&void 0!==y?y:0)<i.width/2?(ae=i.width-z-K,f.yAxis.inside&&f.yAxis.position===e.YAxisPosition.Right&&(ae-=o.width)):(ae=W,f.yAxis.inside&&f.yAxis.position===e.YAxisPosition.Left&&(ae+=o.width));var se=p+j;null===(x=this.createFigure("rect",{x:ae,y:se,width:K,height:G+=2*Y+B+V},{style:e.PolygonType.StrokeFill,color:X,borderColor:q,borderSize:Y,borderRadius:H}))||void 0===x||x.draw(t);var le=ae+Y+R+P,ce=se+Y+B;if(d&&k.forEach((function(e){var n,r,i=e.title;null===(n=b.createFigure("text",{x:le,y:ce+=A,text:i.text},{color:i.color,size:F,family:O,weight:D}))||void 0===n||n.draw(t);var o=e.value;null===(r=b.createFigure("text",{x:ae+K-Y-I-N,y:ce,text:o.text,align:"right"},{color:o.color,size:F,family:O,weight:D}))||void 0===r||r.draw(t),ce+=F+M})),h){var ue=ae+Y+R+J;oe.forEach((function(e){e.forEach((function(e){var n,r,i=e.title,o=e.value;null===(n=b.createFigure("text",{x:ue,y:ce+=ee,text:i.text},{color:i.color,size:ne,family:ie,weight:re}))||void 0===n||n.draw(t),null===(r=b.createFigure("text",{x:ae+K-Y-Q-N,y:ce,text:o.text,align:"right"},{color:o.color,size:ne,family:ie,weight:re}))||void 0===r||r.draw(t),ce+=ne+te}))}))}}}},n.prototype._getCandleTooltipData=function(t,n,r,a,s,l){var c,u,d,h=l.tooltip,f=h.text.color,v=[];if(i(h.custom))(null!==(u=null===(c=h.custom)||void 0===c?void 0:c.call(h,t,l))&&void 0!==u?u:[]).forEach((function(e){var t=e.title,n=e.value,r={text:"",color:""};o(t)?r=t:(r.text=t,r.color=f),r.text=Vt(r.text,a);var i={text:"",color:""};o(n)?i=n:(i.text=n,i.color=f),v.push({title:r,value:i})}));else{var g=n.price,m=n.volume,y=t.current;v=[{title:{text:Vt("time",a),color:f},value:{text:s.formatDate(r,y.timestamp,"YYYY-MM-DD HH:mm",e.FormatDateType.Tooltip),color:f}},{title:{text:Vt("open",a),color:f},value:{text:p(y.open,g),color:f}},{title:{text:Vt("high",a),color:f},value:{text:p(y.high,g),color:f}},{title:{text:Vt("low",a),color:f},value:{text:p(y.low,g),color:f}},{title:{text:Vt("close",a),color:f},value:{text:p(y.close,g),color:f}},{title:{text:Vt("volume",a),color:f},value:{text:s.formatBigNumber(p(null!==(d=y.volume)&&void 0!==d?d:h.defaultValue,m),s.formatNumber),color:f}}]}return v},n}(Ft),zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.drawImp=function(e){var t,n,r,i,o,a=this.getWidget().getPane(),s=a.getChart().getChartStore(),l=s.getStyles().logo,c=s.getLogo(),u=a.getBounding().height;c&&e.drawImage(c,null!==(t=null==l?void 0:l.left)&&void 0!==t?t:0,u-(null!==(n=null==l?void 0:l.height)&&void 0!==n?n:0)-(null!==(r=null==l?void 0:l.bottom)&&void 0!==r?r:0),null!==(i=l.width)&&void 0!==i?i:0,null!==(o=l.height)&&void 0!==o?o:0)},t}(kt),jt=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r._candleBarView=new It(r),r._candleAreaView=new Lt(r),r._candleHighLowPriceView=new Rt(r),r._candleLastPriceLineView=new Nt(r),r._logoView=new zt(r),r.addChild(r._candleBarView),r}return M(n,t),n.prototype.updateMainContent=function(t){var n=this.getPane().getChart().getStyles().candle;this._logoView.draw(t),n.type!==e.CandleType.Area?(this._candleBarView.draw(t),this._candleHighLowPriceView.draw(t),this._candleLastPriceLineView.draw(t)):this._candleAreaView.draw(t)},n.prototype.createTooltipView=function(){return new Wt(this)},n}(Ot),Yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.drawImp=function(e){var t,n=this,r=this.getWidget(),i=r.getPane(),o=r.getBounding(),a=i.getAxisComponent(),s=this.getAxisStyles(i.getChart().getStyles());if(s.show){s.axisLine.show&&(null===(t=this.createFigure("line",this.createAxisLine(o,s),s.axisLine))||void 0===t||t.draw(e));var l=a.getTicks();s.tickLine.show&&this.createTickLines(l,o,s).forEach((function(t){var r;null===(r=n.createFigure("line",t,s.tickLine))||void 0===r||r.draw(e)})),s.tickText.show&&this.createTickTexts(l,o,s).forEach((function(t){var r;null===(r=n.createFigure("text",t,s.tickText))||void 0===r||r.draw(e)}))}},t}(kt),Ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.getAxisStyles=function(e){return e.yAxis},t.prototype.createAxisLine=function(e,t){var n,r=this.getWidget().getPane().getAxisComponent(),i=t.axisLine.size;return{coordinates:[{x:n=r.isFromZero()?i/2:e.width-i,y:0},{x:n,y:e.height}]}},t.prototype.createTickLines=function(e,t,n){var r=this.getWidget().getPane().getAxisComponent(),i=n.axisLine,o=n.tickLine,a=0,s=0;return r.isFromZero()?(a=0,i.show&&(a+=i.size),s=a+o.length):(a=t.width,i.show&&(a-=i.size),s=a-o.length),e.map((function(e){return{coordinates:[{x:a,y:e.coord},{x:s,y:e.coord}]}}))},t.prototype.createTickTexts=function(e,t,n){var r=this.getWidget().getPane().getAxisComponent(),i=n.axisLine,o=n.tickLine,a=n.tickText,s=0;r.isFromZero()?(s=a.marginStart,i.show&&(s+=i.size),o.show&&(s+=o.length)):(s=t.width-a.marginEnd,i.show&&(s-=i.size),o.show&&(s-=o.length));var l=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return e.map((function(e){return{x:s,y:e.coord,text:e.text,align:l,baseline:"middle"}}))},t}(Yt),Ut=function(t){function n(e){var n=t.call(this,e)||this;return n.animation(),n}return M(n,t),n.prototype.animation=function(){var e=this;et((function(){e._ctx&&e.drawImp(e._ctx),e.animation()}))},n.prototype.setCtx=function(e){this._ctx=e},n.prototype.drawImp=function(t){var n,r,i,o=this.getWidget(),a=o.getPane(),s=o.getBounding(),l=a.getChart().getChartStore(),c=l.getStyles().candle.priceMark,u=c.last,d=u.text;if(c.show&&u.show&&d.show){var h=l.getPrecision(),f=l.getInterval(),p=l.getShowCountDown(),v=a.getAxisComponent(),g=l.getDataList(),m=l.getVisibleDataList(),y=g[g.length-1];if(void 0!==y){var x=y.close,b=y.open,_=y.timestamp,w=v.convertToNicePixel(x),C=void 0;C=x>b?u.upColor:b>x?u.downColor:u.noChangeColor;var S=void 0;if(v.getType()===e.YAxisType.Percentage){var E=m[0].data.close;S="".concat(l.getCustomApi().formatPercent(((x-E)/E*100).toFixed(2)))}else S=T(x,h.price,l.getCustomApi().formatNumber);var k=void 0,I=void 0;if(v.isFromZero()?(k=0,I="left"):(k=s.width,I="right"),p&&1!==f){var A=P(_,(g[g.length-2]||{}).timestamp,f),M=A.isValid,F=A.text,O=M?Math.max(t.measureText(S).width,t.measureText(F).width):void 0;null===(n=this.createFigure("rectText",{x:k,y:w,text:S,align:I,baseline:"middle"},D(D({},d),{backgroundColor:C,textWidth:O})))||void 0===n||n.draw(t),M&&(null===(r=this.createFigure("rectText",{x:k,y:w+16,text:F,align:I,baseline:"middle"},D(D({},d),{backgroundColor:C,textWidth:O})))||void 0===r||r.draw(t))}else null===(i=this.createFigure("rectText",{x:k,y:w,text:S,align:I,baseline:"middle"},D(D({},d),{backgroundColor:C})))||void 0===i||i.draw(t)}}},n}(kt),qt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.drawImp=function(e){var t=this,n=this.getWidget(),r=n.getPane(),i=n.getBounding(),o=r.getChart().getChartStore(),a=o.getCustomApi(),l=o.getStyles().indicator,c=l.lastValueMark,u=c.text;if(c.show){var d=r.getAxisComponent(),h=o.getDataList(),f=h.length-1;o.getIndicatorStore().getInstances(r.getId()).forEach((function(n){var r=n.result[f];if(void 0!==r&&n.visible){var o=n.precision;ie(h,n,f,l,(function(l,c){var h,f=r[l.key];if(s(f)){var v=d.convertToNicePixel(f),g=p(f,o);g=n.shouldFormatBigNumber?a.formatBigNumber(g,E):a.formatNumber(g);var m=void 0,y=void 0;d.isFromZero()?(m=0,y="left"):(m=i.width,y="right"),null===(h=t.createFigure("rectText",{x:m,y:v,text:g,align:y,baseline:"middle"},D(D({},u),{backgroundColor:c.color})))||void 0===h||h.draw(e)}}))}}))}},t}(kt),Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},t.prototype.drawDefaultFigures=function(e,t,n,r,i,o,a,s,l,c,u,d){this.drawFigures(e,t,this.getDefaultFigures(t,n,r,i,o,a,l,c,d),s)},t.prototype.getDefaultFigures=function(e,t,n,r,i,o,a,s,l){var c,u,d=[];if(e.needDefaultYAxisFigure&&e.id===(null===(c=l.instance)||void 0===c?void 0:c.id)&&l.paneId===this.getWidget().getPane().getId()){var h,f,p=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;null!==(u=null==s?void 0:s.isFromZero())&&void 0!==u&&u?(h="left",f=0):(h="right",f=n.width),t.forEach((function(t,n){var i=e.points[n];if(void 0!==i.value){p=Math.min(p,t.y),v=Math.max(v,t.y);var a=T(i.value,r.price,o.formatNumber);d.push({type:"rectText",attrs:{x:f,y:t.y,text:a,align:h,baseline:"middle"},ignoreEvent:!0})}})),t.length>1&&d.unshift({type:"rect",attrs:{x:0,y:p,width:n.width,height:v-p},ignoreEvent:!0})}return d},t.prototype.getFigures=function(e,t,n,r,i,o,a,s,l){var c,u;return null!==(u=null===(c=e.createYAxisFigures)||void 0===c?void 0:c.call(e,{overlay:e,coordinates:t,bounding:n,barSpace:r,precision:i,dateTimeFormat:o,defaultStyles:a,xAxis:s,yAxis:l}))&&void 0!==u?u:[]},t}(Dt),$t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return M(n,t),n.prototype.drawImp=function(e){var t,n=this.getWidget(),r=n.getPane(),i=n.getBounding(),o=n.getPane().getChart().getChartStore(),a=o.getCrosshairStore().get(),s=o.getStyles().crosshair;if(void 0!==a.paneId&&this.compare(a,r.getId())&&s.show){var l=this.getDirectionStyles(s),c=l.text;if(l.show&&c.show){var u=r.getAxisComponent(),d=this.getText(a,o,u);e.font=U(c.size,c.weight,c.family),null===(t=this.createFigure("rectText",this.getTextAttrs(d,e.measureText(d).width,a,i,u,c),c))||void 0===t||t.draw(e)}}},n.prototype.compare=function(e,t){return e.paneId===t},n.prototype.getDirectionStyles=function(e){return e.horizontal},n.prototype.getText=function(t,n,r){var i,o,a,s=r,l=r.convertFromPixel(t.y);if(s.getType()===e.YAxisType.Percentage){var c=null!==(o=null===(i=n.getVisibleDataList()[0])||void 0===i?void 0:i.data)&&void 0!==o?o:{};a="".concat(n.getCustomApi().formatPercent(((l-c.close)/c.close*100).toFixed(2)))}else{var u=n.getIndicatorStore().getInstances(t.paneId),d=0,h=!1;s.isInCandle()?d=n.getPrecision().price:u.forEach((function(e){d=Math.max(e.precision,d),h||(h=e.shouldFormatBigNumber)})),a=p(l,d);var f=n.getCustomApi();a=h?f.formatBigNumber(a,f.formatNumber):f.formatNumber(a)}return a},n.prototype.getTextAttrs=function(e,t,n,r,i,o){var a,s;return i.isFromZero()?(a=0,s="left"):(a=r.width,s="right"),{x:a,y:n.y,text:e,align:s,baseline:"middle"}},n}(kt),Kt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._yAxisView=new Ht(r),r._candleLastPriceLabelView=new Ut(r),r._indicatorLastValueView=new qt(r),r._overlayYAxisView=new Xt(r),r._crosshairHorizontalLabelView=new $t(r),r.getContainer().style.cursor="ns-resize",r.addChild(r._overlayYAxisView),r}return M(t,e),t.prototype.getName=function(){return je},t.prototype.updateMain=function(e){this._yAxisView.draw(e),this.getPane().getAxisComponent().isInCandle()&&(this._candleLastPriceLabelView.setCtx(e),this._candleLastPriceLabelView.draw(e)),this._indicatorLastValueView.draw(e)},t.prototype.updateOverlay=function(e){this._overlayYAxisView.draw(e),this._crosshairHorizontalLabelView.draw(e)},t}(rt),Gt=function(){function e(e){this._extremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._prevExtremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._ticks=[],this._autoCalcTickFlag=!0,this._parent=e}return e.prototype.getParent=function(){return this._parent},e.prototype.buildTicks=function(e){return this._autoCalcTickFlag&&(this._extremum=this.calcExtremum()),!(this._prevExtremum.min===this._extremum.min&&this._prevExtremum.max===this._extremum.max&&!e)&&(this._prevExtremum=this._extremum,this._ticks=this.optimalTicks(this._calcTicks()),!0)},e.prototype.getTicks=function(){return this._ticks},e.prototype.setExtremum=function(e){this._autoCalcTickFlag=!1,this._extremum=e},e.prototype.getExtremum=function(){return this._extremum},e.prototype.setAutoCalcTickFlag=function(e){this._autoCalcTickFlag=e},e.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},e.prototype._calcTicks=function(){var e=this._extremum,t=e.realMin,n=e.realMax,r=e.realRange,i=[];if(r>=0){var o=N(this._calcTickInterval(r),2),a=o[0],s=o[1],l=$(Math.ceil(t/a)*a,s),c=$(Math.floor(n/a)*a,s),u=0,d=l;if(0!==a)for(;c>=d;){var h=d.toFixed(s);i[u]={text:h,coord:0,value:h},++u,d+=a}}return i},e.prototype._calcTickInterval=function(e){var t,n,r,i,o=(n=Math.floor(G(t=e/8)),t=(1.5>(i=t/(r=Z(n)))?1:2.5>i?2:3.5>i?3:4.5>i?4:5.5>i?5:6.5>i?6:8)*r,-20>n?t:+t.toFixed(0>n?-n:0)),a=function(e){var t=""+e,n=t.indexOf("e");if(n>0){var r=+t.slice(n+1);return 0>r?-r:0}var i=t.indexOf(".");return 0>i?0:t.length-1-i}(o);return[o,a]},e}(),Zt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return M(n,t),n.prototype.calcExtremum=function(){var t,n,r,i,o,a=this.getParent(),l=a.getChart(),c=l.getChartStore(),u=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER,h=[],f=!1,p=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER;c.getIndicatorStore().getInstances(a.getId()).forEach((function(e){var t,n,r;f||(f=null!==(t=e.shouldOhlc)&&void 0!==t&&t),g=Math.min(g,e.precision),null!==e.minValue&&(p=Math.min(p,e.minValue)),null!==e.maxValue&&(v=Math.max(v,e.maxValue)),h.push({figures:null!==(n=e.figures)&&void 0!==n?n:[],result:null!==(r=e.result)&&void 0!==r?r:[]})}));var m=4,y=this.isInCandle();if(y){var x=c.getPrecision().price;m=g!==Number.MAX_SAFE_INTEGER?Math.min(g,x):x}else g!==Number.MAX_SAFE_INTEGER&&(m=g);var b=c.getVisibleDataList(),_=l.getStyles().candle,w=_.type===e.CandleType.Area,C=_.area.value,S=y&&!w||!y&&f;b.forEach((function(e){var t=e.dataIndex,n=e.data;if(S&&(u=Math.min(u,n.low),d=Math.max(d,n.high)),y&&w){var r=n[C];u=Math.min(u,r),d=Math.max(d,r)}h.forEach((function(e){var n,r=null!==(n=e.result[t])&&void 0!==n?n:{};e.figures.forEach((function(e){var t=r[e.key];s(t)&&(u=Math.min(u,t),d=Math.max(d,t))}))}))})),u!==Number.MAX_SAFE_INTEGER&&d!==Number.MIN_SAFE_INTEGER?(u=Math.min(p,u),d=Math.max(v,d)):(u=0,d=10);var E,k=this.getType();switch(k){case e.YAxisType.Percentage:var T=null===(t=b[0])||void 0===t?void 0:t.data;void 0!==(null==T?void 0:T.close)&&(u=(u-T.close)/T.close*100,d=(d-T.close)/T.close*100),E=.01;break;case e.YAxisType.Log:u=G(u),d=G(d),E=.05*Z(-m);break;default:E=Z(-m)}if(u===d||E>Math.abs(u-d)){var P=p===u,I=v===d;u=P?u:I?u-8*E:u-4*E,d=I?d:P?d+8*E:d+4*E}var A=null!==(r=null===(n=this.getParent().getYAxisWidget())||void 0===n?void 0:n.getBounding().height)&&void 0!==r?r:0,M=a.getOptions().gap,F=null!==(i=null==M?void 0:M.top)&&void 0!==i?i:.2;1>F||(F/=A);var D=null!==(o=null==M?void 0:M.bottom)&&void 0!==o?o:.1;1>D||(D/=A);var O,L,R,N=Math.abs(d-u);return N=Math.abs((d+=N*F)-(u-=N*D)),k===e.YAxisType.Log?(O=Z(u),L=Z(d),R=Math.abs(L-O)):(O=u,L=d,R=N),{min:u,max:d,range:N,realMin:O,realMax:L,realRange:R}},n.prototype._innerConvertToPixel=function(e){var t,n,r=null!==(n=null===(t=this.getParent().getYAxisWidget())||void 0===t?void 0:t.getBounding().height)&&void 0!==n?n:0,i=this.getExtremum(),o=(e-i.min)/i.range;return this.isReverse()?Math.round(o*r):Math.round((1-o)*r)},n.prototype.isInCandle=function(){return"candle"===this.getParent().getName()},n.prototype.getType=function(){return this.isInCandle()?this.getParent().getChart().getStyles().yAxis.type:e.YAxisType.Normal},n.prototype.getPosition=function(){return this.getParent().getChart().getStyles().yAxis.position},n.prototype.isReverse=function(){return!!this.isInCandle()&&this.getParent().getChart().getStyles().yAxis.reverse},n.prototype.isFromZero=function(){var t=this.getParent().getChart().getStyles().yAxis,n=t.inside;return t.position===e.YAxisPosition.Left&&n||t.position===e.YAxisPosition.Right&&!n},n.prototype.optimalTicks=function(t){var n,r,i=this,o=this.getParent(),a=null!==(r=null===(n=o.getYAxisWidget())||void 0===n?void 0:n.getBounding().height)&&void 0!==r?r:0,s=o.getChart().getChartStore(),l=s.getCustomApi(),c=[],u=this.getType(),d=s.getIndicatorStore().getInstances(o.getId()),h=0,f=!1;this.isInCandle()?h=s.getPrecision().price:d.forEach((function(e){h=Math.max(h,e.precision),f||(f=e.shouldFormatBigNumber)}));var v,g=s.getStyles().xAxis.tickText.size;return t.forEach((function(t){var n,r=t.value,o=i._innerConvertToPixel(+r);switch(u){case e.YAxisType.Percentage:n="".concat(l.formatPercent(p(r,2)));break;case e.YAxisType.Log:o=i._innerConvertToPixel(G(+r)),n=p(r,h);break;default:n=p(r,h),n=f?l.formatBigNumber(r,l.formatNumber):l.formatNumber(n)}o>g&&a-g>o&&(void 0!==v&&Math.abs(v-o)>2*g||void 0===v)&&(c.push({text:n,coord:o,value:r}),v=o)})),c},n.prototype.getAutoSize=function(){var t=this.getParent(),n=t.getChart(),r=n.getStyles(),i=r.yAxis,o=i.size;if("auto"!==o)return o;var a=n.getChartStore(),s=a.getCustomApi(),l=0;if(i.show&&(i.axisLine.show&&(l+=i.axisLine.size),i.tickLine.show&&(l+=i.tickLine.length),i.tickText.show)){var c=0;this.getTicks().forEach((function(e){c=Math.max(c,q(e.text,i.tickText.size,i.tickText.weight,i.tickText.family))})),l+=i.tickText.marginStart+i.tickText.marginEnd+c}var u=r.crosshair,d=0;if(u.show&&u.horizontal.show&&u.horizontal.text.show){var h=a.getIndicatorStore().getInstances(t.getId()),f=0,v=!1;h.forEach((function(e){f=Math.max(e.precision,f),v||(v=e.shouldFormatBigNumber)}));var g=2;if(this.getType()!==e.YAxisType.Percentage)if(this.isInCandle()){var m=a.getPrecision().price,y=r.indicator.lastValueMark;g=y.show&&y.text.show?Math.max(f,m):m}else g=f;var x=p(this.getExtremum().max,g);v&&(x=s.formatBigNumber(x,s.formatNumber)),d+=u.horizontal.text.paddingLeft+u.horizontal.text.paddingRight+2*u.horizontal.text.borderSize+q(x,u.horizontal.text.size,u.horizontal.text.weight,u.horizontal.text.family)}return Math.max(l,d)},n.prototype.convertFromPixel=function(t){var n,r,i,o=null!==(r=null===(n=this.getParent().getYAxisWidget())||void 0===n?void 0:n.getBounding().height)&&void 0!==r?r:0,a=this.getExtremum(),s=a.min,l=a.range,c=(this.isReverse()?t/o:1-t/o)*l+s;switch(this.getType()){case e.YAxisType.Percentage:var u=null===(i=this.getParent().getChart().getChartStore().getVisibleDataList()[0])||void 0===i?void 0:i.data;return void 0!==(null==u?void 0:u.close)?u.close*c/100+u.close:0;case e.YAxisType.Log:return Z(c);default:return c}},n.prototype.convertToRealValue=function(t){var n=t;return this.getType()===e.YAxisType.Log&&(n=Z(t)),n},n.prototype.convertToPixel=function(t){var n,r=t;switch(this.getType()){case e.YAxisType.Percentage:var i=null===(n=this.getParent().getChart().getChartStore().getVisibleDataList()[0])||void 0===n?void 0:n.data;void 0!==(null==i?void 0:i.close)&&(r=(t-i.close)/i.close*100);break;case e.YAxisType.Log:r=G(t);break;default:r=t}return this._innerConvertToPixel(r)},n.prototype.convertToNicePixel=function(e){var t,n,r=null!==(n=null===(t=this.getParent().getYAxisWidget())||void 0===t?void 0:t.getBounding().height)&&void 0!==n?n:0,i=this.convertToPixel(e);return Math.round(Math.max(.05*r,Math.min(i,.98*r)))},n}(Gt),Jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.getName=function(){return"indicator"},t.prototype.createAxisComponent=function(){return new Zt(this)},t.prototype.createMainWidget=function(e){return new Ot(e,this)},t.prototype.createSeparatorWidget=function(e){return new Ue(e,this)},t.prototype.creatYAxisWidget=function(e){return new Kt(e,this)},t}($e),Qt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.getName=function(){return"candle"},t.prototype.createMainWidget=function(e){return new jt(e,this)},t.prototype.createSeparatorWidget=function(){return null},t}(Jt),en=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.getAxisStyles=function(e){return e.xAxis},t.prototype.createAxisLine=function(e,t){var n=t.axisLine.size/2;return{coordinates:[{x:0,y:n},{x:e.width,y:n}]}},t.prototype.createTickLines=function(e,t,n){var r=n.tickLine,i=n.axisLine.size;return e.map((function(e){return{coordinates:[{x:e.coord,y:0},{x:e.coord,y:i+r.length}]}}))},t.prototype.createTickTexts=function(e,t,n){var r=n.tickText,i=n.axisLine.size,o=n.tickLine.length;return e.map((function(e){return{x:e.coord,y:i+o+r.marginStart,text:e.text,align:"center",baseline:"top"}}))},t}(Yt),tn=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return M(n,t),n.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},n.prototype.coordinateToPointValueFlag=function(){return!1},n.prototype.getCompleteOverlays=function(e){return e.getInstances()},n.prototype.getProgressOverlay=function(e){return e.instance},n.prototype.getDefaultFigures=function(t,n,r,i,o,a,s,l,c){var u,d=[];if(t.needDefaultXAxisFigure&&t.id===(null===(u=c.instance)||void 0===u?void 0:u.id)){var h=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;n.forEach((function(n,r){h=Math.min(h,n.x),f=Math.max(f,n.x);var i=t.points[r];if(void 0!==i.timestamp){var s=a.formatDate(o,i.timestamp,"YYYY-MM-DD HH:mm",e.FormatDateType.Crosshair);d.push({type:"rectText",attrs:{x:n.x,y:0,text:s,align:"center"},ignoreEvent:!0})}})),n.length>1&&d.unshift({type:"rect",attrs:{x:h,y:0,width:f-h,height:r.height},ignoreEvent:!0})}return d},n.prototype.getFigures=function(e,t,n,r,i,o,a,s,l){var c,u;return null!==(u=null===(c=e.createXAxisFigures)||void 0===c?void 0:c.call(e,{overlay:e,coordinates:t,bounding:n,barSpace:r,precision:i,dateTimeFormat:o,defaultStyles:a,xAxis:s,yAxis:l}))&&void 0!==u?u:[]},n}(Xt),nn=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return M(n,t),n.prototype.compare=function(e){return void 0!==e.kLineData&&e.dataIndex===e.realDataIndex},n.prototype.getDirectionStyles=function(e){return e.vertical},n.prototype.getText=function(t,n){var r,i=null===(r=t.kLineData)||void 0===r?void 0:r.timestamp;return n.getCustomApi().formatDate(n.getTimeScaleStore().getDateTimeFormat(),i,"YYYY-MM-DD HH:mm",e.FormatDateType.Crosshair)},n.prototype.getTextAttrs=function(e,t,n,r,i,o){var a=n.realX;return{x:0>a-t/2-o.paddingLeft?o.paddingLeft+t/2:a+t/2+o.paddingRight>r.width?r.width-o.paddingRight-t/2:a,y:0,text:e,align:"center",baseline:"top"}},n}($t),rn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._xAxisView=new en(r),r._overlayXAxisView=new tn(r),r._crosshairVerticalLabelView=new nn(r),r.getContainer().style.cursor="ew-resize",r.addChild(r._overlayXAxisView),r}return M(t,e),t.prototype.getName=function(){return ze},t.prototype.updateMain=function(e){this._xAxisView.draw(e)},t.prototype.updateOverlay=function(e){this._overlayXAxisView.draw(e),this._crosshairVerticalLabelView.draw(e)},t}(rt),on=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return M(n,t),n.prototype.calcExtremum=function(){var e=this.getParent().getChart().getChartStore().getTimeScaleStore().getVisibleRange(),t=e.from,n=e.to,r=n-1,i=n-t;return{min:t,max:r,range:i,realMin:t,realMax:r,realRange:i}},n.prototype.optimalTicks=function(t){var n,r,i=this.getParent().getChart(),o=i.getChartStore(),a=o.getCustomApi().formatDate,s=[],l=t.length,c=o.getDataList();if(l>0){var u=o.getTimeScaleStore().getDateTimeFormat(),d=i.getStyles().xAxis.tickText,h=q("00-00 00:00",d.size,d.weight,d.family),f=this.convertToPixel(parseInt(t[0].value,10)),p=1;if(l>1){var v=this.convertToPixel(parseInt(t[1].value,10)),g=Math.abs(v-f);h>g&&(p=Math.ceil(h/g))}for(var m=0;l>m;m+=p){var y=parseInt(t[m].value,10),x=c[y].timestamp,b=a(u,x,"HH:mm",e.FormatDateType.XAxis);0!==m&&(b=null!==(n=this._optimalTickLabel(a,u,x,c[parseInt(t[m-p].value,10)].timestamp))&&void 0!==n?n:b);var _=this.convertToPixel(y);s.push({text:b,coord:_,value:x})}if(1===s.length)s[0].text=a(u,s[0].value,"YYYY-MM-DD HH:mm",e.FormatDateType.XAxis);else{var w=s[0].value,C=s[1].value;if(void 0!==s[2]){var S=s[2].text;/^[0-9]{2}-[0-9]{2}$/.test(S)?s[0].text=a(u,w,"MM-DD",e.FormatDateType.XAxis):/^[0-9]{4}-[0-9]{2}$/.test(S)?s[0].text=a(u,w,"YYYY-MM",e.FormatDateType.XAxis):/^[0-9]{4}$/.test(S)&&(s[0].text=a(u,w,"YYYY",e.FormatDateType.XAxis))}else s[0].text=null!==(r=this._optimalTickLabel(a,u,w,C))&&void 0!==r?r:s[0].text}}return s},n.prototype._optimalTickLabel=function(t,n,r,i){var o=t(n,r,"YYYY",e.FormatDateType.XAxis),a=t(n,r,"YYYY-MM",e.FormatDateType.XAxis),s=t(n,r,"MM-DD",e.FormatDateType.XAxis);return o!==t(n,i,"YYYY",e.FormatDateType.XAxis)?o:a!==t(n,i,"YYYY-MM",e.FormatDateType.XAxis)?a:s!==t(n,i,"MM-DD",e.FormatDateType.XAxis)?s:null},n.prototype.getAutoSize=function(){var e=this.getParent().getChart().getStyles(),t=e.xAxis,n=t.size;if("auto"!==n)return n;var r=e.crosshair,i=0;t.show&&(t.axisLine.show&&(i+=t.axisLine.size),t.tickLine.show&&(i+=t.tickLine.length),t.tickText.show&&(i+=t.tickText.marginStart+t.tickText.marginEnd+t.tickText.size));var o=0;return r.show&&r.vertical.show&&r.vertical.text.show&&(o+=r.vertical.text.paddingTop+r.vertical.text.paddingBottom+2*r.vertical.text.borderSize+r.vertical.text.size),Math.max(i,o)},n.prototype.convertFromPixel=function(e){return this.getParent().getChart().getChartStore().getTimeScaleStore().coordinateToDataIndex(e)},n.prototype.convertToPixel=function(e){return this.getParent().getChart().getChartStore().getTimeScaleStore().dataIndexToCoordinate(e)},n}(Gt),an=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.getName=function(){return"xAxis"},t.prototype.createAxisComponent=function(){return new on(this)},t.prototype.createMainWidget=function(e){return new rn(e,this)},t}($e);function sn(){var e;return"undefined"!=typeof window&&(null!==(e=window.navigator.userAgent.toLowerCase().indexOf("firefox"))&&void 0!==e?e:-1)>-1}function ln(){return"undefined"!=typeof window&&/iPhone|iPad|iPod/.test(window.navigator.platform)}var cn,un=function(){function e(e,t,n){var r=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:-1/0,y:1/0},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:-1/0,y:1/0},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!ln(),this._onFirefoxOutsideMouseUp=function(e){r._mouseUpHandler(e)},this._onMobileSafariDoubleClick=function(e){r._firesTouchEvents(e)?(++r._tapCount,null!==r._tapTimeoutId&&r._tapCount>1&&(30>r._mouseTouchMoveWithDownInfo(r._getCoordinate(e),r._tapCoordinate).manhattanDistance&&!r._cancelTap&&r._processEvent(r._makeCompatEvent(e),r._handler.doubleTapEvent),r._resetTapTimeout())):(++r._clickCount,null!==r._clickTimeoutId&&r._clickCount>1&&(5>r._mouseTouchMoveWithDownInfo(r._getCoordinate(e),r._clickCoordinate).manhattanDistance&&!r._cancelClick&&r._processEvent(r._makeCompatEvent(e),r._handler.mouseDoubleClickEvent),r._resetClickTimeout()))},this._target=e,this._handler=t,this._options=n,this._init()}return e.prototype.destroy=function(){null!==this._unsubscribeOutsideMouseEvents&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),null!==this._unsubscribeOutsideTouchEvents&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),null!==this._unsubscribeMousemove&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),null!==this._unsubscribeMouseWheel&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),null!==this._unsubscribeContextMenu&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),null!==this._unsubscribeRootMouseEvents&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),null!==this._unsubscribeRootTouchEvents&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),null!==this._unsubscribeMobileSafariEvents&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},e.prototype._mouseEnterHandler=function(e){var t,n,r,i=this;null===(t=this._unsubscribeMousemove)||void 0===t||t.call(this),null===(n=this._unsubscribeMouseWheel)||void 0===n||n.call(this),null===(r=this._unsubscribeContextMenu)||void 0===r||r.call(this);var o=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){i._target.removeEventListener("mousemove",o)},this._target.addEventListener("mousemove",o);var a=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){i._target.removeEventListener("wheel",a)},this._target.addEventListener("wheel",a,{passive:!1});var s=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){i._target.removeEventListener("contextmenu",s)},this._target.addEventListener("contextmenu",s,{passive:!1}),this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},e.prototype._resetClickTimeout=function(){null!==this._clickTimeoutId&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:-1/0,y:1/0}},e.prototype._resetTapTimeout=function(){null!==this._tapTimeoutId&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:-1/0,y:1/0}},e.prototype._mouseMoveHandler=function(e){this._mousePressed||null!==this._touchMoveStartCoordinate||this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},e.prototype._mouseWheelHandler=function(e){if(Math.abs(e.deltaX)>Math.abs(e.deltaY)){if(void 0===this._handler.mouseWheelHortEvent)return;if(this._preventDefault(e),0===Math.abs(e.deltaX))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(e),-e.deltaX)}else{if(void 0===this._handler.mouseWheelVertEvent)return;var t=-e.deltaY/100;if(0===t)return;switch(this._preventDefault(e),e.deltaMode){case e.DOM_DELTA_PAGE:t*=120;break;case e.DOM_DELTA_LINE:t*=32}if(0!==t){var n=Math.sign(t)*Math.min(1,Math.abs(t));this._handler.mouseWheelVertEvent(this._makeCompatEvent(e),n)}}},e.prototype._contextMenuHandler=function(e){this._preventDefault(e)},e.prototype._touchMoveHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(null!==t&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(e),null===this._startPinchMiddleCoordinate&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var n=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._touchMoveStartCoordinate),r=n.yOffset;if(this._touchMoveExceededManhattanDistance||n.manhattanDistance>=5){if(!this._touchMoveExceededManhattanDistance){var i=.5*n.xOffset,o=r>=i&&!this._options.treatVertDragAsPageScroll(),a=i>r&&!this._options.treatHorzDragAsPageScroll();o||a||(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(e,t),this._handler.touchMoveEvent)}}},e.prototype._mouseMoveWithDownHandler=function(e){0===e.button&&(5>this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._mouseMoveStartCoordinate).manhattanDistance||(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(e),this._handler.pressedMouseMoveEvent))},e.prototype._mouseTouchMoveWithDownInfo=function(e,t){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return{xOffset:n,yOffset:r,manhattanDistance:n+r}},e.prototype._touchEndHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(null===t&&0===e.touches.length&&(t=e.changedTouches[0]),null!==t){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(e),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,null!==this._unsubscribeRootTouchEvents&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var n=this._makeCompatEvent(e,t);this._processEvent(n,this._handler.touchEndEvent),++this._tapCount,null!==this._tapTimeoutId&&this._tapCount>1?(30>this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._tapCoordinate).manhattanDistance&&!this._cancelTap&&this._processEvent(n,this._handler.doubleTapEvent),this._resetTapTimeout()):this._cancelTap||(this._processEvent(n,this._handler.tapEvent),void 0!==this._handler.tapEvent&&this._preventDefault(e)),0===this._tapCount&&this._preventDefault(e),0===e.touches.length&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(e))}},e.prototype._mouseUpHandler=function(e){if(0===e.button){var t=this._makeCompatEvent(e);this._mouseMoveStartCoordinate=null,this._mousePressed=!1,null!==this._unsubscribeRootMouseEvents&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),sn()&&this._target.ownerDocument.documentElement.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._firesTouchEvents(e)||(this._processEvent(t,this._handler.mouseUpEvent),++this._clickCount,null!==this._clickTimeoutId&&this._clickCount>1?(5>this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._clickCoordinate).manhattanDistance&&!this._cancelClick&&this._processEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(t,this._handler.mouseClickEvent))}},e.prototype._clearLongTapTimeout=function(){null!==this._longTapTimeoutId&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},e.prototype._touchStartHandler=function(e){if(null===this._activeTouchId){var t=e.changedTouches[0];this._activeTouchId=t.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(e);var n=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(t),null!==this._unsubscribeRootTouchEvents&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var r=this._touchMoveHandler.bind(this),i=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){n.removeEventListener("touchmove",r),n.removeEventListener("touchend",i)},n.addEventListener("touchmove",r,{passive:!1}),n.addEventListener("touchend",i,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,e),500),this._processEvent(this._makeCompatEvent(e,t),this._handler.touchStartEvent),null===this._tapTimeoutId&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),500),this._tapCoordinate=this._getCoordinate(t))}},e.prototype._mouseDownHandler=function(e){if(2===e.button)return this._preventDefault(e),void this._processEvent(this._makeCompatEvent(e),this._handler.mouseRightClickEvent);if(0===e.button){var t=this._target.ownerDocument.documentElement;sn()&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(e),null!==this._unsubscribeRootMouseEvents&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);var n=this._mouseMoveWithDownHandler.bind(this),r=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){t.removeEventListener("mousemove",n),t.removeEventListener("mouseup",r)},t.addEventListener("mousemove",n),t.addEventListener("mouseup",r),this._mousePressed=!0,this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseDownEvent),null===this._clickTimeoutId&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickCoordinate=this._getCoordinate(e)))}},e.prototype._init=function(){var e=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var t=this._target.ownerDocument,n=function(t){null!=e._handler.mouseDownOutsideEvent&&(t.composed&&e._target.contains(t.composedPath()[0])||null!==t.target&&e._target.contains(t.target)||e._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){t.removeEventListener("touchstart",n)},this._unsubscribeOutsideMouseEvents=function(){t.removeEventListener("mousedown",n)},t.addEventListener("mousedown",n),t.addEventListener("touchstart",n,{passive:!0}),ln()&&(this._unsubscribeMobileSafariEvents=function(){e._target.removeEventListener("dblclick",e._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",(function(e){if(1===e.button)return e.preventDefault(),!1})),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",(function(){}),{passive:!1})},e.prototype._initPinch=function(){var e=this;void 0===this._handler.pinchStartEvent&&void 0===this._handler.pinchEvent&&void 0===this._handler.pinchEndEvent||(this._target.addEventListener("touchstart",(function(t){return e._checkPinchState(t.touches)}),{passive:!0}),this._target.addEventListener("touchmove",(function(t){if(2===t.touches.length&&null!==e._startPinchMiddleCoordinate&&void 0!==e._handler.pinchEvent){var n=e._getTouchDistance(t.touches[0],t.touches[1])/e._startPinchDistance;e._handler.pinchEvent(D(D({},e._startPinchMiddleCoordinate),{pageX:0,pageY:0}),n),e._preventDefault(t)}}),{passive:!1}),this._target.addEventListener("touchend",(function(t){e._checkPinchState(t.touches)})))},e.prototype._checkPinchState=function(e){1===e.length&&(this._pinchPrevented=!1),2!==e.length||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(e)},e.prototype._startPinch=function(e){var t,n=null!==(t=this._target.getBoundingClientRect())&&void 0!==t?t:{left:0,top:0};this._startPinchMiddleCoordinate={x:(e[0].clientX-n.left+(e[1].clientX-n.left))/2,y:(e[0].clientY-n.top+(e[1].clientY-n.top))/2},this._startPinchDistance=this._getTouchDistance(e[0],e[1]),void 0!==this._handler.pinchStartEvent&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},e.prototype._stopPinch=function(){null!==this._startPinchMiddleCoordinate&&(this._startPinchMiddleCoordinate=null,void 0!==this._handler.pinchEndEvent&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},e.prototype._mouseLeaveHandler=function(e){var t,n,r;null===(t=this._unsubscribeMousemove)||void 0===t||t.call(this),null===(n=this._unsubscribeMouseWheel)||void 0===n||n.call(this),null===(r=this._unsubscribeContextMenu)||void 0===r||r.call(this),this._firesTouchEvents(e)||this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(e),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!ln())},e.prototype._longTapHandler=function(e){var t=this._touchWithId(e.touches,this._activeTouchId);null!==t&&(this._processEvent(this._makeCompatEvent(e,t),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},e.prototype._firesTouchEvents=function(e){var t;return void 0!==(null===(t=e.sourceCapabilities)||void 0===t?void 0:t.firesTouchEvents)?e.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(e)<this._lastTouchEventTimeStamp+500},e.prototype._processEvent=function(e,t){null==t||t.call(this._handler,e)},e.prototype._makeCompatEvent=function(e,t){var n,r=this,i=null!=t?t:e,o=null!==(n=this._target.getBoundingClientRect())&&void 0!==n?n:{left:0,top:0};return{x:i.clientX-o.left,y:i.clientY-o.top,pageX:i.pageX,pageY:i.pageY,isTouch:!e.type.startsWith("mouse")&&"contextmenu"!==e.type&&"click"!==e.type,preventDefault:function(){"touchstart"!==e.type&&r._preventDefault(e)}}},e.prototype._getTouchDistance=function(e,t){var n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)},e.prototype._preventDefault=function(e){e.cancelable&&e.preventDefault()},e.prototype._getCoordinate=function(e){return{x:e.pageX,y:e.pageY}},e.prototype._eventTimeStamp=function(e){var t;return null!==(t=e.timeStamp)&&void 0!==t?t:performance.now()},e.prototype._touchWithId=function(e,t){for(var n=0;e.length>n;++n)if(e[n].identifier===t)return e[n];return null},e}(),dn=function(){function e(e,t){var n=this;this._flingStartTime=(new Date).getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(e){if(e.shiftKey)switch(e.code){case"Equal":n._chart.getChartStore().getTimeScaleStore().zoom(.5);break;case"Minus":n._chart.getChartStore().getTimeScaleStore().zoom(-.5);break;case"ArrowLeft":(t=n._chart.getChartStore().getTimeScaleStore()).startScroll(),t.scroll(-3*t.getBarSpace().bar);break;case"ArrowRight":var t;(t=n._chart.getChartStore().getTimeScaleStore()).startScroll(),t.scroll(3*t.getBarSpace().bar)}},this._container=e,this._chart=t,this._event=new un(e,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),e.addEventListener("keydown",this._boundKeyBoardDownEvent)}return e.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},e.prototype.pinchEvent=function(e,t){var n=this._findWidgetByEvent(e),r=n.pane,i=n.widget;if((null==r?void 0:r.getId())!==Xe.XAXIS&&(null==i?void 0:i.getName())===We){var o=this._makeWidgetEvent(e,i),a=5*(t-this._pinchScale);return this._pinchScale=t,this._chart.getChartStore().getTimeScaleStore().zoom(a,{x:o.x,y:o.y}),!0}return!1},e.prototype.mouseWheelHortEvent=function(e,t){var n=this._chart.getChartStore().getTimeScaleStore();return n.startScroll(),n.scroll(t),!0},e.prototype.mouseWheelVertEvent=function(e,t){var n,r,i=this._findWidgetByEvent(e).widget,o=null!==(n=e.isTouch)&&void 0!==n&&n,a=this._makeWidgetEvent(e,i),s=null,l=null==i?void 0:i.getName();if(o)if(l===We||l===ze)s={x:a.x,y:a.y};else{var c=null===(r=this._chart.getPaneById(Xe.CANDLE))||void 0===r?void 0:r.getBounding();s={x:c.width/2,y:c.height/2}}else l===We&&(s={x:a.x,y:a.y});return null!==s&&(this._chart.getChartStore().getTimeScaleStore().zoom(t,{x:a.x,y:a.y}),!0)},e.prototype.mouseDownEvent=function(e){var t,n,r=this._findWidgetByEvent(e),i=r.pane,o=r.widget;if(this._mouseDownWidget=o,null!==o){var a=this._makeWidgetEvent(e,o);switch(o.getName()){case Ye:return o.dispatchEvent("mouseDownEvent",a);case We:var s=null!==(t=null==i?void 0:i.getAxisComponent().getExtremum())&&void 0!==t?t:null;return this._prevYAxisExtremum=null===s?s:D({},s),this._startScrollCoordinate={x:a.x,y:a.y},this._chart.getChartStore().getTimeScaleStore().startScroll(),o.dispatchEvent("mouseDownEvent",a);case ze:return(l=o.dispatchEvent("mouseDownEvent",a))&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:a.x,y:a.y},this._xAxisStartScaleDistance=a.pageX,l;case je:var l;return(l=o.dispatchEvent("mouseDownEvent",a))&&this._chart.updatePane(1),s=null!==(n=null==i?void 0:i.getAxisComponent().getExtremum())&&void 0!==n?n:null,this._prevYAxisExtremum=null===s?s:D({},s),this._yAxisStartScaleDistance=a.pageY,l}}return!1},e.prototype.mouseMoveEvent=function(e){var t,n,r,i=this._findWidgetByEvent(e),o=i.pane,a=i.widget,s=this._makeWidgetEvent(e,a);if((null===(t=this._mouseMoveTriggerWidgetInfo.pane)||void 0===t?void 0:t.getId())===(null==o?void 0:o.getId())&&(null===(n=this._mouseMoveTriggerWidgetInfo.widget)||void 0===n?void 0:n.getName())===(null==a?void 0:a.getName())||(null==a||a.dispatchEvent("mouseEnterEvent",s),null===(r=this._mouseMoveTriggerWidgetInfo.widget)||void 0===r||r.dispatchEvent("mouseLeaveEvent",s),this._mouseMoveTriggerWidgetInfo={pane:o,widget:a}),null!==a)switch(a.getName()){case We:var l=a.dispatchEvent("mouseMoveEvent",s),c=this._chart.getChartStore(),u={x:s.x,y:s.y,paneId:null==o?void 0:o.getId()};return l&&null!==c.getTooltipStore().getActiveIconInfo()&&(u=void 0,null!==a&&(a.getContainer().style.cursor="pointer")),this._chart.getChartStore().getCrosshairStore().set(u),l;case Ye:case ze:case je:return l=a.dispatchEvent("mouseMoveEvent",s),this._chart.getChartStore().getCrosshairStore().set(),l}return!1},e.prototype.pressedMouseMoveEvent=function(e){var t,n,r,i;if(null!==this._mouseDownWidget&&this._mouseDownWidget.getName()===Ye)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",e);var o=this._findWidgetByEvent(e),a=o.pane,s=o.widget;if(null!==s&&(null===(t=this._mouseDownWidget)||void 0===t?void 0:t.getPane().getId())===(null==a?void 0:a.getId())&&(null===(n=this._mouseDownWidget)||void 0===n?void 0:n.getName())===s.getName()){var l=this._makeWidgetEvent(e,s);switch(s.getName()){case We:var c=s.getBounding();if(!(y=s.dispatchEvent("pressedMouseMoveEvent",l))&&null!==this._startScrollCoordinate){var u=null==a?void 0:a.getAxisComponent();if(null!==this._prevYAxisExtremum&&!u.getAutoCalcTickFlag()){var d=this._prevYAxisExtremum,h=d.min,f=d.max+(_=(x=d.range)*(b=(null!==(r=null==u?void 0:u.isReverse())&&void 0!==r&&r?this._startScrollCoordinate.y-l.y:l.y-this._startScrollCoordinate.y)/c.height)),p=u.convertToRealValue(S=h+_),v=u.convertToRealValue(f);u.setExtremum({min:S,max:f,range:f-S,realMin:p,realMax:v,realRange:v-p})}var g=l.x-this._startScrollCoordinate.x;this._chart.getChartStore().getTimeScaleStore().scroll(g)}return this._chart.getChartStore().getCrosshairStore().set({x:l.x,y:l.y,paneId:null==a?void 0:a.getId()}),y;case ze:if(y=s.dispatchEvent("pressedMouseMoveEvent",l))this._chart.updatePane(1);else{var m=10*((b=this._xAxisStartScaleDistance/l.pageX)-this._xAxisScale);this._xAxisScale=b,this._chart.getChartStore().getTimeScaleStore().zoom(m,null!==(i=this._xAxisStartScaleCoordinate)&&void 0!==i?i:void 0)}return y;case je:var y;if(y=s.dispatchEvent("pressedMouseMoveEvent",l))this._chart.updatePane(1);else if(null!==this._prevYAxisExtremum){var x,b,_,w=this._prevYAxisExtremum,C=(x=w.range)*(b=l.pageY/this._yAxisStartScaleDistance),S=(h=w.min)-(_=(C-x)/2);f=w.max+_,p=(u=null==a?void 0:a.getAxisComponent()).convertToRealValue(S),v=u.convertToRealValue(f),u.setExtremum({min:S,max:f,range:C,realMin:p,realMax:v,realRange:v-p}),this._chart.adjustPaneViewport(!1,!0,!0,!0)}return y}}return!1},e.prototype.mouseUpEvent=function(e){var t=this._findWidgetByEvent(e).widget,n=!1;if(null!==t){var r=this._makeWidgetEvent(e,t);switch(t.getName()){case We:case Ye:case ze:case je:n=t.dispatchEvent("mouseUpEvent",r)}n&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,n},e.prototype.mouseClickEvent=function(e){var t=this._findWidgetByEvent(e).widget;if(null!==t){var n=this._makeWidgetEvent(e,t);return t.dispatchEvent("mouseClickEvent",n)}return!1},e.prototype.mouseRightClickEvent=function(e){var t=this._findWidgetByEvent(e).widget,n=!1;if(null!==t){var r=this._makeWidgetEvent(e,t);switch(t.getName()){case We:case ze:case je:n=t.dispatchEvent("mouseRightClickEvent",r)}n&&this._chart.updatePane(1)}return!1},e.prototype.mouseDoubleClickEvent=function(e){var t=this._findWidgetByEvent(e),n=t.pane,r=t.widget;if(null!==r)switch(r.getName()){case We:var i=this._makeWidgetEvent(e,r);return r.dispatchEvent("mouseDoubleClickEvent",i);case je:var o=null==n?void 0:n.getAxisComponent();if(!o.getAutoCalcTickFlag())return o.setAutoCalcTickFlag(!0),this._chart.adjustPaneViewport(!1,!0,!0,!0),!0}return!1},e.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().getCrosshairStore().set(),!0},e.prototype.touchStartEvent=function(e){var t=this._findWidgetByEvent(e),n=t.pane,r=t.widget;if(null!==r){var i=this._makeWidgetEvent(e,r);switch(r.getName()){case We:var o=this._chart.getChartStore(),a=o.getCrosshairStore();if(r.dispatchEvent("mouseDownEvent",i))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,a.set(void 0,!0),this._chart.updatePane(1),!0;if(null!==this._flingScrollRequestId&&(clearTimeout(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=(new Date).getTime(),this._startScrollCoordinate={x:i.x,y:i.y},o.getTimeScaleStore().startScroll(),this._touchZoomed=!1,null!==this._touchCoordinate){var s=i.x-this._touchCoordinate.x,l=i.y-this._touchCoordinate.y;10>Math.sqrt(s*s+l*l)?(this._touchCoordinate={x:i.x,y:i.y},a.set({x:i.x,y:i.y,paneId:null==n?void 0:n.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,a.set())}return!0;case ze:case je:var c=r.dispatchEvent("mouseDownEvent",i);return c&&this._chart.updatePane(1),c}}return!1},e.prototype.touchMoveEvent=function(e){var t,n,r,i=this._findWidgetByEvent(e),o=i.pane,a=i.widget;if(null!==a){var s=this._makeWidgetEvent(e,a),l=a.getName(),c=this._chart.getChartStore(),u=c.getCrosshairStore();switch(l){case We:if(a.dispatchEvent("pressedMouseMoveEvent",s))return null===(t=s.preventDefault)||void 0===t||t.call(s),u.set(void 0,!0),this._chart.updatePane(1),!0;if(null!==this._touchCoordinate)null===(n=s.preventDefault)||void 0===n||n.call(s),u.set({x:s.x,y:s.y,paneId:null==o?void 0:o.getId()});else if(null!==this._startScrollCoordinate&&Math.abs(this._startScrollCoordinate.x-s.x)>this._startScrollCoordinate.y-s.y){var d=s.x-this._startScrollCoordinate.x;c.getTimeScaleStore().scroll(d)}return!0;case ze:case je:var h=a.dispatchEvent("pressedMouseMoveEvent",s);return h&&(null===(r=s.preventDefault)||void 0===r||r.call(s),this._chart.updatePane(1)),h}}return!1},e.prototype.touchEndEvent=function(e){var t=this,n=this._findWidgetByEvent(e).widget;if(null!==n){var r=this._makeWidgetEvent(e,n);switch(n.getName()){case We:if(n.dispatchEvent("mouseUpEvent",r),null!==this._startScrollCoordinate){var i=(new Date).getTime()-this._flingStartTime,o=(r.x-this._startScrollCoordinate.x)/(i>0?i:1)*20;if(200>i&&Math.abs(o)>0){var a=this._chart.getChartStore().getTimeScaleStore(),s=function(){t._flingScrollRequestId=et((function(){a.startScroll(),a.scroll(o),1>Math.abs(o*=.975)?null!==t._flingScrollRequestId&&(tt(t._flingScrollRequestId),t._flingScrollRequestId=null):s()}))};s()}}return!0;case ze:case je:n.dispatchEvent("mouseUpEvent",r)&&this._chart.updatePane(1)}}return!1},e.prototype.tapEvent=function(e){var t=this._findWidgetByEvent(e),n=t.pane,r=t.widget,i=!1;if(null!==r){var o=this._makeWidgetEvent(e,r),a=r.dispatchEvent("mouseClickEvent",o);if(r.getName()===We){var s=this._makeWidgetEvent(e,r),l=this._chart.getChartStore().getCrosshairStore();a?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,l.set(void 0,!0),i=!0):(this._touchCancelCrosshair||this._touchZoomed||(this._touchCoordinate={x:s.x,y:s.y},l.set({x:s.x,y:s.y,paneId:null==n?void 0:n.getId()},!0),i=!0),this._touchCancelCrosshair=!1)}(i||a)&&this._chart.updatePane(1)}return i},e.prototype.doubleTapEvent=function(e){return this.mouseDoubleClickEvent(e)},e.prototype.longTapEvent=function(e){var t=this._findWidgetByEvent(e),n=t.pane,r=t.widget;if(null!==r&&r.getName()===We){var i=this._makeWidgetEvent(e,r);return this._touchCoordinate={x:i.x,y:i.y},this._chart.getChartStore().getCrosshairStore().set({x:i.x,y:i.y,paneId:null==n?void 0:n.getId()}),!0}return!1},e.prototype._findWidgetByEvent=function(e){var t,n,r=this._chart.getAllPanes(),i=e.x,o=e.y,a=null;try{for(var s=R(r),l=s.next();!l.done;l=s.next()){var c=N(l.value,2)[1],u=c.getBounding();if(!(u.left>i||i>u.left+u.width||u.top>o||o>u.top+u.height)){a=c;break}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}null===a&&(a=this._chart.getPaneById(Xe.XAXIS));var d=null;if(null!==a){var h=a.getSeparatorWidget();if(null!==h){var f=h.getBounding();f.left>i||i>f.left+f.width||f.top>o||o>f.top+7||(d=h)}if(null===d){var p=a.getMainWidget(),v=p.getBounding();v.left>i||i>v.left+v.width||v.top>o||o>v.top+v.height||(d=p)}if(null===d){var g=a.getYAxisWidget();if(null!==g){var m=g.getBounding();m.left>i||i>m.left+m.width||m.top>o||o>m.top+m.height||(d=g)}}}return{pane:a,widget:d}},e.prototype._makeWidgetEvent=function(e,t){var n,r,i,o=null!==(n=null==t?void 0:t.getBounding())&&void 0!==n?n:null;return D(D({},e),{x:e.x-(null!==(r=null==o?void 0:o.left)&&void 0!==r?r:0),y:e.y-(null!==(i=null==o?void 0:o.top)&&void 0!==i?i:0)})},e.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},e}(),hn=function(e,t,n,r){var i,o,a;if(void 0===cn){var s=document.createElement("canvas"),l=null!==(a=null===(o=null===(i=s.ownerDocument)||void 0===i?void 0:i.defaultView)||void 0===o?void 0:o.devicePixelRatio)&&void 0!==a?a:2;(cn=s.getContext("2d")).scale(l,l)}return cn.font="".concat(null!=n?n:"normal"," ").concat(null!=t?t:12,"px ").concat(null!=r?r:"Helvetica Neue"),Math.round(cn.measureText(e).width)};function fn(t){var n=this,r=t.id,i=t.direction,o=t.point,a=t.tooltipText;if(o)return this.createOverlay({id:r,name:"historyOrder",extendData:{direction:i},points:[o],styles:{offset:t.offset,arrowColor:t.arrowColor,tooltipBackgroundColor:"#525658",cursor:"pointer"},onMouseEnter:function(){return null==n||n.overrideOverlay({id:r,extendData:{showTooltip:!0,direction:i,tooltipText:a}}),n.getDom(Xe.CANDLE,e.DomPosition.Main).style.cursor="pointer",!1},onMouseLeave:function(){return n.overrideOverlay({id:r,extendData:{showTooltip:!1,direction:i}}),n.getDom(Xe.CANDLE,e.DomPosition.Main).style.cursor="crosshair",!1}})}var pn={name:"historyOrder",totalStep:2,lock:!0,createPointFigures:function(e){var t,n,r,i,o,a=e.coordinates,s=e.overlay,l=null!==(n=null===(t=s.styles)||void 0===t?void 0:t.offset)&&void 0!==n?n:0,c=-1;0===s.extendData.direction&&(c=1);var u=[{type:"polygon",attrs:{coordinates:[{x:a[0].x,y:a[0].y+l},{x:a[0].x-3,y:a[0].y+l+3*c},{x:a[0].x-1,y:a[0].y+l+3*c},{x:a[0].x-1,y:a[0].y+l+8*c},{x:a[0].x+1,y:a[0].y+l+8*c},{x:a[0].x+1,y:a[0].y+l+3*c},{x:a[0].x+3,y:a[0].y+l+3*c}]},styles:{style:"fill",color:null===(r=s.styles)||void 0===r?void 0:r.arrowColor}}];if(s.extendData.showTooltip){var d=null!==(i=s.extendData.tooltipText)&&void 0!==i?i:"",h=null===(o=s.styles)||void 0===o?void 0:o.tooltipBackgroundColor,f=hn(d)+16;u.push({type:"polygon",ignoreEvent:!0,attrs:{coordinates:[{x:a[0].x,y:a[0].y+l+4*c*-1},{x:a[0].x-6,y:a[0].y+l+10*c*-1},{x:a[0].x+6,y:a[0].y+l+10*c*-1}]},styles:{color:h}}),u.push({type:"rect",ignoreEvent:!0,attrs:{x:a[0].x-f/2,y:a[0].y+l+(1===c?34:10)*c*-1,width:f,height:24},styles:{color:h,borderRadius:4}}),u.push({type:"text",ignoreEvent:!0,attrs:{x:a[0].x,y:a[0].y+l+22*c*-1,align:"center",baseline:"middle",text:d},styles:{color:"#ffffff"}})}return u}},vn="closeBtn";function gn(t){var n=this,r=function(t){var r=t.text,i=t.volume,o=t.onReverse,a=t.onClose,s=t.closeBtnTooltipText,l=void 0===s?"":s,c=t.closeBtnText,u=void 0===c?"\u2715":c;return{name:"position",id:t.id,extendData:{text:r,volume:i,closeBtnText:u},points:[{value:t.price}],styles:{color:t.color,textColor:t.textColor,volumeBackgroundColor:t.volumeBackgroundColor,switchBackgroundColor:t.switchBackgroundColor,closeBackgroundColor:t.closeBackgroundColor,volumeTextColor:t.volumeTextColor,tooltipBackgroundColor:t.tooltipBackgroundColor,tooltipColor:t.tooltipColor},onMouseEnter:function(t){return"extendDataText"===t.figureKey&&n.overrideOverlay({id:t.overlay.id,extendData:{text:r,volume:i,closeBtnText:u}}),n.getDom(Xe.CANDLE,e.DomPosition.Main).style.cursor="pointer",!1},onMouseMove:function(t){return n.overrideOverlay(t.figureKey===vn?{id:t.overlay.id,extendData:{text:r,volume:i,closeBtnText:u,closeBtnTooltipText:l}}:{id:t.overlay.id,extendData:{text:r,volume:i,closeBtnText:u}}),n.getDom(Xe.CANDLE,e.DomPosition.Main).style.cursor="pointer",!1},onMouseLeave:function(t){return n.overrideOverlay({id:t.overlay.id,extendData:{text:r,volume:i,closeBtnText:u}}),n.getDom(Xe.CANDLE,e.DomPosition.Main).style.cursor="crosshair",!1},onClick:function(e){switch(e.figureKey){case"switch":o&&o(e);break;case vn:a&&a(e)}return!1}}},i=this.createOverlay(r(t));return[i,function(e){var o,a,s,l,c=r(D(D({},t),e));c.extendData=D(D({},c.extendData),{closeBtnTooltipText:null!==(l=null===(s=null===(a=null===(o=n.getOverlayById)||void 0===o?void 0:o.call(n,i))||void 0===a?void 0:a.extendData)||void 0===s?void 0:s.closeBtnTooltipText)&&void 0!==l?l:""}),n.overrideOverlay(c)}]}var mn,yn={name:"position",totalStep:2,createPointFigures:function(e){var t,n,r,i,o,a,s,l,c,u,d,h,f,p,v,g,m=e.bounding,y=e.overlay,x=null===(t=y.styles)||void 0===t?void 0:t.color,b=null===(n=y.styles)||void 0===n?void 0:n.textColor,_=e.coordinates[0].y,w="".concat(y.extendData.text),C=hn(w)+16,S="".concat(null!==(r=y.extendData.volume)&&void 0!==r?r:0),E=hn(S),k=Math.max(E+16,22),T=null!==(i=y.extendData.closeBtnText)&&void 0!==i?i:"",P=hn(T);21>P&&(P=21);var I=null!==(o=y.extendData.closeBtnTooltipText)&&void 0!==o?o:"",A=[{key:"mainRect",type:"rect",ignoreEvent:["mouseDownEvent","mouseRightClickEvent"],attrs:{x:0,y:_-10.5,width:C,height:21,align:"left",baseline:"middle",text:w},styles:{style:"stroke_fill",color:b,borderColor:b}},{type:"text",ignoreEvent:!0,attrs:{x:C/2,y:_,align:"center",baseline:"middle",text:w},styles:{color:"#ffffff"}},{type:"rect",ignoreEvent:["mouseDownEvent","mouseRightClickEvent"],attrs:{x:C,y:_-10.5,width:k,height:21},styles:{style:"stroke_fill",borderColor:x,color:null!==(s=null===(a=y.styles)||void 0===a?void 0:a.volumeBackgroundColor)&&void 0!==s?s:"transparent"}},{type:"text",ignoreEvent:!0,attrs:{x:C+k/2,y:_,align:"center",baseline:"middle",text:S},styles:{color:(null===(l=y.styles)||void 0===l?void 0:l.volumeTextColor)||"#ffffff"}},{key:"switch",type:"rect",ignoreEvent:["mouseDownEvent","mouseRightClickEvent"],attrs:{x:C+k,y:_-10.5,width:28,height:21},styles:{style:"stroke_fill",borderColor:x,color:null!==(u=null===(c=y.styles)||void 0===c?void 0:c.switchBackgroundColor)&&void 0!==u?u:"transparent"}},{type:"line",ignoreEvent:!0,attrs:{coordinates:[{x:C+k+11,y:_-5},{x:C+k+11,y:_+5}]},styles:{color:x}},{type:"polygon",ignoreEvent:!0,attrs:{coordinates:[{x:C+k+11,y:_+5},{x:C+k+8,y:_+1},{x:C+k+14,y:_+1}]},styles:{style:"fill",color:x}},{type:"line",ignoreEvent:!0,attrs:{coordinates:[{x:C+k+19,y:_-5},{x:C+k+19,y:_+5}]},styles:{color:x}},{type:"polygon",ignoreEvent:!0,attrs:{coordinates:[{x:C+k+19,y:_-5},{x:C+k+16,y:_-1},{x:C+k+22,y:_-1}]},styles:{style:"fill",color:x}},{key:vn,type:"rect",ignoreEvent:["mouseDownEvent","mouseRightClickEvent"],attrs:{x:C+k+28,y:_-10.5,width:P,height:21},styles:{style:"stroke_fill",borderColor:x,color:null!==(h=null===(d=y.styles)||void 0===d?void 0:d.closeBackgroundColor)&&void 0!==h?h:"transparent",borderRadius:0}},{type:"text",ignoreEvent:!0,attrs:{x:C+k+28+P/2,y:_,align:"center",baseline:"middle",text:T},styles:{color:(null===(f=y.styles)||void 0===f?void 0:f.volumeTextColor)||"#ffffff",size:10}},{type:"line",ignoreEvent:!0,attrs:{coordinates:[{x:C+k+28+P,y:_},{x:m.width,y:_}]},styles:{style:"dashed",color:x}}];if(I.length>0){var M=hn(I)+16,F=C+k+28+P/2;A.push({type:"polygon",ignoreEvent:!0,attrs:{coordinates:[{x:F,y:_-15},{x:F-6,y:_-21},{x:F+6,y:_-21}]},styles:{color:null===(p=y.styles)||void 0===p?void 0:p.tooltipBackgroundColor}}),A.push({type:"rect",ignoreEvent:!0,attrs:{x:F-M/2,y:_-45,width:M,height:24},styles:{color:null===(v=y.styles)||void 0===v?void 0:v.tooltipBackgroundColor,borderRadius:4}}),A.push({type:"text",ignoreEvent:!0,attrs:{x:F,y:_-33,align:"center",baseline:"middle",text:I},styles:{color:(null===(g=y.styles)||void 0===g?void 0:g.tooltipColor)||"#FFF"}})}return A},createYAxisFigures:function(e){var t,n,r=e.overlay,i=null===(t=r.styles)||void 0===t?void 0:t.color;return[{type:"rectText",ignoreEvent:!0,attrs:{x:0,y:e.coordinates[0].y,baseline:"middle",text:"".concat(E((null===(n=r.points[0].value)||void 0===n?void 0:n.toFixed(e.precision.price))||""))},styles:{style:"fill",color:"#ffffff",backgroundColor:i,borderRadius:0,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4}}]}};function xn(t){var n=this,r=t.text,i=t.volume,o=t.onMove,a=t.onClose,s=t.tooltipText;return this.createOverlay({name:t.name,id:t.id,lock:t.lock||!1,extendData:{text:r,volume:i},points:[{value:t.price}],styles:{color:t.color,offset:t.offset,bodyBackgroundColor:t.bodyBackgroundColor,closeBackgroundColor:t.closeBackgroundColor,volumeTextColor:t.volumeTextColor,tooltipBackgroundColor:t.tooltipBackgroundColor},onMouseEnter:function(t){return"extendDataText"===t.figureKey&&n.overrideOverlay({id:t.overlay.id,extendData:{text:r,volume:i,tooltipText:s}}),n.getDom(Xe.CANDLE,e.DomPosition.Main).style.cursor="pointer",!1},onMouseLeave:function(t){return n.overrideOverlay({id:t.overlay.id,extendData:{text:r,volume:i}}),n.getDom(Xe.CANDLE,e.DomPosition.Main).style.cursor="crosshair",!1},onClick:function(e){return a&&a(e),!1},onPressedMoveEnd:function(e){return o&&o(e,e.overlay.points[0].value),!1}})}function bn(e){return{name:e,totalStep:2,createPointFigures:function(e){var t,n,r,i,o,a,s,l,c,u,d,h,f=e.bounding,p=e.overlay,v=null===(t=p.styles)||void 0===t?void 0:t.color,g=null!==(r=null===(n=p.styles)||void 0===n?void 0:n.offset)&&void 0!==r?r:0,m=g,y=e.coordinates[0].y;m>0&&1>m&&(m=f.width*(1-g));var x="".concat(null!==(i=p.extendData.volume)&&void 0!==i?i:0),b=hn(x),_=Math.max(b+12,24),w="\u2507".concat(p.extendData.text),C=hn(w)+8,S=null!==(o=p.extendData.tooltipText)&&void 0!==o?o:"",E=[{type:"line",ignoreEvent:!0,attrs:{coordinates:[{x:m,y:y},{x:f.width,y:y}]},styles:{style:"dashed",color:v}},{type:"rect",ignoreEvent:["mouseDownEvent","mouseRightClickEvent"],attrs:{x:m-21,y:y-10.5,width:21,height:21},styles:{style:"stroke_fill",borderColor:v,color:null!==(s=null===(a=p.styles)||void 0===a?void 0:a.closeBackgroundColor)&&void 0!==s?s:"transparent"}},{type:"text",ignoreEvent:!0,attrs:{x:m-10.5,y:y,align:"center",baseline:"middle",text:"\u2715"},styles:{color:v,size:10}},{type:"rect",ignoreEvent:["mouseClickEvent","mouseDownEvent","mouseRightClickEvent"],attrs:{x:m-21-_,y:y-11,width:_,height:22},styles:{style:"fill",color:v}},{type:"text",ignoreEvent:!0,attrs:{x:m-21-_/2,y:y,align:"center",baseline:"middle",text:x},styles:{color:(null===(l=p.styles)||void 0===l?void 0:l.volumeTextColor)||"#ffffff"}},{type:"rect",key:"extendDataText",ignoreEvent:["mouseClickEvent","tapEvent","mouseRightClickEvent"],attrs:{x:m-21-_-C,y:y-10.5,width:C,height:21},styles:{style:"stroke_fill",color:null===(c=p.styles)||void 0===c?void 0:c.bodyBackgroundColor,borderColor:v}},{type:"text",ignoreEvent:!0,attrs:{x:m-21-_-(C+1)/2-2,y:y,align:"center",baseline:"middle",text:w},styles:{color:v}}];if(S.length>0){var k=hn(S)+16,T=m-21-_-C/2;E.push({type:"polygon",ignoreEvent:!0,attrs:{coordinates:[{x:T,y:y-15},{x:T-6,y:y-21},{x:T+6,y:y-21}]},styles:{color:null===(u=p.styles)||void 0===u?void 0:u.tooltipBackgroundColor}}),E.push({type:"rect",ignoreEvent:!0,attrs:{x:T-k/2,y:y-45,width:k,height:24},styles:{color:null===(d=p.styles)||void 0===d?void 0:d.tooltipBackgroundColor,borderRadius:4}}),E.push({type:"text",ignoreEvent:!0,attrs:{x:T,y:y-33,align:"center",baseline:"middle",text:S},styles:{color:(null===(h=p.styles)||void 0===h?void 0:h.tooltipTextColor)||"#ffffff"}})}return E},createYAxisFigures:function(e){var t,n=e.coordinates,r=e.overlay,i=e.precision,o=null===(t=r.styles)||void 0===t?void 0:t.color,a=Number(r.points[0].value);return[{type:"rectText",ignoreEvent:!0,attrs:{x:0,y:n[0].y,baseline:"middle",text:"".concat(E(null==a?void 0:a.toFixed(i.price)))},styles:{style:"fill",color:"#ffffff",backgroundColor:o,borderRadius:0,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4}}]}}}e.currentOrderType=void 0,(mn=e.currentOrderType||(e.currentOrderType={})).limit="limit",mn.plan="plan",mn.stop="stop";var _n,wn=-1,Cn=function(){function t(t,n){var r,i=this;this._yAxisExtremum={realMin:0,realMax:0},this._flag=!1,this._isShow=!1,this._cacheBounding={width:0,height:0},this._requestAnimationId=wn,this._bidList=[],this._askList=[],this._chart=t,this._yAxis=t.getPaneById("candle_pane").getAxisComponent(),this._yAxisExtremum=this._yAxis.getExtremum(),this._flag=null!=n&&n,this._canvas=document.createElement("canvas"),this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0",this._canvas.style.width="100%",this._canvas.style.height="100%",this._canvas.style.zIndex="1",this._canvas.style.boxSizing="border-box",this._cacheBounding=this._buildBounding(),this._ctx=this._canvas.getContext("2d"),null===(r=t.getDom("candle_pane",e.DomPosition.YAxis))||void 0===r||r.appendChild(this._canvas),this._resizeObserver=new ResizeObserver((function(e){i.update()})),this._resizeObserver.observe(this._canvas);var o=t.getDom("candle_pane",e.DomPosition.YAxis);o&&(this._parent=o,this._canvas.style.width="".concat(o.offsetWidth,"px"),this._canvas.style.height="".concat(o.offsetHeight,"px"),this._parentResizeObserver=new ResizeObserver((function(e){i._canvas.style.width="".concat(o.offsetWidth,"px"),i._canvas.style.height="".concat(o.offsetHeight,"px"),i.update()})),this._parentResizeObserver.observe(this._parent));var a=function(){var e=i._yAxis.getExtremum();e.realMin===i._yAxisExtremum.realMin&&e.realMax===i._yAxisExtremum.realMax||(i._yAxisExtremum=e,i.update()),setTimeout((function(){a()}),20)};a()}return t.prototype._buildBounding=function(){return{width:this._canvas.offsetWidth,height:this._canvas.offsetHeight}},t.prototype.getStyles=function(){return this._chart.getStyles().depth},t.prototype._draw=function(){var e,t,n,r,i,o,a,s,l=this;if(this._isShow){for(var c=this._canvas.offsetWidth,u=this._canvas.offsetHeight,d=this._yAxisExtremum,h=null===(e=this._bidList)||void 0===e?void 0:e.length,f=null===(t=this._askList)||void 0===t?void 0:t.length,p=null!==(i=null===(r=null===(n=this._askList)||void 0===n?void 0:n[0])||void 0===r?void 0:r.volume)&&void 0!==i?i:0,v=1;f>v;v++){var g=this._askList[v];if(this._askList[v-1].price>d.realMax&&d.realMax>=g.price){p=g.volume;break}}var m=null!==(s=null===(a=null===(o=this._bidList)||void 0===o?void 0:o[h-1])||void 0===a?void 0:a.volume)&&void 0!==s?s:0;for(v=h-2;v>-1;v--)if(g=this._bidList[v],d.realMin>this._bidList[v+1].price&&g.price>=d.realMin){m=g.volume;break}var y=p,x=m;if(this._flag&&(y=x=Math.max(p,m)),f>0){var b=[{x:0,y:0}],_=[],w=0,C=(S=this.getStyles().askLineSize)/2;this._askList.forEach((function(e,t){var n=e.volume/y*c;w=Math.max(n,w),0===t&&(b.push({x:n+C,y:0}),_.push({x:n+C,y:0}));var r=l._yAxis.convertToPixel(e.price);b.push({x:n+C,y:r}),_.push({x:n+C,y:r}),t===f-1&&(b.push({x:0,y:r}),_.push({x:0,y:r}))})),this._drawAreaLine(b,_,{lineSize:S,lineColor:this.getStyles().askLineColor,backgroundColor:this.getStyles().askBackgroundColor},w)}if(h>0){var S,E=[],k=[],T=0,P=(S=this.getStyles().askLineSize)/2;this._bidList.forEach((function(e,t){var n=e.volume/x*c;T=Math.max(n,T);var r=l._yAxis.convertToPixel(e.price);0===t?(E.push({x:0,y:r}),E.push({x:n,y:r}),k.push({x:0,y:r}),k.push({x:n+P,y:r})):t===h-1?(E.push({x:n,y:r}),E.push({x:n,y:u}),E.push({x:0,y:u}),k.push({x:n+P,y:r}),k.push({x:n+P,y:u})):(E.push({x:n,y:r}),k.push({x:n+P,y:r}))})),this._drawAreaLine(E,k,{lineSize:S,lineColor:this.getStyles().bidLineColor,backgroundColor:this.getStyles().bidBackgroundColor},T)}}},t.prototype._drawAreaLine=function(e,t,n,r){var i,o=n.backgroundColor;if(Tn.isArray(o)){var a=this._ctx.createLinearGradient(0,0,r,0);try{o.forEach((function(e){a.addColorStop(e.offset,e.color)}))}catch(e){}i=a}else i=o;var s=Et("polygon");null!==s&&new s({name:"polygon",attrs:{coordinates:e},styles:{color:i}}).draw(this._ctx);var l=Et("line");null!==l&&new l({name:"line",attrs:{coordinates:t},styles:{color:n.lineColor,size:n.lineSize}}).draw(this._ctx)},t.prototype.update=function(){var e=this;this._requestAnimationId!==wn&&(cancelAnimationFrame(this._requestAnimationId),this._requestAnimationId=wn),this._requestAnimationId=requestAnimationFrame((function(){if(e._cacheBounding.width!==e._canvas.offsetWidth||e._cacheBounding.height!==e._canvas.offsetHeight){e._ctx.clearRect(0,0,e._cacheBounding.width,e._cacheBounding.height);var t=window.devicePixelRatio;e._canvas.width=Math.floor(e._canvas.offsetWidth*t),e._canvas.height=Math.floor(e._canvas.offsetHeight*t),e._ctx.scale(t,t),e._cacheBounding=e._buildBounding()}else e._ctx.clearRect(0,0,e._canvas.offsetWidth,e._canvas.offsetHeight);e._draw()}))},t.prototype.getDom=function(){return this._canvas},t.prototype.setData=function(e){var t=e.bids,n=void 0===t?[]:t,r=e.asks,i=[],o=0;(void 0===r?[]:r).forEach((function(e){var t;o+=null!==(t=e[1])&&void 0!==t?t:0,i.unshift({price:e[0],volume:o})})),this._askList=i;var a=[];o=0,n.forEach((function(e){var t;o+=null!==(t=e[1])&&void 0!==t?t:0,a.push({price:e[0],volume:o})})),this._bidList=a,this.update()},t.prototype.setSwitchShow=function(e){this._isShow=e,e?this.update():this.clear()},t.prototype.clear=function(){this._ctx.clearRect(0,0,this._cacheBounding.width,this._cacheBounding.height)},t.prototype.destory=function(){this._resizeObserver.unobserve(this._canvas),this._parent&&this._parentResizeObserver&&this._parentResizeObserver.unobserve(this._parent)},t}();e.DomPosition=void 0,(_n=e.DomPosition||(e.DomPosition={})).Root="root",_n.Main="main",_n.YAxis="yAxis";var Sn=function(){function t(t,n){var r;this._panes=new Map,this._historyOrder=[],this._historyPoint=new Set,this._positions=[],this._positionLine=new Map,this._currentOrder=new Map,this._currentOrderLine=new Map,this._initContainer(t),this._chartEvent=new dn(this._chartContainer,this),this._chartStore=new Qe(this,n),this._xAxisPane=new an(this._chartContainer,this,Xe.XAXIS),this._panes.set(Xe.CANDLE,new Qt(this._chartContainer,this,Xe.CANDLE)),this.adjustPaneViewport(!0,!0,!0),Re(pn),Re(yn),Re(bn(e.currentOrderType.limit)),Re(bn(e.currentOrderType.plan)),Re(bn(e.currentOrderType.stop)),this._miniDepthChart=new Cn(this),null===(r=this.getDom(Xe.CANDLE,e.DomPosition.YAxis))||void 0===r||r.appendChild(this._miniDepthChart.getDom())}return t.prototype._initContainer=function(e){this._container=e,this._chartContainer=Y("div",{position:"relative",width:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,e.appendChild(this._chartContainer)},t.prototype._measurePaneHeight=function(){var e,t=this._container.offsetHeight,n=this._xAxisPane.getAxisComponent().getAutoSize(),r=t-n;0>r&&(r=0);var i=0;this._panes.forEach((function(e){if(e.getId()!==Xe.CANDLE){var t=e.getBounding().height,n=e.getOptions().minHeight;n>t&&(t=n),i+t>r?t=Math.max(r-(i=r),0):i+=t,e.setBounding({height:t})}}));var o=r-i;null===(e=this._panes.get(Xe.CANDLE))||void 0===e||e.setBounding({height:o});var a=0;this._panes.forEach((function(e){e.setBounding({top:a}),a+=e.getBounding().height})),this._xAxisPane.setBounding({height:n,top:a})},t.prototype._measurePaneWidth=function(){var t=this._chartStore.getStyles().yAxis,n=t.position===e.YAxisPosition.Left,r=!t.inside,i=this._container.offsetWidth,o=0,a=Number.MIN_SAFE_INTEGER,s=0,l=0;this._panes.forEach((function(e){a=Math.max(55,a,e.getAxisComponent().getAutoSize())})),a>i&&(a=i),r?(o=i-a,n?(s=0,l=a):(s=i-a,l=0)):(o=i,l=0,s=n?0:i-a),this._chartStore.getTimeScaleStore().setTotalBarSpace(o);var c={width:i},u={width:o,left:l},d={width:a,left:s};this._panes.forEach((function(e){e.setBounding(c,u,d)})),this._xAxisPane.setBounding(c,u,d)},t.prototype._setPaneOptions=function(e,t){var n,r,i=this._panes.get(null!==(n=null==e?void 0:e.id)&&void 0!==n?n:""),o=!1;if(void 0!==i){var a=t;if(e.id!==Xe.CANDLE&&void 0!==e.height&&e.height>0){var s=Math.max(null!==(r=e.minHeight)&&void 0!==r?r:i.getOptions().minHeight,0);i.setBounding({height:Math.max(s,e.height)}),a=!0,o=!0}i.setOptions(e),a&&this.adjustPaneViewport(o,!0,!0,!0,!0)}},t.prototype.getContainer=function(){return this._container},t.prototype.getChartStore=function(){return this._chartStore},t.prototype.getAllPanes=function(){return this._panes},t.prototype.adjustPaneViewport=function(e,t,n,r,i){e&&this._measurePaneHeight();var o=t,a=null!=i&&i;(null!=r&&r||a)&&this._panes.forEach((function(e){var t=e.getAxisComponent().buildTicks(a);o||(o=t)})),o&&this._measurePaneWidth(),null!=n&&n&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4))},t.prototype.updatePane=function(e,t){var n;void 0!==t?null===(n=this.getPaneById(t))||void 0===n||n.update(e):(this._xAxisPane.update(e),this._panes.forEach((function(t){t.update(e)})))},t.prototype.getPaneById=function(e){var t;return e===Xe.XAXIS?this._xAxisPane:null!==(t=this._panes.get(e))&&void 0!==t?t:null},t.prototype.crosshairChange=function(t){var n=this,r=this._chartStore.getActionStore();if(r.has(e.ActionType.OnCrosshairChange)){var i={};this._panes.forEach((function(e,r){var o={};n._chartStore.getIndicatorStore().getInstances(r).forEach((function(e){var n,r=e.result;o[e.name]=r[null!==(n=t.dataIndex)&&void 0!==n?n:r.length-1]})),i[r]=o})),void 0!==t.paneId&&r.execute(e.ActionType.OnCrosshairChange,D(D({},t),{indicatorData:i}))}},t.prototype.getDom=function(t,n){var r,i;if(void 0===t)return this._chartContainer;var o=this.getPaneById(t);if(null!==o)switch(null!=n?n:e.DomPosition.Root){case e.DomPosition.Root:return o.getContainer();case e.DomPosition.Main:return o.getMainWidget().getContainer();case e.DomPosition.YAxis:return null!==(i=null===(r=o.getYAxisWidget())||void 0===r?void 0:r.getContainer())&&void 0!==i?i:null}return null},t.prototype.getSize=function(t,n){var r,i;if(void 0===t)return{width:this._chartContainer.offsetWidth,height:this._chartContainer.offsetHeight,left:0,top:0,right:0,bottom:0};var o=this.getPaneById(t);if(null!==o)switch(null!=n?n:e.DomPosition.Root){case e.DomPosition.Root:return o.getBounding();case e.DomPosition.Main:return o.getMainWidget().getBounding();case e.DomPosition.YAxis:return null!==(i=null===(r=o.getYAxisWidget())||void 0===r?void 0:r.getBounding())&&void 0!==i?i:null}return null},t.prototype.setStyles=function(e){var t,n,r;this._chartStore.setOptions({styles:e}),void 0!==(null===(t=null==(r=c(e)?Je(e):e)?void 0:r.yAxis)||void 0===t?void 0:t.type)&&(null===(n=this.getPaneById(Xe.CANDLE))||void 0===n||n.getAxisComponent().setAutoCalcTickFlag(!0)),this._miniDepthChart.update(),this.adjustPaneViewport(!0,!0,!0,!0,!0)},t.prototype.getStyles=function(){return this._chartStore.getStyles()},t.prototype.setLocale=function(e){this._chartStore.setOptions({locale:e}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},t.prototype.getLocale=function(){return this._chartStore.getLocale()},t.prototype.setCustomApi=function(e){this._chartStore.setOptions({customApi:e}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},t.prototype.setPriceVolumePrecision=function(e,t){this._chartStore.setPrecision({price:e,volume:t})},t.prototype.getPriceVolumePrecision=function(){return this._chartStore.getPrecision()},t.prototype.setTimezone=function(e){this._chartStore.setOptions({timezone:e}),this._xAxisPane.getAxisComponent().buildTicks(!0),this._xAxisPane.update(3)},t.prototype.getTimezone=function(){return this._chartStore.getTimeScaleStore().getTimezone()},t.prototype.setOffsetRightDistance=function(e){this._chartStore.getTimeScaleStore().setOffsetRightDistance(e,!0)},t.prototype.setLeftMinVisibleBarCount=function(e){e>0&&this._chartStore.getTimeScaleStore().setLeftMinVisibleBarCount(Math.ceil(e))},t.prototype.setRightMinVisibleBarCount=function(e){e>0&&this._chartStore.getTimeScaleStore().setRightMinVisibleBarCount(Math.ceil(e))},t.prototype.setBarSpace=function(e){this._chartStore.getTimeScaleStore().setBarSpace(e)},t.prototype.getBarSpace=function(){return this._chartStore.getTimeScaleStore().getBarSpace().bar},t.prototype.getVisibleRange=function(){return this._chartStore.getTimeScaleStore().getVisibleRange()},t.prototype.clearData=function(){this._chartStore.clearDataList()},t.prototype.getDataList=function(){return this._chartStore.getDataList()},t.prototype.applyNewData=function(e,t){this._chartStore.clearDataList(),0===e.length?this.adjustPaneViewport(!1,!0,!0,!0):this.applyMoreData(e,t)},t.prototype.applyMoreData=function(e,t){var n=this;this._chartStore.addData(e,0,t),e.length>0&&this._chartStore.getIndicatorStore().calcInstance().then((function(e){n.adjustPaneViewport(!1,!0,!0,!0)})).then((function(){n.updateHistoryOrder()})).catch((function(e){}))},t.prototype.clearHistoryPoint=function(){var e=this;this._historyPoint.forEach((function(t){e.removeOverlay({id:t})})),this._historyPoint.clear()},t.prototype.clearHistoryOrders=function(){this.clearHistoryPoint(),this._historyOrder=[]},t.prototype.updateHistoryOrder=function(){var e=this;if(this.clearHistoryPoint(),this._historyOrder.length>0){var t=this.getDataList()||[],n={};this._historyOrder.map((function(e){var r,i,o,a,s,l,c,u,d,h=e.point,f=e.direction,p=D({},e),v=0,g=0,m=0===f;return t&&h&&t.length>0&&t.some((function(e,n){var r=t[n+1];return!(!h.timestamp||e.timestamp>h.timestamp||h.timestamp>=((null==r?void 0:r.timestamp)||1/0))&&(d={timestamp:e.timestamp,value:m?e.low:e.high},!0)})),p.point=d||h,(null===(r=p.point)||void 0===r?void 0:r.timestamp)&&(null==n?void 0:n[null===(i=p.point)||void 0===i?void 0:i.timestamp])&&(v=(null===(a=n[null===(o=p.point)||void 0===o?void 0:o.timestamp])||void 0===a?void 0:a.buyOffset)||0,g=(null===(l=n[null===(s=p.point)||void 0===s?void 0:s.timestamp])||void 0===l?void 0:l.sellOffset)||0),m?v+=10:g-=10,(null===(c=p.point)||void 0===c?void 0:c.timestamp)&&(n[null===(u=p.point)||void 0===u?void 0:u.timestamp]={buyOffset:v,sellOffset:g}),D(D({},p),{offset:m?v:g})})).forEach((function(t){var n=fn.call(e,t);e._historyPoint.add(n)}))}},t.prototype.updateData=function(e){var t=this,n=this._chartStore.getDataList(),r=n.length,i=e.timestamp,o=h(n[r-1],"timestamp",0);if(i>=o){var a=r;i===o&&(a=r-1),this._chartStore.addData(e,a),this._chartStore.getIndicatorStore().calcInstance().then((function(e){t.adjustPaneViewport(!1,!0,!0,!0)})).catch((function(e){}))}},t.prototype.loadMore=function(e){this._chartStore.getTimeScaleStore().setLoadMoreCallback(e)},t.prototype.setInterval=function(e){this._chartStore.setOptions({interval:e})},t.prototype.setShowCountDown=function(e){this._chartStore.setOptions({showCountDown:e}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},t.prototype.createIndicator=function(e,t,n,r){var i,o,a,s=this,l=c(e)?{name:e}:e;if(null===pe(l.name))return null;if(void 0!==(null==n?void 0:n.id)&&this._panes.has(n.id))a=n.id,this._chartStore.getIndicatorStore().addInstance(l,a,null!=t&&t).then((function(e){var t,r;s._setPaneOptions(n,null!==(r=null===(t=s._panes.get(a))||void 0===t?void 0:t.getAxisComponent().buildTicks(!0))&&void 0!==r&&r)})).catch((function(e){}));else{a=null!==(i=null==n?void 0:n.id)&&void 0!==i?i:j(Xe.INDICATOR);var u=Array.from(this._panes.values()).pop(),d=new Jt(this._chartContainer,this,a,u);u.setBottomPane(d);var h=null!==(o=null==n?void 0:n.height)&&void 0!==o?o:100;d.setBounding({height:h}),null!=n&&d.setOptions(n),this._panes.set(a,d),this._chartStore.getIndicatorStore().addInstance(l,a,null!=t&&t).finally((function(){s.adjustPaneViewport(!0,!0,!0,!0,!0),null==r||r()}))}return a},t.prototype.overrideIndicator=function(e,t,n){var r=this;this._chartStore.getIndicatorStore().override(e,null!=t?t:null).then((function(e){var t=N(e,2),i=t[1];(t[0]||i)&&(r.adjustPaneViewport(!1,i,!0,i),null==n||n())})).catch((function(){}))},t.prototype.getIndicatorByPaneId=function(e,t){return this._chartStore.getIndicatorStore().getInstanceByPaneId(e,t)},t.prototype.removeIndicator=function(e,t){var n=this._chartStore.getIndicatorStore();if(n.removeInstance(e,t)){var r=!1;if(e!==Xe.CANDLE&&!n.hasInstances(e)){var i=this._panes.get(e);if(void 0!==i){r=!0;var o=i.getTopPane(),a=i.getBottomPane();null==a||a.setTopPane(o),null==o||o.setBottomPane(a),null==i||i.destroy(),this._panes.delete(e)}}this.adjustPaneViewport(r,!0,!0,!0,!0)}},t.prototype.createOverlay=function(e,t){var n=c(e)?{name:e}:e;if(null===Ne(n.name))return null;var r=!0;return void 0!==t&&null!==this.getPaneById(t)||(t=Xe.CANDLE,r=!1),this._chartStore.getOverlayStore().addInstance(n,t,r)},t.prototype.getOverlayById=function(e){return this._chartStore.getOverlayStore().getInstanceById(e)},t.prototype.overrideOverlay=function(e){this._chartStore.getOverlayStore().override(e)},t.prototype.removeOverlay=function(e){var t;void 0!==e&&(t=c(e)?{id:e}:e),this._chartStore.getOverlayStore().removeInstance(t)},t.prototype.setPaneOptions=function(e){this._setPaneOptions(e,!1)},t.prototype.setZoomEnabled=function(e){this._chartStore.getTimeScaleStore().setZoomEnabled(e)},t.prototype.isZoomEnabled=function(){return this._chartStore.getTimeScaleStore().getZoomEnabled()},t.prototype.setScrollEnabled=function(e){this._chartStore.getTimeScaleStore().setScrollEnabled(e)},t.prototype.isScrollEnabled=function(){return this._chartStore.getTimeScaleStore().getScrollEnabled()},t.prototype.scrollByDistance=function(e,t){var n=void 0===t||0>t?0:t,r=this._chartStore.getTimeScaleStore();if(n>0){r.startScroll();var i=(new Date).getTime(),o=function(){var t=((new Date).getTime()-i)/n,a=t>=1;r.scroll(a?e:e*t),a||requestAnimationFrame(o)};o()}else r.startScroll(),r.scroll(e)},t.prototype.scrollToRealTime=function(e){var t=this._chartStore.getTimeScaleStore(),n=t.getBarSpace().bar,r=t.getOffsetRightBarCount()-t.getOffsetRightDistance()/n;this.scrollByDistance(r*n,e)},t.prototype.scrollToDataIndex=function(e,t){var n=this._chartStore.getTimeScaleStore(),r=(n.getOffsetRightBarCount()+(this.getDataList().length-1-e))*n.getBarSpace().bar;this.scrollByDistance(r,t)},t.prototype.scrollToTimestamp=function(e,t){var n=X(this.getDataList(),"timestamp",e);this.scrollToDataIndex(n,t)},t.prototype.zoomAtCoordinate=function(e,t,n){var r=void 0===n||0>n?0:n,i=this._chartStore.getTimeScaleStore();if(r>0){var o=i.getBarSpace().bar,a=o*e-o,s=(new Date).getTime(),l=function(){var e=((new Date).getTime()-s)/r,n=e>=1;i.zoom((n?a:a*e)/o,t),n||requestAnimationFrame(l)};l()}else i.zoom(e,t)},t.prototype.zoomAtDataIndex=function(e,t,n){var r=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(t);this.zoomAtCoordinate(e,{x:r,y:0},n)},t.prototype.zoomAtTimestamp=function(e,t,n){var r=X(this.getDataList(),"timestamp",t);this.zoomAtDataIndex(e,r,n)},t.prototype.convertToPixel=function(e,t){var n,i=t.paneId,o=void 0===i?Xe.CANDLE:i,a=t.absolute,s=void 0!==a&&a,l=[];if(o!==Xe.XAXIS){var c=this.getPaneById(o);if(null!==c){var u=this._chartStore.getTimeScaleStore(),d=c.getBounding(),h=[].concat(e),f=this._xAxisPane.getAxisComponent(),p=c.getAxisComponent();l=h.map((function(e){var t={},n=e.dataIndex;if(void 0!==e.timestamp&&(n=u.timestampToDataIndex(e.timestamp)),void 0!==n&&(t.x=null==f?void 0:f.convertToPixel(n)),void 0!==e.value){var r=null==p?void 0:p.convertToPixel(e.value);t.y=s?d.top+r:r}return t}))}}return r(e)?l:null!==(n=l[0])&&void 0!==n?n:{}},t.prototype.convertFromPixel=function(e,t){var n,i=t.paneId,o=void 0===i?Xe.CANDLE:i,a=t.absolute,s=void 0!==a&&a,l=[];if(o!==Xe.XAXIS){var c=this.getPaneById(o);if(null!==c){var u=this._chartStore.getTimeScaleStore(),d=c.getBounding(),h=[].concat(e),f=this._xAxisPane.getAxisComponent(),p=c.getAxisComponent();l=h.map((function(e){var t,n={};if(void 0!==e.x){var r=f.convertFromPixel(e.x);n.dataIndex=r,n.timestamp=null!==(t=u.dataIndexToTimestamp(r))&&void 0!==t?t:void 0}return void 0!==e.y&&(n.value=p.convertFromPixel(s?e.y-d.top:e.y)),n}))}}return r(e)?l:null!==(n=l[0])&&void 0!==n?n:{}},t.prototype.subscribeAction=function(e,t){this._chartStore.getActionStore().subscribe(e,t)},t.prototype.unsubscribeAction=function(e,t){this._chartStore.getActionStore().unsubscribe(e,t)},t.prototype.getConvertPictureUrl=function(e,t,n){var r=this._chartContainer.offsetWidth,i=this._chartContainer.offsetHeight,o=Y("canvas",{width:"".concat(r,"px"),height:"".concat(i,"px"),boxSizing:"border-box"}),a=o.getContext("2d"),s=H(o);o.width=r*s,o.height=i*s,a.scale(s,s),a.fillStyle=null!=n?n:"#FFFFFF",a.fillRect(0,0,r,i);var l=null!=e&&e;this._panes.forEach((function(e){var t=e.getBounding();a.drawImage(e.getImage(l),0,t.top,r,t.height)}));var c=this._xAxisPane.getBounding();return a.drawImage(this._xAxisPane.getImage(l),0,c.top,r,c.height),o.toDataURL("image/".concat(null!=t?t:"jpeg"))},t.prototype.resize=function(){this.adjustPaneViewport(!0,!0,!0,!0,!0)},t.prototype.createHistoryOrders=function(e){this._historyOrder=e,this.updateHistoryOrder()},t.prototype.clearPosition=function(){var e=this;this._positionLine.forEach((function(t,n){e.removeOverlay({id:n})})),this._positionLine.clear()},t.prototype.updatePosition=function(){var e=this;this._positionLine.forEach((function(t,n){e._positions.find((function(e){return e.id===n}))||e.removeOverlay({id:n})})),this._positions.forEach((function(t){var n,r,i=B([],N(e._positionLine.entries()),!1).find((function(e){return N(e,1)[0]===t.id}));if(i)null===(r=null===(n=null==i?void 0:i[1])||void 0===n?void 0:n.overridePosition)||void 0===r||r.call(n,t);else{var o=N(gn.call(e,t),2);e._positionLine.set(t.id,{overlayId:o[0],overridePosition:o[1]})}}))},t.prototype.createPositions=function(e){this._positions=e,this.updatePosition()},t.prototype.clearCurrentOrder=function(e){var t=this,n=this._currentOrderLine.get(e);this.removeOverlay({name:e}),Array.isArray(n)&&(n.forEach((function(e){t.removeOverlay({id:e})})),n.clear())},t.prototype.updateCurrentOrder=function(e){var t=this;this.clearCurrentOrder(e);var n=this._currentOrder.get(e),r=this._currentOrderLine.get(e);r||(this._currentOrderLine.set(e,new Set),r=this._currentOrderLine.get(e)),Array.isArray(n)&&n.forEach((function(n){n.name=e;var i=xn.call(t,n);null==r||r.add(i)}))},t.prototype.createCurrentOrder=function(e,t){this._currentOrder.set(e,t),this.updateCurrentOrder(e)},t.prototype.setShowDepthChart=function(e){this._miniDepthChart.setSwitchShow(e)},t.prototype.getDepthChart=function(){return this._miniDepthChart},t.prototype.setDepthData=function(e){this._miniDepthChart.setData(e)},t.prototype.destroy=function(){this._chartEvent.destroy(),this._panes.forEach((function(e){e.destroy()})),this._panes.clear(),this._xAxisPane.destroy(),this._miniDepthChart.destory(),this._container.removeChild(this._chartContainer)},t}(),En={},kn=1,Tn={clone:n,merge:t,isString:c,isNumber:a,isValid:s,isObject:o,isArray:r,isFunction:i,isBoolean:l,formatValue:h,formatPrecision:p,formatNumber:E,formatPrecisionAndComma:T,formatBigNumber:v,formatDate:f,getLinearSlopeIntercept:Pe,getLinearYFromSlopeIntercept:ke,getLinearYFromCoordinates:Te,checkCoordinateOnArc:_t,checkCoordinateOnCircle:at,checkCoordinateOnLine:Ee,checkCoordinateOnPolygon:ct,checkCoordinateOnRect:ht,checkCoordinateOnText:gt,drawArc:wt,drawCircle:st,drawLine:Ie,drawPolygon:ut,drawRect:ft,drawText:mt,drawRectText:xt};e.dispose=function(e){var t,n;if(c(e)){var r=document.getElementById(e);n=null!==(t=null==r?void 0:r.getAttribute("chartId"))&&void 0!==t?t:null}else n=e instanceof Sn?e.id:null!=e?e:e.chartId;null!==n&&(En[n].destroy(),delete En[n])},e.getFigureClass=Et,e.getSupportedFigures=function(){return Object.keys(St)},e.getSupportedIndicators=function(){return Object.keys(he)},e.getSupportedLocales=function(){return Object.keys(Bt)},e.getSupportedOverlays=function(){return Object.keys(Le)},e.init=function(e,t){var n,r;if(null===(r=c(e)?document.getElementById(e):e))return null;var i=En[null!==(n=r.chartId)&&void 0!==n?n:""];if(void 0!==i)return i;var o="k_line_chart_".concat(kn++);return(i=new Sn(r,t)).id=o,r.chartId=o,En[o]=i,i},e.registerFigure=function(e){St[e.name]=ot.extend(e)},e.registerIndicator=function(e){he[e.name]=oe.extend(e)},e.registerLocale=function(e,t){Bt[e]=D(D({},Bt[e]),t)},e.registerOverlay=Re,e.registerStyles=function(e,t){Ze[e]=t},e.utils=Tn,e.version=function(){return"1.3.6"}}(t)},91915:function(e,t,n){"use strict";e.exports=n(36952)}}]);