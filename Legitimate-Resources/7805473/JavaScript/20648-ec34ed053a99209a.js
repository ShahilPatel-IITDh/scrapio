(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20648],{84916:function(e,o,n){"use strict";var t=n(57611),s=n(65494),i=n(67597),r=n(75236),l=n.n(r),a=["@gmail.com","@yahoo.com","@skype.com","@hotmail.com","@syvip.com","@outlook.com"],c=function(e){var o=e.id,n=e.allowClear,r=e.onChange,c=e.className,u=e.placeholder,d=e.size,m=e.onBlur,v=e.top,p=void 0===v?56:v,f=e.initialValue,_=e.autoComplete,h=(0,i.useState)(f),g=h[0],w=h[1],b=(0,i.useState)(!1),y=b[0],x=b[1],j=(0,i.useRef)({hasChoose:!1}),C=function(e){j.current.hasChoose=!0,x(!1),w(e)},N=(0,i.useMemo)((function(){var e=null===g||void 0===g?void 0:g.indexOf("@"),o=null===g||void 0===g?void 0:g.lastIndexOf("@"),n=e===o,s=null===g||void 0===g?void 0:g.endsWith("@"),i=null===g||void 0===g?void 0:g.slice(0,e),r=null===a||void 0===a?void 0:a.map((function(e){return"".concat(i+e)}));if(0===(null===i||void 0===i?void 0:i.length)||0===(null===g||void 0===g?void 0:g.length))return(0,t.jsx)(t.Fragment,{});var l=[];return n&&s?l=r:n&&!s&&(l=null===r||void 0===r?void 0:r.filter((function(e){return g&&e.includes(g)}))),(null===l||void 0===l?void 0:l.length)?null===l||void 0===l?void 0:l.map((function(o){return(0,t.jsxs)("div",{className:"email-item",onMouseDown:function(){return C(o)},onTouchStart:function(){return C(o)},children:[null===o||void 0===o?void 0:o.slice(0,e),(0,t.jsx)("span",{children:null===o||void 0===o?void 0:o.slice(e)})]},o)})):(0,t.jsx)(t.Fragment,{})}),[g]);return(0,i.useEffect)((function(){w(f)}),[f]),(0,i.useEffect)((function(){void 0!==g&&(null===r||void 0===r||r(g))}),[g]),(0,t.jsxs)("div",{className:l().EmailInput,children:[(0,t.jsx)(s.Z,{size:d,value:g,id:o,allowClear:n,onChange:function(e){var o,n=null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value;w(n),j.current.hasChoose?j.current.hasChoose=!1:x(!0)},className:c,placeholder:u,onBlur:function(e){var o;null===m||void 0===m||m(null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value,j.current.hasChoose),x(!1),j.current.hasChoose=!1},autoComplete:_}),y&&(0,t.jsx)("div",{className:l().EmailInputHint,style:{top:"".concat(p,"px")},children:N})]})};o.Z=(0,i.memo)(c,(function(e,o){var n,t,s,i=!0;return(null===(n=Object.keys(e))||void 0===n?void 0:n.length)!==(null===(t=Object.keys(o))||void 0===t?void 0:t.length)?i=!1:(null===(s=Object.keys(e))||void 0===s||s.map((function(n){"onChange"!==n&&(null===e||void 0===e?void 0:e[n])!==(null===o||void 0===o?void 0:o[n])&&(i=!1)})),i)}))},27558:function(e,o,n){"use strict";n.d(o,{X:function(){return h},Z:function(){return g}});var t=n(1997),s=n(99097),i=n(51726),r=n(57611),l=n(67597),a=n(68721),c=n(15129),u=n(81987),d=n.n(u),m=n(11896),v=n(72809),p=n(61395),f=n(2595),_=n(97579),h="mexc_pwd_reset_im_info";function g(e){var o=e.secondInfo,n=e.cacheAccountInfo,u=(0,c.useRouter)(),g=(0,s.Z)(a.l0.useForm(),1)[0],w=g.getFieldError,b=g.getFieldValue,y=g.validateFields,x=(0,p.Z)("auth").t,j=(0,l.useState)(!0),C=j[0],N=j[1],Z=(0,l.useState)(!1),P=Z[0],k=Z[1],I=function(){var e=(0,t.Z)((function(e){var t;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:return t={account:o.resetPwdToken,newPwd:_.Z.encrypt("".concat(d()(e.regPassword),"|").concat(Date.now()),d()(o.resetPwdToken).substring(8,24)),resetPwdToken:o.resetPwdToken},[4,(0,v.c0U)(t)];case 1:return 0===s.sent().code&&a.yw.success(x("mc_auth_reset_pwd_success"),(function(){window.sessionStorage.setItem(h,JSON.stringify(n||{})),u.push("/login")})),[2]}}))}));return function(o){return e.apply(this,arguments)}}(),S=function(e){var o=e.regPassword,n=e.regPassword2;return N(!o||!n)},T=function(e){e.target.value&&setTimeout((function(){var e,o;(0,m.Wr)("User_fillPassword",{service_type:"\u5fd8\u8bb0\u5bc6\u7801",is_success:!(null===(e=w("regPassword"))||void 0===e?void 0:e.length),fail_reason:null===(o=w("regPassword"))||void 0===o?void 0:o[0]})}),0),k(!1)},F=function(){var e;return b("regPassword")?P?"":(null===(e=w("regPassword"))||void 0===e?void 0:e.length)?w("regPassword"):null:null};return(0,r.jsxs)(a.l0,{form:g,onFinish:I,layout:"vertical",requiredMark:!1,onValuesChange:function(e,o){return function(e){return y().then((function(){S(e)})).catch((function(o){var n=o.errorFields;(null===n||void 0===n?void 0:n.length)?N(!0):S(e)}))}(o)},children:[(0,r.jsx)(a.l0.Item,{shouldUpdate:!0,noStyle:!0,children:function(){return(0,r.jsx)(a.l0.Item,{label:x("common:mc_common_new_pwd"),validateFirst:!0,name:"regPassword",help:F(),rules:[{pattern:m.ir.base,message:x("common:mc_common_password_format_summary")},{pattern:m.ir.length,message:x("common:mc_common_password_format_summary")},{pattern:m.ir.capitals,message:x("common:mc_common_password_format_summary")},{pattern:m.ir.lowerLetters,message:x("common:mc_common_password_format_summary")},{pattern:m.ir.numbers,message:x("common:mc_common_password_format_summary")},{pattern:m.ir.symbols,message:x("common:mc_common_password_format_summary")}],children:(0,r.jsx)(f.Z,{size:"large",placeholder:x("common:mc_common_enter_pwd"),onFocus:function(){return k(!0)},onBlur:T})})}}),(0,r.jsx)(a.l0.Item,{label:x("common:mc_common_confirm_pwd"),validateFirst:!0,name:"regPassword2",dependencies:["regPassword"],rules:[function(e){var o=e.getFieldValue;return{validator:function(e,n){return n&&o("regPassword")!==n?Promise.reject(x("common:mc_common_confirm_pwd_reject")):Promise.resolve()}}}],children:(0,r.jsx)(a.II.Password,{size:"large",allowClear:!0,placeholder:x("common:mc_common_please_confirm_pwd")})}),(0,r.jsx)(a.zx,{size:"large",disabled:C,style:{width:"100%"},type:"primary",htmlType:"submit",children:x("common:mc_common_sure")})]})}},83999:function(e,o,n){"use strict";var t=n(57044),s=n(16946),i=n(57611),r=n(67597),l=n(68721),a=n(9134),c=n.n(a),u=n(56996),d=n(61395),m=n(9998),v=n.n(m);o.Z=function(e){var o=e.value,n=void 0===o?{}:o,a=e.onChange,m=e.onBlur,p=e.inputProps,f=e.businessType,_=(0,d.Z)("auth").t,h=(0,r.useState)(n.mobile),g=h[0],w=h[1],b=(0,r.useState)({code:n.code,mobileCode:n.mobileCode}),y=b[0],x=b[1],j=(0,r.useState)(n.mobile),C=j[0],N=j[1],Z=function(e){null===a||void 0===a||a((0,t.Z)({code:null===y||void 0===y?void 0:y.code,mobileCode:null===y||void 0===y?void 0:y.mobileCode,mobile:g},e))};return(0,i.jsxs)("div",{className:v().wrapper,children:[(0,i.jsx)(u.Z,{className:v().countrySelect,size:"large",businessType:f,showCountryName:!1,onChange:function(e){x(e),C&&Z({code:e.code,mobileCode:e.mobileCode,mobile:n.mobile})},value:{code:n.code||(null===y||void 0===y?void 0:y.code),mobileCode:n.mobileCode||(null===y||void 0===y?void 0:y.mobileCode)}}),(0,i.jsx)(l.II,(0,s.Z)((0,t.Z)({placeholder:_("common:mc_common_phone")},p),{className:c()("mx-size-lg"),onChange:function(e){var o=e.target.value;a&&w(o),Z({mobile:o}),C||N(!0)},onBlur:m?a?function(){null===a||void 0===a||a({code:null===y||void 0===y?void 0:y.code,mobileCode:null===y||void 0===y?void 0:y.mobileCode,mobile:g}),null===m||void 0===m||m({code:null===y||void 0===y?void 0:y.code,mobileCode:null===y||void 0===y?void 0:y.mobileCode,mobile:g})}:function(){null===m||void 0===m||m({code:null===y||void 0===y?void 0:y.code,mobileCode:null===y||void 0===y?void 0:y.mobileCode,mobile:g})}:null,value:n.mobile||g}))]})}},2595:function(e,o,n){"use strict";var t=n(57044),s=n(57611),i=(n(67597),n(68721)),r=n(11896),l=n(9134),a=n.n(l),c=n(61395),u=n(15129),d=n(92707),m=n(19969),v=n(45894),p=n.n(v);o.Z=function(e){var o=(0,c.Z)("auth").t,n=e.value,l=(0,u.useRouter)().locale,v=(0,d.Z)((function(){return document.querySelector("body")})),f=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:p().passwordTip,children:[r.ir.base.test(n)&&r.ir.length.test(n)?(0,s.jsx)(m.Z,{className:a()("iconfont","iconcheck")}):(0,s.jsx)("span",{className:p().default}),o("common:mc_common_password_length_tip")]}),(0,s.jsxs)("p",{className:p().passwordTip,children:[r.ir.base.test(n)&&r.ir.capitals.test(n)?(0,s.jsx)(m.Z,{className:a()("iconfont","iconcheck")}):(0,s.jsx)("span",{className:p().default}),o("common:mc_common_password_format_tip2")]}),(0,s.jsxs)("p",{className:p().passwordTip,children:[n&&r.ir.base.test(n)&&r.ir.lowerLetters.test(n)?(0,s.jsx)(m.Z,{className:a()("iconfont","iconcheck")}):(0,s.jsx)("span",{className:p().default}),o("common:mc_common_password_format_tip3")]}),(0,s.jsxs)("p",{className:p().passwordTip,children:[r.ir.base.test(n)&&r.ir.numbers.test(n)?(0,s.jsx)(m.Z,{className:a()("iconfont","iconcheck")}):(0,s.jsx)("span",{className:p().default}),o("common:mc_common_password_format_tip4")]}),(0,s.jsxs)("p",{className:p().passwordTip,children:[r.ir.base.test(n)&&r.ir.symbols.test(n)?(0,s.jsx)(m.Z,{className:a()("iconfont","iconcheck")}):(0,s.jsx)("span",{className:p().default}),o("common:mc_common_password_format_tip5")]})]});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.u,{overlayClassName:p().tooltipWrapper,placement:(null===v||void 0===v?void 0:v.width)>760?(0,r.dZ)(l)?"left":"right":(0,r.dZ)(l)?"topLeft":"topRight",title:f,color:"#fff",trigger:"focus",children:(0,s.jsx)(i.II.Password,(0,t.Z)({allowClear:!0},e))})})}},97579:function(e,o,n){"use strict";var t=n(17043),s=n(91677),i=n(97459),r=n.n(i),l=function(){function e(){(0,t.Z)(this,e)}return(0,s.Z)(e,[{key:"getRandomIv",value:function(e){return r().codec.base64.fromBits(null!==e&&void 0!==e?e:r().random.randomWords(3))}},{key:"rightPad",value:function(e,o,n){return e+Array(o-e.length+1).join(n)}},{key:"getKey",value:function(e){if(e){var o=e.length;o>32?e=e.slice(0,32):o>24&&o<32?e=e.slice(0,24):o>16&&o<24?e=e.slice(0,16):o<16&&(e=this.rightPad(e,16,"0"))}else e=this.rightPad("",32,"0");return r().codec.utf8String.toBits(e)}},{key:"encrypt",value:function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=n.ts,s=void 0===t?128:t,i=n.mode,l=void 0===i?"gcm":i,a=n.iv,c={ts:s,mode:l,iv:this.getRandomIv(a)},u=r().encrypt(this.getKey(o),e,c),d=JSON.parse(u),m="".concat(d.iv).concat(d.ct);return m}},{key:"decrypt",value:function(e,o){var n=r().codec.base64.toBits(o),t={mode:"gcm",ts:128,iv:r().codec.base64.fromBits(n.slice(0,3)),ct:r().codec.base64.fromBits(n.slice(3))};return r().decrypt(this.getKey(e),JSON.stringify(t))}}]),e}();o.Z=new l},75236:function(e){e.exports={EmailInput:"EmailInput_EmailInput__tH084",EmailInputHint:"EmailInput_EmailInputHint__mHSj4"}},9998:function(e){e.exports={wrapper:"mobile-input_wrapper__PpKdu",countrySelect:"mobile-input_countrySelect__rW9Yy"}},45894:function(e){e.exports={passwordTip:"password-input_passwordTip__8W_Wv",default:"password-input_default__wAdOW",tooltipWrapper:"password-input_tooltipWrapper__akuQp"}}}]);