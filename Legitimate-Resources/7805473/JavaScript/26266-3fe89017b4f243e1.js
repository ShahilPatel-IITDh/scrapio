(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26266],{49880:function(e,o,n){"use strict";var t=n(1997),i=n(45361),l=n(51726),r=n(57611),a=n(67597),c=n(61338),d=n.n(c),u=n(72809),s=n(68721),v=n(83920),m=n(61395),w=n(9134),g=n.n(w),p=n(54292),f=n.n(p);o.Z=function(e){var o=e.children,n=e.onSuccess,c=e.successAfterBind,w=(0,m.Z)("auth").t,p=(0,a.useRef)(),h=null==={googleClientId:"643629201101-rqafcu4qpoipfcstq29i8cd0gjbeea90.apps.googleusercontent.com",telegramBotId:"5529633069",telegramDeployDomain:"https://www.mexc.com",kakaoKey:"15912b9526fef5163dbbd562440124b8",appleClientId:"mobile.mexcglobal.www.servicesid"}||void 0==={googleClientId:"643629201101-rqafcu4qpoipfcstq29i8cd0gjbeea90.apps.googleusercontent.com",telegramBotId:"5529633069",telegramDeployDomain:"https://www.mexc.com",kakaoKey:"15912b9526fef5163dbbd562440124b8",appleClientId:"mobile.mexcglobal.www.servicesid"}?void 0:"mobile.mexcglobal.www.servicesid";(0,v.ZP)();var b=(0,a.useState)(!1),_=b[0],I=b[1],y=function(){var e,o;(null===p||void 0===p?void 0:p.current)||(null===window||void 0===window?void 0:window.AppleID)&&h&&(p.current=Date.now()+""+Math.random(),null===window||void 0===window||null===(e=window.AppleID)||void 0===e||e.auth.init({clientId:h,scope:"name email",redirectURI:"".concat(null===window||void 0===window||null===(o=window.location)||void 0===o?void 0:o.origin),nonce:p.current,usePopup:!0}))},k=function(){var e=(0,t.Z)((function(){var e,o,t,i,r;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return(null===window||void 0===window?void 0:window.AppleID)&&h?[4,null===window||void 0===window?void 0:window.AppleID.auth.signIn()]:[3,2];case 1:if(e=l.sent(),o=(null===e||void 0===e?void 0:e.authorization).id_token,t={idToken:o,internal:!!c,nonce:p.current},!c){i=localStorage.getItem(v.Bs);try{r=JSON.parse(i)}catch(a){}t.deviceId=(null===r||void 0===r?void 0:r.visitorId)?null===r||void 0===r?void 0:r.visitorId:"unknowndeviceid",t.requestId=null===r||void 0===r?void 0:r.requestId,t.timeZoneOffset=(new Date).getTimezoneOffset()}return setTimeout((function(){o&&(0,u.YmA)(t).then((function(e){var o=e.code,t=e.data;0===o&&t&&n(t)}))}),500),[3,3];case 2:s.yw.error(w("mc_auth_other_login_load_error")),l.label=3;case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){(null===window||void 0===window?void 0:window.AppleID)&&(I(!0),y())}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d(),{id:"apple-auth",src:"https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",onLoad:function(){y(),I(!0)}}),(0,r.jsx)("div",{className:g()((0,i.Z)({},f().disable,!_)),children:(0,a.cloneElement)(o,{onClick:function(){var e,n;_&&(k(),null===(e=o.props)||void 0===e||null===(n=e.onClick)||void 0===n||n.call(e))}})})]})}},51273:function(e,o,n){"use strict";var t=n(45361),i=n(57611),l=n(67597),r=n(61338),a=n.n(r),c=n(72809),d=n(83920),u=n(15129),s=n(9134),v=n.n(s),m=n(92402),w=n.n(m),g=n(54292),p=n.n(g),f=null==={googleClientId:"643629201101-rqafcu4qpoipfcstq29i8cd0gjbeea90.apps.googleusercontent.com",telegramBotId:"5529633069",telegramDeployDomain:"https://www.mexc.com",kakaoKey:"15912b9526fef5163dbbd562440124b8",appleClientId:"mobile.mexcglobal.www.servicesid"}||void 0==={googleClientId:"643629201101-rqafcu4qpoipfcstq29i8cd0gjbeea90.apps.googleusercontent.com",telegramBotId:"5529633069",telegramDeployDomain:"https://www.mexc.com",kakaoKey:"15912b9526fef5163dbbd562440124b8",appleClientId:"mobile.mexcglobal.www.servicesid"}?void 0:"643629201101-rqafcu4qpoipfcstq29i8cd0gjbeea90.apps.googleusercontent.com";o.Z=function(e){var o=e.children,n=e.onSuccess,r=e.successAfterBind;(0,d.ZP)();var s=(0,u.useRouter)().locale,m=(0,l.useState)(!1),g=m[0],h=m[1],b=function(e){var o=null===e||void 0===e?void 0:e.credential;if(o&&"function"===typeof n){var t={idToken:o,internal:!!r};if(!r){var i,l=localStorage.getItem(d.Bs);try{i=JSON.parse(l)}catch(a){}t.deviceId=(null===i||void 0===i?void 0:i.visitorId)?i.visitorId:"unknowndeviceid",t.requestId=null===i||void 0===i?void 0:i.requestId,t.timeZoneOffset=(new Date).getTimezoneOffset()}setTimeout((function(){(0,c.Nny)(t).then((function(e){var o=e.code,t=e.data;0===o&&t&&n(t)}))}),500)}};return(0,l.useEffect)((function(){var e,o;if((null===(e=window.google)||void 0===e||null===(o=e.accounts)||void 0===o?void 0:o.id)&&g)return function(){var e,o,n,t,i,l,r,a;f&&(null===(e=window.google)||void 0===e||null===(o=e.accounts)||void 0===o||null===(n=o.id)||void 0===n||null===(t=n.initialize)||void 0===t||t.call(n,{client_id:f,callback:b}),null===(i=window.google)||void 0===i||null===(l=i.accounts)||void 0===l||null===(r=l.id)||void 0===r||null===(a=r.renderButton)||void 0===a||a.call(r,document.getElementById("google-auth-button"),{theme:"outline",size:"large"}))}(),function(){var e,o,n,t;null===(e=window.google)||void 0===e||null===(o=e.accounts)||void 0===o||null===(n=o.id)||void 0===n||null===(t=n.cancel)||void 0===t||t.call(n)}}),[s,g]),(0,l.useEffect)((function(){var e,o;!g&&(null===(e=window.google)||void 0===e||null===(o=e.accounts)||void 0===o?void 0:o.id)&&h(!0)}),[g]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a(),{id:"google-auth",src:"https://accounts.google.com/gsi/client",onLoad:function(){h(!0)}}),(0,i.jsxs)("div",{className:v()(w().wrapper,(0,t.Z)({},p().disable,!g)),children:[(0,i.jsx)("div",{className:w().googleAuthWrapper,id:"google-auth-button"}),o]})]})}},86633:function(e,o,n){"use strict";var t=n(1997),i=n(45361),l=n(51726),r=n(57611),a=n(67597),c=n(61338),d=n.n(c),u=n(72809),s=n(68721),v=n(61395),m=n(3265),w=n(9134),g=n.n(w),p=n(11896),f=n(54292),h=n.n(f);o.ZP=function(e){var o,n=e.children,c=e.onSuccess,w=e.successAfterBind,f=(0,v.Z)("auth").t,b=(0,a.useRef)(),_=(0,a.useRef)(!1),I=(0,a.useState)(0),y=(I[0],I[1]),k=(0,a.useState)(!1),q=k[0],x=k[1],D=(0,a.useRef)({dialogTimeout:null,detectDialogTimeout:null,requestTimeout:null}),C=(0,a.useRef)(!1),j=(0,a.useRef)(!1),S=function(){clearTimeout(D.current.requestTimeout),clearTimeout(D.current.dialogTimeout),_.current=!1,y((function(e){return e+1}))},Z=function(){var e=(0,t.Z)((function(){return(0,l.__generator)(this,(function(e){return(null===window||void 0===window?void 0:window.MetaMaskSDK)||s.yw.error(f("mc_auth_other_login_load_error")),[2]}))}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,t.Z)((function(e,o,n){var t,i,r,a,d,v,m;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return 0===e?(s.yw.error(f("mc_auth_other_login_load_error")),[2]):(null===(a=(null===(t=b.current)||void 0===t||null===(i=t.getState)||void 0===i?void 0:i.call(t))||(null===(r=b.current)||void 0===r?void 0:r._state))||void 0===a?void 0:a.isConnected)?C.current&&(null===window||void 0===window?void 0:window.web3)?[2]:(C.current=!0,[4,null===(d=b.current)||void 0===d?void 0:d.request({method:"personal_sign",params:[o,n]})]):[3,2];case 1:return v=l.sent(),m={internal:!!w,publicAddress:n,sign:v},setTimeout((function(){(0,u.K2h)(m).then((function(e){C.current=!1;var o=e.code,n=e.data;0===o&&n&&c(n)}))}),500),[3,3];case 2:T(e-1,o,n),l.label=3;case 3:return[2]}}))}));return function(o,n,t){return e.apply(this,arguments)}}(),A=function(){var e=(0,t.Z)((function(){var e,o,n,t,i,r,a,c,d,v,m;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:if(e=new window.MetaMaskSDK.MetaMaskSDK({shouldShimWeb3:!1}),b.current=e.getProvider(),_.current)return[2];_.current=!0,y((function(e){return e+1})),function(){if(!j.current){var e=(0,p.Bl)().isMobile;(null===window||void 0===window?void 0:window.web3)||e||(setTimeout((function(){document.querySelector("body>div.metamask-container>div[class^=css]>div>div")&&(console.log("\u5f39\u7a97\u5df2\u7ecf\u51fa\u73b0"),j.current=!0,S())}),50),D.current.dialogTimeout=setTimeout((function(){var e=document.querySelector("body>div.metamask-container");(null===e||void 0===e?void 0:e.querySelector("&>div[class^=css]>div>div"))||(s.yw.error(f("mc_auth_other_login_load_error")),null===e||void 0===e||e.remove()),S()}),3e3))}}(),l.label=1;case 1:return l.trys.push([1,7,8,9]),(null===b||void 0===b?void 0:b.current)?(D.current.requestTimeout=setTimeout((function(){_.current=!1,y((function(e){return e+1}))}),15e3),[4,null===(o=b.current)||void 0===o?void 0:o.request({method:"eth_requestAccounts"})]):[3,5];case 2:return t=l.sent(),i=(null===t||void 0===t?void 0:t[0])||t,[4,(0,u.nJ8)({internal:!!w,publicAddress:i})];case 3:for(r=l.sent(),a=null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.nonce,c="",d=0;d<a.length;d++)c+=a.charCodeAt(d).toString(16);return v="0x".concat(c),[4,T(5,v,i)];case 4:return l.sent(),[3,6];case 5:s.yw.error(f("mc_auth_other_login_load_error")),l.label=6;case 6:return[3,9];case 7:return m=l.sent(),C.current=!1,-32603===m.code&&location.reload(),-32002===m.code&&s.yw.error(f("mc_auth_other_login_metamask_enabled")),[3,9];case 8:return S(),[7];case 9:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){(null===window||void 0===window?void 0:window.MetaMaskSDK)&&(x(!0),Z())}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d(),{id:"metamask-auth",src:"/staticjs/metamask-sdk.js",onLoad:function(){x(!0),Z()}}),(0,r.jsxs)("div",{className:g()((o={},(0,i.Z)(o,h().loading,_.current),(0,i.Z)(o,h().disable,!q),o)),children:[(0,a.cloneElement)(n,{onClick:function(){var e,o;q&&(A(),null===(e=n.props)||void 0===e||null===(o=e.onClick)||void 0===o||o.call(e))}}),_.current&&(0,r.jsx)("div",{className:"loading-icon-box",children:(0,r.jsx)(m.gbz,{className:"loading-icon"})})]})]})}},60552:function(e,o,n){"use strict";var t=n(45361),i=n(57611),l=n(67597),r=n(72809),a=n(68721),c=n(61395),d=n(9134),u=n.n(d),s=n(54292),v=n.n(s),m=null==={googleClientId:"643629201101-rqafcu4qpoipfcstq29i8cd0gjbeea90.apps.googleusercontent.com",telegramBotId:"5529633069",telegramDeployDomain:"https://www.mexc.com",kakaoKey:"15912b9526fef5163dbbd562440124b8",appleClientId:"mobile.mexcglobal.www.servicesid"}||void 0==={googleClientId:"643629201101-rqafcu4qpoipfcstq29i8cd0gjbeea90.apps.googleusercontent.com",telegramBotId:"5529633069",telegramDeployDomain:"https://www.mexc.com",kakaoKey:"15912b9526fef5163dbbd562440124b8",appleClientId:"mobile.mexcglobal.www.servicesid"}?void 0:"https://www.mexc.com",w=null==={googleClientId:"643629201101-rqafcu4qpoipfcstq29i8cd0gjbeea90.apps.googleusercontent.com",telegramBotId:"5529633069",telegramDeployDomain:"https://www.mexc.com",kakaoKey:"15912b9526fef5163dbbd562440124b8",appleClientId:"mobile.mexcglobal.www.servicesid"}||void 0==={googleClientId:"643629201101-rqafcu4qpoipfcstq29i8cd0gjbeea90.apps.googleusercontent.com",telegramBotId:"5529633069",telegramDeployDomain:"https://www.mexc.com",kakaoKey:"15912b9526fef5163dbbd562440124b8",appleClientId:"mobile.mexcglobal.www.servicesid"}?void 0:"5529633069";o.Z=function(e){var o=e.children,n=e.onSuccess,d=e.successAfterBind,s=(0,c.Z)("auth").t,g=(0,l.useRef)(null),p=(0,l.useState)(!1),f=p[0],h=p[1];return(0,l.useEffect)((function(){if(m&&w){var e=document.createElement("iframe");e.id="telegram-auth-iframe",e.width=0,e.height=0,e.style.display="none",e.style.visibility="hidden",e.src="".concat(m,"/static-pages/telegram-auth.html"),e.onload=function(){g.current=e},document.body.appendChild(e);var o=function(e){var o=e.origin,t=e.data,i=null===t||void 0===t?void 0:t.source,l=null===t||void 0===t?void 0:t.payload;if(o===m&&("telegram-auth-onload"===i&&h(!0),"telegram-auth-success"===i&&l&&"function"===typeof n)){var a=l.first_name,c=l.last_name,u=l.auth_date,s=l.hash,v=l.id,w=l.photo_url,g={userId:v,firstName:a,lastName:c,username:l.username,photoUrl:w,authDate:u,hash:s,internal:!!d};(0,r.cQm)(g).then((function(e){var o=e.code,t=e.data;0===o&&t&&n(t)}))}};return window.addEventListener("message",o),function(){document.body.removeChild(e),window.removeEventListener("message",o)}}}),[]),(0,i.jsx)("div",{className:u()((0,t.Z)({},v().disable,!f)),children:(0,l.cloneElement)(o,{onClick:function(){var e,n;f&&(f?g.current&&g.current.contentWindow.postMessage({source:"telegram-login-auth",botId:w},m):a.yw.error(s("mc_auth_other_login_load_error")),null===(e=o.props)||void 0===e||null===(n=e.onClick)||void 0===n||n.call(e))}})})}},92402:function(e){e.exports={wrapper:"google-login_wrapper__sS663",googleAuthWrapper:"google-login_googleAuthWrapper__Er1vU"}},54292:function(e){e.exports={loading:"third-login_loading__VfC0T",disable:"third-login_disable__Zuw4m"}}}]);