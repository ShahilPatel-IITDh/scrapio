(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87369],{90953:function(e,r,t){"use strict";t.d(r,{G:function(){return d}});var n=t(59499),i=t(76661),o=t(256),a=t(87189);function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let c={},u=i.Ps`
  mutation loginWithThirdPartyService(
    $input: LoginWithThirdPartyServiceInput!
  ) {
    loginWithThirdPartyService(input: $input) {
      error {
        ...Error
      }
    }
  }
  ${a.vN}
`;function d(e){let r=s(s({},c),e);return o.D(u,r)}},87369:function(e,r,t){"use strict";let n,i;t.r(r),t.d(r,{PANEL_WIDTH:function(){return r3},default:function(){return r5}});var o,a,l=t(59499),s=t(94184),c=t.n(s),u=t(88306),d=t.n(u),f=t(11163),p=t(67294),m=t(34258),b=t(55206),O=t(27733),v=t(95009),g=t(4730),y=t(82580),E=t(86896),j=t(44012),h=t(43488),R=t(70898),S=t(99847),C=t(27507),I=t(20155),x=t(66169),w=t(99730),P=t(79832),Z=t(38947),_=t(50668),N=t(90953),k=t(590),D=t(10873),A=t(69942),T=t(43758),L=t(88389),F=t(71527),M=t(69125),U=t(49042),G=t(85893);function V(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}(o=n||(n={}))[o.SUCCESS=1]="SUCCESS",o[o.ERROR=0]="ERROR",o[o.NO_TIE=-1]="NO_TIE";var B=()=>{let{refetch:e}=(0,k.Z)("cache-first",!0),{sendNotification:r}=(0,S.ZP)(),[t,{error:i,loading:o}]=(0,N.G)(),a=(0,p.useCallback)(async r=>{try{var i,o,a;let l=await t({variables:{input:{token:r,refreshToken:null,service:h.FR.Facebook,grantType:h.eW.AccessToken}},context:{headers:{[D.eX]:null===(i=(0,D.pc)())||void 0===i?void 0:i.token,[A.G]:(0,A.V)()}}}),s=null==l?void 0:null===(o=l.data)||void 0===o?void 0:o.loginWithThirdPartyService;if((null==s?void 0:null===(a=s.error)||void 0===a?void 0:a.code)===U.Rb)return(0,T.q)(M.Mk.NO_TIE_ERROR),(0,M.bF)(M.Mk.NO_TIE_ERROR),n.NO_TIE;if((0,L.gC)(s))return e(),(0,T.q)(M.Mk.FACEBOOK_SUCCESS),(0,M.bF)(M.Mk.FACEBOOK_SUCCESS),n.SUCCESS;return(0,T.q)(M.Mk.FACEBOOK_FAILURE),(0,M.bF)(M.Mk.FACEBOOK_FAILURE),n.ERROR}catch(e){return(0,T.q)(M.Mk.FACEBOOK_FAILURE),(0,M.bF)(M.Mk.FACEBOOK_FAILURE),n.ERROR}},[t,e]);return(0,p.useEffect)(()=>{i&&r((0,G.jsx)(j.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?V(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},F.Z.loginError)),{type:S.Dy.ERROR,autoClose:!0})},[i,r]),{loading:o,facebookLogin:a}},K=t(73955),q=t.n(K),W=t(4298),H=t.n(W),$=t(76661),Y=t(93633),z=t(87189);function Q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function X(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Q(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let J={},ee=$.Ps`
  query requireCaptcha($captchaType: CaptchaType) {
    requireCaptcha(captchaType: $captchaType) {
      requireCaptcha
      error {
        ...Error
      }
    }
  }
  ${z.vN}
`;var er=t(34155);let et=["resetHash"];function en(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function ei(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?en(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):en(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let{RECAPTCHA_V2_KEY:eo="6LcA8EUUAAAAAG17qfEfNaX6H8ozmI-IvmokZUnZ"}=er.env,ea=function(e){var r,t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{data:i,error:o}=function(e){let r=X(X({},J),e);return Y.a(ee,r)}({variables:{captchaType:e},skip:n}),a=!!(null!=i&&null!==(r=i.requireCaptcha)&&void 0!==r&&r.requireCaptcha)||!!o||!!(null!=i&&null!==(t=i.requireCaptcha)&&void 0!==t&&t.error);return{needsCaptcha:a}},el=()=>{let{0:e,1:r}=(0,p.useState)(void 0),t=(0,p.useCallback)(()=>{r((e||0)+1)},[e]);return[e,t]};var es=(0,p.memo)(e=>{let{resetHash:r}=e,t=(0,g.Z)(e,et),{0:n,1:i}=(0,p.useState)(),{submitCount:o}=(0,y.u6)(),[,{error:a},{setValue:l}]=(0,y.U$)("captcha"),s=o>0&&a,u=(0,p.useRef)(null);return(0,p.useEffect)(()=>{if(!u.current)return;let e=q()("recatchaOncallback");return window[e]=()=>{try{grecaptcha.render(u.current,{sitekey:eo,callback:e=>{l(e)},"expired-callback":()=>{l(void 0)},"error-callback":()=>{l(void 0)}})}catch(e){}},i(e),()=>{window[e]=void 0}},[]),(0,p.useEffect)(()=>{if(r)try{l(void 0),grecaptcha.reset()}catch(e){}},[r]),(0,G.jsxs)("div",ei(ei({},t),{},{children:[n&&(0,G.jsx)(H(),{src:`https://www.google.com/recaptcha/api.js?onload=${n}&render=explicit`}),(0,G.jsxs)("div",{className:c()("w-full overflow-hidden","dljoyr2"),children:[(0,G.jsx)("div",{ref:u}),s&&(0,G.jsx)("div",{className:"text-alertRed mt-1 text-sm",children:(0,G.jsx)(j.Z,ei({},a))})]})]}))});t(82884);var ec=t(1071);let eu=["title","description","handler","footer","className"];function ed(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function ef(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ed(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ed(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var ep=e=>{let{title:r,description:t,handler:n,footer:i,className:o}=e,a=(0,g.Z)(e,eu);return(0,G.jsxs)("div",ef(ef({},a),{},{className:c()(o,"flex flex-col items-center pt-8"),children:[(0,G.jsx)(ec.Z,{alt:"",role:"presentation",src:"/images/login/letter.svg",width:"120",height:"120"}),(0,G.jsx)("h1",{className:"ds-font-title-2 font-semibold mb-2 mt-10",children:r}),(0,G.jsx)("div",{className:"text-center mb-9",children:t}),n,(0,G.jsx)("div",{className:"text-center ds-font-tiny text-gray6",children:i})]}))},em=t(52874),eb=()=>(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("svg",{className:"top-0 left-0 absolute",width:"119",height:"164",viewBox:"0 0 119 164",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,G.jsx)("path",{d:"M110.828 64.5715C101.08 79.2181 80.6995 88.0884 67.5824 96.1073C54.4151 104.318 48.6319 111.606 41.0813 120.581C33.4603 129.434 24.3129 139.832 9.61932 149.588C-5.02416 159.151 -25.2843 167.951 -36.8417 161.418C-48.3991 154.886 -51.3743 133.091 -50.9515 115.473C-50.5287 97.8547 -46.6375 84.533 -50.5238 68.9552C-54.2191 53.4277 -65.6216 35.7651 -63.9307 22.2731C-62.1193 8.71038 -47.2849 -0.802786 -32.0859 -4.68559C-16.8165 -8.44734 -1.25282 -6.69978 17.5823 -12.3907C36.2264 -18.132 58.3329 -31.2614 75.7556 -28.8186C93.2284 -26.5675 106.279 -8.57278 113.211 10.5755C119.953 29.6734 120.767 49.9753 110.828 64.5715Z",fill:"#97CAD1",fillOpacity:"0.1"})}),(0,G.jsx)("svg",{className:"bottom-8 right-0 absolute",width:"91",height:"180",viewBox:"0 0 91 180",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,G.jsx)("path",{d:"M31.107 139.602C20.1459 122.471 5.63877 107.706 1.47524 89.707C-2.68829 71.7083 3.60187 50.5323 18.4541 39.4806C33.1962 28.3731 56.4501 27.2159 73.5743 25.334C90.5286 23.5146 101.413 20.8522 114.992 14.5031C128.68 8.20975 145.014 -1.94425 157.075 0.444413C169.135 2.83308 176.924 17.7644 182.153 32.2917C187.491 46.8747 190.44 60.9911 187.448 73.7358C184.515 86.3623 175.642 97.617 169.461 110.382C163.279 123.147 159.789 137.422 151.192 145.4C142.764 153.315 129.179 154.76 112.602 162.117C95.9148 169.419 76.1862 182.459 62.6946 179.347C49.203 176.234 41.8981 156.795 31.107 139.602Z",fill:"#FFAD43",fillOpacity:"0.1"})}),(0,G.jsx)("svg",{className:"bottom-24 right-0 absolute",width:"20",height:"208",viewBox:"0 0 20 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,G.jsx)("path",{d:"M20.5684 161.408C12.928 141.862 1.19431 125.051 0.648726 104.462C0.103153 83.8722 10.8462 59.5676 28.2254 46.7997C45.5039 33.9689 69.4031 32.4757 87.2136 30.1965C104.838 27.9902 116.46 24.8618 131.579 17.4905C146.798 10.1822 165.5 -1.56785 177.283 1.08179C189.066 3.73141 193.929 20.7808 196.27 37.3857C198.712 54.0536 198.817 70.2042 193.159 84.8261C187.586 99.3121 176.249 112.269 167.341 126.938C158.434 141.606 151.955 157.984 141.571 167.186C131.372 176.315 117.252 178.067 98.8756 186.615C80.3986 195.1 57.6497 210.181 44.5597 206.712C31.4697 203.244 28.0231 181.027 20.5684 161.408Z",fill:"#F65858",fillOpacity:"0.1"})})]}),eO=()=>{let{formatMessage:e}=(0,E.Z)(),{submitCount:r,errors:t,isValid:n}=(0,y.u6)(),{makeAnnouncement:i}=(0,R.Z)(),{0:o,1:a}=(0,p.useState)(r);return(0,p.useEffect)(()=>{var l;let s=null===(l=Object.keys(t))||void 0===l?void 0:l.length;r>0&&s>0&&!n&&r!==o&&(a(r),i(e(F.Z.a11yValidationsError,{COUNT:s})))},[r,t,n,o,e,i]),null};let ev=["children","dataEventCategory","a11yDescription","hasBackButton","backButtonAriaLabel","backButtonOnClick","isModal","showBg","isRegister"];function eg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function ey(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?eg(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eg(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var eE=e=>{let{children:r,dataEventCategory:t,a11yDescription:n,hasBackButton:i,backButtonAriaLabel:o,backButtonOnClick:a,isModal:l,showBg:s,isRegister:u}=e,d=(0,g.Z)(e,ev);return(0,G.jsxs)("section",ey(ey({},d),{},{className:c()("w-full","sbdsy28",d.className),"data-event-category":t,children:[s&&(0,G.jsx)(eb,{}),n&&(0,G.jsx)("span",{className:"sr-only","aria-live":"polite",children:n}),(0,G.jsx)(eO,{}),i&&(0,G.jsx)("button",{"aria-label":o,onClick:a,className:c()("absolute top-3.5 sm:left-4 sm:top-5 h-6",l&&"left-2",!l&&u&&"left-6",!l&&!u&&"left-0"),type:"button",children:(0,G.jsx)(ec.Z,{alt:"",role:"presentation",src:"/images/design-system-icons/caret-left-outline.svg",width:"24",height:"24"})}),r]}))};t(25400);var ej=t(60983),eh=t(13139),eR=t(83396),eS=t(73621),eC=t(38618);function eI(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var ex=(e,r)=>{let{sendNotification:t}=(0,S.ZP)(),{0:n,1:i}=(0,p.useState)(!1),o=(0,p.useCallback)(()=>{t((0,G.jsx)(j.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?eI(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eI(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},w.Z.socialLoginError)),{type:S.Dy.ERROR,autoClose:!0})},[t]),a=(0,p.useCallback)(async()=>{try{if(n)return;i(!0),await (0,eC.u)(),FB.login(t=>{if((null==t?void 0:t.status)==="connected"){var n;null==e||e(null==t?void 0:null===(n=t.authResponse)||void 0===n?void 0:n.accessToken)}else(null==t?void 0:t.status)!=="unknown"&&(r?r():o())},{scope:"email,user_friends",auth_type:"reauthorize"}),i(!1)}catch(e){r?r():o(),i(!1)}},[n,e,o,r]);return{getToken:a,fbProgress:n}},ew=t(14272),eP=t(54141),eZ=t(48905);let e_=["iconSrc","asButton","disabled"];function eN(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function ek(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?eN(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eN(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var eD=e=>{let{iconSrc:r,asButton:t,disabled:n}=e,i=(0,g.Z)(e,e_),o=t?C.ZP:eZ.Z;return(0,G.jsxs)(o,ek(ek({tabIndex:0,role:"button"},i),{},{className:c()(i.className,"w-full font-normal border border-gray6 h-13 pl-4 rounded-lg flex flex-row items-center justify-between cursor-pointer xs:no-underline hover:no-underline",n&&"bg-gray3 border-gray3 text-gray5","c1g28vq9"),children:[r&&(0,G.jsx)(ec.Z,{alt:"",role:"presentation",src:r,width:"24",height:"24"}),i.children,(0,G.jsx)("i",{})]}))};t(19414);let eA=["onFacebookLogin","onFacebookRegister","returnUrl","onEmailRegister","isRegister","extraParams"];function eT(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function eL(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?eT(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eT(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var eF=e=>{let{onFacebookLogin:r,onFacebookRegister:t,returnUrl:n,onEmailRegister:i,isRegister:o,extraParams:a}=e,l=(0,g.Z)(e,eA),{locale:s}=(0,eh.M)(),u=(0,eP.tZ)(n,s,a),d=o||!1,f=d?u:n,m=(0,p.useCallback)(()=>{(0,v.mjF)((0,eR.Ht)(f,o))},[f,o]),{getToken:b,fbProgress:O}=ex(o?t:r,m),{sendNotification:y}=(0,S.ZP)(),{0:E,1:h}=(0,p.useState)(!1);return(0,p.useLayoutEffect)(()=>{h((0,eS.j9)())},[]),(0,G.jsxs)("div",eL(eL({},l),{},{className:c()("flex flex-col space-y-4 w-full items-center",l.className),children:[(0,G.jsx)(eD,{id:o?"facebook-register":"facebook-login","data-testid":o?"facebook-register":"facebook-login",onClick:e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),b())},href:(0,eR.Ht)(f,d),disabled:O,"data-element-name":o?M.zn.registerFacebook:M.Nh.loginFacebook,iconSrc:"/images/login/facebook.svg","data-event-label":o?"register-with-facebook-option":"login-with-facebook",children:(0,G.jsx)(j.Z,eL({},o?ew.Z.facebookBtn:F.Z.facebookBtn))}),(0,G.jsx)(eD,{id:o?"google-register":"google-login","data-testid":o?"google-register":"google-login",onClick:e=>{E&&(e.preventDefault(),(0,M.bF)(M.Mk.WEB_VIEW_ERROR),y((0,G.jsx)(j.Z,eL(eL({},F.Z.googleSignInAlert),{},{values:{LINK:(0,G.jsx)("a",{className:"underline",target:"_blank",rel:"noreferrer",href:(0,v.AUq)(s),children:(0,G.jsx)(j.Z,eL({},F.Z.googleSignInAlertLink))})}})),{id:"google-alert",type:S.Dy.WARNING}))},disabled:!!E,href:(0,eR.qJ)(f,d),"data-element-name":o?M.zn.registerGoogle:M.Nh.loginGoogle,iconSrc:"/images/login/google.svg","data-event-label":o?"register-with-google-option":"login-with-google",children:(0,G.jsx)(j.Z,eL({},o?ew.Z.googleBtn:F.Z.googleBtn))}),(0,G.jsx)(eD,{id:o?"apple-register":"apple-login","data-testid":o?"apple-register":"apple-login",href:(0,eR.Ws)(f,d),"data-element-name":o?M.zn.registerApple:M.Nh.loginApple,iconSrc:"/images/login/apple.svg","data-event-label":o?"register-with-apple-option":"login-with-apple",children:(0,G.jsx)(j.Z,eL({},o?ew.Z.appleBtn:F.Z.appleBtn))}),o&&(0,G.jsx)("div",{className:"w-full","data-event-category":M.hf.GTM,children:(0,G.jsx)(eD,{asButton:!0,id:"email-register","data-testid":"email-register",onClick:i,iconSrc:"/images/login/email.svg","data-event-label":"register-with-email-option",children:(0,G.jsx)(j.Z,eL({},ew.Z.emailBtn))})})]}))},eM=t(74231);function eU(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function eG(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?eU(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eU(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let eV={email:eM.Z_().email(F.Z.validationEmailFormat).required(F.Z.validationEmailRequired),"current-password":eM.Z_().required(F.Z.validationPasswordRequire)},eB={email:eM.Z_().email(F.Z.validationEmailFormat).required(F.Z.validationEmailRequired)},eK={verificationCode:eM.Z_().required(F.Z.verificationCodeRequired)},eq={captcha:eM.Z_().required(F.Z.validationCaptchaRequired)};var eW=(e,r)=>{let t=(0,p.useMemo)(()=>{let t=eV;return e===L.f7.FORGOT_PASSWORD&&(t=eB),e===L.f7.SIFT_VERIFICATION&&(t=eK),r&&(t=eG(eG({},t),eq)),eM.Ry().shape(t)},[e,r]);return t};let eH=["isLoading","loginHandler","forgotPasswordHandler","facebookLoginHandler","resendVerificationCodeHandler","returnUrl","checkVerificationCodeHandler","onLoginSuccess","isModal","reverifyMember","onRegisterClick","initialView","extraParams","disableBackButton"];function e$(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function eY(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?e$(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):e$(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var ez=e=>{let{isLoading:r,loginHandler:t,forgotPasswordHandler:i,facebookLoginHandler:o,resendVerificationCodeHandler:a,returnUrl:l,checkVerificationCodeHandler:s,onLoginSuccess:u,isModal:d,reverifyMember:f,onRegisterClick:m,initialView:b=L.f7.LOGIN,extraParams:O={},disableBackButton:N}=e,k=(0,g.Z)(e,eH),{registerUrl:D}=(0,_.Z)(l,O),A=(0,E.Z)(),{0:T,1:U}=(0,p.useState)(b),{makeAnnouncement:V}=(0,R.Z)(),{sendNotification:B,closeNotification:K}=(0,S.ZP)(),{0:q,1:W}=(0,p.useState)(null),H=T===L.f7.FORGOT_PASSWORD,[$,Y]=el(),{needsCaptcha:z}=ea(H?h.$I.ForgotPassword:h.$I.Login),Q=eW(T,z),X=T===L.f7.LOGIN,J=T===L.f7.FORGOT_PASSWORD_SUCCESS,ee=T===L.f7.SIFT_VERIFICATION,er=T===L.f7.REVERIFY_MEMBER,et=er||J,en=!X&&!er&&!N,ei=X||H,eo=!ee&&!er&&!J&&z,ec=!et,eu=(0,p.useCallback)(e=>{e.metaKey||e.ctrlKey||((0,P.ZP)({event:"gaEvent",eventCategory:M.ul.GTM,eventAction:"click",eventLabel:M.ul.RESET_BTN}),e.preventDefault(),U(L.f7.FORGOT_PASSWORD))},[]),ed=(0,p.useCallback)(async e=>{let r=await t(e),{message:n}=r;switch(n){case L.dx.LOGIN_SUCCESS:V(A.formatMessage(F.Z.loginSuccessfulAnnouncement)),u();break;case L.dx.SIFT_VERIFICATION_REQUIRED:U(L.f7.SIFT_VERIFICATION),W({memberId:r.memberId,reverifyToken:r.reverifyToken});break;case L.dx.REVERIFY_REQUIRED:U(L.f7.REVERIFY_MEMBER),W({memberId:r.memberId,reverifyToken:r.reverifyToken});break;default:{let e;let r=![L.dx.BLOCKED_MEMBER,L.dx.BOUNCED,L.dx.PASSWORD_RESET_REQUIRED,L.dx.INITIAL_3RD_PARTY_REG].includes(n),t=[L.dx.PASSWORD_RESET_REQUIRED,L.dx.INITIAL_3RD_PARTY_REG].includes(n)?r=>{null==eu||eu(r),K(e)}:void 0;e=B((0,L.e$)(n,t),{type:S.Dy.ERROR,autoClose:r})}}},[t,u,A,V,B,K,eu]),ef=(0,p.useCallback)(async e=>{let r=await o(e);r===n.SUCCESS?(V(A.formatMessage(F.Z.loginSuccessfulAnnouncement)),u()):B((0,G.jsx)(j.Z,eY({},r===n.NO_TIE?w.Z.noTieError:w.Z.socialLoginError)),{type:S.Dy.ERROR,autoClose:!0})},[o,A,V,u,B]),eb=(0,p.useCallback)(async(e,r)=>{let t=await i(e,r);t?U(L.f7.FORGOT_PASSWORD_SUCCESS):Y()},[i,Y]),eO=(0,p.useCallback)(async e=>{let r=eY(eY({},e),q),t=await s(r);if(t.message===L.dx.CHECK_VERIFICATION_CODE_SUCCESS){W(null),u();return}B(A.formatMessage(t.message===L.dx.WRONG_CREDENTIALS_CODE?F.Z.verificationCodeValidationError:F.Z.verificationCodeError),{type:S.Dy.ERROR,autoClose:!0})},[q,s,u,A,B]),ev=(0,p.useCallback)(async()=>{let e=await a(null==q?void 0:q.memberId);B(A.formatMessage(e?F.Z.resendVerificationCodeSuccess:F.Z.resendVerificationCodeError),{type:e?S.Dy.SUCCESS:S.Dy.ERROR,autoClose:!0})},[a,A,q,B]),eg=(0,p.useCallback)(async()=>{let e=await f({reverifyToken:null==q?void 0:q.reverifyToken,memberId:null==q?void 0:q.memberId});B(A.formatMessage(e?F.Z.reverifyRequestEmailSuccess:F.Z.reverifyRequestEmailError),{type:e?S.Dy.SUCCESS:S.Dy.ERROR,autoClose:!0})},[f,A,q,B]),ey=(0,p.useCallback)(async e=>{if(T===L.f7.FORGOT_PASSWORD){await eb(e.email,e.captcha);return}if(T===L.f7.SIFT_VERIFICATION){await eO(e);return}await ed(e)},[T,ed,eb,eO]),eh=A.formatMessage(F.Z.title),eR=A.formatMessage(F.Z.registrationDescription),eS=A.formatMessage(F.Z.loginBtn),eC=M.Nh.loginSubmit,eI=A.formatMessage(F.Z.loginViewStateLogin),ex="";return X&&(ex="login-with-email"),H&&(eh=`${A.formatMessage(F.Z.forgotPassword)}?`,eR=A.formatMessage(F.Z.forgotPasswordDescription),eS=A.formatMessage(F.Z.forgotPasswordBtn),eC=M.Nh.forgotPasswordSubmit,eI=A.formatMessage(F.Z.loginViewStateForgotPassword),ex=eC),J&&(eh=A.formatMessage(F.Z.forgotPasswordSuccess),eR=A.formatMessage(F.Z.forgotPasswordDescriptionSuccess),eI=A.formatMessage(F.Z.forgotPasswordSuccess)),ee&&(eh=A.formatMessage(F.Z.siftVerificationTitle),eR=A.formatMessage(F.Z.siftVerificationDescription),eS=A.formatMessage(F.Z.verificationCodeBtn),eC=M.Nh.verifySubmit,eI=A.formatMessage(F.Z.loginViewStateVerification)),er&&(eh=A.formatMessage(F.Z.reverifyTitle),eI=A.formatMessage(F.Z.loginViewStateEmailVerification)),(0,G.jsx)(y.J9,{initialValues:{rememberMe:!0},onSubmit:ey,validationSchema:Q,children:e=>(er&&(eR=A.formatMessage(F.Z.reverifyDescription,{userEmail:e.values.email})),(0,G.jsxs)(eE,eY(eY({},k),{},{className:"flex flex-col items-center",dataEventCategory:M.Mk.GTM,a11yDescription:eI,hasBackButton:en,backButtonAriaLabel:A.formatMessage(F.Z.loginBackButton),backButtonOnClick:()=>{U(L.f7.LOGIN),W(null),e.resetForm()},isModal:d,children:[(0,G.jsxs)(y.l0,{onSubmit:e.handleSubmit,className:c()("w-full",en&&"pt-18 sm:pt-8"),children:[(0,G.jsxs)("div",{className:c()("flex flex-col",!et&&"mb-1 md:mb-8",{"items-start":H,"items-center":X}),children:[X&&(0,G.jsx)(Z.I4,{width:48,height:48,className:"mb-2"}),!et&&(0,G.jsx)("h1",{className:"ds-font-title-2 font-semibold mb-2",children:eh}),(0,G.jsxs)("div",{className:"flex flex-row space-x-1",children:[!et&&(0,G.jsx)("span",{children:eR}),X&&(0,G.jsx)("a",{className:"text-viridian hover:no-underline",onClick:e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),m())},href:D,"data-element-name":M.Nh.signUp,"data-event-label":"signup-on-login",children:(0,G.jsx)(j.Z,eY({},F.Z.registrationLink))})]})]}),(0,G.jsxs)("div",{className:c()("flex flex-col-reverse md:flex-col items-center space-y-8",k.className),children:[(0,G.jsxs)("div",{className:"w-full",children:[(0,G.jsxs)("div",{className:"w-full flex flex-col space-y-6",children:[ei&&(0,G.jsx)(em.Z,{"aria-required":"true",id:"email",type:"email",name:"email","data-testid":"email",inputMode:"email",label:A.formatMessage(F.Z.emailLabel),className:c()("w-full",H&&"pt-4 sm:pt-0"),onChange:e.handleChange,onBlur:e.handleBlur}),X&&(0,G.jsx)(ej.Z,{id:"current-password","data-testid":"current-password",autoComplete:"current-password",name:"current-password",label:A.formatMessage(F.Z.passwordLabel),labelChildren:(0,G.jsx)("a",{id:"forgot-password",onClick:eu,href:(0,v.TtQ)(),className:"text-viridian ds-font-small hover:no-underline","data-element-name":M.Nh.forgotPassword,"data-event-label":"forgot-password-on-login",children:(0,G.jsx)(j.Z,eY({},F.Z.forgotPassword))}),onChange:e.handleChange,onBlur:e.handleBlur})]}),eo&&(0,G.jsx)(es,{className:"mt-6 sm:pb-2",resetHash:$}),X&&(0,G.jsx)(I.Z,{id:"rememberMe",name:"rememberMe",className:c()("c1jwr8t4","ds-font-small items-center xl:cursor-pointer mt-6"),checked:e.values.rememberMe,onChange:e.handleChange,children:(0,G.jsx)("span",{className:"mt-0.5",children:(0,G.jsx)(j.Z,eY({},F.Z.rememberMe))})}),ee&&(0,G.jsx)(em.Z,{"aria-required":"true",id:"verificationCode",name:"verificationCode","data-testid":"verificationCode",label:A.formatMessage(F.Z.verificationCodeLabel),onChange:e.handleChange,onBlur:e.handleBlur,className:"mt-4"}),ec&&(0,G.jsx)(C.ZP,{"data-testid":"submit",type:"submit",className:c()("w-full ds-font-title-3 h-12",{"mt-4":X,"mt-6":!X}),name:"submitButton",disabled:r,variant:C.c7.PRIMARY,"data-element-name":eC,"data-event-label":ex,children:r&&(0,G.jsx)(x.Z,{className:"my-0 mx-auto"})||eS})]}),X&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:"flex flex-row w-full jsutify-between items-center",children:[(0,G.jsx)("div",{className:"border-b border-gray2 w-full"}),(0,G.jsx)("span",{className:"px-3 text-gray6",children:(0,G.jsx)(j.Z,eY({},F.Z.socialDivider))}),(0,G.jsx)("div",{className:"border-b border-gray2 w-full"})]}),(0,G.jsx)(eF,{extraParams:O,returnUrl:l,onFacebookLogin:ef})]})]}),X&&(0,G.jsx)("div",{className:"flex justify-center mt-8",children:(0,G.jsx)("a",{href:(0,v.aVN)(),className:"text-viridian hover:no-underline ds-font-small","data-element-name":M.Nh.loginIssues,"data-event-label":"issues-with-login-on-login",target:"_blank",rel:"noreferrer",children:(0,G.jsx)(j.Z,eY({},F.Z.issuesWithLogin))})}),ee&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:"mt-8",children:(0,G.jsx)(j.Z,eY(eY({},F.Z.resendVerificationCode),{},{values:{resendBtn:(0,G.jsx)("button",{className:"text-viridian",type:"button",onClick:ev,"data-testid":"resendCode","data-element-name":M.Nh.resendCode,children:(0,G.jsx)(j.Z,eY({},F.Z.here))})}}))}),(0,G.jsx)("div",{className:"mt-2",children:(0,G.jsx)(j.Z,eY(eY({},F.Z.contactUs),{},{values:{contactLink:(0,G.jsx)("a",{href:"mailto:privacy@meetup.com",className:"text-viridian hover:no-underline","data-element-name":M.Nh.contactUs,children:(0,G.jsx)(j.Z,eY({},F.Z.here))})}}))})]})]}),et&&(0,G.jsx)(ep,{title:eh,description:eR,handler:er&&(0,G.jsx)("a",{href:"#",className:"text-viridian hover:no-underline ds-font-small mb-2",onClick:eg,"data-element-name":M.Nh.requestEmail,children:r&&(0,G.jsx)(x.Z,{})||A.formatMessage(F.Z.reverifyCheckListStep2)})||null,footer:(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(j.Z,eY(eY({},er?F.Z.reverifyCheckListStep3:F.Z.forgotPasswordSuccessSupport),{},{values:{link:(0,G.jsx)("a",{target:"_blank",rel:"noreferrer",href:v.Dk8,className:"text-viridian hover:no-underline","data-element-name":M.Nh.support,children:(0,G.jsx)(j.Z,eY({},er?F.Z.reverifyCheckListStep3Link:F.Z.forgotPasswordSuccessSupportLink))})}}))})})]})))})};t(48594);var eQ=t(31209),eX=t(2367),eJ=t(42761),e0=t(15576),e1=t(1163),e2=t(25804),e8=t(20296),e4=t(95638);let e7=["inputProps"];function e9(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function e6(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?e9(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):e9(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var e3=e=>{let{inputProps:r}=e,t=(0,g.Z)(e,e7),{submitCount:n}=(0,y.u6)(),[{value:i},{touched:o,error:a},{setValue:l}]=(0,y.U$)("age"),s=(n>0||o)&&a,u="age-error";return(0,G.jsxs)("div",e6(e6({},t),{},{children:[(0,G.jsx)(I.Z,e6(e6({},r),{},{id:"age",name:"age",className:c()("c1akf99s","ds-font-small items-end xl:cursor-pointer mt-1 -ml-0.5"),"aria-describedby":s?u:void 0,"data-testid":"age",checked:i,onChange:e=>l(e.currentTarget.checked),children:(0,G.jsx)("span",{className:"mr-2",children:(0,G.jsx)(j.Z,e6({},ew.Z.ageText))})})),s&&(0,G.jsxs)("div",{id:u,className:"text-alertRed mt-1 ds-font-tiny",children:[(0,G.jsxs)("span",{className:"sr-only",children:[(0,G.jsx)(j.Z,e6({},F.Z.errorLabel)),"\xa0"]}),(0,G.jsx)(j.Z,e6({},a))]})]}))};t(45123);let e5=(0,p.memo)(e=>{let{onChange:r}=e,{values:t}=(0,y.u6)();return(0,p.useEffect)(()=>{r(null==t?void 0:t.countryCode)},[r,null==t?void 0:t.countryCode]),null});var re=t(67885),rr=t(34850);function rt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var rn=()=>{let{userLocation:e}=(0,re.TH)(),[{value:r},{touched:t,error:n},{setValue:i}]=(0,y.U$)("location"),{setFieldValue:o,submitCount:a}=(0,y.u6)(),s=(a>0||t)&&n,u=(null==e?void 0:e.city)!==void 0&&(null==e?void 0:e.country)!==void 0?`${null==e?void 0:e.city}, ${null==e?void 0:e.country.toUpperCase()}`:"",d=e=>{i(null==e?void 0:e.city),o("countryCode",null==e?void 0:e.country,!1),o("zipCode",null==e?void 0:e.zip,!1)};return(0,p.useEffect)(()=>{!r&&e&&d(e)},[r,e]),(0,G.jsxs)("div",{children:[(0,G.jsx)(rr.Z,{locationName:u,strategy:"absolute",forcedSearchParams:{},onSelect:e=>{d(e)},clickIdContext:"register",hasIcon:!0,inputClassName:"w-full xs:rounded-l-lg xs:rounded-r-lg border pl-11 xs:border-gray2",dropdownClassName:c()("sm:border-gray2 sm:px-1 sm:py-1 text-secondary w-full","sq0xflc"),itemClassName:"p-4",selectedItemClassName:"text-primary bg-gray1"}),s&&(0,G.jsx)("div",{id:"location-error",className:"text-alertRed mt-1 ds-font-tiny",children:(0,G.jsx)(j.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rt(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rt(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},n))})]})};t(26449);var ri=t(42247),ro=t(38460);function ra(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function rl(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ra(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ra(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let rs={},rc=$.Ps`
  query getThirdPartyRegistrantInfo($input: ThirdPartyRegistrantInfoInput!) {
    thirdPartyRegistrantInfo(input: $input) {
      email
      name
      idToken
      refreshToken
      status
      error {
        ...Error
      }
    }
  }
  ${z.vN}
`;var ru=t(86907);(a=i||(i={}))[a.UNKNOWN=0]="UNKNOWN",a[a.NEW_USER=1]="NEW_USER",a[a.EXISTING_USER=2]="EXISTING_USER";let rd=(e,r,t)=>{var n,o;let[a,{data:l,called:s,loading:c,error:u}]=function(e){let r=rl(rl({},rs),e);return ro.t(rc,r)}({fetchPolicy:"cache-and-network",ssr:!1}),d=i.UNKNOWN;[h.Vv.ExistingAccount,h.Vv.ExistingTie].includes(null==l?void 0:null===(n=l.thirdPartyRegistrantInfo)||void 0===n?void 0:n.status)&&(d=i.EXISTING_USER),(null==l?void 0:null===(o=l.thirdPartyRegistrantInfo)||void 0===o?void 0:o.status)===h.Vv.NewRegistration&&(d=i.NEW_USER);let f=(!!e||t&&(0,ru.Jj)())&&r===eP.KG.SOCIAL_FINISH&&(!s||c)&&!u||d===i.EXISTING_USER||(0,ru.Jj)()&&r===eP.KG.SOCIAL_FINISH;return(0,p.useEffect)(()=>{let t=async()=>{null!=e&&e.token&&a&&r===eP.KG.SOCIAL_FINISH&&await a({variables:{input:{token:null==e?void 0:e.token,service:null==e?void 0:e.type,grantType:(0,U.hl)(null==e?void 0:e.type,!1)}}})};t()},[e,a,r]),{data:l,showLoading:f,status:d}};var rf=e=>{let{email:r,name:t}=e,{setFieldValue:n,touched:i}=(0,y.u6)();return(0,p.useEffect)(()=>{r&&!i.email&&n("email",r),t&&!i.name&&n("name",t)},[r,t,i.email,i.name]),null},rp=t(14898);let rm=["isLoading","registerHandler","socialRegisterHandler","returnUrl","onRegisterSuccess","isModal","onLoginClick","reverifyMember","starbucksRegisterHandler","initialViewState","extraParams"];function rb(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function rO(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rb(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rb(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let rv=e=>{switch(e){case eP.KG.EMAIL_FINISH:return(0,G.jsx)(j.Z,rO({},ew.Z.registerViewStateEmailRegistration));case eP.KG.SOCIAL_FINISH:return(0,G.jsx)(j.Z,rO({},ew.Z.registerViewStatePersonal));case eP.KG.ALMOST_DONE:return;case eP.KG.REVERIFY_MEMBER:return(0,G.jsx)(j.Z,rO({},ew.Z.registerViewStateVerification));case eP.KG.MAIN:default:return(0,G.jsx)(j.Z,rO({},ew.Z.registerViewAllyMessage))}},rg=e=>{switch(e){case eP.dK.INVALID_NAME_FORMAT:return(0,G.jsx)(j.Z,rO({},ew.Z.registerInvalidName));case eP.dK.INVALID_ZIP:return(0,G.jsx)(j.Z,rO({},ew.Z.registerInvalidZip));case eP.dK.INVALID_CAPTCHA:return(0,G.jsx)(j.Z,rO({},ew.Z.registerInvalidCaptcha));case eP.dK.INVALID_PASSWORD:return(0,G.jsx)(j.Z,rO({},ew.Z.validationPasswordInvalid));case eP.dK.INVALID_PASSWORD_LENGTH:return(0,G.jsx)(j.Z,rO(rO({},ew.Z.validationPasswordInvalidLength),{},{values:{HELP_LINK:(0,G.jsx)("a",{href:(0,v.jjF)(),children:(0,G.jsx)(j.Z,rO({},ew.Z.helpPasswordLink))})}}));case eP.dK.INVALID_PASSWORD_COMMON:return(0,G.jsx)(j.Z,rO(rO({},ew.Z.validationPasswordInvalidCommon),{},{values:{HELP_LINK:(0,G.jsx)("a",{href:(0,v.jjF)(),children:(0,G.jsx)(j.Z,rO({},ew.Z.helpPasswordLink))})}}));case eP.dK.INVALID_PASSWORD_PWND:return(0,G.jsx)(j.Z,rO(rO({},ew.Z.validationPasswordInvalidPwnd),{},{values:{HELP_LINK:(0,G.jsx)("a",{href:(0,v.jjF)(),children:(0,G.jsx)(j.Z,rO({},ew.Z.helpPasswordLink))})}}));case eP.dK.MISSING_LOCATION_NUMBER_STARBUCKS:return(0,G.jsx)(j.Z,rO({},ew.Z.starbucksMissingNumber));case eP.dK.USED_LOCATION_NUMBER_STARBUCKS:return(0,G.jsx)(j.Z,rO({},ew.Z.starbucksUsedNumber));case eP.dK.INVALID_LOCATION_NUMBER_STARBUCKS:return(0,G.jsx)(j.Z,rO({},ew.Z.starbucksInvalidNumber));default:return(0,G.jsx)(j.Z,rO({},ew.Z.registerError))}};var ry=e=>{var r,t;let{isLoading:n,registerHandler:o,socialRegisterHandler:a,returnUrl:l,onRegisterSuccess:s,isModal:u,onLoginClick:d,reverifyMember:m,starbucksRegisterHandler:b,initialViewState:I=eP.KG.MAIN,extraParams:w={}}=e,P=(0,g.Z)(e,rm),{formatMessage:N}=(0,E.Z)(),{query:D}=(0,f.useRouter)(),{remove:A}=(0,eQ.Z)(),{refetch:L}=(0,k.Z)("cache-first",!0),{locale:F}=(0,eh.M)(),{loginUrl:V,registerUrl:B}=(0,_.Z)(l,w),{0:K,1:q}=(0,p.useState)(),{login:W,loginError:H,loginSuccess:$,called:Y}=(0,e4.Z)(),z=null==D?void 0:D[eP.lB],Q=null==D?void 0:D[eP.Lo],X=z===eP.Su.SOCIAL,J=I;X&&(J=eP.KG.SOCIAL_FINISH),z===eP.Su.EMAIL&&(J=eP.KG.EMAIL_FINISH),Q===eP.Bt.STARBUCKS&&(J=eP.KG.STARBUCKS);let{0:ee,1:er}=(0,p.useState)(J),{sendNotification:et,closeNotification:en}=(0,S.ZP)(),{makeAnnouncement:ei}=(0,R.Z)(),{0:eo,1:eu}=(0,p.useState)(null),{data:ed,showLoading:ef,status:eb}=rd(K,ee,X),eO=ee===eP.KG.MAIN,ev=ee===eP.KG.EMAIL_FINISH,eg=ee===eP.KG.SOCIAL_FINISH,ey=ev||eg&&!ef,eS=ee===eP.KG.REVERIFY_MEMBER,eC=ee===eP.KG.ALMOST_DONE,eI=ee===eP.KG.STARBUCKS,eZ=eO||ev,{needsCaptcha:e_}=ea(h.$I.Register,!(ev||eI)),eN=!!((ev||eI)&&e_),[ek,eD]=el(),{onCountryChange:eA,hasDuesTerms:eT,hasKISA:eL,terms:eM}=(0,e0.YU)();(0,p.useEffect)(()=>{eT&&(0,eJ.Y0)()},[eT]);let eU=(0,rp.Z)(ee,eN,eM),eG=rv(ee),eV=eg||ev||eI,eB=M.zn.registerSubmit;eg&&((null==K?void 0:K.type)===h.FR.Facebook&&(eB=M.zn.registerFacebook),(null==K?void 0:K.type)===h.FR.Apple&&(eB=M.zn.registerApple),(null==K?void 0:K.type)===h.FR.Google&&(eB=M.zn.registerGoogle)),eI&&(eB=M.zn.registerStarbucks);let eK=(0,p.useCallback)(async(e,r,t,n)=>{let i=await a(e,r,t,n);(0,U.qz)(),i?(ei(N(ew.Z.registerSuccessfulAnnouncement)),L(),s()):(eD(),et(N(ew.Z.socialRegisterError),{type:S.Dy.ERROR,autoClose:!0}))},[N,et,a,ei,s,L,eD]),eq=(0,p.useCallback)(e=>{q({token:e,type:h.FR.Facebook}),er(eP.KG.SOCIAL_FINISH)},[]),eW=(0,p.useCallback)(()=>{(0,v.mjF)((0,eR.Ht)(B,!0))},[B]),eH=(0,p.useCallback)(e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),d())},[d]),{getToken:e$}=ex(eq,eW);(0,p.useEffect)(()=>{z===eP.Su.FACEBOOK&&(A(eP.lB),e$())},[z]);let eY=(0,p.useCallback)(async e=>{let r=await o(e);switch(r.message){case eP.dK.REGISTER_SUCCESS:{ei(N(ew.Z.registerSuccessfulAnnouncement));let e=(0,e2.Ar)(r.memberEmail);eu({memberId:r.memberId,inboxUrl:e,reverifyToken:r.reverifyToken}),er(eP.KG.ALMOST_DONE);break}case eP.dK.EMAIL_ALREADY_EXISTS:{let e;eD();let r=(0,G.jsx)(j.Z,rO(rO({},ew.Z.registerEmailAreadyExists),{},{values:{LINK:(0,G.jsx)("a",{className:"underline",href:V,onClick:r=>{en(e),eH(r)},children:(0,G.jsx)(j.Z,rO({},ew.Z.registerEmailAreadyExistsLink))})}}));e=et(r,{type:S.Dy.ERROR,autoClose:!1});break}default:eD(),et(rg(r.message),{type:S.Dy.ERROR,autoClose:!0})}},[eH,V,N,en,o,ei,eD,et]),ez=(0,p.useCallback)(()=>{er(eP.KG.EMAIL_FINISH)},[]),e7=(0,p.useCallback)(async()=>{let e=await m({reverifyToken:null==eo?void 0:eo.reverifyToken,memberId:null==eo?void 0:eo.memberId});return et(N(e?ew.Z.reverifyRequestEmailSuccess:ew.Z.reverifyRequestEmailError),{type:e?S.Dy.SUCCESS:S.Dy.ERROR,autoClose:!0}),!!e},[m,eo,et,N]),e9=(0,p.useCallback)(async e=>{let r=await b(e);r.message===eP.dK.REGISTER_SUCCESS?(ei(N(ew.Z.registerSuccessfulAnnouncement)),(0,v.mjF)((0,v.PDR)())):(eD(),et(rg(r.message),{type:S.Dy.ERROR,autoClose:!0}))},[b,ei,eD,et,N]);(0,p.useEffect)(()=>{let e=(0,U.YG)();null!=e&&e.token&&q(e)},[]);let e6=(0,p.useCallback)(async e=>{let r=rO(rO({},D),w),t=(0,O.NN)(r),n=(0,O.hX)(r),i=(0,O.JL)(r),o=rO(rO({},e),{},{locale:F,groupId:t,eventId:n,returnUri:i,terms:(0,e1.Xy)(e,eM)});if(eg){if(null!=K&&K.token){var a;await eK(o,(0,U.Xg)(K,ed),null==K?void 0:K.type,null==ed?void 0:null===(a=ed.thirdPartyRegistrantInfo)||void 0===a?void 0:a.refreshToken)}return}if(eI){await e9(o);return}await eY(o)},[D,w,F,eM,eg,eI,eY,K,eK,ed,e9]);return(0,p.useEffect)(()=>{let e=async()=>{try{var e,r;let t=K.type===h.FR.Google?null==ed?void 0:null===(e=ed.thirdPartyRegistrantInfo)||void 0===e?void 0:e.idToken:void 0;await W(t||(null==K?void 0:K.token),K.type,null==ed?void 0:null===(r=ed.thirdPartyRegistrantInfo)||void 0===r?void 0:r.refreshToken)}catch(e){(0,U.qz)(),(0,T.q)(M.Mk.THIRD_PARTY_SERVICE_FAILURE),(0,M.bF)((0,eP.Qf)(null==K?void 0:K.type,!1)),et(N(ew.Z.socialRegisterError),{type:S.Dy.ERROR,autoClose:!0}),er(eP.KG.MAIN)}};Y||eb!==i.EXISTING_USER||e()},[N,ed,Y,K,eb,W,et]),(0,p.useEffect)(()=>{$&&((0,T.q)(M.Mk.THIRD_PARTY_SERVICE_SUCCESS),(0,M.bF)((0,eP.Qf)(null==K?void 0:K.type,!0)),L(),s(!0)),H&&((0,T.q)(M.Mk.THIRD_PARTY_SERVICE_FAILURE),(0,M.bF)((0,eP.Qf)(null==K?void 0:K.type,!1)),(0,U.qz)(),et(N(ew.Z.socialRegisterError),{type:S.Dy.ERROR,autoClose:!0}),er(eP.KG.MAIN))},[N,s,$,H,L,null==K?void 0:K.type,et]),(0,G.jsx)(y.J9,{initialValues:{age:!1,name:null==ed?void 0:null===(r=ed.thirdPartyRegistrantInfo)||void 0===r?void 0:r.name,email:null==ed?void 0:null===(t=ed.thirdPartyRegistrantInfo)||void 0===t?void 0:t.email},onSubmit:e6,validationSchema:eU,children:e=>{var r,t,i,o,a,s,d,f;return(0,G.jsxs)(eE,rO(rO({},P),{},{className:"flex flex-col items-center",dataEventCategory:M.hf.GTM,a11yDescription:eG,hasBackButton:ey,backButtonAriaLabel:N(ew.Z.registerBackButton),backButtonOnClick:()=>{(0,U.qz)(),X?(0,v.mjF)(B):(null==e||e.resetForm(),er(eP.KG.MAIN))},isModal:u,showBg:eV,isRegister:!0,children:[(0,G.jsx)(e5,{onChange:eA}),(0,G.jsxs)(y.l0,{className:c()("w-full",(ev||eg)&&"pt-18 sm:pt-8",eI&&"pt-8",!u&&"px-6 sm:px-0"),children:[(0,G.jsxs)("div",{className:c()("flex flex-col",eO||eI?"items-center":"items-start"),children:[eO&&(0,G.jsx)(Z.I4,{width:48,height:48,className:"mb-2"}),eI&&(0,G.jsx)("div",{className:"mb-4",children:(0,G.jsx)(ec.Z,{alt:"",role:"presentation",src:"/images/register/starbucks-meetup-logo-mini.svg",width:"178",height:"64"})}),!eS&&!eC&&(0,G.jsx)("h1",{className:"ds-font-title-2 font-semibold mb-2",children:(0,G.jsx)(j.Z,rO({},eO||eI?ew.Z.title:ew.Z.emailSignupTitle))}),eg&&ef&&(0,G.jsx)(x.Z,{className:"mt-20 mb-8 mx-auto"}),eI&&(0,G.jsx)("div",{className:"text-center",children:(0,G.jsx)(j.Z,rO({},ew.Z.starbucksDescription))})]}),(ey||eI)&&(0,G.jsxs)("div",{className:"w-full flex flex-col space-y-6 mb-4 mt-8",children:[(0,G.jsx)(rf,{email:null==ed?void 0:null===(r=ed.thirdPartyRegistrantInfo)||void 0===r?void 0:r.email,name:null==ed?void 0:null===(t=ed.thirdPartyRegistrantInfo)||void 0===t?void 0:t.name}),(0,G.jsx)(em.Z,{autoFocus:!0,"aria-required":"true",id:"name","data-testid":"name",type:"text",autoComplete:"name",name:"name",label:N(eI?ew.Z.starbucksStoreName:ew.Z.registerNameLabel),onChange:null==e?void 0:e.handleChange,onBlur:null==e?void 0:e.handleBlur,labelClassname:"ds-font-body-medium",hint:N(eI?ew.Z.starbucksStoreNameHint:ew.Z.nameHint),value:(null==e?void 0:null===(i=e.values)||void 0===i?void 0:i.name)||""}),eI&&(0,G.jsx)(em.Z,{"aria-required":"true",id:"storeNumber","data-testid":"storeNumber",type:"text",name:"storeNumber",label:N(ew.Z.starbucksStoreNumber),onChange:null==e?void 0:e.handleChange,onBlur:null==e?void 0:e.handleBlur,labelClassname:"ds-font-body-medium",value:(null==e?void 0:null===(o=e.values)||void 0===o?void 0:o.storeNumber)||""}),(0,G.jsx)(em.Z,{"aria-required":"true",id:"email",type:"email",name:"email","data-testid":"email",placeholder:"example@email.com",inputMode:"email",label:N(eI?ew.Z.starbucksEmailLabel:ew.Z.emailLabel),className:"w-full relative",onChange:null==e?void 0:e.handleChange,onBlur:null==e?void 0:e.handleBlur,hint:N(ew.Z.emailHint),value:(null==e?void 0:null===(a=e.values)||void 0===a?void 0:a.email)||""}),(ev||eI)&&(0,G.jsxs)("div",{className:"w-full relative space-y-2",children:[(0,G.jsx)(ej.Z,{id:"new-password","data-testid":"new-password",autoComplete:"new-password",name:"new-password",label:N(ew.Z.registerPasswordLabel),labelContainerClassname:"xs:justify-start space-x-1 xs:items-center",onChange:null==e?void 0:e.handleChange,onBlur:null==e?void 0:e.handleBlur,labelChildren:(0,G.jsx)(e8.Z,{btnClassName:"mb-1.5",ariaLabel:N(ew.Z.passwordTooltipAriaLabel),toolTipText:N(ew.Z.passwordTooltipText),linkMessage:N(ew.Z.tooltipLinkText),linkUrl:(0,v.jjF)()})}),(0,G.jsx)(ri.Z,{password:null==e?void 0:null===(s=e.values)||void 0===s?void 0:s["new-password"]})]}),(0,G.jsxs)("span",{className:"flex my-4 flex-col",children:[(0,G.jsx)("label",{className:c()("mb-1 font-medium"),htmlFor:"location-bar-in-register",children:(0,G.jsx)(j.Z,rO({},ew.Z.locationLabel))}),(0,G.jsx)(rn,{}),(0,G.jsx)("span",{className:"text-gray6 text-xs font-normal mt-1",children:(0,G.jsx)(j.Z,rO({},ew.Z.locationHint))})]}),(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"flex flex-row space-x-1 items-center",children:[(0,G.jsx)("span",{id:"age-label",className:"ds-font-body-medium",children:(0,G.jsx)(j.Z,rO({},ew.Z.ageLabel))}),(0,G.jsx)(e8.Z,{ariaLabel:N(ew.Z.ageTooltipAriaLabel),toolTipText:N(ew.Z.ageTooltipText),linkMessage:N(ew.Z.tooltipLinkText),linkUrl:(0,v.GUL)()})]}),(0,G.jsx)(e3,{inputProps:{"aria-labelledby":"age-label"}})]}),eT&&(0,G.jsx)("div",{children:(0,G.jsx)(eX.A,{terms:eM})}),eN&&(0,G.jsx)(es,{className:"sm:pb-2",resetHash:ek}),(0,G.jsx)(C.ZP,{"data-testid":"submit-email-registration",type:"submit",className:"w-full ds-font-title-3 h-12",name:"submitRegistrationButton",disabled:n,variant:C.c7.PRIMARY,"data-element-name":eB,"data-event-label":(0,eP.HA)(ee),children:n&&(0,G.jsx)(x.Z,{className:"my-0 mx-auto"})||(0,G.jsx)(j.Z,rO({},ew.Z.registerBtn))}),(0,G.jsx)("p",{className:"ds-font-small text-center",children:(0,G.jsx)(j.Z,rO(rO({},eL?ew.Z.termsTextKISA:ew.Z.termsText),{},{values:{TERMS_LINK:(0,G.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"underline text-viridian",href:(0,v.Kpx)(F),"data-element-name":M.zn.terms,children:(0,G.jsx)(j.Z,rO({},ew.Z.termsLink))}),PRIVACY_LINK:(0,G.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"underline text-viridian",href:eL?(0,v.gfb)():(0,v.pwX)(F),"data-element-name":M.zn.privacy,children:(0,G.jsx)(j.Z,rO({},ew.Z.privacyLink))}),COOKIES_LINK:(0,G.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"underline text-viridian",href:eL?(0,v.$VJ)():(0,v.VqQ)(F),"data-element-name":M.zn.cookies,children:(0,G.jsx)(j.Z,rO({},ew.Z.cookiesLink))})}}))})]}),eZ&&(0,G.jsxs)("div",{className:"flex space-x-1 justify-center",children:[(0,G.jsx)("span",{children:(0,G.jsx)(j.Z,rO({},ew.Z.registerDescription))}),(0,G.jsx)("a",{className:"text-viridian hover:no-underline",onClick:eH,href:V,"data-element-name":M.zn.logIn,children:(0,G.jsx)(j.Z,rO({},ew.Z.loginLink))})]}),eO&&(0,G.jsx)(eF,{onFacebookRegister:eq,isRegister:!0,returnUrl:l,extraParams:w,onEmailRegister:ez,className:"mt-8"})]}),eS&&(0,G.jsx)(ep,{className:!u&&"px-6 sm:px-0",title:N(ew.Z.reverifyTitle),description:N(ew.Z.reverifyDescription,{userEmail:null==e?void 0:null===(d=e.values)||void 0===d?void 0:d.email}),handler:(0,G.jsx)("a",{href:"#",className:"text-viridian hover:no-underline ds-font-small mb-2",onClick:e7,"data-element-name":M.zn.requestEmail,children:n&&(0,G.jsx)(x.Z,{})||(0,G.jsx)(j.Z,rO({},ew.Z.reverifyHandler))}),footer:(0,G.jsx)(j.Z,rO(rO({},ew.Z.reverifyFooter),{},{values:{link:(0,G.jsx)("a",{target:"_blank",rel:"noreferrer",href:v.Dk8,className:"text-viridian hover:no-underline","data-element-name":M.zn.support,children:(0,G.jsx)(j.Z,rO({},ew.Z.reverifyFooterLink))})}}))}),eC&&(0,G.jsx)(ep,{className:!u&&"px-6 sm:px-0",title:N(ew.Z.verificationTitle),description:N(ew.Z.verificationDescription,{EMAIL:null==e?void 0:null===(f=e.values)||void 0===f?void 0:f.email}),handler:(null==eo?void 0:eo.inboxUrl)&&(0,G.jsx)(C.ZP,{type:"button",className:"w-full ds-font-title-3 h-12 mb-4",variant:C.c7.PRIMARY,onClick:()=>{window.open(null==eo?void 0:eo.inboxUrl,"_blank")},"data-event-label":"register-check-your-inbox",children:(0,G.jsx)(j.Z,rO({},ew.Z.verificationCheckBtn))}),footer:(0,G.jsx)(j.Z,rO(rO({},ew.Z.verificationResendText),{},{values:{VERIFICATION:(0,G.jsx)("a",{href:"#",className:"text-viridian hover:no-underline",onClick:async()=>{let e=await e7();e&&!n&&er(eP.KG.REVERIFY_MEMBER)},"data-element-name":M.zn.requestEmail,"data-event-label":"register-request-another-verification-email",children:n&&(0,G.jsx)(x.Z,{className:"my-0 mx-auto",size:"xs"})||(0,G.jsx)(j.Z,rO({},ew.Z.verificationResendLink))})}}))})]}))}})},rE=t(256);function rj(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function rh(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rj(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rj(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let rR={},rS=$.Ps`
  mutation checkSiftVerificationCode($input: CheckSiftVerificationCodeInput!) {
    checkSiftVerificationCode(input: $input) {
      status
      error {
        ...Error
      }
    }
  }
  ${z.vN}
`;function rC(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function rI(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rC(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rC(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let rx={},rw=$.Ps`
  mutation login($input: LoginInput!) {
    login(input: $input) {
      verificationRequired
      memberId
      reverifyToken
      error {
        ...Error
      }
    }
  }
  ${z.vN}
`;function rP(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function rZ(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rP(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rP(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let r_={},rN=$.Ps`
  mutation resendVerificationCode($input: ResendVerificationCodeInput) {
    resendVerificationCode(input: $input)
  }
`;function rk(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function rD(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rk(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rk(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let rA={},rT=$.Ps`
  mutation sendForgotPasswordEmail($input: SendForgotPasswordEmailInput!) {
    sendForgotPasswordEmail(input: $input) {
      devLink
      error {
        ...Error
      }
    }
  }
  ${z.vN}
`;function rL(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function rF(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rL(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rL(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let rM=()=>{let{refetch:e}=(0,k.Z)("cache-first",!0),{sendNotification:r}=(0,S.ZP)(),[t,{error:n,loading:i}]=function(e){let r=rI(rI({},rx),void 0);return rE.D(rw,r)}(),[o,{error:a,loading:l}]=function(e){let r=rZ(rZ({},r_),void 0);return rE.D(rN,r)}(),[s,{error:c,loading:u}]=function(e){let r=rh(rh({},rR),void 0);return rE.D(rS,r)}(),[d,{error:f,loading:m,data:b}]=function(e){let r=rD(rD({},rA),void 0);return rE.D(rT,r)}(),O=(0,p.useCallback)(async r=>{var n,i,o,a,l;try{let s=await t({variables:{input:{email:r.email,password:r["current-password"],captchaToken:(null==r?void 0:r.captcha)||void 0,rememberMe:r.rememberMe}},context:{headers:{[D.eX]:null===(o=(0,D.pc)())||void 0===o?void 0:o.token,[A.G]:(0,A.V)()}}}),c=null==s?void 0:null===(a=s.data)||void 0===a?void 0:a.login;if((0,L.Ro)(c))return(0,T.q)(M.Mk.SIFT_VERIFICATION_REQUIRED),{message:L.dx.SIFT_VERIFICATION_REQUIRED,memberId:null==c?void 0:c.memberId,reverifyToken:null==c?void 0:c.reverifyToken};if((0,L.YM)(c))return(0,T.q)(M.Mk.REVERIFY_REQUIRED),{message:L.dx.REVERIFY_REQUIRED,memberId:null==c?void 0:c.memberId,reverifyToken:null==c?void 0:c.reverifyToken};if((0,L.gC)(c))return e(),(0,T.q)(M.Mk.SUCCESS),(0,M.bF)(M.Mk.SUCCESS),{message:L.dx.LOGIN_SUCCESS};switch((0,T.q)(M.Mk.FAILURE),(0,M.bF)(`${M.Mk.FAILURE}-${(null==c?void 0:null===(l=c.error)||void 0===l?void 0:l.code)||L.dx.LOGIN_FAILURE}`),null==c?void 0:null===(n=c.error)||void 0===n?void 0:n.code){case L.dx.WRONG_CREDENTIALS_CODE:case L.dx.RATE_LIMIT_EXCEEDED:case L.dx.BLOCKED_IP:case L.dx.BLOCKED_MEMBER:case L.dx.PASSWORD_RESET_REQUIRED:case L.dx.BOUNCED:case L.dx.INITIAL_3RD_PARTY_REG:case L.dx.REVERIFY_ERROR_CODE:return{message:null==c?void 0:null===(i=c.error)||void 0===i?void 0:i.code};default:return{message:L.dx.LOGIN_FAILURE}}}catch(e){return(0,T.q)(M.Mk.FAILURE),(0,M.bF)(M.Mk.FAILURE),{message:L.dx.LOGIN_FAILURE}}},[t,e]),v=(0,p.useCallback)(async(e,r)=>{try{var t,n;let i=await d({variables:{input:{email:e,captchaCode:r}},context:{headers:{[D.eX]:null===(t=(0,D.pc)())||void 0===t?void 0:t.token,[A.G]:(0,A.V)()}}}),o=null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.sendForgotPasswordEmail;if(!(null!=o&&o.error))return(0,T.q)(M.Mk.FORGOT_PASSWORD_REQUEST_SUCCESS),(0,M.bF)(M.Mk.FORGOT_PASSWORD_REQUEST_SUCCESS),!0;return(0,T.q)(M.Mk.FORGOT_PASSWORD_REQUEST_FAILURE),(0,M.bF)(M.Mk.FORGOT_PASSWORD_REQUEST_FAILURE),!1}catch(e){return(0,T.q)(M.Mk.FORGOT_PASSWORD_REQUEST_FAILURE),(0,M.bF)(M.Mk.FORGOT_PASSWORD_REQUEST_FAILURE),!1}},[d]),g=(0,p.useCallback)(async e=>{try{var r;let t=await o({variables:{input:{memberId:e}}});if((null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.resendVerificationCode)==="RESEND")return(0,T.q)(M.Mk.RESEND_VERIFICATION_CODE_SUCCESS),!0;return(0,T.q)(M.Mk.RESEND_VERIFICATION_CODE_FAILURE),!1}catch(e){return(0,T.q)(M.Mk.RESEND_VERIFICATION_CODE_FAILURE),!1}},[o]),y=(0,p.useCallback)(async r=>{try{var t;let n=await s({variables:{input:{memberId:r.memberId,code:r.verificationCode,reverifyToken:r.reverifyToken,rememberMe:r.rememberMe}}}),i=null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.checkSiftVerificationCode;if((null==i?void 0:i.status)==="INVALID")return(0,T.q)(M.Mk.CHECK_VERIFICATION_CODE_FAILURE),{message:L.dx.WRONG_CREDENTIALS_CODE};if((null==i?void 0:i.status)==="VALID"&&!(null!=i&&i.error))return e(),(0,T.q)(M.Mk.CHECK_VERIFICATION_CODE_SUCCESS),{message:L.dx.CHECK_VERIFICATION_CODE_SUCCESS};return(0,T.q)(M.Mk.CHECK_VERIFICATION_CODE_FAILURE),{message:L.dx.CHECK_VERIFICATION_CODE_FAILURE}}catch(e){return(0,T.q)(M.Mk.CHECK_VERIFICATION_CODE_FAILURE),{message:L.dx.CHECK_VERIFICATION_CODE_FAILURE}}},[s,e]);return(0,p.useEffect)(()=>{n&&r((0,G.jsx)(j.Z,rF({},F.Z.loginError)),{type:S.Dy.ERROR,autoClose:!0}),a&&r((0,G.jsx)(j.Z,rF({},F.Z.resendVerificationCodeError)),{type:S.Dy.ERROR,autoClose:!0}),c&&r((0,G.jsx)(j.Z,rF({},F.Z.verificationCodeError)),{type:S.Dy.ERROR,autoClose:!0})},[n,a,c,r]),(0,p.useEffect)(()=>{var e;(f||null!=b&&null!==(e=b.sendForgotPasswordEmail)&&void 0!==e&&e.error)&&r((0,G.jsx)(j.Z,rF({},F.Z.forgotPassowrdCodeError)),{type:S.Dy.ERROR,autoClose:!0})},[f,b,r]),{loading:i||l||u||m,login:O,sendForgotPassword:v,resendVerificationCode:g,checkVerificationCode:y}};function rU(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function rG(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rU(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rU(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let rV={},rB=$.Ps`
  mutation customRegister($input: CustomRegisterInput!) {
    customRegister(input: $input) {
      error {
        ...Error
      }
    }
  }
  ${z.vN}
`;function rK(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function rq(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rK(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rK(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let rW={},rH=$.Ps`
  mutation registerMemberWithEmail($input: MemberRegistrationWithEmailInput!) {
    registerMemberWithEmail(input: $input) {
      reverifyToken
      member {
        id
        name
        email
      }
      error {
        code
        message
      }
    }
  }
`;function r$(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function rY(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?r$(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r$(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let rz={},rQ=$.Ps`
  mutation registerMemberWithThirdPartyService(
    $input: MemberRegistrationWithThirdPartyServiceInput!
  ) {
    registerMemberWithThirdPartyService(input: $input) {
      member {
        id
        name
        email
      }
      errors {
        ...Error
      }
    }
  }
  ${z.vN}
`;function rX(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}let rJ=()=>{let{sendNotification:e}=(0,S.ZP)(),[r,{error:t,loading:n}]=function(e){let r=rq(rq({},rW),void 0);return rE.D(rH,r)}(),[i,{error:o,loading:a}]=function(e){let r=rY(rY({},rz),void 0);return rE.D(rQ,r)}(),[s,{error:c,loading:u}]=function(e){let r=rG(rG({},rV),void 0);return rE.D(rB,r)}(),d=(0,p.useCallback)(async e=>{try{var t,n,i,o,a,l;let s=await r({variables:{input:{name:e.name,password:e["new-password"],email:e.email,countryCode:e.countryCode,zipCode:e.zipCode,locale:e.locale,captchaCode:e.captcha||"",referenceGroupId:e.groupId,referenceEventId:e.eventId,returnUri:e.returnUri,terms:e.terms}},context:{headers:{[A.G]:(0,A.V)()}}}),c=null==s?void 0:null===(t=s.data)||void 0===t?void 0:t.registerMemberWithEmail;if((0,eP.lX)(c))return(0,M.w4)(),(0,T.q)(M.hf.SUCCESS),(0,M.n7)(M.hf.SUCCESS),null!=e&&null!==(o=e.terms)&&void 0!==o&&o.length&&(0,eJ.a$)("success",!0),{message:eP.dK.REGISTER_SUCCESS,memberId:null==c?void 0:null===(a=c.member)||void 0===a?void 0:a.id,memberEmail:null==c?void 0:null===(l=c.member)||void 0===l?void 0:l.email,reverifyToken:null==c?void 0:c.reverifyToken};return(0,T.q)(M.hf.FAILURE),(0,M.n7)(`${M.hf.FAILURE}-${(null==c?void 0:null===(n=c.error)||void 0===n?void 0:n.code)||eP.dK.REGISTER_FAILURE}`),(0,eP.zg)(null==c?void 0:null===(i=c.error)||void 0===i?void 0:i.code)}catch(e){return(0,T.q)(M.hf.FAILURE),{message:eP.dK.REGISTER_FAILURE}}},[r]),f=(0,p.useCallback)(async(e,r,t,n)=>{let o,a;t===h.FR.Facebook&&(o=M.hf.FACEBOOK_SUCCESS,a=M.hf.FACEBOOK_FAILURE),t===h.FR.Apple&&(o=M.hf.APPLE_SUCCESS,a=M.hf.APPLE_FAILURE),t===h.FR.Google&&(o=M.hf.GOOGLE_SUCCESS,a=M.hf.GOOGLE_FAILURE);try{var l,s,c;let u=await i({variables:{input:{token:r,refreshToken:n,service:t,grantType:(0,U.hl)(t,!!n),name:e.name,email:e.email,countryCode:e.countryCode,zipCode:e.zipCode,locale:e.locale,terms:e.terms}},context:{headers:{[A.G]:(0,A.V)()}}}),d=null==u?void 0:null===(l=u.data)||void 0===l?void 0:l.registerMemberWithThirdPartyService;if(d&&!(null!=d&&null!==(s=d.errors)&&void 0!==s&&s.length))return(0,M.w4)(),(0,T.q)(o),(0,M.n7)(o),null!=e&&null!==(c=e.terms)&&void 0!==c&&c.length&&(0,eJ.a$)("success",!0),!0;return(0,T.q)(a),(0,M.n7)(a),!1}catch(e){return(0,T.q)(a),(0,M.n7)(a),!1}},[i]),m=(0,p.useCallback)(async e=>{try{var r,t,n;let i=await s({variables:{input:{storeNumber:e.storeNumber,name:e.name,password:e["new-password"],email:e.email,countryCode:e.countryCode,zipCode:e.zipCode,locale:e.locale,captchaCode:e.captcha||"",provider:"Starbucks"}},context:{headers:{[A.G]:(0,A.V)()}}}),o=null==i?void 0:null===(r=i.data)||void 0===r?void 0:r.customRegister;if((0,eP.lX)(o))return(0,M.w4)(),(0,T.q)(M.hf.STARBUCKS_SUCCESS),(0,M.n7)(M.hf.STARBUCKS_SUCCESS),{message:eP.dK.REGISTER_SUCCESS};return(0,T.q)(M.hf.STARBUCKS_FAILURE),(0,M.n7)(`${M.hf.STARBUCKS_FAILURE}-${(null==o?void 0:null===(t=o.error)||void 0===t?void 0:t.code)||eP.dK.REGISTER_FAILURE}`),(0,eP.zg)(null==o?void 0:null===(n=o.error)||void 0===n?void 0:n.code)}catch(e){return(0,T.q)(M.hf.STARBUCKS_FAILURE),{message:eP.dK.REGISTER_FAILURE}}},[s]);return(0,p.useEffect)(()=>{(t||o||c)&&e((0,G.jsx)(j.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rX(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rX(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},ew.Z.registerError)),{type:S.Dy.ERROR,autoClose:!0})},[t,o,c,e]),{register:d,socialRegister:f,starbucksRegister:m,loading:a||n||u}};function r0(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function r1(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?r0(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r0(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let r2={},r8=$.Ps`
  mutation reverifyMember($input: ReverifyMemberInput!) {
    reverifyMember(input: $input) {
      error {
        ...Error
      }
    }
  }
  ${z.vN}
`;function r4(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var r7=e=>{let{sendNotification:r}=(0,S.ZP)(),[t,{error:n,loading:i}]=function(e){let r=r1(r1({},r2),void 0);return rE.D(r8,r)}();(0,p.useEffect)(()=>{n&&r((0,G.jsx)(j.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?r4(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r4(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},e?ew.Z.reverifyRequestEmailError:F.Z.reverifyRequestEmailError)),{type:S.Dy.ERROR,autoClose:!0})},[n,e,r]);let o=(0,p.useCallback)(async r=>{try{var n,i;let o=await t({variables:{input:{reverifyToken:r.reverifyToken,memberId:Number(r.memberId),emailRedirectTo:""}}});if(!(null!=o&&null!==(n=o.data)&&void 0!==n&&null!==(i=n.reverifyMember)&&void 0!==i&&i.error))return(0,T.q)(e?M.hf.REVERIFY_REQUEST_EMAIL_AGAIN_SUCCESS:M.Mk.REVERIFY_REQUEST_EMAIL_AGAIN_SUCCESS),!0;return(0,T.q)(e?M.hf.REVERIFY_REQUEST_EMAIL_AGAIN_FAILURE:M.Mk.REVERIFY_REQUEST_EMAIL_AGAIN_FAILURE),!1}catch(r){return(0,T.q)(e?M.hf.REVERIFY_REQUEST_EMAIL_AGAIN_FAILURE:M.Mk.REVERIFY_REQUEST_EMAIL_AGAIN_FAILURE),!1}},[t,e]);return{loading:i,reverifyMember:o}};function r9(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function r6(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?r9(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r9(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let r3=484;function r5(e){let{isModal:r,onLoginSuccess:t,onRegisterSuccess:n,isOpen:i,onClose:o,initialState:a,onAuthModalToggleView:l,queryParams:s}=e,{query:u,asPath:g}=(0,f.useRouter)(),y=r6(r6({},u),s),E=a===U.f7.REGISTER,j=a===U.f7.FORGOT_PASSWORD,{loading:h,login:R,sendForgotPassword:S,resendVerificationCode:C,checkVerificationCode:I}=rM(),{register:x,socialRegister:w,starbucksRegister:P,loading:Z}=rJ(),{facebookLogin:N,loading:k}=B(),{reverifyMember:D,loading:A}=r7(E),T=(0,L.S7)(`${(0,O.JL)(y)||(r?`${v.mCZ}${g}`:(0,v.cdl)())}`),F=(0,U.sh)(r6(r6({},y),{},{[O.R9]:T})),{registerUrl:M,loginUrl:V}=(0,_.Z)(T,s),K=(0,p.useMemo)(()=>d()(e=>function(){let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e===U.f7.REGISTER&&!i&&F){(0,L.d8)((0,v.bjX)(T,s),v.irs);return}r?(e===U.f7.LOGIN&&(null==t||t()),e===U.f7.REGISTER&&(null==n||n())):(0,L.d8)(T,v.irs)}),[r,T,t,n,s,F]),q=(0,p.useCallback)(()=>{r?l():(0,v.irs)(E?V:M)},[E,r,V,M,l]),W=E?(0,G.jsx)(ry,{returnUrl:T,registerHandler:x,socialRegisterHandler:w,isLoading:Z||A,onRegisterSuccess:K(U.f7.REGISTER),isModal:r,reverifyMember:D,onLoginClick:q,starbucksRegisterHandler:P,extraParams:s}):(0,G.jsx)(ez,{returnUrl:T,loginHandler:R,forgotPasswordHandler:S,facebookLoginHandler:N,isLoading:h||k||A,resendVerificationCodeHandler:C,checkVerificationCodeHandler:I,onLoginSuccess:K(U.f7.LOGIN),isModal:r,reverifyMember:D,onRegisterClick:q,extraParams:s,disableBackButton:j,initialView:j?L.f7.FORGOT_PASSWORD:void 0});return(0,G.jsx)("div",{className:"flex flex-col items-center flex-grow",children:r?(0,G.jsx)(m.default,{isOpen:i,onClose:o,dataEventLabel:E?"Register modal":"Login modal",closeBtnDataEventLabel:E?"register-close-modal":"login-close-modal",className:c()("pl-0 pr-0 sm:pl-10 sm:pr-10","a27i9ef"),children:(0,G.jsx)("div",{className:"flex flex-col items-center px-6 sm:px-0",children:W})}):(0,G.jsx)(b.Z,{noPadding:E,className:c()("w-full flex flex-col items-center mb-16 mt-4 sm:mt-10"),children:(0,G.jsx)("div",{className:c()("sm:border sm:border-gray2 sm:rounded-lg sm:p-8 sm:pb-15 relative w-full flex flex-col items-center","d1jywajc"),children:W})})})}t(6512)},88389:function(e,r,t){"use strict";let n,i;t.d(r,{Ro:function(){return g},S7:function(){return v},YM:function(){return y},d8:function(){return O},dx:function(){return n},e$:function(){return j},f7:function(){return i},gC:function(){return E}});var o,a,l=t(59499),s=t(44012),c=t(95009),u=t(38349),d=t(71527),f=t(69125),p=t(85893);function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}(o=n||(n={})).LOGIN_SUCCESS="login-succeeded",o.SIFT_VERIFICATION_REQUIRED="login-sift-verification-required",o.CHECK_VERIFICATION_CODE_SUCCESS="login-check-verification-code-succeeded",o.CHECK_VERIFICATION_CODE_FAILURE="login-check-verification-code-failed",o.REVERIFY_REQUIRED="login-reverify-required",o.LOGIN_FAILURE="login-failed",o.SIFT_VERIFY_ERROR_CODE="member_sift_verify_error",o.REVERIFY_ERROR_CODE="member_sent_reverify_email_error",o.WRONG_CREDENTIALS_CODE="member_wrong_credentials_error",o.RATE_LIMIT_EXCEEDED="member_login_fails_ip_error",o.BLOCKED_IP="member_blocked_ip_error",o.BLOCKED_MEMBER="blocked_member_error",o.PASSWORD_RESET_REQUIRED="member_password_reset_required_error",o.BOUNCED="member_bounced_error",o.INITIAL_3RD_PARTY_REG="member_registered_by_third_party_error",(a=i||(i={})).LOGIN="LOGIN",a.FORGOT_PASSWORD="FORGOT_PASSWORD",a.SIFT_VERIFICATION="SIFT_VERIFICATION",a.REVERIFY_MEMBER="REVERIFY_MEMBER",a.FORGOT_PASSWORD_SUCCESS="FORGOT_PASSWORD_SUCCESS";let O=(e,r)=>{r(e&&"string"==typeof e&&(0,u.En)(e)?e:(0,c.cdl)())},v=e=>{try{return["","/"].includes(new URL(e).pathname)?(0,c.cdl)():e}catch(e){return(0,c.cdl)()}},g=e=>{var r;return(null==e?void 0:e.verificationRequired)&&(null==e?void 0:e.memberId)&&(null==e?void 0:e.memberId)!=="0"&&(null==e?void 0:e.reverifyToken)&&(null==e?void 0:null===(r=e.error)||void 0===r?void 0:r.code)===n.SIFT_VERIFY_ERROR_CODE},y=e=>{var r;return(null==e?void 0:e.memberId)&&(null==e?void 0:e.memberId)!=="0"&&(null==e?void 0:e.reverifyToken)&&(null==e?void 0:null===(r=e.error)||void 0===r?void 0:r.code)===n.REVERIFY_ERROR_CODE},E=e=>e&&!(null!=e&&e.error),j=(e,r)=>{switch(e){case n.WRONG_CREDENTIALS_CODE:return(0,p.jsx)(s.Z,b({},d.Z.loginValidationError));case n.RATE_LIMIT_EXCEEDED:case n.BLOCKED_IP:return(0,p.jsx)(s.Z,b({},d.Z.loginRateLimitError));case n.BLOCKED_MEMBER:return(0,p.jsx)(s.Z,b(b({},d.Z.loginBlockedMemberError),{},{values:{helpLink:(0,p.jsx)("a",{href:(0,c.dhN)(),className:"ds-font-body-medium hover:no-underline underline","data-element-name":f.Nh.disabledAccount,children:(0,p.jsx)(s.Z,b({},d.Z.helpCenter))})}}));case n.BOUNCED:return(0,p.jsx)(s.Z,b(b({},d.Z.loginBouncedError),{},{values:{helpLink:(0,p.jsx)("a",{href:(0,c.tBC)(),className:"ds-font-body-medium hover:no-underline underline","data-element-name":f.Nh.supportTicket,children:(0,p.jsx)(s.Z,b({},d.Z.submitRequest))})}}));case n.PASSWORD_RESET_REQUIRED:return(0,p.jsx)(s.Z,b(b({},d.Z.loginPasswordResetError),{},{values:{forgotPasswordLink:(0,p.jsx)("a",{onClick:r,href:(0,c.TtQ)(),className:"ds-font-body-medium hover:no-underline underline","data-element-name":f.Nh.forgotPassword,children:(0,p.jsx)(s.Z,b({},d.Z.here))})}}));case n.REVERIFY_ERROR_CODE:return(0,p.jsx)(s.Z,b({},d.Z.reverifyError));case n.INITIAL_3RD_PARTY_REG:return(0,p.jsx)(s.Z,b(b({},d.Z.initial3rdPartyError),{},{values:{LINK:(0,p.jsx)("a",{onClick:r,href:(0,c.TtQ)(),className:"ds-font-body-medium hover:no-underline underline","data-element-name":f.Nh.forgotPassword,children:(0,p.jsx)(s.Z,b({},d.Z.initial3rdPartyErrorLink))})}}));default:return(0,p.jsx)(s.Z,b({},d.Z.loginError))}}},95638:function(e,r,t){"use strict";var n=t(67294),i=t(90953),o=t(10873),a=t(69942),l=t(49042);r.Z=()=>{var e,r;let[t,{data:s,error:c,called:u}]=(0,i.G)(),d=c||(null==s?void 0:null===(e=s.loginWithThirdPartyService)||void 0===e?void 0:e.error),f=!!(u&&s&&!c&&!(null!=s&&null!==(r=s.loginWithThirdPartyService)&&void 0!==r&&r.error)),p=(0,n.useCallback)((e,r,n)=>{var i;return t({variables:{input:{token:e,refreshToken:n,grantType:(0,l.hl)(r,!!n),service:r}},context:{headers:{[o.eX]:null===(i=(0,o.pc)())||void 0===i?void 0:i.token,[a.G]:(0,a.V)()}}})},[t]);return{login:p,loginError:d,loginSuccess:f,called:u}}},69942:function(e,r,t){"use strict";t.d(r,{G:function(){return i},V:function(){return o}});var n=t(8773);let i="X-Tracking-Request-Id",o=()=>(0,n.Z)()},25804:function(e,r,t){"use strict";t.d(r,{Ar:function(){return o}});let n={"$.com":["gmail","fastmail","protonmail"],"mail.$.com":["yahoo","aol"],"outlook.live.com":["msn","hotmail","live"],"icloud.com/mail/":["icloud"]},i=e=>{let r=e.lastIndexOf("@");return r<0?"":e.slice(r+1).toLowerCase()},o=e=>{let r;let t=i(e),o=Object.keys(n).find(e=>{let i=n[e],o=i.find(e=>t.startsWith(e));return r=o,!!o});if(o)return`https://${o.replace("$",r)}`}},6512:function(e){e.exports={a27i9ef:"a27i9ef",d1jywajc:"d1jywajc"}},48594:function(e){e.exports={c1jwr8t4:"c1jwr8t4"}},45123:function(e){e.exports={c1akf99s:"c1akf99s"}},26449:function(e){e.exports={sq0xflc:"sq0xflc"}},82884:function(e){e.exports={dljoyr2:"dljoyr2"}},25400:function(e){e.exports={sbdsy28:"sbdsy28"}},19414:function(e){e.exports={c1g28vq9:"c1g28vq9"}}}]);