(function($,Drupal,drupalSettings){'use strict';Drupal.behaviors.unicefEsMenu={attach:function(context,settings){$('.off-canvas',context).once('unicef-es-offcanvas').each(function(){var $offCanvas=$(this),$header=$(this).parent().find('header.navbar'),$btn=$('.navbar-toggle'),$hamburguer=$btn.find('.hamburguer-menu'),$offCanvasClose=$offCanvas.find('.off-canvas__close'),$searchBar=$offCanvas.find('.search-api-form'),$user=$offCanvas.find('.user_name'),buttons=$('[data-offcanvas-clone="true"]'),buttonCloned=buttons.clone(),menuLink=$('.menu-item').children('a'),navbarButton=$('.navbar-button').children('a'),$container=$(this).parents('.dialog-off-canvas-main-canvas'),$privateContainer=$(this).parents('.user--private-area'),$mainContainer=$container.children('main'),$mainContainerPrivate=$privateContainer.children('main');buttonCloned.addClass('d-none d-md-block');$offCanvas.find('.off-canvas-buttons').append(buttonCloned);if($user)$searchBar.after($user);$btn.click(function(){var $profileMenu=$('#submenu-colab-list li ul.menu'),$linkProfile=$('#submenu-colab-list .has-submenu');if(!$(this).hasClass('nav-ico')&&!$profileMenu.hasClass('open'))$linkProfile.trigger('click');manageOffCanvas()});$offCanvasClose.click(function(){var $profileMenu=$('#submenu-colab-list li ul.menu'),$backProfile=$('#submenu-colab-list .back-to-menu');if($profileMenu.hasClass('open'))setTimeout(function(){$backProfile.trigger('click')},800);manageOffCanvas()});menuLink.click(function(){if(this.hash)manageOffCanvas()});navbarButton.click(function(){$('body').removeClass('scroll-lock');$offCanvas.removeClass('open');$hamburguer.removeClass('open')});$mainContainer.add($mainContainerPrivate).click(function(){$('body').removeClass('scroll-lock');$offCanvas.removeClass('open');$hamburguer.removeClass('open');if(typeof fullpage_api!=='undefined')$offCanvas.hasClass('open')?fullpage_api.setAllowScrolling(false):fullpage_api.setAllowScrolling(true)})
function manageOffCanvas(){$offCanvas.toggleClass('open');$hamburguer.toggleClass('open');$header.toggleClass('menu-open');if(typeof fullpage_api!=='undefined')$offCanvas.hasClass('open')?fullpage_api.setAllowScrolling(false):fullpage_api.setAllowScrolling(true);if($offCanvas.hasClass('open')){$('body').addClass('scroll-lock')}else $('body').removeClass('scroll-lock')}});$('.off-canvas-menu',context).once('unicef-es-offmenu').each(function(){var $menu=$(this),$offCanvas=$('.off_canvas__content');$menu.find('.has-submenu').click(function(){$offCanvas.toggleClass('hideleft');$(this).parent().find('> ul.menu').toggleClass('open')});$menu.find('.back-to-menu').click(function(){$(this).parents('ul.menu').removeClass('open');$offCanvas.toggleClass('hideleft')});$menu.find('.has-dropdown').click(function(){$(this).parent().find('.dropdown').slideToggle(200);$(this).parent().find('.off-canvas-links-icons--dropdown svg').toggleClass('turn')})});$('.off-canvas .block-unicef-commerce-inspired-gifts',context).once('unicef-es-cart').each(function(){var block=$(this),$offCanvas=$('.off_canvas__content');block.find('.has-items').click(function(){$offCanvas.toggleClass('hideleft');$(this).parent().find('.cart-block--contents').toggleClass('open')});block.find('.back-to-canvas').click(function(){$('.cart-block--contents').removeClass('open');$offCanvas.toggleClass('hideleft')})})}}})(jQuery,Drupal,drupalSettings);
(function($,Drupal){'use strict';Drupal.behaviors.unicefEsPreload={attach:function(context,settings){$('.preload, .preload-hide').removeClass('preload preload-hide')}}})(jQuery,Drupal);
(function($,once){var deprecatedMessageSuffix="is deprecated in Drupal 9.3.0 and will be removed in Drupal 10.0.0. Use the core/once library instead. See https://www.drupal.org/node/3158256",originalJQOnce=$.fn.once,originalJQRemoveOnce=$.fn.removeOnce;$.fn.once=function jQueryOnce(id){Drupal.deprecationError({message:"jQuery.once() ".concat(deprecatedMessageSuffix)});return originalJQOnce.apply(this,[id])};$.fn.removeOnce=function jQueryRemoveOnce(id){Drupal.deprecationError({message:"jQuery.removeOnce() ".concat(deprecatedMessageSuffix)});return originalJQRemoveOnce.apply(this,[id])};var drupalOnce=once
function augmentedOnce(id,selector,context){originalJQOnce.apply($(selector,context),[id]);return drupalOnce(id,selector,context)}
function remove(id,selector,context){originalJQRemoveOnce.apply($(selector,context),[id]);return drupalOnce.remove(id,selector,context)};window.once=Object.assign(augmentedOnce,drupalOnce,{remove:remove})})(jQuery,once);
(function($,Drupal,document,window,performance){'use strict';Drupal.behaviors.unicefEsProgress={attach:function(context,settings){$('header progress',context).once('unicef-es-progress').each(function(){var config={},updateProgressBar=function(){if($.isEmptyObject(config)){config.start=performance.now();config.total=50};config.elapsed=performance.now()-config.start;var progress=config.elapsed/config.total;if(progress<1){requestAnimationFrame(updateProgressBar)}else{var totalScrollAvailable=$(document).height()-$(window).height(),scrollProgress=$(window).scrollTop();$('header progress',context).attr('max',totalScrollAvailable);$('header progress',context).attr('value',scrollProgress)}};$(window).scroll(function(){updateProgressBar()})})}}})(jQuery,Drupal,document,window,performance);
(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global.ResizeObserver=factory())}(this,(function(){'use strict';var MapShim=(function(){if(typeof Map!=='undefined')return Map
function getIndex(arr,key){var result=-1;arr.some(function(entry,index){if(entry[0]===key){result=index;return true};return false});return result};return(function(){function class_1(){this.__entries__=[]};Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:true,configurable:true});class_1.prototype.get=function(key){var index=getIndex(this.__entries__,key),entry=this.__entries__[index];return entry&&entry[1]};class_1.prototype.set=function(key,value){var index=getIndex(this.__entries__,key);if(~index){this.__entries__[index][1]=value}else this.__entries__.push([key,value])};class_1.prototype.delete=function(key){var entries=this.__entries__,index=getIndex(entries,key);if(~index)entries.splice(index,1)};class_1.prototype.has=function(key){return!!~getIndex(this.__entries__,key)};class_1.prototype.clear=function(){this.__entries__.splice(0)};class_1.prototype.forEach=function(callback,ctx){if(ctx===void(0))ctx=null;for(var _i=0,_a=this.__entries__;_i<_a.length;_i++){var entry=_a[_i];callback.call(ctx,entry[1],entry[0])}};return class_1}())})(),isBrowser=typeof window!=='undefined'&&typeof document!=='undefined'&&window.document===document,global$1=(function(){if(typeof global!=='undefined'&&global.Math===Math)return global;if(typeof self!=='undefined'&&self.Math===Math)return self;if(typeof window!=='undefined'&&window.Math===Math)return window;return Function('return this')()})(),requestAnimationFrame$1=(function(){if(typeof requestAnimationFrame==='function')return requestAnimationFrame.bind(global$1);return function(callback){return setTimeout(function(){return callback(Date.now())},1e3/60)}})(),trailingTimeout=2
function throttle(callback,delay){var leadingCall=false,trailingCall=false,lastCallTime=0
function resolvePending(){if(leadingCall){leadingCall=false;callback()};if(trailingCall)proxy()}
function timeoutCallback(){requestAnimationFrame$1(resolvePending)}
function proxy(){var timeStamp=Date.now();if(leadingCall){if(timeStamp-lastCallTime<trailingTimeout)return;trailingCall=true}else{leadingCall=true;trailingCall=false;setTimeout(timeoutCallback,delay)};lastCallTime=timeStamp};return proxy};var REFRESH_DELAY=20,transitionKeys=['top','right','bottom','left','width','height','size','weight'],mutationObserverSupported=typeof MutationObserver!=='undefined',ResizeObserverController=(function(){function ResizeObserverController(){this.connected_=false;this.mutationEventsAdded_=false;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)};ResizeObserverController.prototype.addObserver=function(observer){if(!~this.observers_.indexOf(observer))this.observers_.push(observer);if(!this.connected_)this.connect_()};ResizeObserverController.prototype.removeObserver=function(observer){var observers=this.observers_,index=observers.indexOf(observer);if(~index)observers.splice(index,1);if(!observers.length&&this.connected_)this.disconnect_()};ResizeObserverController.prototype.refresh=function(){var changesDetected=this.updateObservers_();if(changesDetected)this.refresh()};ResizeObserverController.prototype.updateObservers_=function(){var activeObservers=this.observers_.filter(function(observer){return observer.gatherActive(),observer.hasActive()});activeObservers.forEach(function(observer){return observer.broadcastActive()});return activeObservers.length>0};ResizeObserverController.prototype.connect_=function(){if(!isBrowser||this.connected_)return;document.addEventListener('transitionend',this.onTransitionEnd_);window.addEventListener('resize',this.refresh);if(mutationObserverSupported){this.mutationsObserver_=new MutationObserver(this.refresh);this.mutationsObserver_.observe(document,{attributes:true,childList:true,characterData:true,subtree:true})}else{document.addEventListener('DOMSubtreeModified',this.refresh);this.mutationEventsAdded_=true};this.connected_=true};ResizeObserverController.prototype.disconnect_=function(){if(!isBrowser||!this.connected_)return;document.removeEventListener('transitionend',this.onTransitionEnd_);window.removeEventListener('resize',this.refresh);if(this.mutationsObserver_)this.mutationsObserver_.disconnect();if(this.mutationEventsAdded_)document.removeEventListener('DOMSubtreeModified',this.refresh);this.mutationsObserver_=null;this.mutationEventsAdded_=false;this.connected_=false};ResizeObserverController.prototype.onTransitionEnd_=function(_a){var _b=_a.propertyName,propertyName=_b===void(0)?'':_b,isReflowProperty=transitionKeys.some(function(key){return!!~propertyName.indexOf(key)});if(isReflowProperty)this.refresh()};ResizeObserverController.getInstance=function(){if(!this.instance_)this.instance_=new ResizeObserverController();return this.instance_};ResizeObserverController.instance_=null;return ResizeObserverController}()),defineConfigurable=(function(target,props){for(var _i=0,_a=Object.keys(props);_i<_a.length;_i++){var key=_a[_i];Object.defineProperty(target,key,{value:props[key],enumerable:false,writable:false,configurable:true})};return target}),getWindowOf=(function(target){var ownerGlobal=target&&target.ownerDocument&&target.ownerDocument.defaultView;return ownerGlobal||global$1}),emptyRect=createRectInit(0,0,0,0)
function toFloat(value){return parseFloat(value)||0}
function getBordersSize(styles){var positions=[];for(var _i=1;_i<arguments.length;_i++)positions[_i-1]=arguments[_i];return positions.reduce(function(size,position){var value=styles['border-'+position+'-width'];return size+toFloat(value)},0)}
function getPaddings(styles){var positions=['top','right','bottom','left'],paddings={};for(var _i=0,positions_1=positions;_i<positions_1.length;_i++){var position=positions_1[_i],value=styles['padding-'+position];paddings[position]=toFloat(value)};return paddings}
function getSVGContentRect(target){var bbox=target.getBBox();return createRectInit(0,0,bbox.width,bbox.height)}
function getHTMLElementContentRect(target){var clientWidth=target.clientWidth,clientHeight=target.clientHeight;if(!clientWidth&&!clientHeight)return emptyRect;var styles=getWindowOf(target).getComputedStyle(target),paddings=getPaddings(styles),horizPad=paddings.left+paddings.right,vertPad=paddings.top+paddings.bottom,width=toFloat(styles.width),height=toFloat(styles.height);if(styles.boxSizing==='border-box'){if(Math.round(width+horizPad)!==clientWidth)width-=getBordersSize(styles,'left','right')+horizPad;if(Math.round(height+vertPad)!==clientHeight)height-=getBordersSize(styles,'top','bottom')+vertPad};if(!isDocumentElement(target)){var vertScrollbar=Math.round(width+horizPad)-clientWidth,horizScrollbar=Math.round(height+vertPad)-clientHeight;if(Math.abs(vertScrollbar)!==1)width-=vertScrollbar;if(Math.abs(horizScrollbar)!==1)height-=horizScrollbar};return createRectInit(paddings.left,paddings.top,width,height)};var isSVGGraphicsElement=(function(){if(typeof SVGGraphicsElement!=='undefined')return function(target){return target instanceof getWindowOf(target).SVGGraphicsElement};return function(target){return(target instanceof getWindowOf(target).SVGElement&&typeof target.getBBox==='function')}})()
function isDocumentElement(target){return target===getWindowOf(target).document.documentElement}
function getContentRect(target){if(!isBrowser)return emptyRect;if(isSVGGraphicsElement(target))return getSVGContentRect(target);return getHTMLElementContentRect(target)}
function createReadOnlyRect(_a){var x=_a.x,y=_a.y,width=_a.width,height=_a.height,Constr=typeof DOMRectReadOnly!=='undefined'?DOMRectReadOnly:Object,rect=Object.create(Constr.prototype);defineConfigurable(rect,{x:x,y:y,width:width,height:height,top:y,right:x+width,bottom:height+y,left:x});return rect}
function createRectInit(x,y,width,height){return{x:x,y:y,width:width,height:height}};var ResizeObservation=(function(){function ResizeObservation(target){this.broadcastWidth=0;this.broadcastHeight=0;this.contentRect_=createRectInit(0,0,0,0);this.target=target};ResizeObservation.prototype.isActive=function(){var rect=getContentRect(this.target);this.contentRect_=rect;return(rect.width!==this.broadcastWidth||rect.height!==this.broadcastHeight)};ResizeObservation.prototype.broadcastRect=function(){var rect=this.contentRect_;this.broadcastWidth=rect.width;this.broadcastHeight=rect.height;return rect};return ResizeObservation}()),ResizeObserverEntry=(function(){function ResizeObserverEntry(target,rectInit){var contentRect=createReadOnlyRect(rectInit);defineConfigurable(this,{target:target,contentRect:contentRect})};return ResizeObserverEntry}()),ResizeObserverSPI=(function(){function ResizeObserverSPI(callback,controller,callbackCtx){this.activeObservations_=[];this.observations_=new MapShim();if(typeof callback!=='function')throw new TypeError('The callback provided as parameter 1 is not a function.');this.callback_=callback;this.controller_=controller;this.callbackCtx_=callbackCtx};ResizeObserverSPI.prototype.observe=function(target){if(!arguments.length)throw new TypeError('1 argument required, but only 0 present.');if(typeof Element==='undefined'||!(Element instanceof Object))return;if(!(target instanceof getWindowOf(target).Element))throw new TypeError('parameter 1 is not of type "Element".');var observations=this.observations_;if(observations.has(target))return;observations.set(target,new ResizeObservation(target));this.controller_.addObserver(this);this.controller_.refresh()};ResizeObserverSPI.prototype.unobserve=function(target){if(!arguments.length)throw new TypeError('1 argument required, but only 0 present.');if(typeof Element==='undefined'||!(Element instanceof Object))return;if(!(target instanceof getWindowOf(target).Element))throw new TypeError('parameter 1 is not of type "Element".');var observations=this.observations_;if(!observations.has(target))return;observations.delete(target);if(!observations.size)this.controller_.removeObserver(this)};ResizeObserverSPI.prototype.disconnect=function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};ResizeObserverSPI.prototype.gatherActive=function(){var _this=this;this.clearActive();this.observations_.forEach(function(observation){if(observation.isActive())_this.activeObservations_.push(observation)})};ResizeObserverSPI.prototype.broadcastActive=function(){if(!this.hasActive())return;var ctx=this.callbackCtx_,entries=this.activeObservations_.map(function(observation){return new ResizeObserverEntry(observation.target,observation.broadcastRect())});this.callback_.call(ctx,entries,ctx);this.clearActive()};ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)};ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0};return ResizeObserverSPI}()),observers=typeof WeakMap!=='undefined'?new WeakMap():new MapShim(),ResizeObserver=(function(){function ResizeObserver(callback){if(!(this instanceof ResizeObserver))throw new TypeError('Cannot call a class as a function.');if(!arguments.length)throw new TypeError('1 argument required, but only 0 present.');var controller=ResizeObserverController.getInstance(),observer=new ResizeObserverSPI(callback,controller,this);observers.set(this,observer)};return ResizeObserver}());['observe','unobserve','disconnect'].forEach(function(method){ResizeObserver.prototype[method]=function(){var _a;return(_a=observers.get(this))[method].apply(_a,arguments)}});var index=(function(){if(typeof global$1.ResizeObserver!=='undefined')return global$1.ResizeObserver;return ResizeObserver})();return index})));
(function($,Drupal,document,window){'use strict';Drupal.behaviors.unicefEsMobileViewportFix={attach:function(context,settings){$(document,context).once('unicef-es-mobile-viewport-fix').each(function(){var initialVh=window.innerHeight*0.01;document.documentElement.style.setProperty('--vh',initialVh+'px');var windowWidth=$(window).width(),observer=new ResizeObserver(function(entries){entries.forEach(function(entry){if(entry.contentRect.width!==windowWidth){var vh=window.innerHeight*0.01;document.documentElement.style.setProperty('--vh',vh+'px');windowWidth=entry.contentRect.width}})});observer.observe(document.body)})}}})(jQuery,Drupal,document,window);
(function($,Drupal){'use strict';Drupal.behaviors.unicefInstabro={attach:function(context,settings){var ua=navigator.userAgent||navigator.vendor||window.opera,isInstagram=(ua.indexOf('Instagram')>-1)?true:false;if(isInstagram)$('body').addClass('is-instagram')}}})(jQuery,Drupal);
(function($,Drupal){'use strict';Drupal.behaviors.unicefDataLayer={attach:function(context){$('form',context).each(function(){var $form=$(this);$form.on('invalid-form.validate',function(event){if($(this).validate().valid()||typeof dataLayer==='undefined')return false;dataLayer.push({event:'gtm.formError','gtm.element':$(this).validate().currentForm,'gtm.elementClasses':$(this).attr('class'),'gtm.elementId':$(this).attr('id'),'gtm.elementTarget':event.target.target||'','gtm.elementUrl':window.location.href,'gtm.formSubmitElement':$(this).validate().submitButton})})})}}}(jQuery,Drupal));
