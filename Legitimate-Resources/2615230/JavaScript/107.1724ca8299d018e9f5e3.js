(window.webpackJsonpDelete=window.webpackJsonpDelete||[]).push([[107],{620:function(e,n,t){e.exports={meta:'\'{"e":".overlay","f":[]}\''}},87:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t(620),t(305),t(28),t(23),t(35),t(24);var i=new(function(){function e(n,t){var i,s,a=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),s=function(){a.overlayClickCallbacks.forEach((function(e){return e()}))},(i="_invokeOverlayClick")in this?Object.defineProperty(this,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[i]=s,this.id=n,this.className=t,this.retainers={},this.isShown=!1,this._element=document.getElementById(this.id),this.overlayClickCallbacks=[],this.initElement()}var n;return(n=[{key:"initElement",value:function(){this.getElement().addEventListener("click",this._invokeOverlayClick)}},{key:"show",value:function(e){var n=this.getElement();n&&(this.retainers[e]=!0,this.isShown||(n.classList.add("is-visible"),this.isShown=!0))}},{key:"hide",value:function(e){var n=this.getElement();n&&(this.retainers[e]=!1,this.isFree()&&(n.classList.remove("is-visible"),this.isShown=!1))}},{key:"isFree",value:function(){var e=this;return Object.keys(this.retainers).every((function(n){return!1===e.retainers[n]}))}},{key:"getElement",value:function(){return this._element||(this._element=document.createElement("div"),this._element.id=this.id,this._element.className=this.className,document.body.appendChild(this._element)),this._element}},{key:"subscribeOnOverlayClick",value:function(e){var n=this;return this.overlayClickCallbacks.push(e),function(){n.overlayClickCallbacks=n.overlayClickCallbacks.filter((function(n){return n!==e}))}}}])&&function(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,n),e}())("overlay","overlay overlay--menu"),s=(t(6),t(185),t(5),t(7),t(186),t(187),t(188),t(189),t(190),t(191),t(192),t(193),t(194),t(195),t(196),t(197),t(198),t(8),t(88)),a=t(381);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=new(function(){function e(n){var t=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_onOverlayClick",(function(){t.closeActive()})),r(this,"_onKeydown",(function(e){27===e.keyCode&&t.closeActive()})),this._overlay=n,this._activeMenuId=null,this._menuMap=new Map,this._menuChangeSubscribers=[],this._overlay.subscribeOnOverlayClick(this._onOverlayClick),document.addEventListener("keydown",this._onKeydown)}var n;return(n=[{key:"closeActive",value:function(){var e=this._getActiveMenu();e&&this._close(e)}},{key:"triggerOpen",value:function(e){var n=this._getMenu(e);if(!n)throw new Error("Menu with id ".concat(e," not found"));this._open(n)}},{key:"triggerClose",value:function(e){var n=this._getActiveMenu();n.id===e&&this._close(n)}},{key:"register",value:function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._menuMap.set(e,{id:e,instance:n,withOverlay:t})}},{key:"_getMenu",value:function(e){return this._menuMap.get(e)}},{key:"subscribeOnActiveMenuChange",value:function(e){this._menuChangeSubscribers.push(e)}},{key:"_getActiveMenu",value:function(){return this._activeMenuId?this._getMenu(this._activeMenuId):null}},{key:"isActive",value:function(e){var n=this._getActiveMenu();return n&&n.id===e}},{key:"_open",value:function(e){var n=this._getActiveMenu();n!==e&&(n&&n.instance.onClose(!0),s.a.lock("menu"),a.a.on(e.instance.element),e.instance.onOpen(e.id),this._setActiveMenuId(e.id),e.withOverlay&&this._overlay.show("menu"),document.documentElement.classList.add("is-menu-opened"))}},{key:"_close",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.instance.onClose(n),this._setActiveMenuId(null),this._overlay.hide("menu"),s.a.unlock("menu"),a.a.off(e.instance.element),document.documentElement.classList.remove("is-menu-opened")}},{key:"_setActiveMenuId",value:function(e){var n=this;this._activeMenuId=e,this._menuChangeSubscribers.forEach((function(e){return e(n._activeMenuId)}))}}])&&function(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,n),e}())(i)}}]);