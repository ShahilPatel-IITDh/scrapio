(window.webpackJsonpDelete=window.webpackJsonpDelete||[]).push([[102],{542:function(e,t,i){e.exports={meta:'\'{"e":".overlay","f":[]}\''}},60:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i(542);var s=new class{constructor(e,t){var i,s;s=()=>{this.overlayClickCallbacks.forEach(e=>e())},(i="_invokeOverlayClick")in this?Object.defineProperty(this,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[i]=s,this.id=e,this.className=t,this.retainers={},this.isShown=!1,this._element=document.getElementById(this.id),this.overlayClickCallbacks=[],this.initElement()}initElement(){this.getElement().addEventListener("click",this._invokeOverlayClick)}show(e){const t=this.getElement();t&&(this.retainers[e]=!0,this.isShown||(t.classList.add("is-visible"),this.isShown=!0))}hide(e){const t=this.getElement();t&&(this.retainers[e]=!1,this.isFree()&&(t.classList.remove("is-visible"),this.isShown=!1))}isFree(){return Object.keys(this.retainers).every(e=>!1===this.retainers[e])}getElement(){return this._element||(this._element=document.createElement("div"),this._element.id=this.id,this._element.className=this.className,document.body.appendChild(this._element)),this._element}subscribeOnOverlayClick(e){return this.overlayClickCallbacks.push(e),()=>{this.overlayClickCallbacks=this.overlayClickCallbacks.filter(t=>t!==e)}}}("overlay","overlay overlay--menu"),n=(i(4),i(148),i(149),i(150),i(151),i(152),i(153),i(154),i(155),i(156),i(157),i(158),i(159),i(160),i(5),i(61)),l=i(308);function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const r=new class{constructor(e){c(this,"_onOverlayClick",()=>{this.closeActive()}),c(this,"_onKeydown",e=>{27===e.keyCode&&this.closeActive()}),this._overlay=e,this._activeMenuId=null,this._menuMap=new Map,this._menuChangeSubscribers=[],this._overlay.subscribeOnOverlayClick(this._onOverlayClick),document.addEventListener("keydown",this._onKeydown)}closeActive(){const e=this._getActiveMenu();e&&this._close(e)}triggerOpen(e){const t=this._getMenu(e);if(!t)throw new Error(`Menu with id ${e} not found`);this._open(t)}triggerClose(e){const t=this._getActiveMenu();t.id===e&&this._close(t)}register(e,t,i=!0){this._menuMap.set(e,{id:e,instance:t,withOverlay:i})}_getMenu(e){return this._menuMap.get(e)}subscribeOnActiveMenuChange(e){this._menuChangeSubscribers.push(e)}_getActiveMenu(){return this._activeMenuId?this._getMenu(this._activeMenuId):null}isActive(e){const t=this._getActiveMenu();return t&&t.id===e}_open(e){const t=this._getActiveMenu();t!==e&&(t&&t.instance.onClose(!0),n.a.lock("menu"),l.a.on(e.instance.element),e.instance.onOpen(e.id),this._setActiveMenuId(e.id),e.withOverlay&&this._overlay.show("menu"),document.documentElement.classList.add("is-menu-opened"))}_close(e,t=!1){e.instance.onClose(t),this._setActiveMenuId(null),this._overlay.hide("menu"),n.a.unlock("menu"),l.a.off(e.instance.element),document.documentElement.classList.remove("is-menu-opened")}_setActiveMenuId(e){this._activeMenuId=e,this._menuChangeSubscribers.forEach(e=>e(this._activeMenuId))}}(s)}}]);