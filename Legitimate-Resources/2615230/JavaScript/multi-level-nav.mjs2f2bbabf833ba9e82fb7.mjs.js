(window.webpackJsonpDelete=window.webpackJsonpDelete||[]).push([[293],{1099:function(t,e,s){t.exports={meta:'\'{"e":".multi-level-nav","f":[]}\''}},1416:function(t,e,s){"use strict";s.r(e),s(1099);var i=s(2),r=(s(4),s(20),s(5),s(417)),a=s.n(r),c=s(29),n=s(213),o=s(211);function h(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const l=300,d="linear",g="is-hidden",b="nav-bar--with-hub-selector";class u extends i.a{constructor(...t){super(...t),h(this,"_handleHubSelectorTriggerClick",()=>{this.refs.headerTopBar.classList.add(b),this.refs.hubSelector&&this.refs.hubSelector.classList.remove(g)}),h(this,"_onBackClick",()=>{this.refs.hubSelector&&this.refs.hubSelector.classList.add(g),this.refs.headerTopBar&&this.refs.headerTopBar.classList.remove(b),this._goBack()}),h(this,"_openTargetPanel",(t,e)=>{try{this._showItem(t).then(()=>{e&&e()})}catch(t){console.log(t)}})}static getNamespace(){return"multi-level-nav"}static getRequiredRefs(){return["root","triggers","items"]}onInit(){this.stack=[this.refs.root],this.itemsById=a()(this.refs.items,t=>t.getAttribute("data-id")),this.refs.triggers.forEach(t=>{const e=t.getAttribute("data-target");this.addListener(t,"click",this._onTriggerClick.bind(this,e))}),this.refs.back.forEach(t=>this.addListener(t,"click",this._onBackClick)),n.a.addListener(o.a.EVENT_NAV_PANEL_TRIGGER,({targetId:t,callback:e})=>this._openTargetPanel(t,e)),this.refs.hubSelectorTrigger&&this.addListener(this.refs.hubSelectorTrigger,"click",this._handleHubSelectorTriggerClick)}_onTriggerClick(t){this._showItem(t)}_showItem(t){return new Promise((e,s)=>{try{const s=this.itemsById[t];if(!s)return void console.warn("No items for id "+t);const i=this.stack[this.stack.length-1];Object(c.a)({targets:i,opacity:[1,0],zIndex:[1,0],duration:l,easing:d}),s.style.visibility="visible",Object(c.a)({targets:s,opacity:[0,1],zIndex:[0,1],duration:l,easing:d,complete:()=>{this.stack.push(s),this.element.classList.add("is-back-btn-enabled"),e()}})}catch(t){s(t)}})}_goBack(){if(this.stack.length>1){const t=this.stack.pop();Object(c.a)({targets:t,opacity:[1,0],zIndex:[1,0],duration:l,easing:d,complete:()=>{t.style.visibility="hidden"}})}const t=this.stack[this.stack.length-1];t.style.visibility="visible",Object(c.a)({targets:t,opacity:[0,1],zIndex:[0,1],duration:l,easing:d,complete:()=>{1===this.stack.length&&this.element.classList.remove("is-back-btn-enabled")}})}}i.b.register(u)}},[[1416,0,1,3,2,4,5,6,7,8,17,48,80,126,422,130]]]);