(window.webpackJsonpDelete=window.webpackJsonpDelete||[]).push([[58],{423:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n(4),n(20),n(5);var s=n(115);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t={},n){this._content=e,this._service=n,this._isOpened=!1,this.element=null,this.options=i(i({},this.getDefaultOptions()),t),this.close=this.close.bind(this),this._onKeydown=this._onKeydown.bind(this)}getDefaultOptions(){return{destroyOnClose:!1,onClose:null,onOpen:null}}open(){this._service.open(this)}close(){this._service.close(this)}_init(){this.closeElements=[...this.element.querySelectorAll(`[${this._service.options.namespace}-close]`)],this.wrapperElement=this.element.querySelector(`[${this._service.options.namespace}-wrapper]`)}_onOpen(){return this._addListeners(),this.options.onOpen&&this.options.onOpen(),this._isOpened=!0,new Promise(e=>{setTimeout(()=>{this._isOpened&&this.element&&(this.element.classList.add(this._service.options.classIsOpened),this.element.style["-webkit-overflow-scrolling"]="touch",this.element.removeAttribute("aria-hidden"),e())},0)})}_onClose(){return this.element.style["-webkit-overflow-scrolling"]="auto",this.element.classList.remove(this._service.options.classIsOpened),this.element.classList.add(this._service.options.classIsClosing),this.element.setAttribute("aria-hidden","true"),this._removeListeners(),this.options.onClose&&this.options.onClose(),this._isOpened=!1,new Promise(e=>{setTimeout(()=>{this.element&&(this.element.classList.remove(this._service.options.classIsClosing),this.options.destroyOnClose&&this.destroy()),e()},300)})}destroy(){this._service.close(this),this.element&&this._service.destroy(this)}_onDestroy(){this.element.parentNode.removeChild(this.element),this.element=null}_addListeners(){this.closeElements&&this.closeElements.forEach(e=>e.addEventListener("click",this.close)),document.addEventListener("keydown",this._onKeydown)}_removeListeners(){this.closeElements&&this.closeElements.forEach(e=>e.removeEventListener("click",this.close)),document.removeEventListener("keydown",this._onKeydown)}_onKeydown(e){27===e.keyCode&&this.close()}_getWrapperElement(){return this.wrapperElement}}var a=class{constructor(){this.openedModal=null,this.defaultOptions={namespace:"data-modal",onModalInit:null,onBeforeFirstModalOpen:null,onAfterLastModalClose:null,onModalDestroy:null,container:null,autoCloseOnClickOutside:!0,defaultModalTemplate:e=>'<div data-modal aria-hidden="true">\n                            <div data-modal-wrapper>\n                                <div data-modal-content>\n                                \n                                </div>\n                                <button data-modal-close>\n                                    Close\n                                 </button>\n                            </div>\n                        </div>',classIsOpened:"is-opened",classIsClosing:"is-closing"},this.options=this.defaultOptions,this._setOuterHandler()}_setOuterHandler(){document.addEventListener("touchstart",this._outerClickHandle.bind(this)),document.addEventListener("click",this._outerClickHandle.bind(this))}_outerClickHandle(e){this.openedModal&&this.openedModal.options.autoCloseOnClickOutside&&this.openedModal.element.contains(e.target)&&(this.openedModal._getWrapperElement().contains(e.target)||this.closeOpened())}init(e={}){this.options=i(i({},this.defaultOptions),e),this._setOuterHandler()}create(e,t){return t=i({autoCloseOnClickOutside:this.options.autoCloseOnClickOutside},t),new r(e,t,this)}_createModalElement(e,t){let n="string"==typeof e?Object(s.createElement)(e):e;if(!n)throw new Error("Content argument of the create method must be either a HTMLElement or a string with valid html markup");const o=Object(s.querySelectorParent)(n,`[${this.options.namespace}]`,!0);if(o)n=o;else{const e=Object(s.createElement)(this.options.defaultModalTemplate(t));e.querySelector(`[${this.options.namespace}-content]`).insertAdjacentElement("beforeend",n),n=e}return null!==n.parentNode&&n.ownerDocument===document||this._getContainer().insertAdjacentElement("beforeend",n),n}_getContainer(){return this.options.container||document.body}open(e){this.openedModal!==e&&(null===this.openedModal&&this.options.onBeforeFirstModalOpen&&this.options.onBeforeFirstModalOpen(e),null===e.element&&(e.element=this._createModalElement(e._content,e.options),e._init(this.options),this.options.onModalInit&&this.options.onModalInit(e)),this.openedModal&&this.openedModal._onClose(),e._onOpen(),this.openedModal=e)}close(e){this.openedModal&&this.openedModal===e&&(e._onClose().then(()=>{this.options.onAfterLastModalClose&&this.options.onAfterLastModalClose(e)}),this.openedModal=null)}destroy(e){this.options.onModalDestroy&&this.options.onModalDestroy(e),e._onDestroy()}closeOpened(){this.openedModal&&this.openedModal.close()}};new a}}]);