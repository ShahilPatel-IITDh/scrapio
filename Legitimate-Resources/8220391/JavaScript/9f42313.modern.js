(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{1080:function(e,t,o){var content=o(1408);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(22).default)("3c4a13f2",content,!0,{sourceMap:!1})},1407:function(e,t,o){"use strict";o(1080)},1408:function(e,t,o){var n=o(21)((function(i){return i[1]}));n.push([e.i,'.ws-checkout-time-picker .v-radio{border:3px solid}.ws-checkout-time-picker .v-radio:not(.ws-checkout-time-picker__option--current):hover{background-color:#f5f5f5!important}.ws-checkout-time-picker__option--current{border-color:#323232!important}.ws-checkout-time-picker-option__label{column-gap:8px;grid-template-areas:"date fee" "info fee"}@media only screen and (min-width:600px){.ws-checkout-time-picker-option__label{grid-template-areas:"date info fee";grid-template-columns:auto auto 1fr}}.ws-checkout-time-picker-option-label__date{grid-area:date}.ws-dot-separated-list{grid-area:info}.ws-checkout-time-picker-option-label__fee{grid-area:fee;justify-self:end}.ws-checkout-time-picker .v-label{column-gap:16px;flex-wrap:wrap}',""]),n.locals={},e.exports=n},1568:function(e,t,o){"use strict";o.r(t);var n=o(908),c=o(907),r=(o(41),o(56)),l=o(681),d={name:"WsCheckoutTimePicker",props:{displayableDistributionWindow:{type:Object,required:!0},timeWindowsConfig:{type:Object,required:!0},value:{type:Object,default:void 0}},data:()=>({internalValueId:void 0}),computed:{categorizedTimeSlots(){return this.displayableDistributionWindow.distributionWindow.timeSlots.reduce(((e,t)=>(t.capacity.orderCanBeAccepted?e.available.push(t):e.unavailable.push(t),e)),{available:[],unavailable:[]})},unavailableTimeSlotsMessage(){return this.categorizedTimeSlots.unavailable.map((e=>"".concat(Object(l.a)(e.start,"HH:mm"),"–").concat(Object(l.a)(e.end,"HH:mm")))).join(" · ")}},watch:{value:{handler(e){this.internalValueId=null==e?void 0:e.id},immediate:!0}},created(){this.BOOKED_OUT_WARNING_LIMIT=75,this.checkoutConfig=this.$store.getters["component-config/get"]("checkout");var e=this.$store.getters["component-config/get"]("cart");this.background=e.cartSummaryBackgroundColor||r.a.light},methods:{date_formatDate:l.a,getUnavailableProductLineItemsCountByTimeSlotId(e){var t,o,n;return null!==(t=null===(o=this.displayableDistributionWindow.unavailableSkusByTimeSlotEntry)||void 0===o||null===(n=o[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0}}},m=(o(1407),o(9)),component=Object(m.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"ws-checkout-time-picker"},[e.unavailableTimeSlotsMessage?t("div",{staticClass:"mt-6 body-2 base-color2--text"},[e._v("\n    "+e._s(e.timeWindowsConfig.bookedOutTimeWindowsHeadline)+"\n    "),t("div",{staticClass:"font-weight-bold"},[e._v("\n      "+e._s(e.unavailableTimeSlotsMessage)+"\n    ")])]):e._e(),e._v(" "),t(c.a,{attrs:{"hide-details":""},model:{value:e.internalValueId,callback:function(t){e.internalValueId=t},expression:"internalValueId"}},e._l(e.categorizedTimeSlots.available,(function(o,c){return t(n.a,{key:"timeSlot-".concat(c),class:["px-4 py-2 py-sm-4",{"ws-checkout-time-picker__option--current":e.value&&e.value.id===o.id}],style:{background:e.background,"border-color":e.background},attrs:{"data-test":"checkout-time-picker-option",value:o.id},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("input",o)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.$emit("input",o)}],mousedown:function(t){return e.$emit("input",o)}},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",{staticClass:"ws-checkout-time-picker-option__label d-grid fill-width"},[t("span",{staticClass:"ws-checkout-time-picker-option-label__date h6 secondary--text"},[e._v("\n            "+e._s("".concat(e.date_formatDate(o.start,"HH:mm"),"–").concat(e.date_formatDate(o.end,"HH:mm")))+"\n          ")]),e._v(" "),e.timeWindowsConfig.capacityLeftText&&o.capacity.bookedPercentage>=e.BOOKED_OUT_WARNING_LIMIT||e.getUnavailableProductLineItemsCountByTimeSlotId(o.id)?t("div",{staticClass:"ws-dot-separated-list body-2"},[e.timeWindowsConfig.capacityLeftText&&o.capacity.bookedPercentage>=e.BOOKED_OUT_WARNING_LIMIT?t("span",{staticClass:"error--text"},[e._v("\n              "+e._s(e.$f(e.timeWindowsConfig.capacityLeftText,["".concat(Math.round(100-o.capacity.bookedPercentage),"%")]))+"\n            ")]):e._e(),e._v(" "),e.getUnavailableProductLineItemsCountByTimeSlotId(o.id)?t("span",{staticClass:"base-color2--text"},[e._v("\n              "+e._s(e.$f(e.checkoutConfig.timeWindowsUnavailableProductsSummary,[e.getUnavailableProductLineItemsCountByTimeSlotId(o.id)]))+"\n            ")]):e._e()]):e._e(),e._v(" "),t("span",{staticClass:"ws-checkout-time-picker-option-label__fee h6 secondary--text"},[e._v("\n            "+e._s(0===o.baseFee&&e.checkoutConfig.timeWindowsFreeOfCharge?e.checkoutConfig.timeWindowsFreeOfCharge:e.$n(o.baseFee))+"\n          ")])])]},proxy:!0}],null,!0)})})),1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);