"use strict";(self.webpackChunkAemPortal=self.webpackChunkAemPortal||[]).push([[960],{7960:function(t,e,n){n.r(e),n.d(e,{addAdobeAnalyticsEloquaID:function(){return k},addUdoProperty:function(){return w},initializeTrackingData:function(){return l},setCart:function(){return h},setConversion:function(){return g},setPageType:function(){return p},setPerformance:function(){return v},setProduct:function(){return d},setProfile:function(){return f},setUxTracking:function(){return y},trackConversion:function(){return D},trackEvent:function(){return P},trackEventAndConversion:function(){return T},trackPageView:function(){return m},trackPartialPageView:function(){return C}});var r,i=n(8433),a=n(5480),o=n(7073),c=n(9902),s=(0,a.O6)("datalayer"),u=function(){function t(){}return t.prototype.withEvent=function(t){return this.event=(0,i.pi)({},t),this},t.prototype.withConversion=function(t){return t.category&&t.detail?(this.conversion=(0,i.pi)({},t),this):(s.error("Interaction#withConversion category or detail missing on given conversion",t),this)},t.prototype.withRawData=function(t){return this.event?this.event.rawdata=t:s.error("Interaction#withRawData called before event was set"),this},t.prototype.withProfile=function(t){return this.profile=t,this},t.prototype.withProduct=function(t){return this.product=t,this},t.prototype.track=function(){if(window.SCS&&window.SCS.datalayer&&window.SCS.datalayer.track)if(r){var t=(0,i.pi)((0,i.pi)({},r),this);s("Interaction > track",t),window.SCS.datalayer.track(t)}else s.error("Interaction#track: Initial tracking data has not yet been set.");else s.warn("Interaction#track: Cannot track event, SCS Datalayer not available at this time. Please check whether utag.sync.js has been loaded")},t}();function l(t,e,n,u,l,p,d,g,h,w){void 0===e&&(e="de"),void 0===n&&(n=c.dP.RES),void 0===p&&(p="scportal"),void 0===d&&(d=a.yv?"prod":"dev"),void 0===h&&(h=!1),void 0===w&&(w=!1),s("SCS.portal.datalayer.initializeTrackingData",arguments),!r||w?(r={page:{path:String(null!=t?t:window.location.pathname),language:e,cfu:n,viewtype:u,template:l},platform:{platform:p,environment:d,context:g}},h||Promise.all([(0,c.Ai)(),o.Cd]).then((function(t){f((0,i.CR)(t,1)[0]),m()})).catch((function(t){s.error("Error on page track",t)}))):s.error("initializeTrackingData: initial call to initializeTrackingData already done")}function f(t){if(r){var e=t.getUser();e&&(r.profile={cfu:e.getSegment(),loggedIn:"login"})}else s.error("setProfile: call initializeTrackingData first")}function p(t){r?r.page.type=t:s.error("setPageType: call initializeTrackingData first")}function d(t){r?r.product=t:s.error("setProduct: call initializeTrackingData first")}function g(t){r?r.conversion=t:s.error("setConversion: call initializeTrackingData first")}function h(t){r?r.cart=t:s.error("setCart: call initializeTrackingData first")}function w(t,e){r?(r.udo||(r.udo={}),r.udo[t]=e):s.error("addUdoProperty: call initializeTrackingData first")}function y(t){r?(r.apps||(r.apps={}),r.apps.uxTracking={active:t}):s.error("setUxTracking: call initializeTrackingData first")}function v(t){r?(r.apps||(r.apps={}),r.apps.performance={active:t}):s.error("Performance: call initializeTrackingData first")}function k(t){r?(r.apps||(r.apps={}),r.apps.analytics||(r.apps.analytics={}),r.apps.analytics.aaeloquaid=t):s.error("addAdobeAnalyticsEloquaID: call initializeTrackingData first")}function S(t){window.SCS&&window.SCS.datalayer&&window.SCS.datalayer.page?window.SCS.datalayer.page(t):s.warn("SCS.datalayer.page not available, utag.sync.js not loaded?")}function m(){r?S(r):s.error("trackPageView: call initializeTrackingData first")}function C(t){r?S((0,i.pi)((0,i.pi)({},r),{page:(0,i.pi)((0,i.pi)({},r.page),{path:String(null!=t?t:window.location.pathname)})})):s.error("trackPageView: call initializeTrackingData first")}function P(t,e,n,r){t&&e&&n&&r?(new u).withEvent({action:t,category:r,label:e,location:n}).track():s.error("Called `trackEvent` without all necessary fields")}function D(t,e,n){t&&e?(new u).withConversion({category:t,detail:e,class:n}).track():s.error("Called `trackConversion` without all necessary fields")}function T(t,e,n,r,i,a,o){t&&e&&n&&r&&i&&a?(new u).withEvent({action:t,category:r,label:e,location:n}).withConversion({category:i,detail:a,class:o}).track():s.error("Called `trackEventAndConversion` without all necessary fields")}},9902:function(t,e,n){n.d(e,{Ai:function(){return p},dP:function(){return r}});var r,i=n(8433),a=n(5480),o=n(5941);!function(t){t.RES="res",t.SME="sme",t.CBU="cbu"}(r||(r={}));var c,s=(0,a.O6)("profile"),u=function(){function t(t){this.data=t}return t.prototype.getId=function(){return this.data.cust_scn},t.prototype.getFirstName=function(){return decodeURIComponent(this.data.cust_fname||"")},t.prototype.getLastName=function(){return decodeURIComponent(this.data.cust_lname||"")},t.prototype.getAuthLevel=function(){return decodeURIComponent(this.data.session_authlevel||"")},t.prototype.getFullName=function(){return this.isSegmentSme()||this.isSegmentCbu()?this.getLastName():[this.getFirstName(),this.getLastName()].filter(Boolean).filter(o.d0).join(" ")},t.prototype.getSegment=function(){return this.data.cust_segment||r.RES},t.prototype.isSegmentSme=function(){return this.getSegment()===r.SME},t.prototype.isSegmentCbu=function(){return this.getSegment()===r.CBU},t.prototype.isSegmentRes=function(){return this.getSegment()===r.RES},t}(),l=function(){function t(t){this.user=t}return t.prototype.getUser=function(){return this.user},t}(),f="scsHeader.profile.loginData";function p(){return c||(c=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch("/etc/profile.json",{credentials:"same-origin"})];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),f in t?[2,new l(new u(t[f]))]:[3,4];case 3:return e=n.sent(),s.error("Profile JSON data not in expected format",e),[2,new l];case 4:return[2,new l]}}))}))}()),c}}}]);
//# sourceMappingURL=960.f6b26c765809b73c833b-legacy.js.map