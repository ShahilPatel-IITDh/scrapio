"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8367],{99266:function(e,t,n){var a,o=n(14924),r=n(67294),u=n(27484),i=n.n(u),c=(0,r.createContext)((a={checkinCtx:null,checkoutCtx:null,currency:"USD",promocode:"",country:"USA",language:"EN",minDate:"today",maxDate:null,maxCheckOutDate:null,minCheckInDate:null,disabledDates:[],mouseOverDate:null,data:{}},(0,o.Z)(a,"currency",null),(0,o.Z)(a,"promocode",""),(0,o.Z)(a,"validPromocode",!1),(0,o.Z)(a,"minStay",{quantity:0,status:""}),(0,o.Z)(a,"checkinDay",null),(0,o.Z)(a,"checkoutDay",null),(0,o.Z)(a,"updateDataCalendar",(function(){})),(0,o.Z)(a,"updateDatesSelected",(function(){})),(0,o.Z)(a,"updateMouseOverDate",(function(){})),(0,o.Z)(a,"updateDisabledDates",(function(){})),(0,o.Z)(a,"resetDataCalendar",(function(){})),(0,o.Z)(a,"updateCurrency",(function(){})),(0,o.Z)(a,"updatePromocode",(function(){})),(0,o.Z)(a,"updateValidPromocode",(function(){})),(0,o.Z)(a,"compareDay",(function(e,t){try{var n=i()(new Date(e)).format("YYYYMMDD"),a=i()(new Date(t)).format("YYYYMMDD");return n>a?1:n===a?0:n<a?-1:null}catch(o){return null}})),(0,o.Z)(a,"updateMinStay",(function(){})),(0,o.Z)(a,"selectedDateIsValidForMiniStay",(function(){})),(0,o.Z)(a,"updateCheckinDay",(function(){})),(0,o.Z)(a,"updateCheckoutDay",(function(){})),(0,o.Z)(a,"differenceDays",(function(e,t){var n=new Date(e),a=new Date(t),o=Math.abs(a.getTime()-n.getTime());return Math.ceil(o/864e5)})),a));t.Z=c},78367:function(e,t,n){n.r(t);var a=n(828),o=n(29815),r=n(85893),u=n(67294),i=n(45697),c=n.n(i),l=n(5152),s=n.n(l),d=n(67814),f=n(99266),h=s()((function(){return n.e(2590).then(n.bind(n,72590))}),{loadableGenerated:{webpack:function(){return[72590]}}}),m=s()((function(){return Promise.all([n.e(5666),n.e(7240)]).then(n.bind(n,47240))}),{loadableGenerated:{webpack:function(){return[47240]}}}),y=function(e){var t=e.isMobile,n=e.monthsToShow,i=e.promocode,c=e.currency,l=e.language,s=e.country,y=e.toggleBoxCalendarHandler,p=e.t,v=e.u,g=e.state,x=e.onMonthChange,D=e.onApplyPromocode,b=e.onDatesUpdate,k=e.isValidPromocode,C=e.checkin,w=e.checkout,M=e.data,S=e.date,Z=e.initDate,j=e.showBanksBell,N=(0,u.useContext)(f.Z);"today"===Z&&(Z=(0,u.useMemo)((function(){var e=new Date;return{year:e.getFullYear(),month:e.getMonth()+1}}),[Z]));var q=(0,u.useState)(""!==i),O=q[0],P=q[1],Y=(0,u.useState)(S.month),R=Y[0],B=Y[1],E=(0,u.useState)(S.year),A=E[0],F=E[1],T=(0,u.useState)(""),V=T[0],I=T[1],U=(0,u.useState)(null),_=U[0],G=U[1],H=(0,u.useState)(null),z=H[0],J=H[1],K=(0,u.useState)([]),L=K[0],Q=K[1],W=(0,u.useState)(w||null),X=W[0],$=W[1],ee=(0,u.useState)(C),te=ee[0],ne=ee[1],ae=(0,u.useState)(w),oe=ae[0],re=ae[1],ue=(0,u.useState)(C),ie=ue[0],ce=ue[1],le=(0,u.useState)(w),se=le[0],de=le[1],fe=(0,u.useState)({quantity:0,status:""}),he=fe[0],me=fe[1],ye=(0,u.useState)({}),pe=ye[0],ve=ye[1];(0,u.useEffect)((function(){I(i)}),[i]),(0,u.useEffect)((function(){x({month:R,year:A})}),[R,A]),(0,u.useEffect)((function(){b({checkin:te,checkout:oe})}),[te,oe]);var ge=function(){B((function(e){return function(e){var t;return e<12?t=e+1:(F((function(e){return e+1})),t=1),t}(e)}))},xe=function(){B((function(e){return function(e){var t;return e>1?t=e-1:(F((function(e){return e-1})),t=12),t}(e)}))},De=function(e){var t=L.filter((function(t){return t>e}))[0];return void 0!==t?t:null},be=function(e){var t=L.filter((function(t){return t<e}));return void 0!==t[t.length-1]?t[t.length-1]:null},ke=function(e){var t=e.quantity,n=e.status;me({quantity:t,status:n})},Ce=function(e){var t=(0,a.Z)(e.split("-"),3),n=t[0],o=t[1],r=t[2],u=new Date(n,Number(o)-1,r);return{key:"".concat(u.getFullYear(),"-").concat(u.getMonth()+1,"-").concat(c),year:Number(u.getFullYear()),month:Number(u.getMonth()+1),day:Number(u.getDate()),date:e}},we=function(e){var t=e.date,n=N.differenceDays(te,t);if(n>28)return!0;var a,r=Ce(te),u=Ce(t),i=[];if(r.date>u.date&&(r=(a=[u,r])[0],u=a[1]),r.month===u.month&&r.year===u.year)i=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{key:0,day:1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{day:1},n=pe.get(e.key),a=e.day-1,o=t.day-1,r=[];a<=o;a+=1)r.push(n[a]);return r}(r,u);else{var c=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{key:0,day:1},t=pe.get(e.key),n=t.length-1,a=[],o=e.day-1;o<=n;o+=1)a.push(t[o]);return a}(r),l=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{key:0,day:1},t=pe.get(e.key),n=e.day,a=[],o=0;o<n;o+=1)a.push(t[o]);return a}(u);i=(0,o.Z)(c).concat((0,o.Z)(l))}var s=function(e){return e.reduce((function(e,t){return{quantity:Math.max(e.quantity,t.quantity)}})).quantity}(i);return ke({quantity:s,status:""}),s<=n};(0,u.useEffect)((function(){var e=new Map;M.forEach((function(t){e.set(t.key,t.nights)})),ve(e)}),[M]);var Me=M.map((function(e,a){var o=null===e||void 0===e?void 0:e.date,u=null===e||void 0===e?void 0:e.nights,i=null===o||void 0===o?void 0:o.month,c=null===o||void 0===o?void 0:o.year;return(0,r.jsx)(h,{index:a,date:o,data:u,showPrevArrow:0===a&&(i>Z.month&&c===Z.year||c>Z.year),showNextArrow:a===n-1,nextMonth:ge,prevMonth:xe,i18n:p.i18n,isMobile:t,state:g,t:p,isMinStayValid:function(e){return we(e)}},a)})),Se=(0,r.jsx)(f.Z.Provider,{value:{checkinCtx:te,checkoutCtx:oe,promocode:i,currency:c,language:l,country:s,data:M,compareDay:N.compareDay,disabledDates:L,minDate:"today",maxDate:null,minCheckInDate:z,maxCheckOutDate:_,minStay:he,checkinDay:ie,checkoutDay:se,updateMouseOverDate:function(e){null!==te&&null===oe&&$(e)},updateDatesSelected:function(e){null===te?(ne(e),G(De(e)),J(be(e)),$(e)):null!==oe?(re(null),ne(e),$(e),G(De(e)),J(be(e))):(G(null),J(null),-1===N.compareDay(e,te)?(re(te),ne(e)):1===N.compareDay(e,te)&&re(e),y())},updateDisabledDates:function(e){var t=e.filter((function(e){return"Close"===e.status})).map((function(e){return e.date}));Q((function(e){var n=(0,o.Z)(e).concat((0,o.Z)(t));return n.filter((function(e,t){return n.indexOf(e)===t})).sort()}))},mouseOverDate:X,updateMinStay:ke,isMinStayValid:we,updateCheckinDay:function(e){return ce(e)},updateCheckoutDay:function(e){return de(e)},differenceDays:N.differenceDays},children:Me}),Ze=t?"flex-col":"justify-between";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative w-full md:pt-1 ",children:[(0,r.jsx)("span",{className:"absolute top-0 right-0 -mr-8 -mt-4 px-4 cursor-pointer",children:(0,r.jsx)(d.G,{icon:"times",className:"fa-lg",onClick:y})}),(0,r.jsxs)("div",{className:"flex ".concat(Ze," items-center"),children:[(0,r.jsx)("div",{className:"w-full flex items-end justify-end py-1",children:j&&(0,r.jsx)(m,{t:p.paymentMethods,u:v.banskbell,language:l,currency:c,showInfo:!1,isMobile:t})}),(0,r.jsxs)("div",{className:"flex flex-wrap items-end pb-4 justify-end px-4 mb-2",children:[(0,r.jsx)("span",{className:"font-thin antialiased text-xs mr-2",children:p.havePromoCode}),(0,r.jsx)("div",{className:"border-b border-hotel-primary py-1 px-2 mr-3",children:(0,r.jsx)("input",{className:"appearance-none bg-transparent border-none w-full text-hotel-gray-700 leading-tight focus:outline-none",type:"text",name:""!==i?"promocode":void 0,"aria-label":"promocode",value:V,onChange:function(e){I(e.target.value)},readOnly:i&&""!==i})}),O?(0,r.jsx)("button",{className:"flex-shrink-0 border border-hotel-danger uppercase text-hotel-danger text-sm py-1 px-2 rounded",type:"button",onClick:function(){P(!1),I(""),D("")},children:p.btnRemovePromoCode}):(0,r.jsx)("button",{className:"flex-shrink-0 border bg-hotel-primary uppercase text-white text-sm py-1 px-4 rounded",type:"button",onClick:function(){V&&(P(!0),D(V))},children:p.btnPromoCode}),!k&&(0,r.jsx)("div",{className:"text-right text-sm flex-grow-0 flex-shrink-0 w-full text-hotel-danger mt-1",children:null===p||void 0===p?void 0:p.invalidPromoCode})]})]})]}),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex flex-wrap",children:Se})})]})};y.propTypes={monthsToShow:c().number,promocode:c().string,t:c().instanceOf(Object).isRequired,toggleBoxCalendarHandler:c().func,currency:c().string.isRequired,u:c().instanceOf(Object).isRequired,isMobile:c().bool,state:c().instanceOf(Object).isRequired,onMonthChange:c().func,onApplyPromocode:c().func,isValidPromocode:c().bool.isRequired,checkin:c().string,checkout:c().string,data:c().instanceOf(Object),language:c().string.isRequired,country:c().string.isRequired,date:c().instanceOf(Object).isRequired,initDate:c().string,onDatesUpdate:c().func.isRequired,showBanksBell:c().bool},y.defaultProps={monthsToShow:2,promocode:"",isMobile:!1,showBanksBell:!0,checkin:null,checkout:null,toggleBoxCalendarHandler:function(){},onApplyPromocode:function(e){return e},onMonthChange:function(e){return e},data:[],initDate:"today"},t.default=y}}]);